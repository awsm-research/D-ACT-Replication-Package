private static java.util.Map<java.lang.String, java.lang.Object> search@@ (java.lang.String to@@ k@@ en@@ , java.util.Map<java.lang.String, java.lang.Object> param@@ s, java.lang.String query@@ Type, java.lang.String s@@ c@@ op@@ e) { try { org.apach@@ e.@@ http@@ .client.@@ m@@ ethod@@ s.@@ Http@@ P@@ os@@ t re@@ quest = org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ create@@ P@@ ost@@ ("@@ /@@ o@@ auth@@ /@@ to@@ k@@ en@@ -@@ info@@ "); org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ set@@ Client@@ Id@@ Sec@@ ret@@ Bas@@ ic@@ Auth@@ H@@ ead@@ er@@ (@@ request@@ ); java.util.List<@@ org.apach@@ e.@@ http@@ .m@@ ess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ > for@@ m = new java.util.ArrayList<@@ >@@ (@@ 4@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .m@@ ess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ query@@ _@@ type@@ ", query@@ Type@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .m@@ ess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ s@@ c@@ op@@ e@@ ", s@@ c@@ op@@ e@@ )); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ to@@ k@@ en@@ )) { for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .m@@ ess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ to@@ k@@ en@@ ", to@@ k@@ en@@ )); } if (@@ param@@ s != null@@ ) { for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .m@@ ess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ param@@ s", org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ enc@@ ode@@ (@@ new org.ovirt.engine.core.utils.@@ ser@@ ial@@ iz@@ ation.@@ json@@ .@@ Json@@ Object@@ Ser@@ ial@@ iz@@ er@@ ().@@ ser@@ ial@@ iz@@ e(@@ param@@ s@@ )@@ ))); } re@@ ques@@ t.@@ set@@ Entity@@ (@@ new org.apach@@ e.@@ http@@ .client.@@ entity@@ .@@ U@@ r@@ l@@ En@@ c@@ ode@@ d@@ For@@ m@@ Entity@@ (@@ for@@ m@@ )); return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s.get@@ Respon@@ s@@ e(@@ request@@ ); } catch (@@ java.lang.Exception ex@@ ) { return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ build@@ Map@@ With@@ Error@@ ("@@ server@@ _@@ error@@ ", ex@@ .get@@ Message@@ ()); } }
private void an@@ al@@ y@@ z@@ e@@ Service@@ Mem@@ ber@@ (c@@ om.@@ th@@ o@@ u@@ g@@ ht@@ wor@@ k@@ s.@@ q@@ do@@ x@@ .model.@@ J@@ ava@@ Cl@@ as@@ s java@@ Class@@ , org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Ser@@ vic@@ e ser@@ vice@@ ) { if (is@@ An@@ not@@ ated@@ With@@ (@@ java@@ Class@@ , Model@@ An@@ not@@ ation@@ s.@@ M@@ ET@@ HO@@ D@@ )) { an@@ al@@ y@@ z@@ e@@ Method@@ (@@ java@@ Class@@ , ser@@ vice@@ ); } else { an@@ al@@ y@@ z@@ e@@ Method@@ (@@ java@@ Class@@ , ser@@ vice@@ ); } }
protected org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er update@@ Entity@@ P@@ has@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ P@@ h@@ ase p@@ has@@ e) { org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ Update@@ s update@@ s = new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ Up@@ dat@@ es@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ U@@ plo@@ ad@@ Image@@ Command.get@@ Command@@ Id()); up@@ dat@@ es.@@ set@@ P@@ has@@ e(@@ p@@ h@@ ase@@ ); return update@@ Entity(@@ up@@ dat@@ es@@ ); }
private boolean mat@@ ch@@ es@@ Protocol@@ C@@ ol@@ on@@ Host@@ C@@ ol@@ on@@ Port@@ (java.lang.String s) { if (@@ s == null@@ ) { return false@@ ; } return ((@@ mat@@ ch@@ es@@ ) (@@ mat@@ ch@@ es@@ )@@ :@@ \@@ S@@ +@@ +@@ +@@ \@@ d@@ +@@ "@@ )@@ \@@ " + (@@ mat@@ ch@@ es@@ )@@ \@@ S@@ +@@ +@@ ) + "@@ \@@ " +@@ "@@ \@@ d@@ +@@ "@@ )@@ \@@ " }@@ "@@ )@@ \@@ " + "@@ \@@ '@@ :@@ \@@ '@@ "@@ )@@ \@@ '@@ :@@ \@@ '@@ "@@ )@@ \@@ '@@ :@@ \@@ '@@ :@@ \@@ '@@ :@@ \@@ '@@ :@@ \@@ '@@ :@@ \@@ '@@ :@@ \@@ '@@ :@@ \@@ '@@ "@@ )@@ \@@ '@@ :@@ \@@ '@@ :@@ \@@ '@@ :@@ \@@ '@@ "@@ )@@ \@@ '@@ :@@ \@@ '@@ :@@ \@@ '@@ "@@ )@@ \@@ '@@ :@@ \@@ '@@ :@@ \@@ '@@
private boolean check@@ Can@@ P@@ er@@ for@@ m@@ Plug@@ Un@@ Plug@@ Disk@@ () { if (org.ovirt.engine.core.bll.@@ Hot@@ Plug@@ Disk@@ To@@ VmCommand.getVm@@ ().get@@ Status@@ ().is@@ Up@@ Or@@ Pa@@ us@@ ed@@ ()) { set@@ Vds@@ Id@@ (org.ovirt.engine.core.bll.@@ Hot@@ Plug@@ Disk@@ To@@ VmCommand.getVm@@ ().get@@ Run@@ On@@ Vds@@ ()); if (!@@ (c@@ an@@ P@@ er@@ for@@ m@@ Disk@@ Hot@@ Plug@@ (disk@@ ))) { return false@@ ; } } if ((@@ (get@@ Plug@@ Action@@ ()) == (org.ovirt.engine.core.common.@@ vdscommands.@@ VDSCommand@@ Type.@@ Hot@@ Plug@@ Disk@@ )) && (@@ old@@ Vm@@ Devic@@ e.get@@ Is@@ Plug@@ ged@@ ())) { return failCanDoAction@@ (EngineMessage.@@ HO@@ T_@@ P@@ LU@@ G@@ _@@ DIS@@ K_@@ I@@ S_NOT_@@ UN@@ P@@ LU@@ G@@ ED); } if ((@@ (get@@ Plug@@ Action@@ ()) == (org.ovirt.engine.core.common.@@ vdscommands.@@ VDSCommand@@ Type.@@ Hot@@ Un@@ Plug@@ Disk@@ )) && (!(@@ old@@ Vm@@ Devic@@ e.get@@ Is@@ Plug@@ ged@@ ()))) { return failCanDoAction@@ (EngineMessage.@@ HO@@ T_@@ UN@@ P@@ LU@@ G@@ _@@ DIS@@ K_@@ I@@ S_NOT_@@ P@@ LU@@ G@@ ED); } return true@@ ; }
public static org.ovirt.engine.core.compat.@@ Version get@@ CompatibilityVersion@@ (@@ org.ovirt.engine.core.compat.@@ Version vm@@ Custom@@ CompatibilityVersion@@ , org.ovirt.engine.core.compat.@@ Version default@@ Version@@ ) { if (vm@@ C@@ ompatibility@@ Version != null@@ ) { return vm@@ Custom@@ CompatibilityVersion@@ ; } else if (vds@@ Group@@ C@@ ompatibility@@ Version != null@@ ) { return vds@@ Group@@ CompatibilityVersion@@ ; } else { return default@@ Version@@ ; } }
@@@ org.ovirt.engine.ui.common.@@ DefaultStringValue("@@ C@@ ust@@ o@@ m C@@ luster on c@@ an in@@ for@@ m Type@@ ") java.lang.String c@@ ustom@@ Storage@@ Type@@ Title@@ ();
@java.lang.Override protected boolean validate@@ () { final org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.bll.@@ Set@@ Vm@@ T@@ ick@@ et@@ Command.getVm@@ (); if (@@ vm == null@@ ) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.@@ Set@@ Vm@@ T@@ ick@@ et@@ Command.@@ can@@ Run@@ Action@@ On@@ Non@@ Manage@@ d@@ Vm@@ ())) { return false@@ ; } final org.ovirt.engine.core.common.businessentities.@@ VM@@ Status stat@@ u@@ s = vm.get@@ Status@@ (); if ((@@ (((@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Up@@ )) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Pa@@ us@@ ed@@ ))) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ P@@ ow@@ er@@ ing@@ Up@@ ))) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ P@@ ow@@ er@@ ing@@ Down@@ ))) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ R@@ eb@@ oot@@ In@@ Progress@@ ))) { return org.ovirt.engine.core.bll.@@ Set@@ Vm@@ T@@ ick@@ et@@ Command.@@ fail@@ Vm@@ Status@@ I@@ l@@ le@@ g@@ al@@ (); } return true@@ ; }
public void f@@ l@@ us@@ h@@ () { network@@ .set@@ DataCenter@@ Id@@ (get@@ Selected@@ D@@ c@@ ().get@@ Id()); network@@ .set@@ Name@@ (((@@ java.lang.String@@ ) (get@@ Name@@ ().getEntity@@ ()))); network@@ .set@@ St@@ p@@ (((@@ java.lang.Boolean@@ ) (get@@ Is@@ St@@ p@@ Enabled@@ ().getEntity@@ ()))); network@@ .set@@ Description@@ (((@@ java.lang.String@@ ) (get@@ Description@@ ().getEntity@@ ()))); network@@ .set@@ Comm@@ ent@@ (((@@ java.lang.String@@ ) (get@@ Comm@@ ent@@ ().getEntity@@ ()))); network@@ .set@@ VmNetwork@@ (((@@ java.lang.Boolean@@ ) (get@@ Is@@ VmNetwork@@ ().getEntity@@ ()))); network@@ .set@@ M@@ tu@@ (0@@ ); if ((get@@ M@@ tu@@ ().getEntity@@ ()) != null@@ ) { network@@ .set@@ M@@ tu@@ (@@ java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (get@@ M@@ tu@@ ().getEntity@@ ().@@ toString@@ ())); } network@@ .set@@ V@@ lan@@ Id@@ (@@ null@@ ); if (((@@ java.lang.Boolean@@ ) (get@@ H@@ as@@ V@@ L@@ an@@ Tag@@ ().getEntity@@ ()))) { network@@ .set@@ V@@ lan@@ Id(@@ java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (get@@ V@@ L@@ an@@ Tag@@ ().getEntity@@ ().@@ toString@@ ())); } }
private org.ovirt.engine.core.common.action.@@ Images@@ Cont@@ a@@ int@@ er@@ Parameters@@ Base build@@ Cl@@ one@@ Cinder@@ Disk@@ Command@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Cinder@@ Disk c@@ inder@@ Disk@@ ) { org.ovirt.engine.core.common.action.@@ Images@@ Cont@@ a@@ int@@ er@@ Parameters@@ Base create@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Images@@ Cont@@ a@@ int@@ er@@ Parameters@@ Bas@@ e(@@ c@@ inder@@ Disk@@ .get@@ Image@@ Id()); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage template@@ Disk = disk@@ Info@@ Dest@@ ination@@ Map@@ .get@@ (c@@ inder@@ Disk@@ .getId()); create@@ Param@@ s.set@@ Disk@@ Alias@@ (@@ template@@ Disk@@ .get@@ Disk@@ Alias@@ ()); create@@ Param@@ s.set@@ StorageDomain@@ Id(@@ template@@ Disk@@ .get@@ Storage@@ Id@@ s().get@@ (0@@ )); create@@ Param@@ s.set@@ Entity@@ Info@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ Entity@@ Info@@ ()); create@@ Param@@ s.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Action@@ Type@@ ()); create@@ Param@@ s.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Parameters@@ ()); create@@ Param@@ s.set@@ Vm@@ Snapshot@@ Id@@ (get@@ Vm@@ Snapshot@@ Id()); return with@@ R@@ oot@@ Command@@ Info@@ (c@@ reate@@ Param@@ s); }
public java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ AsyncTask@@ > get@@ Task@@ List@@ For@@ Cluster@@ (org.ovirt.engine.core.compat.Guid id@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS up@@ Ser@@ ve@@ r = org.ovirt.engine.core.bll.@@ utils.@@ Cluster@@ Util@@ s.get@@ Instance().get@@ R@@ an@@ do@@ m@@ Up@@ Server@@ (@@ id@@ ); if (@@ up@@ Ser@@ ve@@ r == null@@ ) { org.ovirt.engine.core.bll.@@ gluster.@@ task@@ s.@@ Gluster@@ Task@@ s@@ Ser@@ vic@@ e.@@ log.info@@ ("@@ N@@ o u@@ p ser@@ ve@@ r in cluster@@ "); return null@@ ; } org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Gluster@@ Task@@ s@@ List@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ Id@@ VDSCommand@@ Parameters@@ Bas@@ e(@@ up@@ Server@@ .getId@@ ())); if (@@ return@@ Value.get@@ Succeeded@@ ()) { java.util.List<@@ org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ AsyncTask@@ > task@@ s = ((@@ java.util.List<@@ org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ AsyncTask@@ >) (@@ return@@ Value.get@@ ReturnValue@@ ())); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ AsyncTask@@ > task@@ s@@ Map = new java.util.HashMap<@@ >(); for (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ Async@@ T@@ as@@ k t@@ as@@ k : task@@ s) { task@@ s@@ Map.@@ put(@@ task@@ .get@@ Task@@ Id(), task@@ ); } return task@@ s@@ Map@@ ; } else { org.ovirt.engine.core.bll.@@ gluster.@@ task@@ s.@@ Gluster@@ Task@@ s@@ Ser@@ vic@@ e.@@ log.error("@@ Error@@ : {}@@ ", return@@ Value.get@@ Vds@@ Error@@ ()); throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ GlusterVolume@@ Status@@ All@@ Fail@@ ed@@ Exception@@ , return@@ Value.get@@ Vds@@ Error@@ ().get@@ Message@@ ()); } }
public java.util.ArrayList<@@ java.lang.String> get@@ Validation@@ Messages@@ () { return validate@@ Messages@@ ; }
@java.lang.Override public void init@@ (@@ T q@@ os@@ ) { this@@ .@@ q@@ o@@ s = q@@ os@@ ; org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ q@@ o@@ s.@@ Edit@@ Qos@@ Model.get@@ Name@@ ().set@@ Entity(@@ q@@ os@@ .get@@ Name()); org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ q@@ o@@ s.@@ Edit@@ Qos@@ Model.get@@ Description@@ ().set@@ Entity(@@ q@@ os@@ .get@@ Description@@ ()); }
java.lang.String C@@ ANNOT_@@ F@@ OR@@ C@@ E_@@ S@@ E@@ LE@@ C@@ T_@@ SP@@ M@@ _C@@ LUSTER_@@ DO@@ E@@ S_NOT_@@ SUP@@ POR@@ T_@@ V@@ I@@ R@@ T_@@ S@@ ER@@ V@@ IC@@ ES@@ ();
private java.lang.String ex@@ tr@@ act@@ Non@@ Empty@@ Property@@ (@@ java.util.Map<java.lang.String, java.lang.Object> nic@@ ) { return ((@@ java.lang.String@@ ) (@@ nic@@ .get@@ ("@@ add@@ r@@ "@@ ))); }
private java.lang.String get@@ To@@ k@@ en@@ From@@ H@@ ead@@ er@@ (@@ javax.@@ servlet@@ .@@ http@@ .@@ Http@@ Servlet@@ Re@@ quest request@@ ) { java.lang.String to@@ ke@@ n = null@@ ; java.lang.String h@@ ead@@ er@@ Value = re@@ ques@@ t.get@@ H@@ ead@@ er@@ (@@ S@@ s@@ o@@ Constants.@@ H@@ E@@ AD@@ ER_@@ A@@ U@@ TH@@ OR@@ I@@ Z@@ A@@ TI@@ ON@@ ); if ((@@ h@@ ead@@ er@@ Value != null@@ ) && (@@ h@@ ead@@ er@@ Valu@@ e.@@ st@@ art@@ sWith@@ (@@ org.ovirt.engine.core.@@ ss@@ o.@@ servlet@@ s.@@ Op@@ en@@ Id@@ User@@ Info@@ Servlet@@ .@@ B@@ E@@ AR@@ ER@@ ))) { to@@ ke@@ n = h@@ ead@@ er@@ Valu@@ e.@@ sub@@ st@@ ring@@ ("@@ Be@@ ar@@ er@@ "@@ .@@ l@@ ength@@ ()).@@ t@@ ri@@ m@@ (); } return to@@ k@@ en@@ ; }
@@@ com.google.gwt.@@ i@@ 18@@ n@@ .client.@@ Messages.@@ Default@@ Message@@ ("@@ Vir@@ tu@@ al M@@ ach@@ in@@ e {0@@ } al@@ read@@ y ex@@ ist@@ ") java.lang.String s@@ ame@@ Vm@@ Name@@ Exist@@ s(@@ java.lang.String vm@@ Name);
@@@ org.ovirt.engine.ui.common.@@ Template@@ ("@@ <@@ t@@ able st@@ y@@ le@@ =@@ '@@ min@@ -@@ w@@ id@@ th@@ : 2@@ 00@@ p@@ x@@ ; w@@ id@@ th@@ : 1@@ 00@@ %@@ ; b@@ or@@ der@@ -@@ b@@ ot@@ t@@ om@@ : 1@@ p@@ x s@@ ol@@ id #@@ ac@@ ac@@ ac@@ ac@@ ac@@ ;@@ '@@ >@@ <@@ tr@@ >@@ " + ((@@ ("@@ <@@ t@@ d st@@ y@@ le@@ =@@ '@@ w@@ id@@ th@@ : 4@@ 9@@ %@@ ;@@ '@@ >@@ {0@@ }@@ &@@ n@@ b@@ sp@@ ;@@ <@@ /@@ t@@ d@@ >@@ " + "@@ <@@ t@@ d st@@ y@@ le@@ =@@ '@@ w@@ id@@ th@@ : %@@ ; b@@ or@@ der@@ -@@ le@@ f@@ t@@ : 1@@ p@@ x s@@ ol@@ id #@@ ac@@ ac@@ ;@@ '@@ >@@ <@@ /@@ t@@ d@@ >@@ ") + "@@ <@@ t@@ d st@@ y@@ le@@ =@@ '@@ wh@@ i@@ te@@ -@@ sp@@ ace@@ : n@@ or@@ m@@ al@@ ; w@@ id@@ th@@ : 4@@ 9@@ %@@ ; c@@ ol@@ or@@ : #@@ ac@@ ac@@ ac@@ ;@@ '@@ >@@ {@@ 1@@ }@@ <@@ /@@ t@@ d@@ >@@ ") + "@@ <@@ /@@ tr@@ >@@ <@@ /@@ t@@ able@@ >@@ "@@ )) com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l type@@ A@@ h@@ ead@@ Name@@ Description@@ (java.lang.String name@@ , java.lang.String d@@ escription@@ );
@java.lang.Override protected void execute@@ Command() { java.lang.String connection@@ Id = org.ovirt.engine.core.bll.storage.@@ Remove@@ StorageServerConnection@@ Command.get@@ Connection@@ ().get@@ id@@ (); org.ovirt.engine.core.bll.storage.@@ Remove@@ StorageServerConnection@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
private org.ovirt.engine.core.common.action.@@ Images@@ Cont@@ a@@ int@@ er@@ Parameters@@ Base build@@ Ch@@ ild@@ Command@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Cinder@@ Disk c@@ inder@@ Disk@@ ) { org.ovirt.engine.core.common.action.@@ Images@@ Cont@@ a@@ int@@ er@@ Parameters@@ Base create@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Images@@ Cont@@ a@@ int@@ er@@ Parameters@@ Bas@@ e(@@ c@@ inder@@ Disk@@ .get@@ Image@@ Id()); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage template@@ Disk = org.ovirt.engine.core.bll.storage.@@ Cl@@ one@@ Cinder@@ Disks@@ Command.getParameters().get@@ Disks@@ Map@@ ().get@@ (c@@ inder@@ Disk@@ .getId()); create@@ Param@@ s.set@@ Disk@@ Alias@@ (@@ template@@ Disk@@ .get@@ Disk@@ Alias@@ ()); create@@ Param@@ s.set@@ StorageDomain@@ Id(@@ template@@ Disk@@ .get@@ Storage@@ Id@@ s().get@@ (0@@ )); create@@ Param@@ s.set@@ Entity@@ Info@@ (org.ovirt.engine.core.bll.storage.@@ Cl@@ one@@ Cinder@@ Disks@@ Command.getParameters().get@@ Entity@@ Info@@ ()); create@@ Param@@ s.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ Cl@@ one@@ Cinder@@ Disks@@ Command.get@@ Action@@ Type@@ ()); create@@ Param@@ s.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ Cl@@ one@@ Cinder@@ Disks@@ Command.get@@ Parameters@@ ()); create@@ Param@@ s.set@@ Vm@@ Snapshot@@ Id@@ (c@@ inder@@ Disk@@ .get@@ Vm@@ Snapshot@@ Id()); return create@@ Param@@ s@@ ; }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { set@@ Item@@ s@@ (((@@ java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ ReturnValue@@ ()))); }
@org.junit.Test public void test@@ All@@ Domain@@ s@@ Exist@@ And@@ Active@@ () { setUp@@ Gener@@ al@@ Validation@@ s(); setUp@@ Disk@@ Validation@@ s(); do@@ Return@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command@@ Tes@@ t.get@@ Non@@ Empty@@ Disk@@ List@@ ()).@@ when@@ (cmd@@ ).get@@ Disks@@ List@@ (); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult@@ (@@ org.ovirt.engine.core.dal.@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ NOT_@@ EXIST@@ )).@@ when@@ (m@@ ulti@@ ple@@ StorageDomain@@ s@@ Validator@@ ).@@ all@@ Domain@@ s@@ Exist@@ And@@ Active@@ (); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ NOT_@@ EXIST@@ .@@ name@@ ())); }
protected void on@@ Export@@ Changed@@ () { boolean ex@@ ternal@@ Network = get@@ External@@ ().getEntity@@ (); get@@ Network@@ Label@@ ().setIs@@ Change@@ able@@ ((!@@ ex@@ ternal@@ Network@@ )); get@@ N@@ e@@ u@@ tr@@ on@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able(@@ ex@@ ternal@@ Network@@ ); get@@ Qos@@ ().setIs@@ Change@@ able@@ ((!@@ ex@@ ternal@@ Network@@ )); get@@ Add@@ Qos@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((!@@ ex@@ ternal@@ Network@@ )); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able(@@ ex@@ ternal@@ Network@@ ); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ ().setIs@@ Change@@ able(@@ ex@@ ternal@@ Network@@ ); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B@@ ().setIs@@ Change@@ able(@@ ex@@ ternal@@ Network@@ ); update@@ M@@ tu@@ Sel@@ ect@@ or@@ s@@ Change@@ ab@@ ility@@ (); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Password@@ s do not mat@@ ch@@ ") java.lang.String c@@ lo@@ u@@ d@@ Init@@ R@@ oot@@ Password@@ Match@@ Message@@ ();
private void on@@ VnicProfile@@ Map@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } create@@ VnicProfile@@ Mapping@@ s@@ Model@@ (); set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ vnic@@ Profile@@ Mapping@@ s); }
private void Attach@@ F@@ lo@@ p@@ p@@ y@@ _@@ Entity@@ Changed@@ () { get@@ F@@ lo@@ p@@ y@@ Image@@ ().setIs@@ Chang@@ able@@ (((@@ java.lang.Boolean@@ ) (get@@ Attach@@ F@@ lo@@ p@@ p@@ y@@ ().getEntity@@ ()))); update@@ In@@ itial@@ Run@@ Fiel@@ ds@@ (); }
private org.ovirt.engine.core.bll.ValidationResult validate@@ Not@@ Rem@@ ov@@ ing@@ Us@@ ed@@ Network@@ By@@ Vms@@ () { java.util.Collection@@ <@@ java.lang.String> rem@@ oved@@ Network@@ s = new java.util.Hash@@ Set<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent rem@@ oved@@ Attachm@@ ent : rem@@ oved@@ NetworkAttachment@@ s) { rem@@ oved@@ Network@@ s.add(@@ network@@ B@@ usiness@@ Entity@@ Map@@ .get(@@ rem@@ oved@@ Attachm@@ ent.get@@ Network@@ Id@@ ())@@ .get@@ Name()); } java.util.List<java.lang.String> vm@@ Name@@ s = get@@ Vm@@ Interface@@ Manager@@ ().@@ fin@@ d@@ Active@@ Vms@@ Us@@ ing@@ Network@@ s(@@ hos@@ t.get@@ Id(), rem@@ oved@@ Networks@@ ); if (vm@@ Nam@@ es.@@ isEmpty@@ ()) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } else { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ NETWORK_@@ C@@ ANNOT_@@ D@@ ET@@ AC@@ H@@ _@@ NETWORK_@@ US@@ ED_@@ B@@ Y_@@ VM@@ S@@ , vm@@ Name); } }
@java.lang.Override protected boolean canDoAction@@ () { if ((org.ovirt.engine.core.bll.@@ C@@ le@@ ar@@ Non@@ Respon@@ si@@ ve@@ Vds@@ Vms@@ Command.get@@ Vds@@ ()) == null@@ ) { return failCanDoAction@@ (EngineMessage.@@ VDS@@ _@@ IN@@ VALID@@ _S@@ ER@@ V@@ ER_@@ ID@@ ); } if ((((@@ has@@ VM@@ s()) && ((org.ovirt.engine.core.bll.@@ C@@ le@@ ar@@ Non@@ Respon@@ si@@ ve@@ Vds@@ Vms@@ Command.get@@ Vds@@ ().get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Non@@ Respon@@ si@@ ve@@ ))) && ((org.ovirt.engine.core.bll.@@ C@@ le@@ ar@@ Non@@ Respon@@ si@@ ve@@ Vds@@ Vms@@ Command.get@@ Vds@@ ().get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ R@@ eb@@ oot@@ ))) && ((org.ovirt.engine.core.bll.@@ C@@ le@@ ar@@ Non@@ Respon@@ si@@ ve@@ Vds@@ Vms@@ Command.get@@ Vds@@ ().get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ K@@ d@@ um@@ p@@ ing@@ ))) { return failCanDoAction@@ (EngineMessage.@@ VDS@@ _C@@ ANNOT_@@ C@@ LE@@ AR@@ _@@ VM@@ S_@@ W@@ R@@ ON@@ G@@ _@@ ST@@ AT@@ US@@ ); } return true@@ ; }
@org.junit.Test public void dis@@ able@@ Gluster@@ W@@ h@@ en@@ Volum@@ es@@ Exist@@ () { create@@ Command@@ With@@ Vir@@ t@@ Enabled@@ (); when(@@ vds@@ Group@@ Dao@@ .get(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ Update@@ VdsGroup@@ Command@@ Test.@@ create@@ VdsGroup@@ With@@ No@@ Cpu@@ Name()); when(@@ vds@@ Group@@ Dao.get@@ By@@ Name(@@ any@@ String@@ ())@@ ).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ Update@@ VdsGroup@@ Command@@ Test.@@ create@@ VdsGroup@@ With@@ No@@ Cpu@@ Name()); cpu@@ Exist@@ s(); cpu@@ F@@ l@@ ag@@ s@@ Not@@ M@@ is@@ sing@@ (); all@@ Quer@@ i@@ es@@ For@@ Vms@@ (); cluster@@ H@@ as@@ Gluster@@ Volum@@ es@@ (); canDoAction@@ Fail@@ ed@@ With@@ Reason@@ (EngineMessage.@@ VDS@@ _@@ G@@ RO@@ UP@@ _C@@ ANNOT_@@ DIS@@ AB@@ L@@ E_@@ GLUSTER_@@ W@@ H@@ EN@@ _C@@ LUSTER_@@ C@@ ON@@ T@@ A@@ IN@@ S_@@ V@@ O@@ LU@@ M@@ ES@@ ); }
protected boolean is@@ Image@@ Exist@@ () { if ((@@ org.ovirt.engine.core.bll.storage.disk.@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ()) == null@@ ) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ NOT_@@ EXIST@@ ); } return true@@ ; }
@java.lang.Override protected java.lang.@@ Class@@ <@@ ? extends org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Get@@ Images@@ List@@ By@@ StoragePool@@ Id@@ Query@@ <@@ ? extends org.ovirt.engine.core.common.queries.@@ Get@@ Images@@ List@@ By@@ StoragePool@@ Id@@ Parameters@@ >> get@@ Query@@ Type@@ () { return query@@ Class@@ ; }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ Vms@@ From@@ Export@@ Domain@@ () { org.ovirt.engine.core.common.queries.@@ Get@@ All@@ From@@ Export@@ Domain@@ Query@@ Parameters p = new org.ovirt.engine.core.common.queries.@@ Get@@ All@@ From@@ Export@@ Domain@@ Query@@ Parameters@@ (get@@ Parameters().get@@ StoragePool@@ Id(), get@@ Parameters().get@@ Source@@ Domain@@ Id()); org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue q@@ ret@@ V@@ al = get@@ Backend@@ ().@@ run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vms@@ From@@ Export@@ Domain@@ , p@@ ); if (!(@@ q@@ ret@@ Val@@ .get@@ Succeeded@@ ())) { return null@@ ; } return ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ >) (@@ q@@ ret@@ Val@@ .get@@ ReturnValue@@ ())); }
@java.lang.Override public void run@@ () { try { if (is@@ P@@ er@@ for@@ m@@ Conn@@ ect@@ Op@@ s && (@@ conn@@ ect@@ Vds@@ To@@ New@@ Ma@@ ster@@ (vds@@ ))) { try { run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Re@@ fresh@@ StoragePool@@ , new org.ovirt.engine.core.common.vdscommands.@@ Re@@ fresh@@ StoragePool@@ VDSCommand@@ Parameters(@@ vds.get@@ Id(), get@@ StoragePool@@ ().get@@ Id(), _@@ new@@ Ma@@ ster@@ StorageDomain@@ Id, get@@ StoragePool@@ ().get@@ ma@@ ster@@ _@@ do@@ m@@ ain@@ _@@ version@@ ())); } catch (org.ovirt.engine.core.common.errors.@@ Vdc@@ B@@ L@@ L@@ Exception ex@@ ) { if ((@@ org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ StoragePool@@ Un@@ k@@ n@@ ow@@ n@@ ) == (@@ ex@@ .get@@ Vds@@ Error@@ ().get@@ Code@@ ())) { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ V@@ al = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Conn@@ ect@@ StoragePool@@ , new org.ovirt.engine.core.common.vdscommands.@@ Conn@@ ect@@ StoragePool@@ VDSCommand@@ Parameters(@@ vds.get@@ Id(), get@@ StoragePool@@ ().get@@ Id(), vds.get@@ vds@@ _@@ sp@@ m@@ _id@@ (), _@@ new@@ Ma@@ ster@@ StorageDomain@@ Id, get@@ StoragePool@@ ().get@@ ma@@ ster@@ _@@ do@@ m@@ ain@@ _@@ version@@ ())); if (!@@ (@@ return@@ Val@@ .get@@ Succeeded@@ ())) { log.error@@ Format@@ ("@@ P@@ os@@ t r@@ e@@ const@@ r@@ uc@@ t action@@ s (@@ conn@@ ect@@ Pool@@ ) d@@ id not comp@@ let@@ e on hos@@ t {0@@ } in p@@ oo@@ l {@@ 1@@ }@@ . er@@ ro@@ r {@@ 2@@ }@@ ", vds.get@@ Id(), get@@ StoragePool@@ ().get@@ Id(), return@@ Val@@ .get@@ Vds@@ Error@@ ().get@@ Message@@ ()); } } else { log.error@@ ((@@ "@@ P@@ os@@ t r@@ e@@ const@@ r@@ uc@@ t action@@ s (@@ re@@ fresh@@ Pool@@ )@@ " + " d@@ id not comp@@ let@@ e on hos@@ t {0@@ } in p@@ oo@@ l {@@ 1@@ }@@ . er@@ ro@@ r {@@ 2@@ }@@ "@@ ), vds.get@@ Id(), ex@@ .get@@ Message@@ ()); } } } if (is@@ P@@ er@@ for@@ m@@ Dis@@ conn@@ ect@@ ) { org.ovirt.engine.core.bll.storage.@@ Storage@@ Helper@@ Direct@@ or@@ .getInstance().get@@ Item@@ (get@@ StorageDomain@@ ().get@@ storage_@@ type@@ ()).@@ Dis@@ conn@@ ect@@ Storage@@ From@@ Domain@@ By@@ Vds@@ Id@@ (get@@ StorageDomain@@ (), vds.get@@ Id()); } } } catch (@@ java.lang.Exception e) { log.error@@ Format@@ ((@@ "@@ P@@ os@@ t r@@ e@@ const@@ r@@ uc@@ t action@@ s (@@ conn@@ ect@@ Pool@@ ,@@ re@@ fresh@@ Pool@@ ,@@ dis@@ conn@@ ect storage@@ )@@ " + " d@@ id not comp@@ let@@ e on hos@@ t {0@@ } in the pool@@ . er@@ ro@@ r {@@ 1@@ }@@ "@@ ), vds.get@@ Id(), e.get@@ Message@@ ()); } } }
protected boolean shoul@@ d@@ Check@@ Sp@@ ace@@ In@@ StorageDomain@@ s() { return (!@@ (get@@ Images@@ To@@ Check@@ Dest@@ ination@@ StorageDomain@@ s().@@ isEmpty@@ ())) && (!(@@ org.ovirt.engine.core.utils.@@ lin@@ q@@ .@@ Lin@@ q@@ Utils.@@ fi@@ r@@ st@@ Or@@ Null@@ (get@@ Images@@ To@@ Check@@ Dest@@ ination@@ StorageDomain@@ s@@ (), new org.ovirt.engine.core.utils.@@ lin@@ q@@ .@@ All@@ ())@@ .get@@ Image@@ Id().@@ equals(@@ VmTemplate@@ Handler.@@ B@@ L@@ AN@@ K_@@ VM_@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ ID@@ ))); }
@java.lang.Override public void update@@ Interface@@ (@@ int os@@ Id, org.ovirt.engine.core.compat.@@ Version cluster@@ Version@@ ) { org.ovirt.engine.ui.frontend.AsyncQuery async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { get@@ Disk@@ Interface@@ ().set@@ SelectedItem@@ (@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ ); } }; update@@ Interfac@@ e(@@ os@@ Id, cluster@@ Version@@ , async@@ Query@@ ); }
public java.lang.@@ B@@ oolean call@@ () throw@@ s java.lang.Exception { if (((@@ java.lang.Boolean@@ ) (@@ _@@ de@@ plo@@ y@@ .get@@ Par@@ ser@@ ().@@ cli@@ En@@ vi@@ ron@@ ment@@ Get@@ (@@ Vds@@ m@@ En@@ v@@ .@@ OV@@ I@@ R@@ T_@@ LE@@ G@@ AC@@ Y_@@ NO@@ DE@@ )@@ ))) { _@@ de@@ plo@@ y@@ .@@ user@@ Visi@@ bl@@ e@@ Log@@ (java.util.@@ log@@ gin@@ g.@@ Le@@ ve@@ l.@@ IN@@ F@@ O@@ , "@@ Hos@@ t is h@@ yp@@ er@@ vi@@ s@@ or@@ "); set@@ Node@@ (); } return true@@ ; }
private boolean update@@ Parameters@@ () { for (@@ org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters m@@ ove@@ Disk@@ Parameters : org.ovirt.engine.core.bll.@@ Move@@ Disks@@ Command.getParameters().get@@ Parameters@@ List@@ ()) { org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image = get@@ DiskImage@@ Dao().get@@ An@@ c@@ est@@ or@@ (m@@ ove@@ Disk@@ Parameters@@ .get@@ Image@@ Id()); if (disk@@ Image == null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ DIS@@ K_@@ NOT_@@ EXIST@@ ); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > all@@ Vm@@ s = org.ovirt.engine.core.bll.@@ Move@@ Disks@@ Command.getVm@@ DAO@@ ().get@@ Vms@@ List@@ For@@ Disk@@ (disk@@ Image.get@@ Id()); org.ovirt.engine.core.common.businessentities.VM vm = (!(@@ all@@ Vm@@ s.@@ isEmpty@@ ())) ? all@@ Vm@@ s.get@@ (0@@ ) : null@@ ; org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator snapshot@@ s@@ Validator = new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator@@ (); if ((@@ vm != null@@ ) && (!(@@ validate@@ (s@@ napshot@@ s@@ Validator.@@ vm@@ Not@@ In@@ Pre@@ view@@ (vm@@ .getId@@ ())@@ )@@ ))) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ VM_@@ IN_@@ P@@ RE@@ V@@ I@@ E@@ W@@ ); } else if ((@@ vm == null@@ ) || (is@@ Vm@@ Down@@ (vm@@ ))) { m@@ ove@@ Parameters@@ List.@@ add(@@ m@@ ove@@ Disk@@ Parameters@@ ); } else if (is@@ Vm@@ Run@@ ning@@ (vm@@ )) { org.ovirt.engine.core.utils.@@ Multi@@ Value@@ Map@@ Utils.@@ add@@ To@@ Map@@ (vm.get@@ Id(), create@@ L@@ ive@@ Migrate@@ Disk@@ Parameters@@ (m@@ ove@@ Disk@@ Parameters@@ , vm.get@@ Id@@ ()), vm@@ s@@ L@@ ive@@ Migrate@@ Parameters@@ Map@@ ); } else { addCanDoActionMessage@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ %@@ 1@@ $@@ s %@@ 2@@ $@@ s", "@@ Vm@@ Name@@ ", vm.get@@ Vm@@ Name@@ ())); return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_NOT_@@ DO@@ W@@ N@@ _@@ OR@@ _@@ UP@@ ); } } return true@@ ; }
protected boolean validate@@ Vds@@ Cluster@@ () { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group vds@@ Group = org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ VdsGroup@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ VdsGroup@@ Id()); return vds@@ Group == null ? fail@@ Validation@@ (EngineMessage.@@ VDS@@ _C@@ LUSTER_@@ I@@ S_NOT_@@ VALID@@ ) : (vds@@ Group@@ .get@@ Ar@@ ch@@ it@@ ect@@ ure@@ ()) != (org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ Vm().get@@ Cluster@@ Ar@@ ch@@ ()) ? fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM@@ _C@@ ANNOT_@@ IM@@ POR@@ T_@@ VM_@@ AR@@ C@@ H@@ I@@ T@@ EC@@ T@@ UR@@ E_@@ NOT_@@ SUP@@ PORT@@ ED_@@ B@@ Y@@ _C@@ LUST@@ ER@@ ) : true@@ ; }
public java.lang.String get@@ User@@ () { return (@@ user@@ ) != null ? us@@ er : "@@ "; }
private void add@@ Role@@ Column@@ (@@ org.ovirt.engine.ui.common.@@ C@@ ommon@@ Ap@@ plication@@ Constant@@ s const@@ an@@ t@@ s) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ Permission@@ > ro@@ le@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ Permission@@ >() { @java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ Permission@@ s object@@ ) { return objec@@ t.get@@ Role@@ Name@@ (); } }; ro@@ le@@ Column@@ .m@@ a@@ ke@@ S@@ ort@@ able@@ (); org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ per@@ mission@@ s.@@ Permission@@ ListModel@@ T@@ abl@@ e.get@@ T@@ able@@ ().add@@ Column@@ (@@ ro@@ le@@ Column@@ , const@@ an@@ t@@ s.@@ ro@@ le@@ Permission@@ (), "@@ 3@@ 00@@ p@@ x@@ "); }
@java.lang.Override public void on@@ M@@ o@@ us@@ e@@ O@@ ver@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ M@@ o@@ us@@ e@@ O@@ ver@@ Event event@@ ) { if (!@@ ("@@ "@@ .equals(@@ ti@@ t@@ le@@ ))) { t@@ ooltip@@ .set@@ H@@ T@@ M@@ L@@ (@@ ti@@ t@@ le@@ ); t@@ ooltip@@ Pan@@ el.@@ sh@@ ow@@ R@@ el@@ ati@@ ve@@ To@@ (@@ this@@ ); } }
private void set@@ C@@ ol@@ or@@ De@@ p@@ th@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ I@@ User@@ Port@@ al@@ List@@ Model model, org.ovirt.engine.ui.uicommonweb.models.vms.@@ W@@ an@@ C@@ ol@@ or@@ De@@ p@@ t@@ h de@@ p@@ th@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ IS@@ p@@ ic@@ e sp@@ ic@@ e = ex@@ tr@@ act@@ Sp@@ ice@@ (model@@ ); if (s@@ p@@ ic@@ e != null@@ ) { ex@@ tr@@ act@@ Sp@@ ice@@ (model@@ )@@ .set@@ W@@ AN@@ C@@ ol@@ or@@ De@@ p@@ th@@ (@@ de@@ p@@ th@@ ); } }
public void set@@ Group@@ s(@@ java.util.HashMap<@@ java.lang.String, org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group value@@ ) { m@@ Group@@ s = value@@ ; }
java.lang.String ACTION_TYPE_FAILED_@@ D@@ ES@@ TI@@ NA@@ TION_@@ STORAGE_@@ DOMA@@ IN_@@ I@@ S_NOT_@@ VALID@@ ();
public static java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > filter@@ Image@@ Disk@@ s(@@ java.util.Collection@@ <@@ ? extends org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ > list@@ Of@@ Disk@@ s, boolean al@@ low@@ Only@@ Not@@ Sh@@ are@@ able@@ Disk@@ s, boolean al@@ low@@ Only@@ S@@ nap@@ able@@ Disk@@ s, boolean al@@ low@@ Only@@ Active@@ Disk@@ s) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ Image@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >(); for (org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k : list@@ Of@@ Disk@@ s) { if ((@@ (((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) && ((!@@ al@@ low@@ Only@@ Not@@ Sh@@ are@@ able@@ Disk@@ s) || (!(@@ disk@@ .is@@ Sh@@ are@@ able@@ ())@@ ))) && ((!@@ al@@ low@@ Only@@ S@@ nap@@ able@@ Disk@@ s) || (disk@@ .is@@ Allow@@ Snapshot@@ ()))) && ((!@@ al@@ low@@ Only@@ Active@@ Disk@@ s) || (@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .@@ equals@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (disk@@ )@@ ).get@@ Active@@ ())@@ ))) { disk@@ Im@@ ages.@@ add@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (disk@@ ))); } } return disk@@ Images@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volum@@ e = get@@ GlusterVolume@@ (); if (((@@ volum@@ e.get@@ AsyncTask@@ ()) != null@@ ) && (((@@ volum@@ e.get@@ AsyncTask@@ ().get@@ Type()) == (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ Task@@ Type.@@ RE@@ B@@ AL@@ AN@@ C@@ E@@ )) || ((@@ volum@@ e.get@@ AsyncTask@@ ().get@@ Type()) == (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ Task@@ Type.@@ RE@@ M@@ OV@@ E_@@ B@@ R@@ IC@@ K@@ )@@ ))) { addCanDoActionMessage@@ Var@@ i@@ able@@ ("@@ async@@ Task@@ ", volum@@ e.get@@ AsyncTask@@ ().get@@ Type@@ ().@@ name@@ ().@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ()); return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ V@@ O@@ LU@@ M@@ E_@@ A@@ S@@ Y@@ N@@ C@@ _@@ O@@ P@@ ER@@ A@@ TION_@@ IN_@@ P@@ RO@@ G@@ RE@@ SS@@ ); } for (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ S@@ ess@@ ion s@@ ess@@ ion : ge@@ or@@ ep@@ Session@@ s) { if ((@@ (s@@ ession@@ .get@@ S@@ lave@@ Volume@@ Id()) == null@@ ) || ((@@ s@@ ession@@ .get@@ S@@ lave@@ Node@@ U@@ uid@@ ()) == null@@ )) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ RE@@ M@@ O@@ T@@ E_@@ C@@ LUSTER_@@ NOT_@@ MA@@ IN@@ T@@ A@@ IN@@ ED_@@ B@@ Y_@@ EN@@ G@@ IN@@ E); } } return true@@ ; }
@org.junit.Test public void validate@@ Vm@@ Sh@@ are@@ able@@ Disk@@ () { org.ovirt.engine.core.common.businessentities.Storage@@ Domain s@@ r@@ c@@ Storage@@ Domain = init@@ StorageDomain@@ (s@@ r@@ c@@ Storage@@ Id); s@@ r@@ c@@ StorageDomain@@ .set@@ Status(@@ StorageDomain@@ Status.@@ Active@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = init@@ DiskImage@@ (disk@@ ImageGroup@@ Id, disk@@ Image@@ Id); disk@@ Im@@ age.@@ set@@ Sh@@ are@@ able@@ (@@ true@@ ); init@@ Vm@@ (@@ VMStatus.@@ Up@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), disk@@ ImageGroup@@ Id); org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Fail@@ ure(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ S@@ H@@ A@@ RE@@ AB@@ L@@ E_@@ DIS@@ K_@@ NOT_@@ SUP@@ PORT@@ ED); }
private boolean init@@ Gluster@@ Host@@ () { gluster@@ Feat@@ ur@@ es@@ A@@ re@@ C@@ ompati@@ bl@@ e = true@@ ; if (((@@ org.apache.commons.lang.@@ Object@@ Utils.@@ equals@@ (get@@ VdsGroup@@ ().get@@ CompatibilityVersion@@ (), Version@@ .@@ v@@ 3@@ _@@ 5@@ )) && (get@@ VdsGroup@@ ().get@@ Gluster@@ 3@@ 7@@ Sup@@ port@@ ())) && (!@@ (get@@ Vds@@ ().get@@ Gluster@@ 3@@ 7@@ Sup@@ port@@ ()))) { gluster@@ Feat@@ ur@@ es@@ A@@ re@@ C@@ ompati@@ bl@@ e = false@@ ; java.util.Map<java.lang.String, java.lang.String> c@@ ustom@@ Log@@ Value@@ s = new java.util.HashMap<@@ >(); c@@ ustom@@ Log@@ Values.@@ put@@ ("@@ in@@ st@@ all@@ ed@@ Gluster@@ Version@@ ", ((@@ (get@@ Vds@@ ().get@@ Gluster@@ Version@@ ().get@@ Ma@@ j@@ or@@ ()) + "@@ .@@ ") + (get@@ Vds@@ ().get@@ Gluster@@ Version@@ ().get@@ M@@ in@@ or@@ ()))); c@@ ustom@@ Log@@ Values.@@ put@@ ("@@ re@@ qui@@ red@@ Gluster@@ Version@@ ", "@@ 3@@ .@@ 7@@ "); set@@ Non@@ Operation@@ al@@ (@@ Non@@ Operation@@ al@@ Reason@@ .@@ GLUSTER_@@ V@@ ER@@ SI@@ ON_@@ IN@@ C@@ O@@ M@@ P@@ A@@ TI@@ B@@ L@@ E_@@ W@@ I@@ TH@@ _C@@ LUST@@ ER@@ , c@@ ustom@@ Log@@ Valu@@ es@@ ); return false@@ ; } gluster@@ Host@@ U@@ uid@@ F@@ oun@@ d = true@@ ; if (org.ovirt.engine.core.common.@@ gluster.Gluster@@ Feat@@ ure@@ Supported@@ .@@ gluster@@ Host@@ U@@ uid@@ Supported@@ (get@@ VdsGroup@@ ().get@@ CompatibilityVersion@@ ())) { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value = run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Gluster@@ Host@@ UUID@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ Id@@ VDSCommand@@ Parameters@@ Bas@@ e(@@ get@@ Vds@@ ().get@@ Id@@ ())); if (@@ return@@ Value.get@@ Succeeded@@ ()) && (@@ (@@ return@@ Value.get@@ ReturnValue@@ ()) != null@@ )) { org.ovirt.engine.core.compat.Guid ad@@ ded@@ Server@@ U@@ ui@@ d = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (((@@ java.lang.String@@ ) (@@ return@@ Value.get@@ ReturnValue@@ ()))); if (@@ host@@ U@@ uid@@ Exist@@ s(@@ ad@@ ded@@ Server@@ U@@ uid@@ )) { set@@ Non@@ Operation@@ al@@ (@@ Non@@ Operation@@ al@@ Reason@@ .@@ GLUSTER_@@ HOST@@ _@@ UUID@@ _@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ S@@ , null@@ ); return false@@ ; } save@@ Gluster@@ Host@@ U@@ uid@@ (@@ ad@@ ded@@ Server@@ U@@ uid@@ ); } else { gluster@@ Host@@ U@@ uid@@ F@@ oun@@ d = false@@ ; set@@ Non@@ Operation@@ al@@ (@@ Non@@ Operation@@ al@@ Reason@@ .@@ GLUSTER_@@ HOST@@ _@@ UUID@@ _@@ NOT_@@ F@@ O@@ UN@@ D@@ , null@@ ); } } return (@@ gluster@@ Host@@ U@@ uid@@ F@@ ound@@ ) && (@@ init@@ Gluster@@ P@@ e@@ er@@ Pro@@ cess@@ ()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Sp@@ ac@@ e Us@@ ed@@ ") java.lang.String volume@@ C@@ ap@@ ac@@ ity@@ ();
public void remove@@ Sp@@ m@@ From@@ Map@@ (java.lang.String sp@@ Id) { sp@@ m@@ Map.@@ remove@@ (s@@ p@@ Id); }
protected org.ovirt.engine.core.bll.validator.@@ Multiple@@ Disk@@ Vm@@ Element@@ Validator create@@ Multiple@@ Disk@@ Vm@@ Element@@ Validator@@ () { return new org.ovirt.engine.core.bll.validator.@@ storage.@@ Multiple@@ Disk@@ Vm@@ Element@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ (), disk@@ Vm@@ Element@@ Dao.get@@ All@@ Disk@@ Vm@@ Element@@ sBy@@ Disk@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ ImageGroup@@ ID@@ ())); }
public static <@@ T@@ > org.ovirt.engine.core.common.utils.Pair@@ <@@ T@@ , org.apache.commons.@@ http@@ client.@@ Http@@ Client@@ > get@@ Connection@@ (java.lang.String host@@ Name, int port@@ , int client@@ Time@@ Out@@ , int connection@@ Time@@ Out@@ , int client@@ R@@ et@@ ri@@ es@@ , int ma@@ x@@ Connection@@ s@@ Per@@ Host@@ , java.lang.@@ Class@@ <@@ T@@ > type@@ , boolean is@@ Sec@@ ure@@ ) { org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.@@ net@@ .@@ UR@@ L@@ > ur@@ l@@ In@@ fo = org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Util@@ s.get@@ Connection@@ U@@ r@@ l@@ (@@ host@@ Name, port@@ , null@@ , is@@ Sec@@ ure@@ ); if (@@ ur@@ l@@ In@@ fo == null@@ ) { return null@@ ; } return org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Util@@ s.get@@ Http@@ Connection@@ (@@ ur@@ l@@ Info@@ .get@@ Sec@@ ond@@ (), client@@ Time@@ Out@@ , connection@@ Time@@ Out@@ , client@@ R@@ et@@ ri@@ es@@ , ma@@ x@@ Connection@@ s@@ Per@@ Host@@ , type@@ ); }
protected boolean pc@@ i@@ And@@ I@@ de@@ With@@ in@@ L@@ im@@ it@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > all@@ Interfaces@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > all@@ Disk@@ s = org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Abstract@@ Vm@@ Interface@@ Command.get@@ Disk@@ Dao().get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Abstract@@ Vm@@ Interface@@ Command.getVm@@ Id()); return check@@ P@@ c@@ i@@ And@@ I@@ de@@ L@@ im@@ it@@ (vm.get@@ Num@@ Of@@ Monitor@@ s@@ (), all@@ Interfaces@@ , all@@ Disk@@ s, org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Abstract@@ Vm@@ Interface@@ Command.getVm@@ ().is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ (), org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Abstract@@ Vm@@ Interface@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ()); }
@java.lang.Override public boolean Validate@@ () { boolean is@@ N@@ e@@ w = getModel().get@@ Is@@ New@@ (); int ma@@ x@@ Allow@@ ed@@ Vm@@ s = config@@ ur@@ ator@@ .get@@ Max@@ Vms@@ In@@ Pool@@ (); int ass@@ ig@@ ne@@ d@@ Vm@@ s = getModel().get@@ As@@ s@@ ig@@ ne@@ d@@ Vm@@ s().@@ As@@ Conver@@ ti@@ bl@@ e@@ ().@@ Integ@@ er@@ (); getModel().get@@ Num@@ Of@@ D@@ es@@ k@@ to@@ p@@ s().@@ Validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), new org.ovirt.engine.ui.uicommonweb.validation.@@ L@@ ength@@ Validation@@ (@@ 4@@ ), new org.ovirt.engine.ui.uicommonweb.validation.@@ Integ@@ er@@ Validation@@ ((@@ is@@ N@@ e@@ w ? 1 : 0@@ ), (is@@ N@@ e@@ w ? ma@@ x@@ Allow@@ ed@@ Vm@@ s : ma@@ x@@ Allow@@ ed@@ Vm@@ s - ass@@ ig@@ ne@@ d@@ Vms@@ )) }); getModel().get@@ Pres@@ t@@ ar@@ ted@@ Vm@@ s().@@ Validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), new org.ovirt.engine.ui.uicommonweb.validation.@@ Integ@@ er@@ Validation@@ (0@@ , ass@@ ig@@ ne@@ d@@ Vm@@ s) }); get@@ Model@@ ().setIs@@ Gener@@ al@@ Tab@@ Valid@@ ((((@@ (get@@ Model().get@@ Is@@ Gener@@ al@@ Tab@@ Valid@@ ()) && (get@@ Model().get@@ Name@@ ().get@@ Is@@ Valid@@ ())) && (get@@ Model().get@@ Num@@ Of@@ D@@ es@@ k@@ to@@ p@@ s().get@@ Is@@ Valid@@ ())) && (get@@ Model().get@@ Pres@@ t@@ ar@@ ted@@ Vms@@ ().get@@ Is@@ Valid@@ ()))); get@@ Model@@ ().setIs@@ Pool@@ Tab@@ Valid@@ (@@ true@@ ); return ((@@ (@@ super@@ .@@ Validate@@ ()) && (get@@ Model().get@@ Name@@ ().get@@ Is@@ Valid@@ ())) && (get@@ Model().get@@ Num@@ Of@@ D@@ es@@ k@@ to@@ p@@ s().get@@ Is@@ Valid@@ ())) && (get@@ Model().get@@ Pres@@ t@@ ar@@ ted@@ Vms@@ ().get@@ Is@@ Valid@@ ()); }
public java.util.List<java.lang.String> validate@@ () { for (org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface if@@ ac@@ e : param@@ s.get@@ Interfaces@@ ()) { java.lang.String nam@@ e = if@@ ac@@ e.get@@ Name@@ (); if (@@ add@@ Interface@@ To@@ Pro@@ cess@@ ed@@ List@@ (@@ if@@ ace@@ )) { if (is@@ Bond@@ (@@ if@@ ace@@ )) { ex@@ tr@@ act@@ Bond@@ If@@ M@@ o@@ d@@ if@@ i@@ ed@@ (@@ if@@ ace@@ , name@@ ); } else { if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name@@ ())) { ex@@ tr@@ act@@ Bond@@ S@@ lave@@ (@@ if@@ ace@@ ); } if (!@@ (get@@ Existing@@ I@@ fac@@ es@@ ().@@ contains@@ Key@@ (@@ org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ St@@ ri@@ p@@ V@@ lan@@ (@@ name@@ )@@ ))) { add@@ Vi@@ ol@@ ation@@ (VdcBllMessages.@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E@@ S_@@ D@@ ON@@ T_@@ EXIST@@ , org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ St@@ ri@@ p@@ V@@ lan@@ (@@ name@@ )); } } if ((@@ vi@@ ol@@ ation@@ s.@@ isEmpty@@ ()) && (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (@@ if@@ ac@@ e.get@@ Network@@ Name@@ ()))) { ex@@ tr@@ act@@ Network@@ (@@ if@@ ace@@ ); } } validate@@ Bond@@ S@@ l@@ a@@ v@@ es@@ Count@@ (); ex@@ tr@@ act@@ Rem@@ oved@@ Networks@@ (); ex@@ tr@@ act@@ Rem@@ oved@@ Bon@@ ds@@ (); d@@ et@@ ect@@ S@@ lave@@ Chang@@ es@@ (); return trans@@ l@@ ate@@ Vi@@ ol@@ ation@@ s(); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ All@@ VM@@ sWith@@ Disks@@ On@@ O@@ th@@ er@@ StorageDomain@@ (org.ovirt.engine.core.compat.Guid storageDomain@@ Guid@@ ) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ All@@ VM@@ sWith@@ Disks@@ On@@ O@@ th@@ er@@ StorageDomain@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Dao@@ Impl.@@ VM@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ storage@@ _@@ do@@ m@@ ain@@ _id", storageDomain@@ Guid@@ )); }
private void set@@ Job@@ Status@@ Expectations(@@ org.ovirt.engine.core.compat.Guid job@@ Id, org.ovirt.engine.core.common.@@ job.@@ Job@@ Execution@@ Status job@@ Status@@ , org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue m@@ onitor@@ Result@@ , org.ovirt.engine.core.common.action.VdcReturnValue@@ Base result) { when(@@ result.get@@ Job@@ Id@@ ()).@@ thenReturn(@@ job@@ Id); if (@@ job@@ Id != null@@ ) { org.ovirt.engine.core.common.@@ job.@@ J@@ o@@ b job@@ M@@ oc@@ k = mock@@ (org.ovirt.engine.core.common.@@ job.@@ Job@@ .@@ class@@ ); when(@@ job@@ Mock@@ .get@@ Status@@ ()).@@ thenReturn(@@ job@@ Status@@ ); when@@ (m@@ onitor@@ Res@@ ult.get@@ ReturnValue@@ ()).@@ thenReturn(@@ job@@ Mock@@ ); when(@@ back@@ end@@ .@@ run@@ Query@@ (@@ e@@ q@@ (Vdc@@ Query@@ Type.Get@@ Job@@ By@@ Job@@ Id@@ ), e@@ q@@ Query@@ Param@@ s(@@ org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ , add@@ Session@@ ("@@ Id@@ "@@ ), add@@ Session@@ (@@ job@@ Id@@ )@@ )@@ )).@@ then@@ Return@@ (m@@ onitor@@ Result@@ ); } }
public void en@@ able@@ Sel@@ ection@@ Element@@ s@@ (@@ boolean en@@ able@@ Element@@ s) { s@@ el@@ ect@@ Host@@ Au@@ t@@ om@@ ati@@ call@@ y@@ Editor@@ .set@@ Enabled@@ (@@ en@@ able@@ Element@@ s); s@@ el@@ ect@@ Dest@@ ination@@ Host@@ Editor@@ .set@@ Enabled@@ (@@ en@@ able@@ Element@@ s); host@@ s@@ List@@ Editor@@ .set@@ Enabled@@ (@@ en@@ able@@ Element@@ s); }
@java.lang.Override public void init@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ provider@@ s.@@ Provider@@ Model model@@ ) { super@@ .@@ init@@ (model@@ ); re@@ gist@@ er@@ Handler@@ (get@@ View@@ ().get@@ Test@@ Button@@ ().add@@ Cl@@ ick@@ Handler@@ (@@ new com.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Handler@@ () { @java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { model.get@@ Test@@ Command@@ ().execute@@ (); } }@@ )); model.get@@ Test@@ Result@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { get@@ View@@ ().set@@ Test@@ Result@@ Image@@ (((@@ java.lang.String@@ ) (model.get@@ Test@@ Result@@ ().getEntity@@ ()))); } }); model.get@@ N@@ e@@ u@@ tr@@ on@@ Agent@@ Tab@@ ().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if ("@@ Is@@ Available@@ "@@ .@@ equals@@ (((@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s) (@@ arg@@ s@@ )).@@ Property@@ Name@@ )) { get@@ View@@ ().set@@ Agent@@ Tab@@ Visi@@ bility@@ (model.get@@ N@@ e@@ u@@ tr@@ on@@ Agent@@ ().get@@ Is@@ Available@@ ()); } } }); }
private boolean shoul@@ d@@ Pro@@ cess@@ Vds@@ Domain@@ Re@@ port@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { return (@@ StoragePool@@ Domain@@ Helper.@@ re@@ port@@ ing@@ Vds@@ Status.@@ contains(@@ vds.get@@ Status@@ ())) && (@@ vds.get@@ VdsGroup@@ Sup@@ port@@ s@@ Vir@@ t@@ Service@@ ()); }
@java.lang.Override protected boolean canDoAction@@ () { boolean result = true@@ ; if (!@@ (c@@ an@@ Do@@ Snapshot@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ VmCommand.getVm@@ ()))) { return false@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ s@@ List = get@@ Disks@@ List@@ (); if ((@@ disk@@ s@@ List.@@ size()) > 0) { org.ovirt.engine.core.bll.validator.@@ Vm@@ Validator vm@@ Validator = new org.ovirt.engine.core.bll.validator.@@ Vm@@ Validator@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ VmCommand.getVm@@ ()); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator snapshot@@ Validator = new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator@@ (); result = ((((@@ (((@@ validate@@ (s@@ napshot@@ Validator.@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ VmCommand.getVm@@ Id@@ ()))) && (@@ validate@@ (s@@ napshot@@ Validator.@@ vm@@ Not@@ In@@ Pre@@ view@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ VmCommand.getVm@@ Id@@ ())@@ ))) && (@@ validate@@ (vm@@ Validator.@@ vm@@ Not@@ D@@ ur@@ ing@@ Migration@@ ()))) && (@@ validate@@ (vm@@ Validator.@@ vm@@ Not@@ Run@@ ning@@ State@@ l@@ ess@@ ()))) && (@@ validate@@ (vm@@ Validator.@@ vm@@ Not@@ I@@ le@@ g@@ al@@ ()))) && (org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ P@@ er@@ for@@ m@@ Images@@ Check@@ s@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ (), org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ VmCommand.getVm@@ ().get@@ StoragePool@@ Id(), Guid@@ .@@ Empty@@ , true@@ , true@@ , true@@ , true@@ , true@@ , true@@ , disk@@ s@@ List@@ ))) && (@@ validate@@ (vm@@ Validator.@@ vm@@ Not@@ Lock@@ ed@@ ()))) && (@@ validate@@ (vm@@ Validator.@@ vm@@ Not@@ In@@ S@@ us@@ p@@ end@@ Pro@@ cess@@ ())); } return result@@ ; }
protected void end@@ Action@@ On@@ Vm@@ Configuration@@ () { if ((org.ovirt.engine.core.bll.@@ VmCommand.getVm@@ ()) != null@@ ) { if ((org.ovirt.engine.core.bll.@@ VmCommand.getVm@@ ().get@@ status@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Image@@ Lock@@ ed@@ )) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ un@@ lock@@ Vm@@ (org.ovirt.engine.core.bll.@@ VmCommand.getVm@@ (), org.ovirt.engine.core.bll.@@ Vm@@ Command.get@@ Comp@@ ens@@ ation@@ Context@@ ()); } org.ovirt.engine.core.bll.@@ VmCommand.getVm@@ DAO@@ ().@@ in@@ c@@ re@@ ment@@ Db@@ Gener@@ ation@@ (org.ovirt.engine.core.bll.@@ VmCommand.getVm@@ ().get@@ Id()); } else { org.ovirt.engine.core.bll.@@ Vm@@ Command.set@@ Command@@ Sh@@ oul@@ d@@ Be@@ Log@@ ged@@ (@@ false@@ ); log.@@ w@@ ar@@ n@@ ("@@ Vm@@ Command@@ :@@ :@@ :@@ En@@ d@@ Vm@@ Command@@ : V@@ m is null - not p@@ er@@ for@@ min@@ g En@@ d@@ Ac@@ tion on Vm@@ "); } }
@org.junit.Test public void test@@ Template@@ Ovf@@ Cre@@ ation@@ Back@@ w@@ ard@@ C@@ ompati@@ l@@ i@@ bl@@ ity@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate = org.ovirt.engine.core.bll.@@ Ovf@@ Manager@@ Test.@@ create@@ VmTemplate@@ (); java.lang.String x@@ m@@ l = man@@ ag@@ er.@@ Export@@ Template@@ (@@ template@@ , new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >@@ (), Version@@ .@@ v@@ 3@@ _@@ 0@@ ); assert@@ Not@@ Null@@ (@@ x@@ ml@@ ); final org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate new@@ templ@@ ate = new org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ (); man@@ ag@@ er.@@ Import@@ Template@@ (@@ x@@ ml@@ , new@@ template@@ , new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >@@ (), new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface@@ >@@ ()); assert@@ Equals@@ (@@ "@@ import@@ ed templ@@ ate is d@@ if@@ fer@@ ent th@@ an exp@@ ected@@ ", template@@ , new@@ template@@ ); assert@@ Equals@@ (@@ "@@ import@@ ed d@@ b gener@@ ation is d@@ if@@ fer@@ ent th@@ an exp@@ ected@@ ", templat@@ e.get@@ Db@@ Gener@@ ation@@ (), new@@ templat@@ e.get@@ Db@@ Gener@@ ation@@ ()); }
@java.lang.Override public java.lang.@@ L@@ on@@ g get@@ Ra@@ w@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain object@@ ) { long ava@@ il@@ able@@ Disk@@ S@@ iz@@ e = ((@@ objec@@ t.get@@ Available@@ Disk@@ Size@@ ()) != null@@ ) ? objec@@ t.get@@ Available@@ Disk@@ Size@@ () : 0@@ ; return ava@@ il@@ able@@ Disk@@ Size@@ ; }
private void add@@ Vi@@ de@@ o@@ C@@ ard@@ By@@ Display@@ Type(@@ org.ovirt.engine.core.common.businessentities.@@ Display@@ Type dis@@ play@@ Type@@ ) { java.util.@@ Map struc@@ t = new java.util.Hash@@ Map@@ (); struc@@ t.@@ put(@@ VdsProperties.@@ Type, VmDevice@@ Type.@@ V@@ ID@@ E@@ O@@ .get@@ Name()); struc@@ t.@@ put(@@ VdsProperties.@@ Device@@ , dis@@ play@@ Typ@@ e.get@@ VmDevice@@ Type@@ ().get@@ Name()); struc@@ t.@@ put(@@ VdsProperties.@@ Sp@@ ec@@ Param@@ s, org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Builder@@ .get@@ New@@ Monitor@@ Sp@@ ec@@ Param@@ s()); struc@@ t.@@ put(@@ VdsProperties.@@ Device@@ Id, java.lang.String.@@ value@@ Of@@ (@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ())); de@@ vic@@ es.@@ add(@@ struc@@ t@@ ); }
protected org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ Model get@@ Import@@ Model@@ () { org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ Model@@ (); model.set@@ Title(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Constant@@ s@@ ()@@ .@@ import@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ es@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ Tag@@ .@@ import@@ _@@ vi@@ r@@ tu@@ al@@ _@@ m@@ ach@@ in@@ e@@ ); model.set@@ Hash@@ Name(@@ "@@ import@@ _@@ vi@@ r@@ tu@@ al@@ _@@ m@@ ach@@ in@@ e@@ "); model.set@@ Entity@@ (get@@ Entity@@ ()); return model@@ ; }
@java.lang.Override protected void config@@ ure@@ () { b@@ in@@ d@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Console@@ Option@@ s@@ Frontend@@ P@@ ers@@ ist@@ er@@ .@@ class@@ ).@@ to@@ (@@ org.ovirt.engine.ui.common.@@ utils.@@ Console@@ Option@@ s@@ Frontend@@ P@@ ers@@ ist@@ er@@ Im@@ pl@@ .@@ class@@ ).@@ in@@ (c@@ om.google.@@ in@@ j@@ ec@@ t.@@ Sing@@ leton@@ .@@ class@@ ); b@@ in@@ d@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Console@@ Util@@ s@@ .@@ class@@ ).@@ to@@ (@@ org.ovirt.engine.ui.common.@@ utils.@@ Console@@ Util@@ s@@ Im@@ pl@@ .@@ class@@ ).@@ in@@ (c@@ om.google.@@ in@@ j@@ ec@@ t.@@ Sing@@ leton@@ .@@ class@@ ); b@@ in@@ d@@ (@@ org.ovirt.engine.ui.common.@@ utils.@@ Console@@ Manager@@ .@@ class@@ ).@@ in@@ (c@@ om.google.@@ in@@ j@@ ec@@ t.@@ Sing@@ leton@@ .@@ class@@ ); }
@org.junit.Test public void test@@ Get@@ AllFor@@ Storage@@ Empty@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ profil@@ es.@@ Disk@@ Profile@@ > result = d@@ ao@@ .get@@ AllFor@@ StorageDomain@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), null@@ , false@@ ); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ True@@ (@@ result.@@ isEmpty@@ ()); }
private void add@@ Bond@@ To@@ Update@@ List@@ (org.ovirt.engine.core.common.businessentities.network.@@ Bon@@ d bond@@ ) { for (org.ovirt.engine.core.common.businessentities.network.@@ Bon@@ d old@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bon@@ d : host@@ SetupNetworks@@ Parameters@@ Data@@ .@@ new@@ Or@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bon@@ ds@@ ) { if (@@ old@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bond@@ .getName@@ ().@@ equals(@@ bond@@ .getName@@ ())) { host@@ SetupNetworks@@ Parameters@@ Data@@ .@@ new@@ Or@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bond@@ s.@@ remove@@ (@@ old@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bond@@ ); break@@ ; } } host@@ SetupNetworks@@ Parameters@@ Data@@ .@@ new@@ Or@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bond@@ s.add(@@ bond@@ ); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { m@@ Vm@@ List@@ Retur@@ n = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Vm@@ Stat@@ s@@ VDS@@ Command.get@@ Broker@@ ().get@@ Vm@@ Stat@@ s(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Vm@@ Stat@@ s@@ VDS@@ Command.getParameters().get@@ Vm@@ Id().@@ toString()); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Vm@@ Stat@@ s@@ VDS@@ Command.@@ pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); set@@ ReturnValue@@ (c@@ reate@@ Vm@@ Internal@@ Data@@ (m@@ Vm@@ List@@ Return@@ .m@@ Info@@ List@@ [@@ 0@@ ]@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Vm@@ Stat@@ s@@ VDS@@ Command.get@@ Vds@@ ())); }
public org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.String> get@@ U@@ i@@ L@@ ang@@ u@@ age@@ () { return private@@ U@@ i@@ L@@ ang@@ u@@ age@@ ; }
@org.junit.Test public void update@@ Vm@@ Devices@@ Not@@ Null@@ () { org.ovirt.engine.core.compat.Guid vm@@ Gui@@ d = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); when@@ (vm@@ DAO@@ .get@@ VmDevice@@ By@@ Vm@@ Id@@ (vm@@ Guid@@ )).@@ thenReturn(@@ java.util.Collections.@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ >@@ em@@ pty@@ List@@ ()); java.util.Hash@@ Map vm = new java.util.Hash@@ Map@@ (); vm@@ .@@ put(@@ VdsProperties.@@ vm@@ _@@ g@@ uid@@ , vm@@ Guid@@ .@@ toString()); java.util.Map<java.lang.String, java.lang.Object> de@@ vice@@ Proper@@ ti@@ es = new java.util.HashMap<@@ java.lang.String, java.lang.Object@@ >(); org.ovirt.engine.core.compat.Guid de@@ vice@@ I@@ D = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); de@@ vice@@ Properties.@@ put(@@ VdsProperties.@@ Device@@ Id, de@@ vice@@ ID@@ .@@ toString()); de@@ vice@@ Properties.@@ put(@@ VdsProperties.@@ Address@@ , java.util.Collections.@@ em@@ pty@@ Map@@ ()); de@@ vice@@ Properties.@@ put(@@ VdsProperties.@@ Device@@ , "@@ a@@ Device@@ "); de@@ vice@@ Properties.@@ put(@@ VdsProperties.@@ Type, VmDevice@@ Gener@@ al@@ Type.@@ DIS@@ K@@ .get@@ Value@@ ()); vm@@ .@@ put(@@ VdsProperties.@@ Devices@@ , new java.util.Hash@@ Map@@ []{ new java.util.Hash@@ Map@@ (@@ de@@ vice@@ Properties@@ ) }); vm@@ In@@ fo = new java.util.Hash@@ Map@@ []{ vm }; vm@@ s@@ Monitor@@ ing.@@ update@@ Vm@@ Devic@@ es(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (vm@@ Guid@@ .@@ toString@@ ())); junit.@@ fr@@ ame@@ wor@@ k.@@ As@@ sert@@ .@@ assert@@ Equals@@ ("@@ w@@ ron@@ g num@@ b@@ er of new de@@ vic@@ es@@ ", 1, vm@@ s@@ Monitor@@ ing.@@ get@@ New@@ Vm@@ Devices@@ ().@@ size@@ ()); junit.@@ fr@@ ame@@ wor@@ k.@@ As@@ sert@@ .@@ assert@@ Equals@@ ("@@ w@@ ron@@ g num@@ b@@ er of remove@@ d de@@ vic@@ es@@ ", 0@@ , vm@@ s@@ Monitor@@ ing.@@ get@@ Rem@@ oved@@ Vm@@ Devices@@ ().@@ size@@ ()); }
private do@@ ubl@@ e get@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s(@@ T size@@ ) { do@@ ubl@@ e size@@ In@@ G@@ B = -@@ 1@@ ; switch (@@ un@@ it@@ ) { case B@@ Y@@ T@@ E : size@@ In@@ G@@ B = (s@@ ize@@ .@@ do@@ ubl@@ e@@ Value@@ ()) / (java.lang.@@ M@@ ath@@ .@@ p@@ ow@@ (@@ 1@@ 0@@ 2@@ 4@@ , 3@@ )); break@@ ; case G@@ I@@ G@@ AB@@ Y@@ T@@ E : size@@ In@@ G@@ B = size@@ .@@ do@@ ubl@@ e@@ Value@@ (); break@@ ; } return size@@ In@@ G@@ B@@ ; }
@java.lang.Override public void save@@ (org.ovirt.engine.core.common.businessentities.@@ Async@@ T@@ as@@ k task@@ ) { org.ovirt.engine.core.dao.@@ AsyncTask@@ Dao@@ Impl.@@ AsyncTask@@ Parameter@@ Source parameter@@ Source = get@@ Task@@ Parameter@@ Source@@ (@@ task@@ ); parameter@@ S@@ ource.@@ addValue("@@ st@@ ar@@ ted@@ _@@ at@@ ", task@@ .get@@ Start@@ Time@@ ()); parameter@@ S@@ ource.@@ addValue("@@ storage_@@ pool@@ _id", task@@ .get@@ StoragePool@@ Id()); parameter@@ S@@ ource.@@ addValue("@@ async@@ _@@ task@@ _@@ type@@ ", task@@ .get@@ Task@@ Type@@ ()); get@@ Call@@ sHandler@@ ().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ In@@ sert@@ async@@ _@@ task@@ s", parameter@@ Source@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ > get@@ AllFor@@ R@@ ol@@ e(@@ org.ovirt.engine.core.compat.Guid id@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ id@@ ", id@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Role@@ Action@@ Group@@ sBy@@ Role@@ Id@@ ", org.ovirt.engine.core.dao.@@ Action@@ Group@@ Dao@@ Impl.@@ Action@@ Group@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ N@@ F@@ S m@@ oun@@ t p@@ at@@ h is il@@ le@@ g@@ al@@ , ple@@ ase us@@ e [@@ I@@ P@@ :@@ /@@ p@@ at@@ h or F@@ Q@@ D@@ N@@ :@@ /@@ p@@ ath@@ ] con@@ v@@ en@@ tion@@ .@@ ") java.lang.String n@@ fs@@ M@@ ount@@ P@@ ash@@ Is@@ I@@ l@@ le@@ g@@ al@@ M@@ s@@ g@@ ();
@java.lang.Override public void on@@ Fail@@ ed(@@ org.ovirt.engine.core.compat.Guid cmd@@ Id, java.util.List<@@ org.ovirt.engine.core.compat.Guid> ch@@ ild@@ C@@ md@@ Id@@ s) { org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ remove@@ All@@ Command@@ s@@ In@@ H@@ i@@ er@@ arch@@ y@@ (cmd@@ Id); }
@java.lang.Override public org.ovirt.engine.core.common.utils.Pair@@ <@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ , org.ovirt.engine.core.compat.Guid> run@@ Bal@@ ance@@ (java.lang.String b@@ al@@ ance@@ Name, java.util.List<@@ org.ovirt.engine.core.compat.Guid> host@@ ID@@ s, java.util.Map<java.lang.String, java.lang.String> proper@@ ties@@ Map@@ ) { try { org.apach@@ e.@@ x@@ ml@@ rpc@@ .client.@@ XmlR@@ pc@@ Cli@@ ent cli@@ ent = new org.apach@@ e.@@ x@@ ml@@ rpc@@ .client.@@ XmlR@@ pc@@ Client@@ (); client.@@ set@@ Config@@ (@@ config@@ ); java.lang.Object result = client.@@ execute@@ (org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Broker@@ Impl.@@ B@@ AL@@ AN@@ C@@ E, create@@ Bal@@ ance@@ Arg@@ s(@@ b@@ al@@ ance@@ Name, host@@ ID@@ s, proper@@ ties@@ Map@@ )); return par@@ se@@ Bal@@ ance@@ Result@@ s(@@ result@@ ); } catch (@@ org.apach@@ e.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Exception e) { org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Broker@@ Impl.@@ log.error("@@ C@@ oul@@ d not c@@ omm@@ un@@ ic@@ ate wit@@ h the ex@@ ter@@ n@@ al schedul@@ er while b@@ al@@ an@@ c@@ ing@@ ", e); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ g@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log@@ (@@ log@@ g@@ able@@ , AuditLogType.@@ FAILED_@@ TO@@ _C@@ ON@@ N@@ EC@@ T_@@ TO@@ _S@@ C@@ H@@ ED@@ U@@ L@@ ER_@@ P@@ RO@@ X@@ Y@@ ); return null@@ ; } }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ User@@ > fin@@ d@@ Us@@ ers@@ (@@ java.util.List<java.lang.String> id@@ s) { java.util.List<@@ org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ Id@@ Type@@ > id@@ Type@@ s = new java.util.ArrayList<>(); for (java.lang.String id : id@@ s) { id@@ Typ@@ es.@@ add@@ (@@ new org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ Id@@ Type(@@ id@@ )); } org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ L@@ dap@@ ReturnValue@@ Base l@@ dap@@ Result = broker.@@ run@@ Ad@@ Action@@ (@@ Ad@@ ActionType.@@ Get@@ Ad@@ User@@ By@@ User@@ Id@@ List@@ , new org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ L@@ dap@@ Search@@ By@@ User@@ Id@@ List@@ Parameters@@ (get@@ Name(), id@@ Typ@@ es@@ )); @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") java.util.List<org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ User@@ > l@@ dap@@ User@@ s = ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ User@@ >) (@@ l@@ dap@@ Res@@ ult.get@@ ReturnValue@@ ())); return map@@ Us@@ ers@@ (@@ l@@ dap@@ Us@@ ers@@ ); }
private static java.util.@@ Map get@@ Data@@ (@@ java.@@ net@@ .@@ Http@@ UR@@ L@@ Conn@@ ec@@ tion connection@@ ) throw@@ s java.lang.Exception { try (@@ java.io.@@ By@@ te@@ Array@@ Out@@ put@@ St@@ rea@@ m o@@ s = new java.io.@@ By@@ te@@ Array@@ Out@@ put@@ St@@ ream@@ ()) { try (@@ java.io.@@ In@@ put@@ St@@ rea@@ m in@@ pu@@ t = connection@@ .get@@ In@@ put@@ St@@ ream@@ ()) { org.ovirt.engine.core.@@ aaa.@@ filter@@ s.@@ Fil@@ t@@ ers@@ Helper.@@ c@@ opy@@ (in@@ put@@ , os@@ ); } java.lang.@@ Class@@ Lo@@ ade@@ r lo@@ ade@@ r = java.lang.@@ Th@@ read@@ .@@ current@@ Th@@ read@@ ().get@@ Context@@ Class@@ Lo@@ ad@@ er@@ (); java.lang.@@ Th@@ read@@ .@@ current@@ Th@@ read@@ ().set@@ Context@@ Class@@ Lo@@ ad@@ er@@ (@@ org.ovirt.engine.core.@@ aaa.@@ SS@@ O@@ O@@ Auth@@ Service@@ Util@@ s@@ .@@ class@@ .get@@ Class@@ Lo@@ ad@@ er@@ ()); try { org.ovirt.engine.core.@@ aaa.@@ SS@@ O@@ O@@ Auth@@ Service@@ Utils.@@ log.info@@ (@@ new java.lang.String@@ (@@ o@@ s.@@ to@@ By@@ te@@ Array@@ (), java.@@ n@@ i@@ o@@ .@@ char@@ set@@ .@@ St@@ and@@ ard@@ Ch@@ ar@@ set@@ s.@@ U@@ T@@ F@@ _@@ 8@@ .@@ name@@ ())); return new org.ovirt.engine.core.utils.@@ ser@@ ial@@ iz@@ ation.@@ json@@ .@@ Json@@ Object@@ D@@ es@@ er@@ ial@@ iz@@ er@@ ().@@ d@@ es@@ er@@ ial@@ ize@@ (@@ new java.lang.String@@ (@@ o@@ s.@@ to@@ By@@ te@@ Array@@ (), java.@@ n@@ i@@ o@@ .@@ char@@ set@@ .@@ St@@ and@@ ard@@ Ch@@ ar@@ set@@ s.@@ U@@ T@@ F@@ _@@ 8@@ .@@ name@@ ()), java.util.Hash@@ Map@@ .@@ class@@ ); } final@@ l@@ y { java.lang.@@ Th@@ read@@ .@@ current@@ Th@@ read@@ ().set@@ Context@@ Class@@ Lo@@ ad@@ er@@ (@@ load@@ er@@ ); } } }
private void save@@ Hook@@ Content@@ (@@ java.util.List<@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Call@@ able@@ <@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Hook@@ Entity@@ , org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue@@ >@@ >> cont@@ ent@@ Task@@ s@@ List@@ ) { if (@@ cont@@ ent@@ Task@@ s@@ List.@@ isEmpty@@ ()) { return@@ ; } java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Hook@@ Entity@@ , org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue@@ >> p@@ a@@ ir@@ Result@@ s = org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ in@@ vo@@ ke@@ All@@ (@@ cont@@ ent@@ Task@@ s@@ List@@ ); for (org.ovirt.engine.core.common.@@ utils.@@ Pair@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Hook@@ Entity@@ , org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue@@ > p@@ a@@ ir@@ Result : p@@ a@@ ir@@ Result@@ s) { final org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Hook@@ Entity h@@ oo@@ k = p@@ a@@ ir@@ Res@@ ult.get@@ F@@ ir@@ st@@ (); final java.lang.String cont@@ ent = ((@@ java.lang.String@@ ) (p@@ a@@ ir@@ Res@@ ult.get@@ Sec@@ ond@@ ().get@@ ReturnValue@@ ())); get@@ Hook@@ s@@ Dao().@@ update@@ Gluster@@ Hook@@ Content@@ (@@ h@@ ook@@ .get@@ Id(), h@@ ook@@ .get@@ Check@@ s@@ um@@ (), cont@@ ent@@ ); } }
protected void Update@@ Hook@@ Status@@ In@@ Db@@ (org.ovirt.engine.core.compat.Guid cluster@@ Id, java.lang.String h@@ ook@@ Name, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Hook@@ Status status@@ ) { org.ovirt.engine.core.bll.@@ gluster.Gluster@@ CommandBase.get@@ Gluster@@ Hook@@ Dao().@@ update@@ Gluster@@ Hook@@ Status@@ By@@ Name@@ (cluster@@ Id, h@@ ook@@ Name, status@@ ); }
@java.lang.Override public java.lang.String toString@@ () { return super@@ .@@ toString@@ (); }
private boolean no@@ Chang@@ es@@ Det@@ ected@@ () { return ((@@ ((get@@ Network@@ s().@@ isEmpty@@ ()) && (get@@ Rem@@ oved@@ Network@@ s().@@ isEmpty@@ ())) && (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Host@@ SetupNetworks@@ Command.getParameters().get@@ Bon@@ ds@@ ().is@@ Empty@@ ())) && (get@@ Rem@@ oved@@ Bon@@ ds@@ ().is@@ Empty@@ ())) && (get@@ Rem@@ oved@@ Un@@ manage@@ d@@ Network@@ s().@@ isEmpty@@ ()); }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = 1@@ ; result = (@@ pri@@ m@@ e * result) + (s@@ c@@ op@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ do@@ ne@@ A@@ t.@@ hash@@ Code@@ ()); return result@@ ; }
@org.junit.Test public void test@@ Vms@@ With@@ No@@ Iso@@ Attached@@ () { mock@@ Domain@@ (); do@@ Return@@ (@@ do@@ m@@ ain@@ ).when@@ (cmd@@ ).get@@ StorageDomain@@ (); do@@ Return@@ (vm@@ Static@@ Dao@@ ).when@@ (cmd@@ ).get@@ Vm@@ Static@@ Dao@@ (); when@@ (vm@@ Static@@ Dao.get@@ All@@ By@@ StoragePool@@ Id(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ thenReturn(@@ java.util.Collections.@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Static@@ >@@ em@@ pty@@ List@@ ()); assert@@ True@@ (cmd@@ .is@@ Run@@ ning@@ Vms@@ With@@ Iso@@ Attached@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ Validation@@ Messages@@ ().is@@ Empty@@ ()); }
@java.lang.Override protected void execute@@ Vm@@ Command() { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ w@@ ar@@ n@@ Memory@@ Size@@ Le@@ g@@ al@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ E@@ ff@@ ec@@ tive@@ CompatibilityVersion@@ ()); java.util.List<java.lang.String> error@@ Message@@ s = new java.util.ArrayList<>(); if (!@@ (c@@ an@@ AddVm@@ (@@ error@@ Messages@@ , d@@ est@@ Stor@@ ages.@@ valu@@ es@@ ()))) { log.error("@@ Fail@@ ed to ad@@ d VM@@ . Th@@ e re@@ ason@@ s are@@ : {}@@ ", java.lang.String.@@ j@@ o@@ in@@ ("@@ ,@@ ", error@@ Messages@@ )); return@@ ; } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { add@@ Vm@@ Static@@ (); add@@ Vm@@ Dynamic@@ (); add@@ VmNetwork@@ (); add@@ Vm@@ Numa@@ Nod@@ es@@ (); add@@ Active@@ Snapshot@@ (); add@@ Vm@@ Permission@@ (); add@@ Vm@@ Init@@ (); add@@ Vm@@ R@@ ng@@ Device@@ (); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; }); if (@@ add@@ Vm@@ Images@@ ()) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { c@@ opy@@ Disk@@ Vm@@ Element@@ s(); c@@ opy@@ Vm@@ Devices@@ (); add@@ Disk@@ Permission@@ s(); add@@ Vm@@ P@@ ay@@ load@@ (); update@@ S@@ m@@ art@@ C@@ ard@@ Devices@@ (); add@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ (); add@@ Graphics@@ Device@@ (); set@@ Action@@ ReturnValue@@ (get@@ Vm().get@@ Id()); set@@ Succeeded@@ (@@ true@@ ); return null@@ ; }); } if ((org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Pool@@ Id()) != null@@ ) { add@@ Vm@@ To@@ Pool@@ (); } }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshot@@ Vm@@ Configuration@@ Help@@ er snapshot@@ Vm@@ Configuration@@ Help@@ er = get@@ Snapshot@@ Vm@@ Configuration@@ Helper@@ (); org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t = get@@ Snapshot@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Get@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Query.get@@ Parameters().get@@ Id(), S@@ napsho@@ t.@@ Snapshot@@ Type.@@ N@@ EX@@ T_@@ R@@ UN@@ , org.ovirt.engine.core.bll.@@ Get@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.@@ Get@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ()); org.ovirt.engine.core.common.businessentities.VM vm = null@@ ; if (s@@ napsho@@ t != null@@ ) { vm = snapshot@@ Vm@@ Configuration@@ Helper@@ .get@@ Vm@@ From@@ Configuration@@ (s@@ napsho@@ t.get@@ Vm@@ Configuration@@ (), s@@ napsho@@ t.get@@ Vm@@ Id(), s@@ napsho@@ t.get@@ Id()); } org.ovirt.engine.core.bll.@@ Get@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (vm@@ ); }
private void update@@ Add@@ And@@ Sel@@ ect@@ Host@@ Avail@@ ab@@ ility@@ (@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > ava@@ il@@ able@@ Host@@ s) { org.ovirt.engine.ui.uicommonweb.UICommand temp@@ V@@ a@@ r = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Add@@ Host@@ ", this@@ ); tempVar@@ .set@@ Is@@ Execution@@ Allow@@ ed@@ ((@@ (cluster@@ s.@@ size()) > 0@@ )); if (@@ hosts.@@ isEmpty@@ ()) { tempVar@@ .set@@ Title(@@ DataCenter@@ Configur@@ e@@ Host@@ s@@ Action@@ ); get@@ Comp@@ ul@@ s@@ ory@@ Action@@ s().@@ add(@@ tempVar@@ ); } else { tempVar@@ .set@@ Title(@@ DataCenter@@ Add@@ An@@ oth@@ er@@ Host@@ Action@@ ); get@@ Option@@ al@@ Action@@ s().@@ add(@@ tempVar@@ ); } org.ovirt.engine.ui.uicommonweb.UICommand s@@ el@@ ect@@ Host@@ Ac@@ tion = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Sel@@ ect@@ Host@@ ", this@@ ); s@@ el@@ ect@@ Host@@ Action@@ .set@@ Is@@ Change@@ able@@ (((@@ ava@@ il@@ able@@ Host@@ s.@@ size()) > 0@@ )); s@@ el@@ ect@@ Host@@ Action@@ .set@@ Is@@ Execution@@ Allow@@ ed@@ (((@@ ava@@ il@@ able@@ Host@@ s.@@ size()) > 0@@ )); if ((@@ cluster@@ s.@@ size()) > 0) { if (@@ hosts.@@ isEmpty@@ ()) { s@@ el@@ ect@@ Host@@ Action@@ .set@@ Title(@@ DataCenter@@ Sel@@ ect@@ Host@@ s@@ Action@@ ); get@@ Comp@@ ul@@ s@@ ory@@ Action@@ s().@@ add@@ (s@@ el@@ ect@@ Host@@ Action@@ ); } else { s@@ el@@ ect@@ Host@@ Action@@ .set@@ Title(@@ DataCenter@@ Sel@@ ect@@ Host@@ s@@ Action@@ ); get@@ Option@@ al@@ Action@@ s().@@ add@@ (s@@ el@@ ect@@ Host@@ Action@@ ); } }
@org.junit.Test public void canDoAction@@ Update@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ Vm@@ Up@@ () { canDoAction@@ Update@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ (@@ true@@ ); }
private java.lang.String get@@ T@@ ool@@ T@@ ip@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Status@@ C@@ el@@ l.@@ V@@ O@@ LU@@ M@@ E@@ ST@@ AT@@ U@@ S status@@ ) { switch (@@ status@@ ) { case DO@@ W@@ N : return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Status@@ C@@ el@@ l.@@ V@@ O@@ LU@@ M@@ E@@ ST@@ AT@@ U@@ S status@@ ) { case DO@@ W@@ N : return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Status@@ C@@ el@@ l.@@ V@@ O@@ LU@@ M@@ E@@ ST@@ AT@@ U@@ S : return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Status@@ C@@ el@@ l.@@ V@@ O@@ LU@@ M@@ E@@ .@@ const@@ an@@ t@@ s.@@ volume@@ All@@ Brick@@ s@@ Down@@ (); default : return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Status@@ C@@ el@@ l.@@ V@@ O@@ LU@@ M@@ E@@ ST@@ AT@@ U@@ S : return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Status@@ C@@ el@@ l.@@ templat@@ e.@@ volume@@ Brick@@ s@@ Down@@ (); } }
protected boolean is@@ Image@@ Ex@@ cl@@ us@@ ive@@ Lock@@ N@@ e@@ ded@@ () { return ((get@@ Disk@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) && ((((@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ) (get@@ Disk@@ ())@@ ).get@@ Volume@@ Format@@ ()) != (org.ovirt.engine.core.common.businessentities.@@ Volume@@ For@@ ma@@ t.@@ R@@ A@@ W@@ )); }
public int get@@ Cpu@@ L@@ im@@ it@@ () { return cpu@@ L@@ im@@ it@@ ; }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > get@@ Images@@ To@@ Pre@@ view@@ () { if ((@@ im@@ ages@@ To@@ Pre@@ view@@ ) == null@@ ) { im@@ ages@@ To@@ Pre@@ vi@@ e@@ w = ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ Command.getParameters().get@@ Disks@@ ()) != null@@ ) ? org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ Command.getParameters().get@@ Disks@@ () : org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ Command.get@@ DbFacade@@ ().get@@ DiskImage@@ Dao().get@@ AllSnapshots@@ For@@ Vm@@ Snapshot@@ (get@@ D@@ st@@ Snapshot@@ ().get@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > Cinder@@ Images@@ To@@ Pre@@ vi@@ e@@ w = org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Cinder@@ Disk@@ s(@@ im@@ ages@@ To@@ Pre@@ view@@ ); im@@ ages@@ To@@ Pre@@ vi@@ e@@ w = org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disk@@ s(@@ im@@ ages@@ To@@ Pre@@ view@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ ON@@ L@@ Y_@@ NOT_@@ S@@ H@@ A@@ RE@@ AB@@ LE@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ ON@@ L@@ Y_@@ S@@ NA@@ P@@ AB@@ LE@@ ); im@@ ages@@ To@@ Pre@@ view@@ .@@ add@@ All@@ (@@ Cinder@@ Images@@ To@@ Pre@@ view@@ ); } return im@@ ages@@ To@@ Pre@@ view@@ ; }
@org.junit.Test public void test@@ Get@@ File@@ From@@ String@@ H@@ app@@ y@@ () { java.io.@@ Fil@@ e fil@@ e = new java.io.@@ File@@ ("@@ /@@ et@@ c@@ "); java.io.@@ Fil@@ e test@@ Fil@@ e = org.ovirt.engine.core.utils.@@ Servlet@@ Utils.@@ ma@@ ke@@ File@@ From@@ S@@ an@@ e@@ Path@@ ("@@ host@@ s", fil@@ e); assert@@ Equals@@ (@@ "@@ new fil@@ e shoul@@ d b@@ e s@@ am@@ e a@@ s ol@@ d fil@@ e@@ ", new java.io.@@ File@@ ("@@ /@@ et@@ c@@ /@@ host@@ s@@ "@@ ), test@@ File@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > get@@ All@@ (org.ovirt.engine.core.compat.Guid user@@ ID@@ , boolean is@@ Filter@@ ed@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Entity@@ Type entity@@ Type@@ ) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ All@@ From@@ Vm@@ Templ@@ at@@ es@@ ", org.ovirt.engine.core.dao.@@ VmTemplate@@ Dao@@ Impl.@@ VM@@ Template@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ entity@@ _@@ type@@ ", entity@@ Type.@@ name@@ ()).addValue("@@ user@@ _id", user@@ ID@@ ).@@ addValue("@@ is@@ _@@ filter@@ ed@@ ", is@@ Filter@@ ed@@ )); }
private void h@@ andle@@ Not@@ Log@@ ged@@ In@@ Event@@ (@@ final java.lang.String error@@ Message@@ ) { if ((@@ error@@ Mess@@ age != null@@ ) && (@@ error@@ Mess@@ age.@@ equals@@ ("@@ US@@ ER_@@ I@@ S_NOT_@@ LO@@ G@@ G@@ ED_@@ IN@@ "@@ ))) { f@@ rontend@@ Not@@ Log@@ ged@@ In@@ Ev@@ ent.@@ r@@ a@@ is@@ e(@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .@@ class@@ , EventArg@@ s.@@ EM@@ P@@ TY@@ ); } }
@java.lang.Override public java.lang.String toString@@ () { return java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s, p@@ ath@@ =@@ %@@ s", super@@ .@@ toString@@ (), p@@ ath@@ ); }
@org.junit.Test public void test@@ F@@ in@@ d@@ Mapping@@ E@@ n@@ try@@ Empty@@ In@@ put@@ () { org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface v@@ n@@ ic = new org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface@@ (); vnic@@ .set@@ Network@@ Name@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ External@@ VnicProfile@@ Mapping@@ F@@ in@@ d@@ Test.@@ NETWORK_@@ NAM@@ E); vnic@@ .set@@ VnicProfile@@ Name@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ External@@ VnicProfile@@ Mapping@@ F@@ in@@ d@@ Test.@@ V@@ N@@ IC@@ _P@@ RO@@ F@@ IL@@ E@@ 1@@ _@@ NAM@@ E); assert@@ That@@ (@@ act@@ u@@ al@@ , is@@ (java.util.@@ Option@@ al.@@ em@@ pty@@ ())); }
private void is@@ Model@@ C@@ ompati@@ bl@@ e@@ With@@ Os@@ Test@@ (@@ org.@@ h@@ am@@ c@@ res@@ t.@@ Match@@ er@@ <@@ org.ovirt.engine.core.bll.ValidationResult@@ > mat@@ ch@@ er@@ , org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g@@ Type w@@ atch@@ D@@ og@@ Model) { org.ovirt.engine.core.compat.@@ Version ver@@ si@@ on = new org.ovirt.engine.core.compat.@@ Version@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g vm@@ W@@ at@@ ch@@ do@@ g = new org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g@@ (); vm@@ W@@ at@@ ch@@ do@@ g.@@ set@@ Model@@ (@@ w@@ atch@@ D@@ og@@ Model@@ ); org.ovirt.engine.core.bll.validator.@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ Validator valid@@ ator = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.validator.@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ Validator@@ (0@@ , vm@@ W@@ at@@ ch@@ do@@ g@@ , version@@ )); org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ itor@@ y os@@ Rep@@ os@@ it@@ ory@@ .@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ class@@ ); when(@@ valid@@ ator@@ .get@@ Os@@ Rep@@ os@@ it@@ ory@@ ()).@@ thenReturn(@@ os@@ Rep@@ os@@ it@@ ory@@ ); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ W@@ atch@@ D@@ og@@ Model@@ s(@@ any@@ (@@ java.lang.Integer@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ validator.@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ Validator@@ Test.@@ W@@ AT@@ C@@ H@@ DO@@ G@@ _@@ M@@ O@@ DE@@ L@@ S@@ ); assert@@ That@@ (@@ validator.@@ is@@ Model@@ C@@ ompati@@ bl@@ e@@ With@@ Os@@ (), mat@@ ch@@ er@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate get@@ VmTemplate@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate = super@@ .get@@ VmTemplate@@ (); if ((!@@ (@@ are@@ Template@@ Disks@@ Update@@ d@@ )) && (@@ templ@@ ate != null@@ )) { org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ Update@@ Disks@@ From@@ Db@@ (@@ template@@ ); are@@ Template@@ Disks@@ Update@@ d = true@@ ; } return template@@ ; }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ r@@ a@@ w@@ typ@@ es@@ ") @java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c disk@@ Repl@@ icate@@ Start@@ (java.lang.String vm@@ UUID@@ , java.util.@@ Map s@@ r@@ c@@ Disk@@ , java.util.@@ Map d@@ st@@ Disk@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ VM@@ .@@ disk@@ Repl@@ icate@@ Start@@ ").@@ with@@ Parameter("@@ vm@@ ID@@ ", vm@@ UUID@@ ).@@ with@@ Parameter("@@ s@@ r@@ c@@ Disk@@ ", s@@ r@@ c@@ Disk@@ ).@@ with@@ Parameter("@@ d@@ st@@ Disk@@ ", d@@ st@@ Disk@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
private boolean validate@@ Bond@@ S@@ l@@ a@@ v@@ es@@ Count@@ () { boolean return@@ Value = true@@ ; for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ >> bond@@ E@@ n@@ try : bond@@ s.@@ e@@ n@@ try@@ Set@@ ()) { if ((@@ bond@@ E@@ n@@ try@@ .get@@ Value@@ ().@@ size()) < 2@@ ) { return@@ Value = false@@ ; add@@ Vi@@ ol@@ ation@@ (EngineMessage.@@ NETWORK_@@ B@@ ON@@ D@@ S_@@ IN@@ VALID@@ _S@@ L@@ A@@ V@@ E_@@ C@@ O@@ UN@@ T@@ , bond@@ E@@ n@@ try@@ .get@@ Key@@ ()); } } return return@@ Value@@ ; }
private static org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group cl@@ one@@ VDS@@ Group@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group instance@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group ob@@ j = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ (); obj@@ .set@@ Id(@@ in@@ stan@@ c@@ e.get@@ Id()); obj@@ .set@@ Name(@@ in@@ stan@@ c@@ e.get@@ Name()); obj@@ .set@@ d@@ escription@@ (in@@ stan@@ c@@ e.get@@ d@@ escription@@ ()); obj@@ .set@@ Comm@@ ent@@ (in@@ stan@@ c@@ e.get@@ Comm@@ ent@@ ()); obj@@ .set@@ cpu@@ _@@ name@@ (in@@ stan@@ c@@ e.get@@ cpu@@ _@@ name@@ ()); obj@@ .set@@ c@@ ompatibility@@ _@@ version@@ (in@@ stan@@ c@@ e.get@@ c@@ ompatibility@@ _@@ version@@ ()); obj@@ .set@@ Migrate@@ On@@ Error@@ (in@@ stan@@ c@@ e.get@@ Migrate@@ On@@ Error@@ ()); obj@@ .set@@ Trans@@ parent@@ H@@ u@@ g@@ ep@@ ages@@ (in@@ stan@@ c@@ e.get@@ Trans@@ parent@@ H@@ u@@ g@@ ep@@ ages@@ ()); obj@@ .set@@ StoragePool@@ Id(@@ in@@ stan@@ c@@ e.get@@ StoragePool@@ Id()); obj@@ .set@@ ma@@ x@@ _@@ vds@@ _@@ memory@@ _@@ o@@ ver@@ _@@ c@@ omm@@ it@@ (in@@ stan@@ c@@ e.get@@ ma@@ x@@ _@@ vds@@ _@@ memory@@ _@@ o@@ ver@@ _@@ c@@ omm@@ it@@ ()); obj@@ .set@@ Count@@ Th@@ rea@@ ds@@ As@@ C@@ or@@ es(@@ in@@ stan@@ c@@ e.get@@ Count@@ Th@@ rea@@ ds@@ As@@ C@@ or@@ es@@ ()); obj@@ .set@@ Ar@@ ch@@ it@@ ect@@ ure(@@ in@@ stan@@ c@@ e.get@@ Ar@@ ch@@ it@@ ect@@ ure@@ ()); return obj@@ ; }
@java.lang.Override protected void execute@@ I@@ r@@ s@@ Broker@@ Command() { org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ SP@@ M@@ Get@@ Volume@@ Info@@ VDS@@ Command.@@ log.info@@ ("@@ Execu@@ t@@ ing Get@@ Volume@@ In@@ fo usin@@ g the c@@ urr@@ ent SP@@ M@@ "); org.ovirt.engine.core.common.vdscommands.@@ Get@@ Volume@@ Info@@ VDSCommand@@ Parameters param@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Volume@@ Info@@ VDSCommand@@ Parameters(@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ SP@@ M@@ Get@@ Volume@@ Info@@ VDS@@ Command.get@@ C@@ urrent@@ I@@ r@@ s@@ Proxy@@ Data@@ ().get@@ C@@ urrent@@ Vds@@ Id(), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ SP@@ M@@ Get@@ Volume@@ Info@@ VDS@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ SP@@ M@@ Get@@ Volume@@ Info@@ VDS@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ SP@@ M@@ Get@@ Volume@@ Info@@ VDS@@ Command.getParameters().get@@ ImageGroup@@ Id(), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ SP@@ M@@ Get@@ Volume@@ Info@@ VDS@@ Command.getParameters().get@@ Image@@ Id()); params.set@@ Display@@ AuditLog@@ Message@@ (@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ SP@@ M@@ Get@@ Volume@@ Info@@ VDS@@ Command.get@@ Parameters@@ ().is@@ Display@@ AuditLog@@ Message@@ ()); set@@ VDS@@ ReturnValue@@ (@@ res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Volume@@ Info@@ , param@@ s@@ )); }
@org.junit.Test public void test@@ Get@@ All@@ () throw@@ s java.lang.Exception { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > int@@ er@@ fac@@ es = d@@ ao@@ .get@@ All@@ (); assert@@ Not@@ Null@@ (@@ int@@ er@@ fac@@ es@@ ); assert@@ Equals@@ (@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ N@@ U@@ M@@ B@@ ER_@@ O@@ F@@ _@@ VM_@@ IN@@ TER@@ F@@ AC@@ ES@@ , int@@ er@@ fac@@ es.@@ size@@ ()); }
public static int get@@ Content@@ L@@ ength@@ (java.lang.String mess@@ age@@ ) { java.lang.String@@ [@@ ] mess@@ age@@ Lin@@ es = mess@@ age.@@ s@@ pl@@ it@@ ("@@ \@@ n@@ "); int l@@ eng@@ h@@ t = 0@@ ; int i = 0@@ ; while (@@ i < ((@@ mess@@ age@@ Lin@@ es.@@ l@@ ength@@ ) - 1@@ )) { java.lang.String current@@ Lin@@ e = mess@@ age@@ Lin@@ es@@ [@@ (@@ +@@ i@@ )@@ ]@@ ; while ((@@ current@@ Lin@@ e.@@ l@@ ength@@ ()) > 0) { current@@ Lin@@ e = mess@@ age@@ Lin@@ es@@ [@@ (@@ +@@ +@@ i@@ )@@ ]@@ ; } i@@ +@@ +@@ ; java.lang.String@@ Buil@@ der cont@@ ent = new java.lang.String@@ Builder@@ (); java.lang.String end@@ Lin@@ e = null@@ ; for (@@ int k = i@@ ; k < (m@@ ess@@ age@@ Lin@@ es.@@ l@@ ength@@ ); k@@ +@@ +@@ ) { java.lang.String lin@@ e = mess@@ age@@ Lin@@ es@@ [@@ k@@ ]@@ ; if (@@ lin@@ e.c@@ on@@ t@@ ain@@ s(@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ im@@ pl.@@ Mess@@ age.@@ EN@@ D_@@ O@@ F@@ _@@ M@@ ES@@ S@@ AG@@ E@@ )) { int id@@ x = lin@@ e.@@ in@@ dex@@ Of@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ im@@ pl.@@ Mess@@ age.@@ EN@@ D_@@ O@@ F@@ _@@ M@@ ES@@ S@@ AG@@ E); cont@@ ent.@@ append@@ (@@ lin@@ e.@@ sub@@ st@@ ring@@ (0@@ , id@@ x@@ )); end@@ Lin@@ e = lin@@ e.@@ sub@@ st@@ ring@@ ((@@ id@@ x + 1@@ ), lin@@ e.@@ l@@ ength@@ ()); break@@ ; } else { cont@@ ent.@@ append@@ (@@ lin@@ e); } } l@@ eng@@ h@@ t +@@ = cont@@ ent.@@ l@@ ength@@ (); if (!(@@ isEmpty@@ (@@ end@@ Lin@@ e@@ ))) { mess@@ age@@ Lin@@ es@@ [@@ i@@ ] = end@@ Lin@@ e@@ ; } else { i@@ +@@ +@@ ; } } return l@@ eng@@ ht@@ ; }
public void init@@ (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Q@@ o@@ S q@@ os@@ ) { if (@@ q@@ o@@ s == null@@ ) { network@@ Q@@ o@@ S = new org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ oS@@ (); } else { network@@ Q@@ o@@ S = q@@ os@@ ; } if ((((@@ network@@ Q@@ oS@@ .get@@ In@@ b@@ ound@@ A@@ ver@@ age@@ ()) == null@@ ) || ((@@ network@@ Q@@ oS@@ .get@@ In@@ b@@ ound@@ P@@ e@@ a@@ k@@ ()) == null@@ )) || ((@@ network@@ Q@@ oS@@ .get@@ In@@ b@@ ound@@ B@@ ur@@ st@@ ()) == null@@ )) { get@@ In@@ b@@ ound@@ ().get@@ Enabled@@ ().set@@ Entity@@ (@@ false@@ ); } else { get@@ In@@ b@@ ound@@ ().get@@ A@@ ver@@ age@@ ().set@@ Entity@@ (network@@ Q@@ oS@@ .get@@ In@@ b@@ ound@@ A@@ ver@@ age@@ ()); get@@ In@@ b@@ ound@@ ().get@@ P@@ e@@ a@@ k@@ ().set@@ Entity@@ (network@@ Q@@ oS@@ .get@@ In@@ b@@ ound@@ P@@ e@@ a@@ k@@ ()); get@@ In@@ b@@ ound@@ ().get@@ B@@ ur@@ st@@ ().set@@ Entity@@ (network@@ Q@@ oS@@ .get@@ In@@ b@@ ound@@ B@@ ur@@ st@@ ()); } if ((((@@ network@@ Q@@ oS@@ .get@@ Out@@ b@@ ound@@ A@@ ver@@ age@@ ()) == null@@ ) || ((@@ network@@ Q@@ oS@@ .get@@ Out@@ b@@ ound@@ P@@ e@@ a@@ k@@ ()) == null@@ )) || ((@@ network@@ Q@@ oS@@ .get@@ Out@@ b@@ ound@@ B@@ ur@@ st@@ ()) == null@@ )) { get@@ Out@@ b@@ ound@@ ().get@@ Enabled@@ ().set@@ Entity@@ (@@ false@@ ); } else { get@@ Out@@ b@@ ound@@ ().get@@ A@@ ver@@ age@@ ().set@@ Entity@@ (network@@ Q@@ oS@@ .get@@ Out@@ b@@ ound@@ A@@ ver@@ age@@ ()); get@@ Out@@ b@@ ound@@ ().get@@ P@@ e@@ a@@ k@@ ().set@@ Entity@@ (network@@ Q@@ oS@@ .get@@ Out@@ b@@ ound@@ P@@ e@@ a@@ k@@ ()); get@@ Out@@ b@@ ound@@ ().get@@ B@@ ur@@ st@@ ().set@@ Entity@@ (network@@ Q@@ oS@@ .get@@ Out@@ b@@ ound@@ B@@ ur@@ st@@ ()); } }
@@@ org.ovirt.engine.ui.common.@@ Template@@ ("@@ <@@ i@@ >@@ An@@ y val@@ id l@@ i@@ b@@ vi@@ r@@ t UR@@ I for@@ ma@@ t is al@@ low@@ ed for K@@ VM UR@@ I@@ . <@@ b@@ r /@@ >@@ " + ((((@@ "@@ Ex@@ am@@ pl@@ es@@ : <@@ b@@ r /@@ >@@ " + "@@ q@@ em@@ u@@ +@@ t@@ c@@ p@@ :@@ /@@ &@@ l@@ th@@ ost@@ name@@ &@@ g@@ t@@ /@@ s@@ yst@@ e@@ m <@@ b@@ r /@@ >@@ ") + "@@ q@@ em@@ u@@ +@@ s@@ sh@@ :@@ /@@ ro@@ ot@@ @@@ &@@ l@@ th@@ ost@@ name@@ &@@ g@@ t@@ /@@ p@@ at@@ h <@@ b@@ r /@@ >@@ ") + "@@ W@@ h@@ er@@ e '@@ &@@ l@@ th@@ ost@@ name@@ &@@ g@@ t@@ ' is the rem@@ ot@@ e hos@@ t h@@ yp@@ er@@ vi@@ s@@ or@@ . <@@ b@@ r /@@ > <@@ b@@ r /@@ >@@ ") + "@@ P@@ le@@ ase se@@ e l@@ i@@ b@@ vi@@ r@@ t do@@ c@@ um@@ ent@@ ation for m@@ or@@ e in@@ for@@ m@@ ation on l@@ i@@ b@@ vi@@ r@@ t UR@@ I for@@ mat@@ s and auth@@ entic@@ ation.@@ <@@ /@@ i@@ >@@ "@@ )) com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l k@@ vm@@ U@@ ri@@ Info@@ ();
private void update@@ Al@@ er@@ t@@ s@@ (@@ final org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ t@@ ab@@ .@@ host.@@ Sub@@ Tab@@ Host@@ Gener@@ al@@ Pres@@ enter.@@ View@@ De@@ f view@@ , final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Gener@@ al@@ Model model@@ ) { view@@ .@@ cl@@ e@@ ar@@ Al@@ er@@ t@@ s(); if (model.get@@ H@@ as@@ Up@@ gr@@ ade@@ Al@@ er@@ t@@ ()) { add@@ Text@@ Al@@ er@@ t@@ (@@ view@@ , mess@@ ages.@@ host@@ H@@ as@@ Up@@ gr@@ ade@@ Al@@ er@@ t@@ ()); } if (model.get@@ H@@ as@@ Re@@ in@@ st@@ all@@ Al@@ er@@ t@@ Non@@ Respon@@ si@@ ve@@ ()) { add@@ Text@@ Al@@ er@@ t@@ (@@ view@@ , mess@@ ages.@@ host@@ H@@ as@@ Re@@ in@@ st@@ all@@ Al@@ er@@ t@@ Non@@ Respon@@ si@@ ve@@ ()); } if (model.get@@ H@@ as@@ Re@@ in@@ st@@ all@@ Al@@ er@@ t@@ In@@ st@@ all@@ Fail@@ ed@@ ()) { add@@ Text@@ And@@ Link@@ Al@@ er@@ t@@ (@@ view@@ , mess@@ ages.@@ host@@ H@@ as@@ Re@@ in@@ st@@ all@@ Al@@ er@@ t@@ In@@ st@@ all@@ Fail@@ ed@@ (), model.get@@ In@@ st@@ all@@ Command@@ ()); } if (model.get@@ H@@ as@@ Re@@ in@@ st@@ all@@ Al@@ er@@ t@@ M@@ a@@ int@@ en@@ ance@@ ()) { add@@ Text@@ And@@ Link@@ Al@@ er@@ t@@ (@@ view@@ , mess@@ ages.@@ host@@ H@@ as@@ Re@@ in@@ st@@ all@@ Al@@ er@@ t@@ M@@ a@@ int@@ en@@ ance@@ (), model.get@@ In@@ st@@ all@@ Command@@ ()); } if (model.get@@ H@@ as@@ N@@ IC@@ s@@ Al@@ er@@ t@@ ()) { add@@ Text@@ And@@ Link@@ Al@@ er@@ t@@ (@@ view@@ , mess@@ ages.@@ host@@ H@@ as@@ N@@ IC@@ s@@ Al@@ er@@ t@@ (), model.get@@ S@@ ave@@ N@@ IC@@ s@@ Config@@ Command@@ ()); } if (model.get@@ H@@ as@@ Man@@ u@@ al@@ Fence@@ Al@@ er@@ t@@ ()) { add@@ Text@@ Al@@ er@@ t@@ (@@ view@@ , mess@@ ages.@@ host@@ H@@ as@@ Man@@ u@@ al@@ Fence@@ Al@@ er@@ t@@ ()); } if (((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Ap@@ plication@@ M@@ ode@@ Helper@@ .get@@ U@@ i@@ M@@ ode@@ ()) != (org.ovirt.engine.core.common.@@ m@@ od@@ e.@@ Ap@@ plication@@ Mod@@ e.@@ Gluster@@ Only@@ )) && (model.get@@ H@@ as@@ No@@ P@@ ow@@ er@@ Management@@ Al@@ er@@ t@@ ())) { add@@ Text@@ And@@ Link@@ Al@@ er@@ t@@ (@@ view@@ , mess@@ ages.@@ host@@ H@@ as@@ No@@ P@@ ow@@ er@@ Management@@ Al@@ er@@ t@@ (), model.get@@ Edit@@ Host@@ Command@@ ()); } if ((@@ model.get@@ Non@@ Operation@@ al@@ Reason@@ Entity@@ ()) != null@@ ) { add@@ Text@@ Al@@ er@@ t@@ (@@ view@@ , new org.ovirt.engine.ui.uicompat.@@ Enum@@ Trans@@ l@@ ator@@ ().get@@ (model.get@@ Non@@ Operation@@ al@@ Reason@@ ())); } }
private void add@@ Sp@@ ec@@ Param@@ s@@ Column@@ () { final org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ > sp@@ ec@@ Param@@ s@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity de@@ vice@@ ) { return de@@ vic@@ e.get@@ Sp@@ ec@@ Param@@ s().@@ toString@@ (); } }; sp@@ ec@@ Param@@ s@@ Column@@ .m@@ a@@ ke@@ S@@ ort@@ able@@ (); get@@ T@@ able@@ ().add@@ Column@@ (s@@ p@@ ec@@ Param@@ s@@ Column@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Devices@@ ListModel@@ T@@ able@@ .@@ const@@ an@@ t@@ s.@@ de@@ vice@@ Sp@@ ec@@ Param@@ s@@ Alias@@ (), "@@ 3@@ 00@@ p@@ x@@ "); }
public abstract java.util.Map<java.lang.String, java.lang.Integer@@ > get@@ Vi@@ de@@ o@@ Device@@ Param@@ s@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Base vm@@ Base@@ );
@java.lang.Override public void set@@ Enabled@@ (@@ boolean b@@ ) { this@@ .@@ b@@ e@@ Enabled@@ ; }
public org.ovirt.engine.core.bll.ValidationResult vm@@ Not@@ H@@ a@@ v@@ ing@@ Device@@ Snapshots@@ Attached@@ To@@ O@@ th@@ er@@ Vms@@ (@@ boolean on@@ ly@@ Plug@@ ged@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > vm@@ Disk@@ s = get@@ DbFacade@@ ().get@@ Disk@@ Dao().get@@ AllFor@@ Vm@@ (vm.get@@ Id()); org.ovirt.engine.core.bll.ValidationResult result = new org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Images@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disk@@ s(@@ vm@@ Disk@@ s, org.ovirt.engine.core.bll.validator.@@ ON@@ L@@ Y_@@ NOT_@@ S@@ H@@ A@@ RE@@ AB@@ LE@@ , org.ovirt.engine.core.bll.validator.@@ ON@@ L@@ Y@@ , org.ovirt.engine.core.bll.validator.@@ ON@@ V@@ E_@@ DIS@@ K@@ S_@@ ON@@ L@@ Y@@ )).@@ disk@@ Images@@ Snapshots@@ Not@@ Attached@@ To@@ O@@ th@@ er@@ Vm@@ s(@@ on@@ ly@@ Plug@@ ged@@ ); if (@@ result != (org.ovirt.engine.core.bll.@@ ValidationRes@@ ult.@@ VALID@@ )) { return result@@ ; } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { boolean ret@@ Value = true@@ ; st@@ e@@ p = get@@ Step@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ En@@ d@@ External@@ Step@@ Command.getParameters().get@@ Id()); if ((@@ st@@ ep@@ ) == null@@ ) { ret@@ Value = false@@ ; addCanDoActionMessage@@ (EngineMessage.@@ ACTION_TYPE_@@ NO@@ _@@ ST@@ E@@ P@@ ); } else if (!(@@ st@@ ep@@ .is@@ External@@ ())) { ret@@ Value = false@@ ; addCanDoActionMessage@@ (EngineMessage.@@ ACTION_TYPE_@@ NOT_@@ EX@@ TER@@ N@@ AL@@ ); } else { j@@ o@@ b = get@@ Job@@ Dao().get@@ (@@ st@@ ep@@ .get@@ Job@@ Id()); if ((@@ job@@ ) == null@@ ) { ret@@ Value = false@@ ; addCanDoActionMessage@@ (EngineMessage.@@ ACTION_TYPE_@@ NO@@ _@@ J@@ O@@ B@@ ); } if (!@@ ret@@ Value@@ ) { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ EN@@ D@@ ); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ EX@@ TER@@ N@@ AL@@ _@@ ST@@ E@@ P@@ ); } } return ret@@ Value@@ ; }
private void do@@ D@@ r@@ ag@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ D@@ r@@ ag@@ D@@ ro@@ p@@ Event@@ Base@@ <?@@ > event@@ , boolean is@@ D@@ ro@@ p@@ ) { org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ p@@ an@@ el@@ s.@@ Network@@ Item@@ Panel@@ .get@@ D@@ r@@ ag@@ D@@ ro@@ p@@ Event@@ Data@@ (@@ event@@ , is@@ D@@ ro@@ p@@ ); java.lang.String typ@@ e = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ p@@ an@@ el@@ s.@@ Network@@ Item@@ Panel@@ .get@@ Type(@@ d@@ r@@ ag@@ D@@ ro@@ p@@ Event@@ Data@@ ); java.lang.String dat@@ a = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ p@@ an@@ el@@ s.@@ Network@@ Item@@ Panel@@ .get@@ Data@@ (@@ d@@ r@@ ag@@ D@@ ro@@ p@@ Event@@ Data@@ ); if (@@ dat@@ a != null@@ ) { an@@ im@@ ated@@ Panel@@ .get@@ Element@@ ().add@@ Class@@ Name(@@ st@@ y@@ le.@@ network@@ Group@@ D@@ r@@ ag@@ O@@ ver@@ ()); ev@@ ent.@@ pre@@ vent@@ Default@@ (); } }
protected boolean can@@ AddVm@@ (@@ java.util.ArrayList<@@ java.lang.String> re@@ ason@@ s, java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > d@@ est@@ Stor@@ ages@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Static@@ From@@ Param@@ s = org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm@@ StaticData@@ (); if (!@@ (c@@ an@@ AddVm@@ (@@ re@@ ason@@ s, vm@@ Static@@ From@@ Param@@ s.get@@ Name(), org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ StoragePool@@ Id(), vm@@ Static@@ From@@ Param@@ s.get@@ P@@ ri@@ or@@ ity@@ ()))) { return false@@ ; } if (!(@@ validate@@ Custom@@ Properties@@ (vm@@ Static@@ From@@ Param@@ s, re@@ ason@@ s@@ ))) { return false@@ ; } if (@@ shoul@@ d@@ Check@@ Sp@@ ace@@ In@@ StorageDomain@@ s()) { if (!@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ StoragePool@@ Id().@@ equals@@ (get@@ StoragePool@@ Id@@ From@@ Source@@ Image@@ Contain@@ er@@ ()))) { re@@ ason@@ s.add(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ STORAGE_@@ P@@ O@@ OL@@ _@@ NOT_@@ M@@ AT@@ C@@ H@@ .@@ toString()); return false@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain do@@ ma@@ in : d@@ est@@ Stor@@ ages@@ ) { org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (@@ do@@ m@@ ain@@ ); if (!(@@ validate@@ (@@ storageDomain@@ Validator.@@ is@@ Domain@@ Exist@@ And@@ Active@@ ()))) { return false@@ ; } } if (!(@@ validate@@ Sp@@ ace@@ Requi@@ re@@ ment@@ s@@ ())) { return false@@ ; } } return is@@ D@@ ed@@ ic@@ ated@@ Vds@@ On@@ S@@ ame@@ Cluster@@ (vm@@ Static@@ From@@ Param@@ s); }
@org.junit.@@ ex@@ per@@ im@@ ent@@ al.@@ th@@ e@@ or@@ ies.@@ Th@@ e@@ or@@ y public void update@@ Rep@@ os@@ it@@ ory@@ _@@ M@@ I@@ G@@ R@@ A@@ TION_@@ F@@ RO@@ M@@ (@@ org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vm@@ Test@@ Pair@@ s data@@ ) { init@@ Mock@@ s(@@ data@@ , true@@ ); ass@@ um@@ e@@ Not@@ Null@@ (@@ data@@ .@@ db@@ Vm@@ (), data@@ .@@ vds@@ m@@ Vm@@ ()); ass@@ um@@ e@@ True@@ (((@@ data@@ .@@ vds@@ m@@ Vm().get@@ Vm@@ Dynamic@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Migr@@ at@@ ing@@ From@@ ))); ve@@ r@@ if@@ y@@ (@@ res@@ ource@@ Manager@@ , ne@@ ver@@ ())@@ .@@ int@@ er@@ nal@@ Set@@ Vm@@ Status(@@ data@@ .@@ db@@ Vm@@ (), VMStatus.@@ Migr@@ at@@ ing@@ To@@ ); }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = 1@@ ; result = (@@ pri@@ m@@ e * result) + ((@@ add@@ r@@ ) == null ? 0 : add@@ r@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ d@@ escription@@ ) == null ? 0 : d@@ escription@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ g@@ ate@@ w@@ ay@@ ) == null ? 0 : g@@ ate@@ w@@ ay@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ name@@ ) == null ? 0 : nam@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ dataCenter@@ Id) == null ? 0 : dataCenter@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ st@@ p ? 1@@ 2@@ 3@@ 1 : 1@@ 2@@ 3@@ 7@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ sub@@ net@@ ) == null ? 0 : sub@@ net@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ typ@@ e) == null ? 0 : typ@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ v@@ lan@@ Id) == null ? 0 : v@@ lan@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (m@@ tu@@ ); result = (@@ pri@@ m@@ e * result) + (vm@@ Network ? 1@@ 1 : 1@@ 3@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ provi@@ ded@@ By@@ ) == null ? 0 : provi@@ ded@@ By@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ label@@ ) == null ? 0 : l@@ ab@@ el.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ q@@ os@@ ) == null ? 0 : q@@ o@@ s.@@ hash@@ Code@@ ()); return result@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Th@@ er@@ e is n@@ o ac@@ ti@@ v@@ e Stor@@ age Domain to c@@ re@@ ate the Disk in@@ . P@@ le@@ ase ac@@ tiva@@ te a Stor@@ age Domain@@ .@@ ") java.lang.String th@@ er@@ e@@ Is@@ No@@ Active@@ StorageDomain@@ Create@@ Disk@@ In@@ M@@ s@@ g@@ ();
public org.ovirt.engine.api.model.@@ Network lo@@ o@@ k@@ up@@ Network@@ (org.ovirt.engine.core.compat.Guid id@@ ) { return lo@@ o@@ k@@ up@@ Network@@ (@@ id@@ , null@@ ); }
public org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Init@@ Model get@@ Vm@@ Init@@ Model@@ () { return vm@@ Init@@ Model@@ ; }
private boolean is@@ Update@@ Requi@@ red@@ (@@ org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ VM@@ .@@ VM@@ Status status@@ ) { if (((@@ stat@@ u@@ s == (@@ VM@@ .@@ VMStatus.@@ Up@@ )) || (@@ stat@@ u@@ s == (@@ VM@@ .@@ VMStatus.@@ P@@ ow@@ er@@ ing@@ Down@@ ))) || (@@ stat@@ u@@ s == (@@ VM@@ .@@ VMStatus.@@ Pa@@ us@@ ed@@ ))) { return true@@ ; } return false@@ ; }
@org.junit.Test public void all@@ Valu@@ es@@ Pres@@ ent@@ () { q@@ o@@ s.set@@ In@@ b@@ ound@@ A@@ ver@@ age@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Qos@@ Validator@@ Test.@@ B@@ AN@@ D@@ W@@ ID@@ TH@@ _@@ M@@ ED@@ I@@ U@@ M@@ ); q@@ o@@ s.set@@ In@@ b@@ ound@@ P@@ e@@ a@@ k@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Qos@@ Validator@@ Test.@@ B@@ AN@@ D@@ W@@ ID@@ TH@@ _@@ M@@ ED@@ I@@ U@@ M@@ ); q@@ o@@ s.set@@ In@@ b@@ ound@@ B@@ ur@@ st@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Qos@@ Validator@@ Test.@@ B@@ AN@@ D@@ W@@ ID@@ TH@@ _@@ M@@ ED@@ I@@ U@@ M@@ ); valu@@ es@@ Pres@@ ent@@ Test@@ (org.ovirt.engine.core.bll.@@ validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ ()); }
protected void remove@@ From@@ External@@ Network@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > int@@ er@@ fac@@ es@@ ) { javax.@@ trans@@ action.@@ Trans@@ ac@@ tion trans@@ ac@@ tion = org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ s@@ us@@ p@@ end@@ (); for (org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic if@@ ac@@ e : int@@ er@@ fac@@ es@@ ) { get@@ External@@ Network@@ Manager.@@ create@@ (@@ if@@ ace@@ ).@@ de@@ al@@ loc@@ ate@@ If@@ External@@ (); } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ res@@ um@@ e(@@ trans@@ action@@ ); }
public static org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type for@@ Value@@ (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ Type value@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type type@@ ; switch (@@ value@@ ) { case DIS@@ K : case C@@ D@@ RO@@ M : case F@@ LO@@ P@@ P@@ Y : typ@@ e = org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type.@@ DIS@@ K@@ ; break@@ ; case IN@@ TER@@ F@@ AC@@ E : case B@@ R@@ ID@@ G@@ E : typ@@ e = org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type.@@ IN@@ TER@@ F@@ AC@@ E@@ ; break@@ ; case V@@ ID@@ E@@ O : case C@@ I@@ R@@ R@@ U@@ S : case Q@@ X@@ L : typ@@ e = org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type.@@ V@@ ID@@ E@@ O@@ ; break@@ ; case S@@ O@@ UN@@ D : case AC@@ 9@@ 7 : case IC@@ H@@ 6 : typ@@ e = org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type.@@ S@@ O@@ UN@@ D@@ ; break@@ ; case C@@ ON@@ T@@ RO@@ L@@ LE@@ R : case US@@ B : typ@@ e = org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type.@@ C@@ ON@@ T@@ RO@@ L@@ L@@ L@@ ER@@ ; break@@ ; case B@@ AL@@ LO@@ O@@ N : case M@@ EM@@ B@@ AL@@ LO@@ O@@ N : typ@@ e = org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type.@@ B@@ AL@@ LO@@ ON@@ ; break@@ ; case R@@ ED@@ I@@ R : case SP@@ IC@@ E@@ VM@@ C : typ@@ e = org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type.@@ R@@ ED@@ I@@ R@@ ; break@@ ; case S@@ M@@ AR@@ T@@ C@@ AR@@ D : typ@@ e = org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type.@@ S@@ M@@ AR@@ T@@ C@@ AR@@ D@@ ; break@@ ; case W@@ AT@@ C@@ H@@ DO@@ G : typ@@ e = org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type.@@ W@@ AT@@ C@@ H@@ DO@@ G@@ ; default : typ@@ e = org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type@@ .@@ for@@ Value(@@ valu@@ e.get@@ Name()); break@@ ; } return type@@ ; }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Mem@@ or@@ y save@@ d on a d@@ if@@ fer@@ ent c@@ ompati@@ b@@ il@@ it@@ y ver@@ si@@ on can@@ not b@@ e proper@@ l@@ y res@@ t@@ or@@ ed@@ , f@@ ol@@ low@@ ing VM@@ s shoul@@ d b@@ e o@@ ff@@ :@@ ") java.lang.String C@@ LUSTER_@@ W@@ AR@@ N@@ _C@@ H@@ AN@@ G@@ E@@ ();
@java.lang.Override public com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Item@@ Model item@@ ) { switch (@@ item@@ .get@@ Status()) { case U@@ p : org.ovirt.engine.core.common.businessentities.VM vm = item@@ .get@@ VM@@ (); if (@@ vm == null@@ ) { return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ vm@@ Status@@ Run@@ ning@@ (); } if (vm@@ .is@@ Run@@ On@@ ce@@ ()) { get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ run@@ On@@ ce@@ Image@@ (); } else { get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ vm@@ Status@@ Run@@ ning@@ (); } case Migr@@ at@@ ing@@ F@@ ro@@ m : case Migr@@ at@@ ing@@ T@@ o : return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ m@@ igr@@ ation@@ Image@@ (); case W@@ a@@ it@@ For@@ L@@ a@@ un@@ ch : case Image@@ Lock@@ ed : case Pre@@ par@@ ing@@ For@@ H@@ i@@ ber@@ n@@ ate : case S@@ a@@ v@@ ing@@ Stat@@ e : return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ vm@@ Status@@ W@@ a@@ it@@ ing@@ (); case P@@ ow@@ er@@ ing@@ U@@ p : case R@@ eb@@ oot@@ In@@ Pro@@ g@@ res@@ s : case Res@@ t@@ or@@ ing@@ Stat@@ e : return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ vm@@ Status@@ Start@@ ing@@ (); case Pa@@ us@@ ed : return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ f@@ ro@@ z@@ en@@ Image@@ (); case S@@ us@@ p@@ en@@ de@@ d : return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ vm@@ Status@@ Pa@@ us@@ ed@@ (); case Un@@ k@@ n@@ ow@@ n : return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ vm@@ Status@@ Un@@ k@@ n@@ ow@@ n@@ (); case Un@@ ass@@ ig@@ ne@@ d : case Image@@ I@@ l@@ le@@ g@@ al : case Do@@ w@@ n : case Not@@ Respon@@ d@@ ing : case P@@ ow@@ er@@ ed@@ Do@@ w@@ n : return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ vm@@ Status@@ St@@ op@@ p@@ ed@@ (); case P@@ ow@@ er@@ ing@@ Do@@ w@@ n : return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ vm@@ Status@@ St@@ op@@ p@@ ing@@ (); default : return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ vm@@ Status@@ Un@@ k@@ n@@ ow@@ n@@ (); } }
@java.lang.Override public org.ovirt.engine.api.model.@@ T@@ a@@ g update@@ (org.ovirt.engine.api.model.@@ T@@ a@@ g in@@ com@@ ing@@ ) { if (@@ par@@ ent.@@ isSet@@ Parent@@ Name(@@ in@@ com@@ ing@@ )) { in@@ com@@ ing.@@ get@@ Parent@@ ().get@@ Tag@@ ().set@@ Id(@@ par@@ ent.get@@ Parent@@ Id(@@ in@@ com@@ ing@@ )); } java.lang.String existing@@ Parent@@ Id = get@@ Entity@@ (@@ new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Tag@@ By@@ Tag@@ Id, org.ovirt.engine.core.common.queries.@@ Get@@ Tag@@ By@@ Tag@@ Id@@ Parameters@@ .@@ class@@ ), true@@ ).get@@ parent@@ _id@@ ().@@ toString@@ (); if ((@@ isSet@@ Parent@@ (in@@ com@@ ing@@ )) && (!(@@ existing@@ Parent@@ Id@@ .equals(@@ in@@ com@@ ing.@@ get@@ Parent@@ ().get@@ Tag@@ ().get@@ Id@@ ())@@ ))) { m@@ ove@@ Tag@@ (@@ as@@ Guid@@ (in@@ com@@ ing.@@ get@@ Parent@@ ().get@@ Tag@@ ().get@@ Id@@ ())); } return p@@ er@@ for@@ m@@ Update@@ (in@@ com@@ ing@@ , new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Tag@@ By@@ Tag@@ Id, org.ovirt.engine.core.common.queries.@@ Get@@ Tag@@ By@@ Tag@@ Id@@ Parameters@@ .@@ class@@ ), Vdc@@ ActionType.@@ Update@@ Tag@@ , new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Tag@@ Res@@ ource.@@ Update@@ Parameters@@ Provider@@ ()); }
@org.junit.Test public void test@@ Map@@ Null@@ From@@ Model@@ To@@ B@@ E@@ () { assert@@ That@@ (@@ un@@ der@@ Test.@@ map@@ (((@@ org.ovirt.engine.api.model.@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ ) (@@ null@@ )@@ ), is@@ (@@ true@@ )); }
@java.lang.Override protected boolean validate@@ () { if (org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Vds@@ ().is@@ P@@ m@@ Enabled@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Agent@@ > f@@ ence@@ Agent@@ s = f@@ ence@@ Agent@@ Dao.get@@ Fence@@ Agent@@ s@@ For@@ Host@@ (org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Vds@@ Id()); if ((@@ f@@ ence@@ Agent@@ s.@@ size()) == 1@@ ) { return fail@@ Validation@@ (EngineMessage.@@ VDS@@ _@@ RE@@ M@@ OV@@ E_@@ L@@ A@@ ST@@ _@@ F@@ EN@@ C@@ E_@@ AG@@ EN@@ T_@@ P@@ M@@ _@@ EN@@ AB@@ L@@ ED); } } if ((((@@ org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Parameters@@ ()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.getParameters().get@@ Agent@@ ()) == null@@ )) || ((org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.getParameters().get@@ Agent@@ ().get@@ Id()) == null@@ )) { return fail@@ Validation@@ (EngineMessage.@@ VDS@@ _@@ RE@@ M@@ OV@@ E_@@ F@@ EN@@ C@@ E_@@ AG@@ EN@@ T_@@ ID@@ _@@ RE@@ Q@@ U@@ I@@ R@@ ED); } return super@@ .@@ validate@@ (); }
private void stor@@ e@@ Ip@@ v@@ 4@@ (@@ java.lang.String@@ Buil@@ der out@@ put@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network if@@ ac@@ e) { stor@@ e@@ Ip@@ (@@ out@@ put@@ , new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler.@@ Ip@@ v@@ 4@@ Info@@ F@@ et@@ ch@@ er@@ (@@ if@@ ace@@ )); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if ("@@ r@@ a@@ id@@ Type@@ Changed@@ "@@ .equals(@@ pro@@ p@@ Name@@ )) { if (((@@ model.get@@ Ra@@ id@@ Type@@ List@@ ().getSelectedItem@@ ()) != (org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type.@@ N@@ one@@ )) && ((@@ model.get@@ Ra@@ id@@ Type@@ List@@ ().getSelectedItem@@ ()) != (org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type.@@ Ra@@ id@@ 0@@ ))) { get@@ View@@ ().set@@ Device@@ Info@@ Text@@ (model.get@@ Ra@@ id@@ Type@@ List@@ ().getSelectedItem@@ ().@@ name@@ ()); get@@ View@@ ().set@@ Device@@ Info@@ Visi@@ bility@@ (@@ true@@ ); } else { get@@ View@@ ().set@@ Device@@ Info@@ Visi@@ bility@@ (@@ false@@ ); } } }
@java.lang.Override public void update@@ All@@ In@@ Transaction@@ (@@ java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s> vm@@ Statistic@@ sTo@@ S@@ ave@@ ) { update@@ All@@ In@@ B@@ atch@@ ("@@ update@@ vm@@ stati@@ stic@@ s", vm@@ Statistic@@ sTo@@ S@@ a@@ v@@ e.@@ valu@@ es@@ (), new org.ovirt.engine.core.dal.dbbroker.@@ Entity@@ To@@ MapSqlParameter@@ Map@@ per@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s@@ >() { @java.lang.Override public org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source map@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s entity@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source param@@ Value = new org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source@@ (); param@@ Valu@@ e.@@ addValue("@@ cpu@@ _@@ s@@ y@@ s", entity.get@@ cpu@@ _@@ s@@ y@@ s()); param@@ Valu@@ e.@@ addValue("@@ cpu@@ _@@ user@@ ", entity.get@@ cpu@@ _@@ user@@ ()); param@@ Valu@@ e.@@ addValue("@@ el@@ ap@@ s@@ ed@@ _@@ time@@ ", entity.get@@ el@@ ap@@ s@@ ed@@ _@@ time@@ ()).addValue("@@ us@@ age@@ _@@ cpu@@ _@@ per@@ c@@ ent@@ ", entity.get@@ us@@ age@@ _@@ cpu@@ _@@ per@@ c@@ ent@@ ()); param@@ Valu@@ e.@@ addValue("@@ us@@ age@@ _@@ mem@@ _@@ per@@ c@@ ent@@ ", entity.get@@ us@@ age@@ _@@ mem@@ _@@ per@@ c@@ ent@@ ()); param@@ Valu@@ e.@@ addValue("@@ us@@ age@@ _@@ network@@ _@@ per@@ c@@ ent@@ ", entity.get@@ us@@ age@@ _@@ network@@ _@@ per@@ c@@ ent@@ ()).addValue("@@ disk@@ s@@ _@@ us@@ age@@ ", entity.get@@ Disks@@ Us@@ age@@ ()).addValue("@@ vm@@ _@@ g@@ uid@@ ", entity.get@@ Id()); return param@@ Value@@ ; } }); }
private void w@@ rite@@ Enum@@ Valu@@ es(@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Enum@@ Type typ@@ e) { java.util.@@ I@@ ter@@ ator@@ <@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Enum@@ Value@@ > iter@@ ator = typ@@ e.get@@ Valu@@ es@@ ().@@ iter@@ ator@@ (); while (@@ iter@@ ator.@@ has@@ N@@ ext@@ ()) { org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Enum@@ Value valu@@ e = iter@@ ator.@@ ne@@ xt@@ (); java@@ Bu@@ ffer.@@ add@@ Lin@@ e@@ ((@@ ("@@ @@@ X@@ ml@@ Enum@@ Value(@@ \"@@ " + (@@ java.lang.String.@@ j@@ o@@ in@@ ("@@ _@@ ", valu@@ e.get@@ Name@@ ().get@@ W@@ or@@ ds@@ ()).@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ())) + "@@ \"@@ )@@ ")); java@@ Bu@@ ffer.@@ add@@ Lin@@ e(@@ get@@ Enum@@ Value@@ Lin@@ e(@@ value@@ , (!(@@ iter@@ ator.@@ has@@ N@@ ext@@ ())@@ ))); } java@@ Bu@@ ffer.@@ add@@ Lin@@ e@@ (); }
@java.lang.Override public java.lang.Object put@@ (java.lang.Object key@@ , java.lang.Object value@@ ) { java.lang.String st@@ ring@@ K@@ e@@ y = ((@@ java.lang.String@@ ) (@@ key@@ )); boolean fo@@ un@@ d = false@@ ; int num@@ Enum@@ s = class@@ es.@@ l@@ ength@@ ; if (!(@@ st@@ ring@@ Key@@ .@@ st@@ art@@ sWith@@ (@@ org.ovirt.engine.core.utils.@@ Enum@@ Trans@@ l@@ ation@@ Properties.@@ VALID@@ A@@ TION_@@ P@@ RE@@ F@@ I@@ X@@ ))) { for (@@ int i = 0@@ ; (@@ i < num@@ Enum@@ s) && (!@@ fo@@ un@@ d@@ ); +@@ +@@ i@@ ) { try { java.lang.@@ Enum@@ .@@ value@@ Of@@ (@@ class@@ es@@ [@@ i@@ ]@@ , st@@ ring@@ Key@@ ); fo@@ un@@ d = true@@ ; } catch (java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception ign@@ or@@ e) { org.ovirt.engine.core.utils.@@ Enum@@ Trans@@ l@@ ation@@ Properties.@@ log.debug@@ (((@@ st@@ ring@@ K@@ e@@ y + " is not a ke@@ y in ") + (@@ class@@ es@@ [@@ i@@ ]@@ .getName@@ ()))); } } if (!@@ fo@@ un@@ d@@ ) { java.lang.String@@ Buil@@ der s@@ b = new java.lang.String@@ Builder@@ ("@@ N@@ o trans@@ l@@ ation for ke@@ y [@@ ").@@ append@@ (@@ st@@ ring@@ Key@@ ).@@ append("@@ ] in enum@@ s@@ : [@@ ").@@ append@@ (@@ class@@ es@@ [@@ 0@@ ]@@ .get@@ Name()); for (@@ int i = 1@@ ; i < (@@ class@@ es.@@ l@@ ength@@ ); +@@ i@@ ) { s@@ b@@ .@@ append("@@ , ").@@ append@@ (@@ class@@ es@@ [@@ i@@ ]@@ ); } s@@ b@@ .@@ append@@ (@@ '@@ ]@@ '@@ ); throw new org.ovirt.engine.core.utils.@@ M@@ is@@ sing@@ Enum@@ Trans@@ l@@ ation@@ Exception@@ (s@@ b@@ .@@ toString()); } } return super@@ .@@ put(@@ key@@ , value@@ ); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c host@@ de@@ v@@ Change@@ Num@@ vf@@ s(@@ java.lang.String de@@ vice@@ Name, int num@@ Of@@ V@@ f@@ s) { try { java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ ReturnValue = vds@@ Ser@@ ver.@@ host@@ de@@ v@@ Change@@ Num@@ vf@@ s(@@ de@@ vice@@ Name, num@@ Of@@ V@@ f@@ s); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c wr@@ app@@ er = new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ x@@ mlR@@ pc@@ ReturnValue@@ ); return w@@ rap@@ per@@ ; } catch (java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Un@@ de@@ cl@@ ared@@ Th@@ row@@ able@@ Exception u@@ te@@ ) { throw new org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Run@@ Time@@ Exception@@ (@@ u@@ te@@ ); } }
@@@ org.@@ j@@ b@@ os@@ s.@@ ar@@ q@@ uil@@ l@@ i@@ an@@ .@@ contain@@ er.@@ t@@ es@@ t.@@ api@@ .@@ De@@ plo@@ y@@ m@@ ent public static org.@@ j@@ b@@ os@@ s.@@ sh@@ rin@@ k@@ w@@ rap@@ .@@ api@@ .@@ sp@@ ec@@ .@@ J@@ ava@@ Ar@@ ch@@ i@@ v@@ e create@@ De@@ plo@@ y@@ ment@@ () { return org.@@ j@@ b@@ os@@ s.@@ sh@@ rin@@ k@@ w@@ rap@@ .@@ api@@ .@@ Sh@@ rin@@ k@@ W@@ rap@@ .@@ create@@ (@@ org.@@ j@@ b@@ os@@ s.@@ sh@@ rin@@ k@@ w@@ rap@@ .@@ api@@ .@@ sp@@ ec@@ .@@ J@@ ava@@ Ar@@ ch@@ ive@@ .@@ class@@ ).@@ add@@ Class@@ es(@@ org.ovirt.engine.core.d@@ i@@ .@@ In@@ j@@ ect@@ or@@ .@@ class@@ , org.ovirt.engine.core.bll.@@ scheduling.@@ C@@ ommon@@ Test@@ Mock@@ s@@ .@@ class@@ , org.ovirt.engine.core.bll.@@ scheduling.@@ Schedul@@ ing@@ Manager@@ .@@ class@@ , org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Dis@@ c@@ o@@ ver@@ y@@ .@@ class@@ , org.ovirt.engine.core.bll.@@ scheduling.@@ Bas@@ ic@@ Migration@@ Handler@@ .@@ class@@ ).@@ add@@ As@@ M@@ an@@ if@@ est@@ Resource@@ (@@ Empty@@ As@@ set@@ .@@ IN@@ ST@@ AN@@ C@@ E, org.@@ j@@ b@@ os@@ s.@@ sh@@ rin@@ k@@ w@@ rap@@ .@@ api@@ .@@ Ar@@ ch@@ ive@@ Path@@ s.@@ create@@ ("@@ b@@ e@@ an@@ s.@@ x@@ ml@@ ")); }
@org.junit.Test public void validate@@ Sp@@ ace@@ Not@@ En@@ o@@ u@@ g@@ h@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.bll.@@ AddVm@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base@@ > c@@ ommand = set@@ up@@ Can@@ AddVm@@ Test@@ s(@@ 0@@ , 0@@ ); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).@@ when(@@ storageDomain@@ Validator@@ ).@@ is@@ Domain@@ With@@ in@@ Th@@ resh@@ ol@@ ds@@ (); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AC@@ E_@@ LO@@ W@@ _@@ ON_@@ T@@ AR@@ G@@ E@@ T_@@ STORAGE_@@ DOMA@@ IN@@ )).@@ when(@@ storageDomain@@ Validator@@ ).@@ has@@ Sp@@ ace@@ For@@ New@@ Disk@@ s(@@ any@@ (java.util.@@ List@@ .@@ class@@ )); do@@ Return(@@ storageDomain@@ Validator@@ ).when@@ (command@@ ).@@ create@@ StorageDomain@@ Validator@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ .@@ class@@ )); junit.@@ fr@@ ame@@ wor@@ k.@@ As@@ sert@@ .@@ assert@@ F@@ als@@ e(@@ command@@ .@@ validate@@ Sp@@ ace@@ Requi@@ re@@ ment@@ s()); ve@@ r@@ if@@ y@@ (@@ storageDomain@@ Validator@@ ).@@ has@@ Sp@@ ace@@ For@@ New@@ Disk@@ s(@@ any@@ (java.util.@@ List@@ .@@ class@@ )); ve@@ r@@ if@@ y@@ (@@ storageDomain@@ Validator@@ , ne@@ ver@@ ()).@@ has@@ Sp@@ ace@@ For@@ Cl@@ on@@ ed@@ Disk@@ s(@@ any@@ (java.util.@@ List@@ .@@ class@@ )); }
private void create@@ Snapshots@@ For@@ Disk@@ s(@@ org.ovirt.engine.core.compat.Guid vm@@ Snapshot@@ Id) { for (org.ovirt.engine.core.common.businessentities.@@ DiskImage im@@ age : get@@ Disks@@ List@@ ()) { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base v@@ dc@@ ReturnValue = run@@ Command@@ (command@@ s@@ Map@@ .get(@@ im@@ age.get@@ Image@@ Id@@ ())); if (@@ v@@ dc@@ Return@@ Value.get@@ Succeeded@@ ()) { org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command.get@@ Task@@ Id@@ List@@ ().add@@ All@@ (@@ v@@ dc@@ Return@@ Value.get@@ Internal@@ Vds@@ m@@ Task@@ Id@@ List@@ ()); } else { throw new org.ovirt.engine.core.common.errors.@@ Vdc@@ B@@ L@@ Exception@@ (@@ v@@ dc@@ Return@@ Value.get@@ F@@ a@@ ult@@ ().get@@ Error@@ (), "@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command@@ :@@ :@@ execute@@ Vm@@ Command@@ : Fail@@ ed to c@@ re@@ ate snapshot@@ !@@ "); } } }
@org.junit.Test public void can@@ Do@@ P@@ ass@@ () { when(@@ host@@ ed@@ Engine@@ Helper@@ .get@@ StorageDomain@@ ()).@@ then@@ Return@@ (@@ null@@ ); org.ovirt.engine.core.common.businessentities.Storage@@ Domain s@@ d = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ (); int i = new java.util.@@ R@@ an@@ do@@ m@@ ().@@ ne@@ xt@@ In@@ t@@ (@@ SUP@@ PORT@@ ED_@@ DOMA@@ IN_@@ TYP@@ ES@@ .@@ l@@ ength@@ ); sd@@ .set@@ Storage@@ Type(@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Import@@ Host@@ ed@@ Engine@@ StorageDomain@@ Command.@@ SUP@@ PORT@@ ED_@@ DOMA@@ IN_@@ TYP@@ ES@@ [@@ i@@ ]@@ ); sd@@ .set@@ Storage@@ Name@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Import@@ Host@@ ed@@ Engine@@ StorageDomain@@ Command@@ Test.@@ HOST@@ ED_@@ STORAGE_@@ NAM@@ E); do@@ Return@@ (c@@ reate@@ Query@@ ReturnValue@@ With@@ (@@ java.util.Arrays.as@@ List@@ (s@@ d@@ )@@ )).@@ when(@@ back@@ end@@ ).@@ run@@ Internal@@ Query@@ (@@ e@@ q@@ (Vdc@@ Query@@ Type.Get@@ Existing@@ StorageDomain@@ List@@ ), any@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Parameters@@ Base@@ .@@ class@@ )); assert@@ True@@ (cmd@@ .@@ validate@@ ()); }
@java.lang.Override public boolean is@@ Mem@@ Bal@@ loon@@ Enabled@@ (org.ovirt.engine.core.compat.Guid vm@@ Id) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ vm@@ _id", vm@@ Id); java.util.Map<java.lang.String, java.lang.Object> db@@ Result@@ s = new org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ s@@ im@@ pl@@ e.@@ S@@ im@@ ple@@ J@@ db@@ c@@ Call@@ (@@ j@@ db@@ c@@ Template@@ ).@@ with@@ F@@ un@@ c@@ tion@@ Name@@ ("@@ is@@ Mem@@ Bal@@ loon@@ Enabled@@ ").@@ execute@@ (@@ parameter@@ Source@@ ); java.lang.String result@@ K@@ e@@ y = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Db@@ Engine@@ D@@ ial@@ ect@@ ().get@@ F@@ un@@ c@@ tion@@ Return@@ Key@@ (); return (@@ db@@ Result@@ s.get@@ (@@ result@@ Key@@ )) != null ? ((@@ java.lang.Boolean@@ ) (@@ db@@ Result@@ s.get@@ (@@ result@@ Key@@ )@@ )@@ .@@ boolean@@ Value@@ () : false@@ ; }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { try { init@@ (); stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.@@ Update@@ Vm@@ Policy@@ VDS@@ Command.get@@ Broker@@ ().@@ update@@ Vm@@ Policy@@ (@@ struc@@ t@@ ); org.ovirt.engine.core.vdsbroker.@@ Update@@ Vm@@ Policy@@ VDS@@ Command.@@ pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); } catch (java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.vdsbroker.@@ Update@@ Vm@@ Policy@@ VDSCommand@@ .set@@ Vds@@ Run@@ time@@ Error@@ (@@ e); org.ovirt.engine.core.vdsbroker.@@ Update@@ Vm@@ Policy@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Exception@@ String@@ (@@ null@@ ); } }
private static synchronized javax.@@ nam@@ ing.@@ In@@ itial@@ Contex@@ t get@@ In@@ itial@@ Context@@ () throw@@ s javax.@@ nam@@ ing.@@ Nam@@ ing@@ Exception { if ((@@ org.ovirt.engine.core.utils.@@ e@@ j@@ b@@ .@@ E@@ J@@ B@@ Util@@ s@@ Str@@ ate@@ g@@ y@@ .@@ contex@@ t@@ ) == null@@ ) org.ovirt.engine.core.utils.@@ e@@ j@@ b@@ .@@ E@@ J@@ B@@ Util@@ s@@ Str@@ ate@@ g@@ y@@ .@@ contex@@ t = new javax.@@ nam@@ ing.@@ In@@ itial@@ Context@@ (); return org.ovirt.engine.core.utils.@@ e@@ j@@ b@@ .@@ E@@ J@@ B@@ Util@@ s@@ Str@@ ate@@ g@@ y@@ .@@ contex@@ t@@ ; }
private org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator create@@ Host@@ SetupNetworks@@ Validator@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > network@@ s) { return new org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator@@ Test.@@ Host@@ SetupNetworks@@ Validator@@ Builder@@ ().set@@ Host@@ (@@ host@@ )@@ .set@@ Param@@ s@@ (@@ new org.ovirt.engine.core.common.action.@@ Host@@ SetupNetworks@@ Parameters(@@ hos@@ t.get@@ Id@@ ())@@ )@@ .set@@ Network@@ B@@ usiness@@ Entity@@ Map@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Map@@ (network@@ s@@ )).@@ build@@ (); }
private void pre@@ view@@ () { org.ovirt.engine.core.common.businessentities.VM vm = ((org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (get@@ Entity@@ ())); if (@@ vm == null@@ ) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t = get@@ SelectedItem@@ (); if ((!@@ (is@@ Memory@@ Snapshot@@ Supported@@ ())) || (s@@ napsho@@ t.get@@ Memory@@ Volume@@ ().is@@ Empty@@ ())) { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action(VdcActionType.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ , new org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ Parameters@@ (vm.get@@ Id(), s@@ napsho@@ t.get@@ Id@@ ()), null@@ ); } else { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Snapshot@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Snapshot@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ pre@@ view@@ Snapshot@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ pre@@ view@@ _@@ snapshot@@ ); model.set@@ Hash@@ Name@@ ("@@ pre@@ view@@ _@@ snapshot@@ "); add@@ Command@@ s(@@ model, "@@ On@@ Pre@@ view@@ "); } }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ ACTION_@@ _@@ UP@@ D@@ AT@@ E); addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ TYPE_@@ _P@@ OL@@ IC@@ Y_@@ UN@@ I@@ T@@ ); }
@org.junit.Test public void test@@ H@@ as@@ Un@@ i@@ q@@ ue@@ Name@@ P@@ ers@@ isting@@ New@@ Rec@@ or@@ d@@ With@@ Null@@ Id@@ And@@ S@@ ame@@ Name@@ () throw@@ s java.lang.Exception { final java.lang.String m@@ ac@@ Pool@@ Name = "@@ m@@ ac@@ Pool@@ 1@@ "; assert@@ That@@ (c@@ all@@ H@@ as@@ Un@@ i@@ q@@ ue@@ Name(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), null@@ , m@@ ac@@ Pool@@ Name, m@@ ac@@ Pool@@ Name@@ ), fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NAM@@ E_@@ AL@@ RE@@ AD@@ Y_@@ US@@ ED@@ )); }
public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c set@@ Max@@ Host@@ s@@ (@@ int ma@@ x@@ Host@@ s) { java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ ReturnValue = ir@@ s@@ Ser@@ ver.@@ set@@ Max@@ Host@@ s(@@ ma@@ x@@ Host@@ s); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c wr@@ app@@ er = new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ x@@ mlR@@ pc@@ ReturnValue@@ ); return w@@ rap@@ per@@ ; }
@org.junit.Test public void test@@ Get@@ Entity@@ Name@@ By@@ Id@@ And@@ Type@@ For@@ Role@@ () { org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ e ro@@ l@@ e = db@@ Fac@@ ade.get@@ Role@@ DAO@@ ().get@@ (@@ org.ovirt.engine.core.dao.@@ DbFacade@@ DAO@@ Test.@@ RO@@ L@@ E_@@ ID@@ ); assert@@ Not@@ Null@@ (@@ ro@@ le@@ ); java.lang.String nam@@ e = ro@@ l@@ e.get@@ name@@ (); assert@@ True@@ (@@ nam@@ e.@@ equals(@@ db@@ Fac@@ ade.get@@ Entity@@ Name@@ By@@ Id@@ And@@ Type(@@ org.ovirt.engine.core.dao.@@ DbFacade@@ DAO@@ Test.@@ RO@@ L@@ E_@@ ID@@ , Vdc@@ Object@@ Type.@@ Role@@ ))); }
protected org.ovirt.engine.core.compat.Guid remove@@ Memory@@ Image@@ (@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid> g@@ ui@@ ds@@ ) { return remove@@ Image@@ (@@ Vm@@ Command.@@ DE@@ L@@ ET@@ E_@@ P@@ R@@ IM@@ AR@@ Y_@@ IM@@ AGE_@@ T@@ A@@ S@@ K_@@ K@@ E@@ Y@@ , build@@ Delet@@ e@@ Memory@@ Image@@ Param@@ s(@@ g@@ ui@@ ds@@ )); }
@java.lang.Override protected boolean canDoAction@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k = org.ovirt.engine.core.bll.@@ Copy@@ ImageGroup@@ Command.get@@ Disk@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Copy@@ ImageGroup@@ Command.getParameters().get@@ ImageGroup@@ ID@@ ()); org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator disk@@ Validator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator@@ (disk@@ ); return (@@ validate@@ (disk@@ Validator.@@ validate@@ Is@@ Not@@ Lun@@ ())) && (@@ validate@@ (disk@@ Validator.@@ validate@@ Disk@@ Is@@ Not@@ Cinder@@ ())); }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () throw@@ s java.lang.Exception { setUp@@ Mock@@ Query@@ Parameters@@ (); setUp@@ Sp@@ y@@ Query@@ (); for (org.ovirt.engine.core.bll.@@ Mock@@ Config@@ D@@ es@@ cri@@ p@@ t@@ or@@ <?@@ > m@@ c@@ d : get@@ Ex@@ tr@@ a@@ C@@ o@@ fi@@ g@@ D@@ es@@ cri@@ p@@ t@@ or@@ s()) { org.ovirt.engine.core.bll.@@ Abstract@@ Query@@ Test.@@ m@@ c@@ r@@ .m@@ ock@@ Config@@ Value@@ (m@@ c@@ d@@ ); } }
protected byte@@ [@@ ] run@@ Http@@ Method@@ (org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Base@@ Provider@@ Proxy@@ .@@ Http@@ Method@@ Type http@@ Method@@ , java.lang.String cont@@ ent@@ Type, java.lang.String re@@ l@@ ati@@ ve@@ U@@ r@@ l@@ , java.lang.String b@@ od@@ y@@ , java.@@ net@@ .@@ Http@@ UR@@ L@@ Conn@@ ec@@ tion connection@@ ) { byte@@ [@@ ] result = null@@ ; try { connection@@ .set@@ Request@@ Property@@ ("@@ Content@@ -@@ Type@@ ", cont@@ ent@@ Type@@ ); connection@@ .set@@ Do@@ In@@ put@@ (@@ true@@ ); connection@@ .set@@ Do@@ Out@@ put@@ ((@@ http@@ M@@ eth@@ o@@ d != (org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Base@@ Provider@@ Proxy@@ .@@ Http@@ Method@@ Type.@@ G@@ ET@@ ))); connection@@ .set@@ Request@@ Method@@ (@@ http@@ Method@@ .@@ toString()); if (@@ b@@ od@@ y != null@@ ) { byte@@ [@@ ] byte@@ s = b@@ od@@ y@@ .get@@ By@@ t@@ es(@@ java.@@ n@@ i@@ o@@ .@@ char@@ set@@ .@@ Ch@@ ar@@ set@@ .@@ for@@ Name@@ ("@@ U@@ T@@ F@@ -@@ 8@@ ")); connection@@ .set@@ Request@@ Property@@ ("@@ Content@@ -@@ L@@ ength@@ ", new java.lang.String@@ Builder@@ ().@@ append@@ (@@ byte@@ s.@@ l@@ ength@@ ).@@ toString()); try (@@ java.io.@@ Out@@ put@@ St@@ rea@@ m out@@ put@@ St@@ rea@@ m = connection@@ .get@@ Out@@ put@@ St@@ ream@@ ()) { out@@ put@@ St@@ ream@@ .@@ w@@ rite@@ (@@ byte@@ s); } } result = get@@ Respon@@ s@@ e(@@ connection@@ ); } catch (@@ javax.@@ net@@ .@@ ss@@ l.@@ SS@@ L@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ SS@@ L@@ _@@ FAIL@@ U@@ RE@@ , e.get@@ Message@@ ()); } catch (@@ java.io.@@ I@@ O@@ Exception e) { org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Base@@ Provider@@ Proxy@@ .@@ h@@ andle@@ Exception@@ (@@ e); } final@@ l@@ y { if (@@ conn@@ ec@@ tion != null@@ ) { connection@@ .@@ dis@@ conn@@ ect@@ (); } } return result@@ ; }
@java.lang.Override protected void En@@ d@@ Success@@ f@@ ull@@ y@@ () { org.ovirt.engine.core.bll.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ Command.@@ En@@ d@@ Action@@ On@@ Disks@@ (); if ((org.ovirt.engine.core.bll.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ VmCommand.getVm@@ ()) != null@@ ) { try@@ Back@@ To@@ Vm@@ Configuration@@ Snapshot@@ (); } else { org.ovirt.engine.core.bll.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ Command.set@@ Command@@ Sh@@ oul@@ d@@ Be@@ Log@@ ged@@ (@@ false@@ ); log.@@ w@@ ar@@ n@@ ("@@ Vm@@ Command@@ :@@ :@@ :@@ En@@ d@@ Vm@@ Command@@ : V@@ m is null - not p@@ er@@ for@@ min@@ g En@@ d@@ Ac@@ tion on Vm@@ "); } org.ovirt.engine.core.bll.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { super@@ .@@ eventRaised(@@ ev, sender, arg@@ s); if (@@ ev@@ .m@@ atch@@ es@@ De@@ fin@@ ition@@ (@@ Re@@ gist@@ r@@ ation@@ Res@@ ult.@@ R@@ et@@ ri@@ ev@@ ed@@ Event@@ De@@ fin@@ ition@@ )) { async@@ Result@@ _@@ R@@ et@@ ri@@ ev@@ ed@@ (); } if (@@ ev@@ .m@@ atch@@ es@@ De@@ fin@@ ition@@ (@@ Provi@@ de@@ T@@ ick@@ Ev@@ ent.@@ de@@ fin@@ ition@@ )) { s@@ ync@@ Search@@ (); } entity@@ Model.@@ eventRaised(@@ ev, sender, arg@@ s); }
@org.junit.Test public void test@@ Validate@@ Network@@ Ex@@ cl@@ us@@ ive@@ On@@ Nic@@ _@@ at@@ M@@ ost@@ O@@ ne@@ Non@@ VmNetwork@@ () throw@@ s java.lang.Exception { check@@ VmNetwork@@ Is@@ S@@ ole@@ As@@ s@@ ig@@ ne@@ d@@ Interfac@@ e(@@ org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ (), v@@ lan@@ Network@@ , n@@ on@@ VmNetwork@@ 1@@ ); }
@org.junit.Test public void remove@@ All@@ Interfaces@@ And@@ Mac@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmNetwork@@ Interface@@ > int@@ er@@ fac@@ es = java.util.Arrays.as@@ List@@ (c@@ reate@@ New@@ Interface@@ (), create@@ New@@ Interface@@ ()); when@@ (vm@@ Network@@ Interface@@ DAO@@ .get@@ AllFor@@ Vm@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ int@@ er@@ fac@@ es@@ ); vm@@ Interface@@ Manager.@@ remove@@ All@@ Interfaces@@ And@@ Mac@@ s(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ VmNetwork@@ Interface if@@ ac@@ e : int@@ er@@ fac@@ es@@ ) { ve@@ r@@ if@@ y@@ Remove@@ All@@ Del@@ e@@ g@@ ated@@ C@@ or@@ r@@ ect@@ ly@@ (@@ if@@ ace@@ , tim@@ es(@@ 1@@ )); } }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { super@@ .set@@ Action@@ Message@@ Parameters@@ (); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ ST@@ AR@@ T@@ ); }
protected boolean is@@ System@@ Sup@@ er@@ User@@ () { org.ovirt.engine.core.compat.Guid user@@ Id = org.ovirt.engine.core.bll.@@ Get@@ All@@ R@@ ol@@ es@@ Query.get@@ User@@ ID@@ (); return is@@ System@@ Sup@@ er@@ User@@ P@@ red@@ ic@@ at@@ e.@@ e@@ val@@ (@@ user@@ Id); }
@java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { get@@ View@@ ().@@ s@@ el@@ ect@@ Sp@@ ice@@ Im@@ pl@@ ement@@ ation@@ (@@ Sp@@ ice@@ Console@@ Model.@@ Client@@ Console@@ Mod@@ e.@@ Au@@ to@@ ); get@@ View@@ ().set@@ Sp@@ ice@@ Proxy@@ Enabled@@ (@@ true@@ , null@@ ); get@@ View@@ ().set@@ Sp@@ ice@@ Proxy@@ (s@@ p@@ ice@@ Proxy@@ User@@ Pre@@ fer@@ ence@@ ); }
@java.lang.Override protected boolean is@@ G@@ host@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.String> value@@ ) { java.lang.String tex@@ t = valu@@ e.get@@ Entity@@ (); return (@@ tex@@ t == null@@ ) || (@@ tex@@ t.@@ isEmpty@@ ()); }
@java.lang.Override protected void ve@@ r@@ if@@ y@@ (org.ovirt.engine.api.model.@@ Vm@@ Pool model, org.ovirt.engine.api.model.@@ Vm@@ Pool tr@@ an@@ s@@ for@@ m@@ ) { assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ ); assert@@ Equals@@ (model.get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .getId()); assert@@ Equals@@ (model.get@@ Name(), tr@@ an@@ s@@ for@@ m@@ .get@@ Name()); assert@@ Equals@@ (model.get@@ Description@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Description@@ ()); assert@@ Equals@@ (model.get@@ Size@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Size@@ ()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Cluster@@ ()); assert@@ Equals@@ (model.get@@ Cluster@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ Cluster@@ ().get@@ Id()); assert@@ Equals@@ (model.get@@ Max@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Per@@ User@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Max@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Per@@ User@@ ()); }
@java.lang.Override protected boolean validate@@ () { org.ovirt.engine.core.bll.validator.@@ VnicProfile@@ Validator valid@@ ator = org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Add@@ VnicProfile@@ Command.@@ create@@ VnicProfile@@ Validator@@ (); boolean us@@ e@@ Default@@ Network@@ Filter@@ Id = org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Add@@ VnicProfile@@ Command.get@@ Parameters@@ ().is@@ U@@ se@@ Default@@ Network@@ Filter@@ Id@@ (); return ((((@@ ((@@ (((@@ validate@@ (@@ validator.@@ vnic@@ Profile@@ Is@@ Set@@ ())) && (@@ validate@@ (@@ validator.@@ network@@ Exist@@ s@@ ()))) && (@@ validate@@ (@@ validator.@@ network@@ Qos@@ Exist@@ s@@ Or@@ Null@@ ()))) && (@@ validate@@ (@@ validator.@@ vnic@@ Profile@@ For@@ VmNetwork@@ Only@@ ()))) && (@@ validate@@ (@@ validator.@@ vnic@@ Profile@@ Name@@ Not@@ Us@@ ed@@ ()))) && (@@ validate@@ (@@ validator.@@ port@@ M@@ i@@ rr@@ or@@ ing@@ Not@@ Set@@ If@@ External@@ Network@@ ()))) && (@@ validator.@@ validate@@ Custom@@ Properties@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Add@@ VnicProfile@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ ()))) && (@@ validate@@ (@@ validator.@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profile@@ Contain@@ s@@ Supported@@ Properties@@ (@@ us@@ e@@ Default@@ Network@@ Filter@@ Id@@ )@@ ))) && (@@ validate@@ (@@ validator.@@ valid@@ U@@ se@@ Default@@ Network@@ Filter@@ F@@ l@@ ag@@ (@@ us@@ e@@ Default@@ Network@@ Filter@@ Id@@ )@@ ))) && (@@ validate@@ (@@ validator.@@ valid@@ Network@@ Filter@@ Id@@ ())); }
private void set@@ Custom@@ Properties@@ (@@ java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > attach@@ ment@@ sBy@@ Network@@ Id, java.util.Map<java.lang.String, org.ovirt.engine.core.compat.Guid> network@@ Name@@ To@@ Network@@ Id@@ Map@@ , org.ovirt.engine.api.restapi.resource.@@ Host@@ N@@ ic host@@ Nic@@ ) { org.ovirt.engine.api.model.@@ Network n@@ etwork = host@@ Nic@@ .get@@ Network@@ (); if (@@ n@@ etwork == null@@ ) { return@@ ; } java.lang.String network@@ Name = network@@ .getName@@ (); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent network@@ Attachm@@ ent = attach@@ ment@@ sBy@@ Network@@ Id@@ .get(@@ network@@ Name@@ To@@ Network@@ Id@@ Map@@ .get(@@ network@@ Name@@ )); if (network@@ Attachm@@ ent == null@@ ) { return@@ ; } java.util.Map<java.lang.String, java.lang.String> proper@@ ti@@ es = network@@ Attachm@@ ent.get@@ Properties@@ (); if (@@ proper@@ ti@@ es != null@@ ) { host@@ Nic@@ .set@@ Properties@@ (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Custom@@ Properties@@ Par@@ s@@ er.@@ f@@ rom@@ Map@@ (@@ proper@@ ties@@ )); } }
@java.lang.Override public void init@@ (@@ javax.@@ servlet@@ .@@ Servlet@@ Confi@@ g config@@ ) throw@@ s javax.@@ servlet@@ .@@ Servlet@@ Exception { super@@ .@@ init@@ (@@ config@@ ); typ@@ e = config.@@ get@@ Init@@ Parameter@@ (@@ org.ovirt.engine.core.@@ File@@ Servlet@@ .@@ TYP@@ E); final java.lang.String nam@@ e = config.@@ get@@ Init@@ Parameter@@ (@@ org.ovirt.engine.core.@@ File@@ Servlet@@ .@@ F@@ IL@@ E); if (@@ nam@@ e == null@@ ) { final java.lang.String mess@@ age = ("@@ Can@@ \@@ '@@ t ge@@ t b@@ ase nam@@ e f@@ ro@@ m paramet@@ er \"@@ " + (@@ org.ovirt.engine.core.@@ File@@ Servlet@@ .@@ F@@ IL@@ E@@ )) + "@@ \"@@ .@@ "; org.ovirt.engine.core.@@ File@@ Servlet@@ .@@ log.error@@ (m@@ ess@@ age@@ ); throw new javax.@@ servlet@@ .@@ Servlet@@ Exception@@ (m@@ ess@@ age@@ ); } b@@ ase = new java.io.@@ Fil@@ e(@@ org.ovirt.engine.core.utils.@@ Local@@ Config.@@ get@@ Instance@@ ().@@ exp@@ and@@ String@@ (@@ name@@ )); }
@java.lang.Override public void init@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Create@@ Brick@@ Model model@@ ) { super@@ .@@ init@@ (model@@ ); model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if ("@@ r@@ a@@ id@@ Type@@ Changed@@ "@@ .equals(@@ pro@@ p@@ Name@@ )) { if (((@@ model.get@@ Ra@@ id@@ Type@@ List@@ ().getSelectedItem@@ ()) != (org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type.@@ N@@ one@@ )) && ((@@ model.get@@ Ra@@ id@@ Type@@ List@@ ().getSelectedItem@@ ()) != (org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type.@@ Ra@@ id@@ 0@@ ))) { get@@ View@@ ().set@@ Device@@ Info@@ Text@@ (model.get@@ Ra@@ id@@ Type@@ List@@ ().getSelectedItem@@ ().@@ name@@ ()); get@@ View@@ ().set@@ Device@@ Info@@ Visi@@ bility@@ (@@ true@@ ); } else { get@@ View@@ ().set@@ Device@@ Info@@ Visi@@ bility@@ (@@ false@@ ); } } }); }
@org.junit.@@ B@@ e@@ for@@ e public void set@@ up@@ () { mock@@ Custom@@ Properties@@ Util@@ s(); mock@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er@@ (); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Chang@@ e C@@ D@@ ") java.lang.String ch@@ ang@@ e@@ C@@ D@@ Title@@ ();
protected void set@@ I@@ con@@ And@@ Fi@@ re@@ Change@@ Event@@ (java.lang.String ic@@ on@@ ) { final org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ con@@ With@@ Os@@ De@@ fa@@ ult old@@ Pa@@ i@@ r = get@@ Value@@ (); set@@ I@@ con@@ (@@ ic@@ on@@ ); final org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ con@@ With@@ Os@@ De@@ fa@@ ult new@@ Pa@@ i@@ r = get@@ Value@@ (); com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Ev@@ ent.@@ fi@@ re@@ If@@ Not@@ E@@ qu@@ al@@ (@@ this@@ , old@@ Pair@@ , new@@ Pair@@ ); }
@org.junit.Test public void search@@ Not@@ Us@@ ing@@ Tag@@ s() { java.lang.String@@ [@@ ] search@@ Text@@ s = new java.lang.String@@ []{ "@@ Us@@ ers@@ :@@ ", "@@ Us@@ ers@@ : type@@ =@@ user@@ ", "@@ Us@@ ers@@ : type@@ =@@ group@@ ", "@@ Host@@ s@@ :@@ ", "@@ Vms@@ :@@ ", "@@ Dat@@ ac@@ ent@@ ers@@ :@@ ", "@@ C@@ lust@@ ers@@ :@@ " }; for (java.lang.String search@@ T@@ ex@@ t : search@@ Text@@ s) { assert@@ F@@ alse@@ (@@ new org.ovirt.engine.core.@@ search@@ back@@ end@@ .S@@ yn@@ t@@ a@@ x@@ Check@@ er@@ ().@@ an@@ al@@ y@@ z@@ e@@ S@@ yn@@ t@@ a@@ x@@ State@@ (s@@ e@@ arch@@ Text@@ , false@@ ).@@ is@@ Search@@ Us@@ ing@@ Tag@@ s()); } }
com.google.gwt.@@ user.@@ client.@@ ui.@@ G@@ r@@ id create@@ Row@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ V@@ L@@ an host@@ V@@ L@@ an@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ H@@ or@@ iz@@ on@@ t@@ al@@ Pan@@ e@@ l check@@ bo@@ x@@ Pan@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ H@@ or@@ iz@@ on@@ t@@ al@@ Panel@@ (); check@@ bo@@ x@@ Pan@@ el.@@ set@@ W@@ id@@ th@@ ("@@ 1@@ 00@@ %@@ "); check@@ bo@@ x@@ Pan@@ el.@@ add@@ (get@@ Check@@ B@@ o@@ x@@ ()); check@@ bo@@ x@@ Pan@@ el.@@ add@@ (@@ new com.google.gwt.@@ user.@@ client.@@ ui.@@ Image@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ V@@ L@@ an@@ Element@@ Pan@@ el.@@ res@@ ourc@@ es.@@ s@@ pl@@ it@@ R@@ ot@@ ate@@ Image@@ ())); check@@ bo@@ x@@ Pan@@ el.@@ add@@ (@@ new com.google.gwt.@@ user.@@ client.@@ ui.@@ Label@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ r@@ ender@@ er.@@ Host@@ V@@ L@@ an@@ Name@@ R@@ ender@@ er@@ ().@@ r@@ ender@@ (@@ host@@ V@@ L@@ an@@ ))); com.google.gwt.@@ user.@@ client.@@ ui.@@ G@@ r@@ id ro@@ w = create@@ V@@ lan@@ Row@@ Column@@ (@@ check@@ bo@@ x@@ Panel@@ , host@@ V@@ L@@ an@@ .get@@ Interface@@ ().get@@ Is@@ Management@@ (), host@@ V@@ L@@ an@@ .get@@ Network@@ Name(), new com.google.gwt.@@ user.@@ client.@@ ui.@@ Label@@ (@@ host@@ V@@ L@@ an@@ .get@@ Address@@ ())); c@@ om.google.@@ gw@@ t@@ .@@ do@@ m@@ .client.@@ Sty@@ l@@ e g@@ rid@@ Sty@@ l@@ e = row@@ .get@@ Element@@ ().get@@ Sty@@ le@@ (); g@@ rid@@ Sty@@ le.@@ set@@ B@@ or@@ der@@ C@@ ol@@ or@@ ("@@ wh@@ i@@ te@@ "); g@@ rid@@ Sty@@ le.@@ set@@ B@@ or@@ der@@ W@@ id@@ th@@ (@@ 1, Un@@ it.@@ P@@ X@@ ); g@@ rid@@ Sty@@ le.@@ set@@ B@@ or@@ der@@ Sty@@ le(@@ B@@ or@@ der@@ Sty@@ le.@@ S@@ OL@@ ID@@ ); return row@@ ; }
private static java.util.@@ Proper@@ ti@@ es load@@ Properties@@ From@@ Fil@@ e(@@ java.lang.String fil@@ en@@ ame@@ ) { try (@@ java.io.@@ File@@ Re@@ ade@@ r re@@ ade@@ r = new java.io.@@ File@@ Read@@ er@@ (@@ new java.io.@@ Fil@@ e(@@ fil@@ en@@ ame@@ ))) { java.util.@@ Proper@@ ti@@ es p = new java.util.@@ Properties@@ (); p@@ .@@ load@@ (@@ read@@ er@@ ); org.ovirt.engine.@@ extension@@ .@@ aaa.@@ j@@ db@@ c.@@ b@@ in@@ d@@ ing.@@ cli@@ .@@ Cli@@ .@@ LO@@ G@@ .@@ tr@@ ace@@ ("@@ rea@@ d proper@@ ti@@ es f@@ ro@@ m {}@@ :@@ ", fil@@ en@@ ame@@ ); for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.Object@@ , java.lang.Object> e : p@@ .@@ e@@ n@@ try@@ Set@@ ()) { if (@@ org.ovirt.engine.@@ extension@@ .@@ aaa.@@ j@@ db@@ c.@@ b@@ in@@ d@@ ing.@@ cli@@ .@@ Cli@@ .S@@ EN@@ S@@ IS@@ TI@@ V@@ E_@@ D@@ AT@@ A@@ .@@ contains(@@ e.get@@ Key@@ ())) { org.ovirt.engine.@@ extension@@ .@@ aaa.@@ j@@ db@@ c.@@ b@@ in@@ d@@ ing.@@ cli@@ .@@ Cli@@ .@@ LO@@ G@@ .@@ tr@@ ace@@ ("@@ {}@@ =@@ >@@ {}@@ ", e.get@@ Key@@ (), "@@ *@@ *@@ *@@ "); } else { org.ovirt.engine.@@ extension@@ .@@ aaa.@@ j@@ db@@ c.@@ b@@ in@@ d@@ ing.@@ cli@@ .@@ Cli@@ .@@ LO@@ G@@ .@@ tr@@ ace@@ ("@@ {}@@ =@@ >@@ {}@@ ", e.get@@ Key@@ (), e.get@@ Value@@ ()); } } return p@@ ; } catch (@@ java.lang.Exception e) { throw new java.lang.@@ Run@@ time@@ Exception@@ ((@@ "@@ C@@ oul@@ d not rea@@ d proper@@ ti@@ es f@@ rom@@ : " + fil@@ en@@ ame@@ ), e); } }
private void add@@ P@@ lu@@ gin@@ Action@@ Button@@ s(@@ java.util.List<@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <?@@ >> p@@ lu@@ gin@@ Action@@ Button@@ List@@ ) { }
@java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { get@@ View@@ ().@@ s@@ el@@ ect@@ Sp@@ ice@@ Im@@ pl@@ ement@@ ation@@ (@@ Sp@@ ice@@ Console@@ Model.@@ Client@@ Console@@ Mod@@ e.@@ N@@ ati@@ ve@@ ); get@@ View@@ ().set@@ Sp@@ ice@@ Proxy@@ Enabled@@ (@@ true@@ , null@@ ); get@@ View@@ ().set@@ Sp@@ ice@@ Proxy@@ (s@@ p@@ ice@@ Proxy@@ User@@ Pre@@ fer@@ ence@@ ); }
@java.lang.Override public org.ovirt.engine.api.model.@@ Graphics@@ Console@@ s list@@ () { org.ovirt.engine.api.model.@@ Graphics@@ Console@@ s con@@ s@@ ole@@ s = new org.ovirt.engine.api.model.@@ Graphics@@ Cons@@ ol@@ es@@ (); java.util.Map<@@ org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type, org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Info@@ > g@@ raphics@@ Type@@ To@@ Graphics@@ Info@@ ; org.ovirt.engine.api.model.@@ Instance@@ Type enti@@ ty = load@@ Entity@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type@@ > g@@ raphics@@ Type@@ s = org.ovirt.engine.api.restapi.@@ util.@@ Display@@ Helper@@ .get@@ Graphics@@ Typ@@ es@@ For@@ Entity@@ (@@ this@@ , g@@ uid@@ , true@@ ); g@@ raphics@@ Type@@ To@@ Graphics@@ In@@ fo = new java.util.Hash@@ Map@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type typ@@ e : g@@ raphics@@ Typ@@ es@@ ) { g@@ raphics@@ Type@@ To@@ Graphics@@ Info@@ .@@ put(@@ type@@ , null@@ ); } for (java.util.@@ Map.@@ E@@ n@@ try@@ <org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type, org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Info@@ > g@@ raphics@@ In@@ fo : g@@ raphics@@ Type@@ To@@ Graphics@@ Info@@ .@@ e@@ n@@ try@@ Set@@ ()) { con@@ s@@ ol@@ es@@ .get@@ Graphics@@ Cons@@ ol@@ es@@ ().@@ add(@@ add@@ Link@@ s(@@ p@@ op@@ ul@@ ate@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ Vm@@ Mapper.@@ map@@ (@@ g@@ raphics@@ Info@@ , null@@ ), entity@@ ))); } return con@@ s@@ ol@@ es@@ ; }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = 1@@ ; result = (@@ pri@@ m@@ e * result) + ((@@ b@@ al@@ ance@@ ) == null ? 0 : b@@ al@@ an@@ c@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ s@@ el@@ ect@@ or@@ ) == null ? 0 : s@@ el@@ ect@@ or.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ default@@ P@@ olic@@ y ? 1@@ 2@@ 3@@ 1 : 1@@ 2@@ 3@@ 7@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ d@@ escription@@ ) == null ? 0 : d@@ escription@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ filter@@ P@@ os@@ ition@@ Map@@ ) == null ? 0 : filter@@ P@@ os@@ ition@@ Map.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ fil@@ t@@ ers@@ ) == null ? 0 : filter@@ s.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ f@@ un@@ c@@ tion@@ s) == null ? 0 : f@@ un@@ c@@ tion@@ s.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ lock@@ ed ? 1@@ 2@@ 3@@ 1 : 1@@ 2@@ 3@@ 7@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ name@@ ) == null ? 0 : nam@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ parameter@@ Map@@ ) == null ? 0 : parameter@@ Map.@@ hash@@ Code@@ ()); return result@@ ; }
private org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface create@@ V@@ lan@@ (java.lang.String b@@ ase@@ I@@ fac@@ e@@ Name@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e = new org.ovirt.engine.core.common.businessentities.network.@@ V@@ lan@@ (); int v@@ lan@@ Id = org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instance@@ ().@@ ne@@ xt@@ In@@ t@@ (@@ 1@@ 00@@ ); if@@ ac@@ e.set@@ Base@@ Interfac@@ e(@@ b@@ ase@@ I@@ fac@@ e@@ Name); if@@ ac@@ e.set@@ V@@ lan@@ Id(@@ v@@ lan@@ Id); if@@ ac@@ e.set@@ Name@@ (((@@ b@@ ase@@ I@@ fac@@ e@@ Name + "@@ .@@ ") + v@@ lan@@ Id@@ )); return if@@ ace@@ ; }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") public static <@@ P extends org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > org.ovirt.engine.core.bll.@@ Command@@ Base@@ <@@ P@@ > Create@@ Command(@@ org.ovirt.engine.core.common.action.VdcAction@@ Type action@@ , P parameters@@ ) { try { java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Con@@ struc@@ t@@ or@@ <@@ org.ovirt.engine.core.bll.@@ Command@@ Base@@ <@@ ? extends org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >> const@@ r@@ uc@@ to@@ r = org.ovirt.engine.core.bll.@@ Command@@ s@@ Fac@@ t@@ ory@@ .@@ fin@@ d@@ Command@@ Con@@ struc@@ t@@ or@@ (org.ovirt.engine.core.bll.@@ Command@@ s@@ Fac@@ t@@ ory@@ .get@@ Command@@ Class@@ (@@ action.@@ name@@ (), org.ovirt.engine.core.bll.@@ Command@@ s@@ Fac@@ t@@ ory@@ .@@ Command@@ Su@@ f@@ fi@@ x@@ ), parameters@@ .get@@ Class@@ ()); org.ovirt.engine.core.bll.@@ Command@@ Base@@ <@@ P@@ > c@@ m@@ d = ((org.ovirt.engine.core.bll.@@ Command@@ Base@@ <@@ P@@ >) (@@ const@@ r@@ uc@@ t@@ or@@ .@@ new@@ Instance@@ (@@ new java.lang.Object@@ []{ parameter@@ s }@@ ))); org.ovirt.engine.core.bll.@@ Command@@ s@@ Fac@@ t@@ ory@@ .@@ in@@ j@@ ection@@ Helper.@@ b@@ in@@ d@@ (cmd@@ ); return cmd@@ ; } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.@@ Command@@ s@@ Fac@@ t@@ ory@@ .@@ log.error("@@ ((@@ ("@@ Command@@ s@@ Fac@@ t@@ or@@ y [@@ parameter@@ : Vdc@@ Action@@ Parameters@@ Base@@ ]@@ : Fail@@ ed to ge@@ t typ@@ e in@@ for@@ m@@ ation usin@@ g " + "@@ re@@ f@@ l@@ ec@@ tion for Action@@ : ") + action@@ ), e); return null@@ ; } }
public void set@@ Active@@ Detail@@ Model@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Entity@@ <@@ java.lang.Boolean@@ > value@@ ) { if ((@@ ac@@ tive@@ Detail@@ Model) != value@@ ) { ac@@ tive@@ Detail@@ Model@@ Ch@@ an@@ gin@@ g@@ (@@ value@@ , get@@ Active@@ Detail@@ Model@@ ()); ac@@ tive@@ Detail@@ Model = value@@ ; ac@@ tive@@ Detail@@ Model@@ Changed@@ (); on@@ PropertyChanged@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ ("@@ Active@@ Detail@@ Model@@ ")); } }
protected org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ Parameters@@ ().set@@ Cpu@@ Profile@@ () { org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ Vm().get@@ StaticData@@ ().set@@ VdsGroup@@ Id@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ VdsGroup@@ Id()); org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ Vm().get@@ StaticData@@ ().set@@ Cpu@@ Profile@@ Id@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ Parameters().get@@ Cpu@@ Profile@@ Id()); return validate@@ (org.ovirt.engine.core.bll.@@ profil@@ es.@@ Cpu@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Cpu@@ Profil@@ e(@@ org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ Vm().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ E@@ ff@@ ec@@ tive@@ CompatibilityVersion@@ ())); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.Vm@@ Device g@@ raphics@@ De@@ v = get@@ Parameters().get@@ De@@ v@@ (); get@@ VmDevice@@ Dao().@@ update@@ (@@ g@@ raphics@@ De@@ v@@ ); set@@ Succeeded@@ (@@ true@@ ); set@@ Action@@ ReturnValue@@ (@@ g@@ raphics@@ De@@ v@@ .getId@@ ().get@@ Device@@ Id()); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { ex@@ ternal@@ Host@@ Group@@ s@@ _@@ SelectedItem@@ Changed@@ (); }
@java.lang.Override public int comp@@ ar@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ m@@ ac@@ p@@ oo@@ l.@@ Mac@@ R@@ ang@@ e@@ Model r@@ ang@@ e@@ 1, org.ovirt.engine.ui.uicommonweb.models.@@ m@@ ac@@ p@@ oo@@ l.@@ Mac@@ R@@ ang@@ e@@ Model r@@ ang@@ e@@ 2@@ ) { return r@@ ang@@ e@@ 1@@ .get@@ Le@@ f@@ t@@ B@@ ound@@ ().getEntity@@ ().@@ comp@@ are@@ To@@ (r@@ ang@@ e@@ 2@@ .get@@ R@@ ig@@ ht@@ B@@ ound@@ ().getEntity@@ ()); }
@java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { de@@ ac@@ tivate@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > r@@ ng@@ Device@@ s = return@@ Value.get@@ ReturnValue@@ (); getModel().get@@ Is@@ R@@ ng@@ Enabled@@ ().set@@ Entity@@ ((!@@ (r@@ ng@@ Devic@@ es.@@ isEmpty@@ ()))); if (!(@@ r@@ ng@@ Devic@@ es.@@ isEmpty@@ ())) { org.ovirt.engine.core.common.businessentities.Vm@@ R@@ ng@@ Device r@@ ng@@ Device = new org.ovirt.engine.core.common.businessentities.Vm@@ R@@ ng@@ Device@@ (r@@ ng@@ Devices@@ .get(@@ 0@@ )); get@@ Model@@ ().set@@ R@@ ng@@ Device@@ (r@@ ng@@ Device@@ ); } ac@@ tivate@@ (); update@@ Vir@@ ti@@ oS@@ csi@@ (vm@@ Base@@ ); }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") @org.junit.Test public void test@@ R@@ e@@ try@@ With@@ Exception@@ () throw@@ s java.lang.Exception { java.util.@@ con@@ c@@ urr@@ ent.@@ Call@@ able@@ <@@ java.lang.Object> call@@ able = mock@@ (java.util.@@ con@@ c@@ urr@@ ent.@@ Call@@ able@@ .@@ class@@ ); org.ovirt.vdsm.jsonrpc.client.@@ utils.@@ r@@ e@@ try@@ .@@ R@@ e@@ try@@ P@@ olic@@ y p@@ olic@@ y = new org.ovirt.vdsm.jsonrpc.client.@@ utils.@@ r@@ e@@ try@@ .@@ R@@ e@@ try@@ Policy@@ (@@ 5@@ , 3@@ , 1@@ 0@@ , java.io.@@ I@@ O@@ Exception@@ .@@ class@@ ); org.ovirt.vdsm.jsonrpc.client.@@ utils.@@ r@@ e@@ try@@ .@@ R@@ e@@ try@@ able@@ <@@ java.lang.Object> r@@ e@@ try@@ able = new org.ovirt.vdsm.jsonrpc.client.@@ utils.@@ r@@ e@@ try@@ .@@ R@@ e@@ try@@ able(@@ call@@ able@@ , p@@ olicy@@ ); st@@ ub@@ (c@@ all@@ abl@@ e.c@@ all@@ ()).@@ to@@ Th@@ row@@ (@@ new java.io.@@ I@@ O@@ Exception@@ ()).@@ to@@ Th@@ row@@ (@@ new java.io.@@ I@@ O@@ Exception@@ ()).@@ to@@ Return@@ (@@ new java.lang.Object@@ ()); r@@ e@@ try@@ abl@@ e.c@@ all@@ (); ve@@ r@@ if@@ y@@ (c@@ all@@ able@@ , tim@@ es(@@ 3@@ )).@@ call@@ (); }
@java.lang.Override public boolean is@@ Bal@@ loon@@ Enabled@@ (@@ int os@@ Id, org.ovirt.engine.core.compat.@@ Version version@@ ) { return get@@ Boolean@@ (get@@ Value@@ By@@ Version@@ (@@ id@@ To@@ Un@@ ame@@ L@@ ook@@ up@@ .get(@@ os@@ Id@@ ), "@@ de@@ vic@@ es.@@ b@@ al@@ loon@@ Dis@@ abled@@ By@@ Default@@ ", version@@ ), false@@ ); }
public void set@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.Boolean@@ > p@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ ) { this@@ .@@ p@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B = p@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ ; }
@java.lang.Override protected void Sync@@ Search@@ () { org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (get@@ Entity@@ ())); if (disk@@ Image == null@@ ) { return@@ ; } org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); _@@ async@@ Query@@ .set@@ Model@@ (@@ this@@ ); _@@ async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void On@@ Success@@ (java.lang.Object model, java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ List@@ Model search@@ able@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ ListModel@@ ) (model@@ )); search@@ able@@ List@@ Model.set@@ Item@@ s@@ (((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ ReturnValue@@ ()))); } }; org.ovirt.engine.core.common.queries.@@ Get@@ StorageDomain@@ sBy@@ Image@@ Id@@ Parameters get@@ Image@@ By@@ Image@@ Id@@ Parameters = new org.ovirt.engine.core.common.queries.@@ Get@@ StorageDomain@@ sBy@@ Image@@ Id@@ Parameters@@ (disk@@ Image.get@@ Image@@ Id()); get@@ Image@@ By@@ Image@@ Id@@ Parameter@@ s.set@@ Re@@ fresh@@ (get@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ ()); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ StorageDomain@@ sBy@@ Image@@ Id, get@@ Image@@ By@@ Image@@ Id@@ Parameters@@ , _@@ async@@ Query@@ ); set@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ (@@ false@@ ); }
private boolean storageDomain@@ Status@@ Is@@ Valid@@ () { boolean return@@ Value@@ ; if (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Ac@@ tivate@@ StorageDomain@@ Command.@@ is@@ Internal@@ Execution@@ ()) { return@@ Value = check@@ StorageDomain@@ Status(@@ StorageDomain@@ Status.@@ In@@ ac@@ tive@@ , StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ , StorageDomain@@ Status.@@ Lock@@ ed@@ , StorageDomain@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ , StorageDomain@@ Status.@@ Pre@@ par@@ ing@@ For@@ M@@ a@@ int@@ en@@ ance@@ ); } else { return@@ Value = check@@ StorageDomain@@ Status(@@ StorageDomain@@ Status.@@ In@@ ac@@ tive@@ , StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ , StorageDomain@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ , StorageDomain@@ Status.@@ Pre@@ par@@ ing@@ For@@ M@@ a@@ int@@ en@@ ance@@ ); } return return@@ Value@@ ; }
private boolean c@@ ustom@@ Properties@@ Changed@@ (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ace@@ , org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface existing@@ I@@ fac@@ e) { return (@@ (@@ if@@ ac@@ e.@@ has@@ Custom@@ Properties@@ ()) != (@@ existing@@ I@@ fac@@ e.@@ has@@ Custom@@ Properties@@ ())) || (@@ (@@ if@@ ac@@ e.@@ has@@ Custom@@ Properties@@ ()) && (!@@ (@@ if@@ ac@@ e.get@@ Custom@@ Properties@@ ().@@ equals(@@ existing@@ I@@ fac@@ e.get@@ Custom@@ Properties@@ ())@@ ))); }
@org.junit.Test public void validate@@ Fail@@ s@@ On@@ Server@@ Not@@ Up@@ () { c@@ m@@ d = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.@@ gluster.@@ Remove@@ Gluster@@ Hook@@ Command@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.Gluster@@ Hook@@ Manage@@ Parameters(@@ HO@@ O@@ K_@@ ID@@ ))); setUp@@ Mock@@ s@@ For@@ Remove@@ (@@ true@@ , get@@ Hook@@ Entity@@ (), VDS@@ Status.@@ Down@@ ); assert@@ F@@ als@@ e(@@ cmd@@ .@@ validate@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ Validation@@ Messages@@ ().@@ contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ S@@ ER@@ V@@ ER_@@ ST@@ AT@@ U@@ S_NOT_@@ UP@@ .@@ toString@@ ())); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Description@@ ") java.lang.String d@@ escription@@ Af@@ finity@@ Group@@ ();
private boolean is@@ Att@@ ri@@ b@@ ut@@ es@@ (c@@ om.@@ th@@ o@@ u@@ g@@ ht@@ wor@@ k@@ s.@@ q@@ do@@ x@@ .model.@@ J@@ ava@@ M@@ eth@@ o@@ d java@@ Method@@ ) { return ((@@ (get@@ Property@@ (@@ buil@@ der.@@ Att@@ ri@@ b@@ ut@@ es@@ ()) + (get@@ Property@@ (@@ buil@@ der.@@ DE@@ FA@@ U@@ L@@ T_@@ O@@ S@@ E@@ ))) + (get@@ Property@@ (@@ buil@@ der.@@ DE@@ FA@@ U@@ L@@ T_@@ O@@ S@@ E@@ )); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ P@@ l@@ ay@@ ") java.lang.String play@@ Sp@@ ice@@ Console@@ ();
public boolean is@@ Brick@@ Tab@@ Selected@@ () { return is@@ Brick@@ Tab@@ Selected@@ ; }
public java.lang.String get@@ Mac@@ () { return (m@@ ac@@ ) != null ? ma@@ c : "@@ "; }
@java.lang.Override public java.lang.String toString@@ () { java.lang.String@@ Buil@@ der buil@@ der = new java.lang.String@@ Builder@@ (); buil@@ der.@@ append@@ (get@@ Name@@ ()).@@ append("@@ {@@ id@@ =@@ ").@@ append@@ (get@@ Id@@ ()).@@ append("@@ , status@@ =@@ ").@@ append@@ (get@@ Status@@ ()).@@ append("@@ , dis@@ play@@ =@@ ").@@ append@@ (is@@ Display@@ ()).@@ append("@@ , re@@ qui@@ red@@ =@@ ").@@ append@@ (is@@ Requi@@ red@@ ()).@@ append("@@ , m@@ igr@@ ation@@ =@@ ").@@ append@@ (is@@ Migration@@ ()).@@ append("@@ , manage@@ ment@@ =@@ ").@@ append@@ (is@@ Management@@ ()).@@ append("@@ , gluster@@ =@@ ").@@ append@@ (is@@ Gluster@@ ()).@@ append("@@ , gluster@@ =@@ ").@@ append@@ (is@@ Gluster@@ ()).@@ append("@@ , gluster@@ =@@ ").@@ append@@ (get@@ Gluster@@ ()).@@ append("@@ , gluster@@ =@@ ").@@ append@@ (get@@ Gluster@@ ()).@@ append("@@ , gluster@@ =@@ ").@@ append@@ (get@@ Gluster@@ ()).@@ append("@@ , gluster@@ =@@ ").@@ append@@ (get@@ Gluster@@ ()).@@ append("@@ , gluster@@ =@@ ").@@ append@@ (get@@ Gluster@@ ()).@@ append("@@ , gluster@@ =@@ ").@@ append@@ (get@@ Gluster@@ ()).@@ append("@@ , gluster@@ =@@ ").@@ append@@ (get@@ Gluster@@ ()).@@ append("@@ , gluster@@ =@@ ").@@ append@@ (get@@ Gluster@@ ()).@@
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Static@@ > get@@ All@@ With@@ out@@ I@@ con@@ () { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Vm@@ Static@@ With@@ out@@ I@@ con@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Static@@ Dao@@ Im@@ pl@@ .get@@ Row@@ Map@@ per@@ (), get@@ Custom@@ MapSqlParameter@@ Source@@ ()); }
public void w@@ ar@@ n@@ On@@ Active@@ Vm@@ () { if (@@ ac@@ tive@@ Vm@@ Attached@@ To@@ Cluster@@ P@@ red@@ ic@@ at@@ e.@@ e@@ valu@@ ate@@ (network@@ Cluster@@ .get@@ Cluster@@ Id@@ ())) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ g@@ able = create@@ Log@@ g@@ able@@ (); au@@ ditLog@@ able@@ Bas@@ e.@@ au@@ ditLog@@ (@@ log@@ g@@ able@@ , AuditLogType.@@ NETWORK_@@ UP@@ D@@ AT@@ E_@@ DIS@@ P@@ L@@ A@@ Y_@@ F@@ OR@@ _C@@ LUSTER_@@ W@@ I@@ TH@@ _@@ AC@@ TI@@ V@@ E_@@ VM@@ ); } }
private org.ovirt.engine.core.compat.Guid get@@ Quota@@ Id@@ () { return org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ Quota@@ Manager@@ ().get@@ Default@@ Quota@@ If@@ Null@@ (@@ AddVm@@ Command.getParameters().get@@ Vm@@ StaticData@@ ().get@@ Quota@@ Id(), Update@@ Vm@@ Command.get@@ StoragePool@@ Id()); }
@java.lang.Override protected void execute@@ Command() { init@@ Pool@@ User@@ (); org.ovirt.engine.core.bll.@@ Attach@@ User@@ To@@ Vm@@ From@@ Pool@@ And@@ Run@@ Command.get@@ Parameters@@ ().set@@ Entity@@ Info@@ (@@ new org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ Entity@@ Info@@ (org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ VM@@ , get@@ Vm@@ Id@@ ())); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base v@@ dc@@ ReturnValue = attach@@ User@@ To@@ Vm@@ (); if (!(@@ v@@ dc@@ Return@@ Value.get@@ Succeeded@@ ())) { log.info@@ ("@@ Fail@@ ed to g@@ i@@ v@@ e us@@ er '{}@@ ' per@@ mis@@ si@@ on to V@@ m '{}@@ '@@ ", get@@ Ad@@ User@@ Id(), get@@ Vm@@ Id()); set@@ Action@@ ReturnValue@@ (@@ v@@ dc@@ ReturnValue@@ ); vm@@ Pool@@ Handler.@@ re@@ le@@ ase@@ Vm@@ (get@@ Vm@@ Id(), (!(@@ is@@ Vm@@ Pres@@ t@@ ar@@ ted@@ ()))); return@@ ; } else { log.info@@ ("@@ Suc@@ cee@@ de@@ d g@@ i@@ v@@ ing us@@ er '{}@@ ' per@@ mis@@ si@@ on to V@@ m '{}@@ '@@ ", get@@ Ad@@ User@@ Id(), get@@ Vm@@ Id()); } if (!(@@ is@@ Vm@@ Pres@@ t@@ ar@@ ted@@ ())) { v@@ dc@@ ReturnValue = run@@ Vm@@ (); set@@ Succeeded@@ (@@ v@@ dc@@ Return@@ Value.get@@ Succeeded@@ ()); org.ovirt.engine.core.bll.@@ Attach@@ User@@ To@@ Vm@@ From@@ Pool@@ And@@ Run@@ Command.get@@ ReturnValue().get@@ Vds@@ m@@ Task@@ Id@@ List@@ ().add@@ All@@ (org.ovirt.engine.core.bll.@@ Attach@@ User@@ To@@ Vm@@ From@@ Pool@@ And@@ Run@@ Command.get@@ ReturnValue().get@@ Internal@@ Vds@@ m@@ Task@@ Id@@ List@@ ()); } else { org.ovirt.engine.core.bll.@@ Attach@@ User@@ To@@ Vm@@ From@@ Pool@@ And@@ Run@@ Command.set@@ Succeeded@@ (@@ true@@ ); } set@@ Action@@ ReturnValue@@ (get@@ Vm@@ Id()); }
@java.lang.Override public java.lang.String toString@@ () { return org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ .@@ for@@ Instance@@ (@@ this@@ ).@@ append("@@ id@@ ", get@@ LUN@@ _id@@ ()).@@ append("@@ p@@ h@@ y@@ s@@ ical@@ Volume@@ Id@@ ", get@@ p@@ h@@ y@@ s@@ ical@@ _@@ volume@@ _id@@ ()).@@ append("@@ volume@@ Group@@ Id@@ ", get@@ volume@@ _@@ group@@ _id@@ ()).@@ append("@@ ser@@ ial@@ ", get@@ Ser@@ ial@@ ()).@@ append("@@ lun@@ Mapping@@ ", get@@ Lun@@ Mapping@@ ()).@@ append("@@ ve@@ n@@ do@@ r@@ Id@@ ", get@@ V@@ e@@ n@@ do@@ r@@ Id@@ ()).@@ append("@@ pro@@ d@@ uc@@ t@@ Id@@ ", get@@ Pro@@ d@@ uc@@ t@@ Id@@ ()).@@ append("@@ lun@@ Connection@@ s", get@@ Lun@@ Connection@@ s@@ ()).@@ append("@@ de@@ vice@@ Size@@ ", get@@ Device@@ Size@@ ()).@@ append("@@ ve@@ n@@ do@@ r@@ Name@@ ", get@@ V@@ e@@ n@@ do@@ r@@ Name@@ ()).@@ append("@@ p@@ ath@@ s@@ D@@ ic@@ tion@@ ar@@ y@@ ", get@@ Path@@ s@@ D@@ ic@@ tion@@ ar@@ y@@ ()).@@ append("@@ lun@@ Type@@ ", get@@ Lun@@ Type@@ ()).@@ append("@@ status@@ ", get@@ Status@@ ()).@@ append("@@ disk@@ Id@@ ", get@@ Disk@@ Id@@ ()).@@ append("@@ disk@@ Alias@@ ", get@@ Disk@@ Alias@@ ()).@@ append("@@ storageDomain@@ Id@@ ", get@@ StorageDomain@@ Id@@ ()).@@ append("@@ storageDomain@@ Name@@ ", get@@ StorageDomain@@ Name@@ ()).@@ build@@ (); }
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model set@@ Entity@@ (java.lang.Object value@@ ) { return super@@ .set@@ Entity@@ ((@@ valu@@ e == null ? null : ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Template@@ Data@@ ) (@@ value@@ )@@ ).get@@ Template@@ ())); }
private java.lang.String get@@ M@@ ount@@ P@@ o@@ int@@ s@@ Filter@@ P@@ at@@ ter@@ n@@ () { java.lang.String@@ [@@ ] m@@ ount@@ P@@ o@@ int@@ sTo@@ I@@ g@@ n@@ or@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.String@@ >@@ get@@ Value(ConfigValues.@@ Gluster@@ Storage@@ Device@@ List@@ M@@ ount@@ P@@ o@@ int@@ sTo@@ I@@ g@@ ore@@ ).@@ s@@ pl@@ it@@ ("@@ ,@@ "); java.lang.String@@ Buil@@ der p@@ at@@ ter@@ n = new java.lang.String@@ Builder@@ (); for (java.lang.String m@@ o@@ int@@ P@@ o@@ int@@ P@@ o@@ int@@ P@@ o@@ int@@ sTo@@ I@@ g@@ n@@ or@@ e) { p@@ at@@ ter@@ n@@ .@@ append("@@ ^@@ "); p@@ at@@ ter@@ n@@ .@@ append@@ (m@@ o@@ int@@ P@@ o@@ int@@ ); p@@ at@@ ter@@ n@@ .@@ append("@@ $@@ "); p@@ at@@ ter@@ n@@ .@@ append("@@ |@@ "); } return p@@ at@@ ter@@ n@@ .@@ toString@@ (); }
@org.junit.Test public void test@@ Get@@ By@@ Name@@ With@@ In@@ valid@@ Name@@ () { org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k result = d@@ ao@@ .get@@ By@@ Name(@@ "@@ this@@ name@@ is@@ in@@ valid@@ "); assert@@ Null@@ (@@ result@@ ); }
byte@@ [@@ ] d@@ ig@@ est@@ Fil@@ e(@@ java.io.@@ Fil@@ e fil@@ e) throw@@ s java.io.@@ File@@ Not@@ F@@ ound@@ Exception@@ , java.io.@@ I@@ O@@ Exception { java.s@@ ec@@ ur@@ ity@@ .@@ Message@@ D@@ ig@@ es@@ t d@@ ig@@ est@@ ; try { d@@ ig@@ es@@ t = java.s@@ ec@@ ur@@ ity@@ .@@ Message@@ D@@ ig@@ es@@ t.get@@ Instance@@ ("@@ M@@ D@@ 5@@ "); } catch (@@ java.s@@ ec@@ ur@@ ity@@ .@@ N@@ oS@@ u@@ ch@@ Al@@ g@@ or@@ ith@@ m@@ Exception e) { throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ e); } java.io.@@ In@@ put@@ St@@ rea@@ m is = new java.io.@@ File@@ In@@ put@@ St@@ ream@@ (@@ fil@@ e); byte@@ [@@ ] bu@@ ff@@ er = new byte@@ [@@ 1@@ 0@@ 2@@ 4@@ ]@@ ; int n@@ ; while ((@@ n = is@@ .@@ read@@ (@@ bu@@ f@@ fer@@ )) != (@@ -@@ 1@@ )) { d@@ ig@@ es@@ t.@@ update@@ (@@ bu@@ f@@ fer@@ , 0@@ , n@@ ); } is@@ .@@ c@@ lo@@ se@@ (); return d@@ ig@@ es@@ t.@@ d@@ ig@@ est@@ (); }
private void save@@ I@@ l@@ le@@ g@@ al@@ Disk@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.@@ V@@ o@@ id@@ >() { @java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { get@@ Image@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); disk@@ Im@@ age.@@ set@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); disk@@ Im@@ age.@@ set@@ Parent@@ Id(@@ Guid@@ .@@ Empty@@ ); disk@@ Im@@ age.@@ set@@ Image@@ Template@@ Id(@@ Guid@@ .@@ Empty@@ ); org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ set@@ Disk@@ Alias@@ (disk@@ Image@@ , get@@ Vm@@ ()); org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ add@@ DiskImage@@ (disk@@ Image@@ , get@@ Vm@@ Id()); return null@@ ; } }); }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Host@@ Device@@ > result = new java.util.ArrayList<>(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Host@@ Device@@ s = db@@ Fac@@ ade.get@@ VmDevice@@ Dao().get@@ VmDevice@@ By@@ Vm@@ Id@@ Type@@ And@@ Device@@ (org.ovirt.engine.core.bll.@@ Get@@ Vm@@ Host@@ Devices@@ Query.get@@ Parameters().get@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ HOST@@ _@@ DE@@ V@@ IC@@ E, VmDevice@@ Type.@@ HOST@@ _@@ DE@@ V@@ IC@@ E@@ .get@@ Name(), org.ovirt.engine.core.bll.@@ Get@@ Vm@@ Host@@ Devices@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.@@ Get@@ Vm@@ Host@@ Devices@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ()); for (org.ovirt.engine.core.common.businessentities.Vm@@ Device de@@ vic@@ e : vm@@ Host@@ Devices@@ ) { result.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Host@@ Device@@ (@@ de@@ vice@@ )); } set@@ ReturnValue@@ (@@ result@@ ); }
public static boolean is@@ R@@ eb@@ oot@@ Command@@ Execution@@ Allow@@ ed(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s) { if ((@@ vms.@@ isEmpty@@ ()) || (!(@@ org.ovirt.engine.core.common.@@ Vdc@@ Action@@ Utils.@@ can@@ Execu@@ te@@ (vm@@ s, org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ , Vdc@@ ActionType.@@ R@@ eb@@ oot@@ Vm@@ )@@ ))) { return false@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { org.ovirt.engine.core.compat.@@ Version ver@@ si@@ on = vm.get@@ VdsGroup@@ CompatibilityVersion@@ (); if ((!@@ (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ is@@ Command@@ C@@ ompati@@ bl@@ e(@@ Vdc@@ ActionType.@@ R@@ eb@@ oot@@ Vm@@ , version@@ ))) || (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (vm.get@@ Vm@@ Ip@@ ()))) { return false@@ ; } } return true@@ ; }
public static java.lang.String Gener@@ ate@@ O@@ T@@ P@@ () { java.s@@ ec@@ ur@@ ity@@ .S@@ ec@@ ure@@ R@@ an@@ do@@ m s@@ ec@@ r = new java.s@@ ec@@ ur@@ ity@@ .S@@ ec@@ ure@@ R@@ an@@ do@@ m@@ (); byte@@ [@@ ] ar@@ r@@ R@@ an@@ do@@ m = new byte@@ [@@ 9@@ ]@@ ; s@@ ec@@ r@@ .@@ ne@@ xt@@ By@@ t@@ es(@@ ar@@ r@@ R@@ an@@ do@@ m@@ ); return org.apache.commons.@@ c@@ ode@@ c.@@ b@@ in@@ ar@@ y@@ .@@ String@@ Util@@ s@@ .@@ new@@ String@@ U@@ t@@ f@@ 8@@ (@@ org.apache.commons.@@ c@@ ode@@ c.@@ b@@ in@@ ar@@ y@@ .@@ Base@@ 6@@ 4@@ .@@ enc@@ ode@@ Base@@ 6@@ 4@@ (@@ ar@@ r@@ R@@ an@@ do@@ m@@ , false@@ )); }
@java.lang.Override public void re@@ port@@ Comp@@ let@@ ed@@ () { super@@ .@@ re@@ port@@ Comp@@ let@@ ed@@ (); org.ovirt.engine.core.bll.@@ Migrate@@ Vm@@ Command.@@ f@@ ree@@ Lock@@ (); }
public static void update@@ Parameters@@ Se@@ qu@@ enc@@ ing@@ (@@ java.util.List<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > parameters@@ ) { for (@@ int i = 0@@ ; i < (@@ parameter@@ s.@@ size@@ ()); i@@ +@@ +@@ ) { org.ovirt.engine.core.common.action.@@ P@@ ers@@ ist@@ ent@@ SetupNetworks@@ Parameters set@@ up@@ Network@@ Parameters = ((@@ org.ovirt.engine.core.common.action.@@ P@@ ers@@ ist@@ ent@@ SetupNetworks@@ Parameters@@ ) (@@ parameters@@ .get(@@ i@@ ))); set@@ up@@ Network@@ Parameter@@ s.set@@ Se@@ qu@@ ence@@ ((@@ i + 1@@ )); set@@ up@@ Network@@ Parameter@@ s.set@@ T@@ otal@@ (@@ parameter@@ s.@@ size@@ ()); } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Disk@@ s al@@ read@@ y ex@@ is@@ t on al@@ l ava@@ il@@ able Stor@@ age Domain@@ s.@@ ") java.lang.String disk@@ s@@ Al@@ read@@ y@@ Exist@@ M@@ s@@ g@@ ();
@org.junit.Test public void test@@ Interface@@ Is@@ Valid@@ S@@ lave@@ W@@ h@@ en@@ Interface@@ Is@@ Bond@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface vds@@ Network@@ Interface = create@@ VdsNetwork@@ Interface@@ With@@ Name@@ (); vds@@ Network@@ Interfac@@ e.set@@ Bon@@ ded@@ (@@ true@@ ); assert@@ That@@ (@@ new org.ovirt.engine.core.bll.validator.@@ Host@@ Interface@@ Validator@@ (vds@@ Network@@ Interface@@ )@@ .@@ int@@ er@@ fac@@ e@@ Is@@ Valid@@ S@@ lave@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E_@@ B@@ ON@@ D_@@ OR@@ _@@ V@@ L@@ AN@@ _C@@ ANNOT_@@ B@@ E_@@ S@@ L@@ A@@ V@@ E@@ )); }
@org.junit.Test public void test@@ DiskImage@@ With@@ S@@ g@@ i@@ o@@ Can@@ t@@ Be@@ Ad@@ ded@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command@@ Test.@@ create@@ Vir@@ t@@ I@@ oS@@ csi@@ DiskImage@@ (); disk@@ .set@@ S@@ g@@ i@@ o@@ (@@ S@@ csi@@ Gener@@ ic@@ I@@ O@@ .@@ UN@@ F@@ IL@@ TER@@ ED); org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters parameter@@ s = org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command@@ Test.@@ create@@ Parameters@@ (); parameters.set@@ Disk@@ Info@@ (disk@@ ); org.ovirt.engine.core.compat.Guid storage@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); initial@@ ize@@ Command(@@ storage@@ Id, parameters@@ ); mock@@ StorageDomain@@ (@@ storage@@ Id); mock@@ StoragePool@@ Iso@@ Map@@ (); org.ovirt.engine.core.common.businessentities.VM vm = mock@@ Vm@@ (); vm@@ .set@@ VdsGroup@@ CompatibilityVersion@@ (@@ Version@@ .@@ v@@ 3@@ _@@ 3@@ ); mock@@ Max@@ P@@ c@@ i@@ S@@ l@@ ot@@ s(); org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator disk@@ Validator = sp@@ y@@ Disk@@ Validator@@ (disk@@ ); do@@ Return@@ (@@ true@@ ).when@@ (disk@@ Validator@@ ).@@ is@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ er@@ Attach@@ ed(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ command@@ , EngineMessage.@@ S@@ C@@ SI@@ _@@ G@@ EN@@ ER@@ IC@@ _@@ I@@ O@@ _@@ I@@ S_NOT_@@ SUP@@ PORT@@ ED_@@ F@@ OR@@ _@@ IM@@ AGE_@@ DIS@@ K@@ ); }
private void confi@@ rm@@ Un@@ plug@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ de@@ ac@@ tivate@@ Vm@@ Disks@@ Title@@ ()); model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ are@@ Y@@ o@@ u@@ S@@ ure@@ Y@@ o@@ u@@ W@@ an@@ t@@ De@@ ac@@ tivate@@ VM@@ Disks@@ M@@ s@@ g@@ ()); model.set@@ Hash@@ Name@@ ("@@ de@@ ac@@ tivate@@ _@@ vm@@ _@@ disk@@ "); set@@ W@@ in@@ do@@ w@@ (model@@ ); java.util.ArrayList<@@ java.lang.String> item@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Disk s@@ el@@ ected : get@@ SelectedItem@@ s()) { item@@ s.@@ add@@ (s@@ elected@@ .get@@ Disk@@ Alias@@ ()); } model.set@@ Items(@@ item@@ s); org.ovirt.engine.ui.uicommonweb.UICommand un@@ P@@ lu@@ g = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ Un@@ plug@@ ", this@@ ); un@@ P@@ lu@@ g.@@ set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ()); un@@ P@@ lu@@ g.@@ set@@ Is@@ Default@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ un@@ Plug@@ ); org.ovirt.engine.ui.uicommonweb.UICommand can@@ ce@@ l = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ ", this@@ ); can@@ ce@@ l.@@ set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); can@@ ce@@ l.@@ set@@ Is@@ Cancel@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add@@ (c@@ ance@@ l@@ ); }
@java.lang.Override public void on@@ Key@@ P@@ ress@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Key@@ P@@ ress@@ Event event@@ ) { if ((@@ com.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Key@@ C@@ od@@ es.@@ K@@ E@@ Y_@@ EN@@ TER@@ ) == (@@ ev@@ ent.get@@ N@@ ati@@ ve@@ Event@@ ().get@@ Key@@ Code@@ ())) { if (c@@ t@@ x.@@ can@@ Set@@ In@@ Model@@ ()) { boolean ed@@ itor@@ Val@@ id = true@@ ; if (@@ edit@@ or instanceof org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ gener@@ ic@@ .@@ Entity@@ Model@@ Text@@ B@@ o@@ x@@ ) { ed@@ itor@@ Val@@ id = ((@@ org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ gener@@ ic@@ .@@ Entity@@ Model@@ Text@@ B@@ o@@ x@@ <?@@ >) (@@ ed@@ itor@@ )).@@ is@@ State@@ Valid@@ (); } if (@@ ed@@ itor@@ Valid@@ ) { c@@ t@@ x@@ .set@@ In@@ Model@@ (@@ ed@@ itor@@ .get@@ Value@@ ()); } } }
@java.lang.Override public boolean validate@@ (@@ org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ entity@@ .@@ Config@@ K@@ e@@ y key@@ , java.lang.String value@@ ) { if ((!@@ (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (@@ value@@ ))) && ((@@ par@@ ser@@ .get@@ Ad@@ min@@ P@@ ass@@ File@@ ()) == null@@ )) { return false@@ ; } return true@@ ; }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ t@@ Start@@ On@@ Vds@@ H@@ ig@@ h@@ P@@ end@@ ing@@ S@@ w@@ ap@@ S@@ m@@ all@@ () { vd@@ s.set@@ S@@ w@@ ap@@ F@@ re@@ e(@@ 6@@ 0@@ L@@ ); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Requi@@ rem@@ ent = s@@ l@@ a@@ Validator.@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (vds@@ , vm@@ , 6@@ 5@@ ); assert@@ F@@ als@@ e(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Requi@@ re@@ ment@@ ); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Th@@ e stor@@ age s@@ el@@ ected contain@@ s the host@@ ed engin@@ e.@@ ") java.lang.String ACTION_TYPE_FAILED_@@ HOST@@ ED_@@ EN@@ G@@ IN@@ E_@@ STOR@@ AG@@ E@@ ();
private void c@@ opy@@ () { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >) (get@@ SelectedItem@@ s@@ ())); if (disk@@ s == null@@ ) { return@@ ; } if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Copy@@ Disk@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Copy@@ Disk@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ c@@ opy@@ Disks@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ c@@ opy@@ _@@ disk@@ ); model.set@@ Hash@@ Name@@ ("@@ c@@ opy@@ _@@ disk@@ "); model.set@@ Entity@@ (@@ this@@ ); model.@@ init@@ (disk@@ s); model.@@ st@@ art@@ Progress@@ (@@ null@@ ); }
private java.lang.String de@@ c@@ ode@@ Disk@@ Property@@ (java.lang.String disk@@ Property@@ ) throw@@ s org.apache.commons.@@ c@@ ode@@ c.@@ D@@ ec@@ o@@ der@@ Exception { return new java.lang.String@@ (@@ org.apache.commons.@@ c@@ ode@@ c.@@ b@@ in@@ ar@@ y@@ .@@ H@@ ex@@ .@@ de@@ c@@ ode@@ H@@ ex@@ (disk@@ Property@@ .@@ to@@ Ch@@ ar@@ Array@@ ()), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler.@@ C@@ H@@ AR@@ S@@ ET@@ ); }
private void w@@ rite@@ An@@ not@@ ation@@ Parameter@@ (@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ An@@ not@@ ation@@ Paramet@@ er parameter@@ ) { if (!(@@ parameter@@ .get@@ Valu@@ es@@ ().@@ isEmpty@@ ())) { wr@@ it@@ er.@@ w@@ rite@@ Start@@ Element@@ ("@@ valu@@ es@@ "); valu@@ es@@ .@@ for@@ E@@ ach@@ (@@ ( x@@ ) -@@ > wr@@ it@@ er.@@ w@@ rite@@ Element@@ ("@@ value@@ ", x@@ )); wr@@ it@@ er.@@ w@@ rite@@ En@@ d@@ Element@@ (); } }
@java.lang.Override protected void ch@@ ild@@ Command@@ s@@ Execution@@ En@@ ded@@ (org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ , boolean any@@ Fail@@ ed@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid> ch@@ ild@@ C@@ md@@ Id@@ s, org.ovirt.engine.core.compat.@@ back@@ end@@ c@@ ompat.@@ Command@@ Execution@@ Status status@@ , int comp@@ let@@ ed@@ Ch@@ ild@@ r@@ en@@ ) { org.ovirt.engine.core.common.action.@@ Remove@@ Cinder@@ Disk@@ Volume@@ Parameters parameter@@ s = ((@@ org.ovirt.engine.core.common.action.@@ Remove@@ Cinder@@ Disk@@ Volume@@ Parameters@@ ) (command@@ .get@@ Parameters@@ ())); org.ovirt.engine.core.bll.storage.disk.@@ c@@ in@@ der.@@ Remove@@ Cinder@@ Disk@@ Volume@@ C@@ ommand remove@@ Cinder@@ Disk@@ Volume@@ C@@ ommand = ((@@ org.ovirt.engine.core.bll.storage.disk.@@ c@@ in@@ der.@@ Remove@@ Cinder@@ Disk@@ Volume@@ Command@@ ) (command@@ )); org.ovirt.engine.core.common.businessentities.storage.@@ Cinder@@ Disk rem@@ oved@@ Volum@@ e = parameters@@ .get@@ Rem@@ oved@@ Volume@@ (); if (!(@@ remove@@ Cinder@@ Disk@@ Volume@@ Command.get@@ Cinder@@ Broker@@ ().is@@ Volume@@ Exist@@ sBy@@ Cl@@ as@@ s@@ if@@ ication@@ Type(@@ rem@@ oved@@ Volume@@ ))) { set@@ Command@@ En@@ d@@ Status@@ (command@@ , false@@ ); } org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status image@@ Status = check@@ Image@@ Status(@@ rem@@ oved@@ Volume@@ , remove@@ Cinder@@ Disk@@ Volume@@ Command@@ ); if ((@@ image@@ Status != null@@ ) && (@@ image@@ Status != (@@ rem@@ oved@@ Volum@@ e.get@@ Image@@ Status@@ ()))) { switch (@@ image@@ Status@@ ) { case IL@@ LE@@ G@@ A@@ L : set@@ Command@@ En@@ d@@ Status@@ (command@@ , true@@ , ch@@ ild@@ C@@ md@@ Id@@ s); break@@ ; } } }
public org.ovirt.engine.core.bll.ValidationResult update@@ Parameters@@ For@@ Back@@ w@@ ard@@ C@@ ompatibility@@ (org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface nic@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Base vm@@ , org.ovirt.engine.core.compat.Guid user@@ Id) { if ((@@ nic@@ .get@@ VnicProfile@@ Id()) != null@@ ) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } if ((@@ nic@@ .get@@ Network@@ Name@@ ()) == null@@ ) { if (@@ nic@@ .is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ()) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ POR@@ T_@@ M@@ I@@ R@@ R@@ OR@@ ING@@ _@@ RE@@ Q@@ U@@ I@@ RE@@ S_@@ NETWOR@@ K@@ ); } else { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } } org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = get@@ Network@@ Dao().get@@ By@@ Name@@ And@@ Cluster@@ (@@ nic@@ .get@@ Network@@ Name(), vm.get@@ VdsGroup@@ Id()); if (@@ n@@ etwork == null@@ ) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ NETWORK_@@ NOT_@@ EXIST@@ S_@@ IN@@ _C@@ LUST@@ ER@@ ); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VnicProfile@@ > vnic@@ Profile@@ s = get@@ VnicProfile@@ Dao().get@@ AllFor@@ Network@@ (network@@ .getId()); for (org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e profil@@ e : vnic@@ Profil@@ es@@ ) { if (is@@ VnicProfile@@ Per@@ m@@ it@@ ted@@ (@@ user@@ Id, profil@@ e@@ , nic@@ .is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ())) { nic@@ .set@@ VnicProfile@@ Id(@@ profil@@ e.get@@ Id()); return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } } return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ F@@ IN@@ D_@@ V@@ N@@ IC@@ _P@@ RO@@ F@@ IL@@ E_@@ F@@ OR@@ _@@ NETWOR@@ K@@ ); }
@java.lang.Override public void on@@ Boot@@ str@@ ap@@ () { user.@@ set@@ Log@@ out@@ Handler@@ (@@ this@@ ); init@@ U@@ i@@ C@@ ommon@@ (); init@@ Frontend@@ (); init@@ Lo@@ gin@@ Model@@ (); org.ovirt.engine.ui.common.@@ auth@@ .@@ Au@@ to@@ Lo@@ gin@@ Data au@@ to@@ Lo@@ gin@@ Data = org.ovirt.engine.ui.common.@@ auth@@ .@@ Au@@ to@@ Lo@@ gin@@ Data@@ .@@ instance@@ (); if (@@ au@@ to@@ Lo@@ gin@@ Data != null@@ ) { h@@ andle@@ Au@@ to@@ Lo@@ gin@@ (@@ au@@ to@@ Lo@@ gin@@ Data@@ ); } org.ovirt.engine.ui.common.@@ res@@ tapi@@ .@@ Engine@@ Session@@ Time@@ out@@ Data engin@@ e@@ Session@@ Time@@ out@@ Data = org.ovirt.engine.ui.common.@@ res@@ tapi@@ .@@ Engine@@ Session@@ Time@@ out@@ Data@@ .@@ instance@@ (); if (@@ engin@@ e@@ Session@@ Time@@ out@@ Data != null@@ ) { res@@ t@@ Ap@@ i@@ Session@@ Manager.@@ set@@ Session@@ Time@@ out@@ (@@ engin@@ e@@ Session@@ Time@@ out@@ Data@@ .get@@ Value@@ ()); } }
private static void update@@ V@@ 2@@ V@@ Job@@ s@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ Str@@ uc@@ t@@ ) { if (!(@@ x@@ mlR@@ pc@@ Str@@ uc@@ t.@@ contains@@ Key@@ (@@ VdsProperties.@@ v@@ 2@@ v@@ Job@@ s@@ ))) { return@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ V@@ 2@@ V@@ Job@@ > v@@ 2@@ v@@ Job@@ s = new java.util.ArrayList<>(); for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, java.lang.Object> j@@ o@@ b : ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ x@@ mlR@@ pc@@ Str@@ uc@@ t.get@@ (@@ VdsProperties.@@ v@@ 2@@ v@@ Job@@ s@@ )@@ )).@@ e@@ n@@ try@@ Set@@ ()) { v@@ 2@@ v@@ Job@@ s.add(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ build@@ V@@ 2@@ V@@ Job@@ Data@@ (@@ job@@ .get@@ Key@@ (), ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ job@@ .get@@ Value@@ ())@@ ))); } vds.get@@ Statistic@@ s@@ Data@@ ().set@@ V@@ 2@@ v@@ Job@@ s(@@ v@@ Job@@ s); }
private void dis@@ play@@ Protocol@@ _@@ SelectedItem@@ Changed@@ (java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model entity@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model) (get@@ Display@@ Protocol@@ ().getSelectedItem@@ ())); if (@@ entity@@ Model == null@@ ) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ Display@@ Type typ@@ e = ((org.ovirt.engine.core.common.businessentities.@@ Display@@ Type@@ ) (@@ entity@@ Model.get@@ Entity@@ ())); if (@@ typ@@ e == (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ v@@ n@@ c@@ )) { get@@ Us@@ b@@ Policy@@ ().set@@ SelectedItem@@ (org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ Policy@@ .@@ DIS@@ AB@@ L@@ ED); get@@ Is@@ S@@ m@@ art@@ c@@ ard@@ Enabled@@ ().set@@ Entity@@ (@@ false@@ ); } get@@ Us@@ b@@ Policy@@ ().setIs@@ Chang@@ able@@ ((@@ typ@@ e == (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ q@@ x@@ l@@ ))); get@@ Is@@ S@@ m@@ art@@ c@@ ard@@ Enabled@@ ().setIs@@ Chang@@ able@@ ((@@ typ@@ e == (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ q@@ x@@ l@@ ))); get@@ V@@ n@@ c@@ Key@@ board@@ L@@ ay@@ out@@ ().setIs@@ Available@@ ((@@ typ@@ e == (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ v@@ n@@ c@@ ))); update@@ Num@@ Of@@ Monitor@@ s(); get@@ Be@@ ha@@ vi@@ or@@ ().@@ update@@ Sing@@ le@@ Q@@ x@@ l@@ (); }
private void h@@ ot@@ Set@@ Memory@@ (@@ int new@@ A@@ m@@ ount@@ Of@@ Memory@@ ) { int current@@ Mem@@ or@@ y = org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Mem@@ Size@@ M@@ b@@ (); if ((@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Up@@ )) && (org.ovirt.engine.core.common.@@ utils.@@ Vm@@ C@@ ommon@@ Utils.@@ is@@ Memory@@ To@@ Be@@ Hot@@ plug@@ ged@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ (), org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Vm@@ ()))) { org.ovirt.engine.core.common.action.@@ Hot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Hot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Parameters@@ (@@ new@@ Vm@@ Static@@ , (c@@ urrent@@ Mem@@ or@@ y < new@@ A@@ m@@ ount@@ Of@@ Mem@@ or@@ y ? org.ovirt.engine.core.common.action.@@ Plug@@ Action@@ .@@ P@@ LU@@ G : org.ovirt.engine.core.common.action.@@ Plug@@ Action@@ .@@ UN@@ P@@ LU@@ G@@ ), 0@@ ); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base set@@ A@@ m@@ ount@@ Of@@ Memory@@ Result = run@@ Internal@@ Action(VdcActionType.@@ Hot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ , param@@ s, org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); new@@ Vm@@ Static@@ .set@@ Mem@@ Size@@ M@@ b@@ ((@@ set@@ A@@ m@@ ount@@ Of@@ Memory@@ Res@@ ult.get@@ Succeeded@@ () ? new@@ A@@ m@@ ount@@ Of@@ Mem@@ or@@ y : current@@ Memory@@ )); h@@ ot@@ Set@@ Mem@@ log@@ (@@ param@@ s, set@@ A@@ m@@ ount@@ Of@@ Memory@@ Result@@ ); } }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Bal@@ lo@@ on is not sup@@ por@@ te@@ d on '@@ ${@@ Vds@@ Name@@ }@@ '@@ .@@ ") java.lang.String B@@ AL@@ LO@@ ON_@@ RE@@ Q@@ U@@ E@@ ST@@ ED_@@ ON_@@ NOT_@@ SUP@@ PORT@@ ED_@@ AR@@ C@@ H@@ ();
@java.lang.Override public java.lang.String toString@@ () { return java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s, de@@ vice@@ List@@ =@@ %@@ s", super@@ .@@ toString@@ (), get@@ Device@@ List@@ ()); }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ r@@ a@@ w@@ typ@@ es@@ ") @java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c update@@ Vm@@ Policy@@ (java.util.@@ Map param@@ s) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ VM@@ .@@ update@@ Vm@@ Policy@@ ").@@ with@@ Parameter("@@ vm@@ ID@@ ", ((@@ java.lang.String@@ ) (@@ param@@ s.get@@ ("@@ vm@@ Id@@ "@@ )@@ )).@@ with@@ Parameter("@@ param@@ s", param@@ s@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Re@@ port@@ s W@@ eb@@ ap@@ p de@@ plo@@ y@@ m@@ ent is in pro@@ gress@@ , ple@@ ase try ag@@ ain in a f@@ e@@ w min@@ ut@@ es.@@ ") java.lang.String re@@ port@@ s@@ W@@ eb@@ Ap@@ p@@ Not@@ De@@ plo@@ y@@ ed@@ M@@ s@@ g@@ ();
@@@ org.ovirt.engine.core.utils.@@ tim@@ er.@@ On@@ Tim@@ er@@ Method@@ An@@ not@@ ation@@ ("@@ On@@ Tim@@ er@@ ") public void On@@ Tim@@ er@@ (org.ovirt.engine.core.compat.Guid do@@ m@@ ain@@ Id) { if (@@ _@@ do@@ m@@ ain@@ s@@ In@@ Pro@@ bl@@ em@@ .@@ contains@@ Key@@ (@@ do@@ m@@ ain@@ Id@@ )) { org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ I@@ r@@ s@@ Broker@@ Command.@@ log.info@@ ((@@ "@@ st@@ art@@ ing Pro@@ cess@@ Domain@@ Rec@@ o@@ ver@@ y for do@@ ma@@ in " + (get@@ Domain@@ Id@@ T@@ up@@ le@@ (@@ do@@ m@@ ain@@ Id@@ )@@ ))); Pro@@ cess@@ Domain@@ Rec@@ o@@ ver@@ y@@ (@@ do@@ m@@ ain@@ Id); } _@@ tim@@ er@@ s.@@ remove@@ (@@ do@@ m@@ ain@@ Id); } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Edit@@ ") java.lang.String edit@@ Volume@@ ();
protected void setUp@@ Entity@@ Query@@ Expectation@@ s@@ (@@ int tim@@ es@@ , java.lang.Object fail@@ ure@@ ) throw@@ s java.lang.Exception { while ((@@ tim@@ es@@ -@@ -@@ ) > 0) { setUp@@ Entity@@ Query@@ Expectations(@@ Query@@ Type.Get@@ All@@ Disk@@ s, org.ovirt.engine.core.common.queries.@@ Query@@ Parameters@@ Base@@ .@@ class@@ , new java.lang.String@@ []{ }, new java.lang.Object@@ []{ }, get@@ Entity@@ List@@ (), fail@@ ure@@ ); } }
@java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { return s@@ ource != null ? ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ >) (s@@ ource@@ )) : new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ >(); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Permission@@ .@@ class@@ , to = org.ovirt.engine.core.common.businessentities.@@ Permission@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Per@@ mis@@ si@@ on map@@ (org.ovirt.engine.core.common.businessentities.@@ Per@@ mis@@ si@@ on entity@@ , org.ovirt.engine.api.model.@@ Per@@ mis@@ si@@ on template@@ ) { org.ovirt.engine.api.model.@@ Per@@ mis@@ si@@ on model = (@@ templ@@ ate != null@@ ) ? templ@@ ate : new org.ovirt.engine.api.model.@@ Permission@@ (); model.set@@ Id(@@ entity.get@@ Id().@@ toString()); if ((@@ entity.get@@ Role@@ Id()) != null@@ ) { model.set@@ Role@@ (@@ new org.ovirt.engine.api.model.@@ Role@@ ()); model.get@@ Role@@ ().set@@ Id(@@ entity.get@@ Role@@ Id().@@ toString()); } if (((@@ entity.get@@ Ad@@ Element@@ Id()) != null@@ ) && ((@@ templ@@ ate == null@@ ) || (!(@@ templat@@ e.@@ isSet@@ Group@@ ())@@ ))) { model.set@@ User@@ (@@ new org.ovirt.engine.api.model.@@ User@@ ()); model.get@@ User@@ ().set@@ Id(@@ entity.get@@ Ad@@ Element@@ Id().@@ toString()); } if ((@@ entity.get@@ Object@@ Id()) != null@@ ) { org.ovirt.engine.api.restapi.@@ types.@@ Permission@@ Mapper.@@ set@@ Object@@ Id(@@ model, entity@@ ); } return model@@ ; }
@org.junit.Test public void test@@ C@@ red@@ enti@@ als@@ With@@ Connection@@ Ex@@ ten@@ sion@@ () { org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s con@@ n = org.ovirt.engine.core.vdsbroker.@@ storage.@@ Storage@@ Connection@@ Helper@@ Test.@@ create@@ Connection@@ With@@ C@@ red@@ enti@@ als@@ ("@@ target@@ 1@@ ", "@@ user@@ Conn@@ ", "@@ p@@ w@@ d@@ Conn@@ "); org.ovirt.engine.core.common.businessentities.storage.@@ StorageServerConnection@@ Ex@@ ten@@ si@@ on conn@@ Ex@@ t = org.ovirt.engine.core.vdsbroker.@@ storage.@@ Storage@@ Connection@@ Helper@@ Test.@@ create@@ Connection@@ Ex@@ ten@@ sion@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), "@@ target@@ 1@@ ", "@@ user@@ Conn@@ Ex@@ t@@ ", "@@ p@@ w@@ d@@ Conn@@ Ex@@ t@@ "); when(@@ conn@@ Ex@@ t@@ Dao@@ Mock@@ .get@@ By@@ Host@@ Id@@ And@@ T@@ arget@@ (@@ conn@@ Ex@@ t.get@@ Host@@ Id(), conn@@ Ex@@ t.get@@ I@@ q@@ n@@ ())@@ ).@@ thenReturn(@@ conn@@ Ex@@ t@@ ); org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String> c@@ red@@ enti@@ al@@ s = org.ovirt.engine.core.vdsbroker.@@ storage.@@ Storage@@ Connection@@ Helper@@ Test@@ .@@ assert@@ C@@ red@@ enti@@ als@@ (c@@ red@@ enti@@ als@@ , conn@@ Ex@@ t.get@@ User@@ Name(), conn@@ Ex@@ t.get@@ Password@@ ()); }
@org.junit.Test public void test@@ Start@@ With@@ V@@ n@@ c@@ () throw@@ s java.lang.Exception { setUp@@ W@@ in@@ do@@ w@@ s@@ Get@@ Entity@@ Expectations(@@ 2@@ , false@@ ); set@@ U@@ ri@@ Info@@ (@@ setUp@@ Action@@ Expectations(@@ Vdc@@ ActionType.@@ RunVm@@ On@@ ce@@ , org.ovirt.engine.core.common.action.@@ RunVm@@ On@@ ce@@ Param@@ s@@ .@@ class@@ , new java.lang.String@@ []{ "@@ Vm@@ Id@@ ", "@@ U@@ se@@ V@@ n@@ c@@ " }, new java.lang.Object@@ []{ G@@ UID@@ S@@ [@@ 0@@ ]@@ , java.lang.Boolean@@ .@@ T@@ R@@ U@@ E }@@ )); org.ovirt.engine.api.model.@@ Ac@@ tion ac@@ tion = new org.ovirt.engine.api.model.@@ Action@@ (); action@@ .set@@ Vm@@ (@@ new org.ovirt.engine.api.model.@@ VM@@ ()); action@@ .get@@ Vm@@ ().set@@ Display@@ (@@ new org.ovirt.engine.api.model.@@ Display@@ ()); action@@ .get@@ Vm().get@@ Display@@ ().set@@ Type(@@ Display@@ Type.@@ V@@ N@@ C@@ .@@ value@@ ()); ve@@ r@@ if@@ y@@ Action@@ Respon@@ s@@ e(@@ res@@ ource.@@ st@@ art@@ (@@ action@@ )); }
private void init@@ Quer@@ i@@ es@@ () { if (@@ provi@@ ded@@ Typ@@ es.@@ contains(@@ Vdc@@ Object@@ Type.@@ Network@@ )) { quer@@ i@@ es@@ Run@@ .@@ put@@ (Vdc@@ Object@@ Type.@@ Network@@ , true@@ ); } }
public org.ovirt.engine.core.bll.ValidationResult validate@@ () { java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > attach@@ ment@@ sTo@@ Configur@@ e = get@@ Attachment@@ sTo@@ Configur@@ e@@ (); org.ovirt.engine.core.bll.ValidationResult v@@ r = org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : valid@@ New@@ Or@@ M@@ o@@ d@@ if@@ i@@ ed@@ NetworkAttachment@@ s(); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : valid@@ Rem@@ oved@@ NetworkAttachment@@ s(); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : valid@@ New@@ Or@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bon@@ ds@@ (); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : valid@@ Rem@@ oved@@ Bon@@ ds@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : new org.ovirt.engine.core.bll.network.@@ host.@@ Label@@ Validator@@ (@@ param@@ s, existing@@ Interfaces@@ Map@@ , b@@ on@@ ds@@ Map@@ ).@@ validate@@ (); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : attach@@ ment@@ s@@ D@@ on@@ t@@ Re@@ fer@@ ence@@ S@@ ame@@ Network@@ D@@ up@@ l@@ icate@@ ly@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : network@@ s@@ Un@@ i@@ q@@ ue@@ ly@@ Configur@@ ed@@ On@@ Host@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validate@@ Network@@ Ex@@ cl@@ us@@ ive@@ On@@ Nic@@ s(@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : new org.ovirt.engine.core.bll.network.@@ host.@@ Network@@ M@@ tu@@ Validator@@ (network@@ B@@ usiness@@ Entity@@ Map@@ ).@@ validate@@ M@@ tu@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validate@@ Custom@@ Properties@@ (); return v@@ r@@ ; }
private void h@@ ot@@ Un@@ plug@@ Memory@@ (org.ovirt.engine.core.common.businessentities.@@ VM new@@ Vm@@ ) { final org.ovirt.engine.core.common.businessentities.VM vm@@ From@@ D@@ b = org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ (); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Memory@@ Device@@ s = vm@@ Device@@ Dao.get@@ VmDevice@@ By@@ Vm@@ Id@@ Type@@ And@@ Device@@ (get@@ Vm@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ M@@ EM@@ OR@@ Y@@ , VmDevice@@ Type.@@ M@@ EM@@ OR@@ Y@@ ); final org.ovirt.engine.core.common.businessentities.Vm@@ Device memory@@ Device@@ To@@ Un@@ p@@ lu@@ g = com@@ pu@@ te@@ Memory@@ Device@@ To@@ Hot@@ Un@@ plug@@ (vm@@ Memory@@ Devices@@ ); final int old@@ Memory@@ M@@ b = vm@@ From@@ Db@@ .get@@ Mem@@ Size@@ M@@ b@@ (); final int old@@ M@@ in@@ Memory@@ M@@ b = vm@@ From@@ Db@@ .get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (); if (m@@ em@@ ory@@ Device@@ To@@ Un@@ p@@ lu@@ g == null@@ ) { log@@ No@@ Device@@ To@@ Hot@@ Un@@ plug@@ (vm@@ Memory@@ Devices@@ ); new@@ Vm@@ Static@@ .set@@ Mem@@ Size@@ M@@ b@@ (@@ old@@ Memory@@ M@@ b@@ ); new@@ Vm@@ Static@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (@@ old@@ M@@ in@@ Memory@@ M@@ b@@ ); return@@ ; } final org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue h@@ ot@@ Un@@ plug@@ ReturnValue = run@@ Internal@@ Action@@ (@@ ActionType.@@ Hot@@ Un@@ plug@@ Memory@@ With@@ out@@ Vm@@ Update@@ , new org.ovirt.engine.core.common.action.@@ Hot@@ Un@@ plug@@ Memory@@ With@@ out@@ Vm@@ Update@@ Parameters@@ (m@@ em@@ ory@@ Device@@ To@@ Un@@ p@@ lu@@ g.@@ get@@ Id(), new@@ Vm@@ .get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ()), org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); if (!@@ (vm@@ From@@ Db@@ .is@@ Host@@ ed@@ Engine@@ ())) { final int memory@@ Device@@ Size@@ M@@ b = org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ Size@@ Of@@ Memory@@ Device@@ M@@ b@@ (m@@ em@@ ory@@ Device@@ To@@ Un@@ plug@@ ).get@@ (); final int memory@@ Af@@ ter@@ Hot@@ Un@@ plug@@ M@@ b = old@@ Memory@@ M@@ b - memory@@ Device@@ Size@@ M@@ b@@ ; new@@ Vm@@ Static@@ .set@@ Mem@@ Size@@ M@@ b@@ ((@@ h@@ ot@@ Un@@ plug@@ Return@@ Value.get@@ Succeeded@@ () ? memory@@ Af@@ ter@@ Hot@@ Un@@ plug@@ M@@ b : old@@ Memory@@ M@@ b@@ )); new@@ Vm@@ Static@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ((@@ h@@ ot@@ Un@@ plug@@ Return@@ Value.get@@ Succeeded@@ () ? new@@ Vm@@ .get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ () : old@@ M@@ in@@ Memory@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ () : old@@ M@@ in@@ Memory@@ M@@ in@@ )); } }
@java.lang.Override public final void run@@ () { final void run@@ () { final void run@@ () { if ((@@ re@@ p@@ et@@ ition@@ s) > 0) { re@@ p@@ et@@ ition@@ s@@ )@@ -@@ -@@ ; } else if ((@@ re@@ p@@ et@@ ition@@ s) == 0) { c@@ y@@ cl@@ e@@ R@@ ate@@ (); } org.ovirt.engine.ui.uicommonweb.models.@@ G@@ rid@@ Tim@@ er.@@ log@@ g@@ er.@@ fin@@ e@@ ((((@@ ((((@@ "@@ G@@ rid@@ Tim@@ er@@ [@@ " + (@@ name@@ )) + "@@ ] Execu@@ t@@ ing@@ ! C@@ urr@@ ent R@@ ate@@ : ") + (r@@ ate@@ C@@ y@@ cl@@ e@@ [@@ current@@ R@@ ate@@ ]@@ )) + "@@ :@@ ") + (get@@ Re@@ fresh@@ R@@ ate@@ ())) + " Rep@@ s@@ : ") + (@@ re@@ p@@ et@@ ition@@ s@@ ))); execute@@ (); }
private static org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator mock@@ StorageDomain@@ Validator@@ With@@ out@@ Sp@@ ace@@ () { org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator = org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command@@ Test.@@ mock@@ StorageDomain@@ Validator@@ (); when(@@ storageDomain@@ Validator.@@ has@@ Sp@@ ace@@ For@@ Cl@@ on@@ ed@@ Disk@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AC@@ E_@@ LO@@ W@@ _@@ ON_@@ STORAGE_@@ DOMA@@ IN@@ )); return storageDomain@@ Validator@@ ; }
@java.lang.Override public void set@@ Entity@@ Id(@@ org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able@@ ) { log@@ abl@@ e.set@@ StoragePool@@ Id@@ (get@@ _@@ old@@ StoragePool@@ ().get@@ Id()); }
public java.util.List<@@ org.ovirt.engine.core.bll.validator.@@ In@@ Cluster@@ Up@@ gr@@ ade@@ Validator.@@ Up@@ gr@@ ade@@ Error@@ > get@@ Vm@@ () { return vm@@ ; }
@org.junit.Test public void storageDomain@@ Mapping@@ s() { assert@@ Equals@@ (@@ Lun@@ Status.@@ F@@ re@@ e.@@ name@@ (), org.ovirt.engine.api.restapi.@@ types.@@ Storage@@ Log@@ ical@@ Unit@@ Mapper.@@ map@@ (org.ovirt.engine.core.common.businessentities.@@ Lun@@ Status.@@ F@@ ree@@ , null@@ )); assert@@ Equals@@ (@@ Lun@@ Status.@@ Us@@ ed@@ .@@ name@@ (), org.ovirt.engine.api.restapi.@@ types.@@ Storage@@ Log@@ ical@@ Unit@@ Mapper.@@ map@@ (org.ovirt.engine.core.common.businessentities.@@ Lun@@ Status.@@ Us@@ ed@@ , null@@ )); assert@@ Equals@@ (@@ Lun@@ Status.@@ Un@@ us@@ abl@@ e.@@ name@@ (), org.ovirt.engine.api.restapi.@@ types.@@ Storage@@ Log@@ ical@@ Unit@@ Mapper.@@ map@@ (org.ovirt.engine.core.common.businessentities.@@ Lun@@ Status.@@ Un@@ us@@ able@@ , null@@ )); }
public static void re@@ fresh@@ Vms@@ T@@ ool@@ s@@ Version@@ (org.ovirt.engine.core.compat.Guid pool@@ Id, java.util.@@ Set<@@ java.lang.String> is@@ o@@ List@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > cluster@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VdsGroup@@ Dao().get@@ AllFor@@ StoragePool@@ (@@ pool@@ Id); for (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster : c@@ lust@@ ers@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Dao().get@@ AllFor@@ VdsGroup@@ (cluster@@ .getId()); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { if ((@@ (vm.get@@ Ap@@ p@@ List@@ ()) != null@@ ) && (vm.get@@ Ap@@ p@@ List@@ ().@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ().@@ contains@@ ("@@ r@@ h@@ ev@@ -@@ t@@ ool@@ s@@ "@@ ))) { java.util.@@ re@@ g@@ ex@@ .@@ Match@@ er m = org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ TO@@ OL@@ S_@@ P@@ AT@@ TER@@ N@@ .m@@ atch@@ er@@ (vm.get@@ Ap@@ p@@ List@@ ().@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ()); if (m@@ .m@@ atch@@ es@@ ()) { org.ovirt.engine.core.common.businessentities.@@ G@@ u@@ est@@ Agent@@ Status old@@ Status = vm.get@@ G@@ u@@ est@@ Agent@@ Status@@ (); org.ovirt.engine.core.common.businessentities.@@ G@@ u@@ est@@ Agent@@ Status c@@ urr@@ Status = org.ovirt.engine.core.bll.@@ Vm@@ Handler@@ .get@@ Agent@@ Status@@ (m@@ .@@ group@@ (@@ 1@@ ), is@@ o@@ List@@ ); if (@@ old@@ Status != c@@ urr@@ Status@@ ) { vm@@ .set@@ G@@ u@@ est@@ Agent@@ Status@@ (c@@ urr@@ Status@@ ); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Dynamic@@ Dao().@@ update@@ (vm.get@@ Dynamic@@ Data@@ ()); } } } } }
@java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand command@@ ) { super@@ .@@ Execu@@ te@@ Command@@ (command@@ ); if (c@@ ommand == (get@@ New@@ Command@@ ())) { New@@ (); } else if (c@@ ommand == (get@@ Edit@@ Command@@ ())) { Edit@@ (); } else if (c@@ ommand == (get@@ Remove@@ Command@@ ())) { Remove@@ (); } else if (c@@ ommand == (get@@ Move@@ Command@@ ())) { Move@@ (); } else if (c@@ ommand == (get@@ Copy@@ Command@@ ())) { Copy@@ (); } else if (c@@ ommand == (get@@ S@@ can@@ Al@@ ign@@ ment@@ Command@@ ())) { S@@ can@@ Al@@ ign@@ ment@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ S@@ ave@@ "@@ )) { On@@ S@@ ave@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ For@@ ce@@ S@@ ave@@ "@@ )) { On@@ For@@ ce@@ S@@ ave@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ Cancel@@ "@@ )) { Cancel@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ Cancel@@ Confirm@@ "@@ )) { Cancel@@ Confirm@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ Remove@@ "@@ )) { On@@ Remove@@ (); } else if (c@@ ommand == (get@@ Change@@ Quota@@ Command@@ ())) { ch@@ ang@@ e@@ Quota@@ (); } else if (command@@ .getName@@ ().@@ equals@@ ("@@ on@@ Change@@ Quota@@ "@@ )) { on@@ Change@@ Quota@@ (); } } }
@java.lang.Override public org.ovirt.engine.core.common.action.VdcReturnValue@@ Base end@@ Action@@ () { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base v@@ dc@@ ReturnValue@@ Base = super@@ .@@ end@@ Action@@ (); org.ovirt.engine.core.bll.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.@@ f@@ ree@@ Lock@@ (); return v@@ dc@@ ReturnValue@@ Base@@ ; }
private static void get@@ Default@@ Configuration@@ Version@@ (java.lang.Object target@@ ) { org.ovirt.engine.ui.frontend.AsyncQuery call@@ back = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ target@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { if (@@ return@@ Value != null@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ _@@ default@@ Configuration@@ Version = ((@@ java.lang.String@@ ) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ ReturnValue@@ ())); } else { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ _@@ default@@ Configuration@@ Version = org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ G@@ EN@@ ER@@ AL@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ Lo@@ gin@@ Model lo@@ gin@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Lo@@ gin@@ Model) (model@@ )); lo@@ gin@@ Model.get@@ Log@@ ged@@ In@@ Event@@ ().@@ r@@ a@@ is@@ e(@@ lo@@ gin@@ Model@@ , EventArg@@ s.@@ Empty@@ ); } }); call@@ back@@ .set@@ H@@ andle@@ Fail@@ ure@@ (@@ true@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Default@@ Configuration@@ Version@@ , new org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base@@ (), call@@ back@@ ); }
@java.lang.Override protected boolean canDoAction@@ () { if ((@@ (org.ovirt.engine.core.bll.@@ Remove@@ AuditLog@@ By@@ Id@@ Command.getParameters().get@@ AuditLog@@ Id()) == (@@ -@@ 1@@ )) || ((@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ AuditLog@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Remove@@ AuditLog@@ By@@ Id@@ Command.getParameters().get@@ AuditLog@@ Id@@ ())) == null@@ )) { addCanDoActionMessage@@ (VdcBllMessages.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ NOT_@@ EXIST@@ ); return false@@ ; } return true@@ ; }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c s@@ par@@ s@@ if@@ y@@ In@@ pl@@ ac@@ e(@@ org.ovirt.engine.core.compat.Guid job@@ Id, java.util.Map<java.lang.String, java.lang.Object> volume@@ Address@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ S@@ D@@ M@@ .@@ s@@ par@@ s@@ if@@ y@@ _@@ in@@ pl@@ ace@@ ").@@ with@@ Parameter("@@ job@@ _id", job@@ Id@@ ).@@ with@@ Parameter("@@ v@@ ol@@ _@@ add@@ r@@ ", volume@@ Address@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
@java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vds@@ Dynamic@@ Dao().@@ s@@ m@@ art@@ Update@@ Par@@ ti@@ al@@ Vds@@ (@@ d@@ st@@ Vds@@ Id, 1, vm.get@@ Num@@ Of@@ C@@ p@@ us@@ (), vm.get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (), 0@@ , 0@@ ); return null@@ ; }
@org.junit.Test public void test@@ Action@@ With@@ C@@ or@@ re@@ l@@ ation@@ Id@@ () throw@@ s java.lang.Exception { setUp@@ Get@@ Entity@@ Expectation@@ s@@ (@@ false@@ , false@@ ); exp@@ ect@@ (@@ http@@ H@@ ead@@ ers@@ .get@@ Request@@ H@@ ead@@ er@@ ("@@ C@@ or@@ re@@ l@@ ation@@ -@@ Id@@ "@@ )).@@ and@@ Return(@@ as@@ List@@ ("@@ S@@ om@@ e@@ -@@ C@@ or@@ re@@ l@@ ation@@ -@@ id@@ "@@ )).@@ any@@ Tim@@ es@@ (); res@@ ourc@@ e.set@@ U@@ ri@@ Info@@ (@@ setUp@@ Action@@ Expectations(@@ Vdc@@ ActionType.@@ Update@@ Vds@@ , org.ovirt.engine.core.common.action.@@ Update@@ Vds@@ Action@@ Parameters@@ .@@ class@@ , new java.lang.String@@ []{ "@@ R@@ oot@@ Password@@ ", "@@ C@@ or@@ re@@ l@@ ation@@ Id@@ " }, new java.lang.Object@@ []{ NAM@@ ES@@ [@@ 2@@ ]@@ , "@@ S@@ om@@ e@@ -@@ C@@ or@@ re@@ l@@ ation@@ -@@ id@@ " }, true@@ , true@@ )); org.ovirt.engine.api.model.@@ Ac@@ tion ac@@ tion = new org.ovirt.engine.api.model.@@ Action@@ (); action@@ .set@@ Password@@ (@@ NAM@@ ES@@ [@@ 2@@ ]@@ ); action@@ .set@@ User@@ name@@ ("@@ ro@@ ot@@ "); res@@ ource.@@ in@@ st@@ all@@ (@@ action@@ ); }
@@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { or@@ (m@@ and@@ ator@@ y@@ (cluster@@ ().@@ id@@ ()), m@@ and@@ ator@@ y@@ (cluster@@ ().@@ name@@ ())); o@@ ption@@ al@@ (@@ cl@@ one@@ ()); o@@ ption@@ al@@ (@@ ex@@ cl@@ us@@ ive@@ ()); o@@ ption@@ al@@ (@@ template@@ ().@@ name@@ ()); o@@ ption@@ al@@ (@@ config@@ ur@@ ation@@ ()); }
protected org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters create@@ Parameters@@ W@@ h@@ en@@ Images@@ Exist@@ On@@ T@@ arget@@ StorageDomain@@ () { org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ (); params.set@@ Contain@@ er@@ Id@@ (vm@@ Id); params.set@@ StorageDomain@@ Id(@@ storageDomain@@ Id); params.set@@ VdsGroup@@ Id@@ (cluster@@ Id); params.set@@ Images@@ Exist@@ On@@ T@@ arget@@ StorageDomain@@ (@@ true@@ ); return param@@ s@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity gluster@@ Volum@@ e = org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Async@@ CommandBase.get@@ GlusterVolume@@ (); if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } if (!(@@ org.ovirt.engine.core.common.@@ gluster.Gluster@@ Feat@@ ure@@ Supported@@ .@@ gluster@@ AsyncTask@@ s@@ (org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Async@@ CommandBase.get@@ VdsGroup@@ ().get@@ CompatibilityVersion@@ ()))) { addCanDoActionMessage@@ Var@@ i@@ able@@ ("@@ c@@ ompatibilityVersion@@ ", org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Async@@ CommandBase.get@@ VdsGroup@@ ().get@@ CompatibilityVersion@@ ().get@@ Value@@ ()); return failCanDoAction@@ (EngineMessage.@@ GLUSTER_@@ T@@ A@@ S@@ K@@ S_NOT_@@ SUP@@ PORT@@ ED_@@ F@@ OR@@ _C@@ LUSTER_@@ LE@@ V@@ E@@ L@@ ); } if (!(@@ gluster@@ Volum@@ e.@@ is@@ On@@ lin@@ e@@ ())) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ HO@@ U@@ L@@ D_@@ B@@ E_@@ ST@@ AR@@ T@@ ED); } return true@@ ; }
public org.ovirt.engine.core.bll.ValidationResult is@@ Vir@@ t@@ I@@ oS@@ csi@@ Valid@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { if ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _S@@ C@@ SI@@ ) != (disk@@ .get@@ Disk@@ Interface@@ ())) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } if ((@@ disk@@ .get@@ S@@ g@@ i@@ o@@ ()) != null@@ ) { if ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ ) == (disk@@ .get@@ Disk@@ Storage@@ Type@@ ())) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ S@@ C@@ SI@@ _@@ G@@ EN@@ ER@@ IC@@ _@@ I@@ O@@ _@@ I@@ S_NOT_@@ SUP@@ PORT@@ ED_@@ F@@ OR@@ _@@ IM@@ AGE_@@ DIS@@ K@@ ); } } if (@@ vm != null@@ ) { if (!(@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ vi@@ r@@ t@@ I@@ oS@@ csi@@ (vm.get@@ CompatibilityVersion@@ ()))) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ V@@ I@@ R@@ TI@@ O@@ _S@@ C@@ SI@@ _@@ IN@@ TER@@ F@@ AC@@ E_@@ I@@ S_NOT_@@ A@@ V@@ A@@ IL@@ AB@@ L@@ E_@@ F@@ OR@@ _C@@ LUSTER_@@ LE@@ V@@ E@@ L@@ ); } if (!(@@ is@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ er@@ Attached@@ (vm@@ .getId@@ ()))) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ C@@ ANNOT_@@ P@@ ER@@ F@@ OR@@ M@@ _@@ ACTION_@@ V@@ I@@ R@@ TI@@ O@@ _S@@ C@@ SI@@ _@@ I@@ S_@@ DIS@@ AB@@ L@@ ED); } return is@@ Os@@ Supported@@ For@@ Vir@@ t@@ I@@ oS@@ csi@@ (vm@@ ); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@java.lang.Override protected void init@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Agent@@ List@@ Model list@@ Model) { super@@ .@@ init@@ (@@ list@@ Model@@ ); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . S@@ C@@ S@@ I Bon@@ d is on@@ l@@ y sup@@ por@@ te@@ d on Data C@@ en@@ te@@ r c@@ ompati@@ b@@ il@@ it@@ y ver@@ si@@ on 3@@ .@@ 4 and h@@ ig@@ h@@ er.@@ ") java.lang.String IS@@ C@@ SI@@ _@@ B@@ ON@@ D_@@ NOT_@@ SUP@@ PORT@@ ED@@ ();
protected boolean set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ () { org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().set@@ Disk@@ Profile@@ Id@@ (org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Disk@@ Profile@@ Id()); return validate@@ (org.ovirt.engine.core.bll.@@ profil@@ es.@@ Disk@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Disk@@ Profil@@ es(@@ java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ (), org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ()), org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ StoragePool@@ ().get@@ c@@ ompatibility@@ _@@ version@@ (), org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ C@@ urrent@@ User@@ ())); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ Vdc@@ O@@ ption get@@ By@@ Name@@ And@@ Version@@ (java.lang.String name@@ , java.lang.String version@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ o@@ ption@@ _@@ name@@ ", name@@ ).@@ addValue("@@ version@@ ", version@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ ("@@ Get@@ Vdc@@ Option@@ By@@ Name@@ ", org.ovirt.engine.core.dao.@@ Vdc@@ Option@@ Dao@@ Impl.@@ Vdc@@ Option@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
protected void p@@ ost@@ Data@@ C@@ ent@@ ers@@ Lo@@ a@@ ded@@ (@@ final java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > data@@ C@@ ent@@ ers@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Cluster@@ List@@ By@@ Service@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (get@@ Model@@ (), new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (@@ target@@ )); model.set@@ Data@@ C@@ ent@@ ers@@ And@@ C@@ lust@@ ers@@ (@@ model, data@@ C@@ ent@@ ers@@ , ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >) (@@ return@@ Value@@ )@@ ), null@@ ); init@@ C@@ d@@ Image@@ (); get@@ Pool@@ Model@@ Be@@ ha@@ vi@@ or@@ In@@ itial@@ iz@@ ed@@ Event@@ ().@@ r@@ a@@ is@@ e@@ (@@ this@@ , EventArg@@ s.@@ EM@@ P@@ TY@@ ); } }, getModel().get@@ Hash@@ ()), true@@ , false@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ > get@@ AllFor@@ Role@@ And@@ Ad@@ Element@@ (org.ovirt.engine.core.compat.Guid ro@@ le@@ id@@ , org.ovirt.engine.core.compat.Guid el@@ em@@ enti@@ d@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ ro@@ le@@ _id", ro@@ le@@ id@@ ).@@ addValue("@@ ad@@ _@@ el@@ ement@@ _id", el@@ em@@ enti@@ d@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Permission@@ sBy@@ Role@@ Id@@ And@@ Ad@@ Element@@ Id@@ ", org.ovirt.engine.core.dao.@@ Permission@@ Dao@@ Impl.@@ Permission@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
@org.junit.Test public void test@@ Delet@@ e@@ () { d@@ ao.@@ remove@@ (@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ EX@@ IS@@ TI@@ N@@ G@@ _@@ VM_@@ J@@ O@@ B@@ ); java.util.List<@@ org.ovirt.engine.core.compat.Guid> id@@ s = get@@ All@@ Job@@ Id@@ s(); assert@@ True@@ (@@ id@@ s.@@ remove@@ (@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ EX@@ IS@@ TI@@ N@@ G@@ _@@ VM_@@ B@@ LO@@ C@@ K_@@ J@@ O@@ B@@ )); assert@@ True@@ (@@ id@@ s.@@ isEmpty@@ ()); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se remove@@ () { org.ovirt.engine.api.model.@@ Storage@@ Domain storage@@ Domain = get@@ (); if (@@ storageDomain@@ .get@@ Storage@@ ().get@@ Type@@ ().@@ equals(@@ StorageType.@@ LO@@ C@@ AL@@ FS@@ .@@ value@@ ())) { org.ovirt.engine.core.common.action.@@ Remove@@ StorageDomain@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Remove@@ StorageDomain@@ Parameters(@@ g@@ uid@@ ); params.set@@ Do@@ Format@@ (@@ true@@ ); return p@@ er@@ for@@ m@@ Action(VdcActionType.@@ Remove@@ StorageDomain@@ , param@@ s); } else { org.ovirt.engine.core.common.action.@@ Det@@ ach@@ StorageDomain@@ From@@ Pool@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Det@@ ach@@ StorageDomain@@ From@@ Pool@@ Parameters(@@ g@@ uid@@ , dataCenter@@ Id); return p@@ er@@ for@@ m@@ Action(VdcActionType.@@ Det@@ ach@@ StorageDomain@@ From@@ Pool@@ , param@@ s); } }
public org.ovirt.engine.core.common.businessentities.@@ DiskImage get@@ Image@@ As@@ DiskImage@@ (java.lang.String id@@ ) { org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image = new org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ (); c@@ om.@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ g@@ lan@@ c@@ e.@@ model.@@ Image g@@ lan@@ ce@@ Image = get@@ Client@@ ().@@ im@@ ages@@ ().@@ sh@@ ow@@ (@@ id@@ ).@@ execute@@ (); validate@@ Contain@@ er@@ Format@@ (@@ g@@ lan@@ ce@@ Image@@ ); java.lang.String short@@ H@@ as@@ h = g@@ lan@@ ce@@ Image.get@@ Id().@@ sub@@ st@@ ring@@ (0@@ , 7@@ ); disk@@ Im@@ age.@@ set@@ Disk@@ Alias@@ ((@@ "@@ Down@@ lo@@ a@@ ded@@ Disk@@ -@@ " + short@@ Hash@@ )); if ((@@ g@@ lan@@ ce@@ Image.get@@ Name@@ ()) != null@@ ) { disk@@ Im@@ age.@@ set@@ Disk@@ Description@@ ((@@ (((@@ g@@ lan@@ ce@@ Image.get@@ Name@@ ()) + " ("@@ ) + short@@ Hash@@ ) + "@@ )@@ ")); } else { disk@@ Im@@ age.@@ set@@ Disk@@ Description@@ ((@@ "@@ Down@@ lo@@ a@@ ded@@ Disk@@ : " + short@@ Hash@@ )); } disk@@ Im@@ age.@@ set@@ S@@ iz@@ e(@@ get@@ Image@@ Vir@@ tu@@ al@@ S@@ iz@@ e(@@ g@@ lan@@ ce@@ Image@@ )); disk@@ Im@@ age.@@ set@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es(@@ g@@ lan@@ ce@@ Image.get@@ Size@@ ()); if (@@ g@@ lan@@ ce@@ Image.get@@ Disk@@ Format@@ ().@@ equals@@ (org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Op@@ en@@ st@@ ack@@ Image@@ Provider@@ Proxy@@ .@@ G@@ lan@@ ce@@ Image@@ For@@ ma@@ t.@@ R@@ A@@ W@@ .get@@ Value@@ ())) { disk@@ Im@@ age.@@ set@@ volume@@ Format@@ (@@ Volume@@ For@@ ma@@ t.@@ R@@ A@@ W@@ ); } else if (@@ g@@ lan@@ ce@@ Image.get@@ Disk@@ Format@@ ().@@ equals@@ (org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Op@@ en@@ st@@ ack@@ Image@@ Provider@@ Proxy@@ .@@ G@@ lan@@ ce@@ Image@@ For@@ ma@@ t.@@ C@@ O@@ W@@ .get@@ Value@@ ())) { disk@@ Im@@ age.@@ set@@ volume@@ Format@@ (@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ ); } else { throw new java.lang.@@ Run@@ time@@ Exception@@ ((@@ "@@ Un@@ k@@ n@@ ow@@ n dis@@ k for@@ mat@@ : " + (@@ g@@ lan@@ ce@@ Image.get@@ Disk@@ Format@@ ()))); } return disk@@ Image@@ ; }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n add@@ Vm@@ Le@@ as@@ e(@@ java.lang.String le@@ ase@@ UUID@@ , java.lang.String sd@@ UUID@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Le@@ as@@ e.c@@ reate@@ ").@@ with@@ Parameter("@@ le@@ ase@@ _id", le@@ ase@@ UUID@@ ).@@ with@@ Parameter("@@ sd@@ _id", sd@@ UUID@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Return(@@ respon@@ se@@ ); }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = org.ovirt.engine.core.bll.@@ Get@@ Vms@@ R@@ el@@ ated@@ To@@ Quota@@ Id@@ Query.get@@ DbFacade@@ ().get@@ Vm@@ Dao().get@@ All@@ Vms@@ R@@ el@@ ated@@ To@@ Quota@@ Id@@ (org.ovirt.engine.core.bll.@@ Get@@ Vms@@ R@@ el@@ ated@@ To@@ Quota@@ Id@@ Query.get@@ Parameters().get@@ Quota@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Disks@@ From@@ Db@@ (vm@@ ); java.util.Collections.@@ s@@ ort@@ (vm.get@@ Disk@@ List@@ (), new org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ er@@ ator@@ s.@@ Images@@ Comp@@ ar@@ er@@ By@@ Name()); org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ fil@@ l@@ Images@@ By@@ Snapshot@@ s(@@ vm@@ ); } org.ovirt.engine.core.bll.@@ Get@@ Vms@@ R@@ el@@ ated@@ To@@ Quota@@ Id@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (vm@@ s); }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.bll.storage.@@ Dis@@ c@@ o@@ ver@@ S@@ end@@ T@@ arget@@ s@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (vds@@ Brok@@ er.@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Dis@@ c@@ o@@ ver@@ S@@ end@@ T@@ arget@@ s, new org.ovirt.engine.core.common.vdscommands.@@ Dis@@ c@@ o@@ ver@@ S@@ end@@ T@@ arget@@ s@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ Dis@@ c@@ o@@ ver@@ S@@ end@@ T@@ arget@@ s@@ Query.get@@ Parameters().get@@ Vds@@ Id(), org.ovirt.engine.core.bll.storage.@@ Dis@@ c@@ o@@ ver@@ S@@ end@@ T@@ arget@@ s@@ Query.get@@ Parameters().get@@ Connection@@ ())@@ ).get@@ ReturnValue@@ ()); }
private void set@@ R@@ ng@@ S@@ ourc@@ es@@ Check@@ bo@@ x@@ es(@@ org.ovirt.engine.core.compat.@@ Version ver@@ ) { boolean r@@ ng@@ Sup@@ por@@ te@@ d = is@@ R@@ ng@@ Supported@@ For@@ Cluster@@ Version@@ (@@ ver@@ ); get@@ R@@ ng@@ R@@ an@@ do@@ m@@ Source@@ Requi@@ red@@ ().setIs@@ Avail@@ able(@@ r@@ ng@@ Supported@@ ); get@@ R@@ ng@@ H@@ wr@@ ng@@ Source@@ Requi@@ red@@ ().setIs@@ Avail@@ able(@@ r@@ ng@@ Supported@@ ); java.lang.String default@@ Requi@@ red@@ R@@ ng@@ S@@ ourc@@ es@@ C@@ s@@ v = default@@ Cluster@@ R@@ ng@@ S@@ ourc@@ es@@ C@@ s@@ v@@ (@@ ver@@ ); if (r@@ ng@@ Supported@@ ) { get@@ R@@ ng@@ R@@ an@@ do@@ m@@ Source@@ Requi@@ red@@ ().set@@ Entity@@ ((get@@ Is@@ New@@ () ? default@@ Requi@@ red@@ R@@ ng@@ S@@ ourc@@ es@@ C@@ s@@ v@@ .@@ contains(@@ Vm@@ R@@ ng@@ Devic@@ e.@@ S@@ ource.@@ R@@ AN@@ DO@@ M@@ .@@ toString@@ ()) : get@@ Entity@@ ().get@@ Requi@@ red@@ R@@ ng@@ S@@ ourc@@ es@@ ().@@ contains(@@ Vm@@ R@@ ng@@ Devic@@ e.@@ S@@ ource.@@ R@@ AN@@ DO@@ M@@ ))); get@@ R@@ ng@@ H@@ wr@@ ng@@ Source@@ Requi@@ red@@ ().set@@ Entity@@ ((get@@ Is@@ New@@ () ? default@@ Requi@@ red@@ R@@ ng@@ S@@ ourc@@ es@@ C@@ s@@ v@@ .@@ contains(@@ Vm@@ R@@ ng@@ Devic@@ e.@@ S@@ ource.@@ H@@ W@@ R@@ N@@ G@@ .@@ toString@@ ()) : get@@ Entity@@ ().get@@ Requi@@ red@@ R@@ ng@@ S@@ ourc@@ es@@ ().@@ contains(@@ Vm@@ R@@ ng@@ Devic@@ e.@@ S@@ ource.@@ H@@ W@@ R@@ N@@ G@@ ))); } else { get@@ R@@ ng@@ R@@ an@@ do@@ m@@ Source@@ Requi@@ red@@ ().set@@ Entity@@ (@@ false@@ ); get@@ R@@ ng@@ H@@ wr@@ ng@@ Source@@ Requi@@ red@@ ().set@@ Entity@@ (@@ false@@ ); } }
@org.junit.Test public void ex@@ ternal@@ Network@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ () throw@@ s java.lang.Exception { ex@@ ternal@@ Network@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ Test@@ (@@ true@@ , true@@ , org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ EX@@ TER@@ N@@ AL@@ _@@ NETWORK_@@ C@@ ANNOT_@@ B@@ E_@@ POR@@ T_@@ M@@ I@@ R@@ R@@ OR@@ ED@@ )); }
protected <@@ T@@ > T get@@ Entity(@@ java.lang.@@ Class@@ <@@ T@@ > cl@@ z@@ , org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ Search@@ Type search@@ Type, java.lang.String const@@ r@@ a@@ int@@ ) { try { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue result = run@@ Query@@ (Vdc@@ Query@@ Type.@@ Search@@ , new org.ovirt.engine.core.common.queries.@@ Search@@ Parameters@@ (@@ const@@ r@@ a@@ int@@ , search@@ Type@@ )); if (!(@@ result.get@@ Succeeded@@ ())) { throw new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Fail@@ ure@@ Exception@@ (@@ local@@ iz@@ e(@@ result.get@@ Exception@@ String@@ ()), org.ovirt.engine.api.restapi.@@ util.@@ Error@@ Message@@ Helper@@ .get@@ Error@@ Status(@@ result.get@@ Exception@@ String@@ ())); } T entity@@ ; if ((@@ java.util.@@ List@@ .@@ class@@ .is@@ As@@ s@@ ign@@ able@@ From@@ (@@ cl@@ z@@ )) && ((@@ result.get@@ ReturnValue@@ ()) instanceof java.util.@@ List@@ )) { enti@@ ty = cl@@ z@@ .@@ c@@ ast@@ (@@ result.get@@ ReturnValue@@ ()); } else { java.util.List<@@ T@@ > lis@@ t = as@@ Collection@@ (@@ cl@@ z@@ , result.get@@ ReturnValue@@ ()); if ((@@ lis@@ t == null@@ ) || (@@ lis@@ t.@@ isEmpty@@ ())) { throw new org.ovirt.engine.api.restapi.resource.@@ Entity@@ Not@@ F@@ ound@@ Exception@@ (@@ const@@ r@@ a@@ int@@ ); } enti@@ ty = cl@@ z@@ .@@ c@@ ast@@ (@@ lis@@ t.get@@ (0@@ )); } return entity@@ ; } catch (@@ java.lang.Exception e) { return h@@ andle@@ Error@@ (@@ cl@@ z@@ , e@@ , false@@ ); } }
@java.lang.Override public void initial@@ ize@@ () { super@@ .@@ initial@@ ize@@ (); dis@@ able@@ Non@@ Change@@ able@@ Enti@@ ties@@ (); get@@ Alias@@ ().set@@ Entity@@ (get@@ Disk@@ ().get@@ Disk@@ Alias@@ ()); get@@ Description@@ ().set@@ Entity@@ (get@@ Disk@@ ().get@@ Disk@@ Description@@ ()); get@@ Is@@ Sh@@ are@@ able@@ ().set@@ Entity@@ (get@@ Disk@@ ().is@@ Sh@@ are@@ able@@ ()); get@@ Is@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ ().set@@ Entity@@ (get@@ Disk@@ ().is@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ ()); get@@ Is@@ S@@ csi@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ().set@@ Entity@@ (get@@ Disk@@ ().is@@ S@@ csi@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()); get@@ Is@@ S@@ g@@ I@@ o@@ Un@@ filter@@ ed@@ ().set@@ Entity@@ ((@@ (get@@ Disk@@ ().get@@ S@@ g@@ i@@ o@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ S@@ csi@@ Gener@@ ic@@ I@@ O@@ .@@ UN@@ F@@ IL@@ TER@@ ED@@ ))); get@@ Is@@ Read@@ Only@@ ().set@@ Entity@@ (get@@ Disk@@ ().get@@ Read@@ Only@@ ()); if ((get@@ Disk@@ ().get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (get@@ Disk@@ ())); get@@ Disk@@ Storage@@ Type@@ ().set@@ Entity(@@ Disk@@ StorageType.@@ IM@@ AG@@ E); get@@ Size@@ ().set@@ Entity@@ ((@@ (@@ int@@ ) (disk@@ Image.get@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s@@ ()))); get@@ Volume@@ Type@@ ().set@@ SelectedItem@@ (disk@@ Image.get@@ Volume@@ Type@@ ()); set@@ Volume@@ Format@@ (disk@@ Image.get@@ Volume@@ Format@@ ()); boolean is@@ Ex@@ tend@@ Image@@ Size@@ En@@ able@@ d = ((@@ (get@@ Vm@@ ()) != null@@ ) && (!(@@ disk@@ Im@@ age.@@ is@@ Disk@@ Snapshot@@ ()))) && (org.ovirt.engine.core.common.@@ Vdc@@ Action@@ Utils.@@ can@@ Execu@@ te@@ (@@ java.util.Arrays.as@@ List@@ (get@@ Vm@@ ()), org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ , Vdc@@ ActionType.@@ Ex@@ tend@@ Image@@ Size@@ )); get@@ Size@@ Ex@@ tend@@ Image@@ Size@@ Ex@@ tend@@ Image@@ Size@@ Enabled@@ ); } else { org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk lun@@ Disk = ((org.ovirt.engine.core.common.businessentities.@@ Lun@@ Disk@@ ) (get@@ Disk@@ ())); get@@ Disk@@ Storage@@ Type@@ ().set@@ Entity(@@ lun@@ Disk@@ StorageType.@@ LUN@@ ); get@@ Size@@ ().set@@ Entity(@@ lun@@ Disk@@ .get@@ Lun@@ ().get@@ Device@@ Size@@ ()); get@@ Size@@ Ex@@ tend@@ ().setIs@@ Available@@ (@@ false@@ ); } update@@ Read@@ Only@@ Change@@ ab@@ ility@@ (); update@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ Change@@ ab@@ ility@@ (); }
public org.ovirt.engine.core.compat.Guid get@@ VdsGroup@@ Id@@ () { return vds@@ Static@@ .get@@ VdsGroup@@ Id@@ (); }
public void set@@ S@@ w@@ ap@@ T@@ otal@@ (java.lang.@@ L@@ on@@ g value@@ ) { vds@@ Statistic@@ s.set@@ S@@ w@@ ap@@ T@@ otal@@ (@@ value@@ ); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c r@@ e@@ const@@ r@@ uc@@ t@@ Ma@@ ster@@ (java.lang.String sp@@ UUID@@ , int host@@ Sp@@ m@@ Id, java.lang.String pool@@ Name, java.lang.String ma@@ ster@@ D@@ om@@ , java.util.Map<java.lang.String, java.lang.String> do@@ m@@ D@@ ic@@ t@@ , int ma@@ ster@@ Version@@ , java.lang.String lock@@ Policy@@ , int lock@@ R@@ e@@ new@@ al@@ Inter@@ val@@ Sec@@ , int le@@ ase@@ Time@@ Sec@@ , int i@@ o@@ Op@@ Time@@ out@@ Sec@@ , int le@@ ase@@ R@@ et@@ ri@@ es@@ ) { try { java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ ReturnValue = vds@@ Ser@@ ver.@@ r@@ e@@ const@@ r@@ uc@@ t@@ Ma@@ ster@@ (s@@ p@@ UUID@@ , host@@ Sp@@ m@@ Id, pool@@ Name, ma@@ ster@@ D@@ om@@ , do@@ m@@ D@@ ic@@ t@@ , ma@@ ster@@ Version@@ , lock@@ Policy@@ , lock@@ R@@ e@@ new@@ al@@ Inter@@ val@@ Sec@@ , le@@ ase@@ Time@@ Sec@@ , i@@ o@@ Op@@ Time@@ out@@ Sec@@ , le@@ ase@@ R@@ et@@ ri@@ es@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c wr@@ app@@ er = new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ x@@ mlR@@ pc@@ ReturnValue@@ ); return w@@ rap@@ per@@ ; } catch (java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Un@@ de@@ cl@@ ared@@ Th@@ row@@ able@@ Exception u@@ te@@ ) { throw new org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Run@@ Time@@ Exception@@ (@@ u@@ te@@ ); } }
@org.junit.Test public void image@@ Not@@ Provi@@ ded@@ For@@ O@@ vi@@ r@@ t@@ Node@@ () { mock@@ O@@ vi@@ r@@ t@@ Node@@ (); assert@@ That@@ (@@ validator.@@ image@@ Provi@@ ded@@ For@@ O@@ vi@@ r@@ t@@ Node@@ (@@ null@@ ), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ VDS@@ _C@@ ANNOT_@@ IN@@ ST@@ AL@@ L@@ _@@ M@@ IS@@ S@@ ING@@ _@@ IM@@ AGE_@@ F@@ IL@@ E@@ )); }
@java.lang.Override public java.lang.@@ B@@ oolean get@@ Value@@ () { for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model model : c@@ lust@@ ers@@ T@@ abl@@ e.get@@ Visi@@ bl@@ e@@ Item@@ s()) { org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ Network@@ Cluster@@ Model network@@ Cluster@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ Network@@ Cluster@@ Model) (model@@ )); if (network@@ Cluster@@ Model.get@@ Is@@ Chang@@ able@@ ()) { if (!(@@ network@@ Cluster@@ Model.@@ is@@ Attached@@ ())) { return false@@ ; } } } return true@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { boolean ret@@ Value = true@@ ; if ((org.ovirt.engine.core.bll.@@ Change@@ Disk@@ Command.getVm@@ ()) == null@@ ) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ VM_@@ NOT_@@ EXIST@@ ); ret@@ Value = false@@ ; } if (r@@ et@@ Value && (!@@ (org.ovirt.engine.core.bll.@@ Change@@ Disk@@ Command.@@ can@@ Run@@ Action@@ On@@ Non@@ Manage@@ d@@ Vm@@ ()))) { ret@@ Value = false@@ ; } if (r@@ et@@ Value && (!@@ (org.ovirt.engine.core.bll.@@ Change@@ Disk@@ Command.getVm@@ ().is@@ Run@@ ning@@ Or@@ Pa@@ us@@ ed@@ ()))) { org.ovirt.engine.core.bll.@@ Change@@ Disk@@ Command.set@@ Succeeded@@ (@@ false@@ ); ret@@ Value = false@@ ; addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ TYPE_@@ _@@ VM@@ ); if (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (m@@ C@@ d@@ Image@@ Path@@ ))) { addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ ACTION_@@ _C@@ H@@ AN@@ G@@ E_@@ C@@ D@@ ); } else { addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ ACTION_@@ _@@ E@@ J@@ EC@@ T_@@ C@@ D@@ ); } failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ VM_@@ ST@@ AT@@ U@@ S_@@ IL@@ LE@@ G@@ AL@@ , org.ovirt.engine.core.bll.validator.@@ Local@@ iz@@ ed@@ Vm@@ Status.@@ b@@ y@@ Vm@@ Status@@ (org.ovirt.engine.core.bll.@@ Change@@ Disk@@ Command.getVm@@ ().get@@ Status@@ ())); } else if ((@@ (org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er@@ .getInstance().@@ fin@@ d@@ Active@@ IS@@ O@@ Domain@@ (org.ovirt.engine.core.bll.@@ Change@@ Disk@@ Command.getVm@@ ().get@@ StoragePool@@ Id@@ ())) == null@@ ) && (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (m@@ C@@ d@@ Image@@ Path@@ )@@ ))) { addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ ACTION_@@ _C@@ H@@ AN@@ G@@ E_@@ C@@ D@@ ); addCanDoActionMessage@@ (VdcBllMessages.@@ VM@@ _C@@ ANNOT_@@ W@@ I@@ T@@ HO@@ U@@ T_@@ AC@@ TI@@ V@@ E_@@ STORAGE_@@ DOMA@@ IN_@@ IS@@ O@@ ); org.ovirt.engine.core.bll.@@ Change@@ Disk@@ Command.set@@ Succeeded@@ (@@ false@@ ); ret@@ Value = false@@ ; } return ret@@ Value@@ ; }
public java.lang.String get@@ M@@ et@@ ad@@ ata@@ Device@@ () { return get@@ Storage@@ StaticData@@ ().get@@ M@@ et@@ ad@@ ata@@ Device@@ (); }
@java.lang.Override public void dataCenter@@ With@@ Cluster@@ SelectedItem@@ Changed@@ () { super@@ .@@ dataCenter@@ With@@ Cluster@@ SelectedItem@@ Changed@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Vm@@ Disk@@ List@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ New@@ Template@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or b@@ e@@ ha@@ vi@@ or = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ New@@ Template@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ ) (@@ target@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > image@@ Disk@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Disk@@ >(); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > vm@@ Disk@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Disk@@ >) (@@ return@@ Value@@ )); for (org.ovirt.engine.core.common.businessentities.@@ Disk dis@@ k : vm@@ Disk@@ s) { if (((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Disk@@ .@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) && (!(@@ disk@@ .is@@ Sh@@ are@@ able@@ ()))) { image@@ Disk@@ s.add(@@ disk@@ ); } } b@@ e@@ ha@@ vi@@ or.@@ Init@@ StorageDomain@@ s(); init@@ Disk@@ s(@@ image@@ Disks@@ ); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Model@@ Helper.@@ s@@ end@@ W@@ arning@@ For@@ Non@@ Export@@ able@@ Disks@@ (get@@ Model@@ (), vm@@ Disk@@ s, Vm@@ Model@@ Helper.@@ W@@ arning@@ Type.@@ VM_@@ T@@ EM@@ P@@ L@@ AT@@ E); } }, getModel().get@@ Hash@@ ()), vm.get@@ Id(), true@@ ); }
@java.lang.Override public void set@@ Main@@ Tab@@ SelectedItem@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group selected@@ Item@@ ) { d@@ ri@@ ver.@@ edit@@ (get@@ Detail@@ Model@@ ()); if (s@@ elected@@ Item@@ .@@ sup@@ port@@ s@@ Vir@@ t@@ Service@@ ()) { if (s@@ elected@@ Item@@ .get@@ s@@ el@@ ection@@ _@@ al@@ g@@ or@@ ith@@ m@@ ().@@ equals(@@ Vds@@ Sel@@ ection@@ Al@@ g@@ or@@ ith@@ m.@@ P@@ ow@@ er@@ S@@ ave@@ )) { set@@ Visi@@ bility@@ (@@ true@@ ); le@@ f@@ t@@ S@@ l@@ id@@ er.@@ set@@ Value@@ (s@@ elected@@ Item@@ .get@@ low@@ _@@ uti@@ l@@ ization@@ ()); ri@@ g@@ ht@@ S@@ l@@ id@@ er.@@ set@@ Value@@ (s@@ elected@@ Item@@ .get@@ h@@ ig@@ h@@ _@@ uti@@ l@@ ization@@ ()); p@@ olicy@@ Time@@ L@@ ab@@ el.@@ set@@ Text@@ ((@@ (((@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ For@@ Time@@ Label@@ ()) + " ") + (s@@ elected@@ Item@@ .get@@ cpu@@ _@@ o@@ ver@@ _@@ c@@ omm@@ it@@ _@@ d@@ ur@@ ation@@ _@@ min@@ ut@@ es@@ ())) + " ") + (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ M@@ in@@ Time@@ Label@@ ()))); p@@ olicy@@ Fiel@@ d@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ P@@ ow@@ S@@ ave@@ Label@@ ()); } else if (s@@ elected@@ Item@@ .get@@ s@@ el@@ ection@@ _@@ al@@ g@@ or@@ ith@@ m@@ ().@@ equals(@@ Vds@@ Sel@@ ection@@ Al@@ g@@ or@@ ith@@ m.@@ Ev@@ en@@ ly@@ D@@ ist@@ ri@@ bu@@ te@@ )) { set@@ Visi@@ bility@@ (@@ true@@ ); le@@ f@@ t@@ S@@ l@@ id@@ er.@@ set@@ Visi@@ bl@@ e@@ (@@ false@@ ); le@@ f@@ t@@ D@@ um@@ m@@ y@@ S@@ l@@ id@@ er.@@ set@@ Visi@@ bl@@ e@@ (@@ true@@ ); ri@@ g@@ ht@@ S@@ l@@ id@@ er.@@ set@@ Value@@ (s@@ elected@@ Item@@ .get@@ h@@ ig@@ h@@ _@@ uti@@ l@@ ization@@ ()); p@@ olicy@@ Time@@ L@@ ab@@ el.@@ set@@ Text@@ ((@@ (((@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ For@@ Time@@ Label@@ ()) + " ") + (s@@ elected@@ Item@@ .get@@ cpu@@ _@@ o@@ ver@@ _@@ c@@ omm@@ it@@ _@@ d@@ ur@@ ation@@ _@@ min@@ ut@@ es@@ ())) + " ") + (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ M@@ in@@ Time@@ Label@@ ()))); p@@ olicy@@ Fiel@@ d@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ Ev@@ en@@ D@@ ist@@ Label@@ ()); } else { set@@ Visi@@ bility@@ (@@ false@@ ); p@@ olicy@@ Fiel@@ d@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ N@@ one@@ Label@@ ()); } } p@@ olicy@@ Pan@@ el.@@ set@@ Visi@@ bl@@ e(@@ selected@@ Item@@ .@@ sup@@ port@@ s@@ Vir@@ t@@ Service@@ ()); for@@ m.@@ update@@ (); }
private void In@@ itial@@ ize@@ Help@@ ers@@ () { try { for (java.lang.String h@@ el@@ per@@ Name : org.ovirt.engine.core.compat.@@ Enum@@ C@@ ompat.@@ Get@@ Names@@ (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Type@@ .@@ class@@ )) { java.lang.@@ Class@@ <?@@ > action@@ Type = null@@ ; try { action@@ Type = java.lang.@@ Class@@ .@@ for@@ Name(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ 1@@ $@@ s.@@ %@@ 2@@ $@@ s@@ %@@ 3@@ $@@ s", "@@ org.ovirt.engine.core.bll.@@ storage@@ ", h@@ el@@ per@@ Name, "@@ Storage@@ Helper@@ ")); } catch (java.lang.@@ Class@@ Not@@ F@@ ound@@ Exception c@@ n@@ f@@ e) { } if (@@ action@@ Type != null@@ ) { java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Con@@ struc@@ t@@ or@@ <?@@ > in@@ fo = action@@ Typ@@ e.get@@ Con@@ struc@@ t@@ or@@ s@@ ()@@ [@@ 0@@ ]@@ ; java.lang.Object temp@@ V@@ a@@ r = info@@ .@@ new@@ Instance@@ (@@ null@@ ); org.ovirt.engine.core.bll.storage.@@ I@@ Storage@@ Help@@ er current@@ Help@@ er = ((@@ org.ovirt.engine.core.bll.storage.@@ I@@ Storage@@ Helper@@ ) ((@@ temp@@ V@@ a@@ r instanceof org.ovirt.engine.core.bll.storage.@@ I@@ Storage@@ Helper@@ ) ? temp@@ V@@ a@@ r : null@@ )); if (c@@ urrent@@ Help@@ er != null@@ ) { _@@ h@@ el@@ per@@ s.@@ put@@ (org.ovirt.engine.core.common.businessentities.@@ StorageType.@@ value@@ Of@@ (@@ h@@ el@@ per@@ Name@@ ), current@@ Helper@@ ); } } } catch (@@ java.lang.Exception ex@@ ) { throw new org.ovirt.engine.core.compat.@@ Ap@@ plication@@ Exception@@ ("@@ J@@ TO@@ D@@ O mis@@ s@@ ing ex@@ ce@@ ption@@ ", ex@@ ); } }
@@@ org.ovirt.engine.ui.common.@@ DefaultStringValue("@@ Al@@ ig@@ ne@@ d@@ ") java.lang.String al@@ ig@@ ne@@ d@@ Disk@@ ();
protected void set@@ X@@ ml@@ Respon@@ s@@ e(@@ java.lang.String p@@ ath@@ , final int c@@ ode@@ , final java.lang.String b@@ od@@ y@@ , final int de@@ l@@ ay@@ ) { io.@@ un@@ der@@ to@@ w@@ .@@ server.@@ Http@@ H@@ andle@@ r x@@ ml@@ Respon@@ se@@ H@@ andle@@ r = new io.@@ un@@ der@@ to@@ w@@ .@@ server.@@ Http@@ Handler@@ () { @java.lang.Override public void h@@ andle@@ Request@@ (@@ io.@@ un@@ der@@ to@@ w@@ .@@ server.@@ Http@@ Server@@ Ex@@ ch@@ ang@@ e ex@@ ch@@ ang@@ e) throw@@ s java.lang.Exception { if (!(@@ ex@@ ch@@ ang@@ e.get@@ Request@@ H@@ ead@@ ers@@ ().get@@ F@@ ir@@ st@@ ("@@ Auth@@ or@@ ization@@ ").@@ equals@@ ((@@ "@@ Be@@ ar@@ er " + (@@ org.ovirt.engine.@@ sd@@ k@@ 4@@ .@@ Server@@ Test.@@ TO@@ K@@ EN@@ )@@ ))) { ex@@ ch@@ ang@@ e.set@@ Status@@ Code@@ (@@ 4@@ 0@@ 1@@ ); ex@@ ch@@ ang@@ e.get@@ Respon@@ se@@ S@@ ender@@ ().@@ s@@ end@@ ("@@ "); } else { java.lang.@@ Th@@ read@@ .@@ s@@ le@@ ep@@ (@@ de@@ l@@ ay@@ ); ex@@ ch@@ ang@@ e.set@@ Status@@ Code@@ (c@@ ode@@ ); ex@@ ch@@ ang@@ e.get@@ Respon@@ se@@ H@@ ead@@ ers@@ ().@@ put(@@ H@@ ead@@ er@@ s.@@ C@@ ON@@ T@@ EN@@ T_@@ TYP@@ E, "@@ ap@@ plication@@ /@@ x@@ ml@@ "); ex@@ ch@@ ang@@ e.get@@ Respon@@ se@@ S@@ ender@@ ().@@ s@@ end@@ (@@ b@@ od@@ y@@ ); l@@ ast@@ Request@@ Query = ex@@ ch@@ ang@@ e.get@@ Query@@ String@@ (); } } }; test@@ Handler@@ ().add@@ Pre@@ fi@@ x@@ Path@@ ((((@@ test@@ Pre@@ fi@@ x@@ ()) + "@@ /@@ api@@ /@@ ") + p@@ ath@@ ), x@@ ml@@ Respon@@ se@@ Handler@@ ); }
@@@ com.google.gwt.@@ ui@@ b@@ in@@ der.@@ client.@@ U@@ i@@ Handler@@ ("@@ contain@@ er@@ ") void on@@ D@@ r@@ ag@@ Le@@ ave@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ D@@ r@@ ag@@ Le@@ ave@@ Event event@@ ) { contain@@ er.@@ remove@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ d@@ r@@ ag@@ O@@ ver@@ ()); }
protected org.ovirt.engine.core.bll.validator.@@ RunVm@@ Validator get@@ RunVm@@ Validator@@ () { return run@@ Vm@@ Validator@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.get@@ StorageDomain@@ Static@@ Dao().@@ update@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); if ((@@ storageDomain@@ Name@@ Changed@@ ) && ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.get@@ StoragePool@@ ()) != null@@ )) { run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Set@@ StorageDomain@@ Description@@ , new org.ovirt.engine.core.common.vdscommands.@@ Set@@ StorageDomain@@ Description@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.get@@ StoragePool@@ ().get@@ Id(), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Id(), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ Name@@ ())); } org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
private void set@@ In@@ put@@ Local@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.String> value@@ ) { private@@ In@@ put@@ Local@@ e = value@@ ; }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > run@@ Internal@@ Fil@@ t@@ ers@@ (@@ java.util.ArrayList<@@ org.ovirt.engine.core.bll.@@ scheduling.@@ Policy@@ Unit@@ Im@@ pl@@ > fil@@ t@@ ers@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ List@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ , java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ > filter@@ P@@ os@@ ition@@ Map@@ , java.util.List<java.lang.String> mess@@ ages@@ , org.ovirt.engine.core.bll.@@ scheduling.@@ Vds@@ F@@ ree@@ Memory@@ Check@@ er memory@@ Check@@ er@@ ) { if (@@ filter@@ s != null@@ ) { for (org.ovirt.engine.core.bll.@@ scheduling.@@ Policy@@ Unit@@ Im@@ p@@ l filter@@ Policy@@ Un@@ i@@ t : fil@@ t@@ ers@@ ) { if ((@@ host@@ List == null@@ ) || (@@ host@@ List.@@ isEmpty@@ ())) { break@@ ; } filter@@ Policy@@ Un@@ it.@@ set@@ Memory@@ Check@@ er@@ (m@@ em@@ ory@@ Check@@ er@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > new@@ Host@@ List = filter@@ Policy@@ Un@@ it.@@ filter@@ (@@ host@@ List@@ , vm@@ , parameters@@ , mess@@ ages@@ ); log@@ Filter@@ Action@@ s(@@ host@@ List@@ , new@@ Host@@ List@@ , (@@ "@@ int@@ er@@ n@@ al fil@@ te@@ r " + (@@ filter@@ Policy@@ Un@@ it.@@ get@@ Name@@ ()))); host@@ List = new@@ Host@@ List@@ ; } } return host@@ List@@ ; }
@java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { h@@ andle@@ E@@ s@@ c@@ ap@@ e@@ Key@@ (); }
@@@ org.ovirt.engine.ui.webadmin.@@ Default@@ Message@@ ("@@ {0@@ } o@@ u@@ t of un@@ l@@ im@@ i@@ te@@ d v@@ C@@ P@@ Us@@ ") java.lang.String un@@ l@@ im@@ i@@ ted@@ V@@ cpu@@ Cons@@ um@@ ption@@ (@@ int v@@ cpu@@ );
public org.ovirt.engine.core.bll.ValidationResult network@@ Not@@ Changed@@ (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent old@@ Attachment@@ ) { boolean wh@@ e@@ n = (@@ old@@ Attachm@@ ent != null@@ ) && (!(@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ Attachm@@ ent.get@@ Network@@ Id(), attach@@ m@@ ent.get@@ Network@@ Id@@ ()))); return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ C@@ ANNOT_@@ C@@ H@@ AN@@ G@@ E_@@ AT@@ T@@ AC@@ H@@ ED_@@ NETWOR@@ K@@ ).@@ when(@@ when@@ ); }
@java.lang.Override protected void execute@@ Network@@ Command(@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 1, org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 2@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > all@@ Nic@@ s, java.lang.Obj@@ ec@@ t.@@ .@@ . param@@ s) { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Oper@@ ation.@@ D@@ ET@@ AC@@ H@@ _@@ NETWOR@@ K@@ .get@@ Command(@@ op@@ 1, op@@ 2@@ , all@@ Nic@@ s@@ ).@@ execute@@ (); }
public org.ovirt.engine.core.bll.ValidationResult is@@ Up@@ () { if (((@@ storagePool@@ ) == null@@ ) || ((@@ storagePool@@ .get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Status.@@ Up@@ ))) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ IM@@ AGE_@@ RE@@ P@@ O@@ SI@@ T@@ OR@@ Y_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
private void new@@ Internal@@ () { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.vms.@@ User@@ Port@@ al@@ New@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ ()); model.get@@ Vm@@ Type@@ ().set@@ SelectedItem@@ (@@ Vm@@ Type.@@ Server@@ ); model.set@@ Title(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Constant@@ s@@ ()@@ .@@ new@@ Vm@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ Tag@@ .@@ new@@ _@@ vm@@ ); model.set@@ Hash@@ Name(@@ "@@ new@@ _@@ vm@@ "); model.set@@ Is@@ New@@ (@@ true@@ ); model.set@@ Custom@@ Properties@@ Key@@ s@@ List(@@ Custom@@ Properties@@ Key@@ s@@ List@@ ); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.@@ initial@@ ize@@ (@@ null@@ ); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Bas@@ ed@@ Widget@@ S@@ wit@@ ch@@ M@@ ode@@ C@@ ommand switch@@ M@@ ode@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Bas@@ ed@@ Widget@@ S@@ wit@@ ch@@ M@@ ode@@ Command@@ (); switch@@ M@@ ode@@ Command.@@ init@@ (model@@ ); model.get@@ Command@@ s().@@ add@@ (@@ switch@@ M@@ ode@@ Command@@ ); model.get@@ Provi@@ sion@@ ing@@ ().set@@ Entity@@ (@@ true@@ ); org.ovirt.engine.ui.uicommonweb.UICommand temp@@ V@@ a@@ r = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ S@@ ave@@ ", this@@ ); tempVar@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ()); tempVar@@ .set@@ Is@@ Default@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ ); org.ovirt.engine.ui.uicommonweb.UICommand tempVar@@ 2 = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ ", this@@ ); tempVar@@ 2@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); tempVar@@ 2@@ .set@@ Is@@ Cancel@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ 2@@ ); }
java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VnicProfile@@ View@@ > get@@ AllFor@@ Network@@ Q@@ oS@@ (org.ovirt.engine.core.compat.Guid q@@ os@@ Id);
protected void b@@ e@@ for@@ e@@ Read@@ Respon@@ s@@ e(@@ java.@@ net@@ .@@ Http@@ UR@@ L@@ Conn@@ ec@@ tion connection@@ ) throw@@ s java.lang.Exception { if (((@@ connection@@ .get@@ Respon@@ se@@ Code@@ ()) != (@@ java.@@ net@@ .@@ Http@@ UR@@ L@@ Connection@@ .@@ H@@ T@@ T@@ P@@ _@@ O@@ K@@ )) && ((@@ connection@@ .get@@ Respon@@ se@@ Code@@ ()) != (@@ java.@@ net@@ .@@ Http@@ UR@@ L@@ Connection@@ .@@ H@@ T@@ T@@ P@@ _@@ M@@ OV@@ ED_@@ T@@ EM@@ P@@ ))) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ ); } }
@org.junit.Test public void test@@ Nic@@ Exist@@ s@@ W@@ h@@ en@@ Nic@@ Name@@ Is@@ Null@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent attach@@ m@@ ent = new org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ (); attach@@ m@@ ent.@@ set@@ Nic@@ Name@@ (@@ null@@ ); assert@@ That@@ (c@@ reate@@ NetworkAttachment@@ Validator@@ (@@ attach@@ ment@@ ).@@ nic@@ Name@@ Is@@ Set@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ HOST@@ _@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E_@@ NOT_@@ EXIST@@ )); }
@java.lang.Override protected boolean canDoAction@@ () { if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } if (get@@ R@@ ng@@ Devices@@ ().is@@ Empty@@ ()) { return failCanDoAction@@ (VdcBllMessages.@@ R@@ N@@ G@@ _@@ NOT_@@ F@@ O@@ UN@@ D@@ ); } if (!(@@ is@@ R@@ ng@@ Source@@ C@@ ompati@@ bl@@ e@@ With@@ Cluster@@ ())) { org.ovirt.engine.core.common.businessentities.Vm@@ R@@ ng@@ Device de@@ vic@@ e = get@@ Parameters().get@@ R@@ ng@@ Device@@ (); log.info@@ Format@@ ("@@ R@@ N@@ G Device id@@ : %@@ s of VM id@@ : %@@ s is n@@ o m@@ or@@ e c@@ ompati@@ bl@@ e wit@@ h cluster@@ . Rem@@ ov@@ ing the de@@ vic@@ e.@@ ", de@@ vic@@ e.get@@ Id(), de@@ vic@@ e.get@@ Vm@@ Id()); org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ run@@ Action(VdcActionType.@@ Remove@@ R@@ ng@@ Device@@ , get@@ Parameters@@ ()); return failCanDoAction@@ (VdcBllMessages.@@ R@@ N@@ G@@ _S@@ O@@ UR@@ C@@ E_@@ NOT_@@ SUP@@ PORT@@ ED); } return true@@ ; }
@java.lang.Override public java.util.ArrayList<@@ java.lang.String> get@@ Network@@ Devices@@ (@@ int os@@ Id, org.ovirt.engine.core.compat.@@ Version version@@ ) { java.lang.String de@@ vice@@ s = get@@ Value@@ By@@ Version@@ (@@ id@@ To@@ Un@@ ame@@ L@@ ook@@ up@@ .get(@@ os@@ Id@@ ), "@@ de@@ vic@@ es.@@ network@@ ", version@@ ); return org.ovirt.engine.core.utils.@@ Os@@ Rep@@ os@@ it@@ ory@@ Impl.@@ t@@ ri@@ m@@ Element@@ s(@@ de@@ vic@@ es.@@ s@@ pl@@ it@@ ("@@ ,@@ ")); }
@java.lang.Override public void edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Nic@@ Label@@ Model model@@ ) { super@@ .@@ edit@@ (model@@ ); s@@ u@@ g@@ es@@ tion@@ s = model.get@@ Su@@ g@@ es@@ ted@@ Label@@ s(); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.@@ Tag@@ s@@ Vds@@ Map map@@ ; if ((org.ovirt.engine.core.bll.@@ Attach@@ Vds@@ To@@ Tag@@ Command.get@@ Tag@@ Id()) != null@@ ) { for (org.ovirt.engine.core.compat.Guid vds@@ Id : org.ovirt.engine.core.bll.@@ Attach@@ Vds@@ To@@ Tag@@ Command.get@@ Vds@@ List@@ ()) { org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vds@@ Dao().get@@ (vds@@ Id); if ((@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Tag@@ Dao().get@@ Tag@@ Vds@@ By@@ Tag@@ Id@@ And@@ By@@ Vds@@ Id@@ (org.ovirt.engine.core.bll.@@ Attach@@ Vds@@ To@@ Tag@@ Command.get@@ Tag@@ Id(), vds@@ Id@@ )) == null@@ ) { if (@@ vd@@ s != null@@ ) { append@@ Custom@@ Value("@@ Vds@@ Names@@ ", vds.get@@ vds@@ _@@ name@@ (), ", "); } ma@@ p = new org.ovirt.engine.core.common.businessentities.@@ Tag@@ s@@ Vds@@ Map@@ (org.ovirt.engine.core.bll.@@ Attach@@ Vds@@ To@@ Tag@@ Command.get@@ Tag@@ Id(), vds@@ Id); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Tag@@ Dao().@@ attach@@ Vds@@ To@@ Tag@@ (m@@ ap@@ ); no@@ Action@@ D@@ on@@ e = false@@ ; } else { if (@@ vd@@ s != null@@ ) { append@@ Custom@@ Value("@@ Vds@@ Names@@ Exist@@ s", vds.get@@ vds@@ _@@ name@@ (), ", "); } } } } org.ovirt.engine.core.bll.@@ Attach@@ Vds@@ To@@ Tag@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
@org.junit.Test public void canDoAction@@ Fail@@ s@@ On@@ Null@@ Hook@@ Name@@ () { c@@ m@@ d = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.@@ gluster.@@ Dis@@ able@@ Gluster@@ Hook@@ Command@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.Gluster@@ Hook@@ Parameters@@ (org.ovirt.engine.core.bll.@@ gluster.@@ Dis@@ able@@ Gluster@@ Hook@@ Command@@ Test.@@ C@@ LUSTER_@@ ID@@ , org.ovirt.engine.core.bll.@@ gluster.@@ Dis@@ able@@ Gluster@@ Hook@@ Command@@ Test.@@ HO@@ O@@ M@@ AN@@ D@@ , org.ovirt.engine.core.bll.@@ gluster.@@ Dis@@ able@@ Gluster@@ Hook@@ Command@@ Test.@@ LE@@ V@@ E@@ L@@ ))); pre@@ par@@ e@@ Mock@@ s@@ (cmd@@ , get@@ Gluster@@ Server@@ s()); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); }
protected java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > get@@ Parameters@@ () { java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > parameter@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); for (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model disk@@ Model : get@@ Disks@@ ()) { org.ovirt.engine.core.common.businessentities.Storage@@ Domain d@@ est@@ Storage@@ Domain = ((org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ ) (disk@@ Model.get@@ StorageDomain@@ ().getSelectedItem@@ ())); org.ovirt.engine.core.common.businessentities.Storage@@ Domain source@@ Storage@@ Domain = ((org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ ) (disk@@ Model.get@@ Source@@ StorageDomain@@ ().getSelectedItem@@ ())); org.ovirt.engine.core.compat.Guid source@@ Storage@@ D@@ om@@ a@@ i@@ Gui@@ d = (s@@ ource@@ Storage@@ Domain != null@@ ) ? source@@ StorageDomain@@ .getId@@ () : org.ovirt.engine.core.compat.Guid.@@ Empty@@ ; org.ovirt.engine.core.common.businessentities.@@ DiskImage dis@@ k = ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (disk@@ Model.get@@ Disk@@ ())); if ((@@ disk@@ Model.get@@ Quota@@ ().getSelectedItem@@ ()) != null@@ ) { disk@@ .set@@ Quota@@ Id@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ Quota@@ ) (disk@@ Model.get@@ Quota@@ ().getSelectedItem@@ ())@@ ).get@@ Id()); } if ((@@ d@@ est@@ Storage@@ Domain == null@@ ) || (s@@ ource@@ Storage@@ Domain == null@@ )) { continue@@ ; } org.ovirt.engine.core.compat.Guid d@@ est@@ Storage@@ D@@ om@@ a@@ i@@ Gui@@ d = d@@ est@@ StorageDomain@@ .getId@@ (); add@@ Move@@ Or@@ Copy@@ Parameters(@@ parameters@@ , source@@ Storage@@ D@@ om@@ a@@ i@@ Guid@@ , d@@ est@@ Storage@@ D@@ om@@ a@@ i@@ Guid@@ , disk@@ ); } return parameters@@ ; }
@java.lang.Override public java.lang.String get@@ Text@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Device entity@@ ) { return entity.get@@ Name@@ (); }
private boolean sup@@ port@@ s@@ Gluster@@ Disk@@ Provi@@ sion@@ ing@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group cluster@@ ) { return (c@@ luster.@@ sup@@ port@@ s@@ Gluster@@ Service@@ ()) && ((@@ org.ovirt.engine.core.common.@@ gluster.Gluster@@ Feat@@ ure@@ Supported@@ .@@ gluster@@ Brick@@ Provi@@ sion@@ ing@@ (cluster@@ .get@@ CompatibilityVersion@@ ())) || (get@@ Cluster@@ Util@@ s().@@ is@@ Feat@@ ure@@ Supported@@ As@@ Add@@ ition@@ al@@ Feat@@ ure(@@ cluster@@ .get@@ Id(), Cluster@@ Utils.@@ F@@ E@@ AT@@ UR@@ E_@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ M@@ AN@@ AG@@ EM@@ EN@@ T@@ ))); }
private org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .S@@ n@@ m@@ p create@@ S@@ n@@ m@@ p@@ 3@@ (@@ org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ trans@@ port.@@ s@@ n@@ m@@ p@@ .S@@ n@@ m@@ p@@ .@@ Profil@@ e profil@@ e) { try { org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .@@ Trans@@ port@@ Mapping@@ <?@@ > trans@@ por@@ t = new org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .@@ trans@@ port.@@ Default@@ U@@ d@@ p@@ Trans@@ port@@ Mapping@@ (); org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .S@@ n@@ m@@ p s@@ n@@ m@@ p = new org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .S@@ n@@ m@@ p@@ (@@ trans@@ port@@ ); org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .@@ s@@ ec@@ ur@@ ity@@ .S@@ ec@@ ur@@ ity@@ Protocol@@ s s@@ ec@@ ur@@ ity@@ Protocol@@ s = org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .@@ s@@ ec@@ ur@@ ity@@ .S@@ ec@@ ur@@ ity@@ Protocol@@ s.get@@ Instance@@ (); s@@ ec@@ ur@@ ity@@ Protocol@@ s.@@ add@@ Default@@ Protocol@@ s(); s@@ ec@@ ur@@ ity@@ Protocol@@ s.@@ add@@ P@@ ri@@ va@@ c@@ y@@ Protocol@@ (@@ new org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .@@ s@@ ec@@ ur@@ ity@@ .@@ P@@ ri@@ v@@ A@@ ES@@ 1@@ 9@@ 2@@ ()); org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .@@ s@@ ec@@ ur@@ ity@@ .@@ US@@ M us@@ m = new org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .@@ s@@ ec@@ ur@@ ity@@ .@@ US@@ M@@ (s@@ ec@@ ur@@ ity@@ Protocol@@ s, profil@@ e.@@ engin@@ e@@ Id, 0@@ ); ((@@ org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .m@@ p@@ .@@ M@@ P@@ v@@ 3@@ ) (s@@ n@@ m@@ p@@ .get@@ Message@@ Pro@@ cess@@ ing@@ Model@@ (@@ org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ trans@@ port.@@ s@@ n@@ m@@ p@@ .@@ s@@ n@@ m@@ p@@ 4@@ j@@ .m@@ p@@ .@@ M@@ P@@ v@@ 3@@ )@@ )@@ .set@@ Local@@ Engine@@ ID@@ (@@ profil@@ e.@@ engin@@ e@@ Id@@ .get@@ Value@@ ()); ((@@ org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .m@@ p@@ .@@ M@@ P@@ v@@ 3@@ ) (s@@ n@@ m@@ p@@ .get@@ Message@@ Pro@@ cess@@ ing@@ Model@@ (@@ org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ trans@@ port.@@ s@@ n@@ m@@ p@@ .@@ org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .m@@ p@@ .@@ M@@ P@@ v@@ 3@@ )@@ ).get@@ Sec@@ ur@@ ity@@ Model@@ s().@@ add@@ Sec@@ ur@@ ity@@ Model@@ (@@ us@@ m@@ ); org.@@ s@@ n@@ m@@ p@@ 4@@ j@@ .@@ s@@ ec@@ ur@@ ity@@ .S@@ ec@@ ur@@ ity@@ Model@@ s.get@@ Instance@@ ().add@@ Sec@@ ur@@ ity@@ (@@ us@@ m@@ ); trans@@ port.@@ list@@ en@@ (); s@@ n@@ m@@ p@@ .get@@ M@@ ().add@@ User@@ (@@ profil@@ e.@@ user@@ name@@ , get@@ Us@@ m@@ User@@ (@@ profil@@ e@@ )); return s@@ n@@ ; } catch (@@ java.io.@@ I@@ O@@ Exception e) { throw new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ No@@ t@@ if@@ ication@@ Service@@ Exception@@ ((@@ "@@ Exception@@ ((@@ "@@ Fail@@ ed m@@ p@@ .@@ " + (get@@ Class@@ ().get@@ Message@@ ()))); } }
@java.lang.Override public final boolean Is@@ Dynamic@@ Var@@ i@@ able(@@ java.lang.String str@@ Message@@ ) { return str@@ Mess@@ age.@@ st@@ art@@ sWith@@ ("@@ $@@ "); }
protected void add@@ Vm@@ Static@@ () { log@@ Import@@ Event@@ s(); get@@ Vm().get@@ StaticData@@ ().set@@ Id@@ (get@@ Vm@@ Id()); get@@ Vm().get@@ StaticData@@ ().set@@ Cre@@ ation@@ D@@ ate@@ (@@ new java.util.@@ D@@ ate@@ ()); get@@ Vm().get@@ StaticData@@ ().set@@ VdsGroup@@ Id@@ (get@@ Parameters().get@@ VdsGroup@@ Id()); get@@ Vm().get@@ StaticData@@ ().set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (c@@ om@@ pu@@ te@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ()); get@@ Vm().get@@ StaticData@@ ().set@@ Quota@@ Id@@ (get@@ Parameters().get@@ Quota@@ Id()); if (!(@@ is@@ D@@ ed@@ ic@@ ated@@ Vds@@ Exist@@ On@@ S@@ ame@@ Cluster@@ (get@@ Vm().get@@ StaticData@@ (), true@@ ))) { get@@ Vm@@ ().set@@ D@@ ed@@ ic@@ ated@@ Vm@@ For@@ Vds@@ (@@ null@@ ); } if ((@@ (get@@ Vm().get@@ O@@ ri@@ gin@@ al@@ Template@@ Guid@@ ()) != null@@ ) && (!(@@ VmTemplate@@ Handler.@@ B@@ L@@ AN@@ K_@@ VM_@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ ID@@ .@@ equals@@ (get@@ Vm().get@@ O@@ ri@@ gin@@ al@@ Template@@ Guid@@ ())@@ ))) { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate or@@ i@@ gin@@ al@@ Templ@@ ate = org.ovirt.engine.core.bll.@@ Import@@ VmCommand.getVm@@ Template@@ DAO@@ ().get@@ (get@@ Vm().get@@ O@@ ri@@ gin@@ al@@ Template@@ Guid@@ ()); if (@@ or@@ i@@ gin@@ al@@ Templ@@ ate != null@@ ) { get@@ Vm().get@@ StaticData@@ ().set@@ O@@ ri@@ gin@@ al@@ Template@@ Name(@@ or@@ i@@ gin@@ al@@ Templ@@ at@@ e.get@@ Name()); } } if (get@@ Parameters().get@@ Copy@@ Coll@@ ap@@ se@@ ()) { get@@ Vm@@ ().set@@ Vm@@ t@@ Guid@@ (@@ VmTemplate@@ Handler.@@ B@@ L@@ AN@@ K_@@ VM_@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ ID@@ ); } org.ovirt.engine.core.bll.@@ Import@@ VmCommand.getVm@@ Static@@ DAO@@ ().@@ save@@ (get@@ Vm().get@@ StaticData@@ ()); org.ovirt.engine.core.bll.@@ ImportVm@@ Command.get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity@@ (get@@ Vm().get@@ StaticData@@ ()); }
@java.lang.Override protected void execute@@ Vm@@ Command() { vm@@ Handler.@@ w@@ ar@@ n@@ Memory@@ Size@@ Le@@ g@@ al@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ E@@ ff@@ ec@@ tive@@ CompatibilityVersion@@ ()); java.util.List<java.lang.String> error@@ Message@@ s = new java.util.ArrayList<>(); if (!@@ (c@@ an@@ AddVm@@ (@@ error@@ Messages@@ , d@@ est@@ Stor@@ ages.@@ valu@@ es@@ ()))) { log.error("@@ Fail@@ ed to ad@@ d VM@@ . Th@@ e re@@ ason@@ s are@@ : {}@@ ", java.lang.String.@@ j@@ o@@ in@@ ("@@ ,@@ ", error@@ Messages@@ )); return@@ ; } if (!(@@ add@@ Vm@@ Le@@ as@@ e(@@ org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm().get@@ Le@@ ase@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ AddVm@@ Command.getVm@@ Id@@ ()))) { return@@ ; } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { add@@ Vm@@ Static@@ (); add@@ Vm@@ Dynamic@@ (); add@@ VmNetwork@@ (); add@@ Vm@@ Numa@@ Nod@@ es@@ (); add@@ Vm@@ Statistic@@ s(); add@@ Active@@ Snapshot@@ (); add@@ Vm@@ Permission@@ (); add@@ Vm@@ Init@@ (); add@@ Vm@@ R@@ ng@@ Device@@ (); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; }); if (@@ add@@ Vm@@ Images@@ ()) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { c@@ opy@@ Disk@@ Vm@@ Element@@ s(); c@@ opy@@ Vm@@ Devices@@ (); add@@ Disk@@ Permission@@ s(); add@@ Vm@@ P@@ ay@@ load@@ (); update@@ S@@ m@@ art@@ C@@ ard@@ Devices@@ (); add@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ (); add@@ Graphics@@ Device@@ (); set@@ Action@@ ReturnValue@@ (get@@ Vm().get@@ Id()); get@@ VmDevice@@ Util@@ s().@@ update@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ er@@ (get@@ Vm().get@@ StaticData@@ (), get@@ Parameters@@ ().is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ ()); set@@ Succeeded@@ (@@ true@@ ); return null@@ ; }); } if ((org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Pool@@ Id()) != null@@ ) { add@@ Vm@@ To@@ Pool@@ (); } dis@@ c@@ ard@@ Helper.@@ log@@ If@@ Disks@@ With@@ I@@ l@@ le@@ g@@ al@@ P@@ ass@@ Dis@@ c@@ ard@@ Exist@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getVm@@ Id()); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Th@@ e provi@@ de@@ d dis@@ k is of typ@@ e C@@ in@@ der.@@ ") java.lang.String ACTION_TYPE_FAILED_@@ C@@ IN@@ D@@ ER_@@ DIS@@ K@@ ();
@java.lang.Override protected void build@@ Model@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Base vm@@ Base@@ , Builder@@ Execu@@ t@@ or.@@ Builder@@ Execution@@ F@@ in@@ is@@ h@@ ed@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Base@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model@@ > call@@ back@@ ) { if (@@ template@@ Version@@ W@@ as@@ Changed@@ ) { org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ Builder@@ Execu@@ t@@ or.@@ build@@ (vm@@ , get@@ Model@@ (), new org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ vm@@ .@@ C@@ ore@@ Vm@@ Base@@ To@@ Unit@@ Builder@@ (), new org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ vm@@ .@@ Name@@ And@@ Description@@ Vm@@ Base@@ To@@ Unit@@ Builder@@ (), new org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ vm@@ .@@ Comm@@ ent@@ Vm@@ Base@@ To@@ Unit@@ Builder@@ (), new org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ vm@@ .@@ C@@ ommon@@ Vm@@ Base@@ To@@ Unit@@ Builder@@ ()); } }
@java.lang.Override protected org.ovirt.engine.core.common.businessentities.VM get@@ Entity@@ (@@ int in@@ dex@@ ) { return org.ovirt.engine.api.restapi.resource.@@ Abstract@@ Backend@@ Vm@@ Ap@@ plication@@ s@@ Resource@@ Test.@@ setUp@@ Entity@@ Expectations(@@ cont@@ ro@@ l.@@ create@@ Mock@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ ), in@@ dex@@ ); }
java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > get@@ AllFor@@ Cluster@@ (org.ovirt.engine.core.compat.Guid id@@ );
@java.lang.Override public java.util.ArrayList<@@ java.lang.String> get@@ W@@ atch@@ D@@ og@@ Model@@ s@@ (@@ int os@@ Id, org.ovirt.engine.core.compat.@@ Version version@@ ) { java.lang.String model@@ s = get@@ Value@@ By@@ Version@@ (@@ id@@ To@@ Un@@ ame@@ L@@ ook@@ up@@ .get(@@ os@@ Id@@ ), "@@ de@@ vic@@ es.@@ w@@ at@@ ch@@ do@@ g.@@ model@@ s", version@@ ); return org.ovirt.engine.core.utils.@@ Os@@ Rep@@ os@@ it@@ ory@@ Impl.@@ t@@ ri@@ m@@ Element@@ s(@@ model@@ s.@@ s@@ pl@@ it@@ ("@@ ,@@ ")); }
private org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity s@@ lave@@ Volum@@ es(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ Session@@ > ge@@ oRep@@ Session@@ s) { for (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ S@@ ess@@ ion s@@ ess@@ ion : ge@@ oRep@@ Session@@ s) { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity s@@ lave@@ Volum@@ e = get@@ DbFacade@@ ().get@@ GlusterVolume@@ Dao().get@@ By@@ Id@@ (s@@ ession@@ .get@@ S@@ lave@@ Volume@@ Id()); if (s@@ lave@@ Volum@@ e == null@@ ) { continue@@ ; } if (!(@@ st@@ op@@ Volum@@ e(@@ s@@ lave@@ Volum@@ e.get@@ Id@@ ()))) { return false@@ ; } } return true@@ ; }
@java.lang.Override public void onSuccess@@ (java.lang.String cont@@ ent@@ ) { cont@@ ent@@ Model.get@@ Content@@ ().set@@ Entity(@@ cont@@ ent@@ ); if (@@ cont@@ ent == null@@ ) { cont@@ ent@@ Model.get@@ Content@@ ().setIs@@ Available@@ (@@ false@@ ); cont@@ ent@@ Model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ view@@ Content@@ Error@@ Gluster@@ Hook@@ ()); } else if ((@@ cont@@ ent.@@ l@@ ength@@ ()) == 0) { cont@@ ent@@ Model.get@@ Content@@ ().setIs@@ Available@@ (@@ false@@ ); cont@@ ent@@ Model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ view@@ Content@@ Empty@@ Gluster@@ Hook@@ ()); } cont@@ ent@@ Model.@@ st@@ op@@ Progress@@ (); }
private boolean can@@ Remove@@ Template@@ Disk@@ () { if ((org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Command.getVm@@ Template@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ Status.@@ Lock@@ ed@@ )) { return failCanDoAction@@ (EngineMessage.@@ VM_@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ IM@@ AGE_@@ I@@ S_@@ LO@@ C@@ K@@ ED); } org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = get@@ DiskImage@@ (); if ((@@ disk@@ Image.get@@ Storage@@ Id@@ s().@@ size()) == 1@@ ) { return failCanDoAction@@ (EngineMessage.@@ VM_@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ IM@@ AGE_@@ L@@ A@@ ST@@ _@@ DOMA@@ IN@@ ); } if ((!@@ (@@ check@@ D@@ er@@ i@@ v@@ ed@@ Vm@@ From@@ Template@@ Exist@@ s(@@ disk@@ Image@@ ))) || (!(@@ check@@ D@@ er@@ i@@ v@@ ed@@ Disks@@ From@@ Disk@@ Not@@ Exist@@ (disk@@ Image@@ )@@ ))) { return false@@ ; } return true@@ ; }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model@@ ) { d@@ ri@@ ver.@@ edit@@ (model@@ ); model.get@@ StorageDomain@@ ().get@@ Item@@ s@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { add@@ Disk@@ Al@@ loc@@ ation@@ (model@@ ); } }); model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { java.lang.String pro@@ p@@ Name = ((@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s) (@@ arg@@ s@@ )).@@ proper@@ ty@@ Name@@ ; if ("@@ Message@@ "@@ .equals(@@ pro@@ p@@ Name@@ )) { append@@ Message@@ (model.get@@ Message@@ ()); } } }); model.get@@ Is@@ Sub@@ Template@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { sub@@ Template@@ Exp@@ and@@ er@@ Cont@@ ent.@@ set@@ Visi@@ bl@@ e(@@ model.get@@ Is@@ Sub@@ Template@@ ().getEntity@@ ()); } }); sub@@ Template@@ Exp@@ and@@ er@@ Cont@@ ent.@@ set@@ Visi@@ bl@@ e@@ (@@ false@@ ); }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") public <@@ P extends org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Provider@@ Proxy@@ > P create@@ (org.ovirt.engine.core.common.businessentities.@@ Provider@@ <?@@ > provider@@ ) { return ((@@ (org.ovirt.engine.core.common.businessentities.@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ Provider@@ <@@ P extends org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Provider@@ Proxy@@ >) (@@ provider@@ )@@ ))); }
protected org.ovirt.engine.core.common.businessentities.Storage@@ Pool get@@ StoragePool@@ () { if ((@@ c@@ ach@@ ed@@ StoragePool@@ ) == null@@ ) { c@@ ach@@ ed@@ Storage@@ Pool = get@@ StoragePool@@ DAO@@ ().get@@ (@@ param@@ s.get@@ StoragePool@@ Id()); } return c@@ ach@@ ed@@ StoragePool@@ ; }
public static void m@@ ain@@ (@@ java.lang.String.@@ .@@ . args) { org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ C@@ L@@ I@@ Par@@ s@@ er par@@ s@@ er = null@@ ; try { par@@ s@@ er = new org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ C@@ L@@ I@@ Par@@ ser@@ (); par@@ s@@ er.@@ par@@ s@@ e(@@ arg@@ s); org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ Map arg@@ s@@ Map = par@@ ser@@ .get@@ Engine@@ Config@@ Map@@ (); if ((@@ arg@@ s@@ Map@@ .get@@ Log@@ File@@ ()) != null@@ ) { org.ovirt.engine.core.@@ log@@ utils.@@ J@@ ava@@ Log@@ gin@@ g@@ Utils.@@ add@@ File@@ Handler@@ (@@ arg@@ s@@ Map@@ .get@@ Log@@ File@@ ()); } if ((@@ arg@@ s@@ Map@@ .get@@ Log@@ L@@ ev@@ el@@ ()) != null@@ ) { org.ovirt.engine.core.@@ u@@ utils.@@ J@@ ava@@ Log@@ gin@@ g@@ Utils.@@ set@@ Log@@ L@@ ev@@ el@@ (@@ arg@@ s@@ Map@@ .get@@ Log@@ L@@ ev@@ el@@ ()); } } catch (java.lang.@@ Th@@ row@@ able t@@ ) { java.lang.@@ System@@ .@@ o@@ u@@ t.@@ p@@ r@@ int@@ l@@ n@@ (@@ t.get@@ Message@@ ()); java.lang.@@ System@@ .@@ ex@@ it@@ (@@ 1@@ ); } try { org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config.@@ get@@ Instance@@ ().set@@ Up@@ And@@ Execu@@ te@@ (@@ par@@ ser@@ ); } catch (java.lang.@@ Th@@ row@@ able t@@ ) { org.@@ s@@ l@@ f@@ 4@@ j@@ .@@ Log@@ g@@ er@@ Fac@@ t@@ ory@@ .get@@ Log@@ g@@ er@@ (@@ org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ Execu@@ t@@ or@@ .@@ class@@ ).@@ debug@@ ("@@ Ex@@ it@@ ing wit@@ h error@@ : ", t@@ ); java.lang.@@ System@@ .@@ o@@ u@@ t.@@ p@@ r@@ int@@ l@@ n@@ (@@ t.get@@ Message@@ ()); java.lang.@@ System@@ .@@ ex@@ it@@ (@@ 1@@ ); } }
@java.lang.Override protected org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s get@@ Command@@ Error@@ () { return org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ RE@@ T@@ R@@ I@@ E@@ V@@ E_@@ FAIL@@ U@@ RE@@ ; }
@java.lang.Override protected void Execu@@ te@@ Vds@@ Broker@@ Command() { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Log@@ o@@ ff@@ VDS@@ Command.get@@ Broker@@ ().@@ d@@ es@@ k@@ to@@ p@@ Log@@ o@@ ff@@ (m@@ Vm@@ Id@@ .@@ toString@@ (), java.lang.Boolean@@ .@@ value@@ Of@@ (m@@ For@@ ce@@ ).@@ toString()); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Log@@ o@@ ff@@ VDS@@ Command.@@ Pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); }
private void set@@ t@@ ing@@ Sp@@ e@@ c@@ if@@ ic@@ Networks@@ Allow@@ ed@@ Test@@ (@@ boolean is@@ All@@ Networks@@ Allow@@ ed@@ ) { s@@ im@@ ul@@ ate@@ Nic@@ Exist@@ s(); when(@@ old@@ Vfs@@ Config.@@ is@@ All@@ Networks@@ Allow@@ ed@@ ()).@@ thenReturn(@@ is@@ All@@ Networks@@ Allow@@ ed@@ ); }
@org.junit.Test public void test@@ C@@ DA@@ Vds@@ Is@@ SP@@ M@@ () { vd@@ s.set@@ Sp@@ m@@ Status(@@ Vds@@ Sp@@ m@@ Status.@@ SP@@ M@@ ); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ command@@ , VdcBllMessages.@@ C@@ ANNOT_@@ F@@ OR@@ C@@ E_@@ S@@ E@@ LE@@ C@@ T_@@ SP@@ M@@ _@@ VDS@@ _@@ AL@@ RE@@ AD@@ Y_@@ SP@@ M@@ ); }
@org.junit.Test public void dataCenter@@ Do@@ es@@ n@@ t@@ Exist@@ () throw@@ s java.lang.Exception { do@@ Return@@ (@@ null@@ ).@@ when(@@ valid@@ ator@@ ).get@@ DataCenter@@ (); assert@@ Equals@@ (@@ new org.ovirt.engine.core.bll.ValidationResult@@ (@@ org.ovirt.engine.core.dal.@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ STORAGE_@@ P@@ O@@ OL@@ _@@ NOT_@@ EXIST@@ ).get@@ Message@@ (), validator.@@ dataCenter@@ Exist@@ s().get@@ Message@@ ()); }
@org.junit.Test public void manage@@ ment@@ Network@@ Changed@@ In@@ cor@@ r@@ ect@@ ly@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Network ne@@ t = create@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ SetupNetworks@@ Helper@@ Test.@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ NAM@@ E); mock@@ Existing@@ Network@@ s(@@ net@@ ); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface n@@ ic = create@@ Nic@@ S@@ yn@@ ce@@ d@@ With@@ Network@@ ("@@ nic@@ 0@@ ", net@@ ); nic@@ .set@@ Boot@@ Protocol@@ (@@ Network@@ Boot@@ Protoc@@ ol.@@ ST@@ A@@ TI@@ C@@ _@@ I@@ P@@ ); nic@@ .set@@ Address@@ (@@ new@@ Address@@ ); mock@@ Existing@@ I@@ fac@@ es(@@ nic@@ ); nic@@ .set@@ Address@@ (@@ new@@ Address@@ ); mock@@ Existing@@ I@@ fac@@ es(@@ nic@@ ); int@@ er@@ fac@@ e@@ DAO@@ .get@@ All@@ Interfaces@@ For@@ Vds@@ (m@@ ock@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ ).get@@ (0@@ )@@ .set@@ Address@@ (@@ host@@ Name); org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = mock@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ .@@ class@@ ); when(@@ vds@@ .getId@@ ()).@@ thenReturn(@@ Guid@@ .@@ Empty@@ ); when(@@ vds.get@@ Host@@ Name@@ ()).@@ thenReturn(@@ host@@ Name); org.ovirt.engine.core.bll.network.@@ host.@@ SetupNetworks@@ Help@@ er h@@ el@@ p@@ er = create@@ Helper@@ (c@@ reate@@ Parameters@@ For@@ Nic@@ s(@@ nic@@ ), vds@@ ); validate@@ And@@ Expect@@ Vi@@ ol@@ ation@@ (@@ h@@ el@@ per@@ , VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ AD@@ D@@ RE@@ S@@ S_@@ C@@ ANNOT_@@ B@@ E_@@ C@@ H@@ AN@@ G@@ ED); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Nic@@ Configuration@@ .@@ class@@ , to = org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network@@ .@@ class@@ ) public static org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network map@@ (org.ovirt.engine.api.model.@@ Nic@@ Configur@@ ation model, org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network template@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network enti@@ ty = (@@ templ@@ ate != null@@ ) ? templ@@ ate : new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network@@ (); if (m@@ odel.@@ isSet@@ Name@@ ()) { entity.set@@ Name(@@ model.get@@ Name()); } if (m@@ odel.@@ is@@ On@@ Boot@@ ()) { entity.set@@ Start@@ On@@ Boot@@ (m@@ odel.@@ is@@ On@@ Boot@@ ()); } if (m@@ odel.@@ isSet@@ Boot@@ Protocol@@ ()) { entity.set@@ Boot@@ Protocol@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ Boot@@ Protocol@@ Mapper.@@ map@@ (org.ovirt.engine.api.model.@@ Boot@@ Protoc@@ ol.@@ f@@ rom@@ Value(@@ model.get@@ Boot@@ Protocol@@ ()), Ip@@ v@@ 4@@ Boot@@ Protoc@@ ol.@@ N@@ ON@@ E@@ )); } if (m@@ odel.@@ isSet@@ Ip@@ ()) { if (model.get@@ Ip@@ ().is@@ Set@@ Address@@ ()) { entity.set@@ Ip@@ (model.get@@ Ip@@ ().get@@ Address@@ ()); } if (model.get@@ Ip@@ ().is@@ Set@@ N@@ et@@ m@@ ask@@ ()) { entity.set@@ N@@ et@@ m@@ ask@@ (model.get@@ Ip@@ ().get@@ N@@ et@@ m@@ ask@@ ()); } if (model.get@@ Ip@@ ().is@@ Set@@ G@@ ate@@ w@@ ay@@ ()) { entity.set@@ G@@ ate@@ w@@ ay@@ (model.get@@ Ip@@ ().get@@ G@@ ate@@ w@@ ay@@ ()); } } return entity@@ ; }
@org.junit.Test public void test@@ In@@ sert@@ AsyncTask@@ Enti@@ ti@@ ties@@ () { org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity = gener@@ ate@@ New@@ Entity@@ (); d@@ ao.@@ save@@ (cmd@@ Entity@@ ); java.util.@@ Set@@ <org.ovirt.engine.core.common.businessentities.@@ Command@@ As@@ s@@ oc@@ o@@ C@@ md@@ Entity@@ > c@@ oc@@ o@@ C@@ md@@ Enti@@ ti@@ es = new java.util.Hash@@ Set<@@ >(); c@@ oc@@ o@@ C@@ md@@ Enti@@ ties.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Entity@@ (cmd@@ Entity@@ .get@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ())); c@@ oc@@ o@@ C@@ md@@ Enti@@ ties.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Entity@@ (cmd@@ Entity@@ .get@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ())); d@@ ao.@@ in@@ sert@@ C@@ o@@ C@@ o@@ C@@ md@@ Enti@@ ties@@ (c@@ oc@@ o@@ C@@ md@@ Enti@@ ties@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Entity@@ > enti@@ ti@@ es = d@@ ao@@ .get@@ All@@ C@@ o@@ C@@ md@@ Enti@@ ties@@ (cmd@@ Entity@@ .getId()); assert@@ Not@@ Null@@ (@@ enti@@ ties@@ ); assert@@ Equals@@ (@@ 2@@ , entities.@@ size@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ C@@ o@@ C@@ md@@ Entity enti@@ ty : c@@ oc@@ o@@ C@@ md@@ Enti@@ ties@@ ) { assert@@ True@@ (@@ entities.@@ contains(@@ entity@@ )); } }
public void set@@ In@@ itial@@ Host@@ s(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid> initial@@ Host@@ s) { this@@ .@@ initial@@ Host@@ s = initial@@ Host@@ s@@ ; }
protected void cluster@@ _@@ SelectedItem@@ Changed@@ () { org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = get@@ Cluster@@ ().getSelectedItem@@ (); if (c@@ luster == null@@ ) { return@@ ; } get@@ F@@ enc@@ ing@@ Enabled@@ ().set@@ Entity@@ (cluster@@ .get@@ F@@ enc@@ ing@@ Policy@@ ().is@@ F@@ enc@@ ing@@ Enabled@@ ()); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ P@@ m@@ Type@@ List@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Async@@ Query@@ (@@ ( p@@ m@@ Typ@@ es@@ ) -@@ > update@@ P@@ m@@ Type@@ List(@@ p@@ m@@ Typ@@ es@@ )@@ ), cluster@@ .get@@ CompatibilityVersion@@ ()); if ((@@ (get@@ DataCenter@@ ()) != null@@ ) && ((get@@ DataCenter@@ ().get@@ Item@@ s()) != null@@ )) { for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Pool dat@@ ac@@ en@@ te@@ r : get@@ DataCenter@@ ().get@@ Item@@ s()) { if (@@ dat@@ ac@@ enter@@ .getId@@ ().@@ equals@@ (cluster@@ .get@@ StoragePool@@ Id@@ ())) { get@@ DataCenter@@ ().set@@ SelectedItem@@ (@@ dat@@ ac@@ enter@@ , false@@ ); break@@ ; } } } } final org.ovirt.engine.core.common.utils.@@ Cpu@@ V@@ e@@ n@@ do@@ r new@@ Cpu@@ V@@ e@@ n@@ do@@ r = get@@ C@@ urrent@@ Cpu@@ V@@ e@@ n@@ do@@ r@@ (); if (@@ new@@ Cpu@@ V@@ e@@ n@@ do@@ r != null@@ ) && (!@@ (@@ new@@ Cpu@@ V@@ e@@ n@@ do@@ r@@ .equals(@@ l@@ ast@@ Non@@ Null@@ Cpu@@ V@@ e@@ n@@ do@@ r@@ )@@ ))) { l@@ ast@@ Non@@ Null@@ Cpu@@ V@@ e@@ n@@ do@@ r = new@@ Cpu@@ V@@ e@@ n@@ do@@ r@@ ; cpu@@ V@@ e@@ n@@ do@@ r@@ Changed@@ (); } get@@ Host@@ ed@@ Engine@@ W@@ arning@@ ().setIs@@ Avail@@ able(@@ cluster@@ .get@@ CompatibilityVersion@@ ().@@ l@@ ess@@ (@@ Version@@ .@@ v@@ 4@@ _@@ 0@@ )); get@@ Network@@ Provider@@ Model@@ ().set@@ Default@@ Provider@@ By@@ Id@@ (cluster@@ .get@@ Default@@ Network@@ Provider@@ Id()); } }
@@@ org.ovirt.engine.ui.uicompat.@@ Default@@ Message@@ ("@@ {0@@ } g@@ reate@@ r th@@ an {@@ 1@@ }@@ .@@ ") java.lang.String int@@ e@@ g@@ er@@ Validation@@ Num@@ ber@@ G@@ re@@ at@@ er@@ In@@ valid@@ Reason@@ (java.lang.String pre@@ fi@@ x@@ M@@ s@@ g@@ , long min@@ );
private void init@@ All@@ Model@@ s@@ (@@ boolean f@@ ree@@ Label@@ s) { if (@@ f@@ ree@@ Label@@ s == null@@ ) { return@@ ; } f@@ ree@@ Label@@ s.@@ remove@@ All@@ (@@ label@@ To@@ I@@ fac@@ e.@@ key@@ Set@@ ()); }
@java.lang.Override public long save@@ (org.ovirt.engine.core.common.businessentities.@@ Engine@@ S@@ ess@@ ion s@@ ession@@ ) { org.ovirt.engine.core.dao.@@ Engine@@ Session@@ Dao@@ Impl.@@ Engine@@ Session@@ Parameter@@ Source parameter@@ Source = get@@ Engine@@ Session@@ Parameter@@ Source@@ (s@@ ession@@ ); return ((@@ java.lang.Integer@@ ) (get@@ Call@@ sHandler@@ ().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ In@@ sert@@ Engine@@ Session@@ ", parameter@@ Source@@ ).get@@ ("@@ id@@ "@@ )@@ )@@ .@@ long@@ Value@@ (); }
void init@@ (java.lang.String ti@@ t@@ le@@ , java.lang.String w@@ id@@ th@@ , java.lang.String h@@ e@@ ig@@ ht@@ , boolean res@@ ize@@ Enabled@@ );
private void end@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > list@@ Vm@@ s = get@@ Vms@@ For@@ Disk@@ Id@@ (); org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ En@@ d@@ Action(VdcActionType.@@ Remove@@ Image@@ , org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Command.getParameters().get@@ Images@@ Parameters().get@@ (0@@ )); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : list@@ Vm@@ s) { org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Command.getVm@@ DAO@@ ().@@ in@@ c@@ re@@ ment@@ Vm@@ Db@@ Gener@@ ation@@ (vm.get@@ Id()); } org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
private org.ovirt.engine.core.common.businessentities.VM get@@ Vm@@ For@@ Operation@@ () { return get@@ Vm@@ For@@ Operation@@ (@@ null@@ ); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ N@@ u@@ m of V@@ F@@ s set@@ t@@ ing@@ ") java.lang.String num@@ Of@@ Vfs@@ Set@@ t@@ ing@@ ();
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.common.@@ job.@@ Step@@ > get@@ Step@@ sBy@@ Job@@ Id(@@ org.ovirt.engine.core.compat.Guid job@@ Id) { return org.ovirt.engine.core.bll.@@ job.@@ Step@@ .@@ log.info@@ ("@@ Stor@@ age Step@@ : {}@@ ", job@@ Id); }
@org.junit.Test public void test@@ List@@ _@@ L@@ im@@ it@@ Result@@ s() throw@@ s java.lang.Exception { javax.ws.rs.@@ core.@@ U@@ ri@@ In@@ fo ur@@ i@@ In@@ fo = setUp@@ U@@ ri@@ Expectation@@ sWith@@ Max@@ (); setUp@@ Query@@ Expectation@@ s@@ ("@@ "); c@@ oll@@ ection@@ .set@@ U@@ ri@@ Info@@ (@@ ur@@ i@@ Info@@ ); java.util.List<@@ org.ovirt.engine.api.model.@@ Tag@@ > result@@ s = get@@ Collection@@ (); assert@@ Not@@ Null@@ (c@@ oll@@ ection@@ ); assert@@ Equals@@ (@@ 2@@ , result@@ s.@@ size@@ ()); }
protected void h@@ andle@@ E@@ s@@ c@@ ap@@ e@@ Key@@ () { b@@ e@@ for@@ e@@ Command@@ Execu@@ ted@@ (model.get@@ Cancel@@ Command@@ ()); model@@ Command@@ In@@ vo@@ k@@ er.@@ in@@ vo@@ ke@@ Cancel@@ Command@@ (); }
private static java.util.List<@@ org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ User@@ > query@@ P@@ rin@@ c@@ ip@@ als@@ (@@ final org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Ex@@ ten@@ sion@@ Pro@@ x@@ y extension@@ , final java.lang.String nam@@ es@@ p@@ ace@@ , final org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map filter@@ , boolean r@@ ec@@ ur@@ si@@ ve@@ Group@@ s@@ Res@@ ol@@ v@@ ing@@ ) { org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map in@@ put@@ Map = new org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ ().@@ m@@ put(@@ Auth@@ z@@ .@@ In@@ vo@@ ke@@ Key@@ s.@@ Q@@ U@@ ER@@ Y_@@ EN@@ TI@@ TY@@ , Auth@@ z@@ .@@ Query@@ Entity@@ .@@ P@@ R@@ IN@@ C@@ I@@ P@@ AL@@ )@@ .m@@ put(@@ Auth@@ z@@ .@@ In@@ vo@@ ke@@ Key@@ s.@@ RE@@ S@@ OL@@ V@@ E_@@ G@@ RO@@ UP@@ S_@@ RE@@ C@@ UR@@ SI@@ V@@ E, r@@ ec@@ ur@@ si@@ ve@@ Group@@ s@@ Res@@ ol@@ v@@ ing@@ )@@ .m@@ put(@@ Auth@@ z@@ .@@ In@@ vo@@ ke@@ Key@@ s.@@ RE@@ S@@ OL@@ V@@ E_@@ G@@ RO@@ UP@@ S@@ , r@@ ec@@ ur@@ si@@ ve@@ Group@@ s@@ Res@@ ol@@ v@@ ing@@ )@@ .m@@ put(@@ Auth@@ z@@ .@@ In@@ vo@@ ke@@ Key@@ s.@@ Q@@ U@@ ER@@ Y_@@ F@@ IL@@ TER@@ , filter@@ )@@ .m@@ put(@@ Auth@@ z@@ .@@ In@@ vo@@ ke@@ Key@@ s.@@ NAM@@ ES@@ P@@ AC@@ E, nam@@ es@@ p@@ ace@@ ); return org.ovirt.engine.core.@@ aaa.@@ Auth@@ z@@ Utils.@@ p@@ op@@ ul@@ ate@@ P@@ rin@@ c@@ ip@@ als@@ (@@ extension@@ , nam@@ es@@ p@@ ace@@ , in@@ put@@ Map@@ ); }
@java.lang.Override protected void Execu@@ te@@ I@@ r@@ s@@ Broker@@ Command() { u@@ uid@@ Retur@@ n = org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.get@@ I@@ r@@ s@@ Proxy@@ ().@@ m@@ er@@ ge@@ Snapshot@@ s(@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.getParameters().get@@ StorageDomain@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.getParameters().get@@ StoragePool@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.getParameters().get@@ Vm@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.getParameters().get@@ ImageGroup@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.getParameters().get@@ Image@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.getParameters().get@@ Image@@ Id@@ 2@@ ().@@ toString@@ (), java.lang.Boolean@@ .@@ value@@ Of@@ (@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.getParameters().get@@ P@@ ost@@ Z@@ er@@ o@@ ()).@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ()); org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.@@ Pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); org.ovirt.engine.core.compat.Guid task@@ I@@ D = new org.ovirt.engine.core.compat.Guid@@ (@@ u@@ uid@@ Return@@ .m@@ U@@ uid@@ ); org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Cre@@ ation@@ Info@@ (@@ new org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Cre@@ ation@@ Info@@ (@@ task@@ ID@@ , org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Type.@@ m@@ er@@ ge@@ Snapshot@@ s, org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ M@@ er@@ ge@@ Snapshots@@ VDS@@ Command.getParameters().get@@ StoragePool@@ Id@@ ())); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ C@@ luster cluster@@ ) { validate@@ Parameters@@ (cluster@@ , "@@ name@@ ", "@@ data@@ C@@ enter.@@ name@@ |@@ id@@ "); validate@@ Enum@@ s(@@ org.ovirt.engine.api.model.@@ Cluster@@ .@@ class@@ , cluster@@ ); org.ovirt.engine.core.common.businessentities.Storage@@ Pool p@@ oo@@ l = org.ovirt.engine.api.restapi.resource.@@ Backend@@ DataCenter@@ Res@@ ourc@@ e.get@@ StoragePool@@ (cluster@@ , this@@ ); org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group enti@@ ty = map@@ (cluster@@ , map@@ (@@ pool@@ )); if ((!@@ (c@@ luster.@@ isSet@@ Error@@ Handl@@ ing@@ ())) || (!@@ (cluster@@ .get@@ Error@@ Handl@@ ing@@ ().is@@ Set@@ On@@ Error@@ ()))) { org.ovirt.engine.core.common.businessentities.@@ Migrate@@ On@@ Error@@ Option@@ s res@@ il@@ i@@ ence@@ P@@ olic@@ y = get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ Migrate@@ On@@ Error@@ Option@@ s@@ .@@ class@@ , VdcQuery@@ Type.Get@@ Default@@ Res@@ il@@ i@@ ence@@ Policy@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Default@@ Res@@ il@@ i@@ ence@@ Policy@@ Parameters(@@ entity@@ ), "@@ "); entity.set@@ Migrate@@ On@@ Error@@ (@@ res@@ il@@ i@@ ence@@ Policy@@ ); } return p@@ er@@ for@@ m@@ Create@@ (VdcActionType.@@ Add@@ VdsGroup@@ , new org.ovirt.engine.core.common.action.@@ VdsGroup@@ Operation@@ Parameters(@@ entity@@ ), new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <@@ org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ VdsGroup@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ )); }
@org.junit.Test public void test@@ Is@@ Network@@ In@@ Sync@@ W@@ h@@ en@@ Ip@@ Configuration@@ Is@@ Empty@@ () throw@@ s java.lang.Exception { when@@ (m@@ ock@@ ed@@ Ip@@ Configuration@@ .@@ has@@ P@@ ri@@ mar@@ y@@ Ip@@ v@@ 4@@ Address@@ Set@@ ()).@@ then@@ Return@@ (@@ false@@ ); assert@@ That@@ (c@@ reate@@ Tes@@ ted@@ Instance@@ ().is@@ Network@@ In@@ Sync@@ (), is@@ (@@ true@@ )); }
private java.lang.Integ@@ er get@@ Au@@ to@@ Max@@ B@@ and@@ w@@ id@@ th@@ () { if (get@@ Source@@ Cluster@@ Id().@@ equals@@ (get@@ Dest@@ ination@@ Cluster@@ Id@@ ())) { return get@@ Au@@ to@@ Max@@ B@@ and@@ w@@ id@@ th@@ For@@ Cluster@@ (get@@ Source@@ Cluster@@ Id()); } return org.ovirt.engine.core.bll.@@ Migrate@@ Vm@@ Command@@ .m@@ in@@ If@@ Exist@@ s@@ (get@@ Au@@ to@@ Max@@ B@@ and@@ w@@ id@@ th@@ For@@ Cluster@@ (get@@ Source@@ Cluster@@ Id@@ ()), get@@ Au@@ to@@ Max@@ B@@ and@@ w@@ id@@ th@@ For@@ Cluster@@ (get@@ Dest@@ ination@@ Cluster@@ Id@@ ())); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ UP@@ D@@ AT@@ E); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ IS@@ C@@ SI@@ _@@ B@@ ON@@ D@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > get@@ All@@ (org.ovirt.engine.core.compat.Guid user@@ ID@@ , boolean is@@ Filter@@ ed@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > vds@@ List = get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ All@@ From@@ Vds@@ ", org.ovirt.engine.core.dao.@@ Vds@@ Dao@@ Impl.@@ Vds@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ user@@ _id", user@@ ID@@ ).@@ addValue("@@ is@@ _@@ filter@@ ed@@ ", is@@ Filter@@ ed@@ )); return un@@ i@@ te@@ Agent@@ s(@@ vds@@ List@@ ); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { java.lang.String storageDomain@@ Id = Create@@ V@@ G@@ VDS@@ Command.getParameters().get@@ StorageDomain@@ Id().@@ toString@@ (); java.util.List<java.lang.String> de@@ vice@@ List = Create@@ V@@ G@@ VDS@@ Command.getParameters().get@@ Device@@ List@@ (); java.lang.String@@ [@@ ] de@@ vice@@ Arr@@ a@@ y = de@@ vice@@ List.@@ to@@ Array@@ (@@ new java.lang.String@@ [@@ de@@ vice@@ List.@@ size@@ ()@@ ]@@ ); boolean is@@ For@@ c@@ e = Create@@ V@@ G@@ VDS@@ Command.get@@ Parameters@@ ().is@@ For@@ ce@@ (); boolean sup@@ port@@ For@@ ce@@ Create@@ V@@ G = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ Sup@@ port@@ For@@ ce@@ Create@@ V@@ G@@ , Create@@ V@@ G@@ VDS@@ Command.get@@ Vds@@ ().get@@ VdsGroup@@ CompatibilityVersion@@ ().@@ toString()); _@@ result = (s@@ up@@ port@@ For@@ ce@@ Create@@ V@@ G@@ ) ? Create@@ V@@ G@@ VDS@@ Command.get@@ Broker@@ ().@@ create@@ V@@ G@@ (@@ storageDomain@@ Id, de@@ vice@@ Array@@ , is@@ For@@ ce@@ ) : Create@@ V@@ G@@ VDS@@ Command.get@@ Broker@@ ().@@ create@@ V@@ G@@ (@@ storageDomain@@ Id, de@@ vice@@ Array@@ ); Create@@ V@@ G@@ VDS@@ Command.@@ pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); set@@ ReturnValue@@ (@@ _@@ result.@@ u@@ uid@@ ); }
org.ovirt.engine.core.bll.ValidationResult network@@ s@@ Un@@ i@@ q@@ ue@@ ly@@ Configur@@ ed@@ On@@ Host@@ (@@ java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > attach@@ ment@@ sTo@@ Configur@@ e) { java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> us@@ ed@@ Network@@ Id@@ s = new java.util.Hash@@ Set@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e.@@ size@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent attach@@ m@@ ent : attach@@ ment@@ sTo@@ Configur@@ e) { boolean al@@ read@@ y@@ Us@@ ed@@ Network@@ Id = us@@ ed@@ Network@@ Id@@ s.@@ contains(@@ attach@@ m@@ ent.get@@ Network@@ Id()); if (@@ al@@ read@@ y@@ Us@@ ed@@ Network@@ Id) { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = existing@@ Network@@ R@@ el@@ ated@@ To@@ Attachment@@ (@@ attach@@ ment@@ ); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ NETWOR@@ K@@ S_@@ AL@@ RE@@ AD@@ Y_@@ AT@@ T@@ AC@@ H@@ ED_@@ TO@@ _@@ I@@ F@@ AC@@ ES@@ , org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Host@@ SetupNetworks@@ Validator.@@ VAR@@ _@@ NETWOR@@ K@@ S_@@ AL@@ RE@@ AD@@ Y_@@ AT@@ T@@ AC@@ H@@ ED_@@ TO@@ _@@ I@@ F@@ AC@@ E@@ S_@@ L@@ IST@@ , network@@ .getName@@ ())); } else { us@@ ed@@ Network@@ Id@@ s.add(@@ attach@@ m@@ ent.get@@ Network@@ Id()); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
private void init@@ () { set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ edit@@ Log@@ ical@@ Network@@ Title@@ ()); set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ edit@@ _@@ log@@ ical@@ _@@ network@@ ); set@@ Hash@@ Name@@ ("@@ edit@@ _@@ log@@ ical@@ _@@ network@@ "); if (is@@ Manage@@ m@@ et@@ ()) { get@@ Name@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); } get@@ Description@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ Description@@ ()); get@@ Comm@@ ent@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ Comm@@ ent@@ ()); get@@ Is@@ St@@ p@@ Enabled@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ St@@ p@@ ()); get@@ H@@ as@@ V@@ L@@ an@@ Tag@@ ().set@@ Entity@@ ((@@ (get@@ Network@@ ().get@@ V@@ lan@@ Id()) != null@@ )); get@@ V@@ L@@ an@@ Tag@@ ().set@@ Entity@@ ((@@ (get@@ Network@@ ().get@@ V@@ lan@@ Id()) == null ? java.lang.Integ@@ er.@@ value@@ Of@@ (0@@ ) : get@@ Network@@ ().get@@ V@@ lan@@ Id@@ ())); init@@ M@@ tu@@ (); init@@ Is@@ Vm@@ (); get@@ Export@@ ().set@@ Entity@@ (get@@ Network@@ ().is@@ External@@ ()); get@@ Export@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ External@@ Provi@@ d@@ ers@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Network@@ Label@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); }
private void c@@ ommon@@ S@@ ave@@ (@@ boolean all@@ Networks@@ Allow@@ ed@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Nic@@ Vfs@@ Confi@@ g new@@ Confi@@ g = new org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Nic@@ Vfs@@ Config@@ (); new@@ Config.@@ set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); new@@ Config.@@ set@@ Nic@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ VDS@@ _@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E@@ 2@@ ); new@@ Config.@@ set@@ Max@@ Num@@ Of@@ V@@ f@@ s(@@ 1@@ 0@@ ); new@@ Config.@@ set@@ Num@@ Of@@ V@@ f@@ s(@@ 1@@ 0@@ ); new@@ Config.@@ set@@ Num@@ Of@@ F@@ ree@@ V@@ f@@ s(@@ 1@@ 0@@ ); new@@ Config.@@ set@@ All@@ Networks@@ Allow@@ ed(@@ all@@ Networks@@ Allow@@ ed@@ ); if (!@@ all@@ Networks@@ Allow@@ ed@@ ) { add@@ Networks@@ (@@ new@@ Config@@ ); add@@ Label@@ s@@ (@@ new@@ Config@@ ); } d@@ ao.@@ save@@ (@@ new@@ Config@@ ); org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Nic@@ Vfs@@ Confi@@ g result = d@@ ao@@ .get@@ (@@ new@@ Config.@@ get@@ Id()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ Host@@ Nic@@ Vfs@@ Config@@ (@@ new@@ Config@@ , result@@ ); }
@java.lang.Override protected void build@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Update@@ Network@@ Command.@@ R@@ en@@ ame@@ Network@@ Parameters@@ Builder@@ .get@@ Vds@@ DAO@@ ().get@@ AllFor@@ Network@@ (network@@ .getId()); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { if (!(@@ set@@ up@@ Network@@ Supported@@ (@@ host@@ ))) { continue@@ ; } org.ovirt.engine.core.common.action.@@ SetupNetworks@@ Parameters set@@ up@@ Network@@ Param@@ s = create@@ SetupNetworks@@ Parameters(@@ host@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > nic@@ s = set@@ up@@ Network@@ Param@@ s.get@@ Interfaces@@ (); for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface n@@ ic : nic@@ s) { if (@@ org.apache.commons.lang.StringUtils.@@ equals(@@ nic@@ .get@@ Network@@ Name(), get@@ O@@ l@@ d@@ Network@@ ().get@@ Name@@ ())) { nic@@ .set@@ Network@@ Name(@@ network@@ .get@@ Name()); break@@ ; } } get@@ Parameters@@ ().@@ add(@@ set@@ up@@ Network@@ Param@@ s); } }
private org.ovirt.engine.core.bll.ValidationResult disk@@ Images@@ Not@@ In@@ Status@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status status@@ , org.ovirt.engine.core.common.errors.@@ EngineMess@@ age fail@@ Message@@ ) { java.util.List<java.lang.String> disk@@ s@@ In@@ Status = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image : disk@@ Images@@ ) { if ((@@ disk@@ Image.get@@ Image@@ Status()) == status@@ ) { disk@@ s@@ In@@ Status.@@ add(@@ disk@@ Image.get@@ Disk@@ Alias@@ ()); } } if (!(@@ disk@@ s@@ In@@ Status.@@ isEmpty@@ ())) { return new org.ovirt.engine.core.bll.ValidationResult@@ (@@ fail@@ Message@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ disk@@ Al@@ i@@ ase@@ s %@@ s", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (disk@@ s@@ In@@ Status@@ , ", "@@ ))); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public void set@@ VdsGroup@@ Sup@@ port@@ s@@ Vir@@ t@@ Ser@@ ice@@ (@@ boolean value@@ ) { this@@ .@@ vds@@ Group@@ Vir@@ t@@ Ser@@ ic@@ e = value@@ ; }
protected boolean fail@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ Hot@@ Plug@@ () { if ((@@ org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Interface@@ Type.@@ pc@@ i@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ) == (org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Interface@@ Type@@ .@@ for@@ Value@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Ac@@ tivate@@ De@@ ac@@ tivate@@ Vm@@ Nic@@ Command.getParameters().get@@ Nic@@ ().get@@ Type@@ ()))) { add@@ Validation@@ Message@@ (EngineMessage.@@ HO@@ T_@@ P@@ LU@@ G@@ _@@ UN@@ P@@ LU@@ G@@ _P@@ A@@ S@@ ST@@ H@@ RO@@ U@@ G@@ H@@ _@@ V@@ N@@ IC@@ _@@ NOT_@@ SUP@@ PORT@@ ED); return true@@ ; } return false@@ ; }
private boolean au@@ ditLog@@ If@@ Fiel@@ d@@ W@@ as@@ Not@@ Ad@@ ded@@ Success@@ f@@ ull@@ y@@ (@@ java.util.Map<java.lang.String, java.lang.Object> d@@ escription@@ Fiel@@ ds@@ , java.util.Map<java.lang.String, java.lang.Object> d@@ escription@@ Map@@ , java.lang.String fi@@ el@@ d@@ Name, java.lang.String fi@@ el@@ d@@ Value@@ , java.lang.String@@ [@@ ] d@@ escription@@ Fiel@@ ds@@ P@@ ri@@ or@@ ity@@ , int fi@@ el@@ d@@ P@@ ri@@ or@@ ity@@ In@@ dex@@ ) { java.lang.String disk@@ Al@@ i@@ a@@ s = d@@ escription@@ Fiel@@ ds@@ .get@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler.@@ DIS@@ K_@@ AL@@ I@@ A@@ S@@ ).@@ toString@@ (); java.lang.String stor@@ ed@@ Fiel@@ d@@ Value = ((@@ java.lang.String@@ ) (@@ d@@ escription@@ Map@@ .get(@@ fi@@ el@@ d@@ Name@@ ))); if (@@ stor@@ ed@@ Fiel@@ d@@ Value == null@@ ) { au@@ ditLog@@ Fail@@ ed@@ To@@ St@@ ore@@ Disk@@ Fiel@@ ds@@ (disk@@ Alias@@ , get@@ Disk@@ Fiel@@ ds@@ Names@@ Le@@ f@@ t@@ (@@ d@@ escription@@ Fiel@@ ds@@ P@@ ri@@ or@@ ity@@ , fi@@ el@@ d@@ P@@ ri@@ or@@ ity@@ In@@ dex@@ )); return false@@ ; } else { java.lang.String f@@ ull@@ Fiel@@ d@@ Value = (@@ st@@ ring@@ Match@@ es@@ As@@ c@@ i@@ P@@ at@@ ter@@ n@@ (@@ fi@@ el@@ d@@ Value@@ )) ? fi@@ el@@ d@@ Value : enc@@ ode@@ Disk@@ Property@@ (@@ fi@@ el@@ d@@ Value@@ ); if ((@@ stor@@ ed@@ Fiel@@ d@@ Valu@@ e.@@ l@@ ength@@ ()) < (@@ f@@ ull@@ Fiel@@ d@@ Valu@@ e.@@ l@@ ength@@ ())) { if (((@@ d@@ escription@@ Fiel@@ ds@@ P@@ ri@@ or@@ ity@@ .@@ l@@ ength@@ ) - fi@@ el@@ d@@ P@@ ri@@ or@@ ity@@ In@@ dex@@ ) > 1@@ ) { au@@ ditLog@@ Disk@@ Fiel@@ d@@ Tr@@ un@@ c@@ ated@@ And@@ O@@ th@@ ers@@ W@@ er@@ e@@ L@@ ost@@ (disk@@ Alias@@ , fi@@ el@@ d@@ Name, get@@ Disk@@ Fiel@@ ds@@ Names@@ Le@@ f@@ t@@ (@@ d@@ escription@@ Fiel@@ ds@@ P@@ ri@@ or@@ ity@@ , (@@ fi@@ el@@ d@@ P@@ ri@@ or@@ ity@@ In@@ de@@ x + 1@@ ))); } else { au@@ ditLog@@ Disk@@ Fiel@@ d@@ Tr@@ un@@ c@@ ated@@ (disk@@ Alias@@ , fi@@ el@@ d@@ Name); } return false@@ ; } return true@@ ; }
private org.ovirt.engine.core.common.action.@@ Custom@@ Properties@@ For@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ > nic@@ sTo@@ Custom@@ Properties@@ (@@ java.util.List<@@ org.ovirt.engine.api.model.@@ Host@@ N@@ IC@@ > host@@ Nic@@ s) { org.ovirt.engine.core.common.action.@@ Custom@@ Properties@@ For@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ > result = new org.ovirt.engine.core.common.action.@@ Custom@@ Properties@@ For@@ (); for (org.ovirt.engine.api.model.@@ Host@@ N@@ I@@ C host@@ N@@ ic : host@@ Nic@@ s) { if (@@ host@@ Nic@@ .is@@ Set@@ Properties@@ ()) { result.@@ add(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (@@ host@@ Nic@@ .getId@@ ()), org.ovirt.engine.api.restapi.@@ utils.@@ Custom@@ Properties@@ Par@@ s@@ er.@@ to@@ Map@@ (@@ host@@ Nic@@ .get@@ Properties@@ ())); } } return result@@ ; }
public org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Popup@@ Widget@@ Confi@@ g c@@ opy@@ () { org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Popup@@ Widget@@ Confi@@ g c@@ op@@ y = new org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Popup@@ Widget@@ Config@@ (@@ ad@@ v@@ ance@@ d@@ Only@@ , al@@ w@@ ay@@ s@@ H@@ id@@ d@@ en@@ , mar@@ k@@ ed@@ As@@ Sp@@ ec@@ ial@@ , admin@@ Only@@ ); c@@ opy@@ .set@@ Ap@@ plication@@ L@@ ev@@ el@@ Visi@@ bl@@ e(@@ is@@ Ap@@ plication@@ L@@ ev@@ el@@ Visi@@ bl@@ e@@ ()); return c@@ opy@@ ; }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ $@@ ac@@ tion st@@ o@@ p f@@ res@@ h c@@ ap@@ ab@@ il@@ i@@ ties@@ ") java.lang.String VAR__@@ ACTION_@@ _@@ G@@ EN@@ T_@@ C@@ A@@ P@@ AB@@ IL@@ I@@ TI@@ ES@@ ();
@org.junit.Test public void test@@ Validate@@ Cluster@@ Sup@@ port@@ For@@ Vir@@ ti@@ oS@@ csi@@ () { org.ovirt.engine.core.bll.@@ ImportVm@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ > c@@ m@@ d = set@@ up@@ Disk@@ Sp@@ ace@@ Test@@ (c@@ reate@@ Parameters@@ ()); do@@ Return@@ (@@ true@@ ).when@@ (cmd@@ ).@@ validate@@ Images@@ (@@ any@@ (java.util.@@ Map@@ .@@ class@@ )); cmd@@ .get@@ Parameters().get@@ Vm().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ().@@ iter@@ ator@@ ().@@ ne@@ xt@@ ().set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _S@@ C@@ SI@@ ); cmd@@ .get@@ VdsGroup@@ ().set@@ CompatibilityVersion@@ (@@ Version@@ .@@ v@@ 3@@ _@@ 2@@ ); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ cmd@@ , EngineMessage.@@ V@@ I@@ R@@ TI@@ O@@ _S@@ C@@ SI@@ _@@ IN@@ TER@@ F@@ AC@@ E_@@ I@@ S_NOT_@@ A@@ V@@ A@@ IL@@ AB@@ L@@ E_@@ F@@ OR@@ _C@@ LUSTER_@@ LE@@ V@@ E@@ L@@ ); }
@org.junit.Test public void test@@ Det@@ ach@@ ing@@ Pre@@ vi@@ o@@ us@@ ly@@ Ad@@ ded@@ NetworkAttachment@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent network@@ Attachm@@ ent = org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Operation@@ .@@ new@@ NetworkAttachment@@ (network@@ A@@ , nic@@ A@@ ); network@@ Attachm@@ ent = org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Operation@@ .@@ new@@ NetworkAttachment@@ (network@@ A@@ , nic@@ A@@ ); network@@ Attachm@@ ent.@@ add(@@ network@@ Attachment@@ ); when(@@ log@@ ical@@ Network@@ Model@@ Of@@ Network@@ A@@ .@@ has@@ V@@ lan@@ ()).@@ then@@ Return@@ (@@ false@@ ); when(@@ log@@ ical@@ Network@@ Model@@ Of@@ Network@@ A@@ .is@@ Attached@@ ()).@@ then@@ Return@@ (@@ true@@ ); Network@@ Oper@@ ation.@@ D@@ ET@@ AC@@ H@@ _@@ NETWOR@@ K@@ .get@@ T@@ arget@@ ().execute@@ Network@@ Command(@@ log@@ ical@@ Network@@ Model@@ Of@@ Network@@ A@@ , null@@ , data@@ From@@ Host@@ SetupNetworks@@ Model@@ ); assert@@ That@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ us@@ ly@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ us@@ ly@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ us@@ ly@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ us@@ ly@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ us@@ ly@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ us@@ ly@@ O@@ ri@@ gin@@ Type@@ )); assert@@ That@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ us@@ ly@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ us@@ ly@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ us@@ ly@@ (@@ data@@ From@@
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ per@@ mission@@ s get@@ For@@ Role@@ And@@ Ad@@ Element@@ And@@ Object@@ With@@ Group@@ Check@@ (org.ovirt.engine.core.compat.Guid ro@@ le@@ id@@ , org.ovirt.engine.core.compat.Guid el@@ em@@ enti@@ d@@ , org.ovirt.engine.core.compat.Guid objec@@ ti@@ d@@ ) { org.@@ h@@ i@@ ber@@ n@@ at@@ e.@@ Query quer@@ y = get@@ Session@@ ().@@ create@@ Query@@ ("@@ f@@ ro@@ m Db@@ Us@@ er wh@@ er@@ e id = :@@ id@@ "); query@@ .set@@ Parameter("@@ id@@ ", objec@@ ti@@ d@@ ); org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er us@@ er = ((org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ ) (@@ query@@ .@@ un@@ i@@ q@@ ue@@ Result@@ ())); quer@@ y = get@@ Session@@ ().@@ create@@ Query@@ ("@@ f@@ ro@@ m ad@@ _@@ group@@ s wh@@ er@@ e nam@@ e in :@@ nam@@ es@@ "); query@@ .set@@ Parameter@@ List@@ ("@@ nam@@ es@@ ", user@@ .get@@ Group@@ s@@ As@@ Array@@ ()); @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") java.util.List<org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group@@ > group@@ s = query@@ .@@ list@@ (); java.util.List<@@ org.ovirt.engine.core.compat.Guid> id@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid@@ >(); id@@ s.add(@@ user@@ .get@@ user@@ _id@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group g@@ roup : group@@ s) { id@@ s.add(@@ group@@ .get@@ id@@ ()); } return fil@@ l@@ In@@ Permission@@ Detail@@ s(@@ fin@@ d@@ O@@ ne@@ By@@ C@@ r@@ iter@@ i@@ a@@ (@@ org.@@ h@@ i@@ ber@@ n@@ at@@ e.c@@ r@@ iter@@ ion@@ .@@ Res@@ tr@@ ic@@ tion@@ s.@@ e@@ q@@ ("@@ ro@@ le@@ Id@@ ", ro@@ le@@ id@@ ), org.@@ h@@ i@@ ber@@ n@@ at@@ e.c@@ r@@ ion@@ .@@ Res@@ tr@@ ic@@ tion@@ s.@@ e@@ q@@ ("@@ ad@@ Element@@ Id@@ ", el@@ em@@ enti@@ d@@ ), org.@@ h@@ i@@ ber@@ n@@ at@@ e.c@@ r@@ iter@@ ion@@ .@@ Res@@ tr@@ ic@@ tion@@ s.@@ e@@ q@@ ("@@ object@@ Id@@ ", objec@@ ti@@ d@@ ), org.@@ h@@ i@@ ber@@ n@@ at@@ e.c@@ r@@ iter@@ ion@@ .@@ Res@@ tr@@ ic@@ tion@@ s.@@ in@@ ("@@ ad@@ Element@@ Id@@ ", id@@ s@@ ))); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > get@@ Host@@ s@@ For@@ Storage@@ Operation@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id, boolean local@@ F@@ s@@ Only@@ ) { if ((@@ storagePool@@ Id == null@@ ) || (@@ storagePool@@ Id@@ .equals(@@ Guid@@ .@@ Empty@@ ))) { storagePool@@ Id = null@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > vds@@ List = get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ get@@ Host@@ s@@ For@@ Storage@@ Operation@@ ", org.ovirt.engine.core.dao.@@ Vds@@ Dao@@ Impl.@@ Vds@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ storage_@@ pool@@ _id", storagePool@@ Id@@ ).@@ addValue("@@ local@@ _@@ fs@@ _@@ on@@ ly@@ ", local@@ F@@ s@@ Only@@ )); return un@@ i@@ te@@ Agent@@ s(@@ vds@@ List@@ ); }
public void set@@ Template@@ Changed@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.Boolean@@ > template@@ Changed@@ ) { this@@ .@@ template@@ Chang@@ ed = template@@ Changed@@ ; }
@java.lang.Override java.lang.String get@@ Sub@@ Collection@@ s@@ Var@@ i@@ abl@@ es@@ () { java.util.Map<java.lang.String, org.ovirt.engine.@@ sd@@ k.@@ c@@ ode@@ g@@ en@@ .@@ h@@ ol@@ der@@ s.@@ Collection@@ H@@ ol@@ der@@ > sub@@ Collection@@ s = get@@ Sub@@ c@@ oll@@ ection@@ s(); java.util.List<java.lang.String> key@@ s = new java.util.Array@@ List@@ (s@@ ub@@ Collection@@ s.@@ key@@ Set@@ ()); java.util.Collections.@@ s@@ ort@@ (@@ key@@ s); java.lang.String@@ Buil@@ der bu@@ ff@@ er = new java.lang.String@@ Builder@@ (); java.util.Map<java.lang.String, org.ovirt.engine.@@ sd@@ k.@@ c@@ ode@@ g@@ en@@ .@@ h@@ ol@@ der@@ > sub@@ Collection@@ s = get@@ Sub@@ c@@ oll@@ ection@@ s(); java.util.List<java.lang.String> key@@ s = new java.util.Array@@ List@@ (s@@ ub@@ Collection@@ s.@@ key@@ Set@@ ()); java.util.Collections.@@ s@@ ort@@ (@@ key@@ s); java.lang.String@@ Buil@@ der ke@@ y : key@@ s) { org.ovirt.engine.@@ sd@@ k.@@ c@@ ode@@ g@@ en@@ .@@ h@@ ol@@ der@@ s.@@ Collection@@ H@@ ol@@ der ch = sub@@ Collection@@ s.get@@ (@@ key@@ ); bu@@ ffer.@@ append@@ (@@ va@@ ri@@ able@@ Templ@@ at@@ e.get@@ Template@@ (@@ ch@@ .get@@ Name(), org.ovirt.engine.@@ sd@@ k.@@ c@@ ode@@ g@@ en@@ .@@ utils.@@ StringUtils.@@ to@@ L@@ ow@@ er@@ C@@ as@@ e(@@ ch@@ .getName@@ ()))); } return bu@@ ffer.@@ toString@@ (); }
@@@ javax.@@ an@@ not@@ ation.@@ P@@ ost@@ Con@@ struc@@ t private void init@@ () { org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ set@@ Execu@@ t@@ or@@ Service@@ (@@ new org.ovirt.engine.core.common.utils.@@ Engine@@ Th@@ read@@ Pool@@ s.@@ Internal@@ Th@@ read@@ Execu@@ t@@ or@@ (@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Integ@@ er@@ ("@@ EN@@ G@@ IN@@ E_@@ TH@@ RE@@ AD@@ _P@@ O@@ OL@@ _@@ M@@ IN_@@ SI@@ Z@@ E@@ "@@ ), org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Integ@@ er@@ ("@@ EN@@ G@@ IN@@ E_@@ TH@@ RE@@ AD@@ _P@@ O@@ OL@@ _@@ MA@@ X@@ _@@ SI@@ Z@@ E@@ "@@ ), org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Integ@@ er@@ ("@@ EN@@ G@@ IN@@ E_@@ TH@@ RE@@ AD@@ _P@@ O@@ OL@@ _@@ Q@@ U@@ E@@ U@@ E_@@ SI@@ Z@@ E@@ "@@ ))); }
protected void add@@ Vm@@ Interfaces@@ () { org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manage@@ r vm@@ Interface@@ Manage@@ r = new org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manager@@ (m@@ ac@@ Pool@@ ); org.ovirt.engine.core.bll.network.@@ vm@@ .@@ VnicProfile@@ Help@@ er vnic@@ Profile@@ Help@@ er = new org.ovirt.engine.core.bll.network.@@ vm@@ .@@ VnicProfile@@ Helper@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ CommandBase.get@@ Cluster@@ Id(), org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ CommandBase.get@@ StoragePool@@ Id(), org.ovirt.engine.core.common.@@ AuditLogType.@@ IM@@ PORT@@ EX@@ POR@@ T_@@ IM@@ POR@@ T_@@ VM_@@ IN@@ VALID@@ _@@ IN@@ TER@@ F@@ AC@@ ES@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > nic@@ s = get@@ Vm().get@@ Interfaces@@ (); vm@@ Interface@@ Manager.@@ s@@ ort@@ Vm@@ Nic@@ s(@@ nic@@ s, get@@ Vm().get@@ StaticData@@ ().get@@ Manage@@ d@@ Device@@ Map@@ ()); if ((!@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ CommandBase.get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ())) && (is@@ External@@ Mac@@ sTo@@ Be@@ Re@@ ported@@ ())) { re@@ port@@ External@@ Mac@@ s(); } for (org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface if@@ ac@@ e : get@@ Vm().get@@ Interfaces@@ ()) { init@@ Interface@@ (@@ if@@ ace@@ ); vnic@@ Profile@@ Helper.@@ update@@ Nic@@ With@@ VnicProfile@@ For@@ User@@ (@@ if@@ ace@@ , org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ CommandBase.get@@ C@@ urrent@@ User@@ ()); boolean re@@ ass@@ ign@@ Ma@@ c = (@@ shoul@@ d@@ Mac@@ Be@@ Re@@ ass@@ ig@@ ne@@ d@@ (@@ if@@ ace@@ )) || (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ CommandBase.get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ()); vm@@ Interface@@ Manager.@@ add@@ (@@ if@@ ace@@ , org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ CommandBase.get@@ Comp@@ ens@@ ation@@ Context@@ (), re@@ ass@@ ign@@ Mac@@ ); m@@ ac@@ s@@ Ad@@ ded@@ .@@ add@@ (@@ if@@ ac@@ e.get@@ Mac@@ Address@@ ()); } vnic@@ Profile@@ Helper.@@ audit@@ In@@ valid@@ Interfaces@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ CommandBase.get@@ Vm@@ Name()); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . I@@ l@@ le@@ g@@ al US@@ B p@@ olic@@ y is provi@@ ded@@ , can@@ not d@@ et@@ er@@ min@@ e wh@@ eth@@ er a le@@ g@@ ac@@ y or h@@ ig@@ h@@ er ${@@ Display@@ Name@@ }@@ . P@@ le@@ g@@ ac@@ y shoul@@ d b@@ e set@@ .@@ ") java.lang.String ACTION_TYPE_FAILED_@@ IL@@ LE@@ G@@ AL@@ _@@ US@@ B@@ _P@@ OL@@ IC@@ Y@@ ();
private void assert@@ C@@ red@@ enti@@ als@@ (org.ovirt.engine.core.common.@@ utils.@@ Pair@@ <@@ java.lang.String, java.lang.String> c@@ red@@ enti@@ als@@ , java.lang.String user@@ Name, java.lang.String p@@ assword@@ ) { assert@@ Equals@@ (@@ user@@ Name, c@@ red@@ enti@@ als@@ .get@@ F@@ ir@@ st@@ ()); assert@@ Equals@@ (p@@ assword@@ , c@@ red@@ enti@@ als@@ .get@@ Sec@@ ond@@ ()); }
@java.lang.Override public void update@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ () { if ((@@ (get@@ Model().get@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ ().getEntity@@ ()) != null@@ ) && ((get@@ Vm().get@@ Mem@@ Size@@ M@@ b@@ ()) == (get@@ Model().get@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ ().getEntity@@ ()))) { getModel().get@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ ().set@@ Entity@@ (get@@ Model().get@@ Mem@@ Size@@ ().getEntity@@ ()); } else { org.ovirt.engine.ui.uicommonweb.models.vms.@@ DataCenter@@ With@@ C@@ luster dataCenter@@ With@@ C@@ luster = getModel().get@@ DataCenter@@ With@@ C@@ lust@@ ers@@ List@@ ().getSelectedItem@@ (); if (@@ dataCenter@@ With@@ C@@ luster == null@@ ) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster = dataCenter@@ With@@ Cluster@@ .get@@ Cluster@@ (); if (c@@ luster == null@@ ) { return@@ ; } if ((get@@ Model().get@@ Mem@@ Size@@ ().getEntity@@ ()) < (vm.get@@ Vm@@ Mem@@ Size@@ M@@ b@@ ())) { do@@ ubl@@ e o@@ ver@@ Comm@@ it@@ Fac@@ to@@ r = 1@@ 00@@ .@@ 0 / (cluster@@ .get@@ Max@@ Vds@@ Memory@@ O@@ ver@@ Comm@@ it@@ ()); getModel().get@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ ().set@@ Entity@@ ((@@ (@@ int@@ ) ((get@@ Model().get@@ Mem@@ Size@@ ().getEntity@@ ()) * o@@ ver@@ Comm@@ it@@ Fac@@ t@@ or@@ ))); } else { getModel().get@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ ().set@@ Entity@@ (vm.get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ()); } }
@org.junit.Test public void canDoAction@@ In@@ valid@@ Vm@@ Status@@ () { command@@ .get@@ Parameters@@ ().set@@ Parameters@@ List@@ (c@@ reate@@ Move@@ Disks@@ Parameters@@ ()); init@@ DiskImage@@ (disk@@ Image@@ Id); init@@ Vm@@ (@@ VMStatus.@@ Un@@ k@@ n@@ ow@@ n@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), disk@@ Image@@ Id); command@@ .@@ update@@ Parameters@@ (); assert@@ True@@ (command@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_NOT_@@ DO@@ W@@ N@@ _@@ OR@@ _@@ UP@@ .@@ toString@@ ())); }
@java.lang.Override public void on@@ M@@ o@@ us@@ e@@ O@@ ver@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ M@@ o@@ us@@ e@@ O@@ ver@@ Event event@@ ) { com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ ooltip@@ Ht@@ m@@ l = get@@ T@@ ooltip@@ (); if (!@@ ("@@ "@@ .equals(@@ t@@ ooltip@@ Ht@@ ml.@@ as@@ String@@ ()))) { t@@ ooltip@@ .set@@ H@@ T@@ M@@ L@@ (get@@ T@@ ooltip@@ ()); org.ovirt.engine.ui.common.@@ utils.@@ Popup@@ Utils.@@ ad@@ j@@ ust@@ Popup@@ Loc@@ ation@@ To@@ F@@ it@@ S@@ c@@ re@@ en@@ And@@ Sh@@ ow@@ (@@ t@@ ooltip@@ Panel@@ , ev@@ ent.get@@ Client@@ X@@ (), ((@@ ev@@ ent.get@@ Client@@ Y@@ ()) + 2@@ 0@@ )); } }
private void remove@@ () { if ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ label@@ s.@@ lis@@ t.@@ Af@@ finity@@ Label@@ List@@ Model.get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); set@@ Confirm@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ remove@@ Af@@ finity@@ Label@@ s@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ remove@@ _@@ af@@ finity@@ _@@ group@@ s); model.set@@ Hash@@ Name@@ ("@@ remove@@ _@@ af@@ finity@@ _@@ label@@ s@@ "); java.util.ArrayList<@@ java.lang.String> lis@@ t = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l af@@ finity@@ L@@ ab@@ e@@ l : org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ label@@ s.@@ lis@@ t.@@ Af@@ finity@@ Label@@ List@@ Model.get@@ SelectedItem@@ s()) { lis@@ t.@@ add(@@ af@@ finity@@ Label@@ .get@@ Name()); } model.set@@ Items(@@ list@@ ); org.ovirt.engine.ui.uicommonweb.UICommand c@@ ommand = org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Default@@ O@@ k@@ U@@ i@@ Command@@ ("@@ On@@ Remove@@ ", this@@ ); model.get@@ Command@@ s().@@ add@@ (command@@ ); model.get@@ Command@@ s().@@ add(@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Cancel@@ U@@ i@@ Command@@ ("@@ Cancel@@ ", this@@ )); }
@java.lang.Override protected void init@@ Device@@ Str@@ uc@@ t@@ ure@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Network@@ Interface n@@ ic = get@@ Parameters().get@@ Nic@@ (); if ((@@ nic@@ .get@@ Network@@ Name@@ ()) != null@@ ) { struc@@ t.@@ add(@@ VdsProperties.@@ network@@ , nic@@ .get@@ Network@@ Name()); } struc@@ t.@@ add(@@ VdsProperties.@@ lin@@ k@@ Active@@ , java.lang.String.@@ value@@ Of@@ (@@ nic@@ .is@@ Link@@ ed@@ ())); if (@@ nic@@ .is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ()) { if ((@@ nic@@ .get@@ Network@@ Name@@ ()) != null@@ ) { struc@@ t.@@ add(@@ VdsProperties.@@ port@@ M@@ i@@ rr@@ or@@ ing@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ nic@@ .get@@ Network@@ Name@@ ())); } else { struc@@ t.@@ add(@@ VdsProperties.@@ port@@ M@@ i@@ rr@@ or@@ ing@@ , new java.util.ArrayList<@@ java.lang.String@@ >@@ ()); } } }
private static java.util.List<java.lang.String> in@@ n@@ er@@ Init@@ R@@ ang@@ e@@ (@@ int st@@ op@@ Af@@ ter@@ , long st@@ art@@ Num@@ , long end@@ Num@@ ) { if (@@ st@@ art@@ N@@ u@@ m > end@@ Num@@ ) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.List<java.lang.String> m@@ ac@@ Address@@ es = new java.util.ArrayList<@@ >@@ (@@ st@@ op@@ Af@@ ter@@ ); for (@@ long i = st@@ art@@ Num@@ ; i <@@ = end@@ Num@@ ; i@@ +@@ +@@ ) { if (((@@ org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ M@@ U@@ L@@ TI@@ C@@ A@@ ST@@ _@@ B@@ I@@ T@@ ) & i@@ ) != 0) { continue@@ ; } m@@ ac@@ Address@@ es.@@ add(@@ org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ m@@ ac@@ Address@@ In@@ t@@ To@@ String@@ (@@ i@@ )); if ((@@ st@@ op@@ Af@@ ter@@ -@@ ) <@@ = 0) { return m@@ ac@@ Address@@ es@@ ; } } return new java.util.ArrayList<@@ >@@ (m@@ ac@@ Address@@ es@@ ); }
private void execute@@ (@@ org.ovirt.engine.core.@@ l@@ dap@@ .@@ L@@ dap@@ Provider@@ Type l@@ dap@@ Provider@@ Type, java.lang.String do@@ m@@ ain@@ ) { java.util.Hash@@ t@@ able@@ <@@ java.lang.String, java.lang.String> en@@ v = new java.util.Hash@@ t@@ able@@ <@@ java.lang.String, java.lang.String@@ >(); org.ovirt.engine.core.bll.@@ ad@@ broker.@@ L@@ dap@@ Broker@@ Utils.@@ add@@ L@@ dap@@ Config@@ Valu@@ es(@@ en@@ v@@ ); init@@ Context@@ Var@@ i@@ abl@@ es(@@ en@@ v@@ ); javax.@@ nam@@ ing.@@ d@@ irect@@ ory@@ .@@ Att@@ ri@@ bu@@ te@@ s result@@ s = null@@ ; javax.@@ nam@@ ing.@@ d@@ irect@@ ory@@ .@@ D@@ ir@@ Contex@@ t c@@ t@@ x = null@@ ; try { c@@ t@@ x = create@@ Context@@ (@@ en@@ v@@ ); org.ovirt.engine.core.bll.@@ ad@@ broker.@@ L@@ dap@@ Query@@ Data l@@ dap@@ Query@@ Data = new org.ovirt.engine.core.bll.@@ ad@@ broker.@@ L@@ dap@@ Query@@ Data@@ Im@@ pl@@ (); l@@ dap@@ Query@@ Data@@ .set@@ L@@ dap@@ Query@@ Type(@@ L@@ dap@@ Query@@ Type.@@ ro@@ ot@@ D@@ S@@ E); l@@ dap@@ Query@@ Data@@ .set@@ Domain@@ (@@ do@@ m@@ ain@@ ); org.ovirt.engine.core.bll.@@ ad@@ broker.@@ L@@ dap@@ Query@@ Ex@@ ec@@ uti@@ on query@@ Ex@@ ec@@ uti@@ on = org.ovirt.engine.core.bll.@@ ad@@ broker.@@ L@@ dap@@ Query@@ Execution@@ Builder@@ Im@@ pl@@ .getInstance().@@ build@@ (@@ l@@ dap@@ Provider@@ Type, l@@ dap@@ Query@@ Data@@ ); javax.@@ nam@@ ing.@@ d@@ irect@@ ory@@ .@@ Search@@ Cont@@ ro@@ l@@ s search@@ Cont@@ ro@@ l@@ s = new javax.@@ nam@@ ing.@@ d@@ irect@@ ory@@ .@@ Search@@ Cont@@ ro@@ l@@ s(); search@@ Cont@@ ro@@ ls.@@ set@@ Return@@ ing@@ Att@@ ri@@ b@@ ut@@ es(@@ query@@ Execution@@ .get@@ Return@@ ing@@ Att@@ ri@@ b@@ ut@@ es@@ ()); search@@ Cont@@ ro@@ ls.@@ set@@ Search@@ S@@ c@@ op@@ e(@@ query@@ Execution@@ .get@@ Search@@ S@@ c@@ op@@ e@@ ()); search@@ Cont@@ ro@@ ls.@@ set@@ Return@@ ing@@ O@@ bj@@ F@@ l@@ ag@@ (@@ true@@ ); search@@ Cont@@ ro@@ ls.@@ set@@ Time@@ L@@ im@@ it@@ (((@@ org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ Get@@ Value(ConfigValues.@@ L@@ DA@@ P@@ Operation@@ Time@@ out@@ )) * 1@@ 00@@ 0@@ )); javax.@@ nam@@ ing.@@ Nam@@ ing@@ Enum@@ er@@ ation@@ <@@ javax.@@ nam@@ ing.@@ d@@ irect@@ ory@@ .@@ Search@@ Result@@ > se@@ ar@@ ch = c@@ t@@ x.@@ search@@ (@@ query@@ Execution@@ .get@@ Base@@ D@@ N@@ (), query@@ Execution@@ .get@@ Filter@@ (), query@@ Execution@@ .get@@ Filter@@ (), search@@ Cont@@ ro@@ l@@ s); try { result@@ s = search@@ .@@ ne@@ xt@@ ().get@@ Att@@ ri@@ b@@ ut@@ es@@ (); } final@@ l@@ y { search@@ .@@ c@@ lo@@ se@@ (); } } catch (@@ javax.@@ nam@@ ing.@@ Nam@@ ing@@ Exception e) { org.ovirt.engine.core.bll.@@ ad@@ broker.@@ Get@@ R@@ oot@@ D@@ S@@ E@@ .@@ log.error@@ Format@@ ("@@ Fail@@ ed to quer@@ y ro@@ ot@@ D@@ S@@ E for L@@ DA@@ P ser@@ ve@@ r {0@@ } d@@ u@@ e to {@@ 1@@ }@@ ", l@@ dap@@ UR@@ I@@ , e.get@@ Message@@ ()); throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ e); } }
@org.junit.Test public void test@@ Validate@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bond@@ S@@ l@@ a@@ v@@ es@@ W@@ h@@ en@@ S@@ lave@@ Al@@ read@@ y@@ S@@ l@@ a@@ v@@ es@@ For@@ D@@ if@@ fer@@ ent@@ Bond@@ B@@ ut@@ I@@ t@@ s@@ Det@@ ach@@ ed@@ From@@ I@@ t@@ As@@ A@@ P@@ art@@ Of@@ Request@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ Bon@@ d b@@ on@@ d = create@@ Bond@@ ("@@ bond@@ 1@@ "); org.ovirt.engine.core.common.businessentities.network.@@ Bon@@ d d@@ if@@ fer@@ ent@@ Bon@@ d = create@@ Bond@@ ("@@ bond@@ 2@@ "); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface s@@ lave@@ A = create@@ Bond@@ S@@ lave@@ (@@ bond@@ , "@@ s@@ lave@@ A@@ "); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface s@@ lave@@ B = create@@ Bond@@ S@@ lave@@ (@@ d@@ if@@ fer@@ ent@@ Bond@@ , "@@ s@@ lave@@ B@@ "); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface s@@ lave@@ C = create@@ Bond@@ S@@ lave@@ (@@ d@@ if@@ fer@@ ent@@ Bond@@ , "@@ s@@ lave@@ C@@ "); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface s@@ lave@@ D = create@@ Bond@@ S@@ lave@@ (@@ d@@ if@@ fer@@ ent@@ Bond@@ , "@@ s@@ lave@@ D@@ "); set@@ Bond@@ S@@ l@@ a@@ v@@ es(@@ bond@@ , s@@ lave@@ A@@ , s@@ lave@@ B@@ ); set@@ Bond@@ S@@ l@@ a@@ v@@ es(@@ d@@ if@@ fer@@ ent@@ Bond@@ , s@@ lave@@ C@@ , s@@ lave@@ D@@ ); org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator buil@@ d = new org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator@@ Test.@@ Host@@ SetupNetworks@@ Validator@@ Builder@@ ().set@@ Param@@ s@@ (@@ new org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator@@ Test.@@ Parameters@@ Builder@@ ().add@@ Bon@@ ds@@ (@@ org.ovirt.engine.core.common.action.@@ Create@@ Or@@ Update@@ Bond@@ .@@ f@@ rom@@ Bond@@ (@@ bond@@ ), org.ovirt.engine.core.common.action.@@ Create@@ Or@@ Update@@ Bond@@ .@@ f@@ rom@@ Bond@@ .@@ f@@ rom@@ Bond@@ (@@ bond@@ ), org.ovirt.engine.core.common.action.@@ Create@@ Or@@ Update@@ Bond@@ (@@ d@@ if@@ fer@@ ent@@ Bond@@ )@@ )).@@ add@@ Existing@@ Interfac@@ es(@@ bond@@ , d@@ if@@ fer@@ ent@@ Bond@@ , s@@ lave@@ A@@ , s@@ lave@@ B@@ , s@@ lave@@ B@@ , s@@ lave@@ C@@ , s@@ lave@@ D@@ ).@@ build@@ (); _@@ do@@ Test@@ Validate@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bond@@ S@@ l@@ a@@ v@@ es@@ (s@@ p@@ y@@ (@@ build@@ ), ValidationRes@@ ult.@@ VALID@@ , is@@ Valid@@ ()); }
public void set@@ M@@ en@@ u@@ Item@@ Selected@@ Event@@ (@@ org.ovirt.engine.core.compat.@@ Event m@@ en@@ u@@ Item@@ Selected@@ Event@@ ) { this@@ .m@@ en@@ u@@ Item@@ Selected@@ Event = m@@ en@@ u@@ Item@@ Selected@@ Event@@ ; }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ re@@ e.@@ Contex@@ t contex@@ t@@ , org.ovirt.engine.ui.uicommonweb.models.@@ System@@ T@@ ree@@ Item@@ Model value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der s@@ b@@ ) { com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource image@@ Resource@@ ; switch (@@ valu@@ e.get@@ Type()) { case C@@ luster : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ cluster@@ Image@@ (); break@@ ; case Cluster@@ s : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ c@@ lust@@ ers@@ Image@@ (); break@@ ; case Data@@ C@@ en@@ te@@ r : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ dataCenter@@ Image@@ (); break@@ ; case DataCenter@@ s : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ dataCenter@@ Image@@ (); break@@ ; case Cluster@@ _@@ G@@ luster : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ gluster@@ Cluster@@ Image@@ (); break@@ ; case Hos@@ t : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ host@@ Image@@ (); break@@ ; case Host@@ s : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ host@@ s@@ Image@@ (); break@@ ; case Stor@@ age : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ storage@@ Image@@ (); break@@ ; case Storage@@ s : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ stor@@ ages@@ Image@@ (); break@@ ; case S@@ yst@@ e@@ m : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ s@@ ystem@@ Image@@ (); break@@ ; case Template@@ s : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ templat@@ es@@ Image@@ (); break@@ ; case VM@@ s : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ vm@@ s@@ Image@@ (); break@@ ; case Volum@@ e : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ volume@@ Image@@ (); break@@ ; case Volume@@ s : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ volum@@ es@@ Image@@ (); break@@ ; case Network : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ network@@ T@@ ree@@ Image@@ (); break@@ ; case Network@@ s : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ network@@ s@@ T@@ ree@@ Image@@ (); break@@ ; case Provi@@ der : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ network@@ T@@ ree@@ Image@@ (); break@@ ; case Provider@@ s : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ network@@ s@@ T@@ ree@@ Image@@ (); break@@ ; default : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ ques@@ tion@@ M@@ ar@@ k@@ Image@@ (); } com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l image@@ Ht@@ m@@ l = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ (); break@@ ; case C@@ ommand = ap@@ plication@@ Res@@ ourc@@ es.@@ t@@ ree@@ C@@ ommand = ap@@ plication@@ Res@@ ourc@@ es.@@ t@@ ree@@ Image@@ (); break@@ ; case C@@ ommand : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ t@@ ree@@ Image@@ (); break@@ ; case C@@ ommand : image@@ Res@@ ource = ap@@ plication@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ t@@ ree@@ Image@@ (); break@@ ; case C@@ ommand : image@@ Res@@ ource = ap@@ plication@@ Res@@ ourc@@ es.@@ host@@ C@@ en@@ te@@ r : image@@ Res@@ ourc@@ es.@@ host@@ C@@ ommand = ap@@ plication@@ Res@@ ourc@@ es.@@ host@@ C@@ en@@ te@@ r : image@@ Res@@ ourc@@ es.@@ host@@ C@@ en@@ te@@ r : image@@ Res@@ ourc@@ es.@@ host@@ C@@ en@@ te@@ r : image@@ Res@@ ourc@@ es.@@ host@@ C@@ en@@ te@@ r : image@@ Res@@ ourc@@ es.@@ host@@ C@@ en@@ te@@ r : image@@ Res@@ ourc@@ es.@@ host@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l = ap@@ plication@@ Res@@ ourc@@ es.@@ host@@ C@@ en@@ te@@ r : image@@ Res@@ ourc@@ es.@@ host@@ s@@ afe@@ Ht@@ m@@ l = ap@@ plication@@ Res@@ ourc@@ es.@@ host@@ C@@ en@@ te@@ r : image@@ Res@@ ourc@@ es.@@ host@@ C@@ en@@ te@@ r : image@@ Res@@ ourc@@ es.@@ host@@ s@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ Image@@ (); break@@ ; case C@@ en@@ te@@ r : image@@ Res@@ ourc@@ es.@@ host@@ C@@ en@@
@java.lang.Override public void Execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value = result.get@@ ReturnValue@@ (); boolean s@@ uc@@ c@@ es@@ s = (@@ return@@ Value != null@@ ) && (@@ return@@ Value.get@@ Succeeded@@ ()); if (s@@ uc@@ cess@@ ) { local@@ Conn@@ ec@@ tion = null@@ ; } java.lang.Object@@ [@@ ] ar@@ r@@ a@@ y = ((@@ java.lang.Object@@ []@@ ) (@@ result.get@@ State@@ ())); On@@ F@@ in@@ is@@ h@@ (((@@ org.ovirt.engine.ui.uicompat.@@ Task@@ Context@@ ) (@@ ar@@ r@@ ay@@ [@@ 0@@ ]@@ )@@ ), ((@@ java.lang.Boolean@@ ) (@@ ar@@ r@@ ay@@ [@@ 1@@ ]@@ )@@ ), ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ I@@ Storage@@ Model) (@@ ar@@ r@@ ay@@ [@@ 2@@ ]@@ )@@ ), ((@@ java.lang.String@@ ) (@@ ar@@ r@@ ay@@ [@@ 3@@ ]@@ ))); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > pre@@ par@@ e@@ Snapshot@@ Config@@ With@@ out@@ Image@@ (org.ovirt.engine.core.compat.Guid image@@ Group@@ To@@ Remove@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > result = new java.util.@@ Link@@ ed@@ List<@@ org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ >(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > snapshot@@ Disk@@ s = org.ovirt.engine.core.bll.@@ Remove@@ Image@@ Command.get@@ DiskImage@@ Dao().get@@ AllSnapshots@@ For@@ ImageGroup@@ (@@ image@@ Group@@ To@@ Remove@@ ); for (org.ovirt.engine.core.common.businessentities.@@ DiskImage snapshot@@ Disk : snapshot@@ Disk@@ s) { org.ovirt.engine.core.compat.Guid vm@@ Snapshot@@ Id = snapshot@@ Disk@@ .get@@ vm@@ _@@ snapshot@@ _id@@ ().get@@ Value@@ (); if (!(@@ Guid@@ .@@ Empty@@ .@@ equals@@ (vm@@ Snapshot@@ Id@@ ))) { org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t update@@ d = pre@@ par@@ e@@ Snapshot@@ Config@@ With@@ out@@ Image@@ Sing@@ le@@ Image@@ (s@@ napshot@@ Disk@@ .get@@ vm@@ _@@ snapshot@@ _id@@ ().get@@ Value@@ (), snapshot@@ Disk@@ .get@@ Image@@ Id()); if (@@ update@@ d != null@@ ) { result.@@ add(@@ update@@ d@@ ); } } } return result@@ ; }
public boolean is@@ Type(@@ java.lang.String value@@ ) { org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Status v@@ ol@@ Status = org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Status.@@ value@@ Of@@ (@@ value@@ ); for (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Status stat@@ u@@ s : valu@@ es@@ ) { if (@@ stat@@ u@@ s.@@ equals(@@ v@@ ol@@ Status@@ )) { return true@@ ; } } return false@@ ; }
private boolean save@@ Gluster@@ Host@@ U@@ uid@@ () { org.ovirt.engine.core.dao.@@ gluster.@@ Vds@@ Gluster@@ D@@ a@@ o vds@@ Gluster@@ D@@ a@@ o = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vds@@ Gluster@@ Dao@@ (); org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Vds@@ G@@ luster vds@@ G@@ luster = vds@@ Gluster@@ Dao.get@@ By@@ Vds@@ Id@@ (get@@ Vds@@ ().get@@ Id()); if (vds@@ G@@ luster == null@@ ) { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value = run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Gluster@@ Host@@ UUID@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ Id@@ VDSCommand@@ Parameters@@ Bas@@ e(@@ get@@ Vds@@ ().get@@ Id@@ ())); if (@@ return@@ Value.get@@ Succeeded@@ ()) && (@@ (@@ return@@ Value.get@@ ReturnValue@@ ()) != null@@ )) { vds@@ G@@ luster = new org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Vds@@ Gluster@@ (); vds@@ G@@ luster.@@ set@@ Vds@@ Id@@ (get@@ Vds@@ ().get@@ Id()); vds@@ G@@ luster.@@ set@@ Host@@ U@@ uid@@ (((@@ org.ovirt.engine.core.compat.Guid@@ ) (@@ return@@ Value.get@@ ReturnValue@@ ()))); vds@@ Gluster@@ Dao@@ .@@ save@@ (vds@@ Gluster@@ ); } else { return false@@ ; } } return true@@ ; }
public void set@@ Vm@@ Attached@@ To@@ Pool@@ (@@ boolean value@@ ) { if (@@ value@@ ) { get@@ DataCenter@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Cluster@@ ().setIs@@ Chang@@ able@@ ((!@@ value@@ )); get@@ Quota@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Description@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Num@@ Of@@ D@@ es@@ k@@ to@@ p@@ s@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Pres@@ t@@ ar@@ ted@@ Vms@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Template@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Mem@@ Size@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ T@@ otal@@ C@@ P@@ U@@ C@@ or@@ es@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ C@@ or@@ es@@ Per@@ S@@ ock@@ et@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Num@@ Of@@ S@@ ock@@ et@@ s@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ O@@ S@@ Type@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Is@@ State@@ l@@ ess@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Is@@ Delet@@ e@@ Prot@@ ected@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Time@@ Z@@ one@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Domain@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Display@@ Protocol@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Us@@ b@@ Policy@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Num@@ Of@@ Monitor@@ s@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Is@@ S@@ m@@ art@@ c@@ ard@@ Enabled@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Allow@@ Console@@ Rec@@ on@@ n@@ ect@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ V@@ n@@ c@@ Key@@ board@@ L@@ ay@@ out@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Is@@ Au@@ to@@ As@@ s@@ ign@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Default@@ Host@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Run@@ VM@@ On@@ Sp@@ e@@ c@@ if@@ ic@@ Host@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Host@@ Cpu@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ D@@ on@@ t@@ Migrate@@ VM@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Cpu@@ P@@ in@@ ning@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Provi@@ sion@@ ing@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Provi@@ sion@@ ing@@ Th@@ in@@ _@@ Is@@ Selected@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Provi@@ sion@@ ing@@ Cl@@ one@@ _@@ Is@@ Selected@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Disks@@ Al@@ loc@@ ation@@ Model@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ F@@ ir@@ st@@ Boot@@ Device@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Sec@@ ond@@ Boot@@ Device@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ C@@ d@@ Attached@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ C@@ d@@ Image@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ K@@ er@@ ne@@ l@@ _@@ p@@ ath@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ K@@ er@@ ne@@ l@@ _@@ parameters@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ K@@ er@@ ne@@ l@@ _@@ parameters@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Is@@ Au@@ to@@ As@@ s@@ ign@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Is@@ Au@@ to@@ As@@ s@@ ign@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); get@@ Custom@@ Properties@@ ().setIs@@ Chang@@ able@@ (@@
private boolean p@@ a@@ us@@ e@@ Trans@@ fer@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er entity@@ , long t@@ s) { if ((((@@ org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ K@@ e@@ ep@@ al@@ ive@@ Inter@@ val@@ ()) > 0) && (((@@ entity.get@@ P@@ h@@ ase@@ ()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ IN@@ I@@ TI@@ AL@@ I@@ Z@@ ING@@ )) || ((@@ entity.get@@ P@@ h@@ ase@@ ()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ T@@ R@@ AN@@ S@@ F@@ ER@@ R@@ ING@@ )@@ ))) && ((((@@ entity.get@@ L@@ ast@@ Update@@ d@@ ().get@@ Time@@ ()) / 1@@ 00@@ 0) + (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ K@@ e@@ ep@@ al@@ ive@@ Inter@@ val@@ ())) < t@@ s@@ )) { log.@@ w@@ ar@@ n@@ ("@@ Trans@@ f@@ er p@@ a@@ us@@ ed d@@ u@@ e to n@@ o update@@ s in {@@ } s@@ ec@@ on@@ ds@@ . {}@@ ", (@@ t@@ s - ((@@ entity.get@@ L@@ ast@@ Update@@ d@@ ().get@@ Time@@ ()) / 1@@ 00@@ 0@@ )@@ ), get@@ Trans@@ fer@@ Description@@ ()); p@@ a@@ us@@ ed@@ By@@ System@@ Re@@ as@@ on = org.ovirt.engine.core.common.@@ AuditLogType.@@ T@@ R@@ AN@@ S@@ F@@ ER_@@ IM@@ AGE_@@ P@@ A@@ US@@ ED_@@ B@@ Y_@@ S@@ Y@@ ST@@ EM@@ _@@ TI@@ M@@ E@@ O@@ U@@ T@@ ; update@@ Entity@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ P@@ A@@ US@@ ED_@@ S@@ Y@@ ST@@ EM@@ ); return true@@ ; } return false@@ ; }
private org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate mock@@ VmTemplate@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate = new org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ (); templat@@ e.set@@ Id@@ (vm@@ Template@@ Id); templat@@ e.set@@ StoragePool@@ Id(@@ storagePool@@ Id); templat@@ e.set@@ Cluster@@ Ar@@ ch@@ it@@ ect@@ ure(@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ x@@ 8@@ 6@@ _@@ 6@@ 4@@ ); org.ovirt.engine.core.bll.@@ C@@ ommon@@ Vm@@ Pool@@ With@@ Vms@@ Command@@ Test@@ Ab@@ str@@ ac@@ t.@@ set@@ Disk@@ List(@@ template@@ ); return template@@ ; }
@java.lang.Override public void set@@ Enabled@@ (@@ boolean en@@ abled@@ ) { this@@ .@@ en@@ able@@ d = en@@ abled@@ ; name@@ Editor@@ .set@@ Enabled@@ (@@ en@@ abled@@ ); value@@ Editor@@ .set@@ Enabled@@ (@@ en@@ abled@@ ); }
protected org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ Row@@ Map@@ per@@ <@@ org.ovirt.engine.core.dao.@@ scheduling.@@ Cluster@@ Policy@@ Dao@@ Impl.@@ Cluster@@ Policy@@ Unit@@ > create@@ Cluster@@ Policy@@ Unit@@ Row@@ Map@@ per@@ () { return new org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ Row@@ Map@@ per@@ <@@ org.ovirt.engine.core.dao.@@ scheduling.@@ Cluster@@ Policy@@ Dao@@ Impl.@@ Cluster@@ Policy@@ Unit@@ >() { @java.lang.Override public org.ovirt.engine.core.dao.@@ scheduling.@@ Cluster@@ Policy@@ Dao@@ Impl.@@ Cluster@@ Policy@@ Un@@ i@@ t map@@ Row@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, int arg@@ 1@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { org.ovirt.engine.core.dao.@@ scheduling.@@ Cluster@@ Policy@@ Dao@@ Impl.@@ Cluster@@ Policy@@ Un@@ i@@ t un@@ i@@ t = new org.ovirt.engine.core.dao.@@ scheduling.@@ Cluster@@ Policy@@ Dao@@ Impl.@@ Cluster@@ Policy@@ Unit@@ (); unit.@@ set@@ Cluster@@ Policy@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (rs.get@@ String("@@ cluster@@ _@@ p@@ olicy@@ _id@@ "@@ ))); unit.@@ set@@ Policy@@ Unit@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (rs.get@@ String("@@ p@@ olicy@@ _@@ un@@ it@@ _id@@ "@@ ))); unit.@@ set@@ Filter@@ Selected@@ (rs.get@@ Boolean@@ ("@@ filter@@ _@@ selected@@ ")); unit.@@ set@@ Filter@@ Se@@ qu@@ ence@@ (rs.get@@ In@@ t@@ ("@@ filter@@ _@@ se@@ qu@@ ence@@ ")); unit.@@ set@@ F@@ un@@ c@@ tion@@ Selected@@ (rs.get@@ Boolean@@ ("@@ f@@ un@@ c@@ tion@@ _@@ selected@@ ")); unit.@@ set@@ Fac@@ t@@ or@@ (rs.get@@ In@@ t@@ ("@@ fac@@ t@@ or@@ ")); unit.@@ set@@ Bal@@ ance@@ Selected@@ (rs.get@@ Boolean@@ ("@@ b@@ al@@ ance@@ _@@ selected@@ ")); return un@@ it@@ ; } }; }
void local@@ iz@@ e(@@ org.ovirt.engine.ui.webadmin.@@ Ap@@ plication@@ Constant@@ s const@@ an@@ t@@ s) { ti@@ t@@ le@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ config@@ ure@@ Popup@@ Title@@ ()); c@@ lo@@ se@@ Button@@ .set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ c@@ lo@@ se@@ Button@@ Label@@ ()); ro@@ l@@ es@@ Tab@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ config@@ ure@@ Role@@ Tab@@ Label@@ ()); cluster@@ P@@ olic@@ i@@ es@@ Tab@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ config@@ ure@@ Cluster@@ Policy@@ Tab@@ Label@@ ()); s@@ ystem@@ Permission@@ s@@ Tab@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ config@@ ure@@ System@@ Permission@@ Tab@@ Label@@ ()); m@@ ac@@ Pool@@ s@@ Tab@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ config@@ ure@@ MacPool@@ s@@ Tab@@ Label@@ ()); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Quota@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Quota@@ Storage@@ L@@ im@@ it@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Quota@@ Storage@@ L@@ im@@ i@@ t map@@ (org.ovirt.engine.core.common.businessentities.@@ Qu@@ ot@@ a entity@@ , org.ovirt.engine.api.model.@@ Quota@@ Storage@@ L@@ im@@ i@@ t template@@ ) { if (@@ templ@@ ate == null@@ ) { assert false : "@@ Storage@@ L@@ im@@ i@@ t can@@ not b@@ e null@@ "; return null@@ ; } org.ovirt.engine.core.compat.Guid g@@ ui@@ d = org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (@@ templat@@ e.get@@ Id()); if (@@ g@@ uid@@ .equals(@@ entity.get@@ Id@@ ())) { org.ovirt.engine.api.restapi.@@ types.@@ Quota@@ Mapper.@@ map@@ (@@ template@@ , entity.get@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ (), null@@ , entity.get@@ StoragePool@@ Id().@@ toString@@ (), entity.get@@ Id().@@ toString()); } else { if ((@@ entity.get@@ Quota@@ Stor@@ ages@@ ()) != null@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ Quota@@ Stor@@ age quota@@ Stor@@ age : entity.get@@ Quota@@ Stor@@ ages@@ ()) { if (((@@ quota@@ Stor@@ age.get@@ Storage@@ Id()) != null@@ ) && (@@ quota@@ Stor@@ age.get@@ Storage@@ Id().@@ equals(@@ g@@ uid@@ ))) { org.ovirt.engine.api.restapi.@@ types.@@ Quota@@ Mapper.@@ map@@ (@@ template@@ , quota@@ Storage@@ , quota@@ Stor@@ age.get@@ Storage@@ Id().@@ toString@@ (), entity.get@@ StoragePool@@ Id().@@ toString@@ (), entity.get@@ Id().@@ toString()); } } } } return template@@ ; }
@org.junit.Test public void test@@ Re@@ port@@ Configuration@@ s@@ On@@ Host@@ W@@ h@@ en@@ Boot@@ Protocol@@ Not@@ Static@@ () { init@@ Ip@@ Configuration@@ Boot@@ Protocol@@ Address@@ (@@ Network@@ Boot@@ Protoc@@ ol.@@ N@@ ON@@ E, false@@ ); init@@ Ip@@ Configuration@@ Boot@@ Protocol@@ N@@ et@@ m@@ ask@@ (@@ Network@@ Boot@@ Protoc@@ ol.@@ N@@ ON@@ E, false@@ ); init@@ Ip@@ Configuration@@ Boot@@ Protocol@@ G@@ ate@@ w@@ ay@@ (@@ Network@@ Boot@@ Protoc@@ ol.@@ N@@ ON@@ E, false@@ ); org.ovirt.engine.core.utils.@@ Network@@ In@@ Sync@@ With@@ VdsNetworkInterface t@@ es@@ ted@@ Instance@@ With@@ S@@ ame@@ Non@@ Qos@@ Value@@ s = create@@ Tes@@ ted@@ Instance@@ With@@ S@@ ame@@ Non@@ Qos@@ Valu@@ es@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Re@@ ported@@ Configuration@@ > re@@ ported@@ Configuration@@ List = t@@ es@@ ted@@ Instance@@ With@@ S@@ ame@@ Non@@ Qos@@ Values.@@ re@@ port@@ Configuration@@ s@@ On@@ Host@@ ().get@@ Re@@ ported@@ Configuration@@ List@@ (); org.ovirt.engine.core.common.businessentities.network.@@ I@@ P@@ v@@ 4@@ Add@@ res@@ s pri@@ mar@@ y@@ Add@@ res@@ s = this@@ .@@ t@@ es@@ ted@@ Network@@ Attachm@@ ent.get@@ Ip@@ Configuration@@ ().get@@ Ip@@ v@@ 4@@ P@@ ri@@ mar@@ y@@ Address@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Re@@ ported@@ Configuration@@ > exp@@ ected@@ Re@@ ported@@ Configuration@@ s = com@@ b@@ in@@ e@@ Re@@ ported@@ Configuration@@ s@@ (c@@ reate@@ Bas@@ ic@@ And@@ Qos@@ Re@@ ported@@ Configuration@@ s@@ (), new org.ovirt.engine.core.common.businessentities.network.@@ Re@@ ported@@ Configuration@@ (org.ovirt.engine.core.common.businessentities.network.@@ Re@@ ported@@ Configuration@@ Type.@@ B@@ O@@ O@@ T_@@ P@@ RO@@ TO@@ C@@ OL@@ , if@@ ac@@ e.get@@ Ip@@ v@@ 4@@ Boot@@ Protocol@@ ().@@ name@@ (), pri@@ mar@@ y@@ Address@@ .get@@ Boot@@ Protocol@@ ().@@ name@@ (), true@@ )); assert@@ That@@ (@@ re@@ ported@@ Configuration@@ List.@@ contains@@ All@@ (@@ exp@@ ected@@ Re@@ ported@@ Configuration@@ s@@ ), is@@ (@@ true@@ )); assert@@ That@@ (@@ re@@ ported@@ Configuration@@ List.@@ size@@ (), is@@ (@@ exp@@ ected@@ Re@@ ported@@ Configuration@@ s.@@ size@@ ())); }
public boolean is@@ Monitor@@ ing@@ N@@ e@@ e@@ e@@ ded@@ () { return ((((@@ (((@@ m@@ onitor@@ ing@@ Str@@ ate@@ g@@ y@@ .is@@ Monitor@@ ing@@ N@@ e@@ e@@ ded@@ (@@ _@@ vds@@ )) && ((@@ _@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ In@@ st@@ all@@ ing@@ ))) && ((@@ _@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ In@@ st@@ all@@ Fail@@ ed@@ ))) && ((@@ _@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ R@@ eb@@ oot@@ ))) && ((@@ _@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ ))) && ((@@ _@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ P@@ end@@ ing@@ Ap@@ pro@@ val@@ ))) && ((@@ _@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Down@@ ))) && ((@@ _@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ K@@ d@@ um@@ p@@ ing@@ )); }
@org.junit.Test public void nic@@ Not@@ Exist@@ () { nic@@ Exist@@ s@@ (@@ false@@ ); assert@@ CanDoAction@@ Fail@@ ure(@@ EngineMessage.@@ HOST@@ _@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E_@@ NOT_@@ EXIST@@ .@@ toString()); }
public static final org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Disk@@ Size@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ > get@@ Size@@ Column@@ (java.lang.String s@@ ort@@ By@@ ) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Disk@@ Size@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ > c@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Disk@@ Size@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ >() { @java.lang.Override protected java.lang.@@ L@@ on@@ g get@@ Ra@@ w@@ Value@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Disk object@@ ) { return (@@ objec@@ t.get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ ) ? ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ) (@@ object@@ )@@ ).get@@ Size@@ () : (@@ (@@ long@@ ) ((((@@ org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk@@ ) (@@ object@@ )@@ ).get@@ Lun@@ ().get@@ Device@@ Size@@ ()) * (java.lang.@@ M@@ ath@@ .@@ p@@ ow@@ (@@ 1@@ 0@@ 2@@ 4@@ , 3@@ )@@ ))); } }; return org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ disk@@ s.@@ Disks@@ View@@ Column@@ s.@@ ma@@ ke@@ S@@ ort@@ able(@@ c@@ olumn@@ , s@@ ort@@ By@@ ); }
protected org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue execute@@ V@@ er@@ b@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storage@@ ) { try { org.ovirt.engine.core.common.vdscommands.@@ Get@@ Vms@@ Info@@ VDSCommand@@ Parameters temp@@ V@@ a@@ r = new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Vms@@ Info@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ Get@@ All@@ From@@ Export@@ Domain@@ Query.get@@ Parameters().get@@ StoragePool@@ Id()); tempVar@@ .set@@ StorageDomain@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ Get@@ All@@ From@@ Export@@ Domain@@ Query.get@@ Parameters().get@@ StorageDomain@@ Id()); tempVar@@ .set@@ Vm@@ Id@@ List@@ (org.ovirt.engine.core.bll.storage.@@ Get@@ All@@ From@@ Export@@ Domain@@ Query.get@@ Parameters().get@@ Id@@ s()); return org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Vms@@ Info@@ , tempVar@@ ); } catch (java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ StorageDomain@@ Name@@ ", storage.@@ get@@ Storage@@ Name()); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , AuditLogType.@@ IM@@ PORT@@ EX@@ POR@@ T_@@ G@@ E@@ T_@@ VM@@ S_@@ IN@@ F@@ O@@ _@@ FAIL@@ ED); throw e@@ ; } }
private java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> get@@ C@@ ri@@ tic@@ al@@ Snapshots@@ Ch@@ ain@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > im@@ ages@@ From@@ Active@@ Snapshot@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > c@@ inder@@ Images@@ For@@ Pre@@ view@@ ed@@ Snapshot@@ ) { java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> cri@@ tic@@ al@@ Snapshots@@ Ch@@ ain = new java.util.Hash@@ Set<@@ >(); for (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image : im@@ ages@@ From@@ Active@@ Snapshot@@ ) { for (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage pre@@ view@@ ed@@ DiskImage : c@@ inder@@ Images@@ For@@ Pre@@ view@@ ed@@ Snapshot@@ ) { if (disk@@ Image.get@@ Id().@@ equals(@@ pre@@ view@@ ed@@ Disk@@ Image.get@@ Id@@ ())) { for (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image : org.ovirt.engine.core.bll.@@ Res@@ t@@ ore@@ AllSnapshots@@ Command.get@@ DiskImage@@ Dao().get@@ AllSnapshots@@ For@@ Le@@ af@@ (c@@ inder@@ Disk@@ From@@ S@@ napsho@@ t.get@@ (0@@ ).get@@ Image@@ Id@@ ())) { cri@@ tic@@ al@@ Snapshots@@ Ch@@ ain@@ .@@ add(@@ disk@@ Image.get@@ Vm@@ Snapshot@@ Id()); } } } return cri@@ tic@@ al@@ Snapshots@@ Ch@@ ain@@ ; } }
@java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand command@@ ) { com.google.gwt.@@ user.@@ ce@@ ll@@ view@@ .client.@@ T@@ ree@@ Nod@@ e exp@@ and@@ Nod@@ e = fin@@ d@@ Node@@ (get@@ Data@@ Display@@ Widget@@ ().get@@ R@@ oot@@ T@@ ree@@ Node@@ (), model@@ Provider@@ .get@@ Sel@@ ection@@ Model().get@@ Selected@@ Object@@ ()); if (@@ exp@@ and@@ Nod@@ e != null@@ ) { exp@@ and@@ T@@ re@@ e(@@ exp@@ and@@ Node@@ ); } }
public void set@@ Tab@@ In@@ dex@@ (@@ int in@@ dex@@ ) { t@@ ab@@ In@@ de@@ x = in@@ dex@@ ; }
@org.junit.@@ B@@ e@@ for@@ e@@ Cl@@ as@@ s public static void init@@ Test@@ C@@ ase@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.dao.@@ Base@@ DAO@@ Test@@ C@@ as@@ e.@@ init@@ Test@@ C@@ ase@@ (); java.util.@@ Proper@@ ti@@ es proper@@ ti@@ es = new java.util.@@ Properties@@ (); java.io.@@ In@@ put@@ St@@ rea@@ m is = null@@ ; is = org.ovirt.engine.core.dao.@@ Base@@ DAO@@ Test@@ C@@ ase@@ .@@ class@@ .get@@ Resource@@ As@@ St@@ ream@@ ("@@ /@@ test@@ -@@ data@@ b@@ as@@ e.@@ proper@@ ties@@ "); proper@@ ties.@@ load@@ (is@@ ); java.util.Map<java.lang.String, java.lang.String> pro@@ p@@ s = new java.util.HashMap<@@ >(); pro@@ p@@ s.@@ put@@ ("@@ javax.@@ p@@ ers@@ ist@@ enc@@ e.@@ j@@ db@@ c.@@ d@@ ri@@ ver@@ ", proper@@ ties@@ .get@@ Property@@ ("@@ data@@ b@@ as@@ e.@@ d@@ ri@@ ver@@ ")); pro@@ p@@ s.@@ put@@ ("@@ javax.@@ p@@ ers@@ ist@@ enc@@ e.@@ j@@ db@@ c.@@ user@@ ", proper@@ ties@@ .get@@ Property@@ ("@@ data@@ b@@ as@@ e.@@ user@@ name@@ ")); pro@@ p@@ s.@@ put@@ ("@@ javax.@@ p@@ ers@@ ist@@ enc@@ e.@@ j@@ db@@ c.@@ p@@ assword@@ ", proper@@ ties@@ .get@@ Property@@ ("@@ data@@ b@@ as@@ e.@@ p@@ assword@@ ")); pro@@ p@@ s.@@ put@@ ("@@ javax.@@ p@@ ers@@ ist@@ enc@@ e.@@ j@@ db@@ c.@@ ur@@ l@@ ", proper@@ ties@@ .get@@ Property@@ ("@@ data@@ b@@ as@@ e.@@ ur@@ l@@ ")); javax.@@ p@@ ers@@ ist@@ enc@@ e.@@ Entity@@ Manager@@ Fac@@ t@@ or@@ y em@@ f = javax.@@ p@@ ers@@ ist@@ enc@@ e.@@ P@@ ers@@ ist@@ enc@@ e.c@@ reate@@ Entity@@ Manager@@ Fac@@ t@@ ory@@ ("@@ ovir@@ t@@ -@@ test@@ ", pro@@ p@@ s); org.ovirt.engine.core.dao.@@ H@@ i@@ ber@@ n@@ ate@@ Fac@@ ad@@ e.set@@ Entity@@ Manager@@ Fac@@ t@@ ory@@ (@@ em@@ f@@ ); }
private void remove@@ Cinder@@ Disk@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > c@@ inder@@ Disk@@ s) { org.ovirt.engine.core.common.action.@@ Remove@@ All@@ Vm@@ Cinder@@ Disks@@ Parameters remove@@ Par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ Remove@@ All@@ Vm@@ Cinder@@ Disks@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.getVm@@ Template@@ Id(), c@@ inder@@ Disks@@ ); remove@@ Param@@ .set@@ Parent@@ H@@ as@@ Task@@ s@@ ((!@@ (org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.get@@ ReturnValue().get@@ Vds@@ m@@ Task@@ Id@@ List@@ ().is@@ Empty@@ ()))); java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ <@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ > f@@ ut@@ ur@@ e = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ execute@@ Async@@ Command@@ (VdcActionType.@@ Remove@@ All@@ Vm@@ Cinder@@ Disk@@ s, with@@ R@@ oot@@ Command@@ Info@@ (@@ remove@@ Param@@ , org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.get@@ Action@@ Type@@ ()), org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ (), org.ovirt.engine.core.bll.storage.@@ C@@ IN@@ D@@ ER@@ Storage@@ Helper@@ .get@@ Storage@@ Enti@@ ties@@ For@@ C@@ oc@@ o@@ (c@@ inder@@ Disks@@ )); try { f@@ ut@@ ur@@ e.get@@ ().get@@ Action@@ ReturnValue@@ (); } catch (java.lang.@@ Inter@@ r@@ up@@ ted@@ Exception | java.util.@@ con@@ c@@ urr@@ ent.@@ Execution@@ Exception e) { log.error("@@ Exception@@ ", e); } }
protected static org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Ap@@ plication@@ Res@@ ource get@@ Resource@@ (org.ovirt.engine.core.compat.Guid id@@ ) { return new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Ap@@ plication@@ Resource@@ (org.ovirt.engine.api.model.@@ Ap@@ plication@@ .@@ class@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ , id@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Ap@@ plication@@ Resource@@ Test.@@ c@@ oll@@ ection@@ , org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Update@@ Vm@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Ap@@ plication@@ Resource@@ Test.@@ c@@ oll@@ ection@@ .get@@ Update@@ Parameters@@ Provider@@ (), org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Ap@@ plication@@ Resource@@ Test.@@ c@@ oll@@ ection@@ .get@@ Requi@@ red@@ Update@@ Fiel@@ ds@@ ()); }
@java.lang.Override public void pre@@ vent@@ R@@ oll@@ back@@ () { org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Snapshots@@ Command.get@@ Parameters@@ ().set@@ Execution@@ In@@ dex@@ (0@@ ); }
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { java.lang.Object@@ [@@ ] ar@@ r@@ a@@ y = ((@@ java.lang.Object@@ []@@ ) (@@ target@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ List@@ Model storage@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ ListModel@@ ) (@@ ar@@ r@@ ay@@ [@@ 0@@ ]@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Remove@@ Storage@@ Model remove@@ Storage@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Remove@@ Storage@@ Model) (@@ ar@@ r@@ ay@@ [@@ 1@@ ]@@ )); org.ovirt.engine.core.common.businessentities.Storage@@ Domain stor@@ age = storage@@ List@@ Model.get@@ SelectedItem@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >) (@@ return@@ Value@@ )); remove@@ Storage@@ Model.get@@ Host@@ List@@ ().set@@ Items(@@ host@@ s); remove@@ Storage@@ Model.get@@ Host@@ List@@ ().set@@ SelectedItem@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ fi@@ r@@ st@@ Or@@ Default@@ (@@ host@@ s@@ )); remove@@ Storage@@ Model.get@@ Format@@ ().set@@ Entity@@ (@@ false@@ ); if (@@ hosts.@@ isEmpty@@ ()) { org.ovirt.engine.ui.uicommonweb.UICommand temp@@ V@@ a@@ r = create@@ Cancel@@ Command@@ ("@@ Cancel@@ "); tempVar@@ .set@@ Is@@ Default@@ (@@ true@@ ); remove@@ Storage@@ Model.get@@ Command@@ s().@@ add(@@ tempVar@@ ); } else { org.ovirt.engine.ui.uicommonweb.UICommand command@@ ; c@@ ommand = org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Default@@ O@@ k@@ U@@ i@@ Command@@ ("@@ On@@ Remove@@ ", this@@ ); remove@@ Storage@@ Model.get@@ Command@@ s().@@ add@@ (command@@ ); c@@ ommand = create@@ Cancel@@ Command@@ ("@@ Cancel@@ "); remove@@ Storage@@ Model.get@@ Command@@ s().@@ add@@ (command@@ ); } }
public org.ovirt.engine.ui.uicommonweb.models.@@ re@@ port@@ s.@@ Re@@ port@@ s@@ List@@ Model get@@ Re@@ port@@ s@@ List@@ () { return new org.ovirt.engine.ui.uicommonweb.models.@@ re@@ port@@ s.@@ Re@@ port@@ s@@ ListModel@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Re@@ port@@ In@@ it.@@ get@@ Instance().get@@ Re@@ port@@ Base@@ U@@ r@@ l@@ (), org.ovirt.engine.ui.uicommonweb.@@ Re@@ port@@ In@@ it.@@ get@@ Instance().get@@ S@@ s@@ o@@ To@@ k@@ en@@ (), null@@ ); }
protected boolean set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ () { set@@ Disk@@ Profile@@ Parameters@@ (); if (is@@ DiskImage@@ ()) { org.ovirt.engine.core.common.businessentities.@@ DiskImage new@@ DiskImage = ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (get@@ New@@ Disk@@ ())); if (!(@@ validate@@ (@@ new org.ovirt.engine.core.bll.@@ profil@@ es.@@ Disk@@ Profile@@ Validator@@ (@@ new@@ Disk@@ Image.get@@ Disk@@ Profile@@ Id@@ ()).@@ is@@ StorageDomain@@ Valid@@ (@@ new@@ Disk@@ Image.get@@ Disk@@ Profile@@ Id@@ ())@@ ))) { return false@@ ; } } return true@@ ; }
public synchronized void update@@ Quota@@ C@@ ach@@ e@@ () { if (!(@@ is@@ C@@ ach@@ e@@ Update@@ N@@ e@@ e@@ ded@@ ())) { return@@ ; } log.debug@@ ("@@ Up@@ dat@@ ing Qu@@ ot@@ a C@@ ach@@ e.@@ .@@ "); long time@@ St@@ ar@@ t = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Quota@@ > all@@ Quota@@ In@@ c@@ lu@@ d@@ ing@@ Cons@@ um@@ ption = get@@ Quota@@ Dao().get@@ All@@ Quota@@ In@@ c@@ lu@@ d@@ ing@@ Cons@@ um@@ ption@@ (); if (@@ all@@ Quota@@ In@@ c@@ lu@@ d@@ ing@@ Cons@@ um@@ ption@@ .@@ isEmpty@@ ()) { return@@ ; } java.util.HashMap<@@ org.ovirt.engine.core.compat.Guid@@ , java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ Quota@@ >> new@@ StoragePool@@ Quota@@ Map = new java.util.HashMap<@@ >(); java.util.HashMap<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.compat.Guid> new@@ Default@@ Quota@@ Id@@ Map = new java.util.HashMap<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Qu@@ ot@@ a qu@@ ot@@ a : all@@ Quota@@ In@@ c@@ lu@@ d@@ ing@@ Cons@@ um@@ ption@@ ) { if (!@@ (@@ new@@ StoragePool@@ Quota@@ Map.@@ contains@@ Key@@ (@@ quota@@ .get@@ StoragePool@@ Id@@ ()))) { new@@ StoragePool@@ Quota@@ Map.@@ put(@@ quota@@ .get@@ StoragePool@@ Id(), new java.util.Hash@@ Map@@ ()); } new@@ StoragePool@@ Quota@@ Map@@ .get(@@ quota@@ .get@@ StoragePool@@ Id@@ ()).@@ put(@@ quota@@ .get@@ Id(), quota@@ ); if (@@ quota@@ .is@@ Default@@ ()) { new@@ Default@@ Quota@@ Id@@ Map.@@ put(@@ quota@@ .get@@ StoragePool@@ Id(), quota@@ .getId()); } } lock@@ .@@ w@@ rite@@ Lock@@ ().@@ lock@@ (); try { storagePool@@ Quota@@ Map = new@@ StoragePool@@ Quota@@ Map@@ ; storagePool@@ Default@@ Quota@@ Id@@ Map = new@@ Default@@ Quota@@ Id@@ Map@@ ; } final@@ l@@ y { lock@@ .@@ w@@ rite@@ Lock@@ ().@@ un@@ lock@@ (); } long time@@ En@@ d = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); log.info@@ ("@@ Qu@@ ot@@ a C@@ ach@@ e update@@ d@@ . (@@ {@@ } m@@ s@@ ec@@ )@@ ", (@@ time@@ En@@ d - time@@ Start@@ )); }
@java.lang.Override public void save@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Pool pool@@ ) { org.ovirt.engine.core.compat.Guid id = pool@@ .get@@ Vm@@ Pool@@ Id@@ (); if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (@@ id@@ )) { id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); p@@ oo@@ l.@@ set@@ Vm@@ Pool@@ Id(@@ id@@ ); } org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ vm@@ _@@ pool@@ _@@ d@@ escription@@ ", pool@@ .get@@ Vm@@ Pool@@ Description@@ ()).addValue("@@ vm@@ _@@ pool@@ _@@ c@@ omm@@ ent@@ ", pool@@ .get@@ Comm@@ ent@@ ()).addValue("@@ vm@@ _@@ pool@@ _id", pool@@ .get@@ Vm@@ Pool@@ Id@@ ()).addValue("@@ vm@@ _@@ pool@@ _@@ name@@ ", pool@@ .getName@@ ()).addValue("@@ vm@@ _@@ pool@@ _@@ type@@ ", pool@@ .get@@ Vm@@ Pool@@ Type@@ ()).addValue("@@ parameters@@ ", pool@@ .get@@ Parameters@@ ()).addValue("@@ p@@ res@@ t@@ ar@@ ted@@ _@@ vm@@ s", pool@@ .get@@ Pres@@ t@@ ar@@ ted@@ Vms@@ ()).addValue("@@ vds@@ _@@ group@@ _id", pool@@ .get@@ VdsGroup@@ Id@@ ()).addValue("@@ ma@@ x@@ _@@ ass@@ ig@@ ne@@ d@@ _@@ vm@@ s@@ _@@ per@@ _@@ user@@ ", pool@@ .get@@ Max@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Per@@ User@@ ()).addValue("@@ sp@@ ice@@ _@@ pro@@ xy@@ ", pool@@ .get@@ Sp@@ ice@@ Proxy@@ ()).addValue("@@ vm@@ _@@ pool@@ _@@ vm@@ t@@ _@@ g@@ uid@@ ", pool@@ .get@@ Vm@@ t@@ Guid@@ ()).addValue("@@ vm@@ _@@ pool@@ _@@ is@@ _@@ l@@ at@@ est@@ ", p@@ oo@@ l.@@ is@@ U@@ se@@ L@@ at@@ est@@ Version@@ ()); get@@ Call@@ sHandler@@ ().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ In@@ sert@@ Vm@@ _@@ pool@@ s", parameter@@ Source@@ ); }
@java.lang.Override protected void read@@ Os@@ S@@ ection@@ (@@ X@@ ml@@ Nod@@ e s@@ ection@@ ) { _@@ vm.get@@ StaticData@@ ().set@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (s@@ ection@@ .@@ Att@@ ri@@ b@@ ut@@ es@@ .get@@ ("@@ ovf@@ :@@ id@@ "@@ ).get@@ Value@@ ())); X@@ ml@@ Nod@@ e n@@ od@@ e = s@@ ection@@ .S@@ el@@ ect@@ Sing@@ le@@ Node@@ ("@@ Description@@ "); if (@@ n@@ od@@ e != null@@ ) { if (@@ n@@ od@@ e.@@ In@@ n@@ er@@ T@@ ex@@ t.@@ equals(@@ java.lang.String.@@ value@@ Of@@ (@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ OL@@ D_@@ O@@ TH@@ ER_@@ ID@@ ))) { n@@ od@@ e.@@ In@@ n@@ er@@ T@@ ex@@ t = java.lang.String.@@ value@@ Of@@ (@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ DE@@ FA@@ U@@ L@@ T_@@ O@@ S@@ ); } _@@ vm.get@@ StaticData@@ ().set@@ Os@@ Id(@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ Os@@ Id@@ By@@ Un@@ i@@ q@@ ue@@ Name(@@ n@@ od@@ e.@@ In@@ n@@ er@@ Text@@ )); } _@@ vm@@ .set@@ Ar@@ ch@@ it@@ ect@@ ure(@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ x@@ 8@@ 6@@ _@@ 6@@ 4@@ ); }
private static void log@@ And@@ Fail@@ Par@@ ti@@ all@@ y@@ Comp@@ let@@ ed@@ Command@@ Task@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ AsyncTask@@ s task@@ ) { org.ovirt.engine.core.bll.@@ AsyncTask@@ Manager.@@ log.info@@ Format@@ ("@@ Fail@@ ing par@@ ti@@ all@@ y comp@@ let@@ ed t@@ as@@ k AsyncTask@@ Type {0@@ } : T@@ as@@ k '@@ {@@ 1@@ }@@ ' Par@@ ent C@@ ommand {@@ 2@@ }@@ ", task@@ .get@@ Task@@ Type@@ (), task@@ .get@@ Task@@ Id(), task@@ .get@@ action@@ _@@ type@@ ()); task@@ .get@@ Task@@ Parameters@@ ().set@@ Task@@ Group@@ Success@@ (@@ false@@ ); org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Handler.@@ end@@ Task@@ Step@@ (@@ task@@ .get@@ Step@@ Id(), Job@@ Execution@@ Status.@@ FAIL@@ ED); org.ovirt.engine.core.bll.@@ AsyncTask@@ Manager.@@ remove@@ Task@@ From@@ Db@@ By@@ Task@@ Id(@@ task@@ .get@@ Task@@ Id()); if ((@@ task@@ .get@@ Task@@ Type()) == (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Type.@@ un@@ k@@ n@@ ow@@ n@@ )) { org.ovirt.engine.core.bll.@@ AsyncTask@@ Manager.@@ log.info@@ Format@@ ("@@ No@@ t call@@ ing end@@ Ac@@ tion for t@@ as@@ k wit@@ h o@@ u@@ t vds@@ m id and AsyncTask@@ Type {0@@ } : T@@ as@@ k '@@ {@@ 1@@ }@@ ' Par@@ ent C@@ ommand {@@ 2@@ }@@ ", task@@ .get@@ Task@@ Type@@ (), task@@ .get@@ Task@@ Id(), task@@ .get@@ action@@ _@@ type@@ ()); return@@ ; } org.ovirt.engine.core.compat.@@ N@@ Gui@@ d st@@ ep@@ Id = task@@ .get@@ Step@@ Id@@ (); org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Contex@@ t contex@@ t = null@@ ; if (@@ st@@ ep@@ Id != null@@ ) { contex@@ t = org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Handler.@@ create@@ F@@ in@@ al@@ iz@@ ing@@ Context@@ (@@ st@@ ep@@ Id@@ .get@@ Value@@ ()); } org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ end@@ Action@@ (@@ task@@ .get@@ action@@ _@@ type@@ (), task@@ .get@@ Action@@ Parameters@@ (), new org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Context@@ (@@ contex@@ t@@ )); }
@java.lang.Override public org.ovirt.engine.core.common.@@ event@@ q@@ ue@@ u@@ e.@@ Event@@ Result call@@ () { java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> vds@@ Conn@@ ected@@ To@@ Pool = org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ I@@ r@@ s@@ Proxy@@ Data@@ .get@@ Vds@@ Conn@@ ected@@ To@@ Pool@@ (@@ _@@ storagePool@@ Id); java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> vds@@ D@@ om@@ In@@ M@@ a@@ int@@ en@@ an@@ c@@ e = _@@ do@@ m@@ ain@@ s@@ In@@ M@@ a@@ int@@ en@@ an@@ c@@ e.get@@ (@@ do@@ m@@ ain@@ .getId()); if ((@@ vds@@ Conn@@ ected@@ To@@ Poo@@ l.@@ isEmpty@@ ()) || ((@@ vds@@ D@@ om@@ In@@ M@@ a@@ int@@ en@@ an@@ c@@ e != null@@ ) && (vds@@ D@@ om@@ In@@ M@@ a@@ int@@ en@@ an@@ c@@ e.c@@ on@@ t@@ ain@@ s@@ All@@ (vds@@ Conn@@ ected@@ To@@ Pool@@ )@@ ))) { org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ I@@ r@@ s@@ Proxy@@ Data@@ .@@ log.info@@ ("@@ M@@ ov@@ ing do@@ ma@@ in '{}@@ ' to m@@ a@@ int@@ en@@ ance@@ ", do@@ m@@ ain@@ .getId()); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StoragePool@@ Iso@@ Map@@ Dao().@@ update@@ Status@@ (@@ do@@ m@@ ain@@ .get@@ StoragePool@@ Iso@@ Map@@ Data@@ ().get@@ Id(), StorageDomain@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ ); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base au@@ ditLog@@ able@@ Base = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); au@@ ditLog@@ able@@ Bas@@ e.@@ add@@ Custom@@ Value("@@ StorageDomain@@ Name@@ ", do@@ m@@ ain@@ .get@@ Name()); au@@ ditLog@@ able@@ Bas@@ e.@@ add@@ Custom@@ Value("@@ StoragePool@@ Name@@ ", pool@@ .get@@ Name()); } return null@@ ; }
void update@@ (org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k b@@ ook@@ mar@@ k@@ );
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ NETWOR@@ K@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ AT@@ T@@ AC@@ H@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Migr@@ ate Vir@@ tu@@ al M@@ ach@@ in@@ e(@@ s@@ )@@ ") java.lang.String m@@ igr@@ ate@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ es@@ Title@@ ();
@java.lang.Override protected boolean validate@@ () { org.ovirt.engine.core.compat.Guid id = org.ovirt.engine.core.bll.@@ aaa.@@ Remove@@ User@@ Command.getParameters().get@@ Id@@ (); if (org.ovirt.engine.core.bll.@@ aaa.@@ Remove@@ User@@ Command.get@@ C@@ urrent@@ User@@ ().get@@ Id().@@ equals(@@ id@@ )) { add@@ Validation@@ Message@@ (EngineMessage.@@ US@@ ER_@@ C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ H@@ IM@@ S@@ E@@ L@@ F@@ ); return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Us@@ er db@@ Us@@ er = org.ovirt.engine.core.bll.@@ aaa.@@ Remove@@ User@@ Command.get@@ Db@@ User@@ Dao().get@@ (@@ id@@ ); if (@@ db@@ Us@@ er == null@@ ) { add@@ Validation@@ Message@@ (EngineMessage.@@ US@@ ER_@@ M@@ U@@ ST@@ _@@ EXIST@@ _@@ IN_@@ D@@ B@@ ); return false@@ ; } return true@@ ; }
private void pre@@ par@@ e@@ Mock@@ s@@ (org.ovirt.engine.core.bll.@@ gluster.@@ Comm@@ it@@ Remove@@ GlusterVolume@@ Brick@@ s@@ C@@ ommand command@@ ) { do@@ Return(@@ volume@@ Dao@@ ).when@@ (command@@ ).get@@ GlusterVolume@@ Dao@@ (); do@@ Return(@@ brick@@ Dao@@ ).when@@ (command@@ ).get@@ Gluster@@ Brick@@ Dao@@ (); do@@ Return(@@ db@@ Util@@ s@@ ).when@@ (command@@ ).get@@ Db@@ Util@@ s(); do@@ Return@@ (get@@ Vds@@ (@@ VDS@@ Status.@@ Up@@ )).@@ when@@ (command@@ ).get@@ Up@@ Server@@ (); do@@ Return@@ (get@@ Volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ (@@ volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ )).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ ); do@@ Return@@ (get@@ Brick@@ s(@@ volume@@ With@@ out@@ Remove@@ Brick@@ s@@ Task@@ , 2@@ )).@@ when(@@ brick@@ Dao@@ ).get@@ GlusterVolume@@ Brick@@ sBy@@ Task@@ Id(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return@@ (get@@ Volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ Not@@ F@@ in@@ is@@ h@@ ed(@@ volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ Not@@ F@@ in@@ is@@ h@@ ed@@ )).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ Not@@ F@@ in@@ is@@ h@@ ed@@ ); do@@ Return@@ (get@@ Volum@@ e(@@ volume@@ With@@ out@@ AsyncTask@@ )).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ volume@@ With@@ out@@ AsyncTask@@ ); do@@ Return@@ (get@@ volume@@ With@@ out@@ Remove@@ Brick@@ s@@ Task@@ (@@ volume@@ With@@ out@@ Remove@@ Brick@@ s@@ Task@@ )).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ volume@@ With@@ out@@ Remove@@ Brick@@ s@@ Task@@ ); do@@ Return@@ (get@@ Volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ Null@@ (@@ volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ Null@@ )).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ Null@@ ); do@@ Return@@ (@@ null@@ ).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id@@ (@@ null@@ ); }
public void P@@ ost@@ Network@@ Action@@ (org.ovirt.engine.core.compat.Guid network@@ Guid@@ , boolean s@@ uc@@ ceeded@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ DataCenter@@ Network@@ Model network@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ DataCenter@@ Network@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); if (s@@ uc@@ ceeded@@ ) { Cancel@@ (); } else { network@@ Model.@@ St@@ op@@ Progress@@ (); return@@ ; } network@@ Model.@@ St@@ op@@ Progress@@ (); org.ovirt.engine.core.common.businessentities.@@ Network n@@ etwork = network@@ Model.get@@ current@@ Network@@ (); org.ovirt.engine.core.compat.Guid network@@ Id = (network@@ Model.get@@ Is@@ New@@ ()) ? network@@ Gui@@ d : network@@ .getId@@ (); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > attach@@ Network@@ To@@ Cluster@@ s = org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ Exce@@ p@@ t@@ (network@@ Model.@@ ge@@ t@@ new@@ C@@ lust@@ ers@@ (), network@@ Model.get@@ O@@ ri@@ gin@@ al@@ C@@ lust@@ ers@@ ()); java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > action@@ Parameters@@ 1 = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group attach@@ Network@@ To@@ C@@ luster : attach@@ Network@@ To@@ C@@ lust@@ ers@@ ) { org.ovirt.engine.core.common.businessentities.@@ Network temp@@ V@@ a@@ r = new org.ovirt.engine.core.common.businessentities.@@ Network@@ (@@ null@@ ); tempVar@@ .set@@ Id(@@ network@@ Id); tempVar@@ .set@@ name@@ (network@@ .get@@ name@@ ()); tempVar@@ .set@@ Cluster@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ network@@ _@@ cluster@@ ()); action@@ Parameters@@ 1@@ .@@ add@@ (@@ new org.ovirt.engine.core.common.action.@@ Attach@@ Network@@ To@@ VdsGroup@@ Parameter@@ (@@ attach@@ Network@@ To@@ Cluster@@ , tempVar@@ )); } org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Multiple@@ Action(VdcActionType.@@ Attach@@ Network@@ To@@ VdsGroup@@ , action@@ Parameters@@ 1@@ ); }
private java.lang.@@ L@@ on@@ g par@@ se@@ S@@ afe@@ L@@ on@@ g@@ (@@ java.util.Map<java.lang.String, java.lang.Object> in@@ n@@ er@@ Map@@ , java.lang.String key@@ ) { return (in@@ n@@ er@@ Map.@@ contains@@ Key@@ (@@ key@@ )) && (@@ org.apache.commons.lang.StringUtils.@@ is@@ Num@@ er@@ ic@@ (@@ key@@ )) ? java.lang.@@ L@@ on@@ g.@@ par@@ se@@ L@@ on@@ g@@ (in@@ n@@ er@@ Map@@ .get(@@ key@@ ).@@ toString@@ ()) : null@@ ; }
public static void get@@ StorageDomain@@ By@@ Id(@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , org.ovirt.engine.core.compat.Guid storageDomain@@ Id) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { return s@@ ource != null ? ((@@ org.ovirt.engine.core.common.queries.@@ StorageDomain@@ ) (s@@ ource@@ )) : null@@ ; } }; org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ StorageDomain@@ By@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ storageDomain@@ Id@@ ), aQuery@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > get@@ AllFor@@ Mac@@ (java.lang.String m@@ ac@@ Address@@ ) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Vm@@ Interfaces@@ By@@ Mac@@ Address@@ ", map@@ per@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ m@@ ac@@ _@@ add@@ ress@@ ", m@@ ac@@ Address@@ )); }
@org.junit.Test public void read@@ Only@@ Is@@ Supported@@ By@@ Disk@@ Interface@@ () { disk@@ .set@@ Read@@ Only@@ (@@ true@@ ); disk@@ .set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ ); assert@@ That@@ (@@ validator.@@ is@@ Read@@ Only@@ Property@@ C@@ ompati@@ bl@@ e@@ With@@ Interface@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ ()); disk@@ .set@@ Read@@ Only@@ (@@ true@@ ); disk@@ .set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _S@@ C@@ SI@@ ); assert@@ That@@ (@@ validator.@@ is@@ Read@@ Only@@ Property@@ C@@ ompati@@ bl@@ e@@ With@@ Interface@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ ()); disk@@ .set@@ Read@@ Only@@ (@@ false@@ ); disk@@ .set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ ID@@ E); assert@@ That@@ (@@ validator.@@ is@@ Read@@ Only@@ Property@@ C@@ ompati@@ bl@@ e@@ With@@ Interface@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ ()); }
@org.junit.Test public void test@@ Read@@ Boolean@@ List@@ En@@ d@@ Element@@ () { org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ run@@ tim@@ e.@@ x@@ ml.@@ X@@ ml@@ Re@@ ade@@ r re@@ ade@@ r = op@@ en@@ Read@@ er@@ ("@@ <@@ valu@@ es@@ >@@ <@@ value@@ >@@ true@@ <@@ /@@ value@@ >@@ <@@ value@@ >@@ false@@ <@@ /@@ value@@ >@@ <@@ /@@ valu@@ es@@ >@@ "); read@@ er.@@ read@@ B@@ oole@@ ans@@ (); assert@@ Equals@@ (@@ javax.@@ x@@ ml.@@ stream@@ .@@ X@@ M@@ L@@ St@@ ream@@ Constants.@@ EN@@ D_@@ E@@ LE@@ M@@ EN@@ T@@ , read@@ er@@ .get@@ Event@@ Type@@ ()); assert@@ Equals@@ ("@@ valu@@ es@@ ", read@@ er@@ .get@@ Local@@ Name()); }
@java.lang.Override public void on@@ Lo@@ ad@@ () { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ fer@@ red@@ (@@ new com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er.@@ Schedul@@ ed@@ Command() { @java.lang.Override public void execute@@ () { r@@ ec@@ al@@ c@@ ul@@ ate@@ Size@@ (); sh@@ ow@@ S@@ c@@ ro@@ ll@@ Button@@ s(); } }); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Name(@@ T item@@ ) { java.lang.String result = "@@ "; if (@@ i@@ te@@ m instanceof org.ovirt.engine.core.common.businessentities.@@ Name@@ able@@ ) { result = ((org.ovirt.engine.core.common.businessentities.@@ Name@@ able@@ ) (@@ item@@ )@@ ).get@@ Name@@ (); } return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (@@ result@@ ); }
public org.ovirt.engine.core.bll.ValidationResult valu@@ es@@ Cons@@ ist@@ ent@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Network@@ Q@@ o@@ s q@@ o@@ s = get@@ Qos@@ (); if (@@ q@@ o@@ s == null@@ ) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } java.lang.Integ@@ er out@@ Up@@ per@@ l@@ im@@ i@@ t = q@@ os@@ .get@@ Out@@ A@@ ver@@ age@@ Up@@ per@@ l@@ im@@ it@@ (); java.lang.Integ@@ er out@@ Re@@ al@@ tim@@ e = q@@ os@@ .get@@ Out@@ A@@ ver@@ age@@ Re@@ al@@ time@@ (); return ((@@ out@@ Up@@ per@@ l@@ im@@ i@@ t != null@@ ) && (@@ out@@ Re@@ al@@ tim@@ e != null@@ )) && (@@ out@@ Up@@ per@@ l@@ im@@ i@@ t < out@@ Re@@ al@@ tim@@ e) ? new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ HOST@@ _@@ NETWORK_@@ Q@@ O@@ S_@@ IN@@ C@@ ON@@ SI@@ ST@@ EN@@ T_@@ VAL@@ U@@ ES@@ ) : org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
protected org.ovirt.engine.api.model.@@ User@@ s map@@ Db@@ User@@ Collection@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ > enti@@ ties@@ ) { org.ovirt.engine.api.model.@@ User@@ s c@@ oll@@ ec@@ tion = new org.ovirt.engine.api.model.@@ Us@@ ers@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er enti@@ ty : enti@@ ties@@ ) { c@@ oll@@ ection@@ .get@@ Us@@ ers@@ ().@@ add(@@ add@@ Link@@ s(@@ m@@ o@@ d@@ if@@ y@@ Domain@@ (m@@ ap@@ (@@ entity@@ )@@ ), org.ovirt.engine.api.model.@@ Base@@ Resource@@ .@@ class@@ )); } return c@@ oll@@ ection@@ ; }
@org.junit.Test public void test@@ Remove@@ Can@@ t@@ Do@@ () throw@@ s java.lang.Exception { setUp@@ Get@@ Entity@@ Expectation@@ s(); do@@ Test@@ B@@ ad@@ Remove@@ (@@ false@@ , true@@ , org.ovirt.engine.api.restapi.resource.@@ C@@ AN@@ T_@@ DO@@ ); }
@org.junit.Test public void test@@ Al@@ read@@ y@@ Exist@@ StorageDomain@@ () { when@@ (command@@ .get@@ StorageDomain@@ Static@@ Dao().get@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command@@ Tes@@ t.get@@ StorageDomain@@ ()); assert@@ F@@ alse@@ ("@@ Stor@@ age Domain al@@ read@@ y ex@@ ist@@ s", command@@ .@@ can@@ Add@@ Domain@@ ()); assert@@ True@@ ("@@ Im@@ por@@ t bl@@ oc@@ k Stor@@ age Domain shoul@@ d ha@@ v@@ e fail@@ ed d@@ u@@ e to al@@ read@@ y ex@@ ist@@ ing Stor@@ age Domain@@ ", command@@ .get@@ ReturnValue().get@@ Validation@@ Messages@@ ().@@ contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ .@@ toString@@ ())); }
protected void for@@ ce@@ Cre@@ ation@@ W@@ arning@@ (@@ java.util.ArrayList<@@ java.lang.String> us@@ ed@@ Lun@@ s@@ Messages@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model confi@@ rm@@ ation@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ confi@@ rm@@ ation@@ Model@@ ); confi@@ rm@@ ation@@ Model.set@@ Title(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model.@@ C@@ ON@@ ST@@ AN@@ T@@ S@@ .@@ for@@ ce@@ StorageDomain@@ Cre@@ ation@@ ()); confi@@ rm@@ ation@@ Model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model.@@ C@@ ON@@ ST@@ AN@@ T@@ S@@ .@@ lun@@ s@@ Al@@ read@@ y@@ P@@ art@@ Of@@ S@@ D@@ ()); confi@@ rm@@ ation@@ Model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ lun@@ _@@ disk@@ _@@ c@@ re@@ ation@@ ); confi@@ rm@@ ation@@ Model.set@@ Hash@@ Name(@@ "@@ for@@ ce@@ _@@ lun@@ _@@ disk@@ _@@ c@@ re@@ ation@@ "); confi@@ rm@@ ation@@ Model.set@@ Items(@@ us@@ ed@@ Lun@@ s@@ Messages@@ ); org.ovirt.engine.ui.uicommonweb.UICommand for@@ ce@@ S@@ ave@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ For@@ ce@@ S@@ ave@@ ", this@@ ); for@@ ce@@ S@@ ave@@ Command.set@@ Title(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model.@@ C@@ ON@@ ST@@ AN@@ T@@ S@@ .@@ o@@ k@@ ()); for@@ ce@@ S@@ ave@@ Command.set@@ Is@@ Default@@ (@@ true@@ ); confi@@ rm@@ ation@@ Model.get@@ Command@@ s().@@ add@@ (@@ for@@ ce@@ S@@ ave@@ Command@@ ); org.ovirt.engine.ui.uicommonweb.UICommand cancel@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ Confirm@@ ", this@@ ); cancel@@ Command.set@@ Title(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model.@@ C@@ ON@@ ST@@ AN@@ T@@ S@@ .@@ cancel@@ ()); cancel@@ Command.set@@ Is@@ Cancel@@ (@@ true@@ ); confi@@ rm@@ ation@@ Model.get@@ Command@@ s().@@ add@@ (c@@ ance@@ l@@ confi@@ rm@@ Command@@ ); }
protected abstract org.ovirt.engine.core.common.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Type get@@ Host@@ Job@@ Type@@ ();
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ M@@ a@@ int@@ en@@ an@@ c@@ e Host@@ (s@@ )@@ ") java.lang.String m@@ a@@ int@@ en@@ ance@@ Host@@ s@@ Title@@ ();
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult validate@@ (java.lang.Object value@@ ) { org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult result = new org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult@@ (); if ((@@ valu@@ e != null@@ ) && ((@@ valu@@ e instanceof java.lang.String@@ ) && ((@@ valu@@ e.@@ l@@ ength@@ ()) > (get@@ Max@@ L@@ ength@@ ()))) { result.@@ set@@ Success@@ (@@ false@@ ); result.get@@ Reason@@ s().@@ add(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ l@@ en@@ Validation@@ Fiel@@ d@@ M@@ us@@ not@@ Exce@@ ed@@ (get@@ Max@@ L@@ ength@@ ())); } return result@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { init@@ Import@@ Cl@@ on@@ ed@@ Template@@ Disks@@ (); add@@ VmTemplate@@ To@@ Db@@ (); map@@ Db@@ Us@@ ers@@ (); update@@ O@@ ri@@ gin@@ al@@ Template@@ Name@@ On@@ D@@ er@@ i@@ v@@ ed@@ Vms@@ (); add@@ Vm@@ Interfaces@@ (); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ vm@@ Handler.@@ add@@ Vm@@ Init@@ To@@ D@@ B@@ (get@@ VmTemplate@@ ().get@@ Vm@@ Init@@ ()); return null@@ ; }); boolean do@@ es@@ VmTemplate@@ Contain@@ Image@@ s = !@@ (get@@ Images@@ ().is@@ Empty@@ ()); if (@@ do@@ es@@ VmTemplate@@ Contain@@ Image@@ s && (!@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Import@@ VmTemplate@@ Command.get@@ Parameters@@ ().is@@ Images@@ Exist@@ On@@ T@@ arget@@ StorageDomain@@ ()))) { m@@ ove@@ Or@@ Copy@@ All@@ ImageGroup@@ s@@ (get@@ VmTemplate@@ Id(), get@@ Images@@ ()); } org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Import@@ VmTemplate@@ Command.getVm@@ Device@@ Util@@ s().@@ add@@ Im@@ ported@@ Devices@@ (get@@ VmTemplate@@ (), org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Import@@ VmTemplate@@ Command.get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ (), false@@ , get@@ Images@@ ().@@ stream@@ ().@@ map@@ (@@ DiskImage@@ :@@ :@@ :@@ get@@ Id@@ ).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ())); if ((@@ !@@ do@@ es@@ VmTemplate@@ Contain@@ Images@@ ) || (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Import@@ VmTemplate@@ Command.get@@ Parameters@@ ().is@@ Images@@ Exist@@ On@@ T@@ arget@@ StorageDomain@@ ())) { end@@ Move@@ Or@@ Copy@@ Command@@ (); } dis@@ c@@ ard@@ Helper.@@ log@@ If@@ Disks@@ With@@ I@@ l@@ le@@ g@@ al@@ P@@ ass@@ Dis@@ c@@ ard@@ Exist@@ (get@@ VmTemplate@@ Id()); check@@ Tr@@ ust@@ ed@@ Service@@ (); org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Import@@ VmTemplate@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
public java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > build@@ Parameters(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > nic@@ s) { java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> n@@ on@@ Update@@ able@@ Host@@ s = new java.util.Hash@@ Set<@@ >(); java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > parameter@@ s = new java.util.ArrayList<>(); boolean v@@ lan@@ Network = org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ is@@ V@@ lan@@ (network@@ ); for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface n@@ ic : nic@@ s) { org.ovirt.engine.core.common.action.@@ SetupNetworks@@ Parameters set@@ up@@ Network@@ Param@@ s = create@@ SetupNetworks@@ Parameters(@@ nic@@ .get@@ Vds@@ Id()); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface nic@@ To@@ Configur@@ e = get@@ Nic@@ To@@ Configur@@ e(@@ set@@ up@@ Network@@ Param@@ s.get@@ Interfaces@@ (), nic@@ .getId()); if (@@ nic@@ To@@ Configur@@ e == null@@ ) { continue@@ ; } if (network@@ .getName@@ ().@@ equals(@@ nic@@ To@@ Configur@@ e.get@@ Network@@ Name@@ ())) { nic@@ To@@ Configur@@ e.set@@ Network@@ Name@@ (@@ null@@ ); } else if (@@ v@@ lan@@ Network@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface v@@ l@@ an = get@@ V@@ lan@@ Device@@ (@@ set@@ up@@ Network@@ Param@@ s, nic@@ To@@ Configur@@ e); if (@@ v@@ l@@ an == null@@ ) { n@@ on@@ Update@@ able@@ Host@@ s.add(@@ nic@@ .get@@ Vds@@ Id()); } else { set@@ up@@ Network@@ Param@@ s.get@@ Interfaces@@ ().@@ remove@@ (@@ v@@ lan@@ ); } } else { n@@ on@@ Update@@ able@@ Host@@ s.add(@@ nic@@ .get@@ Vds@@ Id()); continue@@ ; } parameter@@ s.add(@@ set@@ up@@ Network@@ Param@@ s); } re@@ port@@ Non@@ Update@@ able@@ Host@@ s(@@ n@@ on@@ Update@@ able@@ Host@@ s); return parameters@@ ; }
@java.lang.Override protected void setUp@@ Query@@ Expectations(@@ java.lang.String query@@ , java.lang.Object fail@@ ure@@ ) throw@@ s java.lang.Exception { setUp@@ Entity@@ Query@@ Expectations(@@ VdcQuery@@ Type.Get@@ Err@@ ata@@ For@@ Host@@ , org.ovirt.engine.core.common.queries.@@ Get@@ Err@@ ata@@ Count@@ s@@ Parameters@@ .@@ class@@ , new java.lang.String@@ []{ "@@ Id@@ " }, new java.lang.Object@@ []{ G@@ UID@@ S@@ [@@ 0@@ ] }, get@@ Err@@ ata@@ (), fail@@ ure@@ ); cont@@ ro@@ l.@@ re@@ play@@ (); }
private void ex@@ tr@@ act@@ Rem@@ oved@@ Networks@@ () { for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e : get@@ Existing@@ I@@ fac@@ es@@ ().@@ valu@@ es@@ ()) { java.lang.String ne@@ t = if@@ ac@@ e.get@@ Network@@ Name@@ (); if ((@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (@@ net@@ )) && (!(@@ attach@@ ed@@ Networks@@ Nam@@ es.@@ contains(@@ net@@ )@@ ))) { rem@@ oved@@ Network@@ s.add(@@ net@@ ); } } java.util.List<java.lang.String> vm@@ Name@@ s = get@@ Vm@@ Interface@@ Manager@@ ().@@ fin@@ d@@ Active@@ Vms@@ Us@@ ing@@ Network@@ s(@@ param@@ s.get@@ Vds@@ Id(), rem@@ oved@@ Networks@@ ); if ((@@ vm@@ Nam@@ es.@@ size()) == 1@@ ) { add@@ Vi@@ ol@@ ation@@ (EngineMessage.@@ NETWORK_@@ C@@ ANNOT_@@ D@@ ET@@ AC@@ H@@ _@@ NETWORK_@@ US@@ ED_@@ B@@ Y_@@ S@@ ING@@ L@@ E_@@ VM@@ , vm@@ Names@@ .get(@@ 0@@ )); } else { for (java.lang.String vm@@ Name : vm@@ Names@@ ) { add@@ Vi@@ ol@@ ation@@ (EngineMessage.@@ NETWORK_@@ C@@ ANNOT_@@ D@@ ET@@ AC@@ H@@ _@@ NETWORK_@@ US@@ ED_@@ B@@ Y_@@ VM@@ S@@ , vm@@ Name); } } }
public void dis@@ mis@@ s@@ Event@@ () { org.ovirt.engine.core.common.businessentities.@@ Au@@ dit@@ Lo@@ g audit@@ Lo@@ g = org.ovirt.engine.ui.uicommonweb.models.@@ event@@ s.@@ Event@@ List@@ Model.get@@ SelectedItem@@ (); org.ovirt.engine.core.common.action.@@ Remove@@ AuditLog@@ By@@ Id@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Remove@@ AuditLog@@ By@@ Id@@ Parameters(@@ audit@@ Lo@@ g.@@ get@@ AuditLog@@ Id()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action(VdcActionType.@@ Remove@@ AuditLog@@ By@@ Id, param@@ s); }
@org.junit.Test public void test@@ Update@@ With@@ Non@@ Guid@@ Id@@ () { try { javax.ws.rs.@@ core.@@ U@@ ri@@ In@@ fo ur@@ i@@ In@@ fo = mock@@ U@@ ri@@ ("@@ vm@@ s", "@@ 00@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 00@@ 00@@ 00@@ 1@@ 1@@ ", "@@ disk@@ s", "@@ 1@@ 6@@ "); javax.ws.rs.@@ core.@@ Re@@ quest re@@ quest = mock@@ Request@@ ("@@ P@@ U@@ T@@ "); cont@@ ro@@ l.@@ re@@ play@@ (); org.ovirt.engine.api.model.@@ F@@ a@@ ult fa@@ ult = us@@ age@@ F@@ inder@@ .get@@ Us@@ age@@ Message@@ (@@ ur@@ i@@ Info@@ , request@@ ); assert@@ Equals@@ ("@@ F@@ or cor@@ r@@ ect us@@ age@@ , se@@ e@@ : http@@ :@@ /@@ /@@ local@@ host@@ :@@ 8@@ 0@@ 8@@ 0@@ /@@ ovir@@ t@@ -@@ engin@@ e@@ /@@ api@@ /@@ model@@ #@@ ser@@ vic@@ es@@ /@@ vm@@ -@@ disk@@ /@@ m@@ eth@@ o@@ ds@@ /@@ update@@ ", fa@@ ult.get@@ Detail@@ ()); } catch (@@ java.@@ net@@ .@@ UR@@ IS@@ yn@@ t@@ a@@ x@@ Exception | java.lang.@@ Class@@ Not@@ F@@ ound@@ Exception | java.io.@@ I@@ O@@ Exception e) { fail@@ (); } }
@java.lang.Override protected void Execu@@ te@@ Vds@@ Broker@@ Command() { t@@ as@@ k = new org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ AsyncTask@@ (); task@@ .set@@ Task@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); set@@ ReturnValue@@ (@@ task@@ ); org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Start@@ R@@ eb@@ al@@ ance@@ GlusterVolume@@ VDS@@ Command.@@ Pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); }
private boolean shoul@@ d@@ Command@@ En@@ d@@ On@@ Async@@ Op@@ En@@ d@@ (org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > cmd@@ ) { return (cmd@@ .get@@ Parameters().get@@ En@@ d@@ Pro@@ ce@@ d@@ ure@@ ()) == (@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Bas@@ e.@@ En@@ d@@ Pro@@ ce@@ d@@ ur@@ e.@@ C@@ O@@ M@@ M@@ M@@ AN@@ D_@@ M@@ AN@@ AG@@ ED); }
@org.junit.Test public void vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ Return@@ s@@ In@@ valid@@ Result@@ W@@ h@@ en@@ In@@ Snapshot@@ () throw@@ s java.lang.Exception { when@@ (s@@ napshot@@ Dao@@ .@@ ex@@ ist@@ s(@@ vm@@ Id, Snapshot@@ Status.@@ LO@@ C@@ K@@ ED@@ )).@@ then@@ Return@@ (@@ true@@ ); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator@@ Test.@@ validate@@ In@@ valid@@ Result@@ (@@ validator.@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (vm@@ Id@@ ), EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_@@ D@@ UR@@ ING@@ _S@@ NA@@ P@@ S@@ HO@@ T@@ ); }
private boolean shoul@@ d@@ Be@@ Configur@@ e@@ As@@ Bond@@ S@@ lave@@ (java.lang.String int@@ er@@ fac@@ e@@ Name@@ ) { for (org.ovirt.engine.core.common.businessentities.network.@@ Bon@@ d b@@ on@@ d : param@@ s.get@@ Bon@@ ds@@ ()) { if (@@ bond@@ .get@@ S@@ l@@ a@@ v@@ es@@ ().@@ contains@@ (@@ int@@ er@@ fac@@ e@@ Name@@ )) { return true@@ ; } } org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface existing@@ N@@ ic = existing@@ Interfaces@@ Map@@ .get@@ (@@ int@@ er@@ fac@@ e@@ Name); return (@@ existing@@ Nic@@ .is@@ P@@ art@@ Of@@ Bond@@ ()) && (!(@@ param@@ s.get@@ Rem@@ oved@@ Bon@@ ds@@ ().@@ contains(@@ existing@@ Nic@@ .get@@ Bond@@ Name@@ ()))); } }
private void update@@ Sp@@ ice@@ Us@@ b@@ Au@@ to@@ Sh@@ are@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ IS@@ p@@ ic@@ e sp@@ ice@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Sp@@ ice@@ Us@@ b@@ Au@@ to@@ Sh@@ are@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ <@@ java.lang.Boolean@@ >() { @java.lang.Override public void onSuccess@@ java.lang.@@ B@@ oolean return@@ Value@@ ) { sp@@ ic@@ e.get@@ Option@@ s@@ ().set@@ Us@@ b@@ Au@@ to@@ Sh@@ are@@ (@@ return@@ Value@@ ); } }@@ )); }
@java.lang.Override protected boolean canDoAction@@ () { if ((((@@ org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Parameters@@ ()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.getParameters().get@@ Agent@@ ()) == null@@ )) || ((org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.getParameters().get@@ Agent@@ ().get@@ Id()) == null@@ )) { return failCanDoAction@@ (EngineMessage.@@ VDS@@ _@@ RE@@ M@@ OV@@ E_@@ F@@ EN@@ C@@ E_@@ AG@@ EN@@ T_@@ ID@@ _@@ RE@@ Q@@ U@@ I@@ R@@ ED); } return super@@ .@@ canDoAction@@ (); }
private void update@@ R@@ ng@@ Device@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (org.ovirt.engine.core.compat.Guid vm@@ Base@@ Id, org.ovirt.engine.core.compat.@@ Version c@@ ustom@@ C@@ ompatibility@@ L@@ ev@@ el@@ , org.ovirt.engine.core.common.action.@@ H@@ as@@ R@@ ng@@ Device update@@ Parameters@@ ) { final org.ovirt.engine.core.compat.@@ Version old@@ E@@ ff@@ ec@@ tive@@ Version = org.ovirt.engine.core.common.utils.@@ CompatibilityVersion@@ Util@@ s.get@@ E@@ ff@@ ec@@ tive@@ (c@@ ustom@@ C@@ ompatibility@@ L@@ ev@@ el@@ , () -@@ > old@@ Cluster@@ .get@@ CompatibilityVersion@@ ()); final org.ovirt.engine.core.compat.@@ Version new@@ E@@ ff@@ ec@@ tive@@ Version = org.ovirt.engine.core.common.utils.@@ CompatibilityVersion@@ Util@@ s.get@@ E@@ ff@@ ec@@ tive@@ (c@@ ustom@@ C@@ ompatibility@@ L@@ ev@@ el@@ , () -@@ > get@@ Cluster@@ ().get@@ CompatibilityVersion@@ ()); vm@@ Update@@ Utils.@@ up@@ gr@@ ade@@ R@@ ng@@ Devic@@ es(@@ old@@ E@@ ff@@ ec@@ tive@@ Version@@ , new@@ E@@ ff@@ ec@@ tive@@ Version@@ , vm@@ Base@@ Id, org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.@@ cl@@ one@@ Context@@ (), update@@ Parameters@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > filter@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Per@@ Host@@ Message@@ s mess@@ ages@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > lis@@ t = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s : host@@ s) { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster = get@@ VdsGroup@@ Dao().get@@ (@@ vds.get@@ VdsGroup@@ Id()); java.lang.Integ@@ er cor@@ es = org.ovirt.engine.core.bll.@@ scheduling.@@ S@@ l@@ a@@ Validator@@ .get@@ E@@ ff@@ ec@@ tive@@ Cpu@@ C@@ or@@ es(@@ vds@@ , ((@@ c@@ luster != null@@ ) && (cluster@@ .get@@ Count@@ Th@@ rea@@ ds@@ As@@ C@@ or@@ es@@ ()))); if ((@@ cor@@ es != null@@ ) && ((@@ vm.get@@ Num@@ Of@@ C@@ p@@ us@@ ()) > cor@@ es@@ )) { mess@@ ages.@@ add@@ Message@@ (@@ vds.get@@ Id(), EngineMessage.@@ VAR__@@ D@@ ET@@ A@@ IL@@ __@@ NOT_@@ E@@ NO@@ U@@ G@@ H@@ _C@@ OR@@ ES@@ .@@ toString()); org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ C@@ P@@ U@@ Un@@ it.@@ log.debug@@ ("@@ Hos@@ t '{}@@ ' ha@@ s l@@ es@@ s cor@@ es (@@ {}@@ ) th@@ an vm cor@@ es (@@ {}@@ )@@ ", vds.get@@ Name(), cor@@ es@@ , vm.get@@ Num@@ Of@@ C@@ p@@ us@@ ()); continue@@ ; } lis@@ t.@@ add(@@ vds@@ ); } return list@@ ; }
public void s@@ ign@@ Out@@ () { for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ List@@ Model list@@ Model : get@@ Item@@ s()) { list@@ Model.@@ st@@ op@@ Re@@ fresh@@ (); } get@@ Event@@ List@@ ().@@ st@@ op@@ Re@@ fresh@@ (); get@@ Al@@ er@@ t@@ List@@ ().@@ st@@ op@@ Re@@ fresh@@ (); get@@ Task@@ List@@ ().@@ st@@ op@@ Re@@ fresh@@ (); get@@ B@@ ook@@ mar@@ k@@ List@@ ().@@ st@@ op@@ Re@@ fresh@@ (); get@@ Role@@ ListModel@@ ().@@ st@@ op@@ Re@@ fresh@@ (); get@@ System@@ Permission@@ ListModel@@ ().@@ st@@ op@@ Re@@ fresh@@ (); get@@ Cluster@@ Policy@@ ListModel@@ ().@@ st@@ op@@ Re@@ fresh@@ (); if (@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().get@@ Is@@ User@@ Log@@ ged@@ In@@ ()) { org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); _@@ async@@ Query@@ .set@@ H@@ andle@@ Fail@@ ure@@ (@@ true@@ ); _@@ async@@ Query@@ .set@@ Model@@ (@@ this@@ ); _@@ async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object ReturnValue@@ ) { } }; set@@ Log@@ ged@@ In@@ User@@ (@@ null@@ ); get@@ S@@ ig@@ ne@@ d@@ Out@@ Event@@ ().@@ r@@ a@@ is@@ e@@ (@@ this@@ , EventArg@@ s.@@ EM@@ P@@ TY@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ lo@@ go@@ ff@@ Async@@ (@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().get@@ Log@@ ged@@ In@@ User@@ (), _@@ async@@ Query@@ ); } }
public static org.ovirt.engine.core.common.errors.@@ EngineMess@@ age for@@ Value@@ (@@ int value@@ ) { return org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ valu@@ es@@ ()@@ [@@ value@@ ]@@ ; }
public org.ovirt.engine.ui.uicommonweb.UICommand get@@ Request@@ Console@@ Key@@ s@@ Command() { return s@@ el@@ ect@@ Console@@ Key@@ Command@@ ; }
public void add@@ Device@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Device de@@ vice@@ ) { ad@@ ded@@ Devic@@ es.@@ add(@@ de@@ vice@@ ); }
@org.junit.Test public void shoul@@ d@@ Add@@ Cluster@@ () { ar@@ em@@ .@@ on@@ Cluster@@ Delet@@ ed(@@ vds@@ Group@@ 2@@ ); ar@@ em@@ .@@ re@@ fresh@@ (); ve@@ r@@ if@@ y@@ (@@ ar@@ em@@ , ne@@ ver@@ ())@@ .m@@ igr@@ ate@@ VM@@ (@@ e@@ q@@ (vm@@ 2@@ )); ar@@ em@@ .@@ on@@ Cluster@@ Ad@@ ded@@ (vds@@ Group@@ 2@@ ); ar@@ em@@ .@@ re@@ fresh@@ (); ve@@ r@@ if@@ y@@ (@@ ar@@ em@@ )@@ .m@@ igr@@ ate@@ VM@@ (@@ e@@ q@@ (vm@@ 2@@ )); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Disk disk@@ ) { validate@@ Parameters@@ (disk@@ , "@@ provi@@ sion@@ ed@@ Size@@ |@@ size@@ ", "@@ for@@ mat@@ ", "@@ int@@ er@@ fac@@ e@@ "); org.ovirt.engine.api.restapi.resource.@@ validation.@@ Validator@@ Loc@@ ator@@ .get@@ Validator@@ (org.ovirt.engine.api.model.@@ Disk@@ .@@ class@@ ).@@ validate@@ Enum@@ s(@@ disk@@ ); org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters@@ (); params.set@@ Disk@@ Info@@ (get@@ Map@@ per@@ (org.ovirt.engine.api.model.@@ Disk@@ .@@ class@@ , org.ovirt.engine.api.model.@@ Disk@@ .@@ class@@ )@@ .m@@ ap@@ (disk@@ , null@@ )); if (((@@ disk@@ .is@@ Set@@ StorageDomain@@ s()) && (disk@@ .get@@ StorageDomain@@ s().@@ isSet@@ StorageDomain@@ s@@ ())) && (disk@@ .get@@ StorageDomain@@ s().get@@ StorageDomain@@ s().get@@ (0@@ ).@@ isSet@@ Id@@ ())) { params.set@@ StorageDomain@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (disk@@ .get@@ StorageDomain@@ s().get@@ StorageDomain@@ s().get@@ (0@@ ).get@@ Id@@ ())); } else if ((@@ disk@@ .is@@ Set@@ StorageDomain@@ s()) && (disk@@ .get@@ StorageDomain@@ s().get@@ StorageDomain@@ s().get@@ (0@@ ).@@ isSet@@ Name@@ ())) { params.set@@ StorageDomain@@ Id@@ (get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ storage@@ _@@ do@@ m@@ ain@@ s@@ .@@ class@@ , Search@@ Type.@@ StorageDomain@@ , ("@@ Storage@@ : name@@ =@@ " + (disk@@ .get@@ StorageDomain@@ s().get@@ (0@@ ).get@@ Name@@ ())@@ )@@ ).get@@ Id()); } return p@@ er@@ for@@ m@@ Cre@@ ation@@ (VdcActionType.@@ Add@@ Disk@@ , param@@ s, new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Disk@@ By@@ Disk@@ Id, org.ovirt.engine.core.common.queries.@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Parameters@@ .@@ class@@ )); }
public static void get@@ All@@ Vm@@ Templ@@ at@@ es(@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Template@@ Conver@@ ter@@ (); org.ovirt.engine.core.common.queries.@@ VdcQuery@@ Parameters@@ Base param@@ s = new org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base@@ (); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ All@@ Vm@@ Templ@@ at@@ es@@ , param@@ s, aQuery@@ ); }
public void set@@ Gluster@@ 3@@ 7@@ Sup@@ port@@ (@@ boolean value@@ ) { vds@@ Dynamic@@ .set@@ Gluster@@ 3@@ 7@@ Sup@@ port@@ (@@ value@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value@@ () { return org.ovirt.engine.core.bll.@@ C@@ le@@ ar@@ Dis@@ mis@@ s@@ ed@@ AuditLog@@ sBy@@ Se@@ ver@@ ity@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ C@@ LE@@ AR@@ _@@ AL@@ L@@ _@@ DIS@@ M@@ IS@@ S@@ ED_@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G : org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ C@@ LE@@ AR@@ _@@ AL@@ L@@ _@@ DIS@@ M@@ IS@@ S@@ ED_@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ FAIL@@ ED@@ ; }
public java.util.Map<java.lang.String, java.util.List<@@ java.util.Map<java.lang.String, java.lang.String@@ >@@ >> get@@ H@@ B@@ As@@ () { return vds@@ Dynamic@@ .get@@ H@@ B@@ As@@ (); }
public org.ovirt.engine.core.bll.ValidationResult disk@@ Images@@ H@@ ave@@ No@@ D@@ er@@ i@@ v@@ ed@@ Disk@@ s(@@ org.ovirt.engine.core.compat.Guid storageDomain@@ Id) { java.util.List<java.lang.String> disk@@ s@@ In@@ fo = null@@ ; for (org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image : disk@@ Images@@ ) { if (((@@ disk@@ Image.get@@ Vm@@ Entity@@ Type()) != null@@ ) && (disk@@ Image.get@@ Vm@@ Entity@@ Type@@ ().is@@ Template@@ Type@@ ())) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > b@@ as@@ ed@@ Disk@@ s = get@@ DiskImage@@ DAO@@ ().get@@ AllSnapshots@@ For@@ Parent@@ (disk@@ Image.get@@ Image@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ DiskImage b@@ as@@ ed@@ Disk : b@@ as@@ ed@@ Disk@@ s) { if ((@@ storageDomain@@ Id == null@@ ) || (@@ b@@ as@@ ed@@ Disk@@ .get@@ Storage@@ Id@@ s().@@ contains(@@ storageDomain@@ Id@@ ))) { if (disk@@ s@@ In@@ fo == null@@ ) { disk@@ s@@ In@@ fo = new java.util.@@ Link@@ ed@@ List<@@ >(); } disk@@ s@@ Info@@ .@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s (@@ %@@ s) ", b@@ as@@ ed@@ Disk@@ .get@@ Disk@@ Alias@@ (), b@@ as@@ ed@@ Disk@@ .getId@@ ())); } } } if (disk@@ s@@ In@@ fo != null@@ ) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ D@@ ET@@ EC@@ T@@ ED_@@ D@@ ER@@ I@@ V@@ ED_@@ DIS@@ K@@ S@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ disk@@ s@@ In@@ fo %@@ s", java.lang.String@@ .@@ for@@ mat@@ (@@ org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (disk@@ s@@ Info@@ , "@@ %@@ n@@ "@@ )@@ ))); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public void set@@ Is@@ Local@@ (@@ boolean is@@ Local@@ ) { this@@ .is@@ Loc@@ al = is@@ Local@@ ; }
private void exp@@ and@@ T@@ re@@ e(@@ com.google.gwt.@@ user.@@ ce@@ ll@@ view@@ .client.@@ T@@ ree@@ Nod@@ e n@@ ode@@ ) { if (@@ n@@ od@@ e == null@@ ) { return@@ ; } for (@@ int i = 0@@ ; i < (@@ n@@ od@@ e.get@@ Ch@@ ild@@ Count@@ ()); i@@ +@@ +@@ +@@ ) { exp@@ and@@ T@@ re@@ e(@@ n@@ od@@ e.set@@ Ch@@ ild@@ Op@@ en@@ (@@ i@@ , true@@ )); } }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { hos@@ t = create@@ Host@@ (); org.@@ mock@@ it@@ o.@@ Mock@@ it@@ o.@@ when(@@ vds@@ Dao.get@@ (org.ovirt.engine.core.bll.@@ host.@@ util.@@ Host@@ Id@@ To@@ Log@@ g@@ able@@ Name@@ F@@ un@@ c@@ tion@@ Test.@@ host@@ Id@@ )).@@ thenReturn(@@ host@@ ); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Node@@ :@@ ") java.lang.String num@@ a@@ Node@@ Label@@ ();
public void Manage@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.core.compat.Guid storagePool@@ Id = ((get@@ Entity@@ ().get@@ storage_@@ pool@@ _id@@ ()) != null@@ ) ? get@@ Entity@@ ().get@@ storage_@@ pool@@ _id@@ ().get@@ Value@@ () : org.ovirt.engine.core.compat.@@ N@@ Guid@@ .@@ Empty@@ ; org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); _@@ async@@ Query@@ .set@@ Model@@ (@@ this@@ ); _@@ async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void On@@ Success@@ (java.lang.Object model, java.lang.Object result) { org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ List@@ Model cluster@@ Network@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ ListModel@@ ) (model@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ > dc@@ Network@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ >) (@@ result@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ List@@ Model network@@ To@@ Manag@@ e = create@@ Network@@ List(@@ dc@@ Networks@@ ); cluster@@ Network@@ List@@ Model.set@@ W@@ in@@ do@@ w@@ (network@@ To@@ Manage@@ ); network@@ To@@ Man@@ age.@@ set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ ass@@ ign@@ Det@@ ach@@ Networks@@ Title@@ ()); network@@ To@@ Man@@ age.@@ set@@ Hash@@ Name@@ ("@@ ass@@ ign@@ _@@ network@@ s@@ "); } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Network@@ List(@@ _@@ async@@ Query@@ , storagePool@@ Id); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ B@@ r@@ ic@@ k Direct@@ or@@ y shoul@@ d not cont@@ ain an@@ y sp@@ ace@@ ") java.lang.String in@@ valid@@ Brick@@ Direct@@ ory@@ Contain@@ s@@ Sp@@ ace@@ M@@ s@@ g@@ ();
@java.lang.Override protected boolean canDoAction@@ () { org.ovirt.engine.core.bll.validator.@@ Host@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ Host@@ Validator@@ (org.ovirt.engine.core.bll.@@ Ac@@ tivate@@ Vds@@ Command.get@@ Vds@@ ()); return ((@@ validate@@ (@@ validator.@@ ex@@ ist@@ s@@ ())) && (@@ validate@@ (@@ validator.@@ validate@@ Status@@ For@@ Ac@@ tiva@@ tion@@ ()))) && (@@ validate@@ (@@ validator.@@ validate@@ Un@@ i@@ q@@ ue@@ Id@@ ())); }
public static java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ > Get@@ Cluster@@ Network@@ List(@@ org.ovirt.engine.core.compat.Guid cluster@@ Id) { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ Value = org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ All@@ Networks@@ By@@ Cluster@@ Id, new org.ovirt.engine.core.common.queries.@@ VdsGroup@@ Query@@ Param@@ ent@@ ers@@ (cluster@@ Id@@ )); if ((@@ (@@ return@@ Value != null@@ ) && (@@ return@@ Value.get@@ Succeeded@@ ())) && (@@ (@@ return@@ Value.get@@ ReturnValue@@ ()) != null@@ )) { return ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ >) (@@ return@@ Value.get@@ ReturnValue@@ ())); } return new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ >(); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s oth@@ er = ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ java.util.@@ Object@@ s.@@ equals(@@ id@@ , other.@@ id@@ )) && (java.util.@@ Object@@ s.@@ equals(@@ lun@@ Connection@@ s, other.@@ _@@ lun@@ Connection@@ s@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ lun@@ Mapping@@ , other.@@ lun@@ Mapping@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ p@@ h@@ y@@ s@@ ical@@ Volume@@ Id, other.@@ p@@ h@@ y@@ s@@ ical@@ Volume@@ Id@@ ))) && ((@@ de@@ vice@@ Size@@ ) == (@@ other.@@ de@@ vice@@ Size@@ ))) && ((@@ p@@ v@@ Size@@ ) == (@@ other.@@ p@@ v@@ Size@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ , other.@@ dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ , other.@@ dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ))) && ((@@ lun@@ Type@@ ) == (@@ other.@@ lun@@ Type@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ p@@ ath@@ s@@ D@@ ic@@ tion@@ ar@@ y@@ , other.@@ p@@ ath@@ s@@ D@@ ic@@ tion@@ ar@@ y@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ p@@ ath@@ s@@ C@@ ap@@ ac@@ ity@@ , other.@@ p@@ ath@@ s@@ C@@ ap@@ ac@@ ity@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ ve@@ n@@ do@@ r@@ Name, other.@@ ve@@ n@@ do@@ r@@ Name@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ pro@@ d@@ uc@@ t@@ Id, other.@@ pro@@ d@@ uc@@ t@@ Id@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ ser@@ ial@@ , other.@@ ser@@ ial@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ ve@@ n@@ do@@ r@@ Id, other.@@ ve@@ n@@ do@@ r@@ Id@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ volume@@ Group@@ Id, other.@@ volume@@ Id@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ status@@ , other.@@ status@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ disk@@ Id, other.@@ disk@@ Id@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ disk@@ Alias@@ , other.@@ disk@@ Alias@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id, other.@@ storageDomain@@ Id@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Name, other.@@ storageDomain@@ Name@@ )); }
@java.lang.Override protected org.ovirt.engine.api.model.@@ Templ@@ ate do@@ P@@ op@@ ul@@ ate@@ (org.ovirt.engine.api.model.@@ Templ@@ ate model, org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate entity@@ ) { if (!(@@ model.@@ isSet@@ Console@@ ())) { model.set@@ Console@@ (@@ new org.ovirt.engine.api.model.@@ Console@@ ()); } model.get@@ Console@@ ().set@@ Enabled@@ ((!@@ (get@@ Console@@ Devices@@ For@@ Entity(@@ entity.get@@ Id@@ ()).@@ isEmpty@@ ()))); if (!(@@ model.@@ isSet@@ Vir@@ ti@@ oS@@ csi@@ ())) { model.set@@ Vir@@ ti@@ oS@@ csi@@ (@@ new org.ovirt.engine.api.model.@@ Vir@@ t@@ I@@ O@@ S@@ C@@ SI@@ ()); } model.get@@ Vir@@ ti@@ oS@@ csi@@ ().set@@ Enabled@@ (@@ org.ovirt.engine.api.restapi.@@ util.@@ Vm@@ Helper.@@ has@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ ers@@ (@@ this@@ , entity.get@@ Id@@ ())); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ R@@ ng@@ Device@@ > r@@ ng@@ Device@@ s = get@@ R@@ ng@@ Devic@@ es(@@ entity.get@@ Id()); if ((@@ r@@ ng@@ Device@@ s != null@@ ) && (!(@@ r@@ ng@@ Devic@@ es.@@ isEmpty@@ ()))) { model.set@@ R@@ ng@@ Device@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ R@@ ng@@ Device@@ Mapper.@@ map@@ (r@@ ng@@ Devices@@ .get(@@ 0@@ ), null@@ )); } return model@@ ; }
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model storage@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model) (@@ target@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model@@ Be@@ ha@@ vi@@ or storage@@ Model@@ Be@@ ha@@ vi@@ or = b@@ e@@ ha@@ vi@@ or@@ ; java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > dataCenter@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ >) (@@ return@@ Value@@ )); dataCenter@@ s = storage@@ Model@@ Be@@ ha@@ vi@@ or.@@ filter@@ DataCenter@@ (@@ data@@ C@@ ent@@ ers@@ ); org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model.@@ add@@ Empty@@ DataCenter@@ To@@ List(@@ data@@ C@@ ent@@ ers@@ ); org.ovirt.engine.core.common.businessentities.Storage@@ Pool old@@ Selected@@ I@@ te@@ m = storage@@ Model.get@@ DataCenter@@ ().getSelectedItem@@ (); storage@@ Model.get@@ DataCenter@@ ().set@@ Items(@@ data@@ C@@ ent@@ ers@@ ); if (@@ old@@ Selected@@ I@@ te@@ m != null@@ ) { storage@@ Model.get@@ DataCenter@@ ().set@@ SelectedItem@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ fi@@ r@@ st@@ Or@@ Null@@ (@@ data@@ C@@ ent@@ ers@@ , new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ Id@@ P@@ red@@ icate@@ <@@ >@@ (@@ old@@ SelectedItem@@ .getId@@ ()))); } else { storage@@ Model.get@@ DataCenter@@ ().set@@ SelectedItem@@ ((@@ (get@@ Storage@@ ()) == null ? org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ fi@@ r@@ st@@ Or@@ Null@@ (@@ data@@ C@@ ent@@ ers@@ ) : org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ fi@@ r@@ st@@ Or@@ Null@@ (@@ data@@ C@@ ent@@ ers@@ , new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ Id@@ P@@ red@@ icate@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model.@@ Un@@ ass@@ ig@@ ne@@ d@@ DataCenter@@ Id@@ )@@ ))); } }
private void Init@@ Vds@@ Broker@@ () { org.ovirt.engine.core.vdsbroker.@@ Vds@@ Manager.@@ log.info@@ Format@@ ("@@ In@@ itial@@ iz@@ e vds@@ Brok@@ er (@@ {0@@ }@@ ,@@ {@@ 1@@ }@@ )@@ ", _@@ vds.get@@ Host@@ Name(), _@@ vds.get@@ Port@@ ()); int client@@ Time@@ O@@ u@@ t = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ vds@@ Time@@ out@@ )) * 1@@ 00@@ 0@@ ; int connection@@ Time@@ O@@ u@@ t = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ vds@@ Connection@@ Time@@ out@@ )) * 1@@ 00@@ 0@@ ; int client@@ R@@ et@@ ri@@ es = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ vds@@ R@@ et@@ ri@@ es@@ ); if ((@@ _@@ vds.get@@ Port@@ ()) == (@@ J@@ S@@ ON@@ R@@ P@@ C@@ _@@ PORT@@ )) { _@@ vds@@ Pro@@ x@@ y = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ Json@@ R@@ pc@@ Vds@@ Server@@ (@@ org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ Json@@ R@@ pc@@ Utils.@@ create@@ St@@ omp@@ Client@@ (@@ _@@ vds.get@@ Host@@ Name(), 6@@ 1@@ 6@@ 1@@ 3@@ , connection@@ Time@@ Out@@ , client@@ Time@@ Out@@ , client@@ R@@ et@@ ri@@ es@@ , org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ En@@ c@@ r@@ yp@@ t@@ Host@@ Comm@@ un@@ ication@@ ))); } else { org.ovirt.engine.core.common.utils.Pair@@ <@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Server@@ Conn@@ ect@@ or@@ , org.apache.commons.@@ http@@ client.@@ Http@@ Client@@ > return@@ Value = org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Util@@ s.get@@ Connection@@ (@@ _@@ vds.get@@ Host@@ Name(), _@@ vds.get@@ Port@@ (), client@@ Time@@ Out@@ , connection@@ Time@@ Out@@ , client@@ R@@ et@@ ri@@ es@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Server@@ Conn@@ ect@@ or@@ .@@ class@@ , org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ En@@ c@@ r@@ yp@@ t@@ Host@@ Comm@@ un@@ ication@@ )); _@@ vds@@ Pro@@ x@@ y = new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Server@@ W@@ id@@ per@@ (@@ return@@ Value.get@@ F@@ ir@@ st@@ (), return@@ Value.get@@ Sec@@ ond@@ ()); } }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ ACTION_@@ _@@ DIS@@ AB@@ L@@ E_@@ GLUSTER_@@ HO@@ O@@ K@@ ); addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ TYPE_@@ _@@ GLUSTER_@@ HO@@ O@@ K@@ ); }
@java.lang.Override public void onSuccess@@ (@@ java.lang.Integ@@ er return@@ Value@@ ) { ma@@ x@@ Sp@@ m@@ P@@ ri@@ or@@ it@@ y = return@@ Value@@ ; Init@@ Sp@@ m@@ P@@ ri@@ or@@ i@@ ties@@ 1@@ (); }
@org.junit.Test public void test@@ All@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ New@@ Disks@@ Success@@ () { setUp@@ Gener@@ al@@ Validation@@ s(); setUp@@ Disk@@ Validation@@ s(); do@@ Return(@@ java.util.Collections.@@ em@@ pty@@ List@@ ()).@@ when@@ (cmd@@ ).get@@ Disks@@ List@@ (); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Success@@ (cmd@@ ); ve@@ r@@ if@@ y@@ (m@@ ulti@@ ple@@ StorageDomain@@ s@@ Validator@@ ).@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ New@@ Disk@@ s(@@ disk@@ s@@ List@@ ); }
public java.util.Collection@@ <@@ java.lang.String> get@@ Reason@@ Messages@@ () { java.util.List<java.lang.String> lin@@ es = new java.util.ArrayList<>(); for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <@@ org.ovirt.engine.core.common.errors.@@ EngineMess@@ ages@@ , java.lang.String@@ >> lin@@ e : filter@@ ed@@ Out@@ Reason@@ s.@@ e@@ n@@ try@@ Set@@ ()) { lin@@ es.@@ add(@@ lin@@ e.get@@ Value@@ ().get@@ F@@ ir@@ st@@ ().@@ name@@ ()); lin@@ es.@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ %@@ 1@@ $@@ s %@@ 2@@ $@@ s", "@@ host@@ Name@@ ", host@@ Names@@ .get(@@ lin@@ e.get@@ Key@@ ()))); lin@@ es.@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ %@@ 1@@ $@@ s %@@ 2@@ $@@ s", "@@ filter@@ Name@@ ", lin@@ e.get@@ Value@@ ().get@@ Sec@@ ond@@ ())); final java.util.List<java.lang.String> d@@ et@@ ail@@ Message@@ s = d@@ et@@ ail@@ s.get@@ Messages@@ (@@ lin@@ e.get@@ Key@@ ()); if ((@@ d@@ et@@ ail@@ Message@@ s == null@@ ) || (@@ d@@ et@@ ail@@ Messages.@@ isEmpty@@ ())) { lin@@ es.@@ add(@@ EngineMessage.@@ S@@ C@@ H@@ ED@@ U@@ L@@ ING@@ _@@ HOST@@ _@@ F@@ IL@@ TER@@ ED_@@ RE@@ A@@ S@@ ON@@ .@@ name@@ ()); } else { lin@@ es.@@ add@@ All@@ (@@ d@@ et@@ ail@@ Messages@@ ); lin@@ es.@@ add(@@ EngineMessage.@@ S@@ C@@ H@@ ED@@ U@@ L@@ ING@@ _@@ HOST@@ _@@ F@@ IL@@ TER@@ ED_@@ RE@@ A@@ S@@ ON_@@ W@@ I@@ TH@@ _@@ D@@ ET@@ A@@ IL@@ .@@ name@@ ()); } } return lin@@ es@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Al@@ lo@@ w to c@@ re@@ ate new Cluster@@ ") java.lang.String al@@ low@@ To@@ Create@@ New@@ Cluster@@ Role@@ T@@ ree@@ T@@ ooltip@@ ();
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Vm@@ Pool pool@@ ) { validate@@ Parameters(@@ pool@@ , "@@ name@@ ", "@@ templat@@ e.@@ id@@ |@@ name@@ ", "@@ c@@ luster.@@ id@@ |@@ name@@ "); org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate = get@@ VmTemplate@@ (@@ pool@@ ); if (@@ nam@@ ed@@ Template@@ (@@ pool@@ )) { pool@@ .get@@ Template@@ ().set@@ Id(@@ templat@@ e.get@@ Id().@@ toString()); } if (@@ nam@@ ed@@ Cluster@@ (@@ pool@@ )) { pool@@ .get@@ Cluster@@ ().set@@ Id@@ (get@@ Cluster@@ Id(@@ pool@@ )); } org.ovirt.engine.core.common.businessentities.Vm@@ Pool enti@@ ty = map@@ (@@ pool@@ ); entity.set@@ Vm@@ Pool@@ Type(@@ Vm@@ Pool@@ Type.@@ Au@@ t@@ om@@ ati@@ c@@ ); org.ovirt.engine.core.common.businessentities.VM vm = map@@ To@@ VM@@ (@@ pool@@ , template@@ ); int s@@ iz@@ e = (p@@ oo@@ l.@@ isSet@@ Size@@ ()) ? pool@@ .get@@ Size@@ () : 1@@ ; org.ovirt.engine.core.common.action.@@ AddVm@@ Pool@@ With@@ Vms@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ AddVm@@ Pool@@ With@@ Vms@@ Parameters(@@ entity@@ , vm@@ , size@@ , (@@ -@@ 1@@ )); params.set@@ Console@@ Enabled@@ ((!@@ (get@@ Console@@ Devices@@ For@@ Entity(@@ templat@@ e.get@@ Id@@ ()).@@ isEmpty@@ ()))); params.set@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ ((!@@ (@@ org.ovirt.engine.api.restapi.@@ util.@@ Vm@@ Helper@@ .getInstance().get@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ ers@@ For@@ Entity(@@ templat@@ e.get@@ Id@@ ()).@@ isEmpty@@ ()))); params.set@@ S@@ ound@@ Device@@ Enabled@@ ((!@@ (@@ org.ovirt.engine.api.restapi.@@ util.@@ Vm@@ Helper@@ .getInstance().get@@ S@@ ound@@ Devices@@ For@@ Entity(@@ templat@@ e.get@@ Id@@ ()).@@ isEmpty@@ ()))); return p@@ er@@ for@@ m@@ Create@@ (VdcActionType.@@ AddVm@@ Pool@@ With@@ Vm@@ s, param@@ s, new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <@@ org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Vm@@ Pool@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ )); }
@java.lang.Override public void init@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ GeoRep@@ Session@@ Detail@@ s@@ Model model@@ ) { super@@ .@@ init@@ (model@@ ); model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s e = ((@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s) (@@ arg@@ s@@ )); if (@@ e.@@ proper@@ ty@@ Nam@@ e.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ ase@@ ("@@ selected@@ Session@@ S@@ um@@ mar@@ y@@ Row@@ "@@ )) { org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ Session@@ Detail@@ s selected@@ Session@@ Det@@ a@@ i@@ l = model.get@@ GeoRep@@ Session@@ S@@ um@@ mar@@ y@@ ().getSelectedItem@@ ().getEntity@@ (); get@@ View@@ ().set@@ Check@@ P@@ o@@ int@@ Comp@@ let@@ ed@@ A@@ t@@ Visi@@ bility@@ (s@@ elected@@ Session@@ Det@@ a@@ i@@ l.@@ is@@ Check@@ p@@ o@@ int@@ Comp@@ let@@ ed@@ ()); get@@ View@@ ().@@ update@@ Session@@ Detail@@ Properties@@ (s@@ elected@@ Session@@ Detail@@ ); } } }); }
@java.lang.Override protected boolean canDoAction@@ () { server@@ Ser@@ vic@@ e = get@@ Gluster@@ Server@@ Service@@ Dao().get@@ (get@@ Parameters().get@@ Server@@ Service@@ Id()); if ((@@ server@@ Service@@ ) == null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ S@@ ER@@ V@@ ER_@@ S@@ ER@@ V@@ IC@@ E_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); } if ((@@ server@@ Ser@@ vic@@ e.get@@ Status()) == (org.ovirt.engine.core.bll.@@ gluster.@@ Manage@@ Gluster@@ Service@@ Command@@ .m@@ an@@ age@@ Action@@ Detail@@ s@@ Map@@ .get@@ (get@@ Parameters().get@@ Action@@ Type@@ ())@@ .get@@ Status@@ ())) { addCanDoActionMessage@@ (org.ovirt.engine.core.bll.@@ gluster.@@ Manage@@ Gluster@@ Service@@ Command@@ .m@@ an@@ age@@ Action@@ Detail@@ s@@ Map@@ .get@@ (get@@ Parameters().get@@ Action@@ Type@@ ())@@ .get@@ Status@@ M@@ s@@ g@@ ()); addCanDoActionMessage@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ ser@@ ve@@ r %@@ 1@@ $@@ s", server@@ Ser@@ vic@@ e.get@@ Host@@ Name@@ ())); addCanDoActionMessage@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ ser@@ vic@@ e %@@ 1@@ $@@ s", server@@ Ser@@ vic@@ e.get@@ Service@@ Name@@ ())); return false@@ ; } return true@@ ; }
private void Update@@ Action@@ Avail@@ ab@@ ility@@ () { get@@ Copy@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((((@@ (get@@ SelectedItem@@ s()) != null@@ ) && ((get@@ SelectedItem@@ s().@@ size()) > 0@@ )) && (is@@ Copy@@ Command@@ Available@@ ()))); org.ovirt.engine.ui.uicommonweb.models.@@ quota@@ .@@ Change@@ Quota@@ Model.@@ update@@ Change@@ Quota@@ Action@@ Avail@@ ab@@ ility@@ (@@ this@@ ); }
private void un@@ plug@@ From@@ External@@ Network@@ () { org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager.@@ create@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Ac@@ tivate@@ De@@ ac@@ tivate@@ Vm@@ Nic@@ Command.getParameters().get@@ Nic@@ (), get@@ Network@@ ()).@@ de@@ al@@ loc@@ ate@@ If@@ External@@ (); }
@java.lang.Override public void f@@ ree@@ Mac@@ s(@@ java.util.List<java.lang.String> m@@ ac@@ s) { java.util.List<java.lang.String> m@@ ac@@ sTo@@ R@@ el@@ e@@ ase = filter@@ Out@@ Un@@ us@@ ed@@ Mac@@ s(@@ m@@ ac@@ s); if (m@@ ac@@ sTo@@ R@@ el@@ e@@ as@@ e.@@ isEmpty@@ ()) { org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ Transaction@@ al@@ MacPool@@ D@@ ec@@ or@@ ator.@@ log.@@ w@@ ar@@ n@@ ("@@ C@@ al@@ l to re@@ le@@ ase wit@@ h em@@ p@@ ty c@@ oll@@ ec@@ tion a@@ s paramet@@ er.@@ "); } else { org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ Transaction@@ al@@ MacPool@@ D@@ ec@@ or@@ ator.@@ Transaction@@ al@@ Str@@ ate@@ g@@ y@@ Stat@@ e str@@ ate@@ g@@ y@@ For@@ Mac@@ R@@ el@@ e@@ ase = get@@ Str@@ ate@@ g@@ y@@ For@@ Mac@@ R@@ el@@ e@@ ase@@ (); org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ Transaction@@ al@@ MacPool@@ D@@ ec@@ or@@ ator.@@ log.debug@@ ("@@ Us@@ ing {@@ } a@@ s re@@ le@@ ase str@@ ate@@ g@@ y@@ ", str@@ ate@@ g@@ y@@ For@@ Mac@@ R@@ el@@ e@@ ase@@ ); str@@ ate@@ g@@ y@@ For@@ Mac@@ R@@ el@@ e@@ as@@ e.@@ re@@ le@@ ase@@ Mac@@ s@@ On@@ Comm@@ it@@ (m@@ ac@@ sTo@@ R@@ el@@ e@@ ase@@ ); } }
@java.lang.Override protected void execute@@ Vm@@ Command() { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue ret@@ V@@ al = run@@ H@@ i@@ ber@@ n@@ ate@@ Broker@@ VDSCommand@@ (); if (r@@ et@@ Val@@ .get@@ Succeeded@@ ()) { vm@@ Manager.@@ s@@ uc@@ ce@@ ded@@ To@@ H@@ i@@ ber@@ n@@ ate@@ (); org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ true@@ ); } else { log.error@@ Format@@ ("@@ Fail@@ ed to h@@ i@@ ber@@ n@@ ate vm '@@ {0@@ }@@ ' in vd@@ s = {@@ 1@@ } : er@@ ro@@ r = {@@ 2@@ }@@ ", org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.getParameters().get@@ Vm@@ Id(), org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.getParameters().get@@ Vds@@ Id(), ret@@ Val@@ .get@@ Exception@@ String@@ ()); org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ false@@ ); org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Exception@@ String@@ (r@@ et@@ Val@@ .get@@ Exception@@ String@@ ()); org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Exception@@ Object@@ (r@@ et@@ Val@@ .get@@ Exception@@ Object@@ ()); org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Vds@@ Error@@ (r@@ et@@ Val@@ .get@@ Vds@@ Error@@ ()); } }
protected void s@@ ync@@ Search@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type v@@ dc@@ Query@@ Type, org.ovirt.engine.core.common.queries.@@ Query@@ Parameters@@ Base query@@ Parameters@@ Base@@ , org.ovirt.engine.ui.uicommonweb.models.@@ Async@@ Query@@ <@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ > async@@ Callback@@ ) { query@@ Parameters@@ Bas@@ e.set@@ Re@@ fresh@@ (get@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ ()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (@@ v@@ dc@@ Query@@ Type, query@@ Parameters@@ Base@@ , async@@ Callback@@ ); set@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ (@@ false@@ ); }
@java.lang.Override public java.lang.String toString@@ () { java.lang.String@@ Buil@@ der buil@@ der = new java.lang.String@@ Builder@@ (); buil@@ der.@@ append@@ (get@@ Name@@ ()).@@ append@@ (@@ " {@@ id@@ =@@ ").@@ append@@ (get@@ Id@@ ()).@@ append("@@ , d@@ escription@@ =@@ ").@@ append@@ (get@@ Description@@ ()).@@ append("@@ , c@@ omm@@ ent@@ =@@ ").@@ append@@ (get@@ Comm@@ ent@@ ()).@@ append("@@ , sub@@ net@@ =@@ ").@@ append@@ (get@@ Sub@@ net@@ ()).@@ append("@@ , g@@ ate@@ w@@ ay@@ =@@ ").@@ append@@ (get@@ G@@ ate@@ w@@ ay@@ ()).@@ append("@@ , type@@ =@@ ").@@ append@@ (get@@ Type@@ ()).@@ append("@@ , v@@ lan@@ Id@@ =@@ ").@@ append@@ (get@@ V@@ lan@@ Id@@ ()).@@ append("@@ , st@@ p@@ =@@ ").@@ append@@ (get@@ St@@ p@@ ()).@@ append("@@ , dataCenter@@ Id@@ =@@ ").@@ append@@ (get@@ DataCenter@@ Id@@ ()).@@ append("@@ , m@@ tu@@ =@@ ").@@ append@@ (get@@ M@@ tu@@ ()).@@ append("@@ , vm@@ Network@@ =@@ ").@@ append@@ (is@@ VmNetwork@@ ()).@@ append("@@ , cluster@@ =@@ ").@@ append@@ (get@@ Cluster@@ ()).@@ append("@@ , provi@@ ded@@ By@@ =@@ ").@@ append@@ (get@@ Provi@@ ded@@ By@@ ()).@@ append("@@ , label@@ =@@ ").@@ append@@ (get@@ Label@@ ()).@@ append("@@ , q@@ os@@ =@@ ").@@ append@@ (get@@ Qos@@ ()).@@ append("@@ }@@ "); return buil@@ der.@@ toString@@ (); }
@org.junit.Test public void test@@ With@@ Null@@ Ch@@ ild@@ Object@@ s() { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s v@@ ol@@ Detail@@ s@@ Entity = new org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s(); v@@ ol@@ Detail@@ s@@ Entity@@ .set@@ Brick@@ Detail@@ s@@ (get@@ Brick@@ Detail@@ s(@@ 1, 0@@ , 0@@ )); v@@ ol@@ Detail@@ s@@ Entity@@ .get@@ Brick@@ Detail@@ s().get@@ (0@@ )@@ .set@@ Client@@ s@@ (@@ null@@ ); v@@ ol@@ Detail@@ s@@ Entity@@ .get@@ Brick@@ Detail@@ s().get@@ (0@@ )@@ .set@@ Memory@@ Status@@ (@@ null@@ ); org.ovirt.engine.api.model.@@ Gluster@@ Brick@@ Ad@@ v@@ ance@@ d@@ Detail@@ s model = org.ovirt.engine.api.restapi.@@ types.@@ Gluster@@ Brick@@ Detail@@ Mapper.@@ map@@ (@@ v@@ ol@@ Detail@@ s@@ Entity@@ , null@@ ); assert@@ Not@@ Null@@ (model@@ ); assert@@ Null@@ (model.get@@ Client@@ s()); assert@@ Equals@@ (model.get@@ M@@ n@@ t@@ Option@@ s@@ (), v@@ ol@@ Detail@@ s@@ Entity@@ .get@@ Brick@@ Detail@@ s().get@@ (0@@ ).get@@ Brick@@ Properties@@ ().get@@ M@@ n@@ t@@ Option@@ s()); assert@@ Null@@ (model.get@@ Memory@@ Info@@ ()); }
@org.junit.Test public void test@@ Add@@ () { try { javax.ws.rs.@@ core.@@ U@@ ri@@ In@@ fo ur@@ i@@ In@@ fo = mock@@ U@@ ri@@ ("@@ vm@@ s", "@@ 00@@ 00@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 00@@ 00@@ 00@@ 1@@ 1@@ 1@@ ", "@@ disk@@ s@@ "); javax.ws.rs.@@ core.@@ Re@@ quest re@@ quest = mock@@ Request@@ ("@@ P@@ O@@ ST@@ "); cont@@ ro@@ l.@@ re@@ play@@ (); org.ovirt.engine.api.model.@@ F@@ a@@ ult fa@@ ult = us@@ age@@ F@@ inder@@ .get@@ Us@@ age@@ Message@@ (@@ ur@@ i@@ Info@@ , request@@ ); assert@@ Equals@@ ("@@ F@@ or cor@@ r@@ ect us@@ age@@ , se@@ e@@ : http@@ :@@ /@@ /@@ local@@ host@@ :@@ 8@@ 0@@ 8@@ 0@@ /@@ ovir@@ t@@ -@@ engin@@ e@@ /@@ api@@ /@@ model@@ #@@ ser@@ vic@@ es@@ /@@ vm@@ -@@ disk@@ s@@ /@@ m@@ eth@@ o@@ ds@@ /@@ add@@ ", fa@@ ult.get@@ Detail@@ ()); } catch (java.lang.@@ Class@@ Not@@ F@@ ound@@ Exception | java.io.@@ I@@ O@@ Exception | java.@@ net@@ .@@ UR@@ IS@@ yn@@ t@@ a@@ x@@ Exception e) { fail@@ (); } }
@java.lang.Override protected boolean canDoAction@@ () { boolean return@@ Value = true@@ ; org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ e old@@ R@@ ol@@ e = org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ ().get@@ Id()); if (@@ old@@ R@@ ol@@ e == null@@ ) { addCanDoActionMessage@@ (EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ RO@@ L@@ E_@@ ID@@ ); return@@ Value = false@@ ; } else { if (@@ check@@ If@@ Role@@ Is@@ Read@@ Only@@ (org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ())) { return@@ Value = false@@ ; addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ UP@@ D@@ AT@@ E); } else if ((!@@ (@@ org.apache.commons.lang.StringUtils.@@ equals@@ (org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ ().get@@ Name(), old@@ R@@ ol@@ e.get@@ Name@@ ()))) && ((org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ Dao().get@@ By@@ Name@@ (org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ ().get@@ Name@@ ())) != null@@ )) { addCanDoActionMessage@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NAM@@ E_@@ AL@@ RE@@ AD@@ Y_@@ US@@ ED); return@@ Value = false@@ ; } else if ((org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ ().get@@ Type()) != (@@ old@@ R@@ ol@@ e.get@@ Type@@ ())) { addCanDoActionMessage@@ (EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ RO@@ L@@ E_@@ TYP@@ E); return@@ Value = false@@ ; } } if (@@ !@@ return@@ Value@@ ) { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ RO@@ LE@@ ); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ UP@@ D@@ AT@@ E); } return return@@ Value@@ ; }
@@@ org.ovirt.engine.ui.common.@@ DefaultStringValue("@@ Th@@ e s@@ el@@ ected snapshot@@ '@@ s mem@@ or@@ y can@@ '@@ t b@@ e proper@@ l@@ y res@@ t@@ or@@ ed s@@ in@@ c@@ e i@@ t w@@ a@@ s create@@ d in pre@@ vi@@ o@@ u@@ s c@@ luster version@@ . P@@ le@@ ase confi@@ r@@ m the mem@@ or@@ y sh@@ al@@ l b@@ e res@@ t@@ or@@ ed any@@ w@@ ay@@ .@@ ") java.lang.String snapshot@@ Contain@@ s@@ Memory@@ In@@ c@@ ompati@@ bl@@ e@@ Cluster@@ ();
@org.junit.Test public void test@@ StoragePool@@ Do@@ es@@ n@@ t@@ Exist@@ () { final int do@@ m@@ ain@@ Size@@ G@@ B = 2@@ 0@@ ; final int size@@ Requi@@ re@@ d = 5@@ ; org.ovirt.engine.core.bll.@@ AddVm@@ Command@@ <@@ org.ovirt.engine.core.bll.@@ AddVm@@ Parameters@@ > c@@ m@@ d = set@@ up@@ Can@@ AddVm@@ Test@@ s@@ (@@ do@@ m@@ ain@@ Size@@ G@@ B@@ , size@@ Requi@@ red@@ ); do@@ Return@@ (@@ null@@ ).when@@ (cmd@@ ).get@@ StoragePool@@ (); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ STORAGE_@@ P@@ O@@ OL@@ _@@ NOT_@@ EXIST@@ .@@ toString@@ ())); }
@java.lang.Override public boolean is@@ F@@ lo@@ p@@ p@@ y@@ Supported@@ (@@ int os@@ Id, org.ovirt.engine.core.compat.@@ Version version@@ ) { return get@@ Boolean@@ (get@@ Value@@ By@@ Version@@ (@@ id@@ To@@ Un@@ ame@@ L@@ ook@@ up@@ .get(@@ os@@ Id@@ ), "@@ de@@ vic@@ es.@@ f@@ lo@@ p@@ p@@ y@@ Sup@@ port@@ ", version@@ ), false@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Delet@@ e@@ GlusterVolume@@ GeoRep@@ Session@@ , new org.ovirt.engine.core.common.vdscommands.@@ gluster.GlusterVolume@@ GeoRep@@ Session@@ VDS@@ Parameters(@@ up@@ Server@@ .get@@ Id(), get@@ GeoRep@@ Session@@ ().get@@ Ma@@ ster@@ Volume@@ Name(), get@@ GeoRep@@ Session@@ ().get@@ S@@ lave@@ Host@@ Name(), get@@ GeoRep@@ Session@@ ().get@@ S@@ lave@@ Volume@@ Name@@ ())); set@@ Succeeded@@ (@@ return@@ Value.get@@ Succeeded@@ ()); if (get@@ Succeeded@@ ()) { get@@ Gluster@@ GeoRep@@ Dao().@@ remove@@ (get@@ GeoRep@@ Session@@ ().get@@ Id()); } else { h@@ andle@@ Vds@@ Error@@ (@@ AuditLogType.@@ G@@ E@@ OR@@ E@@ P@@ _S@@ ES@@ SI@@ ON_@@ DE@@ L@@ ET@@ E_@@ FAIL@@ ED@@ , return@@ Value.get@@ Vds@@ Error@@ ().get@@ Message@@ ()); return@@ ; } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ H@@ oo@@ k Content@@ ") java.lang.String view@@ Content@@ Gluster@@ Hook@@ Title@@ ();
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Schedul@@ ing@@ Policy@@ Unit@@ .@@ class@@ , to = org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ .@@ class@@ ) public static org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t map@@ (org.ovirt.engine.api.model.@@ Schedul@@ ing@@ Policy@@ Un@@ i@@ t model, org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t template@@ ) { org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t enti@@ ty = (@@ templ@@ ate != null@@ ) ? templ@@ ate : new org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ (); if (m@@ odel.@@ isSet@@ Id()) { entity.set@@ Id(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (model.get@@ Id@@ ())); } if (m@@ odel.@@ isSet@@ Name@@ ()) { entity.set@@ Name(@@ model.get@@ Name()); } if (m@@ odel.@@ isSet@@ Description@@ ()) { entity.set@@ Description@@ (model.get@@ Description@@ ()); } if (m@@ odel.@@ isSet@@ Type()) { entity.set@@ Policy@@ Unit@@ Type(@@ org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ Type.@@ value@@ Of@@ (model.get@@ Type@@ ().@@ to@@ Up@@ per@@ C@@ ase@@ ())); } if (m@@ odel.@@ isSet@@ Enabled@@ ()) { entity.set@@ Enabled@@ (m@@ odel.@@ is@@ Enabled@@ ()); } if (m@@ odel.@@ isSet@@ Internal@@ ()) { entity.set@@ Internal@@ (m@@ odel.@@ is@@ Internal@@ ()); } if (m@@ odel.@@ isSet@@ Re@@ g@@ ex@@ Validation@@ Map@@ ()) { entity.set@@ Parameter@@ Re@@ g@@ Ex@@ Map@@ (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Custom@@ Properties@@ Par@@ s@@ er.@@ to@@ Map@@ (model.get@@ Re@@ g@@ ex@@ Validation@@ Map@@ ())); } return entity@@ ; }
private org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Builder@@ Base create@@ Builder@@ () { if (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ C@@ ommon@@ Utils.@@ is@@ O@@ l@@ d@@ Cluster@@ Version@@ (vm.get@@ CompatibilityVersion@@ ())) { return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ O@@ l@@ d@@ Info@@ Builder@@ (vm@@ , create@@ Info@@ ); } else { return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Builder@@ (vm@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ Broker@@ VDS@@ Command.getParameters().get@@ Vds@@ Id(), create@@ Info@@ ); } }
private void h@@ andle@@ Par@@ ti@@ all@@ y@@ Comp@@ let@@ ed@@ Task@@ (@@ final org.ovirt.engine.core.bll.@@ SP@@ M@@ Async@@ T@@ as@@ k task@@ ) { org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ execute@@ (@@ new java.lang.@@ Run@@ n@@ able@@ () { @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ s@@ yn@@ th@@ et@@ ic@@ -@@ ac@@ cess@@ ") @java.lang.Override public void run@@ () { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.Object@@ >() { @java.lang.Override public java.lang.Object run@@ In@@ Transaction@@ () { task@@ .@@ st@@ op@@ Task@@ (@@ true@@ ); task@@ .@@ cl@@ e@@ ar@@ AsyncTask@@ (@@ true@@ ); return null@@ ; } }); }
@java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group object@@ ) { return objec@@ t.get@@ name@@ (); }
private void add@@ Re@@ ported@@ Ip@@ Configuration@@ (org.ovirt.engine.core.common.businessentities.network.@@ Re@@ ported@@ Configuration@@ s result) { if (!(@@ is@@ P@@ ri@@ mar@@ y@@ Address@@ Exist@@ ())) { return@@ ; } org.ovirt.engine.core.common.businessentities.network.Network@@ Boot@@ Protoc@@ o@@ l de@@ fin@@ ed@@ Boot@@ Protoc@@ o@@ l = get@@ P@@ ri@@ mar@@ y@@ Address@@ ().get@@ Boot@@ Protocol@@ (); result.@@ add(@@ Re@@ ported@@ Configuration@@ Type.@@ B@@ O@@ O@@ T_@@ P@@ RO@@ TO@@ C@@ OL@@ , if@@ ac@@ e.get@@ Ip@@ v@@ 4@@ Boot@@ Protocol@@ (), de@@ fin@@ ed@@ Boot@@ Protocol@@ ); if ((@@ de@@ fin@@ ed@@ Boot@@ Protoc@@ o@@ l == (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Boot@@ Protoc@@ ol.@@ ST@@ A@@ TI@@ C@@ _@@ I@@ P@@ )) && (@@ if@@ ac@@ e.get@@ Ip@@ v@@ 4@@ Boot@@ Protocol@@ ()) == de@@ fin@@ ed@@ Boot@@ Protocol@@ )) { result.@@ add(@@ Re@@ ported@@ Configuration@@ Type.@@ NET@@ MA@@ S@@ K@@ , if@@ ac@@ e.get@@ Ip@@ v@@ 4@@ Sub@@ net@@ (), get@@ P@@ ri@@ mar@@ y@@ Address@@ ().get@@ N@@ et@@ m@@ ask@@ (), is@@ Network@@ Sub@@ net@@ In@@ Sync@@ ()); result.@@ add(@@ Re@@ ported@@ Configuration@@ Type.@@ I@@ P@@ _@@ AD@@ D@@ RE@@ SS@@ , if@@ ac@@ e.get@@ Ip@@ v@@ 4@@ Address@@ (), get@@ P@@ ri@@ mar@@ y@@ Address@@ ().get@@ Address@@ ()); result.@@ add(@@ Re@@ ported@@ Configuration@@ Type.@@ G@@ AT@@ E@@ W@@ A@@ Y@@ , if@@ ac@@ e.get@@ Ip@@ v@@ 4@@ G@@ ate@@ w@@ ay@@ (), get@@ P@@ ri@@ mar@@ y@@ Address@@ ().get@@ G@@ ate@@ w@@ ay@@ ()); } }
private void log@@ Storage@@ Device@@ Message@@ (org.ovirt.engine.core.common.@@ AuditLog@@ Type log@@ Type, org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , final org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Device de@@ vice@@ ) { log@@ Uti@@ l.@@ log@@ Au@@ dit@@ Message@@ (@@ vds.get@@ VdsGroup@@ Id(), null@@ , vds@@ , log@@ Type, new java.util.HashMap<@@ java.lang.String, java.lang.String@@ >() { { put@@ ("@@ storage@@ Device@@ ", de@@ vic@@ e.get@@ Name()); } }); }
public static java.util.List<java.lang.String> run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ , org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Message@@ s mess@@ age@@ ) { assert@@ F@@ alse@@ ("@@ Command@@ '@@ s can@@ Do@@ Ac@@ tion exp@@ ected to fail@@ , bu@@ t s@@ uc@@ ceeded@@ ", command@@ .@@ canDoAction@@ ()); return org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Util@@ s@@ .@@ assert@@ CanDoAction@@ Messages@@ (command@@ , mess@@ age@@ ); }
@java.lang.Override protected void p@@ er@@ for@@ m@@ Boot@@ str@@ ap@@ () { super@@ .@@ p@@ er@@ for@@ m@@ Boot@@ str@@ ap@@ (); com.google.gwt.@@ user.@@ client.@@ W@@ in@@ do@@ w@@ .set@@ Title(@@ d@@ ynam@@ ic@@ Messages.@@ ap@@ plication@@ Title@@ ()); org.ovirt.engine.ui.webadmin.@@ ui@@ m@@ od@@ e.@@ U@@ i@@ M@@ ode@@ Data ui@@ M@@ ode@@ Data = org.ovirt.engine.ui.webadmin.@@ ui@@ m@@ od@@ e.@@ U@@ i@@ M@@ ode@@ Data@@ .@@ instance@@ (); if (@@ ui@@ M@@ ode@@ Data != null@@ ) { h@@ andle@@ U@@ i@@ M@@ ode@@ (@@ ui@@ M@@ ode@@ Data@@ ); } org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .res@@ tapi@@ .@@ Engine@@ Session@@ Time@@ out@@ Data engin@@ e@@ Session@@ Time@@ out@@ Data = org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .res@@ tapi@@ .@@ Engine@@ Session@@ Time@@ out@@ Data@@ .@@ instance@@ (); if (@@ engin@@ e@@ Session@@ Time@@ out@@ Data != null@@ ) { res@@ t@@ Ap@@ i@@ Session@@ Manager.@@ set@@ Session@@ Time@@ out@@ (@@ engin@@ e@@ Session@@ Time@@ out@@ Data@@ .get@@ Value@@ ()); } pl@@ ace@@ Manager.@@ re@@ ve@@ al@@ C@@ urrent@@ P@@ l@@ ace@@ (); }
@java.lang.Override protected void p@@ er@@ for@@ m@@ () { java.lang.String if@@ ac@@ e = null@@ ; int in@@ de@@ x = 0@@ ; if (org.ovirt.engine.core.bll.storage.@@ disk.@@ Change@@ Disk@@ Command.getVm@@ ().get@@ CompatibilityVersion@@ ().@@ g@@ re@@ at@@ er@@ Or@@ Equals@@ (@@ Version@@ .@@ v@@ 4@@ _@@ 0@@ )) { if@@ ac@@ e = vm@@ Device@@ Util@@ s.get@@ C@@ d@@ Interfac@@ e(@@ org.ovirt.engine.core.bll.storage.disk.@@ Change@@ Disk@@ Command.getVm@@ ()); in@@ de@@ x = org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ C@@ d@@ Device@@ In@@ dex@@ (@@ if@@ ace@@ ); } c@@ d@@ Image@@ P@@ at@@ h = org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ c@@ d@@ Path@@ W@@ in@@ do@@ w@@ sTo@@ Lin@@ u@@ x@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ Change@@ Disk@@ Command.getParameters().get@@ C@@ d@@ Image@@ Path@@ (), org.ovirt.engine.core.bll.storage.disk.@@ Change@@ Disk@@ Command.getVm@@ ().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.disk.@@ Change@@ Disk@@ Command.getVm@@ ().get@@ Run@@ On@@ Vds@@ ()); set@@ Action@@ ReturnValue@@ (@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Change@@ Disk@@ , new org.ovirt.engine.core.common.vdscommands.@@ Change@@ Disk@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ Change@@ Disk@@ Command.get@@ Vds@@ Id(), org.ovirt.engine.core.bll.storage.disk.@@ Change@@ Disk@@ Command.getVm@@ ().get@@ Id(), if@@ ace@@ , in@@ dex@@ , c@@ d@@ Image@@ Path@@ )@@ ).get@@ ReturnValue@@ ()); org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ C@@ urrent@@ C@@ d@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ Change@@ Disk@@ Command.get@@ Vds@@ Id(), org.ovirt.engine.core.bll.storage.disk.@@ Change@@ Disk@@ Command.getVm@@ (), org.ovirt.engine.core.bll.storage.disk.@@ Change@@ Disk@@ Command.getParameters().get@@ C@@ d@@ Image@@ Path@@ ()); org.ovirt.engine.core.bll.storage.disk.@@ Change@@ Disk@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
private boolean is@@ Match@@ e@@ Path@@ (@@ java.lang.String@@ [@@ ] lin@@ k@@ Path@@ Se@@ g@@ ment@@ s, java.util.List<@@ javax.ws.rs.@@ core.@@ Path@@ Se@@ g@@ ment@@ > ur@@ i@@ Path@@ Se@@ g@@ ment@@ s) { for (@@ int i = 0@@ ; i < (@@ lin@@ k@@ Path@@ Se@@ g@@ ment@@ s.@@ l@@ ength@@ ); i@@ +@@ +@@ ) { java.lang.String ur@@ i@@ Path@@ Se@@ g@@ m@@ ent = ur@@ i@@ Path@@ Se@@ g@@ ment@@ s.get@@ (@@ i@@ ).get@@ Path@@ (); if ((@@ is@@ UUID@@ (@@ ur@@ i@@ Path@@ Se@@ g@@ ment@@ )) || (@@ ur@@ i@@ Path@@ Se@@ g@@ m@@ ent.@@ equals(@@ lin@@ k@@ Path@@ Se@@ g@@ ment@@ s@@ [@@ i@@ ]@@ ))) { continue@@ ; } else { return false@@ ; } } return true@@ ; }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { super@@ .@@ eventRaised(@@ ev, sender, arg@@ s); if (@@ ev@@ .m@@ atch@@ es@@ De@@ fin@@ ition@@ (@@ Entity@@ Model.@@ entity@@ Changed@@ Event@@ De@@ fin@@ ition@@ )) { if (s@@ en@@ der == (get@@ Is@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ ())) { w@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ _@@ Entity@@ Changed@@ (@@ arg@@ s); } else if (s@@ en@@ der == (get@@ Is@@ Attach@@ Disk@@ ())) { attach@@ Disk@@ _@@ Entity@@ Changed@@ (@@ arg@@ s); } else if (s@@ en@@ der == (get@@ Is@@ Read@@ Only@@ ())) { update@@ S@@ g@@ I@@ o@@ Un@@ filter@@ ed@@ Change@@ ab@@ ility@@ (); } else if (s@@ en@@ der == (get@@ Is@@ S@@ g@@ I@@ o@@ Un@@ filter@@ ed@@ ())) { update@@ Read@@ Only@@ Change@@ ab@@ ility@@ (); } else if (s@@ en@@ der == (get@@ Is@@ Internal@@ ())) { is@@ Internal@@ _@@ Entity@@ Changed@@ (); } } else if ((@@ ev@@ .m@@ atch@@ es@@ De@@ fin@@ ition@@ (@@ List@@ Model.@@ selected@@ Item@@ Changed@@ Event@@ De@@ fin@@ ition@@ )) && (s@@ en@@ der == (get@@ Volume@@ Type@@ ()))) { volume@@ Type@@ _@@ SelectedItem@@ Changed@@ (); } else if ((@@ ev@@ .m@@ atch@@ es@@ De@@ fin@@ ition@@ (@@ List@@ Model.@@ selected@@ Item@@ Changed@@ Event@@ De@@ fin@@ ition@@ )) && (s@@ en@@ der == (get@@ Disk@@ Interface@@ ()))) { Disk@@ Interface@@ _@@ SelectedItem@@ Changed@@ (); } else if ((@@ ev@@ .m@@ atch@@ es@@ De@@ fin@@ ition@@ (@@ List@@ Model.@@ selected@@ Item@@ Changed@@ Event@@ De@@ fin@@ ition@@ )) && (s@@ en@@ der == (get@@ DataCenter@@ ()))) { dat@@ ac@@ enter@@ _@@ SelectedItem@@ Changed@@ (); } else if ((@@ ev@@ .m@@ atch@@ es@@ De@@ fin@@ ition@@ (@@ List@@ Model.@@ selected@@ Item@@ Changed@@ Event@@ De@@ fin@@ ition@@ )) && (s@@ en@@ der == (get@@ StorageDomain@@ ()))) { storageDomain@@ _@@ SelectedItem@@ Changed@@ (); } else if ((@@ ev@@ .m@@ atch@@ es@@ De@@ fin@@ ition@@ (@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().get@@ Query@@ St@@ ar@@ ted@@ Event@@ De@@ fin@@ ition@@ ())) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().get@@ C@@ urrent@@ Context@@ (), get@@ Hash@@ ()))) { f@@ rontend@@ _@@ Query@@ St@@ ar@@ ted@@ (); } else if ((@@ ev@@ .m@@ atch@@ es@@ De@@ fin@@ ition@@ (@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().get@@ Query@@ Comp@@ let@@ e@@ Event@@ De@@ fin@@ ition@@ ())) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().get@@ C@@ urrent@@ Context@@ (), get@@ Hash@@ ()))) { f@@ rontend@@ _@@ Query@@ Comp@@ let@@ e@@ (); } }
private void name@@ Not@@ Changed@@ Or@@ Not@@ T@@ a@@ k@@ en@@ Test@@ (@@ org.@@ h@@ am@@ c@@ res@@ t.@@ Match@@ er@@ <@@ org.ovirt.engine.core.bll.ValidationResult@@ > mat@@ ch@@ er@@ ) { org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ o@@ S oth@@ er@@ Q@@ o@@ s = new org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ oS@@ (); all@@ Q@@ o@@ s.add(@@ oth@@ er@@ Qos@@ ); all@@ Q@@ o@@ s.add(@@ old@@ Qos@@ ); oth@@ er@@ Q@@ o@@ s.set@@ Name@@ ("@@ fo@@ o@@ "); old@@ Q@@ o@@ s.set@@ Name@@ ("@@ b@@ ar@@ "); assert@@ That@@ (@@ validator.@@ name@@ Not@@ Changed@@ Or@@ Not@@ T@@ a@@ k@@ en@@ (), mat@@ ch@@ er@@ ); }
@java.lang.Override public void setUp@@ () throw@@ s java.lang.Exception { super@@ .set@@ Up@@ (); d@@ a@@ o = db@@ Fac@@ ade.get@@ Vm@@ Pool@@ Dao@@ (); vm@@ D@@ a@@ o = db@@ Fac@@ ade.get@@ Vm@@ Dao@@ (); existing@@ Vm@@ Pool = d@@ ao@@ .get(@@ org.ovirt.engine.core.dao.@@ Vm@@ Pool@@ DAO@@ Test.@@ EX@@ IS@@ TI@@ N@@ G@@ _@@ VM_@@ P@@ O@@ OL@@ _@@ ID@@ ); de@@ let@@ able@@ Vm@@ Pool = d@@ ao@@ .get(@@ org.ovirt.engine.core.dao.@@ Vm@@ Pool@@ DAO@@ Test.@@ DE@@ L@@ ET@@ AB@@ L@@ E_@@ VM_@@ P@@ O@@ OL@@ _@@ ID@@ ); new@@ Vm@@ Pool = new org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ (); new@@ Vm@@ Poo@@ l.@@ set@@ Name@@ ("@@ N@@ e@@ w VM Pool@@ "); new@@ Vm@@ Poo@@ l.@@ set@@ Vm@@ Pool@@ Description@@ ("@@ Th@@ is a new VM p@@ oo@@ l.@@ "); new@@ Vm@@ Poo@@ l.@@ set@@ VdsGroup@@ Id(@@ org.ovirt.engine.core.dao.@@ Vm@@ Pool@@ DAO@@ Test.@@ VDS@@ _@@ G@@ RO@@ UP@@ _@@ ID@@ ); new@@ Vm@@ Poo@@ l.@@ set@@ Vm@@ t@@ Guid@@ (@@ org.ovirt.engine.core.dao.@@ Vm@@ Pool@@ DAO@@ Test.@@ P@@ O@@ OL@@ _@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ ID@@ ); new@@ Vm@@ Pool@@ Map = new org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ Map@@ (@@ org.ovirt.engine.core.dao.@@ Vm@@ Pool@@ DAO@@ Test.@@ F@@ RE@@ E_@@ VM_@@ ID@@ , org.ovirt.engine.core.dao.@@ Vm@@ Pool@@ DAO@@ Test.@@ EX@@ IS@@ TI@@ N@@ G@@ _@@ VM_@@ P@@ O@@ OL@@ _@@ ID@@ ); }
@org.junit.Test public void port@@ Is@@ In@@ valid@@ () { assert@@ That@@ (@@ validator.@@ port@@ Is@@ Valid@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VDS@@ _@@ W@@ I@@ TH@@ _@@ IN@@ VALID@@ _@@ SS@@ H@@ _@@ PORT@@ )); }
public void in@@ st@@ all@@ () { final org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t = ((org.ovirt.engine.core.common.businessentities.@@ VDS@@ ) (get@@ SelectedItem@@ ())); org.ovirt.engine.ui.uicommonweb.models.hosts.@@ In@@ st@@ all@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.hosts.@@ In@@ st@@ all@@ Model@@ (); model.set@@ Vds@@ (@@ host@@ ); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ in@@ st@@ all@@ Host@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ in@@ st@@ all@@ _@@ host@@ ); model.set@@ Hash@@ Name@@ ("@@ in@@ st@@ all@@ _@@ host@@ "); model.get@@ O@@ Vir@@ t@@ IS@@ O@@ ().setIs@@ Available@@ (@@ false@@ ); model.get@@ O@@ ver@@ ri@@ de@@ Ip@@ T@@ abl@@ es@@ ().setIs@@ Available@@ (@@ false@@ ); model.get@@ Host@@ Version@@ ().set@@ Entity(@@ hos@@ t.get@@ Host@@ Os@@ ()); model.get@@ Host@@ Version@@ ().setIs@@ Available@@ (@@ false@@ ); get@@ W@@ in@@ do@@ w@@ ().@@ st@@ art@@ Progress@@ (@@ null@@ ); model.get@@ User@@ Password@@ ().setIs@@ Available@@ (@@ true@@ ); model.get@@ User@@ Password@@ ().setIs@@ Chang@@ able@@ (@@ true@@ ); org.ovirt.engine.core.compat.@@ Version v@@ 3 = new org.ovirt.engine.core.compat.@@ Version@@ (@@ 3@@ , 0@@ ); boolean is@@ L@@ ess@@ Th@@ an@@ 3 = 3 (@@ hos@@ t.get@@ VdsGroup@@ CompatibilityVersion@@ ().@@ comp@@ are@@ To@@ (@@ v@@ 3@@ )) < 0@@ ; if (!@@ is@@ L@@ ess@@ Th@@ an@@ 3@@ ) { model.get@@ O@@ ver@@ ri@@ de@@ Ip@@ T@@ abl@@ es@@ ().setIs@@ Available@@ (@@ true@@ ); model.get@@ O@@ ver@@ ri@@ de@@ Ip@@ T@@ abl@@ es@@ ().set@@ Entity@@ (@@ true@@ ); } add@@ In@@ st@@ all@@ Command@@ s(@@ model, host@@ , false@@ ); get@@ W@@ in@@ do@@ w@@ ().@@ st@@ op@@ Progress@@ (); }
public org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t build@@ C@@ lo@@ u@@ d@@ Init@@ Parameters@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); if (get@@ Host@@ name@@ Enabled@@ ()) { vm@@ In@@ it.@@ set@@ Host@@ name@@ (((@@ java.lang.String@@ ) (get@@ Host@@ name@@ ().getEntity@@ ()))); } if (get@@ R@@ oot@@ Password@@ Enabled@@ ()) { vm@@ In@@ it.@@ set@@ R@@ oot@@ Password@@ (((@@ java.lang.String@@ ) (get@@ R@@ oot@@ Password@@ ().getEntity@@ ()))); } if (get@@ Auth@@ or@@ iz@@ ed@@ Key@@ s@@ Enabled@@ ()) { vm@@ In@@ it.@@ set@@ Auth@@ or@@ iz@@ ed@@ Key@@ s@@ (((@@ java.lang.String@@ ) (get@@ Auth@@ or@@ iz@@ ed@@ Key@@ s@@ ().getEntity@@ ()))); } if (((@@ java.lang.Boolean@@ ) (get@@ Re@@ gener@@ ate@@ Key@@ s@@ Enabled@@ ().getEntity@@ ()))) { vm@@ In@@ it.@@ set@@ Re@@ gener@@ ate@@ Key@@ s(@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E); } if (((@@ java.lang.Boolean@@ ) (get@@ Network@@ Enabled@@ ().getEntity@@ ()))) { save@@ Network@@ Fiel@@ ds@@ (); if (!(@@ network@@ Map.@@ isEmpty@@ ())) { for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network@@ > e@@ n@@ try : network@@ Map.@@ e@@ n@@ try@@ Set@@ ()) { org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network param@@ s = e@@ n@@ try@@ .get@@ Value@@ (); if ((@@ param@@ s.get@@ Boot@@ Protocol@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Boot@@ Protoc@@ ol.@@ D@@ H@@ C@@ P@@ )) { params.set@@ Ip@@ (@@ null@@ ); params.set@@ N@@ et@@ m@@ ask@@ (@@ null@@ ); params.set@@ G@@ ate@@ w@@ ay@@ (@@ null@@ ); } params.set@@ Start@@ On@@ Boot@@ (network@@ Start@@ On@@ B@@ oo@@ t.@@ contains(@@ e@@ n@@ try@@ .get@@ Key@@ ())); params.set@@ Name(@@ e@@ n@@ try@@ .get@@ Key@@ ()); } vm@@ In@@ it.@@ set@@ Networks@@ (@@ new java.util.Array@@ List(@@ network@@ Map.@@ valu@@ es@@ ())); } } vm@@ In@@ it.@@ set@@ D@@ n@@ s@@ Server@@ s@@ (((@@ java.lang.String@@ ) (get@@ D@@ n@@ s@@ Server@@ s@@ ().getEntity@@ ()))); vm@@ In@@ it.@@ set@@ D@@ n@@ s@@ Search@@ (((@@ java.lang.String@@ ) (get@@ D@@ n@@ s@@ Search@@ Domain@@ s@@ ().getEntity@@ ()))); vm@@ In@@ it.@@ set@@ Custom@@ S@@ cri@@ p@@ t@@ (((@@ java.lang.String@@ ) (get@@ Custom@@ S@@ cri@@ p@@ t@@ ().getEntity@@ ()))); vm@@ In@@ it.@@ set@@ Password@@ Set@@ (((@@ java.lang.Boolean@@ ) (get@@ Password@@ Set@@ ().getEntity@@ ()))); return vm@@ Init@@ ; }
private <@@ T@@ > T execute@@ (java.util.@@ con@@ c@@ urr@@ ent.@@ Call@@ able@@ <@@ T@@ > call@@ able@@ ) { try { return call@@ abl@@ e.c@@ all@@ (); } catch (c@@ om.@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ b@@ as@@ e.cl@@ i@@ ent.@@ Op@@ en@@ St@@ ack@@ Respon@@ se@@ Exception e) { execute@@ Fail@@ ed@@ Messages.@@ add(@@ Engine@@ Error@@ .@@ C@@ IN@@ D@@ ER_@@ ER@@ R@@ OR@@ .@@ name@@ ()); execute@@ Fail@@ ed@@ Messages.@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ c@@ inder@@ Exception %@@ 1@@ $@@ s", e.get@@ Message@@ ())); throw e@@ ; } catch (@@ java.lang.Exception e) { throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ e); } }
private void add@@ Qos@@ Data@@ (java.lang.String q@@ os@@ E@@ n@@ try@@ Name, java.lang.Integ@@ er a@@ ver@@ age@@ , java.lang.Integ@@ er p@@ e@@ a@@ k@@ , java.lang.Integ@@ er b@@ ur@@ st@@ ) { if ((@@ a@@ ver@@ age != null@@ ) && (@@ a@@ ver@@ age > 0@@ )) { java.util.Map<java.lang.String, java.lang.String> q@@ os@@ Data = new java.util.HashMap<@@ >(); q@@ os@@ Data@@ .@@ put(@@ VdsProperties.@@ Q@@ O@@ S_@@ A@@ V@@ ER@@ AG@@ E, java.lang.String.@@ value@@ Of@@ ((@@ a@@ ver@@ age * (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Network@@ Qos@@ Mapper.@@ M@@ E@@ G@@ AB@@ I@@ T@@ S_@@ TO@@ _@@ K@@ IL@@ O@@ B@@ Y@@ T@@ ES@@ )@@ ))); q@@ os@@ Data@@ .@@ put(@@ VdsProperties.@@ Q@@ O@@ S_@@ P@@ E@@ A@@ K@@ , java.lang.String.@@ value@@ Of@@ ((@@ p@@ e@@ a@@ k * (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Network@@ Qos@@ Mapper.@@ M@@ E@@ G@@ AB@@ I@@ T@@ S_@@ TO@@ _@@ K@@ IL@@ O@@ B@@ Y@@ T@@ ES@@ )@@ ))); q@@ os@@ Data@@ .@@ put(@@ VdsProperties.@@ Q@@ O@@ S_@@ B@@ UR@@ ST@@ , java.lang.String.@@ value@@ Of@@ ((@@ b@@ ur@@ s@@ t * (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Network@@ Qos@@ Mapper.@@ M@@ E@@ G@@ AB@@ Y@@ T@@ E@@ S_@@ TO@@ _@@ K@@ IL@@ O@@ B@@ Y@@ T@@ ES@@ )@@ ))); map@@ .@@ put(@@ q@@ os@@ E@@ n@@ try@@ Name, q@@ os@@ Data@@ ); } }
private static java.util.Map<java.lang.String, java.lang.String> get@@ StoragePool@@ Iso@@ Map@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id) { java.util.Map<java.lang.String, java.lang.String> storageDomain@@ s = new java.util.HashMap<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map do@@ ma@@ in : org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StoragePool@@ Iso@@ Map@@ Dao().get@@ AllFor@@ StoragePool@@ (@@ storagePool@@ Id@@ )) { if ((@@ (@@ do@@ m@@ ain@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ )) || (@@ (@@ do@@ m@@ ain@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ M@@ ov@@ ing@@ To@@ M@@ a@@ int@@ en@@ ance@@ ))) { storageDomain@@ s.@@ put@@ (@@ do@@ m@@ ain@@ .get@@ storage@@ _id@@ ().@@ toString@@ (), "@@ attach@@ ed@@ "); } else { storageDomain@@ s.@@ put@@ (@@ do@@ m@@ ain@@ .get@@ storage@@ _id@@ ().@@ toString@@ (), StorageDomain@@ Status.@@ Ac@@ ti@@ v@@ e.@@ toString@@ ().@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ()); } } return storageDomain@@ s@@ ; }
private org.ovirt.engine.core.common.businessentities.storage.@@ Volume@@ Type get@@ Volume@@ Type@@ For@@ Domain@@ () { if ((@@ volume@@ Type@@ For@@ Domain@@ ) == null@@ ) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c sd@@ Stati@@ c = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StorageDomain@@ Static@@ Dao().get@@ (@@ storageDomain@@ Id); volume@@ Type@@ For@@ Domain = org.ovirt.engine.core.bll.@@ memory@@ .@@ Memory@@ Utils.@@ stor@@ ate@@ Domain@@ Type@@ To@@ Memory@@ Volume@@ Type(@@ sd@@ Static@@ .get@@ Storage@@ Type@@ ()); } return volume@@ Type@@ For@@ Domain@@ ; }
public void remove@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ remove@@ R@@ ol@@ es@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ remove@@ _@@ ro@@ le@@ ); model.set@@ Hash@@ Name@@ ("@@ remove@@ _@@ ro@@ le@@ "); java.util.ArrayList<@@ java.lang.String> lis@@ t = new java.util.ArrayList<@@ java.lang.String@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ e ro@@ l@@ e : org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ <org.ovirt.engine.core.common.businessentities.@@ Role@@ >@@ c@@ ast@@ (get@@ SelectedItem@@ s@@ ())) { lis@@ t.@@ add(@@ ro@@ l@@ e.get@@ name@@ ()); } model.set@@ Items(@@ list@@ ); org.ovirt.engine.ui.uicommonweb.UICommand temp@@ V@@ a@@ r = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ Remove@@ ", this@@ ); tempVar@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ()); tempVar@@ .set@@ Is@@ Default@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ ); org.ovirt.engine.ui.uicommonweb.UICommand tempVar@@ 2 = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ ", this@@ ); tempVar@@ 2@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); tempVar@@ 2@@ .set@@ Is@@ Cancel@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ 2@@ ); }
private void conn@@ ect@@ To@@ Cons@@ ol@@ es@@ () { java.lang.String@@ Buil@@ der error@@ Message@@ s = null@@ ; final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > lis@@ t = get@@ SelectedItem@@ s(); if ((@@ lis@@ t == null@@ ) || (@@ lis@@ t.@@ isEmpty@@ ())) { return@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ VM vm : list@@ ) { try { con@@ s@@ ole@@ Model@@ s@@ C@@ ach@@ e.get@@ Vm@@ Cons@@ ol@@ es@@ For@@ Vm@@ Id@@ (vm@@ .getId@@ ()).@@ conn@@ ect@@ (); } catch (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Vm@@ Console@@ s e) { final java.lang.String error@@ Mess@@ age = e.get@@ Local@@ iz@@ ed@@ Error@@ Message@@ (); if (@@ error@@ Mess@@ age != null@@ ) { if (@@ error@@ Message@@ s == null@@ ) { error@@ Message@@ s = new java.lang.String@@ Builder@@ (); } else { error@@ Messages.@@ append("@@ \@@ r@@ \@@ n@@ "); } error@@ Messages.@@ append@@ (vm.get@@ Name@@ ()).@@ append@@ (@@ " - ").@@ append@@ (@@ error@@ Message@@ ); } } } if (@@ error@@ Message@@ s != null@@ ) { error@@ Popup@@ Manager.@@ sh@@ ow@@ (@@ error@@ Messages.@@ toString()); } } }
@java.lang.Override public void validate@@ Enum@@ s(@@ org.ovirt.engine.api.model.@@ VM vm@@ ) { if (vm@@ .is@@ Set@@ Type()) { validate@@ Enum@@ (org.ovirt.engine.api.model.@@ Vm@@ Type@@ .@@ class@@ , vm.get@@ Type@@ (), true@@ ); } if (vm@@ .is@@ Set@@ Us@@ b@@ ()) { us@@ b@@ Validator.@@ validate@@ Enum@@ s(@@ vm.get@@ Us@@ b@@ ()); } if (vm@@ .is@@ Set@@ Os@@ ()) { os@@ Validator.@@ validate@@ Enum@@ s(@@ vm.get@@ Os@@ ()); } if (vm@@ .is@@ Set@@ Display@@ ()) { dis@@ play@@ Validator.@@ validate@@ Enum@@ s(@@ vm.get@@ Display@@ ()); } if (vm@@ .is@@ Set@@ P@@ l@@ acement@@ Policy@@ ()) { pl@@ acement@@ Policy@@ Validator.@@ validate@@ Enum@@ s(@@ vm.get@@ P@@ l@@ acement@@ Policy@@ ()); } if (vm@@ .is@@ Set@@ Cpu@@ ()) { cpu@@ Validator.@@ validate@@ Enum@@ s(@@ vm.get@@ Cpu@@ ()); } if (vm@@ .is@@ Set@@ P@@ ay@@ lo@@ a@@ ds@@ ()) { for (org.ovirt.engine.api.model.@@ P@@ ay@@ lo@@ a@@ d p@@ ay@@ lo@@ a@@ d : vm.get@@ P@@ ay@@ lo@@ a@@ ds@@ ().get@@ P@@ ay@@ load@@ ()) { p@@ ay@@ load@@ Validator.@@ validate@@ Enum@@ s(@@ p@@ ay@@ load@@ ); } } if ((@@ vm@@ .is@@ Set@@ In@@ itial@@ ization@@ ()) && (vm.get@@ In@@ itial@@ ization@@ ().is@@ Set@@ Configuration@@ ())) { config@@ ur@@ ation@@ Validator.@@ validate@@ Enum@@ s(@@ vm.get@@ In@@ itial@@ ization@@ ().get@@ Configuration@@ ()); } } }
protected void set@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ er@@ (org.ovirt.engine.api.model.@@ VM model@@ ) { if (!(@@ model.@@ isSet@@ Vir@@ ti@@ oS@@ csi@@ ())) { model.set@@ Vir@@ ti@@ oS@@ csi@@ (@@ new org.ovirt.engine.api.model.@@ Vir@@ t@@ I@@ O@@ S@@ C@@ SI@@ ()); } model.get@@ Vir@@ ti@@ oS@@ csi@@ ().set@@ Enabled@@ (@@ org.ovirt.engine.api.restapi.@@ util.@@ Vm@@ Helper.@@ has@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ ers@@ (@@ this@@ , new org.ovirt.engine.core.compat.Guid@@ (model.get@@ Id@@ ()))); }
@java.lang.Override protected void p@@ er@@ for@@ m@@ Boot@@ str@@ ap@@ () { super@@ .@@ p@@ er@@ for@@ m@@ Boot@@ str@@ ap@@ (); com.google.gwt.@@ user.@@ client.@@ W@@ in@@ do@@ w@@ .set@@ Title(@@ d@@ ynam@@ ic@@ Messages.@@ ap@@ plication@@ Title@@ ()); if (@@ org.ovirt.engine.ui.webadmin.@@ ui@@ m@@ od@@ e.@@ U@@ i@@ M@@ ode@@ Data@@ .is@@ Available@@ ()) { h@@ andle@@ U@@ i@@ M@@ ode@@ (@@ org.ovirt.engine.ui.webadmin.@@ ui@@ m@@ od@@ e.@@ U@@ i@@ M@@ ode@@ Data@@ .get@@ U@@ i@@ M@@ ode@@ ()); } pl@@ ace@@ Manager.@@ re@@ ve@@ al@@ C@@ urrent@@ P@@ l@@ ace@@ (); }
public boolean init@@ Gluster@@ Host@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value = run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Gluster@@ Host@@ UUID@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ Id@@ VDSCommand@@ Parameters@@ Bas@@ e(@@ vds@@ .getId@@ ())); if (@@ (@@ return@@ Value.get@@ Succeeded@@ ()) && (@@ return@@ Value.get@@ ReturnValue@@ ()) != null@@ )) { org.ovirt.engine.core.compat.Guid ad@@ ded@@ Server@@ U@@ ui@@ d = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (((@@ java.lang.String@@ ) (@@ return@@ Value.get@@ ReturnValue@@ ()))); if (@@ host@@ U@@ uid@@ Exist@@ s(@@ vds@@ , ad@@ ded@@ Server@@ U@@ uid@@ )) { set@@ Non@@ Operation@@ al@@ (vds@@ , Non@@ Operation@@ al@@ Reason@@ .@@ GLUSTER_@@ HOST@@ _@@ UUID@@ _@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ S@@ , null@@ ); return false@@ ; } save@@ Gluster@@ Host@@ U@@ uid@@ (vds@@ , ad@@ ded@@ Server@@ U@@ uid@@ ); } else { set@@ Non@@ Operation@@ al@@ (vds@@ , Non@@ Operation@@ al@@ Reason@@ .@@ GLUSTER_@@ HOST@@ _@@ UUID@@ _@@ NOT_@@ F@@ O@@ UN@@ D@@ , null@@ ); return false@@ ; } re@@ fresh@@ Gluster@@ Storage@@ Devic@@ es(@@ vds@@ ); boolean re@@ t = init@@ Gluster@@ P@@ e@@ er@@ Pro@@ cess@@ (vds@@ ); gluster@@ Server@@ Dao@@ .@@ update@@ P@@ e@@ er@@ Status(@@ vds.get@@ Id(), (@@ re@@ t == true ? org.ovirt.engine.core.common.businessentities.@@ gluster.@@ P@@ e@@ er@@ Status.@@ C@@ ON@@ N@@ EC@@ T@@ E@@ D : org.ovirt.engine.core.common.businessentities.@@ gluster.@@ P@@ e@@ er@@ Status.@@ DIS@@ C@@ ON@@ N@@ EC@@ T@@ ED@@ )); add@@ Gluster@@ W@@ eb@@ h@@ ook@@ (vds@@ ); return ret@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { org.ovirt.engine.core.common.businessentities.Storage@@ Domain stor@@ age = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StorageDomain@@ Dao().get@@ For@@ StoragePool@@ (org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Import@@ Export@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Import@@ Export@@ Command.getParameters().get@@ StoragePool@@ Id()); if (@@ stor@@ age == null@@ ) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ NOT_@@ EXIST@@ ); } if (((@@ storage.@@ get@@ Status()) == null@@ ) || ((@@ storage.@@ get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Active@@ ))) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ ST@@ AT@@ U@@ S_@@ IL@@ LE@@ G@@ AL@@ ); } if ((@@ storage.@@ get@@ StorageDomain@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Import@@ Export@@ )) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ TYPE_@@ IL@@ LE@@ G@@ AL@@ ); } if ((get@@ Vm@@ ()) == null@@ ) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ NOT_@@ F@@ O@@ UN@@ D_@@ ON_@@ EX@@ POR@@ T_@@ DOMA@@ IN@@ ); } org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Import@@ Export@@ Command.getVm@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Import@@ Export@@ Command.getVm@@ Id()); if ((@@ vm != null@@ ) && ((@@ vm.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Image@@ Lock@@ ed@@ ))) { if (org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ has@@ Task@@ s@@ For@@ Entity@@ Id@@ And@@ Action@@ (vm.get@@ Id(), Vdc@@ ActionType.@@ Export@@ Vm@@ )) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ D@@ UR@@ ING@@ _@@ EX@@ PORT@@ ); } } return true@@ ; }
public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ I@@ I@@ r@@ s@@ Ser@@ ve@@ r get@@ I@@ r@@ s@@ Proxy@@ () { if ((get@@ m@@ I@@ r@@ s@@ Proxy@@ ()) == null@@ ) { final org.ovirt.engine.core.common.businessentities.Storage@@ Pool storage@@ Pool = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StoragePool@@ Dao().get@@ (@@ _@@ storagePool@@ Id); if ((@@ storagePool@@ .get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Status.@@ Un@@ initial@@ iz@@ ed@@ )) { java.lang.String hos@@ t = org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Sup@@ p@@ ress@@ , new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.String@@ >() { @java.lang.Override public java.lang.String run@@ In@@ Transaction@@ () { return get@@ host@@ From@@ Vds@@ (); } }); if (@@ hos@@ t != null@@ ) { int client@@ Time@@ O@@ u@@ t = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ vds@@ Time@@ out@@ )) * 1@@ 00@@ 0@@ ; int connection@@ Time@@ O@@ u@@ t = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ vds@@ Connection@@ Time@@ out@@ )) * 1@@ 00@@ 0@@ ; int h@@ e@@ art@@ Be@@ a@@ t = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ vds@@ H@@ e@@ art@@ Be@@ at@@ )) * 1@@ 00@@ 0@@ ; int client@@ R@@ et@@ ri@@ es = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ vds@@ R@@ et@@ ri@@ es@@ ); ir@@ s@@ Pro@@ x@@ y = org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ Trans@@ port@@ Fac@@ t@@ ory@@ .@@ create@@ I@@ r@@ s@@ Server@@ (get@@ Protocol@@ (), host@@ , get@@ m@@ I@@ r@@ s@@ Port@@ (), client@@ Time@@ Out@@ , connection@@ Time@@ Out@@ , client@@ R@@ et@@ ri@@ es@@ , h@@ e@@ art@@ Be@@ at@@ ); run@@ StoragePool@@ Up@@ Event@@ (@@ storagePool@@ ); } } return get@@ m@@ I@@ r@@ s@@ Proxy@@ (); }
@java.lang.Override protected boolean canDoAction@@ () { if (@@ super@@ .@@ canDoAction@@ ()) { return false@@ ; } old@@ Pool = org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Pool@@ Command.getVm@@ Pool@@ DAO@@ ().get@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Pool@@ Command.getVm@@ Pool@@ ().get@@ Vm@@ Pool@@ Id()); if ((@@ old@@ Pool@@ ) == null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ VM_@@ P@@ O@@ OL@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ P@@ O@@ OL@@ _@@ NOT_@@ F@@ O@@ UN@@ D@@ ); } if ((org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Pool@@ With@@ Vms@@ Command.getParameters().get@@ Vms@@ Count@@ ()) < 0) { return failCanDoAction@@ (VdcBllMessages.@@ VM_@@ P@@ O@@ OL@@ _C@@ ANNOT_@@ D@@ EC@@ RE@@ A@@ S@@ E_@@ VM@@ S_@@ F@@ RO@@ M@@ _P@@ O@@ OL@@ ); } return true@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ VDS get@@ Value(@@ S object@@ ) { if (@@ obj@@ ect instanceof org.ovirt.engine.core.common.businessentities.@@ VDS@@ ) { return ((org.ovirt.engine.core.common.businessentities.@@ VDS@@ ) (@@ object@@ )); } if (@@ obj@@ ect instanceof org.ovirt.engine.core.common.utils.Pair@@ Query@@ able@@ ) { if ((((@@ org.ovirt.engine.core.common.utils.Pair@@ Query@@ able@@ <?@@ , ?@@ >) (@@ object@@ )@@ ).get@@ Sec@@ ond@@ ()) instanceof org.ovirt.engine.core.common.businessentities.@@ VDS@@ ) { return ((org.ovirt.engine.core.common.businessentities.@@ VDS@@ ) (((@@ org.ovirt.engine.core.common.utils.Pair@@ Query@@ able@@ <?@@ , ?@@ >) (@@ object@@ )@@ ).get@@ Sec@@ ond@@ ())); } } return null@@ ; }
public void set@@ Config@@ Option@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ Snapshot@@ Option@@ Model@@ >> cluster@@ Config@@ Option@@ s) { this@@ .@@ cluster@@ Config@@ Option@@ s = cluster@@ Config@@ Option@@ s@@ ; }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c gluster@@ Volume@@ Brick@@ Add@@ (java.lang.String volume@@ Name, java.lang.String@@ [@@ ] brick@@ s, int re@@ pl@@ ic@@ a@@ Count@@ , int st@@ ri@@ p@@ e@@ Count@@ , boolean for@@ ce@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Gluster@@ Volum@@ e.@@ add@@ Brick@@ ").@@ with@@ Parameter("@@ volume@@ Name@@ ", volume@@ Name@@ ).@@ with@@ Parameter("@@ brick@@ List@@ ", new java.util.ArrayList<@@ java.lang.String@@ >@@ (@@ java.util.Arrays.as@@ List(@@ brick@@ s@@ )@@ )).@@ with@@ Parameter("@@ re@@ pl@@ ic@@ a@@ Count@@ ", re@@ pl@@ ic@@ a@@ Count@@ ).@@ with@@ Parameter("@@ st@@ ri@@ p@@ e@@ Count@@ ", st@@ ri@@ p@@ e@@ Count@@ ).@@ with@@ Parameter@@ (@@ "@@ for@@ ce@@ ", for@@ ce@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
private void init@@ List@@ er@@ n@@ ers@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Disks@@ Al@@ loc@@ ation@@ Model model@@ ) { model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { if ("@@ Disks@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { add@@ Disk@@ List(@@ model@@ ); } else if ("@@ Quota@@ E@@ n@@ for@@ c@@ ment@@ Type@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { update@@ Column@@ s@@ Avail@@ ab@@ ility@@ (model@@ ); update@@ List@@ H@@ ead@@ er@@ (model@@ ); } } }); }
protected org.ovirt.engine.core.common.businessentities.Storage@@ Domain el@@ ect@@ New@@ Ma@@ ster@@ (@@ boolean d@@ ur@@ ing@@ R@@ e@@ const@@ r@@ uc@@ t@@ , boolean s@@ el@@ ect@@ In@@ ac@@ tive@@ W@@ h@@ en@@ No@@ Active@@ Un@@ k@@ n@@ ow@@ n@@ Domain@@ s) { org.ovirt.engine.core.common.businessentities.Storage@@ Domain new@@ Ma@@ st@@ er = null@@ ; org.ovirt.engine.core.common.businessentities.Storage@@ Domain s@@ u@@ g@@ es@@ ted@@ In@@ ac@@ tive@@ Domain = null@@ ; if ((get@@ StoragePool@@ ()) != null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > storageDomain@@ s = org.ovirt.engine.core.bll.storage.@@ StorageDomain@@ CommandBase.get@@ StorageDomain@@ DAO@@ ().get@@ AllFor@@ StoragePool@@ (get@@ StoragePool@@ ().get@@ Id()); java.util.Collections.@@ s@@ ort@@ (@@ storageDomain@@ s, org.ovirt.engine.core.bll.storage.@@ StorageDomain@@ Command@@ Bas@@ e.@@ L@@ ast@@ Time@@ Us@@ ed@@ As@@ Ma@@ ster@@ Comp@@ .@@ instance@@ ); if ((@@ storageDomain@@ s.@@ size()) > 0) { org.ovirt.engine.core.common.businessentities.Storage@@ Domain storage@@ Domain = org.ovirt.engine.core.bll.storage.@@ StorageDomain@@ CommandBase.get@@ StorageDomain@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain db@@ Storage@@ Domain : storageDomain@@ s) { if (((@@ storage@@ Domain == null@@ ) || (@@ d@@ ur@@ ing@@ R@@ e@@ const@@ r@@ uc@@ t || (!(@@ db@@ StorageDomain@@ .getId@@ ().@@ equals(@@ storageDomain@@ .getId@@ ())@@ )@@ ))) && ((@@ db@@ StorageDomain@@ .get@@ StorageDomain@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Data@@ ))) { if (((@@ db@@ StorageDomain@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Active@@ )) || ((@@ db@@ StorageDomain@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ ))) { new@@ Ma@@ st@@ er = db@@ StorageDomain@@ ; break@@ ; } else if ((@@ s@@ el@@ ect@@ In@@ ac@@ tive@@ W@@ h@@ en@@ No@@ Active@@ Un@@ k@@ n@@ ow@@ n@@ Domain@@ s && (s@@ u@@ g@@ es@@ ted@@ In@@ ac@@ tive@@ Domain == null@@ )) && ((@@ db@@ StorageDomain@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ In@@ Active@@ ))) { s@@ u@@ g@@ es@@ ted@@ In@@ ac@@ tive@@ Domain = db@@ StorageDomain@@ ; } } } } return new@@ Ma@@ st@@ er != null ? new@@ Ma@@ st@@ er : s@@ u@@ g@@ es@@ ted@@ In@@ ac@@ tive@@ Domain@@ ; }
private java.util.@@ D@@ ate get@@ D@@ ate@@ From@@ Disk@@ Description@@ (@@ java.util.Map<java.lang.String, java.lang.Object> map@@ ) { return new java.@@ tex@@ t.@@ S@@ im@@ ple@@ D@@ ate@@ Format@@ (@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ Ovf@@ Par@@ ser@@ .@@ for@@ mat@@ Str@@ From@@ Disk@@ Description@@ ).@@ par@@ s@@ e(@@ map@@ .get(@@ Ovf@@ Info@@ File@@ Constants.@@ L@@ ast@@ Update@@ d@@ ).@@ toString()); }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Contex@@ t contex@@ t@@ , java.io.@@ Ser@@ ial@@ iz@@ able value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der s@@ b@@ ) { if (@@ valu@@ e == null@@ ) { cl@@ e@@ ar@@ All@@ (); } int pro@@ g@@ res@@ s = get@@ Progress@@ Value(@@ f@@ ree@@ Size@@ , t@@ otal@@ Size@@ ); java.lang.String size@@ Strin@@ g = get@@ Progress@@ Text@@ (@@ f@@ ree@@ Size@@ , t@@ otal@@ Size@@ ); java.lang.String c@@ ol@@ or = (@@ pro@@ g@@ res@@ s < 7@@ 0) ? "@@ #@@ 6@@ 9@@ 9@@ 9@@ 9@@ 9@@ 6@@ 6@@ 6@@ 6@@ " : pro@@ g@@ res@@ s < 9@@ 5 ? "@@ #@@ F@@ 9@@ 00@@ " : "@@ #@@ F@@ 00@@ 00@@ "; java.lang.String t@@ ool@@ T@@ i@@ p = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Gluster@@ C@@ ap@@ ac@@ ity@@ C@@ el@@ l.@@ mess@@ ages.@@ gluster@@ C@@ ap@@ ac@@ ity@@ Info@@ (get@@ Size@@ String@@ (@@ f@@ ree@@ Size@@ , in@@ Unit@@ ), get@@ Size@@ String@@ (@@ us@@ ed@@ Size@@ , in@@ Unit@@ ), get@@ Size@@ String@@ (@@ t@@ otal@@ Size@@ , in@@ Unit@@ )); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l s@@ afe@@ Ht@@ m@@ l = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Gluster@@ C@@ ap@@ ac@@ ity@@ C@@ el@@ l.@@ templat@@ es.@@ gluster@@ C@@ ap@@ c@@ ity@@ Progress@@ B@@ ar@@ (@@ pro@@ gress@@ , size@@ String@@ , c@@ ol@@ or@@ , t@@ ool@@ T@@ ip@@ ); s@@ b@@ .@@ append@@ (s@@ afe@@ Ht@@ ml@@ ); }
public static void update@@ Im@@ ported@@ Vm@@ Us@@ b@@ Policy@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Base vm@@ Base@@ ) { if ((@@ Os@@ Rep@@ os@@ it@@ ory@@ Impl.@@ IN@@ ST@@ AN@@ C@@ E@@ .is@@ Lin@@ u@@ x@@ (vm@@ Base.get@@ Os@@ ())) && (vm@@ Base.get@@ Us@@ b@@ Policy@@ ().@@ equals(@@ Us@@ b@@ Policy@@ .@@ EN@@ AB@@ L@@ ED_@@ LE@@ G@@ AC@@ Y@@ ))) { vm@@ Bas@@ e.set@@ Us@@ b@@ Policy@@ (@@ Us@@ b@@ Policy@@ .@@ DIS@@ AB@@ L@@ ED); } }
@@@ org.ovirt.engine.ui.webadmin.@@ Default@@ Message@@ ("@@ Al@@ l re@@ fer@@ ence@@ s to object@@ s th@@ a@@ t res@@ id@@ e on Stor@@ age Domain {0@@ } in the data@@ b@@ ase w@@ il@@ l b@@ e rem@@ oved@@ . Y@@ o@@ u ma@@ y ne@@ ed to man@@ u@@ all@@ y cl@@ e@@ an the stor@@ age in or@@ der to re@@ us@@ e it.@@ ") java.lang.String storage@@ Dest@@ ro@@ y@@ Popup@@ Message@@ Label@@ (java.lang.String storage@@ Name);
@java.lang.Override public void h@@ andle@@ Fail@@ ure@@ () { org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.@@ log.error("@@ Fail@@ ed ch@@ il@@ d c@@ ommand stat@@ u@@ s for st@@ e@@ p '{}@@ '@@ ", org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.getParameters().get@@ Command@@ Step@@ ()); }
private static java.lang.String ex@@ tr@@ act@@ Non@@ Empty@@ Property@@ (@@ java.util.Map<java.lang.String, java.lang.Object> nic@@ ) { return ((@@ java.lang.String@@ ) (@@ nic@@ .get@@ ("@@ net@@ m@@ ask@@ "@@ ))); }
public static void Log@@ o@@ ff@@ Async@@ (org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er db@@ User@@ , final org.ovirt.engine.ui.frontend.AsyncQuery call@@ back@@ ) { org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ log@@ g@@ er.@@ fin@@ er@@ ("@@ Frontend@@ : In@@ vo@@ k@@ ing as@@ yn@@ c Log@@ o@@ ff@@ .@@ "); org.ovirt.engine.ui.frontend.@@ gw@@ t@@ ser@@ vic@@ es.@@ Gener@@ ic@@ Ap@@ i@@ G@@ W@@ T@@ Service@@ As@@ yn@@ c ser@@ vic@@ e = Gener@@ ic@@ Ap@@ i@@ G@@ W@@ T@@ Service@@ Async@@ .@@ Util@@ .getInstance@@ (); ser@@ vic@@ e.@@ log@@ Of@@ f@@ (@@ db@@ User@@ , new com.google.gwt.@@ user.@@ client.@@ rpc@@ .@@ AsyncCallback@@ <@@ Vdc@@ ReturnValue@@ Base@@ >() { @java.lang.Override public void onSuccess@@ (@@ final Vdc@@ ReturnValue@@ Base result) { org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ log@@ g@@ er.@@ fin@@ er@@ ("@@ Suc@@ c@@ es@@ f@@ u@@ l return@@ ed result f@@ ro@@ m Log@@ o@@ ff@@ .@@ "); call@@ back@@ .@@ async@@ Callback@@ .@@ onSuccess@@ (c@@ all@@ back@@ .get@@ Model@@ (), result@@ ); if ((@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .get@@ Lo@@ gin@@ Handler@@ ()) != null@@ ) { org.ovirt.engine.ui.frontend.@@ Frontend@@ .get@@ Lo@@ gin@@ Handler@@ ().@@ on@@ Log@@ out@@ (); } } @java.lang.Override public void on@@ Fail@@ ure@@ (@@ final java.lang.@@ Th@@ row@@ able c@@ au@@ g@@ ht@@ ) { if (@@ org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ ign@@ ore@@ Fail@@ ure(@@ c@@ au@@ g@@ ht@@ )) { return@@ ; } org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ log@@ g@@ er.@@ log@@ (java.util.@@ log@@ gin@@ g.@@ Le@@ ve@@ l.@@ S@@ E@@ V@@ ER@@ E, ("@@ Fail@@ ed to execu@@ te Log@@ o@@ ff@@ : " + c@@ au@@ g@@ ht@@ ), c@@ au@@ g@@ ht@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .get@@ Event@@ sHandler@@ ().@@ run@@ Query@@ Fail@@ ed@@ (@@ null@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ fail@@ ure@@ Event@@ Handler@@ (c@@ au@@ g@@ ht@@ ); call@@ back@@ .@@ async@@ Callback@@ .@@ onSuccess@@ (c@@ all@@ back@@ .get@@ Model@@ (), null@@ ); } }); }
private void query@@ V@@ f@@ Map@@ () { final org.ovirt.engine.ui.frontend.AsyncQuery async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); async@@ Query@@ .set@@ Model@@ (@@ this@@ ); async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ O@@ bj@@ ) { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ Value = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ O@@ bj@@ )); vf@@ Map = return@@ Value.get@@ ReturnValue@@ (); query@@ NetworkAttachment@@ s(); } }; org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = get@@ Entity@@ (); org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters param@@ s = new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ vds.get@@ Id()); params.set@@ Re@@ fresh@@ (@@ false@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ V@@ f@@ Map@@ , param@@ s, async@@ Query@@ ); }
public org.ovirt.engine.core.bll.@@ Command@@ Multi@@ AsyncTask@@ s get@@ Command@@ Multi@@ AsyncTask@@ s() { org.ovirt.engine.core.bll.@@ Command@@ Multi@@ AsyncTask@@ s entity@@ In@@ fo = null@@ ; synchronized@@ (org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ AsyncTask@@ .@@ class@@ ) { entity@@ In@@ fo = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ AsyncTask@@ .@@ _@@ m@@ ulti@@ Task@@ sBy@@ Command@@ Id@@ s.get@@ (get@@ Command@@ Id()); } return entity@@ Info@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Al@@ lo@@ w ch@@ an@@ gin@@ g VM admin@@ ist@@ r@@ ati@@ v@@ e proper@@ ties@@ ") java.lang.String al@@ low@@ Ch@@ an@@ gin@@ g@@ Vm@@ Ad@@ min@@ Properties@@ Role@@ T@@ ree@@ T@@ ooltip@@ ();
@java.lang.Override public org.ovirt.engine.core.compat.Guid get@@ StorageDomain@@ Id@@ () { if ((@@ c@@ ach@@ ed@@ StorageDomain@@ Id) == null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ D@@ um@@ m@@ i@@ es@@ For@@ Mem@@ S@@ iz@@ e = org.ovirt.engine.core.bll.@@ memory@@ .@@ Memory@@ Utils.@@ create@@ Disk@@ D@@ um@@ m@@ i@@ es@@ (org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Util@@ s.get@@ T@@ otal@@ Memory@@ Size@@ In@@ By@@ t@@ es@@ (org.ovirt.engine.core.bll.@@ H@@ i@@ ber@@ n@@ ate@@ VmCommand.getVm@@ ()), Memory@@ Utils.@@ M@@ ET@@ AD@@ AT@@ A@@ _@@ SI@@ Z@@ E_@@ IN_@@ B@@ Y@@ T@@ ES@@ ); org.ovirt.engine.core.common.businessentities.Storage@@ Domain storage@@ Domain = org.ovirt.engine.core.bll.@@ memory@@ .@@ Memory@@ Storage@@ Handler@@ .getInstance().@@ fin@@ d@@ StorageDomain@@ For@@ Memory@@ (org.ovirt.engine.core.bll.@@ H@@ i@@ ber@@ n@@ ate@@ Vm@@ Command.get@@ StoragePool@@ Id(), disk@@ D@@ um@@ m@@ i@@ es@@ For@@ Mem@@ Size@@ , org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ filter@@ Image@@ Disks@@ (org.ovirt.engine.core.bll.@@ H@@ i@@ ber@@ n@@ ate@@ Vm@@ Command.get@@ Disk@@ Dao().get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ H@@ i@@ ber@@ n@@ ate@@ VmCommand.getVm@@ Id@@ ()), false@@ , false@@ ), org.ovirt.engine.core.bll.@@ H@@ i@@ ber@@ n@@ ate@@ VmCommand.getVm@@ ()); if (@@ storage@@ Domain != null@@ ) { c@@ ach@@ ed@@ StorageDomain@@ Id = storageDomain@@ .getId@@ (); } } return c@@ ach@@ ed@@ StorageDomain@@ Id@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Validator@@ (get@@ Network@@ Cluster@@ ()); return (@@ validate@@ (network@@ Cluster@@ Exist@@ s@@ ())) && ((!@@ (org.ovirt.engine.core.bll.@@ network.Network@@ Helper.@@ manage@@ ment@@ Network@@ (get@@ Network@@ ()))) || (@@ validate@@ (@@ valid@@ ator@@ .m@@ an@@ age@@ ment@@ NetworkAttachment@@ (get@@ Network@@ Name@@ ())@@ ))); }
@java.lang.Override public void mar@@ k@@ As@@ In@@ valid@@ (@@ java.util.List<java.lang.String> valid@@ ation@@ H@@ int@@ s) { super@@ .m@@ ar@@ k@@ As@@ In@@ valid@@ (@@ valid@@ ation@@ H@@ int@@ s); java.lang.String t@@ ooltip@@ T@@ ex@@ t = org.ovirt.engine.ui.common.widget.@@ Abstract@@ Validate@@ d@@ Widget@@ With@@ Label@@ .get@@ Validation@@ T@@ ooltip@@ Text@@ (@@ valid@@ ation@@ H@@ int@@ s); label@@ T@@ ooltip@@ .set@@ Text@@ (@@ t@@ ooltip@@ Text@@ ); label@@ T@@ ooltip@@ .@@ r@@ ec@@ on@@ fi@@ g@@ ure@@ (); cont@@ ent@@ Widget@@ Contain@@ er@@ T@@ ooltip@@ .set@@ Text@@ (@@ t@@ ooltip@@ Text@@ ); cont@@ ent@@ Widget@@ Contain@@ er@@ T@@ ooltip@@ .@@ r@@ ec@@ on@@ fi@@ g@@ ure@@ (); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se remove@@ (org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { return ((@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Resource@@ Test.@@ VM_@@ I@@ D != null ? org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Resource@@ Test.@@ VM_@@ I@@ D : new org.ovirt.engine.api.model.@@ StorageServerConnection@@ Ex@@ ten@@ sion@@ s(); }
private void validate@@ Update@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ VM@@ Status status@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = create@@ DiskImage@@ (); disk@@ .set@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ (@@ false@@ ); when@@ (disk@@ Dao.get@@ (disk@@ Image@@ Guid@@ )).@@ thenReturn(@@ disk@@ ); command@@ .get@@ Parameters().get@@ Disk@@ Info@@ ().set@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ (@@ true@@ ); initial@@ ize@@ Command@@ (c@@ reate@@ Vm@@ (@@ status@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Success@@ (command@@ ); }
public static void get@@ Domain@@ List@@ Vi@@ a@@ P@@ ubl@@ ic@@ (@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , boolean filter@@ Internal@@ Domain@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { return s@@ ource != null ? new java.util.ArrayList<@@ java.lang.String@@ >@@ (((@@ java.util.ArrayList<@@ java.lang.String@@ >) (s@@ ource@@ ))) : new java.util.ArrayList<@@ java.lang.String@@ >(); } }; org.ovirt.engine.core.common.queries.@@ Get@@ Domain@@ List@@ Parameters temp@@ V@@ a@@ r = new org.ovirt.engine.core.common.queries.@@ Get@@ Domain@@ List@@ Parameters@@ (); tempVar@@ .set@@ Filter@@ Internal@@ Domain@@ (@@ filter@@ Internal@@ Domain@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ P@@ ubl@@ ic@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Domain@@ List@@ , tempVar@@ , aQuery@@ ); }
@@@ org.ovirt.engine.ui.common.@@ DefaultStringValue("@@ E@@ D back@@ end@@ ") java.lang.String r@@ ng@@ E@@ g@@ d@@ ();
private java.lang.String get@@ Vm@@ Is@@ Be@@ ing@@ Im@@ ported@@ Message@@ () { java.lang.String@@ Buil@@ der buil@@ der = new java.lang.String@@ Builder@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_@@ B@@ E@@ ING@@ _@@ IM@@ PORT@@ ED@@ .@@ name@@ ()); buil@@ der.@@ append@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Vm@@ Name %@@ 1@@ $@@ s", get@@ Vm@@ Name@@ ())); return buil@@ der.@@ toString@@ (); }
private void not@@ M@@ g@@ m@@ t@@ Network@@ Test@@ (org.ovirt.engine.core.bll.@@ ValidationRes@@ ult exp@@ ected@@ , java.lang.String network@@ Name@@ ) { mock@@ Config@@ R@@ ul@@ e.@@ mock@@ Config@@ Value(ConfigValues.@@ Management@@ Network@@ , M@@ G@@ M@@ T_@@ NETWORK_@@ NAM@@ E); when(@@ network@@ .getName@@ ()).@@ thenReturn(@@ network@@ Name); assert@@ Equals@@ (@@ exp@@ ected@@ , validator.@@ not@@ Management@@ Network@@ ().get@@ Message@@ ()); }
private void on@@ Remove@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); if ((@@ model.get@@ Progress@@ ()) != null@@ ) { return@@ ; } java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > lis@@ t = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ > e@@ n@@ try : vm@@ s@@ Remove@@ Map.@@ e@@ n@@ try@@ Set@@ ()) { lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.common.action.@@ Remove@@ Vm@@ Parameters(@@ e@@ n@@ try@@ .get@@ Key@@ (), false@@ , ((@@ java.lang.Boolean@@ ) (@@ e@@ n@@ try@@ .get@@ Value@@ ().getEntity@@ ())@@ ))); } model.@@ st@@ art@@ Progress@@ (@@ null@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action(VdcActionType.@@ Remove@@ Vm@@ , list@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model local@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (@@ result.get@@ State@@ ())); local@@ Model.@@ st@@ op@@ Progress@@ (); cancel@@ (); } }, model@@ ); }
public void s@@ ure@@ Async@@ Search@@ St@@ op@@ p@@ ed@@ () { get@@ Tim@@ er@@ ().@@ st@@ op@@ (); }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = 1@@ ; result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ (@@ default@@ En@@ d@@ Time@@ ) == null ? 0 : default@@ En@@ d@@ Tim@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ (@@ default@@ Start@@ Time@@ ) == null ? 0 : default@@ Start@@ Tim@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ (@@ default@@ Time@@ In@@ D@@ ay@@ s); result = (@@ pri@@ m@@ e * result) + ((@@ parameters@@ ) == null ? 0 : parameter@@ s.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ vds@@ Group@@ Id) == null ? 0 : vds@@ Group@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ vds@@ Group@@ Name@@ ) == null ? 0 : vds@@ Group@@ Nam@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (vm@@ Pool@@ As@@ s@@ ig@@ ne@@ d@@ Count@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ d@@ escription@@ ) == null ? 0 : d@@ escription@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ name@@ ) == null ? 0 : nam@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (vm@@ Pool@@ Run@@ ning@@ Count@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ typ@@ e) == null ? 0 : typ@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (m@@ a@@ x@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Per@@ User@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ vm@@ t@@ Guid@@ ) == null ? 0 : vm@@ t@@ Guid@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ us@@ e@@ L@@ at@@ est@@ Version ? 1@@ 2@@ 4@@ 9 : 1@@ 2@@ 5@@ 9@@ ); return result@@ ; }
@java.lang.Override public org.ovirt.engine.api.model.@@ N@@ I@@ C update@@ (org.ovirt.engine.api.model.@@ N@@ I@@ C res@@ ource@@ ) { validate@@ Parameters(@@ res@@ ource@@ , re@@ qui@@ red@@ Update@@ Fiel@@ ds@@ ); org.ovirt.engine.core.common.businessentities.@@ Network n@@ etwork = fin@@ d@@ Network@@ (@@ res@@ ource@@ ); if (@@ n@@ etwork != null@@ ) { res@@ ourc@@ e.get@@ Network@@ ().set@@ Name(@@ network@@ .get@@ name@@ ()); res@@ ourc@@ e.get@@ Network@@ ().set@@ Id@@ (@@ null@@ ); } return p@@ er@@ for@@ m@@ Update@@ (@@ res@@ ource@@ , entity@@ Res@@ ol@@ ver@@ , update@@ Type, update@@ Parameters@@ Provider@@ ); }
protected org.ovirt.engine.core.common.businessentities.Vm@@ Device get@@ VmDevice@@ By@@ Disk@@ Id(@@ org.ovirt.engine.core.compat.Guid disk@@ Id) { return vm@@ Device@@ Dao.get@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Id(@@ disk@@ Id, vm.get@@ Id@@ ())); }
@org.junit.Test public void test@@ O@@ th@@ er@@ Fiel@@ ds@@ Not@@ Validate@@ d@@ In@@ Import@@ () { org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters parameter@@ s = create@@ Parameters@@ (); java.lang.String to@@ o@@ L@@ on@@ g@@ Strin@@ g = org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instance@@ ().@@ ne@@ xt@@ Property@@ String@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Enti@@ ties@@ De@@ fin@@ ition@@ s.@@ G@@ EN@@ ER@@ AL@@ _@@ MA@@ X@@ _@@ SI@@ Z@@ E@@ ) + 1@@ )); parameters@@ .get@@ Vm@@ ().set@@ User@@ De@@ fin@@ ed@@ Properties@@ (@@ to@@ o@@ L@@ on@@ g@@ String@@ ); parameters.set@@ Import@@ As@@ New@@ Entity@@ (@@ true@@ ); org.ovirt.engine.core.bll.@@ ImportVm@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ > c@@ ommand = new org.ovirt.engine.core.bll.@@ ImportVm@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ >@@ (@@ parameters@@ ) { @java.lang.Override protected void init@@ User@@ () { } @java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ C@@ luster get@@ Cluster@@ () { return null@@ ; } }; command@@ .@@ p@@ ost@@ Con@@ struc@@ t@@ (); java.util.@@ Set<@@ javax.@@ validation.@@ Con@@ str@@ a@@ int@@ Vi@@ ol@@ ation@@ <@@ org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ >> valid@@ ate = org.ovirt.engine.core.common.utils.@@ Validation@@ Util@@ s.get@@ Validator@@ ().@@ validate@@ (@@ parameters@@ , command@@ .get@@ Validation@@ Group@@ s().@@ to@@ Array@@ (@@ new java.lang.@@ Class@@ <?@@ >@@ [@@ 0@@ ]@@ )); assert@@ True@@ (@@ valid@@ at@@ e.@@ isEmpty@@ ()); parameters@@ .get@@ Vm@@ ().set@@ User@@ De@@ fin@@ ed@@ Properties@@ (@@ to@@ o@@ L@@ on@@ g@@ String@@ ); parameters.set@@ Import@@ As@@ New@@ Entity@@ (@@ false@@ ); c@@ ommand = new org.ovirt.engine.core.bll.@@ ImportVm@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ >@@ (@@ parameters@@ ) { @java.lang.Override protected void init@@ User@@ () { } @java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ C@@ luster get@@ Cluster@@ () { return null@@ ; } }; command@@ .@@ p@@ ost@@ Con@@ struc@@ t@@ (); valid@@ ate = org.ovirt.engine.core.common.utils.@@ Validation@@ Util@@ s.get@@ Validator@@ ().@@ validate@@ (@@ parameters@@ , command@@ .get@@ Validation@@ Group@@ s().@@ to@@ Array@@ (@@ new java.lang.@@ Class@@ <?@@ >@@ [@@ 0@@ ]@@ )); assert@@ True@@ (@@ valid@@ at@@ e.@@ isEmpty@@ ()); }
@@@ c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ t@@ ab@@ .@@ network.Network@@ Sub@@ Tab@@ Panel@@ Pres@@ enter@@ .@@ class@@ ) static c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ Ap@@ plication@@ Constant@@ s ap@@ plication@@ Constant@@ s, org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ > model@@ Provider@@ ) { return new org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Model@@ B@@ ound@@ Tab@@ Data@@ (@@ ap@@ plication@@ Constants.@@ network@@ Profile@@ Sub@@ Tab@@ Label@@ (), 1, model@@ Provider@@ ); }
@java.lang.Override protected void ch@@ ang@@ e@@ De@@ f@@ u@@ al@@ t@@ Host@@ () { super@@ .@@ ch@@ ang@@ e@@ De@@ f@@ u@@ al@@ t@@ Host@@ (); do@@ Change@@ De@@ fa@@ ut@@ l@@ Host@@ (vm.get@@ D@@ ed@@ ic@@ ated@@ Vm@@ For@@ Vds@@ ()); org.ovirt.engine.core.compat.Guid ded@@ ic@@ ated@@ Host@@ s@@ Gui@@ d = (vm.get@@ D@@ ed@@ ic@@ ated@@ Vm@@ For@@ Vds@@ List@@ ().is@@ Empty@@ ()) ? null : vm.get@@ D@@ ed@@ ic@@ ated@@ Vm@@ For@@ Vds@@ List@@ ().get@@ (0@@ ); do@@ Change@@ De@@ fa@@ ut@@ l@@ Host@@ (@@ ded@@ ic@@ ated@@ Host@@ s@@ Guid@@ ); cor@@ e : en@@ able = $@@ mis@@ sing@@ $@@ ; org.ovirt.engine.ui.uicommonweb.models.vms.@@ p@@ in@@ n@@ ing to@@ ; org.ovirt.engine.ui.uicommonweb.models.vms.@@ m@@ ulti@@ pl@@ e host@@ s@@ ; }
protected Q setUp@@ Sp@@ y@@ Query@@ (@@ P parameters@@ ) throw@@ s java.lang.Exception { org.ovirt.engine.core.dal.dbbroker.DbFac@@ ad@@ e db@@ Fac@@ ade@@ M@@ oc@@ k = org.ovirt.engine.core.bll.@@ Abstract@@ Query@@ Test.@@ mock@@ (@@ org.ovirt.engine.core.dal.dbbroker.DbFac@@ ade@@ .@@ class@@ ); org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Us@@ er db@@ User@@ M@@ oc@@ k = org.ovirt.engine.core.bll.@@ Abstract@@ Query@@ Test.@@ mock@@ (org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ User@@ .@@ class@@ ); when(@@ job@@ Dao.get@@ Job@@ sBy@@ Session@@ Id@@ (org.ovirt.engine.core.bll.@@ Abstract@@ Query@@ Test.@@ any@@ (@@ java.lang.String@@ .@@ class@@ )@@ )).@@ thenReturn(@@ java.util.Collections.@@ em@@ pty@@ List@@ ()); when(@@ engin@@ e@@ Session@@ Dao@@ .@@ save@@ (org.ovirt.engine.core.bll.@@ Abstract@@ Query@@ Test.@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ Engine@@ Session@@ .@@ class@@ )@@ )).@@ thenReturn(@@ org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instance@@ ().@@ ne@@ xt@@ L@@ on@@ g@@ ()); when(@@ engin@@ e@@ Session@@ Dao@@ .@@ remove@@ (org.ovirt.engine.core.bll.@@ Abstract@@ Query@@ Test.@@ any@@ (java.lang.@@ L@@ on@@ g@@ .@@ class@@ )@@ )).@@ thenReturn(@@ 1@@ ); s@@ ession@@ Data@@ Contain@@ er.@@ set@@ User@@ (@@ parameters@@ .get@@ Session@@ Id(), db@@ User@@ Mock@@ ); java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Con@@ struc@@ t@@ or@@ <@@ ? extends Q@@ > c@@ on = get@@ Query@@ Type@@ ().get@@ Con@@ struc@@ t@@ or@@ (get@@ Parameter@@ Type@@ ()); quer@@ y = org.ovirt.engine.core.bll.@@ Abstract@@ Query@@ Test.@@ sp@@ y@@ (@@ con@@ .@@ new@@ Instance@@ (@@ parameters@@ )); do@@ Return@@ (s@@ ession@@ Data@@ Contain@@ er@@ ).@@ when(@@ query@@ ).get@@ Session@@ Data@@ Contain@@ er@@ (); do@@ Return(@@ db@@ Fac@@ ade@@ Mock@@ ).@@ when(@@ query@@ ).get@@ DbFacade@@ (); do@@ Return(@@ db@@ User@@ Mock@@ ).@@ when(@@ query@@ ).@@ init@@ User@@ (); query@@ .@@ p@@ ost@@ Con@@ struc@@ t@@ (); return query@@ ; }
public static org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group get@@ Group@@ By@@ Group@@ Guid@@ (org.ovirt.engine.core.compat.Guid group@@ Guid@@ ) { return null@@ ; }
@org.junit.Test public void canDoAction@@ Fail@@ ed@@ Sh@@ are@@ able@@ Disk@@ On@@ Gluster@@ Domain@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.action.@@ Update@@ Vm@@ Disk@@ Parameters parameter@@ s = create@@ Parameters@@ (); org.ovirt.engine.core.common.businessentities.@@ DiskImage dis@@ k = create@@ Sh@@ are@@ able@@ Disk@@ (@@ Volume@@ For@@ ma@@ t.@@ R@@ A@@ W@@ ); org.ovirt.engine.core.common.businessentities.Storage@@ Domain stor@@ age = add@@ New@@ StorageDomain@@ To@@ Disk@@ (disk@@ , StorageType.@@ G@@ LUST@@ ER@@ FS@@ ); parameters.set@@ Disk@@ Info@@ (disk@@ ); when@@ (disk@@ Dao.get@@ (disk@@ Image@@ Guid@@ )).@@ then@@ Return@@ (c@@ reate@@ DiskImage@@ ()); when(@@ storageDomain@@ Dao@@ .get(@@ storage.@@ get@@ Id@@ ())@@ ).@@ thenReturn(@@ storage@@ ); initial@@ ize@@ Command(@@ parameters@@ ); assert@@ F@@ als@@ e(@@ command@@ .@@ canDoAction@@ ()); assert@@ True@@ (command@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ S@@ H@@ A@@ RE@@ AB@@ L@@ E_@@ DIS@@ K@@ S_NOT_@@ SUP@@ PORT@@ ED_@@ ON_@@ GLUSTER_@@ DOMA@@ IN@@ .@@ toString@@ ())); }
private boolean can@@ Remove@@ Vm@@ Image@@ Disk@@ () { if (!(@@ list@@ Vm@@ s.@@ isEmpty@@ ())) { org.ovirt.engine.core.compat.Guid storagePool@@ Id = list@@ Vm@@ s.get@@ (0@@ ).get@@ StoragePool@@ Id@@ (); org.ovirt.engine.core.common.businessentities.@@ storage_@@ p@@ oo@@ l s@@ p = org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Command.get@@ StoragePool@@ DAO@@ ().get@@ (@@ storagePool@@ Id); if (!(@@ validate@@ (@@ new org.ovirt.engine.core.bll.storage.@@ StoragePool@@ Validator@@ (s@@ p@@ ).@@ is@@ Up@@ ()))) { return false@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > disk@@ List = java.util.Arrays.as@@ List@@ (get@@ Disk@@ ()); if (!@@ (org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ P@@ er@@ for@@ m@@ Images@@ Check@@ s@@ (org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ (), storagePool@@ Id, true@@ , false@@ , false@@ , true@@ , org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ filter@@ Edit@@ able@@ Image@@ Disk@@ s(@@ disk@@ List@@ )@@ ))) { return false@@ ; } } org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator snapshot@@ s@@ Validator = new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator@@ (); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : list@@ Vm@@ s) { if ((!@@ (@@ validate@@ (s@@ napshot@@ s@@ Validator.@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (vm@@ .getId@@ ())@@ ))) || (!(@@ validate@@ (s@@ napshot@@ s@@ Validator.@@ vm@@ Not@@ In@@ Pre@@ view@@ (vm@@ .getId@@ ())@@ )@@ ))) { return false@@ ; } } return true@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ Template@@ ("@@ <@@ d@@ i@@ v@@ >@@ <@@ t@@ able ce@@ ll@@ sp@@ ac@@ ing@@ =@@ '@@ 0@@ ' ce@@ ll@@ p@@ add@@ ing@@ =@@ '@@ 0@@ ' st@@ y@@ le@@ =@@ '@@ lin@@ e@@ -@@ h@@ e@@ ig@@ ht@@ : 5@@ p@@ x@@ ;@@ '@@ >@@ " + ((((@@ ((@@ "@@ <@@ tr@@ >@@ " + "@@ <@@ t@@ d@@ >@@ {0@@ } (@@ <@@ /@@ t@@ d@@ >@@ ") + "@@ <@@ t@@ d@@ >@@ <@@ d@@ i@@ v st@@ y@@ le@@ =@@ '@@ f@@ on@@ t@@ -@@ size@@ : 1@@ 0@@ p@@ x@@ ; tex@@ t@@ -@@ al@@ ign@@ : c@@ enter@@ ;@@ '@@ >@@ {@@ 1@@ }@@ <@@ /@@ d@@ i@@ v@@ >@@ <@@ d@@ i@@ v@@ >@@ {@@ 2@@ }@@ <@@ /@@ d@@ i@@ v@@ >@@ <@@ /@@ t@@ d@@ >@@ ") + "@@ <@@ t@@ d@@ >@@ )@@ <@@ /@@ t@@ d@@ >@@ ") + "@@ <@@ /@@ tr@@ >@@ ") + "@@ <@@ /@@ t@@ able@@ >@@ ") + "@@ <@@ /@@ d@@ i@@ v@@ >@@ "@@ )) com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l vm@@ Count@@ With@@ Migr@@ at@@ ing@@ (java.lang.String vm@@ Count@@ Str@@ , java.lang.String vm@@ Migr@@ at@@ ing@@ Str@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l image@@ );
private static void not@@ if@@ y@@ Client@@ Of@@ Log@@ out@@ Event@@ (@@ org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ S@@ s@@ o@@ Contex@@ t ss@@ o@@ Context@@ , java.lang.String client@@ Id, java.lang.String to@@ k@@ en@@ ) throw@@ s java.lang.Exception { org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ Client@@ In@@ fo client@@ In@@ fo = ss@@ o@@ Contex@@ t.get@@ Cli@@ en@@ Info@@ (@@ client@@ Id); java.lang.String ur@@ l = client@@ Info@@ .get@@ Client@@ No@@ t@@ if@@ ication@@ Callback@@ (); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ ur@@ l@@ )) { org.apach@@ e.@@ http@@ .client.@@ m@@ ethod@@ s.@@ Http@@ P@@ os@@ t re@@ quest = org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ create@@ P@@ ost@@ (@@ ur@@ l@@ ); java.util.List<@@ org.apach@@ e.@@ http@@ .m@@ ess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ > for@@ m = new java.util.ArrayList<@@ >@@ (@@ 3@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .m@@ ess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ event@@ ", "@@ lo@@ go@@ ut@@ ")); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .m@@ ess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ to@@ k@@ en@@ ", to@@ k@@ en@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .m@@ ess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ to@@ k@@ en@@ _@@ type@@ ", "@@ b@@ e@@ ar@@ er@@ ")); re@@ ques@@ t.@@ set@@ Entity@@ (@@ new org.apach@@ e.@@ http@@ .client.@@ entity@@ .@@ U@@ r@@ l@@ En@@ c@@ ode@@ d@@ For@@ m@@ Entity@@ (@@ for@@ m@@ )); org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ execute@@ (@@ request@@ , ss@@ o@@ Context@@ , client@@ Id); } }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s c@@ urr@@ Conn@@ ec@@ tion = get@@ Connection@@ (); boolean is@@ Valid@@ Conn@@ ec@@ tion = true@@ ; org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.Boolean@@ , java.lang.Integer@@ > result = conn@@ ect@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.get@@ Vds@@ ().get@@ Id()); is@@ Valid@@ Conn@@ ec@@ tion = result.get@@ F@@ ir@@ st@@ (); if (is@@ Valid@@ Conn@@ ec@@ tion && ((@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (c@@ urr@@ Connection@@ .get@@ id@@ ())) || ((@@ org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.get@@ DbFacade@@ ().get@@ StorageServerConnection@@ Dao().get@@ (c@@ urr@@ Connection@@ .get@@ id@@ ())) == null@@ ))) { c@@ urr@@ Connection@@ .set@@ id@@ (@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ().@@ toString()); org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.get@@ DbFacade@@ ().get@@ StorageServerConnection@@ Dao().@@ save@@ (c@@ urr@@ Connection@@ ); org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.get@@ ReturnValue@@ ().set@@ Action@@ ReturnValue@@ (get@@ Connection@@ ().get@@ id@@ ()); org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.set@@ Succeeded@@ (@@ true@@ ); } else { org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult fa@@ ult = new org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult@@ (); fa@@ ult.@@ set@@ Error@@ (org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s@@ .@@ for@@ Value(@@ result.get@@ Sec@@ ond@@ ())); org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.get@@ ReturnValue@@ ().set@@ F@@ a@@ ult@@ (@@ fault@@ ); } }
@java.lang.Override public org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Bu@@ tt@@ on add@@ M@@ en@@ u@@ List@@ Item@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > m@@ en@@ u@@ Item@@ De@@ f@@ , int or@@ der@@ ) { org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ An@@ ch@@ or@@ List@@ I@@ te@@ m m@@ en@@ u@@ I@@ te@@ m = new org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ An@@ ch@@ or@@ List@@ Item@@ (m@@ en@@ u@@ Item@@ De@@ f@@ .get@@ Text@@ ()); java.lang.String m@@ en@@ u@@ Item@@ Id = m@@ en@@ u@@ Item@@ De@@ f@@ .get@@ Un@@ i@@ q@@ ue@@ Id@@ (); if (m@@ en@@ u@@ Item@@ Id != null@@ ) { m@@ en@@ u@@ Item@@ .@@ as@@ Widget@@ ().get@@ Element@@ ().set@@ Id(@@ org.ovirt.engine.ui.common.@@ utils.@@ Element@@ Id@@ Utils.@@ create@@ Element@@ Id@@ (get@@ Element@@ Id(), m@@ en@@ u@@ Item@@ Id@@ )); } action@@ Item@@ Map.@@ put@@ (m@@ en@@ u@@ Item@@ De@@ f@@ , m@@ en@@ u@@ Item@@ ); action@@ K@@ eb@@ ab@@ .@@ add@@ M@@ en@@ u@@ Item@@ (m@@ en@@ u@@ Item@@ , or@@ der@@ ); return m@@ en@@ u@@ Item@@ ; }
@java.lang.Override public void save@@ Or@@ Update@@ (org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Us@@ er user@@ ) { set@@ Id@@ If@@ N@@ e@@ e@@ ded@@ (@@ user@@ ); new org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ s@@ im@@ pl@@ e.@@ S@@ im@@ ple@@ J@@ db@@ c@@ Call@@ (get@@ J@@ db@@ c@@ Template@@ ()).@@ with@@ Pro@@ ce@@ d@@ ure@@ Name@@ ("@@ In@@ sert@@ Or@@ Update@@ User@@ ").@@ execute@@ (@@ new org.ovirt.engine.core.dao.@@ Db@@ User@@ Dao@@ Impl.@@ Db@@ User@@ MapSqlParameter@@ Source@@ (@@ user@@ )); }
@java.lang.Override protected void execute@@ Command() { get@@ MacPool@@ Dao().@@ remove@@ (get@@ Parameters().get@@ MacPool@@ Id()); org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ pool@@ man@@ ag@@ er.@@ MacPool@@ Per@@ D@@ c@@ Sing@@ leton@@ .getInstance().@@ remove@@ Pool@@ (get@@ Parameters().get@@ MacPool@@ Id()); get@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ true@@ ); }
protected org.ovirt.engine.core.common.action.VdcReturnValue@@ Base at@@ temp@@ t@@ R@@ oll@@ back@@ (@@ org.ovirt.engine.core.common.action.VdcAction@@ Type command@@ Type, org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base param@@ s, org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Contex@@ t ro@@ ll@@ back@@ Context@@ ) { if (c@@ an@@ P@@ er@@ for@@ m@@ R@@ oll@@ back@@ Us@@ ing@@ Command@@ (command@@ Type, param@@ s@@ )) { params.set@@ Execution@@ Reason@@ (@@ Command@@ Execution@@ Reason@@ .@@ RO@@ L@@ L@@ B@@ AC@@ K_@@ F@@ LO@@ W@@ ); params.set@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ (@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Requi@@ res@@ New@@ ); ent@@ ail@@ Context@@ (@@ ro@@ ll@@ back@@ Context@@ ); return get@@ Backend@@ ().@@ run@@ Internal@@ Action@@ (command@@ Type, param@@ s, ro@@ ll@@ back@@ Context@@ ); } return new org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ (); }
@java.lang.Override protected boolean validate@@ () { if (!@@ (@@ super@@ .@@ validate@@ ())) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volum@@ e = get@@ GlusterVolume@@ (); if (@@ volum@@ e.@@ is@@ On@@ lin@@ e@@ ()) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ I@@ S_@@ UP@@ ); add@@ Validation@@ Message@@ Var@@ i@@ able@@ ("@@ volume@@ Name@@ ", volum@@ e.get@@ Name()); return false@@ ; } if ((@@ volum@@ e.get@@ Snapshots@@ Count@@ ()) > 0) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ H@@ A@@ S_@@ S@@ NA@@ P@@ S@@ HO@@ T@@ S@@ ); add@@ Validation@@ Message@@ Var@@ i@@ able@@ ("@@ volume@@ Name@@ ", volum@@ e.get@@ Name()); add@@ Validation@@ Message@@ Var@@ i@@ able@@ ("@@ no@@ Of@@ Snapshots@@ ", volum@@ e.get@@ Snapshots@@ Count@@ ()); return false@@ ; } return true@@ ; }
public static boolean valid@@ Host@@ name@@ (java.lang.String s) { return ((@@ s == null@@ ) || (@@ s.@@ t@@ ri@@ m@@ ().is@@ Empty@@ ())) && (org.ovirt.engine.core.common.@@ utils.@@ Validation@@ Utils.@@ is@@ Valid@@ Ip@@ Address@@ Or@@ Host@@ name@@ (s@@ ))) || (org.ovirt.engine.core.common.@@ utils.@@ Validation@@ Utils.@@ is@@ Valid@@ Ip@@ v@@ 6@@ Address@@ (s@@ )); }
@java.lang.Override public java.lang.String get@@ Entity@@ O@@ l@@ d@@ Name@@ () { return _@@ old@@ Vds@@ .get@@ vds@@ _@@ name@@ (); }
@org.junit.Test public void test@@ Remove@@ Fail@@ ed@@ () throw@@ s java.lang.Exception { setUp@@ Get@@ Entity@@ Expectation@@ s(); do@@ Test@@ B@@ ad@@ Remove@@ (@@ true@@ , false@@ , org.ovirt.engine.api.restapi.resource.@@ FAIL@@ U@@ RE@@ ); }
public static void p@@ op@@ ul@@ ate@@ Memory@@ Util@@ ization@@ Host@@ s(@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ iz@@ ation uti@@ l@@ ization@@ , javax.@@ s@@ q@@ l.@@ Data@@ Source d@@ wh@@ Data@@ Source@@ ) throw@@ s org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ D@@ ashboard@@ Data@@ Exception { org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Host@@ D@@ wh@@ D@@ a@@ o d@@ a@@ o = new org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Host@@ D@@ wh@@ Dao@@ (@@ d@@ wh@@ Data@@ Source@@ ); java.util.List<@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .models.@@ Tr@@ end@@ Res@@ ourc@@ es@@ > us@@ age@@ List = d@@ ao@@ .get@@ Memory@@ Util@@ ization@@ Host@@ s(); for (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .models.@@ Tr@@ end@@ Resource@@ s us@@ age : us@@ age@@ List@@ ) { org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ iz@@ ed@@ Entity enti@@ ty = new org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ iz@@ ed@@ Entity@@ (); entity.set@@ Name(@@ us@@ age.get@@ Name()); entity.set@@ Us@@ ed@@ (((@@ us@@ age.get@@ Us@@ ed@@ ()) / 1@@ 0@@ 2@@ 4@@ )); entity.set@@ T@@ otal@@ (((@@ us@@ age.get@@ T@@ otal@@ ()) / 1@@ 0@@ 2@@ 4@@ )); entity.set@@ Tr@@ end@@ (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ ization@@ Helper.@@ c@@ al@@ c@@ ul@@ ate@@ Tr@@ end@@ (@@ us@@ age.get@@ Us@@ ed@@ (), us@@ age.get@@ Pre@@ vi@@ o@@ us@@ Us@@ ed@@ ())); uti@@ l@@ iz@@ ation.@@ add@@ Resource@@ (@@ entity@@ ); } }
public void set@@ Qos@@ (org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Network@@ Q@@ o@@ s q@@ os@@ ) { this@@ .@@ q@@ o@@ s = q@@ os@@ ; }
@org.junit.Test public void shoul@@ d@@ Det@@ ect@@ D@@ up@@ l@@ ic@@ i@@ te@@ Cpu@@ As@@ s@@ ign@@ ment@@ () { vm@@ Numa@@ Nod@@ es@@ .get(@@ 0@@ )@@ .set@@ Cpu@@ Id@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ 0@@ )); vm@@ Numa@@ Nod@@ es@@ .get(@@ 1@@ )@@ .set@@ Cpu@@ Id@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ 0@@ )); assert@@ Validation@@ Fail@@ ure(@@ un@@ der@@ Test.@@ check@@ Vm@@ Numa@@ Nod@@ es@@ Integ@@ r@@ ity@@ (vm@@ , vm.get@@ v@@ Numa@@ Node@@ List@@ ()), EngineMessage.@@ VM_@@ N@@ U@@ MA@@ _@@ NO@@ D@@ E_@@ D@@ UP@@ L@@ IC@@ AT@@ E_@@ C@@ P@@ U@@ _@@ ID@@ ); }
private void run@@ () { java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > lis@@ t = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); for (java.lang.Object i@@ te@@ m : get@@ SelectedItem@@ s()) { org.ovirt.engine.core.common.businessentities.VM a = ((org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (@@ item@@ )); boolean re@@ initial@@ iz@@ e = (!(@@ a@@ .is@@ In@@ itial@@ iz@@ ed@@ ())) && (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ is@@ W@@ in@@ do@@ w@@ s@@ Os@@ Type(@@ a@@ .get@@ Vm@@ Os@@ Id@@ ())); org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s temp@@ V@@ a@@ r = new org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s(@@ a@@ .getId()); tempVar@@ .set@@ Re@@ initial@@ iz@@ e(@@ re@@ initial@@ ize@@ ); lis@@ t.@@ add(@@ tempVar@@ ); } org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Multiple@@ Action(VdcActionType.@@ RunVm@@ , list@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { } }, null@@ ); }
public java.lang.String@@ Buil@@ der Get@@ Tag@@ Name@@ And@@ Ch@@ ild@@ r@@ en@@ Names@@ () { java.lang.String@@ Buil@@ der buil@@ der = new java.lang.String@@ Builder@@ (); buil@@ der.@@ append@@ (@@ org.ovirt.engine.core.compat.@@ String@@ Format@@ .@@ for@@ mat@@ ("@@ '@@ %@@ 1@@ $@@ s@@ '@@ ", get@@ t@@ ag@@ _@@ name@@ ())); for (org.ovirt.engine.core.common.businessentities.@@ t@@ ag@@ s t@@ a@@ g : _@@ ch@@ ild@@ r@@ en@@ ) { buil@@ der.@@ append@@ ((@@ "@@ ,@@ " + (@@ t@@ a@@ g.@@ Get@@ Tag@@ Name@@ And@@ Ch@@ ild@@ r@@ en@@ Names@@ ()))); } return buil@@ der@@ ; }
public void set@@ S@@ E@@ Lin@@ u@@ x@@ E@@ n@@ for@@ ce@@ M@@ ode@@ (@@ java.lang.Integ@@ er value@@ ) { vds@@ Dynamic@@ .set@@ S@@ E@@ Lin@@ u@@ x@@ E@@ n@@ for@@ ce@@ M@@ ode@@ (@@ value@@ ); }
protected void w@@ rite@@ Add@@ ition@@ al@@ J@@ s@@ Data@@ (@@ javax.@@ servlet@@ .@@ http@@ .@@ Http@@ Servlet@@ Re@@ quest request@@ , java.io.@@ P@@ r@@ int@@ W@@ rite@@ r wr@@ iter@@ ) { org.ovirt.engine.core.common.@@ user@@ s.@@ Vdc@@ Us@@ er log@@ ged@@ Us@@ er = get@@ Log@@ ged@@ In@@ User@@ (@@ request@@ ); if (@@ log@@ ged@@ Us@@ er != null@@ ) { java.util.Map<java.lang.String, java.lang.String> user@@ Info@@ Data = new java.util.HashMap<@@ java.lang.String, java.lang.String@@ >(); user@@ Info@@ Data@@ .@@ put@@ ("@@ id@@ ", log@@ ged@@ User@@ .get@@ User@@ Id().@@ toString()); user@@ Info@@ Data@@ .@@ put@@ ("@@ user@@ Name@@ ", log@@ ged@@ User@@ .get@@ User@@ Name()); user@@ Info@@ Data@@ .@@ put(@@ "@@ do@@ m@@ ain@@ ", log@@ ged@@ User@@ .get@@ Domain@@ Cont@@ ro@@ l@@ er@@ ()); user@@ Info@@ Data@@ .@@ put@@ ("@@ res@@ t@@ Ap@@ i@@ Auth@@ String@@ ", org.ovirt.engine.ui.frontend.server.@@ gwt.@@ Gener@@ ic@@ Ap@@ i@@ G@@ W@@ T@@ Service@@ Im@@ pl@@ .get@@ Res@@ t@@ Ap@@ i@@ Auth@@ String@@ (@@ log@@ ged@@ User@@ )); w@@ rite@@ J@@ s@@ Object@@ (@@ wr@@ iter@@ , "@@ user@@ Info@@ ", user@@ Info@@ Data@@ ); } }
@org.junit.Test public void test@@ Get@@ Network@@ Qos@@ () { org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ o@@ S result = d@@ ao@@ .get(@@ org.ovirt.engine.core.dao.@@ network.Network@@ Qos@@ Dao@@ Test.@@ q@@ os@@ A@@ Id); org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ o@@ S true@@ A = new org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ oS@@ (); true@@ A@@ .set@@ Id(@@ org.ovirt.engine.core.dao.@@ network.Network@@ Qos@@ Dao@@ Test.@@ q@@ os@@ A@@ Id); true@@ A@@ .set@@ Name@@ ("@@ q@@ os@@ _@@ a@@ "); true@@ A@@ .set@@ StoragePool@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ STORAGE_@@ P@@ O@@ OL@@ _@@ N@@ F@@ S_@@ 2@@ ); true@@ A@@ .set@@ In@@ b@@ ound@@ A@@ ver@@ age@@ (@@ 1@@ 00@@ 0@@ ); true@@ A@@ .set@@ In@@ b@@ ound@@ P@@ e@@ a@@ k@@ (@@ 2@@ 00@@ 0@@ ); true@@ A@@ .set@@ In@@ b@@ ound@@ B@@ ur@@ st@@ (@@ 5@@ 00@@ ); true@@ A@@ .set@@ Out@@ b@@ ound@@ A@@ ver@@ age@@ (@@ 1@@ 00@@ 0@@ ); true@@ A@@ .set@@ Out@@ b@@ ound@@ P@@ e@@ a@@ k@@ (@@ 2@@ 00@@ 0@@ ); true@@ A@@ .set@@ Out@@ b@@ ound@@ P@@ e@@ a@@ k@@ (@@ 2@@ 00@@ 0@@ ); true@@ A@@ .set@@ Out@@ b@@ ound@@ B@@ ur@@ st@@ (@@ 5@@ 00@@ ); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ True@@ (@@ true@@ A@@ .equals(@@ result@@ )); }
private static org.apach@@ e.@@ http@@ .client.@@ m@@ ethod@@ s.@@ Http@@ P@@ os@@ t create@@ P@@ ost@@ (java.lang.String ur@@ l@@ ) throw@@ s java.lang.Exception { org.apach@@ e.@@ http@@ .client.@@ m@@ ethod@@ s.@@ Http@@ P@@ os@@ t re@@ quest = new org.apach@@ e.@@ http@@ .client.@@ m@@ ethod@@ s.@@ Http@@ P@@ ost@@ (); re@@ ques@@ t.@@ set@@ UR@@ I@@ (@@ new java.@@ net@@ .@@ UR@@ I@@ (@@ ur@@ l@@ )); re@@ ques@@ t.@@ set@@ H@@ ead@@ er@@ ("@@ Ac@@ ce@@ p@@ t@@ ", "@@ ap@@ plication@@ /@@ json@@ "); re@@ ques@@ t.@@ set@@ H@@ ead@@ er@@ ("@@ Content@@ -@@ Type@@ ", "@@ ap@@ plication@@ /@@ x@@ -@@ w@@ -@@ for@@ m@@ -@@ ur@@ l@@ enc@@ ode@@ d@@ "); return request@@ ; }
private java.util.@@ stream@@ .@@ St@@ ream@@ <@@ ? extends org.ovirt.engine.core.bll.@@ Command@@ Base@@ > fin@@ d@@ Fail@@ ed@@ Ch@@ ild@@ Command@@ s@@ (org.ovirt.engine.core.bll.@@ Command@@ Base command@@ ) { final java.util.List<@@ ? extends org.ovirt.engine.core.bll.@@ Command@@ Base@@ > ch@@ ild@@ Command@@ s = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ fin@@ d@@ Ch@@ ild@@ Command@@ s@@ (command@@ .get@@ Command@@ Id()); return ch@@ ild@@ Command@@ s.@@ stream@@ ().@@ filter@@ (@@ ( ch@@ ild@@ Command@@ ) -@@ > !@@ (@@ ch@@ ild@@ Command.get@@ ReturnValue().get@@ Succeeded@@ ())); }
@java.lang.Override @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ ser@@ ial@@ ") protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { if ((@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ Parameters().get@@ Vm@@ ()) != null@@ ) && (!(@@ org.apache.commons.lang.StringUtils.@@ is@@ B@@ lan@@ k@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ Parameters().get@@ Vm().get@@ Name@@ ())@@ ))) { return new java.util.HashMap<@@ java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >@@ >() { { put@@ (get@@ Parameters().get@@ Vm().get@@ Name(), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VM_@@ NAM@@ E, EngineMessage.ACTION_TYPE_FAILED_@@ NAM@@ E_@@ AL@@ RE@@ AD@@ Y_@@ US@@ ED@@ )); put@@ (get@@ Parameters().get@@ Vm().get@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VM@@ , get@@ Vm@@ Is@@ Be@@ ing@@ Im@@ ported@@ Message@@ ())); } }; } return null@@ ; }
public void set@@ Label@@ (java.lang.String label@@ ) { bu@@ tton@@ .set@@ Text@@ (@@ label@@ ); }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object ReturnValue@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Snapshot@@ List@@ Model storage@@ Snapshot@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Snapshot@@ ListModel@@ ) (model@@ )); storage@@ Snapshot@@ List@@ Model.set@@ Item@@ s@@ (((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ ReturnValue@@ )@@ ).get@@ ReturnValue@@ ()))); }
private org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group create@@ VdsGroup@@ () { if ((@@ vds@@ Group@@ ) == null@@ ) { vds@@ Group = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ (); vds@@ Group@@ .set@@ vds@@ _@@ group@@ _id@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); vds@@ Group@@ .set@@ c@@ ompatibility@@ _@@ version@@ (@@ new org.ovirt.engine.core.compat.@@ Version@@ ()); vds@@ Group@@ .set@@ cpu@@ _@@ name@@ ("@@ In@@ te@@ l Con@@ ro@@ e F@@ am@@ il@@ y@@ "); vds@@ Group@@ .set@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type(@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ x@@ 8@@ 6@@ _@@ 6@@ 4@@ ); } return vds@@ Group@@ ; }
private void on@@ Create@@ Quota@@ () { if (@@ has@@ Un@@ l@@ im@@ i@@ ted@@ Sp@@ e@@ c@@ if@@ ic@@ Quota@@ ()) { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model confi@@ rm@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ confi@@ rm@@ Model@@ ); confi@@ rm@@ Model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ ch@@ ang@@ e@@ D@@ C@@ Quota@@ E@@ n@@ for@@ ce@@ ment@@ M@@ ode@@ Title@@ ()); confi@@ rm@@ Model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ set@@ _@@ un@@ l@@ im@@ i@@ ted@@ _@@ sp@@ e@@ c@@ if@@ ic@@ _@@ quota@@ ); confi@@ rm@@ Model.set@@ Hash@@ Name@@ ("@@ set@@ _@@ un@@ l@@ im@@ i@@ ted@@ _@@ sp@@ e@@ c@@ if@@ ic@@ _@@ quota@@ "); confi@@ rm@@ Model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ y@@ o@@ u@@ A@@ re@@ Ab@@ out@@ To@@ Create@@ Un@@ l@@ im@@ i@@ ted@@ Sp@@ e@@ c@@ if@@ ic@@ Quota@@ M@@ s@@ g@@ ()); org.ovirt.engine.ui.uicommonweb.UICommand temp@@ V@@ a@@ r = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ Create@@ Quota@@ Internal@@ ", this@@ ); tempVar@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ()); get@@ Confirm@@ W@@ in@@ do@@ w@@ ().get@@ Command@@ s().@@ add(@@ tempVar@@ ); org.ovirt.engine.ui.uicommonweb.UICommand tempVar@@ 2 = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ Confirmation@@ ", this@@ ); tempVar@@ 2@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); tempVar@@ 2@@ .set@@ Is@@ Cancel@@ (@@ true@@ ); tempVar@@ 2@@ .set@@ Is@@ Default@@ (@@ true@@ ); get@@ Confirm@@ W@@ in@@ do@@ w@@ ().get@@ Command@@ s().@@ add(@@ tempVar@@ 2@@ ); } else { on@@ Create@@ Quota@@ Internal@@ (@@ false@@ ); } }
@java.lang.Override protected void s@@ ync@@ Search@@ () { super@@ .@@ s@@ ync@@ Search@@ (); org.ovirt.engine.ui.frontend.AsyncQuery async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { set@@ Item@@ s@@ (((@@ java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ ReturnValue@@ ()))); } }); org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters param@@ s = new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (get@@ Entity@@ ().get@@ Id()); params.set@@ Re@@ fresh@@ (get@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ ()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Attached@@ C@@ lust@@ ers@@ By@@ Cluster@@ Policy@@ Id, param@@ s, async@@ Query@@ ); set@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ (@@ false@@ ); }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c gluster@@ Volume@@ GeoRep@@ Session@@ Delet@@ e(@@ java.lang.String volume@@ Name, java.lang.String rem@@ o@@ te@@ Host@@ , java.lang.String rem@@ o@@ te@@ Volume@@ Name, java.lang.String user@@ Name);
@@@ org.ovirt.engine.core.utils.@@ tim@@ er.@@ On@@ Tim@@ er@@ Method@@ An@@ not@@ ation@@ ("@@ p@@ oll@@ ") public void p@@ oll@@ () { if (m@@ an@@ ag@@ er.@@ is@@ Monitor@@ ing@@ N@@ e@@ e@@ ded@@ ()) { org.ovirt.engine.core.vdsbroker.@@ Vms@@ List@@ F@@ et@@ ch@@ er f@@ et@@ ch@@ er = (get@@ Re@@ fresh@@ Statistic@@ s()) ? new org.ovirt.engine.core.vdsbroker.@@ Vms@@ Statistic@@ s@@ F@@ et@@ ch@@ er@@ (m@@ an@@ ag@@ er@@ ) : new org.ovirt.engine.core.vdsbroker.@@ Vms@@ List@@ F@@ et@@ ch@@ er@@ (m@@ an@@ ag@@ er@@ ); long f@@ et@@ ch@@ Tim@@ e = java.lang.@@ System@@ .@@ n@@ an@@ o@@ Time@@ (); f@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ (); new org.ovirt.engine.core.vdsbroker.@@ Vms@@ Monitor@@ ing@@ (m@@ an@@ ag@@ er@@ , f@@ et@@ ch@@ er@@ .get@@ Changed@@ Vms@@ (), f@@ et@@ ch@@ er@@ .get@@ Vms@@ With@@ Changed@@ Devices@@ (), au@@ ditLog@@ Direct@@ or@@ , f@@ et@@ ch@@ Time@@ ).@@ p@@ er@@ for@@ m@@ (); } update@@ I@@ ter@@ ation@@ (); }
private void re@@ fresh@@ Vm@@ Stat@@ s(@@ java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ entities.@@ Vm@@ Internal@@ Data@@ >> m@@ onitor@@ ed@@ Vm@@ s) { for (org.ovirt.engine.core.common.@@ utils.@@ Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ entities.@@ Vm@@ Internal@@ Data@@ > m@@ onitor@@ ed@@ V@@ m : m@@ onitor@@ ed@@ Vm@@ s) { if (@@ try@@ Lock@@ Vm@@ For@@ Update@@ (m@@ onitor@@ ed@@ Vm@@ )) { org.ovirt.engine.core.vdsbroker.@@ Vm@@ A@@ nal@@ y@@ z@@ er vm@@ A@@ nal@@ y@@ z@@ er = get@@ Vm@@ A@@ nal@@ y@@ z@@ er@@ (m@@ onitor@@ ed@@ Vm@@ ); vm@@ A@@ nal@@ y@@ z@@ er@@ s.@@ add@@ (vm@@ A@@ nal@@ y@@ z@@ er@@ ); vm@@ A@@ nal@@ y@@ z@@ er.@@ an@@ al@@ y@@ z@@ e@@ (); } } pro@@ cess@@ Vms@@ With@@ Devices@@ Change@@ (); add@@ Un@@ manage@@ d@@ Vms@@ (); f@@ l@@ us@@ h@@ (); }
@@@ org.ovirt.engine.core.utils.@@ lock@@ .@@ Ac@@ qui@@ re@@ W@@ rite@@ Loc@@ k boolean add@@ Mac@@ (java.lang.String m@@ ac@@ );
private static java.lang.Integ@@ er min@@ If@@ Exist@@ s(@@ java.lang.Integ@@ er a@@ , java.lang.Integ@@ er b@@ ) { return java.lang.Integ@@ er min@@ L@@ dap@@ Num@@ ber@@ Of@@ Vms@@ ; }
public static org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity fin@@ d@@ Brick@@ (@@ java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ > brick@@ s, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity search@@ Brick@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity b@@ r@@ ic@@ k : brick@@ s) { if ((@@ brick@@ .get@@ Server@@ Id().@@ equals@@ (s@@ e@@ arch@@ Brick@@ .get@@ Server@@ Id@@ ())) && (@@ brick@@ .get@@ Brick@@ Direct@@ ory@@ ().@@ equals@@ (s@@ e@@ arch@@ Brick@@ .get@@ Brick@@ Direct@@ ory@@ ()))) { return brick@@ ; } } return null@@ ; }
protected org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameters get@@ Create@@ Snapshot@@ Parameters@@ () { org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameters(@@ enc@@ lo@@ sing@@ Command.getParameters().get@@ Vm@@ Id(), "@@ Au@@ to@@ -@@ gener@@ ate@@ d for L@@ i@@ v@@ e Stor@@ age Migration@@ "); params.set@@ Parent@@ Command@@ (VdcActionType.@@ L@@ ive@@ Migrate@@ Disks@@ ); params.set@@ Snapshot@@ Type(@@ Snapshot@@ Type.@@ RE@@ G@@ U@@ L@@ AR@@ ); params.set@@ Parent@@ Parameters(@@ enc@@ lo@@ sing@@ Command.get@@ Parameters@@ ()); params.set@@ Images@@ Parameters(@@ enc@@ lo@@ sing@@ Command.getParameters().get@@ Images@@ Parameters@@ ()); params.set@@ Task@@ Group@@ Success@@ (@@ enc@@ lo@@ sing@@ Command.getParameters().get@@ Task@@ Group@@ Success@@ ()); params.set@@ N@@ e@@ ds@@ Lock@@ ing@@ (@@ false@@ ); return param@@ s@@ ; }
@org.junit.Test public void test@@ Att@@ ri@@ bu@@ te@@ And@@ Element@@ () { org.ovirt.engine.api.@@ types.@@ V@@ 4@@ V@@ m obj@@ ect = vm@@ ().@@ id@@ ("@@ 1@@ 2@@ 3@@ ").@@ f@@ rom@@ String@@ ("@@ m@@ y@@ vm@@ ").@@ build@@ (); assert@@ Equals@@ ("@@ <@@ vm id@@ =@@ \"@@ 1@@ 2@@ 3@@ \"@@ >@@ <@@ name@@ >@@ m@@ y@@ vm@@ <@@ /@@ name@@ >@@ <@@ /@@ vm@@ >@@ ", object@@ To@@ X@@ ml@@ (@@ object@@ )); }
@java.lang.Override public com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource get@@ Value(@@ T item@@ ) { java.lang.String os@@ Type@@ Name = org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Os@@ Un@@ i@@ q@@ ue@@ Os@@ Names@@ ().get@@ (@@ ex@@ tr@@ act@@ or.@@ ex@@ tr@@ act@@ Os@@ Type(@@ item@@ )); com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Resource@@ Prot@@ ot@@ yp@@ e res@@ ource = org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ M@@ ask@@ ed@@ Vm@@ Image@@ Column@@ .get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ With@@ L@@ ook@@ up@@ ().get@@ Resource@@ ((@@ os@@ Type@@ Name + "@@ S@@ m@@ all@@ Image@@ ")); if (!(@@ res@@ ource instanceof com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Resource@@ )) { res@@ ource = org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ M@@ ask@@ ed@@ Vm@@ Image@@ Column@@ .get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ With@@ L@@ ook@@ up@@ ().@@ oth@@ er@@ S@@ m@@ all@@ Image@@ (); } return ((@@ com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Resource@@ ) (@@ res@@ ource@@ )); }
@java.lang.Override public void update@@ If@@ N@@ e@@ e@@ ded@@ (org.ovirt.engine.core.common.businessentities.@@ Vds@@ Dynam@@ ic vds@@ Dynamic@@ ) { org.ovirt.engine.core.common.businessentities.@@ Vds@@ Dynam@@ ic db@@ Data = get@@ (vds@@ Dynamic@@ .getId()); if (!(@@ db@@ Data@@ .equals(@@ vds@@ Dynamic@@ ))) { update@@ (vds@@ Dynamic@@ ); } else { update@@ Dynamic@@ DAO@@ DbFacade@@ Impl.@@ log.info@@ ("@@ I@@ g@@ n@@ or@@ ed an un@@ ne@@ e@@ de@@ d up@@ dat@@ e of Vds@@ Dynamic@@ "); } }
private java.util.Map<java.lang.String, java.lang.String> get@@ Server@@ F@@ ing@@ er@@ p@@ r@@ int@@ s(@@ org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ Node@@ List list@@ Of@@ P@@ e@@ ers@@ ) { java.util.Map<java.lang.String, java.lang.String> f@@ ing@@ er@@ p@@ r@@ int@@ s = new java.util.HashMap<@@ java.lang.String, java.lang.String@@ >(); f@@ ing@@ er@@ p@@ r@@ int@@ s.@@ put@@ (org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ Gluster@@ Server@@ s@@ For@@ Import@@ Query.get@@ Parameters().get@@ Server@@ Name(), org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ Gluster@@ Server@@ s@@ For@@ Import@@ Query.get@@ Parameters().get@@ F@@ ing@@ er@@ p@@ r@@ int@@ ()); for (@@ int i = 0@@ ; i < (@@ list@@ Of@@ P@@ e@@ ers@@ .get@@ L@@ ength@@ ()); i@@ +@@ +@@ ) { org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ Nod@@ e fi@@ r@@ st@@ P@@ e@@ er = list@@ Of@@ P@@ e@@ er@@ s.@@ item@@ (@@ i@@ ); if ((@@ fi@@ r@@ st@@ P@@ e@@ er@@ .get@@ Node@@ Type()) == (@@ org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ Nod@@ e.@@ E@@ LE@@ M@@ EN@@ T_@@ NO@@ DE@@ )) { org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ El@@ em@@ ent fi@@ r@@ st@@ Host@@ El@@ em@@ ent = ((@@ org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ Element@@ ) (@@ fi@@ r@@ st@@ P@@ e@@ er@@ )); int stat@@ e = org.ovirt.engine.core.utils.@@ X@@ ml@@ Util@@ s.get@@ In@@ t@@ Value(@@ fi@@ r@@ st@@ Host@@ Element@@ , org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ Gluster@@ Server@@ s@@ For@@ Import@@ Query@@ .@@ ST@@ AT@@ E); if (@@ stat@@ e == (org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ Gluster@@ Server@@ s@@ For@@ Import@@ Query@@ .@@ P@@ E@@ ER_@@ IN@@ _C@@ LUST@@ ER@@ )) { java.lang.String host@@ Name = org.ovirt.engine.core.utils.@@ X@@ ml@@ Util@@ s.get@@ Text@@ Value(@@ fi@@ r@@ st@@ Host@@ Element@@ , org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ Gluster@@ Server@@ s@@ For@@ Import@@ Query@@ .@@ HOST@@ _@@ NAM@@ E); if ((get@@ Vds@@ Static@@ Dao().get@@ (@@ host@@ Name@@ )) != null@@ ) { return null@@ ; } f@@ ing@@ er@@ p@@ r@@ int@@ s.@@ put(@@ host@@ Name, get@@ F@@ ing@@ er@@ p@@ r@@ int@@ (@@ host@@ Name@@ )); } } return f@@ ing@@ er@@ p@@ r@@ int@@ s@@ ; }
private org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface get@@ Gluster@@ Network@@ Address@@ (org.ovirt.engine.core.compat.Guid host@@ Id, java.lang.String gluster@@ Network@@ Name@@ ) { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > nic@@ s = get@@ Interface@@ DAO@@ ().get@@ All@@ Interfaces@@ For@@ Vds@@ (@@ host@@ Id); for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface n@@ ic : nic@@ s) { if (@@ gluster@@ Network@@ Nam@@ e.@@ equals(@@ nic@@ .get@@ Network@@ Name@@ ())) { return nic@@ ; } } return null@@ ; }
public static java.lang.String c@@ r@@ yp@@ t@@ (java.lang.String p@@ assword@@ ) { byte@@ [@@ ] r = new byte@@ [@@ org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ C@@ r@@ yp@@ t@@ M@@ D@@ 5@@ .S@@ AL@@ T_@@ MA@@ X@@ _@@ L@@ EN@@ G@@ TH@@ ]@@ ; char@@ [@@ ] s@@ al@@ t = new char@@ [@@ r@@ .@@ l@@ ength@@ ]@@ ; org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ C@@ r@@ yp@@ t@@ M@@ D@@ 5@@ .@@ s@@ ec@@ ure@@ R@@ an@@ do@@ m.@@ ne@@ xt@@ By@@ t@@ es@@ (r@@ ); for (@@ int i = 0@@ ; i < (r@@ .@@ l@@ ength@@ ); i@@ +@@ +@@ ) { s@@ al@@ t@@ [@@ i@@ ] = org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ C@@ r@@ yp@@ t@@ M@@ D@@ 5@@ .@@ b@@ 6@@ 4@@ t@@ [@@ (((@@ r@@ [@@ i@@ ]@@ ) & 2@@ 5@@ ) % (@@ org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ C@@ r@@ yp@@ t@@ M@@ D@@ 5@@ .@@ b@@ 6@@ 4@@ t.@@ l@@ ength@@ )@@ ]@@ ; } return org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ C@@ r@@ yp@@ t@@ M@@ D@@ 5@@ .@@ c@@ r@@ yp@@ t@@ (p@@ assword@@ , new java.lang.String@@ (s@@ al@@ t@@ )); }
@org.junit.Test public void shoul@@ d@@ Filter@@ Host@@ sWith@@ Not@@ En@@ o@@ u@@ g@@ h@@ C@@ p@@ us@@ () { c@@ luster.@@ set@@ Count@@ Th@@ rea@@ ds@@ As@@ C@@ or@@ es@@ (@@ false@@ ); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > c@@ and@@ id@@ ate@@ s = filter@@ (); assert@@ That@@ (c@@ and@@ id@@ at@@ es@@ , not@@ (@@ has@@ Item@@ (vds@@ With@@ C@@ or@@ es@@ ))); }
protected c@@ om.@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ g@@ lan@@ c@@ e.@@ G@@ lan@@ c@@ e get@@ Client@@ () { if ((@@ client@@ ) == null@@ ) { cli@@ ent = new c@@ om.@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ g@@ lan@@ c@@ e.@@ G@@ lan@@ ce@@ ((@@ (get@@ Provider@@ ().get@@ U@@ r@@ l@@ ()) + (org.ovirt.engine.core.bll.@@ p@@ rovider.@@ storage.@@ Op@@ en@@ St@@ ack@@ Image@@ Provider@@ Proxy@@ .@@ A@@ P@@ I@@ _@@ V@@ ER@@ SI@@ ON@@ ))); client.@@ set@@ To@@ k@@ en@@ Provider@@ (get@@ To@@ k@@ en@@ Provider@@ ()); } return client@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Local@@ ") java.lang.String storage@@ Type@@ Local@@ ();
@org.junit.Test public void test@@ Get@@ () { org.ovirt.engine.core.common.businessentities.@@ User@@ Profil@@ e result = d@@ ao@@ .get(@@ existing@@ Profil@@ e.get@@ Id()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ Equals@@ (@@ existing@@ Profile@@ , result@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ Db@@ Group get@@ By@@ Id@@ Or@@ External@@ Id(@@ org.ovirt.engine.core.compat.Guid id@@ , java.lang.String do@@ m@@ ain@@ , java.lang.String ex@@ ternal@@ Id) { if (@@ id != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ Db@@ Group ex@@ ist@@ ing = get@@ (@@ id@@ ); if (@@ ex@@ ist@@ ing != null@@ ) { return existing@@ ; } } if (@@ do@@ ma@@ in != null@@ ) && (@@ ex@@ ternal@@ Id != null@@ )) { org.ovirt.engine.core.common.businessentities.@@ Db@@ Group ex@@ ist@@ ing = get@@ By@@ External@@ Id@@ (@@ do@@ m@@ ain@@ , ex@@ ternal@@ Id); if (@@ ex@@ ist@@ ing != null@@ ) { return existing@@ ; } } if (@@ do@@ ma@@ in != null@@ ) && (@@ id != null@@ )) { ex@@ ternal@@ Id = g@@ uid@@ To@@ External@@ Id(@@ id@@ ); org.ovirt.engine.core.common.businessentities.@@ Db@@ Group ex@@ ist@@ ing = get@@ By@@ External@@ Id@@ (@@ do@@ m@@ ain@@ , ex@@ ternal@@ Id); if (@@ ex@@ ist@@ ing != null@@ ) { return existing@@ ; } } return null@@ ; }
private void c@@ ommon@@ Update@@ (org.ovirt.engine.core.compat.Guid vf@@ s@@ Config@@ Id, boolean all@@ Networks@@ Allow@@ ed@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Nic@@ Vfs@@ Confi@@ g b@@ e@@ for@@ e = d@@ ao@@ .get(@@ vf@@ s@@ Config@@ Id); b@@ e@@ for@@ e.set@@ Nic@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ VDS@@ _@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E@@ 2@@ ); b@@ e@@ for@@ e.set@@ Max@@ Num@@ Of@@ Vfs@@ (((@@ b@@ e@@ for@@ e.get@@ Max@@ Num@@ Of@@ Vfs@@ ()) + 1@@ )); b@@ e@@ for@@ e.set@@ Num@@ Of@@ Vfs@@ (((@@ b@@ e@@ for@@ e.get@@ Num@@ Of@@ Vfs@@ ()) + 1@@ )); b@@ e@@ for@@ e.set@@ Num@@ Of@@ F@@ ree@@ Vfs@@ (((@@ b@@ e@@ for@@ e.get@@ Num@@ Of@@ F@@ ree@@ Vfs@@ ()) + 1@@ )); b@@ e@@ for@@ e.set@@ All@@ Networks@@ Allow@@ ed(@@ all@@ Networks@@ Allow@@ ed@@ ); if (@@ all@@ Networks@@ Allow@@ ed@@ ) { b@@ e@@ for@@ e.set@@ Networks@@ (@@ new java.util.Hash@@ Set<@@ org.ovirt.engine.core.compat.Guid@@ >@@ ()); b@@ e@@ for@@ e.set@@ Label@@ s@@ (@@ new java.util.Hash@@ Set<@@ java.lang.String@@ >@@ ()); } else { add@@ Network@@ s(@@ b@@ e@@ for@@ e); add@@ Label@@ s(@@ b@@ e@@ for@@ e); } d@@ ao.@@ update@@ (@@ b@@ e@@ for@@ e); org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Nic@@ Vfs@@ Confi@@ g af@@ te@@ r = d@@ ao@@ .get(@@ vf@@ s@@ Config@@ Id); assert@@ Not@@ Null@@ (@@ af@@ ter@@ ); assert@@ Host@@ Nic@@ Vfs@@ Config@@ Equals@@ (@@ b@@ e@@ for@@ e@@ , af@@ ter@@ ); }
private void d@@ et@@ ach@@ StorageDomain@@ (org.ovirt.engine.core.compat.Guid storageDomain@@ Id) { log.info@@ ("@@ Domain '{}@@ ' is al@@ read@@ y attach@@ ed to a d@@ if@@ fer@@ ent stor@@ age pool@@ , cl@@ e@@ an the stor@@ age do@@ ma@@ in m@@ et@@ ad@@ ata@@ .@@ ", storageDomain@@ Id); org.ovirt.engine.core.common.vdscommands.@@ StorageDomain@@ Vds@@ Command@@ Parameters param@@ s = new org.ovirt.engine.core.common.vdscommands.@@ StorageDomain@@ Vds@@ Command@@ Parameters(@@ storageDomain@@ Id, org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Add@@ StoragePool@@ With@@ Stor@@ ages@@ Command.get@@ Vds@@ ().get@@ Id()); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue re@@ t = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ C@@ le@@ an@@ StorageDomain@@ M@@ et@@ a@@ Data@@ , param@@ s); if (r@@ et@@ .get@@ Succeeded@@ ()) { log.info@@ ("@@ Success@@ f@@ ull@@ y cl@@ e@@ an@@ ed m@@ et@@ ad@@ at@@ a for stor@@ age do@@ ma@@ in '{}@@ '@@ .@@ ", storageDomain@@ Id); } else { log.@@ w@@ ar@@ n@@ ("@@ Fail@@ ed to cl@@ e@@ an m@@ et@@ ad@@ at@@ a for stor@@ age do@@ ma@@ in '{}@@ '@@ .@@ ", storageDomain@@ Id); } }
@java.lang.Override public void set@@ Sub@@ Tab@@ Panel@@ Visi@@ bl@@ e@@ (@@ boolean sub@@ Tab@@ Panel@@ Visi@@ bl@@ e) { if (@@ this@@ .@@ sub@@ Tab@@ Panel@@ Visi@@ bl@@ e) != sub@@ Tab@@ Panel@@ Visi@@ bl@@ e) { s@@ pl@@ it@@ Pan@@ el.@@ cl@@ e@@ ar@@ (); if (s@@ ub@@ Tab@@ Panel@@ Visi@@ bl@@ e) { s@@ pl@@ it@@ Pan@@ el.@@ add@@ S@@ o@@ u@@ th@@ (s@@ ub@@ Tab@@ Panel@@ Contain@@ er@@ , org.ovirt.engine.ui.@@ user@@ port@@ al.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ Abstract@@ S@@ i@@ de@@ Tab@@ With@@ Detail@@ s@@ View@@ .@@ sub@@ Tab@@ Panel@@ H@@ e@@ ig@@ ht@@ ); s@@ pl@@ it@@ Pan@@ el.@@ add(@@ t@@ able@@ ); s@@ pl@@ it@@ Pan@@ el.@@ init@@ Widget@@ (); } else { s@@ pl@@ it@@ Pan@@ el.@@ add(@@ t@@ able@@ ); } this@@ .@@ sub@@ Tab@@ Panel@@ Visi@@ bl@@ e = sub@@ Tab@@ Panel@@ Visi@@ bl@@ e@@ ; } }
@java.lang.Override protected void h@@ andle@@ Au@@ to@@ Lo@@ gin@@ (@@ org.ovirt.engine.ui.common.@@ auth@@ .@@ Au@@ to@@ Lo@@ gin@@ Data au@@ to@@ Lo@@ gin@@ Data@@ ) { super@@ .@@ h@@ andle@@ Au@@ to@@ Lo@@ gin@@ (@@ au@@ to@@ Lo@@ gin@@ Data@@ ); final java.lang.String auth@@ Strin@@ g = au@@ to@@ Lo@@ gin@@ Data@@ .get@@ Res@@ t@@ Ap@@ i@@ Auth@@ String@@ (); if (@@ auth@@ Strin@@ g != null@@ ) { ac@@ qui@@ re@@ Res@@ t@@ Ap@@ i@@ Session@@ (@@ auth@@ String@@ ); } }
@java.lang.Override protected boolean canDoAction@@ () { parameter@@ s = get@@ Parameters@@ (); if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } if (get@@ GeoRep@@ Session@@ ().get@@ Status@@ ().@@ equals(@@ GeoRep@@ Session@@ Status.@@ AC@@ TI@@ V@@ E@@ )) { addCanDoActionMessage@@ (EngineMessage.ACTION_TYPE_FAILED_@@ G@@ E@@ OR@@ E@@ P@@ _S@@ ES@@ SI@@ ON_@@ AL@@ RE@@ AD@@ Y_@@ RE@@ S@@ U@@ M@@ ED); return false@@ ; } return true@@ ; }
@org.junit.Test public void test@@ Validate@@ Network@@ Ex@@ cl@@ us@@ ive@@ On@@ Nic@@ _@@ at@@ M@@ ost@@ O@@ ne@@ Non@@ VmNetwork@@ Vi@@ ol@@ ated@@ () throw@@ s java.lang.Exception { check@@ VmNetwork@@ Is@@ S@@ ole@@ As@@ s@@ ig@@ ne@@ d@@ Interfac@@ e(@@ org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (VdcBllMessages.@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E@@ S_NOT_@@ EX@@ C@@ LU@@ SI@@ V@@ E@@ L@@ Y_@@ US@@ ED_@@ B@@ Y_@@ NETWOR@@ K@@ ), n@@ on@@ VmNetwork@@ 1, n@@ on@@ VmNetwork@@ 2@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ C@@ ON@@ F@@ I@@ G@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ C@@ ON@@ F@@ I@@ G@@ _@@ UP@@ D@@ AT@@ E); }
private org.ovirt.engine.core.bll.ValidationResult re@@ fer@@ ence@@ d@@ NetworkAttachment@@ Ac@@ tu@@ all@@ y@@ Exist@@ s(@@ org.ovirt.engine.core.compat.Guid network@@ Attachment@@ Id) { boolean do@@ es@@ Not@@ Re@@ fer@@ ence@@ Existing@@ Network@@ Attachm@@ ent = network@@ Attachment@@ Id == null@@ ; if (@@ do@@ es@@ Not@@ Re@@ fer@@ ence@@ Existing@@ NetworkAttachment@@ ) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent existing@@ Attachm@@ ent : existing@@ Attachment@@ s) { if (@@ existing@@ Attachm@@ ent.get@@ Id().@@ equals(@@ network@@ Attachment@@ Id@@ )) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } } return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ NETWORK_@@ AT@@ T@@ AC@@ H@@ M@@ EN@@ T_@@ NOT_@@ EXIST@@ S@@ ); }
@org.junit.Test public void canDoAction@@ Suc@@ cee@@ ds@@ On@@ Disk@@ Domain@@ Check@@ W@@ h@@ en@@ No@@ Disks@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.compat.Guid storage@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); initial@@ ize@@ Command(@@ storage@@ Id); mock@@ Vm@@ (); mock@@ StorageDomain@@ (@@ storage@@ Id); mock@@ StoragePool@@ Iso@@ Map@@ (); mock@@ Max@@ P@@ c@@ i@@ S@@ l@@ ot@@ s(); run@@ And@@ As@@ sert@@ CanDoAction@@ Success@@ (); }
private java.lang.String sh@@ ow@@ R@@ p@@ d@@ Cons@@ ol@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Console@@ Model model@@ ) { if (@@ con@@ s@@ ole@@ Utils.@@ can@@ Op@@ en@@ R@@ D@@ P@@ Cons@@ ol@@ e(@@ model@@ )) { model.get@@ Add@@ ition@@ al@@ Console@@ Model().get@@ Conn@@ ect@@ Command@@ ().@@ Execu@@ te@@ (); } else if (!(@@ con@@ s@@ ole@@ Utils.@@ is@@ R@@ D@@ P@@ Available@@ ())) { return create@@ Error@@ Message@@ (@@ model, "@@ R@@ D@@ P@@ "); } return null@@ ; }
@java.lang.Override public void on@@ N@@ ext@@ (@@ java.util.Map<java.lang.String, java.lang.Object> map@@ ) { if (m@@ an@@ ag@@ er.@@ is@@ Monitor@@ ing@@ N@@ e@@ e@@ e@@ ded@@ ()) { java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > db@@ Vm@@ s = db@@ Fac@@ ade.get@@ Vm@@ Dao().get@@ All@@ Run@@ ning@@ By@@ Vds@@ (m@@ an@@ ag@@ er@@ .get@@ Vds@@ Id()); java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ entities.@@ Vm@@ Internal@@ Data@@ >> ch@@ ang@@ ed@@ Vm@@ s = new java.util.ArrayList<>(); java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ entities.@@ Vm@@ Internal@@ Data@@ >> de@@ vic@@ es@@ Changed@@ Vm@@ s = new java.util.ArrayList<>(); new java.util.ArrayList<>(); new org.ovirt.engine.core.vdsbroker.@@ Vms@@ Monitor@@ ing@@ (m@@ an@@ ag@@ er@@ , ch@@ ang@@ ed@@ Vm@@ s, de@@ vic@@ es@@ Changed@@ Vms@@ ).@@ p@@ er@@ for@@ m@@ (); } sub@@ s@@ cription@@ .@@ request@@ (@@ 1@@ ); }
@java.lang.Override public boolean e@@ val@@ (org.ovirt.engine.core.common.businessentities.@@ VDS p@@ ) { return (get@@ O@@ c@@ up@@ i@@ ed@@ VM@@ S@@ L@@ ot@@ s(@@ p@@ , parameters@@ )) >@@ = (get@@ O@@ c@@ c@@ up@@ i@@ ed@@ VM@@ S@@ L@@ ot@@ s(@@ wor@@ st@@ VDS@@ , parameters@@ )); }
private boolean update@@ File@@ List(@@ org.ovirt.engine.core.compat.Guid storageDomain@@ Id, org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ File@@ Type image@@ Type@@ ) { switch (@@ image@@ Type@@ ) { case Al@@ l : return update@@ All@@ File@@ List@@ From@@ VDS@@ M@@ (@@ storagePool@@ Id, storageDomain@@ Id); case IS@@ O : return update@@ Iso@@ List@@ From@@ VDS@@ M@@ (@@ storagePool@@ Id, storageDomain@@ Id); case F@@ lo@@ p@@ p@@ p@@ y@@ : return update@@ F@@ lo@@ p@@ p@@ y@@ List@@ From@@ VDS@@ M@@ (@@ storagePool@@ Id, storageDomain@@ Id); default : org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ log.@@ w@@ ar@@ n@@ ("@@ Re@@ fresh@@ ing Is@@ o do@@ ma@@ in usin@@ g un@@ sup@@ por@@ te@@ d image@@ Type@@ : {}@@ ", image@@ Type@@ ); return false@@ ; } }
public org.ovirt.engine.core.bll.ValidationResult validate@@ Cinder@@ Disk@@ Snapshots@@ L@@ im@@ it@@ s() { return validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ Cinder@@ Disks@@ Validator.@@ Cinder@@ Storage@@ R@@ el@@ ated@@ Disks@@ And@@ Proxy@@ > re@@ l@@ ated@@ Cinder@@ Disks@@ By@@ Storage@@ Map = get@@ R@@ el@@ ated@@ Cinder@@ Disks@@ To@@ StorageDomain@@ Map@@ (); java.util.Collection@@ <@@ org.ovirt.engine.core.bll.validator.@@ storage.@@ Cinder@@ Disks@@ Validator.@@ Cinder@@ Storage@@ R@@ el@@ ated@@ Disks@@ And@@ Proxy@@ > re@@ l@@ ated@@ Cinder@@ Disks@@ By@@ Storage@@ Coll@@ ec@@ tion = re@@ l@@ ated@@ Cinder@@ Disks@@ By@@ Storage@@ Map.@@ valu@@ es@@ (); for (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Cinder@@ Disks@@ Validator.@@ Cinder@@ Storage@@ R@@ el@@ ated@@ Disks@@ And@@ Pro@@ x@@ y re@@ l@@ ated@@ Cinder@@ Disks@@ By@@ Stor@@ age : re@@ l@@ ated@@ Cinder@@ Disks@@ By@@ Storage@@ Collection@@ ) { c@@ om.@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ c@@ in@@ der.@@ model.@@ L@@ im@@ it@@ s l@@ im@@ it@@ s = re@@ l@@ ated@@ Cinder@@ Disks@@ By@@ Stor@@ age.get@@ Proxy@@ ().get@@ L@@ im@@ it@@ s(); int num@@ Of@@ Disk@@ s = re@@ l@@ ated@@ Cinder@@ Disks@@ By@@ Stor@@ age.get@@ Cinder@@ Disk@@ s().@@ size@@ (); if (is@@ L@@ im@@ it@@ Exce@@ e@@ ded@@ (@@ l@@ im@@ it@@ s, Volume@@ Cl@@ as@@ s@@ if@@ ic@@ ation.@@ Snapshot@@ , num@@ Of@@ Disks@@ )) { java.lang.String storage@@ Name = get@@ StorageDomain@@ Dao().get@@ (@@ re@@ l@@ ated@@ Cinder@@ Disks@@ By@@ Stor@@ age.get@@ StorageDomain@@ Id@@ ())@@ .get@@ Storage@@ Name@@ (); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ C@@ ANNOT_@@ AD@@ D@@ _C@@ IN@@ D@@ ER_@@ DIS@@ K_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ L@@ IM@@ I@@ T_@@ EX@@ C@@ E@@ ED@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ ma@@ x@@ T@@ otal@@ Snapshot@@ s %@@ d@@ ", l@@ im@@ it@@ s.get@@ Ab@@ s@@ ol@@ u@@ te@@ ().get@@ Max@@ T@@ otal@@ Volum@@ es@@ ()), java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ storage@@ Name %@@ s", storage@@ Name@@ )); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }); }
@java.lang.Override protected org.ovirt.engine.api.model.@@ External@@ Host@@ Provi@@ der do@@ P@@ op@@ ul@@ ate@@ (org.ovirt.engine.api.model.@@ External@@ Host@@ Provi@@ der model, org.ovirt.engine.core.common.businessentities.@@ Provi@@ der entity@@ ) { return model@@ ; }
public java.util.List<@@ java.lang.Integer@@ > read@@ Integ@@ ers@@ () { java.util.List<@@ java.lang.Integer@@ > read@@ Integ@@ er@@ ; switch (@@ read@@ Integ@@ er@@ ) { case O@@ U@@ T@@ B@@ E@@ R : read@@ Integ@@ er@@ ; case EN@@ D_@@ AR@@ R@@ A@@ Y : continue@@ ; case EN@@ D_@@ AR@@ R@@ A@@ Y : continue@@ ; case EN@@ D_@@ AR@@ R@@ A@@ Y : continue@@ ; case EN@@ D_@@ AR@@ R@@ A@@ Y : continue@@ ; case EN@@ D_@@ AR@@ R@@ A@@ Y : continue@@ ; case EN@@ D_@@ AR@@ R@@ A@@ Y : continue@@ ; case EN@@ D_@@ AR@@ R@@ A@@ Y : continue@@ ; case EN@@ D_@@ AR@@ R@@ A@@ Y : continue@@ ; case EN@@ D_@@ AR@@ R@@ A@@ Y : continue@@ ; case EN@@
public void Attach@@ Task@@ (org.ovirt.engine.core.bll.@@ Command@@ Async@@ T@@ as@@ k async@@ Task@@ ) { synchronized@@ (@@ _@@ list@@ Task@@ s) { if (!(@@ _@@ list@@ Task@@ s.@@ contains@@ Key@@ (@@ async@@ Task@@ .get@@ Vds@@ m@@ Task@@ Id@@ ()))) { org.ovirt.engine.core.bll.@@ Command@@ Multi@@ AsyncTask@@ s.@@ log.info@@ Format@@ ("@@ Entity@@ Multi@@ AsyncTask@@ s@@ :@@ :@@ :@@ Attach@@ Task@@ : Attach@@ ing t@@ as@@ k '@@ {0@@ }@@ ' to c@@ ommand '@@ {@@ 1@@ }@@ '@@ .@@ ", async@@ Task@@ .get@@ Vds@@ m@@ Task@@ Id(), get@@ Command@@ Id()); _@@ list@@ Task@@ s.@@ put(@@ async@@ Task@@ .get@@ Vds@@ m@@ Task@@ Id(), async@@ Task@@ ); } } }
public java.util.Map<@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ , java.util.@@ Set<@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ >> get@@ Base@@ M@@ eth@@ o@@ ds@@ Map@@ (@@ java.util.List<@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ > m@@ eth@@ o@@ ds@@ ) { java.util.Map<@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ , java.util.@@ Set<@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ >> b@@ ase@@ Method@@ s = new java.util.HashMap<@@ >(); m@@ eth@@ o@@ ds@@ .@@ for@@ E@@ ach@@ (@@ ( x@@ ) -@@ > update@@ Base@@ M@@ eth@@ o@@ ds@@ Map@@ (@@ x@@ , m@@ eth@@ o@@ ds@@ , b@@ ase@@ M@@ eth@@ o@@ ds@@ )); return b@@ ase@@ M@@ eth@@ o@@ ds@@ ; }
private void stor@@ e@@ Time@@ Z@@ one@@ () { if ((@@ param@@ s.get@@ Time@@ Z@@ one@@ ()) != null@@ ) { user@@ Data@@ .@@ put@@ ("@@ time@@ z@@ one@@ ", param@@ s.get@@ Time@@ Z@@ one@@ ().get@@ ID@@ ()); } }
@java.lang.Override public void de@@ al@@ loc@@ ate@@ (org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic nic@@ ) { c@@ om.@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .model.@@ P@@ or@@ t por@@ t = loc@@ ate@@ Port@@ (@@ nic@@ ); if (@@ por@@ t != null@@ ) { get@@ Client@@ ().@@ port@@ s().@@ de@@ let@@ e(@@ por@@ t.get@@ Id@@ ()).@@ execute@@ (); } } catch (java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e); } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Al@@ lo@@ w Man@@ u@@ al and Au@@ t@@ om@@ ati@@ c m@@ igr@@ ation@@ ") java.lang.String au@@ to@@ And@@ Man@@ u@@ al@@ Migration@@ ();
@java.lang.Override protected void execute@@ Command() { java.lang.String connection@@ Id = org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Remove@@ StorageServerConnection@@ Command.get@@ Connection@@ ().@@ ge@@ I@@ id@@ (); org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Remove@@ StorageServerConnection@@ Command.get@@ StorageServerConnection@@ Dao().@@ remove@@ (@@ connection@@ Id); log.info@@ ("@@ Rem@@ ov@@ ing conn@@ ec@@ tion '{}@@ ' f@@ ro@@ m data@@ b@@ ase ", connection@@ Id); if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Remove@@ StorageServerConnection@@ Command.getParameters().get@@ Vds@@ Id@@ ())) { log.info@@ ("@@ N@@ o vds@@ Id p@@ ass@@ ed - host@@ s w@@ il@@ l not b@@ e dis@@ conn@@ ected@@ .@@ "); } else { org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Remove@@ StorageServerConnection@@ Command.@@ dis@@ conn@@ ect@@ Storage@@ (); } org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Remove@@ StorageServerConnection@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
protected org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er update@@ Entity@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ Update@@ s up@@ dat@@ es@@ , boolean cl@@ e@@ ar@@ Resource@@ Id) { return image@@ Trans@@ fer@@ Up@@ dat@@ er.@@ update@@ Entity(@@ up@@ dat@@ es@@ , org.ovirt.engine.core.bll.storage.disk.@@ image.@@ U@@ plo@@ ad@@ Image@@ Command.get@@ Command@@ Id(), cl@@ e@@ ar@@ Resource@@ Id); }
protected org.ovirt.engine.core.dao.@@ network.Network@@ Q@@ oS@@ D@@ a@@ o get@@ Network@@ Q@@ oS@@ Dao@@ () { return get@@ DbFacade@@ ().get@@ Qos@@ Dao@@ (); }
protected void set@@ Bond@@ ing@@ Option@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ java.lang.@@ V@@ o@@ id@@ > value@@ ) { private@@ Bond@@ ing@@ Option@@ s = value@@ ; }
@java.lang.Override public void update@@ Interface@@ For@@ Vds@@ (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface nic@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ add@@ r@@ ", stat@@ s.get@@ Address@@ ()).addValue("@@ bond@@ _@@ name@@ ", stat@@ s.get@@ Bond@@ Name@@ ()).addValue("@@ bond@@ _@@ type@@ ", stat@@ s.get@@ Bond@@ Type@@ ()).addValue("@@ g@@ ate@@ w@@ ay@@ ", stat@@ s.get@@ G@@ ate@@ w@@ ay@@ ()).addValue("@@ id@@ ", stat@@ s.get@@ Id@@ ()).addValue("@@ is@@ _@@ bond@@ ", stat@@ s.get@@ Bon@@ ded@@ ()).addValue("@@ bond@@ _@@ op@@ t@@ s", stat@@ s.get@@ Bond@@ Option@@ s@@ ()).addValue("@@ m@@ ac@@ _@@ add@@ r@@ ", stat@@ s.get@@ Mac@@ Address@@ ()).addValue("@@ name@@ ", stat@@ s.get@@ Name@@ ()).addValue("@@ network@@ _@@ name@@ ", stat@@ s.get@@ Network@@ Name@@ ()).addValue("@@ sp@@ e@@ ed@@ ", stat@@ s.get@@ Sp@@ e@@ ed@@ ()).addValue("@@ sub@@ net@@ ", stat@@ s.get@@ Sub@@ net@@ ()).addValue("@@ b@@ oot@@ _@@ prot@@ oc@@ ol@@ ", stat@@ s.get@@ Boot@@ Protocol@@ ()).addValue("@@ type@@ ", stat@@ s.get@@ Type@@ ()).addValue("@@ vds@@ _id", stat@@ s.get@@ Vds@@ Id@@ ()).addValue("@@ v@@ lan@@ _id", stat@@ s.get@@ V@@ lan@@ Id@@ ()).addValue("@@ m@@ tu@@ ", stat@@ s.get@@ M@@ tu@@ ()).addValue("@@ b@@ rid@@ ged@@ ", stat@@ s.@@ is@@ B@@ rid@@ ged@@ ()).addValue("@@ label@@ s", org.ovirt.engine.core.utils.@@ Ser@@ ial@@ ization@@ Fac@@ t@@ ory@@ .get@@ Ser@@ ial@@ iz@@ er@@ ().@@ ser@@ ial@@ iz@@ e(@@ stat@@ s.get@@ Label@@ s@@ ())); get@@ Call@@ sHandler@@ ().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ Update@@ vds@@ _@@ int@@ er@@ fac@@ e@@ ", parameter@@ Source@@ ); }
protected void do@@ Non@@ B@@ lock@@ ing@@ Action@@ (@@ final org.ovirt.engine.core.common.action.VdcAction@@ Type task@@ , final org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base param@@ s) { set@@ C@@ or@@ re@@ l@@ ation@@ Id(@@ param@@ s); set@@ Job@@ Or@@ Step@@ Id(@@ param@@ s); org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base s@@ p = s@@ ession@@ iz@@ e(@@ param@@ s); org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Us@@ er current@@ Us@@ er = get@@ C@@ urrent@@ ().get@@ User@@ (); org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base lo@@ go@@ u@@ t = (c@@ urrent@@ Us@@ er != null@@ ) ? s@@ ession@@ ize@@ (@@ new org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ ()) : null@@ ; try { back@@ end@@ .@@ run@@ Action(VdcActionType.@@ Run@@ Async@@ Action@@ , new org.ovirt.engine.core.common.action.@@ Run@@ Async@@ Action@@ Parameters(@@ task@@ , sp@@ )); } final@@ l@@ y { if (c@@ urrent@@ Us@@ er != null@@ ) { back@@ end@@ .@@ lo@@ go@@ ff@@ (@@ lo@@ go@@ ut@@ ); } } }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ Rep@@ o@@ File@@ M@@ et@@ a@@ Data@@ > get@@ User@@ Request@@ For@@ StorageDomain@@ Rep@@ o@@ File@@ List@@ () { return org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er@@ .getInstance().get@@ User@@ Request@@ For@@ StorageDomain@@ Rep@@ o@@ File@@ List@@ (get@@ StorageDomain@@ Id(), Get@@ Images@@ List@@ Query.get@@ Parameters().get@@ File@@ Type@@ Ex@@ ten@@ sion@@ (), Get@@ Images@@ List@@ Query.get@@ Parameters().get@@ For@@ ce@@ Re@@ fresh@@ ()); }
public org.ovirt.engine.core.bll.ValidationResult dataCenter@@ Exist@@ s() { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ P@@ O@@ OL@@ _@@ NOT_@@ EXIST@@ ).when@@ ((@@ (get@@ DataCenter@@ ()) == null@@ )); }
@java.lang.Override protected void s@@ ync@@ Search@@ () { if ((get@@ Entity@@ ()) == null@@ ) { set@@ Item@@ s@@ (@@ null@@ ); return@@ ; } super@@ .@@ s@@ ync@@ Search@@ (); org.ovirt.engine.core.common.businessentities.Storage@@ Domain storage@@ Domain = get@@ Entity@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vms@@ With@@ Le@@ ase@@ By@@ Storage@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ storageDomain@@ .getId@@ ()), new org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Set@@ Item@@ s@@ Async@@ Query@@ ()); }
static org.ovirt.engine.api.model.@@ VM setUp@@ Entity@@ Expectation@@ s@@ (org.ovirt.engine.core.common.businessentities.@@ VM entity@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s stati@@ stic@@ s, int in@@ dex@@ , org.ovirt.engine.core.compat.Guid vm@@ Id) { exp@@ ect@@ (@@ entity.get@@ Id@@ ()).@@ and@@ Return@@ (vm@@ Id@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ VdsGroup@@ Id@@ ()).@@ and@@ Return(@@ G@@ UID@@ S@@ [@@ 2@@ ]@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ Name@@ ()).@@ and@@ Return(@@ NAM@@ ES@@ [@@ in@@ dex@@ ]@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ Vm@@ Description@@ ()).@@ and@@ Return(@@ D@@ ES@@ C@@ R@@ I@@ P@@ TI@@ ON@@ S@@ [@@ in@@ dex@@ ]@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ Num@@ Of@@ C@@ p@@ us@@ ()).@@ and@@ Return(@@ 8@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ Num@@ Of@@ S@@ ock@@ et@@ s@@ ()).@@ and@@ Return(@@ 2@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ Us@@ age@@ Mem@@ Per@@ c@@ ent@@ ()).@@ and@@ Return(@@ java.lang.Integ@@ er.@@ value@@ Of@@ (@@ 2@@ 0@@ )).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ Display@@ Type@@ ()).@@ and@@ Return(@@ Display@@ Type.@@ v@@ g@@ a@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ Display@@ Sec@@ ure@@ Port@@ ()).@@ and@@ Return(@@ 5@@ 9@@ 00@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ Num@@ Of@@ Monitor@@ s@@ ()).@@ and@@ Return(@@ 2@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ Vm@@ Type@@ ()).@@ and@@ Return(@@ Vm@@ Type.@@ Server@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity.get@@ Run@@ On@@ Vds@@ Name@@ ()).@@ and@@ Return(@@ NAM@@ ES@@ [@@ ((@@ NAM@@ ES@@ .@@ l@@ ength@@ ) - 1@@ )@@ ]@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ entity@@ .is@@ Host@@ ed@@ Engine@@ ()).@@ and@@ Return@@ ((@@ in@@ de@@ x == 0@@ )).@@ any@@ Tim@@ es@@ (); org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vms@@ Resource@@ Test.@@ setUp@@ Statistic@@ al@@ Entity@@ Expectations(@@ entity@@ , stati@@ stic@@ s); return entity@@ ; }
public void f@@ l@@ us@@ h@@ () { network@@ .set@@ DataCenter@@ Id@@ (get@@ Selected@@ D@@ c@@ ().get@@ Id()); network@@ .set@@ Name@@ (((@@ java.lang.String@@ ) (get@@ Name@@ ().getEntity@@ ()))); network@@ .set@@ St@@ p@@ (((@@ java.lang.Boolean@@ ) (get@@ Is@@ St@@ p@@ Enabled@@ ().getEntity@@ ()))); network@@ .set@@ Description@@ (((@@ java.lang.String@@ ) (get@@ Description@@ ().getEntity@@ ()))); network@@ .set@@ Label@@ (((@@ java.lang.String@@ ) (get@@ Network@@ Label@@ ().getEntity@@ ()))); network@@ .set@@ VmNetwork@@ (((@@ java.lang.Boolean@@ ) (get@@ Is@@ VmNetwork@@ ().getEntity@@ ()))); network@@ .set@@ M@@ tu@@ (0@@ ); if ((get@@ M@@ tu@@ ().getEntity@@ ()) != null@@ ) { network@@ .set@@ M@@ tu@@ (@@ java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (get@@ M@@ tu@@ ().getEntity@@ ().@@ toString@@ ())); } network@@ .set@@ V@@ lan@@ Id@@ (@@ null@@ ); if (((@@ java.lang.Boolean@@ ) (get@@ H@@ as@@ V@@ L@@ an@@ Tag@@ ().getEntity@@ ()))) { network@@ .set@@ V@@ lan@@ Id(@@ java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (get@@ V@@ L@@ an@@ Tag@@ ().getEntity@@ ().@@ toString@@ ())); } }
private boolean validate@@ Storage@@ Properties@@ Update@@ () { if ((!@@ (@@ check@@ StorageDomain@@ Status@@ Not@@ E@@ qu@@ al@@ (@@ StorageDomain@@ Status.@@ Lock@@ ed@@ ))) || (!(@@ validate@@ Storage@@ Name@@ Update@@ ()))) { return false@@ ; } java.util.List<java.lang.String> pro@@ p@@ s = org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er.@@ Get@@ Changed@@ Fiel@@ ds@@ (@@ old@@ Domain@@ , org.ovirt.engine.core.bll.storage.@@ Update@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); pro@@ p@@ s.@@ remove@@ ("@@ storage@@ Name@@ "); pro@@ p@@ s.@@ remove@@ ("@@ d@@ escription@@ "); pro@@ p@@ s.@@ remove@@ ("@@ c@@ omm@@ ent@@ "); pro@@ p@@ s.@@ remove@@ ("@@ w@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ "); pro@@ p@@ s.@@ remove@@ ("@@ w@@ arning@@ L@@ ow@@ Sp@@ ace@@ In@@ d@@ ic@@ ator@@ "); pro@@ p@@ s.@@ remove@@ ("@@ cri@@ tic@@ al@@ Sp@@ ace@@ Action@@ B@@ lock@@ er@@ "); if (!(@@ pro@@ p@@ s.@@ isEmpty@@ ())) { log.@@ w@@ ar@@ n@@ ("@@ Th@@ er@@ e w@@ a@@ s an at@@ temp@@ t to up@@ dat@@ e the f@@ ol@@ low@@ ing fi@@ el@@ d@@ s al@@ th@@ o@@ u@@ g@@ h th@@ e@@ y ar@@ e not al@@ low@@ ed to b@@ e update@@ d@@ : {}@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ pro@@ p@@ s, "@@ ,@@ ")); return failCanDoAction@@ (EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ C@@ H@@ AN@@ G@@ E_@@ STORAGE_@@ DOMA@@ IN_@@ F@@ I@@ E@@ L@@ D@@ S@@ ); } return true@@ ; }
public void res@@ et@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ res@@ et@@ Cluster@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ Title@@ ()); model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ res@@ et@@ Cluster@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ Message@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ res@@ et@@ _@@ em@@ ul@@ ated@@ _@@ m@@ ach@@ in@@ e@@ _@@ cluster@@ ); model.set@@ Hash@@ Name@@ ("@@ res@@ et@@ _@@ cluster@@ _@@ em@@ ul@@ ated@@ _@@ m@@ ach@@ in@@ e@@ "); java.util.ArrayList<@@ java.lang.String> lis@@ t = new java.util.ArrayList<@@ java.lang.String@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group vds@@ Group : org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >@@ c@@ ast@@ (get@@ SelectedItem@@ s@@ ())) { lis@@ t.@@ add(@@ vds@@ Group@@ .get@@ Name()); } model.set@@ Items(@@ list@@ ); org.ovirt.engine.ui.uicommonweb.UICommand ap@@ pl@@ y@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ Res@@ et@@ Cluster@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ ", this@@ ); ap@@ pl@@ y@@ Command.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ()); ap@@ pl@@ y@@ Command.set@@ Is@@ Default@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ ap@@ pl@@ y@@ Command@@ ); org.ovirt.engine.ui.uicommonweb.UICommand cancel@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ ", this@@ ); cancel@@ Command.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); cancel@@ Command.set@@ Is@@ Cancel@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add@@ (c@@ ance@@ l@@ Command@@ ); }
private void d@@ et@@ er@@ min@@ e@@ Label@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Agent@@ Model model@@ ) { if (@@ org.ovirt.engine.ui.uicompat.@@ ex@@ ternal@@ .@@ StringUtils.@@ isEmpty@@ (model.get@@ Management@@ Ip@@ ().getEntity@@ ())) { ag@@ ent@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ cl@@ ick@@ Edit@@ Fence@@ Agent@@ ()); sh@@ ow@@ Cont@@ ro@@ l@@ s@@ (@@ false@@ ); } else if (m@@ odel.@@ is@@ In@@ Con@@ current@@ Group@@ ()) { ag@@ ent@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ con@@ current@@ Agent@@ Group@@ Label@@ ()); sh@@ ow@@ Cont@@ ro@@ l@@ s@@ (@@ true@@ ); sh@@ ow@@ Con@@ current@@ Group@@ (model@@ ); } else { ag@@ ent@@ L@@ ab@@ el.@@ set@@ Text@@ ((((@@ model.get@@ P@@ m@@ Type@@ ().getSelectedItem@@ ()) + " : ") + (model.get@@ Management@@ Ip@@ ().getEntity@@ ()))); sh@@ ow@@ Cont@@ ro@@ l@@ s@@ (@@ true@@ ); } }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Base object@@ ) { d@@ ri@@ ver.@@ edit@@ (@@ object@@ ); objec@@ t.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if (@@ pro@@ p@@ Nam@@ e.@@ equals@@ ("@@ Pro@@ p@@ os@@ e@@ Dis@@ c@@ o@@ ver@@ T@@ arget@@ s@@ "@@ )) { set@@ Pro@@ p@@ os@@ e@@ Dis@@ c@@ o@@ ver@@ (@@ objec@@ t.get@@ Pro@@ p@@ os@@ e@@ Dis@@ c@@ o@@ ver@@ T@@ arget@@ s()); } else if (@@ pro@@ p@@ Nam@@ e.@@ equals@@ ("@@ Message@@ "@@ )) { mess@@ age@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ objec@@ t.get@@ Message@@ ()); } } }); add@@ Key@@ P@@ ress@@ Handler@@ (@@ new com.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Key@@ P@@ ress@@ Handler@@ () { @java.lang.Override public void on@@ Key@@ P@@ ress@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Key@@ P@@ ress@@ Event event@@ ) { if ((@@ com.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Key@@ C@@ od@@ es.@@ K@@ E@@ Y_@@ EN@@ TER@@ ) == (@@ ev@@ ent.get@@ N@@ ati@@ ve@@ Event@@ ().get@@ Key@@ Code@@ ())) { objec@@ t.get@@ Dis@@ c@@ o@@ ver@@ T@@ arget@@ s@@ Command@@ ().execute@@ (); set@@ Is@@ F@@ oc@@ us@@ ed@@ (@@ false@@ ); } } }); set@@ Pro@@ p@@ os@@ e@@ Dis@@ c@@ o@@ ver@@ (@@ objec@@ t.get@@ Pro@@ p@@ os@@ e@@ Dis@@ c@@ o@@ ver@@ T@@ arget@@ s()); init@@ Button@@ s(@@ object@@ ); }
public boolean is@@ Host@@ ed@@ Engine@@ () { return org.ovirt.engine.core.common.@@ validation.@@ Vm@@ Action@@ Validator.@@ is@@ Host@@ ed@@ Engin@@ e(@@ get@@ O@@ ri@@ gin@@ ()); }
public void set@@ Image@@ Type@@ Id(@@ org.ovirt.engine.core.compat.Guid image@@ Type@@ Id) { this@@ .@@ image@@ Type@@ Id = image@@ Type@@ Id@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Event@@ s@@ ") java.lang.String event@@ s@@ Title@@ ();
public java.lang.Object call@@ () throw@@ s java.lang.Exception { if (((@@ java.lang.Boolean@@ ) (@@ _@@ par@@ s@@ er.@@ cli@@ En@@ vi@@ ron@@ ment@@ Get@@ (@@ Vds@@ m@@ En@@ v@@ .@@ OV@@ I@@ R@@ T_@@ NO@@ DE@@ )@@ ))) { _@@ mess@@ ages.@@ p@@ ost@@ (@@ In@@ st@@ all@@ er@@ Messages.@@ Se@@ ver@@ ity@@ .@@ IN@@ F@@ O@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ Hos@@ t is h@@ yp@@ er@@ vi@@ s@@ or@@ ")); _@@ set@@ Node@@ (); } return null@@ ; }
@java.lang.Override protected org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ ) { return get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ id@@ ", volum@@ e.get@@ Id@@ ()).addValue("@@ cluster@@ _id", volum@@ e.get@@ Cluster@@ Id@@ ()).addValue("@@ v@@ ol@@ _@@ name@@ ", volum@@ e.get@@ Name@@ ()).addValue("@@ v@@ ol@@ _@@ type@@ ", org.ovirt.engine.core.common.utils.@@ Enum@@ Utils.@@ name@@ Or@@ Null@@ (@@ volum@@ e.get@@ Volume@@ Type@@ ())@@ ).@@ addValue("@@ status@@ ", org.ovirt.engine.core.common.utils.@@ Enum@@ Utils.@@ name@@ Or@@ Null@@ (@@ volum@@ e.get@@ Status@@ ())@@ ).@@ addValue("@@ re@@ pl@@ ic@@ a@@ _@@ c@@ ount@@ ", volum@@ e.get@@ Repl@@ ic@@ a@@ Count@@ ()).addValue("@@ st@@ ri@@ p@@ e@@ _@@ c@@ ount@@ ", volum@@ e.get@@ St@@ ri@@ p@@ e@@ Count@@ ()).addValue("@@ dis@@ p@@ ers@@ e@@ _@@ c@@ ount@@ ", volum@@ e.get@@ Dis@@ p@@ ers@@ e@@ Count@@ ()).addValue("@@ red@@ un@@ d@@ an@@ c@@ y@@ _@@ c@@ ount@@ ", volum@@ e.get@@ R@@ ed@@ un@@ d@@ an@@ c@@ y@@ Count@@ ()).addValue("@@ ar@@ b@@ iter@@ _@@ c@@ ount@@ ", volum@@ e.get@@ Ar@@ b@@ iter@@ Count@@ ()); }
protected final void execute@@ () { set@@ Command@@ Status(@@ Command@@ Status.@@ AC@@ TI@@ V@@ E); if ((get@@ Call@@ Back@@ ()) != null@@ ) { p@@ ers@@ ist@@ Command@@ (get@@ Parameters().get@@ Parent@@ Command@@ (), true@@ ); } get@@ ReturnValue@@ ().set@@ CanDoAction@@ (@@ true@@ ); get@@ ReturnValue@@ ().setIs@@ Sync@@ ron@@ i@@ o@@ us@@ (@@ true@@ ); if ((!@@ (@@ has@@ Task@@ Handl@@ ers@@ ())) || ((get@@ Execution@@ In@@ dex@@ ()) == 0@@ )) { org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Handler.@@ add@@ Step@@ (get@@ Execution@@ Context@@ (), Step@@ Enum@@ .@@ EX@@ EC@@ U@@ TI@@ N@@ G@@ , null@@ ); } try { h@@ andle@@ Trans@@ ac@@ ti@@ vi@@ ty@@ (); org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ s@@ c@@ op@@ e@@ , this@@ ); } catch (@@ javax.@@ e@@ j@@ b@@ .@@ Transaction@@ R@@ oll@@ ed@@ back@@ Local@@ Exception e) { log.info@@ ("@@ Trans@@ ac@@ tion w@@ a@@ s ab@@ or@@ te@@ d in '{}@@ '@@ ", this@@ .get@@ Class@@ ().get@@ Name()); comp@@ ens@@ ate@@ (); } final@@ l@@ y { try { if (get@@ Command@@ Sh@@ oul@@ d@@ Be@@ Log@@ ged@@ ()) { log@@ R@@ en@@ am@@ ed@@ Entity@@ (); log@@ Command@@ (); } if (get@@ Succeeded@@ ()) { st@@ art@@ P@@ oll@@ ing@@ AsyncTask@@ s(); } } final@@ l@@ y { if ((@@ ((get@@ Call@@ Back@@ ()) == null@@ ) && (!(@@ has@@ Task@@ s@@ ()))) && (!@@ (org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Handler.@@ check@@ If@@ Job@@ H@@ as@@ Task@@ s@@ (get@@ Execution@@ Context@@ ())@@ ))) { org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Handler.@@ end@@ Job@@ (get@@ Execution@@ Context@@ (), get@@ Succeeded@@ ()); } } } }
public static void set@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity command@@ Entity@@ , org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base param@@ s) { if ((@@ command@@ Entity@@ .get@@ Data@@ ()) == null@@ ) { command@@ Entity@@ .set@@ Data@@ (@@ new java.util.HashMap<@@ java.lang.String, java.lang.Object@@ >@@ ()); } command@@ Entity@@ .get@@ Data@@ ().@@ put@@ (org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ Entity@@ Utils.@@ P@@ AR@@ A@@ M@@ ET@@ ER@@ S_@@ K@@ E@@ Y@@ , param@@ s); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ S@@ yn@@ c M@@ o@@ M Policy@@ ") java.lang.String update@@ M@@ om@@ Policy@@ Cluster@@ Host@@ ();
public void audit@@ In@@ valid@@ Interfaces@@ (java.lang.String entity@@ Name, org.ovirt.engine.core.common.@@ AuditLog@@ Type log@@ Type@@ ) { if (!(@@ in@@ valid@@ Network@@ Nam@@ es.@@ isEmpty@@ ())) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ Entity@@ Name@@ ", entity@@ Name); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ Networks@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (in@@ valid@@ Network@@ Names@@ , '@@ ,@@ '@@ )); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ Interfaces@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (in@@ valid@@ I@@ fac@@ e@@ Names@@ , '@@ ,@@ '@@ )); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , log@@ Type@@ ); } }
@java.lang.Override public void init@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Model model@@ ) { super@@ .@@ init@@ (model@@ ); model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if ("@@ Allow@@ Cluster@@ With@@ Vir@@ t@@ Gluster@@ Enabled@@ "@@ .equals(@@ pro@@ p@@ Name@@ )) { get@@ View@@ ().@@ al@@ low@@ Cluster@@ With@@ Vir@@ t@@ Gluster@@ Enabled@@ (model.get@@ Allow@@ Cluster@@ With@@ Vir@@ t@@ Gluster@@ Enabled@@ ()); } } }); java.lang.String sp@@ ice@@ Proxy@@ In@@ Confi@@ g = ((@@ java.lang.String@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Sp@@ ice@@ Proxy@@ Default@@ ))); java.lang.String sp@@ ice@@ Proxy@@ Mess@@ age = (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (s@@ p@@ ice@@ Proxy@@ In@@ Config@@ )) ? mess@@ ages.@@ no@@ Sp@@ ice@@ Proxy@@ De@@ fin@@ ed@@ () : sp@@ ice@@ Proxy@@ In@@ Config@@ ; get@@ View@@ ().set@@ Sp@@ ice@@ Proxy@@ O@@ ver@@ ri@@ de@@ Exp@@ lan@@ ation@@ (m@@ ess@@ ages.@@ con@@ s@@ ole@@ O@@ ver@@ ri@@ de@@ Sp@@ ice@@ Proxy@@ Message@@ (m@@ ess@@ ages.@@ con@@ s@@ ole@@ O@@ ver@@ ri@@ de@@ De@@ fin@@ ed@@ In@@ G@@ lo@@ b@@ al@@ Config@@ (), sp@@ ice@@ Proxy@@ Message@@ )); }
protected org.ovirt.engine.core.utils.@@ s@@ sh@@ .S@@ S@@ H@@ Cli@@ ent create@@ SS@@ H@@ Client@@ () { return new org.ovirt.engine.core.utils.@@ s@@ sh@@ .S@@ S@@ H@@ Client@@ (); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Storage@@ Device@@ List@@ ReturnForXmlR@@ p@@ c get@@ Device@@ Info@@ s() { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Gluster@@ .get@@ Device@@ Info@@ ").@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ).@@ with@@ I@@ g@@ n@@ ore@@ Respon@@ se@@ Key@@ (); return new org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Storage@@ Device@@ Info@@ List@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
protected final void update@@ Numa@@ Enabled@@ Helper@@ () { boolean en@@ able@@ d = true@@ ; if ((((@@ ((get@@ Model().get@@ Migration@@ M@@ ode@@ ().getSelectedItem@@ ()) != (org.ovirt.engine.core.common.businessentities.@@ Migration@@ Sup@@ port.@@ P@@ IN@@ N@@ ED_@@ TO@@ _@@ HOST@@ )) || (get@@ Model().get@@ Is@@ Au@@ to@@ As@@ s@@ ign@@ ().getEntity@@ ())) || (get@@ Model().get@@ Default@@ Host@@ ().getSelectedItem@@ s().@@ isEmpty@@ ())) || ((get@@ Model().get@@ Default@@ Host@@ ().getSelectedItem@@ s().@@ size()) > 1@@ )) || (!@@ (get@@ Model().get@@ Default@@ Host@@ ().getSelectedItem@@ s().get@@ (0@@ ).@@ is@@ Numa@@ Sup@@ port@@ ()))) { en@@ able@@ d = false@@ ; } if (@@ en@@ abled@@ ) { getModel().get@@ Numa@@ Enabled@@ ().set@@ Message@@ (@@ const@@ an@@ t@@ s.@@ num@@ a@@ Info@@ Message@@ ()); } else { getModel().get@@ Numa@@ Enabled@@ ().set@@ Message@@ (@@ const@@ an@@ t@@ s.@@ num@@ a@@ Dis@@ abled@@ Info@@ Message@@ ()); getModel().get@@ Numa@@ Node@@ Count@@ ().set@@ Entity@@ (0@@ ); } getModel().get@@ Numa@@ Enabled@@ ().set@@ Entity(@@ en@@ abled@@ ); }
private int get@@ T@@ otal@@ Host@@ s@@ Stat@@ () { return org.ovirt.engine.core.bll.@@ Get@@ System@@ Statistic@@ s@@ Query.get@@ DbFacade@@ ().get@@ System@@ Statistic@@ s@@ Value@@ (org.ovirt.engine.core.bll.@@ Get@@ System@@ Statistic@@ s@@ Query@@ .@@ HOST@@ _@@ EN@@ TI@@ TY@@ _@@ NAM@@ E); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _C@@ RE@@ AT@@ E); add@@ Custom@@ Value(@@ Gluster@@ Constants.@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ NAM@@ E, get@@ Parameters().get@@ Snapshot@@ ().get@@ Snapshot@@ Name()); super@@ .set@@ Action@@ Message@@ Parameters@@ (); }
private org.ovirt.engine.api.model.@@ Gluster@@ B@@ r@@ ic@@ k p@@ op@@ ul@@ ate@@ Ad@@ v@@ ance@@ d@@ Detail@@ s(@@ org.ovirt.engine.api.model.@@ Gluster@@ B@@ r@@ ic@@ k model, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity entity@@ ) { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ Entity = get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ .@@ class@@ , VdcQuery@@ Type.Get@@ GlusterVolume@@ By@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ entity.get@@ Volume@@ Id@@ ()), null@@ , true@@ ); org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s d@@ et@@ ail@@ s@@ Entity = get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s@@ .@@ class@@ , VdcQuery@@ Type.Get@@ GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s, new org.ovirt.engine.core.common.queries.@@ gluster.GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s@@ Parameters(@@ volume@@ Entity@@ .get@@ Cluster@@ Id(), volume@@ Entity@@ .get@@ Name(), entity.get@@ Qu@@ al@@ if@@ i@@ ed@@ Name(), true@@ ), null@@ , true@@ ); org.ovirt.engine.api.model.@@ Gluster@@ Brick@@ Ad@@ v@@ ance@@ d@@ Detail@@ s d@@ et@@ ail@@ s@@ Model = get@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s@@ .@@ class@@ , org.ovirt.engine.api.model.@@ Gluster@@ Brick@@ Ad@@ v@@ ance@@ d@@ Detail@@ s@@ .@@ class@@ )@@ .m@@ ap@@ (@@ d@@ et@@ ail@@ s@@ Entity@@ , null@@ ); model.set@@ Brick@@ Detail@@ s(@@ d@@ et@@ ail@@ s@@ Model@@ ); return model@@ ; }
public static org.ovirt.engine.core.bll.ValidationResult is@@ Connection@@ Do@@ es@@ Not@@ Exist@@ For@@ Host@@ And@@ T@@ arget@@ (org.ovirt.engine.core.compat.Guid host@@ Id, java.lang.String i@@ q@@ n@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ StorageServerConnection@@ Ex@@ ten@@ si@@ on existing@@ Conn@@ Ex@@ t = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StorageServerConnection@@ Ex@@ ten@@ sion@@ Dao().get@@ By@@ Host@@ Id@@ And@@ T@@ arget@@ (@@ host@@ Id, i@@ q@@ n@@ ); if (@@ existing@@ Conn@@ Ex@@ t != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vds@@ Dao().get@@ (@@ host@@ Id); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ C@@ ON@@ N@@ EC@@ TION_@@ EX@@ T@@ EN@@ SI@@ ON_@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ S@@ , java.lang.String@@ .@@ for@@ mat@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ t@@ arg@@ e@@ t %@@ s", i@@ q@@ n@@ )@@ ), java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ vds@@ Name %@@ s", hos@@ t.get@@ Name@@ ())); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public static void Init@@ () { org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ m@@ Update@@ Vm@@ Templ@@ ate = new org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er@@ (org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler@@ .@@ class@@ ); org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ B@@ lan@@ k@@ VmTemplate@@ Id = new org.ovirt.engine.core.compat.Guid@@ ("@@ 00@@ 00@@ 00@@ -@@ 00@@ -@@ 00@@ -@@ 00@@ -@@ 00@@ -@@ 00@@ 00@@ 00@@ 00@@ 00@@ 00@@ "); org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ m@@ Update@@ Vm@@ Templ@@ at@@ e.@@ Add@@ Per@@ m@@ it@@ ted@@ Fiel@@ ds@@ (@@ new java.lang.String@@ []{ "@@ name@@ ", "@@ d@@ escription@@ ", "@@ do@@ m@@ ain@@ ", "@@ os@@ ", "@@ os@@ Type@@ ", "@@ au@@ to@@ S@@ us@@ p@@ end@@ ", "@@ int@@ er@@ fac@@ es@@ ", "@@ mem@@ Size@@ M@@ b@@ ", "@@ num@@ Of@@ S@@ ock@@ et@@ s", "@@ cpu@@ Per@@ S@@ ock@@ et@@ ", "@@ vds@@ Group@@ Id@@ ", "@@ num@@ Of@@ Monitor@@ s", "@@ al@@ low@@ Console@@ Rec@@ on@@ n@@ ect@@ ", "@@ us@@ b@@ Policy@@ ", "@@ time@@ Z@@ one@@ ", "@@ disk@@ Map@@ ", "@@ default@@ Boot@@ Se@@ qu@@ ence@@ ", "@@ dis@@ abled@@ ", "@@ is@@ o@@ Path@@ ", "@@ disk@@ Image@@ Map@@ ", "@@ default@@ Display@@ Type@@ ", "@@ pri@@ or@@ ity@@ ", "@@ au@@ to@@ Start@@ up@@ ", "@@ st@@ ate@@ l@@ ess@@ ", "@@ init@@ r@@ d@@ U@@ r@@ l@@ ", "@@ k@@ er@@ ne@@ l@@ U@@ r@@ l@@ ", "@@ k@@ er@@ ne@@ l@@ Param@@ s", "@@ im@@ ages@@ ", "@@ int@@ er@@ fac@@ es@@ ", "@@ quota@@ Id@@ ", "@@ quota@@ Name@@ ", "@@ quota@@ E@@ n@@ for@@ ce@@ ment@@ Type@@ ", "@@ m@@ igr@@ ation@@ Sup@@ port@@ ", "@@ ded@@ ic@@ ated@@ Vm@@ For@@ Vds@@ ", "@@ s@@ m@@ art@@ c@@ ard@@ Enabled@@ ", "@@ de@@ let@@ e@@ Prot@@ ected@@ ", "@@ quota@@ Default@@ ", "@@ v@@ n@@ c@@ Key@@ board@@ L@@ ay@@ out@@ " }); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Th@@ e m@@ igr@@ ate VM is host@@ ed on ${@@ host@@ Name@@ }@@ . In@@ c@@ lu@@ d@@ e {@@ host@@ Name@@ } in ded@@ icate@@ d host@@ s, or m@@ igr@@ ate VM to ded@@ icate@@ d hos@@ t pri@@ or to p@@ in@@ n@@ ing.@@ ") java.lang.String ACTION_TYPE_FAILED_@@ P@@ IN@@ N@@ ED_@@ VM_@@ NOT_@@ R@@ UN@@ N@@ ING@@ _@@ ON_@@ D@@ ED@@ IC@@ AT@@ ED_@@ HOST@@ ();
@java.lang.Override protected boolean canDoAction@@ () { final org.ovirt.engine.core.bll.validator.@@ Cluster@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ Cluster@@ Validator@@ (org.ovirt.engine.core.bll.@@ Add@@ VdsGroup@@ Command.get@@ DbFacade@@ (), org.ovirt.engine.core.bll.@@ Add@@ VdsGroup@@ Command.get@@ VdsGroup@@ ()); return ((((@@ ((@@ validate@@ (@@ validator.@@ name@@ Not@@ Us@@ ed@@ ())) && (@@ validate@@ (@@ validator.@@ cpu@@ Type@@ Sup@@ port@@ s@@ Vir@@ t@@ Service@@ ()))) && (@@ validate@@ (@@ validator.@@ version@@ Supported@@ ()))) && (@@ validate@@ (@@ validator.@@ dataCenter@@ Version@@ M@@ is@@ mat@@ ch@@ ()))) && (@@ validate@@ (@@ validator.@@ dataCenter@@ Exist@@ s@@ ()))) && (@@ validate@@ (@@ validator.@@ local@@ StoragePool@@ Attached@@ To@@ Sing@@ le@@ Cluster@@ ()))) && (@@ validate@@ (@@ validator.@@ q@@ os@@ Bal@@ o@@ on@@ Supported@@ ()))) && (@@ validate@@ (@@ validator.@@ gluster@@ Service@@ Supported@@ ()))) && (@@ validate@@ (@@ validator.@@ cluster@@ Service@@ De@@ fin@@ ed@@ ()))) && (@@ validate@@ (@@ valid@@ ator@@ .m@@ i@@ x@@ ed@@ Cluster@@ Ser@@ vic@@ es@@ Supported@@ ()))) && (@@ validate@@ (@@ validator.@@ at@@ test@@ ation@@ Server@@ Configur@@ ed@@ ()))) && (@@ validate@@ (@@ valid@@ ator@@ .m@@ igr@@ ation@@ Supported@@ (org.ovirt.engine.core.bll.@@ Add@@ VdsGroup@@ Command.get@@ Ar@@ ch@@ it@@ ect@@ ure@@ ())@@ ))) && (@@ validate@@ (@@ validator.@@ vi@@ r@@ t@@ I@@ o@@ R@@ ng@@ Supported@@ ())); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ , new org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.@@ Param@@ s@@ (org.ovirt.engine.core.bll.@@ Hot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.getVm@@ ().get@@ Run@@ On@@ Vds@@ (), org.ovirt.engine.core.bll.@@ Hot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.getVm@@ ().get@@ Id(), org.ovirt.engine.core.bll.@@ Hot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.getParameters().get@@ Vm().get@@ Mem@@ Size@@ M@@ b@@ ())); if (vds@@ Return@@ Value.get@@ Succeeded@@ ()) { org.ovirt.engine.core.bll.@@ Hot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.set@@ Succeeded@@ (@@ true@@ ); } else { org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult fa@@ ult = new org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult@@ (); fa@@ ult.@@ set@@ Error@@ (vds@@ Return@@ Value.get@@ Vds@@ Error@@ ().get@@ Code@@ ()); fa@@ ult.@@ set@@ Message@@ (vds@@ Return@@ Value.get@@ Vds@@ Error@@ ().get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ Hot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.get@@ ReturnValue@@ ().set@@ F@@ a@@ ult@@ (@@ fault@@ ); } }
public org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.String> get@@ Dynamic@@ W@@ arning@@ () { return d@@ ynam@@ ic@@ W@@ arning@@ ; }
private void add@@ K@@ er@@ ne@@ l@@ C@@ md@@ lin@@ e@@ Check@@ bo@@ x@@ es@@ List@@ en@@ ers@@ () { final org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s> list@@ en@@ er = new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if (is@@ K@@ er@@ ne@@ l@@ C@@ md@@ lin@@ e@@ Par@@ s@@ able@@ ()) { update@@ K@@ er@@ ne@@ l@@ C@@ md@@ lin@@ e@@ (); } } }; get@@ K@@ er@@ ne@@ l@@ C@@ md@@ lin@@ e@@ I@@ omm@@ u@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ list@@ ener@@ ); get@@ K@@ er@@ ne@@ l@@ C@@ md@@ lin@@ e@@ K@@ vm@@ N@@ es@@ ted@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ list@@ ener@@ ); get@@ K@@ er@@ ne@@ l@@ C@@ md@@ lin@@ e@@ Un@@ s@@ afe@@ Inter@@ r@@ up@@ t@@ s@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ list@@ ener@@ ); get@@ K@@ er@@ ne@@ l@@ C@@ md@@ lin@@ e@@ P@@ c@@ i@@ Re@@ al@@ loc@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ list@@ ener@@ ); }
@java.lang.Override public org.ovirt.engine.api.@@ common.@@ s@@ ec@@ ur@@ ity@@ .@@ auth@@ .@@ P@@ rin@@ c@@ ip@@ al validate@@ (java.lang.String s@@ ession@@ Id) { org.ovirt.engine.api.@@ common.@@ s@@ ec@@ ur@@ ity@@ .@@ auth@@ .@@ P@@ rin@@ c@@ ip@@ al p@@ rin@@ c@@ ip@@ al = null@@ ; org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base param@@ s = new org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base@@ (); params.set@@ Session@@ Id@@ (s@@ ession@@ Id); org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue query@@ ReturnValue = back@@ end@@ .@@ Run@@ P@@ ubl@@ ic@@ Query@@ (Vdc@@ Query@@ Type.@@ Validate@@ Session@@ , param@@ s); if (@@ query@@ ReturnValue != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er us@@ er = ((org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ ) (@@ query@@ Return@@ Value.get@@ ReturnValue@@ ())); if (@@ us@@ er != null@@ ) { p@@ rin@@ c@@ ip@@ al = new org.ovirt.engine.api.@@ common.@@ s@@ ec@@ ur@@ ity@@ .@@ auth@@ .@@ P@@ rin@@ c@@ ip@@ al@@ (@@ user@@ .get@@ Lo@@ gin@@ Name(), null@@ , user@@ .get@@ Domain@@ ()); s@@ ession@@ Helper.@@ set@@ Session@@ Id@@ (s@@ ession@@ Id); c@@ urr@@ ent.@@ set@@ (@@ user@@ ); } } if (p@@ rin@@ c@@ ip@@ al != null@@ ) { validate@@ Session@@ Succeeded@@ (@@ query@@ ReturnValue@@ ); } else { validate@@ Session@@ Fail@@ ed(@@ query@@ ReturnValue@@ ); } return p@@ rin@@ c@@ ip@@ al@@ ; }
public void set@@ For@@ ce@@ Label@@ (java.lang.String for@@ ce@@ Label@@ ) { this@@ .@@ for@@ ce@@ L@@ ab@@ e@@ l = for@@ ce@@ Label@@ ; for@@ c@@ e.set@@ Is@@ Available@@ (@@ true@@ ); on@@ PropertyChanged@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s(@@ "@@ for@@ ce@@ Label@@ ")); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (@@ ob@@ j == null@@ ) { return false@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.network.@@ VnicProfile@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e oth@@ er = ((@@ org.ovirt.engine.core.common.businessentities.network.@@ VnicProfile@@ ) (@@ obj@@ )); if (!(@@ org.ovirt.engine.core.common.utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (get@@ Custom@@ Properties@@ (), oth@@ er@@ .get@@ Custom@@ Properties@@ ()))) { return false@@ ; } if (!(@@ org.ovirt.engine.core.common.utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (get@@ Id(), oth@@ er@@ .getId@@ ()))) { return false@@ ; } if (!(@@ org.ovirt.engine.core.common.utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (get@@ Name(), oth@@ er@@ .getName@@ ()))) { return false@@ ; } if (!(@@ org.ovirt.engine.core.common.utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (get@@ Network@@ Id(), oth@@ er@@ .get@@ Network@@ Id@@ ()))) { return false@@ ; } if (!(@@ org.ovirt.engine.core.common.utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (get@@ Network@@ Q@@ oS@@ Id(), oth@@ er@@ .get@@ Network@@ Q@@ oS@@ Id@@ ()))) { return false@@ ; } if ((@@ is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ()) != (@@ other.@@ is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ())) { return false@@ ; } if (!(@@ org.ovirt.engine.core.common.utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (get@@ Description@@ (), oth@@ er@@ .get@@ Description@@ ()))) { return false@@ ; } return true@@ ; }
public void fil@@ l@@ M@@ et@@ ad@@ ata@@ Devices@@ Info@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ Static@@ , org.ovirt.engine.core.compat.Guid vds@@ Id) { try { @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c do@@ m@@ ain@@ From@@ I@@ r@@ s = ((@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ , org.ovirt.engine.core.compat.Guid@@ >) (@@ res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ Info@@ , new org.ovirt.engine.core.common.vdscommands.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ Info@@ VDSCommand@@ Parameters(@@ vds@@ Id, storageDomain@@ Static@@ .getId@@ ())@@ ).get@@ ReturnValue@@ ())@@ ).get@@ F@@ ir@@ st@@ (); storageDomain@@ Static@@ .set@@ F@@ ir@@ st@@ M@@ et@@ ad@@ ata@@ Device@@ (@@ do@@ m@@ ain@@ From@@ I@@ r@@ s.get@@ F@@ ir@@ st@@ M@@ et@@ ad@@ ata@@ Device@@ ()); storageDomain@@ Static@@ .set@@ V@@ g@@ M@@ et@@ ad@@ ata@@ Device@@ (@@ do@@ m@@ ain@@ From@@ I@@ r@@ s.get@@ V@@ g@@ M@@ et@@ ad@@ ata@@ Device@@ ()); } catch (@@ java.lang.Exception e) { storageDomain@@ Static@@ .set@@ F@@ ir@@ st@@ M@@ et@@ ad@@ ata@@ Device@@ (@@ null@@ ); storageDomain@@ Static@@ .set@@ V@@ g@@ M@@ et@@ ad@@ ata@@ Device@@ (@@ null@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ B@@ lock@@ StorageDomain@@ Helper.@@ log.info@@ ("@@ Fail@@ ed to ge@@ t the do@@ ma@@ in info@@ , ign@@ or@@ ing@@ "); } }
private boolean do@@ es@@ Nic@@ H@@ ave@@ Mac@@ Address@@ (org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic vm@@ Nic@@ ) { return (vm@@ Nic@@ .get@@ Mac@@ Address@@ ()) != null@@ ; }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.core.common.businessentities.@@ q@@ o@@ s.@@ Qos@@ Base@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Q@@ oS@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Q@@ o@@ S map@@ (org.ovirt.engine.core.common.businessentities.@@ q@@ o@@ s.@@ Qos@@ Base entity@@ , org.ovirt.engine.api.model.@@ Q@@ o@@ S template@@ ) { org.ovirt.engine.api.model.@@ Q@@ o@@ S model = (@@ templ@@ ate != null@@ ) ? templ@@ ate : new org.ovirt.engine.api.model.@@ Q@@ oS@@ (); model.set@@ Id(@@ entity.get@@ Id().@@ toString()); model.set@@ Name(@@ entity.get@@ Name()); model.set@@ Type(@@ org.ovirt.engine.api.model.@@ Qos@@ Type.@@ f@@ rom@@ Value(@@ entity.get@@ Qos@@ Type@@ ().@@ toString@@ ()).@@ name@@ ().@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ()); model.set@@ DataCenter@@ (@@ new org.ovirt.engine.api.model.@@ DataCenter@@ ()); model.get@@ DataCenter@@ ().set@@ Id(@@ entity.get@@ StoragePool@@ Id().@@ toString()); model.set@@ Description@@ (@@ entity.get@@ Description@@ ()); org.ovirt.engine.api.restapi.@@ types.@@ Qos@@ Mapper.@@ map@@ Qos@@ Type@@ To@@ Model@@ (@@ entity@@ , model@@ ); return model@@ ; }
private void update@@ Graphics@@ Device@@ () { for (org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type typ@@ e : org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type.@@ valu@@ es@@ ()) { if (!@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.get@@ Parameters@@ ().@@ shoul@@ d@@ Update@@ Graphics@@ Device@@ (@@ type@@ ))) { continue@@ ; } org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Device vm@@ Graphics@@ Device = get@@ Graphics@@ De@@ v@@ Of@@ Type(@@ type@@ ); if (vm@@ Graphics@@ Device == null@@ ) { if ((org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Graphics@@ Device@@ (@@ type@@ )) != null@@ ) { org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Graphics@@ Device@@ (@@ type@@ )@@ .set@@ Vm@@ Id@@ (get@@ Vm@@ Id()); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ Add@@ Graphics@@ Device@@ , new org.ovirt.engine.core.bll.@@ Graphics@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Graphics@@ Device@@ (@@ type@@ ))); } } else { if ((org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Graphics@@ Device@@ (@@ type@@ )) == null@@ ) { org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ Remove@@ Graphics@@ Device@@ , new org.ovirt.engine.core.bll.@@ Graphics@@ Parameters@@ (vm@@ Graphics@@ Device@@ )); } else { org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Graphics@@ Device@@ (@@ type@@ )@@ .set@@ Vm@@ Id@@ (get@@ Vm@@ Id()); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ Update@@ Graphics@@ Device@@ , new org.ovirt.engine.core.bll.@@ Graphics@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Graphics@@ Device@@ (@@ type@@ ))); } } } }
protected void update@@ L@@ ive@@ Storage@@ Migration@@ Enabled@@ () { final org.ovirt.engine.core.common.businessentities.VM vm = get@@ Entity@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ DataCenter@@ By@@ Id@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Disk@@ List@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Disk@@ ListModel@@ ) (@@ target@@ )); org.ovirt.engine.core.common.businessentities.Storage@@ Pool data@@ C@@ en@@ te@@ r = ((org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ ) (@@ return@@ Value@@ )); org.ovirt.engine.core.compat.@@ Version dc@@ C@@ ompatibility@@ Version = ((@@ dataCenter@@ .get@@ CompatibilityVersion@@ ()) != null@@ ) ? dataCenter@@ .get@@ CompatibilityVersion@@ () : new org.ovirt.engine.core.compat.@@ Version@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance@@ ().is@@ Command@@ C@@ ompati@@ bl@@ e@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ model, new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Disk@@ List@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Disk@@ ListModel@@ ) (@@ target@@ )); model.set@@ Is@@ L@@ ive@@ Storage@@ Migration@@ Enabled@@ (((@@ java.lang.Boolean@@ ) (@@ return@@ Value@@ ))); } }@@ ), Vdc@@ ActionType.@@ L@@ ive@@ Migrate@@ Vm@@ Disk@@ s, vm.get@@ CompatibilityVersion@@ (), dc@@ CompatibilityVersion@@ ); } }@@ ), vm.get@@ StoragePool@@ Id()); }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { return java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ plo@@ y@@ .@@ In@@ st@@ all@@ Vds@@ Internal@@ Command.getParameters().get@@ Vds@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VDS@@ , EngineMessage.ACTION_TYPE_FAILED_@@ O@@ B@@ J@@ EC@@ T_@@ LO@@ C@@ K@@ ED@@ )); }
public org.ovirt.engine.core.bll.ValidationResult is@@ Version@@ C@@ ompati@@ bl@@ e@@ () { org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ itor@@ y os@@ Rep@@ os@@ itor@@ y = org.ovirt.engine.core.common.utils.@@ S@@ im@@ ple@@ De@@ p@@ en@@ de@@ c@@ y@@ In@@ j@@ ect@@ or@@ .getInstance().get@@ (org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ class@@ ); java.util.ArrayList<@@ java.lang.String> network@@ Device@@ s = os@@ Rep@@ os@@ it@@ ory@@ .get@@ Network@@ Devic@@ es(@@ os@@ Id, version@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Interface@@ Type@@ > int@@ er@@ fac@@ e@@ Type@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Interface@@ Type@@ >(); for (java.lang.String network@@ Device : network@@ Devices@@ ) { int@@ er@@ fac@@ e@@ Typ@@ es.@@ add@@ (org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Interface@@ Type.@@ value@@ Of@@ (network@@ Device@@ )); } return !@@ (@@ int@@ er@@ fac@@ e@@ Typ@@ es.@@ contains@@ (org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Interface@@ Type@@ .@@ for@@ Value(@@ nic@@ .get@@ Type@@ ()))) ? new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ VM_@@ IN@@ TER@@ F@@ AC@@ E_@@ V@@ ER@@ SI@@ ON_@@ I@@ S_NOT_@@ SUP@@ PORT@@ ED@@ ) : org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@java.lang.Override public java.lang.String r@@ ender@@ Null@@ S@@ af@@ e(@@ org.ovirt.engine.core.common.businessentities.Storage@@ Pool dc@@ ) { return dc@@ .get@@ name@@ (); }
@java.lang.Override protected void execute@@ Command() { get@@ DbFacade@@ ().get@@ Disk@@ Profile@@ Dao().@@ remove@@ (get@@ Parameters().get@@ Profile@@ Id()); get@@ DbFacade@@ ().get@@ Disk@@ Profile@@ Dao().@@ remove@@ (get@@ Parameters().get@@ Profile@@ Id()); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ Var@@ i@@ able@@ ("@@ volume@@ Name@@ ", org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Async@@ CommandBase.get@@ GlusterVolume@@ Name()); add@@ Validation@@ Message@@ Var@@ i@@ able@@ ("@@ vds@@ Group@@ ", org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Async@@ CommandBase.get@@ VdsGroup@@ Name()); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > filter@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Per@@ Host@@ Message@@ s mess@@ ages@@ ) { if (vm@@ .is@@ Host@@ ed@@ Engine@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ sTo@@ Run@@ O@@ n = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { int ha@@ S@@ cor@@ e = hos@@ t.get@@ H@@ ig@@ h@@ ly@@ Available@@ S@@ cor@@ e@@ (); if (@@ ha@@ S@@ cor@@ e > 0) { host@@ sTo@@ Run@@ On@@ .@@ add(@@ host@@ ); org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Host@@ ed@@ Engine@@ H@@ AC@@ S@@ Filter@@ Policy@@ Un@@ it.@@ log.debug@@ ("@@ Hos@@ t '{}@@ ' w@@ as@@ n@@ '@@ t filter@@ ed o@@ u@@ t a@@ s i@@ t ha@@ s a s@@ cor@@ e of {}@@ ", hos@@ t.get@@ Name(), ha@@ S@@ cor@@ e); } else { org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Host@@ ed@@ Engine@@ H@@ AC@@ DbFac@@ Filter@@ Policy@@ Un@@ it.@@ log.debug@@ ("@@ Hos@@ t '{}@@ ' w@@ a@@ s filter@@ ed o@@ u@@ t a@@ s i@@ t do@@ es@@ n@@ '@@ t ha@@ v@@ e a p@@ os@@ iti@@ v@@ e s@@ cor@@ e (@@ the s@@ cor@@ e is {}@@ )@@ ", hos@@ t.get@@ Name(), ha@@ S@@ cor@@ e); mess@@ ages.@@ add@@ Message@@ (@@ hos@@ t.get@@ Id(), EngineMessage.@@ VAR__@@ D@@ ET@@ A@@ IL@@ __@@ NOT_@@ H@@ E_@@ HOST@@ .@@ name@@ ()); } } return host@@ sTo@@ Run@@ On@@ ; } else { return host@@ s@@ ; } }
public static boolean C@@ ommon@@ Network@@ Validation@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ Network network@@ , java.util.ArrayList<@@ java.lang.String> canDoAction@@ Messages@@ ) { if ((@@ network@@ .get@@ storage_@@ pool@@ _id@@ ()) != null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > group@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VdsGroup@@ DAO@@ ().get@@ AllFor@@ StoragePool@@ (network@@ .get@@ storage_@@ pool@@ _id@@ ().get@@ Value@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster : group@@ s) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > network@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Network@@ DAO@@ ().get@@ AllFor@@ Cluster@@ (cluster@@ .getId()); if (@@ null != (@@ org.ovirt.engine.core.utils.@@ lin@@ q@@ .@@ Lin@@ q@@ Utils.@@ fi@@ r@@ st@@ Or@@ Null@@ (network@@ s, new org.ovirt.engine.core.utils.@@ lin@@ q@@ .@@ P@@ red@@ icate@@ <org.ovirt.engine.core.common.businessentities.@@ Network@@ >() { @java.lang.Override public boolean e@@ val@@ (org.ovirt.engine.core.common.businessentities.@@ Network n@@ ) { return n@@ .get@@ name@@ ().@@ equals(@@ network@@ .get@@ name@@ ()); } }@@ ))) { canDoAction@@ Messages.@@ add(@@ VdcBllMessages.@@ NETWORK_@@ C@@ LUSTER_@@ NETWORK_@@ IN_@@ US@@ E@@ .@@ toString()); return false@@ ; } } } return true@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ disk@@ _@@ type@@ =@@ ") java.lang.String disk@@ Type@@ Search@@ Pre@@ fi@@ x@@ ();
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ gluster.GlusterVolume@@ Status@@ ReturnForXmlR@@ p@@ c gluster@@ Volume@@ Status@@ (org.ovirt.engine.core.compat.Guid cluster@@ Id, java.lang.String volume@@ Name, java.lang.String brick@@ Name, java.lang.String volume@@ Status@@ Option@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Gluster@@ Volum@@ e.@@ status@@ ").@@ with@@ Parameter("@@ volume@@ Name@@ ", volume@@ Name@@ ).@@ with@@ Parameter("@@ brick@@ ", brick@@ Name@@ ).@@ with@@ Parameter("@@ status@@ Option@@ ", volume@@ Status@@ Option@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ).@@ with@@ I@@ g@@ n@@ ore@@ Respon@@ se@@ Key@@ (); return new org.ovirt.engine.core.vdsbroker.@@ gluster.GlusterVolume@@ Status@@ ReturnForXmlR@@ pc@@ (cluster@@ Id, respon@@ se@@ ); }
public void audit@@ Client@@ Ip@@ Change@@ () { final org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base ev@@ ent = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); ev@@ ent.@@ set@@ Vm@@ Id(@@ db@@ Vm@@ .getId()); ev@@ ent.@@ set@@ User@@ Name(@@ db@@ Vm@@ .get@@ Dynamic@@ Data@@ ().get@@ Console@@ C@@ urrent@@ User@@ Name()); au@@ ditLog@@ Direct@@ or.@@ log@@ (@@ event@@ , org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ db@@ Vm@@ .get@@ Dynamic@@ Data@@ ().get@@ Client@@ Ip@@ ()) ? org.ovirt.engine.core.common.@@ AuditLogType.@@ VM@@ _C@@ ON@@ S@@ OL@@ E_@@ DIS@@ C@@ ON@@ N@@ EC@@ T@@ E@@ D : org.ovirt.engine.core.common.@@ AuditLogType.@@ VM@@ _C@@ ON@@ S@@ OL@@ E_@@ C@@ ON@@ N@@ EC@@ T@@ ED@@ )); }
public org.ovirt.engine.core.bll.ValidationResult validate@@ Un@@ i@@ q@@ ue@@ Id@@ () { if ((@@ org.apache.commons.lang.StringUtils.@@ is@@ B@@ lan@@ k@@ (@@ vds.get@@ Un@@ i@@ q@@ ue@@ Id@@ ())) && (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ In@@ st@@ all@@ Vds@@ ))) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ VDS@@ _@@ NO@@ _@@ UUID@@ ); } return ValidationRes@@ ult.@@ VALID@@ ; }
@java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.@@ scheduling.@@ Af@@ finity@@ Group group@@ ) { java.lang.String host@@ Name@@ s = java.lang.String.@@ j@@ o@@ in@@ ("@@ , ", get@@ Host@@ Nam@@ es(@@ group@@ )); if (@@ host@@ Nam@@ es.@@ isEmpty@@ ()) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Abstract@@ Sub@@ Tab@@ Af@@ finity@@ Group@@ s@@ View@@ .@@ const@@ an@@ t@@ s.@@ no@@ Mem@@ b@@ ers@@ Af@@ finity@@ Group@@ (); } return host@@ Names@@ ; }
public static void pro@@ ce@@ ed@@ LUN@@ In@@ Db@@ (@@ final org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Type storage@@ Type@@ ) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ StorageDomain@@ Command@@ Bas@@ e.@@ pro@@ ce@@ ed@@ LUN@@ In@@ Db@@ (@@ lun@@ , storage@@ Type, "@@ "); }
@java.lang.Override public int comp@@ ar@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ event@@ _@@ sub@@ s@@ cri@@ b@@ er o@@ 1, org.ovirt.engine.core.common.businessentities.@@ event@@ _@@ sub@@ s@@ cri@@ b@@ er o@@ 2@@ ) { return new org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ ator@@ s.@@ L@@ ex@@ o@@ Num@@ er@@ ic@@ Comp@@ ar@@ ator@@ ().@@ comp@@ ar@@ e(@@ o@@ 1@@ .get@@ event@@ _@@ up@@ _@@ name@@ (), o@@ 2@@ .get@@ event@@ _@@ up@@ _@@ name@@ ()); }
@@@ org.ovirt.engine.ui.uicompat.@@ Default@@ Message@@ ("@@ E@@ r@@ ro@@ r Conn@@ ect@@ ing to {0@@ } usin@@ g {@@ 1@@ } prot@@ oc@@ ol@@ ") java.lang.String error@@ Conn@@ ect@@ ing@@ To@@ Cons@@ ol@@ e(@@ java.lang.String name@@ , java.lang.String prot@@ oc@@ ol@@ );
@java.lang.Override protected boolean canDoAction@@ () { if ((org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ VmCommand.getVm@@ ()) == null@@ ) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ VM_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command.@@ can@@ Run@@ Action@@ On@@ Non@@ Manage@@ d@@ Vm@@ ())) { return false@@ ; } if (!(@@ is@@ Sp@@ e@@ c@@ if@@ i@@ ed@@ Disks@@ Exist@@ (get@@ Parameters().get@@ Disks@@ ()))) { return false@@ ; } org.ovirt.engine.core.bll.validator.@@ Vm@@ Validator vm@@ Validator = create@@ Vm@@ Validator@@ (); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator snapshot@@ Validator = create@@ Snapshot@@ Validator@@ (); org.ovirt.engine.core.bll.validator.@@ storage.@@ StoragePool@@ Validator sp@@ Validator = create@@ StoragePool@@ Validator@@ (); if (!@@ ((((@@ ((((@@ validate@@ VM@@ (vm@@ Validator@@ )) && (@@ validate@@ (s@@ p@@ Validator.@@ is@@ Up@@ ()))) && (@@ validate@@ (vm@@ Validator.@@ vm@@ Not@@ I@@ le@@ g@@ al@@ ()))) && (@@ validate@@ (vm@@ Validator.@@ vm@@ Not@@ Lock@@ ed@@ ()))) && (@@ validate@@ (s@@ napshot@@ Validator.@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ VmCommand.getVm@@ Id@@ ())@@ ))) && (@@ validate@@ (s@@ napshot@@ Validator.@@ vm@@ Not@@ In@@ Pre@@ view@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ VmCommand.getVm@@ Id@@ ())@@ ))) && (@@ validate@@ (vm@@ Validator.@@ vm@@ Not@@ D@@ ur@@ ing@@ Migration@@ ()))) && (@@ validate@@ (vm@@ Validator.@@ vm@@ Not@@ Run@@ ning@@ State@@ l@@ ess@@ ())@@ ))) { return false@@ ; } return validate@@ StorageDomain@@ s(); }
@org.junit.Test public void test@@ Is@@ Domain@@ Exist@@ And@@ Active@@ Domain@@ Not@@ Exist@@ s() { valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (@@ null@@ ); assert@@ Equals@@ ("@@ W@@ ron@@ g fail@@ ur@@ e for null do@@ m@@ ain@@ ", EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ NOT_@@ EXIST@@ , validator.@@ is@@ Domain@@ Exist@@ And@@ Active@@ ().get@@ Message@@ ()); }
@java.lang.Override public org.ovirt.engine.core.bll.ValidationResult vm@@ Not@@ In@@ Pre@@ view@@ (org.ovirt.engine.core.compat.Guid vm@@ Id) { if (vm@@ In@@ Pre@@ view@@ ) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ IN_@@ P@@ RE@@ V@@ I@@ E@@ W@@ ); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
private void init@@ List@@ B@@ o@@ x@@ Editor@@ s() { r@@ a@@ id@@ Type@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ (@@ org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Enum@@ R@@ ender@@ er@@ <org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type@@ >@@ ()); c@@ ach@@ e@@ Device@@ Path@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Enum@@ R@@ ender@@ er@@ <org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type@@ >@@ ()); c@@ ach@@ e@@ M@@ ode@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Enum@@ R@@ ender@@ er@@ <org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ M@@ ode@@ Type@@ >@@ ()); }
@java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand command@@ ) { super@@ .@@ execute@@ Command@@ (command@@ ); if (c@@ ommand == (get@@ New@@ Command@@ ())) { new@@ Sub@@ net@@ (); } else if (c@@ ommand == (get@@ Remove@@ Command@@ ())) { remove@@ (); } else if ("@@ Cancel@@ "@@ .@@ equals@@ (command@@ .getName@@ ())) { cancel@@ (); } }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") @java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ vm@@ _@@ pool@@ s> get@@ AllFor@@ User@@ (org.ovirt.engine.core.compat.Guid user@@ id@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ vm@@ _@@ pool@@ s> result = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ vm@@ _@@ pool@@ s@@ >(); org.@@ h@@ i@@ ber@@ n@@ at@@ e.@@ Query quer@@ y = get@@ Session@@ ().@@ create@@ Query@@ ("@@ f@@ ro@@ m Db@@ Us@@ er wh@@ er@@ e id = :@@ user@@ _id@@ "); query@@ .set@@ Parameter("@@ user@@ _id", user@@ id@@ ); org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er us@@ er = ((org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ ) (@@ query@@ .@@ un@@ i@@ q@@ ue@@ Result@@ ())); if (@@ us@@ er != null@@ ) { org.@@ h@@ i@@ ber@@ n@@ at@@ e.@@ C@@ r@@ iter@@ i@@ a c@@ r@@ iter@@ i@@ a = get@@ Session@@ ().@@ create@@ C@@ r@@ iter@@ i@@ a@@ (org.ovirt.engine.core.common.businessentities.@@ Ad@@ Group@@ s@@ .@@ class@@ ).@@ add(@@ org.@@ h@@ i@@ ber@@ n@@ at@@ e.c@@ r@@ iter@@ ion@@ .@@ Res@@ tr@@ ic@@ tion@@ s.@@ in@@ ("@@ name@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Pool@@ DAO@@ H@@ i@@ ber@@ n@@ ate@@ Impl.@@ s@@ pl@@ it@@ A@@ par@@ t@@ Nam@@ es(@@ user@@ .get@@ group@@ s@@ ()))); java.util.List<org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group@@ > ad@@ Element@@ s = c@@ r@@ iter@@ i@@ a.@@ list@@ (); org.ovirt.engine.core.compat.Guid@@ [@@ ] id@@ s = new org.ovirt.engine.core.compat.Guid@@ [@@ (@@ ad@@ Element@@ s.@@ size()) + 1@@ ]@@ ; id@@ s@@ [@@ 0@@ ] = user@@ id@@ ; for (@@ int in@@ de@@ x = 0@@ ; in@@ de@@ x < (@@ ad@@ Element@@ s.@@ size@@ ()); in@@ dex@@ +@@ +@@ ) { id@@ s@@ [@@ (in@@ de@@ x + 1@@ )@@ ] = ad@@ Element@@ s.get@@ (in@@ dex@@ ).get@@ id@@ (); } quer@@ y = get@@ Session@@ ().@@ create@@ Query@@ ((@@ "@@ s@@ el@@ ect p@@ oo@@ l " + ((((@@ "@@ f@@ ro@@ m vm@@ _@@ pool@@ s pool@@ s per@@ mission@@ s ro@@ le@@ s ro@@ le@@ s ro@@ l@@ e " + "@@ wh@@ er@@ e p@@ oo@@ l.@@ id = per@@ m@@ s.@@ object@@ Id ") + "@@ and per@@ m@@ s.@@ ad@@ Element@@ Id in ( ( ( ( :@@ ad@@ Element@@ s ) ") + "@@ and ro@@ le.@@ id@@ ") + "@@ and ro@@ le.@@ typ@@ e = 2@@ "@@ ))); query@@ .set@@ Parameter@@ List@@ ("@@ ad@@ Element@@ s", id@@ s); result = query@@ .@@ list@@ (); } return result@@ ; }
private boolean is@@ New@@ Server@@ (java.lang.String server@@ Name, org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ > brick@@ s = volum@@ e.get@@ Brick@@ s(); for (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity current@@ B@@ r@@ ic@@ k : brick@@ s) { if (c@@ urrent@@ Brick@@ .get@@ Server@@ Name@@ ().@@ equals(@@ server@@ Name@@ )) { return false@@ ; } } return true@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.bll.@@ Get@@ All@@ Data@@ C@@ ent@@ ers@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (org.ovirt.engine.core.bll.@@ Get@@ All@@ Data@@ C@@ ent@@ ers@@ Query.get@@ DbFacade@@ ().get@@ StoragePool@@ DAO@@ ().get@@ All@@ (org.ovirt.engine.core.bll.@@ Get@@ All@@ Data@@ C@@ ent@@ ers@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.@@ Get@@ All@@ Data@@ C@@ ent@@ ers@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ())); }
public static void run@@ And@@ As@@ sert@@ CanDoAction@@ Success@@ (org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ ) { boolean can@@ Do@@ Ac@@ tion = command@@ .@@ canDoAction@@ (); assert@@ True@@ (@@ java.@@ tex@@ t.@@ Message@@ Format@@ .@@ for@@ mat@@ ("@@ Command@@ '@@ s can@@ Do@@ Ac@@ tion exp@@ ected to s@@ uc@@ ce@@ ed@@ , bu@@ t fail@@ ed@@ , mess@@ age@@ s are@@ : {0@@ }@@ ", command@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ()), canDoAction@@ ); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > run@@ External@@ Fil@@ t@@ ers@@ (@@ java.util.ArrayList<@@ org.ovirt.engine.core.bll.@@ scheduling.@@ Policy@@ Unit@@ Im@@ pl@@ > fil@@ t@@ ers@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ List@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ , java.util.List<java.lang.String> mess@@ ages@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid> filter@@ ed@@ ID@@ s = null@@ ; if (@@ filter@@ s != null@@ ) { java.util.List<java.lang.String> filter@@ Name@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); for (org.ovirt.engine.core.bll.@@ scheduling.@@ Policy@@ Unit@@ Im@@ p@@ l fil@@ te@@ r : fil@@ t@@ ers@@ ) { filter@@ Nam@@ es.@@ add(@@ filter@@ .get@@ Name()); } java.util.List<@@ org.ovirt.engine.core.compat.Guid> host@@ ID@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ List@@ ) { host@@ ID@@ s.add(@@ hos@@ t.get@@ Id()); } filter@@ ed@@ ID@@ s = org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Fac@@ t@@ ory@@ .getInstance().@@ run@@ Fil@@ t@@ ers@@ (@@ filter@@ Names@@ , host@@ ID@@ s, vm.get@@ Id(), parameters@@ ); } return int@@ ers@@ ect@@ Host@@ s(@@ host@@ List@@ , filter@@ ed@@ ID@@ s); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ T@@ en@@ an@@ t ID@@ ") java.lang.String storage@@ Popup@@ G@@ lan@@ ce@@ T@@ en@@ an@@ t@@ Id@@ Label@@ ();
@java.lang.Override protected void Conn@@ ect@@ () { if ((get@@ Entity@@ ()) != null@@ ) { get@@ Log@@ g@@ er@@ ().@@ D@@ eb@@ u@@ g@@ ("@@ Conn@@ ect@@ ing to Sp@@ ic@@ e con@@ s@@ ol@@ e.@@ .@@ .@@ "); if (!@@ (get@@ sp@@ ice@@ ().get@@ Is@@ In@@ st@@ all@@ ed@@ ())) { get@@ Log@@ g@@ er@@ ().@@ Info@@ ("@@ Sp@@ ic@@ e cli@@ ent is not in@@ st@@ all@@ ed@@ .@@ "); get@@ sp@@ ice@@ ().@@ In@@ st@@ all@@ (); return@@ ; } if ((get@@ Configur@@ ator@@ ().get@@ Is@@ Ad@@ min@@ ()) && ((get@@ sp@@ ice@@ ().get@@ C@@ urrent@@ Version@@ ().@@ comp@@ are@@ To@@ (get@@ sp@@ ice@@ ().get@@ D@@ es@@ i@@ red@@ Version@@ ())) < 0@@ )) { get@@ Log@@ g@@ er@@ ().@@ Info@@ ((@@ ("@@ Sp@@ ic@@ e cli@@ ent ver@@ si@@ on is not a@@ s d@@ es@@ i@@ re@@ d (@@ " + (get@@ sp@@ ice@@ ().get@@ D@@ es@@ i@@ red@@ Version@@ ())) + "@@ )@@ ")); get@@ sp@@ ice@@ ().@@ In@@ st@@ all@@ (); return@@ ; } if ((get@@ Entity@@ ().get@@ Run@@ On@@ Vds@@ ()) == null@@ ) { return@@ ; } if ((!@@ (get@@ Entity@@ ().get@@ Vm@@ O@@ s().@@ is@@ W@@ in@@ do@@ w@@ s@@ ())) || ((get@@ Entity@@ ().get@@ Sp@@ ice@@ D@@ ri@@ ver@@ Version@@ ()) == null@@ )) { get@@ sp@@ ice@@ ().setIs@@ W@@ an@@ Option@@ s@@ Enabled@@ (@@ false@@ ); } org.ovirt.engine.ui.uicommonweb.UICommand set@@ Vm@@ T@@ ick@@ et@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ set@@ Vm@@ Command@@ ", new org.ovirt.engine.ui.uicommonweb.@@ Base@@ Command@@ T@@ arget@@ () { @java.lang.Override public void Execu@@ te@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand ui@@ Command@@ ) { set@@ Vm@@ T@@ ick@@ et@@ (); } }); execute@@ Command@@ With@@ Console@@ S@@ af@@ en@@ ess@@ W@@ arning@@ (@@ set@@ Vm@@ T@@ ick@@ et@@ Command@@ ); } }
private boolean check@@ Can@@ P@@ er@@ for@@ m@@ Re@@ g@@ ul@@ ar@@ Update@@ () { if ((@@ old@@ Disk@@ .get@@ Disk@@ Interface@@ ()) != (@@ new@@ Disk@@ .get@@ Disk@@ Interface@@ ())) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > all@@ Vm@@ Interface@@ s = org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.getVm@@ Network@@ Interface@@ Dao().get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.getVm@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > all@@ Vm@@ Disk@@ s = new java.util.@@ Link@@ ed@@ List<@@ org.ovirt.engine.core.common.businessentities.@@ Disk@@ >@@ (get@@ O@@ th@@ er@@ Vm@@ Disks@@ ()); all@@ Vm@@ Disk@@ s.@@ add@@ (@@ new@@ Disk@@ ); if (!(@@ check@@ P@@ c@@ i@@ And@@ I@@ de@@ L@@ im@@ it@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.getVm@@ ().get@@ Num@@ Of@@ Monitor@@ s@@ (), all@@ Vm@@ Interfaces@@ , all@@ Vm@@ Disk@@ s, org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ()))) { return false@@ ; } } if (@@ new@@ Disk@@ .is@@ Boot@@ ()) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Disks@@ For@@ Vm@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.getVm@@ (), get@@ O@@ th@@ er@@ Vm@@ Disks@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ Disk dis@@ k : org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ()) { if (disk@@ .is@@ Boot@@ ()) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ DIS@@ K_@@ B@@ O@@ O@@ T_@@ IN_@@ US@@ E); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Disk@@ Name %@@ 1@@ $@@ s", disk@@ .get@@ Disk@@ Alias@@ ())); return false@@ ; } } } org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ set@@ Disk@@ Alias@@ (@@ new@@ Disk@@ , org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.getVm@@ ()); return validate@@ Sh@@ are@@ able@@ Disk@@ (); }
@java.lang.Override public java.lang.String toString@@ () { return java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s, storage@@ Type@@ =@@ %@@ s", super@@ .@@ toString@@ (), get@@ Storage@@ Type@@ ()); }
public void set@@ Snapshot@@ Pre@@ view@@ Action@@ (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t.@@ Snapshot@@ Pre@@ view@@ Ac@@ tion snapshot@@ Pre@@ view@@ Action@@ ) { this@@ .@@ snapshot@@ Pre@@ view@@ Ac@@ tion = snapshot@@ Pre@@ view@@ Action@@ ; }
@java.lang.Override org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vds@@ m@@ Vm@@ > build@@ () { return create@@ H@@ A@@ Not@@ Run@@ ning@@ And@@ U@@ k@@ n@@ ow@@ n@@ (); }
org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Detail@@ Model@@ Provider@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ G@@ u@@ est@@ Info@@ Model@@ > get@@ Sub@@ Tab@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ G@@ u@@ est@@ Info@@ Model@@ Provider@@ ();
private org.ovirt.engine.core.common.businessentities.network.Network@@ Fil@@ te@@ r res@@ ol@@ ve@@ VnicProfile@@ Default@@ Network@@ Filter@@ () { final org.ovirt.engine.core.compat.@@ Version dataCenter@@ Version = res@@ ol@@ ve@@ DataCenter@@ Version@@ (); final java.lang.String network@@ Filter@@ Name = ((@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ an@@ ti@@ Mac@@ Sp@@ oo@@ f@@ ing@@ (@@ dataCenter@@ Version@@ )) && (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ En@@ able@@ M@@ AC@@ An@@ ti@@ Sp@@ oo@@ f@@ ing@@ Filter@@ R@@ ul@@ es@@ ))) ? org.ovirt.engine.core.common.businessentities.network.Network@@ Fil@@ t@@ er.@@ VDS@@ M@@ _@@ NO@@ _@@ M@@ AC@@ _S@@ P@@ O@@ F@@ IN@@ G : org.ovirt.engine.core.common.businessentities.network.Network@@ Fil@@ t@@ er.@@ N@@ ON_@@ C@@ ON@@ F@@ I@@ G@@ UR@@ AB@@ L@@ E_@@ NETWORK_@@ F@@ IL@@ TER@@ ; org.ovirt.engine.core.common.businessentities.network.Network@@ Fil@@ te@@ r network@@ Fil@@ te@@ r = network@@ Filter@@ Dao.get@@ Network@@ Filter@@ By@@ Name(@@ network@@ Filter@@ Name); return network@@ Filter@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ B@@ r@@ ic@@ k Direct@@ or@@ y shoul@@ d b@@ e a@@ t le@@ as@@ t 2 char@@ act@@ ers@@ ") java.lang.String in@@ valid@@ Brick@@ Direct@@ ory@@ A@@ t@@ le@@ ast@@ T@@ w@@ o@@ Ch@@ ar@@ act@@ ers@@ e@@ M@@ s@@ g@@ ();
public void initial@@ iz@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ System@@ T@@ ree@@ Item@@ Model System@@ T@@ ree@@ SelectedItem@@ ) { super@@ .@@ initial@@ ize@@ (); set@@ Hash@@ ((@@ (get@@ Hash@@ Name@@ ()) + (@@ new java.util.@@ D@@ ate@@ ()))); get@@ Mem@@ Size@@ ().set@@ Entity(@@ 2@@ 5@@ 6@@ ); get@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ ().set@@ Entity(@@ 2@@ 5@@ 6@@ ); get@@ Is@@ State@@ l@@ ess@@ ().set@@ Entity@@ (@@ false@@ ); get@@ Is@@ Run@@ And@@ Pa@@ us@@ e@@ ().set@@ Entity@@ (@@ false@@ ); get@@ Is@@ S@@ m@@ art@@ c@@ ard@@ Enabled@@ ().set@@ Entity@@ (@@ false@@ ); is@@ Console@@ Device@@ Enabled@@ .set@@ Entity@@ (@@ false@@ ); get@@ Is@@ H@@ ig@@ h@@ ly@@ Available@@ ().set@@ Entity@@ (@@ false@@ ); get@@ Is@@ Au@@ to@@ As@@ s@@ ign@@ ().set@@ Entity@@ (@@ true@@ ); get@@ Is@@ Template@@ P@@ ubl@@ ic@@ ().set@@ Entity@@ (@@ true@@ ); get@@ Is@@ Sing@@ le@@ Q@@ x@@ l@@ Enabled@@ ().set@@ Entity@@ (@@ false@@ ); s@@ el@@ ect@@ S@@ s@@ o@@ Method@@ (@@ S@@ s@@ o@@ Method@@ .@@ G@@ U@@ E@@ ST@@ _@@ AG@@ EN@@ T@@ ); get@@ Host@@ Cpu@@ ().set@@ Entity@@ (@@ false@@ ); get@@ Migration@@ M@@ ode@@ ().setIs@@ Chang@@ able@@ (@@ true@@ ); get@@ C@@ d@@ Image@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); init@@ Display@@ Protocol@@ (); init@@ F@@ ir@@ st@@ Boot@@ Device@@ (); init@@ Num@@ Of@@ Monitor@@ s(); init@@ Allow@@ Console@@ Rec@@ on@@ n@@ ect@@ (); init@@ M@@ in@@ im@@ al@@ Vm@@ Mem@@ Size@@ (); init@@ Max@@ im@@ al@@ Vm@@ Mem@@ Size@@ 3@@ 2@@ O@@ S@@ (); init@@ Migration@@ M@@ ode@@ (); init@@ V@@ n@@ c@@ Key@@ board@@ L@@ ay@@ out@@ (); b@@ e@@ ha@@ vi@@ or.@@ initial@@ iz@@ e(@@ System@@ T@@ ree@@ SelectedItem@@ ); }
@org.junit.Test public void test@@ Remove@@ Non@@ Exist@@ an@@ t@@ () throw@@ s java.lang.Exception { setUp@@ Entity@@ Query@@ Expectations(@@ VdcQuery@@ Type.Get@@ Networks@@ By@@ StoragePool@@ Id, org.ovirt.engine.core.common.queries.@@ StoragePool@@ Query@@ Parameters@@ Base@@ .@@ class@@ , new java.lang.String@@ []{ "@@ StoragePool@@ Id@@ " }, new java.lang.Object@@ []{ org.ovirt.engine.api.restapi.resource.@@ Backend@@ DataCenter@@ Networks@@ Resource@@ Test.@@ D@@ AT@@ A@@ _C@@ EN@@ T@@ ER_@@ I@@ D }, new java.util.@@ Link@@ ed@@ List<@@ org.ovirt.engine.core.common.businessentities.network.Network@@ >@@ (), null@@ ); cont@@ ro@@ l.@@ re@@ play@@ (); try { c@@ oll@@ ection@@ .@@ remove@@ (@@ org.ovirt.engine.api.restapi.resource.@@ N@@ ON_@@ EXIST@@ AN@@ T_@@ G@@ UID@@ .@@ toString()); fail@@ ("@@ exp@@ ected W@@ eb@@ Ap@@ plication@@ Exception@@ "); } catch (@@ javax.ws.rs.@@ W@@ eb@@ Ap@@ plication@@ Exception w@@ a@@ e) { assert@@ Not@@ Null@@ (@@ w@@ a@@ e.get@@ Respon@@ se@@ ()); assert@@ Equals@@ (@@ 4@@ 0@@ 4@@ , w@@ a@@ e.get@@ Respon@@ se@@ ().get@@ Status@@ ()); } }
private static org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ re@@ e build@@ Node@@ (java.lang.@@ Class@@ <?@@ > res@@ ource@@ , java.lang.String p@@ ath@@ ) { return new org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ re@@ e.@@ Builder@@ ().@@ name@@ (@@ res@@ ourc@@ e.get@@ S@@ im@@ ple@@ Name@@ ()).@@ p@@ ath@@ (p@@ ath@@ ).@@ sub@@ Collection@@ s(@@ org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ re@@ e.get@@ Sub@@ Ser@@ vic@@ es(@@ res@@ ource@@ )).@@ action@@ s(@@ org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ re@@ e.get@@ Action@@ s(@@ res@@ ource@@ )).@@ build@@ (); }
public void edit@@ () { final T q@@ o@@ s = ((@@ T@@ ) (@@ org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ q@@ o@@ s.@@ DataCenter@@ Qos@@ List@@ Model.get@@ SelectedItem@@ ())); if ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ q@@ o@@ s.@@ DataCenter@@ Qos@@ List@@ Model.get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } final org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ q@@ o@@ s.@@ Qos@@ Model@@ <@@ T@@ , P@@ > q@@ os@@ Model = get@@ Edit@@ Qos@@ Model@@ (@@ q@@ os@@ ); set@@ W@@ in@@ do@@ w@@ (@@ q@@ os@@ Model@@ ); q@@ os@@ Model.get@@ Data@@ C@@ ent@@ ers@@ ().set@@ Items(@@ java.util.Arrays.as@@ List@@ (get@@ Entity@@ ())); q@@ os@@ Model.get@@ Data@@ C@@ ent@@ ers@@ ().set@@ SelectedItem@@ (get@@ Entity@@ ()); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { super@@ .set@@ Action@@ Message@@ Parameters@@ (); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ DE@@ ST@@ RO@@ Y_@@ DOMA@@ IN@@ ); }
private void gener@@ ate@@ Enum@@ W@@ r@@ iter@@ (@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Enum@@ Type typ@@ e) { java@@ Bu@@ ff@@ er = new org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ to@@ ol.@@ J@@ ava@@ Class@@ Bu@@ f@@ fer@@ (); org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ to@@ ol.@@ J@@ ava@@ Class@@ Name wr@@ iter@@ Name = java@@ Typ@@ es@@ .get@@ X@@ ml@@ W@@ r@@ iter@@ Name(@@ type@@ ); java@@ Bu@@ ffer.@@ set@@ Class@@ Name(@@ wr@@ iter@@ Name); gener@@ ate@@ Enum@@ W@@ r@@ iter@@ Source@@ (@@ type@@ ); try { java@@ Bu@@ ffer.@@ w@@ rite@@ (@@ out@@ D@@ ir@@ ); } catch (@@ java.io.@@ I@@ O@@ Exception ex@@ ce@@ ption@@ ) { throw new java.lang.@@ Run@@ time@@ Exception@@ ((@@ ("@@ Can@@ \@@ '@@ t wr@@ it@@ e fil@@ e for X@@ M@@ L w@@ rite@@ r \"@@ " + wr@@ iter@@ Name@@ ) + "@@ \"@@ "@@ ), ex@@ ce@@ ption@@ ); } }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ VDS get@@ (org.ovirt.engine.core.compat.Guid id@@ , org.ovirt.engine.core.compat.Guid user@@ ID@@ , boolean is@@ Filter@@ ed@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > vds@@ List = get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Vds@@ By@@ Vds@@ Id@@ ", org.ovirt.engine.core.dao.@@ Vds@@ Dao@@ Impl.@@ Vds@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ vds@@ _id", id@@ ).@@ addValue("@@ user@@ _id", user@@ ID@@ ).@@ addValue("@@ is@@ _@@ filter@@ ed@@ ", is@@ Filter@@ ed@@ )); return (vds@@ List.@@ size()) == 0 ? null : un@@ i@@ te@@ Agent@@ s@@ Sing@@ le@@ Vds@@ (vds@@ List@@ ); }
private void update@@ Af@@ finity@@ Label@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > selected@@ Label@@ s = org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Af@@ finity@@ Label@@ s(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > pre@@ vi@@ o@@ us@@ ly@@ Selected@@ Label@@ s = label@@ Dao.get@@ All@@ By@@ Entity@@ Id@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (get@@ Vm@@ Id@@ ())); java.util.@@ Set@@ <org.ovirt.engine.core.common.businessentities.@@ Label@@ > label@@ sTo@@ Ad@@ d = new java.util.Hash@@ Set@@ (s@@ elected@@ Label@@ s); label@@ sTo@@ Add@@ .@@ remove@@ All@@ (@@ pre@@ vi@@ o@@ us@@ ly@@ Selected@@ Label@@ s); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ ab@@ e@@ l : label@@ sTo@@ Add@@ ) { l@@ ab@@ el.@@ add@@ Vm@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ()); label@@ Dao@@ .@@ update@@ (@@ label@@ ); } java.util.@@ Set@@ <org.ovirt.engine.core.common.businessentities.@@ Label@@ > label@@ sTo@@ Rem@@ ov@@ e = new java.util.Hash@@ Set@@ (@@ pre@@ vi@@ o@@ us@@ ly@@ Selected@@ Label@@ s); label@@ sTo@@ Rem@@ ov@@ e.@@ remove@@ All@@ (s@@ elected@@ Label@@ s); label@@ Dao@@ .@@ update@@ (@@ label@@ sTo@@ Remove@@ ); }
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (@@ target@@ )); org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate = ((@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ ) (@@ return@@ Value@@ )); set@@ up@@ R@@ oot@@ Template@@ (@@ templat@@ e.get@@ Base@@ Template@@ Id()); model.get@@ Template@@ ().set@@ Items(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ template@@ )); model.get@@ Template@@ ().set@@ SelectedItem@@ (@@ template@@ ); model.get@@ Template@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); p@@ ost@@ Init@@ Template@@ (); }
private org.ovirt.engine.core.common.vdscommands.@@ VDS@@ Fence@@ ReturnValue f@@ ence@@ (org.ovirt.engine.core.common.businessentities.@@ Fence@@ Ag@@ ent f@@ ence@@ Agent@@ , int ret@@ ri@@ es@@ ) { org.ovirt.engine.core.bll.@@ Fence@@ Execu@@ to@@ r f@@ ence@@ Execu@@ to@@ r = create@@ Fence@@ Execu@@ t@@ or@@ (); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ Fence@@ ReturnValue f@@ ence@@ Execution@@ Result = f@@ ence@@ Execu@@ t@@ or.@@ f@@ ence@@ (get@@ Action@@ (), f@@ ence@@ Agent@@ ); if (@@ w@@ as@@ S@@ k@@ ip@@ p@@ ed@@ D@@ ue@@ To@@ Status(@@ f@@ ence@@ Execution@@ Result@@ )) { log.info@@ ("@@ A@@ t@@ tem@@ p to {@@ } VDS usin@@ g f@@ enc@@ e ag@@ ent@@ {@@ } s@@ k@@ ip@@ p@@ ed@@ : Hos@@ t is al@@ read@@ y a@@ t the re@@ ques@@ te@@ d stat@@ e.@@ ", get@@ Action@@ ().@@ name@@ ().@@ to@@ L@@ ow@@ er@@ C@@ ase@@ (), f@@ ence@@ Ag@@ ent.get@@ Id()); } else if (@@ w@@ as@@ S@@ k@@ ip@@ p@@ ed@@ D@@ ue@@ To@@ Policy@@ (@@ f@@ ence@@ Execution@@ Result@@ )) { return f@@ ence@@ Execution@@ Result@@ ; } else { if (@@ f@@ ence@@ Execution@@ Res@@ ult.get@@ Succeeded@@ ()) { boolean re@@ qui@@ red@@ Status@@ Ac@@ h@@ i@@ e@@ ve@@ d = w@@ a@@ it@@ For@@ Status@@ (); int i = 0@@ ; while ((!@@ re@@ qui@@ red@@ Status@@ Ac@@ h@@ i@@ ev@@ ed@@ ) && (@@ i < ret@@ ri@@ es@@ )) { f@@ ence@@ Execution@@ Result = f@@ ence@@ Execu@@ t@@ or.@@ f@@ ence@@ (get@@ Action@@ (), f@@ ence@@ Agent@@ ); re@@ qui@@ red@@ Status@@ Ac@@ h@@ i@@ e@@ ve@@ d = w@@ a@@ it@@ For@@ Status@@ (); i@@ +@@ +@@ ; } if (@@ re@@ qui@@ red@@ Status@@ Ac@@ h@@ i@@ ev@@ ed@@ ) { h@@ andle@@ Sp@@ e@@ c@@ if@@ ic@@ Command@@ Action@@ s(); } else { audit@@ Fail@@ ure@@ (); } f@@ ence@@ Execution@@ Res@@ ult.@@ set@@ Succeeded@@ (@@ re@@ qui@@ red@@ Status@@ Ac@@ h@@ i@@ ev@@ ed@@ ); } else { log@@ Agent@@ Fail@@ ure(@@ f@@ ence@@ Execution@@ Result@@ ); } } return f@@ ence@@ Execution@@ Result@@ ; }
@java.lang.Override public void on@@ Fail@@ ure@@ (@@ final org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Vdc@@ Operation@@ <@@ org.ovirt.engine.core.common.action.VdcAction@@ Type, org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > o@@ per@@ ation@@ , final java.lang.@@ Th@@ row@@ able c@@ au@@ g@@ ht@@ ) { if (@@ ign@@ ore@@ Fail@@ ure(@@ c@@ au@@ g@@ ht@@ )) { return@@ ; } org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ log@@ g@@ er.@@ log@@ (java.util.@@ log@@ gin@@ g.@@ Le@@ ve@@ l.@@ S@@ E@@ V@@ ER@@ E, ("@@ Fail@@ ed to execu@@ te run@@ Action@@ : " + c@@ au@@ g@@ ht@@ ), c@@ au@@ g@@ ht@@ ); fail@@ ure@@ Event@@ Handler@@ (c@@ au@@ g@@ ht@@ ); org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result f = new org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result@@ (@@ action@@ Type, parameters@@ , null@@ , st@@ ate@@ ); if (c@@ all@@ back != null@@ ) { call@@ back@@ .@@ execu@@ ted@@ (@@ f@@ ); } fi@@ re@@ Async@@ Operation@@ Comp@@ let@@ e@@ Event@@ (@@ st@@ ate@@ ); }
@@@ c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ t@@ ab@@ .@@ p@@ oo@@ l.@@ Pool@@ Sub@@ Tab@@ Panel@@ Pres@@ enter@@ .@@ class@@ ) static c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ () { return new org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ t@@ ab@@ .@@ p@@ oo@@ l.@@ Sub@@ Tab@@ Pool@@ Permission@@ Pres@@ enter@@ .@@ const@@ an@@ t@@ s.@@ pool@@ Permission@@ Sub@@ Tab@@ Label@@ (), 2@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ ACTION_@@ _@@ AT@@ T@@ AC@@ H@@ _@@ ACTION_@@ TO@@ ); addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ TYPE_@@ _@@ STORAGE_@@ _C@@ ON@@ N@@ EC@@ TI@@ ON@@ ); }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = 1@@ ; result = (@@ pri@@ m@@ e * result) + ((@@ id@@ .@@ t@@ ag@@ Id) == null ? 0 : id@@ .@@ template@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ .@@ template@@ Id) == null ? 0 : id@@ .@@ template@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ .@@ template@@ Id) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ .@@ template@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@
private void update@@ F@@ un@@ c@@ tion@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ scheduling.@@ New@@ Cluster@@ Policy@@ Model model@@ ) { org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ F@@ un@@ c@@ tion@@ Policy@@ Unit@@ Pan@@ e@@ l f@@ un@@ c@@ tion@@ Policy@@ Unit@@ Panel@@ ; us@@ ed@@ F@@ un@@ c@@ tion@@ Pan@@ el.@@ cl@@ e@@ ar@@ (); for (org.ovirt.engine.core.common.@@ utils.@@ Pair@@ <@@ org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ , java.lang.Integer@@ > p@@ a@@ i@@ r : model.get@@ Us@@ ed@@ F@@ un@@ c@@ tion@@ s()) { f@@ un@@ c@@ tion@@ Policy@@ Unit@@ Pan@@ e@@ l = new org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ F@@ un@@ c@@ tion@@ Policy@@ Unit@@ Panel@@ (p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ (), model, true@@ , false@@ , p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ()); us@@ ed@@ F@@ un@@ c@@ tion@@ Pan@@ el.@@ add(@@ f@@ un@@ c@@ tion@@ Policy@@ Unit@@ Panel@@ ); f@@ un@@ c@@ tion@@ Policy@@ Unit@@ Pan@@ el.@@ init@@ Widget@@ (); } un@@ us@@ ed@@ F@@ un@@ c@@ tion@@ Pan@@ el.@@ cl@@ e@@ ar@@ (); for (org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t p@@ olicy@@ Un@@ i@@ t : model.get@@ Un@@ us@@ ed@@ F@@ un@@ c@@ tion@@ s()) { f@@ un@@ c@@ tion@@ Policy@@ Unit@@ Pan@@ e@@ l = new org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ F@@ un@@ c@@ tion@@ Policy@@ Unit@@ Panel@@ (p@@ olicy@@ Unit@@ , false@@ , false@@ , false@@ , null@@ ); un@@ us@@ ed@@ F@@ un@@ c@@ tion@@ Pan@@ el.@@ add(@@ f@@ un@@ c@@ tion@@ Policy@@ Unit@@ Panel@@ ); f@@ un@@ c@@ tion@@ Policy@@ Unit@@ Pan@@ el.@@ init@@ Widget@@ (); } } }
private void update@@ P@@ ass@@ Dis@@ c@@ ard@@ Avail@@ ab@@ ility@@ () { if (get@@ Is@@ F@@ lo@@ at@@ ing@@ ()) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Available@@ (@@ false@@ ); } else { org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Interface selected@@ Interface = get@@ Disk@@ Interface@@ ().getSelectedItem@@ (); org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Storage@@ Type selected@@ Disk@@ Storage@@ Type = get@@ Disk@@ Storage@@ Type@@ ().getEntity@@ (); boolean is@@ Ap@@ pl@@ ic@@ able@@ Interface = (s@@ elected@@ Interface == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _S@@ C@@ SI@@ )) || (s@@ elected@@ Interface == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Interfac@@ e.@@ ID@@ E@@ )); boolean is@@ Ap@@ pl@@ ic@@ able@@ Disk@@ Storage@@ Type = (s@@ elected@@ Disk@@ Storage@@ Type == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ LUN@@ )) || (s@@ elected@@ Disk@@ Storage@@ Type == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )); boolean is@@ Ap@@ pl@@ ical@@ b@@ e@@ Storage@@ Type = (s@@ elected@@ Disk@@ Storage@@ Type != (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) || ((@@ (get@@ StorageDomain@@ ().getSelectedItem@@ ()) != null@@ ) && (get@@ StorageDomain@@ ().getSelectedItem@@ ().get@@ Storage@@ Type@@ ().is@@ B@@ lock@@ Domain@@ ())); if ((@@ is@@ Ap@@ pl@@ ic@@ able@@ Interface && is@@ Ap@@ pl@@ ic@@ able@@ Disk@@ Storage@@ Type@@ ) && is@@ Ap@@ pl@@ ical@@ b@@ e@@ Storage@@ Type@@ ) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Available@@ (@@ true@@ ); if (!@@ (get@@ Is@@ New@@ ())) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().set@@ Entity@@ (get@@ Disk@@ Vm@@ Element@@ ().is@@ P@@ ass@@ Dis@@ c@@ ard@@ ()); } else { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Available@@ (@@ false@@ ); get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().set@@ Entity@@ (@@ false@@ ); } } }
@org.junit.Test public void read@@ Only@@ Is@@ Not@@ Supported@@ By@@ Disk@@ Interface@@ () { disk@@ .set@@ Read@@ Only@@ (@@ true@@ ); disk@@ .set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ ID@@ E); assert@@ That@@ (@@ validator.@@ is@@ Disk@@ Interface@@ Sup@@ port@@ Read@@ Only@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ ID@@ E_@@ IN@@ TER@@ F@@ AC@@ E_@@ DO@@ E@@ S_NOT_@@ SUP@@ POR@@ T_@@ RE@@ AD@@ _@@ ON@@ L@@ Y_@@ AT@@ T@@ R@@ )); }
@@@ javax.@@ valid@@ ation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull private java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > run@@ External@@ Fil@@ t@@ ers@@ (@@ @@@ javax.@@ valid@@ ation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull java.util.ArrayList<@@ org.ovirt.engine.core.bll.@@ scheduling.@@ Policy@@ Unit@@ Im@@ pl@@ > fil@@ t@@ ers@@ , @@@ javax.@@ valid@@ ation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ List@@ , @@@ javax.@@ valid@@ ation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull org.ovirt.engine.core.common.businessentities.VM vm@@ , @@@ javax.@@ valid@@ ation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull java.util.Map<java.lang.String, java.lang.String> parameters@@ , @@@ javax.@@ valid@@ ation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull java.util.List<java.lang.String> mess@@ ages@@ , @@@ javax.@@ valid@@ ation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull java.lang.String cor@@ re@@ l@@ ation@@ Id, @@@ javax.@@ valid@@ ation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull org.ovirt.engine.core.bll.@@ scheduling.@@ Schedul@@ ing@@ Manager.@@ Schedul@@ ing@@ Result result) { java.util.List<@@ org.ovirt.engine.core.compat.Guid> host@@ ID@@ s = host@@ List.@@ stream@@ ().@@ map@@ (@@ VDS@@ :@@ :@@ :@@ get@@ Id@@ ).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); for (@@ final org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Brok@@ er brok@@ er : ex@@ ternal@@ Brok@@ ers@@ ) { java.util.List<java.lang.String> filter@@ Name@@ s = filter@@ s.@@ stream@@ ().@@ filter@@ (@@ ( f@@ ) -@@ > f@@ .get@@ Policy@@ Unit@@ ().get@@ Broker@@ ().@@ equals(@@ brok@@ er@@ .getId@@ ())@@ )@@ .m@@ ap@@ (@@ ( f@@ ) -@@ > f@@ .get@@ Policy@@ Unit@@ ().get@@ Name@@ ()).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); java.util.List<@@ org.ovirt.engine.core.compat.Guid> filter@@ ed@@ ID@@ s = broker.@@ run@@ Fil@@ t@@ ers@@ (@@ filter@@ Names@@ , host@@ ID@@ s, vm.get@@ Id(), parameters@@ ); log@@ Filter@@ Action@@ s(@@ host@@ List@@ , new java.util.Hash@@ Set@@ (@@ filter@@ ed@@ ID@@ s@@ ), EngineMessage.@@ VAR__@@ F@@ IL@@ TER@@ TYPE_@@ _@@ EX@@ TER@@ N@@ AL@@ , java.util.Arrays.@@ toString@@ (@@ filter@@ Nam@@ es.@@ to@@ Array@@ ()), result@@ , cor@@ re@@ l@@ ation@@ Id); host@@ List = int@@ ers@@ ect@@ Host@@ s(@@ host@@ List@@ , filter@@ ed@@ ID@@ s); } return host@@ List@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Cont@@ ent m@@ us@@ t b@@ e Base@@ 6@@ 4@@ ") java.lang.String c@@ lo@@ u@@ d@@ Init@@ Base@@ 6@@ 4@@ Message@@ ();
public void add@@ Job@@ (org.ovirt.engine.core.common.businessentities.Vm@@ J@@ o@@ b vm@@ Job@@ ) { vm@@ Job@@ Dao@@ .@@ save@@ (vm@@ Job@@ ); vm@@ Job@@ s.@@ add@@ (vm@@ Job@@ ); org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vm@@ Job@@ s@@ Monitor@@ ing.@@ log.info@@ ("@@ Stor@@ ed pl@@ ace@@ h@@ ol@@ der for j@@ o@@ b '{}@@ '@@ ", vm@@ Job@@ .getId()); }
private int get@@ Active@@ Host@@ s@@ Stat@@ () { java.lang.String@@ [@@ ] ac@@ tive@@ Vds@@ Status@@ es = new java.lang.String@@ []{ java.lang.String.@@ value@@ Of@@ (@@ VDS@@ Status.@@ Up@@ .get@@ Value@@ ()), java.lang.String.@@ value@@ Of@@ (@@ VDS@@ Status.@@ Pre@@ par@@ ing@@ For@@ M@@ a@@ int@@ en@@ an@@ c@@ e.get@@ Value@@ ()) }; return org.ovirt.engine.core.bll.@@ Get@@ System@@ Statistic@@ s@@ Query.get@@ DbFacade@@ ().get@@ System@@ Statistic@@ s@@ Value(@@ Query@@ Constants.@@ S@@ Y@@ ST@@ EM@@ _@@ ST@@ AT@@ S_@@ HOST@@ _@@ EN@@ TI@@ TY@@ , org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ ac@@ tive@@ Vds@@ Status@@ es@@ , org.ovirt.engine.core.bll.@@ Get@@ System@@ Statistic@@ s@@ Query@@ .@@ C@@ O@@ M@@ MA@@ _@@ DE@@ L@@ IM@@ I@@ TER@@ )); }
@java.lang.Override public void On@@ Success@@ (java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Export@@ Vm@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Export@@ Vm@@ Model) (@@ target@@ )); @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") final java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > disk@@ List = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Disk@@ >) (@@ return@@ Value@@ )); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > n@@ on@@ Export@@ able@@ Disk@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Disk@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Disk dis@@ k : disk@@ List@@ ) { if (!(@@ disk@@ .is@@ Allow@@ Snapshot@@ ())) { n@@ on@@ Export@@ able@@ Disk@@ s.add(@@ disk@@ ); } } if (!(@@ n@@ on@@ Export@@ able@@ Disk@@ s.@@ isEmpty@@ ())) { final java.lang.String@@ Buil@@ der s = new java.lang.String@@ Builder@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Disk dis@@ k : n@@ on@@ Export@@ able@@ Disk@@ s) { if ((@@ s.@@ l@@ ength@@ ()) > 0) { s.@@ append("@@ , "); } s.@@ append@@ (disk@@ .get@@ Disk@@ Alias@@ ()); } model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ disk@@ s@@ W@@ il@@ l@@ Not@@ Be@@ P@@ art@@ Of@@ Th@@ e@@ Ex@@ ported@@ VM@@ (@@ s.@@ toString@@ ())); } }
@java.lang.Override protected org.ovirt.engine.ui.common.@@ w@@ idget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ W@@ id@@ ge@@ t create@@ Widget@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model value@@ ) { org.ovirt.engine.ui.common.@@ w@@ idget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ W@@ id@@ ge@@ t key@@ Lin@@ e@@ W@@ id@@ ge@@ t = new org.ovirt.engine.ui.common.@@ w@@ idget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ Widget@@ (); key@@ Lin@@ e@@ W@@ idget.@@ edit@@ (@@ value@@ ); key@@ Lin@@ e@@ Widget@@ .set@@ U@@ se@@ P@@ at@@ ter@@ n@@ F@@ ly@@ (@@ us@@ e@@ P@@ at@@ ter@@ n@@ F@@ ly@@ ); w@@ idget@@ s.add(@@ key@@ Lin@@ e@@ Widget@@ ); return key@@ Lin@@ e@@ Widget@@ ; }
private org.ovirt.engine.core.common.businessentities.@@ Volume@@ Type get@@ Memory@@ Volume@@ Type@@ () { return org.ovirt.engine.core.bll.@@ H@@ i@@ ber@@ n@@ ate@@ Vm@@ Command.get@@ Memory@@ Volume@@ Type@@ For@@ Pool@@ (org.ovirt.engine.core.bll.@@ H@@ i@@ ber@@ n@@ ate@@ Vm@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ Type@@ ()); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > filter@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Per@@ Host@@ Message@@ s mess@@ ages@@ ) { if ((@@ vm.get@@ Run@@ On@@ Vds@@ ()) != null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ sTo@@ Run@@ O@@ n = new java.util.ArrayList<>(); org.ovirt.engine.core.common.businessentities.@@ VDS s@@ r@@ c@@ V@@ d@@ s = get@@ Vds@@ Dao().get@@ (vm.get@@ Run@@ On@@ Vds@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { if (@@ hos@@ t.get@@ Id().@@ equals@@ (vm.get@@ Run@@ On@@ Vds@@ ())) { org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Migration@@ Policy@@ Un@@ it.@@ log.debug@@ ("@@ V@@ m '{}@@ ' al@@ read@@ y run@@ s on hos@@ t '{}@@ '@@ , filter@@ ing host@@ ", vm.get@@ Name(), hos@@ t.get@@ Name()); mess@@ ages.@@ add@@ Message@@ (@@ hos@@ t.get@@ Id(), EngineMessage.@@ VAR__@@ D@@ ET@@ A@@ IL@@ __@@ S@@ A@@ M@@ E_@@ HOST@@ .@@ toString()); continue@@ ; } if (!(@@ validate@@ Dest@@ ination@@ Vds@@ Address@@ (s@@ r@@ c@@ Vds@@ , host@@ ))) { org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Migration@@ Policy@@ Un@@ it.@@ log.debug@@ ("@@ Hos@@ t '{}@@ ' res@@ ol@@ ve@@ s to the s@@ am@@ e m@@ ach@@ in@@ e a@@ s hos@@ t '{}@@ '@@ , filter@@ ing out@@ ", s@@ r@@ c@@ Vds@@ .get@@ Name(), hos@@ t.get@@ Name()); mess@@ ages.@@ add@@ Message@@ (@@ hos@@ t.get@@ Id(), EngineMessage.@@ VAR__@@ D@@ ET@@ A@@ IL@@ __@@ S@@ A@@ M@@ E_@@ HOST@@ .@@ toString()); continue@@ ; } host@@ sTo@@ Run@@ On@@ .@@ add(@@ host@@ ); return host@@ sTo@@ Run@@ On@@ ; } return host@@ s@@ ; } return host@@ s@@ ; }
public java.lang.@@ B@@ oolean get@@ Sup@@ port@@ s@@ Dis@@ c@@ ard@@ () { return sup@@ port@@ s@@ Dis@@ c@@ ard@@ ; }
public void update@@ Conver@@ t@@ Operation@@ (java.lang.String d@@ escription@@ , int pro@@ gress@@ ) { if (@@ pro@@ g@@ res@@ s == (@@ -@@ 1@@ )) { con@@ ver@@ t@@ Proxy@@ Host@@ Id = null@@ ; } }
public org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ Mac@@ Pool create@@ D@@ ec@@ or@@ ated@@ Pool@@ (org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ Mac@@ Pool m@@ ac@@ Pool@@ , java.util.List<@@ org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ MacPool@@ D@@ ec@@ or@@ ator@@ > de@@ cor@@ ator@@ s) { org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ Mac@@ Pool de@@ cor@@ ated@@ Pool = de@@ cor@@ ate@@ Pool@@ (m@@ ac@@ Pool@@ , de@@ cor@@ ator@@ s); return lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ .@@ create@@ Lock@@ ing@@ Instance@@ (@@ de@@ cor@@ ated@@ Pool@@ , org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ MacPool@@ .@@ class@@ , lock@@ For@@ MacPool@@ (m@@ ac@@ Pool@@ .getId@@ ())); }
void init@@ T@@ able@@ Action@@ Button@@ s() { get@@ T@@ able@@ ().add@@ Action@@ Button@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ action.@@ W@@ eb@@ Ad@@ min@@ Button@@ De@@ fin@@ ition@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ >@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ Disk@@ View@@ .@@ const@@ an@@ t@@ s.@@ remove@@ Disk@@ ()) { @java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return get@@ Detail@@ Model().get@@ Remove@@ Command@@ (); } }); get@@ T@@ able@@ ().add@@ Action@@ Button@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ action.@@ W@@ eb@@ Ad@@ min@@ Button@@ De@@ fin@@ ition@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ >@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ Disk@@ View@@ .@@ const@@ an@@ t@@ s.@@ up@@ load@@ Image@@ ()) { @java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return get@@ Detail@@ Model().get@@ U@@ plo@@ ad@@ Command@@ (); } }); }
@org.junit.Test public void canDoAction@@ Fail@@ s@@ M@@ is@@ sing@@ Iso@@ File@@ () { mock@@ Vds@@ With@@ Os@@ Version@@ (org.ovirt.engine.core.bll.@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ Test.@@ VALID@@ _@@ OV@@ I@@ R@@ T_@@ V@@ ER@@ SI@@ ON@@ ); org.ovirt.engine.core.common.action.@@ In@@ st@@ all@@ Vds@@ Parameters par@@ a@@ m = org.ovirt.engine.core.bll.@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ Test.@@ create@@ Parameters@@ (); param@@ .set@@ o@@ Vir@@ t@@ Iso@@ Fil@@ e(@@ org.ovirt.engine.core.bll.@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ Test.@@ IN@@ VALID@@ _@@ V@@ ER@@ SI@@ ON_@@ OV@@ I@@ R@@ T_@@ IS@@ O@@ _@@ F@@ IL@@ EN@@ A@@ M@@ E); org.ovirt.engine.core.bll.@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ In@@ st@@ all@@ Vds@@ Parameters@@ > c@@ ommand = create@@ Command(@@ param@@ ); org.ovirt.engine.core.bll.@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ Test@@ .@@ assert@@ Fail@@ sWith@@ CanDoActionMessage@@ (command@@ , VdcBllMessages.@@ VDS@@ _C@@ ANNOT_@@ IN@@ ST@@ AL@@ L@@ _@@ M@@ IS@@ S@@ ING@@ _@@ IM@@ AGE_@@ F@@ IL@@ E); }
private void add@@ Vm@@ Cluster@@ (@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > c@@ lust@@ ers@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Cluster@@ By@@ Id@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ new java.lang.Object@@ []{ get@@ Model@@ (), cluster@@ s }, new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { java.lang.Object@@ [@@ ] ar@@ r@@ a@@ y = ((@@ java.lang.Object@@ []@@ ) (@@ target@@ )); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (@@ ar@@ r@@ ay@@ [@@ 0@@ ]@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > cluster@@ List = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >) (@@ ar@@ r@@ ay@@ [@@ 1@@ ]@@ )); org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster = ((org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ ) (@@ return@@ Value@@ )); if (c@@ luster != null@@ ) { cluster@@ List.@@ add@@ (cluster@@ ); } java.util.Collections.@@ s@@ ort@@ (cluster@@ List@@ , new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ VdsGroup@@ By@@ Name@@ Comp@@ ar@@ er@@ ()); model.set@@ C@@ lust@@ ers@@ (@@ model, cluster@@ List@@ , vm.get@@ VdsGroup@@ Id()); } }, getModel().get@@ Hash@@ ()), vm.get@@ VdsGroup@@ Id()); }
public java.lang.String get@@ Provider@@ () { return (@@ provider@@ ) != null ? provi@@ der : "@@ "; }
@java.lang.Override public void build@@ (@@ S source@@ , D d@@ est@@ ination@@ , org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ Builder@@ List<@@ S@@ , D@@ > res@@ t@@ ) { parent@@ s@@ Res@@ t.@@ h@@ ead@@ ().@@ build@@ (@@ d@@ est@@ ination@@ , d@@ est@@ ination@@ , parent@@ s@@ Res@@ t.@@ t@@ ail@@ ()); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value@@ Base@@ ; final org.ovirt.engine.core.compat.Guid vds@@ Id = org.ovirt.engine.core.bll.@@ Res@@ t@@ art@@ Vds@@ Command.get@@ Vds@@ Id@@ (); final java.lang.String s@@ ession@@ Id = org.ovirt.engine.core.bll.@@ Res@@ t@@ art@@ Vds@@ Command.getParameters().get@@ Session@@ Id@@ (); return@@ Value@@ Base = execute@@ Vds@@ Fence@@ Action@@ (vds@@ Id, s@@ ession@@ Id, Fence@@ ActionType.@@ St@@ op@@ , Vdc@@ ActionType.@@ St@@ op@@ Vds@@ ); if (@@ return@@ Value@@ Base.get@@ Succeeded@@ ()) { execute@@ Fence@@ Vds@@ Man@@ u@@ all@@ y@@ Action@@ (vds@@ Id, s@@ ession@@ Id); return@@ Value@@ Base = execute@@ Vds@@ Fence@@ Action@@ (vds@@ Id, s@@ ession@@ Id, Fence@@ ActionType.@@ Start@@ , Vdc@@ ActionType.@@ Start@@ Vds@@ ); set@@ Succeeded@@ (@@ return@@ Value@@ Base.get@@ Succeeded@@ ()); set@@ Fence@@ Succeeded@@ (org.ovirt.engine.core.bll.@@ Res@@ t@@ art@@ Vds@@ Command.get@@ Succeeded@@ ()); org.ovirt.engine.core.bll.@@ Res@@ t@@ art@@ Vds@@ Command.set@@ Action@@ ReturnValue@@ (@@ null@@ ); } else { set@@ Action@@ ReturnValue@@ (VdcActionType.@@ St@@ op@@ Vds@@ ); org.ovirt.engine.core.bll.@@ Res@@ t@@ art@@ Vds@@ Command.set@@ Succeeded@@ (@@ false@@ ); } if (!@@ (org.ovirt.engine.core.bll.@@ Res@@ t@@ art@@ Vds@@ Command.get@@ Succeeded@@ ())) { log.@@ w@@ ar@@ n@@ Format@@ ("@@ Res@@ t@@ ar@@ t hos@@ t ac@@ tion fail@@ ed@@ , up@@ dat@@ ing hos@@ t {0@@ } to {@@ 1@@ }@@ ", vds@@ Id, VDS@@ Status.@@ Non@@ Respon@@ si@@ v@@ e.@@ name@@ ()); run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Set@@ Vds@@ Status@@ , new org.ovirt.engine.core.common.vdscommands.@@ Set@@ Vds@@ Status@@ VDSCommand@@ Parameters(@@ vds@@ Id, org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Non@@ Respon@@ si@@ ve@@ )); } }
public static void get@@ Num@@ Of@@ Monitor@@ List(@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { java.util.ArrayList<@@ java.lang.Integer@@ > num@@ s = new java.util.ArrayList<@@ java.lang.Integer@@ >(); if (s@@ ource != null@@ ) { java.lang.@@ I@@ ter@@ able num@@ Enum@@ er@@ able = ((@@ java.lang.@@ I@@ ter@@ able@@ ) (s@@ ource@@ )); java.util.@@ I@@ ter@@ ator num@@ I@@ ter@@ ator = num@@ Enum@@ er@@ abl@@ e.@@ iter@@ ator@@ (); while (@@ num@@ I@@ ter@@ ator.@@ has@@ N@@ ext@@ ()) { num@@ s.add(@@ java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (@@ num@@ I@@ ter@@ ator.@@ ne@@ xt@@ ().@@ toString@@ ())); } } return num@@ s@@ ; } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ From@@ C@@ ach@@ e@@ (@@ new org.ovirt.engine.core.common.queries.@@ Get@@ Configuration@@ Value@@ Parameters(@@ Configuration@@ Values.@@ Valid@@ Num@@ Of@@ Monitor@@ s, org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Default@@ Configuration@@ Version@@ ()), aQuery@@ ); }
public static <@@ T extends org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > java.util.List<java.lang.String> validate@@ In@@ put@@ s(@@ java.util.List<@@ java.lang.@@ Class@@ <?@@ >> valid@@ ation@@ Group@@ List@@ , T parameters@@ ) { java.util.List<java.lang.String> mess@@ age@@ s = java.util.Collections.@@ em@@ pty@@ List@@ (); java.util.@@ Set<@@ javax.@@ validation.@@ Con@@ str@@ a@@ int@@ Vi@@ ol@@ ation@@ <@@ T@@ >> vi@@ ol@@ ation@@ s = org.ovirt.engine.core.common.utils.@@ Validation@@ Util@@ s.get@@ Validator@@ ().@@ validate@@ (@@ parameters@@ , valid@@ ation@@ Group@@ List.@@ to@@ Array@@ (@@ new java.lang.@@ Class@@ <?@@ >@@ [@@ valid@@ ation@@ Group@@ List.@@ size@@ ()@@ ]@@ )); if (!(@@ vi@@ ol@@ ation@@ s.@@ isEmpty@@ ())) { mess@@ age@@ s = new java.util.ArrayList<@@ java.lang.String@@ >@@ (@@ vi@@ ol@@ ation@@ s.@@ size@@ ()); for (@@ javax.@@ validation.@@ Con@@ str@@ a@@ int@@ Vi@@ ol@@ ation@@ <@@ T@@ > const@@ r@@ a@@ int@@ Vi@@ ol@@ ation : vi@@ ol@@ ation@@ s) { if (!@@ (@@ const@@ r@@ a@@ int@@ Vi@@ ol@@ ation@@ .get@@ Message@@ ().is@@ Empty@@ ())) { mess@@ ages.@@ add@@ (@@ const@@ r@@ a@@ int@@ Vi@@ ol@@ ation@@ .get@@ Message@@ ()); } } } return mess@@ ages@@ ; }
private org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Status h@@ andle@@ Un@@ d@@ et@@ er@@ min@@ ed@@ Job@@ Status@@ (org.ovirt.engine.core.bll.storage.@@ Storage@@ Job@@ Command@@ <?@@ > cmd@@ , boolean job@@ s@@ Re@@ ported@@ By@@ Host@@ ) { if (is@@ Entity@@ P@@ oll@@ ing@@ Supported@@ (cmd@@ )) { log.info@@ ("@@ C@@ ommand {@@ } id@@ : '{}@@ '@@ : at@@ temp@@ t@@ ing to d@@ et@@ er@@ min@@ e the j@@ o@@ b stat@@ u@@ s b@@ y p@@ oll@@ ing the entity@@ .@@ ", cmd@@ .get@@ Action@@ Type@@ (), cmd@@ .get@@ Command@@ Id()); org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Status stat@@ u@@ s = p@@ oll@@ Entity@@ (cmd@@ ); if (@@ stat@@ u@@ s != null@@ ) { return status@@ ; } org.ovirt.engine.core.bll.storage.@@ Entity@@ P@@ oll@@ ing@@ C@@ ommand entity@@ P@@ oll@@ ing@@ C@@ ommand = ((@@ org.ovirt.engine.core.bll.storage.@@ Entity@@ P@@ oll@@ ing@@ Command@@ ) (cmd@@ )); if ((@@ entity@@ P@@ oll@@ ing@@ Command.@@ is@@ Job@@ F@@ enc@@ ing@@ Supported@@ ()) && (!@@ (cmd@@ .get@@ Parameters().get@@ Job@@ St@@ ar@@ ted@@ ()))) { log.info@@ ("@@ C@@ ommand {@@ } id@@ : '{}@@ '@@ : at@@ temp@@ t@@ ing to f@@ enc@@ e j@@ o@@ b {}@@ ", cmd@@ .get@@ Action@@ Type@@ (), cmd@@ .get@@ Command@@ Id(), cmd@@ .get@@ Job@@ Id()); entity@@ P@@ oll@@ ing@@ Command.@@ at@@ temp@@ t@@ To@@ Fence@@ Job@@ (); } return null@@ ; } if (@@ job@@ s@@ Re@@ ported@@ By@@ Host@@ ) { log.error@@ ((@@ "@@ C@@ ommand {@@ } id@@ : '{}@@ '@@ : enti@@ ty p@@ oll@@ ing is@@ n@@ '@@ t sup@@ por@@ te@@ d and the j@@ o@@ b is@@ n@@ '@@ t re@@ por@@ te@@ d b@@ y the host@@ ,@@ " + "@@ ass@@ um@@ ing i@@ t fail@@ ed s@@ o th@@ a@@ t the c@@ ommand ex@@ ec@@ uti@@ on w@@ il@@ l end@@ .@@ "@@ ), cmd@@ .get@@ Action@@ Type@@ (), cmd@@ .get@@ Command@@ Id()); return org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Status.@@ fail@@ ed@@ ; } if (cmd@@ .@@ fail@@ Job@@ With@@ Un@@ d@@ et@@ er@@ min@@ ed@@ Status()) { log.error@@ ((@@ "@@ C@@ ommand {@@ } id@@ : '{}@@ '@@ : fail@@ ed to d@@ et@@ er@@ min@@ e the act@@ u@@ al j@@ o@@ b status@@ , con@@ s@@ id@@ er@@ ing a@@ s fail@@ ed a@@ s per@@ " + " the c@@ ommand im@@ pl@@ ement@@ ation@@ "@@ ), cmd@@ .get@@ Action@@ Type@@ (), cmd@@ .get@@ Command@@ Id()); return Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Status.@@ fail@@ ed@@ ; } log.error("@@ C@@ ommand {@@ } id@@ : '{}@@ '@@ : fail@@ ed to d@@ et@@ er@@ min@@ e the act@@ u@@ al j@@ o@@ b status@@ , w@@ il@@ l the j@@ o@@ b status@@ , cmd@@ .get@@ Command@@ Id()); return null@@ ; }
@org.junit.Test public void lun@@ Al@@ read@@ y@@ P@@ art@@ Of@@ StorageDomain@@ s() { org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ 1 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 1@@ .set@@ LUN@@ _id@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ StorageDomain@@ Command@@ Base@@ Test.@@ G@@ UID@@ S@@ [@@ 0@@ ]@@ .@@ toString()); lun@@ 1@@ .set@@ StorageDomain@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ 2 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 2@@ .set@@ LUN@@ _id@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ StorageDomain@@ Command@@ Base@@ Test.@@ G@@ UID@@ S@@ [@@ 1@@ ]@@ .@@ toString()); lun@@ 2@@ .set@@ StorageDomain@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); do@@ Return(@@ lun@@ Dao@@ ).when@@ (cmd@@ ).get@@ Lun@@ Dao@@ (); when(@@ lun@@ Dao.get@@ All@@ ()).@@ thenReturn(@@ java.util.Arrays.as@@ List(@@ lun@@ 1, lun@@ 2@@ )); java.util.List<java.lang.String> sp@@ e@@ c@@ if@@ i@@ ed@@ Lun@@ Id@@ s = java.util.Collections.@@ sing@@ leton@@ List@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ StorageDomain@@ Command@@ Base@@ Test.@@ G@@ UID@@ S@@ [@@ 0@@ ]@@ .@@ toString()); assert@@ True@@ (cmd@@ .is@@ Lun@@ s@@ Al@@ read@@ y@@ In@@ Us@@ e(@@ sp@@ e@@ c@@ if@@ i@@ ed@@ Lun@@ Id@@ s@@ )); java.util.List<java.lang.String> mess@@ age@@ s = cmd@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ (); assert@@ Equals@@ (m@@ ess@@ ages.@@ size@@ (), 2@@ ); assert@@ Equals@@ (m@@ ess@@ ages@@ .get(@@ 0@@ ), EngineMessage.ACTION_TYPE_FAILED_@@ LUN@@ S_@@ AL@@ RE@@ AD@@ Y_@@ P@@ AR@@ T_@@ O@@ F@@ _@@ STORAGE_@@ DOMA@@ IN@@ S@@ .@@ toString()); assert@@ Equals@@ (m@@ ess@@ ages@@ .get(@@ 1@@ ), java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ lun@@ Id@@ s %@@ 1@@ $@@ s", cmd@@ .get@@ Format@@ ted@@ Lun@@ Id(@@ lun@@ 1, lun@@ 1@@ .get@@ StorageDomain@@ Name@@ ()))); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ S@@ napsho@@ t can@@ not b@@ e create@@ d s@@ in@@ c@@ e the VM contain@@ s a st@@ ate@@ l@@ es@@ s S@@ napsho@@ t.@@ ") java.lang.String snapshot@@ Can@@ not@@ Be@@ Create@@ d@@ State@@ l@@ ess@@ Snapshot@@ M@@ s@@ g@@ ();
protected void update@@ Us@@ b@@ N@@ ati@@ ve@@ Message@@ Visi@@ bility@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model object@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group vds@@ Group = ((org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ ) (@@ objec@@ t.get@@ Selected@@ Cluster@@ ())); ch@@ ang@@ e@@ Ap@@ plication@@ L@@ ev@@ el@@ Visi@@ bility@@ (@@ native@@ Us@@ b@@ W@@ arning@@ Message@@ , ((@@ (((@@ objec@@ t.get@@ Us@@ b@@ Policy@@ ().getSelectedItem@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ Policy@@ .@@ EN@@ AB@@ L@@ ED_@@ NA@@ TI@@ V@@ E@@ )) && (vds@@ Group != null@@ )) && ((@@ vds@@ Group@@ .get@@ c@@ ompatibility@@ _@@ version@@ ()) != null@@ )) && (!@@ ((@@ java.lang.Boolean@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Migration@@ Sup@@ port@@ For@@ N@@ ati@@ ve@@ Us@@ b@@ , vds@@ Group@@ .get@@ c@@ ompatibility@@ _@@ version@@ ().get@@ Value@@ ())@@ )@@ ))); }
@java.lang.Override public void update@@ External@@ Status@@ (org.ovirt.engine.core.compat.Guid id@@ , org.ovirt.engine.core.common.businessentities.@@ External@@ Status status@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ vds@@ _@@ g@@ uid@@ ", id@@ ).@@ addValue("@@ ex@@ ternal@@ _@@ status@@ ", status@@ ); get@@ Call@@ sHandler@@ ().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ Update@@ Vds@@ Dynamic@@ External@@ Status@@ ", parameter@@ Source@@ ); }
@java.lang.Override public org.ovirt.engine.core.bll.@@ task@@ s@@ .@@ int@@ er@@ fac@@ es.@@ Command@@ Call@@ back get@@ Callback@@ () { return org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ filter@@ Disks@@ Bas@@ ed@@ On@@ Cinder@@ (get@@ Disks@@ List@@ ()).@@ isEmpty@@ () ? null : new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command@@ Callback@@ <@@ T@@ >@@ >(); }
public static void get@@ Log@@ ged@@ In@@ User@@ (@@ final org.ovirt.engine.ui.uicompat.@@ I@@ AsyncCallback@@ <org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ > call@@ back@@ ) { org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ log@@ g@@ er.@@ fin@@ er@@ ("@@ Det@@ er@@ min@@ ing wh@@ eth@@ er us@@ er is log@@ g@@ ed in@@ .@@ .@@ .@@ "); final org.ovirt.engine.ui.frontend.@@ gw@@ t@@ ser@@ vic@@ es.@@ Gener@@ ic@@ Ap@@ i@@ G@@ W@@ T@@ Service@@ As@@ yn@@ c ser@@ vic@@ e = Gener@@ ic@@ Ap@@ i@@ G@@ W@@ T@@ Service@@ Async@@ .@@ Util@@ .getInstance@@ (); ser@@ vic@@ e.get@@ Log@@ ged@@ In@@ User@@ (@@ new com.google.gwt.@@ user.@@ client.@@ rpc@@ .@@ AsyncCallback@@ <org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ >() { @java.lang.Override public void on@@ Fail@@ ure@@ (@@ final java.lang.@@ Th@@ row@@ able c@@ au@@ g@@ ht@@ ) { if (@@ org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ ign@@ ore@@ Fail@@ ure(@@ c@@ au@@ g@@ ht@@ )) { return@@ ; } org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ log@@ g@@ er.@@ log@@ (java.util.@@ log@@ gin@@ g.@@ Le@@ ve@@ l.@@ S@@ E@@ V@@ ER@@ E, ("@@ Fail@@ ed to execu@@ te s@@ yn@@ c get@@ Is@@ User@@ Log@@ ged@@ In@@ : " + c@@ au@@ g@@ ht@@ ), c@@ au@@ g@@ ht@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ fail@@ ure@@ Event@@ Handler@@ (c@@ au@@ g@@ ht@@ ); call@@ back@@ .@@ on@@ Fail@@ ure@@ (@@ null@@ ); } @java.lang.Override public void onSuccess@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er result) { org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ log@@ g@@ er.@@ fin@@ er@@ ("@@ Suc@@ ess@@ f@@ ull@@ y execute@@ d s@@ yn@@ c get@@ Is@@ User@@ Log@@ ged@@ In@@ !@@ "); call@@ back@@ .@@ onSuccess@@ (@@ result@@ ); } }); }
protected org.ovirt.engine.core.common.utils.@@ To@@ String@@ Buil@@ der append@@ Att@@ ri@@ b@@ ut@@ es@@ (org.ovirt.engine.core.common.@@ utils.@@ To@@ String@@ Buil@@ der t@@ s@@ b@@ ) { return t@@ s@@ b@@ .@@ append("@@ id@@ ", get@@ Id@@ ()).@@ append("@@ vds@@ Id@@ ", get@@ Vds@@ Id@@ ()).@@ append("@@ network@@ Name@@ ", get@@ Network@@ Name@@ ()).@@ append("@@ b@@ oot@@ Protocol@@ ", get@@ Boot@@ Protocol@@ ()).@@ append("@@ add@@ ress@@ ", get@@ Address@@ ()).@@ append("@@ sub@@ net@@ ", get@@ Sub@@ net@@ ()).@@ append("@@ g@@ ate@@ w@@ ay@@ ", get@@ G@@ ate@@ w@@ ay@@ ()).@@ append("@@ m@@ tu@@ ", get@@ M@@ tu@@ ()).@@ append("@@ b@@ rid@@ ged@@ ", is@@ B@@ rid@@ ged@@ ()).@@ append("@@ type@@ ", get@@ Type@@ ()).@@ append("@@ network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s", get@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s@@ ()).@@ append("@@ q@@ os@@ ", get@@ Qos@@ ()).@@ append("@@ q@@ os@@ O@@ verrid@@ d@@ en@@ ", is@@ Qos@@ O@@ verrid@@ d@@ en@@ ()).@@ append("@@ c@@ ustom@@ Properties@@ ", get@@ Custom@@ Properties@@ ()); }
protected org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ VnicProfile@@ Model create@@ Default@@ Profile@@ () { if (@@ default@@ Profile@@ ) != null@@ ) { return default@@ Profile@@ ; } default@@ Profil@@ e = new org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ New@@ VnicProfile@@ Model@@ (); default@@ Profil@@ e.get@@ Name@@ ().set@@ Entity@@ (get@@ Name@@ ().getEntity@@ ()); final org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ List@@ en@@ er network@@ Name@@ List@@ en@@ er = new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { default@@ Profil@@ e.get@@ Name@@ ().set@@ Entity@@ (get@@ Name@@ ().getEntity@@ ()); } }; get@@ Name@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (network@@ Name@@ Listener@@ ); default@@ Profil@@ e.get@@ Name@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if (!@@ (@@ default@@ Profil@@ e.get@@ Name@@ ().getEntity@@ ().@@ equals@@ (get@@ Name@@ ().getEntity@@ ()))) { get@@ Name@@ ().getEntity@@ Changed@@ Event@@ ().@@ remove@@ Listener@@ (network@@ Name@@ Listener@@ ); default@@ Profil@@ e.get@@ Name@@ ().getEntity@@ Changed@@ Event@@ ().@@ remove@@ Listener@@ (@@ this@@ ); } } }); return default@@ Profile@@ ; }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Fail@@ ed to p@@ lu@@ g the ge@@ t in the engin@@ e of the s@@ napsho@@ t.@@ \@@ n@@ D@@ o volum@@ e snapshot@@ s in@@ for@@ m@@ ation s@@ ession@@ .@@ \@@ n@@ " + ("@@ E@@ r@@ ro@@ r in the re@@ -@@ p@@ o@@ -@@ p@@ lu@@ ation s@@ ession@@ -@@ re@@ pl@@ ic@@ ation ation in the re@@ pl@@ ic@@ ation s@@ ess@@ ion rem@@ o@@ -@@ c@@ luster for re@@ pl@@ ic@@ ation s@@ ess@@ ion " + "@@ )@@ \@@ n@@ \@@ '@@ t the re@@ pl@@ ic@@ ation s@@ ess@@ ion I@@ D is re@@ pl@@ ic@@ ation in the n@@ -@@ re@@ pl@@ ic@@ ation s@@ ess@@ ion I@@ D is do@@ m@@ ain@@ , '@@ .@@ '@@ _@@ '@@ ,
private boolean update@@ Vms@@ () { for (org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm : vm@@ s@@ Lock@@ ed@@ For@@ Update@@ ) { org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base update@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Bas@@ e(@@ vm@@ ); update@@ Param@@ s.set@@ Lock@@ Properties@@ (@@ org.ovirt.engine.core.common.action.@@ Lock@@ Properties.@@ create@@ (@@ Lock@@ Properties.@@ S@@ c@@ op@@ e.@@ N@@ one@@ )); update@@ Param@@ s.set@@ Cluster@@ L@@ ev@@ el@@ Change@@ From@@ Version@@ (@@ old@@ Cluster@@ .get@@ CompatibilityVersion@@ ()); vm@@ Update@@ Utils.@@ up@@ gr@@ ade@@ Graphics@@ Devices@@ (vm@@ , update@@ Param@@ s, old@@ Cluster@@ .get@@ CompatibilityVersion@@ ()); update@@ R@@ ng@@ Device@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (vm.get@@ Id(), vm.get@@ Custom@@ CompatibilityVersion@@ (), update@@ Param@@ s); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base result = run@@ Internal@@ Action(VdcActionType.@@ Update@@ Vm@@ , update@@ Param@@ s, org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); if (!(@@ result.get@@ Succeeded@@ ())) { java.util.List<java.lang.String> param@@ s = new java.util.ArrayList<>(); param@@ s.@@ add@@ ("@@ $@@ ac@@ tion Update@@ "); param@@ s.@@ add@@ ("@@ $@@ typ@@ e VM@@ "); param@@ s.add(@@ par@@ se@@ Error@@ Message@@ (@@ result.get@@ Validation@@ Messages@@ ())); java.util.List<java.lang.String> mess@@ age@@ s = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Error@@ s@@ Trans@@ l@@ ator@@ ().@@ trans@@ l@@ ate@@ Error@@ Text@@ (@@ param@@ s); fail@@ ed@@ Up@@ gr@@ ade@@ Enti@@ ties.@@ put@@ (vm.get@@ Name(), get@@ Fail@@ ed@@ Message@@ (m@@ ess@@ ages@@ )); } } return true@@ ; }
private boolean disk@@ Contain@@ s@@ Pre@@ Ex@@ tend@@ Snapshot@@ s() { return validate@@ (c@@ reate@@ Disk@@ Validator@@ (get@@ Image@@ ()).@@ ch@@ ild@@ Disk@@ W@@ as@@ Ex@@ ten@@ ded@@ (get@@ Image@@ ()).@@ ch@@ ild@@ Disk@@ W@@ as@@ Ex@@ ten@@ ded@@ (get@@ Image@@ Id@@ ())); }
@org.junit.Test public void update@@ P@@ os@@ i@@ x@@ Empty@@ V@@ FS@@ Type@@ () { new@@ P@@ os@@ i@@ x@@ Connection@@ .set@@ Vfs@@ Type@@ (@@ null@@ ); parameters.set@@ StorageServerConnection@@ (@@ new@@ P@@ os@@ i@@ x@@ Connection@@ ); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ command@@ , VdcBllMessages.@@ VALID@@ A@@ TION_@@ STORAGE_@@ C@@ ON@@ N@@ EC@@ TION_@@ EM@@ P@@ TY@@ _@@ V@@ F@@ ST@@ Y@@ P@@ E); }
private org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ I@@ Storage@@ Model Pre@@ par@@ e@@ Gluster@@ Storage@@ For@@ Edit@@ (org.ovirt.engine.core.common.businessentities.@@ storage@@ _@@ do@@ m@@ ain@@ s storage@@ ) { final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Gluster@@ Storage@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Gluster@@ Storage@@ Model@@ (); model.set@@ R@@ ol@@ e(@@ storage.@@ get@@ storage@@ _@@ do@@ m@@ ain@@ _@@ type@@ ()); model.get@@ Path@@ ().setIs@@ Chang@@ able@@ (@@ true@@ ); model.get@@ Vfs@@ Type@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); model.get@@ M@@ ount@@ Option@@ s@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Storage@@ Connection@@ By@@ Id@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ null@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void On@@ Success@@ (java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.core.common.businessentities.@@ storage_@@ server@@ _@@ connection@@ s conn@@ ec@@ tion = ((org.ovirt.engine.core.common.businessentities.@@ storage_@@ server@@ _@@ connection@@ s) (@@ return@@ Value@@ )); model.get@@ Path@@ ().set@@ Entity(@@ connection@@ .get@@ connection@@ ()); model.get@@ Vfs@@ Type@@ ().set@@ Entity(@@ connection@@ .get@@ Vfs@@ Type@@ ()); model.get@@ M@@ ount@@ Option@@ s@@ ().set@@ Entity(@@ connection@@ .get@@ M@@ ount@@ Option@@ s()); } }@@ ), storage.@@ get@@ storage@@ (), true@@ ); return model@@ ; }
@java.lang.Override public void load@@ From@@ Local@@ Storage@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Vm@@ Console@@ s vm@@ Cons@@ ol@@ es@@ ) { java.lang.String vm@@ Id = vm@@ Cons@@ ol@@ es@@ .get@@ Vm().get@@ Id().@@ toString@@ (); org.ovirt.engine.ui.common.@@ utils.@@ Console@@ Contex@@ t contex@@ t = vm@@ Cons@@ ol@@ es@@ .get@@ Console@@ Context@@ (); org.ovirt.engine.ui.common.@@ utils.@@ Console@@ Option@@ s@@ Frontend@@ P@@ ers@@ ist@@ er@@ Impl.@@ Key@@ Ma@@ k@@ er key@@ Ma@@ k@@ er = new org.ovirt.engine.ui.common.@@ utils.@@ Console@@ Option@@ s@@ Frontend@@ P@@ ers@@ ist@@ er@@ Impl.@@ Key@@ Ma@@ k@@ er@@ (vm@@ Id, contex@@ t@@ ); java.lang.String selected@@ Protocol@@ Strin@@ g = client@@ Stor@@ age.get@@ Local@@ Item@@ (@@ key@@ Ma@@ k@@ er.@@ ma@@ k@@ e(@@ org.ovirt.engine.ui.common.@@ utils.@@ Console@@ Option@@ s@@ Frontend@@ P@@ ers@@ ist@@ er@@ Impl.@@ S@@ E@@ LE@@ C@@ T@@ ED_@@ P@@ RO@@ TO@@ C@@ OL@@ )); if ((@@ selected@@ Protocol@@ Strin@@ g == null@@ ) || ("@@ "@@ .@@ equals@@ (s@@ elected@@ Protocol@@ String@@ ))) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ Console@@ Protoc@@ o@@ l selected@@ Protoc@@ o@@ l = org.ovirt.engine.ui.uicommonweb.models.@@ Console@@ Protoc@@ ol.@@ value@@ Of@@ (s@@ elected@@ Protocol@@ String@@ ); if (s@@ elected@@ Protoc@@ o@@ l == (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Console@@ Protoc@@ ol.@@ SP@@ IC@@ E@@ )) { load@@ Sp@@ ice@@ Data@@ (vm@@ Cons@@ ol@@ es@@ , key@@ Ma@@ k@@ er@@ ); } else if (s@@ elected@@ Protoc@@ o@@ l == (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Console@@ Protoc@@ ol.@@ V@@ N@@ C@@ )) { load@@ V@@ n@@ c@@ Data@@ (vm@@ Cons@@ ol@@ es@@ , key@@ Ma@@ k@@ er@@ ); } else if (s@@ elected@@ Protoc@@ o@@ l == (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Console@@ Protoc@@ ol.@@ R@@ D@@ P@@ )) { load@@ R@@ d@@ p@@ Data@@ (vm@@ Cons@@ ol@@ es@@ , key@@ Ma@@ k@@ er@@ ); } }
void on@@ W@@ in@@ do@@ w@@ F@@ oc@@ us@@ Change@@ (@@ boolean in@@ F@@ oc@@ us@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ G@@ rid@@ Tim@@ er model@@ Tim@@ er = get@@ Model@@ Tim@@ er@@ (); if ((@@ model@@ Tim@@ er.@@ is@@ Active@@ ()) && (!(@@ model@@ Tim@@ er.@@ is@@ Pa@@ us@@ ed@@ ()))) { if (in@@ F@@ oc@@ us@@ ) { model@@ Tim@@ er.@@ st@@ op@@ (); model@@ Tim@@ er.@@ set@@ Re@@ fresh@@ R@@ ate@@ (@@ read@@ Re@@ fresh@@ R@@ ate@@ ()); } else { model@@ Tim@@ er.@@ st@@ op@@ (); model@@ Tim@@ er.@@ set@@ Re@@ fresh@@ R@@ ate@@ (@@ org.ovirt.engine.ui.common.widget.@@ re@@ fresh@@ .@@ Abstract@@ Re@@ fresh@@ Manager.@@ O@@ U@@ T_@@ O@@ F@@ _@@ F@@ O@@ C@@ U@@ S_@@ RE@@ F@@ RE@@ S@@ H@@ _@@ R@@ AT@@ E); } model@@ Tim@@ er.@@ st@@ art@@ (); } }
@org.junit.Test public void canDoAction@@ Fail@@ s@@ L@@ on@@ g@@ Name@@ () { sd@@ .set@@ Storage@@ Name(@@ org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instance@@ ().@@ ne@@ xt@@ String@@ (@@ 1@@ )); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ cmd@@ , EngineMessage.ACTION_TYPE_FAILED_@@ NAM@@ E_@@ L@@ EN@@ G@@ TH@@ _@@ I@@ S_@@ TO@@ O@@ _@@ L@@ ON@@ G@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se m@@ ove@@ (org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ storageDomain@@ .@@ id@@ |@@ name@@ "); org.ovirt.engine.core.common.action.@@ Move@@ Disks@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Move@@ Disks@@ Parameters(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (@@ new org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters(@@ as@@ Guid@@ (get@@ ().get@@ Image@@ Id@@ ()), org.ovirt.engine.core.compat.Guid.@@ Empty@@ , get@@ StorageDomain@@ Id(@@ action@@ )@@ ))); return do@@ Action(VdcActionType.@@ Move@@ Disk@@ s, param@@ s, action@@ ); }
public void update@@ Storage@@ SelectedItem@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Type storage@@ Type, org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type do@@ m@@ ain@@ Type@@ ) { for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ I@@ Storage@@ Model model : get@@ Item@@ s()) { if (((@@ model.get@@ Type()) == storage@@ Type@@ ) && ((@@ model.get@@ Role@@ ()) == do@@ m@@ ain@@ Type@@ )) { set@@ C@@ urrent@@ Storage@@ Item@@ (model@@ ); break@@ ; } } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Data C@@ en@@ te@@ r c@@ an b@@ e ch@@ ang@@ ed on@@ l@@ y wh@@ e@@ n the Hos@@ t is in M@@ a@@ int@@ en@@ an@@ c@@ e m@@ od@@ e.@@ ") java.lang.String dc@@ Can@@ Only@@ Be@@ Changed@@ W@@ h@@ en@@ Host@@ In@@ M@@ a@@ int@@ M@@ ode@@ ();
@org.junit.Test public void test@@ Read@@ O@@ ne@@ S@@ k@@ ip@@ s@@ And@@ In@@ g@@ or@@ es@@ Un@@ k@@ n@@ ow@@ n@@ Element@@ s() { org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ run@@ tim@@ e.@@ x@@ ml.@@ X@@ ml@@ Re@@ ade@@ r re@@ ade@@ r = op@@ en@@ Read@@ er@@ ((@@ "@@ <@@ vm@@ >@@ " + ((@@ "@@ <@@ j@@ un@@ k@@ >@@ un@@ g@@ ly@@ <@@ /@@ j@@ un@@ k@@ >@@ " + "@@ <@@ name@@ >@@ m@@ y@@ vm@@ <@@ /@@ name@@ >@@ ") + "@@ <@@ /@@ vm@@ >@@ "@@ ))); org.ovirt.engine.api.@@ types.@@ V@@ 4@@ V@@ m vm = org.ovirt.engine.api.@@ x@@ ml.@@ V@@ 4@@ X@@ ml@@ Vm@@ Read@@ er.@@ read@@ O@@ ne@@ (@@ read@@ er@@ ); assert@@ Equals@@ ("@@ m@@ y@@ vm@@ ", vm@@ .@@ name@@ ()); }
private void add@@ Graphics@@ Device@@ () { for (org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type typ@@ e : org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type.@@ valu@@ es@@ ()) { org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Device g@@ raphics@@ Device = org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Graphics@@ Device@@ (@@ type@@ ); if (@@ g@@ raphics@@ Device == null@@ ) { continue@@ ; } g@@ raphics@@ Devic@@ e.set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getVm@@ Id()); org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ Add@@ Graphics@@ Device@@ , new org.ovirt.engine.core.bll.@@ Graphics@@ Parameters(@@ g@@ raphics@@ Device@@ )); } }
private void build@@ F@@ a@@ ult@@ Result@@ () { org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult fa@@ ult = new org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult@@ (); fa@@ ult.@@ set@@ Error@@ (@@ Engine@@ Error@@ .@@ Re@@ ach@@ ed@@ Max@@ Num@@ ber@@ Of@@ Host@@ s@@ In@@ D@@ C@@ ); fa@@ ult.@@ set@@ Message@@ (org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Vds@@ Error@@ s@@ Trans@@ l@@ ator@@ ().@@ Trans@@ l@@ ate@@ Error@@ Text@@ Sing@@ le(@@ fa@@ ult.get@@ Error@@ ().@@ toString@@ ())); org.ovirt.engine.core.bll.@@ Add@@ Vds@@ Sp@@ m@@ Id@@ Command.get@@ ReturnValue@@ ().set@@ F@@ a@@ ult@@ (@@ fault@@ ); }
private void update@@ Vds@@ Data@@ () { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.@@ V@@ o@@ id@@ >() { @java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ Entity@@ (get@@ Vds@@ ().get@@ StaticData@@ ()); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vds@@ Static@@ Dao().@@ update@@ (get@@ Parameters().get@@ Vds@@ StaticData@@ ()); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; } }); if (org.ovirt.engine.core.bll.@@ Update@@ Vds@@ Command.getParameters().get@@ In@@ st@@ all@@ Vds@@ ()) { set@@ Vds@@ Status(@@ VDS@@ Status.@@ In@@ st@@ all@@ ing@@ ); } }
@java.lang.Override protected java.lang.String r@@ ender@@ Null@@ S@@ af@@ e(@@ org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ o@@ S q@@ os@@ ) { return q@@ os@@ .getName@@ (); }
@java.lang.Override protected void re@@ ve@@ al@@ In@@ Parent@@ () { c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ pro@@ xy@@ .@@ Re@@ ve@@ al@@ Content@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , Main@@ Content@@ Pres@@ enter.@@ TYPE_@@ Set@@ Sub@@ Tab@@ Panel@@ Content@@ , this@@ ); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ Update@@ Main@@ Content@@ L@@ ay@@ out@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , true@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Sel@@ ected ID@@ E disk@@ /@@ s w@@ il@@ l b@@ e attach@@ ed bu@@ t w@@ il@@ l ne@@ ed to b@@ e ac@@ tivate@@ d man@@ u@@ all@@ y af@@ te@@ r the VM is sh@@ u@@ t do@@ wn@@ .@@ ") java.lang.String i@@ de@@ Disks@@ W@@ il@@ l@@ Be@@ Attached@@ B@@ ut@@ Not@@ Ac@@ tiva@@ ted@@ ();
@@@ org.ovirt.engine.ui.common.@@ Template@@ ("@@ <@@ t@@ able ce@@ ll@@ sp@@ ac@@ ing@@ =@@ '@@ 0@@ ' ce@@ ll@@ p@@ add@@ ing@@ =@@ '@@ 0@@ '@@ >@@ <@@ tr@@ >@@ " + ((((@@ ((@@ "@@ <@@ t@@ d st@@ y@@ le@@ =@@ '@@ back@@ g@@ ro@@ un@@ d@@ : ur@@ l@@ (@@ {@@ 2@@ }@@ )@@ ;@@ w@@ id@@ th@@ :@@ 2@@ p@@ x@@ ;@@ '@@ >@@ <@@ /@@ t@@ d@@ >@@ " + "@@ <@@ t@@ d st@@ y@@ le@@ =@@ '@@ tex@@ t@@ -@@ al@@ ign@@ :@@ c@@ enter@@ ;@@ '@@ >@@ ") + "@@ <@@ d@@ i@@ v class@@ =@@ '@@ db@@ _@@ b@@ g@@ _@@ im@@ age {@@ 5@@ } {@@ 6@@ }@@ ' st@@ y@@ le@@ =@@ '@@ back@@ g@@ ro@@ un@@ d@@ : ur@@ l@@ (@@ {@@ 3@@ }@@ ) re@@ p@@ eat@@ -@@ x@@ ; h@@ e@@ ig@@ ht@@ : 2@@ 0@@ p@@ x@@ ; dis@@ play@@ : f@@ l@@ ex@@ ;@@ '@@ >@@ ") + "@@ <@@ sp@@ an st@@ y@@ le@@ =@@ \@@ '@@ ver@@ tic@@ al@@ -@@ al@@ ign@@ : m@@ id@@ d@@ le@@ ; lin@@ e@@ -@@ h@@ e@@ ig@@ ht@@ : 1@@ 5@@ p@@ x@@ ; mar@@ gin@@ -@@ to@@ p@@ : 2@@ p@@ x@@ ;@@ \@@ ' class@@ =@@ \"@@ db@@ _@@ image@@ _@@ contain@@ er@@ \"@@ >@@ {0@@ }@@ <@@ /@@ sp@@ an@@ >@@ <@@ d@@ i@@ v st@@ y@@ le@@ =@@ \@@ '@@ lin@@ e@@ -@@ h@@ e@@ ig@@ ht@@ : 1@@ 9@@ p@@ x@@ ;@@ \@@ '@@ >@@ {@@ 1@@ }@@ <@@ /@@ d@@ i@@ v@@ >@@ <@@ /@@ d@@ i@@ v@@ >@@ ") + "@@ <@@ /@@ t@@ d@@ >@@ ") + "@@ <@@ t@@ d st@@ y@@ le@@ =@@ '@@ back@@ g@@ ro@@ un@@ d@@ : ur@@ l@@ (@@ {@@ 4@@ }@@ )@@ ;@@ w@@ id@@ th@@ :@@ 2@@ p@@ x@@ ;@@ '@@ >@@ <@@ /@@ t@@ d@@ >@@ ") + "@@ <@@ /@@ tr@@ >@@ <@@ /@@ t@@ able@@ >@@ "@@ )) com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l d@@ ial@@ og@@ Button@@ (c@@ om.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l image@@ , java.lang.String tex@@ t@@ , java.lang.String st@@ art@@ , java.lang.String str@@ et@@ ch@@ , java.lang.String end@@ , java.lang.String cont@@ ent@@ Sty@@ le@@ Name, java.lang.String c@@ ustom@@ Content@@ Sty@@ le@@ Name); java.lang.String st@@ ustom@@ Content@@ Sty@@ le@@ Name);
private void run@@ StoragePool@@ Up@@ Event@@ (@@ final org.ovirt.engine.core.common.businessentities.Storage@@ Pool storagePool@@ ) { org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ execute@@ (@@ new java.lang.@@ Run@@ n@@ able@@ () { @java.lang.Override public void run@@ () { try { if (@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StorageDomain@@ Dao().get@@ StorageDomain@@ s(@@ _@@ storagePool@@ Id, StorageDomain@@ Type.@@ Ma@@ ster@@ ).@@ stream@@ ().@@ any@@ Match@@ (@@ ( d@@ ) -@@ > ((@@ d@@ .get@@ Status()) == StorageDomain@@ Status.@@ Active@@ ) || ((@@ d@@ .get@@ Status()) == StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ ))) { org.ovirt.engine.core.vdsbroker.@@ Resource@@ Manager@@ .getInstance().get@@ Event@@ Listener@@ ().@@ storagePool@@ Up@@ Event@@ (@@ storagePool@@ ); } } catch (java.lang.@@ Run@@ time@@ Exception exp@@ ) { org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ I@@ r@@ s@@ Proxy@@ Data@@ .@@ log.error("@@ E@@ r@@ ro@@ r in StoragePool@@ Up@@ Event@@ : {}@@ ", exp@@ .get@@ Message@@ ()); org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ I@@ r@@ s@@ Proxy@@ Data@@ .@@ log.debug@@ ("@@ Exception@@ ", exp@@ ); } } }); }
@org.junit.Test public void parameters@@ With@@ Sec@@ ure@@ Delet@@ ion@@ A@@ re@@ Not@@ Fi@@ x@@ ed@@ On@@ B@@ lock@@ Domain@@ W@@ h@@ en@@ P@@ ost@@ Z@@ er@@ o@@ Is@@ F@@ alse@@ () { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ P@@ ost@@ Z@@ er@@ o@@ Handler@@ Test.@@ Parameters@@ With@@ P@@ ost@@ Z@@ er@@ o parameter@@ s = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ P@@ ost@@ Z@@ er@@ o@@ Handler.@@ fi@@ x@@ Parameters@@ With@@ P@@ ost@@ Z@@ er@@ o@@ (@@ new org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ P@@ ost@@ Z@@ er@@ o@@ Handler@@ Test.@@ Parameters@@ With@@ P@@ ost@@ Z@@ er@@ o@@ (@@ false@@ ), false@@ ); assert@@ P@@ ost@@ Z@@ er@@ o@@ Value(@@ parameters@@ , false@@ ); }
public static org.ovirt.engine.@@ sd@@ k@@ 4@@ .@@ Connection@@ Buil@@ der connection@@ () { java.lang.@@ Class@@ <@@ ? extends org.ovirt.engine.@@ sd@@ k@@ 4@@ .@@ Connection@@ Builder@@ > cl@@ a@@ z@@ z = null@@ ; try { cl@@ a@@ z@@ z = ((@@ java.lang.@@ Class@@ <@@ org.ovirt.engine.@@ sd@@ k@@ 4@@ .@@ Connection@@ Builder@@ >) (java.lang.@@ Class@@ .@@ for@@ Name@@ ("@@ org.ovirt.engine.@@ sd@@ k@@ 4@@ .@@ int@@ er@@ nal@@ .@@ Connection@@ Builder@@ 4@@ 5@@ "@@ ))); } catch (java.lang.@@ Class@@ Not@@ F@@ ound@@ Exception | java.lang.@@ Link@@ age@@ E@@ r@@ ro@@ r ex@@ ) { try { cl@@ a@@ z@@ z = ((@@ java.lang.@@ Class@@ <@@ org.ovirt.engine.@@ sd@@ k@@ 4@@ .@@ Connection@@ Builder@@ >) (java.lang.@@ Class@@ .@@ for@@ Name@@ ("@@ org.ovirt.engine.@@ sd@@ k@@ 4@@ .@@ int@@ er@@ nal@@ .@@ Connection@@ Builder@@ 4@@ 2@@ "@@ ))); } catch (java.lang.@@ Class@@ Not@@ F@@ ound@@ Exception | java.lang.@@ Link@@ age@@ E@@ r@@ ro@@ r e) { throw new java.lang.@@ Error@@ ("@@ N@@ o conn@@ ec@@ tion im@@ pl@@ ement@@ ation fo@@ un@@ d@@ ", e); } } try { return cl@@ a@@ z@@ .@@ new@@ Instance@@ (); } catch (@@ java.lang.Exception e) { throw new java.lang.@@ Error@@ ("@@ Fail@@ ed to initial@@ iz@@ e conn@@ ec@@ tion im@@ pl@@ ement@@ ation@@ ", e); } }
@org.junit.Test public void canDoAction@@ Fail@@ With@@ Un@@ sup@@ ported@@ Disk@@ Interface@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.compat.Guid storage@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); initial@@ ize@@ Command(@@ storage@@ Id); mock@@ Vm@@ (); mock@@ StorageDomain@@ (@@ storage@@ Id); mock@@ StoragePool@@ Iso@@ Map@@ (); mock@@ Max@@ P@@ c@@ i@@ S@@ l@@ ot@@ s(); when@@ (disk@@ Validator.@@ is@@ Read@@ Only@@ Property@@ C@@ ompati@@ bl@@ e@@ With@@ Interface@@ ()).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); when@@ (disk@@ Validator.@@ is@@ Disk@@ Interface@@ Supported@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ ACTION_TYPE_@@ DIS@@ K_@@ IN@@ TER@@ F@@ AC@@ E_@@ UN@@ SUP@@ PORT@@ ED@@ )); when@@ (disk@@ Validator.@@ is@@ Vir@@ t@@ I@@ oS@@ csi@@ Valid@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ )@@ )).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); when@@ (disk@@ Validator.@@ is@@ Disk@@ Sh@@ are@@ able@@ And@@ Boot@@ able@@ ()).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); when@@ (command@@ .get@@ Disk@@ Validator@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ Disk@@ .@@ class@@ )@@ )).@@ thenReturn(@@ disk@@ Validator@@ ); assert@@ F@@ als@@ e(@@ command@@ .@@ canDoAction@@ ()); assert@@ True@@ (command@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ VdcBllMessages.@@ ACTION_TYPE_@@ DIS@@ K_@@ IN@@ TER@@ F@@ AC@@ E_@@ UN@@ SUP@@ PORT@@ ED@@ .@@ toString@@ ())); }
@java.lang.Override protected boolean canDoAction@@ () { boolean result = true@@ ; org.ovirt.engine.core.common.businessentities.@@ Au@@ dit@@ Lo@@ g ev@@ ent = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ AuditLog@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Remove@@ External@@ Event@@ Command.getParameters().get@@ Id()); if (@@ ev@@ ent == null@@ ) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ EX@@ TER@@ N@@ AL@@ _@@ E@@ V@@ EN@@ T_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); result = false@@ ; } if (((@@ ev@@ ent.get@@ O@@ ri@@ gin@@ ()) != null@@ ) && (@@ ev@@ ent.get@@ O@@ ri@@ gin@@ ().@@ equals@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ OV@@ I@@ R@@ T@@ ))) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ EX@@ TER@@ N@@ AL@@ _@@ E@@ V@@ EN@@ T_@@ IL@@ LE@@ G@@ AL@@ _@@ OR@@ I@@ G@@ IN@@ ); result = false@@ ; } if (!(@@ ev@@ ent.get@@ se@@ ver@@ ity@@ ().@@ equals(@@ AuditLog@@ Se@@ ver@@ ity@@ .@@ AL@@ ER@@ T@@ ))) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ EX@@ TER@@ N@@ AL@@ _@@ E@@ V@@ EN@@ T_@@ IL@@ L@@ R@@ G@@ AL@@ _@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ ); result = false@@ ; } if (!@@ result) { addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ ACTION_@@ _@@ RE@@ M@@ OV@@ E); addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ TYPE_@@ _@@ EX@@ TER@@ N@@ AL@@ _@@ E@@ V@@ EN@@ T@@ ); } return result@@ ; }
private void update@@ Dis@@ c@@ o@@ ver@@ ed@@ Host@@ List@@ (java.lang.String search@@ Filter@@ ) { org.ovirt.engine.core.common.businessentities.@@ Provi@@ der provi@@ der = get@@ Provi@@ d@@ ers@@ ().getSelectedItem@@ (); if (@@ provi@@ der != null@@ ) { org.ovirt.engine.ui.frontend.AsyncQuery get@@ Host@@ s@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); get@@ Host@@ s@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >) (@@ result@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ Name@@ List@@ Model = get@@ External@@ Host@@ Name@@ (); host@@ Name@@ List@@ Model.set@@ Items(@@ host@@ s); host@@ Name@@ List@@ Model.set@@ Is@@ Chang@@ able@@ (@@ true@@ ); set@@ En@@ able@@ Search@@ Host@@ (@@ true@@ ); } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ External@@ Provider@@ Host@@ List@@ (get@@ Host@@ s@@ Query@@ , provider@@ .get@@ Id(), true@@ , search@@ Filter@@ ); } else { get@@ External@@ Host@@ Name@@ ().set@@ Item@@ s@@ (@@ null@@ ); get@@ External@@ Host@@ Name@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); set@@ En@@ able@@ Search@@ Host@@ (@@ false@@ ); } u@@ i : fi@@ x@@ ing = $@@ mis@@ sing@@ $@@ ; org.ovirt.engine.ui.uicommonweb.models.hosts.@@ dis@@ pl@@ a@@ y o@@ f@@ ; org.ovirt.engine.ui.uicommonweb.models.hosts.@@ f@@ q@@ d@@ n in@@ ; org.ovirt.engine.ui.uicommonweb.models.hosts.@@ add@@ Hos@@ t for@@ m@@ ; }
private void canDoAction@@ Fail@@ ed@@ With@@ Reason@@ (@@ final org.ovirt.engine.core.common.errors.@@ EngineMess@@ age mess@@ age@@ ) { assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ mess@@ age.@@ toString@@ ())); }
@java.lang.Override protected void on@@ Lo@@ ad@@ ing@@ State@@ Changed@@ (c@@ om.google.gwt.@@ user.@@ ce@@ ll@@ view@@ .client.@@ Lo@@ ad@@ ing@@ State@@ Change@@ Ev@@ ent.@@ Lo@@ ad@@ ing@@ Stat@@ e st@@ ate@@ ) { super@@ .@@ on@@ Lo@@ ad@@ ing@@ State@@ Changed@@ (@@ st@@ ate@@ ); e@@ n@@ for@@ ce@@ S@@ c@@ ro@@ ll@@ P@@ os@@ ition@@ (); if ((((@@ tabl@@ e.get@@ Parent@@ ()) != null@@ ) && ((@@ tabl@@ e.get@@ Parent@@ ().get@@ Element@@ ()) != null@@ )) && ((@@ s@@ c@@ ro@@ ll@@ Of@@ f@@ set@@ ) > 0@@ )) { tabl@@ e.get@@ Parent@@ ().get@@ Element@@ ().set@@ S@@ c@@ ro@@ ll@@ To@@ p@@ (s@@ c@@ ro@@ ll@@ Of@@ f@@ set@@ ); } if (@@ stat@@ e == (c@@ om.google.gwt.@@ user.@@ ce@@ ll@@ view@@ .client.@@ Lo@@ ad@@ ing@@ State@@ Change@@ Ev@@ ent.@@ Lo@@ ad@@ ing@@ Stat@@ e.@@ LO@@ AD@@ ING@@ )) { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ fer@@ red@@ (@@ new com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er.@@ Schedul@@ ed@@ Command() { @java.lang.Override public void execute@@ () { do@@ Au@@ to@@ Sel@@ ect = true@@ ; } }); } }
@java.lang.Override protected void ch@@ ild@@ Command@@ s@@ Execution@@ En@@ ded@@ (org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ , boolean any@@ Fail@@ ed@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid> ch@@ ild@@ C@@ md@@ Id@@ s, org.ovirt.engine.core.compat.@@ back@@ end@@ c@@ ompat.@@ Command@@ Execution@@ Status status@@ , int comp@@ let@@ ed@@ Ch@@ ild@@ r@@ en@@ ) { org.ovirt.engine.core.bll.storage.disk.@@ c@@ in@@ der.@@ Add@@ Cinder@@ Disk@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters@@ > disk@@ Id = ((@@ org.ovirt.engine.core.bll.storage.disk.@@ c@@ in@@ der.@@ Add@@ Cinder@@ Disk@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters@@ >) (command@@ ).get@@ Disk@@ Info@@ ().get@@ Id@@ (); org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status image@@ Status = add@@ Cinder@@ Disk@@ Command.get@@ Cinder@@ Broker@@ ().get@@ Disk@@ Status@@ (disk@@ Id); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ Cinder@@ Disk@@ ) (@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Disk@@ Dao().get@@ (disk@@ Id@@ ))); if ((@@ image@@ Status != null@@ ) && (@@ image@@ Status != (disk@@ .get@@ Image@@ Status@@ ()))) { switch (@@ image@@ Status@@ ) { case O@@ K : set@@ Command@@ En@@ ded@@ (command@@ , false@@ , ch@@ ild@@ C@@ md@@ Id@@ s); break@@ ; case IL@@ LE@@ G@@ A@@ L : set@@ Command@@ En@@ d@@ Status@@ (command@@ , true@@ , ch@@ ild@@ C@@ md@@ Id@@ s); break@@ ; case IL@@ LE@@ G@@ A@@ L : set@@ Command@@ En@@ d@@ Status@@ (command@@ , true@@ , ch@@ ild@@ C@@ md@@ Id@@ s, status@@ , comp@@ let@@ ed@@ Ch@@ ild@@ r@@ en@@ ); break@@ ; } } }
@org.junit.Test public void test@@ O@@ th@@ er@@ Fiel@@ ds@@ Not@@ Validate@@ d@@ In@@ Import@@ () { org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters parameter@@ s = create@@ Parameters@@ (); java.lang.String to@@ o@@ L@@ on@@ g@@ Strin@@ g = org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instance@@ ().@@ ne@@ xt@@ Property@@ String@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Enti@@ ties@@ De@@ fin@@ ition@@ s.@@ G@@ EN@@ ER@@ AL@@ _@@ MA@@ X@@ _@@ SI@@ Z@@ E@@ ) + 1@@ )); parameters@@ .get@@ Vm@@ ().set@@ User@@ De@@ fin@@ ed@@ Properties@@ (@@ to@@ o@@ on@@ g@@ String@@ ); parameters.set@@ Import@@ As@@ New@@ Entity@@ (@@ true@@ ); org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ > c@@ ommand = new org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ Command@@ Test.@@ ImportVm@@ Command@@ St@@ ub@@ (@@ parameters@@ , pool@@ Per@@ Cluster@@ , ex@@ ternal@@ Vm@@ Mac@@ s@@ F@@ inder@@ , ex@@ ternal@@ VnicProfile@@ Mapping@@ Validator@@ ); command@@ .@@ init@@ (); java.util.@@ Set<@@ javax.@@ validation.@@ Con@@ str@@ a@@ int@@ Vi@@ ol@@ ation@@ <@@ org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ >> valid@@ ate = org.ovirt.engine.core.common.utils.@@ Validation@@ Util@@ s.get@@ Validator@@ ().@@ validate@@ (@@ parameters@@ , command@@ .get@@ Validation@@ Group@@ s().@@ to@@ Array@@ (@@ new java.lang.@@ Class@@ <?@@ >@@ [@@ 0@@ ]@@ )); assert@@ True@@ (@@ valid@@ at@@ e.@@ isEmpty@@ ()); parameters@@ .get@@ Vm@@ ().set@@ User@@ De@@ fin@@ ed@@ Properties@@ (@@ to@@ o@@ L@@ on@@ g@@ String@@ ); parameters.set@@ Import@@ As@@ New@@ Entity@@ (@@ false@@ ); c@@ ommand = new org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ Command@@ Test.@@ ImportVm@@ Command@@ St@@ ub@@ (@@ parameters@@ , pool@@ Per@@ Cluster@@ , ex@@ ternal@@ Vm@@ Mac@@ s@@ F@@ inder@@ , ex@@ ternal@@ VnicProfile@@ Mapping@@ Validator@@ ); command@@ .@@ init@@ (); valid@@ ate = org.ovirt.engine.core.common.utils.@@ Validation@@ Util@@ s.get@@ Validator@@ ().@@ validate@@ (@@ parameters@@ , command@@ .get@@ Validation@@ Group@@ s().@@ to@@ Array@@ (@@ new java.lang.@@ Class@@ <?@@ >@@ [@@ 0@@ ]@@ )); assert@@ True@@ (@@ valid@@ at@@ e.@@ isEmpty@@ ()); }
public void set@@ X@@ en@@ Host@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s) { this@@ .@@ x@@ en@@ Host@@ s = host@@ s@@ ; }
protected org.ovirt.engine.core.compat.Guid get@@ Up@@ Server@@ Id@@ () { if ((@@ brick@@ ) == null@@ ) { return super@@ .get@@ Up@@ Server@@ Id@@ (cluster@@ Id); } org.ovirt.engine.core.common.businessentities.@@ VDS brick@@ Ser@@ ve@@ r = org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s@@ Query.get@@ Vds@@ Dao().get@@ (@@ brick@@ .get@@ Server@@ Id()); if ((@@ brick@@ Server@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) { return brick@@ Server@@ .getId@@ (); } return super@@ .get@@ Up@@ Server@@ Id@@ (cluster@@ Id); }
public org.ovirt.engine.core.bll.ValidationResult network@@ Not@@ Us@@ ed@@ By@@ Run@@ ning@@ Vms@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > run@@ ning@@ Vm@@ s = new java.util.ArrayList<>(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > vnic@@ s = get@@ DbFacade@@ ().get@@ VmNetwork@@ Interface@@ Dao().get@@ AllFor@@ Network@@ (network@@ .getId()); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ >> vnic@@ sBy@@ Vm@@ Id = org.ovirt.engine.core.common.businessentities.@@ Enti@@ ties.@@ vm@@ Interfaces@@ By@@ Vm@@ Id(@@ vnic@@ s); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : get@@ Vms@@ ()) { if (vm@@ .is@@ Run@@ ning@@ Or@@ Pa@@ us@@ ed@@ ()) { for (org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface n@@ ic : vnic@@ sBy@@ Vm@@ Id@@ .get@@ (vm@@ .getId@@ ())) { if (org.ovirt.engine.core.bll.@@ common.@@ p@@ red@@ ic@@ at@@ es.@@ Vnic@@ Network@@ Can@@ Be@@ Update@@ d@@ P@@ red@@ ic@@ at@@ e.get@@ Instance@@ ().@@ e@@ val@@ (@@ nic@@ )) { run@@ ning@@ Vm@@ s.@@ add@@ (vm@@ ); break@@ ; } } } } return network@@ Not@@ Us@@ ed(@@ run@@ ning@@ Vm@@ s, VdcBllMessages.@@ VAR__@@ EN@@ TI@@ E@@ S_@@ _@@ VM@@ S@@ ); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ al@@ loc@@ ate@@ vm@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Ser@@ ve@@ r get@@ Action@@ Resource@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return new org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Server@@ (get@@ Del@@ e@@ g@@ ate@@ ().get@@ Action@@ Resource@@ (@@ action@@ , o@@ id@@ )); }
private void cluster@@ _@@ SelectedItem@@ Changed@@ () { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster = get@@ Cluster@@ ().getSelectedItem@@ (); if (c@@ luster != null@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ P@@ m@@ Type@@ List@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { java.util.List<java.lang.String> p@@ m@@ Type@@ s = ((@@ java.util.ArrayList<@@ java.lang.String@@ >) (@@ return@@ Value@@ )); update@@ P@@ m@@ Type@@ List(@@ p@@ m@@ Typ@@ es@@ ); } }@@ ), cluster@@ .get@@ CompatibilityVersion@@ ()); } }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ RE@@ G@@ IST@@ ER@@ ); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ VM_@@ DIS@@ K@@ ); }
@java.lang.Override public com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource get@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { if ((@@ vm.get@@ Vm@@ Pool@@ Id()) == null@@ ) { org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Column@@ .@@ Vm@@ Type@@ Confi@@ g confi@@ g = new org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Column@@ .@@ Vm@@ Type@@ Config@@ (vm@@ .is@@ State@@ l@@ ess@@ (), is@@ In@@ Pre@@ view@@ (vm@@ ), vm.get@@ Vm@@ Type@@ ()); if (@@ config@@ To@@ I@@ con@@ .@@ contains@@ Key@@ (@@ config@@ )) { org.ovirt.engine.core.common.utils.Pair@@ <@@ com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Resource@@ , java.lang.String> valu@@ e = config@@ To@@ I@@ con@@ .get(@@ config@@ ); set@@ Title(@@ valu@@ e.get@@ Sec@@ ond@@ ()); return valu@@ e.get@@ F@@ ir@@ st@@ (); } else { return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ m@@ any@@ D@@ es@@ k@@ to@@ p@@ s@@ Image@@ (); } } else { return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ m@@ any@@ D@@ es@@ k@@ to@@ p@@ s@@ Image@@ (); } }
protected void setUp@@ Get@@ System@@ Version@@ Expectation@@ s() { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue pro@@ d@@ uc@@ t@@ R@@ p@@ m@@ Query@@ Result = create@@ Mock@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue@@ .@@ class@@ ); exp@@ ect@@ (@@ pro@@ d@@ uc@@ t@@ R@@ p@@ m@@ Query@@ Res@@ ult.get@@ Succeeded@@ ()).@@ and@@ Return@@ (@@ true@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ pro@@ d@@ uc@@ t@@ R@@ p@@ m@@ Query@@ Res@@ ult.get@@ ReturnValue@@ ()).@@ and@@ Return(@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Ap@@ i@@ Resource@@ Test.@@ S@@ Y@@ ST@@ EM@@ _@@ V@@ ER@@ SI@@ ON@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ back@@ end@@ .@@ run@@ Query@@ (@@ e@@ q@@ (Vdc@@ Query@@ Type.Get@@ Configuration@@ Value@@ ), get@@ Pro@@ d@@ uc@@ t@@ R@@ P@@ M@@ Version@@ Param@@ ())@@ ).@@ and@@ Return(@@ pro@@ d@@ uc@@ t@@ R@@ p@@ m@@ Query@@ Result@@ ); org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue pro@@ d@@ uc@@ t@@ Version@@ Query@@ Result = create@@ Mock@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue@@ .@@ class@@ ); exp@@ ect@@ (@@ pro@@ d@@ uc@@ t@@ Version@@ Query@@ Res@@ ult.get@@ Succeeded@@ ()).@@ and@@ Return@@ (@@ true@@ ).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ pro@@ d@@ uc@@ t@@ Version@@ Query@@ Res@@ ult.get@@ ReturnValue@@ ()).@@ and@@ Return@@ (@@ new org.ovirt.engine.core.compat.@@ Version@@ (@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Ap@@ i@@ Resource@@ Test.@@ MA@@ J@@ OR@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ Ap@@ i@@ Resource@@ Test.@@ M@@ IN@@ OR@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ Ap@@ i@@ Resource@@ Test.@@ B@@ U@@ IL@@ D@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ Ap@@ i@@ Resource@@ Test.@@ RE@@ V@@ IS@@ I@@ ON@@ )).@@ any@@ Tim@@ es@@ (); exp@@ ect@@ (@@ back@@ end@@ .@@ run@@ Query@@ (@@ e@@ q@@ (Vdc@@ Query@@ Type.Get@@ Pro@@ d@@ uc@@ t@@ Version@@ ), get@@ Pro@@ d@@ uc@@ t@@ Version@@ Param@@ s@@ ())@@ ).@@ and@@ Return(@@ pro@@ d@@ uc@@ t@@ Version@@ Query@@ Result@@ ); }
public java.util.List<@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ement@@ T@@ ree@@ > get@@ M@@ and@@ ator@@ y@@ Att@@ ri@@ bu@@ te@@ Node@@ In@@ v@@ ol@@ v@@ ement@@ T@@ re@@ e(@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ement@@ T@@ re@@ e.get@@ M@@ and@@ ator@@ y@@ Att@@ ri@@ bu@@ te@@ Node@@ > get@@ Nod@@ es@@ () { return m@@ and@@ ator@@ y@@ Att@@ ri@@ bu@@ te@@ Node@@ In@@ v@@ ement@@ T@@ re@@ e.get@@ M@@ and@@ ator@@ y@@ Att@@ ri@@ bu@@ te@@ Node@@ In@@ v@@ ement@@ T@@ re@@ e.get@@ M@@ and@@ ator@@ y@@ Att@@ ri@@ bu@@ te@@ Node@@ In@@ v@@ ement@@ T@@ re@@ es@@ ()); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ User@@ Profile@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Callback@@ <@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ >() { @java.lang.Override public void onSuccess(java.lang.Object model, org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ Value@@ ) { org.ovirt.engine.core.common.businessentities.@@ User@@ Profil@@ e profil@@ e = return@@ Value.get@@ ReturnValue@@ (); java.lang.@@ B@@ oolean conn@@ ect@@ Au@@ t@@ om@@ ati@@ call@@ y = (@@ profil@@ e == null@@ ) ? java.lang.Boolean@@ .@@ T@@ R@@ U@@ E : profil@@ e.@@ is@@ User@@ Port@@ al@@ Vm@@ Lo@@ gin@@ Au@@ t@@ om@@ ati@@ call@@ y@@ (); if (@@ conn@@ ect@@ Au@@ t@@ om@@ ati@@ call@@ y@@ ) { h@@ andle@@ Conn@@ ect@@ Au@@ t@@ om@@ ati@@ call@@ y@@ (); } } }@@ )); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ LU@@ N is not us@@ able@@ ") java.lang.String lun@@ Un@@ us@@ able@@ ();
@org.junit.Test public void canDoAction@@ Suc@@ cee@@ ds@@ () { mock@@ Vds@@ With@@ Os@@ Version@@ (org.ovirt.engine.core.bll.@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ Test.@@ VALID@@ _@@ OV@@ I@@ R@@ T_@@ V@@ ER@@ SI@@ ON@@ ); org.ovirt.engine.core.common.action.@@ In@@ st@@ all@@ Vds@@ Parameters par@@ a@@ m = org.ovirt.engine.core.bll.@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ Test.@@ create@@ Parameters@@ (); param@@ .set@@ o@@ Vir@@ t@@ Iso@@ Fil@@ e(@@ org.ovirt.engine.core.bll.@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ Test.@@ VALID@@ _@@ V@@ ER@@ SI@@ ON_@@ OV@@ I@@ R@@ T_@@ IS@@ O@@ _@@ F@@ IL@@ EN@@ A@@ M@@ E); org.ovirt.engine.core.bll.@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ In@@ st@@ all@@ Vds@@ Parameters@@ > c@@ ommand = create@@ Command(@@ param@@ ); assert@@ True@@ (command@@ .@@ canDoAction@@ ()); }
@java.lang.Override public void On@@ Success@@ (java.lang.Object model, java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Bas@@ ic@@ List@@ Model user@@ Port@@ al@@ Bas@@ ic@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Bas@@ ic@@ ListModel@@ ) (model@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VM@@ >(); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ vm@@ _@@ pool@@ s> pool@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ vm@@ _@@ pool@@ s@@ >(); org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue ret@@ Value = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )); if ((@@ ret@@ Value != null@@ ) && (r@@ et@@ Value.get@@ Succeeded@@ ())) { java.util.List<@@ java.lang.Object> lis@@ t = ((@@ java.util.ArrayList<@@ java.lang.Object@@ >) (r@@ et@@ Value.get@@ ReturnValue@@ ())); for (java.lang.Object obj@@ ect : list@@ ) { if (@@ obj@@ ect instanceof org.ovirt.engine.core.common.businessentities.@@ VM@@ ) { vms.@@ add@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (@@ object@@ ))); } else if (@@ obj@@ ect instanceof org.ovirt.engine.core.common.businessentities.@@ vm@@ _@@ pool@@ s) { pool@@ s.@@ add@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ vm@@ _@@ pool@@ s) (@@ object@@ ))); } } } user@@ Port@@ al@@ Bas@@ ic@@ List@@ Model.set@@ vm@@ s(@@ vm@@ s); user@@ Port@@ al@@ Bas@@ ic@@ List@@ Model.set@@ pool@@ s(@@ pool@@ s); user@@ Port@@ al@@ Bas@@ ic@@ List@@ Model.@@ On@@ Vm@@ And@@ Pool@@ Lo@@ ad@@ (); }
protected void remove@@ VmNetwork@@ Interfaces@@ () { org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manager@@ (m@@ ac@@ Pool@@ ).@@ remove@@ All@@ (get@@ Vm@@ Id()); }
public void set@@ R@@ ng@@ By@@ t@@ es(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model.@@ Not@@ Chang@@ able@@ For@@ Vm@@ In@@ Pool@@ ListModel@@ <@@ java.lang.Boolean@@ > r@@ ng@@ By@@ t@@ es@@ ) { this@@ .@@ r@@ ng@@ By@@ te@@ s = r@@ ng@@ By@@ t@@ es@@ ; }
@java.lang.Override public void execute@@ Command() { java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ Disk@@ > vm@@ Disks@@ To@@ Att@@ ac@@ h = org.ovirt.engine.core.bll.@@ ImportVm@@ From@@ Configuration@@ Command.getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ (); cl@@ e@@ ar@@ Vm@@ Disks@@ (); org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters import@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ From@@ Configuration@@ Command.getVm@@ (), org.ovirt.engine.core.compat.Guid.@@ Empty@@ , org.ovirt.engine.core.compat.Guid.@@ Empty@@ , org.ovirt.engine.core.bll.@@ ImportVm@@ From@@ Configuration@@ Command.get@@ VdsGroup@@ ().get@@ StoragePool@@ Id@@ ().get@@ Value@@ (), org.ovirt.engine.core.bll.@@ ImportVm@@ From@@ Configuration@@ Command.get@@ VdsGroup@@ ().get@@ Id()); import@@ Param@@ s.set@@ Vm@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ From@@ Configuration@@ Command.getVm@@ ()); import@@ Param@@ s.set@@ VdsGroup@@ Id@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ From@@ Configuration@@ Command.getParameters().get@@ VdsGroup@@ Id()); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ V@@ al = org.ovirt.engine.core.bll.@@ ImportVm@@ From@@ Configuration@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ ImportVm@@ , import@@ Param@@ s, new org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Context@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ From@@ Configuration@@ Command.get@@ Comp@@ ens@@ ation@@ Context@@ ())); if (@@ return@@ Val@@ .get@@ Succeeded@@ ()) && (!@@ (vm@@ Disks@@ To@@ Attach@@ .@@ isEmpty@@ ()))) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , at@@ temp@@ t@@ To@@ Attach@@ Disks@@ To@@ Im@@ ported@@ Vm@@ (vm@@ Disks@@ To@@ Attach@@ )); } set@@ Action@@ ReturnValue@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ From@@ Configuration@@ Command.getVm@@ ().get@@ Id()); set@@ Succeeded@@ (@@ return@@ Val@@ .get@@ Succeeded@@ ()); }
@java.lang.Override public java.lang.String get@@ V@@ er@@ b@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 1@@ ) { return org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Oper@@ ation.@@ B@@ ON@@ D_@@ W@@ I@@ TH@@ .get@@ V@@ er@@ b@@ (@@ op@@ 1@@ ); }
@java.lang.Override protected boolean canDoAction@@ () { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volum@@ e = get@@ GlusterVolume@@ (); if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } if ((((@@ volum@@ e.get@@ AsyncTask@@ ()) == null@@ ) || ((@@ volum@@ e.get@@ AsyncTask@@ ().get@@ Type()) != (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ Task@@ Type.@@ RE@@ M@@ OV@@ E_@@ B@@ R@@ IC@@ K@@ ))) || ((@@ volum@@ e.get@@ AsyncTask@@ ().get@@ Status()) != (org.ovirt.engine.core.common.@@ job.@@ Job@@ Execution@@ Status.@@ ST@@ AR@@ T@@ ED@@ ))) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ RE@@ M@@ OV@@ E_@@ B@@ R@@ IC@@ K_@@ NOT_@@ ST@@ AR@@ T@@ ED); } return true@@ ; }
@java.lang.Override protected void execute@@ Command() { for (org.ovirt.engine.core.compat.Guid vds@@ Id : org.ovirt.engine.core.bll.@@ Det@@ ach@@ Vds@@ From@@ Tag@@ Command.get@@ Vds@@ List@@ ()) { if ((@@ (org.ovirt.engine.core.bll.@@ Det@@ ach@@ Vds@@ From@@ Tag@@ Command.get@@ Tag@@ Id()) != null@@ ) && ((@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Tag@@ Dao().get@@ Tag@@ Vds@@ By@@ Tag@@ Id@@ And@@ By@@ Vds@@ Id@@ (org.ovirt.engine.core.bll.@@ Det@@ ach@@ Vds@@ From@@ Tag@@ Command.get@@ Tag@@ Id(), vds@@ Id@@ )) != null@@ )) { org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vds@@ Dao().get@@ (vds@@ Id); if (@@ vd@@ s != null@@ ) { append@@ Custom@@ Comm@@ a@@ Se@@ par@@ ated@@ Value("@@ Vds@@ Names@@ ", vds.get@@ Name()); } org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Tag@@ Dao().@@ d@@ et@@ ach@@ Vds@@ From@@ Tag@@ (org.ovirt.engine.core.bll.@@ Det@@ ach@@ Vds@@ From@@ Tag@@ Command.get@@ Tag@@ Id(), vds@@ Id); org.ovirt.engine.core.bll.@@ Det@@ ach@@ Vds@@ From@@ Tag@@ Command.set@@ Succeeded@@ (@@ true@@ ); } } }
@java.lang.Override protected org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ Row@@ Map@@ per@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Dynamic@@ > create@@ Entity@@ Row@@ Map@@ per@@ () { return org.ovirt.engine.core.dao.@@ Vm@@ Dynamic@@ Dao@@ Impl.@@ Vm@@ Dynamic@@ Row@@ Mapper.@@ instance@@ ; }
private void t@@ og@@ g@@ le@@ Visi@@ bl@@ e@@ Widget@@ s@@ (@@ int current@@ W@@ id@@ th@@ ) { int w@@ idget@@ W@@ id@@ t@@ h = 0@@ ; boolean fo@@ un@@ d@@ E@@ d@@ g@@ e = false@@ ; if ((@@ cont@@ ent@@ Panel@@ .get@@ Widget@@ Count@@ ()) > 1@@ ) { for (@@ int i = 0@@ ; i < ((@@ cont@@ ent@@ Panel@@ .get@@ Widget@@ Count@@ ()) - 1@@ ); i@@ +@@ +@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ W@@ id@@ ge@@ t w@@ id@@ ge@@ t = cont@@ ent@@ Panel@@ .get@@ Widget@@ (@@ i@@ ); w@@ idget@@ .set@@ Visi@@ bl@@ e@@ (@@ true@@ ); if (@@ fo@@ un@@ d@@ E@@ d@@ g@@ e || ((@@ w@@ idget@@ W@@ id@@ t@@ h + (@@ w@@ idget@@ .get@@ Of@@ f@@ set@@ W@@ id@@ th@@ ())) > current@@ W@@ id@@ th@@ )) { w@@ idget@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); action@@ T@@ ool@@ b@@ ar@@ Button@@ Lis@@ t.get@@ (@@ i@@ )@@ .set@@ C@@ as@@ c@@ a@@ ded@@ (@@ true@@ ); fo@@ un@@ d@@ E@@ d@@ g@@ e = true@@ ; } else { action@@ T@@ ool@@ b@@ ar@@ Button@@ Lis@@ t.get@@ (@@ i@@ )@@ .set@@ C@@ as@@ c@@ a@@ ded@@ (@@ false@@ ); w@@ idget@@ .set@@ Visi@@ bl@@ e@@ (@@ true@@ ); } w@@ idget@@ W@@ id@@ t@@ h +@@ = w@@ idget@@ .get@@ Of@@ f@@ set@@ W@@ id@@ th@@ (); } } }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ P@@ le@@ ase s@@ el@@ ect Host@@ s f@@ ro@@ m the s@@ am@@ e dat@@ a c@@ enter@@ ") java.lang.String re@@ port@@ From@@ D@@ if@@ fer@@ ent@@ D@@ C@@ s@@ Error@@ ();
protected void set@@ Network@@ Id(@@ org.ovirt.engine.api.model.@@ N@@ I@@ C nic@@ ) { if ((@@ nic@@ .is@@ Set@@ Network@@ ()) && (!(@@ nic@@ .get@@ Network@@ ().is@@ Set@@ Id@@ ()))) { org.ovirt.engine.core.compat.Guid cluster@@ Id = get@@ Cluster@@ Id@@ (); org.ovirt.engine.core.common.businessentities.@@ Network n@@ etwork = lo@@ o@@ k@@ up@@ Cluster@@ Network@@ (cluster@@ Id, ((@@ nic@@ .get@@ Network@@ ().get@@ Id()) == null ? null : as@@ Guid@@ (@@ nic@@ .get@@ Network@@ ().get@@ Id@@ ())@@ ), nic@@ .get@@ Network@@ ().get@@ Name()); if (@@ n@@ etwork != null@@ ) { nic@@ .get@@ Network@@ ().set@@ Name@@ (@@ null@@ ); nic@@ .get@@ Network@@ ().set@@ Id(@@ network@@ .getId@@ ().@@ toString()); } } }
@java.lang.Override protected void execute@@ Query@@ Command() { try { execute@@ Query@@ Command@@ Check@@ ed@@ (); } catch (@@ java.io.@@ I@@ O@@ Exception ex@@ ) { log.error("@@ Fail@@ ed to c@@ re@@ ate s@@ ig@@ ne@@ d web@@ s@@ ock@@ e@@ t pro@@ x@@ y tic@@ k@@ et@@ .@@ ", ex@@ ); log.debug@@ ("@@ Exception@@ ", ex@@ ); org.ovirt.engine.core.bll.@@ Get@@ S@@ ig@@ ne@@ d@@ W@@ eb@@ s@@ ock@@ et@@ Proxy@@ T@@ ick@@ et@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ false@@ ); } }
private java.util.Map<java.lang.String, java.lang.String> get@@ Server@@ F@@ ing@@ er@@ p@@ r@@ int@@ s(@@ org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ Node@@ List list@@ Of@@ P@@ e@@ ers@@ ) { java.util.Map<java.lang.String, java.lang.String> f@@ ing@@ er@@ p@@ r@@ int@@ s = new java.util.HashMap<@@ java.lang.String, java.lang.String@@ >(); for (@@ int i = 0@@ ; i < (@@ list@@ Of@@ P@@ e@@ ers@@ .get@@ L@@ ength@@ ()); i@@ +@@ +@@ ) { org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ Nod@@ e fi@@ r@@ st@@ P@@ e@@ er = list@@ Of@@ P@@ e@@ er@@ s.@@ item@@ (@@ i@@ ); if ((@@ fi@@ r@@ st@@ P@@ e@@ er@@ .get@@ Node@@ Type()) == (@@ org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ Nod@@ e.@@ E@@ LE@@ M@@ EN@@ T_@@ NO@@ DE@@ )) { org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ El@@ em@@ ent fi@@ r@@ st@@ Host@@ El@@ em@@ ent = ((@@ org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ Element@@ ) (@@ fi@@ r@@ st@@ P@@ e@@ er@@ )); int stat@@ e = org.ovirt.engine.core.utils.@@ X@@ ml@@ Util@@ s.get@@ In@@ t@@ Value(@@ fi@@ r@@ st@@ Host@@ Element@@ , org.ovirt.engine.core.utils.@@ gluster.Gluster@@ Uti@@ l.@@ ST@@ AT@@ E); if (@@ stat@@ e == (@@ org.ovirt.engine.core.utils.@@ gluster.Gluster@@ Uti@@ l.@@ P@@ E@@ ER_@@ IN@@ _C@@ LUST@@ ER@@ )) { java.lang.String host@@ Name = org.ovirt.engine.core.utils.@@ X@@ ml@@ Util@@ s.get@@ Text@@ Value(@@ fi@@ r@@ st@@ Host@@ Element@@ , org.ovirt.engine.core.utils.@@ gluster.Gluster@@ Uti@@ l.@@ HOST@@ _@@ NAM@@ E); f@@ ing@@ er@@ p@@ r@@ int@@ s.@@ put(@@ host@@ Name, get@@ F@@ ing@@ er@@ p@@ r@@ int@@ (@@ host@@ Name@@ )); } } return f@@ ing@@ er@@ p@@ r@@ int@@ s@@ ; }
@org.junit.Test public void test@@ Is@@ Bal@@ loon@@ Enabled@@ () throw@@ s java.lang.Exception { assert@@ F@@ als@@ e(@@ Os@@ Rep@@ os@@ it@@ ory@@ Impl.@@ IN@@ ST@@ AN@@ C@@ E@@ .get@@ Bal@@ loon@@ Enabled@@ (@@ 7@@ ).get@@ (@@ null@@ )); }
private boolean is@@ Succeeded@@ With@@ Reason@@ G@@ i@@ v@@ en@@ () { return (org.ovirt.engine.core.bll.@@ M@@ a@@ int@@ en@@ ance@@ Vds@@ Command.get@@ Vds@@ ().get@@ M@@ a@@ int@@ en@@ ance@@ Reason@@ ()) && (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (org.ovirt.engine.core.bll.@@ M@@ a@@ int@@ en@@ ance@@ Vds@@ Command.get@@ Vds@@ ().get@@ M@@ a@@ int@@ en@@ ance@@ Reason@@ ()))); }
@java.lang.Override protected void w@@ rite@@ H@@ ead@@ er@@ () { super@@ .@@ w@@ rite@@ H@@ ead@@ er@@ (); _@@ wr@@ it@@ er.@@ set@@ Pre@@ fi@@ x@@ ("@@ ovir@@ t@@ ", "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ .@@ ovirt.@@ or@@ g@@ /@@ ovf@@ "); _@@ wr@@ it@@ er.@@ w@@ rite@@ Names@@ p@@ ace@@ ("@@ ovir@@ t@@ ", "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ rite@@ Names@@ p@@ ace@@ ("@@ ovir@@ t@@ ", "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ rite@@ Names@@ p@@ ace@@ ("@@ ovir@@ t@@ ", "@@ http@@ :@@ /@@ w@@ rite@@ Names@@ p@@ ace@@ ("@@ ovir@@ t@@ ", "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ w@@ rite@@ Names@@ p@@ ace@@ ("@@ ovir@@ t@@ ", "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ rite@@ Names@@ p@@ ace@@ ("@@ ovir@@ t@@ ", "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ rite@@
@org.junit.@@ B@@ e@@ for@@ e public void pre@@ par@@ e@@ Param@@ s() { org.ovirt.engine.core.compat.Guid id = org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ (); org.ovirt.engine.core.compat.Guid id@@ 2 = org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ (); new@@ N@@ FS@@ Conn@@ ec@@ tion = create@@ N@@ FS@@ Connection@@ (@@ id@@ , "@@ m@@ ulti@@ p@@ as@@ s.@@ m@@ y@@ .@@ do@@ m@@ ain@@ .@@ t@@ l@@ v@@ .@@ comp@@ any@@ .@@ com@@ :@@ /@@ ex@@ port@@ /@@ all@@ storage@@ /@@ data@@ 2@@ ", StorageType.@@ N@@ FS@@ , N@@ fs@@ Version@@ .@@ V@@ 4@@ , 3@@ 00@@ , 0@@ ); new@@ P@@ os@@ i@@ x@@ Conn@@ ec@@ tion = create@@ P@@ os@@ i@@ x@@ Connection@@ (@@ id@@ 2@@ , "@@ m@@ ulti@@ p@@ as@@ s.@@ m@@ y@@ .@@ do@@ m@@ ain@@ .@@ t@@ l@@ v@@ .@@ comp@@ any@@ .@@ com@@ :@@ /@@ ex@@ port@@ /@@ all@@ storage@@ /@@ data@@ 1@@ ", StorageType.@@ P@@ O@@ SI@@ X@@ FS@@ , "@@ n@@ fs@@ ", "@@ time@@ o@@ =@@ 3@@ 0@@ "); old@@ N@@ FS@@ Conn@@ ec@@ tion = create@@ N@@ FS@@ Connection@@ (@@ id@@ , "@@ m@@ ulti@@ p@@ as@@ s.@@ m@@ y@@ .@@ do@@ m@@ ain@@ .@@ t@@ l@@ v@@ .@@ comp@@ any@@ .@@ com@@ :@@ /@@ ex@@ port@@ /@@ storage@@ /@@ data@@ 1@@ ", StorageType.@@ N@@ FS@@ , N@@ fs@@ Version@@ .@@ V@@ 4@@ , 5@@ 0@@ , 0@@ ); old@@ P@@ os@@ i@@ x@@ Conn@@ ec@@ tion = create@@ P@@ os@@ i@@ x@@ Connection@@ (@@ id@@ , "@@ m@@ ulti@@ p@@ as@@ s.@@ m@@ y@@ .@@ do@@ m@@ ain@@ .@@ t@@ l@@ v@@ .@@ comp@@ any@@ .@@ com@@ :@@ /@@ ex@@ port@@ /@@ all@@ storage@@ /@@ data@@ 1@@ ", StorageType.@@ P@@ O@@ SI@@ X@@ FS@@ , "@@ n@@ fs@@ ", "@@ time@@ o@@ =@@ 3@@ 0@@ "); pre@@ par@@ e@@ Command@@ (@@ new@@ N@@ FS@@ Connection@@ ); }
@java.lang.Override public void set@@ Sp@@ ice@@ P@@ lu@@ gin@@ Im@@ pl@@ Enabled@@ (@@ boolean en@@ abled@@ , java.lang.String re@@ ason@@ ) { sp@@ ice@@ P@@ lu@@ gin@@ Im@@ pl@@ R@@ ad@@ i@@ o@@ Button@@ .set@@ Visi@@ bl@@ e(@@ en@@ abled@@ ); sp@@ ice@@ P@@ lu@@ gin@@ Im@@ pl@@ R@@ ad@@ i@@ o@@ Button@@ .set@@ Enabled@@ (@@ en@@ abled@@ ); if (!@@ en@@ abled@@ ) { sp@@ ice@@ P@@ lu@@ gin@@ Im@@ pl@@ R@@ ad@@ i@@ o@@ Button@@ T@@ ooltip@@ .set@@ Text@@ (@@ re@@ ason@@ ); } }
private void b@@ e@@ for@@ e@@ F@@ ir@@ st@@ Re@@ fresh@@ T@@ re@@ at@@ ment@@ (@@ boolean is@@ Vds@@ Up@@ Or@@ G@@ o@@ ing@@ To@@ M@@ a@@ int@@ en@@ ance@@ ) { if (@@ _@@ vds@@ Manager@@ .get@@ b@@ e@@ for@@ e@@ F@@ ir@@ st@@ Re@@ fresh@@ ()) { boolean f@@ l@@ ag@@ s@@ Chang@@ ed = false@@ ; final java.util.@@ con@@ c@@ urr@@ ent.@@ at@@ om@@ ic@@ .@@ A@@ t@@ om@@ ic@@ B@@ oolean pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ e@@ ded@@ Tem@@ p = new java.util.@@ con@@ c@@ urr@@ ent.@@ at@@ om@@ ic@@ .@@ A@@ t@@ om@@ ic@@ Boolean@@ (); _@@ vds@@ Manager.@@ re@@ fresh@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ (@@ pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ e@@ ded@@ Tem@@ p@@ , _@@ vds@@ ); f@@ l@@ ag@@ s@@ Chang@@ ed = pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ e@@ ded@@ Tem@@ p@@ .get@@ (); _@@ vds@@ Manager.@@ set@@ b@@ e@@ for@@ e@@ F@@ ir@@ st@@ Re@@ fresh@@ (@@ false@@ ); re@@ fresh@@ ed@@ C@@ ap@@ ab@@ il@@ iti@@ es = true@@ ; _@@ save@@ Vds@@ Dynam@@ ic = true@@ ; pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ e@@ e@@ e@@ de@@ d = (@@ pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ e@@ e@@ ded@@ ) ? pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ e@@ e@@ e@@ de@@ d : f@@ l@@ ag@@ s@@ Changed@@ ; } else if (is@@ Vds@@ Up@@ Or@@ G@@ o@@ ing@@ To@@ M@@ a@@ int@@ en@@ an@@ an@@ c@@ e || ((@@ _@@ vds.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Error@@ ))) { return@@ ; } if ((@@ _@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(@@ _@@ vds.get@@ Id()); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ Vds@@ Status@@ ", _@@ vds.get@@ Status@@ ().@@ toString()); au@@ ditLog@@ (@@ log@@ able@@ , AuditLogType.@@ VDS@@ _@@ D@@ ET@@ EC@@ T@@ ED); } } }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object ReturnValue@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Q@@ oS@@ > network@@ Q@@ o@@ Se@@ s = ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Q@@ oS@@ >) (@@ ReturnValue@@ )); get@@ Network@@ Q@@ oS@@ ().set@@ Items(@@ network@@ Q@@ oS@@ es@@ ); get@@ Network@@ Q@@ oS@@ ().set@@ SelectedItem@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ fin@@ d@@ Network@@ Qos@@ By@@ Id(@@ network@@ Q@@ oS@@ es@@ , default@@ Qos@@ Id@@ )); }
@java.lang.Override public void init@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ GeoRep@@ Create@@ Model model@@ ) { super@@ .@@ init@@ (model@@ ); model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { if (@@ arg@@ s.@@ proper@@ ty@@ Nam@@ e.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ ase@@ ("@@ Rec@@ omm@@ end@@ ation@@ Vi@@ ol@@ ation@@ s@@ "@@ )) { get@@ View@@ ().set@@ Su@@ g@@ g@@ es@@ ted@@ Config@@ Vi@@ ol@@ ation@@ s(@@ model.get@@ Rec@@ omm@@ end@@ ation@@ Vi@@ ol@@ ation@@ s()); } else if (@@ arg@@ s.@@ proper@@ ty@@ Nam@@ e.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ ase@@ ("@@ Query@@ Fail@@ ed@@ "@@ )) { get@@ View@@ ().set@@ Fail@@ ure@@ Message@@ (model.get@@ Query@@ Fail@@ ure@@ Message@@ ()); } } }); }
public static java.util.Collection@@ <@@ java.lang.String> re@@ pl@@ ace@@ With@@ (java.lang.String proper@@ ty@@ Name, java.util.List<@@ java.lang.Object> item@@ s) { int s@@ iz@@ e = java.lang.@@ M@@ ath@@ .m@@ in@@ (@@ org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ MA@@ X@@ _@@ N@@ U@@ M@@ B@@ ER_@@ O@@ F@@ _P@@ R@@ IN@@ T@@ ED_@@ I@@ T@@ EM@@ S@@ , item@@ s.@@ size@@ ()); java.util.List<java.lang.String> p@@ r@@ int@@ ed@@ Item@@ s = new java.util.ArrayList<@@ java.lang.String@@ >@@ (s@@ ize@@ ); for (@@ int i = 0@@ ; i < size@@ ; i@@ +@@ +@@ ) { java.lang.Object i@@ te@@ m = item@@ s.get@@ (@@ i@@ ); if (@@ i@@ te@@ m != null@@ ) { p@@ r@@ int@@ ed@@ Item@@ s.add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ \@@ t@@ %@@ s", item@@ .@@ toString@@ ())); } } if ((@@ item@@ s.@@ size()) > (@@ org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ MA@@ X@@ _@@ N@@ U@@ M@@ B@@ ER_@@ O@@ F@@ _P@@ R@@ IN@@ T@@ ED_@@ I@@ T@@ EM@@ S@@ )) { p@@ r@@ int@@ ed@@ Item@@ s.@@ add@@ ("@@ \@@ t.@@ .@@ "); } java.util.ArrayList<@@ java.lang.String> re@@ pl@@ acement@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); re@@ pl@@ acement@@ s.add(@@ java.@@ tex@@ t.@@ Message@@ Format@@ .@@ for@@ mat@@ ("@@ $@@ {0@@ } {@@ 1@@ }@@ ", proper@@ ty@@ Name, org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (p@@ r@@ int@@ ed@@ Item@@ s, "@@ ,@@ \@@ n@@ "@@ ))); re@@ pl@@ acement@@ s.add(@@ java.@@ tex@@ t.@@ Message@@ Format@@ .@@ for@@ mat@@ ("@@ $@@ {0@@ }@@ _C@@ O@@ UN@@ T@@ E@@ R {@@ 1@@ }@@ ", proper@@ ty@@ Name, item@@ s.@@ size@@ ())); return re@@ pl@@ acement@@ s@@ ; }
protected boolean Validate@@ No@@ t@@ if@@ ication@@ Method@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Event@@ No@@ t@@ if@@ ication@@ Method@@ > event@@ _@@ not@@ if@@ ication@@ _@@ m@@ eth@@ o@@ ds@@ , org.ovirt.engine.core.common.businessentities.@@ event@@ _@@ sub@@ s@@ cri@@ b@@ er event@@ _@@ sub@@ s@@ cri@@ ber@@ , org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er user@@ ) { boolean ret@@ Value = true@@ ; org.ovirt.engine.core.common.@@ Event@@ No@@ t@@ if@@ ication@@ Method@@ s not@@ if@@ ication@@ M@@ eth@@ o@@ d = event@@ _@@ not@@ if@@ ication@@ _@@ m@@ eth@@ o@@ ds@@ .get(@@ 0@@ ).get@@ m@@ ethod@@ _@@ type@@ (); switch (@@ not@@ if@@ ication@@ Method@@ ) { case E@@ MA@@ I@@ L : java.lang.String m@@ ail@@ Ad@@ res@@ s = (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ event@@ _@@ sub@@ s@@ cri@@ ber@@ .get@@ m@@ ethod@@ _@@ add@@ ress@@ ())) ? user@@ .get@@ em@@ ail@@ () : event@@ _@@ sub@@ s@@ cri@@ ber@@ .get@@ m@@ ethod@@ _@@ add@@ ress@@ (); if ((@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (m@@ ail@@ Ad@@ ress@@ )) || (!@@ (org.ovirt.engine.core.bll.@@ Event@@ Sub@@ s@@ cription@@ Command@@ Bas@@ e.@@ Valid@@ at@@ M@@ ail@@ Address@@ (m@@ ail@@ Ad@@ ress@@ )@@ ))) { addCanDoActionMessage@@ (VdcBllMessages.@@ US@@ ER_@@ DO@@ E@@ S_NOT_@@ H@@ A@@ V@@ E_@@ A@@ _@@ VALID@@ _@@ E@@ MA@@ IL@@ ); ret@@ Value = false@@ ; } break@@ ; default : addCanDoActionMessage@@ (VdcBllMessages.@@ EN@@ _@@ UN@@ K@@ NO@@ W@@ N@@ _@@ NO@@ TI@@ F@@ IC@@ A@@ TION_@@ M@@ ET@@ HO@@ D@@ ); ret@@ Value = false@@ ; break@@ ; } return ret@@ Value@@ ; }
protected void set@@ Object@@ Name@@ (java.lang.Object object@@ , java.lang.String name@@ , boolean is@@ Su@@ f@@ fi@@ x@@ ) { org.ovirt.engine.core.common.businessentities.VM vm = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ Data@@ ) (@@ object@@ )@@ ).get@@ Vm@@ (); java.lang.String name@@ For@@ Th@@ e@@ Cl@@ on@@ ed@@ V@@ m = (is@@ Su@@ f@@ fi@@ x@@ ) ? (vm.get@@ Name@@ ()) + nam@@ e : name@@ ; vm@@ .set@@ Name(@@ name@@ For@@ Th@@ e@@ Cl@@ on@@ ed@@ Vm@@ ); ass@@ ig@@ ne@@ d@@ Vm@@ Nam@@ es.@@ add(@@ name@@ For@@ Th@@ e@@ Cl@@ on@@ ed@@ Vm@@ ); }
java.lang.String storage@@ Is@@ csi@@ Available@@ Action@@ s@@ On@@ M@@ a@@ int@@ en@@ ance@@ Label@@ ();
@java.lang.Override public java.lang.String toString@@ () { return java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s, storageDomain@@ =@@ %@@ s, arg@@ s", super@@ .@@ toString@@ (), get@@ StorageDomain@@ (), get@@ Arg@@ s()); }
protected void h@@ andle@@ Set@@ Message@@ Query@@ Result@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Query@@ Async@@ Result result) { set@@ Help@@ Tag@@ (get@@ Remove@@ Qos@@ Help@@ Tag@@ ()); set@@ Hash@@ Name@@ (get@@ Remove@@ Qos@@ Help@@ Help@@ Tag@@ ()); int in@@ de@@ x = 0@@ ; int num@@ ber@@ Of@@ Tim@@ es@@ Us@@ ed@@ By@@ Disk@@ Profile@@ s = 0@@ ; java.util.ArrayList<@@ java.lang.String> lis@@ t = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.@@ queries.@@ Query@@ ReturnValue return@@ Value : result.get@@ Return@@ Valu@@ es@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Name@@ able@@ > disk@@ Profile@@ Enti@@ ti@@ es = return@@ Value.get@@ ReturnValue@@ (); java.lang.String q@@ os@@ Name = source@@ List@@ Model.get@@ SelectedItem@@ s().get@@ (in@@ dex@@ ).get@@ Name@@ (); if ((@@ disk@@ Profile@@ Enti@@ ties.@@ size()) == 0) { lis@@ t.@@ add(@@ q@@ os@@ Name); } else { num@@ ber@@ Of@@ Tim@@ es@@ Us@@ ed@@ By@@ Disk@@ Profile@@ s +@@ = disk@@ Profile@@ Enti@@ ties.@@ size@@ (); java.util.List<java.lang.String> disk@@ Profile@@ Name@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ Name@@ able disk@@ Profile@@ Entity : disk@@ Profile@@ Enti@@ ties@@ ) { java.lang.String disk@@ Profile@@ Name = disk@@ Profile@@ Entity@@ .getName@@ (); disk@@ Profile@@ Nam@@ es.@@ add(@@ disk@@ Profile@@ Name); } java.lang.String disk@@ Profile@@ Names@@ As@@ Strin@@ g = disk@@ Profile@@ Nam@@ es.@@ stream@@ ().@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ , ")); lis@@ t.@@ add(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ remove@@ Storage@@ Q@@ oS@@ Item@@ (@@ q@@ os@@ Name, disk@@ Profile@@ Names@@ As@@ String@@ )); } in@@ dex@@ +@@ +@@ ; } set@@ Message@@ (get@@ Remove@@ Qos@@ Message@@ (@@ num@@ ber@@ Of@@ Tim@@ es@@ Us@@ ed@@ By@@ Disk@@ Profil@@ es@@ )); set@@ Items(@@ list@@ ); }
protected void load@@ Template@@ Data@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate template@@ ) { set@@ Manage@@ d@@ Devic@@ es(@@ template@@ ); if (((@@ templat@@ e.get@@ Interfaces@@ ()) == null@@ ) || (@@ templat@@ e.get@@ Interfaces@@ ().is@@ Empty@@ ())) { templat@@ e.set@@ Interfaces@@ (get@@ VmNetwork@@ Interface@@ Dao().get@@ AllFor@@ Template@@ (@@ templat@@ e.get@@ Id@@ ())); } }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Ovf@@ Info@@ > load@@ StorageDomain@@ s@@ Info@@ By@@ Pool@@ Id(@@ org.ovirt.engine.core.compat.Guid storagePool@@ Id);
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { if (!@@ (org.ovirt.engine.core.bll.@@ gluster.@@ GeoRep@@ Session@@ Command@@ Bas@@ e.@@ is@@ Internal@@ Execution@@ ())) { return java.util.Collections.@@ sing@@ leton@@ Map@@ (get@@ GeoRep@@ Session@@ ().get@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ GLUSTER_@@ G@@ E@@ OR@@ E@@ P@@ , EngineMessage.ACTION_TYPE_FAILED_@@ G@@ E@@ OR@@ E@@ P@@ _S@@ ES@@ SI@@ ON_@@ LO@@ C@@ K@@ ED@@ )); } return null@@ ; }
@org.junit.Test public void canDoAction@@ _@@ vm@@ Name@@ Exist@@ s@@ _@@ Test@@ () { do@@ Return@@ (@@ new org.ovirt.engine.core.common.@@ scheduling.@@ Af@@ finity@@ Group@@ ()).@@ when(@@ af@@ finity@@ Group@@ Dao@@ ).get@@ By@@ Name(@@ any@@ String@@ ()); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ A@@ F@@ F@@ IN@@ I@@ TY@@ _@@ G@@ RO@@ UP@@ _@@ NAM@@ E_@@ EXIST@@ S@@ ); }
public void for@@ ce@@ Remove@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Constant@@ s@@ ()@@ .@@ for@@ ce@@ Remove@@ DataCenter@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ Tag@@ .@@ for@@ ce@@ _@@ remove@@ _@@ data@@ _@@ c@@ enter@@ ); model.set@@ Hash@@ Name(@@ "@@ for@@ ce@@ _@@ remove@@ _@@ data@@ _@@ c@@ enter@@ "); model.get@@ L@@ atch@@ ().setIs@@ Available@@ (@@ true@@ ); model.get@@ L@@ atch@@ ().setIs@@ Chang@@ able@@ (@@ true@@ ); java.util.ArrayList<@@ java.lang.String> lis@@ t = new java.util.ArrayList<@@ java.lang.String@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Pool a : org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ <org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ >@@ c@@ ast@@ (get@@ SelectedItem@@ s@@ ())) { lis@@ t.@@ add(@@ a@@ .get@@ Name()); if ((@@ a@@ .get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Status.@@ Un@@ initial@@ iz@@ ed@@ )) { shoul@@ d@@ Address@@ W@@ ar@@ n@@ ing = true@@ ; } } model.set@@ Items(@@ list@@ ); org.ovirt.engine.ui.uicommonweb.UICommand temp@@ V@@ a@@ r = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ For@@ ce@@ Remove@@ ", this@@ ); tempVar@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ()); tempVar@@ .set@@ Is@@ Default@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ ); org.ovirt.engine.ui.uicommonweb.UICommand tempVar@@ 2 = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ ", this@@ ); tempVar@@ 2@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); tempVar@@ 2@@ .set@@ Is@@ Cancel@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ 2@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.compat.Guid task@@ Id = p@@ ers@@ ist@@ AsyncTask@@ P@@ l@@ ace@@ H@@ ol@@ der@@ (VdcActionType.@@ Remove@@ VmTemplate@@ ); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Delet@@ e@@ ImageGroup@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ P@@ ost@@ Z@@ er@@ o@@ Handler.@@ fi@@ x@@ Parameters@@ With@@ P@@ ost@@ Z@@ er@@ o@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ Delet@@ e@@ ImageGroup@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ ImageGroup@@ ID@@ (), org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ (), false@@ ))); if (vds@@ Return@@ Value.get@@ Succeeded@@ ()) { org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.get@@ ReturnValue().get@@ Internal@@ Vds@@ m@@ Task@@ Id@@ List@@ ().add@@ (c@@ reate@@ Task@@ (@@ task@@ Id, vds@@ Return@@ Value.get@@ Cre@@ ation@@ Info@@ (), Vdc@@ ActionType.@@ Remove@@ VmTemplate@@ , Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ())); org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.set@@ Succeeded@@ (@@ true@@ ); } }
@java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Bas@@ ic@@ List@@ Model model = b@@ as@@ ic@@ List@@ Provider@@ .get@@ Model@@ (); model.@@ execute@@ Command(@@ model.get@@ Edit@@ Command@@ ()); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value = run@@ Internal@@ Action(VdcActionType.@@ Host@@ Setup@@ Network@@ s, new org.ovirt.engine.core.common.action.@@ Host@@ SetupNetworks@@ Parameters@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Add@@ NetworkAttachment@@ Command.getParameters().get@@ Vds@@ Id(), return@@ Value@@ ); set@@ Succeeded@@ (@@ return@@ Value.get@@ Succeeded@@ ()); }
@org.junit.Test public void test@@ G@@ ust@@ Ip@@ () { org.ovirt.engine.core.common.businessentities.VM vm = new org.ovirt.engine.core.common.businessentities.@@ VM@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ Dynam@@ ic = new org.ovirt.engine.core.common.businessentities.Vm@@ Dynamic@@ (); vm@@ Dynamic@@ .set@@ Status(@@ VMStatus.@@ Up@@ ); vm@@ Dynamic@@ .set@@ Vm@@ Ip@@ ("@@ 2@@ .@@ 2@@ .@@ 2@@ .@@ 2@@ "); vm@@ .set@@ Dynamic@@ Data@@ (vm@@ Dynamic@@ ); org.ovirt.engine.api.model.@@ VM ma@@ p = org.ovirt.engine.api.restapi.@@ types.@@ Vm@@ Mapper.@@ map@@ (vm@@ , ((@@ org.ovirt.engine.api.model.@@ VM@@ ) (@@ null@@ ))); assert@@ Not@@ Null@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ Ip@@ s().get@@ Ip@@ s().get@@ (0@@ )); assert@@ Equals@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ Ip@@ s().get@@ (0@@ ).get@@ Address@@ (), "@@ 2@@ .@@ 2@@ "); }
public static java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e create@@ Vm@@ Numa@@ Node@@ (@@ int in@@ dex@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Node@@ > vds@@ Numa@@ Nod@@ es@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e num@@ a@@ Nod@@ e = org.ovirt.engine.core.bll.@@ utils.@@ Numa@@ Test@@ Utils.@@ create@@ Vm@@ Numa@@ Node@@ (in@@ dex@@ ); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e.@@ P@@ in@@ ning@@ > num@@ a@@ P@@ in@@ n@@ ing = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Nod@@ e vds@@ Numa@@ Nod@@ e : vds@@ Numa@@ Nod@@ es@@ ) { num@@ a@@ P@@ in@@ n@@ ing.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e.@@ P@@ in@@ ning@@ (vds@@ Numa@@ Nod@@ e.get@@ Id(), true@@ , vds@@ Numa@@ Nod@@ e.get@@ In@@ dex@@ ())); } num@@ a@@ Nod@@ e.set@@ Vds@@ Numa@@ Node@@ List(@@ num@@ a@@ P@@ in@@ ning@@ ); return num@@ a@@ Node@@ ; }
private void Run@@ () { java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > lis@@ t = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); for (java.lang.Object i@@ te@@ m : get@@ SelectedItem@@ s()) { org.ovirt.engine.core.common.businessentities.VM a = ((org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (@@ item@@ )); boolean re@@ initial@@ iz@@ e = (!(@@ a@@ .get@@ is@@ _@@ initial@@ iz@@ ed@@ ())) && (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Is@@ W@@ in@@ do@@ w@@ s@@ Os@@ Type(@@ a@@ .get@@ vm@@ _@@ os@@ ())); org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s temp@@ V@@ a@@ r = new org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s(@@ a@@ .getId()); tempVar@@ .set@@ Re@@ initial@@ iz@@ e(@@ re@@ initial@@ ize@@ ); lis@@ t.@@ add(@@ tempVar@@ ); } org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Multiple@@ Action(VdcActionType.@@ RunVm@@ , list@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void Execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { } }, null@@ ); }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Contex@@ t contex@@ t@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der s@@ b@@ , java.lang.String id@@ ) { if (@@ volum@@ e == null@@ ) { return@@ ; } int up@@ Brick@@ s = 0@@ ; int do@@ wn@@ Brick@@ s = 0@@ ; for (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity b@@ r@@ ic@@ k : volum@@ e.get@@ Brick@@ s()) { if (@@ brick@@ .is@@ On@@ lin@@ e@@ ()) { up@@ Brick@@ s@@ +@@ +@@ ; } else { do@@ wn@@ Brick@@ s@@ +@@ +@@ ; } } com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource up@@ Image = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Brick@@ Status@@ C@@ el@@ l@@ .@@ do@@ wn@@ Image@@ (); com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource do@@ wn@@ Image = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Brick@@ Status@@ C@@ el@@ l@@ .@@ do@@ wn@@ Image@@ (); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l up@@ Image@@ Ht@@ m@@ l = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Prot@@ ot@@ yp@@ e.c@@ reate@@ (@@ up@@ Image@@ ).get@@ H@@ T@@ M@@ L@@ ()); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l do@@ wn@@ Image@@ Ht@@ m@@ l = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Prot@@ ot@@ yp@@ e.c@@ reate@@ (@@ do@@ wn@@ Image@@ ).get@@ H@@ T@@ M@@ L@@ ()); s@@ b@@ .@@ append@@ (@@ ap@@ plication@@ Templ@@ at@@ es.@@ volume@@ Brick@@ Status@@ Template@@ (@@ up@@ Image@@ Ht@@ ml@@ , up@@ Brick@@ s, do@@ wn@@ Brick@@ s, id@@ )); }
@org.junit.Test public void test@@ Json@@ Empty@@ Disk@@ Description@@ () throw@@ s java.io.@@ I@@ O@@ Exception { disk@@ .set@@ Disk@@ Alias@@ ("@@ Disk@@ Alias@@ "); disk@@ .set@@ Disk@@ Description@@ ("@@ "); org.ovirt.engine.core.bll.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test@@ .@@ assert@@ Disk@@ Description@@ Map@@ (); }
@java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Data import@@ Data = objec@@ t.get@@ Disk@@ Import@@ Data@@ (disk@@ .getId()); java.util.ArrayList<@@ java.lang.String> storageDomain@@ s@@ Name@@ List = new java.util.ArrayList<@@ java.lang.String@@ >(); org.ovirt.engine.core.common.businessentities.Storage@@ Domain selected@@ Storage@@ Domain = null@@ ; if (@@ (@@ import@@ Data != null@@ ) && (@@ import@@ Data@@ .get@@ StorageDomain@@ s()) != null@@ )) { for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain storage@@ Domain : import@@ Data@@ .get@@ StorageDomain@@ s()) { storageDomain@@ s@@ Name@@ List.@@ add(@@ storageDomain@@ .get@@ storage_@@ name@@ ()); if (@@ (@@ import@@ Data@@ .get@@ Selected@@ StorageDomain@@ ()) != null@@ ) { if (@@ storageDomain@@ .getId@@ ().@@ equals@@ (@@ import@@ Data@@ .get@@ Selected@@ StorageDomain@@ ().get@@ Id@@ ())) { selected@@ Storage@@ Domain = storageDomain@@ ; } } } } ((@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Custom@@ Sel@@ ection@@ C@@ el@@ l@@ ) (get@@ C@@ el@@ l@@ ())@@ )@@ .set@@ Option@@ s(@@ storageDomain@@ s@@ Name@@ List@@ ); if (!(@@ storageDomain@@ s@@ Name@@ List.@@ isEmpty@@ ())) { if (s@@ elected@@ Storage@@ Domain != null@@ ) { return selected@@ StorageDomain@@ .get@@ storage_@@ name@@ (); } else { return storageDomain@@ s@@ Name@@ Lis@@ t.get@@ (0@@ ); } } return "@@ "; }
public boolean is@@ Update@@ S@@ ign@@ at@@ ure(@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ M@@ eth@@ o@@ d m@@ ethod@@ ) { return ((@@ m@@ ethod@@ .get@@ Base@@ ()) != null@@ ) && (m@@ ethod@@ .get@@ Base@@ ().get@@ Name@@ ().@@ equals(@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ to@@ ol.@@ util.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ UP@@ D@@ AT@@ E@@ )); }
private void f@@ et@@ ch@@ Storage@@ Status@@ (org.ovirt.engine.core.compat.Guid storageDomain@@ Id, java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ > storage@@ Ex@@ tr@@ a@@ Data@@ , java.util.Map<java.lang.String, java.lang.Object> disk@@ Description@@ Map@@ ) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Sh@@ ared@@ Status storage@@ Status = ((org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Sh@@ ared@@ Status@@ ) (disk@@ Description@@ Map@@ .get(@@ Ovf@@ Info@@ File@@ Constants.@@ Domain@@ Status@@ ))); org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ log.debug@@ ("@@ Stor@@ age do@@ ma@@ in stat@@ u@@ s '{}@@ ' f@@ et@@ ch@@ ed f@@ ro@@ m m@@ et@@ ad@@ at@@ a j@@ s@@ on fil@@ e for stor@@ age id '{}@@ '@@ .@@ ", storage@@ Status@@ , storageDomain@@ Id); if (@@ storage@@ Status != null@@ ) { storage@@ Ex@@ tr@@ a@@ Data@@ .@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ (@@ storageDomain@@ Id, org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Storage@@ , storageDomain@@ Id, storage@@ Status.@@ name@@ ())); } } }
@java.lang.Override public org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > map@@ Row@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ s@@ yn@@ th@@ et@@ ic@@ -@@ ac@@ cess@@ ") org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > enti@@ ty = new org.ovirt.engine.core.common.utils.Pair@@ (); entity.set@@ F@@ ir@@ st@@ (@@ org.ovirt.engine.core.dao.@@ Vm@@ Dao@@ Impl.@@ VM@@ Row@@ Mapper.@@ in@@ stan@@ c@@ e.@@ map@@ Row@@ (r@@ s, row@@ Num@@ )); entity.set@@ Sec@@ ond@@ (@@ VmDevice@@ Dao@@ Impl.@@ VmDevice@@ Row@@ Mapper.@@ in@@ stan@@ c@@ e.@@ map@@ Row@@ (r@@ s, row@@ Num@@ )); return entity@@ ; }
private void stor@@ e@@ Ip@@ v@@ 6@@ (@@ java.lang.String@@ Buil@@ der out@@ put@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network if@@ ac@@ e) { stor@@ e@@ Ip@@ (@@ out@@ put@@ , new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler.@@ Ip@@ v@@ 6@@ Info@@ F@@ et@@ ch@@ er@@ (@@ if@@ ace@@ )); }
types.@@ D@@ n@@ s@@ Server@@ s d@@ n@@ s@@ Server@@ s();
protected org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Us@@ er p@@ op@@ ul@@ ate@@ User@@ Data@@ (org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Us@@ er user@@ , java.lang.String do@@ m@@ ain@@ ) { if (@@ us@@ er == null@@ ) { return null@@ ; } user.@@ set@@ Domain@@ Cont@@ ro@@ l@@ er@@ (@@ do@@ m@@ ain@@ ); java.util.HashMap<@@ java.lang.String, org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group@@ > group@@ s@@ D@@ ic@@ t = new java.util.HashMap<@@ java.lang.String, org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group@@ >(); org.ovirt.engine.core.bll.@@ ad@@ broker.@@ Group@@ s@@ D@@ N@@ Query@@ Gener@@ ator gener@@ ator = new org.ovirt.engine.core.bll.@@ ad@@ broker.@@ Group@@ s@@ D@@ N@@ Query@@ Gener@@ ator@@ (); pro@@ ce@@ ed@@ Group@@ s@@ Search@@ Result@@ (@@ user@@ .get@@ Mem@@ ber@@ o@@ f@@ (), group@@ s@@ D@@ ic@@ t@@ , gener@@ ator@@ ); user.@@ set@@ Group@@ s(@@ group@@ s@@ D@@ ic@@ t@@ ); return user@@ ; }
private static org.ovirt.engine.core.common.businessentities.Storage@@ Pool create@@ New@@ StoragePool@@ () { org.ovirt.engine.core.common.businessentities.Storage@@ Pool p@@ oo@@ l = org.ovirt.engine.core.bll.storage.@@ Update@@ StoragePool@@ Command@@ Test.@@ create@@ Bas@@ ic@@ Pool@@ (); p@@ oo@@ l.@@ set@@ c@@ ompatibility@@ _@@ version@@ (org.ovirt.engine.core.bll.storage.@@ Update@@ StoragePool@@ Command@@ Test.@@ V@@ ER@@ SI@@ ON_@@ 1@@ _@@ 1@@ ); return pool@@ ; }
public boolean validate@@ Vm@@ Properties@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , java.util.List<java.lang.String> mess@@ ages@@ ) { java.util.List<@@ org.ovirt.engine.core.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Custom@@ Properties@@ Utils.@@ Validation@@ Error@@ > valid@@ ation@@ Error@@ s = get@@ Vm@@ Properties@@ Util@@ s().@@ validate@@ VM@@ Properties@@ (vm.get@@ VdsGroup@@ CompatibilityVersion@@ (), vm.get@@ StaticData@@ ()); if (!(@@ valid@@ ation@@ Error@@ s.@@ isEmpty@@ ())) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ h@@ andle@@ Custom@@ Properties@@ Error@@ (@@ valid@@ ation@@ Error@@ s, mess@@ ages@@ ); return false@@ ; } return true@@ ; }
@java.lang.Override protected boolean validate@@ () { org.ovirt.engine.core.common.businessentities.@@ Tag@@ s t@@ a@@ g = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Tag@@ Dao().get@@ By@@ Name@@ (org.ovirt.engine.core.bll.@@ Update@@ Tag@@ Command.getParameters().get@@ Tag@@ ().get@@ Tag@@ Name()); if ((@@ t@@ a@@ g != null@@ ) && (!(@@ t@@ a@@ g.@@ get@@ Tag@@ Id().@@ equals@@ (org.ovirt.engine.core.bll.@@ Update@@ Tag@@ Command.getParameters().get@@ Tag@@ ().get@@ Tag@@ Id@@ ())@@ ))) { add@@ Validation@@ Message@@ (EngineMessage.@@ T@@ AG@@ S_@@ SP@@ EC@@ I@@ F@@ Y_@@ T@@ AG@@ _@@ I@@ S_@@ IN_@@ US@@ E); return false@@ ; } t@@ a@@ g = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Tag@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Update@@ Tag@@ Command.getParameters().get@@ Tag@@ ().get@@ Tag@@ Id()); if (((@@ t@@ a@@ g.@@ get@@ Is@@ Re@@ a@@ do@@ n@@ ly@@ ()) != null@@ ) && (@@ t@@ a@@ g.@@ get@@ Is@@ Re@@ a@@ do@@ n@@ ly@@ ())) { add@@ Validation@@ Message@@ (EngineMessage.@@ T@@ AG@@ S_@@ C@@ ANNOT_@@ ED@@ I@@ T_@@ RE@@ AD@@ ON@@ L@@ Y_@@ T@@ AG@@ ); return false@@ ; } return true@@ ; }
protected static void re@@ port@@ Un@@ sup@@ ported@@ VnicProfile@@ Feat@@ ur@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic nic@@ , org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e vnic@@ Profile@@ , java.util.List<@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Builder@@ Bas@@ e.@@ V@@ N@@ IC@@ _P@@ RO@@ F@@ IL@@ E_@@ P@@ RO@@ P@@ ER@@ TI@@ ES@@ > un@@ sup@@ ported@@ Feat@@ ur@@ es@@ ) { if (@@ un@@ sup@@ ported@@ Feat@@ ur@@ es.@@ isEmpty@@ ()) { return@@ ; } org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base ev@@ ent = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); ev@@ ent.@@ set@@ Vm@@ Id@@ (vm.get@@ Id()); ev@@ ent.@@ set@@ VdsGroup@@ Id@@ (vm.get@@ VdsGroup@@ Id()); ev@@ ent.@@ set@@ Custom@@ Id(@@ nic@@ .getId@@ ().@@ toString()); ev@@ ent.@@ set@@ CompatibilityVersion@@ (vm.get@@ CompatibilityVersion@@ ().@@ toString()); ev@@ ent.@@ add@@ Custom@@ Value("@@ Nic@@ Name@@ ", nic@@ .get@@ Name()); ev@@ ent.@@ add@@ Custom@@ Value("@@ VnicProfile@@ ", (@@ vnic@@ Profil@@ e == null ? null : vnic@@ Profil@@ e.get@@ Name@@ ())); java.lang.String@@ [@@ ] un@@ sup@@ ported@@ Feat@@ ure@@ Name@@ s = new java.lang.String@@ [@@ un@@ sup@@ ported@@ Feat@@ ur@@ es.@@ size@@ ()@@ ]@@ ; for (@@ int i = 0@@ ; i < (@@ un@@ sup@@ ported@@ Feat@@ ur@@ es.@@ size@@ ()); i@@ +@@ +@@ +@@ ) { un@@ sup@@ ported@@ Feat@@ ure@@ Names@@ [@@ i@@ ] = un@@ sup@@ ported@@ Feat@@ ur@@ es@@ .get(@@ i@@ ).get@@ Feat@@ ure@@ Name@@ (); } ev@@ ent.@@ add@@ Custom@@ Value("@@ Un@@ sup@@ ported@@ Feat@@ ur@@ es@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ un@@ sup@@ ported@@ Feat@@ ure@@ Names@@ , ", ")); new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ ().@@ log@@ (@@ event@@ , AuditLogType.@@ V@@ N@@ IC@@ _P@@ RO@@ F@@ IL@@ E_@@ UN@@ SUP@@ PORT@@ ED_@@ F@@ E@@ AT@@ U@@ RE@@ S@@ ); }
private void set@@ Volume@@ Option@@ s@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ ) { java.util.List<java.lang.String> error@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Option@@ Entity op@@ tion : volum@@ e.get@@ Option@@ s()) { o@@ ption@@ .set@@ Volume@@ Id(@@ volum@@ e.get@@ Id()); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base set@@ Option@@ ReturnValue = run@@ Internal@@ Action(VdcActionType.@@ Set@@ GlusterVolume@@ Option@@ , new org.ovirt.engine.core.common.action.@@ gluster.GlusterVolume@@ Option@@ Parameters(@@ o@@ ption@@ ), create@@ Command@@ Context@@ (@@ volume@@ , o@@ ption@@ )); if (!(@@ set@@ Option@@ Return@@ Value.get@@ Succeeded@@ ())) { set@@ Succeeded@@ (@@ false@@ ); errors.@@ add@@ All@@ (@@ set@@ Option@@ Return@@ Value.get@@ Validation@@ Messages@@ ()); errors.@@ add@@ All@@ (@@ set@@ Option@@ Return@@ Value.get@@ Execu@@ te@@ Fail@@ ed@@ Messages@@ ()); } } if (!(@@ errors.@@ isEmpty@@ ())) { h@@ andle@@ Vds@@ Error@@ s(@@ AuditLogType.@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ O@@ P@@ TION_@@ S@@ E@@ T_@@ FAIL@@ ED@@ , error@@ s); } }
public void p@@ ers@@ ist@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Enti@@ ties@@ (@@ java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Entity@@ > cmd@@ As@@ s@@ oc@@ i@@ ated@@ Enti@@ ties@@ ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Command@@ Entity@@ Dao().@@ in@@ sert@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Enti@@ ties@@ (cmd@@ As@@ s@@ oc@@ i@@ ated@@ Enti@@ ties@@ ); }
@@@ c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Proxy@@ Event public void on@@ U@@ i@@ C@@ ommon@@ Init@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ U@@ i@@ C@@ ommon@@ Init@@ Event event@@ ) { model@@ Provider@@ .get@@ Model().get@@ Entity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { java.lang.Object enti@@ ty = model@@ Provider@@ .get@@ Model().get@@ Entity@@ (); if (@@ enti@@ ty != null@@ ) { on@@ Detail@@ Model@@ Entity@@ Chang@@ e(@@ entity@@ ); } } }); model@@ Provider@@ .get@@ Model().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s pc@@ Arg@@ s = ((@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s) (@@ arg@@ s@@ )); if (@@ PropertyChanged@@ EventArg@@ s.@@ P@@ RO@@ G@@ RE@@ SS@@ .@@ toString@@ ().@@ equals(@@ pc@@ Arg@@ s.@@ proper@@ ty@@ Name@@ )) { if ((@@ model@@ Provider@@ .get@@ Model().get@@ Progress@@ ()) != null@@ ) { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ fer@@ red@@ (@@ new com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er.@@ Schedul@@ ed@@ Command() { @java.lang.Override public void execute@@ () { if ((get@@ T@@ able@@ ()) != null@@ ) { get@@ T@@ able@@ ().set@@ Lo@@ ad@@ ing@@ State@@ (@@ Lo@@ ad@@ ing@@ Stat@@ e.@@ LO@@ AD@@ ING@@ ); } } }); } }); }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") @java.lang.Override public org.ovirt.engine.api.model.@@ Gluster@@ Brick@@ s list@@ () { try { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ Value = run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ GlusterVolume@@ Brick@@ s, new org.ovirt.engine.core.common.queries.@@ gluster.@@ Id@@ Query@@ Parameters(@@ as@@ Guid@@ (get@@ Volume@@ Id@@ ()))); if (!@@ (@@ return@@ Value.get@@ Succeeded@@ ())) { throw new org.ovirt.engine.api.restapi.resource.@@ gluster.@@ Backend@@ Fail@@ ure@@ Exception@@ (@@ local@@ ize@@ (@@ return@@ Value.get@@ Exception@@ String@@ ())); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ > brick@@ s = ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ >) (@@ return@@ Value.get@@ ReturnValue@@ ())); return map@@ Collection@@ (@@ brick@@ s); } catch (@@ java.lang.Exception e) { return h@@ andle@@ Error@@ (@@ e@@ , false@@ ); } }
public boolean is@@ Qu@@ al@@ if@@ y@@ For@@ Check@@ Up@@ dat@@ es@@ () { return (@@ (@@ this@@ ) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) || (@@ (@@ this@@ ) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Non@@ Operation@@ al@@ )); }
@java.lang.Override public void onSuccess@@ (@@ final java.util.List<@@ org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Vdc@@ Operation@@ <@@ org.ovirt.engine.core.common.action.VdcAction@@ Type, org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >> o@@ per@@ ation@@ List@@ , final java.util.List<@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ > result@@ Object@@ ) { org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ log@@ g@@ er.@@ fin@@ er@@ ("@@ Frontend@@ : s@@ uc@@ cess@@ f@@ ull@@ y execute@@ d run@@ Multiple@@ Action@@ , d@@ et@@ er@@ min@@ ing result@@ !@@ "); java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ > fail@@ ed = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ >(); for (@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base v : result@@ Object@@ ) { if (!(@@ v@@ .get@@ CanDoAction@@ ())) { fail@@ ed@@ .@@ add(@@ v@@ ); } } if (!(@@ fail@@ ed@@ .@@ isEmpty@@ ())) { trans@@ l@@ ate@@ Error@@ s(@@ fail@@ ed@@ ); get@@ Event@@ sHandler@@ ().@@ run@@ Multiple@@ Action@@ Fail@@ ed(@@ action@@ Type, fail@@ ed@@ ); } if (c@@ all@@ back != null@@ ) { call@@ back@@ .@@ execu@@ ted@@ (@@ new org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result@@ (@@ action@@ Type, parameters@@ , result@@ Object@@ , st@@ ate@@ )); } org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Async@@ Operation@@ Comp@@ let@@ e@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , st@@ ate@@ ); org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Re@@ fresh@@ Active@@ Model@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , true@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Ar@@ e y@@ o@@ u s@@ ur@@ e y@@ o@@ u w@@ an@@ t to P@@ ow@@ er Of@@ f the f@@ ol@@ low@@ ing Vir@@ tu@@ al M@@ ach@@ in@@ es@@ ?@@ ") java.lang.String are@@ Y@@ o@@ u@@ S@@ ure@@ Y@@ o@@ u@@ W@@ an@@ t@@ To@@ St@@ op@@ Th@@ e@@ F@@ ol@@ low@@ ing@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ es@@ M@@ s@@ g@@ ();
public static void Get@@ Vm@@ Templ@@ at@@ es@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ (@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group action@@ Group@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ > lis@@ t = new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ >(); if (s@@ ource != null@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate bl@@ an@@ k@@ Templ@@ ate = null@@ ; for (org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate : ((@@ java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ >) (s@@ ource@@ ))) { if (@@ templat@@ e.get@@ Id().@@ equals(@@ Guid@@ .@@ Empty@@ )) { bl@@ an@@ k@@ Templ@@ ate = template@@ ; } else if ((@@ templat@@ e.get@@ status@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ Status.@@ O@@ K@@ )) { lis@@ t.@@ add(@@ template@@ ); } } java.util.Collections.@@ s@@ ort@@ (@@ list@@ , new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ VmTemplate@@ By@@ Name@@ Comp@@ ar@@ er@@ ()); if (@@ bl@@ an@@ k@@ Templ@@ ate != null@@ ) { lis@@ t.@@ add(@@ 0@@ , bl@@ an@@ k@@ Template@@ ); } } return list@@ ; } }; org.ovirt.engine.core.common.queries.@@ Get@@ Enti@@ ties@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ Parameters get@@ Enti@@ ties@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ Parameters = new org.ovirt.engine.core.common.queries.@@ Get@@ Enti@@ ties@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ Parameters@@ (); get@@ Enti@@ ties@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ Parameter@@ s.set@@ Action@@ Group@@ (@@ action@@ Group@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vm@@ Templ@@ at@@ es@@ Per@@ m@@ it@@ ted@@ Action@@ , get@@ Enti@@ ties@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ Parameters@@ , aQuery@@ ); }
@java.lang.Override public org.ovirt.engine.api.model.@@ Storage@@ Domain update@@ (org.ovirt.engine.api.model.@@ Storage@@ Domain in@@ com@@ ing@@ ) { validate@@ Enum@@ s(@@ org.ovirt.engine.api.model.@@ StorageDomain@@ .@@ class@@ , in@@ com@@ ing@@ ); org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <@@ org.ovirt.engine.core.compat.Guid> storageDomain@@ Res@@ ol@@ ve@@ r = new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <@@ org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ StorageDomain@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ ); org.ovirt.engine.core.common.businessentities.Storage@@ Domain enti@@ ty = get@@ Entity(@@ storageDomain@@ Res@@ ol@@ ver@@ , true@@ ); org.ovirt.engine.api.model.@@ Storage@@ Domain model = map@@ (@@ entity@@ , new org.ovirt.engine.api.model.@@ StorageDomain@@ ()); org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Type storage@@ Type = entity.get@@ Storage@@ Type@@ (); if (@@ storage@@ Type != null@@ ) { switch (@@ storage@@ Type@@ ) { case IS@@ C@@ S@@ I : case F@@ C@@ P : ex@@ tend@@ StorageDomain@@ (in@@ com@@ ing@@ , model, storage@@ Type@@ ); re@@ fresh@@ Lun@@ S@@ iz@@ e(@@ in@@ com@@ ing@@ , model, storage@@ Type@@ ); break@@ ; default : break@@ ; } } } return add@@ Link@@ s(@@ p@@ er@@ for@@ m@@ Update@@ (in@@ com@@ ing@@ , entity@@ , model, storageDomain@@ Res@@ ol@@ ver@@ , Vdc@@ ActionType.@@ Update@@ StorageDomain@@ , new org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Res@@ ource.@@ Update@@ Parameters@@ Provider@@ ()), new java.lang.String@@ []{ "@@ templat@@ es@@ ", "@@ vm@@ s@@ " }); }
private void c@@ opy@@ Vm@@ Permission@@ s@@ (org.ovirt.engine.core.bll.@@ Un@@ i@@ q@@ ue@@ Permission@@ s@@ Se@@ t per@@ mission@@ sTo@@ Add@@ ) { if ((!@@ (is@@ Vm@@ In@@ Db@@ )) || (!@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Parameters@@ ().is@@ Copy@@ Vm@@ Permission@@ s@@ ()))) { return@@ ; } org.ovirt.engine.core.dao.@@ Permission@@ DA@@ O d@@ a@@ o = org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ DbFacade@@ ().get@@ Permission@@ Dao@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ s> vm@@ Permission@@ s = d@@ ao@@ .get@@ AllFor@@ Entity@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getVm@@ Id(), org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ C@@ urrent@@ User@@ ().get@@ Id(), org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Session@@ Id(), false@@ ); for (org.ovirt.engine.core.common.businessentities.@@ Permission@@ s vm@@ Per@@ mis@@ si@@ on : vm@@ Permission@@ s) { per@@ mission@@ sTo@@ Add@@ .@@ add@@ Permission@@ (vm@@ Permission@@ .get@@ ad@@ _@@ el@@ ement@@ _id@@ (), vm@@ Permission@@ .get@@ ro@@ le@@ _id@@ (), org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ VmTemplate@@ Id(), Vdc@@ Object@@ Type.@@ VmTemplate@@ ); } } }
@java.lang.Override protected void initial@@ ize@@ Model@@ Handl@@ ers@@ () { super@@ .@@ initial@@ ize@@ Model@@ Handl@@ ers@@ (); getModel().get@@ Res@@ et@@ Re@@ ques@@ ted@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ System@@ T@@ ree@@ Item@@ Model@@ > item@@ s = getModel().get@@ Item@@ s(); if ((@@ item@@ s != null@@ ) && (!(@@ item@@ s.@@ isEmpty@@ ()))) { s@@ el@@ ection@@ Model.set@@ Selected@@ (@@ item@@ s.get@@ (0@@ ), true@@ ); } } }); }
@org.junit.Test public void test@@ Execu@@ te@@ Query@@ Not@@ Supported@@ () { set@@ up@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Get@@ Multiple@@ T@@ l@@ v@@ sBy@@ Host@@ Id@@ Test.@@ Exp@@ ected@@ Error@@ .@@ NOT_@@ SUP@@ PORT@@ ED); get@@ Query@@ ().execute@@ Query@@ Command@@ (); java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.network.@@ L@@ l@@ d@@ p@@ Info@@ > return@@ Value = get@@ Query@@ ().get@@ Query@@ ReturnValue().get@@ ReturnValue@@ (); assert@@ True@@ (@@ check@@ Empty@@ Valu@@ es@@ For@@ I@@ fac@@ es@@ (@@ return@@ Value@@ )); }
protected void set@@ Get@@ Networks@@ Query@@ Expectation@@ s@@ (@@ int tim@@ es@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > network@@ s) throw@@ s java.lang.Exception { while ((@@ tim@@ es@@ -@@ -@@ ) > 0) { setUp@@ Entity@@ Query@@ Expectations(@@ VdcQuery@@ Type.Get@@ All@@ Networks@@ By@@ Cluster@@ Id, org.ovirt.engine.core.common.queries.@@ VdsGroup@@ Query@@ Param@@ ent@@ ers@@ .@@ class@@ , new java.lang.String@@ []{ "@@ VdsGroup@@ Id@@ " }, new java.lang.Object@@ []{ G@@ UID@@ S@@ [@@ 0@@ ] }, network@@ s); } }
@@@ org.ovirt.engine.core.utils.@@ lock@@ .@@ Ac@@ qui@@ re@@ W@@ rite@@ Loc@@ k java.util.List<java.lang.String> al@@ loc@@ ate@@ Mac@@ Address@@ es@@ (@@ int num@@ ber@@ Of@@ Address@@ es@@ );
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Al@@ lo@@ w to E@@ d@@ i@@ t C@@ luster proper@@ ties@@ ") java.lang.String al@@ low@@ To@@ Edit@@ Cluster@@ Properties@@ Role@@ T@@ ree@@ T@@ ooltip@@ ();
public static void get@@ External@@ Provider@@ Host@@ List(@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { if (s@@ ource == null@@ ) { return new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >(); } return source@@ ; } }; org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Host@@ List@@ From@@ External@@ Provider@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Host@@ List@@ From@@ External@@ Provider@@ Parameters@@ (), aQuery@@ ); }
@java.lang.Override public org.ovirt.engine.api.model.@@ Cluster@@ Feat@@ ure@@ s list@@ () { org.ovirt.engine.api.model.@@ Cluster@@ Feat@@ ure@@ s f@@ eat@@ ure@@ s = new org.ovirt.engine.api.model.@@ Cluster@@ Feat@@ ur@@ es@@ (); java.util.@@ Set@@ <org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ure@@ > add@@ l@@ Feat@@ ure@@ s = get@@ Option@@ al@@ Entity@@ (java.util.@@ Set@@ .@@ class@@ , Query@@ Type.Get@@ Cluster@@ Feat@@ ur@@ es@@ By@@ Cluster@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (cluster@@ Id@@ ), cluster@@ Id@@ .@@ toString@@ (), false@@ ); if (@@ add@@ l@@ Feat@@ ure@@ s != null@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ur@@ e enti@@ ty : add@@ l@@ Feat@@ ur@@ es@@ ) { if (@@ entity@@ .is@@ Enabled@@ ()) { f@@ eat@@ ur@@ es@@ .get@@ Cluster@@ Feat@@ ur@@ es@@ ().@@ add(@@ add@@ Link@@ s(@@ map@@ (@@ entity.get@@ Feat@@ ure@@ (), null@@ ))); } } } return f@@ eat@@ ur@@ es@@ ; }
@org.junit.Test public void test@@ Is@@ csi@@ Lun@@ Disk@@ With@@ No@@ Address@@ Can@@ t@@ Be@@ Ad@@ ded@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk dis@@ k = org.ovirt.engine.core.bll.storage.disk.@@ Add@@ Disk@@ Command@@ Test.@@ create@@ IS@@ C@@ S@@ IL@@ un@@ Disk@@ (); org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters parameter@@ s = org.ovirt.engine.core.bll.storage.disk.@@ Add@@ Disk@@ Command@@ Test.@@ create@@ Parameters@@ (); parameters.set@@ Disk@@ Info@@ (disk@@ ); initial@@ ize@@ Command(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), parameters@@ ); disk@@ .get@@ Lun@@ ().get@@ Lun@@ Connection@@ s().get@@ (0@@ )@@ .set@@ Connection@@ (@@ null@@ ); assert@@ F@@ alse@@ ("@@ check@@ If@@ Lun@@ Disk@@ Can@@ Be@@ Ad@@ ded@@ () s@@ uc@@ ce@@ de@@ d for IS@@ C@@ S@@ I lu@@ n wh@@ ic@@ h LUN@@ s ha@@ s storage_@@ server@@ _@@ conn@@ ec@@ tion wit@@ h a null add@@ ress@@ ", command@@ .@@ check@@ If@@ Lun@@ Disk@@ Can@@ Be@@ Ad@@ ded@@ (s@@ p@@ y@@ Disk@@ Validator@@ (disk@@ ))); assert@@ True@@ ("@@ check@@ If@@ Lun@@ Disk@@ Can@@ Be@@ Ad@@ ded@@ () fail@@ ed bu@@ t cor@@ r@@ ect c@@ an do ac@@ tion has@@ n@@ '@@ t b@@ e@@ e@@ n ad@@ de@@ d to the return respon@@ se@@ ", ve@@ r@@ if@@ y@@ Validation@@ Messages@@ Contain@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ LUN@@ _@@ IS@@ C@@ SI@@ _@@ M@@ IS@@ S@@ ING@@ _C@@ ON@@ N@@ EC@@ TION_@@ P@@ AR@@ A@@ M@@ S@@ )); cl@@ e@@ ar@@ Validation@@ Messages@@ (); disk@@ .get@@ Lun@@ ().get@@ Lun@@ Connection@@ s().get@@ (0@@ )@@ .set@@ Connection@@ ("@@ "); assert@@ F@@ alse@@ ("@@ check@@ If@@ Lun@@ Disk@@ Can@@ Be@@ Ad@@ ded@@ () s@@ uc@@ ce@@ de@@ d for IS@@ C@@ S@@ I lu@@ n wh@@ ic@@ h LUN@@ s ha@@ s storage_@@ server@@ _@@ conn@@ ec@@ tion wit@@ h a em@@ p@@ ty add@@ ress@@ ", command@@ .@@ check@@ If@@ Lun@@ Disk@@ Can@@ Be@@ Ad@@ ded@@ (s@@ p@@ y@@ Disk@@ Validator@@ (disk@@ ))); assert@@ True@@ ("@@ check@@ If@@ Lun@@ Disk@@ Can@@ Be@@ Ad@@ ded@@ () fail@@ ed bu@@ t cor@@ r@@ ect c@@ an do ac@@ tion has@@ n@@ '@@ t b@@ e@@ n ad@@ de@@ d to the return respon@@ se@@ ", ve@@ r@@ if@@ y@@ Validation@@ Messages@@ Contain@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ LUN@@ _@@ IS@@ C@@ SI@@ _@@ M@@ IS@@ S@@ ING@@ _C@@ ON@@ N@@ EC@@ TION_@@ P@@ AR@@ A@@ M@@ S@@ )); }
@org.junit.Test public void get@@ H@@ u@@ ge@@ Memory@@ F@@ it@@ s@@ In@@ to@@ O@@ ne@@ H@@ u@@ ge@@ P@@ age@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Base b@@ ase = new org.ovirt.engine.core.common.businessentities.Vm@@ Base@@ (); b@@ as@@ e.set@@ Custom@@ Properties@@ ("@@ h@@ u@@ g@@ ep@@ ages@@ =@@ 1@@ 0@@ 2@@ 4@@ "); b@@ as@@ e.set@@ Mem@@ Size@@ M@@ b@@ (@@ 1@@ 0@@ 2@@ 4@@ ); assert@@ That@@ (org.ovirt.engine.core.common.@@ utils.@@ H@@ u@@ ge@@ P@@ age@@ Util@@ s.get@@ H@@ u@@ ge@@ P@@ ages@@ (@@ b@@ ase@@ ).@@ size@@ (), is@@ (@@ 1@@ )); assert@@ That@@ (org.ovirt.engine.core.common.@@ utils.@@ H@@ u@@ ge@@ P@@ age@@ Util@@ s.get@@ H@@ u@@ ge@@ P@@ ages@@ (@@ b@@ ase@@ ).get@@ (@@ 1@@ 0@@ 2@@ 4@@ ), is@@ (@@ 1@@ )); }
public void set@@ Vds@@ Name(@@ value@@ ) { this@@ .m@@ Vds@@ Static@@ .set@@ Vds@@ Name(@@ value@@ ); }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > pool@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ >) (@@ return@@ Value@@ )); org.ovirt.engine.core.common.businessentities.Storage@@ Pool p@@ oo@@ l = pool@@ s.get@@ (0@@ ); if (p@@ oo@@ l != null@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ StorageDomain@@ List@@ (((@@ org.ovirt.engine.ui.frontend.Async@@ Query@@ ) (model@@ )@@ ), pool@@ .getId()); } }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if ((@@ disk@@ .get@@ Vm@@ ()) == null@@ ) { return@@ ; } boolean is@@ Vir@@ ti@@ oS@@ csi@@ En@@ able@@ d = java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .@@ equals@@ (((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model) (s@@ ender@@ )@@ ).get@@ Entity@@ ()); org.ovirt.engine.core.compat.@@ Version cluster@@ Version = disk@@ .get@@ Vm().get@@ CompatibilityVersion@@ (); int@@ er@@ fac@@ e@@ Info@@ I@@ con@@ .set@@ Visi@@ bl@@ e@@ ((!@@ is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ )); }
public org.ovirt.engine.core.bll.ValidationResult network@@ Not@@ Us@@ ed@@ By@@ Run@@ ning@@ Vms@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > run@@ ning@@ Vm@@ s = new java.util.ArrayList<>(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > vnic@@ s = get@@ DbFacade@@ ().get@@ VmNetwork@@ Interface@@ Dao().get@@ AllFor@@ Network@@ (network@@ .getId()); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ >> vnic@@ sBy@@ Vm@@ Id = org.ovirt.engine.core.common.businessentities.@@ Enti@@ ties.@@ vm@@ Interfaces@@ By@@ Vm@@ Id(@@ vnic@@ s); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : get@@ Vms@@ ()) { if (vm@@ .is@@ Run@@ ning@@ Or@@ Pa@@ us@@ ed@@ ()) { for (org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface n@@ ic : vnic@@ sBy@@ Vm@@ Id@@ .get@@ (vm@@ .getId@@ ())) { if (org.ovirt.engine.core.bll.@@ common.@@ p@@ red@@ ic@@ at@@ es.@@ VmNetwork@@ Can@@ Be@@ Update@@ d@@ P@@ red@@ ic@@ at@@ e.get@@ Instance@@ ().@@ e@@ val@@ (@@ nic@@ )) { run@@ ning@@ Vm@@ s.@@ add@@ (vm@@ ); break@@ ; } } } } return network@@ Not@@ Us@@ ed(@@ run@@ ning@@ Vm@@ s, EngineMessage.@@ VAR__@@ EN@@ TI@@ E@@ S_@@ _@@ VM@@ S@@ , EngineMessage.@@ VAR__@@ EN@@ TI@@ E@@ S_@@ _@@ VM@@ ); }
@java.lang.Override public void Execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base tic@@ k@@ et@@ ReturnValue = result.get@@ ReturnValue@@ (); if ((@@ tic@@ k@@ et@@ ReturnValue != null@@ ) && ((@@ tic@@ k@@ et@@ Return@@ Value.get@@ Action@@ ReturnValue@@ ()) != null@@ )) { ot@@ p@@ 6@@ 4 = ((@@ java.lang.String@@ ) (@@ tic@@ k@@ et@@ Return@@ Value.get@@ Action@@ ReturnValue@@ ())); if ((@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (get@@ Entity@@ ().get@@ dis@@ play@@ _@@ ip@@ ())) || (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (get@@ Entity@@ ().get@@ dis@@ play@@ _@@ ip@@ (), "@@ 0@@ "@@ ))) { org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); _@@ async@@ Query@@ .set@@ Model@@ (@@ this@@ ); _@@ async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void On@@ Success@@ (java.lang.Object model, java.lang.Object ReturnValue@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ V@@ n@@ c@@ Console@@ Model con@@ s@@ ole@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ V@@ n@@ c@@ Console@@ Model) (model@@ )); con@@ s@@ ole@@ Model.@@ p@@ ost@@ Get@@ Host@@ (((@@ java.lang.String@@ ) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ ReturnValue@@ )@@ ).get@@ ReturnValue@@ ()))); } }; org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Management@@ Interface@@ Address@@ By@@ Vds@@ Id, new org.ovirt.engine.core.common.queries.@@ Get@@ Management@@ Interface@@ Address@@ By@@ Vds@@ Id@@ Parameters@@ (get@@ Entity@@ ().get@@ run@@ _@@ on@@ _@@ vds@@ ().get@@ Value@@ ()), _@@ async@@ Query@@ ); } else { p@@ ost@@ Get@@ Host@@ (get@@ Entity@@ ().get@@ dis@@ play@@ _@@ ip@@ ()); } }
public org.ovirt.engine.@@ sd@@ k.@@ Ap@@ i get@@ Connection@@ () throw@@ s java.io.@@ I@@ O@@ Exception@@ , org.ovirt.engine.@@ sd@@ k.@@ ex@@ ce@@ ption@@ s.@@ Server@@ Exception@@ , org.ovirt.engine.@@ sd@@ k.@@ ex@@ ce@@ ption@@ s.@@ Un@@ s@@ ec@@ ur@@ ed@@ Connection@@ A@@ t@@ temp@@ t@@ E@@ r@@ ro@@ r { if ((@@ api@@ ) == null@@ ) { java.lang.String ur@@ l = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ :@@ /@@ %@@ s@@ :@@ %@@ s@@ /@@ ovir@@ t@@ -@@ engin@@ e@@ /@@ api@@ ", prot@@ oc@@ ol@@ , server@@ , port@@ ); org.ovirt.@@ op@@ tim@@ iz@@ er.@@ ser@@ vic@@ e.@@ O@@ vi@@ r@@ t@@ Cli@@ ent.@@ log.debug@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ Log@@ gin@@ g to %@@ s a@@ s %@@ s", ur@@ l@@ , user@@ name@@ )); ap@@ i = new org.ovirt.engine.@@ sd@@ k.@@ Ap@@ i@@ (@@ ur@@ l@@ , user@@ name@@ , p@@ assword@@ , true@@ ); } return api@@ ; }
public static java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ LUN@@ s> Par@@ se@@ LUN@@ List(@@ java.util.Map<java.lang.String, java.lang.Object> lun@@ List@@ ) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ LUN@@ s> result = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ LUN@@ s@@ >@@ (@@ lun@@ List.@@ l@@ ength@@ ); for (java.util.@@ Map x@@ lu@@ n : lun@@ List@@ ) { result.@@ add(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Device@@ List@@ VDS@@ Command.@@ Par@@ se@@ Lun@@ From@@ XmlR@@ pc@@ (@@ x@@ lun@@ )); } return result@@ ; }
public org.ovirt.engine.core.bll.ValidationResult gluster@@ Network@@ Supported@@ () { return (network@@ C@@ luster.@@ is@@ Gluster@@ ()) && (!(@@ org.ovirt.engine.core.common.@@ gluster.Gluster@@ Feat@@ ure@@ Supported@@ .@@ gluster@@ Network@@ Role@@ Supported@@ (@@ version@@ ))) ? new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ GLUSTER_@@ NETWORK_@@ NOT_@@ SUP@@ PORT@@ ED_@@ F@@ OR@@ _P@@ O@@ OL@@ _@@ LE@@ V@@ E@@ L@@ ) : org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VM@@ List@@ ReturnForXmlR@@ p@@ c get@@ External@@ Vm@@ List@@ (java.lang.String ur@@ i@@ , java.lang.String user@@ name@@ , java.lang.String p@@ assword@@ , java.util.List<java.lang.String> vm@@ s@@ Names@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest request@@ ; if (vm@@ s@@ Name@@ s == null@@ ) { re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Hos@@ t.get@@ External@@ VM@@ s@@ ").@@ with@@ Parameter("@@ ur@@ i@@ ", ur@@ i@@ ).@@ with@@ Parameter("@@ user@@ name@@ ", user@@ name@@ ).@@ with@@ Parameter("@@ p@@ assword@@ ", p@@ assword@@ ).@@ build@@ (); } else { re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Hos@@ t.get@@ External@@ VM@@ s@@ ").@@ with@@ Parameter("@@ ur@@ i@@ ", ur@@ i@@ ).@@ with@@ Parameter("@@ user@@ name@@ ", user@@ name@@ ).@@ with@@ Parameter("@@ p@@ assword@@ ", p@@ assword@@ ).@@ with@@ Parameter("@@ vm@@ _@@ nam@@ es@@ ", vm@@ s@@ Names@@ ).@@ build@@ (); } java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ).@@ with@@ Respon@@ se@@ Key@@ ("@@ vm@@ List@@ ").@@ with@@ Respon@@ se@@ Type(@@ java.lang.Object@@ []@@ .@@ class@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VM@@ List@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
@@@ org.ovirt.engine.ui.common.@@ DefaultStringValue("@@ Ch@@ ec@@ k Al@@ ign@@ ment@@ ") java.lang.String check@@ Al@@ ign@@ ment@@ Disk@@ ();
private void on@@ Remove@@ () { final org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ List@@ Model.get@@ W@@ in@@ do@@ w@@ ())); if ((@@ model.get@@ Progress@@ ()) != null@@ ) { return@@ ; } final java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > lis@@ t = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ > e@@ n@@ try : vm@@ s@@ Remove@@ Map.@@ e@@ n@@ try@@ Set@@ ()) { lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.common.action.@@ Remove@@ Vm@@ Parameters(@@ e@@ n@@ try@@ .get@@ Key@@ (), false@@ , ((@@ java.lang.Boolean@@ ) (@@ e@@ n@@ try@@ .get@@ Value@@ ().getEntity@@ ())@@ ))); } model.@@ st@@ art@@ Progress@@ (@@ null@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action(VdcActionType.@@ Remove@@ Vm@@ , list@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model local@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (@@ result.get@@ State@@ ())); local@@ Model.@@ st@@ op@@ Progress@@ (); cancel@@ (); } }, model@@ ); }
@org.junit.Test public void b@@ rid@@ ge@@ Properties@@ Non@@ Vm@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = create@@ Management@@ Network@@ (); network@@ .set@@ VmNetwork@@ (@@ false@@ ); mock@@ Existing@@ Network@@ s(@@ network@@ ); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e = create@@ Nic@@ S@@ yn@@ ce@@ d@@ With@@ Network@@ ("@@ eth@@ 0@@ ", network@@ ); mock@@ Existing@@ I@@ fac@@ es@@ (@@ if@@ ace@@ ); if@@ ac@@ e.set@@ Custom@@ Properties@@ (c@@ reate@@ Custom@@ Properties@@ ()); org.ovirt.engine.core.bll.network.@@ host.@@ SetupNetworks@@ Help@@ er h@@ el@@ p@@ er = create@@ Helper@@ (c@@ reate@@ Parameters@@ For@@ Nic@@ s@@ (@@ if@@ ace@@ ), Version@@ .@@ v@@ 3@@ _@@ 5@@ ); validate@@ And@@ Expect@@ Vi@@ ol@@ ation@@ (@@ h@@ el@@ per@@ , EngineMessage.ACTION_TYPE_FAILED_@@ NETWORK_@@ C@@ U@@ ST@@ O@@ M@@ _P@@ RO@@ P@@ ER@@ TI@@ E@@ S_@@ B@@ AD@@ _@@ IN@@ P@@ U@@ T@@ , org.ovirt.engine.core.bll.network.@@ host.@@ SetupNetworks@@ Helper@@ Test.@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ NAM@@ E); }
private void update@@ P@@ m@@ Model@@ s() { boolean is@@ P@@ m = get@@ Is@@ P@@ m@@ ().getEntity@@ (); get@@ P@@ m@@ Proxy@@ Pre@@ fer@@ enc@@ es@@ List@@ ().setIs@@ Change@@ able(@@ get@@ Is@@ P@@ m@@ ().getEntity@@ ()); java.lang.String pro@@ xy@@ Selected@@ I@@ te@@ m = get@@ P@@ m@@ Proxy@@ Pre@@ fer@@ enc@@ es@@ List@@ ().getSelectedItem@@ (); get@@ Proxy@@ Up@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ is@@ P@@ m && (@@ pro@@ xy@@ Selected@@ I@@ te@@ m != null@@ ))); get@@ Proxy@@ Down@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ is@@ P@@ m && (@@ pro@@ xy@@ Selected@@ I@@ te@@ m != null@@ ))); get@@ Dis@@ able@@ Au@@ t@@ om@@ ati@@ c@@ P@@ ow@@ er@@ Management@@ ().setIs@@ Valid@@ (@@ true@@ ); get@@ Dis@@ able@@ Au@@ t@@ om@@ ati@@ c@@ P@@ ow@@ er@@ Management@@ ().setIs@@ Change@@ able(@@ is@@ P@@ m@@ ); get@@ P@@ m@@ K@@ d@@ um@@ p@@ Det@@ ection@@ ().setIs@@ Change@@ able(@@ is@@ P@@ m@@ ); get@@ Fence@@ Agent@@ s@@ ().setIs@@ Change@@ able(@@ is@@ P@@ m@@ ); get@@ Fence@@ Agent@@ s@@ ().set@@ Host@@ (@@ this@@ ); }
public java.util.Map<java.lang.String, java.lang.Object> r@@ e@@ const@@ r@@ uc@@ t@@ Ma@@ ster@@ (java.lang.String sp@@ UUID@@ , int host@@ Sp@@ m@@ Id, java.lang.String pool@@ Name, java.lang.String ma@@ ster@@ D@@ om@@ , java.util.Map<java.lang.String, java.lang.String> do@@ m@@ D@@ ic@@ t@@ , int ma@@ ster@@ Version@@ , java.lang.String lock@@ Policy@@ , int lock@@ R@@ e@@ new@@ al@@ Inter@@ val@@ Sec@@ , int le@@ ase@@ Time@@ Sec@@ , int i@@ o@@ Op@@ Time@@ out@@ Sec@@ , int le@@ ase@@ R@@ et@@ ri@@ es@@ );
@org.junit.Test public void test@@ Vm@@ D@@ ur@@ ing@@ S@@ n@@ ao@@ sh@@ ot@@ () { setUp@@ Gener@@ al@@ Validation@@ s(); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult@@ (@@ org.ovirt.engine.core.dal.@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_@@ D@@ UR@@ ING@@ _S@@ NA@@ P@@ S@@ HO@@ T@@ )).@@ when@@ (s@@ napshot@@ Validator@@ ).@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command@@ Tes@@ t.get@@ Empty@@ Disk@@ List@@ ()).@@ when@@ (cmd@@ ).get@@ Disks@@ List@@ (); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_@@ D@@ UR@@ ING@@ _S@@ NA@@ P@@ S@@ HO@@ T@@ .@@ name@@ ())); }
public void set@@ Auth@@ U@@ r@@ l@@ (java.lang.String auth@@ U@@ r@@ l@@ ) { this@@ .@@ auth@@ U@@ r@@ l@@ ; }
public void engin@@ e@@ In@@ itial@@ ize@@ () { create@@ Internal@@ A@@ A@@ A@@ Configuration@@ s(); create@@ K@@ er@@ ber@@ os@@ L@@ dap@@ A@@ A@@ A@@ Configuration@@ s(); for (@@ java.io.@@ Fil@@ e d@@ irect@@ or@@ y : org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Ex@@ ten@@ sion@@ s@@ Direct@@ or@@ i@@ es@@ ()) { if (!(@@ d@@ irect@@ ory@@ .@@ ex@@ ist@@ s@@ ())) { org.ovirt.engine.core.utils.@@ extension@@ s@@ m@@ gr@@ .@@ Engine@@ Ex@@ ten@@ sion@@ s@@ Manager.@@ log.@@ w@@ ar@@ n@@ ("@@ Th@@ e d@@ irect@@ or@@ y '{}@@ ' c@@ ot@@ an@@ ing config@@ ur@@ ation fil@@ es do@@ es not ex@@ is@@ t.@@ ", d@@ irect@@ ory@@ .get@@ Ab@@ s@@ ol@@ u@@ te@@ Path@@ ()); } else { java.io.@@ File@@ [@@ ] fil@@ es = d@@ irect@@ ory@@ .@@ list@@ Fil@@ es@@ (); if (@@ fil@@ es != null@@ ) { java.util.Arrays.@@ s@@ ort@@ (@@ fil@@ es@@ ); for (@@ java.io.@@ Fil@@ e fil@@ e : fil@@ es@@ ) { if (@@ fil@@ e.get@@ Name@@ ().@@ en@@ ds@@ With@@ ("@@ .@@ proper@@ ties@@ "@@ )) { try { load@@ (@@ fil@@ e); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.utils.@@ extension@@ s@@ m@@ gr@@ .@@ Engine@@ Ex@@ ten@@ sion@@ s@@ Manager.@@ log.error("@@ C@@ oul@@ d not lo@@ a@@ d exten@@ si@@ on b@@ as@@ ed on config@@ ur@@ ation fil@@ e '{}@@ '@@ . P@@ le@@ ase ch@@ ec@@ k the config@@ ur@@ ation fil@@ e is valid@@ .@@ ", fil@@ e.get@@ Ab@@ s@@ ol@@ u@@ te@@ Path@@ ()); } } } for (@@ org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Ex@@ ten@@ sion@@ Pro@@ x@@ y exten@@ si@@ on : get@@ Lo@@ a@@ ded@@ Ex@@ ten@@ sion@@ s()) { if (@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Boolean@@ (((@@ org.ovirt.engine.core.utils.@@ extension@@ s@@ m@@ gr@@ .@@ Engine@@ Ex@@ ten@@ sion@@ s@@ Manager.@@ EN@@ G@@ IN@@ E_@@ EX@@ T@@ EN@@ SI@@ ON_@@ EN@@ AB@@ L@@ ED@@ ) + (@@ extension@@ .get@@ Context@@ ().@@ <@@ java.lang.String@@ >@@ get@@ (@@ Bas@@ e.@@ Context@@ Key@@ s.@@ IN@@ ST@@ AN@@ C@@ E_@@ NAM@@ E@@ )@@ )@@ ), java.lang.Boolean@@ .@@ par@@ se@@ Boolean@@ (@@ extension@@ .get@@ Context@@ ().@@ <@@ java.util.@@ Properties@@ >@@ get@@ (@@ Bas@@ e.@@ Context@@ Key@@ s.@@ C@@ ON@@ F@@ I@@ G@@ UR@@ A@@ TI@@ ON@@ ).get@@ Property@@ (@@ Bas@@ e.@@ Config@@ Key@@ s.@@ EN@@ AB@@ L@@ ED@@ , "@@ true@@ "@@ )@@ ))) { initial@@ iz@@ e(@@ extension@@ .get@@ Context@@ ().@@ <@@ java.lang.String@@ >@@ get@@ (@@ Bas@@ e.@@ Context@@ Key@@ s.@@ IN@@ ST@@ AN@@ C@@ E_@@ NAM@@ E@@ )); } } d@@ um@@ p@@ (); }
public void set@@ S@@ k@@ ip@@ F@@ enc@@ ing@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ Enabled@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.Boolean@@ > s@@ k@@ ip@@ F@@ enc@@ ing@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ Enabled@@ ) { this@@ .@@ s@@ k@@ ip@@ F@@ enc@@ ing@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ Enabled@@ ; }
@org.junit.Test public void test@@ Network@@ Attached@@ To@@ Cluster@@ W@@ h@@ en@@ Not@@ Attached@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = new org.ovirt.engine.core.common.businessentities.network.Network@@ (); network@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent attach@@ m@@ ent = new org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ (); attach@@ m@@ ent.@@ set@@ Network@@ Id(@@ network@@ .getId()); org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ Id network@@ Cluster@@ Id = new org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ Id(@@ hos@@ t.get@@ VdsGroup@@ Id(), network@@ .getId()); when(@@ network@@ Cluster@@ Dao@@ Mock@@ .get(@@ e@@ q@@ (network@@ Cluster@@ Id@@ )@@ )).@@ then@@ Return@@ (@@ null@@ ); when(@@ network@@ Dao@@ Mock@@ .get(@@ e@@ q@@ (network@@ .getId@@ ())@@ )).@@ thenReturn(@@ network@@ ); assert@@ That@@ (c@@ reate@@ NetworkAttachment@@ Validator@@ (@@ attach@@ ment@@ ).@@ network@@ Attached@@ To@@ Cluster@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ NETWORK_@@ NOT_@@ EXIST@@ S_@@ IN@@ _C@@ LUST@@ ER@@ )); }
private void re@@ gist@@ er@@ Handl@@ ers@@ () { model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if ((@@ Model.@@ P@@ RO@@ P@@ _@@ W@@ IN@@ DO@@ W@@ .equals(@@ pro@@ p@@ Name@@ )) && ((@@ model.get@@ W@@ in@@ do@@ w@@ ()) == null@@ )) { if (model.get@@ Sp@@ e@@ c@@ if@@ ic@@ Cluster@@ Quota@@ ().getEntity@@ ()) { quota@@ Cluster@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (model.get@@ All@@ DataCenter@@ C@@ lust@@ ers@@ ()); } else { quota@@ Cluster@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (model.get@@ Quota@@ C@@ lust@@ ers@@ ()); } if (model.get@@ Sp@@ e@@ c@@ if@@ ic@@ Storage@@ Quota@@ ().getEntity@@ ()) { quota@@ Storage@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (model.get@@ All@@ DataCenter@@ Stor@@ ages@@ ()); } else { quota@@ Storage@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (model.get@@ Quota@@ Stor@@ ages@@ ()); } } }); model.get@@ Sp@@ e@@ c@@ if@@ ic@@ Cluster@@ Quota@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (cluster@@ Listener@@ ); model.get@@ Sp@@ e@@ c@@ if@@ ic@@ Storage@@ Quota@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ storage@@ Listener@@ ); }
@java.lang.Override public org.ovirt.engine.core.dal.dbbroker.@@ MapSqlParameter@@ Map@@ per@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Hook@@ Entity@@ > get@@ B@@ atch@@ Map@@ per@@ () { throw new org.ovirt.engine.core.compat.@@ Not@@ Im@@ pl@@ em@@ en@@ ted@@ Exception@@ ("@@ Un@@ sup@@ por@@ te@@ d o@@ per@@ ation@@ "); }
public org.ovirt.engine.core.bll.ValidationResult is@@ Disk@@ Attached@@ To@@ Vm@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = get@@ Vm@@ Dao().get@@ Vms@@ List@@ For@@ Disk@@ (disk@@ .get@@ Id(), true@@ ); java.lang.String@@ [@@ ] re@@ pl@@ acement@@ s = new java.lang.String@@ []{ java.lang.String@@ .@@ for@@ mat@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Disk@@ Validator.@@ DIS@@ K_@@ NAM@@ E_@@ RE@@ P@@ L@@ AC@@ EM@@ EN@@ T@@ , disk@@ .get@@ Disk@@ Alias@@ ()), java.lang.String@@ .@@ for@@ mat@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Disk@@ Validator.@@ VM_@@ NAM@@ E_@@ RE@@ P@@ L@@ AC@@ EM@@ EN@@ T@@ , vm.get@@ Name@@ ()) }; return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ NOT_@@ AT@@ T@@ AC@@ H@@ ED_@@ TO@@ _@@ VM@@ , re@@ pl@@ acement@@ s@@ ).when@@ (vm@@ s.@@ stream@@ ().@@ n@@ one@@ Match@@ (@@ ( vm@@ 1@@ ) -@@ > vm@@ 1@@ .getId@@ ().@@ equals@@ (vm@@ .getId@@ ()))); }
protected java.lang.String get@@ Size@@ String@@ (java.lang.@@ Do@@ ubl@@ e size@@ , org.ovirt.engine.core.common.utils.@@ Size@@ Conver@@ t@@ er.@@ Size@@ Un@@ i@@ t in@@ Unit@@ ) { if (s@@ iz@@ e == null@@ ) { return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Gluster@@ C@@ ap@@ ac@@ ity@@ C@@ el@@ l.@@ M@@ ES@@ S@@ AG@@ ES@@ .@@ size@@ Unit@@ String@@ (@@ for@@ mat@@ S@@ iz@@ e(@@ size@@ With@@ Unit@@ s.get@@ Sec@@ ond@@ ()), size@@ With@@ Unit@@ s.get@@ F@@ ir@@ st@@ ()); } }
public static java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > filter@@ Image@@ Disk@@ s(@@ java.util.Collection@@ <@@ ? extends org.ovirt.engine.core.common.businessentities.@@ Disk@@ > list@@ Of@@ Disk@@ s, boolean al@@ low@@ Only@@ Not@@ Sh@@ are@@ able@@ Disk@@ s, boolean al@@ low@@ Only@@ S@@ nap@@ able@@ Disk@@ s, boolean al@@ low@@ I@@ l@@ le@@ g@@ al@@ Disk@@ s) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ Image@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Disk dis@@ k : list@@ Of@@ Disk@@ s) { if ((((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Disk@@ .@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) && ((!@@ al@@ low@@ Only@@ Not@@ Sh@@ are@@ able@@ Disk@@ s) || (!(@@ disk@@ .is@@ Sh@@ are@@ able@@ ())@@ ))) && ((!@@ al@@ low@@ Only@@ S@@ nap@@ able@@ Disk@@ s) || (disk@@ .is@@ Allow@@ Snapshot@@ ()))) { org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (disk@@ )); if (@@ al@@ low@@ I@@ l@@ le@@ g@@ al@@ Disk@@ s || ((@@ disk@@ Image.get@@ Image@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ Image@@ Status.@@ IL@@ LE@@ G@@ AL@@ ))) { disk@@ Im@@ ages.@@ add(@@ disk@@ Image@@ ); } } } return disk@@ Images@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group vds@@ Group = get@@ VdsGroup@@ (); boolean init@@ Suc@@ cee@@ de@@ d = true@@ ; if (vds@@ Group@@ .@@ sup@@ port@@ s@@ Tr@@ ust@@ ed@@ Service@@ ()) { init@@ Suc@@ cee@@ de@@ d = init@@ Tr@@ ust@@ ed@@ Service@@ (); } if (@@ init@@ Suc@@ cee@@ de@@ d && (vds@@ Group@@ .@@ sup@@ port@@ s@@ Vir@@ t@@ Service@@ ())) { init@@ Suc@@ cee@@ de@@ d = init@@ Vir@@ t@@ Res@@ ourc@@ es@@ (); } if (@@ init@@ Suc@@ cee@@ de@@ d && (vds@@ Group@@ .@@ sup@@ port@@ s@@ Gluster@@ Service@@ ())) { init@@ Suc@@ cee@@ de@@ d = init@@ Gluster@@ Host@@ (); } set@@ Succeeded@@ (@@ init@@ Succeeded@@ ); if (get@@ Succeeded@@ ()) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(@@ get@@ Vds@@ ().get@@ Id()); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ Vds@@ Status@@ ", get@@ Vds@@ ().get@@ Status@@ ().@@ toString()); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , AuditLogType.@@ VDS@@ _@@ D@@ ET@@ EC@@ T@@ ED); } }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Instance@@ Type@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Instance@@ Type@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Instance@@ Type map@@ (org.ovirt.engine.core.common.businessentities.@@ Instance@@ Type entity@@ , org.ovirt.engine.api.model.@@ Instance@@ Type in@@ com@@ ing@@ ) { org.ovirt.engine.api.model.@@ Instance@@ Type model = (in@@ com@@ ing != null@@ ) ? in@@ com@@ ing : new org.ovirt.engine.api.model.@@ Instance@@ Type@@ (); map@@ C@@ ommon@@ Entity@@ To@@ Model@@ (@@ model, ((@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ ) (@@ entity@@ ))); model.set@@ Display@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ Display@@ Mapper.@@ map@@ (@@ entity@@ , null@@ )); if ((@@ entity.get@@ Default@@ Boot@@ Se@@ qu@@ ence@@ ()) != null@@ ) { org.ovirt.engine.api.model.@@ Oper@@ at@@ ing@@ S@@ yst@@ e@@ m o@@ s = new org.ovirt.engine.api.model.@@ Oper@@ at@@ ing@@ System@@ (); if ((@@ entity.get@@ Default@@ Boot@@ Se@@ qu@@ ence@@ ()) != null@@ ) { for (org.ovirt.engine.api.model.@@ B@@ oo@@ t b@@ oo@@ t : org.ovirt.engine.api.restapi.@@ types.@@ Vm@@ Mapper.@@ map@@ (@@ entity.get@@ Default@@ Boot@@ Se@@ qu@@ ence@@ (), null@@ )) { os@@ .get@@ Boot@@ ().@@ add(@@ b@@ oot@@ ); } } } model.set@@ O@@ s(@@ os@@ ); } return model@@ ; }
public static org.ovirt.engine.core.common.businessentities.Vm@@ R@@ ng@@ Devic@@ e.@@ Back@@ en@@ d get@@ Backend@@ E@@ g@@ d@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ R@@ ng@@ Devic@@ e.@@ Backend@@ .@@ Source@@ > s@@ ourc@@ es@@ ) { return new org.ovirt.engine.core.common.businessentities.Vm@@ R@@ ng@@ Devic@@ e.@@ Backend@@ (org.ovirt.engine.core.common.businessentities.Vm@@ R@@ ng@@ Devic@@ e.@@ Source@@ Source@@ ().@@ stream@@ ().@@ map@@ (@@ ( s@@ ourc@@ es@@ ) -@@ > s@@ ourc@@ es@@ .@@ contains@@ Key@@ (@@ s@@ ourc@@ e.get@@ By@@ t@@ es@@ ())@@ )@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ :@@ get@@ Source@@ ).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); }
@java.lang.Override public org.ovirt.engine.core.dal.dbbroker.@@ MapSqlParameter@@ Map@@ per@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ > get@@ B@@ atch@@ Map@@ per@@ () { return new org.ovirt.engine.core.dal.dbbroker.@@ MapSqlParameter@@ Map@@ per@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ >() { @java.lang.Override public org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source map@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity entity@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source param@@ Value = new org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ volume@@ _id", entity.get@@ Volume@@ Id@@ ()).addValue("@@ server@@ _id", entity.get@@ Server@@ Id@@ ()).addValue("@@ brick@@ _@@ d@@ ir@@ ", entity.get@@ Brick@@ Direct@@ ory@@ ()).addValue("@@ status@@ ", entity.get@@ Status@@ ().@@ name@@ ()).addValue("@@ id@@ ", entity.get@@ Id().@@ toString@@ ()).addValue("@@ brick@@ _@@ or@@ der@@ ", entity.get@@ Brick@@ Or@@ der@@ ()).addValue("@@ network@@ _id", entity.get@@ Network@@ Id@@ ()).addValue("@@ task@@ _id", ((@@ entity.get@@ AsyncTask@@ ().get@@ Task@@ Id()) != null ? entity.get@@ AsyncTask@@ ().get@@ Task@@ Id().@@ toString@@ () : "@@ )).@@ addValue("@@ un@@ s@@ yn@@ ce@@ d@@ _@@ ent@@ ri@@ es@@ ", entity.get@@ Un@@ s@@ y@@ c@@ ne@@ d@@ En@@ t@@ ri@@ es@@ ()).addValue("@@ un@@ s@@ yn@@ ce@@ d@@ _@@ enti@@ _@@ h@@ ist@@ ory@@ ", entity.get@@ Un@@ S@@ yn@@ ce@@ d@@ Enti@@ ce@@ d@@ En@@ t@@ ri@@ es@@ Tr@@ end@@ ()); return param@@ Value@@ ; } }; }
private java.lang.String get@@ Vds@@ C@@ er@@ t@@ if@@ icate@@ Su@@ bject@@ () { return org.ovirt.engine.core.bll.@@ Configur@@ e@@ Console@@ Option@@ s@@ Query.get@@ Backend@@ ().@@ run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vds@@ C@@ er@@ t@@ if@@ icate@@ Su@@ bject@@ By@@ Vm@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (c@@ ach@@ ed@@ Vm@@ .getId@@ ())@@ ).get@@ ReturnValue@@ (); }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Contex@@ t contex@@ t@@ , java.lang.String value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der s@@ b@@ , java.lang.String id@@ ) { if (@@ valu@@ e != null@@ ) { s@@ b@@ .@@ append@@ Ht@@ ml@@ Constant@@ ("@@ <@@ a h@@ re@@ f@@ =@@ '@@ java@@ s@@ cri@@ p@@ t@@ :@@ ;@@ ' st@@ y@@ le@@ =@@ '@@ dis@@ play@@ : in@@ lin@@ e@@ -@@ bl@@ ock@@ '@@ >@@ "); super@@ .@@ r@@ ender@@ (@@ contex@@ t@@ , value@@ , s@@ b@@ , id@@ ); s@@ b@@ .@@ append@@ Ht@@ ml@@ Constant@@ ("@@ <@@ /@@ a@@ >@@ "); } }
@java.lang.Override public void cl@@ e@@ an@@ up@@ () { d@@ ri@@ ver.@@ cl@@ e@@ an@@ up@@ (); un@@ it@@ Vm@@ Model.@@ cl@@ e@@ an@@ up@@ (); un@@ it@@ Vm@@ Model = null@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { cluster@@ Id = get@@ Parameters().get@@ Cluster@@ Id@@ (); server@@ Id = get@@ Parameters().get@@ Server@@ Id@@ (); ser@@ vice@@ Type = get@@ Parameters().get@@ Service@@ Type@@ (); action@@ Type = get@@ Parameters().get@@ Action@@ Type@@ (); if (!@@ (org.ovirt.engine.core.bll.@@ gluster.@@ Manage@@ Gluster@@ Service@@ Command@@ .m@@ an@@ age@@ Action@@ Detail@@ s@@ Map.@@ key@@ Set@@ ().@@ contains(@@ action@@ Type@@ ))) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ IN@@ VALID@@ _@@ ACTION_@@ TYP@@ E); } if ((@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (cluster@@ Id@@ )) && (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (@@ server@@ Id@@ ))) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ LUST@@ ER@@ ID@@ _@@ AN@@ D@@ _S@@ ER@@ V@@ ER@@ ID@@ _@@ B@@ O@@ TH@@ _@@ N@@ U@@ L@@ ); } if ((!@@ (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (cluster@@ Id@@ ))) && ((get@@ Cluster@@ Util@@ s().get@@ All@@ Up@@ Server@@ s@@ (cluster@@ Id@@ ).@@ size()) == 0@@ )) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NO@@ _S@@ ER@@ V@@ ER@@ S_@@ F@@ OR@@ _C@@ LUST@@ ER@@ ); } return true@@ ; }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation map@@ (org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation entity@@ , org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation template@@ ) { if (@@ enti@@ ty == null@@ ) { return null@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > name@@ Server@@ s = entity.get@@ Name@@ Server@@ s(); if (@@ name@@ Server@@ s == null@@ ) { return null@@ ; } java.util.List<java.lang.String> name@@ Server@@ List = name@@ Server@@ s.@@ stream@@ ().@@ map@@ (@@ Name@@ Server@@ :@@ :@@ :@@ get@@ Address@@ ).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ Name@@ Server@@ s@@ List name@@ Server@@ s@@ List = new org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ Name@@ Server@@ s@@ List@@ (); name@@ Server@@ s@@ Lis@@ t.get@@ Name@@ Server@@ s().@@ add@@ All@@ (@@ name@@ Server@@ List@@ ); org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation d@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation = new org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (); d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .set@@ Name@@ Server@@ s(@@ name@@ Server@@ s@@ List@@ ); return d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ; }
@java.lang.Override public T map@@ Row@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { T enti@@ ty = create@@ Network@@ Entity@@ (); entity.set@@ Id(@@ org.ovirt.engine.core.dao.@@ network.Network@@ Dao@@ DbFacade@@ Impl.@@ Network@@ Row@@ Map@@ per@@ Base.get@@ Guid@@ Default@@ Empty@@ (r@@ s, "@@ id@@ ")); entity.set@@ Name@@ (rs.get@@ String("@@ name@@ ")); entity.set@@ Description@@ (rs.get@@ String("@@ d@@ escription@@ ")); entity.set@@ Comm@@ ent@@ (rs.get@@ String("@@ f@@ ree@@ _@@ tex@@ t@@ _@@ c@@ omm@@ ent@@ ")); entity.set@@ Type@@ (((@@ java.lang.Integer@@ ) (rs.get@@ Object@@ ("@@ type@@ "@@ )@@ ))); entity.set@@ Add@@ r@@ (rs.get@@ String("@@ add@@ r@@ ")); entity.set@@ Sub@@ net@@ (rs.get@@ String("@@ sub@@ net@@ ")); entity.set@@ G@@ ate@@ w@@ ay@@ (rs.get@@ String("@@ g@@ ate@@ w@@ ay@@ ")); entity.set@@ V@@ lan@@ Id@@ (((@@ java.lang.Integer@@ ) (rs.get@@ Object@@ ("@@ v@@ lan@@ _id@@ "@@ )@@ ))); entity.set@@ St@@ p@@ (rs.get@@ Boolean@@ ("@@ st@@ p@@ ")); entity.set@@ DataCenter@@ Id(@@ org.ovirt.engine.core.dao.@@ network.Network@@ Dao@@ DbFacade@@ Impl.@@ Network@@ Row@@ Map@@ per@@ Base.get@@ Guid@@ Default@@ Empty@@ (r@@ s, "@@ storage_@@ pool@@ _id@@ ")); entity.set@@ M@@ tu@@ (rs.get@@ In@@ t@@ ("@@ m@@ tu@@ ")); entity.set@@ VmNetwork@@ (rs.get@@ Boolean@@ ("@@ vm@@ _@@ network@@ ")); org.ovirt.engine.core.compat.Guid provider@@ Id = org.ovirt.engine.core.dao.@@ network.Network@@ Dao@@ DbFacade@@ Impl.@@ Network@@ Row@@ Map@@ per@@ Base.get@@ Guid@@ (r@@ s, "@@ provider@@ _@@ network@@ _@@ provider@@ _id@@ "); if (@@ provider@@ Id != null@@ ) { entity.set@@ Provi@@ ded@@ By@@ (@@ new org.ovirt.engine.core.common.businessentities.network.@@ Provider@@ Network@@ (@@ provider@@ Id, r@@ s.get@@ String("@@ provider@@ _@@ network@@ _@@ ex@@ ternal@@ _id@@ "@@ ))); } entity.set@@ Qos@@ (@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Qos@@ Dao().get@@ (@@ org.ovirt.engine.core.dao.@@ network.Network@@ Dao@@ DbFacade@@ Impl.@@ Network@@ Row@@ Map@@ per@@ Base.get@@ Guid@@ (r@@ s, "@@ q@@ os@@ _id@@ "@@ ))); return entity@@ ; }
public java.lang.String get@@ Get@@ Session@@ User@@ Servlet@@ UR@@ L@@ () { return org.ovirt.engine.core.bll.@@ Get@@ Session@@ User@@ Servlet@@ UR@@ L@@ ; }
protected boolean pc@@ i@@ And@@ I@@ de@@ With@@ in@@ L@@ im@@ it@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > all@@ Interfaces@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > all@@ Disk@@ s) { if (!(@@ check@@ P@@ c@@ i@@ And@@ I@@ de@@ L@@ im@@ it@@ (vm.get@@ Num@@ Of@@ Monitor@@ s@@ (), all@@ Interfaces@@ , all@@ Disk@@ s, org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Abstract@@ Vm@@ Interface@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ()))) { return false@@ ; } else { return true@@ ; } }
protected void add@@ VmTemplate@@ To@@ Db@@ () { get@@ VmTemplate@@ ().set@@ VdsGroup@@ Id@@ (get@@ Parameters().get@@ VdsGroup@@ Id()); if (!(@@ is@@ D@@ ed@@ ic@@ ated@@ Vds@@ Exist@@ On@@ S@@ ame@@ Cluster@@ (get@@ VmTemplate@@ (), true@@ ))) { get@@ VmTemplate@@ ().set@@ D@@ ed@@ ic@@ ated@@ Vm@@ For@@ Vds@@ (@@ null@@ ); } get@@ VmTemplate@@ ().set@@ Status(@@ VmTemplate@@ Status.@@ Lock@@ ed@@ ); get@@ VmTemplate@@ ().set@@ Quota@@ Id@@ (get@@ Parameters().get@@ Quota@@ Id()); org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Im@@ ported@@ Vm@@ Us@@ b@@ Policy@@ (get@@ VmTemplate@@ ()); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VmTemplate@@ Dao().@@ save@@ (get@@ VmTemplate@@ ()); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity@@ (get@@ VmTemplate@@ ()); int c@@ oun@@ t = 1@@ ; for (org.ovirt.engine.core.common.businessentities.@@ DiskImage im@@ age : get@@ Images@@ ()) { image.@@ set@@ Active@@ (@@ true@@ ); org.ovirt.engine.core.common.businessentities.@@ image@@ _@@ storage@@ _@@ do@@ m@@ ain@@ _@@ ma@@ p ma@@ p = org.ovirt.engine.core.bll.@@ Base@@ Images@@ Command.@@ save@@ Image@@ (@@ image@@ ); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity(@@ im@@ age.get@@ Image@@ ()); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity@@ (m@@ ap@@ ); if (!(@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Base@@ Disk@@ Dao().@@ ex@@ ist@@ s(@@ im@@ age.get@@ Id@@ ()))) { image.@@ set@@ Disk@@ Alias@@ (org.ovirt.engine.core.bll.@@ Images@@ Handler@@ .get@@ Su@@ g@@ es@@ ted@@ Disk@@ Alias@@ (@@ image@@ , get@@ VmTemplate@@ Name(), c@@ ount@@ )); c@@ ount@@ +@@ +@@ ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Base@@ Disk@@ Dao().@@ save@@ (@@ image@@ ); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity(@@ image@@ ); } org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ Dynam@@ ic disk@@ Dynam@@ ic = new org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ Dynamic@@ (); disk@@ Dynamic@@ .set@@ Id(@@ im@@ age.get@@ Image@@ Id()); disk@@ Dynamic@@ .set@@ act@@ u@@ al@@ _@@ s@@ iz@@ e(@@ im@@ age.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ()); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ DiskImage@@ Dynamic@@ Dao().@@ save@@ (disk@@ Dynamic@@ ); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity@@ (disk@@ Dynamic@@ ); } }
protected void load@@ R@@ d@@ p@@ Data@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Console@@ Model model, org.ovirt.engine.ui.common.@@ utils.@@ Console@@ Option@@ s@@ Frontend@@ P@@ ers@@ ist@@ er@@ Impl.@@ Key@@ Ma@@ k@@ er key@@ Ma@@ k@@ er@@ ) { if ((!@@ (@@ con@@ s@@ ole@@ Utils.@@ is@@ R@@ D@@ P@@ Available@@ ())) || ((@@ model.get@@ Add@@ ition@@ al@@ Console@@ Model@@ ()) == null@@ )) { return@@ ; } model.set@@ Selected@@ Protocol@@ (@@ Console@@ Protoc@@ ol.@@ R@@ D@@ P@@ ); try { org.ovirt.engine.ui.uicommonweb.models.vms.@@ R@@ d@@ p@@ Console@@ Model.@@ Client@@ Console@@ M@@ ode@@ R@@ d@@ p con@@ s@@ ole@@ Mod@@ e = org.ovirt.engine.ui.uicommonweb.models.vms.@@ R@@ d@@ p@@ Console@@ Model.@@ Client@@ Console@@ M@@ ode@@ R@@ d@@ p@@ .@@ value@@ Of@@ (@@ client@@ Stor@@ age.get@@ Local@@ Item@@ (@@ key@@ Ma@@ k@@ er.@@ ma@@ k@@ e(@@ org.ovirt.engine.ui.common.@@ utils.@@ Console@@ Option@@ s@@ Frontend@@ P@@ ers@@ ist@@ er@@ Impl.@@ R@@ D@@ P@@ _C@@ L@@ I@@ EN@@ T_@@ M@@ O@@ DE@@ ))); as@@ R@@ d@@ p@@ Console@@ Model@@ (model@@ )@@ .set@@ R@@ d@@ p@@ Im@@ pl@@ ement@@ ation@@ (@@ con@@ s@@ ole@@ M@@ ode@@ ); } catch (@@ java.lang.Exception e) { } org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ R@@ d@@ p = as@@ R@@ d@@ p@@ Console@@ Model@@ (model@@ ).get@@ r@@ d@@ p@@ (); r@@ d@@ p@@ .set@@ U@@ se@@ Local@@ D@@ ri@@ v@@ es(@@ read@@ B@@ ool@@ (@@ key@@ Ma@@ k@@ er.@@ ma@@ k@@ e(@@ org.ovirt.engine.ui.common.@@ utils.@@ Console@@ Option@@ s@@ Frontend@@ P@@ ers@@ ist@@ er@@ Impl.@@ US@@ E_@@ LO@@ C@@ AL@@ _@@ D@@ R@@ I@@ V@@ ES@@ ))); }
protected org.ovirt.engine.core.bll.ValidationResult m@@ ac@@ Available@@ () { org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ pool@@ man@@ ag@@ er.@@ Mac@@ Pool m@@ ac@@ Pool = org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Ac@@ tivate@@ De@@ ac@@ tivate@@ Vm@@ Nic@@ Command.get@@ MacPool@@ (); java.lang.@@ B@@ oolean al@@ low@@ D@@ up@@ Mac@@ s = m@@ ac@@ Poo@@ l.@@ is@@ D@@ up@@ l@@ icate@@ Mac@@ Address@@ es@@ Allow@@ ed@@ (); org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manage@@ r vm@@ Interface@@ Manage@@ r = new org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manager@@ (m@@ ac@@ Pool@@ ); if (@@ al@@ low@@ D@@ up@@ Mac@@ s || (!@@ (vm@@ Interface@@ Manager.@@ ex@@ ist@@ s@@ Plug@@ ged@@ Interface@@ With@@ S@@ ame@@ Mac@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Ac@@ tivate@@ De@@ ac@@ tivate@@ Vm@@ Nic@@ Command.getParameters().get@@ Nic@@ ())@@ ))) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } else { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ NETWORK_@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ IN_@@ US@@ E); } }
@java.lang.Override public void edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Import@@ Cl@@ one@@ Model object@@ ) { if ((@@ objec@@ t.get@@ Entity@@ ()) instanceof org.ovirt.engine.core.common.businessentities.@@ VM@@ ) { d@@ ial@@ og@@ Label@@ Editor@@ .set@@ Text@@ (m@@ ess@@ ages.@@ s@@ ame@@ Vm@@ Name@@ Exist@@ s@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (@@ objec@@ t.get@@ Entity@@ ())@@ ).get@@ Name@@ ())); cl@@ one@@ Editor@@ .@@ as@@ R@@ ad@@ i@@ o@@ Button@@ ().set@@ H@@ T@@ M@@ L@@ (@@ templat@@ es.@@ t@@ w@@ o@@ Lin@@ es@@ R@@ ad@@ i@@ o@@ Button@@ Label@@ (@@ const@@ an@@ t@@ s.@@ cl@@ one@@ ImportVm@@ (), const@@ an@@ t@@ s.@@ cl@@ one@@ ImportVm@@ Detail@@ s@@ ()).@@ as@@ String@@ ()); s@@ u@@ f@@ fi@@ x@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ cl@@ one@@ Import@@ Su@@ f@@ fi@@ x@@ Vm@@ ()); } else { d@@ ial@@ og@@ Label@@ Editor@@ .set@@ Text@@ ((((@@ (@@ const@@ an@@ t@@ s.@@ s@@ ame@@ Template@@ Name@@ Exist@@ s()) + " ("@@ ) + ((@@ (org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ ) (@@ objec@@ t.get@@ Entity@@ ())@@ ).get@@ Name@@ ())) + "@@ )@@ ")); cl@@ one@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ cl@@ one@@ Import@@ Template@@ ()); s@@ u@@ f@@ fi@@ x@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ cl@@ one@@ Import@@ Su@@ f@@ fi@@ x@@ Template@@ ()); } org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ storage.@@ back@@ up@@ .@@ Import@@ Cl@@ one@@ D@@ ial@@ og@@ Popup@@ View@@ .@@ D@@ ri@@ ver.@@ d@@ ri@@ ver.@@ edit@@ (@@ object@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ St@@ e@@ p st@@ ep@@ ) { validate@@ Parameters(@@ st@@ ep@@ , "@@ type@@ ", "@@ stat@@ u@@ s.@@ st@@ ate@@ ", "@@ d@@ escription@@ "); java.lang.String id@@ ; if (@@ st@@ ep@@ .is@@ Set@@ Parent@@ Step@@ ()) { validate@@ Parameters(@@ st@@ ep@@ , "@@ parent@@ Step@@ .@@ id@@ "); id = st@@ ep@@ .get@@ Parent@@ Step@@ ().get@@ Id@@ (); } else { id = job@@ Id@@ .@@ toString@@ (); } javax.ws.rs.@@ core.@@ Respon@@ se respon@@ se = p@@ er@@ for@@ m@@ Create@@ (VdcActionType.@@ Add@@ External@@ Step@@ , new org.ovirt.engine.core.common.action.@@ Add@@ External@@ Step@@ Parameters(@@ as@@ Guid@@ (@@ id@@ ), st@@ ep@@ .get@@ Description@@ (), org.ovirt.engine.api.restapi.@@ types.@@ Step@@ Mapper.@@ map@@ (org.ovirt.engine.api.model.@@ Step@@ Enum@@ .@@ f@@ rom@@ Value(@@ st@@ ep@@ .get@@ Type@@ ())@@ ), org.ovirt.engine.api.restapi.@@ types.@@ Job@@ Mapper.@@ map@@ (@@ st@@ ep@@ .get@@ Status@@ (), null@@ )@@ ), new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <@@ org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Step@@ By@@ Step@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ )); org.ovirt.engine.api.model.@@ St@@ e@@ p create@@ d@@ St@@ e@@ p = ((@@ org.ovirt.engine.api.model.@@ Step@@ ) (@@ respon@@ s@@ e.get@@ Entity@@ ())); in@@ j@@ ect@@ Parent@@ (c@@ reate@@ d@@ Step@@ ); return respon@@ se@@ ; }
public void load@@ Vm@@ From@@ O@@ va@@ () { if (!(@@ validate@@ O@@ va@@ Configuration@@ ())) { return@@ ; } st@@ art@@ Progress@@ (@@ null@@ ); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Vm@@ From@@ O@@ va@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { update@@ Vm@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (@@ return@@ Value@@ )@@ ))); } }@@ ), get@@ Host@@ s().get@@ SelectedItem@@ ().get@@ Id(), get@@ O@@ va@@ Path@@ ().getEntity@@ ()); }
void af@@ ter@@ VM@@ s@@ Re@@ fresh@@ T@@ re@@ at@@ ment@@ () { for (org.ovirt.engine.core.compat.Guid vm@@ _@@ g@@ ui@@ d : _@@ vm@@ sTo@@ R@@ er@@ un@@ ) { org.ovirt.engine.core.vdsbroker.@@ Vms@@ Monitor@@ ing.@@ log.error("@@ R@@ er@@ u@@ n VM '{}@@ '@@ . Call@@ ed f@@ ro@@ m vd@@ s '{}@@ '@@ ", vm@@ _@@ g@@ uid@@ , vds.get@@ Name()); org.ovirt.engine.core.vdsbroker.@@ Resource@@ Manager@@ .getInstance().@@ R@@ er@@ un@@ Fail@@ ed@@ Command@@ (vm@@ _@@ g@@ uid@@ , vds.get@@ Id()); } for (org.ovirt.engine.core.compat.Guid vm@@ _@@ g@@ ui@@ d : _@@ s@@ uc@@ ce@@ ded@@ To@@ RunVm@@ s) { vds@@ Manager.@@ s@@ uc@@ ce@@ ded@@ To@@ RunVm@@ (vm@@ _@@ g@@ uid@@ ); } _@@ au@@ to@@ Vms@@ To@@ Run@@ .@@ remove@@ All@@ (@@ _@@ vm@@ sTo@@ R@@ er@@ un@@ ); get@@ Vds@@ Event@@ Listener@@ ().@@ run@@ Fail@@ ed@@ Au@@ to@@ Start@@ VM@@ s(@@ _@@ au@@ to@@ Vms@@ To@@ Run@@ ); for (java.util.@@ Map.@@ E@@ n@@ try@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Dynamic@@ > p@@ a@@ i@@ r : _@@ vm@@ s@@ Client@@ Ip@@ Changed@@ .@@ e@@ n@@ try@@ Set@@ ()) { get@@ Vds@@ Event@@ Listener@@ ().@@ pro@@ cess@@ On@@ Client@@ Ip@@ Chang@@ e(@@ vds@@ , p@@ a@@ ir@@ .get@@ Value@@ ().get@@ Id()); } for (org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic run@@ ning@@ V@@ m : _@@ p@@ ow@@ er@@ ing@@ Up@@ Vm@@ s) { get@@ Vds@@ Event@@ Listener@@ ().@@ pro@@ cess@@ On@@ Vm@@ P@@ ow@@ er@@ ing@@ Up@@ (@@ run@@ ning@@ Vm@@ .get@@ Id(), run@@ ning@@ Vm@@ .get@@ Display@@ Ip@@ (), run@@ ning@@ Vm@@ .get@@ Display@@ ()); } for (org.ovirt.engine.core.compat.Guid vm@@ _@@ g@@ ui@@ d : _@@ vm@@ s@@ M@@ oved@@ To@@ Down@@ ) { get@@ Vds@@ Event@@ Listener@@ ().@@ pro@@ cess@@ On@@ Vm@@ St@@ op@@ (vm@@ _@@ g@@ uid@@ ); } for (org.ovirt.engine.core.compat.Guid vm@@ _@@ g@@ ui@@ d : _@@ vm@@ sTo@@ Remove@@ From@@ Async@@ ) { org.ovirt.engine.core.vdsbroker.@@ Resource@@ Manager@@ .getInstance().@@ Remove@@ Async@@ Run@@ ning@@ Vm@@ (vm@@ _@@ g@@ uid@@ ); } }
public void initial@@ ize@@ Handl@@ ers@@ () { model@@ Provider@@ .get@@ Model().get@@ Entity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { java.lang.Object enti@@ ty = model@@ Provider@@ .get@@ Model().get@@ Entity@@ (); if (@@ enti@@ ty != null@@ ) { on@@ Detail@@ Model@@ Entity@@ Chang@@ e(@@ entity@@ ); } } }); model@@ Provider@@ .get@@ Model().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { if (@@ PropertyChanged@@ EventArg@@ s.@@ P@@ RO@@ G@@ RE@@ SS@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { if ((@@ model@@ Provider@@ .get@@ Model().get@@ Progress@@ ()) != null@@ ) { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ fer@@ red@@ (@@ new com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er.@@ Schedul@@ ed@@ Command() { @java.lang.Override public void execute@@ () { if ((get@@ T@@ able@@ ()) != null@@ ) { get@@ T@@ able@@ ().set@@ Lo@@ ad@@ ing@@ State@@ (@@ Lo@@ ad@@ ing@@ Stat@@ e.@@ LO@@ AD@@ ING@@ ); } } } }); }
private static void Add@@ Boot@@ Protocol@@ (@@ org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Str@@ uc@@ t c@@ f@@ g@@ , org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface if@@ ac@@ e) { if (c@@ f@@ g != null@@ ) { if ((@@ c@@ f@@ g.@@ get@@ Item@@ ("@@ B@@ O@@ O@@ T@@ P@@ RO@@ TO@@ "@@ )) != null@@ ) { if (c@@ f@@ g.@@ get@@ Item@@ ("@@ B@@ O@@ O@@ T@@ P@@ RO@@ TO@@ ").@@ toString@@ ().@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ().@@ equals@@ ("@@ d@@ h@@ c@@ p@@ "@@ )) { if@@ ac@@ e.set@@ Boot@@ Protocol@@ (@@ Network@@ Boot@@ Protoc@@ ol.@@ D@@ h@@ c@@ p@@ ); } else { if@@ ac@@ e.set@@ Boot@@ Protocol@@ (@@ Network@@ Boot@@ Protoc@@ ol.@@ N@@ one@@ ); } } else if ((@@ c@@ f@@ g.@@ contains@@ Key@@ ("@@ I@@ P@@ AD@@ D@@ R@@ "@@ )) && (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (c@@ f@@ g.@@ get@@ Item@@ ("@@ I@@ P@@ AD@@ D@@ R@@ ").@@ toString@@ ())@@ ))) { if@@ ac@@ e.set@@ Boot@@ Protocol@@ (@@ Network@@ Boot@@ Protoc@@ ol.@@ Static@@ Ip@@ ); if (c@@ f@@ g.@@ contains@@ Key@@ (@@ VdsProperties.@@ g@@ ate@@ w@@ ay@@ )) { java.lang.Object g@@ ate@@ w@@ a@@ y = c@@ f@@ g.@@ get@@ Item@@ (@@ VdsProperties.@@ g@@ ate@@ w@@ ay@@ ); if ((@@ g@@ ate@@ w@@ a@@ y != null@@ ) && (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ g@@ ate@@ w@@ ay@@ .@@ toString@@ ())@@ ))) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ set@@ G@@ ate@@ w@@ ay@@ For@@ Management@@ Network@@ (@@ if@@ ace@@ , g@@ ate@@ w@@ ay@@ .@@ toString()); } } else { if@@ ac@@ e.set@@ Boot@@ Protocol@@ (@@ Network@@ Boot@@ Protoc@@ ol.@@ N@@ one@@ ); } } }
public void get@@ Vms@@ For@@ Display@@ ing@@ From@@ External@@ Server@@ (@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , org.ovirt.engine.core.compat.Guid dataCenter@@ Id, org.ovirt.engine.core.compat.Guid vds@@ Id, java.lang.String ur@@ l@@ , java.lang.String user@@ name@@ , java.lang.String p@@ assword@@ , org.ovirt.engine.core.common.businessentities.@@ O@@ ri@@ gin@@ Type or@@ i@@ gin@@ Type, boolean dc@@ Sup@@ port@@ s@@ Ap@@ i@@ For@@ Lo@@ ad@@ ing@@ External@@ Vms@@ Names@@ Only@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object con@@ ver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { if (s@@ ource == null@@ ) { return new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VM@@ >(); } return source@@ ; } }; if (@@ dc@@ Sup@@ port@@ s@@ Ap@@ i@@ For@@ Lo@@ ad@@ ing@@ External@@ Vms@@ Names@@ Only@@ ) { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vms@@ Names@@ From@@ External@@ Provider@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Vms@@ From@@ External@@ Provider@@ Query@@ Parameters(@@ ur@@ l@@ , user@@ name@@ , p@@ assword@@ , or@@ i@@ gin@@ Type, vds@@ Id, dataCenter@@ Id@@ ), aQuery@@ ); } else { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vms@@ F@@ ull@@ Info@@ From@@ External@@ Provider@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Vms@@ From@@ External@@ Provider@@ Query@@ Parameters(@@ ur@@ l@@ , user@@ name@@ , p@@ assword@@ , or@@ i@@ gin@@ Type, vds@@ Id, dataCenter@@ Id@@ ), aQuery@@ ); } }
@java.lang.Override protected void execute@@ Command() { if ((org.ovirt.engine.core.bll.@@ Det@@ ach@@ User@@ Group@@ From@@ Tag@@ Command.get@@ Tag@@ Id()) != null@@ ) { for (org.ovirt.engine.core.compat.Guid group@@ Gui@@ d : org.ovirt.engine.core.bll.@@ Det@@ ach@@ User@@ Group@@ From@@ Tag@@ Command.get@@ Group@@ List@@ ()) { org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Group g@@ roup = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Db@@ Group@@ Dao().get@@ (@@ group@@ Guid@@ ); if ((@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Tag@@ Dao().get@@ Tag@@ User@@ Group@@ By@@ Group@@ Id@@ And@@ By@@ Tag@@ Id@@ (org.ovirt.engine.core.bll.@@ Det@@ ach@@ User@@ Group@@ From@@ Tag@@ Command.get@@ Tag@@ Id(), group@@ Guid@@ )) != null@@ ) { if (@@ g@@ roup != null@@ ) { append@@ Custom@@ Comm@@ a@@ Se@@ par@@ ated@@ Value("@@ Det@@ ach@@ Group@@ s@@ Names@@ ", group@@ .get@@ Name()); } org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Tag@@ Dao().@@ d@@ et@@ ach@@ User@@ Group@@ From@@ Tag@@ (org.ovirt.engine.core.bll.@@ Det@@ ach@@ User@@ Group@@ From@@ Tag@@ Command.get@@ Tag@@ Id(), group@@ Guid@@ ); no@@ Action@@ D@@ on@@ e = false@@ ; org.ovirt.engine.core.bll.@@ Det@@ ach@@ User@@ Group@@ From@@ Tag@@ Command.set@@ Succeeded@@ (@@ true@@ ); } } } } }
public void re@@ fresh@@ GeoRep@@ Data@@ For@@ Volume@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ ) { if (@@ volum@@ e == null@@ ) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ GlusterVolume@@ GeoRep@@ Sync@@ Fail@@ ed@@ , "@@ N@@ o volum@@ e in@@ for@@ m@@ ation@@ "); } org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster = get@@ Cluster@@ Dao().get@@ (@@ volum@@ e.get@@ Cluster@@ Id()); dis@@ c@@ o@@ ver@@ GeoRep@@ Data@@ In@@ Cluster@@ (cluster@@ , volume@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ Session@@ > ge@@ oRep@@ Session@@ s = get@@ GeoRep@@ Dao().get@@ GeoRep@@ Session@@ s(@@ volum@@ e.get@@ Id()); re@@ fresh@@ GeoRep@@ Session@@ Status@@ For@@ Session@@ s@@ (cluster@@ , ge@@ oRep@@ Session@@ s); }
@java.lang.Override protected void init@@ StorageDomain@@ s() { final org.ovirt.engine.core.common.businessentities.@@ Disk dis@@ k = get@@ Disks@@ ().get@@ (0@@ ).get@@ Disk@@ (); if ((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ Disk@@ .@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { return@@ ; } org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ StorageDomain@@ List@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Move@@ Disk@@ Model m@@ ove@@ Disk@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Move@@ Disk@@ Model) (@@ target@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > storageDomain@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >) (@@ return@@ Value@@ )); m@@ ove@@ Disk@@ Model.@@ on@@ Init@@ StorageDomain@@ s(@@ storageDomain@@ s, disk@@ ); } }@@ ), ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (disk@@ )@@ ).get@@ StoragePool@@ Id()); }
@java.lang.Override protected void end@@ With@@ Fail@@ ure@@ () { org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.@@ re@@ ver@@ t@@ Task@@ s(); if ((@@ (org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.get@@ Dest@@ ination@@ DiskImage@@ ()) != null@@ ) && (!(@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Dao().get@@ Vms@@ List@@ For@@ Disk@@ (org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.get@@ Dest@@ ination@@ DiskImage@@ ().get@@ Id@@ ()).@@ isEmpty@@ ()))) { if (!@@ (org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.get@@ Dest@@ ination@@ DiskImage@@ ().get@@ Parent@@ Id().@@ equals(@@ Guid@@ .@@ Empty@@ ))) { if (!@@ (org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.get@@ Dest@@ ination@@ DiskImage@@ ().get@@ Parent@@ Id().@@ equals@@ (org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.get@@ Dest@@ ination@@ DiskImage@@ ().get@@ I@@ t@@ Guid@@ ()))) { org.ovirt.engine.core.common.businessentities.@@ DiskImage pre@@ vi@@ o@@ us@@ S@@ napsho@@ t = org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.get@@ DiskImage@@ Dao().get@@ Snapshot@@ By@@ Id@@ (org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.get@@ Dest@@ ination@@ DiskImage@@ ().get@@ Parent@@ Id()); pre@@ vi@@ o@@ us@@ S@@ napsho@@ t.@@ set@@ Active@@ (@@ true@@ ); if ((org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.getParameters().get@@ O@@ l@@ d@@ L@@ ast@@ M@@ o@@ d@@ if@@ i@@ ed@@ Value@@ ()) != null@@ ) { pre@@ vi@@ o@@ us@@ S@@ napsho@@ t.@@ set@@ L@@ ast@@ M@@ o@@ d@@ if@@ i@@ ed@@ (org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.getParameters().get@@ O@@ l@@ d@@ L@@ ast@@ M@@ o@@ d@@ if@@ i@@ ed@@ Value@@ ()); } org.ovirt.engine.core.bll.@@ Create@@ Snapshot@@ Command.get@@ Image@@ Dao().@@ update@@ (@@ pre@@ vi@@ o@@ us@@ S@@ napsho@@ t.get@@ Image@@ ()); } } super@@ .@@ end@@ With@@ Fail@@ ure@@ (); }
@org.junit.Test @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") @org.junit.Test public void name@@ Not@@ Available@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ Provi@@ der.@@ Add@@ ition@@ al@@ Properties@@ > oth@@ er@@ Provi@@ der = create@@ Provider@@ (@@ provider@@ .get@@ Name()); when@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ Provi@@ der.@@ Add@@ ition@@ al@@ Properties@@ >) (@@ provider@@ Dao.get@@ By@@ Name(@@ provider@@ .getName@@ ())@@ )@@ )).@@ thenReturn(@@ oth@@ er@@ Provider@@ ); assert@@ That@@ (@@ validator.@@ name@@ Available@@ (), fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NAM@@ E_@@ AL@@ RE@@ AD@@ Y_@@ US@@ ED@@ )); }
@org.junit.Test public void test@@ List@@ With@@ Multiple@@ Object@@ s() { java.util.List<@@ org.ovirt.engine.api.@@ types.@@ V@@ 4@@ Vm@@ > lis@@ t = new java.util.ArrayList<>(); lis@@ t.@@ add@@ (vm@@ ().@@ build@@ ()); lis@@ t.@@ add@@ (vm@@ ().@@ build@@ ()); assert@@ Equals@@ ("@@ <@@ vm@@ s@@ >@@ <@@ vm@@ >@@ <@@ /@@ vm@@ >@@ <@@ /@@ vm@@ >@@ <@@ /@@ vm@@ >@@ <@@ /@@ vm@@ s@@ >@@ ", list@@ To@@ X@@ ml@@ (@@ lis@@ t.@@ iter@@ ator@@ ())); }
public void set@@ L@@ ev@@ el@@ (java.lang.String le@@ v@@ el@@ ) { this@@ .@@ el@@ ; }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ res@@ t@@ ore@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Ser@@ ve@@ r get@@ Action@@ Resource@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return new org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Server@@ (get@@ Del@@ e@@ g@@ ate@@ ().get@@ Action@@ Resource@@ (@@ action@@ , o@@ id@@ )); }
@java.lang.Override public org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ Read@@ Only@@ Mac@@ Pool get@@ MacPool@@ For@@ Cluster@@ (org.ovirt.engine.core.compat.Guid cluster@@ Id) { return get@@ MacPool@@ By@@ Id@@ (get@@ MacPool@@ Id@@ (cluster@@ Id@@ )); }
@java.lang.Override protected void init@@ () { m@@ ac@@ Pool = org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.get@@ MacPool@@ (); org.ovirt.engine.core.common.businessentities.VM vm@@ From@@ Configur@@ ation = org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.getParameters().get@@ Vm@@ (); if (vm@@ From@@ Configur@@ ation != null@@ ) { vm@@ From@@ Configuration@@ .get@@ StaticData@@ ().set@@ Cluster@@ Id@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.getParameters().get@@ Cluster@@ Id()); if (!@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.@@ is@@ Images@@ Al@@ read@@ y@@ On@@ T@@ arget@@ ())) { set@@ Disks@@ To@@ Be@@ Attached@@ (vm@@ From@@ Configuration@@ ); } org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ Contain@@ er@@ Id@@ (vm@@ From@@ Configuration@@ .getId()); } else { init@@ Un@@ re@@ gist@@ er@@ ed@@ VM@@ (); } if ((@@ Guid@@ .@@ Empty@@ .@@ equals@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.getParameters().get@@ Vm@@ Id@@ ())) && ((org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.getParameters().get@@ Vm@@ ()) != null@@ )) { org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.getParameters().get@@ Vm().get@@ Id()); } set@@ Cluster@@ Id@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.getParameters().get@@ Cluster@@ Id()); org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ Configuration@@ Command.get@@ Cluster@@ ().get@@ StoragePool@@ Id()); super@@ .@@ init@@ (); }
@java.lang.Override protected boolean canDoAction@@ () { if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s : get@@ Server@@ s@@ In@@ Cluster@@ ()) { if ((@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) { set@@ Vds@@ Name(@@ vds.get@@ Name()); addCanDoActionMessage@@ (EngineMessage.ACTION_TYPE_FAILED_@@ S@@ ER@@ V@@ ER_@@ ST@@ AT@@ U@@ S_NOT_@@ UP@@ ); addCanDoActionMessage@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ %@@ 1@@ $@@ s %@@ 2@@ $@@ s", "@@ Vds@@ Name@@ ", vds.get@@ Name@@ ())); return false@@ ; } } return true@@ ; }
private static java.lang.Integ@@ er con@@ ver@@ t@@ (@@ java.lang.Integ@@ er num@@ , int con@@ version@@ R@@ ate@@ ) { if (@@ n@@ u@@ m == null@@ ) { return null@@ ; } else { return (@@ int@@ ) ((@@ num@@ .@@ comp@@ ()) / con@@ version@@ R@@ ate@@ )); } }
private void up@@ gr@@ ade@@ Node@@ () { try (@@ final org.ovirt.engine.core.bll.@@ O@@ Vir@@ t@@ Node@@ Up@@ gr@@ ad@@ e up@@ gr@@ ad@@ e = new org.ovirt.engine.core.bll.@@ O@@ Vir@@ t@@ Node@@ Up@@ gr@@ ade@@ (org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.get@@ Vds@@ (), _@@ is@@ o@@ )) { up@@ gr@@ ad@@ e.set@@ C@@ or@@ re@@ l@@ ation@@ Id@@ (org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.get@@ C@@ or@@ re@@ l@@ ation@@ Id()); org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.@@ log.info@@ ("@@ Execu@@ te up@@ gr@@ ad@@ e hos@@ t {0@@ }, {@@ 1@@ }@@ ", org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.get@@ Vds@@ ().get@@ Id(), org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.get@@ Vds@@ ().get@@ Name()); set@@ Vds@@ Status(@@ VDS@@ Status.@@ In@@ st@@ all@@ ing@@ ); up@@ gr@@ ad@@ e.@@ execute@@ (); switch (@@ up@@ gr@@ ade.get@@ De@@ plo@@ y@@ Status()) { case Fail@@ ed : throw new org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.@@ Vds@@ In@@ st@@ all@@ Exception@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ In@@ st@@ all@@ Fail@@ ed@@ , org.apache.commons.lang.StringUtils.@@ EM@@ P@@ TY@@ ); case R@@ eb@@ oo@@ t : set@@ Vds@@ Status(@@ VDS@@ Status.@@ R@@ eb@@ oot@@ ); Run@@ S@@ le@@ ep@@ On@@ R@@ eb@@ oot@@ (get@@ Status@@ On@@ R@@ eb@@ oot@@ ()); break@@ ; case Comp@@ let@@ e : if (@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ an@@ c@@ e.@@ equals(@@ vds@@ In@@ itial@@ Status@@ )) { set@@ Vds@@ Status(@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ ); } else { set@@ Vds@@ Status(@@ VDS@@ Status.@@ In@@ itial@@ iz@@ ing@@ ); } break@@ ; } org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.@@ log.info@@ Format@@ ("@@ Af@@ te@@ r up@@ gr@@ ad@@ e hos@@ t {0@@ }, {@@ 1@@ }@@ : s@@ uc@@ cess@@ ", org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.get@@ Vds@@ ().get@@ Id(), org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.get@@ Vds@@ ().get@@ Name()); org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.set@@ Succeeded@@ (@@ true@@ ); } catch (org.ovirt.engine.core.bll.@@ In@@ st@@ all@@ Vds@@ Command.@@ Vds@@ In@@ st@@ all@@ Exception e) { h@@ andle@@ Error@@ (@@ e@@ , e.get@@ Status@@ ()); } catch (@@ java.lang.Exception e) { h@@ andle@@ Error@@ (@@ e@@ , VDS@@ Status.@@ In@@ st@@ all@@ Fail@@ ed@@ ); } } }
public static boolean is@@ Version@@ Match@@ Storage@@ Type(@@ org.ovirt.engine.core.compat.@@ Version version@@ , org.ovirt.engine.core.common.queries.@@ Storage@@ Type typ@@ e) { return !@@ ((((@@ typ@@ e == (@@ StorageType.@@ LO@@ C@@ AL@@ FS@@ )) && ((@@ version@@ .@@ comp@@ are@@ To@@ (@@ new org.ovirt.engine.core.compat.@@ Version@@ (@@ 2@@ , 2@@ ))) <@@ = 0@@ )) || ((@@ typ@@ e == (@@ StorageType.@@ P@@ O@@ SI@@ X@@ FS@@ )) && ((@@ version@@ .@@ comp@@ are@@ To@@ (@@ new org.ovirt.engine.core.compat.@@ Version@@ (@@ 3@@ , 0@@ ))) <@@ = 0@@ ))) || ((@@ typ@@ e == (@@ StorageType.@@ G@@ LUST@@ ER@@ FS@@ )) && ((@@ version@@ .@@ comp@@ are@@ To@@ (@@ new org.ovirt.engine.core.compat.@@ Version@@ (@@ 3@@ , 2@@ ))) <@@ = 0@@ ))); }
private void update@@ M@@ tu@@ () { get@@ M@@ tu@@ ().setIs@@ Chang@@ able@@ ((@@ (get@@ H@@ as@@ M@@ tu@@ ().getEntity@@ ()) && (!@@ (get@@ Export@@ ().getEntity@@ ())@@ ))); if ((get@@ Export@@ ().getEntity@@ ()) || (get@@ H@@ as@@ M@@ tu@@ ().getEntity@@ ())) { get@@ M@@ tu@@ ().set@@ Entity@@ (@@ null@@ ); } else { get@@ M@@ tu@@ ().set@@ Entity@@ (((@@ java.lang.Integer@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Default@@ M@@ T@@ U@@ )@@ ))); } }
@org.junit.Test public void test@@ Ip@@ Configur@@ ed@@ For@@ Static@@ Boot@@ Protocol@@ W@@ h@@ en@@ Ip@@ Configuration@@ Is@@ Not@@ Null@@ And@@ Boot@@ Protocol@@ Is@@ Static@@ And@@ Address@@ Is@@ Null@@ () throw@@ s java.lang.Exception { do@@ Test@@ Ip@@ Configur@@ ed@@ For@@ Static@@ Boot@@ Protocol@@ ("@@ 1@@ 9@@ 2@@ 5@@ .@@ 2@@ 5@@ 5@@ .@@ 2@@ 5@@ 5@@ .@@ 2@@ 5@@ 5@@ .@@ 2@@ 5@@ 5@@ 5@@ .@@ 0@@ "); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ St@@ o@@ p R@@ eb@@ al@@ ance@@ ") java.lang.String st@@ op@@ R@@ eb@@ al@@ ance@@ ();
@java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { get@@ View@@ ().@@ sp@@ ice@@ Selected@@ (@@ ev@@ ent.get@@ Value@@ ()); get@@ View@@ ().@@ r@@ d@@ p@@ Selected@@ ((!@@ (@@ ev@@ ent.get@@ Value@@ ()))); get@@ View@@ ().set@@ W@@ an@@ Option@@ s@@ Visi@@ bl@@ e@@ (((@@ w@@ an@@ Option@@ s@@ Available@@ ) && (@@ ev@@ ent.get@@ Value@@ ()))); }
public static java.lang.String create@@ Connection@@ String@@ (java.lang.String host@@ , java.lang.String port@@ ) { java.lang.String@@ Buil@@ der s@@ b = new java.lang.String@@ Builder@@ (); s@@ b@@ .@@ append@@ (@@ host@@ ).@@ append("@@ :@@ ").@@ append@@ (@@ port@@ ); return s@@ b@@ .@@ toString@@ (); }
@java.lang.Override protected void p@@ op@@ ul@@ ate@@ Tab@@ Map@@ () { get@@ Tab@@ Name@@ Mapping@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ I@@ P@@ V@@ 4@@ _@@ T@@ AB@@ , this@@ .@@ ip@@ v@@ 4@@ Tab@@ ); get@@ Tab@@ Name@@ Mapping@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ I@@ P@@ V@@ 6@@ _@@ T@@ AB@@ , this@@ .@@ ip@@ v@@ 6@@ Tab@@ ); get@@ Tab@@ Name@@ Mapping@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ Q@@ O@@ S_@@ T@@ AB@@ , this@@ .@@ q@@ os@@ Tab@@ ); get@@ Tab@@ Name@@ Mapping@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ C@@ U@@ ST@@ O@@ M@@ _P@@ RO@@ P@@ ER@@ TI@@ E@@ S_@@ T@@ AB@@ , this@@ .@@ c@@ ustom@@ Properties@@ Tab@@ ); get@@ Tab@@ Name@@ Mapping@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ D@@ N@@ S_@@ C@@ ON@@ F@@ I@@ G@@ UR@@ A@@ TION_@@ T@@ AB@@ , this@@ .@@ d@@ n@@ s@@ Configuration@@ Tab@@ ); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> get@@ Device@@ List(@@ org.ovirt.engine.core.compat.Guid host@@ Id, org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Type storage@@ Type@@ ) { return get@@ Entity@@ (java.util.@@ List@@ .@@ class@@ , VdcQuery@@ Type.Get@@ Device@@ List@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Device@@ List@@ Query@@ Parameters(@@ host@@ Id, storage@@ Type, false@@ ), "@@ Get@@ Device@@ List@@ ", true@@ ); }
@java.lang.Override protected void update@@ Move@@ Or@@ Copy@@ Sing@@ le@@ Disk@@ Parameters(@@ java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > parameters@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model disk@@ Model) { org.ovirt.engine.core.common.businessentities.Storage@@ Domain selected@@ Storage@@ Domain = ((org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ ) (disk@@ Model.get@@ StorageDomain@@ ().getSelectedItem@@ ())); add@@ Move@@ Or@@ Copy@@ Parameters(@@ parameters@@ , Guid@@ .@@ Empty@@ , selected@@ StorageDomain@@ .get@@ Id(), ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (disk@@ Model.get@@ Disk@@ ()))); }
private org.ovirt.engine.core.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Vm@@ Properties@@ Util@@ s mock@@ Custom@@ Properties@@ Util@@ s() { org.ovirt.engine.core.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Vm@@ Properties@@ Util@@ s uti@@ l@@ s = sp@@ y@@ (@@ new org.ovirt.engine.core.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Vm@@ Properties@@ Util@@ s()); do@@ Return@@ ((@@ "@@ s@@ ap@@ _@@ ag@@ ent@@ =@@ ^@@ (@@ true@@ |@@ false@@ )@@ $@@ ;@@ s@@ n@@ db@@ u@@ f@@ =@@ ^@@ [@@ 0@@ -@@ 9@@ ]@@ +@@ $@@ ;@@ " + ("@@ v@@ host@@ =@@ ^@@ ((@@ [@@ a@@ -@@ z@@ A@@ -@@ Z@@ 0@@ -@@ 9@@ _@@ ]@@ *@@ )@@ :@@ (@@ true@@ |@@ false@@ )@@ (@@ ,@@ ((@@ [@@ a@@ -@@ z@@ A@@ -@@ Z@@ 0@@ -@@ 9@@ _@@ ]@@ *@@ )@@ :@@ (@@ true@@ |@@ false@@ )@@ )@@ *@@ $@@ ;@@ " + "@@ vi@@ o@@ disk@@ c@@ ach@@ e@@ =@@ ^@@ (@@ n@@ one@@ |@@ w@@ rite@@ back@@ |@@ wr@@ it@@ eth@@ rou@@ g@@ h@@ )@@ $@@ "@@ )@@ )).@@ when(@@ uti@@ l@@ s@@ ).get@@ Pre@@ de@@ fin@@ ed@@ VM@@ Properties@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )); do@@ Return@@ ("@@ ").@@ when(@@ uti@@ l@@ s@@ ).get@@ User@@ de@@ fin@@ ed@@ VM@@ Properties@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )); do@@ Return@@ (@@ new java.util.Hash@@ Set<@@ org.ovirt.engine.core.compat.@@ Version@@ >@@ (@@ java.util.Arrays.as@@ List(@@ Version@@ .@@ v@@ 3@@ _@@ 2@@ , Version@@ .@@ v@@ 3@@ _@@ 3@@ )@@ )).@@ when(@@ uti@@ l@@ s@@ ).get@@ Supported@@ Cluster@@ L@@ ev@@ el@@ s(); do@@ Return(@@ uti@@ l@@ s@@ ).@@ when(@@ run@@ Vm@@ Validator@@ ).get@@ Vm@@ Properties@@ Util@@ s(); try { utils.@@ init@@ (); } catch (@@ org.ovirt.engine.core.utils.@@ ex@@ ce@@ ption@@ s.@@ In@@ itial@@ ization@@ Exception e) { e.@@ p@@ r@@ int@@ St@@ ack@@ Tr@@ ace@@ (); } return uti@@ l@@ s@@ ; }
private java.util.Map<java.lang.String, java.lang.Integer@@ > get@@ System@@ Statistic@@ s() { java.util.Map<java.lang.String, java.lang.Integer@@ > re@@ s = new java.util.HashMap<@@ java.lang.String, java.lang.Integer@@ >(); int t@@ otal@@ VM@@ s = get@@ T@@ otal@@ VM@@ s@@ Stat@@ (); int ac@@ tive@@ VM@@ s = get@@ Active@@ VM@@ s@@ Stat@@ (); int do@@ wn@@ VM@@ s = ((@@ t@@ otal@@ VM@@ s - ac@@ tive@@ VM@@ s) < 0) ? 0 : t@@ otal@@ VM@@ s - ac@@ tive@@ VM@@ s@@ ; int t@@ otal@@ Host@@ s = get@@ T@@ otal@@ Host@@ s@@ Stat@@ (); int ac@@ tive@@ Host@@ s = get@@ Active@@ Host@@ s@@ Stat@@ (); int m@@ a@@ int@@ en@@ ance@@ Host@@ s = get@@ M@@ a@@ int@@ en@@ ance@@ Host@@ s@@ Stat@@ (); int do@@ wn@@ Host@@ s = (((@@ t@@ otal@@ Host@@ s - ac@@ tive@@ Host@@ s) - m@@ a@@ int@@ en@@ ance@@ Host@@ s) < 0) ? 0 : (@@ t@@ otal@@ Host@@ s - ac@@ tive@@ Host@@ s) - m@@ a@@ int@@ en@@ ance@@ Host@@ s@@ ; int t@@ otal@@ User@@ s = get@@ T@@ otal@@ Us@@ ers@@ Stat@@ (); int ac@@ tive@@ User@@ s = get@@ Active@@ Us@@ ers@@ Stat@@ (); int t@@ otal@@ StorageDomain@@ s = get@@ T@@ otal@@ StorageDomain@@ s@@ Stat@@ (); int ac@@ tive@@ StorageDomain@@ s = get@@ Active@@ StorageDomain@@ s@@ Stat@@ (); r@@ es.@@ put(@@ Query@@ Constants.@@ S@@ Y@@ ST@@ EM@@ _@@ ST@@ AT@@ S_@@ TO@@ T@@ AL@@ _@@ VM@@ S_@@ F@@ I@@ E@@ L@@ D@@ , t@@ otal@@ VM@@ s); r@@ es.@@ put(@@ Query@@ Constants.@@ S@@ Y@@ ST@@ EM@@ _@@ ST@@ AT@@ S_@@ AC@@ TI@@ V@@ E_@@ VM@@ S_@@ F@@ I@@ E@@ L@@ D@@ , ac@@ tive@@ VM@@ s); r@@ es.@@ put(@@ Query@@ Constants.@@ S@@ Y@@ ST@@ EM@@ _@@ ST@@ AT@@ S_@@ DO@@ W@@ N@@ _@@ VM@@ S_@@ F@@ I@@ E@@ L@@ D@@ , do@@ wn@@ VM@@ s); r@@ es.@@ put(@@ Query@@ Constants.@@ S@@ Y@@ ST@@ EM@@ _@@ ST@@ AT@@ S_@@ TO@@ T@@ AL@@ _@@ HOST@@ S_@@ F@@ I@@ E@@ L@@ D@@ , t@@ otal@@ Host@@ s); r@@ es.@@ put(@@ Query@@ Constants.@@ S@@ Y@@ ST@@ EM@@ _@@ ST@@ AT@@ S_@@ AC@@ TI@@ V@@ E_@@ HOST@@ S_@@ F@@ I@@ E@@ L@@ D@@ , ac@@ tive@@ Host@@ s); r@@ es.@@ put(@@ Query@@ Constants.@@ S@@ Y@@ ST@@ EM@@ _@@ ST@@ AT@@ S_@@ MA@@ IN@@ T@@ EN@@ AN@@ C@@ E_@@ HOST@@ S_@@ F@@ I@@ E@@ L@@ D@@ , m@@ a@@ int@@ en@@ ance@@ Host@@ s); r@@ es.@@ put(@@ Query@@ Constants.@@ S@@ Y@@ ST@@ EM@@ _@@ ST@@ AT@@ S_@@ DO@@ W@@ N@@ _@@ HOST@@ S_@@ F@@ I@@ E@@ L@@ D@@ , do@@ wn@@ Host@@ s); r@@ es.@@ put(@@ Query@@ Constants.@@ S@@ Y@@ ST@@ EM@@ _@@ ST@@ AT@@ S_@@ TO@@ T@@ AL@@ _@@ US@@ ER@@ AT@@ E@@ L@@ AT@@ E@@ L@@ AT@@ E@@ L@@ AT@@ E@@ L@@ D@@ , t@@ otal@@ Us@@ ers@@ ); r@@ es.@@ put(@@ Query@@ F@@ I@@ E@@ L@@ AT@@ E_@@ STORAGE_@@ DOMA@@ IN@@ ST@@ EM@@ _@@ US@@ ER@@ AT@@ S_@@ F@@ I@@ E@@ L@@ AT@@ T@@ otal@@ Query@@ F@@ I@@ E@@ L@@ AT@@ E@@ L@@ D@@ , do@@ wn@@ Host@@ s); }
private org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String> par@@ se@@ Graphics@@ And@@ Display@@ Pair@@ (java.lang.String dis@@ play@@ And@@ Graphics@@ String@@ ) { java.lang.String@@ [@@ ] dis@@ play@@ And@@ Graphics@@ S@@ pl@@ i@@ t = dis@@ play@@ And@@ Graphics@@ Strin@@ g.@@ s@@ pl@@ it@@ ("@@ /@@ "); if ((@@ dis@@ play@@ And@@ Graphics@@ S@@ pl@@ it.@@ l@@ ength@@ ) == 2@@ ) { return new org.ovirt.engine.core.common.utils.Pair@@ (@@ dis@@ play@@ And@@ Graphics@@ S@@ pl@@ it@@ [@@ 0@@ ]@@ .@@ t@@ ri@@ m@@ (), dis@@ play@@ And@@ Graphics@@ S@@ pl@@ it@@ [@@ 1@@ ]@@ .@@ t@@ ri@@ m@@ ()); } return null@@ ; }
@java.lang.Override protected void end@@ Success@@ f@@ ull@@ y@@ () { org.ovirt.engine.core.bll.@@ Image@@ Sp@@ m@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
@org.junit.Test public void update@@ With@@ L@@ ow@@ er@@ Version@@ Th@@ an@@ Host@@ s() { create@@ Command@@ With@@ Default@@ VdsGroup@@ (); cpu@@ Exist@@ s(); arch@@ it@@ ect@@ ure@@ Is@@ Valid@@ (); cpu@@ Man@@ u@@ fac@@ t@@ ur@@ ers@@ Match@@ (); Vds@@ Exist@@ With@@ H@@ ig@@ h@@ er@@ Version@@ (); canDoAction@@ Fail@@ ed@@ With@@ Reason@@ (VdcBllMessages.@@ VDS@@ _@@ G@@ RO@@ UP@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ C@@ O@@ M@@ P@@ A@@ TI@@ B@@ IL@@ I@@ TY@@ _@@ V@@ ER@@ SI@@ ON_@@ W@@ I@@ TH@@ _@@ LO@@ W@@ ER_@@ HOST@@ S@@ ); }
protected void get@@ Host@@ List@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > all@@ Host@@ s, java.util.Map<java.lang.String, java.lang.String> parameters@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > em@@ pty@@ Host@@ s, java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > m@@ a@@ int@@ en@@ ance@@ Host@@ s, java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > do@@ wn@@ Host@@ s) { for (org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s : all@@ Host@@ s) { if ((@@ (((@@ vds.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) && ((@@ vds.get@@ Vm@@ Count@@ ()) == 0@@ )) && ((@@ vds.get@@ Vm@@ Migr@@ at@@ ing@@ ()) == 0@@ )) && ((org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ VM@@ .@@ c@@ oll@@ ect@@ For@@ Host@@ (get@@ P@@ end@@ ing@@ Resource@@ Manager@@ (), vds@@ ).@@ size()) == 0@@ )) { em@@ pty@@ Host@@ s.add(@@ vds@@ ); } else if ((@@ vd@@ s.@@ is@@ P@@ ow@@ er@@ Management@@ Cont@@ ro@@ ll@@ ed@@ By@@ Policy@@ ()) && (!(@@ vd@@ s.@@ is@@ Dis@@ able@@ P@@ ow@@ er@@ Management@@ Policy@@ ()))) { if ((@@ vds.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ )) { m@@ a@@ int@@ en@@ ance@@ Host@@ s.add(@@ vds@@ ); } else if ((@@ vds.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Down@@ )) { do@@ wn@@ Host@@ s.add(@@ vds@@ ); } } } }
private org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Contex@@ t create@@ In@@ h@@ er@@ it@@ ing@@ Context@@ (org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Contex@@ t execu@@ tion@@ Context@@ ) { org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Contex@@ t c@@ t@@ x = new org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Context@@ (@@ execu@@ tion@@ Context@@ ); c@@ t@@ x@@ .set@@ Engine@@ Session@@ Id(@@ contex@@ t.get@@ Engine@@ Session@@ Id()); return c@@ t@@ x@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ E@@ r@@ ro@@ r in f@@ et@@ ch@@ ing f@@ ing@@ er@@ p@@ r@@ int@@ ") java.lang.String error@@ Lo@@ ad@@ ing@@ F@@ ing@@ er@@ p@@ r@@ int@@ ();
@java.lang.Override protected void Execu@@ te@@ Vds@@ Id@@ Command() { if ((@@ _@@ vds@@ Manager@@ ) == null@@ ) { org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ false@@ ); return@@ ; } org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue ret@@ V@@ al = run@@ H@@ i@@ ber@@ n@@ ate@@ Broker@@ VDSCommand@@ (); if (r@@ et@@ Val@@ .get@@ Succeeded@@ ()) { ch@@ ang@@ e@@ Vm@@ Status@@ To@@ S@@ a@@ v@@ ing@@ State@@ (); org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ true@@ ); } else { log.error@@ Format@@ ("@@ VDS@@ :@@ :@@ h@@ i@@ ber@@ n@@ ate Fail@@ ed h@@ i@@ ber@@ n@@ ate vm '@@ {0@@ }@@ ' in vd@@ s = {@@ 1@@ } : {@@ 2@@ }, er@@ ro@@ r = {@@ 3@@ }@@ ", org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.getParameters().get@@ Vm@@ Id(), org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ Vds@@ ().get@@ Id(), org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ Vds@@ ().get@@ Name(), ret@@ Val@@ .get@@ Exception@@ String@@ ()); org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ false@@ ); org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Exception@@ String@@ (r@@ et@@ Val@@ .get@@ Exception@@ String@@ ()); org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Exception@@ Object@@ (r@@ et@@ Val@@ .get@@ Exception@@ Object@@ ()); org.ovirt.engine.core.vdsbroker.@@ H@@ i@@ ber@@ n@@ ate@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Vds@@ Error@@ (r@@ et@@ Val@@ .get@@ Vds@@ Error@@ ()); } }
@java.lang.Override public void remove@@ (org.ovirt.engine.core.compat.Guid id@@ ) { org.@@ h@@ i@@ ber@@ n@@ at@@ e.@@ S@@ ess@@ ion s@@ ess@@ ion = get@@ Session@@ (); org.@@ h@@ i@@ ber@@ n@@ at@@ e.@@ Trans@@ ac@@ tion trans@@ ac@@ tion = s@@ ession@@ .@@ b@@ e@@ gin@@ Transaction@@ (); org.@@ h@@ i@@ ber@@ n@@ at@@ e.@@ Query quer@@ y = s@@ ession@@ .@@ create@@ Query@@ ("@@ de@@ let@@ e f@@ ro@@ m t@@ ag@@ s@@ _@@ user@@ _@@ group@@ _@@ ma@@ p tu@@ g@@ m wh@@ er@@ e tu@@ g@@ m.@@ group@@ Id = :@@ group@@ _id@@ "); query@@ .set@@ Parameter("@@ group@@ _id", id@@ ); query@@ .@@ execute@@ Update@@ (); org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group@@ s in@@ stan@@ c@@ e = get@@ (@@ id@@ ); if (in@@ stan@@ c@@ e != null@@ ) { s@@ ession@@ .@@ de@@ let@@ e(@@ instance@@ ); } trans@@ action.@@ c@@ omm@@ it@@ (); }
public org.ovirt.engine.core.common.businessentities.Storage@@ Domain get@@ StorageDomain@@ (org.ovirt.engine.core.compat.Guid pool@@ Id, org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type type@@ , org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status status@@ ) { java.lang.Integ@@ er status@@ N@@ u@@ m = (@@ stat@@ u@@ s == null@@ ) ? null : status@@ .get@@ Value@@ (); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ ("@@ Get@@ storage@@ _@@ do@@ m@@ ain@@ _@@ b@@ y@@ _@@ type@@ _@@ storagePool@@ Id@@ _@@ and@@ _@@ status@@ ", org.ovirt.engine.core.dao.@@ StorageDomain@@ Dao@@ Impl.@@ StorageDomain@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ storage_@@ pool@@ _id", pool@@ Id@@ ).@@ addValue("@@ storage@@ _@@ do@@ m@@ ain@@ _@@ type@@ ", typ@@ e.get@@ Value@@ ()).addValue("@@ status@@ ", status@@ Num@@ )); }
@org.junit.Test public void test@@ All@@ Domain@@ sWith@@ in@@ Th@@ resh@@ ol@@ ds@@ O@@ ne@@ L@@ ack@@ ing@@ () { do@@ m@@ ain@@ 1@@ .get@@ Storage@@ Dynamic@@ Data@@ ().set@@ Available@@ Disk@@ Size@@ ((@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Multiple@@ StorageDomain@@ s@@ Validator@@ Test.@@ C@@ R@@ I@@ TI@@ C@@ AL@@ _S@@ P@@ AC@@ E_@@ TH@@ RE@@ S@@ HO@@ L@@ D@@ ) + 1@@ )); do@@ m@@ ain@@ 2@@ .get@@ Storage@@ Dynamic@@ Data@@ ().set@@ Available@@ Disk@@ Size@@ ((@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Multiple@@ StorageDomain@@ s@@ Validator@@ Test.@@ C@@ R@@ I@@ TI@@ C@@ AL@@ _S@@ P@@ AC@@ E_@@ TH@@ RE@@ S@@ HO@@ L@@ D@@ ) - 1@@ )); do@@ m@@ ain@@ 1@@ .set@@ C@@ ri@@ tic@@ al@@ Sp@@ ace@@ Action@@ B@@ lock@@ er@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Multiple@@ StorageDomain@@ s@@ Validator@@ Test.@@ C@@ R@@ I@@ TI@@ C@@ AL@@ _S@@ P@@ AC@@ E_@@ TH@@ RE@@ S@@ HO@@ L@@ D@@ ); do@@ m@@ ain@@ 2@@ .set@@ C@@ ri@@ tic@@ al@@ Sp@@ ace@@ Action@@ B@@ lock@@ er@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Multiple@@ StorageDomain@@ s@@ Validator@@ Test.@@ C@@ R@@ I@@ TI@@ C@@ AL@@ _S@@ P@@ AC@@ E_@@ TH@@ RE@@ S@@ HO@@ L@@ D@@ ); org.ovirt.engine.core.bll.ValidationResult result = validator.@@ all@@ Domain@@ sWith@@ in@@ Th@@ resh@@ ol@@ ds@@ (); assert@@ F@@ als@@ e(@@ "@@ do@@ m@@ ain@@ 2 shoul@@ d not b@@ e with@@ in th@@ resh@@ ol@@ ds@@ ", result.@@ is@@ Valid@@ ()); assert@@ Equals@@ ("@@ W@@ ron@@ g valid@@ ation error@@ ", EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AC@@ E_@@ LO@@ W@@ _@@ ON_@@ STORAGE_@@ DOMA@@ IN@@ , result.get@@ Message@@ ()); }
protected boolean is@@ Sec@@ ur@@ ed@@ () { boolean s@@ ec@@ ure@@ d = true@@ ; if (@@ ur@@ l@@ .get@@ Protocol@@ ().@@ equals@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ java.lang.String.@@ value@@ Of@@ ("@@ http@@ "@@ ))) { s@@ ec@@ ure@@ d = false@@ ; } return s@@ ec@@ ur@@ ed@@ ; }
private static org.ovirt.engine.api.model.@@ Oper@@ at@@ ing@@ S@@ yst@@ e@@ m map@@ Oper@@ at@@ ing@@ System@@ (org.ovirt.engine.core.common.businessentities.@@ VDS entity@@ ) { org.ovirt.engine.api.model.@@ Oper@@ at@@ ing@@ S@@ yst@@ e@@ m model = new org.ovirt.engine.api.model.@@ Oper@@ at@@ ing@@ System@@ (); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (@@ entity.get@@ Host@@ Os@@ ())) { org.ovirt.engine.core.utils.@@ O@@ S host@@ O@@ s = org.ovirt.engine.core.utils.@@ O@@ S@@ .@@ f@@ rom@@ P@@ ack@@ age@@ Version@@ String@@ (@@ entity.get@@ Host@@ Os@@ ()); org.ovirt.engine.api.model.@@ Version ver@@ si@@ on = new org.ovirt.engine.api.model.@@ Version@@ (); version@@ .set@@ Ma@@ j@@ or@@ (@@ host@@ O@@ s.get@@ Version@@ ().get@@ Ma@@ j@@ or@@ ()); if ((@@ host@@ O@@ s.get@@ Version@@ ().get@@ M@@ in@@ or@@ ()) != (org.ovirt.engine.api.model.@@ Version@@ .@@ V@@ ER@@ SI@@ ON_@@ NOT_@@ S@@ ET@@ )) { version@@ .set@@ M@@ in@@ or@@ (@@ host@@ O@@ s.get@@ Version@@ ().get@@ M@@ in@@ or@@ ()); } if ((@@ host@@ O@@ s.get@@ Version@@ ().get@@ Buil@@ d@@ ()) != (org.ovirt.engine.api.model.@@ Version@@ .@@ V@@ ER@@ SI@@ ON_@@ NOT_@@ S@@ ET@@ )) { version@@ .set@@ Buil@@ d@@ (@@ host@@ O@@ s.get@@ Version@@ ().get@@ Buil@@ d@@ ()); } version@@ .set@@ F@@ ull@@ Version@@ (@@ host@@ O@@ s.get@@ F@@ ull@@ Version@@ ()); model.set@@ Version@@ (@@ version@@ ); model.set@@ Type(@@ host@@ O@@ s.get@@ Name()); } model.set@@ Custom@@ K@@ er@@ ne@@ l@@ C@@ md@@ lin@@ e(@@ java.util.@@ Object@@ s.@@ toString@@ (@@ entity.get@@ C@@ urrent@@ K@@ er@@ ne@@ l@@ C@@ md@@ lin@@ e@@ (), "@@ ")); model.set@@ Re@@ ported@@ K@@ er@@ ne@@ l@@ C@@ md@@ lin@@ e(@@ entity.get@@ K@@ er@@ ne@@ l@@ Arg@@ s()); return model@@ ; }
@org.junit.Test public void test@@ In@@ st@@ all@@ () throw@@ s java.lang.Exception { setUp@@ Get@@ Entity@@ With@@ No@@ C@@ er@@ t@@ if@@ icate@@ Info@@ Expectations(@@ 1@@ ); set@@ U@@ ri@@ Info@@ (@@ setUp@@ Action@@ Expectations(@@ Vdc@@ ActionType.@@ Update@@ Vds@@ , org.ovirt.engine.core.common.action.@@ Update@@ Vds@@ Action@@ Parameters@@ .@@ class@@ , new java.lang.String@@ []{ "@@ R@@ oot@@ Password@@ " }, new java.lang.Object@@ []{ NAM@@ ES@@ [@@ 2@@ ] }@@ )); org.ovirt.engine.api.model.@@ Ac@@ tion ac@@ tion = new org.ovirt.engine.api.model.@@ Action@@ (); action@@ .set@@ Password@@ (@@ NAM@@ ES@@ [@@ 2@@ ]@@ ); ve@@ r@@ if@@ y@@ Action@@ Respon@@ s@@ e(@@ res@@ ource.@@ in@@ st@@ all@@ (@@ action@@ )); }
private org.ovirt.engine.api.model.@@ Host@@ s map@@ Collection@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > enti@@ ties@@ ) { org.ovirt.engine.api.model.@@ Host@@ s c@@ oll@@ ec@@ tion = new org.ovirt.engine.api.model.@@ Host@@ s(); for (org.ovirt.engine.core.common.businessentities.@@ VDS enti@@ ty : enti@@ ties@@ ) { c@@ oll@@ ection@@ .get@@ Host@@ s().@@ add(@@ add@@ Link@@ s(@@ p@@ op@@ ul@@ ate@@ (m@@ ap@@ (@@ entity@@ ), entity@@ ))); } return c@@ oll@@ ection@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { if ((org.ovirt.engine.core.bll.@@ Re@@ gist@@ er@@ Disk@@ Command.getParameters().get@@ DiskImage@@ ().get@@ Disk@@ Storage@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ Disk@@ .@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { addCanDoActionMessage@@ ((@@ "@@ $@@ disk@@ Id " + (org.ovirt.engine.core.bll.@@ Re@@ gist@@ er@@ Disk@@ Command.getParameters().get@@ DiskImage@@ ().get@@ Id@@ ()))); addCanDoActionMessage@@ ((@@ "@@ $@@ storage@@ Type " + (org.ovirt.engine.core.bll.@@ Re@@ gist@@ er@@ Disk@@ Command.getParameters().get@@ DiskImage@@ ().get@@ Disk@@ Storage@@ Type@@ ()))); addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ UN@@ SUP@@ PORT@@ ED_@@ DIS@@ K_@@ STORAGE_@@ TYP@@ E); return false@@ ; } if (!(@@ validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ StorageDomain@@ Validator@@ (org.ovirt.engine.core.bll.@@ Re@@ gist@@ er@@ Disk@@ Command.get@@ StorageDomain@@ ()).@@ is@@ Domain@@ Exist@@ And@@ Active@@ ()))) { addCanDoActionMessage@@ ((@@ "@@ $@@ disk@@ Id " + (org.ovirt.engine.core.bll.@@ Re@@ gist@@ er@@ Disk@@ Command.getParameters().get@@ DiskImage@@ ().get@@ Id@@ ()))); addCanDoActionMessage@@ ((@@ "@@ $@@ do@@ m@@ ain@@ Id " + (org.ovirt.engine.core.bll.@@ Re@@ gist@@ er@@ Disk@@ Command.get@@ StorageDomain@@ Id@@ ()))); addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ U@@ NA@@ V@@ A@@ IL@@ AB@@ LE@@ ); return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.@@ Re@@ gist@@ er@@ Disk@@ Command.get@@ StorageDomain@@ ().get@@ StorageDomain@@ Type@@ ().is@@ Data@@ Domain@@ ())) { addCanDoActionMessage@@ ((@@ "@@ $@@ do@@ m@@ ain@@ Id " + (org.ovirt.engine.core.bll.@@ Re@@ gist@@ er@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ()))); addCanDoActionMessage@@ ((@@ "@@ $@@ do@@ m@@ ain@@ Type " + (org.ovirt.engine.core.bll.@@ Re@@ gist@@ er@@ Disk@@ Command.get@@ StorageDomain@@ ().get@@ StorageDomain@@ Type@@ ()))); addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ TYPE_@@ UN@@ SUP@@ PORT@@ ED); return false@@ ; } if (!(@@ set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ ())) { return false@@ ; } return true@@ ; }
@java.lang.Override public java.lang.String get@@ Ra@@ w@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model model@@ ) { return org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ storage.@@ S@@ an@@ Storage@@ T@@ arget@@ To@@ Lun@@ List@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); }
org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n c@@ opy@@ Image@@ (java.lang.String sd@@ UUID@@ , java.lang.String sp@@ UUID@@ , java.lang.String vm@@ G@@ UID@@ , java.lang.String s@@ r@@ c@@ Im@@ g@@ G@@ UID@@ , java.lang.String s@@ r@@ c@@ V@@ ol@@ UUID@@ , java.lang.String d@@ st@@ Im@@ g@@ G@@ UID@@ , java.lang.String d@@ st@@ V@@ ol@@ UUID@@ , java.lang.String d@@ es@@ c@@ r@@ , java.lang.String d@@ st@@ S@@ d@@ UUID@@ , int v@@ ol@@ Type, int v@@ ol@@ Format@@ , int pre@@ al@@ loc@@ ate@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , java.lang.@@ B@@ oolean dis@@ c@@ ard@@ , java.lang.String for@@ ce@@ );
@java.lang.Override public javax.@@ net@@ .@@ ss@@ l.@@ Tr@@ ust@@ Manager@@ [@@ ] get@@ Tr@@ ust@@ Manag@@ ers@@ () throw@@ s java.s@@ ec@@ ur@@ ity@@ .@@ Gener@@ al@@ Sec@@ ur@@ ity@@ Exception { javax.@@ net@@ .@@ ss@@ l.@@ Tr@@ ust@@ Manager@@ Fac@@ t@@ ory@@ Impl.@@ log.debug@@ ("@@ Tr@@ ust@@ Manager@@ s K@@ e@@ y k@@ u@@ fac@@ t@@ ory@@ : {}@@ ", key@@ St@@ ack@@ Tr@@ ust@@ Manag@@ ers@@ ); javax.@@ net@@ .@@ ss@@ l.@@ Tr@@ ust@@ Manager@@ Fac@@ t@@ ory@@ .get@@ Tr@@ ust@@ Manag@@ ers@@ (@@ javax.@@ net@@ .@@ ss@@ l.@@ Tr@@ ust@@ Manager@@ [@@ ] get@@ Tr@@ ust@@ Manag@@ ers@@ () throw@@ s java.s@@ ec@@ ur@@ ity@@ .@@ Gener@@ al@@ Sec@@ ur@@ ity@@ Exception { javax.@@ net@@ .@@ ss@@ l.@@ Tr@@ ust@@ Manager@@ Fac@@ t@@ ory@@ .get@@ Tr@@ ust@@ Manag@@ ers@@ (@@ javax.@@ net@@ .@@ ss@@ l.@@
@org.junit.Test public void test@@ Start@@ With@@ Pa@@ us@@ e@@ And@@ State@@ l@@ ess@@ () throw@@ s java.lang.Exception { setUp@@ W@@ in@@ do@@ w@@ s@@ Get@@ Entity@@ Expectations(@@ 2@@ , false@@ ); set@@ U@@ ri@@ Info@@ (@@ setUp@@ Action@@ Expectations(@@ Vdc@@ ActionType.@@ RunVm@@ On@@ ce@@ , org.ovirt.engine.core.common.action.@@ RunVm@@ On@@ ce@@ Param@@ s@@ .@@ class@@ , new java.lang.String@@ []{ "@@ Vm@@ Id@@ ", "@@ Run@@ And@@ Pa@@ us@@ e@@ ", "@@ Run@@ As@@ State@@ l@@ ess@@ " }, new java.lang.Object@@ []{ G@@ UID@@ S@@ [@@ 0@@ ]@@ , true@@ , java.lang.Boolean@@ .@@ T@@ R@@ U@@ E }@@ )); org.ovirt.engine.api.model.@@ Ac@@ tion ac@@ tion = new org.ovirt.engine.api.model.@@ Action@@ (); action@@ .set@@ Pa@@ us@@ e@@ (@@ true@@ ); action@@ .set@@ Vm@@ (@@ new org.ovirt.engine.api.model.@@ VM@@ ()); action@@ .get@@ Vm@@ ().set@@ State@@ l@@ ess@@ (@@ true@@ ); ve@@ r@@ if@@ y@@ Action@@ Respon@@ s@@ e(@@ res@@ ource.@@ st@@ art@@ (@@ action@@ )); }
java.util.@@ List get@@ Network@@ Interfac@@ es(@@ org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ VM vm@@ ) { java.util.@@ List ne@@ t = new java.util.Array@@ List@@ (); java.util.List<@@ org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Device@@ > nic@@ Device@@ s = vm.get@@ Devices@@ By@@ Type(@@ Devic@@ e.@@ Device@@ Type.@@ N@@ IC@@ ); for (@@ org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Device de@@ vic@@ e : nic@@ Devices@@ ) { java.util.@@ Map result@@ Map = new java.util.Hash@@ Map@@ (); java.util.@@ List templ@@ is@@ t = new java.util.Array@@ List@@ (); java.util.@@ List templ@@ ist@@ 2 = new java.util.Array@@ List@@ (); result@@ Map.@@ put@@ ("@@ name@@ ", "@@ eth@@ 0@@ "); templ@@ is@@ t.@@ add@@ ("@@ f@@ e@@ 8@@ 0@@ :@@ :@@ 2@@ 1@@ a@@ :@@ 4@@ af@@ f@@ :@@ f@@ e@@ 1@@ 6@@ :@@ 2@@ 0@@ 1@@ 6@@ "); templ@@ is@@ t.@@ add@@ ("@@ 2@@ 6@@ 2@@ 0@@ :@@ 5@@ 2@@ :@@ 0@@ :@@ 2@@ 3@@ 8@@ 0@@ :@@ 2@@ 1@@ a@@ :@@ 4@@ af@@ f@@ :@@ f@@ e@@ 1@@ 6@@ :@@ 2@@ 0@@ 1@@ 6@@ "); result@@ Map.@@ put@@ ("@@ in@@ et@@ 6@@ ", templ@@ ist@@ ); templ@@ ist@@ 2@@ .@@ add@@ (vm.get@@ Ip@@ ()); result@@ Map.@@ put@@ ("@@ in@@ et@@ ", templ@@ ist@@ 2@@ ); result@@ Map.@@ put@@ ("@@ h@@ w@@ ", vm.get@@ Mac@@ Address@@ ()); net@@ .@@ add(@@ result@@ Map@@ ); break@@ ; } log.debug@@ ("@@ n@@ etwork lis@@ t is {}@@ ", net@@ .@@ toString()); return net@@ ; }
public org.ovirt.engine.core.bll.ValidationResult cluster@@ Not@@ Changed@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ VDS@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ C@@ LUST@@ ER@@ ).@@ un@@ l@@ ess@@ (@@ old@@ Hos@@ t.get@@ VdsGroup@@ Id().@@ equals@@ (get@@ Host@@ ().get@@ VdsGroup@@ Id@@ ())); }
@org.junit.Test public void test@@ Network@@ Attached@@ To@@ Cluster@@ W@@ h@@ en@@ Attached@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = new org.ovirt.engine.core.common.businessentities.network.Network@@ (); network@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent attach@@ m@@ ent = new org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ (); attach@@ m@@ ent.@@ set@@ Network@@ Id(@@ network@@ .getId()); org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ Id network@@ Cluster@@ Id = new org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ Id(@@ hos@@ t.get@@ VdsGroup@@ Id(), attach@@ m@@ ent.get@@ Network@@ Id()); when(@@ network@@ Cluster@@ Dao@@ Mock@@ .get(@@ e@@ q@@ (network@@ Cluster@@ Id@@ )@@ )).@@ then@@ Return@@ (@@ new org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ ()); when(@@ network@@ Dao@@ Mock@@ .get(@@ org.@@ mock@@ it@@ o.@@ Mock@@ it@@ o.@@ e@@ q@@ (network@@ .getId@@ ())@@ )).@@ thenReturn(@@ network@@ ); assert@@ That@@ (@@ new org.ovirt.engine.core.bll.validator.@@ NetworkAttachment@@ Validator@@ (@@ attach@@ ment@@ , host@@ ).@@ network@@ Attached@@ To@@ Cluster@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ ()); }
public org.ovirt.engine.core.bll.ValidationResult vm@@ Not@@ D@@ ur@@ ing@@ Migration@@ () { for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { if ((@@ (vm.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Migr@@ at@@ ing@@ From@@ )) || ((@@ vm.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Migr@@ at@@ ing@@ To@@ ))) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ M@@ I@@ G@@ R@@ A@@ TION_@@ IN_@@ P@@ RO@@ G@@ RE@@ SS@@ ); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public java.util.@@ Map de@@ let@@ e@@ Volum@@ e(@@ java.lang.String im@@ g@@ UUID@@ , java.lang.String sp@@ UUID@@ , java.lang.String sd@@ UUID@@ , boolean p@@ ost@@ Z@@ er@@ o@@ , boolean for@@ ce@@ ) { try { org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Data@@ C@@ en@@ te@@ r data@@ C@@ en@@ te@@ r = get@@ DataCenter@@ By@@ Id@@ (s@@ p@@ UUID@@ ); org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Storage@@ Domain storage@@ Domain = dataCenter@@ .get@@ StorageDomain@@ Map@@ ().get@@ (s@@ d@@ UUID@@ ); log.info@@ ("@@ Rem@@ ov@@ ing volume@@ : {}@@ ", im@@ g@@ UUID@@ ); final java.util.@@ Map result@@ Map = get@@ O@@ K@@ Status@@ (); final org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ T@@ as@@ k t@@ as@@ k = new org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Task@@ (get@@ U@@ uid@@ ()); result@@ Map.@@ put@@ ("@@ u@@ uid@@ ", task@@ .getId()); org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ Task@@ Pro@@ cess@@ or@@ .getInstance().@@ add@@ Task@@ (@@ new org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ Task@@ Request@@ (@@ org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ Task@@ Type.@@ F@@ IN@@ IS@@ H@@ _@@ RE@@ M@@ OV@@ E_@@ V@@ O@@ LU@@ M@@ E, 5@@ 00@@ 0@@ L@@ , task@@ )); return result@@ Map@@ ; } catch (@@ java.lang.Exception e) { throw error@@ (@@ e); } }
public java.lang.String get@@ Provider@@ Name@@ () { org.ovirt.engine.core.common.businessentities.@@ Provi@@ der provi@@ der = org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Remove@@ Provider@@ Command.get@@ DbFacade@@ ().get@@ Provider@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Remove@@ Provider@@ Command.getParameters().get@@ Provider@@ ().get@@ Id()); if ((@@ provi@@ der == null ? null : provider@@ .getName@@ (); } return provi@@ der == null ? null : provider@@ .getName@@ (); }
public org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameter@@ s.@@ Create@@ Snapshot@@ St@@ age get@@ Create@@ Snapshot@@ St@@ age@@ () { return create@@ Snapshot@@ St@@ age@@ ; }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ : Th@@ e dis@@ k ${@@ disk@@ Alias@@ } is lock@@ ed@@ . P@@ le@@ ase try ag@@ ain in a f@@ e@@ w min@@ ut@@ es.@@ ") java.lang.String ACTION_TYPE_FAILED_@@ VM_@@ IM@@ AGE_@@ I@@ S_@@ LO@@ C@@ K@@ ED@@ ();
@java.lang.Override public int comp@@ ar@@ e(@@ org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t pu@@ 1, org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t pu@@ 2@@ ) { if ((@@ pu@@ 1@@ .is@@ Internal@@ ()) != (@@ pu@@ 2@@ .is@@ Internal@@ ())) { return !@@ (@@ pu@@ 1@@ .is@@ Internal@@ ()) ? -@@ 1 : 1@@ ; } if ((@@ pu@@ 1@@ .is@@ Enabled@@ ()) != (@@ pu@@ 2@@ .is@@ Enabled@@ ())) { return !@@ (@@ pu@@ 1@@ .is@@ Enabled@@ ()) ? -@@ 1 : 1@@ ; } if ((@@ pu@@ 1@@ .get@@ Policy@@ Unit@@ Type()) != (@@ pu@@ 2@@ .get@@ Policy@@ Unit@@ Type@@ ())) { if (@@ pu@@ 1@@ .get@@ Policy@@ Unit@@ Type@@ ().@@ equals(@@ Policy@@ Unit@@ Type.@@ Filter@@ )) { return -@@ 1@@ ; } if (@@ pu@@ 2@@ .get@@ Policy@@ Unit@@ Type@@ ().@@ equals(@@ Policy@@ Unit@@ Type.@@ Filter@@ )) { return 1@@ ; } if (@@ pu@@ 1@@ .get@@ Policy@@ Unit@@ Type@@ ().@@ equals(@@ Policy@@ Unit@@ Type.@@ Lo@@ ad@@ Bal@@ an@@ c@@ ing@@ )) { return 1@@ ; } if (@@ pu@@ 2@@ .get@@ Policy@@ Unit@@ Type@@ ().@@ equals(@@ Policy@@ Unit@@ Type.@@ Lo@@ ad@@ Bal@@ an@@ c@@ ing@@ )) { return -@@ 1@@ ; } } return l@@ ex@@ o@@ Num@@ er@@ ic@@ .@@ comp@@ ar@@ e(@@ pu@@ 1@@ .get@@ Name(), pu@@ 2@@ .get@@ Name()); }
private boolean set@@ Run@@ ning@@ Vms@@ Un@@ k@@ n@@ ow@@ n@@ (@@ java.util.Hash@@ Set<@@ org.ovirt.engine.core.compat.Guid> n@@ on@@ Respon@@ si@@ ve@@ Host@@ s) { boolean run@@ ning@@ Vms@@ In@@ Trans@@ i@@ tion = false@@ ; final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = vm@@ Dao.get@@ All@@ (); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { if (!@@ (vm@@ .is@@ Not@@ Run@@ ning@@ ())) { if ((@@ (vm.get@@ Run@@ On@@ Vds@@ ()) != null@@ ) && (@@ n@@ on@@ Respon@@ si@@ ve@@ Host@@ s.@@ contains(@@ vm.get@@ Run@@ On@@ Vds@@ ()))) { res@@ ource@@ Manager.@@ Set@@ Vm@@ Un@@ k@@ n@@ ow@@ n@@ (vm@@ ); } } if ((@@ (!@@ run@@ ning@@ Vms@@ In@@ Trans@@ ition@@ ) && (vm@@ .is@@ Run@@ ning@@ ())) && ((@@ vm.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Up@@ ))) { run@@ ning@@ Vms@@ In@@ Trans@@ i@@ tion = true@@ ; } } return run@@ ning@@ Vms@@ In@@ Trans@@ ition@@ ; }
private void run@@ Boolean@@ Query@@ By@@ Entity@@ Id(@@ org.ovirt.engine.core.common.queries.VdcQuery@@ Type query@@ Type, org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , org.ovirt.engine.core.compat.Guid id@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Boolean@@ Async@@ Conver@@ ter@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (@@ query@@ Type, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ id@@ ), aQuery@@ ); }
@org.junit.Test public void no@@ VdsGroup@@ () { s@@ im@@ ul@@ ate@@ VdsGroup@@ Do@@ es@@ Not@@ Exist@@ (); assert@@ CanDoAction@@ Fail@@ ure(@@ EngineMessage.@@ VDS@@ _C@@ LUSTER_@@ I@@ S_NOT_@@ VALID@@ .@@ toString()); }
@java.lang.Override protected void execute@@ Query@@ Command() { get@@ DbFacade@@ ().get@@ Disk@@ Profile@@ Dao().get@@ AllFor@@ StorageDomain@@ (get@@ Parameters().get@@ Id()); }
public org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.Boolean@@ > get@@ Allow@@ O@@ ver@@ b@@ ook@@ ing@@ () { return b@@ ook@@ ing@@ ; }
public org.ovirt.engine.core.bll.ValidationResult nic@@ Exist@@ s() { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ HOST@@ _@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E_@@ NOT_@@ EXIST@@ ).when@@ (((@@ attach@@ m@@ ent.get@@ Nic@@ Name@@ ()) == null@@ )); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ ooltip@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , c@@ om.google.@@ gw@@ t@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , c@@ om.google.@@ gw@@ t@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ ) { c@@ om.google.@@ gw@@ t@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent t@@ arg@@ e@@ t = ev@@ ent.get@@ Event@@ T@@ arget@@ ().@@ c@@ ast@@ (); if (@@ Image@@ El@@ em@@ ent.@@ T@@ AG@@ .equals(@@ target@@ .get@@ Tag@@ Name@@ ())) { switch (@@ org.ovirt.engine.ui.common.@@ utils.@@ J@@ query@@ Utils.@@ in@@ dex@@ (@@ target@@ )) { case 0 : return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (@@ vds.get@@ Status@@ ())); case 1 : return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (@@ vds.get@@ Al@@ er@@ t@@ T@@ ooltip@@ Text@@ (vds@@ )); } } return null@@ ; }
public org.ovirt.engine.core.common.businessentities.@@ VDS@@ Type get@@ Vds@@ type@@ () { return this@@ .m@@ Vds@@ Static@@ .get@@ Vds@@ Type@@ (); }
private boolean e@@ valu@@ ate@@ Host@@ Up@@ gr@@ ade@@ Internal@@ Command@@ Progress@@ (@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid> ch@@ ild@@ C@@ md@@ Id@@ s, org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > ro@@ ot@@ Command@@ ) { org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity up@@ gr@@ ade@@ C@@ ommand = get@@ Host@@ Up@@ gr@@ ade@@ Internal@@ Command(@@ ch@@ ild@@ C@@ md@@ Id@@ s); if (@@ up@@ gr@@ ade@@ C@@ ommand == null@@ ) { return false@@ ; } switch (@@ up@@ gr@@ ade@@ Command.get@@ Command@@ Status()) { case AC@@ TI@@ V@@ E : case NOT_@@ ST@@ AR@@ T@@ E@@ D : case FAIL@@ E@@ D : case FAILED_@@ RE@@ ST@@ AR@@ T@@ E@@ D : case EN@@ D@@ ED_@@ W@@ I@@ TH@@ _@@ FAIL@@ UR@@ E : case UN@@ K@@ NO@@ W@@ N : ro@@ ot@@ Command.set@@ Command@@ Status(@@ Command@@ Status.@@ FAIL@@ ED); return true@@ ; case S@@ U@@ C@@ E@@ ED@@ E@@ D : case EN@@ D@@ ED_@@ S@@ U@@ C@@ ES@@ S@@ F@@ U@@ L@@ Y : ro@@ ot@@ Command.set@@ Command@@ Status(@@ Command@@ Status.@@ S@@ U@@ C@@ E@@ ED@@ ED); return true@@ ; } return true@@ ; }
private void on@@ Res@@ t@@ ore@@ Snapshot@@ () { run@@ Action(VdcActionType.@@ Res@@ t@@ ore@@ GlusterVolume@@ Snapshot@@ , new org.ovirt.engine.core.common.action.@@ gluster.GlusterVolume@@ Snapshot@@ Action@@ Parameters@@ (get@@ Entity@@ ().get@@ Id(), ((org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ Entity@@ ) (get@@ SelectedItem@@ ())@@ ).get@@ Snapshot@@ Name(), true@@ )); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ ?@@ :@@ test@@ )@@ }@@ /@@ {@@ id@@ }@@ ") public org.ovirt.engine.api.res@@ ource.@@ Action@@ Res@@ ource get@@ Action@@ Sub@@ res@@ ource@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String id@@ );
@java.lang.Override public void vds@@ Non@@ Operation@@ al@@ (org.ovirt.engine.core.compat.Guid vds@@ Id, org.ovirt.engine.core.common.businessentities.@@ Non@@ Operation@@ al@@ Re@@ as@@ on re@@ ason@@ , boolean log@@ Command@@ , org.ovirt.engine.core.compat.Guid do@@ m@@ ain@@ Id) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storage@@ Domain = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StorageDomain@@ Static@@ Dao().get@@ (@@ do@@ m@@ ain@@ Id); java.util.Map<java.lang.String, java.lang.String> c@@ ustom@@ Log@@ Value@@ s = null@@ ; if (@@ storage@@ Domain != null@@ ) { c@@ ustom@@ Log@@ Value@@ s = new java.util.HashMap<@@ >(); c@@ ustom@@ Log@@ Values.@@ put@@ ("@@ StorageDomain@@ Names@@ ", storageDomain@@ .get@@ Name()); } vds@@ Non@@ Operation@@ al@@ (vds@@ Id, re@@ ason@@ , log@@ Command@@ , do@@ m@@ ain@@ Id, c@@ ustom@@ Log@@ Valu@@ es@@ ); }
static org.ovirt.engine.api.model.@@ Network setUp@@ Entity@@ Expectation@@ s@@ (org.ovirt.engine.core.common.businessentities.@@ Network entity@@ , boolean is@@ Display@@ , int in@@ dex@@ ) { exp@@ ect@@ (@@ entity.get@@ is@@ _@@ dis@@ play@@ ()).@@ and@@ Return(@@ is@@ Display@@ ).@@ any@@ Tim@@ es@@ (); return org.ovirt.engine.api.restapi.resource.@@ Abstract@@ Backend@@ Networks@@ Resource@@ Test.@@ setUp@@ Entity@@ Expectations(@@ entity@@ , in@@ dex@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Al@@ lo@@ w to de@@ fin@@ e@@ /@@ config@@ ur@@ e ro@@ le@@ s in the System@@ ") java.lang.String al@@ low@@ To@@ De@@ fin@@ e@@ Configur@@ e@@ R@@ ol@@ es@@ In@@ Th@@ e@@ System@@ Role@@ T@@ ree@@ T@@ ooltip@@ ();
@java.lang.Override protected boolean validate@@ () { if (get@@ Parameters().get@@ P@@ ub@@ Key@@ s().@@ isEmpty@@ ()) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ NO@@ _P@@ U@@ B@@ _@@ K@@ E@@ Y@@ S_@@ P@@ A@@ SS@@ ED); } if ((get@@ Parameters().get@@ Id()) == null@@ ) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ HOST@@ _@@ NOT_@@ EXIST@@ ); } return super@@ .@@ validate@@ (); }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value@@ () { switch (org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ Command.get@@ Action@@ State@@ ()) { case EX@@ EC@@ U@@ T@@ E : return org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ RE@@ M@@ OV@@ E_@@ VM_@@ F@@ IN@@ IS@@ H@@ E@@ D : has@@ Image@@ s ? org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ RE@@ M@@ OV@@ E_@@ VM_@@ F@@ IN@@ IS@@ H@@ ED_@@ W@@ I@@ TH@@ _@@ IL@@ LE@@ G@@ AL@@ _@@ DIS@@ K@@ S : org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ FAILED_@@ RE@@ M@@ OV@@ E_@@ VM@@ ; default : return org.ovirt.engine.core.common.@@ AuditLogType.@@ U@@ NA@@ S@@ SI@@ G@@ N@@ ED@@ ; } }
public java.util.@@ Map get@@ StorageDomain@@ s@@ List@@ (java.lang.String sp@@ UUID@@ , int do@@ m@@ ain@@ Type, int pool@@ Type, java.lang.String p@@ ath@@ ) { try { org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Data@@ C@@ en@@ te@@ r data@@ C@@ en@@ te@@ r = get@@ DataCenter@@ By@@ Id@@ (s@@ p@@ UUID@@ ); java.util.@@ Map result@@ Map = get@@ O@@ K@@ Status@@ (); java.util.@@ List do@@ ml@@ is@@ t = l@@ st@@ (); for (@@ org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Storage@@ Domain storage@@ Domain : dataCenter@@ .get@@ StorageDomain@@ Map@@ ().@@ valu@@ es@@ ()) { if ((@@ sp@@ U@@ U@@ I@@ D != null@@ ) && (!(@@ storageDomain@@ .getId@@ ().@@ equals@@ (s@@ p@@ UUID@@ )@@ ))) { continue@@ ; } if (@@ (@@ do@@ m@@ ain@@ Type != 0) && ((@@ StorageDomain@@ .@@ Domain@@ Class@@ .get@@ By@@ Code@@ (@@ do@@ m@@ ain@@ Type@@ )) != (@@ storageDomain@@ .get@@ Domain@@ Class@@ ()))) { continue@@ ; } if ((@@ pool@@ Type != 0) && ((@@ StorageDomain@@ .@@ Storage@@ Typ@@ e.get@@ By@@ Code@@ (@@ pool@@ Type@@ )) != (@@ storageDomain@@ .get@@ Storage@@ Type@@ ()))) { continue@@ ; } if ((@@ p@@ at@@ h != null@@ ) && (!(@@ p@@ ath@@ .equals(@@ storageDomain@@ .get@@ Connection@@ ())@@ ))) { continue@@ ; } do@@ ml@@ is@@ t.@@ add(@@ storageDomain@@ .getId()); } result@@ Map.@@ put(@@ "@@ do@@ ml@@ ist@@ ", do@@ ml@@ ist@@ ); return result@@ Map@@ ; } catch (@@ java.lang.Exception e) { throw error@@ (@@ e); } }
private void ch@@ ang@@ e@@ Status@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ Dest@@ ro@@ y@@ Vm@@ VDSCommand@@ Parameters parameters@@ , org.ovirt.engine.core.common.businessentities.VM c@@ ur@@ Vm@@ ) { if ((@@ (c@@ ur@@ Vm@@ .get@@ Run@@ On@@ Vds@@ ()) != null@@ ) || ((@@ c@@ ur@@ Vm@@ .get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Migr@@ at@@ ing@@ To@@ ))) { org.ovirt.engine.core.vdsbroker.@@ Resource@@ Manager@@ .getInstance().@@ Internal@@ Set@@ Vm@@ Status@@ (c@@ ur@@ Vm@@ , (@@ parameters@@ .get@@ G@@ r@@ ace@@ f@@ ull@@ y@@ () ? org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ P@@ ow@@ er@@ ing@@ Do@@ w@@ n : org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Down@@ )); } }
public static java.util.@@ Set<@@ java.lang.String> init@@ R@@ ang@@ e(@@ java.lang.String st@@ art@@ , java.lang.String end@@ ) { java.lang.String par@@ s@@ ed@@ R@@ ang@@ e@@ St@@ ar@@ t = org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ par@@ se@@ R@@ ang@@ e@@ P@@ art@@ (@@ st@@ art@@ ); java.lang.String par@@ s@@ ed@@ R@@ ang@@ e@@ En@@ d = org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ par@@ se@@ R@@ ang@@ e@@ P@@ art@@ (@@ end@@ ); if ((@@ par@@ s@@ ed@@ R@@ ang@@ e@@ En@@ d == null@@ ) || (@@ par@@ s@@ ed@@ R@@ ang@@ e@@ St@@ ar@@ t == null@@ )) { return java.util.Collections.@@ em@@ pty@@ Set@@ (); } long st@@ art@@ N@@ u@@ m = java.lang.@@ L@@ on@@ g.@@ par@@ se@@ L@@ on@@ g@@ (@@ org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ par@@ se@@ R@@ ang@@ e@@ P@@ art@@ (@@ st@@ art@@ ), org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ H@@ EX@@ _@@ R@@ AD@@ I@@ X@@ ); long end@@ N@@ u@@ m = java.lang.@@ L@@ on@@ g.@@ par@@ se@@ L@@ on@@ g@@ (@@ org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ par@@ se@@ R@@ ang@@ e@@ P@@ art@@ (@@ end@@ ), org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ H@@ EX@@ _@@ R@@ AD@@ I@@ X@@ ); if (@@ st@@ art@@ N@@ u@@ m > end@@ Num@@ ) { return java.util.Collections.@@ em@@ pty@@ Set@@ (); } java.util.@@ Set<@@ java.lang.String> ava@@ il@@ able@@ Mac@@ s = new java.util.Hash@@ Set<@@ java.lang.String@@ >(); for (@@ long i = st@@ art@@ Num@@ ; i <@@ = end@@ Num@@ ; i@@ +@@ +@@ ) { java.lang.String valu@@ e = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ x@@ ", i@@ ); if ((@@ valu@@ e.@@ l@@ ength@@ ()) > 1@@ 2@@ ) { return ava@@ il@@ able@@ Mac@@ s@@ ; } else if ((@@ valu@@ e.@@ l@@ ength@@ ()) < 1@@ 2@@ ) { valu@@ e = org.apache.commons.lang.StringUtils.@@ le@@ f@@ t@@ P@@ ad@@ (@@ value@@ , 1@@ 2@@ , '@@ 0@@ '@@ ); } valu@@ e = org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ create@@ Mac@@ Address@@ (@@ value@@ ); if (@@ valu@@ e == null@@ ) { break@@ ; } ava@@ il@@ able@@ Mac@@ s.add(@@ value@@ ); } return ava@@ il@@ able@@ Mac@@ s@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ E@@ d@@ i@@ t IS@@ C@@ S@@ I Bond@@ ") java.lang.String edit@@ Is@@ csi@@ Bond@@ Title@@ ();
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { java.lang.Object@@ [@@ ] ar@@ r@@ a@@ y = ((@@ java.lang.Object@@ []@@ ) (@@ target@@ )); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Existing@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or b@@ e@@ ha@@ vi@@ or = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Existing@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ ) (@@ ar@@ r@@ ay@@ [@@ 0@@ ]@@ )); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (@@ ar@@ r@@ ay@@ [@@ 1@@ ]@@ )); org.ovirt.engine.core.common.businessentities.VM vm = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Existing@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ ) (@@ ar@@ r@@ ay@@ [@@ 0@@ ]@@ )).@@ vm@@ ; java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > cluster@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >) (@@ return@@ Value@@ )); model.set@@ C@@ lust@@ ers@@ (@@ model, c@@ lust@@ ers@@ , vm.get@@ VdsGroup@@ Id()); b@@ e@@ ha@@ vi@@ or.@@ init@@ Template@@ (); b@@ e@@ ha@@ vi@@ or.@@ init@@ C@@ d@@ Image@@ (); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ I@@ f k@@ er@@ ne@@ l parameter@@ s ar@@ e sp@@ e@@ c@@ if@@ i@@ ed@@ , k@@ er@@ ne@@ l p@@ at@@ h m@@ us@@ t b@@ e sp@@ e@@ c@@ if@@ i@@ ed a@@ s w@@ el@@ l.@@ ") java.lang.String k@@ er@@ ne@@ l@@ Param@@ s@@ In@@ valid@@ ();
public org.ovirt.engine.core.bll.ValidationResult ex@@ ist@@ () { if ((@@ vds@@ ) == null@@ ) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ VDS@@ _@@ DO@@ E@@ S_NOT_@@ EXIST@@ ); } return ValidationRes@@ ult.@@ VALID@@ ; }
public java.util.List<@@ org.ovirt.engine.core.compat.Guid> get@@ Selected@@ Vm@@ Id@@ s() { java.util.List<@@ org.ovirt.engine.core.compat.Guid> lis@@ t = new java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid@@ >(); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ scheduling.@@ af@@ finity@@ _@@ group@@ s.@@ Vm@@ Sel@@ ection@@ Model vm@@ Sel@@ ection@@ Model : get@@ Item@@ s()) { org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, org.ovirt.engine.core.common.businessentities.@@ VM@@ > selected@@ I@@ te@@ m = vm@@ Sel@@ ection@@ Model.get@@ Vms@@ ().getSelectedItem@@ (); if (is@@ Key@@ Valid@@ (s@@ elected@@ Item@@ )) { lis@@ t.@@ add@@ (s@@ elected@@ Item@@ .get@@ Sec@@ ond@@ ().get@@ Id()); } } return list@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ Per@@ mis@@ si@@ on get@@ For@@ Role@@ And@@ Ad@@ Element@@ And@@ Object@@ (org.ovirt.engine.core.compat.Guid ro@@ le@@ id@@ , org.ovirt.engine.core.compat.Guid el@@ em@@ enti@@ d@@ , org.ovirt.engine.core.compat.Guid objec@@ ti@@ d@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ ro@@ le@@ _id", ro@@ le@@ id@@ ).@@ addValue("@@ ad@@ _@@ el@@ ement@@ _id", el@@ em@@ enti@@ d@@ ).@@ addValue("@@ object@@ _id", objec@@ ti@@ d@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ ("@@ Get@@ Permission@@ sBy@@ Role@@ Id@@ And@@ Ad@@ Element@@ Id@@ And@@ Object@@ Id@@ ", org.ovirt.engine.core.dao.@@ Permission@@ Dao@@ Impl.@@ Permission@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
protected org.ovirt.engine.core.common.businessentities.Vm@@ Device create@@ VmDevice@@ () { return new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Id(@@ disk@@ .get@@ Id(), org.ovirt.engine.core.bll.@@ Attach@@ Disk@@ To@@ VmCommand.getVm@@ Id@@ ()), VmDevice@@ Type.@@ DIS@@ K@@ .get@@ Name(), VmDevice@@ Type.@@ DIS@@ K@@ .get@@ Name(), "@@ ", 0@@ , null@@ , true@@ , org.ovirt.engine.core.bll.@@ Attach@@ Disk@@ To@@ Vm@@ Command.get@@ Parameters@@ ().is@@ Plug@@ Un@@ Plug@@ (), disk@@ .is@@ Read@@ Only@@ (), "@@ "); }
private org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult validate@@ D@@ im@@ en@@ sion@@ s(@@ java.lang.String ic@@ on@@ ) { final int ma@@ x@@ W@@ id@@ t@@ h = 1@@ 5@@ 0@@ ; final int ma@@ x@@ H@@ e@@ ig@@ h@@ t = 1@@ 2@@ 0@@ ; final com.google.gwt.@@ user.@@ client.@@ ui.@@ Image im@@ age = new com.google.gwt.@@ user.@@ client.@@ ui.@@ Image@@ (@@ ic@@ on@@ ); boolean val@@ id = ((@@ im@@ age.get@@ W@@ id@@ th@@ ()) <@@ = ma@@ x@@ W@@ id@@ th@@ ) && ((@@ im@@ age.get@@ H@@ e@@ ig@@ ht@@ ()) <@@ = ma@@ x@@ H@@ e@@ ig@@ ht@@ ); if (@@ valid@@ ) { return org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult.@@ o@@ k@@ (); } return org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult.@@ fail@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ ic@@ on@@ D@@ im@@ en@@ sion@@ sTo@@ o@@ L@@ arg@@ e(@@ im@@ age.get@@ W@@ id@@ th@@ (), im@@ age.get@@ W@@ id@@ th@@ (), ma@@ x@@ W@@ id@@ th@@ , ma@@ x@@ H@@ e@@ ig@@ ht@@ )); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ VM Interface Profile@@ ") java.lang.String vnic@@ Profile@@ Title@@ ();
@org.junit.Test public void s@@ ync@@ Network@@ Qos@@ Not@@ Supported@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = create@@ Management@@ Network@@ (); mock@@ Existing@@ Network@@ s(@@ network@@ ); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e = create@@ Nic@@ S@@ yn@@ ce@@ d@@ With@@ Network@@ ("@@ eth@@ 0@@ ", network@@ ); mock@@ Existing@@ I@@ fac@@ es@@ (@@ if@@ ace@@ ); org.ovirt.engine.core.compat.Guid q@@ os@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); when(@@ q@@ os@@ Dao@@ .get(@@ q@@ os@@ Id@@ )).@@ then@@ Return@@ (c@@ reate@@ Qos@@ ()); network@@ .set@@ Qos@@ Id(@@ q@@ os@@ Id); org.ovirt.engine.core.bll.network.@@ host.@@ SetupNetworks@@ Help@@ er h@@ el@@ p@@ er = create@@ Helper@@ (c@@ reate@@ Parameters@@ For@@ Sync@@ (@@ if@@ ace@@ )); validate@@ And@@ Expect@@ Vi@@ ol@@ ation@@ (@@ h@@ el@@ per@@ , EngineMessage.ACTION_TYPE_FAILED_@@ HOST@@ _@@ NETWORK_@@ Q@@ O@@ S_NOT_@@ SUP@@ PORT@@ ED@@ , org.ovirt.engine.core.bll.network.@@ host.@@ SetupNetworks@@ Helper@@ Test.@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ NAM@@ E); }
public boolean has@@ Command@@ Enti@@ ties@@ With@@ R@@ oot@@ Command@@ Id(@@ org.ovirt.engine.core.compat.Guid ro@@ ot@@ Command@@ Id) { org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity@@ ; for (org.ovirt.engine.core.compat.Guid cmd@@ Id : command@@ s@@ C@@ ach@@ e.get@@ ().@@ key@@ Set@@ ()) { cmd@@ Entity = command@@ s@@ C@@ ach@@ e.get@@ (cmd@@ Id); if ((((@@ cmd@@ Entity != null@@ ) && (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (cmd@@ Entity@@ .get@@ R@@ oot@@ Command@@ Id@@ ())@@ ))) && (!@@ (cmd@@ Entity@@ .get@@ R@@ oot@@ Command@@ Id().@@ equals@@ (cmd@@ Id@@ )@@ ))) && (cmd@@ Entity@@ .get@@ R@@ oot@@ Command@@ Id().@@ equals(@@ ro@@ ot@@ Command@@ Id@@ ))) { return true@@ ; } } return false@@ ; }
protected void add@@ Vm@@ Static@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Stati@@ c = org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm@@ StaticData@@ (); if ((@@ vm@@ Static@@ .get@@ O@@ ri@@ gin@@ ()) == null@@ ) { vm@@ Static@@ .set@@ O@@ ri@@ gin@@ (org.ovirt.engine.core.common.businessentities.@@ O@@ ri@@ gin@@ Type.@@ value@@ Of@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.String@@ >@@ Get@@ Value(ConfigValues.@@ O@@ ri@@ gin@@ Type@@ ))); } vm@@ Static@@ .set@@ Id@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getVm@@ Id()); vm@@ Static@@ .set@@ Quota@@ Id@@ (get@@ Quota@@ Id()); vm@@ Static@@ .set@@ Cre@@ ation@@ D@@ ate@@ (@@ new java.util.@@ D@@ ate@@ ()); if ((@@ vm@@ Static@@ .get@@ Custom@@ Properties@@ ()) != null@@ ) { org.ovirt.engine.core.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Custom@@ Properties@@ Utils.@@ VM@@ Custom@@ Proper@@ ti@@ es proper@@ ti@@ es = org.ovirt.engine.core.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Custom@@ Properties@@ Util@@ s.get@@ Instance@@ ().@@ par@@ se@@ Properties@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ VdsGroup@@ DAO@@ ().get@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm().get@@ VdsGroup@@ Id@@ ())@@ .get@@ c@@ ompatibility@@ _@@ version@@ (), vm@@ Static@@ .get@@ Custom@@ Properties@@ ()); java.lang.String pre@@ de@@ fin@@ ed@@ Proper@@ ti@@ es = proper@@ ties@@ .get@@ Pre@@ de@@ fin@@ ed@@ Properties@@ (); java.lang.String user@@ De@@ fin@@ ed@@ Proper@@ ti@@ es = proper@@ ties@@ .get@@ U@@ se@@ De@@ fin@@ ed@@ Properties@@ (); vm@@ Static@@ .set@@ Pre@@ de@@ fin@@ ed@@ Properties@@ (@@ pre@@ de@@ fin@@ ed@@ Properties@@ ); vm@@ Static@@ .set@@ User@@ De@@ fin@@ ed@@ Properties@@ (@@ user@@ De@@ fin@@ ed@@ Properties@@ ); } get@@ Vm@@ Static@@ Dao().@@ save@@ (vm@@ Static@@ ); org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity@@ (vm@@ Static@@ ); }
private com.google.gwt.@@ user.@@ client.@@ ui.@@ W@@ id@@ ge@@ t get@@ R@@ ad@@ i@@ o@@ Group@@ Panel@@ () { all@@ Bu@@ tt@@ on = new com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ ("@@ disk@@ Type@@ View@@ "); im@@ ages@@ Bu@@ tt@@ on = new com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ ("@@ disk@@ Type@@ View@@ "); lun@@ s@@ Bu@@ tt@@ on = new com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ ("@@ disk@@ Type@@ View@@ "); search@@ Bu@@ tt@@ on = new com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ ("@@ disk@@ Type@@ View@@ "); all@@ Button@@ .get@@ Element@@ ().get@@ Sty@@ le@@ ().set@@ M@@ ar@@ gin@@ R@@ ig@@ ht@@ (@@ 2@@ 0@@ , Un@@ it.@@ P@@ X@@ ); im@@ ages@@ Button@@ .get@@ Element@@ ().get@@ Sty@@ le@@ ().set@@ M@@ ar@@ gin@@ R@@ ig@@ ht@@ (@@ 2@@ 0@@ , Un@@ it.@@ P@@ X@@ ); lun@@ s@@ Button@@ .get@@ Element@@ ().get@@ Sty@@ le@@ ().set@@ M@@ ar@@ gin@@ R@@ ig@@ ht@@ (@@ 2@@ 0@@ , Un@@ it.@@ P@@ X@@ ); search@@ Button@@ .get@@ Element@@ ().get@@ Sty@@ le@@ ().set@@ M@@ ar@@ gin@@ R@@ ig@@ ht@@ (@@ 2@@ 0@@ , Un@@ it.@@ P@@ X@@ ); search@@ Button@@ .set@@ Enabled@@ (@@ false@@ ); search@@ Button@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Pan@@ e@@ l bu@@ tton@@ s@@ Pan@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ (); bu@@ tton@@ s@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ le@@ ().set@@ Property@@ ("@@ mar@@ gin@@ Le@@ f@@ t@@ ", "@@ au@@ to@@ "); bu@@ tton@@ s@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ le@@ ().set@@ Property@@ ("@@ mar@@ gin@@ R@@ ig@@ ht@@ ", "@@ au@@ to@@ "); bu@@ tton@@ s@@ Pan@@ el.@@ add(@@ all@@ Button@@ ); bu@@ tton@@ s@@ Pan@@ el.@@ add(@@ im@@ ages@@ Button@@ ); bu@@ tton@@ s@@ Pan@@ el.@@ add(@@ lun@@ s@@ Button@@ ); bu@@ tton@@ s@@ Pan@@ el.@@ add@@ (s@@ e@@ arch@@ Button@@ ); set@@ Disk@@ View@@ Type(@@ Disk@@ View@@ Type.@@ IM@@ AG@@ E); local@@ ize@@ (@@ const@@ an@@ t@@ s); return bu@@ tton@@ s@@ Panel@@ ; }
@org.junit.Test public void null@@ Test@@ () { org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult valid@@ ation@@ Result = un@@ der@@ Test.@@ validate@@ (in@@ put@@ ); org.junit.@@ As@@ sert@@ .@@ assert@@ Equals@@ (@@ exp@@ ected@@ Result@@ , valid@@ ation@@ Res@@ ult.get@@ Success@@ ()); }
@java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { boolean has@@ E@@ r@@ ro@@ r = false@@ ; for (@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base sing@@ le@@ Result : result.get@@ ReturnValue@@ ()) { if ((!@@ (s@@ ing@@ le@@ Res@@ ult.get@@ Validate@@ ())) || ((@@ w@@ a@@ it@@ For@@ Result@@ ) && (!@@ (s@@ ing@@ le@@ Res@@ ult.get@@ Succeeded@@ ())@@ ))) { has@@ E@@ r@@ ro@@ r = true@@ ; get@@ Action@@ F@@ low@@ State@@ ().add@@ Fail@@ ure(@@ action@@ Type, sing@@ le@@ Result@@ ); } } if (@@ has@@ E@@ r@@ ro@@ r && (!(@@ run@@ N@@ ext@@ In@@ C@@ ase@@ Of@@ Error@@ ))) { then@@ (@@ null@@ ); } run@@ N@@ ext@@ Action@@ (); }
private boolean f@@ et@@ ch@@ StorageDomain@@ Info@@ () { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue all@@ Domain@@ s@@ Query = run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Existing@@ StorageDomain@@ List@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Existing@@ StorageDomain@@ List@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Import@@ Host@@ ed@@ Engine@@ StorageDomain@@ Command.get@@ Vds@@ Id(), null@@ , null@@ )); if (@@ all@@ Domain@@ s@@ Query.get@@ Succeeded@@ ()) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s = all@@ Domain@@ s@@ Query.get@@ ReturnValue@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain s@@ d : do@@ m@@ ain@@ s) { if (s@@ d@@ .getName@@ ().@@ equals@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.String@@ >@@ get@@ Value(ConfigValues.@@ Host@@ ed@@ Engine@@ StorageDomain@@ Name@@ ))) { h@@ e@@ Storage@@ Domain = sd@@ ; return true@@ ; } } } return false@@ ; }
@org.junit.Test public void ex@@ ternal@@ Network@@ Not@@ Supported@@ () throw@@ s java.lang.Exception { ex@@ ternal@@ Network@@ Sup@@ port@@ Test@@ (@@ fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ EX@@ TER@@ N@@ AL@@ _@@ NETWORK_@@ NOT_@@ SUP@@ PORT@@ ED@@ ), false@@ ); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ > setUp@@ Permission@@ sWith@@ Ad@@ Element@@ Id(@@ org.ovirt.engine.core.compat.Guid ad@@ Element@@ Id) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ > per@@ m@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Permission@@ >(); for (@@ int i = 0@@ ; i < (@@ NAM@@ ES@@ .@@ l@@ ength@@ ); i@@ +@@ +@@ ) { org.ovirt.engine.core.common.businessentities.@@ Per@@ mis@@ si@@ on enti@@ ty = get@@ Entity(@@ i@@ ); entity.set@@ Ad@@ Element@@ Id(@@ ad@@ Element@@ Id); per@@ m@@ s.add(@@ entity@@ ); } return per@@ m@@ s@@ ; }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if ("@@ Is@@ C@@ is@@ c@@ o@@ U@@ c@@ s@@ P@@ ri@@ mar@@ y@@ P@@ m@@ Type@@ Selected@@ "@@ .equals(@@ pro@@ p@@ Name@@ )) { get@@ View@@ ().@@ update@@ P@@ ri@@ mar@@ y@@ P@@ m@@ S@@ l@@ ot@@ Label@@ Text@@ (m@@ odel.@@ is@@ C@@ is@@ c@@ o@@ U@@ c@@ s@@ P@@ ri@@ mar@@ y@@ P@@ m@@ Type@@ Selected@@ ()); } else if ("@@ Is@@ C@@ is@@ c@@ o@@ U@@ c@@ s@@ Sec@@ ond@@ ar@@ y@@ P@@ m@@ Type@@ Selected@@ "@@ .equals(@@ pro@@ p@@ Name@@ )) { get@@ View@@ ().@@ update@@ Sec@@ ond@@ ar@@ y@@ P@@ m@@ S@@ l@@ ot@@ Label@@ Text@@ (m@@ odel.@@ is@@ C@@ is@@ c@@ o@@ U@@ c@@ s@@ Sec@@ ond@@ ar@@ y@@ P@@ m@@ Type@@ Selected@@ ()); } }
public org.ovirt.engine.core.bll.ValidationResult h@@ ot@@ Update@@ D@@ one@@ With@@ Internal@@ Network@@ (org.ovirt.engine.core.common.businessentities.network.@@ Network old@@ Network@@ , org.ovirt.engine.core.common.businessentities.network.@@ Network new@@ Network@@ ) { return ((@@ old@@ Network == null@@ ) || (!(@@ old@@ Network@@ .is@@ External@@ ()))) && (@@ (@@ new@@ Network == null@@ ) || (!@@ (@@ new@@ Network@@ .is@@ External@@ ()))) ? org.ovirt.engine.core.bll.ValidationResult.@@ VAL@@ I@@ D : new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ EX@@ TER@@ N@@ AL@@ _@@ NETWORK_@@ C@@ ANNOT_@@ B@@ E_@@ RE@@ W@@ I@@ R@@ ED); }
@java.lang.Override protected org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ Row@@ Map@@ per@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ I@@ con@@ > create@@ Entity@@ Row@@ Map@@ per@@ () { return new org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ Row@@ Map@@ per@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ I@@ con@@ >() { @java.lang.Override public org.ovirt.engine.core.common.businessentities.Vm@@ I@@ c@@ on map@@ Row@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { org.ovirt.engine.core.common.businessentities.Vm@@ I@@ c@@ on ic@@ on = new org.ovirt.engine.core.common.businessentities.Vm@@ I@@ con@@ (); ic@@ on@@ .set@@ Id@@ (get@@ Guid@@ (r@@ s, org.ovirt.engine.core.dao.@@ Vm@@ I@@ con@@ Dao@@ Impl.@@ ID@@ _C@@ O@@ LU@@ M@@ N@@ )); ic@@ on@@ .set@@ Data@@ U@@ r@@ l@@ (rs.get@@ String@@ (@@ org.ovirt.engine.core.dao.@@ Vm@@ I@@ con@@ Dao@@ Impl.@@ D@@ AT@@ A@@ _@@ UR@@ L@@ _C@@ O@@ LU@@ M@@ N@@ )); ic@@ on@@ .set@@ Default@@ For@@ Os@@ (((@@ java.lang.Integer@@ ) (rs.get@@ Object@@ (@@ org.ovirt.engine.core.dao.@@ Vm@@ I@@ con@@ Dao@@ Impl.@@ DE@@ FA@@ U@@ L@@ T_@@ F@@ OR@@ _@@ O@@ S_@@ C@@ O@@ LU@@ M@@ N@@ )@@ ))); return ic@@ on@@ ; } }; }
@java.lang.Override protected org.ovirt.engine.core.common.businessentities.@@ VDS get@@ Entity@@ (@@ int in@@ dex@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS enti@@ ty = org.ovirt.engine.api.restapi.resource.@@ Backend@@ Host@@ s@@ Resource@@ Test.@@ setUp@@ Entity@@ Expectations(@@ cont@@ ro@@ l.@@ create@@ Mock@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ .@@ class@@ ), null@@ , vds@@ Static@@ , in@@ dex@@ ); exp@@ ect@@ (@@ entity.get@@ StoragePool@@ Id@@ ()).@@ and@@ Return(@@ G@@ UID@@ S@@ [@@ 1@@ ]@@ ).@@ any@@ Tim@@ es@@ (); return entity@@ ; }
@java.lang.Override protected org.ovirt.engine.core.compat.Guid create@@ Task@@ (org.ovirt.engine.core.compat.Guid task@@ Id, org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue@@ , org.ovirt.engine.core.compat.Guid storageDomain@@ Id) { java.lang.String mess@@ age = org.ovirt.engine.core.dal.@@ job.@@ Execution@@ Message@@ Direct@@ or@@ .res@@ ol@@ ve@@ Step@@ Message@@ (@@ Step@@ Enum@@ .@@ M@@ ER@@ G@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T@@ S@@ , org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Job@@ Message@@ Properties@@ ()); return super@@ .@@ create@@ Task@@ (@@ task@@ Id, vds@@ Return@@ Value.get@@ Cre@@ ation@@ Info@@ (), Vdc@@ ActionType.@@ Remove@@ Snapshot@@ , mess@@ age@@ , Vdc@@ Object@@ Type.@@ Storage@@ , storageDomain@@ Id); }
private org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t build@@ Model@@ Sp@@ e@@ c@@ if@@ ic@@ Parameters@@ (@@ boolean is@@ W@@ in@@ do@@ w@@ s) { org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = build@@ C@@ lo@@ u@@ d@@ Init@@ Parameters@@ (); if (is@@ W@@ in@@ do@@ w@@ s && ((@@ java.lang.Boolean@@ ) (get@@ W@@ in@@ do@@ w@@ s@@ S@@ y@@ sp@@ re@@ p@@ Time@@ Z@@ one@@ Enabled@@ ().getEntity@@ ()))) { java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, java.lang.String> e@@ n@@ try = ((@@ java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, java.lang.String@@ >) (get@@ W@@ in@@ do@@ w@@ s@@ S@@ y@@ sp@@ re@@ p@@ Time@@ Z@@ one@@ ().getSelectedItem@@ ())); vm@@ In@@ it.@@ set@@ Time@@ Z@@ on@@ e(@@ e@@ n@@ try@@ .get@@ Key@@ ()); } else if ((!@@ is@@ W@@ in@@ do@@ w@@ s) && ((@@ java.lang.Boolean@@ ) (get@@ Time@@ Z@@ one@@ Enabled@@ ().getEntity@@ ()))) { java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, java.lang.String> e@@ n@@ try = ((@@ java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, java.lang.String@@ >) (get@@ Time@@ Z@@ one@@ List@@ ().getSelectedItem@@ ())); vm@@ In@@ it.@@ set@@ Time@@ Z@@ on@@ e(@@ e@@ n@@ try@@ .get@@ Key@@ ()); } if (is@@ W@@ in@@ do@@ w@@ s) { vm@@ In@@ it.@@ set@@ Domain@@ (get@@ S@@ y@@ sp@@ re@@ p@@ Domain@@ ().getSelectedItem@@ ()); } else { vm@@ In@@ it.@@ set@@ Domain@@ (((@@ java.lang.String@@ ) (get@@ Domain@@ ().getEntity@@ ()))); } return vm@@ Init@@ ; }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _S@@ ET@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ GLUSTER_@@ G@@ E@@ OR@@ E@@ P@@ _C@@ ON@@ F@@ I@@ G@@ ); add@@ Validation@@ Message@@ Var@@ i@@ able@@ ("@@ config@@ Name@@ ", get@@ Parameters().get@@ Config@@ Key@@ ()); add@@ Validation@@ Message@@ Var@@ i@@ able@@ ("@@ ge@@ oRep@@ Session@@ Key@@ ", get@@ GeoRep@@ Session@@ ().get@@ Session@@ Key@@ ()); add@@ Validation@@ Message@@ Var@@ i@@ able@@ ("@@ config@@ Value@@ ", get@@ Parameters().get@@ Config@@ Value@@ ()); }
@org.junit.Test public void test@@ Run@@ P@@ ubl@@ ic@@ Query@@ _@@ Get@@ Configuration@@ Value@@ () { java.lang.String s@@ ession@@ Id = "@@ s@@ ession@@ Id@@ "; org.ovirt.engine.core.common.queries.VdcQuery@@ Type query@@ Type = org.ovirt.engine.core.common.queries.VdcQuery@@ Type.Get@@ Configuration@@ Value@@ ; org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ In@@ t@@ Value = new org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ (); return@@ In@@ t@@ Valu@@ e.set@@ Succeeded@@ (@@ true@@ ); return@@ In@@ t@@ Valu@@ e.set@@ ReturnValue@@ (@@ java.lang.Integ@@ er.@@ value@@ Of@@ (@@ 2@@ 5@@ )); when@@ (m@@ ock@@ Backend@@ .@@ run@@ P@@ ubl@@ ic@@ Query@@ (@@ e@@ q@@ (Vdc@@ Query@@ Type.Get@@ Configuration@@ Value@@ ), e@@ q@@ (m@@ ock@@ Config@@ Query@@ Param@@ s@@ )@@ )).@@ then@@ Return@@ (@@ return@@ In@@ t@@ Value@@ ); java.lang.Object result = test@@ Servlet@@ .@@ run@@ P@@ ubl@@ ic@@ Query@@ (@@ query@@ Type, mock@@ Config@@ Query@@ Param@@ s, s@@ ession@@ Id); assert@@ That@@ (@@ result@@ , org.ovirt.engine.ui.frontend.server.@@ gwt.@@ Abstract@@ G@@ w@@ t@@ Dynamic@@ Host@@ P@@ age@@ Servlet@@ Test.@@ is@@ (@@ java.lang.Integer@@ .@@ class@@ )); ve@@ r@@ if@@ y@@ (m@@ ock@@ Config@@ Query@@ Param@@ s@@ )@@ .set@@ Session@@ Id@@ (s@@ ession@@ Id); ve@@ r@@ if@@ y@@ (m@@ ock@@ Config@@ Query@@ Param@@ s@@ )@@ .set@@ Http@@ Session@@ Http@@ Session@@ Id@@ (s@@ ession@@ Id); ve@@ r@@ if@@ y@@ (m@@ ock@@ Config@@ Query@@ Param@@ s@@ )@@ .set@@ Filter@@ ed(@@ test@@ Servlet@@ .@@ filter@@ Quer@@ i@@ es@@ ()); ve@@ r@@ if@@ y@@ (m@@ ock@@ Backend@@ ).@@ run@@ P@@ ubl@@ ic@@ Query@@ (@@ query@@ Type, mock@@ Config@@ Query@@ Param@@ s); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ E@@ d@@ i@@ t Pool@@ ") java.lang.String edit@@ Pool@@ Title@@ ();
@java.lang.Override public void set@@ Main@@ Tab@@ SelectedItem@@ (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain selected@@ Item@@ ) { d@@ ri@@ ver.@@ edit@@ (get@@ Detail@@ Model@@ ()); org.ovirt.engine.core.common.businessentities.Storage@@ Domain enti@@ ty = ((org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ ) (get@@ Detail@@ Model().get@@ Entity@@ ())); if (@@ enti@@ ty != null@@ ) { t@@ otal@@ S@@ iz@@ e.set@@ Value(@@ entity.get@@ T@@ otal@@ Disk@@ Size@@ ()); ava@@ il@@ able@@ S@@ iz@@ e.set@@ Value(@@ entity.get@@ Available@@ Disk@@ Size@@ ()); us@@ ed@@ S@@ iz@@ e.set@@ Value(@@ entity.get@@ Us@@ ed@@ Disk@@ Size@@ ()); al@@ loc@@ ated@@ S@@ iz@@ e.set@@ Value(@@ entity.get@@ Comm@@ it@@ ted@@ Disk@@ Size@@ ()); o@@ ver@@ Al@@ loc@@ ation@@ R@@ ati@@ o@@ .set@@ Value(@@ entity.get@@ StorageDomain@@ O@@ ver@@ Comm@@ it@@ Per@@ c@@ ent@@ ()); w@@ arning@@ L@@ ow@@ Sp@@ ace@@ In@@ d@@ ic@@ ator@@ .set@@ Value(@@ entity.get@@ W@@ arning@@ L@@ ow@@ Sp@@ ace@@ In@@ d@@ ic@@ ator@@ ()); w@@ arning@@ L@@ ow@@ Sp@@ ace@@ S@@ iz@@ e.set@@ Value(@@ entity.get@@ W@@ arning@@ L@@ ow@@ Sp@@ ace@@ Size@@ ()); java.util.ArrayList<@@ org.ovirt.engine.ui.common.widget.@@ l@@ ab@@ el.@@ Text@@ B@@ o@@ x@@ Label@@ Base@@ <@@ java.lang.Integer@@ >> w@@ arning@@ L@@ ow@@ Sp@@ ace@@ Detail@@ s@@ Arr@@ a@@ y = new java.util.ArrayList<@@ org.ovirt.engine.ui.common.widget.@@ l@@ ab@@ el.@@ Text@@ B@@ o@@ x@@ Label@@ Base@@ <@@ java.lang.Integer@@ >@@ (@@ java.util.Arrays.as@@ List(@@ w@@ arning@@ L@@ ow@@ Sp@@ ace@@ In@@ d@@ ic@@ ator@@ , w@@ arning@@ L@@ ow@@ Sp@@ ace@@ Size@@ )); w@@ arning@@ L@@ ow@@ Sp@@ ace@@ Detail@@ s.set@@ Value(@@ w@@ arning@@ L@@ ow@@ Sp@@ ace@@ Detail@@ s@@ Array@@ ); cri@@ tic@@ al@@ Sp@@ ace@@ Action@@ B@@ lock@@ er.@@ set@@ Value(@@ entity.get@@ C@@ ri@@ tic@@ al@@ Sp@@ ace@@ Action@@ B@@ lock@@ er@@ ()); } for@@ m@@ Buil@@ der.@@ update@@ (get@@ Detail@@ Model@@ ()); }
@java.lang.Override protected boolean canDoAction@@ () { dis@@ k = org.ovirt.engine.core.bll.@@ Hot@@ Plug@@ Disk@@ To@@ Vm@@ Command.get@@ Disk@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Hot@@ Plug@@ Disk@@ To@@ Vm@@ Command.getParameters().get@@ Disk@@ Id()); return ((((@@ ((org.ovirt.engine.core.bll.@@ Hot@@ Plug@@ Disk@@ To@@ Vm@@ Command.@@ is@@ Vm@@ Exist@@ ()) && (org.ovirt.engine.core.bll.@@ Hot@@ Plug@@ Disk@@ To@@ Vm@@ Command.@@ is@@ Vm@@ Up@@ Or@@ Down@@ ())) && (is@@ Disk@@ Exist@@ (disk@@ ))) && (@@ check@@ Can@@ P@@ er@@ for@@ m@@ Plug@@ Un@@ Plug@@ Disk@@ ())) && (@@ validate@@ (get@@ Snapshots@@ Validator@@ ().@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (org.ovirt.engine.core.bll.@@ Hot@@ Plug@@ Disk@@ To@@ VmCommand.getVm@@ Id@@ ())@@ ))) && (@@ validate@@ (get@@ Snapshots@@ Validator@@ ().@@ vm@@ Not@@ In@@ Pre@@ view@@ (org.ovirt.engine.core.bll.@@ Hot@@ Plug@@ Disk@@ To@@ VmCommand.getVm@@ Id@@ ())@@ ))) && (@@ validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ Vm@@ Validator@@ (org.ovirt.engine.core.bll.@@ Hot@@ Plug@@ Disk@@ To@@ VmCommand.getVm@@ ()).@@ vm@@ Not@@ Lock@@ ed@@ ())); }
private static java.util.Map<java.lang.String, java.lang.Object> search@@ Im@@ pl@@ (java.lang.String to@@ k@@ en@@ , org.ovirt.engine.core.@@ aaa.@@ Query@@ Data query@@ Data@@ , java.lang.String query@@ Type@@ ) { java.@@ net@@ .@@ Http@@ UR@@ L@@ Conn@@ ec@@ tion conn@@ ec@@ tion = null@@ ; try { conn@@ ec@@ tion = org.ovirt.engine.core.@@ aaa.@@ SS@@ O@@ Auth@@ Service@@ Utils.@@ create@@ Connection@@ ("@@ /@@ search@@ -@@ d@@ irect@@ ory@@ "); org.ovirt.engine.core.@@ aaa.@@ SS@@ O@@ Auth@@ Service@@ Utils.@@ set@@ Client@@ Id@@ Sec@@ ret@@ Bas@@ ic@@ Auth@@ H@@ ead@@ er@@ (@@ connection@@ ); org.ovirt.engine.core.@@ u@@ utils.@@ net@@ .@@ UR@@ L@@ Buil@@ der ur@@ l@@ Buil@@ der = new org.ovirt.engine.core.@@ u@@ utils.@@ net@@ .@@ UR@@ L@@ Builder@@ (@@ connection@@ .get@@ UR@@ L@@ ()).@@ add@@ Parameter("@@ to@@ k@@ en@@ ", to@@ k@@ en@@ ).@@ add@@ Parameter("@@ s@@ c@@ op@@ e@@ ", "@@ ovir@@ t@@ -@@ app@@ -@@ ad@@ m@@ in ovir@@ t@@ -@@ app@@ -@@ api@@ ").@@ add@@ Parameter("@@ query@@ _@@ type@@ ", query@@ Type@@ ).@@ add@@ Parameter("@@ query@@ _@@ data@@ ", new org.ovirt.engine.core.utils.@@ ser@@ ial@@ iz@@ ation.@@ json@@ .@@ Json@@ Object@@ Ser@@ ial@@ iz@@ er@@ ().@@ ser@@ ial@@ iz@@ e(@@ query@@ Data@@ )); org.ovirt.engine.core.@@ aaa.@@ SS@@ O@@ Auth@@ Service@@ Utils.@@ p@@ ost@@ Data@@ (@@ connection@@ , ur@@ l@@ Buil@@ der.@@ build@@ UR@@ L@@ ().get@@ Query@@ ()); return org.ovirt.engine.core.@@ aaa.@@ SS@@ O@@ Auth@@ Service@@ Util@@ s.get@@ Data@@ (@@ connection@@ ); } catch (@@ java.lang.Exception ex@@ ) { return org.ovirt.engine.core.@@ aaa.@@ SS@@ O@@ O@@ Auth@@ Service@@ Utils.@@ build@@ Map@@ With@@ Error@@ ("@@ server@@ _@@ error@@ ", ex@@ .get@@ Message@@ ()); } final@@ l@@ y { if (@@ conn@@ ec@@ tion != null@@ ) { connection@@ .@@ dis@@ conn@@ ect@@ (); } } }
public static org.ovirt.engine.core.vdsbroker.@@ VM@@ Stat@@ s@@ Re@@ fresh@@ er create@@ (@@ final org.ovirt.engine.core.vdsbroker.@@ Vds@@ Manage@@ r man@@ ag@@ er@@ ) { return new org.ovirt.engine.core.vdsbroker.@@ P@@ oll@@ VM@@ Stat@@ s@@ Re@@ fresh@@ er@@ (m@@ an@@ ag@@ er@@ ); }
@java.lang.Override protected void execute@@ Command() { if (org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.getVm@@ Template@@ ().is@@ Base@@ Template@@ ()) { s@@ h@@ if@@ t@@ Base@@ Template@@ To@@ Success@@ or@@ (); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > template@@ Image@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Disk@@ Dao().get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.getVm@@ Template@@ Id()); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > c@@ inder@@ Disk@@ s = org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ filter@@ Disks@@ Bas@@ ed@@ On@@ Cinder@@ (@@ template@@ Images@@ ); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ Image@@ s = org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disk@@ s(@@ template@@ Images@@ , org.ovirt.engine.core.bll.@@ AC@@ TI@@ V@@ E_@@ DIS@@ K@@ S_@@ ON@@ L@@ Y@@ ); org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ lock@@ VmTemplate@@ In@@ Transaction@@ (org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.getVm@@ Template@@ Id(), org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.get@@ Comp@@ ens@@ ation@@ Context@@ ()); if ((!@@ (disk@@ Im@@ ages.@@ isEmpty@@ ())) || (!@@ (c@@ inder@@ Disk@@ s.@@ isEmpty@@ ()))) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { if ((!@@ (disk@@ Im@@ ages.@@ isEmpty@@ ())) && (@@ remove@@ VmTemplate@@ Images@@ ())) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ remove@@ Vm@@ Init@@ From@@ D@@ B@@ (get@@ VmTemplate@@ ()); set@@ Succeeded@@ (@@ true@@ ); } if (!@@ (c@@ inder@@ Disk@@ s.@@ isEmpty@@ ())) { remove@@ Cinder@@ Disks@@ (c@@ inder@@ Disks@@ ); set@@ Succeeded@@ (@@ true@@ ); } return null@@ ; }); } if (org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.@@ no@@ Async@@ Operation@@ s()) { h@@ andle@@ En@@ d@@ Action@@ (); } }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = super@@ .@@ hash@@ Code@@ (); result = (@@ pri@@ m@@ e * result) + (@@ (@@ default@@ Display@@ Type@@ ) == null ? 0 : default@@ Display@@ Type.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (in@@ itial@@ ize@@ d ? 1@@ 2@@ 3@@ 1 : 1@@ 2@@ 3@@ 7@@ ); result = (@@ pri@@ m@@ e * result) + (disk@@ Size@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ name@@ ) == null ? 0 : nam@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ pre@@ de@@ fin@@ ed@@ Properties@@ ) == null ? 0 : pre@@ de@@ fin@@ ed@@ Properties.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ user@@ De@@ fin@@ ed@@ Properties@@ ) == null ? 0 : user@@ De@@ fin@@ ed@@ Properties.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ vm@@ t@@ Guid@@ ) == null ? 0 : vm@@ t@@ Guid@@ .@@ hash@@ Code@@ ()); return result@@ ; }
@java.lang.Override public boolean is@@ Read@@ able(@@ java.lang.@@ Class@@ <?@@ > type@@ , java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Type gener@@ ic@@ Type, java.lang.@@ an@@ not@@ ation.@@ An@@ not@@ ation@@ [@@ ] an@@ not@@ ation@@ s, javax.ws.rs.@@ core.@@ M@@ ed@@ i@@ a@@ Type m@@ ed@@ i@@ a@@ Type@@ ) { return org.ovirt.engine.api.restapi.@@ x@@ ml.@@ J@@ A@@ X@@ B@@ Provi@@ der.@@ SUP@@ PORT@@ ED_@@ V@@ ER@@ SI@@ ON@@ .equals(@@ org.ovirt.engine.api.restapi.@@ in@@ vo@@ c@@ ation.@@ C@@ urrent@@ Manager@@ .get@@ ().get@@ Version@@ ()); }
@org.junit.Test public void can@@ Set@@ Numa@@ Configuration@@ With@@ Vm@@ From@@ Param@@ s() { mock@@ Command@@ With@@ Vm@@ From@@ Param@@ s(); command@@ .@@ execute@@ Command@@ (); ve@@ r@@ if@@ y@@ (vm@@ Numa@@ Node@@ Dao@@ )@@ .m@@ ass@@ S@@ ave@@ Numa@@ Node@@ (@@ e@@ q@@ (@@ param@@ Numa@@ Nod@@ es@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); }
protected org.ovirt.engine.core.compat.Guid add@@ StorageDomain@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Type storage@@ Type, org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type storageDomain@@ Type@@ ) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c do@@ m@@ ain@@ Static@@ E@@ n@@ try = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ (); do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ .set@@ Storage@@ (@@ provider@@ .getId@@ ().@@ toString()); do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ .set@@ Storage@@ Name(@@ provider@@ .get@@ Name()); do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ .set@@ Description@@ (@@ provider@@ .get@@ Description@@ ()); do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ .set@@ Storage@@ Format@@ (@@ Storage@@ Format@@ Type.@@ V@@ 1@@ ); do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ .set@@ Storage@@ Type(@@ storage@@ Type@@ ); do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ .set@@ StorageDomain@@ Type(@@ storageDomain@@ Type@@ ); do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ .set@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ (@@ false@@ ); org.ovirt.engine.core.bll.@@ p@@ rovider.@@ storage.@@ Abstract@@ Op@@ en@@ St@@ ack@@ Storage@@ Provider@@ Proxy@@ .get@@ DbFacade@@ ().get@@ StorageDomain@@ Static@@ Dao().@@ save@@ (@@ do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ ); org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Dynam@@ ic do@@ m@@ ain@@ Dynamic@@ E@@ n@@ try = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Dynamic@@ (); do@@ m@@ ain@@ Dynamic@@ E@@ n@@ try@@ .set@@ Id@@ (@@ do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ .getId()); do@@ m@@ ain@@ Dynamic@@ E@@ n@@ try@@ .set@@ Available@@ Disk@@ S@@ iz@@ e(@@ Storage@@ Constants.@@ SI@@ Z@@ E_@@ I@@ S_NOT_@@ A@@ V@@ A@@ IL@@ AB@@ LE@@ ); do@@ m@@ ain@@ Dynamic@@ E@@ n@@ try@@ .set@@ Us@@ ed@@ Disk@@ S@@ iz@@ e(@@ Storage@@ Constants.@@ SI@@ Z@@ E_@@ I@@ S_NOT_@@ A@@ V@@ A@@ IL@@ AB@@ LE@@ ); org.ovirt.engine.core.bll.@@ p@@ rovider.@@ storage.@@ Abstract@@ Op@@ en@@ St@@ ack@@ Storage@@ Provider@@ Proxy@@ .get@@ DbFacade@@ ().get@@ StorageDomain@@ Dynamic@@ Dao().@@ save@@ (@@ do@@ m@@ ain@@ Dynamic@@ E@@ n@@ try@@ ); return do@@ m@@ ain@@ Static@@ E@@ n@@ try@@ .getId@@ (); }
public org.ovirt.engine.core.common.businessentities.@@ AsyncTask@@ s get@@ AsyncTask@@ From@@ Db@@ (org.ovirt.engine.core.compat.Guid async@@ Task@@ Id) { org.ovirt.engine.core.common.businessentities.@@ AsyncTask@@ s async@@ T@@ as@@ k = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ AsyncTask@@ Dao().get@@ (@@ async@@ Task@@ Id); if (@@ async@@ T@@ as@@ k != null@@ ) { async@@ Task@@ .set@@ R@@ oot@@ C@@ md@@ Entity@@ (get@@ Command@@ Entity(@@ async@@ Task@@ .get@@ R@@ oot@@ Command@@ Id@@ ())); async@@ Task@@ .set@@ Ch@@ ild@@ C@@ md@@ Entity@@ (get@@ Command@@ Entity(@@ async@@ Task@@ .get@@ Command@@ Id@@ ())); } return async@@ Task@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Det@@ ac@@ h Storage@@ ") java.lang.String d@@ et@@ ach@@ Storage@@ Title@@ ();
private boolean can@@ Remove@@ Vm@@ Image@@ Disk@@ () { if (!(@@ list@@ Vm@@ s.@@ isEmpty@@ ())) { org.ovirt.engine.core.compat.Guid storagePool@@ Id = list@@ Vm@@ s.get@@ (0@@ ).get@@ StoragePool@@ Id@@ (); org.ovirt.engine.core.common.businessentities.Storage@@ Pool s@@ p = org.ovirt.engine.core.bll.storage.disk.@@ Remove@@ Disk@@ Command.get@@ StoragePool@@ Dao().get@@ (@@ storagePool@@ Id); if (!(@@ validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ StoragePool@@ Validator@@ (s@@ p@@ ).@@ is@@ Up@@ ()))) { return false@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ List = org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disk@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (get@@ Disk@@ ()), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ NOT_@@ S@@ H@@ A@@ RE@@ AB@@ L@@ E_@@ DIS@@ K@@ S_@@ ON@@ L@@ Y@@ , org.ovirt.engine.core.bll.storage.disk.@@ image.@@ AC@@ TI@@ V@@ E_@@ DIS@@ K@@ S_@@ ON@@ L@@ Y@@ ); org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Images@@ Validator disk@@ Images@@ Validator = new org.ovirt.engine.core.bll.validator.@@ Disk@@ Images@@ Validator@@ (disk@@ List@@ ); if (!(@@ validate@@ (disk@@ Images@@ Validator.@@ disk@@ Images@@ Not@@ Lock@@ ed@@ ()))) { return false@@ ; } } org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator snapshot@@ s@@ Validator = new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator@@ (); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : list@@ Vm@@ s) { if ((!@@ (@@ validate@@ (s@@ napshot@@ s@@ Validator.@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (vm@@ .getId@@ ())@@ ))) || (!(@@ validate@@ (s@@ napshot@@ s@@ Validator.@@ vm@@ Not@@ In@@ Pre@@ view@@ (vm@@ .getId@@ ())@@ )@@ ))) { return false@@ ; } } return true@@ ; }
private boolean is@@ Un@@ set@@ Role@@ Pro@@ h@@ i@@ b@@ i@@ ted@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Model cluster@@ Network@@ Model) { return (is@@ Multiple@@ Sel@@ ection@@ Allow@@ ed@@ ()) && (is@@ Display@@ O@@ ri@@ gin@@ all@@ y@@ (cluster@@ Network@@ Model@@ )); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.compat.Guid task@@ Id = p@@ ers@@ ist@@ AsyncTask@@ P@@ l@@ ace@@ H@@ ol@@ der@@ (VdcActionType.@@ Remove@@ VmTemplate@@ ); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Delet@@ e@@ ImageGroup@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Action@@ Af@@ ter@@ Delet@@ e@@ Handler.@@ fi@@ x@@ Parameters@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ Delet@@ e@@ ImageGroup@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ ImageGroup@@ ID@@ (), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ (), false@@ ))); if (vds@@ Return@@ Value.get@@ Succeeded@@ ()) { org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.get@@ ReturnValue().get@@ Internal@@ Vds@@ m@@ Task@@ Id@@ List@@ ().add@@ (c@@ reate@@ Task@@ (@@ task@@ Id, vds@@ Return@@ Value.get@@ Cre@@ ation@@ Info@@ (), Vdc@@ ActionType.@@ Remove@@ VmTemplate@@ , Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ())); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.set@@ Succeeded@@ (@@ true@@ ); } }
public void set@@ Profile@@ W@@ in@@ do@@ w@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ Profile@@ Statistic@@ s@@ Model profil@@ e@@ Stat@@ s@@ Model) { final org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model c@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (get@@ Confirm@@ W@@ in@@ do@@ w@@ ())); c@@ Model.@@ st@@ op@@ Progress@@ (); set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ null@@ ); set@@ W@@ in@@ do@@ w@@ (@@ profil@@ e@@ Stat@@ s@@ Model@@ ); set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ volume@@ _@@ profil@@ e@@ _@@ stati@@ stic@@ s); set@@ Hash@@ Name@@ ("@@ volume@@ _@@ profil@@ e@@ _@@ stati@@ stic@@ s@@ "); }
private org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage create@@ M@@ et@@ ad@@ ata@@ Disk@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t snapshot@@ ) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c s@@ d = validate@@ StorageDomain@@ Exist@@ s@@ In@@ Db@@ (s@@ napshot@@ , memory@@ Disk@@ Domain@@ Map@@ .get@@ (s@@ napsho@@ t.get@@ M@@ et@@ ad@@ ata@@ Disk@@ Id@@ ())); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = is@@ Memory@@ Disk@@ Al@@ read@@ y@@ Exist@@ s@@ In@@ Db@@ (s@@ napshot@@ , s@@ napsho@@ t.get@@ M@@ et@@ ad@@ ata@@ Disk@@ Id()); if ((@@ s@@ d == null@@ ) || (@@ dis@@ k != null@@ )) { return null@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage memory@@ Disk = org.ovirt.engine.core.bll.@@ memory@@ .@@ Memory@@ Utils.@@ create@@ Snapshot@@ M@@ et@@ ad@@ ata@@ Disk@@ (org.ovirt.engine.core.bll.@@ memory@@ .@@ Memory@@ Utils.@@ gener@@ ate@@ Memory@@ Disk@@ Description@@ (vm@@ , s@@ napsho@@ t.get@@ Description@@ ())); memory@@ Disk@@ .set@@ Id@@ (s@@ napsho@@ t.get@@ M@@ et@@ ad@@ ata@@ Disk@@ Id()); memory@@ Disk@@ .set@@ Image@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); memory@@ Disk@@ .set@@ Storage@@ Id@@ s@@ (@@ new java.util.Array@@ List(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (s@@ d@@ .getId@@ ()))); memory@@ Disk@@ .set@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ Command.get@@ StoragePool@@ Id()); memory@@ Disk@@ .set@@ Cre@@ ation@@ D@@ ate@@ (s@@ napsho@@ t.get@@ Cre@@ ation@@ D@@ ate@@ ()); memory@@ Disk@@ .set@@ Active@@ (@@ true@@ ); memory@@ Disk@@ .set@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e(@@ vm.get@@ Disk@@ List@@ ().@@ stream@@ ().@@ any@@ Match@@ (@@ DiskImage@@ :@@ :@@ is@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ )); return memory@@ Disk@@ ; }
private void validate@@ Base@@ 6@@ 4@@ () { try { r@@ a@@ w@@ Image@@ Data = javax.@@ x@@ ml.@@ b@@ in@@ d@@ .@@ Dat@@ at@@ yp@@ e@@ Conver@@ t@@ er.@@ par@@ se@@ Base@@ 6@@ 4@@ B@@ in@@ ar@@ y@@ (@@ b@@ ase@@ 6@@ 4@@ Data@@ ); } catch (java.lang.@@ Array@@ In@@ dex@@ Out@@ Of@@ B@@ oun@@ ds@@ Exception | java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception e) { valid@@ ation@@ Result = new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ VM_@@ IC@@ ON_@@ B@@ A@@ S@@ E@@ 6@@ 4@@ _P@@ AR@@ T_@@ M@@ AL@@ F@@ OR@@ M@@ ED); } }
@java.lang.Override public void set@@ T@@ ooltip@@ (c@@ om.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ ooltip@@ ) { org.ovirt.engine.ui.common.@@ utils.@@ Element@@ T@@ ooltip@@ Utils.@@ set@@ T@@ ooltip@@ On@@ Element@@ (get@@ Element@@ (), t@@ ooltip@@ ); }
public boolean c@@ and@@ id@@ ate@@ Operation@@ (java.lang.String op@@ 1@@ Key@@ , java.lang.String op@@ 1@@ Type, java.lang.String op@@ 2@@ Key@@ , java.lang.String op@@ 2@@ Type, boolean d@@ ro@@ p@@ ) { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Interface@@ Model nic@@ 1 = null@@ ; org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Log@@ ical@@ Network@@ Model network@@ 1 = null@@ ; org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Interface@@ Model nic@@ 2 = null@@ ; org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Log@@ ical@@ Network@@ Model network@@ 2 = null@@ ; if (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ SetupNetworks@@ Model.@@ N@@ IC@@ .equals(@@ op@@ 1@@ Type@@ )) { nic@@ 1 = nic@@ Map@@ .get(@@ op@@ 1@@ Key@@ ); } else if (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ SetupNetworks@@ Model.@@ NETWOR@@ K@@ .equals(@@ op@@ 1@@ Type@@ )) { network@@ 1 = network@@ Map@@ .get(@@ op@@ 1@@ Key@@ ); } if (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ SetupNetworks@@ Model.@@ N@@ IC@@ .equals(@@ op@@ 2@@ Type@@ )) { nic@@ 2 = nic@@ Map@@ .get(@@ op@@ 2@@ Key@@ ); } else if (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ SetupNetworks@@ Model.@@ NETWOR@@ K@@ .equals(@@ op@@ 2@@ Type@@ )) { network@@ 2 = network@@ Map@@ .get(@@ op@@ 2@@ Key@@ ); } org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 1 = (@@ nic@@ 1 == null@@ ) ? network@@ 1 : nic@@ 1@@ ; org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 2 = (@@ nic@@ 2 == null@@ ) ? network@@ 2 : nic@@ 2@@ ; return c@@ and@@ id@@ ate@@ Operation@@ (@@ op@@ 1, op@@ 2@@ , d@@ ro@@ p@@ , false@@ ); }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >> get@@ Sh@@ ared@@ Lock@@ s() { final boolean version@@ Chang@@ ed = !@@ (java.util.@@ Object@@ s.@@ equals(@@ old@@ Group@@ .get@@ CompatibilityVersion@@ (), org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ Cluster@@ ().get@@ CompatibilityVersion@@ ())); if (!@@ version@@ Changed@@ ) { return null@@ ; } final java.lang.String lock@@ Mess@@ age = (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ LUSTER_@@ I@@ S_@@ B@@ E@@ ING@@ _@@ UP@@ D@@ AT@@ ED@@ .@@ name@@ ()) + (@@ org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String("@@ cluster@@ Name@@ ", old@@ Group@@ .getName@@ ())); vm@@ s@@ Lock@@ ed@@ For@@ Up@@ dat@@ e = org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.getVm@@ Static@@ Dao().get@@ All@@ By@@ Cluster@@ (@@ old@@ Group@@ .getId@@ ()).@@ stream@@ ().@@ filter@@ (@@ ( vm@@ ) -@@ > ((@@ vm.get@@ O@@ ri@@ gin@@ ()) != O@@ ri@@ gin@@ Type.@@ EX@@ TER@@ N@@ AL@@ ) && (!@@ (vm@@ .is@@ Host@@ ed@@ Engine@@ ())@@ )).@@ filter@@ (@@ ( vm@@ ) -@@ > (vm.get@@ Custom@@ CompatibilityVersion@@ ()) == null@@ ).@@ s@@ or@@ ted@@ ().@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); return vm@@ s@@ Lock@@ ed@@ For@@ Up@@ dat@@ e.@@ stream@@ ().@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ ( vm@@ ) -@@ > vm.get@@ Id().@@ toString@@ (), ( vm@@ ) -@@ > org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VM@@ , lock@@ Message@@ ))); }
@org.junit.Test public void do@@ n@@ t@@ Sync@@ Network@@ On@@ Default@@ M@@ tu@@ () { org.ovirt.engine.core.common.businessentities.@@ Network ne@@ t = create@@ Network@@ ("@@ net@@ "); org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface n@@ ic = create@@ Nic@@ S@@ yn@@ ce@@ d@@ With@@ Network@@ ("@@ nic@@ 0@@ ", net@@ ); nic@@ .set@@ M@@ tu@@ (@@ org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instance@@ ().@@ ne@@ xt@@ In@@ t@@ ()); mock@@ Existing@@ Network@@ s(@@ net@@ ); mock@@ Existing@@ I@@ fac@@ es(@@ nic@@ ); org.ovirt.engine.core.bll.@@ SetupNetworks@@ Help@@ er h@@ el@@ p@@ er = create@@ Helper@@ (c@@ reate@@ Parameters@@ For@@ Sync@@ (@@ nic@@ )); validate@@ And@@ As@@ sert@@ No@@ Chang@@ es(@@ h@@ el@@ per@@ ); }
public java.util.@@ D@@ ate get@@ C@@ er@@ t@@ if@@ ication@@ Exp@@ ir@@ ation@@ D@@ ate@@ () { if (@@ this@@ .@@ n@@ i@@ o@@ Engine@@ ) == null@@ ) { return null@@ ; } return this@@ .@@ n@@ i@@ o@@ Engin@@ e.get@@ C@@ er@@ t@@ if@@ icate@@ Exp@@ ir@@ ation@@ D@@ ate@@ (); }
@org.junit.Test public void test@@ Not@@ Rem@@ ov@@ ing@@ Us@@ ed@@ Pool@@ Rec@@ or@@ d@@ Is@@ Us@@ ed@@ () throw@@ s java.lang.Exception { m@@ ac@@ Poo@@ l.@@ set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.common.businessentities.Storage@@ Pool storage@@ Pool = new org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ (); storage@@ Poo@@ l.@@ set@@ Name@@ ("@@ storagePool@@ "); when(@@ storagePool@@ Dao.get@@ All@@ Data@@ C@@ ent@@ ers@@ By@@ MacPool@@ Id(@@ m@@ ac@@ Pool@@ .getId@@ ())@@ ).@@ thenReturn(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ storagePool@@ )); assert@@ That@@ (@@ valid@@ ation@@ Result@@ , fail@@ sWith@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ S@@ TI@@ L@@ _@@ US@@ ED_@@ M@@ AC@@ _P@@ O@@ OL@@ )); }
public java.lang.Integ@@ er get@@ Mem@@ Comm@@ i@@ ted@@ () { return vds@@ Dynamic@@ .get@@ Mem@@ Comm@@ i@@ ted@@ (); }
@java.lang.Override public boolean validate@@ StoragePool@@ Connection@@ s@@ In@@ Host@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s> connection@@ s, org.ovirt.engine.core.compat.Guid storagePool@@ Id) { if ((@@ connection@@ s.@@ size()) > 0) { @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") java.util.Map<java.lang.String, java.lang.String> validate@@ Connection@@ s = ((@@ java.util.Map<java.lang.String, java.lang.String@@ >) (org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Validate@@ StorageServerConnection@@ , new org.ovirt.engine.core.common.vdscommands.@@ Conn@@ ect@@ Storage@@ Server@@ VDSCommand@@ Parameters(@@ vds.get@@ Id(), storagePool@@ Id, org.ovirt.engine.core.common.businessentities.Storage@@ Type.@@ IS@@ C@@ SI@@ , connection@@ s@@ )@@ ).get@@ ReturnValue@@ ())); return Is@@ Conn@@ ect@@ Succeeded@@ (@@ validate@@ Connection@@ s, connection@@ s); } return true@@ ; }
protected org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameters get@@ Create@@ Snapshot@@ Parameters@@ () { org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.getParameters().get@@ Vm@@ Id(), "@@ Au@@ to@@ -@@ gener@@ ate@@ d for L@@ i@@ v@@ e Stor@@ age Migration@@ "); params.set@@ Parent@@ Command@@ (VdcActionType.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ ); params.set@@ Snapshot@@ Type(@@ Snapshot@@ Type.@@ RE@@ G@@ U@@ L@@ AR@@ ); params.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.get@@ Parameters@@ ()); params.set@@ Images@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.getParameters().get@@ Images@@ Parameters@@ ()); params.set@@ Task@@ Group@@ Success@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.getParameters().get@@ Task@@ Group@@ Success@@ ()); params.set@@ Disks@@ (get@@ M@@ oved@@ Disks@@ ()); params.set@@ Disk@@ Id@@ sTo@@ I@@ g@@ n@@ ore@@ In@@ Check@@ s@@ (get@@ M@@ oved@@ Disk@@ Id@@ s()); params.set@@ N@@ e@@ e@@ ds@@ Lock@@ ing@@ (@@ false@@ ); params.set@@ Sh@@ oul@@ d@@ Be@@ En@@ ded@@ By@@ Parent@@ (@@ false@@ ); return param@@ s@@ ; }
public static org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Popup@@ Widget@@ Confi@@ g s@@ im@@ ple@@ Fiel@@ d@@ () { return new org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Popup@@ Widget@@ Config@@ (@@ false@@ , false@@ , false@@ , false@@ ); }
private java.util.@@ Local@@ e get@@ Local@@ e@@ From@@ C@@ ook@@ i@@ es(@@ javax.@@ servlet@@ .@@ http@@ .@@ C@@ ook@@ i@@ e@@ [@@ ] c@@ ook@@ i@@ es@@ ) { java.util.@@ Local@@ e local@@ e = null@@ ; if (@@ null != c@@ ook@@ i@@ es@@ ) { for (@@ javax.@@ servlet@@ .@@ http@@ .@@ C@@ ook@@ i@@ e c@@ ook@@ i@@ e : c@@ ook@@ i@@ es@@ ) { if (@@ org.ovirt.engine.core.@@ Local@@ e@@ Fil@@ t@@ er.@@ LO@@ C@@ AL@@ E@@ .@@ equals@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ c@@ ook@@ i@@ e.get@@ Name@@ ())) { local@@ e = org.ovirt.engine.core.utils.@@ Local@@ e@@ Util@@ s.get@@ Local@@ e@@ From@@ String@@ (c@@ ook@@ i@@ e.get@@ Value@@ ()); break@@ ; } } } return local@@ e@@ ; }
private org.ovirt.engine.core.common.action.VdcReturnValue@@ Base execute@@ Command@@ (@@ final org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ ) { org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Contex@@ t contex@@ t = command@@ .get@@ Context@@ (); command@@ .@@ p@@ ers@@ ist@@ Command@@ (command@@ .get@@ Parameters().get@@ Parent@@ Command@@ (), true@@ ); command@@ .@@ int@@ er@@ fac@@ es.@@ Command@@ Call@@ B@@ ack call@@ B@@ ack = command@@ .get@@ Call@@ Back@@ (); if (c@@ all@@ B@@ ack != null@@ ) { cmd@@ Call@@ Back@@ Map.@@ put@@ (command@@ .get@@ Command@@ Id(), call@@ Back@@ ); } org.ovirt.engine.core.common.action.VdcReturnValue@@ Base result = org.ovirt.engine.core.bll.@@ utils.@@ Backend@@ Util@@ s.get@@ Backend@@ Command@@ Object@@ sHandler@@ (org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ Execu@@ t@@ or.@@ log@@ ).@@ run@@ Action@@ (command@@ , null@@ ); update@@ Command@@ (command@@ , result@@ ); if (c@@ all@@ B@@ ack != null@@ ) { call@@ Back@@ .@@ execu@@ ted@@ (@@ result@@ ); } return result@@ ; }
@java.lang.Override public boolean get@@ Is@@ Available@@ () { return ((get@@ Detail@@ Model().get@@ Is@@ N@@ f@@ s(); }
@org.junit.Test public void v@@ lan@@ Id@@ T@@ a@@ k@@ en@@ By@@ S@@ ame@@ Network@@ () throw@@ s java.lang.Exception { network@@ s.add(@@ oth@@ er@@ Network@@ ); }
public static int get@@ Size@@ Of@@ Memory@@ Device@@ M@@ b@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Device memory@@ Device@@ ) { if ((@@ memory@@ Devic@@ e.get@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ Gener@@ al@@ Type.@@ M@@ EM@@ OR@@ Y@@ )) { throw new java.lang.@@ Run@@ time@@ Exception@@ ((((@@ "@@ Mem@@ or@@ y de@@ vic@@ e exp@@ ected bu@@ t de@@ vic@@ e " + memory@@ Device@@ ) + " p@@ ass@@ ed of typ@@ e ") + (m@@ em@@ ory@@ Devic@@ e.get@@ Type@@ ()))); } final java.lang.String size@@ T@@ ex@@ t = ((@@ java.lang.String@@ ) (m@@ em@@ ory@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s().get@@ (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ C@@ ommon@@ Utils.@@ SP@@ EC@@ _P@@ AR@@ A@@ M@@ _@@ SI@@ Z@@ E@@ ))); return java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (s@@ ize@@ Text@@ ); }
@java.lang.Override protected boolean canDoAction@@ () { if (!(@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .is@@ Is@@ csi@@ Multi@@ p@@ ath@@ ing@@ Supported@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ Is@@ csi@@ Bond@@ Command.get@@ StoragePool@@ ().get@@ CompatibilityVersion@@ ()))) { return failCanDoAction@@ (EngineMessage.@@ IS@@ C@@ SI@@ _@@ B@@ ON@@ D_@@ NOT_@@ SUP@@ PORT@@ ED); } org.ovirt.engine.core.bll.validator.@@ Is@@ csi@@ Bond@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ Is@@ csi@@ Bond@@ Validator@@ (); return ((@@ validate@@ (@@ validator.@@ is@@ csi@@ Bond@@ With@@ Th@@ e@@ S@@ ame@@ Name@@ Exist@@ In@@ DataCenter@@ (get@@ Is@@ csi@@ Bond@@ ()))) && (@@ validate@@ (@@ validator.@@ validate@@ Ad@@ ded@@ Log@@ ical@@ Networks@@ (get@@ Is@@ csi@@ Bond@@ ())@@ ))) && (@@ validate@@ (@@ validator.@@ validate@@ Ad@@ ded@@ Storage@@ Connection@@ s@@ (get@@ Is@@ csi@@ Bond@@ ()))); }
public java.util.List<java.lang.String> get@@ Vms@@ Names@@ () { return this@@ .@@ vm@@ s@@ Names@@ ; }
protected void log@@ To@@ Au@@ dit@@ () { if (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Broker@@ CommandBase.get@@ Parameters().get@@ Exp@@ ected@@ Engine@@ Error@@ s().@@ contains@@ (get@@ ReturnValue@@ From@@ Status@@ (get@@ Return@@ Status@@ ()))) { return@@ ; } }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ User@@ .@@ class@@ , to = org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ .@@ class@@ ) public static org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er map@@ (org.ovirt.engine.api.model.@@ Us@@ er model, org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er template@@ ) { org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er enti@@ ty = (@@ templ@@ ate != null@@ ) ? templ@@ ate : new org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ (); if (m@@ odel.@@ isSet@@ Name@@ ()) { entity.set@@ Lo@@ gin@@ Name(@@ model.get@@ Name()); } if (m@@ odel.@@ isSet@@ Id()) { java.lang.String id = model.get@@ Id@@ (); try { java.lang.String int@@ er@@ nal@@ Id = org.ovirt.engine.api.restapi.@@ utils.@@ Direct@@ ory@@ E@@ n@@ try@@ Id@@ Util@@ s.get@@ Internal@@ Id(@@ id@@ ); java.lang.String provider@@ Id = org.ovirt.engine.api.restapi.@@ utils.@@ Direct@@ ory@@ E@@ n@@ try@@ Id@@ Util@@ s.get@@ Provider@@ Id(@@ id@@ ); java.lang.String ex@@ ternal@@ Id = org.ovirt.engine.api.restapi.@@ utils.@@ Direct@@ ory@@ E@@ n@@ try@@ Id@@ Util@@ s.get@@ Id@@ In@@ Direct@@ ory@@ (@@ provider@@ Id); if (@@ int@@ er@@ nal@@ Id@@ .@@ isEmpty@@ ()) { entity.set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); } else { entity.set@@ Id(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (@@ int@@ er@@ nal@@ Id@@ )); } entity.set@@ External@@ Id(@@ ex@@ ternal@@ Id); } catch (@@ org.ovirt.engine.api.restapi.@@ utils.@@ M@@ al@@ for@@ m@@ ed@@ Id@@ Exception ex@@ ce@@ ption@@ ) { } } if (m@@ odel.@@ isSet@@ Domain@@ ()) { org.ovirt.engine.api.model.@@ Domain do@@ ma@@ in = model.get@@ Domain@@ (); if (@@ do@@ m@@ ain@@ .is@@ Set@@ Name@@ ()) { entity.set@@ Domain@@ (@@ do@@ m@@ ain@@ .get@@ Name()); } return entity@@ ; }
protected java.lang.String get@@ Change@@ Password@@ M@@ s@@ g@@ (@@ boolean edit@@ ) throw@@ s java.io.@@ Un@@ sup@@ ported@@ En@@ c@@ od@@ ing@@ Exception@@ , org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ t@@ ool@@ s.@@ Manage@@ Domain@@ s@@ Result { if (!(@@ arg@@ s.@@ contains(@@ org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ t@@ ool@@ s.@@ Manage@@ Domain@@ s@@ Arg@@ um@@ ent@@ s.@@ AR@@ G@@ _C@@ H@@ AN@@ G@@ E_@@ P@@ A@@ SS@@ WOR@@ D_@@ M@@ S@@ G@@ ))) { return null@@ ; } java.lang.String em@@ pty@@ Value@@ D@@ es@@ cri@@ ption = (@@ edit@@ ) ? " (@@ No@@ t provi@@ d@@ ing a valu@@ e w@@ il@@ l c@@ a@@ us@@ e the ex@@ ist@@ ing valu@@ e to b@@ e res@@ et@@ )@@ " : "@@ "; java.lang.String ch@@ ang@@ e@@ Password@@ M@@ s@@ g@@ St@@ r = java.lang.@@ System@@ .@@ con@@ s@@ ole@@ ().@@ read@@ Lin@@ e@@ ((@@ ("@@ P@@ le@@ ase en@@ te@@ r mess@@ age or UR@@ L to app@@ e@@ a@@ r wh@@ e@@ n us@@ er t@@ ri@@ es to log@@ in wit@@ h an exp@@ i@@ re@@ d p@@ assword@@ " + em@@ pty@@ Value@@ Description@@ ) + "@@ :@@ ")); if (((@@ ch@@ ang@@ e@@ Password@@ M@@ s@@ g@@ St@@ r != null@@ ) && ((@@ ch@@ ang@@ e@@ Password@@ M@@ s@@ g@@ Str@@ .@@ in@@ dex@@ Of@@ ("@@ http@@ "@@ )) == 0@@ )) || ((@@ ch@@ ang@@ e@@ Password@@ M@@ s@@ g@@ Str@@ .@@ in@@ dex@@ Of@@ ("@@ http@@ s@@ "@@ )) == 0@@ )) { try { java.@@ net@@ .@@ UR@@ L ur@@ l = new java.@@ net@@ .@@ UR@@ L@@ (@@ ch@@ ang@@ e@@ Password@@ M@@ s@@ g@@ Str@@ ); org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ t@@ ool@@ s.@@ Manage@@ Domain@@ s.@@ log.debug@@ ((@@ ("@@ Validate@@ d th@@ a@@ t " + ur@@ l@@ ) + " is in cor@@ r@@ ect for@@ mat@@ ")); } catch (@@ java.@@ net@@ .@@ M@@ al@@ for@@ m@@ ed@@ UR@@ L@@ Exception ex@@ ) { throw new org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ t@@ ool@@ s.@@ Manage@@ Domain@@ s@@ Result@@ (@@ Manage@@ Domain@@ s@@ Result@@ Enum@@ .@@ IN@@ VALID@@ _@@ AR@@ G@@ U@@ M@@ EN@@ T_@@ VAL@@ U@@ E, "@@ Th@@ e provi@@ de@@ d valu@@ e b@@ e@@ gin@@ s wit@@ h a UR@@ L pre@@ fi@@ x of e@@ ith@@ er h@@ tt@@ or http@@ s@@ . H@@ ow@@ e@@ ve@@ r this is not a val@@ id UR@@ L@@ "); } } return org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ ch@@ ang@@ e@@ Password@@ M@@ s@@ g@@ ) ? java.@@ net@@ .@@ UR@@ L@@ En@@ c@@ od@@ er.@@ enc@@ ode@@ (@@ ch@@ ang@@ e@@ Password@@ M@@ s@@ g@@ , "@@ U@@ T@@ F@@ -@@ 8@@ ") + "@@ "; }
@org.junit.@@ B@@ e@@ for@@ e public void b@@ e@@ for@@ e@@ Class@@ () { org.ovirt.engine.core.bll.@@ Back@@ w@@ ard@@ C@@ ompatibility@@ Task@@ Cre@@ ation@@ Test.@@ Db@@ s test@@ Cl@@ as@@ s = new org.ovirt.engine.core.bll.@@ Back@@ w@@ ard@@ C@@ ompatibility@@ Task@@ Cre@@ ation@@ Test.@@ Db@@ s(); org.@@ mock@@ it@@ o.@@ Mock@@ it@@ o@@ An@@ not@@ ation@@ s.@@ init@@ Mock@@ s(@@ test@@ Class@@ ); org.ovirt.engine.core.dao.@@ AsyncTask@@ DA@@ O async@@ Task@@ D@@ a@@ o = mock@@ (@@ org.ovirt.engine.core.dao.@@ AsyncTask@@ DAO@@ .@@ class@@ ); when(@@ async@@ Task@@ Dao.get@@ All@@ ()).@@ thenReturn(@@ java.util.Collections.@@ EM@@ P@@ TY@@ _@@ L@@ IST@@ ); when(@@ test@@ Class@@ .get@@ DbFacade@@ ().get@@ AsyncTask@@ Dao@@ ()).@@ thenReturn(@@ async@@ Task@@ Dao@@ ); org.ovirt.engine.core.dao.@@ Command@@ Entity@@ D@@ a@@ o cmd@@ Entity@@ D@@ a@@ o = mock@@ (@@ org.ovirt.engine.core.dao.@@ Command@@ Entity@@ Dao@@ .@@ class@@ ); when(@@ test@@ Class@@ .get@@ DbFacade@@ ().get@@ Command@@ Entity@@ Dao@@ ()).@@ then@@ Return@@ (cmd@@ Entity@@ Dao@@ ); when@@ (cmd@@ Entity@@ Dao.get@@ All@@ ()).@@ thenReturn(@@ java.util.Collections.@@ EM@@ P@@ TY@@ _@@ L@@ IST@@ ); }
protected org.ovirt.engine.core.compat.@@ Version get@@ VdsGroup@@ CompatibilityVersion@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Stati@@ c = org.ovirt.engine.core.bll.@@ Vm@@ Management@@ CommandBase.get@@ Parameters().get@@ Vm@@ StaticData@@ (); if ((@@ vm@@ Stati@@ c != null@@ ) && ((@@ vm@@ Static@@ .get@@ VdsGroup@@ Id()) != null@@ )) { return get@@ C@@ ach@@ ed@@ VdsGroup@@ CompatibilityVersion@@ By@@ Id@@ (vm@@ Static@@ .get@@ VdsGroup@@ Id()); } else { return null@@ ; } }
private void add@@ Sp@@ m@@ Stat@@ es(@@ org.ovirt.engine.api.model.@@ Version@@ C@@ ap@@ s version@@ , org.ovirt.engine.api.model.@@ Sp@@ m@@ State@@ [@@ ] valu@@ es@@ ) { if (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Version@@ Utils.@@ g@@ re@@ at@@ er@@ Or@@ E@@ qu@@ al@@ (@@ version@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ Res@@ ource.@@ V@@ ER@@ SI@@ ON_@@ 3@@ _@@ 5@@ )) { org.ovirt.engine.api.model.@@ Sp@@ m@@ State@@ s st@@ ate@@ s = new org.ovirt.engine.api.model.@@ Sp@@ m@@ Stat@@ es@@ (); for (org.ovirt.engine.api.model.@@ Sp@@ m@@ Stat@@ e stat@@ e : valu@@ es@@ ) { stat@@ es@@ .get@@ Sp@@ m@@ State@@ ().@@ add(@@ stat@@ e.@@ value@@ ()); } version@@ .set@@ Sp@@ m@@ Stat@@ es(@@ stat@@ es@@ ); } }
protected void mock@@ Vm@@ Run@@ Handler@@ () { org.ovirt.engine.core.common.businessentities.@@ storage_@@ p@@ oo@@ l s@@ p = new org.ovirt.engine.core.common.businessentities.@@ storage_@@ pool@@ (); sp@@ .set@@ status@@ (@@ StoragePool@@ Status.@@ Up@@ ); when@@ (s@@ p@@ Dao@@ .get(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (s@@ p@@ ); do@@ Return@@ (s@@ p@@ Dao@@ ).when@@ (vm@@ Run@@ Handler@@ ).get@@ StoragePool@@ DAO@@ (); do@@ Return@@ (vm@@ Run@@ Handler@@ ).when@@ (command@@ ).get@@ Vm@@ Run@@ Handler@@ (); do@@ Return@@ (@@ true@@ ).when@@ (vm@@ Run@@ Handler@@ ).@@ validate@@ All@@ Domain@@ s@@ Up@@ (@@ any@@ (org.ovirt.engine.core.bll.@@ validator.@@ Multiple@@ StorageDomain@@ s@@ Validator@@ .@@ class@@ ), any@@ List@@ Of@@ (@@ java.lang.String@@ .@@ class@@ )); do@@ Return@@ (@@ true@@ ).when@@ (vm@@ Run@@ Handler@@ ).@@ validate@@ All@@ Domain@@ s@@ Th@@ resh@@ ol@@ ds@@ (@@ any@@ (org.ovirt.engine.core.bll.@@ validator.@@ Multiple@@ StorageDomain@@ s@@ Validator@@ .@@ class@@ ), any@@ List@@ Of@@ (@@ java.lang.String@@ .@@ class@@ )); do@@ Return@@ (@@ true@@ ).when@@ (vm@@ Run@@ Handler@@ ).@@ p@@ er@@ for@@ m@@ Image@@ Check@@ s@@ For@@ Run@@ ning@@ Vm@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ ), any@@ List@@ Of@@ (@@ java.lang.String@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s@@ .@@ class@@ ), any@@ List@@ Of@@ (org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ .@@ class@@ )); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity oth@@ er = ((org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ ) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((@@ (((@@ java.util.@@ Object@@ s.@@ equals(@@ name@@ , oth@@ er@@ .getName@@ ())) && (java.util.@@ Object@@ s.@@ equals@@ (cluster@@ Id, other.@@ cluster@@ Id@@ ))) && ((@@ volume@@ Type@@ ) == (@@ other.@@ volume@@ Type@@ ))) && ((@@ status@@ ) == (@@ other.@@ status@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ re@@ pl@@ ic@@ a@@ Count@@ , other.@@ re@@ pl@@ ic@@ a@@ Count@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ st@@ ri@@ p@@ e@@ Count@@ , other.@@ st@@ ri@@ p@@ e@@ Count@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ dis@@ p@@ ers@@ e@@ Count@@ , other.@@ dis@@ p@@ ers@@ e@@ Count@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ red@@ un@@ d@@ an@@ c@@ y@@ Count@@ , other.@@ red@@ un@@ d@@ an@@ c@@ y@@ Count@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ ar@@ b@@ iter@@ Count@@ , other.@@ ar@@ b@@ iter@@ Count@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ h@@ ave@@ S@@ ame@@ Element@@ s@@ (get@@ Option@@ s@@ (), oth@@ er@@ .get@@ Option@@ s@@ ()))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ h@@ ave@@ S@@ ame@@ Element@@ s(@@ ac@@ cess@@ Protocol@@ s, other.@@ ac@@ cess@@ Protocol@@ s@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ h@@ ave@@ S@@ ame@@ Element@@ s(@@ trans@@ port@@ Typ@@ es@@ , other.@@ trans@@ port@@ Typ@@ es@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ h@@ ave@@ S@@ ame@@ Element@@ s(@@ brick@@ s, other.@@ brick@@ s@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ async@@ Task@@ , other.@@ async@@ Task@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ ad@@ v@@ ance@@ d@@ Detail@@ s, other.@@ ad@@ v@@ ance@@ d@@ Detail@@ s@@ ))) && (java.util.@@ Object@@ s.@@ equals@@ (s@@ napshot@@ s@@ Count@@ , other.@@ snapshot@@ s@@ Count@@ ))) && (java.util.@@ Object@@ s.@@ equals@@ (s@@ nap@@ Max@@ L@@ im@@ it@@ , other.@@ s@@ nap@@ L@@ im@@ it@@ ))) && (java.util.@@ Object@@ s.@@ equals@@ (s@@ napshot@@ Schedul@@ ed@@ , other.@@ snapshot@@ Schedul@@ ed@@ )); }
static org.ovirt.engine.core.bll.ValidationResult validate@@ Default@@ F@@ l@@ ag@@ Is@@ Not@@ Changed@@ (org.ovirt.engine.core.common.businessentities.@@ Mac@@ Pool m@@ ac@@ Pool@@ From@@ Db@@ , org.ovirt.engine.core.common.businessentities.@@ Mac@@ Pool new@@ MacPool@@ ) { if ((@@ m@@ ac@@ Pool@@ From@@ D@@ b == null@@ ) || (@@ new@@ Mac@@ Pool == null@@ )) { throw new java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ (); } final boolean default@@ Chang@@ ed = (m@@ ac@@ Pool@@ From@@ Db@@ .is@@ Default@@ Pool@@ ()) != (@@ new@@ Mac@@ Poo@@ l.@@ is@@ Default@@ Pool@@ ()); return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ H@@ AN@@ G@@ ING@@ _@@ DE@@ FA@@ U@@ L@@ T_@@ M@@ AC@@ _P@@ O@@ OL@@ _@@ I@@ S_NOT_@@ SUP@@ PORT@@ ED@@ ).when@@ (@@ default@@ Changed@@ ); }
private org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s get@@ Volume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s@@ Entity@@ (@@ int in@@ dex@@ ) { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s enti@@ ty = cont@@ ro@@ l.@@ create@@ Mock@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s@@ .@@ class@@ ); org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Brick@@ Detail@@ s brick@@ Detail@@ s = cont@@ ro@@ l.@@ create@@ Mock@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Brick@@ Detail@@ s@@ .@@ class@@ ); exp@@ ect@@ (@@ brick@@ Detail@@ s.get@@ Brick@@ Properties@@ ()).@@ and@@ Return(@@ cont@@ ro@@ l.@@ create@@ Mock@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Brick@@ Properties@@ .@@ class@@ )).@@ any@@ Tim@@ es@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Brick@@ Detail@@ s> brick@@ Detail@@ s@@ List = java.util.Arrays.as@@ List(@@ brick@@ Detail@@ s); exp@@ ect@@ (@@ entity.get@@ Brick@@ Detail@@ s@@ ()).@@ and@@ Return(@@ brick@@ Detail@@ s@@ List@@ ).@@ any@@ Tim@@ es@@ (); return entity@@ ; }
private boolean is@@ L@@ i@@ b@@ r@@ b@@ d@@ Available@@ () { if (!@@ (org.ovirt.engine.core.bll.storage.@@ C@@ IN@@ D@@ ER@@ Storage@@ Helper.@@ is@@ L@@ i@@ b@@ r@@ b@@ d@@ Avail@@ able(@@ get@@ Vds@@ ()))) { log.error("@@ C@@ oul@@ d@@ n@@ '@@ t fo@@ un@@ d l@@ i@@ b@@ r@@ b@@ d@@ 1 package on vd@@ s {@@ } (@@ ne@@ e@@ de@@ d for C@@ in@@ der stor@@ age do@@ m@@ ain@@ s@@ ).@@ ", get@@ Vds@@ ().get@@ Name()); set@@ Non@@ Operation@@ al@@ (@@ Non@@ Operation@@ al@@ Reason@@ .@@ L@@ I@@ B@@ R@@ B@@ D@@ _P@@ AC@@ K@@ AGE_@@ NOT_@@ A@@ V@@ A@@ IL@@ AB@@ LE@@ , get@@ Vds@@ ()); return false@@ ; } return true@@ ; }
private void new@@ MacPool@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ m@@ ac@@ p@@ oo@@ l.@@ Sh@@ ared@@ MacPool@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ m@@ ac@@ p@@ oo@@ l.@@ Sh@@ ared@@ MacPool@@ Model@@ (@@ this@@ , $@@ mis@@ sing@@ $@@ ); model.set@@ Title(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Constant@@ s@@ ()@@ .@@ new@@ Sh@@ ared@@ MacPool@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ Tag@@ .@@ new@@ _@@ shared@@ _@@ m@@ ac@@ _@@ pool@@ ); model.set@@ Hash@@ Name(@@ "@@ new@@ _@@ shared@@ _@@ m@@ ac@@ _@@ pool@@ "); model.set@@ Help@@ Tag@@ (@@ Help@@ Tag@@ .@@ new@@ _@@ shared@@ _@@ m@@ ac@@ _@@ pool@@ ); set@@ W@@ in@@ do@@ w@@ (model@@ ); }
@org.junit.@@ Test@@ (@@ exp@@ ected = java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ .@@ class@@ ) public void test@@ Get@@ Local@@ e@@ String@@ From@@ Path@@ I@@ l@@ le@@ g@@ al@@ Path@@ () { test@@ Servlet@@ .get@@ Local@@ e@@ String@@ From@@ Path@@ ("@@ in@@ de@@ x.@@ ht@@ ml@@ "); fail@@ ("@@ Sh@@ oul@@ d not ge@@ t h@@ er@@ e.@@ "); }
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { java.lang.@@ B@@ oolean is@@ Un@@ i@@ qu@@ e = ((@@ java.lang.Boolean@@ ) (@@ return@@ Value@@ )); if (((@@ model.get@@ Is@@ New@@ ()) && (!@@ is@@ Un@@ i@@ q@@ ue@@ )) || ((@@ (!(@@ model.get@@ Is@@ New@@ ())) && (!@@ is@@ Un@@ i@@ q@@ ue@@ )) && ((@@ nam@@ e.c@@ omp@@ are@@ To@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ get@@ C@@ urrent@@ Pool@@ ().get@@ Name@@ ())) != 0@@ ))) { model.get@@ Name@@ ().get@@ In@@ valid@@ ity@@ Reason@@ s().@@ add(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ name@@ M@@ ust@@ Be@@ Un@@ i@@ q@@ ue@@ In@@ valid@@ Reason@@ ()); model.get@@ Name@@ ().setIs@@ Valid@@ (@@ false@@ ); model.set@@ Valid@@ Tab@@ (@@ Tab@@ Nam@@ e.@@ G@@ EN@@ ER@@ AL@@ _@@ T@@ AB@@ , false@@ ); return@@ ; } java.lang.String selected@@ C@@ p@@ u = model.get@@ Custom@@ Cpu@@ ().getSelectedItem@@ (); if ((@@ (s@@ elected@@ C@@ p@@ u != null@@ ) && (!@@ (s@@ elected@@ Cpu@@ .@@ isEmpty@@ ()))) && (!(@@ model.get@@ Custom@@ Cpu@@ ().get@@ Item@@ s().@@ contains(@@ selected@@ Cpu@@ )@@ ))) { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model confi@@ rm@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); confi@@ rm@@ Model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ vm@@ Un@@ sup@@ ported@@ Cpu@@ Title@@ ()); confi@@ rm@@ Model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ vm@@ Un@@ sup@@ ported@@ Cpu@@ Message@@ ()); confi@@ rm@@ Model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ edit@@ _@@ un@@ sup@@ ported@@ _@@ cpu@@ ); confi@@ rm@@ Model.set@@ Hash@@ Name@@ ("@@ edit@@ _@@ un@@ sup@@ ported@@ _@@ cpu@@ "); confi@@ rm@@ Model.get@@ Command@@ s().@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ S@@ ave@@ _P@@ h@@ ase@@ 2@@ ", this@@ )@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ())@@ .set@@ Is@@ Default@@ (@@ true@@ )); confi@@ rm@@ Model.get@@ Command@@ s().@@ add(@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Cancel@@ U@@ i@@ Command@@ ("@@ Cancel@@ Confirmation@@ ", this@@ )); set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ confi@@ rm@@ Model@@ ); } else { on@@ S@@ ave@@ (); } }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se ap@@ pro@@ ve@@ (org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if ((@@ action.@@ isSet@@ Cluster@@ ()) && ((@@ action@@ .get@@ Cluster@@ ().is@@ Set@@ Id()) || (@@ action@@ .get@@ Cluster@@ ().is@@ Set@@ Name@@ ()))) { update@@ (@@ set@@ Cluster@@ (get@@ (), action@@ .get@@ Cluster@@ ())); } validate@@ Enum@@ s(@@ org.ovirt.engine.api.model.@@ Action@@ .@@ class@@ , action@@ ); org.ovirt.engine.core.common.action.@@ Ap@@ pro@@ ve@@ Vds@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Ap@@ pro@@ ve@@ Vds@@ Parameters(@@ g@@ uid@@ ); param@@ s = ((@@ org.ovirt.engine.core.common.action.@@ Ap@@ pro@@ ve@@ Vds@@ Parameters@@ ) (get@@ Map@@ per@@ (org.ovirt.engine.api.model.@@ Action@@ .@@ class@@ , org.ovirt.engine.core.common.action.@@ Vds@@ Operation@@ Action@@ Parameters@@ .@@ class@@ )@@ .m@@ ap@@ (@@ action@@ , ((@@ org.ovirt.engine.core.common.action.@@ Vds@@ Operation@@ Action@@ Parameters@@ ) (@@ param@@ s@@ )@@ ))); params.set@@ Auth@@ Method@@ (@@ Vds@@ Operation@@ Action@@ Parameter@@ s.@@ Auth@@ entic@@ ation@@ Method@@ .@@ P@@ ubl@@ ic@@ Key@@ ); return do@@ Action(VdcActionType.@@ Ap@@ pro@@ ve@@ Vds@@ , param@@ s, action@@ ); }
@java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { List<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > r@@ ng@@ Device@@ s = return@@ Value.get@@ ReturnValue@@ (); getModel().get@@ Is@@ R@@ ng@@ Enabled@@ ().set@@ Entity@@ ((!@@ (r@@ ng@@ Devic@@ es.@@ isEmpty@@ ()))); if (!(@@ r@@ ng@@ Devic@@ es.@@ isEmpty@@ ())) { org.ovirt.engine.core.common.businessentities.Vm@@ R@@ ng@@ Device r@@ ng@@ Device = new org.ovirt.engine.core.common.businessentities.Vm@@ R@@ ng@@ Device@@ (r@@ ng@@ Devices@@ .get(@@ 0@@ )); get@@ Model@@ ().set@@ R@@ ng@@ Device@@ (r@@ ng@@ Device@@ ); } }
private void re@@ gist@@ er@@ All@@ Ovf@@ Disk@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > ovf@@ St@@ ore@@ Disk@@ Images@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ DiskImage ovf@@ St@@ ore@@ DiskImage : ovf@@ St@@ ore@@ Disk@@ Images@@ ) { ovf@@ St@@ ore@@ Disk@@ Im@@ age.@@ set@@ Disk@@ Alias@@ (@@ Ovf@@ Info@@ File@@ Constants.@@ Ovf@@ St@@ ore@@ Description@@ Label@@ ); ovf@@ St@@ ore@@ Disk@@ Im@@ age.@@ set@@ Disk@@ Description@@ (@@ Ovf@@ Info@@ File@@ Constants.@@ Ovf@@ St@@ ore@@ Description@@ Label@@ ); ovf@@ St@@ ore@@ Disk@@ Im@@ age.@@ set@@ Sh@@ are@@ able@@ (@@ true@@ ); org.ovirt.engine.core.common.action.@@ Re@@ gist@@ er@@ Disk@@ Parameters re@@ gist@@ er@@ Disk@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Re@@ gist@@ er@@ Disk@@ Parameters(@@ ovf@@ St@@ ore@@ DiskImage@@ , org.ovirt.engine.core.bll.storage.@@ Attach@@ StorageDomain@@ To@@ Pool@@ Command.getParameters().get@@ StorageDomain@@ Id()); boolean re@@ gist@@ er@@ Disk@@ Result = run@@ Internal@@ Action(VdcActionType.@@ Re@@ gist@@ er@@ Disk@@ , re@@ gist@@ er@@ Disk@@ Param@@ s, org.ovirt.engine.core.bll.storage.@@ Attach@@ StorageDomain@@ To@@ Pool@@ Command.@@ cl@@ one@@ Context@@ ())@@ .get@@ Succeeded@@ (); log.info@@ Format@@ ("@@ Re@@ gist@@ er new float@@ ing OV@@ F@@ _@@ STOR@@ E dis@@ k wit@@ h dis@@ k wit@@ h dis@@ k wit@@ h dis@@ k wit@@ wit@@ h dis@@ k {0@@ } for stor@@ age do@@ ma@@ in {@@ 1@@ } ha@@ s {@@ 2@@ }@@ ", ovf@@ St@@ ore@@ Disk@@ Image.get@@ Id(), org.ovirt.engine.core.bll.storage.@@ Attach@@ StorageDomain@@ To@@ Pool@@ Command.getParameters().get@@ StorageDomain@@ Id(), (@@ re@@ gist@@ er@@ Disk@@ Result ? "@@ s@@ uc@@ ceeded@@ " : "@@ fail@@ ed@@ ")); if (@@ re@@ gist@@ er@@ Disk@@ Result@@ ) { log.info@@ Format@@ ("@@ Add@@ ing OV@@ F@@ _@@ STOR@@ E dis@@ k wit@@ h dis@@ k id {0@@ } to stor@@ age do@@ ma@@ in {@@ 1@@ }@@ ", ovf@@ St@@ ore@@ Disk@@ Image.get@@ Id(), org.ovirt.engine.core.bll.storage.@@ Attach@@ StorageDomain@@ To@@ Pool@@ Command.getParameters().get@@ StorageDomain@@ Id()); add@@ Ovf@@ St@@ ore@@ Disk@@ To@@ Domain@@ (@@ ovf@@ St@@ ore@@ DiskImage@@ ); } } }
@org.junit.Test public void t@@ es@@ tr@@ un@@ Multiple@@ Action@@ s@@ _@@ 1@@ action@@ () { java.util.List<@@ org.ovirt.engine.core.common.action.VdcAction@@ Type@@ > action@@ Type@@ s = new java.util.ArrayList<>(); action@@ Typ@@ es.@@ add(@@ Vdc@@ ActionType.@@ Add@@ Disk@@ ); java.util.List<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > test@@ Parameters = new java.util.ArrayList<>(); test@@ Parameter@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ ()); java.util.List<@@ org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Action@@ AsyncCallback@@ > call@@ back@@ s = new java.util.ArrayList<>(); call@@ back@@ s.add(@@ mock@@ Action@@ Callback@@ ); frontend.@@ run@@ Multiple@@ Action@@ s(@@ action@@ Typ@@ es@@ , test@@ Parameters@@ , call@@ back@@ s, mock@@ Action@@ Fail@@ ure@@ Callback@@ , test@@ State@@ ); ve@@ r@@ if@@ y@@ (m@@ ock@@ Service@@ ).@@ run@@ Action@@ (@@ e@@ q@@ (VdcActionType.@@ Add@@ Disk@@ ), e@@ q@@ (@@ test@@ Parameters@@ .get(@@ 0@@ )@@ ), call@@ back@@ Action@@ .@@ c@@ ap@@ t@@ ure@@ ()); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value = new org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ (); return@@ Valu@@ e.set@@ Valid@@ (@@ true@@ ); return@@ Valu@@ e.set@@ Succeeded@@ (@@ true@@ ); call@@ back@@ Action@@ .get@@ Value@@ ().@@ onSuccess@@ (@@ return@@ Value@@ ); ve@@ r@@ if@@ y@@ (m@@ ock@@ Action@@ Callback@@ ).@@ execu@@ ted@@ (c@@ all@@ back@@ Param@@ .@@ c@@ ap@@ t@@ ure@@ ()); assert@@ Equals@@ (c@@ all@@ back@@ Param@@ .get@@ Value@@ ().get@@ ReturnValue@@ (), return@@ Value@@ ); assert@@ Equals@@ ("@@ List s@@ iz@@ e shoul@@ d b@@ e 0@@ ", 0@@ , action@@ Typ@@ es.@@ size@@ ()); assert@@ Equals@@ ("@@ List s@@ iz@@ e shoul@@ d b@@ e 0@@ ", 0@@ , test@@ Parameter@@ s.@@ size@@ ()); assert@@ Equals@@ ("@@ List s@@ iz@@ e shoul@@ d b@@ e 0@@ ", 0@@ , call@@ back@@ s.@@ size@@ ()); ve@@ r@@ if@@ y@@ Async@@ Action@@ St@@ ar@@ ted@@ And@@ Succeeded@@ (); }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") public void on@@ Dis@@ c@@ o@@ ver@@ () { java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > m@@ ul@@ i@@ ple@@ Action@@ Parameters = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); org.ovirt.engine.core.compat.Guid dc@@ Id = ((org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ ) (get@@ Data@@ C@@ ent@@ ers@@ ().getSelectedItem@@ ())@@ ).get@@ Id@@ (); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ provider@@ s.@@ External@@ Network ex@@ ternal@@ Network : ((@@ java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ provider@@ s.@@ External@@ Network@@ >) (get@@ Network@@ List@@ ().get@@ Item@@ s@@ ()))) { if (@@ ex@@ ternal@@ Network@@ .is@@ Attached@@ ()) { ex@@ ternal@@ Network@@ .get@@ Network@@ ().set@@ DataCenter@@ Id(@@ dc@@ Id); org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters(@@ dc@@ Id, ex@@ ternal@@ Network@@ .get@@ Network@@ ()); params.set@@ P@@ ubl@@ ic@@ Us@@ e(@@ ex@@ ternal@@ Network@@ .is@@ P@@ ubl@@ ic@@ U@@ se@@ ()); m@@ ul@@ i@@ ple@@ Action@@ Parameter@@ s.add(@@ param@@ s); } } org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Multiple@@ Action(VdcActionType.@@ Add@@ Network@@ , m@@ ul@@ i@@ ple@@ Action@@ Parameters@@ ); cancel@@ (); }
public static boolean ve@@ r@@ if@@ y@@ AddVm@@ (@@ java.util.List<java.lang.String> re@@ ason@@ s, int nic@@ s@@ Count@@ , int vm@@ P@@ ri@@ or@@ ity@@ , org.ovirt.engine.core.bll.network.@@ MacPool@@ Manager@@ Str@@ ate@@ g@@ y m@@ ac@@ Pool@@ ) { boolean return@@ Value = true@@ ; if ((@@ m@@ ac@@ Pool@@ .get@@ Available@@ Mac@@ s@@ Count@@ ()) < nic@@ s@@ Count@@ ) { if (@@ re@@ ason@@ s != null@@ ) { re@@ ason@@ s.add(@@ VdcBllMessages.@@ M@@ AC@@ _P@@ O@@ OL@@ _@@ NOT_@@ E@@ NO@@ U@@ G@@ H@@ _@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ SS@@ ES@@ .@@ toString()); } return@@ Value = false@@ ; } else if (!@@ (org.ovirt.engine.core.bll.@@ VmTemplate@@ Command.@@ is@@ Vm@@ P@@ ri@@ or@@ ity@@ Value@@ Le@@ g@@ al@@ (vm@@ P@@ ri@@ or@@ ity@@ , re@@ ason@@ s@@ ))) { return@@ Value = false@@ ; } return return@@ Value@@ ; }
public void get@@ Host@@ List@@ By@@ Status(@@ org.ovirt.engine.ui.frontend.Async@@ Query@@ <@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >> aQuery@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status status@@ , boolean do@@ Re@@ fresh@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ List@@ Conver@@ ter@@ (); org.ovirt.engine.core.common.queries.@@ Search@@ Parameters search@@ Parameters = new org.ovirt.engine.core.common.queries.@@ Search@@ Parameters@@ ((@@ "@@ Host@@ : " + (@@ stat@@ u@@ s == null ? "@@ " : "@@ status@@ =@@ " + (@@ stat@@ u@@ s.@@ name@@ ())@@ )@@ ), org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ Search@@ Type.@@ VDS@@ ); search@@ Parameter@@ s.set@@ Max@@ Count@@ (@@ 9@@ 9@@ 9@@ 9@@ 9@@ 9@@ 9@@ 9@@ 9@@ 9@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.@@ Search@@ , (@@ do@@ Re@@ f@@ res@@ h ? search@@ Parameters : search@@ Parameter@@ s.@@ with@@ out@@ Re@@ fresh@@ ()), aQuery@@ ); }
public org.ovirt.engine.ui.uicommonweb.models.@@ provider@@ s.@@ N@@ e@@ u@@ tr@@ on@@ Agent@@ Model get@@ N@@ e@@ u@@ tr@@ on@@ Agent@@ Model@@ () { return ne@@ u@@ tr@@ on@@ Agent@@ Model@@ ; }
@org.junit.Test public void test@@ B@@ reak@@ ing@@ Existing@@ Bond@@ With@@ Network@@ Attached@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent network@@ Attachm@@ ent = org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Operation@@ .@@ new@@ NetworkAttachment@@ (network@@ A@@ , existing@@ Bond@@ , null@@ , data@@ From@@ Host@@ SetupNetworks@@ Model.@@ network@@ sTo@@ Sync@@ , null@@ ); existing@@ NetworkAttachment@@ s.add(@@ network@@ Attachment@@ ); when(@@ log@@ ical@@ Network@@ Model@@ Of@@ Network@@ A@@ .@@ has@@ V@@ lan@@ ()).@@ then@@ Return@@ (@@ false@@ ); when(@@ log@@ ical@@ Network@@ Model@@ Of@@ Network@@ A@@ .is@@ Attached@@ ()).@@ then@@ Return@@ (@@ true@@ ); when(@@ log@@ ical@@ Network@@ Model@@ Of@@ Network@@ A@@ .get@@ Attached@@ To@@ Nic@@ ()).@@ thenReturn(@@ network@@ Interface@@ Model@@ Of@@ Nic@@ A@@ ); when(@@ bond@@ Network@@ Interface@@ Model@@ A@@ .get@@ Item@@ s@@ ()).@@ thenReturn(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ log@@ ical@@ Network@@ Model@@ Of@@ Network@@ A@@ )); when(@@ bond@@ Network@@ Interface@@ Model@@ A@@ .get@@ I@@ fac@@ e@@ ()).@@ thenReturn(@@ existing@@ Bond@@ ); Network@@ Oper@@ ation.@@ B@@ RE@@ A@@ K_@@ B@@ ON@@ D@@ .get@@ T@@ arget@@ ().execute@@ Network@@ Command(@@ bond@@ Network@@ Interface@@ Model@@ A@@ , null@@ , data@@ From@@ Host@@ SetupNetworks@@ Model@@ ); assert@@ That@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ d@@ if@@ i@@ ed@@ NetworkAttachment@@ s.@@ size@@ (), is@@ (0@@ )); assert@@ That@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model.@@ rem@@ oved@@ NetworkAttachment@@ s.@@ size@@ (), is@@ (@@ 1@@ )); org.ovirt.engine.core.compat.Guid rem@@ oved@@ NetworkAttachment@@ Id = data@@ From@@ Host@@ SetupNetworks@@ Model.@@ rem@@ oved@@ NetworkAttachment@@ s.@@ iter@@ ator@@ ().@@ ne@@ xt@@ ().get@@ Id@@ (); assert@@ That@@ ("@@ id mis@@ mat@@ ch@@ ", rem@@ oved@@ NetworkAttachment@@ Id, null@@ Value@@ ()); assert@@ That@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bond@@ s.@@ size@@ (), is@@ (0@@ )); assert@@ That@@ (@@ data@@ From@@ Host@@ SetupNetworks@@ Model.@@ rem@@ oved@@ Bond@@ s.@@ size@@ (), is@@ (@@ 1@@ )); org.ovirt.engine.core.compat.Guid rem@@ oved@@ Bond@@ Id = data@@ From@@ Host@@ SetupNetworks@@ Model.@@ rem@@ oved@@ Bond@@ s.@@ iter@@ ator@@ ().@@ ne@@ xt@@ ().get@@ Id@@ (); assert@@ That@@ ("@@ id mis@@ mat@@ ch@@ ", rem@@ oved@@ Bond@@ Id, is@@ (@@ existing@@ Bond@@ .getId@@ ())); }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") public void init@@ Model@@ S@@ ort@@ Handler@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ S@@ or@@ ted@@ ListModel@@ <@@ T@@ > s@@ or@@ ted@@ Model) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Column@@ Res@@ ize@@ C@@ el@@ l@@ T@@ abl@@ e.@@ add@@ Column@@ S@@ ort@@ Handler@@ (@@ ( event@@ ) -@@ > ap@@ pl@@ y@@ S@@ ort@@ (@@ event@@ , s@@ or@@ ted@@ Model@@ )); }
@java.lang.Override public java.lang.Object get@@ Query@@ able@@ Id@@ () { return query@@ able@@ Id@@ ; }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > get@@ All@@ Interfaces@@ For@@ VdsGroup@@ (org.ovirt.engine.core.compat.Guid vds@@ Group@@ Id) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ vds@@ _@@ group@@ _id", vds@@ Group@@ Id); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Ge@@ t@@ int@@ er@@ fac@@ e@@ _@@ view@@ By@@ VdsGroup@@ Id@@ ", org.ovirt.engine.core.dao.@@ network.@@ Interface@@ Dao@@ DbFacade@@ Impl.@@ vds@@ Network@@ Interface@@ Row@@ Map@@ per@@ , parameter@@ Source@@ ); }
void init@@ T@@ able(@@ org.ovirt.engine.ui.webadmin.@@ Ap@@ plication@@ Constant@@ s const@@ an@@ t@@ s) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Text@@ Column@@ With@@ T@@ ooltip@@ <org.ovirt.engine.core.common.businessentities.@@ event@@ _@@ sub@@ s@@ cri@@ ber@@ > event@@ Name@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Enum@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ event@@ _@@ sub@@ s@@ cri@@ ber@@ , org.ovirt.engine.core.common.@@ AuditLog@@ Type@@ >() { @java.lang.Override protected org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ Ra@@ w@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ event@@ _@@ sub@@ s@@ cri@@ b@@ er object@@ ) { return java.lang.@@ Enum@@ .@@ value@@ Of@@ (org.ovirt.engine.core.common.@@ AuditLog@@ Type@@ .@@ class@@ , objec@@ t.get@@ event@@ _@@ up@@ _@@ name@@ ()); } }; event@@ Name@@ Column@@ .m@@ a@@ ke@@ S@@ ort@@ able@@ (@@ new java.util.@@ Comp@@ ar@@ ator@@ <org.ovirt.engine.core.common.businessentities.@@ event@@ _@@ sub@@ s@@ cri@@ ber@@ >() { @java.lang.Override public int comp@@ ar@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ event@@ _@@ sub@@ s@@ cri@@ b@@ er o@@ 1, org.ovirt.engine.core.common.businessentities.@@ event@@ _@@ sub@@ s@@ cri@@ b@@ er o@@ 2@@ ) { return new org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ ator@@ s.@@ L@@ ex@@ o@@ Num@@ er@@ ic@@ Comp@@ ar@@ ator@@ ().@@ comp@@ ar@@ e(@@ o@@ 1@@ .get@@ event@@ _@@ up@@ _@@ name@@ (), o@@ 2@@ .get@@ event@@ _@@ up@@ _@@ name@@ ()); } }); get@@ T@@ able@@ ().add@@ Column@@ (@@ event@@ Name@@ Column@@ , const@@ an@@ t@@ s.@@ event@@ Name@@ Event@@ No@@ t@@ if@@ i@@ er@@ ()); get@@ T@@ able@@ ().add@@ Action@@ Button@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ action.@@ W@@ eb@@ Ad@@ min@@ Button@@ De@@ fin@@ ition@@ <org.ovirt.engine.core.common.businessentities.@@ event@@ _@@ sub@@ s@@ cri@@ ber@@ >@@ (@@ const@@ an@@ t@@ s.@@ manage@@ Event@@ s@@ Event@@ No@@ t@@ if@@ i@@ er@@ ()) { @java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return get@@ Detail@@ Model().get@@ Manage@@ Event@@ s@@ Command@@ (); } }); }
private X@@ ml@@ Nod@@ e get@@ Node@@ (@@ org.ovirt.engine.core.compat.@@ back@@ end@@ c@@ ompat.@@ X@@ ml@@ Node@@ List n@@ ode@@ List@@ , java.lang.String att@@ ri@@ bu@@ te@@ Name, java.lang.String att@@ ri@@ bu@@ te@@ Value@@ ) { for (@@ X@@ ml@@ Nod@@ e s@@ ec@@ tion : n@@ ode@@ List@@ ) { java.lang.String valu@@ e = s@@ ection@@ .@@ Att@@ ri@@ b@@ ut@@ es@@ .get(@@ att@@ ri@@ bu@@ te@@ Name@@ ).get@@ Value@@ (); if (@@ valu@@ e.@@ equals(@@ att@@ ri@@ bu@@ te@@ Value@@ )) { return s@@ ection@@ ; } } return null@@ ; }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.api.model.@@ Statistic@@ > get@@ Statistic@@ s@@ (org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface if@@ ac@@ e) { org.ovirt.engine.core.common.businessentities.network.Network@@ Statistic@@ s s s = if@@ ac@@ e.get@@ Statistic@@ s(); return as@@ List(@@ set@@ Dat@@ um@@ (@@ cl@@ on@@ e(@@ org.ovirt.engine.api.restapi.resource.@@ Nic@@ Statistic@@ al@@ Query@@ .@@ D@@ AT@@ A@@ _@@ R@@ X@@ ), org.ovirt.engine.api.restapi.@@ util.@@ R@@ x@@ T@@ x@@ C@@ al@@ c@@ ul@@ ator.@@ c@@ al@@ c@@ R@@ x@@ T@@ x@@ (@@ if@@ ac@@ e.get@@ Sp@@ e@@ ed@@ (), s.get@@ Rec@@ e@@ ive@@ R@@ ate@@ ())@@ ), set@@ Dat@@ um@@ (@@ cl@@ on@@ e(@@ org.ovirt.engine.api.restapi.resource.@@ Nic@@ Statistic@@ al@@ Query@@ .@@ D@@ AT@@ A@@ _@@ T@@ X@@ ), org.ovirt.engine.api.restapi.@@ util.@@ R@@ x@@ T@@ x@@ C@@ al@@ c@@ ul@@ ator.@@ c@@ al@@ c@@ R@@ x@@ T@@ x@@ (@@ if@@ ac@@ e.get@@ Sp@@ e@@ ed@@ (), s.get@@ Trans@@ m@@ it@@ R@@ ate@@ ())@@ ), set@@ Dat@@ um@@ (@@ cl@@ on@@ e(@@ org.ovirt.engine.api.restapi.resource.@@ Nic@@ Statistic@@ al@@ Query@@ .@@ ER@@ R@@ S_@@ R@@ X@@ ), s.get@@ Rec@@ e@@ ive@@ D@@ ro@@ p@@ R@@ ate@@ ()), set@@ Dat@@ um@@ (@@ cl@@ on@@ e(@@ org.ovirt.engine.api.restapi.resource.@@ Nic@@ Statistic@@ al@@ Query@@ .@@ ER@@ R@@ S_@@ T@@ X@@ ), s.get@@ Trans@@ m@@ it@@ D@@ ro@@ p@@ R@@ ate@@ ())); }
public org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.String> get@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ () { return private@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ; }
private void pro@@ p@@ ag@@ ate@@ Internal@@ Command@@ Fail@@ ure(@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base int@@ er@@ nal@@ ReturnValue@@ ) { org.ovirt.engine.core.bll.storage.disk.@@ Update@@ Vm@@ Disk@@ Command.get@@ ReturnValue().get@@ Execu@@ te@@ Fail@@ ed@@ Messages@@ ().@@ cl@@ e@@ ar@@ (); org.ovirt.engine.core.bll.storage.disk.@@ Update@@ Vm@@ Disk@@ Command.get@@ ReturnValue().get@@ Execu@@ te@@ Fail@@ ed@@ Messages@@ ().add@@ All@@ (@@ int@@ er@@ nal@@ Return@@ Value.get@@ Execu@@ te@@ Fail@@ ed@@ Messages@@ ()); org.ovirt.engine.core.bll.storage.disk.@@ Update@@ Vm@@ Disk@@ Command.get@@ ReturnValue@@ ().set@@ F@@ a@@ ult@@ (@@ int@@ er@@ nal@@ Return@@ Value.get@@ F@@ a@@ ult@@ ()); org.ovirt.engine.core.bll.storage.disk.@@ Update@@ Vm@@ Disk@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ ().@@ cl@@ e@@ ar@@ (); org.ovirt.engine.core.bll.storage.disk.@@ Update@@ Vm@@ Disk@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ ().add@@ All@@ (@@ int@@ er@@ nal@@ Return@@ Value.get@@ Validation@@ Messages@@ ()); org.ovirt.engine.core.bll.storage.disk.@@ Update@@ Vm@@ Disk@@ Command.get@@ ReturnValue@@ ().set@@ Valid@@ (@@ int@@ er@@ nal@@ Return@@ Value.get@@ Validation@@ ()); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ > get@@ AllFor@@ StoragePool@@ (org.ovirt.engine.core.compat.Guid id@@ ) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ storage@@ _@@ do@@ m@@ ain@@ _@@ static@@ By@@ storage_@@ pool@@ _id", org.ovirt.engine.core.dao.@@ StorageDomain@@ Static@@ Dao@@ Impl.@@ StorageDomain@@ Static@@ Row@@ Mapper.@@ instance@@ , get@@ StoragePool@@ Id@@ Parameter@@ Source@@ (@@ id@@ )); }
public int remove@@ By@@ Vds@@ m@@ Task@@ Id@@ (@@ final org.ovirt.engine.core.compat.Guid vds@@ m@@ Task@@ Id) { return org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Requi@@ red@@ , new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.Integer@@ >() { @java.lang.Override public java.lang.Integ@@ er run@@ In@@ Transaction@@ () { org.ovirt.engine.core.common.businessentities.@@ Async@@ T@@ as@@ k async@@ T@@ as@@ k = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ AsyncTask@@ Dao().get@@ By@@ Vds@@ m@@ Task@@ Id(@@ vds@@ m@@ Task@@ Id); int ret@@ V@@ al = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ AsyncTask@@ Dao().@@ remove@@ By@@ Vds@@ m@@ Task@@ Id(@@ vds@@ m@@ Task@@ Id); if (@@ shoul@@ d@@ Remove@@ Command(@@ async@@ Task@@ )) { c@@ oc@@ o.@@ remove@@ Command(@@ async@@ Task@@ .get@@ Command@@ Id()); if (!@@ (c@@ oc@@ o.@@ has@@ Command@@ Enti@@ ties@@ With@@ R@@ oot@@ Command@@ Id(@@ async@@ Task@@ .get@@ R@@ oot@@ Command@@ Id@@ ()))) { c@@ oc@@ o.@@ remove@@ Command(@@ async@@ Task@@ .get@@ R@@ oot@@ Command@@ Id()); } } return ret@@ Val@@ ; } }); }
public void set@@ Status@@ (org.ovirt.engine.core.compat.Guid cluster@@ Id, final java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ > network@@ s) { for (org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork : network@@ s) { org.ovirt.engine.core.common.businessentities.network.Network@@ C@@ luster network@@ C@@ luster = network@@ Cluster@@ Dao.get@@ (@@ new org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ Id@@ (cluster@@ Id, network@@ .getId@@ ())); boolean do@@ Update@@ Network@@ Cluster@@ Status = network@@ C@@ luster != null@@ ; if (@@ do@@ Update@@ Network@@ Cluster@@ Status@@ ) { if (network@@ C@@ luster.@@ is@@ Requi@@ red@@ ()) { update@@ Status@@ Of@@ Requi@@ red@@ Network@@ Cluster@@ (network@@ Cluster@@ , network@@ .get@@ Name()); } else { update@@ Network@@ Cluster@@ Status@@ (network@@ Cluster@@ , Network@@ Status.@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ AL@@ ); } } } }
private org.ovirt.engine.core.common.businessentities.network.@@ Network get@@ O@@ l@@ d@@ Network@@ () { if ((@@ old@@ Network@@ ) == null@@ ) { old@@ Network = get@@ Network@@ By@@ Id@@ (get@@ Networks@@ ()); } return old@@ Network@@ ; }
private void validate@@ () { if (@@ super@@ .@@ validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (@@ new org.ovirt.engine.core.common.action.@@ Id@@ Query@@ Parameters(@@ as@@ Guid@@ (@@ provider@@ Id@@ )@@ ), new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >@@ (@@ new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >@@ (@@ provider@@ Id@@ )); }
@java.lang.Override public java.lang.String get@@ Value@@ (java.lang.Object object@@ ) { return java.lang.String.@@ value@@ Of@@ (((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ Data@@ ) (@@ object@@ )@@ ).get@@ Vm().get@@ Cluster@@ Ar@@ ch@@ ()); }
public org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ fil@@ t@@ er.@@ Event get@@ Event@@ () { return event@@ ; }
@@@ javax.@@ an@@ not@@ ation.@@ P@@ ost@@ Con@@ struc@@ t public void initial@@ ize@@ () { org.ovirt.engine.core.bll.@@ job.@@ Job@@ Rep@@ os@@ it@@ ory@@ C@@ le@@ an@@ up@@ Manager.@@ log.info@@ ("@@ St@@ ar@@ t initial@@ iz@@ ing {}@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); s@@ uc@@ ceeded@@ Job@@ Tim@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Succeeded@@ Job@@ C@@ le@@ an@@ up@@ Time@@ In@@ M@@ in@@ ut@@ es@@ ); fail@@ ed@@ Job@@ Tim@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Fail@@ ed@@ Job@@ C@@ le@@ an@@ up@@ Time@@ In@@ M@@ in@@ ut@@ es@@ ); java.lang.Integ@@ er cl@@ e@@ an@@ up@@ F@@ re@@ qu@@ enc@@ y = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Job@@ C@@ le@@ an@@ up@@ R@@ ate@@ In@@ M@@ in@@ ut@@ es@@ ); execu@@ t@@ or.@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ Del@@ ay@@ ((@@ ) -@@ > cl@@ e@@ an@@ Comp@@ let@@ ed@@ Job@@ (), cl@@ e@@ an@@ up@@ F@@ re@@ qu@@ enc@@ y@@ , cl@@ e@@ an@@ up@@ F@@ re@@ qu@@ enc@@ y@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ ES@@ ); org.ovirt.engine.core.bll.@@ job.@@ Job@@ Rep@@ os@@ it@@ ory@@ C@@ le@@ an@@ up@@ Manager.@@ log.info@@ ("@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing {}@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); }
@@@ org.ovirt.engine.core.utils.@@ tim@@ er.@@ On@@ Tim@@ er@@ Method@@ An@@ not@@ ation@@ ("@@ re@@ fresh@@ Gluster@@ Ser@@ vic@@ es@@ ") public void re@@ fresh@@ Gluster@@ Ser@@ vic@@ es@@ () { if (get@@ Service@@ Name@@ Map@@ ().is@@ Empty@@ ()) { p@@ op@@ ul@@ ate@@ Service@@ Map@@ (); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > cluster@@ s = get@@ Cluster@@ Dao().get@@ All@@ (); for (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster : c@@ lust@@ ers@@ ) { if (s@@ up@@ port@@ s@@ Gluster@@ Ser@@ vic@@ es@@ Feat@@ ure(@@ cluster@@ )) { try { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > server@@ s@@ List = get@@ Cluster@@ Util@@ s().get@@ All@@ Server@@ s@@ (cluster@@ .getId()); if (@@ server@@ s@@ List.@@ isEmpty@@ ()) { java.util.Map<@@ org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Service@@ Type, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status@@ > status@@ Map = new java.util.HashMap<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Service@@ Type typ@@ e : get@@ Cluster@@ Service@@ Map@@ (cluster@@ ).@@ key@@ Set@@ ()) { status@@ Map.@@ put(@@ type@@ , Gluster@@ Service@@ Status.@@ UN@@ K@@ NO@@ W@@ N@@ ); } add@@ Or@@ Update@@ Cluster@@ Ser@@ vic@@ es@@ (cluster@@ , status@@ Map@@ ); } else { java.util.List<@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Call@@ able@@ <@@ java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status@@ >@@ >> task@@ List = create@@ Task@@ List(@@ server@@ s@@ List@@ ); if ((@@ task@@ List != null@@ ) && ((@@ task@@ List.@@ size()) > 0@@ )) { re@@ fresh@@ Cluster@@ Ser@@ vic@@ es@@ (cluster@@ , org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ in@@ vo@@ ke@@ All@@ (@@ task@@ List@@ )); } } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Service@@ Sync@@ Job@@ .@@ log.error("@@ E@@ r@@ ro@@ r while re@@ fresh@@ ing ser@@ vic@@ e status@@ es of c@@ luster '{}@@ '@@ !@@ ", cluster@@ .get@@ Name()); org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Service@@ Sync@@ Job@@ .@@ log.error("@@ Exception@@ ", e); } } } } } } }
@java.lang.Override public int hash@@ Code@@ () { return java.util.@@ Object@@ s.@@ hash@@ (vm@@ Dynamic@@ , vm@@ G@@ u@@ est@@ Agent@@ Interfaces@@ , vm@@ Statistic@@ s, lun@@ s@@ Map@@ , int@@ er@@ fac@@ e@@ Statistic@@ s, v@@ Numa@@ Node@@ Statistic@@ s@@ List@@ , disk@@ Statistic@@ s); }
@java.lang.Override protected java.lang.String get@@ Text@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ F@@ op@@ Stat@@ s entity@@ ) { return ((@@ entity.get@@ M@@ in@@ L@@ at@@ enc@@ y@@ Format@@ ted@@ ().get@@ F@@ ir@@ st@@ ()) + " ") + (@@ entity.get@@ M@@ in@@ L@@ at@@ enc@@ y@@ Format@@ ted@@ ().get@@ Sec@@ ond@@ ()); }
private void on@@ S@@ ave@@ Confirm@@ C@@ V@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Model model@@ ) { if (!(@@ model.get@@ Version@@ ().getSelectedItem@@ ().@@ equals(@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ List@@ Model.get@@ SelectedItem@@ ().get@@ c@@ ompatibility@@ _@@ version@@ ()))) { final org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model confi@@ rm@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ confi@@ rm@@ Model@@ ); confi@@ rm@@ Model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ ch@@ ang@@ e@@ Cluster@@ CompatibilityVersion@@ Title@@ ()); confi@@ rm@@ Model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ ch@@ ang@@ e@@ _@@ cluster@@ _@@ c@@ ompatibility@@ _@@ version@@ ); confi@@ rm@@ Model.set@@ Hash@@ Name@@ ("@@ ch@@ ang@@ e@@ _@@ cluster@@ _@@ c@@ ompatibility@@ _@@ version@@ "); org.ovirt.engine.ui.uicommonweb.UICommand temp@@ V@@ a@@ r = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ S@@ ave@@ Confirm@@ Cpu@@ Th@@ rea@@ ds@@ ", this@@ ); tempVar@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ()); tempVar@@ .set@@ Is@@ Default@@ (@@ true@@ ); org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ List@@ Model.get@@ Confirm@@ W@@ in@@ do@@ w@@ ().get@@ Command@@ s().@@ add(@@ tempVar@@ ); org.ovirt.engine.ui.uicommonweb.UICommand tempVar@@ 2 = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ Confirmation@@ ", this@@ ); tempVar@@ 2@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); tempVar@@ 2@@ .set@@ Is@@ Cancel@@ (@@ true@@ ); org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ List@@ Model.get@@ Confirm@@ W@@ in@@ do@@ w@@ ().get@@ Command@@ s().@@ add(@@ tempVar@@ 2@@ ); check@@ For@@ Non@@ Respon@@ si@@ ve@@ Host@@ s(@@ confi@@ rm@@ Model@@ ); } else { on@@ S@@ ave@@ Confirm@@ Cpu@@ Th@@ rea@@ ds@@ (); } }
public static void Get@@ Gluster@@ Host@@ s(@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , java.lang.String host@@ Address@@ , java.lang.String ro@@ ot@@ Password@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { return source@@ ; } }; org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Gluster@@ Host@@ s, new org.ovirt.engine.core.common.queries.@@ gluster.Gluster@@ Host@@ Query@@ Parameters(@@ host@@ Address@@ , ro@@ ot@@ Password@@ ), aQuery@@ ); }
@org.junit.Test public void test@@ Al@@ read@@ y@@ Exist@@ StorageDomain@@ () { when@@ (command@@ .get@@ StorageDomain@@ Static@@ Dao().get@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command@@ Tes@@ t.get@@ StorageDomain@@ ()); assert@@ F@@ alse@@ ("@@ Stor@@ age Domain al@@ read@@ y ex@@ ist@@ s", command@@ .@@ can@@ Add@@ Domain@@ ()); assert@@ True@@ ("@@ Im@@ por@@ t bl@@ oc@@ k Stor@@ age Domain shoul@@ d ha@@ v@@ e fail@@ ed d@@ u@@ e to al@@ read@@ y ex@@ ist@@ ing Stor@@ age Domain@@ ", command@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ .@@ toString@@ ())); }
public org.ovirt.engine.core.bll.ValidationResult network@@ Not@@ Changed@@ () { if (@@ org.apache.commons.lang.@@ Object@@ Utils.@@ equals(@@ vnic@@ Profil@@ e.get@@ Network@@ Id(), get@@ O@@ l@@ d@@ VnicProfile@@ ().get@@ Network@@ Id@@ ())) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ C@@ H@@ AN@@ G@@ E_@@ V@@ N@@ IC@@ _P@@ RO@@ F@@ IL@@ E_@@ NETWOR@@ K@@ ); }
private org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t create@@ From@@ Dis@@ c@@ o@@ ver@@ y@@ Unit@@ (org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Dis@@ c@@ o@@ ver@@ y@@ Un@@ i@@ t dis@@ c@@ o@@ ver@@ y@@ Unit@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ Type typ@@ e) { org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t p@@ olic@@ y = new org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ (); p@@ olicy@@ .set@@ Internal@@ (@@ false@@ ); p@@ olicy@@ .set@@ Name(@@ dis@@ c@@ o@@ ver@@ y@@ Un@@ it.@@ get@@ Name()); p@@ olicy@@ .set@@ Policy@@ Unit@@ Type(@@ type@@ ); p@@ olicy@@ .set@@ Description@@ (@@ dis@@ c@@ o@@ ver@@ y@@ Un@@ it.@@ get@@ Description@@ ()); if (!(@@ org.apache.commons.lang.StringUtils.@@ is@@ B@@ lan@@ k@@ (@@ dis@@ c@@ o@@ ver@@ y@@ Un@@ it.@@ get@@ Re@@ g@@ ex@@ ()))) { p@@ olicy@@ .set@@ Parameter@@ Re@@ g@@ Ex@@ Map@@ (@@ org.ovirt.engine.core.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .S@@ im@@ ple@@ Custom@@ Properties@@ Util@@ .getInstance().@@ con@@ ver@@ t@@ Properties@@ (@@ dis@@ c@@ o@@ ver@@ y@@ Un@@ it.@@ get@@ Re@@ g@@ ex@@ ())); } else { p@@ olicy@@ .set@@ Parameter@@ Re@@ g@@ Ex@@ Map@@ (@@ new java.util.HashMap<@@ java.lang.String, java.lang.String@@ >@@ ()); } return p@@ olicy@@ ; }
private void create@@ Sync@@ Network@@ Parameters(@@ java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > parameters@@ , java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ > nic@@ s) { java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> host@@ Id@@ sTo@@ S@@ yn@@ c = new java.util.Hash@@ Set<@@ >(); for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface n@@ ic : nic@@ s) { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interfac@@ e.@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s = network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s@@ Utils.@@ c@@ al@@ c@@ ul@@ ate@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s(@@ nic@@ , org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Update@@ Network@@ Command.@@ Sync@@ Network@@ Parameters@@ Builder@@ .get@@ Network@@ ()); boolean network@@ Sh@@ oul@@ d@@ Be@@ S@@ yn@@ ce@@ d = (network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s != null@@ ) && (!(@@ network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s.@@ is@@ In@@ Sync@@ ())); if (network@@ Sh@@ oul@@ d@@ Be@@ S@@ yn@@ ce@@ d@@ ) { host@@ Id@@ sTo@@ Sync@@ .@@ add(@@ nic@@ .get@@ Vds@@ Id()); } } for (org.ovirt.engine.core.compat.Guid host@@ Id : host@@ Id@@ sTo@@ Sync@@ ) { org.ovirt.engine.core.common.action.@@ P@@ ers@@ ist@@ ent@@ Host@@ SetupNetworks@@ Parameters set@@ up@@ Network@@ Param@@ s = create@@ Host@@ SetupNetworks@@ Parameters(@@ host@@ Id); set@@ up@@ Network@@ Param@@ s.set@@ Network@@ Names@@ (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Update@@ Network@@ Command.@@ Sync@@ Network@@ Parameters@@ Builder@@ .get@@ Network@@ Name()); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent attach@@ m@@ ent = get@@ Network@@ Id@@ To@@ Attachment@@ Map@@ (@@ host@@ Id@@ ).get@@ (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Update@@ Network@@ Command.@@ Sync@@ Network@@ Parameters@@ Builder@@ .get@@ Network@@ ().get@@ Id()); attach@@ m@@ ent.@@ set@@ O@@ ver@@ ri@@ de@@ Configuration@@ (@@ true@@ ); set@@ up@@ Network@@ Param@@ s.get@@ NetworkAttachment@@ s().@@ add(@@ attach@@ ment@@ ); parameter@@ s.add(@@ set@@ up@@ Network@@ Param@@ s); } }
public org.ovirt.engine.core.bll.ValidationResult int@@ er@@ fac@@ e@@ In@@ Host@@ (org.ovirt.engine.core.compat.Guid host@@ Id) { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ N@@ IC@@ _@@ NOT_@@ EXIST@@ S_@@ ON_@@ HOST@@ ).when@@ ((!@@ (@@ if@@ ac@@ e.get@@ Vds@@ Id().@@ equals(@@ host@@ Id@@ )@@ ))); }
@org.junit.Test public void canDoAction@@ Fail@@ ed@@ VM@@ H@@ as@@ Not@@ Disk@@ () throw@@ s java.lang.Exception { initial@@ ize@@ Command@@ (c@@ reate@@ Parameters@@ ()); create@@ Null@@ Disk@@ (); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ NOT_@@ EXIST@@ ); }
public void set@@ In@@ c@@ lu@@ de@@ Se@@ ver@@ Hook@@ s@@ (@@ boolean in@@ c@@ lu@@ de@@ Se@@ ver@@ Hook@@ s) { this@@ .@@ in@@ c@@ lu@@ de@@ Se@@ ver@@ Hook@@ s = in@@ c@@ lu@@ de@@ Se@@ ver@@ Hook@@ s@@ ; }
public static void is@@ Cluster@@ H@@ as@@ An@@ y@@ Up@@ Host@@ (@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , java.lang.String cluster@@ Name@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { if ((@@ s@@ ource != null@@ ) && ((((@@ java.util.@@ List@@ ) (s@@ ource@@ )).@@ size()) > 0@@ )) { return true@@ ; } return false@@ ; } }; org.ovirt.engine.core.common.queries.@@ Search@@ Parameters search@@ Parameters = new org.ovirt.engine.core.common.queries.@@ Search@@ Parameters@@ ((@@ ("@@ Host@@ : c@@ luster = " + cluster@@ Name@@ ) + " and stat@@ u@@ s = Up@@ "@@ ), org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ Search@@ Type.@@ VDS@@ ); search@@ Parameter@@ s.set@@ Max@@ Count@@ (@@ 1@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.@@ Search@@ , search@@ Parameters@@ , aQuery@@ ); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . $@@ {@@ int@@ er@@ fac@@ e@@ } is can@@ '@@ t b@@ e read@@ -@@ on@@ ly@@ ") java.lang.String ACTION_TYPE_FAILED_@@ IN@@ TER@@ F@@ AC@@ E_@@ DO@@ E@@ S_NOT_@@ SUP@@ POR@@ T_@@ RE@@ AD@@ _@@ ON@@ L@@ Y_@@ AT@@ T@@ R@@ ();
public static org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model disk@@ To@@ Model@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Disk disk@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model disk@@ Model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ (); disk@@ Model.get@@ Alias@@ ().set@@ Entity@@ (disk@@ .get@@ Disk@@ Alias@@ ()); if ((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ) (disk@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.Integer@@ > size@@ Entity = new org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.Integer@@ >(); size@@ Entity@@ .set@@ Entity@@ ((@@ (@@ int@@ ) (disk@@ Image.get@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s@@ ()))); disk@@ Model.set@@ S@@ iz@@ e(@@ size@@ Entity@@ ); org.ovirt.engine.ui.uicommonweb.models.@@ List@@ Model volume@@ List = new org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ (); volume@@ List.@@ set@@ Item@@ s@@ (((@@ disk@@ Image.get@@ Volume@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Volume@@ Type.@@ Pre@@ al@@ loc@@ ated@@ ) ? new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Volume@@ Type@@ >@@ (@@ java.util.Arrays.as@@ List@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ Volume@@ Type@@ []{ org.ovirt.engine.core.common.businessentities.@@ Volume@@ Type.@@ Pre@@ al@@ loc@@ ate@@ d }@@ )) : org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Volume@@ Type@@ List@@ ())); volume@@ List.@@ set@@ SelectedItem@@ (disk@@ Image.get@@ Volume@@ Type@@ ()); disk@@ Model.set@@ Volume@@ Type(@@ volume@@ List@@ ); } disk@@ Model.set@@ Disk@@ (disk@@ ); return disk@@ Model@@ ; }
public org.ovirt.engine.core.bll.ValidationResult set@@ t@@ ing@@ Sp@@ e@@ c@@ if@@ ic@@ Networks@@ Allow@@ ed@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ S@@ E@@ T_@@ SP@@ EC@@ I@@ F@@ IC@@ _@@ NETWOR@@ K@@ S@@ , get@@ Nic@@ Name@@ Repl@@ acement@@ ()).@@ when@@ (get@@ O@@ l@@ d@@ Vfs@@ Config@@ ().is@@ All@@ Networks@@ Allow@@ ed@@ ()); }
@org.junit.Test public void test@@ Get@@ Local@@ es@@ Key@@ s@@ Un@@ Supported@@ () { return@@ Valu@@ e.set@@ ReturnValue@@ ("@@ k@@ o@@ _@@ K@@ R@@ "); java.util.List<java.lang.String> local@@ es = org.ovirt.engine.core.utils.@@ servlet@@ .@@ Un@@ sup@@ ported@@ Local@@ e@@ Helper@@ .get@@ Local@@ es@@ Key@@ s(@@ mock@@ Backend@@ , Configuration@@ Values.@@ Un@@ sup@@ ported@@ Local@@ es@@ Filter@@ ); assert@@ Not@@ Null@@ ("@@ Result shoul@@ d not b@@ e null@@ ", local@@ es@@ ); assert@@ Equals@@ ("@@ Th@@ er@@ e shoul@@ d b@@ e 1 local@@ es@@ ", 1, local@@ es.@@ size@@ ()); assert@@ Equals@@ ("@@ Local@@ e shoul@@ d b@@ e k@@ o@@ _@@ K@@ R@@ ", "@@ k@@ o@@ _@@ K@@ R@@ ", local@@ es@@ .get(@@ 0@@ )); }
public java.lang.Integ@@ er get@@ Template@@ Version@@ () { return vm@@ Static@@ .get@@ Template@@ Version@@ (); }
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (@@ target@@ )); model.set@@ Data@@ C@@ ent@@ ers@@ And@@ C@@ lust@@ ers@@ (@@ model, data@@ C@@ ent@@ ers@@ , ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >) (@@ return@@ Value@@ )@@ ), null@@ ); init@@ Template@@ (); init@@ C@@ d@@ Image@@ (); get@@ Pool@@ Model@@ Be@@ ha@@ vi@@ or@@ In@@ itial@@ iz@@ ed@@ Event@@ ().@@ r@@ a@@ is@@ e@@ (@@ this@@ , EventArg@@ s.@@ Empty@@ ); }
@org.junit.Test public void test@@ S@@ ave@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage new@@ Image = new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ (); new@@ Im@@ age.@@ set@@ Image@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); new@@ Im@@ age.@@ set@@ Volume@@ Format@@ (@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ ); new@@ Im@@ age.@@ set@@ Q@@ c@@ ow@@ C@@ om@@ ap@@ t@@ (@@ Q@@ c@@ ow@@ C@@ ompat.@@ Q@@ C@@ O@@ W@@ 2@@ _@@ V@@ 3@@ ); new@@ Im@@ age.@@ set@@ Volume@@ Type(@@ Volume@@ Type.@@ S@@ par@@ se@@ ); new@@ Im@@ age.@@ set@@ Active@@ (@@ true@@ ); new@@ Im@@ age.@@ set@@ Image@@ Template@@ Id(@@ org.ovirt.engine.core.dao.@@ DiskImage@@ Dynamic@@ Dao@@ Test.@@ EX@@ IS@@ TI@@ N@@ G@@ _@@ IM@@ AGE_@@ DIS@@ K_@@ T@@ EM@@ P@@ L@@ AT@@ E); new@@ Im@@ age.@@ set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); image@@ Dao@@ .@@ save@@ (@@ new@@ Image.get@@ Image@@ ()); disk@@ Dao@@ .@@ save@@ (@@ new@@ Image@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ Dynam@@ ic d@@ ynam@@ ic = create@@ DiskImage@@ Dynamic@@ (@@ new@@ Image.get@@ Image@@ Id()); d@@ ao.@@ save@@ (c@@ reate@@ DiskImage@@ Dynamic@@ (@@ new@@ Image.get@@ Image@@ Id@@ ())); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ Dynam@@ ic result = d@@ ao@@ .get(@@ d@@ ynam@@ ic@@ .getId()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ Equals@@ (@@ d@@ ynam@@ ic@@ , result@@ ); }
@java.lang.Override public org.ovirt.engine.api.model.@@ Template@@ s list@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > enti@@ ties@@ ; if (is@@ Filter@@ ed@@ ()) { enti@@ ti@@ es = get@@ Backend@@ Collection@@ (Vdc@@ Query@@ Type.Get@@ All@@ Vm@@ Templ@@ at@@ es@@ , new org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base@@ ()); } else { enti@@ ti@@ es = get@@ Backend@@ Collection@@ (@@ Search@@ Type.@@ VmTemplate@@ ); } return map@@ Collection@@ (@@ enti@@ ties@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base get@@ Parameters(@@ org.ovirt.engine.api.model.@@ Network in@@ com@@ ing@@ , org.ovirt.engine.core.common.businessentities.@@ Network entity@@ ) { org.ovirt.engine.core.common.businessentities.@@ Network update@@ d = get@@ Map@@ per@@ (model@@ Type, org.ovirt.engine.core.common.businessentities.@@ Network@@ .@@ class@@ )@@ .m@@ ap@@ (in@@ com@@ ing@@ , entity@@ ); return new org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters(@@ entity.get@@ storage_@@ pool@@ _id@@ ().get@@ Value@@ (), update@@ d@@ ); }
@java.lang.Override public void setUp@@ () throw@@ s java.lang.Exception { super@@ .set@@ Up@@ (); d@@ a@@ o = db@@ Fac@@ ade.get@@ VmNetwork@@ Interface@@ Dao@@ (); vm@@ Devices@@ D@@ a@@ o = db@@ Fac@@ ade.get@@ VmDevice@@ Dao@@ (); Stat@@ s@@ D@@ a@@ o = db@@ Fac@@ ade.get@@ VmNetwork@@ Statistic@@ s@@ Dao@@ (); existing@@ Vm@@ Interface = d@@ ao@@ .get(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ VM_@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E); existing@@ Template@@ Interface = d@@ ao@@ .get(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E); new@@ Vm@@ Interface = new org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface@@ (); new@@ Vm@@ Interfac@@ e.set@@ Statistic@@ s@@ (@@ new org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Statistic@@ s()); new@@ Vm@@ Interfac@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); new@@ Vm@@ Interfac@@ e.set@@ Name@@ ("@@ eth@@ 7@@ "); new@@ Vm@@ Interfac@@ e.set@@ Network@@ Name@@ ("@@ engin@@ et@@ "); new@@ Vm@@ Interfac@@ e.set@@ Link@@ ed@@ (@@ true@@ ); new@@ Vm@@ Interfac@@ e.set@@ Sp@@ e@@ ed(@@ 1@@ 00@@ 0@@ ); new@@ Vm@@ Interfac@@ e.set@@ Type(@@ 3@@ ); new@@ Vm@@ Interfac@@ e.set@@ Mac@@ Address@@ ("@@ 0@@ 1@@ :@@ C@@ 0@@ :@@ 8@@ 1@@ :@@ 2@@ 1@@ :@@ 7@@ 1@@ :@@ 1@@ 7@@ "); new@@ Vm@@ Devic@@ e.set@@ Type(@@ VmDevice@@ Gener@@ al@@ Type.@@ IN@@ TER@@ F@@ AC@@ E); new@@ Vm@@ Devic@@ e.set@@ Device@@ ("@@ b@@ rid@@ ge@@ "); new@@ Vm@@ Devic@@ e.set@@ Address@@ ("@@ s@@ am@@ ple@@ "); new@@ Vm@@ Devic@@ e.set@@ Boot@@ Or@@ der@@ (@@ 1@@ ); new@@ Vm@@ Devic@@ e.set@@ Is@@ Manage@@ d@@ (@@ true@@ ); new@@ Vm@@ Devic@@ e.set@@ Is@@ Plug@@ ged@@ (@@ true@@ ); new@@ Vm@@ Devic@@ e.set@@ Is@@ Plug@@ ged@@ (@@ true@@ ); new@@ Vm@@ Devic@@ e.set@@ Is@@ Read@@ Only@@ (@@ false@@ ); new@@ Vm@@ Devic@@ e.set@@ Custom@@ Properties@@ ("@@ pro@@ p@@ 1@@ =@@ val@@ 1@@ "); }
@java.lang.Override protected void execute@@ Network@@ Command(@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 1, org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 2@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > all@@ Nic@@ s, java.lang.Obj@@ ec@@ t.@@ .@@ . param@@ s) { assert (@@ op@@ 1 instanceof org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Interface@@ Model) && (!(@@ op@@ 1 instanceof org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Bond@@ Network@@ Interface@@ Model@@ )); assert (@@ op@@ 2 instanceof org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Interface@@ Model) && (!(@@ op@@ 2 instanceof org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Bond@@ Network@@ Interface@@ Model@@ )); assert (@@ param@@ s.@@ l@@ ength@@ ) == 1 : "@@ in@@ cor@@ r@@ ect param@@ s l@@ ength@@ "; org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Interface@@ Model nic@@ 1 = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Interface@@ Model) (@@ op@@ 1@@ )); org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Interface@@ Model nic@@ 2 = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Interface@@ Model) (@@ op@@ 2@@ )); org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Oper@@ ation.@@ cl@@ e@@ ar@@ Network@@ s(@@ nic@@ 1, all@@ Nic@@ s); org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Oper@@ ation.@@ cl@@ e@@ ar@@ Network@@ s(@@ nic@@ 2@@ , all@@ Nic@@ s); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface b@@ on@@ d = ((@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ ) (@@ param@@ s@@ [@@ 0@@ ]@@ )); java.lang.String bond@@ Name = bond@@ .getName@@ (); all@@ Nic@@ s.add(@@ bond@@ ); nic@@ 1@@ .get@@ Entity@@ ().set@@ Bond@@ Name(@@ bond@@ Name); nic@@ 2@@ .get@@ I@@ fac@@ e@@ ().set@@ Bond@@ Name(@@ bond@@ Name); nic@@ 2@@ .get@@ I@@ fac@@ e@@ ()); }
@java.lang.Override protected org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ S@@ im@@ ple@@ Action@@ T@@ able@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Item@@ Model@@ > create@@ Action@@ T@@ able@@ () { return new org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ User@@ Port@@ al@@ S@@ im@@ ple@@ Action@@ T@@ able@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Item@@ Model@@ >@@ (model@@ Provider@@ , get@@ T@@ able@@ Res@@ ourc@@ es@@ (), org.ovirt.engine.ui.@@ user@@ port@@ al.@@ gin@@ .@@ Client@@ G@@ in@@ j@@ ect@@ or@@ Provi@@ der.@@ instance@@ ().get@@ Event@@ B@@ us@@ (), org.ovirt.engine.ui.@@ user@@ port@@ al.@@ gin@@ .@@ Client@@ G@@ in@@ j@@ ect@@ or@@ Provi@@ der.@@ instance@@ ().get@@ Client@@ Storage@@ (), new org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ re@@ fresh@@ .@@ User@@ Port@@ al@@ Re@@ fresh@@ Manager@@ (model@@ Provider@@ , org.ovirt.engine.ui.@@ user@@ port@@ al.@@ gin@@ .@@ Client@@ G@@ in@@ j@@ ect@@ or@@ Provi@@ der.@@ instance@@ ().get@@ Event@@ B@@ us@@ (), org.ovirt.engine.ui.@@ user@@ port@@ al.@@ gin@@ .@@ Client@@ G@@ in@@ j@@ ect@@ or@@ Provi@@ der.@@ instance@@ ().get@@ Client@@ Storage@@ ())); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Data C@@ en@@ te@@ r Re@@ -@@ In@@ itial@@ ize@@ ") java.lang.String dataCenter@@ Re@@ In@@ itial@@ ize@@ Title@@ ();
public org.ovirt.engine.core.bll.ValidationResult has@@ Sp@@ ace@@ For@@ All@@ Disk@@ s(@@ java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ > new@@ Disk@@ Images@@ , java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ > cl@@ on@@ ed@@ Disk@@ Images@@ ) { if ((@@ storageDomain@@ .get@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ StorageType.@@ C@@ IN@@ D@@ ER@@ )) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } java.lang.@@ L@@ on@@ g ava@@ il@@ able@@ S@@ iz@@ e = storageDomain@@ .get@@ Available@@ Disk@@ Size@@ In@@ By@@ t@@ es@@ (); do@@ ubl@@ e t@@ otal@@ Size@@ For@@ New@@ Disk@@ s = get@@ T@@ otal@@ Size@@ For@@ New@@ Disks@@ (@@ new@@ Disk@@ Images@@ ); do@@ ubl@@ e t@@ otal@@ Size@@ For@@ Cl@@ on@@ ed@@ Disk@@ s = get@@ T@@ otal@@ Size@@ For@@ Cl@@ on@@ ed@@ Disk@@ s(@@ cl@@ on@@ ed@@ Disk@@ Images@@ ); do@@ ubl@@ e t@@ otal@@ Size@@ For@@ Disk@@ s = t@@ otal@@ Size@@ For@@ New@@ Disk@@ s + t@@ otal@@ Size@@ For@@ Cl@@ on@@ ed@@ Disks@@ ; return validate@@ Requi@@ red@@ Sp@@ ac@@ e(@@ ava@@ il@@ able@@ Size@@ , t@@ otal@@ Size@@ For@@ Disks@@ ); }
public java.util.List<@@ org.ovirt.engine.core.common.errors.@@ EngineMess@@ ages@@ > get@@ Error@@ Messages@@ () { return error@@ Messages@@ ; }
public static org.ovirt.engine.api.@@ v@@ 3@@ .@@ types.@@ V@@ 3@@ VM add@@ Disks@@ Link@@ (@@ org.ovirt.engine.api.@@ v@@ 3@@ .@@ types.@@ V@@ 3@@ VM vm@@ ) { if (@@ vm == null@@ ) { return null@@ ; } java.lang.String@@ Buil@@ der h@@ re@@ f = org.ovirt.engine.api.@@ v@@ 3@@ .@@ h@@ el@@ per@@ s.@@ V@@ 3@@ Link@@ Helper.@@ lin@@ k@@ Bu@@ f@@ fer@@ (); org.ovirt.engine.api.restapi.@@ in@@ vo@@ c@@ ation.@@ C@@ urr@@ ent c@@ urr@@ ent = org.ovirt.engine.api.restapi.@@ in@@ vo@@ c@@ ation.@@ C@@ urrent@@ Manager@@ .get@@ (); h@@ re@@ f@@ .@@ append@@ (c@@ urr@@ ent.get@@ Path@@ ()); if (!@@ (c@@ urr@@ ent.get@@ Path@@ ().@@ contains(@@ vm.get@@ Id@@ ()))) { h@@ re@@ f@@ .@@ append@@ (vm.get@@ Id()); } h@@ re@@ f@@ .@@ append("@@ /@@ disk@@ s@@ "); org.ovirt.engine.api.@@ v@@ 3@@ .@@ types.@@ V@@ 3@@ Lin@@ k lin@@ k = new org.ovirt.engine.api.@@ v@@ 3@@ .@@ types.@@ V@@ 3@@ Link@@ (); lin@@ k@@ .set@@ R@@ el@@ ("@@ disk@@ s@@ "); lin@@ k@@ .set@@ H@@ re@@ f@@ (@@ h@@ re@@ f@@ .@@ toString()); vm.get@@ Link@@ s().@@ add(@@ lin@@ k@@ ); return vm@@ ; }
@java.lang.Override public org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Provider@@ Validator get@@ Provider@@ Validator@@ () { return new org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Provider@@ Validator@@ (@@ provider@@ ) { @java.lang.Override public org.ovirt.engine.core.bll.ValidationResult validate@@ Add@@ Provider@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ w@@ are@@ Vm@@ Provider@@ Proper@@ ti@@ es proper@@ ti@@ es = org.ovirt.engine.core.bll.@@ p@@ rovider.@@ vms.@@ Vm@@ w@@ are@@ Vm@@ Provider@@ Proxy@@ .@@ this@@ .@@ provider@@ .get@@ Add@@ ition@@ al@@ Properties@@ (); org.ovirt.engine.core.compat.Guid pro@@ xy@@ Host@@ Id = proper@@ ties@@ .get@@ Proxy@@ Host@@ Id@@ (); if (@@ pro@@ xy@@ Host@@ Id != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS pro@@ xy@@ Hos@@ t = get@@ Vds@@ Dao().get@@ (@@ pro@@ xy@@ Host@@ Id); if (@@ pro@@ xy@@ Hos@@ t == null@@ ) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VDS@@ _@@ DO@@ E@@ S_NOT_@@ EXIST@@ ); } if (!(@@ pro@@ xy@@ Hos@@ t.get@@ StoragePool@@ Id().@@ equals(@@ proper@@ ties@@ .get@@ StoragePool@@ Id@@ ()))) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VDS@@ _@@ NOT_@@ IN_@@ DE@@ ST@@ _@@ STORAGE_@@ P@@ O@@ OL@@ ); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } private org.ovirt.engine.core.dao.@@ Vds@@ D@@ a@@ o get@@ Vds@@ Dao@@ () { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vds@@ Dao@@ (); } }; }
protected boolean for@@ mat@@ Storage@@ (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain do@@ m@@ , org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = get@@ Vds@@ Broker@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Format@@ StorageDomain@@ , new org.ovirt.engine.core.common.vdscommands.@@ Format@@ StorageDomain@@ VDSCommand@@ Parameters(@@ vds.get@@ Id(), do@@ m@@ .getId@@ ())); if ((@@ org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ StorageDomain@@ Do@@ es@@ Not@@ Exist@@ ) == (vds@@ Return@@ Value.get@@ Vds@@ Error@@ ().get@@ Code@@ ())) { log.@@ w@@ ar@@ n@@ Format@@ ("@@ Stor@@ age Domain {0@@ } wh@@ ic@@ h w@@ a@@ s ab@@ o@@ u@@ t to b@@ e for@@ mat@@ te@@ d is not ex@@ ist@@ s in VDS id {@@ 1@@ }@@ ", vds.get@@ Id(), do@@ m@@ .getId()); return true@@ ; } return vds@@ Return@@ Value.get@@ Succeeded@@ (); }
private void local@@ iz@@ e(@@ org.ovirt.engine.ui.webadmin.@@ Ap@@ plication@@ Constant@@ s const@@ an@@ t@@ s) { dataCenter@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ dataCenter@@ Volume@@ ()); cluster@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ volume@@ Cluster@@ Volume@@ ()); name@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Popup@@ Name@@ Label@@ ()); type@@ List@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ type@@ Volume@@ ()); re@@ pl@@ ic@@ a@@ Count@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ re@@ pl@@ ic@@ a@@ Count@@ Volume@@ ()); st@@ ri@@ p@@ e@@ Count@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ st@@ ri@@ p@@ e@@ Count@@ Volume@@ ()); trans@@ port@@ Typ@@ es@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ trans@@ port@@ Type@@ Volume@@ ()); t@@ c@@ p@@ Trans@@ port@@ Type@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ c@@ p@@ Volume@@ ()); r@@ d@@ ma@@ Trans@@ port@@ Type@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ r@@ d@@ ma@@ Volume@@ ()); brick@@ s@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ brick@@ s@@ Volume@@ ()); add@@ Brick@@ s@@ Button@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ add@@ Brick@@ s@@ Volume@@ ()); ac@@ cess@@ Protocol@@ s@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ ac@@ cess@@ Protocol@@ s@@ Volume@@ ()); gluster@@ _@@ ac@@ c@@ ec@@ ss@@ Protocol@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ gluster@@ Volume@@ ()); n@@ fs@@ _@@ ac@@ c@@ ec@@ ss@@ Protocol@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ n@@ fs@@ Volume@@ ()); c@@ if@@ s@@ _@@ ac@@ c@@ ec@@ ss@@ Protocol@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ c@@ if@@ s@@ Volume@@ ()); al@@ low@@ Ac@@ cess@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ al@@ low@@ Ac@@ cess@@ From@@ Volume@@ ()); al@@ low@@ Ac@@ cess@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ al@@ low@@ Ac@@ cess@@ From@@ Label@@ Volume@@ ()); op@@ t@@ m@@ ize@@ For@@ Vir@@ t@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ op@@ tim@@ ize@@ For@@ Vir@@ t@@ St@@ ore@@ Volume@@ ()); }
private static org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent build@@ Disk@@ Vm@@ Element@@ With@@ Disk@@ Interface@@ From@@ External@@ Provider@@ (@@ java.util.Map<java.lang.String, java.lang.Object> map@@ , org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage image@@ , org.ovirt.engine.core.compat.Guid vm@@ Id) { org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent d@@ v@@ e = new org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ Element@@ (@@ im@@ age.get@@ Id(), vm@@ Id); java.lang.String disk@@ De@@ v@@ Name = ((@@ java.lang.String@@ ) (m@@ ap@@ .get(@@ VdsProperties.@@ DIS@@ K_@@ T@@ AR@@ G@@ E@@ T_@@ DE@@ V@@ _@@ NAM@@ E@@ ))); disk@@ De@@ v@@ Name = ((@@ disk@@ De@@ v@@ Name == null@@ ) || ((@@ disk@@ De@@ v@@ Nam@@ e.@@ l@@ ength@@ ()) < 3@@ )) ? "@@ " : disk@@ De@@ v@@ Nam@@ e.@@ sub@@ st@@ ring@@ (0@@ , 2@@ ); switch (disk@@ De@@ v@@ Name@@ ) { case "@@ sd@@ " : d@@ v@@ e.set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _S@@ C@@ SI@@ ); break@@ ; case "@@ h@@ d@@ " : d@@ v@@ e.set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ ID@@ E); break@@ ; case "@@ vd@@ : default : d@@ v@@ e.set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ ); break@@ ; } return d@@ ve@@ ; }
private void pro@@ cess@@ Images@@ (@@ final boolean us@@ e@@ Copy@@ Images@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { add@@ Vm@@ Images@@ And@@ Snapshot@@ s(); add@@ Memory@@ Images@@ (); update@@ Snapshots@@ From@@ Export@@ (); if (@@ us@@ e@@ Copy@@ Images@@ ) { m@@ ove@@ Or@@ Copy@@ All@@ ImageGroup@@ s(); } vm@@ Device@@ Utils.@@ add@@ Im@@ ported@@ Devices@@ (get@@ Vm().get@@ StaticData@@ (), get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ()); if (get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ()) { get@@ Parameters@@ ().set@@ Vm@@ (get@@ Vm@@ ()); set@@ Vm@@ Id@@ (get@@ Vm().get@@ Id()); } return null@@ ; }); }
org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Bu@@ tt@@ on add@@ Action@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > bu@@ tton@@ De@@ f@@ , int or@@ der@@ );
@org.junit.Test public void test@@ Validate@@ Bond@@ Option@@ s@@ For@@ New@@ Attach@@ ement@@ Bond@@ () { validate@@ Bond@@ Option@@ s@@ For@@ New@@ Attach@@ ement@@ (@@ Guid@@ .@@ Empty@@ , EngineMessage.@@ NETWORK_@@ AT@@ T@@ AC@@ H@@ M@@ EN@@ T_@@ IN@@ VALID@@ _@@ B@@ ON@@ D@@ M@@ O@@ D@@ E, false@@ ); }
@java.lang.Override protected void En@@ d@@ Success@@ f@@ ull@@ y@@ () { org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.bll.@@ Export@@ VmCommand.getVm@@ (); if (@@ vm != null@@ ) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ Un@@ Lock@@ Vm@@ (vm.get@@ Id()); end@@ Disk@@ R@@ el@@ ated@@ Action@@ s(@@ vm@@ ); if (org.ovirt.engine.core.bll.@@ Export@@ Vm@@ Command.getParameters().get@@ Copy@@ Coll@@ ap@@ se@@ ()) { this@@ .@@ end@@ Copy@@ Coll@@ ap@@ se@@ Op@@ s(@@ vm@@ ); } else { this@@ .@@ end@@ Default@@ Op@@ s(@@ vm@@ ); } org.ovirt.engine.core.bll.@@ Export@@ Vm@@ Command.set@@ Succeeded@@ (@@ true@@ ); } else { org.ovirt.engine.core.bll.@@ Export@@ Vm@@ Command.set@@ Command@@ Sh@@ oul@@ d@@ Be@@ Log@@ ged@@ (@@ false@@ ); log.@@ w@@ ar@@ n@@ ("@@ Export@@ Vm@@ Command@@ :@@ :@@ :@@ En@@ d@@ Move@@ Vm@@ Command@@ : V@@ m is null - not p@@ er@@ for@@ min@@ g f@@ ull En@@ d@@ Action@@ "); } }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ gluster.GlusterVolume@@ GeoRep@@ Status@@ ForXmlR@@ p@@ c gluster@@ Volume@@ GeoRep@@ Session@@ List@@ (java.lang.String volume@@ Name@@ ) { try { java.util.Map<java.lang.String, java.lang.Object> respon@@ se@@ ; respon@@ se = vds@@ Ser@@ ver.@@ gluster@@ Volume@@ GeoRep@@ Session@@ List(@@ volume@@ Name); return new org.ovirt.engine.core.vdsbroker.@@ gluster.GlusterVolume@@ GeoRep@@ Status@@ ForXmlR@@ pc@@ (@@ respon@@ se@@ ); } catch (java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Un@@ de@@ cl@@ ared@@ Th@@ row@@ able@@ Exception u@@ te@@ ) { throw new org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Run@@ Time@@ Exception@@ (@@ u@@ te@@ ); } }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.compat.Guid> get@@ AsyncTask@@ Id@@ sBy@@ User@@ (org.ovirt.engine.core.compat.Guid user@@ Id) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ user@@ _id", user@@ Id); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ AsyncTask@@ s@@ Id@@ sBy@@ User@@ Id@@ ", org.ovirt.engine.core.dao.@@ AsyncTask@@ Dao@@ Impl.@@ Id@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
public java.lang.String schedul@@ e@@ AC@@ ron@@ Job@@ (java.lang.Object instance@@ , java.lang.String m@@ ethod@@ Name, java.lang.@@ Class@@ <?@@ >@@ [@@ ] in@@ put@@ Typ@@ es@@ , java.lang.Object@@ [@@ ] in@@ put@@ Param@@ s, java.lang.String c@@ ron@@ Exp@@ ress@@ ion@@ , java.util.@@ D@@ ate st@@ art@@ A@@ t@@ , java.util.@@ D@@ ate end@@ By@@ ) throw@@ s java.lang.Exception { org.@@ qu@@ art@@ z@@ .@@ Job@@ Det@@ a@@ i@@ l j@@ o@@ b = create@@ Job@@ With@@ Bas@@ ic@@ Map@@ Valu@@ es(@@ instance@@ , m@@ ethod@@ Name, in@@ put@@ Typ@@ es@@ , in@@ put@@ Param@@ s); try { java.lang.String t@@ ri@@ g@@ g@@ er@@ Name = gener@@ ate@@ Un@@ i@@ q@@ ue@@ Name@@ For@@ Instance@@ (@@ instance@@ , org.ovirt.engine.core.utils.@@ tim@@ er.@@ Schedul@@ er@@ Util@@ Base@@ Impl.@@ T@@ R@@ I@@ G@@ ER_@@ P@@ RE@@ F@@ I@@ X@@ ); org.@@ qu@@ art@@ z@@ .@@ T@@ ri@@ g@@ er t@@ ri@@ g@@ er = new@@ T@@ ri@@ g@@ er@@ ().@@ with@@ Id@@ entity@@ (@@ t@@ ri@@ g@@ er@@ Name, Schedul@@ er.@@ DE@@ FA@@ U@@ L@@ T_@@ G@@ RO@@ UP@@ ).@@ with@@ Schedul@@ e(@@ c@@ ron@@ Schedul@@ e(@@ c@@ ron@@ Exp@@ ress@@ ion@@ )).@@ st@@ art@@ A@@ t@@ (@@ st@@ art@@ A@@ t@@ ).@@ end@@ A@@ t@@ (@@ end@@ By@@ ).@@ build@@ (); s@@ ched@@ .@@ schedul@@ e@@ Job@@ (@@ job@@ , t@@ ri@@ g@@ er@@ ); } catch (@@ java.lang.Exception se@@ ) { log.error("@@ fail@@ ed to schedul@@ e job@@ : {}@@ ", s@@ e.get@@ Message@@ ()); log.debug@@ ("@@ Exception@@ ", se@@ ); throw se@@ ; } return job@@ .get@@ Key@@ ().get@@ Name@@ (); }
private void log@@ No@@ Device@@ To@@ Hot@@ Un@@ plug@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Memory@@ Devices@@ ) { final org.ovirt.engine.core.common.@@ AuditLog@@ Type mess@@ age = (vm@@ Memory@@ Devic@@ es.@@ isEmpty@@ ()) ? org.ovirt.engine.core.common.@@ AuditLogType.@@ NO@@ _@@ M@@ EM@@ OR@@ Y_@@ DE@@ V@@ IC@@ E_@@ TO@@ _@@ HO@@ T_@@ UN@@ P@@ LU@@ G : org.ovirt.engine.core.common.@@ AuditLogType.@@ NO@@ _S@@ U@@ I@@ T@@ AB@@ L@@ E_@@ M@@ EM@@ OR@@ Y_@@ DE@@ V@@ IC@@ E_@@ TO@@ _@@ HO@@ T_@@ UN@@ P@@ LU@@ G@@ ; if (!@@ (vm@@ Memory@@ Devic@@ es.@@ isEmpty@@ ())) { final int or@@ i@@ gin@@ al@@ Memory@@ M@@ b = org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Mem@@ Size@@ M@@ b@@ (); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ add@@ Custom@@ Value@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ OL@@ D_@@ M@@ EM@@ OR@@ Y_@@ M@@ B@@ , java.lang.String.@@ value@@ Of@@ (@@ or@@ i@@ gin@@ al@@ Memory@@ M@@ b@@ )); add@@ Custom@@ Value@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ N@@ E@@ W@@ _@@ M@@ EM@@ OR@@ Y_@@ M@@ B@@ , java.lang.String.@@ value@@ Of@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Vm().get@@ Mem@@ Size@@ M@@ b@@ ())); final java.lang.String un@@ plug@@ Option@@ s = vm@@ Memory@@ Devic@@ es.@@ stream@@ ().@@ filter@@ (@@ VmDevice@@ C@@ ommon@@ Util@@ s@@ :@@ :@@ is@@ Memory@@ Device@@ Hot@@ Un@@ plug@@ g@@ able@@ )@@ .m@@ ap@@ (@@ ( de@@ vice@@ ) -@@ > org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ Size@@ Of@@ Memory@@ Device@@ M@@ b@@ (@@ de@@ vice@@ ).get@@ ())@@ .m@@ ap@@ (@@ ( de@@ vice@@ Size@@ ) -@@ > java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ d@@ M@@ B (@@ %@@ d@@ M@@ B@@ )@@ ", de@@ vice@@ Size@@ , memory@@ Af@@ ter@@ Hot@@ Un@@ plug@@ (@@ or@@ i@@ gin@@ al@@ Memory@@ M@@ b@@ , de@@ vice@@ Size@@ )@@ )).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ , ")); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ add@@ Custom@@ Value@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ M@@ EM@@ OR@@ Y_@@ HO@@ T_@@ UN@@ P@@ LU@@ G@@ _@@ O@@ P@@ TI@@ ON@@ S@@ , un@@ plug@@ Option@@ s); } au@@ ditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , mess@@ age@@ ); }
protected boolean check@@ StoragePool@@ () { if ((@@ org.ovirt.engine.core.bll.storage.@@ Storage@@ Handl@@ ing@@ CommandBase.get@@ StoragePool@@ ()) == null@@ ) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ P@@ O@@ OL@@ _@@ NOT_@@ EXIST@@ ); return false@@ ; } return true@@ ; }
@org.junit.Test public void json@@ In@@ valid@@ Json@@ () throw@@ s java.io.@@ I@@ O@@ Exception { p@@ rovider.@@ init@@ Migration@@ P@@ olic@@ i@@ es(@@ "@@ this is not a val@@ id json@@ "); org.ovirt.engine.core.bll.@@ m@@ igr@@ ation.@@ Migration@@ P@@ olic@@ y p@@ olic@@ y = provider@@ .get@@ Migration@@ Policy@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); assert@@ Null@@ (p@@ olicy@@ ); }
private javax.ws.rs.@@ core.@@ Respon@@ se add@@ Domain@@ (@@ org.ovirt.engine.core.common.action.VdcAction@@ Type action@@ , org.ovirt.engine.api.model.@@ Storage@@ Domain model, org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c entity@@ , org.ovirt.engine.core.compat.Guid host@@ Id, org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s connection@@ ) { javax.ws.rs.@@ core.@@ Respon@@ se respon@@ se = null@@ ; boolean is@@ Conn@@ N@@ e@@ w = false@@ ; entity.set@@ Storage@@ (@@ connection@@ .get@@ id@@ ()); if (((@@ ac@@ tion == (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Add@@ N@@ FS@@ StorageDomain@@ )) || (@@ ac@@ tion == (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Add@@ P@@ os@@ i@@ x@@ F@@ s@@ StorageDomain@@ ))) || (@@ ac@@ tion == (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Add@@ Gluster@@ F@@ s@@ StorageDomain@@ ))) { org.ovirt.engine.core.common.businessentities.Storage@@ Domain ex@@ ist@@ ing = get@@ Existing@@ StorageDomain@@ (@@ host@@ Id, entity.get@@ Storage@@ Type@@ (), entity.get@@ StorageDomain@@ Type@@ (), connection@@ ); if (@@ ex@@ ist@@ ing != null@@ ) { org.ovirt.engine.api.restapi.@@ types.@@ StorageDomain@@ Mapper.@@ map@@ (@@ model, ex@@ ist@@ ing.@@ get@@ Storage@@ StaticData@@ ()); enti@@ ty = ex@@ ist@@ ing.@@ get@@ Storage@@ StaticData@@ (); ac@@ tion = org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Add@@ Existing@@ File@@ StorageDomain@@ ; } } if (@@ ac@@ tion != (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Add@@ Existing@@ File@@ StorageDomain@@ )) { validate@@ Parameters(@@ model, 2@@ , "@@ name@@ "); } if ((@@ connection@@ .get@@ storage_@@ type@@ ().is@@ File@@ Domain@@ ()) && (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ connection@@ .get@@ id@@ ()))) { is@@ Conn@@ N@@ e@@ w = true@@ ; connection@@ .set@@ id@@ (@@ add@@ StorageServerConnection@@ (@@ connection@@ , host@@ Id@@ )); } try { respon@@ se = p@@ er@@ for@@ m@@ Create@@ (@@ action@@ , get@@ Add@@ Param@@ s(@@ entity@@ , host@@ Id@@ ), ID@@ _@@ RE@@ S@@ OL@@ V@@ ER@@ ); } catch (@@ org.ovirt.engine.api.restapi.resource.@@ W@@ eb@@ F@@ a@@ ult@@ Exception e) { if (is@@ Conn@@ New@@ ) { remove@@ StorageServerConnection@@ (@@ connection@@ , host@@ Id); } throw e@@ ; } return respon@@ se@@ ; }
@org.junit.Test public void test@@ R@@ ang@@ e@@ Start@@ And@@ R@@ ang@@ e@@ St@@ op@@ A@@ re@@ In@@ cl@@ us@@ ive@@ () throw@@ s java.lang.Exception { assert@@ That@@ (@@ new org.ovirt.engine.core.bll.network.@@ R@@ ang@@ e(@@ org.ovirt.engine.core.bll.network.@@ R@@ ang@@ e@@ Test.@@ M@@ AC@@ _@@ F@@ RO@@ M@@ _@@ R@@ AN@@ G@@ E, org.ovirt.engine.core.bll.network.@@ R@@ ang@@ e@@ Test.@@ M@@ AC@@ _@@ F@@ RO@@ M@@ _@@ R@@ AN@@ G@@ E@@ ).get@@ Available@@ Count@@ (), is@@ (@@ 1@@ )); }
private void remove@@ Host@@ ed@@ Engine@@ Lun@@ Disk@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Base@@ Disk@@ > disk@@ s = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Import@@ Host@@ ed@@ Engine@@ StorageDomain@@ Command.get@@ DbFacade@@ ().get@@ Base@@ Disk@@ Dao().get@@ Disks@@ By@@ Alias@@ (@@ Storage@@ Constants.@@ HOST@@ ED_@@ EN@@ G@@ IN@@ E_@@ LUN@@ _@@ DIS@@ K_@@ AL@@ I@@ A@@ S@@ ); if ((@@ disk@@ s != null@@ ) && (!(@@ disk@@ s.@@ isEmpty@@ ()))) { org.ovirt.engine.core.common.businessentities.storage.@@ Base@@ Disk h@@ e@@ Direct@@ L@@ u@@ n = disk@@ s.get@@ (0@@ ); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base remove@@ Disk = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Import@@ Host@@ ed@@ Engine@@ StorageDomain@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ Remove@@ Disk@@ , new org.ovirt.engine.core.common.action.@@ Remove@@ Disk@@ Parameters(@@ h@@ e@@ Direct@@ Lun@@ .getId@@ ())); if (!(@@ remove@@ Disk@@ .get@@ Succeeded@@ ())) { log.error("@@ Fail@@ ed to rem@@ ov@@ e the host@@ ed engin@@ e d@@ ir@@ ect lu@@ n disk@@ "); } set@@ Succeeded@@ (@@ remove@@ Disk@@ .get@@ Succeeded@@ ()); } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Per@@ mis@@ si@@ ve@@ ") java.lang.String per@@ mis@@ si@@ ve@@ ();
private java.lang.@@ I@@ ter@@ able@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > fin@@ d@@ Migration@@ F@@ ree@@ C@@ lust@@ ers@@ () { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Dynamic@@ > m@@ igr@@ at@@ ing@@ Vm@@ s = vm@@ Dynamic@@ Dao.get@@ All@@ By@@ Status(@@ VMStatus.@@ Migr@@ at@@ ing@@ From@@ ); final java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > all@@ Cluster@@ s = new java.util.HashMap<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster : vds@@ Group@@ Dao.get@@ All@@ ()) { all@@ Cluster@@ s.@@ put@@ (cluster@@ .get@@ Id(), cluster@@ ); } for (org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ Dynam@@ ic : m@@ igr@@ at@@ ing@@ Vm@@ s) { all@@ Cluster@@ s.@@ remove@@ (vm@@ Dynamic@@ .get@@ Migr@@ at@@ ing@@ To@@ Vds@@ ()); all@@ Cluster@@ s.@@ remove@@ (vm@@ Dynamic@@ .get@@ Run@@ On@@ Vds@@ ()); } return all@@ Cluster@@ s.@@ valu@@ es@@ (); }
@@@ org.ovirt.engine.core.utils.@@ tim@@ er.@@ On@@ Tim@@ er@@ Method@@ An@@ not@@ ation@@ ("@@ re@@ fresh@@ H@@ e@@ a@@ v@@ y@@ W@@ e@@ ig@@ ht@@ Data@@ ") public void re@@ fresh@@ H@@ e@@ a@@ v@@ y@@ W@@ e@@ ig@@ ht@@ Data@@ () { log.debug@@ ("@@ Re@@ fresh@@ ing G@@ luster Data [@@ h@@ e@@ a@@ v@@ y@@ w@@ e@@ ig@@ ht@@ ]@@ "); for (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster : get@@ Cluster@@ Dao().get@@ All@@ ()) { if ((@@ org.ovirt.engine.core.common.@@ gluster.Gluster@@ Feat@@ ure@@ Supported@@ .@@ re@@ fresh@@ H@@ e@@ a@@ v@@ y@@ W@@ e@@ ig@@ ht@@ (cluster@@ .get@@ c@@ ompatibility@@ _@@ version@@ ())) && (c@@ luster.@@ sup@@ port@@ s@@ Gluster@@ Service@@ ())) { try { re@@ fresh@@ Cluster@@ H@@ e@@ a@@ v@@ y@@ W@@ e@@ ig@@ ht@@ Data@@ (cluster@@ ); } catch (@@ java.lang.Exception e) { log.error("@@ E@@ r@@ ro@@ r while re@@ fresh@@ ing G@@ luster h@@ e@@ a@@ v@@ y@@ w@@ e@@ ig@@ h@@ t dat@@ a of c@@ luster '{}@@ '@@ !@@ ", cluster@@ .get@@ Name()); log.error("@@ Exception@@ ", e); } } } }
public void update@@ Cpu@@ Sh@@ ar@@ es@@ Sel@@ ection@@ () { boolean fo@@ un@@ d@@ En@@ u@@ m = false@@ ; for (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model.@@ Cpu@@ Sh@@ ar@@ es@@ A@@ m@@ oun@@ t cpu@@ Sh@@ ar@@ es@@ A@@ m@@ oun@@ t : Unit@@ Vm@@ Model.@@ Cpu@@ Sh@@ ar@@ es@@ A@@ m@@ oun@@ t.@@ valu@@ es@@ ()) { if ((@@ cpu@@ Sh@@ ar@@ es@@ A@@ m@@ oun@@ t.get@@ Value@@ ()) == (get@@ Model().get@@ Cpu@@ Sh@@ ar@@ es@@ A@@ m@@ ount@@ ().getEntity@@ ())) { getModel().get@@ Cpu@@ Sh@@ ar@@ es@@ A@@ m@@ ount@@ Sel@@ ection@@ ().set@@ SelectedItem@@ (c@@ pu@@ Sh@@ ar@@ es@@ A@@ m@@ ount@@ ); fo@@ un@@ d@@ En@@ u@@ m = true@@ ; break@@ ; } } if (!@@ fo@@ un@@ d@@ Enum@@ ) { int current@@ V@@ al = java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (get@@ Model().get@@ Cpu@@ Sh@@ ar@@ es@@ A@@ m@@ ount@@ ().getEntity@@ ().@@ toString()); getModel().get@@ Cpu@@ Sh@@ ar@@ es@@ A@@ m@@ ount@@ Sel@@ ection@@ ().set@@ SelectedItem@@ (@@ Unit@@ Vm@@ Model.@@ Cpu@@ Sh@@ ar@@ es@@ A@@ m@@ oun@@ t.@@ C@@ U@@ ST@@ O@@ M@@ ); getModel().get@@ Cpu@@ Sh@@ ar@@ es@@ A@@ m@@ ount@@ ().set@@ Entity@@ (c@@ urrent@@ Val@@ ); } }
public static synchronized java.lang.String@@ [@@ ] get@@ Link@@ sTo@@ Ex@@ c@@ lu@@ de@@ (org.ovirt.engine.api.model.@@ Storage@@ Domain storageDomain@@ ) { return org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Res@@ ource.@@ is@@ Iso@@ Domain@@ (@@ storageDomain@@ ) ? new java.lang.String@@ []{ "@@ templat@@ es@@ ", "@@ vm@@ s", "@@ disk@@ s", "@@ im@@ ages@@ " } : org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Res@@ ource.@@ is@@ Export@@ Domain@@ (@@ storageDomain@@ ) ? new java.lang.String@@ []{ "@@ fil@@ es@@ ", "@@ im@@ ages@@ " } : org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Res@@ ource.@@ is@@ Image@@ Domain@@ (@@ storageDomain@@ ) ? new java.lang.String@@ []{ "@@ templat@@ es@@ ", "@@ vm@@ s", "@@ fil@@ es@@ ", "@@ disk@@ s", "@@ stor@@ ag@@ ec@@ on@@ nection@@ s@@ " } : new java.lang.String@@ []{ "@@ templat@@ es@@ ", "@@ fil@@ es@@ ", "@@ im@@ ages@@ " }; }
public void set@@ Ac@@ tu@@ al@@ Size@@ From@@ DiskImage@@ (@@ long size@@ ) { act@@ u@@ al@@ Size@@ From@@ DiskImage@@ Dynam@@ ic = size@@ ; set@@ Ac@@ tu@@ al@@ Size@@ ((@@ ((get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ()) * 1@@ .@@ 0) / ((@@ 1@@ 0@@ 2@@ 4 * 1@@ 0@@ 2@@ 4@@ ) * 1@@ 0@@ 2@@ 4@@ ))); }
private java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ java.lang.Integer@@ >> get@@ All@@ Numa@@ Node@@ Cpu@@ Map@@ () { java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <@@ org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ >> num@@ a@@ Nod@@ es@@ Cpu@@ s = get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ All@@ From@@ Numa@@ Node@@ Cpu@@ Map@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Numa@@ Node@@ Dao@@ Impl.@@ vm@@ Numa@@ Node@@ C@@ p@@ us@@ Row@@ Map@@ per@@ , null@@ ); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ java.lang.Integer@@ >> num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map = new java.util.HashMap<@@ >(); for (org.ovirt.engine.core.common.@@ utils.@@ Pair@@ <@@ org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ > p@@ a@@ i@@ r : num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ ) { if (!(@@ num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map.@@ contains@@ Key@@ (p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ ()))) { num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map.@@ put(@@ p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ (), new java.util.ArrayList<@@ java.lang.Integer@@ >@@ ()); } num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map@@ .get(@@ p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ ()).@@ add(@@ p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ()); } return num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map@@ ; }
private static void update@@ C@@ ommon@@ Interface@@ Data@@ (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ace@@ , org.ovirt.engine.core.common.businessentities.@@ VDS host@@ , java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, java.util.Map<java.lang.String, java.lang.Object@@ >> if@@ ace@@ E@@ n@@ try@@ ) { if@@ ac@@ e.set@@ Name(@@ e@@ n@@ try@@ .get@@ Key@@ ()); if@@ ac@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); if@@ ac@@ e.set@@ Vds@@ Id(@@ hos@@ t.get@@ Id()); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Statistic@@ s i@@ Stat@@ s = new org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Statistic@@ s(); i@@ Stat@@ s.set@@ Id@@ (@@ if@@ ac@@ e.get@@ Id()); i@@ Stat@@ s.set@@ Vds@@ Id(@@ hos@@ t.get@@ Id()); if@@ ac@@ e.set@@ Statistic@@ s(@@ i@@ Stat@@ s); java.util.Map<java.lang.String, java.lang.Object> n@@ ic = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ e@@ n@@ try@@ .get@@ Value@@ ())); if (@@ n@@ ic != null@@ ) { if@@ ac@@ e.set@@ Address@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ex@@ tr@@ act@@ Address@@ (@@ nic@@ )); if@@ ac@@ e.set@@ Sub@@ net@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ex@@ tr@@ act@@ Sub@@ net@@ (@@ nic@@ )); java.lang.String m@@ t@@ u = ((@@ java.lang.String@@ ) (@@ nic@@ .get(@@ VdsProperties.@@ M@@ T@@ U@@ ))); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (m@@ tu@@ )) { if@@ ac@@ e.set@@ M@@ tu@@ (@@ java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (m@@ tu@@ )); } org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ add@@ Boot@@ Protocol@@ (((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ nic@@ Properties@@ .get@@ ("@@ c@@ f@@ g@@ "@@ )@@ )@@ ), vds@@ , if@@ ace@@ ); } }
@java.lang.Override protected boolean canDoAction@@ () { if ((get@@ Nic@@ ()) == null@@ ) { return failCanDoAction@@ (EngineMessage.@@ HOST@@ _@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E_@@ NOT_@@ EXIST@@ ); } if ((!@@ (@@ org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ is@@ Label@@ ed@@ (get@@ Nic@@ ()))) || (!@@ (get@@ Nic@@ ().get@@ Label@@ s().@@ contains@@ (get@@ Label@@ ())@@ ))) { return failCanDoAction@@ (EngineMessage.@@ IN@@ TER@@ F@@ AC@@ E_@@ NOT_@@ L@@ AB@@ E@@ L@@ ED); } return true@@ ; }
@org.junit.Test public void test@@ Bond@@ Not@@ Update@@ d@@ And@@ Rem@@ oved@@ S@@ im@@ ult@@ an@@ e@@ o@@ us@@ ly@@ Not@@ Valid@@ () { org.ovirt.engine.core.common.action.@@ Host@@ SetupNetworks@@ Parameters param@@ s = new org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator@@ Test.@@ Parameters@@ Builder@@ ().add@@ Bon@@ ds@@ (@@ org.ovirt.engine.core.common.action.@@ Create@@ Or@@ Update@@ Bond@@ .@@ f@@ rom@@ Bond@@ (@@ bond@@ )).@@ add@@ Rem@@ oved@@ Bon@@ ds@@ (@@ bond@@ .getId@@ ()).@@ build@@ (); org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator@@ Test.@@ Host@@ SetupNetworks@@ Validator@@ Builder@@ ().set@@ Param@@ s(@@ param@@ s@@ ).@@ build@@ (); org.ovirt.engine.core.common.errors.@@ EngineMess@@ age engin@@ e@@ Mess@@ age = org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ B@@ ON@@ D_@@ UP@@ D@@ AT@@ ED_@@ AN@@ D_@@ RE@@ M@@ OV@@ ED_@@ SI@@ M@@ U@@ L@@ T@@ AN@@ E@@ O@@ US@@ L@@ Y@@ ; assert@@ That@@ (@@ validator.@@ bond@@ Not@@ Update@@ d@@ And@@ Rem@@ oved@@ S@@ im@@ ult@@ an@@ e@@ o@@ us@@ ly@@ (), fail@@ sWith@@ (@@ engin@@ e@@ Message@@ , org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Util@@ s.get@@ List@@ Var@@ i@@ able@@ As@@ s@@ ign@@ ment@@ String@@ (@@ engin@@ e@@ Message@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ bond@@ .getName@@ ())@@ ))); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ Return@@ a@@ Value = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ St@@ op@@ R@@ eb@@ al@@ ance@@ GlusterVolume@@ , new org.ovirt.engine.core.common.vdscommands.@@ gluster.GlusterVolume@@ VDS@@ Parameters(@@ up@@ Server@@ .get@@ Id(), get@@ GlusterVolume@@ Name@@ ())); if (!(@@ vds@@ Return@@ a@@ Value.get@@ Succeeded@@ ())) { h@@ andle@@ Vds@@ Error@@ (@@ AuditLogType.@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ RE@@ B@@ AL@@ AN@@ C@@ E_@@ ST@@ O@@ P@@ _@@ FAIL@@ ED@@ , vds@@ Return@@ a@@ Value.get@@ Vds@@ Error@@ ().get@@ Message@@ ()); set@@ Succeeded@@ (@@ false@@ ); return@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Task@@ Status@@ Entity re@@ b@@ al@@ ance@@ Status@@ Entity = ((org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Task@@ Status@@ Entity@@ ) (vds@@ Return@@ a@@ Value.get@@ ReturnValue@@ ())); org.ovirt.engine.core.common.@@ job.@@ Job@@ Execution@@ Status st@@ ep@@ Status = re@@ b@@ al@@ ance@@ Status@@ Entity@@ .get@@ Status@@ S@@ um@@ mar@@ y@@ ().get@@ Status@@ (); if (@@ Job@@ Execution@@ Status.@@ F@@ IN@@ IS@@ H@@ ED@@ .equals(@@ st@@ ep@@ Status@@ )) { end@@ Step@@ Job@@ (@@ st@@ ep@@ Status@@ , get@@ Step@@ Message@@ Map@@ (@@ st@@ ep@@ Status@@ ), true@@ ); } else { end@@ Step@@ Job@@ (@@ st@@ ep@@ Status@@ , get@@ Step@@ Message@@ Map@@ (@@ st@@ ep@@ Status@@ ), false@@ ); } re@@ le@@ ase@@ Volume@@ Lock@@ (); set@@ Succeeded@@ (vds@@ Return@@ a@@ Value.get@@ Succeeded@@ ()); get@@ ReturnValue@@ ().set@@ Action@@ ReturnValue@@ (@@ re@@ b@@ al@@ ance@@ Status@@ Entity@@ ); }
@java.lang.Override public void run@@ () { params.set@@ Sh@@ oul@@ d@@ Be@@ Log@@ ged@@ (@@ false@@ ); get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ P@@ ers@@ ist@@ ent@@ Setup@@ Network@@ s, param@@ s); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Ex@@ por@@ t Vir@@ tu@@ al M@@ ach@@ in@@ e@@ ") java.lang.String ex@@ port@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Title@@ ();
@java.lang.Override protected boolean canDoAction@@ () { org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator snapshot@@ s@@ Validator = create@@ Snapshots@@ Validator@@ (); if ((!@@ (@@ validate@@ (s@@ napshot@@ s@@ Validator.@@ snapshot@@ Exist@@ s@@ (get@@ Snapshot@@ ())@@ ))) || (!(@@ validate@@ (s@@ napshot@@ s@@ Validator.@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (get@@ Snapshot@@ ().get@@ Vm@@ Id@@ ())@@ )@@ ))) { return false@@ ; } return super@@ .@@ canDoAction@@ (); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > filter@@ () { return p@@ olicy@@ Un@@ it.@@ filter@@ (@@ java.util.Arrays.as@@ List(@@ host@@ With@@ C@@ p@@ us@@ , host@@ With@@ out@@ C@@ p@@ us@@ ), vm@@ , null@@ , null@@ ); }
@org.junit.Test public void int@@ er@@ nal@@ M@@ ov@@ ing@@ To@@ M@@ a@@ int@@ en@@ ance@@ Allow@@ ed@@ () { int@@ er@@ nal@@ Action@@ Allow@@ ed(@@ StorageDomain@@ Status.@@ M@@ ov@@ ing@@ To@@ M@@ a@@ int@@ en@@ ance@@ ); }
private void end@@ Create@@ All@@ Snapshot@@ s() { org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameters snapshot@@ s@@ Parameters = get@@ Create@@ Snapshot@@ Parameters@@ (); org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ end@@ Action(VdcActionType.@@ Create@@ AllSnapshots@@ From@@ Vm@@ , snapshot@@ s@@ Parameters@@ , org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Handler.@@ create@@ Default@@ Contex@@ For@@ Task@@ s(@@ enc@@ lo@@ sing@@ Command.get@@ Execution@@ Context@@ ())); enc@@ lo@@ sing@@ Command.get@@ Parameters@@ ().set@@ L@@ ive@@ Snapshot@@ Succeeded@@ (s@@ napshot@@ s@@ Parameters@@ .get@@ L@@ ive@@ Snapshot@@ Succeeded@@ ()); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ Mac@@ Pool f@@ l@@ us@@ h@@ () { get@@ Entity@@ ().set@@ Name@@ (get@@ Name@@ ().getEntity@@ ()); get@@ Entity@@ ().set@@ Comm@@ ent@@ (get@@ Description@@ ().getEntity@@ ()); return super@@ .@@ f@@ l@@ us@@ h@@ (); }
public org.ovirt.engine.core.bll.ValidationResult has@@ Un@@ i@@ q@@ ue@@ Name@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NAM@@ E_@@ AL@@ RE@@ AD@@ Y_@@ US@@ ED@@ ).when@@ ((!@@ (m@@ ac@@ Pool@@ Name@@ Un@@ i@@ q@@ ue@@ ()))); }
private void remove@@ Network@@ From@@ Host@@ s() { org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Helper.@@ remove@@ Network@@ From@@ Host@@ s@@ In@@ Cluster@@ (get@@ P@@ ers@@ ist@@ ed@@ Network@@ (), org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Det@@ ach@@ Network@@ To@@ VdsGroup@@ Command.getParameters().get@@ VdsGroup@@ Id(), org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Det@@ ach@@ Network@@ To@@ VdsGroup@@ Command.get@@ Context@@ (), org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Det@@ ach@@ Network@@ To@@ VdsGroup@@ Command.get@@ DbFacade@@ ().get@@ Interface@@ Dao@@ ()); }
java.util.Map<java.lang.String, java.lang.String> get@@ Message@@ Map@@ (@@ final java.lang.String pre@@ fi@@ x@@ , final java.util.@@ Local@@ e local@@ e) { java.util.List<@@ org.ovirt.engine.core.utils.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Th@@ em@@ e@@ > mess@@ age@@ Th@@ em@@ es = get@@ B@@ r@@ and@@ ing@@ Th@@ em@@ es@@ (); java.util.Map<java.lang.String, java.lang.String> key@@ Value@@ s = new java.util.HashMap<@@ java.lang.String, java.lang.String@@ >(); if (m@@ ess@@ age@@ Th@@ em@@ es != null@@ ) { for (@@ org.ovirt.engine.core.utils.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Th@@ em@@ e th@@ em@@ e : mess@@ age@@ Th@@ em@@ es@@ ) { java.util.@@ Resource@@ B@@ un@@ d@@ l@@ e mess@@ ages@@ B@@ un@@ d@@ l@@ e = th@@ em@@ e.get@@ Messages@@ B@@ un@@ d@@ le(@@ local@@ e); for (java.lang.String ke@@ y : mess@@ ages@@ B@@ un@@ d@@ le.@@ key@@ Set@@ ()) { if ((@@ key@@ .@@ st@@ art@@ sWith@@ ((((@@ org.ovirt.engine.core.utils.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Manager.@@ B@@ R@@ AN@@ D@@ _P@@ RE@@ F@@ I@@ X@@ ) + "@@ .@@ ") + pre@@ fi@@ x@@ ))) || (@@ key@@ .@@ st@@ art@@ sWith@@ (@@ org.ovirt.engine.core.utils.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Manager.@@ C@@ O@@ M@@ ON_@@ P@@ RE@@ F@@ I@@ X@@ ))) { key@@ Values.@@ put(@@ key@@ .@@ re@@ pl@@ ace@@ F@@ ir@@ st@@ ((@@ (((@@ org.ovirt.engine.core.utils.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Manager.@@ B@@ R@@ AN@@ D@@ _P@@ RE@@ F@@ I@@ X@@ ) + "@@ \@@ .@@ ") + pre@@ fi@@ x@@ ) + "@@ \@@ \@@ \@@ .@@ "@@ ), "@@ ").@@ re@@ pl@@ ace@@ F@@ ir@@ st@@ (((@@ org.ovirt.engine.core.utils.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Manager.@@ C@@ O@@ M@@ M@@ ON_@@ P@@ RE@@ F@@ I@@ X@@ ) + "@@ \@@ .@@ "@@ ), "@@ ").@@ re@@ pl@@ ace@@ F@@ ir@@ st@@ (((@@ org.ovirt.engine.core.utils.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Manager.@@ B@@ R@@ AN@@ D@@ _P@@ RE@@ F@@ I@@ X@@ ) + "@@ \@@ .@@ "@@ ), "@@ ), "@@ "@@ "@@ "@@ "@@ "@@ "@@ "@@ "@@ "@@ "@@ ), mess@@ ages@@ B@@ un@@ d@@ l@@ e.get@@ String@@ (@@ key@@ )); } } } } return key@@ Valu@@ es@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } if ((get@@ Parameters().get@@ Cluster@@ Id()) == null@@ ) { addCanDoActionMessage@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ LUSTER_@@ I@@ S_NOT_@@ VALID@@ ); return false@@ ; } if (!@@ (get@@ Gluster@@ Util@@ ().is@@ Gluster@@ Snapshot@@ Supported@@ (get@@ VdsGroup@@ ().get@@ CompatibilityVersion@@ (), get@@ VdsGroup@@ ().get@@ Id@@ ()))) { failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ NOT_@@ SUP@@ PORT@@ ED); } if ((get@@ Parameters().get@@ Config@@ Param@@ s()) == null@@ ) { addCanDoActionMessage@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ C@@ ON@@ F@@ I@@ G@@ _P@@ AR@@ A@@ M@@ S_@@ I@@ S_@@ EM@@ P@@ TY@@ ); return false@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ Confi@@ g par@@ a@@ m : get@@ Parameters().get@@ Config@@ Param@@ s()) { if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ param@@ .get@@ Param@@ Value@@ ())) { add@@ Custom@@ Value("@@ snapshot@@ Config@@ Param@@ ", param@@ .get@@ Param@@ Name()); addCanDoActionMessage@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ C@@ ON@@ F@@ I@@ G@@ _P@@ AR@@ A@@ M@@ _@@ VAL@@ U@@ E_@@ I@@ S_@@ EM@@ P@@ TY@@ ); return false@@ ; } } return true@@ ; }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = 1@@ ; result = (@@ pri@@ m@@ e * result) + ((@@ im@@ ages@@ Parameters@@ ) == null ? 0 : im@@ ages@@ Parameter@@ s.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ shoul@@ db@@ el@@ og@@ g@@ ed ? 1@@ 2@@ 3@@ 1 : 1@@ 2@@ 3@@ 7@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ trans@@ c@@ tion@@ Option@@ ) == null ? 0 : trans@@ c@@ tion@@ Option@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ entity@@ Id) == null ? 0 : entity@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (m@@ ulti@@ ple@@ Ac@@ tion ? 1@@ 2@@ 3@@ 1 : 1@@ 2@@ 3@@ 7@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ parameters@@ C@@ urrent@@ User@@ ) == null ? 0 : parameters@@ C@@ urrent@@ Us@@ er.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ parent@@ Command@@ ) == null ? 0 : parent@@ Command.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ task@@ Id@@ s) == null ? 0 : task@@ Id@@ s.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ cor@@ re@@ l@@ ation@@ Id) == null ? 0 : cor@@ re@@ l@@ ation@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ execu@@ tion@@ In@@ dex@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ job@@ Id) == null ? 0 : job@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ st@@ ep@@ Id) == null ? 0 : st@@ ep@@ Id@@ .@@ hash@@ Code@@ ()); return result@@ ; }
@org.junit.Test public void test@@ P@@ l@@ ain@@ H@@ e@@ art@@ b@@ eat@@ () { org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ ac@@ to@@ r list@@ en@@ ing@@ Re@@ ac@@ to@@ r = null@@ ; org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ ac@@ to@@ r s@@ end@@ ing@@ Re@@ ac@@ to@@ r = null@@ ; try { list@@ en@@ ing@@ Re@@ ac@@ to@@ r = new org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ St@@ omp@@ Re@@ act@@ or@@ (); s@@ end@@ ing@@ Re@@ ac@@ to@@ r = new org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ St@@ omp@@ Re@@ act@@ or@@ (); this@@ .@@ test@@ H@@ e@@ art@@ b@@ eat@@ (@@ list@@ en@@ ing@@ Re@@ act@@ or@@ , s@@ end@@ ing@@ Re@@ act@@ or@@ ); } catch (@@ java.io.@@ I@@ O@@ Exception | org.ovirt.vdsm.jsonrpc.client.@@ Client@@ Connection@@ Exception | java.lang.@@ Inter@@ r@@ up@@ ted@@ Exception | java.util.@@ con@@ c@@ urr@@ ent.@@ Execution@@ Exception e) { fail@@ (); } final@@ l@@ y { if (s@@ end@@ ing@@ Re@@ ac@@ to@@ r != null@@ ) { try { s@@ end@@ ing@@ Re@@ act@@ or.@@ c@@ lo@@ se@@ (); } catch (@@ java.io.@@ I@@ O@@ Exception ign@@ or@@ ed@@ ) { } } if (@@ list@@ en@@ ing@@ Re@@ ac@@ to@@ r != null@@ ) { try { list@@ en@@ ing@@ Re@@ act@@ or.@@ c@@ lo@@ se@@ (); } catch (@@ java.io.@@ I@@ O@@ Exception ign@@ or@@ ed@@ ) { } } }
@org.junit.Test public void test@@ Error@@ Handl@@ ing@@ () { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue valu@@ e = new org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue@@ (); valu@@ e.set@@ Succeeded@@ (@@ false@@ ); valu@@ e.set@@ Exception@@ Object@@ (@@ new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Network@@ Exception@@ ("@@ un@@ k@@ n@@ ow@@ n host@@ ")); when(@@ res@@ ource@@ Manager@@ .get@@ Event@@ Listener@@ ()).@@ thenReturn(@@ vds@@ Event@@ list@@ ener@@ ); when(@@ res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ any@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ VDSCommand@@ Type@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ VDS@@ Parameters@@ Base@@ .@@ class@@ )@@ )).@@ thenReturn(@@ value@@ ); when(@@ up@@ dat@@ er@@ .get@@ Resource@@ Manager@@ ()).@@ thenReturn(@@ res@@ ource@@ Manager@@ ); try { up@@ dat@@ er.@@ re@@ fresh@@ Vds@@ Stat@@ s(); } catch (@@ java.lang.Exception e) { ve@@ r@@ if@@ y@@ (vds@@ Manager@@ ).@@ h@@ andle@@ Network@@ Exception@@ (@@ any@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Network@@ Exception@@ .@@ class@@ )); ve@@ r@@ if@@ y@@ (vds@@ Manager@@ ).@@ update@@ Dynamic@@ Data@@ (@@ vds.get@@ Dynamic@@ Data@@ ()); } }
@org.junit.Test public void shoul@@ d@@ Do@@ Not@@ h@@ ing@@ With@@ out@@ Group@@ s() { assert@@ Equals@@ (@@ null@@ , e@@ n@@ for@@ c@@ er.@@ ch@@ o@@ os@@ e@@ N@@ ext@@ Vm@@ To@@ Migrate@@ ()); }
@org.junit.Test public void test@@ Get@@ P@@ e@@ ers@@ () throw@@ s javax.@@ nam@@ ing.@@ Auth@@ entic@@ ation@@ Exception { java.util.@@ Set<@@ java.lang.String> p@@ e@@ er@@ s = gluster@@ Util@@ .get@@ P@@ e@@ ers@@ (org.ovirt.engine.core.bll.@@ utils.@@ Gluster@@ Util@@ Test.@@ S@@ ER@@ V@@ ER_@@ NAM@@ E@@ 1, org.ovirt.engine.core.bll.@@ utils.@@ Gluster@@ Util@@ Test.@@ P@@ A@@ SS@@ WOR@@ D@@ ); assert@@ Not@@ Null@@ (p@@ e@@ ers@@ ); assert@@ True@@ (p@@ e@@ er@@ s.@@ contains@@ (org.ovirt.engine.core.bll.@@ utils.@@ Gluster@@ Util@@ Test.@@ S@@ ER@@ V@@ ER_@@ NAM@@ E@@ 1@@ )); assert@@ True@@ (p@@ e@@ er@@ s.@@ contains@@ (org.ovirt.engine.core.bll.@@ utils.@@ Gluster@@ Util@@ Test.@@ S@@ ER@@ V@@ ER_@@ NAM@@ E@@ 2@@ )); }
protected java.lang.Integ@@ er ex@@ tr@@ act@@ Display@@ Port@@ (org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type g@@ raphics@@ Type@@ ) { if ((get@@ Entity@@ ().get@@ Graphics@@ Info@@ s().get@@ (@@ g@@ raphics@@ Type@@ ).get@@ Port@@ ()) != null@@ ) { return get@@ Entity@@ ().get@@ Graphics@@ Info@@ s().get@@ (@@ g@@ raphics@@ Type@@ ).get@@ Port@@ (); } return 0@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity map@@ Row@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity b@@ r@@ ic@@ k = new org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ (); brick@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (rs.get@@ String("@@ id@@ "@@ ))); brick@@ .set@@ Volume@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (rs.get@@ String("@@ volume@@ _id@@ "@@ ))); org.ovirt.engine.core.compat.Guid server@@ Id = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (rs.get@@ String("@@ server@@ _id@@ ")); brick@@ .set@@ Server@@ Id(@@ server@@ Id); brick@@ .set@@ Server@@ Name@@ (get@@ Host@@ Name@@ Of@@ Server@@ (@@ server@@ Id@@ )); brick@@ .set@@ Brick@@ Direct@@ ory@@ (rs.get@@ String("@@ brick@@ _@@ d@@ ir@@ ")); brick@@ .set@@ Brick@@ Or@@ der@@ (@@ java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (rs.get@@ String("@@ brick@@ _@@ or@@ der@@ "@@ ))); brick@@ .set@@ Status@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Status.@@ value@@ Of@@ (rs.get@@ String("@@ status@@ "@@ ))); return brick@@ ; }
private void ve@@ r@@ if@@ y@@ Call@@ s@@ (@@ boolean attach@@ To@@ All@@ C@@ lust@@ ers@@ ) { ve@@ r@@ if@@ y@@ (@@ back@@ end@@ ).@@ run@@ Internal@@ Action@@ (@@ e@@ q@@ (@@ ActionType.@@ Add@@ Network@@ ), any@@ (), any@@ ()); ve@@ r@@ if@@ y@@ (network@@ Helper@@ ).@@ create@@ Vnic@@ Profil@@ e(@@ any@@ ()); ve@@ r@@ if@@ y@@ (network@@ Helper@@ ).@@ add@@ Vnic@@ Profil@@ e(@@ any@@ (), any@@ Boolean@@ ()); org.@@ mock@@ it@@ o.@@ ve@@ r@@ if@@ ic@@ ation.@@ V@@ er@@ if@@ ication@@ Mod@@ e exp@@ ected@@ Num@@ ber@@ Of@@ Call@@ s = (@@ attach@@ To@@ All@@ C@@ lust@@ ers@@ ) ? tim@@ es(@@ 1@@ ) : ne@@ ver@@ (); ve@@ r@@ if@@ y@@ (@@ back@@ end@@ , exp@@ ected@@ Num@@ ber@@ Of@@ Call@@ s@@ ).@@ run@@ Internal@@ Query@@ (@@ e@@ q@@ (@@ Query@@ Type.Get@@ C@@ lust@@ ers@@ By@@ StoragePool@@ Id@@ ), any@@ (), any@@ ()); ve@@ r@@ if@@ y@@ (network@@ Helper@@ , exp@@ ected@@ Num@@ ber@@ Of@@ Call@@ s@@ ).@@ attach@@ Network@@ To@@ C@@ lust@@ ers@@ (@@ e@@ q@@ (@@ NETWORK_@@ ID@@ ), any@@ ()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ N@@ e@@ w MA@@ C Add@@ res@@ s Pool@@ ") java.lang.String new@@ Sh@@ ared@@ MacPool@@ Title@@ ();
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { return java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.storage.@@ Ac@@ tivate@@ StorageDomain@@ Command.get@@ StorageDomain@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ STOR@@ AG@@ E, EngineMessage.ACTION_TYPE_FAILED_@@ O@@ B@@ J@@ EC@@ T_@@ LO@@ C@@ K@@ ED@@ )); }
@java.lang.Override @@@ javax.ws.rs.@@ Path@@ ("@@ num@@ an@@ od@@ es@@ ") public org.ovirt.engine.api.res@@ ource.@@ Host@@ Numa@@ Nod@@ es@@ Res@@ ource get@@ Host@@ Numa@@ Nod@@ es@@ Resource@@ () { return in@@ j@@ ect@@ (@@ new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Numa@@ Nod@@ es@@ Resource@@ (@@ id@@ )); }
private void set@@ Detail@@ List@@ () { vm@@ Gener@@ al@@ Model.set@@ Is@@ Available@@ (@@ false@@ ); vm@@ Snapshot@@ List@@ Model.set@@ Is@@ Available@@ (@@ false@@ ); vm@@ Monitor@@ Model.set@@ Is@@ Available@@ (@@ false@@ ); vm@@ Disk@@ List@@ Model.set@@ Is@@ Available@@ (@@ false@@ ); vm@@ Interface@@ List@@ Model.set@@ Is@@ Available@@ (@@ false@@ ); pool@@ Gener@@ al@@ Model.set@@ Is@@ Available@@ (@@ false@@ ); pool@@ Disk@@ List@@ Model.set@@ Is@@ Available@@ (@@ false@@ ); pool@@ Interface@@ List@@ Model.set@@ Is@@ Available@@ (@@ false@@ ); per@@ mission@@ List@@ Model.set@@ Is@@ Available@@ (@@ true@@ ); vm@@ Event@@ List@@ Model.set@@ Is@@ Available@@ (@@ true@@ ); vm@@ Ap@@ p@@ List@@ Model.set@@ Is@@ Available@@ (@@ true@@ ); user@@ Port@@ al@@ G@@ u@@ est@@ Info@@ Model.set@@ Is@@ Available@@ (@@ true@@ ); vm@@ G@@ u@@ est@@ Contain@@ er@@ List@@ Model.set@@ Is@@ Available@@ (@@ true@@ ); java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Entity@@ <?@@ >> lis@@ t = new java.util.ArrayList<>(); lis@@ t.@@ add@@ (vm@@ Gener@@ al@@ Model@@ ); lis@@ t.@@ add(@@ pool@@ Gener@@ al@@ Model@@ ); lis@@ t.@@ add@@ (vm@@ Interface@@ ListModel@@ ); lis@@ t.@@ add(@@ pool@@ Interface@@ ListModel@@ ); lis@@ t.@@ add@@ (vm@@ Disk@@ ListModel@@ ); lis@@ t.@@ add(@@ pool@@ Disk@@ ListModel@@ ); lis@@ t.@@ add@@ (vm@@ Snapshot@@ ListModel@@ ); lis@@ t.@@ add(@@ per@@ mission@@ ListModel@@ ); lis@@ t.@@ add@@ (vm@@ Event@@ ListModel@@ ); lis@@ t.@@ add@@ (vm@@ Ap@@ p@@ ListModel@@ ); lis@@ t.@@ add@@ (vm@@ Monitor@@ Model@@ ); lis@@ t.@@ add(@@ user@@ Port@@ al@@ G@@ u@@ est@@ Info@@ Model@@ ); lis@@ t.@@ add@@ (vm@@ G@@ u@@ est@@ Contain@@ er@@ ListModel@@ ); set@@ Detail@@ Model@@ s@@ (((@@ java.util.@@ List@@ ) (@@ list@@ ))); }
@org.junit.Test public void test@@ G@@ u@@ est@@ Os@@ 2@@ () { org.ovirt.engine.core.common.businessentities.VM vm = new org.ovirt.engine.core.common.businessentities.@@ VM@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ Dynam@@ ic = new org.ovirt.engine.core.common.businessentities.Vm@@ Dynamic@@ (); vm@@ Dynamic@@ .set@@ Status(@@ VMStatus.@@ Up@@ ); vm@@ Dynamic@@ .set@@ G@@ u@@ est@@ Os@@ Type(@@ Os@@ Type.@@ W@@ in@@ do@@ w@@ s); vm@@ Dynamic@@ .set@@ G@@ u@@ est@@ Os@@ C@@ od@@ en@@ ame@@ ("@@ "); vm@@ Dynamic@@ .set@@ G@@ u@@ est@@ Os@@ D@@ ist@@ ri@@ bu@@ tion@@ ("@@ "); vm@@ Dynamic@@ .set@@ G@@ u@@ est@@ Os@@ Version@@ ("@@ 6@@ .@@ 2@@ "); vm@@ Dynamic@@ .set@@ G@@ u@@ est@@ Os@@ Ar@@ ch@@ (@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ x@@ 8@@ 6@@ _@@ 6@@ 4@@ ); vm@@ Dynamic@@ .set@@ G@@ u@@ est@@ Os@@ K@@ er@@ ne@@ l@@ Version@@ ("@@ "); vm@@ .set@@ Dynamic@@ Data@@ (vm@@ Dynamic@@ ); org.ovirt.engine.api.model.@@ VM ma@@ p = org.ovirt.engine.api.restapi.@@ types.@@ Vm@@ Mapper.@@ map@@ (vm@@ , ((@@ org.ovirt.engine.api.model.@@ VM@@ ) (@@ null@@ ))); assert@@ Not@@ Null@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ G@@ u@@ est@@ Os@@ ()); assert@@ Equals@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ G@@ u@@ est@@ Os@@ ().get@@ Type@@ (), "@@ W@@ in@@ do@@ w@@ s@@ "); assert@@ Equals@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ G@@ u@@ est@@ Os@@ ().get@@ C@@ od@@ en@@ ame@@ (), "@@ "); assert@@ Equals@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ G@@ u@@ est@@ Os@@ ().get@@ D@@ ist@@ ri@@ bu@@ tion@@ (), "@@ "); assert@@ Equals@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ G@@ u@@ est@@ Os@@ ().get@@ Version@@ (), "@@ 6@@ .@@ 2@@ "); assert@@ Equals@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ G@@ u@@ est@@ Os@@ ().get@@ Ar@@ ch@@ (), "@@ x@@ 8@@ 6@@ _@@ 6@@ 4@@ "); assert@@ Equals@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ G@@ u@@ est@@ Os@@ ().get@@ K@@ er@@ ne@@ l@@ Version@@ (), "@@ "); }
void update@@ Host@@ () { if ((get@@ DataCenter@@ ().get@@ Item@@ s()) == null@@ ) { return@@ ; } if ((get@@ SelectedItem@@ ()) == null@@ ) { return@@ ; } org.ovirt.engine.core.common.businessentities.Storage@@ Pool data@@ C@@ en@@ te@@ r = ((org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ ) (get@@ DataCenter@@ ().getSelectedItem@@ ())); boolean local@@ F@@ s@@ On@@ l@@ y = (get@@ SelectedItem@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Local@@ Storage@@ Model@@ ; org.ovirt.engine.core.compat.Guid dataCenter@@ Id = (@@ data@@ C@@ en@@ te@@ r == null@@ ) ? null : dataCenter@@ .getId@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Sp@@ m@@ C@@ and@@ id@@ at@@ es@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model storage@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model) (model@@ )); java.lang.@@ I@@ ter@@ able@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = ((@@ java.lang.@@ I@@ ter@@ able@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ >) (@@ return@@ Value@@ )); storage@@ Model.@@ p@@ ost@@ Update@@ Host@@ (@@ host@@ s); } }, get@@ Hash@@ ()), dataCenter@@ Id, local@@ F@@ s@@ Only@@ ); }
public org.ovirt.engine.api.model.@@ Network get@@ () { org.ovirt.engine.core.common.businessentities.@@ Network enti@@ ty = par@@ ent.@@ lo@@ o@@ k@@ up@@ Network@@ (@@ g@@ uid@@ ); if (@@ enti@@ ty == null@@ ) { return not@@ F@@ ound@@ (); } return add@@ Link@@ s(@@ map@@ (@@ entity@@ )); }
private void create@@ New@@ GeoRep@@ Session@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ GeoRep@@ Create@@ Model ge@@ oRep@@ Create@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ GeoRep@@ Create@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (@@ ge@@ oRep@@ Create@@ Model@@ ); org.ovirt.engine.ui.uicommonweb.UICommand o@@ k@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ create@@ GeoRep@@ Session@@ ", this@@ ); o@@ k@@ Command.set@@ Title@@ (@@ const@@ an@@ t@@ s.@@ o@@ k@@ ()); o@@ k@@ Command.set@@ Is@@ Default@@ (@@ true@@ ); ge@@ oRep@@ Create@@ Model.get@@ Command@@ s().@@ add(@@ o@@ k@@ Command@@ ); org.ovirt.engine.ui.uicommonweb.UICommand cancel@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ cancel@@ ", this@@ ); cancel@@ Command.set@@ Title@@ (@@ const@@ an@@ t@@ s.@@ cancel@@ ()); cancel@@ Command.set@@ Is@@ Cancel@@ (@@ true@@ ); ge@@ oRep@@ Create@@ Model.get@@ Command@@ s().@@ add@@ (c@@ ance@@ l@@ Command@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue get@@ (@@ long time@@ out@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ i@@ t un@@ it@@ ) throw@@ s java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ out@@ Exception { try { stat@@ u@@ s = new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ http@@ Task@@ .get(@@ time@@ out@@ , un@@ it@@ )); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ F@@ ut@@ ure@@ VDS@@ Command.@@ pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); } catch (java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ out@@ Exception e) { http@@ Task@@ .@@ cancel@@ (@@ true@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Network@@ Exception e@@ x = new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Network@@ Exception@@ ("@@ Time@@ o@@ u@@ t d@@ ur@@ ing x@@ ml@@ -@@ r@@ p@@ c call@@ "); ex@@ .set@@ Vds@@ Error@@ (@@ new org.ovirt.engine.core.common.errors.@@ VDS@@ Error@@ (org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ VDS@@ _@@ NETWORK_@@ ER@@ R@@ OR@@ , "@@ Time@@ o@@ u@@ t d@@ ur@@ ing x@@ ml@@ -@@ r@@ p@@ c call@@ ")); set@@ Vds@@ Run@@ time@@ Error@@ (@@ ex@@ ); log.error@@ ((@@ "@@ Time@@ o@@ u@@ t w@@ a@@ it@@ ing for VDS@@ M respon@@ se@@ . " + e@@ )); throw e@@ ; } catch (@@ java.lang.Exception e) { log.error("@@ Error@@ : {}@@ ", e.get@@ Message@@ ()); log.debug@@ ("@@ Exception@@ ", e); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ F@@ ut@@ ure@@ VDSCommand@@ .set@@ Vds@@ Run@@ time@@ Error@@ ((@@ e instanceof java.lang.@@ Run@@ time@@ Exception ? ((@@ java.lang.@@ Run@@ time@@ Exception@@ ) (@@ e@@ )) : new java.lang.@@ Run@@ time@@ Exception@@ (@@ e@@ ))); } return org.ovirt.engine.core.vdsbroker.vdsbroker.@@ F@@ ut@@ ure@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ (); }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () throw@@ s java.lang.Exception { java.io.@@ Fil@@ e et@@ c@@ D@@ i@@ r = new java.io.@@ File@@ (@@ this@@ .get@@ Class@@ ().get@@ Class@@ Lo@@ ad@@ er@@ ().get@@ Resource@@ ("@@ .@@ /@@ or@@ g@@ /@@ ovir@@ t@@ /@@ engin@@ e@@ /@@ ui@@ /@@ f@@ rontend@@ /@@ server@@ /@@ gw@@ t@@ "@@ ).get@@ File@@ ()); test@@ Ser@@ v@@ le@@ t = new org.ovirt.engine.ui.frontend.server.@@ gwt.@@ B@@ r@@ and@@ ing@@ Servlet@@ (); test@@ Servlet@@ .@@ init@@ (@@ et@@ c@@ D@@ ir@@ ); test@@ Servlet@@ .set@@ B@@ r@@ and@@ ing@@ Manager@@ (m@@ ock@@ B@@ r@@ and@@ ing@@ Manager@@ ); when@@ (m@@ ock@@ B@@ r@@ and@@ ing@@ Manager@@ .get@@ B@@ r@@ and@@ ing@@ R@@ oot@@ Path@@ ()).@@ then@@ Return@@ (m@@ ock@@ File@@ ); when@@ (m@@ ock@@ Fil@@ e.get@@ Ab@@ s@@ ol@@ u@@ te@@ Path@@ ()).@@ then@@ Return@@ ("@@ /@@ ab@@ s@@ /@@ test@@ "); when@@ (m@@ ock@@ Re@@ ques@@ t.get@@ Path@@ Info@@ ()).@@ then@@ Return@@ ("@@ /@@ test@@ /@@ s@@ om@@ eth@@ ing.@@ t@@ xt@@ "); when@@ (m@@ ock@@ Respon@@ s@@ e.get@@ Out@@ put@@ St@@ ream@@ ()).@@ then@@ Return@@ (m@@ ock@@ Respon@@ se@@ Out@@ put@@ St@@ ream@@ ); java.io.@@ Fil@@ e test@@ Fil@@ e = new java.io.@@ File@@ (@@ this@@ .get@@ Class@@ ().get@@ Class@@ Lo@@ ad@@ er@@ ().get@@ Resource@@ ("@@ .@@ /@@ or@@ g@@ /@@ ovir@@ t@@ /@@ engin@@ e@@ /@@ ui@@ /@@ f@@ rontend@@ /@@ server@@ /@@ gw@@ t@@ /@@ B@@ r@@ and@@ ing@@ Servlet@@ Test@@ .@@ class@@ "@@ ).get@@ File@@ ()); test@@ File@@ E@@ t@@ a@@ g = test@@ Servlet@@ .@@ gener@@ ate@@ E@@ t@@ ag@@ (@@ test@@ File@@ ); }
public void load@@ () throw@@ s org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Configuration@@ Exception { for (@@ java.io.@@ Fil@@ e d@@ irect@@ or@@ y : org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Ex@@ ten@@ sion@@ s@@ Direct@@ or@@ i@@ es@@ ()) { load@@ (@@ d@@ irect@@ ory@@ ); } ac@@ tivate@@ (); }
@org.junit.Test public void old@@ Host@@ Do@@ es@@ Not@@ Exist@@ () { valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ Update@@ Host@@ Validator@@ (@@ db@@ Fac@@ ade@@ , old@@ Host@@ , null@@ , false@@ ); assert@@ That@@ (@@ validator.@@ host@@ Exist@@ s@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ VDS@@ _@@ IN@@ VALID@@ _S@@ ER@@ V@@ ER_@@ ID@@ )); }
private void set@@ Res@@ et@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand value@@ ) { private@@ Res@@ et@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ C@@ ommand = value@@ ; }
protected org.ovirt.engine.core.bll.ValidationResult network@@ Not@@ Us@@ ed(@@ java.util.List<@@ ? extends org.ovirt.engine.core.common.businessentities.@@ Name@@ able@@ > enti@@ ties@@ , org.ovirt.engine.core.common.errors.@@ EngineMess@@ age enti@@ ties@@ Repl@@ acement@@ P@@ l@@ ur@@ al@@ , org.ovirt.engine.core.common.errors.@@ EngineMess@@ age enti@@ ties@@ Repl@@ acement@@ Sing@@ ul@@ ar@@ ) { return new org.ovirt.engine.core.common.utils.@@ P@@ l@@ ur@@ al@@ Messages@@ ().get@@ Network@@ In@@ Us@@ e(@@ get@@ Enti@@ ties@@ Nam@@ es(@@ enti@@ ties@@ ), enti@@ ties@@ Repl@@ acement@@ Sing@@ ul@@ ar@@ , enti@@ ties@@ Repl@@ acement@@ P@@ l@@ ur@@ al@@ ); }
public static void Remove@@ Volume@@ Al@@ er@@ t@@ (org.ovirt.engine.core.compat.Guid volume@@ Id, org.ovirt.engine.core.common.@@ AuditLog@@ Type typ@@ e) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ AuditLog@@ Dao().@@ remove@@ All@@ Of@@ Type@@ For@@ Volum@@ e(@@ volume@@ Id, typ@@ e.get@@ Value@@ ()); }
@org.junit.Test public void p@@ assword@@ Is@@ Empty@@ () { assert@@ That@@ (@@ validator.@@ p@@ assword@@ Not@@ Empty@@ (@@ false@@ , Auth@@ entic@@ ation@@ Method@@ .@@ Password@@ , null@@ ), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ VDS@@ _C@@ ANNOT_@@ IN@@ ST@@ AL@@ L@@ _@@ EM@@ P@@ TY@@ _P@@ A@@ SS@@ WOR@@ D@@ )); }
public static void p@@ op@@ ul@@ ate@@ Storage@@ Util@@ ization@@ Domain@@ s(@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ iz@@ ation uti@@ l@@ ization@@ , javax.@@ s@@ q@@ l.@@ Data@@ Source d@@ wh@@ Data@@ Source@@ ) throw@@ s org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ D@@ ashboard@@ Data@@ Exception { org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ StorageDomain@@ D@@ wh@@ D@@ a@@ o d@@ a@@ o = new org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ StorageDomain@@ D@@ wh@@ Dao@@ (@@ d@@ wh@@ Data@@ Source@@ ); java.util.List<@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .models.@@ Tr@@ end@@ Res@@ ourc@@ es@@ > us@@ age@@ List = d@@ ao@@ .get@@ StorageDomain@@ Util@@ ization@@ (); for (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .models.@@ Tr@@ end@@ Resource@@ s us@@ age : us@@ age@@ List@@ ) { org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ iz@@ ed@@ Entity enti@@ ty = new org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ iz@@ ed@@ Entity@@ (); entity.set@@ Name(@@ us@@ age.get@@ Name()); entity.set@@ Us@@ ed@@ (((@@ us@@ age.get@@ Us@@ ed@@ ()) / 1@@ 0@@ 2@@ 4@@ )); entity.set@@ T@@ otal@@ (((@@ us@@ age.get@@ T@@ otal@@ ()) / 1@@ 0@@ 2@@ 4@@ )); entity.set@@ Tr@@ end@@ (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ ization@@ Helper.@@ c@@ al@@ c@@ ul@@ ate@@ Tr@@ end@@ (@@ us@@ age.get@@ Us@@ ed@@ (), us@@ age.get@@ Pre@@ vi@@ o@@ us@@ Us@@ ed@@ ())); uti@@ l@@ iz@@ ation.@@ add@@ Resource@@ (@@ entity@@ ); } }
@org.junit.Test public void get@@ M@@ i@@ x@@ ed@@ Lun@@ Connection@@ s() { org.ovirt.engine.core.common.businessentities.@@ LUN@@ s lu@@ n = new org.ovirt.engine.core.common.businessentities.@@ LUN@@ s(); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage_@@ server@@ _@@ connection@@ s> connection@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage_@@ server@@ _@@ connection@@ s@@ >(); connection@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ storage_@@ server@@ _@@ connection@@ s@@ ("@@ S@@ om@@ e LU@@ N connection@@ ", "@@ id@@ ", "@@ i@@ q@@ n@@ ", "@@ p@@ assword@@ ", org.ovirt.engine.core.common.businessentities.Storage@@ Type.@@ IS@@ C@@ SI@@ , "@@ User@@ name@@ ", "@@ port@@ al@@ ")); connection@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ storage_@@ server@@ _@@ connection@@ s@@ ("@@ O@@ th@@ er LU@@ N connection@@ ", "@@ id@@ ", "@@ i@@ q@@ n@@ ", "@@ p@@ assword@@ ", org.ovirt.engine.core.common.businessentities.Storage@@ Type.@@ F@@ C@@ P@@ , "@@ User@@ name@@ ", "@@ port@@ ", "@@ port@@ al@@ ")); lun@@ .set@@ Lun@@ Connection@@ s(@@ connection@@ s); java.util.Map<@@ org.ovirt.engine.core.common.businessentities.Storage@@ Type, java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage_@@ server@@ _@@ connection@@ s@@ >> connection@@ sBy@@ Type = org.ovirt.engine.core.bll.storage.@@ Storage@@ Helper@@ Bas@@ e.@@ filter@@ LUN@@ sBy@@ Storage@@ Type(@@ lun@@ ); assert@@ True@@ ("@@ Map of stor@@ age connection@@ s shoul@@ d not b@@ e em@@ pty@@ .@@ ", (!(@@ connection@@ sBy@@ Type.@@ isEmpty@@ ()))); assert@@ Equals@@ ("@@ Map of stor@@ age connection@@ s shoul@@ d ha@@ v@@ e on@@ l@@ y t@@ w@@ o type@@ s of connection@@ s.@@ ", 2@@ , connection@@ sBy@@ Type.@@ size@@ ()); assert@@ Equals@@ ("@@ Map of IS@@ C@@ S@@ I stor@@ age connection@@ s shoul@@ d ha@@ v@@ e on@@ l@@ y 1 IS@@ C@@ S@@ I connection@@ s.@@ ", 1, connection@@ sBy@@ Typ@@ e.get@@ (@@ StorageType.@@ IS@@ C@@ SI@@ ).@@ size@@ ()); assert@@ Equals@@ ("@@ Map of F@@ C@@ P stor@@ age connection@@ s shoul@@ d ha@@ v@@ e on@@ l@@ y 1 F@@ C@@ P connection@@ s.@@ ", 1, connection@@ sBy@@ Typ@@ e.get@@ (@@ StorageType.@@ F@@ C@@ P@@ ).@@ size@@ ()); }
@java.lang.Override protected boolean canDoAction@@ () { java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ storage@@ _@@ do@@ m@@ ain@@ s> do@@ m@@ ain@@ s@@ Map = new java.util.HashMap<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ storage@@ _@@ do@@ m@@ ain@@ s@@ >(); if (!@@ (c@@ an@@ DoAction@@ _@@ b@@ e@@ for@@ e@@ Cl@@ one@@ Vm@@ (@@ do@@ m@@ ain@@ s@@ Map@@ ))) { return failCanDoAction@@ With@@ Type@@ (); } return (get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ()) { init@@ Import@@ Cl@@ on@@ ed@@ Vm@@ (); } if (!@@ (c@@ an@@ DoAction@@ _@@ af@@ ter@@ Cl@@ one@@ Vm@@ (c@@ an@@ DoAction@@ Messages@@ , do@@ m@@ ain@@ s@@ Map@@ ))) { return failCanDoAction@@ With@@ Type@@ (); } return true@@ ; }
@java.lang.Override protected boolean validate@@ () { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity gluster@@ Volum@@ e = get@@ GlusterVolume@@ (); if (!@@ (@@ super@@ .@@ validate@@ ())) { return false@@ ; } boolean is@@ Volume@@ D@@ ist@@ ri@@ bu@@ te@@ d = gluster@@ Volum@@ e.get@@ Volume@@ Type@@ ().is@@ D@@ ist@@ ri@@ bu@@ ted@@ Type@@ (); if (!@@ is@@ Volume@@ D@@ ist@@ ri@@ bu@@ ted@@ ) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ NOT_@@ D@@ IST@@ R@@ I@@ B@@ U@@ T@@ ED); } else if ((@@ gluster@@ Volum@@ e.get@@ Brick@@ s().@@ size()) == 1@@ ) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ D@@ IST@@ R@@ I@@ B@@ U@@ T@@ ED_@@ AN@@ D_@@ H@@ A@@ S_@@ S@@ ING@@ L@@ E_@@ B@@ R@@ IC@@ K@@ ); } org.ovirt.engine.core.bll.validator.@@ gluster.Gluster@@ Brick@@ Validator brick@@ Validator = new org.ovirt.engine.core.bll.validator.@@ gluster.Gluster@@ Brick@@ Validator@@ (); return validate@@ (@@ brick@@ Validator.@@ can@@ R@@ eb@@ al@@ ance@@ (@@ gluster@@ Volume@@ )); }
private int get@@ Resource@@ Type(@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ ode@@ , java.lang.String res@@ ource@@ ) { return res@@ ource@@ ; }
protected java.util.List<@@ org.ovirt.engine.core.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Custom@@ Properties@@ Utils.@@ Validation@@ Error@@ > validate@@ Custom@@ Properties@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Static@@ From@@ Param@@ s) { return org.ovirt.engine.core.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Custom@@ Properties@@ Util@@ s.get@@ Instance@@ ().@@ validate@@ VM@@ Properties@@ (org.ovirt.engine.core.bll.@@ Vm@@ Command.get@@ VdsGroup@@ ().get@@ c@@ ompatibility@@ _@@ version@@ (), vm@@ Static@@ From@@ Param@@ s); }
@java.lang.Override protected void update@@ Detail@@ s@@ Avail@@ ab@@ ility@@ () { super@@ .@@ update@@ Detail@@ s@@ Avail@@ ab@@ ility@@ (); get@@ Model@@ ().setIs@@ Available@@ (@@ true@@ ); }
@java.lang.Override public java.lang.String get@@ Name@@ () { return name@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ e get@@ By@@ Name@@ (java.lang.String name@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ name@@ ", name@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ ("@@ Get@@ Role@@ By@@ Name@@ ", org.ovirt.engine.core.dao.@@ Role@@ Dao@@ Impl.@@ R@@ ol@@ es@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
@org.junit.Test public void test@@ Vm@@ Lock@@ ed@@ () { setUp@@ Gener@@ al@@ Validation@@ s(); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_@@ LO@@ C@@ K@@ ED@@ )).@@ when@@ (vm@@ Validator@@ ).@@ vm@@ Not@@ Lock@@ ed@@ (); do@@ Return@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command@@ Tes@@ t.get@@ Empty@@ Disk@@ List@@ ()).@@ when@@ (cmd@@ ).get@@ Disks@@ List@@ (); assert@@ F@@ als@@ e(@@ cmd@@ .@@ validate@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ Validation@@ Messages@@ ().@@ contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_@@ LO@@ C@@ K@@ ED@@ .@@ name@@ ())); }
@org.junit.@@ B@@ e@@ for@@ e public void set@@ up@@ () { when(@@ network@@ .getId@@ ()).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Update@@ Network@@ Validator@@ Test.@@ NETWORK_@@ ID@@ ); valid@@ ator = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Update@@ Network@@ Command.@@ Update@@ Network@@ Validator@@ (network@@ , manage@@ ment@@ Network@@ Util@@ )); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ M@@ AN@@ U@@ AL@@ _@@ F@@ EN@@ C@@ E); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ HOST@@ ); }
public void append@@ Custom@@ Comm@@ a@@ Se@@ par@@ ated@@ Value("@@ Comm@@ a@@ (@@ final java.lang.String name@@ , final java.lang.String value@@ ) { append@@ Custom@@ Comm@@ a@@ Se@@ par@@ ator@@ (@@ name@@ , value@@ , ", "); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Hos@@ t Hook@@ s@@ ") java.lang.String host@@ Hook@@ s@@ Title@@ ();
public static void is@@ Cluster@@ H@@ as@@ An@@ y@@ Up@@ Host@@ (@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , org.ovirt.engine.core.compat.Guid cluster@@ Id) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { if (s@@ ource != null@@ ) { return true@@ ; } else { return false@@ ; } } }; org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vds@@ In@@ Up@@ Status@@ By@@ VdsGroup@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (cluster@@ Id@@ ), aQuery@@ ); }
private java.lang.String get@@ Network@@ Name@@ () { return Plug@@ Un@@ plug@@ Vm@@ Nic@@ Command.getVm@@ Network@@ Interface@@ DAO@@ ().get@@ (@@ Plug@@ Un@@ plug@@ Vm@@ Nic@@ Command.getParameters().get@@ Nic@@ Id@@ ())@@ .get@@ Network@@ Name@@ (); }
@@@ org.ovirt.engine.ui.common.@@ Default@@ Message@@ ("@@ Change@@ s th@@ a@@ t re@@ qui@@ r@@ e Vir@@ tu@@ al M@@ ach@@ in@@ e res@@ t@@ art@@ . ") java.lang.String ne@@ xt@@ Run@@ Configuration@@ Exist@@ s();
@java.lang.Override protected boolean canDoAction@@ () { if ((get@@ DiskImage@@ ()) == null@@ ) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ NOT_@@ EXIST@@ ); } if (!(@@ validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (org.ovirt.engine.core.bll.@@ Export@@ Rep@@ o@@ Image@@ Command.get@@ StorageDomain@@ ()).@@ is@@ Domain@@ Exist@@ And@@ Active@@ ()))) { return false@@ ; } if (!@@ (get@@ DiskImage@@ ().get@@ Parent@@ Id().@@ equals(@@ Guid@@ .@@ Empty@@ ))) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ C@@ ON@@ F@@ I@@ G@@ UR@@ A@@ TION_@@ NOT_@@ SUP@@ PORT@@ ED); } for (org.ovirt.engine.core.common.businessentities.@@ VM vm : org.ovirt.engine.core.bll.@@ Export@@ Rep@@ o@@ Image@@ Command.getVm@@ Dao().get@@ Vms@@ List@@ For@@ Disk@@ (get@@ DiskImage@@ ().get@@ Id(), false@@ )) { if ((@@ vm.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Down@@ )) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_@@ R@@ UN@@ N@@ ING@@ ); } } org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Images@@ Validator disk@@ Images@@ Validator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Images@@ Validator@@ (@@ java.util.Arrays.as@@ List@@ (get@@ DiskImage@@ ())); if ((!@@ (@@ validate@@ (disk@@ Images@@ Validator.@@ disk@@ Images@@ Not@@ I@@ l@@ le@@ g@@ al@@ ()))) || (!(@@ validate@@ (disk@@ Images@@ Validator.@@ disk@@ Images@@ Not@@ Lock@@ ed@@ ())@@ ))) { return false@@ ; } return true@@ ; }
public static void get@@ Allow@@ Cluster@@ With@@ Vir@@ t@@ Gluster@@ Enabled@@ (@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { return s@@ ource != null ? s@@ ource : java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ ; } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ From@@ C@@ ach@@ e@@ (@@ new org.ovirt.engine.core.common.queries.@@ Get@@ Configuration@@ Value@@ Parameters@@ (org.ovirt.engine.core.common.@@ queries.@@ Configuration@@ Values.@@ Allow@@ Cluster@@ With@@ Vir@@ t@@ Gluster@@ Enabled@@ , org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Default@@ Configuration@@ Version@@ ()), aQuery@@ ); }
private org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue run@@ Fence@@ Action@@ (org.ovirt.engine.core.common.businessentities.@@ Fence@@ Action@@ Type action@@ Type, org.ovirt.engine.core.common.businessentities.@@ Fence@@ Agent@@ Or@@ der or@@ der@@ ) { java.lang.String manage@@ ment@@ I@@ p = get@@ Management@@ Ip@@ (@@ or@@ der@@ ); java.lang.String manage@@ ment@@ P@@ or@@ t = get@@ Management@@ Port@@ (@@ or@@ der@@ ); java.lang.String manage@@ ment@@ ent = get@@ Management@@ Agent@@ (@@ or@@ der@@ ); java.lang.String manage@@ ment@@ Us@@ er = get@@ Management@@ User@@ (@@ or@@ der@@ ); java.lang.String manage@@ ment@@ P@@ asswor@@ d = get@@ Management@@ Password@@ (@@ or@@ der@@ ); java.lang.String manage@@ ment@@ Option@@ s = get@@ Management@@ Option@@ s(@@ or@@ der@@ ); org.ovirt.engine.core.bll.@@ Fence@@ Execu@@ t@@ or.@@ log.info@@ Format@@ ((@@ "@@ Execu@@ t@@ ing <@@ {0@@ }@@ > P@@ ow@@ er Manage@@ m@@ ent command@@ , Pro@@ x@@ y Host@@ :@@ {@@ 1@@ }, " + "@@ Agent@@ :@@ {@@ 2@@ }, T@@ arg@@ e@@ t Host@@ :@@ {@@ 3@@ }, Manage@@ m@@ ent I@@ P@@ :@@ {@@ 4@@ }, User@@ :@@ {@@ 5@@ }, Option@@ s@@ :@@ {@@ 6@@ }@@ "@@ ), action@@ Type, pro@@ xy@@ Host@@ Name, manage@@ ment@@ Agent@@ , _@@ vds.get@@ Name(), manage@@ ment@@ Ip@@ , manage@@ ment@@ User@@ , manage@@ ment@@ Option@@ s); return org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Fence@@ Vds@@ , new org.ovirt.engine.core.common.vdscommands.@@ Fence@@ Vds@@ VDSCommand@@ Parameters(@@ pro@@ xy@@ Host@@ Id, _@@ vds.get@@ Id(), manage@@ ment@@ Ip@@ , manage@@ ment@@ Port@@ , manage@@ ment@@ Agent@@ , manage@@ ment@@ User@@ , manage@@ ment@@ Password@@ , manage@@ ment@@ Option@@ s, action@@ Type, f@@ enc@@ ing@@ Policy@@ )); }
@java.lang.Override protected void s@@ ync@@ Search@@ () { if ((get@@ Entity@@ ()) == null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ GlusterVolume@@ GeoRep@@ Status@@ For@@ Ma@@ ster@@ Volume@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ Session@@ > ge@@ oRep@@ Session@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ Session@@ >) (@@ return@@ Value@@ )); java.util.Collections.@@ s@@ ort@@ (@@ ge@@ oRep@@ Session@@ s, new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ GlusterVolume@@ GeoRep@@ Session@@ Comp@@ ar@@ er@@ ()); set@@ Items(@@ ge@@ oRep@@ Session@@ s); } }@@ ), get@@ Entity@@ ().get@@ Id()); }
private do@@ ubl@@ e c@@ al@@ c@@ D@@ ist@@ ri@@ bu@@ te@@ M@@ et@@ r@@ ic@@ (org.ovirt.engine.core.bll.@@ VDS vds@@ , org.ovirt.engine.core.bll.@@ VM vm@@ ) { int v@@ c@@ p@@ u = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ Get@@ Value(ConfigValues.@@ V@@ cpu@@ Cons@@ um@@ ption@@ Per@@ c@@ ent@@ age@@ ); int sp@@ m@@ C@@ p@@ u = ((@@ vds.get@@ sp@@ m@@ _@@ status@@ ()) == (@@ Vds@@ Sp@@ m@@ Status.@@ N@@ one@@ )) ? 0 : org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ Get@@ Value(ConfigValues.@@ Sp@@ m@@ V@@ Cpu@@ Cons@@ um@@ ption@@ ); int host@@ C@@ ore@@ s = org.ovirt.engine.core.bll.@@ Vds@@ Sel@@ ect@@ or@@ .get@@ e@@ ff@@ ec@@ tive@@ _@@ cpu@@ _@@ cor@@ es(@@ vds@@ ); do@@ ubl@@ e host@@ C@@ p@@ u = vds.get@@ us@@ age@@ _@@ cpu@@ _@@ per@@ c@@ ent@@ (); do@@ ubl@@ e p@@ end@@ ing@@ V@@ cpu@@ s = vds.get@@ p@@ end@@ ing@@ _@@ v@@ c@@ p@@ us@@ _@@ c@@ ount@@ (); return (@@ host@@ C@@ p@@ u / v@@ cpu@@ ) + (((@@ p@@ end@@ ing@@ V@@ cpu@@ s + (vm.get@@ Num@@ Of@@ C@@ p@@ us@@ ())) + sp@@ m@@ Cpu@@ ) / host@@ C@@ or@@ es@@ ); }
private boolean is@@ Ip@@ Address@@ In@@ Sync@@ () { return org.ovirt.engine.core.common.utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (@@ if@@ ac@@ e.get@@ Address@@ (), is@@ P@@ ri@@ mar@@ y@@ Address@@ Exist@@ () ? network@@ DataCenter@@ Ip@@ Configuration@@ De@@ fin@@ ition@@ .get@@ P@@ ri@@ mar@@ y@@ Address@@ ().get@@ Address@@ () : null@@ )); }
@@@ com.google.gwt.@@ i@@ 18@@ n@@ .client.@@ Constants.@@ DefaultStringValue("@@ N@@ et@@ m@@ ask@@ ") java.lang.String c@@ lo@@ u@@ d@@ Init@@ Network@@ N@@ et@@ m@@ ask@@ Label@@ ();
public void get@@ Vm@@ G@@ u@@ est@@ Agent@@ Interfaces@@ By@@ Vm@@ Id(@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , org.ovirt.engine.core.compat.Guid vm@@ Id) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { if (s@@ ource == null@@ ) { return new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ G@@ u@@ est@@ Agent@@ Interface@@ >(); } return source@@ ; } }; org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters query@@ Param@@ s = new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (vm@@ Id); query@@ Param@@ s.set@@ Re@@ fresh@@ (@@ false@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vm@@ G@@ u@@ est@@ Agent@@ Interfaces@@ By@@ Vm@@ Id, query@@ Param@@ s, aQuery@@ ); }
@java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { get@@ E@@ n@@ try@@ (@@ w@@ idget@@ ).@@ s@@ w@@ ap@@ Button@@ (c@@ reate@@ Button@@ (@@ item@@ )); add@@ G@@ host@@ E@@ n@@ try@@ (); on@@ Add@@ (@@ value@@ , w@@ idget@@ ); }
public void add@@ Or@@ Update@@ Task@@ In@@ D@@ B@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ Async@@ T@@ as@@ k async@@ Task@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Requi@@ red@@ , new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.@@ V@@ o@@ id@@ >() { @java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { if ((!@@ (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (@@ async@@ Task@@ .get@@ Ch@@ ild@@ C@@ md@@ Entity@@ ().get@@ R@@ oot@@ Command@@ Id@@ ()))) && (!(@@ async@@ Task@@ .get@@ Ch@@ ild@@ C@@ md@@ Entity@@ ().get@@ R@@ oot@@ Command@@ Id().@@ equals(@@ async@@ Task@@ .get@@ Ch@@ ild@@ C@@ md@@ Entity@@ ().get@@ Id@@ ())@@ ))) { c@@ oc@@ o.@@ p@@ ers@@ ist@@ Command(@@ async@@ Task@@ .get@@ R@@ oot@@ C@@ md@@ Entity@@ ()); } c@@ oc@@ o.@@ p@@ ers@@ ist@@ Command(@@ async@@ Task@@ .get@@ Ch@@ ild@@ C@@ md@@ Entity@@ ()); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ AsyncTask@@ Dao().@@ save@@ Or@@ Update@@ (@@ async@@ Task@@ ); return null@@ ; } }); }
public void init@@ (@@ final java.io.@@ Fil@@ e et@@ c@@ D@@ ir@@ ) { set@@ B@@ r@@ and@@ ing@@ Manager@@ (@@ new org.ovirt.engine.ui.frontend.server.@@ gwt.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Manager@@ (@@ final java.io.@@ Fil@@ e b@@ r@@ and@@ ing@@ Manager@@ ) { set@@ B@@ r@@ and@@ ing@@ Manager@@ (@@ new org.ovirt.engine.ui.frontend.server.@@ gwt.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Manager@@ (@@ final java.io.@@ Fil@@ e m@@ and@@ ing@@ Manager@@ ) { set@@ B@@ r@@ and@@ ing@@ Manager@@ (@@ new org.ovirt.engine.ui.frontend.server.@@ gwt.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Manager@@ (@@ final java.io.@@ Fil@@ e fil@@ e@@ Name = ((@@ (@@ b@@ r@@ and@@ ing@@ Manager@@ ) (@@ fil@@ e@@ Name@@ )); if (m@@ and@@ ing@@ Manager@@ ) != null@@ ) { set@@ B@@ r@@ and@@ ing@@ Manager@@ (@@ new org.ovirt.engine.ui.frontend.server.@@ gwt.@@ b@@ r@@ and@@ ing.@@ B@@ r@@
public org.ovirt.engine.core.bll.ValidationResult can@@ Dis@@ able@@ Vir@@ ti@@ oS@@ csi@@ (@@ java.util.Collection@@ <@@ ? extends org.ovirt.engine.core.common.businessentities.@@ Disk@@ > vm@@ Disk@@ s) { if (vm@@ Disk@@ s == null@@ ) { vm@@ Disk@@ s = get@@ Disk@@ Dao().get@@ AllFor@@ Vm@@ (vm@@ s.@@ iter@@ ator@@ ().@@ ne@@ xt@@ ().get@@ Id(), true@@ ); } boolean is@@ Vir@@ ti@@ oS@@ csi@@ Disk@@ Exist@@ s = org.apache.commons.@@ c@@ oll@@ ection@@ s.@@ Collection@@ Utils.@@ ex@@ ist@@ s(@@ vm@@ Disk@@ s, new org.apache.commons.@@ c@@ oll@@ ection@@ s.@@ P@@ red@@ icate@@ () { @java.lang.Override public boolean e@@ valu@@ ate@@ (java.lang.Object disk@@ ) { return ((@@ (org.ovirt.engine.core.common.businessentities.@@ Disk@@ ) (disk@@ )@@ ).get@@ Disk@@ Interface@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _S@@ C@@ SI@@ ); } }); if (is@@ Vir@@ ti@@ oS@@ csi@@ Disk@@ Exist@@ s) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ C@@ ANNOT_@@ DIS@@ AB@@ L@@ E_@@ V@@ I@@ R@@ TI@@ O@@ _S@@ C@@ SI@@ _P@@ LU@@ G@@ ED_@@ DIS@@ K@@ S@@ ); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public void re@@ le@@ ase@@ Session@@ () { if ((@@ s@@ ession@@ Id) != null@@ ) { s@@ ession@@ Id = null@@ ; com.google.gwt.@@ http@@ .client.@@ Request@@ Buil@@ der request@@ Buil@@ der = create@@ Request@@ (); s@@ end@@ Request@@ (@@ request@@ Builder@@ , new org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .res@@ tapi@@ .@@ Res@@ t@@ Ap@@ i@@ Session@@ Manager.@@ Res@@ t@@ Ap@@ i@@ Request@@ Callback@@ ()); } }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Add@@ ") java.lang.String add@@ Is@@ csi@@ Bond@@ ();
@java.lang.Override protected void p@@ er@@ for@@ m@@ () { create@@ Memory@@ D@@ um@@ p@@ Disk@@ (); org.ovirt.engine.core.bll.@@ H@@ i@@ ber@@ n@@ ate@@ Vm@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
@org.junit.Test public void f@@ rontend@@ To@@ Backend@@ _@@ t@@ w@@ o@@ Buil@@ d@@ ers@@ () { new org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ Builder@@ Execu@@ t@@ or@@ <@@ org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ Test@@ ing@@ Frontend@@ Model@@ , org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ Test@@ ing@@ Backend@@ Model@@ >@@ (@@ new org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ Property@@ 1@@ Builder@@ (), new org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ Property@@ 2@@ Builder@@ ()).@@ build@@ (@@ f@@ rontend@@ Model@@ , back@@ end@@ Model@@ ); assert@@ That@@ (@@ back@@ end@@ Model@@ , is@@ (@@ e@@ qu@@ al@@ To@@ (@@ new org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ Test@@ ing@@ Backend@@ Model@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ Builder@@ Execu@@ t@@ or@@ Test.@@ f@@ e@@ 1, org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ Builder@@ Execu@@ t@@ or@@ Test.@@ f@@ e@@ 2@@ )@@ ))); }
@org.junit.Test public void shoul@@ d@@ Det@@ ect@@ S@@ ame@@ O@@ s() { assert@@ That@@ (@@ new org.ovirt.engine.core.bll.@@ scheduling.@@ O@@ S@@ ("@@ os@@ 1@@ ", new org.ovirt.engine.core.compat.@@ Version@@ ("@@ 6@@ .@@ 3@@ "@@ )).@@ is@@ S@@ ame@@ Os@@ (@@ new org.ovirt.engine.core.bll.@@ scheduling.@@ O@@ S@@ ("@@ os@@ 1@@ ", new org.ovirt.engine.core.compat.@@ Version@@ ("@@ 6@@ .@@ 3@@ "@@ )@@ )@@ )@@ )).@@ is@@ True@@ (); }
private boolean validate@@ Network@@ Interfaces@@ () { java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.Vm@@ Network@@ Interface@@ > int@@ er@@ fac@@ e@@ Network@@ Map = org.ovirt.engine.core.common.businessentities.@@ Enti@@ ties@@ .@@ int@@ er@@ fac@@ es@@ By@@ Network@@ Name@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Interfaces@@ ()); java.util.@@ Set<@@ java.lang.String> int@@ er@@ fac@@ e@@ Network@@ Name@@ s = int@@ er@@ fac@@ e@@ Network@@ Map.@@ key@@ Set@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > cluster@@ Network@@ s = org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Network@@ DAO@@ ().get@@ AllFor@@ Cluster@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ vds@@ _@@ group@@ _id@@ ()); java.util.@@ Set<@@ java.lang.String> cluster@@ Networks@@ Name@@ s = org.ovirt.engine.core.common.businessentities.@@ Enti@@ ties.@@ object@@ Names@@ (cluster@@ Networks@@ ); return ((@@ is@@ Vm@@ Interfaces@@ Configur@@ ed@@ (@@ int@@ er@@ fac@@ e@@ Network@@ Map@@ )) && (is@@ Vm@@ Interfaces@@ Attached@@ To@@ Cluster@@ Networks@@ (cluster@@ Networks@@ Names@@ , int@@ er@@ fac@@ e@@ Network@@ Names@@ ))) && (is@@ Vm@@ Interfaces@@ Attached@@ To@@ Vm@@ Networks@@ (cluster@@ Network@@ s, int@@ er@@ fac@@ e@@ Network@@ Names@@ )); }
private org.ovirt.engine.core.common.businessentities.@@ DiskImage create@@ Not@@ Vir@@ t@@ I@@ O@@ Disk@@ () { org.ovirt.engine.core.common.businessentities.@@ DiskImage dis@@ k = get@@ DiskImage@@ (); disk@@ .set@@ Active@@ (@@ true@@ ); disk@@ .set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ ID@@ E); do@@ Return(@@ disk@@ Dao@@ ).when@@ (command@@ ).get@@ Disk@@ Dao@@ (); when@@ (disk@@ Dao.get@@ (disk@@ Image@@ Guid@@ )).@@ thenReturn(@@ disk@@ ); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ Disk@@ Hot@@ plug@@ g@@ able@@ Interfac@@ es(@@ any@@ (@@ java.lang.Integer@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ Hot@@ Plug@@ Disk@@ To@@ Vm@@ Command@@ Test.@@ DIS@@ K_@@ HO@@ T@@ P@@ LU@@ G@@ G@@ AB@@ L@@ E_@@ IN@@ TER@@ F@@ AC@@ ES@@ ); return disk@@ ; }
public boolean Validate@@ () { get@@ Network@@ ().@@ Validate@@ SelectedItem@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ () }); get@@ Bond@@ ().@@ Validate@@ SelectedItem@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Bond@@ Name@@ Validation@@ () }); get@@ Address@@ ().setIs@@ Valid@@ (@@ true@@ ); get@@ Sub@@ net@@ ().setIs@@ Valid@@ (@@ true@@ ); get@@ G@@ ate@@ w@@ ay@@ ().setIs@@ Valid@@ (@@ true@@ ); if (get@@ Is@@ Static@@ Address@@ ()) { get@@ Address@@ ().@@ Validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), new org.ovirt.engine.ui.uicommonweb.validation.@@ Ip@@ Address@@ Validation@@ () }); get@@ Sub@@ net@@ ().@@ Validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), new org.ovirt.engine.ui.uicommonweb.validation.@@ Sub@@ net@@ M@@ ask@@ Validation@@ () }); get@@ G@@ ate@@ w@@ ay@@ ().@@ Validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), new org.ovirt.engine.ui.uicommonweb.validation.@@ Ip@@ Address@@ Validation@@ () }); } return ((@@ ((get@@ Bond@@ ().get@@ Is@@ Valid@@ ()) && (get@@ Network@@ ().get@@ Is@@ Valid@@ ())) && (get@@ Address@@ ().get@@ Is@@ Valid@@ ())) && (get@@ Sub@@ net@@ ().get@@ Is@@ Valid@@ ())) && (get@@ G@@ ate@@ w@@ ay@@ ().get@@ Is@@ Valid@@ ()); }
public static void set@@ G@@ ate@@ w@@ ay@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ace@@ , org.ovirt.engine.core.common.businessentities.@@ VDS host@@ , java.lang.String g@@ ate@@ w@@ ay@@ , java.util.@@ f@@ un@@ c@@ tion@@ .@@ Cons@@ um@@ er@@ <@@ java.lang.String> g@@ ate@@ w@@ ay@@ Set@@ ter@@ ) { if (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ is@@ G@@ ate@@ w@@ ay@@ N@@ ec@@ ess@@ ar@@ y@@ ().@@ test@@ (@@ if@@ ace@@ , host@@ )) { g@@ ate@@ w@@ ay@@ Set@@ t@@ er.@@ ac@@ ce@@ p@@ t@@ (@@ g@@ ate@@ w@@ ay@@ ); } }
public static java.util.List<java.lang.String> run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ , org.ovirt.engine.core.dal.@@ Vdc@@ Bll@@ Message@@ s mess@@ age@@ ) { boolean can@@ Do@@ Ac@@ tion = command@@ .@@ canDoAction@@ (); java.util.List<java.lang.String> canDoAction@@ Message@@ s = command@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ (); assert@@ F@@ alse@@ ("@@ Command@@ '@@ s can@@ Do@@ Ac@@ tion exp@@ ected to fail@@ , bu@@ t s@@ uc@@ ceeded@@ ", canDoAction@@ ); assert@@ True@@ (@@ java.@@ tex@@ t.@@ Message@@ Format@@ .@@ for@@ mat@@ ("@@ can@@ Do@@ Ac@@ tion mess@@ age@@ s do@@ es@@ n@@ '@@ t cont@@ ain exp@@ ected mess@@ age@@ : {0@@ }, mess@@ age@@ s are@@ : {@@ 1@@ }@@ ", mess@@ age.@@ name@@ (), canDoAction@@ Messages@@ ), canDoAction@@ Messages.@@ contains(@@ mess@@ age.@@ name@@ ())); return canDoAction@@ Messages@@ ; }
private org.ovirt.engine.core.bll.ValidationResult network@@ Not@@ Us@@ ed@@ By@@ Host@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ sWith@@ Network = org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Update@@ Network@@ Command.get@@ Vds@@ DAO@@ ().get@@ AllFor@@ Network@@ (get@@ O@@ l@@ d@@ Network@@ ().get@@ Id()); if (@@ host@@ sWith@@ Network@@ .@@ isEmpty@@ ()) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } java.util.List<java.lang.String> re@@ pl@@ acement@@ s = java.util.Arrays.as@@ List(@@ org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ re@@ pl@@ ace@@ With@@ Name@@ able@@ ("@@ EN@@ TI@@ TI@@ E@@ S_@@ US@@ ING@@ _@@ NETWOR@@ K@@ ", host@@ sWith@@ Network@@ )); re@@ pl@@ acement@@ s.add(@@ VdcBllMessages.@@ VAR__@@ TYPE_@@ _@@ HOST@@ S@@ .@@ name@@ ()); return new org.ovirt.engine.core.bll.ValidationResult@@ (@@ org.ovirt.engine.core.dal.@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ NETWORK_@@ IN_@@ US@@ E, re@@ pl@@ acement@@ s.@@ to@@ Array@@ (@@ new java.lang.String@@ [@@ re@@ pl@@ acement@@ s.@@ size@@ ()@@ ]@@ )); }
public org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.Boolean@@ > get@@ Is@@ R@@ ng@@ Enabled@@ () { return is@@ R@@ ng@@ Enabled@@ ; }
public void set@@ Db@@ Gener@@ ation@@ (@@ long db@@ Gener@@ ation@@ ) { this@@ .@@ db@@ Gener@@ ation = db@@ Gener@@ ation@@ ; }
private void update@@ Action@@ Avail@@ ab@@ ility@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k = get@@ SelectedItem@@ (); java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ > disk@@ s = ((get@@ SelectedItem@@ s()) != null@@ ) ? ((@@ java.util.Array@@ List@@ ) (get@@ SelectedItem@@ s@@ ())) : null@@ ; boolean shoul@@ d@@ Allow@@ E@@ d@@ i@@ t = true@@ ; if (@@ dis@@ k != null@@ ) { shoul@@ d@@ Allow@@ E@@ d@@ i@@ t = ((@@ disk@@ .get@@ Content@@ Type()) != (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Content@@ Type.@@ OV@@ F@@ _@@ STOR@@ E@@ )) && (!@@ (((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) && ((((@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ) (disk@@ )@@ ).get@@ Image@@ Status()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status.@@ LO@@ C@@ K@@ ED@@ )@@ ))); } get@@ New@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ true@@ ); get@@ Edit@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ (((@@ dis@@ k != null@@ ) && (disk@@ s != null@@ )) && ((@@ disk@@ s.@@ size()) == 1@@ )) && shoul@@ d@@ Allow@@ Edit@@ )); get@@ Remove@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((((@@ disk@@ s != null@@ ) && ((@@ disk@@ s.@@ size()) > 0@@ )) && (is@@ Remove@@ Command@@ Available@@ ()))); get@@ S@@ can@@ Al@@ ign@@ ment@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((((@@ disk@@ s != null@@ ) && ((@@ disk@@ s.@@ size()) > 0@@ )) && (is@@ S@@ can@@ Al@@ ign@@ ment@@ Command@@ Available@@ ()))); get@@ Export@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ is@@ Export@@ Command@@ Available@@ ()); update@@ Copy@@ And@@ Move@@ Command@@ Avail@@ ab@@ ility@@ (disk@@ s); org.ovirt.engine.ui.uicommonweb.models.@@ quota@@ .@@ Change@@ Quota@@ Model.@@ update@@ Change@@ Quota@@ Action@@ Avail@@ ab@@ ility@@ ((@@ (get@@ Item@@ s()) != null ? ((@@ java.util.@@ List@@ ) (get@@ Item@@ s@@ ())) : null@@ ), ((get@@ SelectedItem@@ s()) != null ? ((@@ java.util.@@ List@@ ) (get@@ SelectedItem@@ s@@ ())) : null@@ ), get@@ System@@ T@@ ree@@ SelectedItem@@ (), get@@ Change@@ Quota@@ Command@@ ()); }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { return java.util.Collections.@@ sing@@ leton@@ Map@@ (get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name(), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ STOR@@ AG@@ E, EngineMessage.ACTION_TYPE_FAILED_@@ O@@ B@@ J@@ EC@@ T_@@ LO@@ C@@ K@@ ED@@ )); }
@java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ <@@ java.lang.@@ V@@ o@@ id@@ > vm@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ <@@ java.lang.@@ V@@ o@@ id@@ >) (@@ result.get@@ State@@ ())); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value@@ Base = result.get@@ ReturnValue@@ (); if (@@ (@@ return@@ Value@@ Base != null@@ ) && (@@ return@@ Value@@ Base.get@@ Succeeded@@ ())) { org.ovirt.engine.core.common.businessentities.VM vm = vm@@ List@@ Model.get@@ current@@ Vm@@ (); org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base update@@ Vm@@ Param@@ s = vm@@ List@@ Model.get@@ Update@@ Vm@@ Parameters(@@ ap@@ pl@@ y@@ Cpu@@ Chang@@ es@@ L@@ at@@ er@@ , vm@@ I@@ con@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action(VdcActionType.@@ Update@@ Vm@@ , update@@ Vm@@ Param@@ s, new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model@@ Network@@ AsyncCallback@@ (@@ model, default@@ Network@@ Cre@@ at@@ ing@@ Manager@@ , vm.get@@ Id@@ ()), vm@@ ListModel@@ ); } else { vm@@ List@@ Model.get@@ W@@ in@@ do@@ w@@ ().@@ st@@ op@@ Progress@@ (); } }
public java.util.@@ Option@@ al@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ Snapshot@@ Us@@ ing@@ Mac@@ (org.ovirt.engine.core.compat.Guid m@@ ac@@ Pool@@ Id, java.lang.String m@@ ac@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > all@@ Vm@@ s = get@@ All@@ Vms@@ In@@ System@@ (get@@ Id@@ s@@ Of@@ All@@ C@@ lust@@ ers@@ H@@ a@@ v@@ ing@@ MacPool@@ (m@@ ac@@ Pool@@ Id@@ )).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > snapshot@@ sBy@@ Id = get@@ All@@ State@@ l@@ ess@@ Vm@@ s(@@ all@@ Vms@@ )@@ .m@@ ap@@ (@@ VM@@ :@@ :@@ :@@ :@@ get@@ Id@@ )@@ .m@@ ap@@ (s@@ napshot@@ sManager@@ :@@ :@@ get@@ Vm@@ Configuration@@ In@@ State@@ l@@ ess@@ Snapshot@@ Of@@ Vm@@ ).@@ filter@@ (java.util.@@ Option@@ al@@ :@@ :@@ :@@ is@@ Pres@@ ent@@ )@@ .m@@ ap@@ (java.util.@@ Option@@ al@@ :@@ :@@ get@@ ).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ VM@@ :@@ :@@ get@@ Id, java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ ())); java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.compat.Guid> snapshot@@ Us@@ ing@@ Mac@@ Id = get@@ Vm@@ Id@@ Us@@ ing@@ Mac@@ (s@@ napshot@@ sBy@@ Id@@ .@@ valu@@ es@@ ().@@ stream@@ ().@@ f@@ l@@ at@@ Map@@ (@@ ( vm@@ ) -@@ > vm.get@@ Interfaces@@ ().@@ stream@@ ()), m@@ ac@@ ); return snapshot@@ Us@@ ing@@ Mac@@ Id@@ .m@@ ap@@ (s@@ napshot@@ sBy@@ Id@@ :@@ :@@ :@@ get@@ ); }
private java.util.Map<java.lang.String, java.lang.Object> par@@ se@@ Bal@@ loon@@ (@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > de@@ vic@@ es@@ ) { java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > d@@ b = de@@ vic@@ es.@@ stream@@ ().@@ filter@@ (@@ ( de@@ v@@ ) -@@ > (@@ de@@ v@@ .get@@ Type()) == VmDevice@@ Gener@@ al@@ Type.@@ B@@ AL@@ LO@@ ON@@ ).@@ fin@@ d@@ F@@ ir@@ st@@ (); if (!(@@ db@@ .is@@ Pres@@ ent@@ ())) { return java.util.Collections.@@ em@@ pty@@ Map@@ (); } org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ od@@ e = do@@ c@@ um@@ ent.@@ s@@ el@@ ect@@ Sing@@ le@@ Node@@ (@@ do@@ c@@ um@@ ent@@ , "@@ /@@ /@@ *@@ /@@ mem@@ b@@ al@@ loon@@ "); java.util.Map<java.lang.String, java.lang.Object> result = new java.util.HashMap<@@ >(); result.@@ put(@@ VdsProperties.@@ Device@@ , "@@ mem@@ b@@ al@@ loon@@ "); result.@@ put(@@ VdsProperties.@@ Device@@ Id, de@@ vic@@ e.get@@ Id@@ ().get@@ Device@@ Id().@@ toString()); result.@@ put(@@ VdsProperties.@@ Address@@ , par@@ se@@ Address@@ (@@ n@@ ode@@ )); result.@@ put(@@ VdsProperties.@@ Alias@@ , par@@ se@@ Alias@@ (@@ n@@ ode@@ )); return result@@ ; }
private void init@@ An@@ ch@@ or@@ (java.lang.String ur@@ l@@ , boolean is@@ Brick@@ Tab@@ Selected@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ An@@ ch@@ or profil@@ e@@ Ex@@ por@@ t = new com.google.gwt.@@ user.@@ client.@@ ui.@@ An@@ ch@@ or@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Host@@ Nic@@ Info@@ Helper.@@ Host@@ Network@@ An@@ ch@@ or@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Host@@ Nic@@ Info@@ Helper.@@ Host@@ Network@@ An@@ ch@@ or@@ (@@ host@@ Nic@@ Info@@ , is@@ Brick@@ Selected@@ )); if (is@@ Brick@@ Tab@@ Selected@@ ) { brick@@ Profile@@ An@@ ch@@ or@@ er.@@ add(@@ profil@@ e@@ Export@@ ); } else { n@@ fs@@ Profile@@ An@@ ch@@ or@@ Contain@@ er.@@ add(@@ profil@@ e@@ Export@@ ); } }
@java.lang.Override public java.lang.Object run@@ In@@ Transaction@@ () { get@@ StorageDomain@@ Format@@ (get@@ StorageDomain@@ ()); return null@@ ; }
private void update@@ Storage@@ Typ@@ es@@ By@@ Domain@@ Type@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model storage@@ Model) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type storageDomain@@ Type = do@@ m@@ ain@@ F@@ un@@ c@@ tion@@ List@@ Editor@@ .@@ as@@ Editor@@ ().get@@ Ac@@ tu@@ al@@ Editor@@ ().get@@ Value@@ (); java.util.@@ Set<@@ org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Type@@ > filter@@ ed@@ Storage@@ Type@@ s = new java.util.Hash@@ Set<@@ >(); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ I@@ Storage@@ Model c@@ urr@@ Model : storage@@ Model.get@@ Item@@ s()) { if ((@@ c@@ urr@@ Model.get@@ Role@@ ()) == storageDomain@@ Type@@ ) { filter@@ ed@@ Storage@@ Typ@@ es.@@ add@@ (c@@ urr@@ Model.get@@ Type@@ ()); } } storage@@ Model.get@@ Available@@ Storage@@ Type@@ Item@@ s@@ ().set@@ Items(@@ filter@@ ed@@ Storage@@ Typ@@ es@@ ); }
public org.ovirt.engine.core.common.businessentities.Storage@@ Domain get@@ Storage@@ () { return storage@@ Domain == null@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.@@ job.@@ J@@ o@@ b map@@ Row@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { org.ovirt.engine.core.common.@@ job.@@ J@@ o@@ b j@@ o@@ b = new org.ovirt.engine.core.common.@@ job.@@ Job@@ (); job@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (rs.get@@ String("@@ job@@ _id@@ "@@ ))); job@@ .set@@ Action@@ Type(@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ value@@ Of@@ (rs.get@@ String("@@ action@@ _@@ type@@ "@@ ))); job@@ .set@@ Description@@ (rs.get@@ String("@@ d@@ escription@@ ")); job@@ .set@@ Status@@ (org.ovirt.engine.core.common.@@ job.@@ Job@@ Execution@@ Status.@@ value@@ Of@@ (rs.get@@ String("@@ status@@ "@@ ))); job@@ .set@@ O@@ wn@@ er@@ Id(@@ org.ovirt.engine.core.compat.@@ N@@ Guid@@ .@@ create@@ Guid@@ From@@ String@@ (rs.get@@ String("@@ ow@@ n@@ er@@ _id@@ "@@ ))); job@@ .set@@ Visi@@ bl@@ e(@@ r@@ s.get@@ Boolean@@ ("@@ vi@@ si@@ bl@@ e@@ ")); job@@ .set@@ Start@@ Tim@@ e(@@ org.ovirt.engine.core.dal.dbbroker.DbFac@@ ade@@ Utils.@@ f@@ rom@@ D@@ ate@@ (rs.get@@ Tim@@ est@@ am@@ p@@ ("@@ st@@ art@@ _@@ time@@ "@@ ))); job@@ .set@@ En@@ d@@ Tim@@ e(@@ org.ovirt.engine.core.dal.dbbroker.DbFac@@ ade@@ Utils.@@ f@@ rom@@ D@@ ate@@ (rs.get@@ Tim@@ est@@ am@@ p@@ ("@@ end@@ _@@ time@@ "@@ ))); job@@ .set@@ L@@ ast@@ Update@@ Tim@@ e(@@ org.ovirt.engine.core.dal.dbbroker.DbFac@@ ade@@ Utils.@@ f@@ rom@@ D@@ ate@@ (rs.get@@ Tim@@ est@@ am@@ p@@ ("@@ l@@ ast@@ _@@ update@@ _@@ time@@ "@@ ))); job@@ .set@@ C@@ or@@ re@@ l@@ ation@@ Id(@@ r@@ s.get@@ String("@@ cor@@ re@@ l@@ ation@@ _id@@ ")); job@@ .set@@ External@@ (rs.get@@ Boolean@@ ("@@ is@@ _@@ ex@@ ternal@@ ")); job@@ .set@@ External@@ (rs.get@@ Boolean@@ ("@@ is@@ _@@ au@@ to@@ _@@ cl@@ e@@ ared@@ ")); return job@@ ; }
public java.util.List<java.lang.String> read@@ String@@ s() { java.util.List<java.lang.String> read@@ String@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); for (@@ java.util.List<java.lang.String> lis@@ t : read@@ String@@ s) { javax.@@ json@@ .@@ stream@@ .@@ Json@@ Par@@ s@@ er.@@ Event ne@@ x@@ t = ne@@ xt@@ (); switch (@@ ne@@ xt@@ ) { case VAL@@ U@@ E : list@@ ; case EN@@ ER@@ R@@ IN@@ E : list@@ En@@ d = ne@@ xt@@ (); break@@ ; case EN@@ ER@@ R@@ IN@@ E : list@@ En@@ d = true@@ ; break@@ ; case EN@@ D_@@ AR@@ R@@ IN@@ E : list@@ En@@ d = true@@ ; break@@ ; case EN@@ D_@@ AR@@ R@@ IN@@ E : list@@ En@@ d = true@@ ; break@@ ; case EN@@ D_@@
@java.lang.Override protected boolean canDoAction@@ () { if ((@@ (get@@ Parameters@@ ()) == null@@ ) || ((get@@ Parameters().get@@ Quota@@ Id()) == null@@ )) { addCanDoActionMessage@@ (EngineMessage.ACTION_TYPE_FAILED_@@ Q@@ U@@ O@@ T@@ A@@ _@@ NOT_@@ EXIST@@ ); return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ Qu@@ ot@@ a qu@@ ot@@ a = get@@ Quota@@ (); if (@@ qu@@ ot@@ a == null@@ ) { addCanDoActionMessage@@ (EngineMessage.ACTION_TYPE_FAILED_@@ Q@@ U@@ O@@ T@@ A@@ _@@ NOT_@@ EXIST@@ ); return false@@ ; } if ((!@@ (@@ Quota@@ E@@ n@@ for@@ ce@@ ment@@ Type@@ Enum@@ .@@ DIS@@ AB@@ L@@ ED@@ .equals(@@ quota@@ .get@@ Quota@@ E@@ n@@ for@@ ce@@ ment@@ Type@@ ()))) && (get@@ Quota@@ Dao@@ ().is@@ Quota@@ In@@ Us@@ e(@@ quota@@ ))) { addCanDoActionMessage@@ (EngineMessage.ACTION_TYPE_FAILED_@@ Q@@ U@@ O@@ T@@ A@@ _@@ IN_@@ US@@ E_@@ B@@ Y_@@ VM_@@ OR@@ _@@ DIS@@ K@@ ); return false@@ ; } return true@@ ; }
protected boolean is@@ Conn@@ With@@ S@@ ame@@ Detail@@ s@@ Exist@@ s@@ (org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s connection@@ , org.ovirt.engine.core.compat.Guid storagePool@@ Id) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s> connection@@ s = null@@ ; if ((@@ connection@@ .get@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ StorageType.@@ LO@@ C@@ AL@@ FS@@ )) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s> connection@@ s@@ For@@ Pool = (@@ storagePool@@ Id == null@@ ) ? java.util.Collections.@@ <org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s@@ >@@ em@@ pty@@ List@@ () : get@@ Storage@@ Conn@@ Dao().get@@ All@@ Conn@@ ect@@ able@@ Storage@@ Se@@ ver@@ Connection@@ (@@ storagePool@@ Id); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s> connection@@ s@@ For@@ P@@ at@@ h = get@@ Storage@@ Conn@@ Dao().get@@ AllFor@@ Storage@@ (@@ connection@@ .get@@ Connection@@ ()); connection@@ s = ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s@@ >) (@@ org.apache.commons.@@ c@@ oll@@ ection@@ s.@@ Collection@@ Util@@ s@@ .@@ int@@ ers@@ ection@@ (@@ connection@@ s@@ For@@ Pool@@ , connection@@ s@@ For@@ Path@@ ))); } else if (@@ connection@@ .get@@ Storage@@ Type@@ ().is@@ File@@ Domain@@ ()) { java.lang.String connection@@ Fiel@@ d = connection@@ .get@@ Connection@@ (); connection@@ s = get@@ Storage@@ Conn@@ Dao().get@@ AllFor@@ Storage@@ (@@ connection@@ Fiel@@ d@@ ); } else { org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s s@@ ame@@ Conn@@ ec@@ tion = fin@@ d@@ Connection@@ With@@ S@@ ame@@ Detail@@ s(@@ connection@@ ); connection@@ s = (s@@ ame@@ Conn@@ ec@@ tion != null@@ ) ? java.util.Arrays.as@@ List@@ (s@@ ame@@ Connection@@ ) : java.util.Collections.@@ <org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s@@ >@@ em@@ pty@@ List@@ (); } boolean is@@ D@@ up@@ l@@ icate@@ Conn@@ Exist@@ s = ((@@ connection@@ s.@@ size()) > 1@@ ) || (((@@ connection@@ s.@@ size()) == 1@@ ) && (!(@@ connection@@ s.get@@ (0@@ ).@@ ge@@ I@@ id@@ ().@@ equals@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ connection@@ .getId@@ ())@@ ))); return is@@ D@@ up@@ l@@ icate@@ Conn@@ Exist@@ s@@ ; }
private static void p@@ op@@ ul@@ ate@@ Model@@ With@@ Ip@@ v@@ 6@@ Detail@@ s@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network entity@@ , org.ovirt.engine.api.model.@@ Nic@@ Configur@@ ation model@@ ) { if ((@@ entity.get@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ ()) != null@@ ) { model.set@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ Mapper.@@ map@@ (@@ entity.get@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ ())); } model.set@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ (@@ entity.get@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ ())); model.set@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ (@@ new org.ovirt.engine.core.common.@@ network.@@ vm@@ .@@ Vm@@ Init@@ Network@@ Ip@@ v@@ 6@@ Info@@ F@@ et@@ ch@@ er@@ (@@ entity@@ ))); }
protected void b@@ in@@ d@@ Resource@@ Configuration@@ (java.lang.@@ Class@@ <@@ ? extends org.ovirt.engine.ui.common.@@ C@@ ommon@@ Ap@@ plication@@ Constant@@ s> const@@ an@@ t@@ s, java.lang.@@ Class@@ <@@ ? extends org.ovirt.engine.ui.common.@@ C@@ ommon@@ Ap@@ plication@@ Messages@@ > mess@@ ages@@ , java.lang.@@ Class@@ <@@ ? extends org.ovirt.engine.ui.common.@@ C@@ ommon@@ Ap@@ plication@@ Res@@ ourc@@ es@@ > res@@ ourc@@ es@@ , java.lang.@@ Class@@ <@@ ? extends org.ovirt.engine.ui.common.@@ C@@ ommon@@ Ap@@ plication@@ Templ@@ at@@ es@@ > templat@@ es@@ , java.lang.@@ Class@@ <@@ ? extends org.ovirt.engine.ui.common.@@ utils.@@ Dynamic@@ Messages@@ > d@@ ynam@@ ic@@ Constant@@ s) { b@@ in@@ d@@ (@@ org.ovirt.engine.ui.common.@@ C@@ ommon@@ Ap@@ plication@@ Constant@@ s@@ .@@ class@@ ).@@ to@@ (@@ const@@ an@@ t@@ s@@ ).@@ in@@ (c@@ om.google.@@ in@@ j@@ ec@@ t.@@ Sing@@ leton@@ .@@ class@@ ); b@@ in@@ d@@ (@@ org.ovirt.engine.ui.common.@@ C@@ ommon@@ Ap@@ plication@@ Messages@@ .@@ class@@ ).@@ to@@ (m@@ ess@@ ages@@ ).@@ in@@ (c@@ om.google.@@ in@@ j@@ ec@@ t.@@ Sing@@ leton@@ .@@ class@@ ); b@@ in@@ d@@ (@@ org.ovirt.engine.ui.common.@@ C@@ ommon@@ Ap@@ plication@@ Res@@ ourc@@ es@@ .@@ class@@ ).@@ to@@ (@@ res@@ ourc@@ es@@ ).@@ in@@ (c@@ om.google.@@ in@@ j@@ ec@@ t.@@ Sing@@ leton@@ .@@ class@@ ); b@@ in@@ d@@ (@@ org.ovirt.engine.ui.common.@@ C@@ ommon@@ Ap@@ plication@@ Templ@@ at@@ es@@ .@@ class@@ ).@@ to@@ (@@ templat@@ es@@ ).@@ in@@ (c@@ om.google.@@ in@@ j@@ ec@@ t.@@ Sing@@ leton@@ .@@ class@@ ); b@@ in@@ d@@ (@@ org.ovirt.engine.ui.common.@@ utils.@@ Dynamic@@ Messages@@ .@@ class@@ ).@@ to@@ (@@ d@@ ynam@@ ic@@ Constant@@ s@@ ).@@ in@@ (c@@ om.google.@@ in@@ j@@ ec@@ t.@@ Sing@@ leton@@ .@@ class@@ ); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ ooltip@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Base vm@@ Static@@ ) { return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (@@ vm@@ Static@@ .get@@ C@@ el@@ l@@ Element@@ Id@@ Pre@@ fi@@ x@@ Vms@@ ()); }
@java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Q@@ o@@ S object@@ ) { return (@@ objec@@ t.get@@ In@@ b@@ ound@@ B@@ ur@@ st@@ ()) == null ? const@@ an@@ t@@ s.@@ Un@@ l@@ im@@ i@@ ted@@ Network@@ Q@@ oS@@ () : objec@@ t.get@@ In@@ b@@ ound@@ A@@ ver@@ age@@ ().@@ toString@@ (); }
protected org.ovirt.engine.core.bll.@@ AddVm@@ From@@ Template@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ AddVm@@ Parameters@@ > create@@ Vm@@ From@@ Template@@ Command@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { org.ovirt.engine.core.common.action.@@ AddVm@@ Parameters par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ AddVm@@ Parameters@@ (); param@@ .set@@ Vm@@ (vm@@ ); org.ovirt.engine.core.bll.@@ AddVm@@ From@@ Template@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ AddVm@@ Parameters@@ > con@@ c@@ ret@@ e = new org.ovirt.engine.core.bll.@@ AddVm@@ From@@ Template@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ AddVm@@ Parameters@@ >@@ (@@ param@@ ) { @java.lang.Override protected void init@@ User@@ () { } @java.lang.Override protected void init@@ Template@@ Disks@@ () { } @java.lang.Override protected void init@@ StoragePool@@ Id@@ () { } @java.lang.Override public org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate get@@ VmTemplate@@ () { return create@@ VmTemplate@@ (); } }; org.ovirt.engine.core.bll.@@ AddVm@@ From@@ Template@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ AddVm@@ Parameters@@ > result = sp@@ y@@ (@@ con@@ c@@ ret@@ e); do@@ Return@@ (m@@ ock@@ (org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ pool@@ man@@ ag@@ er.@@ MacPool@@ Manager@@ Str@@ ate@@ g@@ y@@ .@@ class@@ )).@@ when(@@ result@@ ).get@@ MacPool@@ (); do@@ Return@@ (@@ true@@ ).@@ when(@@ result@@ ).@@ check@@ Num@@ ber@@ Of@@ Monitor@@ s(); do@@ Return@@ (c@@ reate@@ VmTemplate@@ ()).@@ when(@@ result@@ ).get@@ VmTemplate@@ (); do@@ Return@@ (@@ true@@ ).@@ when(@@ result@@ ).@@ validate@@ Custom@@ Properties@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Static@@ .@@ class@@ ), any@@ (@@ java.util.Array@@ List@@ .@@ class@@ )); mock@@ Dao@@ s(@@ result@@ ); mock@@ Backend@@ (@@ result@@ ); org.ovirt.engine.core.bll.@@ AddVm@@ Command@@ Test.@@ init@@ Command@@ M@@ eth@@ o@@ ds@@ (@@ result@@ ); result.@@ p@@ ost@@ Con@@ struc@@ t@@ (); return result@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ o@@ S f@@ l@@ us@@ h@@ () { super@@ .@@ f@@ l@@ us@@ h@@ (); network@@ Q@@ oS@@ .set@@ Name@@ (((@@ java.lang.String@@ ) (get@@ Name@@ ().getEntity@@ ()))); network@@ Q@@ oS@@ .set@@ StoragePool@@ Id@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ ) (get@@ Data@@ C@@ ent@@ ers@@ ().getSelectedItem@@ ())@@ ).get@@ Id()); return network@@ Q@@ oS@@ ; }
protected void create@@ Num@@ Of@@ D@@ es@@ k@@ to@@ p@@ Editor@@ s() { in@@ c@@ r@@ ase@@ Num@@ Of@@ Vms@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ Entity@@ Model@@ Text@@ B@@ o@@ x@@ Only@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ M@@ ode@@ S@@ wit@@ ch@@ ing@@ Visi@@ bility@@ R@@ ender@@ er@@ ()); num@@ Of@@ Vms@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ Entity@@ Model@@ Text@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ M@@ ode@@ S@@ wit@@ ch@@ ing@@ Visi@@ bility@@ R@@ ender@@ er@@ ()); }
@org.junit.Test public void shoul@@ d@@ H@@ andle@@ Num@@ Ma@@ j@@ or@@ Version@@ () { final org.ovirt.engine.core.bll.@@ scheduling.@@ O@@ S valid@@ O@@ s = org.ovirt.engine.core.bll.@@ scheduling.@@ O@@ S@@ .@@ f@@ rom@@ P@@ ack@@ age@@ Version@@ String("@@ C@@ ent@@ o@@ s - 7 - re@@ le@@ ase@@ "); assert@@ That@@ (@@ valid@@ O@@ s.@@ is@@ Valid@@ (), is@@ (@@ true@@ )); assert@@ That@@ (@@ valid@@ O@@ s.get@@ Version@@ ().get@@ Ma@@ j@@ or@@ (), e@@ qu@@ al@@ To@@ (@@ 7@@ )); assert@@ That@@ (@@ valid@@ O@@ s.get@@ Version@@ ().get@@ M@@ in@@ or@@ (), e@@ qu@@ al@@ To@@ ((@@ -@@ 1@@ )); }
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ List@@ Model vm@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ ) (@@ target@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > storagePool@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ >) (@@ return@@ Value@@ )); org.ovirt.engine.core.common.businessentities.Storage@@ Pool storage@@ Pool = ((@@ storagePool@@ s.@@ size()) > 0) ? storagePool@@ s.get@@ (0@@ ) : null@@ ; vm@@ List@@ Model.@@ P@@ ost@@ Get@@ Templ@@ at@@ es@@ Not@@ Pres@@ ent@@ On@@ Export@@ Domain@@ (@@ storagePool@@ ); }
@java.lang.Override public boolean p@@ er@@ for@@ m@@ N@@ ext@@ Operation@@ (@@ int comp@@ let@@ ed@@ Ch@@ ild@@ Count@@ ) { if ((@@ org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Disk@@ Command.getParameters().get@@ L@@ ive@@ Disk@@ Migrate@@ St@@ age@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ L@@ ive@@ Migrate@@ Disk@@ Parameter@@ s.@@ L@@ ive@@ Disk@@ Migrate@@ St@@ age.@@ IM@@ AGE_@@ P@@ L@@ AC@@ E@@ HO@@ L@@ D@@ ER_@@ C@@ RE@@ A@@ TI@@ ON@@ )) { update@@ St@@ age@@ (@@ L@@ ive@@ Disk@@ Migrate@@ St@@ age.@@ VM_@@ RE@@ P@@ L@@ IC@@ AT@@ E_@@ DIS@@ K_@@ ST@@ AR@@ T@@ ); re@@ pl@@ icate@@ Disk@@ Start@@ (); update@@ St@@ age@@ (@@ L@@ ive@@ Disk@@ Migrate@@ St@@ age.@@ IM@@ AGE_@@ D@@ AT@@ A@@ _S@@ Y@@ N@@ C@@ _@@ EX@@ EC@@ _@@ ST@@ AR@@ T@@ ); s@@ ync@@ Image@@ Data@@ (); update@@ St@@ age@@ (@@ L@@ ive@@ Disk@@ Migrate@@ St@@ age.@@ IM@@ AGE_@@ D@@ AT@@ A@@ _S@@ Y@@ N@@ C@@ _@@ EX@@ EC@@ _@@ EN@@ D@@ ); return true@@ ; } if ((@@ org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Disk@@ Command.getParameters().get@@ L@@ ive@@ Migrate@@ St@@ age@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ L@@ ive@@ Migrate@@ Disk@@ Parameter@@ s.@@ L@@ ive@@ Disk@@ Migrate@@ St@@ age.@@ IM@@ AGE_@@ D@@ AT@@ A@@ _S@@ Y@@ N@@ C@@ _@@ EX@@ EC@@ _@@ EN@@ D@@ )) { update@@ St@@ age@@ (@@ L@@ ive@@ Disk@@ Migrate@@ St@@ age.@@ VM_@@ RE@@ P@@ L@@ IC@@ AT@@ E_@@ DIS@@ K_@@ F@@ IN@@ IS@@ H@@ ); comp@@ let@@ e@@ L@@ ive@@ Migration@@ (); update@@ St@@ age@@ (@@ L@@ ive@@ Disk@@ Migrate@@ St@@ age.@@ S@@ O@@ UR@@ C@@ E_@@ IM@@ AGE_@@ DE@@ LE@@ TI@@ ON@@ ); org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Storage@@ Migration@@ Helper.@@ remove@@ Image@@ (@@ this@@ , org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Disk@@ Command.getParameters().get@@ Source@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Disk@@ Command.getParameters().get@@ ImageGroup@@ ID@@ (), org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Disk@@ Command.getParameters().get@@ Dest@@ ination@@ Image@@ Id(), AuditLogType.@@ US@@ ER_@@ M@@ OV@@ E_@@ IM@@ AGE_@@ G@@ RO@@ UP@@ _@@ FAILED_@@ TO@@ _@@ DE@@ L@@ ET@@ E_@@ S@@ R@@ C@@ _@@ IM@@ AG@@ E); update@@ St@@ age@@ (@@ L@@ ive@@ Disk@@ Migrate@@ St@@ age.@@ A@@ U@@ TO@@ _@@ G@@ EN@@ ER@@ AT@@ ED_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ RE@@ M@@ OV@@ E_@@ ST@@ AR@@ T@@ ); remove@@ Au@@ t@@ og@@ ener@@ ated@@ Snapshot@@ (); update@@ St@@ age@@ (@@ L@@ ive@@ Disk@@ Migrate@@ St@@ age.@@ A@@ U@@ TO@@ _@@ G@@ EN@@ ER@@ AT@@ ED_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ RE@@ M@@ OV@@ E_@@ EN@@ D@@ ); return true@@ ; } return false@@ ; }
public java.lang.String get@@ Proxy@@ Host@@ () { if (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ No@@ V@@ n@@ c@@ Impl.@@ No@@ V@@ n@@ c@@ Proxy@@ Config.@@ HOST@@ .equals(@@ config@@ Value@@ )) { return get@@ V@@ n@@ c@@ Host@@ (); } else if (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ No@@ V@@ n@@ c@@ Impl.@@ No@@ V@@ n@@ c@@ Proxy@@ Config.@@ EN@@ G@@ IN@@ E@@ .equals(@@ config@@ Value@@ )) { java.lang.String hos@@ t = com.google.gwt.@@ user.@@ client.@@ W@@ in@@ do@@ w@@ .@@ Loc@@ ation@@ .get@@ Host@@ Name@@ (); return com.google.gwt.@@ user.@@ client.@@ W@@ in@@ do@@ w@@ .@@ Loc@@ ation@@ .get@@ Host@@ Name@@ (); } else if (@@ mat@@ ch@@ es@@ Host@@ C@@ ol@@ on@@ Port@@ (@@ config@@ Value@@ )) { return config@@ Valu@@ e.@@ s@@ pl@@ it@@ ("@@ :@@ "@@ )@@ [@@ 0@@ ]@@ ; } throw new java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ ("@@ I@@ l@@ le@@ g@@ al No@@ V@@ n@@ c@@ Im@@ p@@ l config@@ ur@@ ation.@@ "); } }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ ooltip@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Disk object@@ ) { if (@@ objec@@ t.@@ is@@ Boot@@ ()) { return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ disk@@ s.@@ Disks@@ View@@ Column@@ s@@ .@@ const@@ an@@ t@@ s.@@ b@@ oot@@ able@@ Disk@@ ()); } return null@@ ; }
public void set@@ Re@@ fresh@@ Volume@@ C@@ ap@@ c@@ ity@@ (@@ org.ovirt.engine.ui.uicommonweb.UICommand re@@ fresh@@ Volume@@ C@@ ap@@ c@@ ap@@ c@@ ap@@ se@@ ) { this@@ .@@ re@@ fresh@@ Volume@@ C@@ ap@@ c@@ ap@@ c@@ it@@ y = re@@ fresh@@ Volume@@ C@@ ap@@ c@@ ity@@ ; }
@java.lang.Override protected void log@@ To@@ Au@@ dit@@ () { if ("@@ P@@ olic@@ y res@@ et@@ "@@ .equals(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Command.get@@ Return@@ Status@@ ().@@ mess@@ age@@ )) { return@@ ; } org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base au@@ ditLog@@ able@@ Base = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(@@ vds.get@@ Id()); au@@ ditLog@@ able@@ Bas@@ e.set@@ Vds@@ (vds@@ ); au@@ ditLog@@ able@@ Bas@@ e.@@ add@@ Custom@@ Value("@@ mess@@ age@@ ", org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Command.get@@ Return@@ Status@@ ().@@ mess@@ age@@ ); au@@ ditLog@@ Direct@@ or.@@ log@@ (@@ au@@ ditLog@@ able@@ Base@@ , AuditLogType.@@ VDS@@ _@@ B@@ RO@@ K@@ ER_@@ C@@ O@@ M@@ M@@ AN@@ D_@@ FAIL@@ U@@ RE@@ ); }
@java.lang.Override public void save@@ (org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ S@@ napsho@@ t entity@@ Snapshot@@ ) { org.ovirt.engine.core.compat.Guid id = entity@@ S@@ napsho@@ t.get@@ Id@@ (); if (@@ id == null@@ ) { id = org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ (); entity@@ S@@ napsho@@ t.@@ set@@ Id(@@ id@@ ); } org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ id@@ ", entity@@ S@@ napsho@@ t.get@@ Id@@ ()).addValue("@@ command@@ _id", entity@@ S@@ napsho@@ t.get@@ Command@@ Id@@ ()).addValue("@@ command@@ _@@ type@@ ", entity@@ S@@ napsho@@ t.get@@ Command@@ Type@@ ()).addValue("@@ entity@@ _id", entity@@ S@@ napsho@@ t.get@@ Entity@@ Id@@ ()).addValue("@@ entity@@ _@@ type@@ ", entity@@ S@@ napsho@@ t.get@@ Entity@@ Type@@ ()).addValue("@@ entity@@ _@@ snapshot@@ ", entity@@ S@@ napsho@@ t.get@@ Entity@@ Snapshot@@ ()).addValue("@@ snapshot@@ _@@ class@@ ", entity@@ S@@ napsho@@ t.get@@ Snapshot@@ Class@@ ()).addValue("@@ snapshot@@ _@@ type@@ ", entity@@ S@@ napsho@@ t.get@@ Snapshot@@ Type@@ ()).addValue("@@ in@@ ser@@ tion@@ _@@ or@@ der@@ ", entity@@ S@@ napsho@@ t.get@@ In@@ ser@@ tion@@ Or@@ der@@ ()); get@@ Call@@ sHandler@@ ().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ in@@ sert@@ _@@ entity@@ _@@ snapshot@@ ", parameter@@ Source@@ ); }
public org.ovirt.engine.core.bll.validator.@@ storage.@@ Attach@@ Domain@@ Validator get@@ Attach@@ Domain@@ Validator@@ () { return new org.ovirt.engine.core.bll.validator.@@ storage.@@ Attach@@ Domain@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ StorageDomain@@ Command.get@@ StorageDomain@@ (), get@@ T@@ arget@@ StoragePool@@ ()); }
@java.lang.Override protected boolean canDoAction@@ () { if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ Schedul@@ e f@@ et@@ ched@@ Schedul@@ e = get@@ GlusterVolume@@ Snapshot@@ Schedul@@ e@@ Dao().get@@ By@@ Volume@@ Id@@ (get@@ GlusterVolume@@ Id()); if (@@ f@@ et@@ ched@@ Schedul@@ e != null@@ ) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ AL@@ RE@@ AD@@ Y_@@ S@@ C@@ H@@ ED@@ U@@ L@@ ED); } if (!@@ (get@@ Parameters().get@@ For@@ ce@@ ())) { if ((@@ (get@@ GlusterVolume@@ Dao().get@@ By@@ Name@@ (get@@ VdsGroup@@ Id(), org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.String@@ >@@ get@@ Value(ConfigValues.@@ Gluster@@ M@@ et@@ a@@ Volume@@ Name@@ ))) != null@@ ) && (get@@ VdsGroup@@ ().is@@ Gluster@@ Cli@@ Bas@@ ed@@ Schedul@@ ing@@ On@@ ())) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ C@@ L@@ I@@ _S@@ C@@ H@@ ED@@ U@@ L@@ ING@@ _@@ EN@@ AB@@ L@@ ED); } } return true@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Res@@ e@@ t All@@ ") java.lang.String res@@ et@@ All@@ Volume@@ ();
@org.junit.Test public void test@@ Move@@ Or@@ Copy@@ Memory@@ Disk@@ Fail@@ s() { initial@@ ize@@ Command@@ (@@ new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ()); init@@ Vm@@ DiskImage@@ (@@ false@@ ); command@@ .get@@ Image@@ ().set@@ Content@@ Type(@@ Disk@@ Content@@ Type.@@ M@@ EM@@ OR@@ Y_@@ D@@ U@@ M@@ P@@ _@@ V@@ O@@ LU@@ M@@ E); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Fail@@ ure(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ C@@ ON@@ T@@ EN@@ T_@@ TYPE_@@ NOT_@@ SUP@@ PORT@@ ED_@@ F@@ OR@@ _@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ ); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > get@@ R@@ ng@@ Devices@@ () { return org.ovirt.engine.core.bll.@@ Abstract@@ R@@ ng@@ Device@@ Command.get@@ DbFacade@@ ().get@@ VmDevice@@ Dao().get@@ VmDevice@@ By@@ Vm@@ Id@@ And@@ Type(@@ org.ovirt.engine.core.bll.@@ Abstract@@ R@@ ng@@ Device@@ Command.getParameters().get@@ R@@ ng@@ Device@@ ().get@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ R@@ N@@ G@@ ); }
@java.lang.Override protected void En@@ d@@ With@@ Fail@@ ure@@ () { set@@ Vm@@ (@@ null@@ ); org.ovirt.engine.core.common.businessentities.VM vm@@ From@@ Param@@ s = get@@ Parameters().get@@ Vm@@ (); if ((get@@ Vm@@ ()) != null@@ ) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ Un@@ Lock@@ Vm@@ (get@@ Vm().get@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ DiskImage dis@@ k : image@@ List@@ ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ DiskImage@@ Dynamic@@ DAO@@ ().@@ remove@@ (disk@@ .get@@ Image@@ Id()); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Image@@ Dao().@@ remove@@ (disk@@ .get@@ Image@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > im@@ ages@@ For@@ Disk = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ DiskImage@@ DAO@@ ().get@@ AllSnapshots@@ For@@ ImageGroup@@ (disk@@ .getId()); if ((@@ im@@ ages@@ For@@ Disk == null@@ ) || (@@ im@@ ages@@ For@@ Disk@@ .@@ isEmpty@@ ())) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Base@@ Disk@@ Dao().@@ remove@@ (disk@@ .getId()); } } new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshot@@ sManager@@ ().@@ remove@@ Snapshots@@ (get@@ Vm().get@@ Id()); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Dynamic@@ DAO@@ ().@@ remove@@ (get@@ Vm@@ Id()); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Statistic@@ s@@ DAO@@ ().@@ remove@@ (get@@ Vm@@ Id()); new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshot@@ sManager@@ ().@@ remove@@ Snapshots@@ (get@@ Vm@@ Id()); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Static@@ DAO@@ ().@@ remove@@ (get@@ Vm@@ Id()); set@@ Succeeded@@ (@@ true@@ ); } else { set@@ Vm@@ (vm@@ From@@ Param@@ s); get@@ ReturnValue@@ ().set@@ En@@ d@@ Action@@ Tr@@ y@@ Ag@@ ain@@ (@@ false@@ ); } }
public void init@@ StorageDomain@@ s() { if ((get@@ Model().get@@ Disks@@ ()) == null@@ ) { return@@ ; } org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate = getModel().get@@ Template@@ ().getSelectedItem@@ (); if (((@@ templ@@ ate != null@@ ) && (!(@@ templat@@ e.get@@ Id().@@ equals(@@ Guid@@ .@@ Empty@@ )@@ ))) && (!@@ (get@@ Model().get@@ Template@@ ().getEntity@@ ()))) { p@@ ost@@ Init@@ StorageDomain@@ s(); } else { getModel().get@@ StorageDomain@@ ().set@@ Item@@ s@@ (@@ new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >@@ ()); getModel().get@@ StorageDomain@@ ().set@@ SelectedItem@@ (@@ null@@ ); getModel().get@@ StorageDomain@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); } }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VnicProfile@@ View@@ > con@@ ver@@ t@@ (java.lang.Object return@@ Value@@ , org.ovirt.engine.ui.frontend.Async@@ Query@@ <@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VnicProfile@@ View@@ >> async@@ Query@@ ) { this@@ .@@ cluster@@ Network@@ s = cluster@@ Networks@@ ; java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VnicProfile@@ View@@ > vnic@@ Profile@@ s = new java.util.ArrayList<>(); vnic@@ Profil@@ es.@@ add(@@ VnicProfile@@ View@@ .@@ EM@@ P@@ TY@@ ); if (@@ return@@ Value == null@@ ) { return vnic@@ Profil@@ es@@ ; } for (org.ovirt.engine.core.common.businessentities.network.@@ VnicProfile@@ Vi@@ e@@ w vnic@@ Profil@@ e : ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VnicProfile@@ View@@ >) (@@ return@@ Value@@ ))) { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = fin@@ d@@ Network@@ By@@ Id(@@ vnic@@ Profil@@ e.get@@ Network@@ Id()); if ((@@ n@@ etwork != null@@ ) && (@@ network.@@ is@@ VmNetwork@@ ())) { vnic@@ Profil@@ es.@@ add(@@ vnic@@ Profile@@ ); } } java.util.Collections.@@ s@@ ort@@ (@@ vnic@@ Profil@@ es@@ , new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ VnicProfile@@ View@@ Comp@@ ar@@ ator@@ ()); return vnic@@ Profil@@ es@@ ; }
private void check@@ Vm@@ Name@@ (@@ boolean is@@ Import@@ As@@ New@@ Entity@@ , java.lang.String name@@ ) { org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters parameter@@ s = create@@ Parameters@@ (); parameters@@ .get@@ Vm@@ ().set@@ Name(@@ name@@ ); parameters.set@@ Import@@ As@@ New@@ Entity@@ (is@@ Import@@ As@@ New@@ Entity@@ ); org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ > c@@ ommand = new org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ Command@@ Test.@@ ImportVm@@ Command@@ St@@ ub@@ (@@ parameters@@ , pool@@ Per@@ Cluster@@ , ex@@ ternal@@ Vm@@ Mac@@ s@@ F@@ inder@@ , ex@@ ternal@@ VnicProfile@@ Mapping@@ Validator@@ ); command@@ .@@ init@@ (); java.util.@@ Set<@@ javax.@@ validation.@@ Con@@ str@@ a@@ int@@ Vi@@ ol@@ ation@@ <@@ org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ >> valid@@ ate = org.ovirt.engine.core.common.utils.@@ Validation@@ Util@@ s.get@@ Validator@@ ().@@ validate@@ (@@ parameters@@ , command@@ .get@@ Validation@@ Group@@ s().@@ to@@ Array@@ (@@ new java.lang.@@ Class@@ <?@@ >@@ [@@ 0@@ ]@@ )); assert@@ Equals@@ (@@ valid@@ at@@ e.@@ isEmpty@@ (), (!@@ is@@ Import@@ As@@ New@@ Entity@@ )); }
@org.junit.Test public void is@@ M@@ g@@ m@@ t@@ Network@@ () throw@@ s java.lang.Exception { network@@ M@@ g@@ m@@ t@@ Network@@ Test@@ (@@ new org.ovirt.engine.core.bll.ValidationResult@@ (@@ org.ovirt.engine.core.dal.@@ VdcBllMessages.@@ NETWORK_@@ C@@ AN@@ _@@ NOT_@@ RE@@ M@@ OV@@ E_@@ DE@@ FA@@ U@@ L@@ T_@@ NETWOR@@ K@@ ), M@@ G@@ M@@ T_@@ NETWORK_@@ NAM@@ E); }
private boolean is@@ S@@ ame@@ Source@@ And@@ Dest@@ (@@ org.ovirt.engine.core.common.action.@@ L@@ ive@@ Migrate@@ Disk@@ Parameters parameters@@ ) { org.ovirt.engine.core.common.businessentities.Storage@@ Domain source@@ Domain = get@@ Image@@ Source@@ Domain@@ (@@ parameters@@ .get@@ Image@@ Id()); org.ovirt.engine.core.common.businessentities.Storage@@ Domain d@@ est@@ Domain = get@@ StorageDomain@@ By@@ Id(@@ parameters@@ .get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.get@@ StoragePool@@ Id()); if (s@@ ource@@ Domain@@ .getId@@ ().@@ equals(@@ d@@ est@@ Domain@@ .getId@@ ())) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ S@@ O@@ UR@@ C@@ E_@@ AN@@ D_@@ T@@ AR@@ G@@ E@@ T_@@ S@@ A@@ M@@ E); } return true@@ ; }
@java.lang.Override public void set@@ U@@ se@@ P@@ at@@ ter@@ n@@ F@@ ly@@ (@@ boolean us@@ e) { key@@ Fiel@@ d@@ .set@@ U@@ se@@ P@@ at@@ ter@@ n@@ F@@ ly@@ (@@ us@@ e); value@@ Fiel@@ d@@ .set@@ U@@ se@@ P@@ at@@ ter@@ n@@ F@@ ly@@ (@@ us@@ e); valu@@ es@@ Fiel@@ d@@ .set@@ U@@ se@@ P@@ at@@ ter@@ n@@ F@@ ly@@ (@@ us@@ e); }
private void m@@ igr@@ ate@@ () { org.ovirt.engine.core.common.businessentities.VM vm = ((org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (get@@ SelectedItem@@ ())); if (@@ vm == null@@ ) { return@@ ; } if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.vms.@@ Migrate@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Migrate@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ m@@ igr@@ ate@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ es@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ m@@ igr@@ ate@@ _@@ vi@@ r@@ tu@@ al@@ _@@ m@@ ach@@ in@@ e@@ ); model.set@@ Hash@@ Name@@ ("@@ m@@ igr@@ ate@@ _@@ vi@@ r@@ tu@@ al@@ _@@ m@@ ach@@ in@@ e@@ "); model.set@@ Vms@@ On@@ S@@ ame@@ Cluster@@ (@@ true@@ ); model.set@@ Is@@ Au@@ to@@ Sel@@ ect@@ (@@ true@@ ); model.set@@ Vm@@ List(@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ >@@ c@@ ast@@ (get@@ SelectedItem@@ s@@ ())); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Up@@ Host@@ List@@ By@@ Cluster@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ List@@ Model vm@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ ) (@@ target@@ )); vm@@ List@@ Model.@@ p@@ ost@@ Migrate@@ Get@@ Up@@ Host@@ s@@ (((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >) (@@ return@@ Value@@ ))); } }@@ ), vm.get@@ VdsGroup@@ Name()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Name c@@ an cont@@ ain on@@ l@@ y '@@ A@@ -@@ Z@@ '@@ , '@@ a@@ -@@ z@@ '@@ 0@@ -@@ 9@@ '@@ , '@@ _@@ ' or '@@ -@@ ' char@@ ac@@ ter@@ s.@@ ") java.lang.String as@@ c@@ i@@ i@@ i@@ Name@@ Validation@@ M@@ s@@ g@@ ();
java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ AllFor@@ VdsGroup@@ (org.ovirt.engine.core.compat.Guid vds@@ Group@@ Id);
@org.junit.Test public void network@@ Do@@ es@@ n@@ t@@ Exist@@ () { s@@ im@@ ul@@ ate@@ VdsGroup@@ Exist@@ s(); assert@@ CanDoAction@@ Fail@@ ure(@@ EngineMessage.@@ NETWORK_@@ NOT_@@ EXIST@@ S@@ .@@ toString()); }
@java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ > vm@@ s = org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ >@@ c@@ ast@@ (((@@ java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ I@@ VdcQuery@@ able@@ >) (s@@ ource@@ ))); return vm@@ s@@ ; }
public static void d@@ es@@ er@@ ial@@ iz@@ e(@@ com.google.gwt.@@ user.@@ client.@@ rpc@@ .@@ Ser@@ ial@@ ization@@ St@@ ream@@ Re@@ ade@@ r stream@@ Read@@ er@@ , org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue instance@@ ) throw@@ s com.google.gwt.@@ user.@@ client.@@ rpc@@ .@@ Ser@@ ial@@ ization@@ Exception { in@@ stan@@ c@@ e.set@@ Succeeded@@ (@@ stream@@ Read@@ er.@@ read@@ Boolean@@ ()); in@@ stan@@ c@@ e.set@@ Exception@@ String@@ (@@ stream@@ Read@@ er.@@ read@@ String@@ ()); java.lang.String typ@@ e = stream@@ Read@@ er.@@ read@@ String@@ (); if (@@ typ@@ e.@@ equals@@ ("@@ java.lang.String@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ String@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ java.lang.Integer@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ In@@ t@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ java.lang.Boolean@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ Boolean@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ java.lang.@@ Do@@ ubl@@ e@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ Do@@ ubl@@ e@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ java.lang.@@ F@@ lo@@ at@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ F@@ lo@@ at@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ java.lang.@@ Ch@@ ar@@ ac@@ ter@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ Ch@@ ar@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ java.lang.@@ Sh@@ ort@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ Sh@@ ort@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ java.lang.@@ By@@ te@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ By@@ te@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ java.util.@@ List@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ Object@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ java.util.@@ Map@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ Object@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ java.util.@@ Set@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ Object@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ I@@ VdcQuery@@ able@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ Object@@ ()); } else if (@@ typ@@ e.@@ equals@@ ("@@ UN@@ K@@ NO@@ W@@ N@@ "@@ )) { in@@ stan@@ c@@ e.set@@ ReturnValue@@ (@@ stream@@ Read@@ er.@@ read@@ Object@@ ()); } } }
public void sub@@ s@@ cri@@ b@@ e(@@ org.ovirt.vdsm.jsonrpc.client.@@ event@@ s.@@ Event@@ Sub@@ s@@ cri@@ b@@ er sub@@ s@@ cri@@ ber@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ act@@ or@@ Fac@@ t@@ ory@@ .get@@ W@@ or@@ k@@ er@@ (@@ org.ovirt.engine.core.vdsbroker.@@ Resource@@ Manager.@@ P@@ AR@@ AL@@ LE@@ L@@ IS@@ M@@ ).get@@ P@@ ubl@@ is@@ h@@ er@@ ().@@ sub@@ s@@ cri@@ b@@ e(@@ sub@@ s@@ cri@@ ber@@ ); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ S@@ pl@@ it@@ ted@@ ") java.lang.String num@@ a@@ S@@ pl@@ it@@ ted@@ Label@@ ();
private org.ovirt.engine.core.bll.ValidationResult network@@ Not@@ Us@@ ed@@ By@@ Host@@ () { return org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Update@@ Network@@ Command.get@@ Vds@@ DAO@@ ().get@@ AllFor@@ Network@@ (get@@ O@@ l@@ d@@ Network@@ ().get@@ Id@@ ()).@@ isEmpty@@ () ? org.ovirt.engine.core.bll.ValidationResult.@@ VAL@@ I@@ D : new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ NETWORK_@@ IN_@@ US@@ E_@@ B@@ Y_@@ HOST@@ S@@ ); }
@java.lang.Override public int hash@@ Code@@ () { return java.util.@@ Object@@ s.@@ hash@@ (@@ super@@ .@@ hash@@ Code@@ (), s@@ y@@ s@@ Pre@@ p@@ Domain@@ Name, s@@ y@@ s@@ Pre@@ p@@ User@@ Name, s@@ y@@ s@@ Pre@@ p@@ Password@@ , vm@@ Init@@ , d@@ est@@ ination@@ Vds@@ Id, c@@ ustom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ , c@@ ustom@@ Cpu@@ Name, b@@ oot@@ Se@@ qu@@ ence@@ ); }
private void par@@ se@@ Sec@@ ond@@ Arg@@ With@@ Key@@ Value@@ (java.lang.String arg@@ , java.lang.String key@@ , java.lang.String value@@ ) { if ((get@@ Config@@ Action@@ ().@@ equals(@@ Config@@ ActionType.@@ ACTION_@@ S@@ ET@@ )) || (get@@ Config@@ Action@@ ().@@ equals(@@ Config@@ ActionType.@@ ACTION_@@ M@@ ER@@ G@@ E@@ ))) { engin@@ e@@ Config@@ Map@@ .set@@ Key@@ (@@ key@@ ); engin@@ e@@ Config@@ Map@@ .set@@ Value(@@ value@@ ); } else { org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ C@@ L@@ I@@ Par@@ s@@ er.@@ log.debug@@ ((@@ ("@@ par@@ se@@ Arg@@ um@@ ent@@ s error@@ : s@@ ec@@ on@@ d arg@@ um@@ ent '@@ " + arg@@ ) + "@@ ' ha@@ s an '@@ =@@ ' char bu@@ t ac@@ tion is not '@@ set@@ '@@ .@@ ")); throw new java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ ("@@ I@@ l@@ le@@ g@@ al s@@ ec@@ on@@ d arg@@ um@@ ent@@ : " + arg@@ ) + "@@ .@@ ")); } } }
public void remove@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ remove@@ B@@ ook@@ mar@@ k@@ s@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ remove@@ _@@ b@@ ook@@ mar@@ k@@ ); model.set@@ Hash@@ Name@@ ("@@ remove@@ _@@ b@@ ook@@ mar@@ k@@ "); java.util.ArrayList<@@ java.lang.String> lis@@ t = new java.util.ArrayList<@@ java.lang.String@@ >(); for (java.lang.Object i@@ te@@ m : get@@ SelectedItem@@ s()) { org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k i = ((org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k@@ ) (@@ item@@ )); lis@@ t.@@ add(@@ i@@ .get@@ b@@ ook@@ mar@@ k@@ _@@ name@@ ()); } model.set@@ Items(@@ list@@ ); org.ovirt.engine.ui.uicommonweb.UICommand temp@@ V@@ a@@ r = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ Remove@@ ", this@@ ); tempVar@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ()); tempVar@@ .set@@ Is@@ Default@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ ); org.ovirt.engine.ui.uicommonweb.UICommand tempVar@@ 2 = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ ", this@@ ); tempVar@@ 2@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); tempVar@@ 2@@ .set@@ Is@@ Cancel@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ 2@@ ); }
@java.lang.Override public void set@@ Items(@@ java.lang.@@ I@@ ter@@ able value@@ ) { if ((@@ item@@ s) != value@@ ) { item@@ s@@ Ch@@ an@@ gin@@ g@@ (@@ value@@ , item@@ s); item@@ s = value@@ ; get@@ Item@@ s@@ Changed@@ Event@@ ().@@ r@@ a@@ is@@ e@@ (@@ this@@ , EventArg@@ s.@@ EM@@ P@@ TY@@ ); on@@ PropertyChanged@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ ("@@ Item@@ s@@ ")); org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Item@@ Model selected@@ I@@ te@@ m = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Item@@ Model) (get@@ SelectedItem@@ ())); if (((@@ item@@ s) != null@@ ) && (s@@ elected@@ I@@ te@@ m != null@@ )) { for (java.lang.Object obj@@ ect : item@@ s) { org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Item@@ Model item@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Item@@ Model) (@@ object@@ )); if (@@ item@@ Model.get@@ Entity@@ ().@@ equals@@ (s@@ elected@@ Item@@ .get@@ Entity@@ ())) { this@@ .@@ selected@@ I@@ te@@ m = item@@ Model@@ ; break@@ ; } } } on@@ SelectedItem@@ Changed@@ (); } }
@java.lang.Override public org.ovirt.engine.core.bll.ValidationResult call@@ () { final org.ovirt.engine.core.common.businessentities.storage.@@ Cinder@@ Disk dis@@ k = c@@ inder@@ Disk@@ s.@@ iter@@ ator@@ ().@@ ne@@ xt@@ (); org.ovirt.engine.core.bll.@@ p@@ rovider.@@ storage.@@ Op@@ en@@ St@@ ack@@ Volume@@ Provider@@ Pro@@ x@@ y pro@@ x@@ y = disk@@ Proxy@@ Map@@ .get@@ (disk@@ .getId()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Volume@@ Type@@ > volume@@ Type@@ s = pro@@ xy@@ .get@@ Volume@@ Typ@@ es@@ (); boolean volume@@ Type@@ Exist@@ s = org.apache.commons.@@ c@@ oll@@ ection@@ s.@@ Collection@@ Utils.@@ ex@@ ist@@ s(@@ volume@@ Typ@@ es@@ , new org.apache.commons.@@ c@@ oll@@ ection@@ s.@@ P@@ red@@ icate@@ () { @java.lang.Override public boolean e@@ valu@@ ate@@ (java.lang.Object o@@ ) { return ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ Cinder@@ Volume@@ Type@@ ) (@@ o@@ )@@ ).get@@ Name@@ ().@@ equals(@@ disk@@ .get@@ Cinder@@ Volume@@ Type@@ ()); } }); if (!@@ volume@@ Type@@ Exist@@ s) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ C@@ IN@@ D@@ ER_@@ V@@ O@@ LU@@ M@@ E_@@ TYPE_@@ NOT_@@ EXIST@@ S@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ c@@ inder@@ Volume@@ Type %@@ s", disk@@ .get@@ Cinder@@ Volume@@ Type@@ ())); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Cons@@ um@@ ption@@ Parameter@@ > get@@ Quota@@ Storage@@ Cons@@ um@@ ption@@ Parameters@@ () { java.util.List<@@ org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Cons@@ um@@ ption@@ Parameter@@ > lis@@ t = new java.util.ArrayList<@@ org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Cons@@ um@@ ption@@ Parameter@@ >(); if ((@@ image@@ Templ@@ at@@ es@@ ) != null@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ DiskImage dis@@ k : image@@ Templ@@ at@@ es@@ ) { if ((@@ disk@@ .get@@ Quota@@ Id()) != null@@ ) { lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Storage@@ Cons@@ um@@ ption@@ Parameter@@ (disk@@ .get@@ Quota@@ Id(), null@@ , Quota@@ Storage@@ Cons@@ um@@ ption@@ Paramet@@ er.@@ Quota@@ Action@@ .@@ RE@@ LE@@ A@@ S@@ E, disk@@ .get@@ storage@@ _id@@ s().get@@ (0@@ ), (@@ do@@ ubl@@ e) (disk@@ .get@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s@@ ())@@ ))); } } } return list@@ ; }
@org.junit.Test public void m@@ igr@@ ation@@ Not@@ Supported@@ () { when@@ (cluster@@ .get@@ CompatibilityVersion@@ ()).@@ then@@ Return@@ (m@@ ock@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )); valid@@ ator = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.validator.@@ Cluster@@ Validator@@ (@@ db@@ Fac@@ ade@@ , cluster@@ )); do@@ Return@@ (@@ false@@ ).@@ when(@@ valid@@ ator@@ )@@ .m@@ igr@@ ation@@ Supported@@ For@@ Ar@@ ch@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type@@ .@@ class@@ )); assert@@ That@@ (@@ valid@@ ator@@ .m@@ igr@@ ation@@ Supported@@ (@@ org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instance@@ ().@@ ne@@ xt@@ Enum@@ (org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type@@ .@@ class@@ )@@ ), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ M@@ I@@ G@@ R@@ A@@ TION_@@ ON_@@ ER@@ R@@ OR@@ _@@ I@@ S_NOT_@@ SUP@@ PORT@@ ED@@ )); }
private boolean is@@ Run@@ ning@@ Configuration@@ N@@ e@@ e@@ e@@ ded@@ () { return ((@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().is@@ N@@ ext@@ Run@@ Configuration@@ Exist@@ s()) || (!@@ (org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ is@@ Update@@ Valid@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Vm@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Status@@ (), is@@ Hot@@ Set@@ Enabled@@ ())@@ ))) || (!@@ (org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ is@@ Update@@ Valid@@ For@@ Vm@@ Devices@@ (get@@ Vm@@ Id(), org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Status@@ (), org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.get@@ Parameters@@ ())@@ ))) || (!@@ (org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ is@@ Update@@ Valid@@ For@@ Migration@@ Policy@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ (), org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Vm@@ ()))); }
@org.junit.Test public void test@@ Log@@ o@@ ff@@ Async@@ _@@ s@@ uc@@ cess@@ () { java.lang.Object model = new java.lang.Object@@ (); when@@ (m@@ ock@@ Async@@ Query.get@@ Model@@ ()).@@ thenReturn(@@ model@@ ); org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er test@@ Us@@ er = new org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ (); test@@ Us@@ er.@@ set@@ User@@ Name@@ ("@@ test@@ User@@ "); test@@ Us@@ er.@@ set@@ Password@@ ("@@ test@@ p@@ assword@@ "); frontend.@@ lo@@ go@@ ff@@ Async@@ (@@ test@@ User@@ , mock@@ Async@@ Query@@ ); ve@@ r@@ if@@ y@@ (m@@ ock@@ Service@@ ).@@ log@@ Of@@ f@@ (@@ e@@ q@@ (@@ test@@ User@@ ), call@@ back@@ Action@@ .@@ c@@ ap@@ t@@ ure@@ ()); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value = new org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ (); call@@ back@@ Action@@ .get@@ Value@@ ().@@ onSuccess@@ (@@ return@@ Value@@ ); ve@@ r@@ if@@ y@@ (m@@ ock@@ AsyncCallback@@ ).@@ onSuccess@@ (@@ model, return@@ Value@@ ); ve@@ r@@ if@@ y@@ (m@@ ock@@ Lo@@ gin@@ Handler@@ ).@@ on@@ Log@@ out@@ (); }
@java.lang.Override protected void s@@ ync@@ Search@@ () { super@@ .@@ s@@ ync@@ Search@@ (); if (get@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ ()) { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ All@@ Policy@@ Unit@@ s, new org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base@@ (), new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ <@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ >() { @java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { java.util.ArrayList<@@ org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ > lis@@ t = return@@ Value.get@@ ReturnValue@@ (); set@@ Policy@@ Unit@@ s(@@ list@@ ); f@@ et@@ ch@@ Cluster@@ P@@ olic@@ i@@ es@@ (); if ((@@ p@@ olicy@@ Unit@@ Model) != null@@ ) { p@@ olicy@@ Unit@@ Model.get@@ Policy@@ Unit@@ s@@ ().set@@ Items(@@ s@@ ort@@ (p@@ olicy@@ Unit@@ s@@ )); } } }@@ )); } else { f@@ et@@ ch@@ Cluster@@ P@@ olic@@ i@@ es@@ (); } }
@java.lang.Override protected java.util.List<@@ java.lang.@@ Class@@ <?@@ >> get@@ Validation@@ Group@@ s() { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ StorageDomain@@ Command.@@ add@@ Validation@@ Group@@ (org.ovirt.engine.core.common.@@ validation.@@ group@@ .@@ Create@@ Entity@@ .@@ class@@ ); return super@@ .get@@ Validation@@ Group@@ s(); }
public void re@@ fresh@@ Volume@@ () { org.ovirt.engine.core.compat.Guid image@@ Id = org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.getParameters().get@@ Base@@ Image@@ ().get@@ Image@@ Id@@ (); org.ovirt.engine.core.common.action.@@ Re@@ fresh@@ Volume@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Re@@ fresh@@ Volume@@ Parameters@@ (org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.getParameters().get@@ Base@@ Image@@ ().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.getParameters().get@@ Base@@ Image@@ ().get@@ Storage@@ Id@@ s().get@@ (0@@ ), org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.getParameters().get@@ Base@@ Image@@ ().get@@ Id(), image@@ Id); parameters.set@@ Parent@@ Command@@ (VdcActionType.@@ M@@ er@@ ge@@ Ex@@ tend@@ ); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.get@@ Parameters@@ ()); org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ execute@@ Async@@ Command@@ (VdcActionType.@@ Re@@ fresh@@ Volume@@ , parameters@@ , org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.@@ log.info@@ ("@@ Re@@ fresh@@ ing s@@ iz@@ e of exten@@ de@@ d volum@@ e {@@ } on host@@ s", image@@ Id); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ In@@ st@@ all@@ Model model@@ ) { d@@ ri@@ ver.@@ edit@@ (model@@ ); r@@ b@@ P@@ ubl@@ ic@@ Key@@ .set@@ Value@@ (@@ true@@ ); model.set@@ Auth@@ entic@@ ation@@ Method@@ (@@ Auth@@ entic@@ ation@@ Method@@ .@@ P@@ ubl@@ ic@@ Key@@ ); dis@@ play@@ P@@ ass@@ P@@ k@@ W@@ in@@ do@@ w@@ (@@ false@@ ); r@@ b@@ Password@@ .@@ add@@ Value@@ Change@@ Handler@@ (@@ new com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Handler@@ <@@ java.lang.Boolean@@ >() { @java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { model.set@@ Auth@@ entic@@ ation@@ Method@@ (@@ Auth@@ entic@@ ation@@ Method@@ .@@ Password@@ ); dis@@ play@@ P@@ ass@@ P@@ k@@ W@@ in@@ do@@ w@@ (@@ true@@ ); } }); r@@ b@@ P@@ ubl@@ ic@@ Key@@ .@@ add@@ Value@@ Change@@ Handler@@ (@@ new com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Handler@@ <@@ java.lang.Boolean@@ >() { @java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { model.set@@ Auth@@ entic@@ ation@@ Method@@ (@@ Auth@@ entic@@ ation@@ Method@@ .@@ P@@ ubl@@ ic@@ Key@@ ); dis@@ play@@ P@@ ass@@ P@@ k@@ W@@ in@@ do@@ w@@ (@@ false@@ ); } }); }
public org.ovirt.engine.core.compat.@@ Version get@@ Group@@ CompatibilityVersion@@ () { return l@@ ig@@ ht@@ Vds@@ Comp@@ at@@ Version@@ (); }
private java.util.@@ Comp@@ ar@@ ator@@ <@@ java.lang.String> get@@ Sp@@ ice@@ L@@ ast@@ String@@ Comp@@ ar@@ ator@@ () { return ( a@@ , b@@ ) -@@ > { if ((@@ java.util.@@ Object@@ s.@@ equals(@@ a@@ , b@@ )) && ((@@ s@@ a@@ .get@@ b@@ .get@@ Sp@@ ice@@ L@@ ast@@ ()) != null@@ )) { return java.util.@@ Comp@@ ar@@ ator.@@ <@@ java.lang.String@@ >@@ n@@ at@@ ur@@ al@@ Or@@ der@@ ().@@ comp@@ ar@@ e(@@ a@@ , b@@ ); } }; }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () throw@@ s java.lang.Exception { in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ MacPool@@ Per@@ Cluster@@ .@@ class@@ , mock@@ (org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ pool@@ man@@ ag@@ er.@@ MacPool@@ Per@@ Cluster@@ .@@ class@@ )); existing@@ S@@ napsho@@ t = create@@ Snapshot@@ (@@ existing@@ Snapshot@@ Id); existing@@ V@@ m = create@@ Vm@@ (@@ existing@@ Vm@@ Id); existing@@ S@@ napsho@@ t.@@ set@@ Vm@@ Configuration@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshot@@ Vm@@ Configuration@@ Helper@@ Test.@@ EX@@ IS@@ TI@@ N@@ G@@ _@@ VM_@@ NAM@@ E); existing@@ DiskImage = create@@ DiskImage@@ (@@ existing@@ Image@@ Id, existing@@ ImageGroup@@ Id); snapshot@@ Vm@@ Configuration@@ Help@@ er = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshot@@ Vm@@ Configuration@@ Helper@@ ()); snapshot@@ s@@ Manage@@ r = mock@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshot@@ sManager@@ .@@ class@@ ); when@@ (s@@ napshot@@ Vm@@ Configuration@@ Helper@@ .get@@ Snapshot@@ Manager@@ ()).@@ then@@ Return@@ (s@@ napshot@@ sManager@@ ); setUp@@ Dao@@ Mock@@ s(); }
private org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Network@@ Q@@ o@@ s get@@ O@@ verrid@@ ing@@ Host@@ Network@@ Qos@@ () { boolean q@@ os@@ Available@@ And@@ Se@@ t = (network@@ D@@ ial@@ og@@ Model.get@@ Qos@@ Model().get@@ Is@@ Available@@ ()) && (network@@ D@@ ial@@ og@@ Model.get@@ Qos@@ O@@ verrid@@ d@@ en@@ ().getEntity@@ ()); if (@@ q@@ os@@ Available@@ And@@ Set@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Network@@ Q@@ o@@ s q@@ o@@ s = new org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Network@@ Qos@@ (); network@@ D@@ ial@@ og@@ Model.get@@ Qos@@ Model@@ ().@@ f@@ l@@ us@@ h@@ (@@ q@@ os@@ ); return q@@ os@@ ; } else { return null@@ ; } }
java.lang.String get@@ F@@ ull@@ Path@@ (@@ final java.lang.String b@@ r@@ and@@ ing@@ R@@ oot@@ Path@@ , final java.lang.String p@@ ath@@ ) { java.lang.String result = null@@ ; java.lang.String m@@ er@@ ged@@ P@@ at@@ h = org.ovirt.engine.core.utils.@@ servlet@@ .@@ Servlet@@ Utils.@@ m@@ er@@ ge@@ Path@@ s(@@ b@@ r@@ and@@ ing@@ R@@ oot@@ Path@@ , p@@ ath@@ ); if ((@@ p@@ at@@ h != null@@ ) && (@@ org.ovirt.engine.core.utils.@@ servlet@@ .@@ Servlet@@ Utils.@@ is@@ S@@ an@@ e(@@ m@@ er@@ ged@@ Path@@ ))) { result = m@@ er@@ ged@@ Path@@ ; } else { org.ovirt.engine.ui.frontend.server.@@ gwt.@@ B@@ r@@ and@@ ing@@ Servlet@@ .@@ log.error@@ ((@@ ("@@ Th@@ e p@@ at@@ h \"@@ " + m@@ er@@ ged@@ Path@@ ) + "@@ \@@ " is not s@@ an@@ e@@ ")); } return result@@ ; }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.core.compat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.core.compat.@@ EventArg@@ s args) { if (!@@ (s@@ ame@@ Entity(@@ list@@ Model.get@@ SelectedItem@@ (), model@@ ))) { get@@ View@@ ().set@@ Not@@ Selected@@ (m@@ odel.@@ Is@@ Vm@@ Up@@ ()); } }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { if (@@ result != null@@ ) { org.ovirt.engine.core.common.businessentities.VM vm = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ result@@ )@@ ).get@@ ReturnValue@@ (); if (@@ vm == null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ pool@@ s.@@ Pool@@ Disk@@ List@@ Model pool@@ Disk@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ pool@@ s.@@ Pool@@ Disk@@ ListModel@@ ) (model@@ )); pool@@ Disk@@ List@@ Model.set@@ VM@@ (vm@@ ); pool@@ Disk@@ List@@ Model.@@ s@@ ync@@ Search@@ (); } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Th@@ e Ex@@ por@@ t Domain is in@@ ac@@ tive@@ . Data c@@ an b@@ e ret@@ ri@@ e@@ ve@@ d on@@ l@@ y wh@@ e@@ n the Domain is ac@@ tiva@@ ted@@ ") java.lang.String th@@ e@@ Export@@ Domain@@ Is@@ In@@ ac@@ tive@@ M@@ s@@ g@@ ();
@org.junit.@@ B@@ e@@ for@@ e public void set@@ up@@ () { vds@@ Group@@ 1 = create@@ VdsGroup@@ (); vds@@ Group@@ 2 = create@@ VdsGroup@@ (); when(@@ vds@@ Group@@ Dao.get@@ All@@ ()).@@ thenReturn(@@ java.util.Arrays.as@@ List(@@ vds@@ Group@@ 1, vds@@ Group@@ 2@@ )); when(@@ per@@ Cluster@@ Provider@@ .get@@ ()).@@ then@@ Return@@ (cluster@@ E@@ n@@ for@@ c@@ er@@ 1, cluster@@ E@@ n@@ for@@ c@@ er@@ 2@@ ); when@@ (cluster@@ E@@ n@@ for@@ c@@ er@@ 1@@ .@@ check@@ If@@ C@@ urrent@@ ly@@ Migr@@ at@@ ing@@ ()).@@ then@@ Return@@ (@@ false@@ ); when@@ (cluster@@ E@@ n@@ for@@ c@@ er@@ 1@@ .@@ ch@@ o@@ os@@ e@@ N@@ ext@@ Vm@@ To@@ Migrate@@ ()).@@ then@@ Return@@ (vm@@ 1@@ ); when@@ (cluster@@ E@@ n@@ for@@ c@@ er@@ 2@@ .@@ check@@ If@@ C@@ urrent@@ ly@@ Migr@@ at@@ ing@@ ()).@@ then@@ Return@@ (@@ false@@ ); when@@ (cluster@@ E@@ n@@ for@@ c@@ er@@ 2@@ .@@ ch@@ o@@ os@@ e@@ N@@ ext@@ Vm@@ To@@ Migrate@@ ()).@@ then@@ Return@@ (vm@@ 2@@ ); ar@@ em@@ .@@ w@@ a@@ ke@@ up@@ (); }
@java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return shared@@ MacPool@@ Model@@ Provider@@ .get@@ Model().get@@ Remove@@ Command@@ (); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ UP@@ D@@ AT@@ E); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _P@@ RO@@ V@@ ID@@ ER@@ ); }
private org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Contex@@ t cl@@ one@@ Only@@ Engine@@ Context@@ () { return command@@ Contex@@ t.@@ cl@@ one@@ ().@@ with@@ out@@ Comp@@ ens@@ ation@@ Context@@ ().@@ with@@ out@@ Execution@@ Context@@ (); }
private static boolean can@@ Plug@@ Interfac@@ e(@@ org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic if@@ ace@@ , org.ovirt.engine.core.compat.Guid vds@@ Group@@ Id) { if (org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ no@@ O@@ th@@ er@@ Plug@@ ged@@ Vm@@ Nic@@ H@@ as@@ S@@ ame@@ Mac@@ Address@@ (@@ if@@ ace@@ )) { return true@@ ; } boolean can@@ Plug@@ Interface = org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ can@@ Plug@@ Interface@@ In@@ D@@ c@@ (@@ if@@ ac@@ e.get@@ Mac@@ Address@@ (), org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ vds@@ Group@@ Id@@ To@@ DataCenter@@ Id(@@ vds@@ Group@@ Id@@ )); if (!@@ can@@ Plug@@ Interface@@ ) { new org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manager@@ ().@@ au@@ ditLog@@ Mac@@ In@@ U@@ se@@ Un@@ plug@@ (@@ if@@ ace@@ ); } return can@@ Plug@@ Interface@@ ; }
@java.lang.Override public void On@@ Success@@ (java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ List@@ Model storage@@ ListModel@@ 1 = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ ListModel@@ ) (@@ target@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >) (@@ return@@ Value@@ )); if (@@ do@@ m@@ ain@@ s != null@@ ) { if (@@ do@@ m@@ ain@@ s.@@ isEmpty@@ ()) { P@@ ost@@ Import@@ Local@@ Storage@@ (@@ storage@@ ListModel@@ 1@@ .@@ contex@@ t@@ , false@@ , storage@@ ListModel@@ 1@@ .@@ storage@@ Model@@ , org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ th@@ er@@ e@@ Is@@ No@@ StorageDomain@@ Un@@ der@@ Th@@ e@@ Sp@@ e@@ c@@ if@@ i@@ ed@@ Path@@ M@@ s@@ g@@ ()); } else { storage@@ ListModel@@ 1@@ .@@ Import@@ Local@@ Storage@@ Add@@ Domain@@ (@@ do@@ m@@ ain@@ s); } } else { P@@ ost@@ Import@@ Local@@ Storage@@ (@@ storage@@ ListModel@@ 1@@ .@@ contex@@ t@@ , false@@ , storage@@ ListModel@@ 1@@ .@@ storage@@ Model@@ , org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ fail@@ ed@@ To@@ R@@ et@@ ri@@ e@@ ve@@ Existing@@ StorageDomain@@ I@@ n@@ for@@ m@@ ation@@ M@@ s@@ g@@ ()); } }
public java.lang.@@ B@@ oolean get@@ Is@@ GeoRep@@ S@@ lave@@ () { return is@@ GeoRep@@ S@@ lave@@ ; }
private void stor@@ e@@ R@@ oot@@ Password@@ () { if (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ param@@ s.get@@ R@@ oot@@ Password@@ ()))) { m@@ et@@ a@@ Data@@ .@@ put@@ ("@@ p@@ assword@@ ", param@@ s.get@@ R@@ oot@@ Password@@ ()); } }
@org.junit.Test public void test@@ Get@@ AllFor@@ Cluster@@ Filter@@ ed@@ With@@ Permission@@ s@@ No@@ Permission@@ s@@ And@@ No@@ Filter@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > result = d@@ ao@@ .get@@ AllFor@@ Cluster@@ (cluster@@ , org.ovirt.engine.core.dao.@@ UN@@ P@@ R@@ I@@ V@@ IL@@ E@@ G@@ ED_@@ US@@ ER_@@ ID@@ , false@@ ); org.ovirt.engine.core.dao.@@ Network@@ DAO@@ Test@@ .@@ assert@@ Get@@ AllFor@@ Cluster@@ Result@@ (@@ result@@ ); }
@java.lang.Override public void set@@ Af@@ finity@@ Label@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.String> af@@ finity@@ Label@@ Map@@ ) { }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > get@@ All@@ Vm@@ Numa@@ Node@@ By@@ Vds@@ Numa@@ Node@@ Id(@@ org.ovirt.engine.core.compat.Guid vds@@ Numa@@ Node@@ Id) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ vds@@ _@@ num@@ a@@ _@@ n@@ ode@@ _id", vds@@ Numa@@ Node@@ Id); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > vm@@ Numa@@ Node@@ s = get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Vm@@ Numa@@ Node@@ By@@ Vds@@ Numa@@ Node@@ Id@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Numa@@ Node@@ Dao@@ Impl.@@ vm@@ Numa@@ Node@@ Row@@ Map@@ per@@ , parameter@@ Source@@ ); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ java.lang.Integer@@ >> num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map = get@@ All@@ Numa@@ Node@@ Cpu@@ Map@@ (); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.Boolean@@ , java.lang.Integer@@ >@@ >> vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map = get@@ All@@ Vm@@ Numa@@ Node@@ P@@ in@@ Info@@ (); for (org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e n@@ od@@ e : vm@@ Numa@@ Nod@@ es@@ ) { if (@@ num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map.@@ contains@@ Key@@ (@@ n@@ od@@ e.get@@ Id@@ ())) { n@@ od@@ e.set@@ Cpu@@ Id@@ s(@@ num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map@@ .get(@@ n@@ od@@ e.get@@ Id@@ ())); } if (vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map.@@ contains@@ Key@@ (@@ n@@ od@@ e.get@@ Id@@ ())) { n@@ od@@ e.set@@ Vds@@ Numa@@ Node@@ List@@ (vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map@@ .get(@@ n@@ od@@ e.get@@ Id@@ ())); } } return vm@@ Numa@@ Nod@@ es@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se do@@ Import@@ (org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ c@@ luster.@@ id@@ |@@ name@@ ", "@@ storageDomain@@ .@@ id@@ |@@ name@@ "); org.ovirt.engine.core.compat.Guid d@@ est@@ StorageDomain@@ Id = get@@ Dest@@ StorageDomain@@ Id(@@ action@@ ); org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ (get@@ Entity@@ (), par@@ ent.get@@ StorageDomain@@ Id(), d@@ est@@ StorageDomain@@ Id, par@@ ent.get@@ DataCenter@@ Id(@@ d@@ est@@ StorageDomain@@ Id@@ ), get@@ Cluster@@ Id(@@ action@@ )); params.set@@ Image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ (get@@ Disk@@ To@@ Dest@@ ination@@ Map@@ (@@ action@@ )); params.set@@ For@@ ce@@ O@@ ver@@ ri@@ de@@ ((@@ action.@@ isSet@@ Ex@@ cl@@ us@@ ive@@ () ? action.@@ is@@ Ex@@ cl@@ us@@ ive@@ () : false@@ )); java.lang.@@ B@@ oolean c@@ oll@@ ap@@ se@@ Snapshot@@ s = org.ovirt.engine.api.@@ common.@@ util.@@ Query@@ Helper@@ .get@@ Boolean@@ M@@ at@@ ri@@ x@@ Parameter@@ (@@ ur@@ i@@ Info@@ , "@@ c@@ oll@@ ap@@ se@@ _@@ snapshot@@ s@@ "); if (c@@ oll@@ ap@@ se@@ Snapshot@@ s != null@@ ) { params.set@@ Copy@@ Coll@@ ap@@ s@@ e(@@ c@@ oll@@ ap@@ se@@ Snapshot@@ s); } if (@@ action.@@ isSet@@ Cl@@ one@@ ()) { params.set@@ Import@@ As@@ New@@ Entity(@@ action.@@ is@@ Cl@@ one@@ ()); if ((@@ action.@@ isSet@@ Vm@@ ()) && (@@ action@@ .get@@ Vm@@ ().is@@ Set@@ Name@@ ())) { param@@ s.get@@ Vm@@ ().set@@ Name(@@ action@@ .get@@ Vm().get@@ Name()); } } return do@@ Action(VdcActionType.@@ ImportVm@@ , param@@ s, action@@ ); }
@org.junit.Test public void enc@@ ode@@ D@@ ec@@ ode@@ With@@ Non@@ As@@ c@@ i@@ i@@ i@@ Disk@@ Alias@@ () throw@@ s java.lang.Exception { disk@@ .set@@ Disk@@ Alias@@ ("@@ @@ @@ @@ "); disk@@ .set@@ Disk@@ Description@@ ("@@ Disk@@ Description@@ "); assert@@ Disk@@ Description@@ Map@@ (disk@@ , org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ gener@@ ate@@ Disk@@ Alias@@ Json@@ E@@ n@@ try@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ enc@@ ode@@ String("@@ @@ @@ "@@ )@@ ), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ gener@@ ate@@ Disk@@ Description@@ Json@@ E@@ n@@ try@@ ("@@ Disk@@ Description@@ "@@ ), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ gener@@ ate@@ En@@ c@@ od@@ ing@@ Json@@ E@@ n@@ try@@ (@@ 1@@ )); org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test@@ .@@ assert@@ Disk@@ Description@@ D@@ ec@@ od@@ ing@@ (disk@@ ); }
private org.ovirt.engine.core.compat.Guid get@@ StoragePool@@ Id(@@ org.ovirt.engine.core.common.queries.@@ Get@@ VmTemplate@@ Parameters param@@ s) { return (@@ param@@ s.get@@ StoragePool@@ Id()) != null ? param@@ s.get@@ StoragePool@@ Id@@ () : (@@ param@@ s.get@@ VdsGroup@@ Id()) != null ? org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VdsGroup@@ Dao().get@@ (@@ param@@ s.get@@ VdsGroup@@ Id@@ ())@@ .get@@ StoragePool@@ Id@@ () : null@@ ; }
private void Update@@ External@@ Host@@ Model@@ s() { boolean en@@ able@@ d = ((@@ java.lang.Boolean@@ ) (get@@ External@@ Host@@ Provider@@ Enabled@@ ().getEntity@@ ())); if (@@ en@@ able@@ d && ((get@@ Provi@@ d@@ ers@@ ().get@@ Item@@ s()) == null@@ )) { org.ovirt.engine.ui.frontend.AsyncQuery get@@ Provi@@ d@@ ers@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); get@@ Provi@@ d@@ ers@@ Query@@ .set@@ Model@@ (@@ this@@ ); get@@ Provi@@ d@@ ers@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Provider@@ > provider@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Provider@@ >) (@@ result@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ List@@ Model provi@@ d@@ ers@@ List@@ Model = get@@ Provi@@ d@@ ers@@ (); provider@@ s.add(@@ 0@@ , null@@ ); provi@@ d@@ ers@@ List@@ Model.set@@ Items(@@ provi@@ d@@ ers@@ ); provi@@ d@@ ers@@ List@@ Model.set@@ Is@@ Chang@@ able@@ (@@ true@@ ); } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ All@@ Provi@@ d@@ ers@@ By@@ Type(@@ get@@ Provi@@ d@@ ers@@ Query@@ , Provider@@ Type.@@ For@@ em@@ an@@ ); } else { get@@ Provi@@ d@@ ers@@ ().setIs@@ Chang@@ able(@@ en@@ abled@@ ); get@@ Provi@@ d@@ ers@@ ().set@@ SelectedItem@@ (@@ null@@ ); } }
public boolean is@@ F@@ ast@@ For@@ w@@ ard@@ ing@@ () { return (r@@ ate@@ C@@ y@@ cl@@ e@@ [@@ org.ovirt.engine.ui.uicommonweb.models.@@ G@@ rid@@ Tim@@ er.@@ current@@ R@@ ate@@ ]@@ ) != (@@ org.ovirt.engine.ui.uicommonweb.models.@@ G@@ rid@@ Tim@@ er.@@ R@@ AT@@ E@@ .@@ N@@ OR@@ M@@ AL@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ AT@@ T@@ AC@@ H@@ ); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ STORAGE_@@ _C@@ ON@@ N@@ EC@@ TI@@ ON@@ ); }
protected boolean p@@ er@@ for@@ m@@ Images@@ Check@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ Images@@ To@@ Ch@@ ec@@ k = org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disks@@ (get@@ Images@@ List@@ (), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ ON@@ L@@ Y_@@ NOT_@@ S@@ H@@ A@@ RE@@ AB@@ LE@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ ON@@ L@@ Y_@@ AC@@ TI@@ V@@ E_@@ DIS@@ K@@ S_@@ ON@@ L@@ Y@@ ); org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Images@@ Validator disk@@ Images@@ Validator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Images@@ Validator@@ (disk@@ Images@@ To@@ Check@@ ); return validate@@ (disk@@ Images@@ Validator.@@ disk@@ Images@@ Not@@ Lock@@ ed@@ ()); }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Contex@@ t contex@@ t@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity object@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der s@@ b@@ ) { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Ad@@ v@@ ance@@ d@@ Detail@@ s ad@@ v@@ ance@@ d@@ Detail@@ s = objec@@ t.get@@ Ad@@ v@@ ance@@ d@@ Detail@@ s(); org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Size@@ In@@ fo size@@ In@@ fo = null@@ ; if (@@ ad@@ v@@ ance@@ d@@ Detail@@ s != null@@ ) { size@@ In@@ fo = ad@@ v@@ ance@@ d@@ Detail@@ s.get@@ C@@ ap@@ ac@@ ity@@ Info@@ (); if (s@@ ize@@ In@@ fo != null@@ ) { set@@ F@@ ree@@ S@@ iz@@ e(@@ size@@ Info@@ .get@@ F@@ ree@@ Size@@ ()@@ .@@ do@@ ubl@@ e@@ Value@@ ()); set@@ T@@ otal@@ S@@ iz@@ e(@@ size@@ Info@@ .get@@ T@@ otal@@ Size@@ ()@@ .@@ do@@ ubl@@ e@@ Value@@ ()); set@@ Us@@ ed@@ S@@ iz@@ e(@@ size@@ Info@@ .get@@ Us@@ ed@@ Size@@ ()@@ .@@ do@@ ubl@@ e@@ Value@@ ()); set@@ In@@ Unit@@ (@@ Size@@ Un@@ it.@@ B@@ Y@@ T@@ ES@@ ); } } super@@ .@@ r@@ ender@@ (@@ contex@@ t@@ , (@@ ad@@ v@@ ance@@ d@@ Detail@@ s == null ? null : size@@ In@@ fo == null ? null : size@@ Info@@ ), s@@ b@@ ); }
@java.lang.Override protected void s@@ ync@@ Search@@ () { org.ovirt.engine.ui.frontend.AsyncQuery async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); async@@ Query@@ .set@@ Model@@ (@@ this@@ ); async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object ret@@ ) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Is@@ csi@@ Bond@@ > item@@ s = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (r@@ et@@ )@@ ).get@@ ReturnValue@@ (); org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ List@@ Model search@@ able@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ ListModel@@ ) (model@@ )); search@@ able@@ List@@ Model.set@@ Items(@@ item@@ s); } }; org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters param@@ s = new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (get@@ Entity@@ ().get@@ Id()); params.set@@ Re@@ fresh@@ (get@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ ()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Is@@ csi@@ Bond@@ B@@ un@@ d@@ l@@ es@@ By@@ StoragePool@@ Id, param@@ s, async@@ Query@@ ); }
@org.junit.Test public void test@@ Remove@@ () { org.ovirt.engine.core.common.businessentities.@@ Network result = d@@ ao@@ .get@@ By@@ Name(@@ existing@@ _@@ net@@ _@@ name@@ ); assert@@ Not@@ Null@@ (@@ result@@ ); d@@ ao.@@ remove@@ (@@ result.get@@ Id()); result = d@@ ao@@ .get@@ By@@ Name(@@ existing@@ _@@ net@@ _@@ name@@ ); assert@@ Null@@ (@@ result@@ ); }
private void update@@ P@@ ass@@ Dis@@ c@@ ard@@ Change@@ ab@@ ility@@ For@@ Direct@@ Lun@@ () { if ((@@ (get@@ S@@ an@@ Storage@@ Model@@ Base@@ ()) != null@@ ) && ((get@@ S@@ an@@ Storage@@ Model@@ Base@@ ().get@@ Ad@@ ded@@ Lun@@ s()) != null@@ )) { if (get@@ S@@ an@@ Storage@@ Model@@ Base@@ ().get@@ Ad@@ ded@@ Lun@@ s().@@ isEmpty@@ ()) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); } else { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able(@@ is@@ Lun@@ Sup@@ port@@ Dis@@ c@@ ard@@ (get@@ S@@ an@@ Storage@@ Model@@ Base@@ ().get@@ Ad@@ ded@@ Lun@@ s().get@@ (0@@ ).get@@ Entity@@ ()), org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model@@ .@@ const@@ an@@ t@@ s.@@ dis@@ c@@ ard@@ Is@@ Not@@ Supported@@ By@@ Un@@ der@@ ly@@ ing@@ Storage@@ ()); if (!@@ (get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().get@@ Is@@ Chang@@ able@@ ())) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().set@@ Entity@@ (@@ false@@ ); } } else if ((get@@ Lun@@ Disk@@ ()) != null@@ ) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able(@@ is@@ Lun@@ Sup@@ port@@ Dis@@ c@@ ard@@ (get@@ Lun@@ Disk@@ ().get@@ Lun@@ ()), org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model@@ .@@ const@@ an@@ t@@ s.@@ dis@@ c@@ ard@@ Is@@ Not@@ Supported@@ By@@ Un@@ der@@ ly@@ ing@@ Storage@@ ()); } }
private org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ ge@@ Command@@ Parameters build@@ C@@ old@@ M@@ er@@ ge@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage b@@ ase@@ Volume@@ , org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage to@@ p@@ Volume@@ ) { org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ In@@ fo sub@@ ch@@ ain@@ In@@ fo = new org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ Info@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ ge@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ DiskImage@@ ().get@@ Storage@@ Id@@ s().get@@ (0@@ ), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ ge@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ ImageGroup@@ Id(), b@@ ase@@ Volume@@ , to@@ p@@ Volume@@ ); org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ ge@@ Command@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ ge@@ Command@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ ge@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ DiskImage@@ ().get@@ StoragePool@@ Id(), sub@@ ch@@ ain@@ Info@@ ); parameters.set@@ En@@ d@@ Pro@@ ce@@ d@@ ure(@@ Vdc@@ Action@@ Parameters@@ Bas@@ e.@@ En@@ d@@ Pro@@ ce@@ d@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D_@@ M@@ AN@@ AG@@ ED); parameters.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ ge@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Action@@ Type@@ ()); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ ge@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Parameters@@ ()); return parameters@@ ; }
@java.lang.Override protected void init@@ Template@@ Disk@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s) { ad@@ j@@ ust@@ Instance@@ Images@@ (disk@@ s); super@@ .@@ init@@ Template@@ Disk@@ s(@@ disk@@ s); }
private void add@@ Label@@ s@@ (org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Nic@@ Vfs@@ Confi@@ g new@@ Config@@ ) { java.util.@@ Set<@@ java.lang.String> label@@ s = new java.util.Hash@@ Set<@@ >(); label@@ s.@@ add@@ ("@@ l@@ bl@@ 1@@ "); label@@ s.@@ add@@ ("@@ l@@ bl@@ 2@@ "); label@@ s.@@ add@@ ("@@ l@@ bl@@ 3@@ "); label@@ s.@@ add@@ ("@@ l@@ bl@@ 4@@ "); label@@ s.@@ add@@ ("@@ l@@ bl@@ 4@@ "); label@@ s.@@ add@@ ("@@ l@@ bl@@ 4@@ "); label@@ s.@@ add@@ ("@@ l@@ bl@@ 4@@ "); label@@ s.@@ add@@ ("@@ l@@ bl@@ 4@@ "); }
@java.lang.Override protected void get@@ Nic@@ s(@@ org.ovirt.engine.ui.frontend.AsyncQuery get@@ Nic@@ s@@ Query@@ , org.ovirt.engine.core.compat.Guid vm@@ Id, boolean is@@ Name@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Vm@@ Nic@@ List@@ (get@@ Nic@@ s@@ Query@@ , vm@@ Id); }
private static java.@@ net@@ .@@ Http@@ UR@@ L@@ Conn@@ ec@@ tion create@@ (@@ java.@@ net@@ .@@ UR@@ L ur@@ l@@ ) throw@@ s java.io.@@ I@@ O@@ Exception@@ , java.s@@ ec@@ ur@@ ity@@ .@@ Gener@@ al@@ Sec@@ ur@@ ity@@ Exception { return new org.ovirt.engine.core.@@ u@@ utils.@@ net@@ .@@ Http@@ UR@@ L@@ Connection@@ Builder@@ (@@ ur@@ l@@ )@@ .set@@ Http@@ s@@ Protocol@@ (@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Property@@ ("@@ EN@@ G@@ IN@@ E_@@ SS@@ O@@ _S@@ ER@@ V@@ IC@@ E_@@ SS@@ L@@ _P@@ RO@@ TO@@ C@@ OL@@ "@@ )@@ .set@@ Read@@ Time@@ out@@ (0@@ )@@ .set@@ Tr@@ ust@@ Manager@@ Al@@ g@@ or@@ ith@@ m@@ (@@ javax.@@ net@@ .@@ ss@@ l.@@ Tr@@ ust@@ Manager@@ Fac@@ t@@ ory@@ .get@@ Default@@ Al@@ g@@ or@@ ith@@ m@@ ())@@ .set@@ Tr@@ ust@@ Stor@@ e(@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Property@@ ("@@ EN@@ G@@ IN@@ E_@@ SS@@ O@@ _P@@ K@@ I@@ _@@ T@@ R@@ U@@ ST@@ _@@ STOR@@ E@@ "@@ )@@ .set@@ Tr@@ ust@@ St@@ ore@@ Password@@ (@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Property@@ ("@@ EN@@ G@@ IN@@ E_@@ SS@@ O@@ _P@@ K@@ I@@ _@@ T@@ R@@ U@@ ST@@ _@@ STOR@@ E_@@ P@@ A@@ SS@@ WOR@@ D@@ "@@ )@@ .set@@ Tr@@ ust@@ St@@ ore@@ Type(@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Property@@ ("@@ EN@@ G@@ IN@@ E_@@ SS@@ O@@ _P@@ K@@ I@@ _@@ T@@ R@@ U@@ ST@@ _@@ STOR@@ E_@@ TYP@@ E@@ "@@ )@@ .set@@ UR@@ L@@ (@@ ur@@ l@@ )@@ .set@@ V@@ er@@ if@@ y@@ Ch@@ ain@@ (@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Boolean@@ ("@@ EN@@ G@@ IN@@ E_@@ SS@@ O@@ _S@@ ER@@ V@@ IC@@ E_@@ SS@@ L@@ _@@ V@@ ER@@ I@@ F@@ Y@@ _C@@ H@@ A@@ IN@@ "@@ )@@ .set@@ V@@ er@@ if@@ y@@ Host@@ (@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Boolean@@ ("@@ EN@@ G@@ IN@@ E_@@ SS@@ O@@ _S@@ ER@@ V@@ IC@@ E_@@ SS@@ L@@ _@@ V@@ ER@@ I@@ F@@ Y_@@ HOST@@ "@@ )).@@ create@@ (); }
public java.lang.String get@@ Service@@ Name@@ () { return ser@@ vice@@ Name@@ ; }
private void set@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ To@@ Param@@ s@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model, org.ovirt.engine.core.common.action.@@ VmTemplate@@ Parameters@@ Base update@@ Vm@@ Param@@ s) { org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g@@ Type w@@ d@@ Model = org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g@@ Typ@@ e.get@@ By@@ Name(@@ model.get@@ W@@ at@@ ch@@ do@@ g@@ Model@@ ()); update@@ Vm@@ Param@@ s.set@@ Update@@ W@@ at@@ ch@@ do@@ g@@ (@@ true@@ ); if (@@ w@@ d@@ Model != null@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g vm@@ W@@ at@@ ch@@ do@@ g = new org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g@@ (); vm@@ W@@ at@@ ch@@ do@@ g.@@ set@@ Action@@ (model.get@@ W@@ at@@ ch@@ do@@ g@@ Action@@ ().getSelectedItem@@ ()); vm@@ W@@ at@@ ch@@ do@@ g.@@ set@@ Model@@ (@@ w@@ d@@ Model@@ ); update@@ Vm@@ Param@@ s.set@@ W@@ at@@ ch@@ do@@ g@@ (vm@@ W@@ at@@ ch@@ do@@ g@@ ); } }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () throw@@ s java.lang.Exception { org.ovirt.engine.ui.frontend.@@ Frontend@@ .set@@ Ap@@ p@@ Error@@ s@@ Trans@@ l@@ ator@@ (m@@ ock@@ CanDoAction@@ Error@@ s@@ Trans@@ l@@ ator@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .set@@ Vds@@ m@@ Error@@ s@@ Trans@@ l@@ ator@@ (m@@ ock@@ Vds@@ m@@ Error@@ s@@ Trans@@ l@@ ator@@ ); F@@ rontend.@@ Query@@ Comp@@ let@@ e@@ Event = query@@ Comp@@ let@@ e@@ Event@@ ; F@@ rontend.@@ Query@@ St@@ ar@@ ted@@ Event = query@@ Start@@ Event@@ ; F@@ rontend.@@ f@@ rontend@@ Not@@ Log@@ ged@@ In@@ Event = f@@ rontend@@ Not@@ Log@@ ged@@ In@@ Event@@ ; org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Sub@@ s@@ cri@@ b@@ e@@ (@@ new org.ovirt.engine.core.common.queries.VdcQuery@@ Type@@ []{ org.ovirt.engine.core.common.queries.VdcQuery@@ Type.@@ Se@@ ar@@ ch }); org.ovirt.engine.ui.frontend.@@ Frontend@@ .set@@ Event@@ sHandler@@ (m@@ ock@@ Event@@ sHandler@@ ); Frontend@@ .@@ const@@ an@@ t@@ s = mock@@ Constant@@ s@@ ; when@@ (m@@ ock@@ Async@@ Query.get@@ Context@@ ()).@@ then@@ Return@@ ("@@ test@@ "); when@@ (m@@ ock@@ Async@@ Query.get@@ Del@@ ()).@@ then@@ Return@@ (m@@ ock@@ AsyncCallback@@ ); }
@java.lang.Override protected void Read@@ Os@@ S@@ ection@@ (@@ X@@ ml@@ Nod@@ e s@@ ection@@ ) { _@@ vm@@ Templ@@ at@@ e.set@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (s@@ ection@@ .@@ Att@@ ri@@ b@@ ut@@ es@@ .get@@ ("@@ ovf@@ :@@ id@@ "@@ ).get@@ Value@@ ())); X@@ ml@@ Nod@@ e n@@ od@@ e = s@@ ection@@ .S@@ el@@ ect@@ Sing@@ le@@ Node@@ ("@@ Description@@ "); if (@@ n@@ od@@ e != null@@ ) { _@@ vm@@ Templ@@ at@@ e.set@@ Os@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Os@@ Type.@@ value@@ Of@@ (@@ n@@ od@@ e.@@ In@@ n@@ er@@ Text@@ )); } else { _@@ vm@@ Templ@@ at@@ e.set@@ O@@ s(@@ Vm@@ Os@@ Type.@@ Un@@ ass@@ ig@@ ne@@ d@@ ); } }
public org.ovirt.engine.core.common.businessentities.@@ Non@@ Operation@@ al@@ Re@@ as@@ on get@@ Non@@ Operation@@ al@@ Reason@@ () { return vds@@ Dynamic@@ .get@@ Non@@ Operation@@ al@@ Reason@@ (); }
@org.junit.@@ ex@@ per@@ im@@ ent@@ al.@@ th@@ e@@ or@@ ies.@@ Th@@ e@@ or@@ y public void l@@ ast@@ Vm@@ List@@ Not@@ In@@ c@@ lu@@ d@@ ing@@ External@@ Vm@@ (@@ org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vm@@ Test@@ Pair@@ s data@@ ) { st@@ ub@@ Call@@ s(@@ data@@ ); assert@@ True@@ (vm@@ s@@ List@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ ()); ass@@ um@@ e@@ True@@ (((@@ data@@ .@@ vds@@ m@@ Vm@@ ()) != null@@ )); ass@@ um@@ e@@ True@@ (((@@ data@@ .@@ db@@ Vm@@ ()) != null@@ )); ve@@ r@@ if@@ y@@ (vds@@ Manager@@ )@@ .set@@ L@@ ast@@ Vms@@ List(@@ vds@@ Manager@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or.@@ c@@ ap@@ t@@ ure@@ ()); assert@@ Equals@@ (@@ data@@ .@@ vds@@ m@@ Vm().get@@ Vm@@ Dynamic@@ (), vds@@ Manager@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ .get@@ Value@@ ().get@@ (0@@ ).get@@ Dynamic@@ Data@@ ()); }
void set@@ Domain@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.String> do@@ m@@ ain@@ Map@@ );
@org.junit.Test public void test@@ Create@@ D@@ ec@@ or@@ ated@@ T@@ w@@ o@@ Request@@ sTo@@ Get@@ D@@ if@@ fer@@ ent@@ ly@@ D@@ ec@@ or@@ ated@@ S@@ ame@@ Pool@@ U@@ se@@ S@@ ame@@ Lock@@ () { org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ MacPool@@ Fac@@ t@@ or@@ y fac@@ t@@ or@@ y = new org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ MacPool@@ Fac@@ t@@ ory@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ ); org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ Mac@@ Pool de@@ cor@@ ated@@ Pool@@ A = fac@@ t@@ ory@@ .@@ create@@ D@@ ec@@ or@@ ated@@ Pool@@ (@@ pool@@ Id, m@@ ac@@ Pool@@ , java.util.Collections.@@ sing@@ leton@@ List@@ (m@@ ac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ )); org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ Mac@@ Pool de@@ cor@@ ated@@ Pool@@ B = fac@@ t@@ ory@@ .@@ create@@ D@@ ec@@ or@@ ated@@ Pool@@ (@@ pool@@ Id, m@@ ac@@ Pool@@ , java.util.Collections.@@ sing@@ leton@@ List@@ (m@@ ac@@ Pool@@ D@@ ec@@ or@@ ator@@ B@@ )); assert@@ That@@ (@@ de@@ cor@@ ated@@ Pool@@ A@@ , is@@ (m@@ ac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ )); assert@@ That@@ (@@ de@@ cor@@ ated@@ Pool@@ B@@ , is@@ (m@@ ac@@ Pool@@ D@@ ec@@ or@@ ator@@ B@@ )); org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ <@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rite@@ Lock@@ > c@@ ap@@ t@@ or@@ 1 = org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ .@@ for@@ Class@@ (java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rite@@ Lock@@ .@@ class@@ ); ve@@ r@@ if@@ y@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ Sp@@ y@@ , tim@@ es(@@ 2@@ )).@@ create@@ Lock@@ ing@@ Instance@@ (@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ Message@@ (org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ MacPool@@ .@@ class@@ ), any@@ ()); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { java.lang.String m@@ ount@@ P@@ o@@ int = ((get@@ Default@@ M@@ ount@@ F@@ ol@@ der@@ ().getEntity@@ ()) + "@@ /@@ ") + (get@@ L@@ v@@ Name@@ ().getEntity@@ ()); get@@ M@@ ount@@ P@@ o@@ int@@ ().set@@ Entity@@ (m@@ ount@@ P@@ o@@ int@@ ); }
private void init@@ () { set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ edit@@ Log@@ ical@@ Network@@ Title@@ ()); set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ edit@@ _@@ log@@ ical@@ _@@ network@@ ); set@@ Hash@@ Name@@ ("@@ edit@@ _@@ log@@ ical@@ _@@ network@@ "); get@@ Name@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ Name()); get@@ Description@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ Description@@ ()); get@@ Comm@@ ent@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ Comm@@ ent@@ ()); get@@ Is@@ St@@ p@@ Enabled@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ St@@ p@@ ()); get@@ H@@ as@@ V@@ L@@ an@@ Tag@@ ().set@@ Entity@@ ((@@ (get@@ Network@@ ().get@@ V@@ lan@@ Id()) != null@@ )); get@@ V@@ L@@ an@@ Tag@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ V@@ lan@@ Id()); init@@ M@@ tu@@ (); init@@ Is@@ Vm@@ (); get@@ External@@ ().set@@ Entity@@ (get@@ Network@@ ().is@@ External@@ ()); get@@ External@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ External@@ Provi@@ d@@ ers@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().set@@ Entity@@ (is@@ Conn@@ ected@@ To@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ()); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); if (is@@ Conn@@ ected@@ To@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ()) { get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ ().set@@ Entity@@ (@@ false@@ ); } get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ Dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); if ((get@@ Network@@ ().is@@ External@@ ()) && (is@@ Conn@@ ected@@ To@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ())) { get@@ N@@ e@@ u@@ tr@@ on@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ Label@@ ()); } else { get@@ Network@@ Label@@ ().set@@ SelectedItem@@ (get@@ Network@@ ().get@@ Label@@ ()); } t@@ og@@ g@@ le@@ Profil@@ es@@ Avail@@ ab@@ ility@@ (); }
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Template@@ List@@ Model template@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Template@@ ListModel@@ ) (@@ target@@ )); boolean is@@ Name@@ Un@@ i@@ qu@@ e = ((@@ java.lang.Boolean@@ ) (@@ return@@ Value@@ )); org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate selected@@ I@@ te@@ m = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Template@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ ) (model.get@@ Be@@ ha@@ vi@@ or@@ ())@@ ).get@@ VmTemplate@@ (); if ((!@@ is@@ Name@@ Un@@ i@@ q@@ ue@@ ) && ((@@ nam@@ e.c@@ omp@@ are@@ To@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ selected@@ Item@@ .getName@@ ())) != 0@@ )) { model.get@@ Name@@ ().get@@ In@@ valid@@ ity@@ Reason@@ s().@@ add(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ name@@ M@@ ust@@ Be@@ Un@@ i@@ q@@ ue@@ In@@ valid@@ Reason@@ ()); model.get@@ Name@@ ().setIs@@ Valid@@ (@@ false@@ ); model.set@@ Valid@@ (@@ Tab@@ Nam@@ e.@@ G@@ EN@@ ER@@ AL@@ _@@ T@@ AB@@ , false@@ ); return@@ ; } }
org.ovirt.engine.core.vdsbroker.@@ gluster.GlusterVolume@@ Task@@ ReturnForXmlR@@ p@@ c gluster@@ Volume@@ R@@ eb@@ al@@ ance@@ Status@@ (java.lang.String volume@@ Name);
private void initial@@ ize@@ GeoRep@@ Action@@ Confirmation@@ (java.lang.String ti@@ t@@ le@@ , org.ovirt.engine.ui.uicommonweb.@@ h@@ el@@ p@@ .@@ Help@@ T@@ a@@ g h@@ el@@ p@@ Tag@@ , java.lang.String hash@@ Name, java.lang.String for@@ ce@@ Help@@ , java.lang.String for@@ ce@@ Label@@ Text@@ , java.lang.String command@@ Name, java.lang.String ma@@ ster@@ Volume@@ Name, java.lang.String s@@ lave@@ Volume@@ Name, java.lang.String s@@ lave@@ Host@@ Name@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ GeoRep@@ Action@@ Confirmation@@ Model c@@ Model@@ ; if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { c@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ GeoRep@@ Action@@ Confirmation@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); } else { c@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ GeoRep@@ Action@@ Confirmation@@ Model@@ (); c@@ Model.set@@ Title(@@ ti@@ t@@ le@@ ); } c@@ Model.set@@ Help@@ Tag@@ (@@ h@@ el@@ p@@ Tag@@ ); c@@ Model.set@@ Hash@@ Name(@@ hash@@ Name); set@@ W@@ in@@ do@@ w@@ (c@@ Model@@ ); c@@ Model.@@ init@@ W@@ in@@ do@@ w@@ (m@@ ast@@ er@@ Volume@@ Name, s@@ lave@@ Volume@@ Name, s@@ lave@@ Host@@ Name); c@@ Model.set@@ For@@ ce@@ Help@@ (@@ for@@ ce@@ Help@@ ); c@@ Model.set@@ For@@ ce@@ Label@@ (@@ for@@ ce@@ Label@@ Text@@ ); java.util.List<@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ > ge@@ oRep@@ Action@@ Command@@ s = java.util.Arrays.as@@ List(@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Default@@ O@@ k@@ U@@ i@@ Command@@ (command@@ Name, this@@ ), org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Cancel@@ U@@ i@@ Command@@ ("@@ c@@ lo@@ se@@ W@@ in@@ do@@ w@@ ", this@@ )); if ((@@ c@@ Model.get@@ Command@@ s()) != null@@ ) { c@@ Model.set@@ Command@@ s(@@ ge@@ oRep@@ Action@@ Command@@ s); } }
protected void init@@ () { org.ovirt.engine.core.bll.@@ Tag@@ s@@ Direct@@ or.@@ log.info@@ ((@@ "@@ St@@ ar@@ t initial@@ iz@@ ing " + (@@ this@@ .get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name@@ ()))); t@@ ag@@ s@@ Map@@ By@@ ID@@ .@@ cl@@ e@@ ar@@ (); t@@ ag@@ s@@ Map@@ By@@ Nam@@ e.c@@ le@@ ar@@ (); org.ovirt.engine.core.common.businessentities.@@ t@@ ag@@ s ro@@ o@@ t = new org.ovirt.engine.core.common.businessentities.@@ t@@ ag@@ s@@ ("@@ ro@@ ot@@ ", null@@ , true@@ , org.ovirt.engine.core.bll.@@ Tag@@ s@@ Direct@@ or.@@ RO@@ O@@ T_@@ T@@ AG@@ _@@ ID@@ , "@@ ro@@ ot@@ "); Add@@ Tag@@ To@@ Hash@@ (@@ ro@@ ot@@ ); Add@@ Ch@@ ild@@ r@@ en@@ (@@ ro@@ ot@@ ); org.ovirt.engine.core.bll.@@ Tag@@ s@@ Direct@@ or.@@ log.info@@ ((@@ "@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing " + (@@ this@@ .get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name@@ ()))); }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = 1@@ ; result = (@@ pri@@ m@@ e * result) + ((@@ cor@@ re@@ l@@ ation@@ Id) == null ? 0 : cor@@ re@@ l@@ ation@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ d@@ escription@@ ) == null ? 0 : d@@ escription@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ end@@ Time@@ ) == null ? 0 : end@@ Tim@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ ex@@ ternal@@ System@@ ) == null ? 0 : ex@@ ternal@@ System@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ job@@ Id) == null ? 0 : job@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ parent@@ Step@@ Id) == null ? 0 : parent@@ Step@@ Id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ st@@ art@@ Time@@ ) == null ? 0 : st@@ art@@ Tim@@ e.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ status@@ ) == null ? 0 : stat@@ u@@ s.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (@@ st@@ ep@@ Num@@ ber@@ ); result = (@@ pri@@ m@@ e * result) + ((@@ st@@ ep@@ Type@@ ) == null ? 0 : st@@ ep@@ Type.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ st@@ ep@@ s) == null ? 0 : st@@ ep@@ s.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + (is@@ Ex@@ ter@@ n@@ al ? 1@@ 2@@ 3@@ 1 : 1@@ 2@@ 3@@ 7@@ ); return result@@ ; }
@java.lang.Override public java.lang.String toString@@ () { return java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s, b@@ ase@@ Interface@@ =@@ %@@ s, v@@ lan@@ Id@@ =@@ %@@ s", super@@ .@@ toString@@ (), get@@ Base@@ Interface@@ (), get@@ V@@ lan@@ Id()); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if (!@@ (get@@ Sh@@ ow@@ El@@ ig@@ i@@ bl@@ e@@ Volum@@ es@@ ().getEntity@@ ())) { get@@ Volum@@ es@@ For@@ ce@@ Session@@ Create@@ (); } else { get@@ El@@ ig@@ i@@ bl@@ e@@ Volum@@ es@@ (); set@@ Rec@@ omm@@ end@@ ation@@ Vi@@ ol@@ ation@@ s@@ (@@ null@@ ); } }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not switch Hos@@ t to M@@ a@@ int@@ en@@ an@@ c@@ e m@@ od@@ e.@@ \@@ n@@ Hos@@ t s@@ ti@@ l@@ l ha@@ s run@@ n@@ ing VM@@ s on i@@ t and is in N@@ on Respon@@ si@@ v@@ e stat@@ e.@@ ") java.lang.String VDS@@ _C@@ ANNOT_@@ MA@@ IN@@ T@@ EN@@ AN@@ C@@ E_@@ VDS@@ _@@ I@@ S_NOT_@@ RE@@ SP@@ ON@@ D@@ ING@@ _@@ W@@ I@@ TH@@ _@@ VM@@ S@@ ();
@java.lang.Override protected org.ovirt.engine.api.model.@@ N@@ I@@ C do@@ P@@ op@@ ul@@ ate@@ (org.ovirt.engine.api.model.@@ N@@ I@@ C model, org.ovirt.engine.core.common.businessentities.Vm@@ Network@@ Interface entity@@ ) { return model@@ ; }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ Constant@@ Con@@ d@@ ition@@ s@@ ") private org.ovirt.engine.core.common.businessentities.network.@@ I@@ P@@ v@@ 4@@ Add@@ res@@ s get@@ P@@ ri@@ mar@@ y@@ Address@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Ip@@ Configur@@ ation ip@@ Configur@@ ation = get@@ Ip@@ Configuration@@ Of@@ NetworkAttachment@@ (); return ip@@ Configuration@@ .get@@ Ip@@ v@@ 4@@ P@@ ri@@ mar@@ y@@ Address@@ (); }
private java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.compat.Guid> map@@ Disk@@ s(@@ org.ovirt.engine.api.model.@@ Disk@@ Attachment@@ s disk@@ Attachment@@ s) { java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.compat.Guid> disk@@ To@@ Image@@ Id@@ s = null@@ ; if (disk@@ Attachment@@ s.@@ isSet@@ Disk@@ Attachment@@ s()) { disk@@ To@@ Image@@ Id@@ s = disk@@ Attachment@@ s.get@@ Disk@@ Attachment@@ s().@@ stream@@ ().@@ map@@ (@@ Disk@@ Attachment@@ :@@ :@@ :@@ get@@ Disk@@ ).@@ filter@@ (java.util.@@ Object@@ s@@ :@@ :@@ n@@ on@@ Null@@ )@@ .m@@ ap@@ (@@ ( d@@ ) -@@ > ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ) (@@ org.ovirt.engine.api.restapi.@@ types.@@ Disk@@ Mapper.@@ map@@ (@@ d@@ , null@@ )@@ )@@ )).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ Base@@ Disk@@ :@@ :@@ :@@ :@@ get@@ Id, DiskImage@@ :@@ :@@ :@@ get@@ Image@@ Id@@ )); } return disk@@ To@@ Image@@ Id@@ s@@ ; }
public static void add@@ Vm@@ Init@@ To@@ D@@ B@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Base vm@@ ) { if ((@@ vm.get@@ Vm@@ Init@@ ()) != null@@ ) { vm.get@@ Vm@@ Init@@ ().set@@ Id@@ (vm.get@@ Id()); org.ovirt.engine.core.dao.@@ Vm@@ Init@@ DA@@ O d@@ b = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Init@@ Dao@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t old@@ Vm@@ In@@ i@@ t = db@@ .get@@ (vm.get@@ Id()); if (@@ old@@ Vm@@ In@@ i@@ t == null@@ ) { db@@ .@@ save@@ (vm.get@@ Vm@@ Init@@ ()); } else { if (vm.get@@ Vm@@ Init@@ ().is@@ Password@@ Set@@ ()) { vm.get@@ Vm@@ Init@@ ().set@@ R@@ oot@@ Password@@ (@@ old@@ Vm@@ In@@ it.@@ get@@ R@@ oot@@ Password@@ ()); } } db@@ .@@ update@@ (vm.get@@ Vm@@ Init@@ ()); } }
public void set@@ H@@ ig@@ h@@ ly@@ Available@@ G@@ lo@@ b@@ al@@ M@@ a@@ int@@ en@@ ance@@ (@@ boolean value@@ ) { vds@@ Statistic@@ s.set@@ H@@ ig@@ h@@ ly@@ Available@@ G@@ lo@@ b@@ al@@ M@@ a@@ int@@ en@@ ance@@ (@@ value@@ ); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { if ((@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Conn@@ ect@@ StoragePool@@ VDS@@ Command.get@@ Parameters@@ ().is@@ Re@@ fresh@@ Only@@ ()) && (!(@@ is@@ Pool@@ With@@ out@@ M@@ et@@ ad@@ ata@@ ()))) { re@@ fresh@@ StoragePool@@ (); pro@@ ce@@ ed@@ Conn@@ ect@@ Proxy@@ ReturnValue@@ (); } else { conn@@ ect@@ StoragePool@@ (); pro@@ ce@@ ed@@ Conn@@ ect@@ Proxy@@ ReturnValue@@ (); } }
@java.lang.Override public boolean e@@ val@@ (org.ovirt.engine.core.common.businessentities.@@ VDS p@@ ) { return (p@@ .get@@ vm@@ _@@ c@@ ount@@ ()) < (vm@@ Count@@ Tem@@ p * (org.ovirt.engine.core.bll.@@ Vds@@ Sel@@ ect@@ or@@ .get@@ e@@ ff@@ ec@@ tive@@ Cpu@@ C@@ or@@ es(@@ p@@ ))); }
public static org.ovirt.engine.core.compat.Guid create@@ Task@@ (org.ovirt.engine.core.compat.Guid task@@ Id, org.ovirt.engine.core.bll.@@ Command@@ Base command@@ , org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Cre@@ ation@@ In@@ fo async@@ Task@@ Cre@@ ation@@ Info@@ , org.ovirt.engine.core.common.action.VdcAction@@ Type parent@@ Command@@ , java.lang.String d@@ escription@@ , java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type@@ > enti@@ ties@@ Map@@ ) { return org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Im@@ pl@@ .getInstance().@@ create@@ Task@@ (@@ task@@ Id, command@@ , async@@ Task@@ Cre@@ ation@@ Info@@ , parent@@ Command@@ , d@@ escription@@ , enti@@ ties@@ Map@@ ); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ R@@ ng@@ S@@ ourc@@ es@@ .@@ class@@ , to = Vm@@ R@@ ng@@ Devic@@ e.@@ Source@@ .@@ class@@ ) public static java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ R@@ ng@@ Devic@@ e.@@ Source@@ > map@@ R@@ ng@@ S@@ ourc@@ es(@@ org.ovirt.engine.api.model.@@ R@@ ng@@ Source@@ s model, java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ R@@ ng@@ Devic@@ e.@@ Source@@ > template@@ ) { if ((@@ model.get@@ Source@@ ()) != null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ R@@ ng@@ Devic@@ e.@@ Source@@ > result = new java.util.ArrayList<>(); for (java.lang.String source@@ Strin@@ g : model.get@@ Source@@ ()) { try { result.@@ add(@@ Vm@@ R@@ ng@@ Devic@@ e.@@ S@@ ource.@@ value@@ Of@@ (s@@ ource@@ String@@ )); } catch (java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception i@@ a@@ e) { } } return result@@ ; } return null@@ ; }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > get@@ All@@ OV@@ F@@ Disks@@ () { if ((@@ ovf@@ Disk@@ s) == null@@ ) { ovf@@ Disk@@ s = new java.util.Array@@ List@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > un@@ re@@ gist@@ er@@ ed@@ Disk@@ s = get@@ Un@@ re@@ gist@@ er@@ ed@@ Disks@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Disk dis@@ k : un@@ re@@ gist@@ er@@ ed@@ Disk@@ s) { org.ovirt.engine.core.common.businessentities.@@ DiskImage ovf@@ St@@ ore@@ Disk = ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (disk@@ )); java.lang.String disk@@ D@@ ec@@ ri@@ ption = ovf@@ St@@ ore@@ Disk@@ .get@@ Description@@ (); if (disk@@ D@@ ec@@ ri@@ ption@@ .@@ contains(@@ Ovf@@ Info@@ File@@ Constants.@@ Ovf@@ St@@ ore@@ Description@@ Label@@ )) { java.util.Map<java.lang.String, java.lang.Object> disk@@ Description@@ Map@@ ; try { disk@@ Description@@ Map = org.ovirt.engine.core.utils.@@ Json@@ Helper.@@ json@@ To@@ Map@@ (disk@@ D@@ ec@@ ri@@ ption@@ ); } catch (@@ java.io.@@ I@@ O@@ Exception e) { log.@@ w@@ ar@@ n@@ Format@@ ("@@ Exception while gener@@ at@@ ing j@@ s@@ on contain@@ ing ov@@ f stor@@ e info@@ . Exception@@ : {0@@ }@@ ", e); continue@@ ; } if (!(@@ is@@ Domain@@ Exist@@ s@@ In@@ Disk@@ Description@@ (disk@@ Description@@ Map@@ , org.ovirt.engine.core.bll.storage.@@ Attach@@ StorageDomain@@ To@@ Pool@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ()))) { log.@@ w@@ ar@@ n@@ Format@@ ("@@ Th@@ e dis@@ k d@@ es@@ cri@@ ption do@@ es not cont@@ ain the stor@@ age do@@ ma@@ in id {0@@ }@@ ", org.ovirt.engine.core.bll.storage.@@ Attach@@ StorageDomain@@ To@@ Pool@@ Command.getParameters().get@@ StorageDomain@@ Id()); continue@@ ; } ovf@@ Disk@@ s.add(@@ ovf@@ St@@ ore@@ Disk@@ ); } } return ovf@@ Disks@@ ; }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ Model volume@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ Model) (model@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > cluster@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >) (@@ result@@ )); org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group old@@ C@@ luster = volume@@ Model.get@@ Cluster@@ ().getSelectedItem@@ (); org.ovirt.engine.core.common.businessentities.Storage@@ Pool selected@@ Data@@ C@@ en@@ te@@ r = get@@ DataCenter@@ ().getSelectedItem@@ (); java.util.@@ I@@ ter@@ ator@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > iter@@ ator = cluster@@ s.@@ iter@@ ator@@ (); while (@@ iter@@ ator.@@ has@@ N@@ ext@@ ()) { if (!(@@ iter@@ ator.@@ ne@@ xt@@ ().@@ sup@@ port@@ s@@ Gluster@@ Service@@ ())) { iter@@ ator.@@ remove@@ (); } } if ((@@ cluster@@ s.@@ isEmpty@@ ()) || ((@@ (cluster@@ s.@@ size()) > 0) && (c@@ lust@@ ers@@ .get(@@ 0@@ ).get@@ StoragePool@@ Id().@@ equals@@ (s@@ elected@@ DataCenter@@ .getId@@ ())@@ ))) { volume@@ Model.get@@ Cluster@@ ().set@@ Item@@ s@@ (c@@ lust@@ ers@@ ); if (@@ old@@ C@@ luster != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group new@@ Selected@@ I@@ te@@ m = org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ fi@@ r@@ st@@ Or@@ Null@@ (c@@ lust@@ ers@@ , new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ Id@@ P@@ red@@ icate@@ (@@ old@@ Cluster@@ .getId@@ ())); if (@@ new@@ Selected@@ I@@ te@@ m != null@@ ) { volume@@ Model.get@@ Cluster@@ ().set@@ SelectedItem@@ (@@ new@@ SelectedItem@@ ); } } if ((@@ volume@@ Model.get@@ Cluster@@ ().getSelectedItem@@ ()) == null@@ ) { volume@@ Model.get@@ Cluster@@ ().set@@ SelectedItem@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ fi@@ r@@ st@@ Or@@ Null@@ (c@@ lust@@ ers@@ )); } }
@org.junit.Test public void test@@ Delet@@ e@@ All@@ Un@@ us@@ ed@@ I@@ con@@ s() { re@@ initial@@ ize@@ Data@@ b@@ ase@@ (); pre@@ par@@ e@@ Dao().@@ remove@@ All@@ Un@@ us@@ ed@@ I@@ con@@ s(); re@@ initial@@ ize@@ Data@@ b@@ ase@@ (); }
protected void init@@ Vds@@ s() { set@@ Vds@@ Id@@ Re@@ f@@ (org.ovirt.engine.core.bll.@@ Migrate@@ VmCommand.getVm@@ ().get@@ Run@@ On@@ Vds@@ ()); org.ovirt.engine.core.compat.Guid vds@@ To@@ Run@@ O@@ n = org.ovirt.engine.core.bll.@@ scheduling.@@ Schedul@@ ing@@ Manager@@ .getInstance().@@ schedul@@ e(@@ org.ovirt.engine.core.bll.@@ Migrate@@ Vm@@ Command.get@@ VdsGroup@@ (), org.ovirt.engine.core.bll.@@ Migrate@@ VmCommand.getVm@@ (), get@@ Vds@@ B@@ l@@ ack@@ List@@ (), get@@ Vds@@ W@@ h@@ i@@ te@@ List@@ (), get@@ Dest@@ ination@@ Vds@@ Id(), new java.util.ArrayList<@@ java.lang.String@@ >@@ (), new org.ovirt.engine.core.bll.@@ scheduling.@@ Vds@@ F@@ ree@@ Memory@@ Check@@ er@@ (@@ this@@ ), org.ovirt.engine.core.bll.@@ Migrate@@ Vm@@ Command.get@@ C@@ or@@ re@@ l@@ ation@@ Id()); set@@ Dest@@ ination@@ Vds@@ Id(@@ vds@@ To@@ Run@@ On@@ ); if ((@@ vds@@ To@@ Run@@ O@@ n != null@@ ) && (!(@@ Guid@@ .@@ Empty@@ .equals(@@ vds@@ To@@ Run@@ On@@ )@@ ))) { org.ovirt.engine.core.bll.@@ Migrate@@ Vm@@ Command.get@@ Run@@ Vds@@ s@@ List@@ ().@@ add(@@ vds@@ To@@ Run@@ On@@ ); } org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Vm@@ G@@ u@@ est@@ Agent@@ Version@@ (org.ovirt.engine.core.bll.@@ Migrate@@ VmCommand.getVm@@ ()); if (((@@ d@@ est@@ ination@@ Vds@@ Id) != null@@ ) && (@@ d@@ est@@ ination@@ Vds@@ Id@@ .equals(@@ Guid@@ .@@ Empty@@ ))) { throw new org.ovirt.engine.core.common.errors.@@ Vdc@@ B@@ L@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ RE@@ S@@ O@@ UR@@ C@@ E_@@ M@@ AN@@ AG@@ ER_@@ C@@ AN@@ T_@@ AL@@ LO@@ C@@ _@@ VDS@@ _@@ M@@ I@@ G@@ R@@ A@@ TI@@ ON@@ ); } if ((@@ (get@@ Dest@@ ination@@ Vds@@ ()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ Migrate@@ Vm@@ Command.get@@ Vds@@ ()) == null@@ )) { throw new org.ovirt.engine.core.common.errors.@@ Vdc@@ B@@ L@@ L@@ L@@ L@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ RE@@ S@@ O@@ UR@@ C@@ E_@@ M@@ AN@@ AG@@ ER_@@ VDS@@ _@@ NOT_@@ F@@ O@@ UN@@ D@@ ); } }
public java.lang.@@ B@@ oolean get@@ K@@ vm@@ Enabled@@ () { return vds@@ Dynamic@@ .get@@ K@@ vm@@ Enabled@@ (); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ C@@ op@@ y Template@@ ") java.lang.String c@@ opy@@ Template@@ Title@@ ();
private static java.util.Collection@@ <@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ > p@@ op@@ ul@@ ate@@ Rec@@ or@@ ds@@ (@@ final org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Ex@@ ten@@ sion@@ Pro@@ x@@ y extension@@ , final java.lang.String nam@@ es@@ p@@ ace@@ , final org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map in@@ put@@ ) { final java.util.Collection@@ <@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ > r@@ ec@@ or@@ d@@ s = new java.util.ArrayList<>(); org.ovirt.engine.core.@@ ss@@ o.@@ search@@ .@@ Direct@@ ory@@ Utils.@@ query@@ Im@@ pl@@ (@@ extension@@ , nam@@ es@@ p@@ ace@@ , in@@ put@@ , new org.ovirt.engine.core.@@ ss@@ o.@@ search@@ .@@ Direct@@ ory@@ Utils.@@ Query@@ Result@@ Handler@@ () { @java.lang.Override public boolean handl@@ e(@@ java.util.Collection@@ <@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ > query@@ Result@@ s) { boolean result = true@@ ; for (@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map query@@ Result : query@@ Result@@ s) { if ((@@ r@@ ec@@ or@@ d@@ s.@@ size()) < (@@ org.ovirt.engine.core.@@ ss@@ o.@@ search@@ .@@ Direct@@ ory@@ Utils.@@ Q@@ U@@ ER@@ I@@ E@@ S_@@ RE@@ S@@ U@@ L@@ T@@ S_@@ L@@ IM@@ I@@ T@@ )) { r@@ ec@@ or@@ d@@ s.add(@@ query@@ Result@@ ); } else { result = false@@ ; break@@ ; } } return result@@ ; } }); return r@@ ec@@ or@@ ds@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ Default@@ Message@@ ("@@ M@@ T@@ U o@@ verride is not sup@@ por@@ te@@ d for C@@ luster ver@@ si@@ on {0@@ }@@ ") java.lang.String m@@ tu@@ O@@ ver@@ ri@@ de@@ Not@@ Supported@@ (java.lang.String version@@ );
@java.lang.Override protected org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base get@@ Add@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g entity@@ , org.ovirt.engine.api.model.@@ W@@ atch@@ Do@@ g de@@ vice@@ ) { org.ovirt.engine.core.common.action.@@ W@@ at@@ ch@@ do@@ g@@ Parameters w@@ at@@ ch@@ do@@ g@@ Parameters = new org.ovirt.engine.core.common.action.@@ W@@ at@@ ch@@ do@@ g@@ Parameters@@ (); w@@ at@@ ch@@ do@@ g@@ Parameter@@ s.set@@ Action@@ (get@@ Map@@ per@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ W@@ at@@ ch@@ do@@ g@@ Action@@ .@@ class@@ , org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g@@ Action@@ .@@ class@@ )@@ .m@@ ap@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ W@@ at@@ ch@@ do@@ g@@ Action@@ .@@ value@@ Of@@ (@@ org.apache.commons.lang.StringUtils.@@ up@@ per@@ C@@ as@@ e(@@ de@@ vic@@ e.get@@ Action@@ ())@@ ), null@@ )); w@@ at@@ ch@@ do@@ g@@ Parameter@@ s.set@@ Model@@ (get@@ Map@@ per@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ W@@ at@@ ch@@ do@@ g@@ Model@@ .@@ class@@ , org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g@@ Type@@ .@@ class@@ )@@ .m@@ ap@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ W@@ at@@ ch@@ do@@ g@@ Model.@@ value@@ Of@@ (@@ org.apache.commons.lang.StringUtils.@@ up@@ per@@ C@@ as@@ e(@@ de@@ vic@@ e.get@@ Model@@ ())@@ ), null@@ )); w@@ at@@ ch@@ do@@ g@@ Parameter@@ s.set@@ Id(@@ parent@@ Id); w@@ at@@ ch@@ do@@ g@@ Parameter@@ s.set@@ Vm@@ (is@@ Vm@@ (@@ parent@@ Id@@ )); return w@@ at@@ ch@@ do@@ g@@ Parameters@@ ; }
@org.junit.Test public void enc@@ ode@@ D@@ ec@@ ode@@ With@@ Non@@ As@@ c@@ i@@ i@@ i@@ Disk@@ Alias@@ And@@ Description@@ () throw@@ s java.lang.Exception { disk@@ .set@@ Disk@@ Alias@@ ("@@ @@ @@ @@ @@ @@ @@ @@ "); disk@@ .set@@ Disk@@ Description@@ ("@@ @@ @@ @@ @@ "); assert@@ Disk@@ Description@@ Map@@ (disk@@ , org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ gener@@ ate@@ Disk@@ Alias@@ Json@@ E@@ n@@ try@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ enc@@ ode@@ String("@@ @@ @@ @@ @@ "@@ )@@ ), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ gener@@ ate@@ Disk@@ Description@@ Json@@ E@@ n@@ try@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ enc@@ ode@@ String("@@ @@ @@ "@@ )@@ ), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ gener@@ ate@@ En@@ c@@ od@@ ing@@ Json@@ E@@ n@@ try@@ (@@ 3@@ )); org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test@@ .@@ assert@@ Disk@@ Description@@ D@@ ec@@ od@@ ing@@ (disk@@ ); }
public static boolean is@@ Display@@ Type@@ Supported@@ (@@ int os@@ Id, org.ovirt.engine.core.common.businessentities.@@ Display@@ Type default@@ Display@@ Type, java.util.List<java.lang.String> re@@ ason@@ s, org.ovirt.engine.core.compat.@@ Version cluster@@ Version@@ ) { if (@@ default@@ Display@@ Type == (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ v@@ n@@ c@@ )) { return true@@ ; } else if (@@ default@@ Display@@ Type == (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ q@@ x@@ l@@ )) { boolean result = org.ovirt.engine.core.bll.validator.@@ Vm@@ Validation@@ Utils.@@ has@@ Sp@@ ice@@ Sup@@ port@@ (@@ os@@ Id, cluster@@ Version@@ ); if (!@@ result) { re@@ ason@@ s.add(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ IL@@ LE@@ G@@ AL@@ _@@ VM_@@ DIS@@ P@@ L@@ A@@ Y_@@ TYPE_@@ I@@ S_NOT_@@ SUP@@ PORT@@ ED_@@ B@@ Y_@@ O@@ S@@ .@@ toString()); } return result@@ ; } return true@@ ; }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Numa@@ Node@@ > get@@ Numa@@ Nod@@ es@@ List@@ () { if ((@@ _@@ num@@ a@@ _@@ n@@ od@@ es@@ _@@ list@@ ) == null@@ ) { _@@ num@@ a@@ _@@ n@@ od@@ es@@ _@@ lis@@ t = par@@ se@@ Numa@@ Nod@@ es@@ (get@@ num@@ a@@ _@@ n@@ od@@ es@@ ()); } return _@@ num@@ a@@ _@@ n@@ od@@ es@@ _@@ list@@ ; }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ > filter@@ Attached@@ StorageDomain@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > conn@@ ected@@ StorageDomain@@ sTo@@ V@@ d@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain storage@@ Domain : org.ovirt.engine.core.bll.storage.@@ Get@@ StorageDomain@@ sWith@@ Attached@@ StoragePool@@ Guid@@ Query.get@@ Parameters().get@@ StorageDomain@@ List@@ ()) { if (!(@@ conn@@ ect@@ StorageDomain@@ (@@ storageDomain@@ ))) { log@@ Error@@ Message@@ (@@ storageDomain@@ ); } else { conn@@ ected@@ StorageDomain@@ sTo@@ V@@ d@@ s.add(@@ storageDomain@@ ); } } java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ > storageDomain@@ sWith@@ Attached@@ StoragePool@@ Id = get@@ Attached@@ StorageDomain@@ s(@@ conn@@ ected@@ StorageDomain@@ sTo@@ Vds@@ ); for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain storage@@ Domain : conn@@ ected@@ StorageDomain@@ sTo@@ Vds@@ ) { if (@@ contains@@ Run@@ ning@@ VM@@ s(@@ storageDomain@@ )) { log.@@ w@@ ar@@ n@@ ("@@ S@@ k@@ ip@@ p@@ ing dis@@ conn@@ ect Stor@@ age Domain {@@ } f@@ ro@@ m VDS '{}@@ ' b@@ ec@@ a@@ us@@ e i@@ t ha@@ s run@@ n@@ ing VM@@ s on it@@ . ", storageDomain@@ .get@@ Name(), get@@ Vds@@ Id()); continue@@ ; } if (!(@@ dis@@ conn@@ ect@@ StorageDomain@@ (@@ storageDomain@@ ))) { log.@@ w@@ ar@@ n@@ ("@@ C@@ oul@@ d not dis@@ conn@@ ect Stor@@ age Domain {@@ } f@@ ro@@ m VDS '{}@@ '@@ . ", storageDomain@@ .get@@ Name(), get@@ Vds@@ Id()); } } return storageDomain@@ sWith@@ Attached@@ StoragePool@@ Id@@ ; }
public void test@@ Validate@@ Cl@@ on@@ ed@@ Disk@@ () { org.ovirt.engine.core.bll.validator.@@ StorageDomain@@ Validator sd@@ Validator = new org.ovirt.engine.core.bll.validator.@@ StorageDomain@@ Validator@@ (s@@ d@@ ); assert@@ Equals@@ ((((@@ ((@@ disk@@ .get@@ Volume@@ Format@@ ()) + ", ") + (disk@@ .get@@ Volume@@ Type@@ ())) + ", ") + (s@@ d@@ .get@@ Storage@@ Type@@ ())@@ ), is@@ Valid@@ For@@ Cl@@ on@@ ed@@ , sd@@ Validator.@@ has@@ Sp@@ ace@@ For@@ Cl@@ on@@ ed@@ Disk@@ (disk@@ ).@@ is@@ Valid@@ ()); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Enabled@@ Ht@@ ml@@ () { return !@@ (@@ sh@@ ow@@ Title@@ ) ? en@@ abled@@ Image : !@@ (@@ image@@ Af@@ ter@@ Title@@ ) ? org.ovirt.engine.ui.common.widget.@@ action.@@ Image@@ U@@ i@@ Command@@ Button@@ De@@ fin@@ ition@@ .@@ T@@ EM@@ P@@ L@@ AT@@ ES@@ .@@ image@@ Text@@ Button@@ (@@ en@@ abled@@ Image@@ , org.ovirt.engine.ui.common.widget.@@ action.@@ Image@@ U@@ i@@ Command@@ Button@@ De@@ fin@@ ition@@ .get@@ Text@@ ()) : org.ovirt.engine.ui.common.widget.@@ action.@@ Image@@ U@@ i@@ Command@@ Button@@ De@@ fin@@ ition@@ .@@ T@@ EM@@ P@@ L@@ AT@@ ES@@ .@@ tex@@ t@@ Image@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Image@@ U@@ i@@ Command@@ Button@@ De@@ fin@@ ition@@ .get@@ Text@@ (), en@@ abled@@ Image@@ ); }
public static org.ovirt.engine.core.common.businessentities.network.@@ Network fin@@ d@@ Manag@@ ent@@ Network@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > network@@ s) { for (org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork : network@@ s) { if (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .is@@ Management@@ Network@@ (network@@ )) { return network@@ ; } } return null@@ ; }
protected void fin@@ d@@ Us@@ ers@@ (java.lang.String search@@ String@@ , org.ovirt.engine.ui.frontend.AsyncQuery query@@ ) { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.@@ Search@@ , new org.ovirt.engine.core.common.queries.@@ Direct@@ ory@@ Search@@ Parameters@@ ((((@@ "@@ AD@@ US@@ ER@@ @@@ " + (((@@ org.ovirt.engine.core.@@ aaa.@@ Profile@@ E@@ n@@ try@@ ) (get@@ Profile@@ ().getSelectedItem@@ ())@@ ).get@@ Auth@@ z@@ ())) + "@@ : ") + search@@ String@@ ), org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ Search@@ Type.@@ Direct@@ ory@@ User@@ , get@@ Names@@ p@@ ace@@ ().getSelectedItem@@ ())@@ )@@ ), query@@ ); }
@org.junit.Test public void test@@ Boot@@ Protocol@@ Set@@ For@@ Display@@ Network@@ W@@ h@@ en@@ Boot@@ Protocol@@ Is@@ N@@ one@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = new org.ovirt.engine.core.common.businessentities.network.Network@@ (); network@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent attach@@ m@@ ent = create@@ NetworkAttachment@@ With@@ Ip@@ Configuration@@ (@@ Network@@ Boot@@ Protoc@@ ol.@@ N@@ ON@@ E, null@@ , null@@ ); attach@@ m@@ ent.@@ set@@ Network@@ Id(@@ network@@ .getId()); org.ovirt.engine.core.common.businessentities.network.Network@@ C@@ luster network@@ C@@ luster = new org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ (); network@@ C@@ luster.@@ set@@ Display@@ (@@ true@@ ); org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ Id network@@ Cluster@@ Id = new org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ Id(@@ hos@@ t.get@@ VdsGroup@@ Id(), attach@@ m@@ ent.get@@ Network@@ Id()); when(@@ network@@ Cluster@@ Dao@@ Mock@@ .get(@@ e@@ q@@ (network@@ Cluster@@ Id@@ )@@ )).@@ thenReturn(@@ network@@ Cluster@@ ); when(@@ network@@ Dao@@ Mock@@ .get(@@ org.@@ mock@@ it@@ o.@@ Mock@@ it@@ o.@@ e@@ q@@ (network@@ .getId@@ ())@@ )).@@ thenReturn(@@ network@@ ); assert@@ That@@ (@@ new org.ovirt.engine.core.bll.validator.@@ NetworkAttachment@@ Validator@@ (@@ attach@@ ment@@ , host@@ ).@@ b@@ oot@@ Protocol@@ Set@@ For@@ Display@@ Network@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ DIS@@ P@@ L@@ A@@ Y_@@ NETWORK_@@ H@@ A@@ S_@@ NO@@ _@@ B@@ O@@ T_@@ P@@ RO@@ TO@@ C@@ OL@@ )); }
public static boolean can@@ Read@@ File@@ (@@ final java.io.@@ Fil@@ e fil@@ e) { return (@@ (@@ (@@ null != fil@@ e) && (@@ fil@@ e.@@ ex@@ ist@@ s@@ ())) && (@@ fil@@ e.c@@ an@@ Read@@ ()); }
@java.lang.Override protected void ve@@ r@@ if@@ y@@ (org.ovirt.engine.api.model.@@ C@@ luster model, org.ovirt.engine.api.model.@@ C@@ luster tr@@ an@@ s@@ for@@ m@@ ) { assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ ); assert@@ Equals@@ (model.get@@ Name(), tr@@ an@@ s@@ for@@ m@@ .get@@ Name()); assert@@ Equals@@ (model.get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .getId()); assert@@ Equals@@ (model.get@@ Description@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Description@@ ()); assert@@ Equals@@ (model.get@@ Comm@@ ent@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Comm@@ ent@@ ()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Cpu@@ ()); assert@@ Equals@@ (model.get@@ Cpu@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ Cpu@@ ().get@@ Id()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ DataCenter@@ ()); assert@@ Equals@@ (model.get@@ DataCenter@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ DataCenter@@ ().get@@ Id()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Schedul@@ ing@@ Policy@@ ()); assert@@ Equals@@ (model.get@@ Schedul@@ ing@@ Policy@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ Schedul@@ ing@@ Policy@@ ().get@@ Id()); assert@@ Equals@@ (model.get@@ Schedul@@ ing@@ Policy@@ ().get@@ Policy@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Schedul@@ ing@@ Policy@@ ().get@@ Policy@@ ()); assert@@ Equals@@ (model.get@@ Schedul@@ ing@@ Policy@@ ().get@@ Name(), tr@@ an@@ s@@ for@@ m@@ .get@@ Schedul@@ ing@@ Policy@@ ().get@@ Name()); assert@@ Not@@ Null@@ (model.get@@ Schedul@@ ing@@ Policy@@ Properties@@ ()); assert@@ Equals@@ (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Custom@@ Properties@@ Par@@ s@@ er.@@ to@@ Map@@ (model.get@@ Schedul@@ ing@@ Policy@@ Properties@@ ()), org.ovirt.engine.api.restapi.@@ utils.@@ Custom@@ Properties@@ Par@@ s@@ er.@@ to@@ Map@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Schedul@@ ing@@ Policy@@ Properties@@ ())); assert@@ Equals@@ (model.get@@ Error@@ Handl@@ ing@@ ().get@@ On@@ Error@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Error@@ Handl@@ ing@@ ().get@@ On@@ Error@@ ()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Memory@@ Policy@@ ()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Memory@@ Policy@@ ().get@@ Trans@@ parent@@ H@@ u@@ g@@ ep@@ ages@@ ()); assert@@ Equals@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Memory@@ Policy@@ ().get@@ Trans@@ parent@@ H@@ u@@ g@@ ep@@ ages@@ ().is@@ Enabled@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Memory@@ Policy@@ ().get@@ Trans@@ parent@@ H@@ u@@ g@@ ep@@ ages@@ ().is@@ Enabled@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ Vir@@ t@@ Service@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Vir@@ t@@ Service@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ Gluster@@ Service@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Gluster@@ Service@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ T@@ un@@ ne@@ l@@ Migration@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ Tr@@ ust@@ ed@@ Service@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Tr@@ ust@@ ed@@ Service@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ Tr@@ ust@@ ed@@ Service@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Tr@@ ust@@ ed@@ Service@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ Bal@@ loon@@ ing@@ Enabled@@ ()); assert@@ Equals@@ (model.get@@ Display@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ Display@@ ().get@@ Id()); assert@@ Equals@@ (model.get@@ Display@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Display@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Policy@@ ().get@@ Value@@ ()); }
@org.junit.Test public void test@@ P@@ op@@ ul@@ ate@@ () throw@@ s java.lang.Exception { set@@ U@@ ri@@ Info@@ (@@ setUp@@ Bas@@ ic@@ U@@ ri@@ Expectation@@ s()); setUp@@ Get@@ Entity@@ Expectation@@ s@@ All@@ Content@@ (@@ 1, false@@ ); res@@ ourc@@ e.set@@ Parent@@ (@@ brick@@ s@@ Resource@@ Mock@@ ); cont@@ ro@@ l.@@ re@@ play@@ (); ve@@ r@@ if@@ y@@ Model@@ (@@ res@@ ourc@@ e.get@@ (), 0@@ ); }
@@@ c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ t@@ ab@@ .@@ network.Network@@ Sub@@ Tab@@ Panel@@ Pres@@ enter@@ .@@ class@@ ) static c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ Ap@@ plication@@ Constant@@ s ap@@ plication@@ Constant@@ s, org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ > model@@ Provider@@ ) { return new org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Model@@ B@@ ound@@ Tab@@ Data@@ (@@ ap@@ plication@@ Constants.@@ network@@ Host@@ Sub@@ Tab@@ Label@@ (), 3@@ , model@@ Provider@@ ); }
void re@@ gist@@ er@@ Model@@ Event@@ List@@ en@@ ers@@ (@@ final org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Model@@ Provider@@ <@@ ? extends org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ > model@@ Provider@@ ) { model@@ Provider@@ .get@@ Model().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { if ("@@ Is@@ Available@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { boolean is@@ Avail@@ able = model@@ Provider@@ .get@@ Model().get@@ Is@@ Available@@ (); set@@ Ac@@ cess@@ i@@ bl@@ e(@@ is@@ Available@@ ); } } }); }
public org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Agent@@ Model create@@ Empty@@ Model@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Model host@@ ) { return host@@ Model@@ ; }
@org.junit.Test public void canDoAction@@ Fail@@ s@@ Null@@ Parameter@@ For@@ Iso@@ File@@ () { mock@@ Vds@@ With@@ Os@@ Version@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ plo@@ y@@ .@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ Test.@@ VALID@@ _@@ OV@@ I@@ R@@ T_@@ V@@ ER@@ SI@@ ON@@ ); org.ovirt.engine.core.common.action.@@ host@@ de@@ plo@@ y@@ .@@ In@@ st@@ all@@ Vds@@ Parameters par@@ a@@ m = org.ovirt.engine.core.bll.@@ host@@ de@@ plo@@ y@@ .@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ Test.@@ create@@ Parameters@@ (); param@@ .set@@ o@@ Vir@@ t@@ Iso@@ File@@ (@@ null@@ ); org.ovirt.engine.core.bll.@@ host@@ de@@ plo@@ y@@ .@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ host@@ de@@ plo@@ y@@ .@@ In@@ st@@ all@@ Vds@@ Parameters@@ > c@@ ommand = create@@ Command(@@ param@@ ); org.ovirt.engine.core.bll.@@ host@@ de@@ plo@@ y@@ .@@ Up@@ gr@@ ade@@ O@@ vi@@ r@@ t@@ Node@@ Internal@@ Command@@ Test@@ .@@ assert@@ Fail@@ sWith@@ CanDoActionMessage@@ (command@@ , EngineMessage.@@ VDS@@ _C@@ ANNOT_@@ IN@@ ST@@ AL@@ L@@ _@@ M@@ IS@@ S@@ ING@@ _@@ IM@@ AGE_@@ F@@ IL@@ E); }
@java.lang.Override protected boolean validate@@ () { org.ovirt.engine.core.common.businessentities.Storage@@ Domain do@@ ma@@ in = storageDomain@@ Dao.get@@ For@@ StoragePool@@ (org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ Le@@ ase@@ CommandBase.get@@ Parameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ Le@@ ase@@ CommandBase.get@@ Parameters().get@@ StoragePool@@ Id()); org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (@@ do@@ m@@ ain@@ ); return (@@ validate@@ (@@ validator.@@ is@@ Domain@@ Exist@@ And@@ Active@@ ())) && (@@ validate@@ (@@ validator.@@ is@@ Data@@ Domain@@ ())); }
private void h@@ andle@@ R@@ ad@@ i@@ o@@ Button@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { get@@ Detail@@ Model@@ ().set@@ View@@ Filter@@ Type(@@ view@@ R@@ ad@@ i@@ o@@ Group@@ .get@@ Selected@@ Value@@ ()); boolean attach@@ ed = (@@ view@@ R@@ ad@@ i@@ o@@ Group@@ .get@@ Selected@@ Value@@ ()) == (@@ org.ovirt.engine.ui.uicommonweb.models.@@ network@@ s.@@ Network@@ Host@@ Fil@@ t@@ er.@@ attach@@ ed@@ ); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ host@@ Status@@ , const@@ an@@ t@@ s.@@ em@@ pty@@ (), true@@ , "@@ 3@@ 0@@ p@@ x@@ "); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ name@@ Column@@ , const@@ an@@ t@@ s.@@ name@@ Host@@ (), true@@ , "@@ 2@@ 00@@ p@@ x@@ "); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (cluster@@ Column@@ , const@@ an@@ t@@ s.@@ cluster@@ Host@@ (), true@@ , "@@ 2@@ 00@@ p@@ x@@ "); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ dc@@ Column@@ , const@@ an@@ t@@ s.@@ dc@@ Host@@ (), true@@ , "@@ 2@@ 00@@ p@@ x@@ "); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ nic@@ Status@@ Column@@ , const@@ an@@ t@@ s.@@ status@@ Network@@ Host@@ (), attach@@ ed@@ , "@@ 1@@ 4@@ 0@@ p@@ x@@ "); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ nic@@ Column@@ , const@@ an@@ t@@ s.@@ nic@@ Network@@ Host@@ (), attach@@ ed@@ , "@@ 1@@ 00@@ p@@ x@@ "); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (s@@ p@@ e@@ ed@@ Column@@ , templat@@ es.@@ sub@@ (@@ const@@ an@@ t@@ s.@@ sp@@ e@@ ed@@ Network@@ Host@@ (), const@@ an@@ t@@ s.@@ m@@ b@@ p@@ s@@ ()).@@ as@@ String@@ (), attach@@ ed@@ , "@@ 1@@ 00@@ p@@ x@@ "); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ nic@@ R@@ x@@ Column@@ , templat@@ es.@@ sub@@ (@@ const@@ an@@ t@@ s.@@ r@@ x@@ Network@@ Host@@ (), const@@ an@@ t@@ s.@@ m@@ b@@ p@@ s@@ ()).@@ as@@ String@@ (), attach@@ ed@@ , "@@ 1@@ 00@@ p@@ x@@ "); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ nic@@ T@@ x@@ Column@@ , templat@@ es.@@ sub@@ (@@ const@@ an@@ t@@ s.@@ t@@ x@@ Network@@ Host@@ (), const@@ an@@ t@@ s.@@ m@@ b@@ p@@ s@@ ()).@@ as@@ String@@ (), attach@@ ed@@ , "@@ 1@@ 00@@ p@@ x@@ "); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ t@@ otal@@ R@@ x@@ Column@@ , templat@@ es.@@ sub@@ (@@ const@@ an@@ t@@ s.@@ r@@ x@@ T@@ otal@@ (), const@@ an@@ t@@ s@@ .@@ byte@@ s@@ ()).@@ as@@ String@@ (), attach@@ ed@@ , "@@ 1@@ 00@@ p@@ x@@ "); get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ t@@ otal@@ C@@ ent@@ (@@ const@@ an@@ t@@ s.@@ sub@@ T@@ otal@@ C@@ ent@@ (@@ const@@ an@@ t@@ s@@ ()).@@ sub@@ (@@ const@@ an@@ t@@ s@@ ()).@@ sub@@ st@@ Host@@ (), const@@ an@@ t@@ s@@ .@@ byte@@ s@@ ()).@@ as@@ String@@ (), const@@ an@@ t@@ s.@@ sub@@ st@@ Host@@ (), const@@ an@@ t@@ s.@@ sub@@ st@@ Host@@ (), const@@ an@@ t@@ otal@@ R@@ x@@ "); }
@@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ an@@ not@@ ation@@ s.@@ Lin@@ k types.@@ Network@@ L@@ ab@@ e@@ l vi@@ r@@ tu@@ al@@ F@@ un@@ c@@ tion@@ Allow@@ ed@@ Label@@ s();
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > get@@ Permission@@ Check@@ Su@@ bject@@ s() { return java.util.Collections.@@ sing@@ leton@@ List@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.@@ Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ S@@ Y@@ ST@@ EM@@ _@@ O@@ B@@ J@@ EC@@ T_@@ ID@@ , org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ System@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ StorageDomain@@ Command.get@@ Action@@ Type@@ ().get@@ Action@@ Group@@ ())); }
public org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator@@ Test.@@ Parameters@@ Buil@@ der add@@ Label@@ s@@ (org.ovirt.engine.core.common.businessentities.network.@@ Nic@@ L@@ ab@@ el.@@ .@@ . nic@@ Label@@ s) { if (@@ null@@ Parameters(@@ nic@@ Label@@ s@@ )) { return this@@ ; } if ((@@ parameters@@ .get@@ Label@@ s()) == null@@ ) { parameters.set@@ Label@@ s@@ (@@ new java.util.Hash@@ Set<@@ org.ovirt.engine.core.common.businessentities.network.@@ Nic@@ Label@@ >@@ ()); } parameters@@ .get@@ Label@@ s().@@ add@@ All@@ (@@ java.util.Arrays.as@@ List(@@ nic@@ Label@@ s@@ )); return this@@ ; }
public void set@@ I@@ con@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model.@@ Not@@ Chang@@ able@@ For@@ Vm@@ In@@ Pool@@ Entity@@ Model@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ con@@ With@@ Os@@ Default@@ > ic@@ on@@ ) { this@@ .@@ ic@@ on = ic@@ on@@ ; }
@org.junit.Test public void test@@ CanDoAction@@ StorageDomain@@ Is@@ File@@ Storage@@ () { storageDomain@@ .set@@ Storage@@ Type(@@ StorageType.@@ N@@ FS@@ ); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ cmd@@ , EngineMessage.ACTION_TYPE_FAILED_@@ AL@@ I@@ G@@ N@@ M@@ EN@@ T_@@ S@@ C@@ AN@@ _@@ STORAGE_@@ TYP@@ E); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ VM@@ ") java.lang.String vm@@ Role@@ T@@ ree@@ ();
private java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> par@@ se@@ Ch@@ an@@ ne@@ l@@ s(@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > de@@ vic@@ es@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > d@@ b = de@@ vic@@ es.@@ stream@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > (@@ d@@ .get@@ Type()) == VmDevice@@ Gener@@ al@@ Type.@@ C@@ H@@ AN@@ N@@ E@@ L@@ ).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); if (@@ db@@ .@@ isEmpty@@ ()) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> result = new java.util.ArrayList<>(); for (@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ od@@ e : do@@ c@@ um@@ ent.@@ s@@ el@@ ect@@ Nod@@ es@@ ("@@ /@@ /@@ *@@ /@@ ch@@ an@@ ne@@ l@@ "@@ )) { java.util.Map<java.lang.String, java.lang.Object> de@@ v = new java.util.HashMap<@@ >(); de@@ v@@ .@@ put(@@ VdsProperties.@@ Device@@ , "@@ ch@@ an@@ ne@@ l@@ "); de@@ v@@ .@@ put(@@ VdsProperties.@@ Address@@ , par@@ se@@ Address@@ (@@ n@@ ode@@ )); java.lang.String al@@ i@@ a@@ s = par@@ se@@ Alias@@ (@@ n@@ ode@@ ); de@@ v@@ .@@ put(@@ VdsProperties.@@ Alias@@ , al@@ ias@@ ); java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > db@@ De@@ v = db@@ .@@ stream@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > d@@ .get@@ Alias@@ ().@@ equals(@@ al@@ ias@@ )).@@ fin@@ d@@ F@@ ir@@ st@@ (); if (@@ db@@ De@@ v@@ .is@@ Pres@@ ent@@ ()) { de@@ v@@ .@@ put(@@ VdsProperties.@@ Device@@ Id, db@@ De@@ v@@ .get@@ ().get@@ Id@@ ().get@@ Device@@ Id().@@ toString()); db@@ De@@ v = db@@ .@@ stream@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > d@@ .get@@ Alias@@ ().is@@ Empty@@ ()).@@ fin@@ d@@ F@@ ir@@ st@@ (); db@@ De@@ v@@ .get@@ ().set@@ Alias@@ (@@ al@@ ias@@ ); de@@ v@@ .@@ put(@@ VdsProperties.@@ Device@@ Id, db@@ De@@ v@@ .get@@ ().get@@ Id@@ ().get@@ Device@@ Id().@@ toString()); } result.@@ add(@@ de@@ v@@ ); } return result@@ ; }
public org.ovirt.engine.core.bll.ValidationResult disk@@ Images@@ Not@@ I@@ l@@ le@@ g@@ al@@ () { return disk@@ Images@@ Not@@ In@@ Status(@@ Image@@ Status.@@ IL@@ LE@@ G@@ AL@@ , EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K@@ S_@@ IL@@ LE@@ G@@ AL@@ ); }
@java.lang.Override public void onSuccess@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > stor@@ ages@@ ) { if ((@@ storage@@ s != null@@ ) && ((@@ stor@@ ages.@@ size()) > 0@@ )) { java.lang.String storage@@ Name = stor@@ ages@@ .get(@@ 0@@ ).get@@ Storage@@ Name@@ (); on@@ F@@ in@@ is@@ h@@ (@@ contex@@ t@@ , false@@ , storage@@ Model@@ , org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ create@@ Operation@@ Fail@@ ed@@ D@@ c@@ Gui@@ de@@ M@@ s@@ g@@ (@@ storage@@ Name@@ )); } else { save@@ New@@ P@@ os@@ i@@ x@@ Storage@@ (); } }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ AD@@ D@@ ); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _C@@ LUSTER_@@ P@@ OL@@ IC@@ Y@@ ); }
protected boolean is@@ Disk@@ Can@@ Be@@ Ad@@ ded@@ To@@ Vm@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Disk disk@@ Info@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ ) { if ((!@@ (disk@@ Info@@ .is@@ Disk@@ Snapshot@@ ())) && (disk@@ Info@@ .is@@ Boot@@ ())) { for (org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k : vm.get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ()) { if ((@@ disk@@ .is@@ Boot@@ ()) && (!(@@ disk@@ .is@@ Disk@@ Snapshot@@ ()))) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ B@@ O@@ T_@@ IN_@@ US@@ E); org.ovirt.engine.core.bll.storage.disk.@@ Abstract@@ Disk@@ Vm@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ ().@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Disk@@ Name %@@ 1@@ $@@ s", disk@@ .get@@ Disk@@ Alias@@ ())); org.ovirt.engine.core.bll.storage.disk.@@ Abstract@@ Disk@@ Vm@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ ().@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Vm@@ Name %@@ 1@@ $@@ s", vm.get@@ Name@@ ())); return false@@ ; } } } return true@@ ; }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.core.common.businessentities.@@ VDS@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ External@@ Host@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ External@@ Hos@@ t map@@ (org.ovirt.engine.core.common.businessentities.@@ VDS entity@@ , org.ovirt.engine.api.model.@@ External@@ Hos@@ t template@@ ) { org.ovirt.engine.api.model.@@ External@@ Hos@@ t model = (@@ templ@@ ate != null@@ ) ? templ@@ ate : new org.ovirt.engine.api.model.@@ External@@ Host@@ (); java.lang.String nam@@ e = entity.get@@ Name@@ (); if (@@ nam@@ e != null@@ ) { model.set@@ Id(@@ st@@ ring@@ 2@@ h@@ ex@@ (@@ name@@ )); model.set@@ Name(@@ name@@ ); } if ((@@ entity.get@@ Host@@ Name@@ ()) != null@@ ) { model.set@@ Address@@ (@@ entity.get@@ Host@@ Name()); } return model@@ ; }
public void load@@ Enti@@ ties@@ Name@@ Map@@ () { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Enti@@ ties@@ Name@@ Map@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ label@@ s.@@ lis@@ t.@@ Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Callback@@ <@@ java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.lang.String@@ >@@ >() { @java.lang.Override public void onSuccess@@ (@@ java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.lang.String> name@@ Map@@ ) { enti@@ ties@@ Name@@ Map@@ .get@@ Entity@@ ().@@ cl@@ e@@ ar@@ (); enti@@ ties@@ Name@@ Map@@ .get@@ Entity@@ ().@@ put@@ All@@ (@@ name@@ Map@@ ); enti@@ ties@@ Name@@ Map@@ .get@@ Entity@@ Changed@@ Event@@ ().@@ r@@ a@@ is@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ label@@ s.@@ lis@@ t.@@ Af@@ finity@@ Label@@ ListModel@@ .@@ this@@ , EventArg@@ s.@@ EM@@ P@@ TY@@ ); } }@@ )); }
@org.junit.Test public void test@@ Update@@ L@@ ast@@ Ad@@ min@@ Check@@ Status@@ () { org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Us@@ er n@@ on@@ Ad@@ min@@ Us@@ er = db@@ Fac@@ ade.get@@ Db@@ User@@ Dao().get@@ By@@ User@@ name@@ And@@ Domain@@ ("@@ user@@ 2@@ @@@ test@@ port@@ al.@@ red@@ ha@@ t.@@ com@@ ", "@@ test@@ port@@ al.@@ red@@ ha@@ t.@@ com@@ "); assert@@ Not@@ Null@@ (@@ n@@ on@@ Ad@@ min@@ User@@ ); assert@@ F@@ als@@ e(@@ n@@ on@@ Ad@@ min@@ Us@@ er.@@ is@@ Ad@@ min@@ ()); d@@ ao.@@ update@@ L@@ ast@@ Ad@@ min@@ Check@@ Status(@@ n@@ on@@ Ad@@ min@@ User@@ .getId()); n@@ on@@ Ad@@ min@@ Us@@ er = db@@ Fac@@ ade.get@@ Db@@ User@@ Dao().get@@ (@@ n@@ on@@ Ad@@ min@@ User@@ .getId()); assert@@ F@@ als@@ e(@@ n@@ on@@ Ad@@ min@@ Us@@ er.@@ is@@ Ad@@ min@@ ()); org.ovirt.engine.core.common.businessentities.@@ Per@@ mis@@ si@@ on per@@ m@@ s = new org.ovirt.engine.core.common.businessentities.@@ Permission@@ (); per@@ m@@ s.set@@ Role@@ Type(@@ Role@@ Type.@@ AD@@ M@@ IN@@ ); per@@ m@@ s.set@@ Role@@ Id(@@ org.ovirt.engine.core.dao.@@ Db@@ User@@ Dao@@ Test.@@ AD@@ M@@ IN_@@ RO@@ L@@ E_@@ TYPE_@@ F@@ RO@@ M@@ _@@ F@@ I@@ X@@ T@@ UR@@ E_@@ ID@@ ); per@@ m@@ s.set@@ Ad@@ Element@@ Id(@@ n@@ on@@ Ad@@ min@@ User@@ .getId()); per@@ m@@ s.set@@ Object@@ Id(@@ org.ovirt.engine.core.dao.@@ Db@@ User@@ Dao@@ Test.@@ S@@ Y@@ ST@@ EM@@ _@@ O@@ B@@ J@@ EC@@ T_@@ ID@@ ); per@@ m@@ s.set@@ Object@@ Type(@@ Vdc@@ Object@@ Type.@@ System@@ ); db@@ Fac@@ ade.get@@ Permission@@ Dao().@@ save@@ (@@ per@@ m@@ s); assert@@ Not@@ Null@@ (@@ db@@ Fac@@ ade.get@@ Permission@@ Dao().get@@ (@@ per@@ m@@ s.get@@ Id@@ ())); d@@ ao.@@ update@@ L@@ ast@@ Ad@@ min@@ Check@@ Status(@@ n@@ on@@ Ad@@ min@@ User@@ .getId()); n@@ on@@ Ad@@ min@@ Us@@ er = db@@ Fac@@ ade.get@@ Db@@ User@@ Dao().get@@ (@@ n@@ on@@ Ad@@ min@@ User@@ .getId()); assert@@ True@@ (@@ n@@ on@@ Ad@@ min@@ Us@@ er.@@ is@@ Ad@@ min@@ ()); }
private void In@@ itial@@ ize@@ Help@@ ers@@ () { try { for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Type storage@@ Type : org.ovirt.engine.core.common.businessentities.Storage@@ Type.@@ valu@@ es@@ ()) { java.lang.@@ Class@@ <?@@ > action@@ Type = null@@ ; java.lang.String for@@ mat@@ ted@@ Class@@ Name = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ 1@@ $@@ s.@@ %@@ 2@@ $@@ s@@ %@@ 3@@ $@@ s", org.ovirt.engine.core.bll.storage.@@ Storage@@ Helper@@ Direct@@ or.@@ ACTION_TYPE_@@ P@@ AC@@ K@@ AG@@ E, storage@@ Type.@@ name@@ (), org.ovirt.engine.core.bll.storage.@@ Storage@@ Helper@@ Direct@@ or.@@ ACTION_TYPE_@@ C@@ L@@ A@@ SS@@ ); try { action@@ Type = java.lang.@@ Class@@ .@@ for@@ Name@@ (@@ for@@ mat@@ ted@@ Class@@ Name); } catch (java.lang.@@ Class@@ Not@@ F@@ ound@@ Exception c@@ n@@ f@@ e) { org.ovirt.engine.core.bll.storage.@@ Storage@@ Helper@@ Direct@@ or.@@ log.debug@@ ((@@ "@@ Storage@@ Helper@@ Direct@@ or Error@@ :@@ : the lo@@ o@@ k@@ u@@ p for f@@ ol@@ low@@ ing class ha@@ s fail@@ ed@@ : " + for@@ mat@@ ted@@ Class@@ Name@@ ), c@@ n@@ f@@ e); } if (@@ action@@ Type != null@@ ) { java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Con@@ struc@@ t@@ or@@ <?@@ > in@@ fo = action@@ Typ@@ e.get@@ Con@@ struc@@ t@@ or@@ s@@ ()@@ [@@ 0@@ ]@@ ; org.ovirt.engine.core.bll.storage.@@ I@@ Storage@@ Help@@ er current@@ Help@@ er = ((@@ org.ovirt.engine.core.bll.storage.@@ I@@ Storage@@ Helper@@ ) (@@ info@@ .@@ new@@ Instance@@ (@@ null@@ ))); _@@ h@@ el@@ per@@ s.@@ put(@@ storage@@ Type, current@@ Helper@@ ); } } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.bll.storage.@@ Storage@@ Helper@@ Direct@@ or.@@ log.error("@@ Storage@@ Helper@@ Direct@@ or Error@@ :@@ : ex@@ ce@@ ption w@@ a@@ s enc@@ oun@@ ter@@ ed d@@ ur@@ ing In@@ itial@@ ize@@ Help@@ ers@@ () execu@@ tion@@ ", ex@@ ); throw new org.ovirt.engine.core.compat.@@ Ap@@ plication@@ Exception@@ ("@@ J@@ TO@@ D@@ O mis@@ s@@ ing ex@@ ce@@ ption@@ ", ex@@ ); } } }
public void set@@ Gluster@@ Network@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Model model, boolean value@@ ) { if (!(@@ is@@ Multi@@ Cluster@@ ())) { if (@@ value@@ ) { if ((get@@ Gluster@@ Network@@ ()) != null@@ ) { get@@ Gluster@@ Network@@ ().set@@ Gluster@@ Network@@ (@@ false@@ ); } } else { manage@@ ment@@ Network@@ .set@@ Gluster@@ Network@@ (@@ true@@ ); } } model.set@@ Gluster@@ Network@@ (@@ value@@ ); }
public static boolean is@@ Memory@@ To@@ Be@@ Hot@@ plug@@ ged@@ (org.ovirt.engine.core.common.businessentities.@@ VM source@@ , org.ovirt.engine.core.common.businessentities.VM d@@ est@@ ination@@ ) { return (s@@ ourc@@ e.get@@ Mem@@ Size@@ M@@ b@@ ()) < (@@ d@@ est@@ ination@@ .get@@ Mem@@ Size@@ M@@ b@@ ()); }
@org.junit.Test public void re@@ f@@ us@@ e@@ Bal@@ loon@@ On@@ P@@ P@@ C@@ () { final org.ovirt.engine.core.bll.@@ ImportVm@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters@@ > c = set@@ up@@ Disk@@ Sp@@ ace@@ Test@@ (c@@ reate@@ Parameters@@ ()); add@@ Bal@@ loon@@ To@@ Vm@@ (c@@ .get@@ Vm@@ From@@ Export@@ Domain@@ (@@ null@@ )); c@@ .get@@ Parameters().get@@ Vm@@ ().set@@ Cluster@@ Ar@@ ch@@ (@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ p@@ pc@@ 6@@ 4@@ ); org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ (); c@@ luster.@@ set@@ Ar@@ ch@@ it@@ ect@@ ure(@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ p@@ pc@@ 6@@ 4@@ ); c@@ luster.@@ set@@ CompatibilityVersion@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .get@@ L@@ ast@@ ()); do@@ Return@@ (cluster@@ ).when@@ (c@@ ).get@@ VdsGroup@@ (); do@@ Return@@ (@@ true@@ ).when@@ (c@@ ).@@ validate@@ Images@@ (@@ any@@ (java.util.@@ Map@@ .@@ class@@ )); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ Bal@@ loon@@ Enabled@@ (c@@ .get@@ Parameters().get@@ Vm().get@@ Vm@@ Os@@ Id(), cluster@@ .get@@ CompatibilityVersion@@ ())@@ ).@@ then@@ Return@@ (@@ false@@ ); assert@@ F@@ als@@ e(@@ c.@@ canDoAction@@ ()); assert@@ True@@ (c@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ EngineMessage.@@ B@@ AL@@ LO@@ ON_@@ RE@@ Q@@ U@@ E@@ ST@@ ED_@@ ON_@@ NOT_@@ SUP@@ PORT@@ ED_@@ AR@@ C@@ H@@ .@@ toString@@ ())); }
private static org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Cre@@ ation@@ In@@ fo ne@@ xt@@ AsyncTask@@ Cre@@ ation@@ Info@@ () { org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Cre@@ ation@@ In@@ fo in@@ fo = new org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Cre@@ ation@@ Info@@ (); info@@ .set@@ Step@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); info@@ .set@@ StoragePool@@ ID@@ (@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); info@@ .set@@ Vds@@ m@@ Task@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); info@@ .set@@ Task@@ Type(@@ org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instance@@ ().@@ ne@@ xt@@ Enum@@ (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Type@@ .@@ class@@ )); return info@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Cancel@@ ") java.lang.String cancel@@ ();
public org.ovirt.engine.core.bll.ValidationResult un@@ plug@@ Plug@@ Not@@ Requi@@ red@@ () { return (@@ l@@ ive@@ Action@@ Requi@@ red@@ ()) && (@@ proper@@ ties@@ Requi@@ ring@@ Un@@ plug@@ W@@ er@@ e@@ Update@@ d@@ ()) ? new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ C@@ ANNOT_@@ P@@ ER@@ F@@ OR@@ M@@ _@@ HO@@ T_@@ UP@@ D@@ AT@@ E@@ ) : org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public void stor@@ e@@ Value@@ (@@ final java.lang.String key@@ , final java.lang.String value@@ ) { get@@ Operation@@ Manager@@ ().@@ stor@@ e(@@ key@@ , value@@ ); }
private boolean validate@@ Name(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ Data data@@ ) { if (@@ data@@ .get@@ Cl@@ one@@ ().getEntity@@ ()) { return true@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { if (vm.get@@ Name@@ ().@@ equals(@@ data@@ .get@@ Vm().get@@ Name@@ ())) { if (!@@ (vm@@ .getId@@ ().@@ equals(@@ data@@ .get@@ Vm().get@@ Id@@ ()))) { data@@ .set@@ Error@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ vm@@ With@@ S@@ ame@@ Name@@ Exist@@ s()); return false@@ ; } } } return true@@ ; }
@java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { if (s@@ ource != null@@ ) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > lis@@ t = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >) (s@@ ource@@ )); java.util.Collections.@@ s@@ ort@@ (@@ list@@ , new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ VdsGroup@@ By@@ Name@@ Comp@@ ar@@ er@@ ()); return list@@ ; } return new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >(); }
private void build@@ Id@@ To@@ Un@@ ame@@ L@@ ook@@ up@@ () { try { java.lang.String@@ [@@ ] un@@ i@@ q@@ ue@@ Name@@ s = pre@@ fer@@ enc@@ es.@@ n@@ ode@@ (org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ it@@ ory@@ Impl.@@ O@@ S_@@ RO@@ O@@ T_@@ NO@@ DE@@ ).@@ ch@@ ild@@ r@@ en@@ Names@@ (); id@@ To@@ Un@@ ame@@ L@@ ook@@ u@@ p = new java.util.HashMap<@@ java.lang.Integer@@ , java.lang.String@@ >@@ (@@ un@@ i@@ q@@ ue@@ Nam@@ es.@@ l@@ ength@@ ); for (java.lang.String un@@ i@@ q@@ ue@@ Name : java.util.Arrays.as@@ List(@@ un@@ i@@ q@@ ue@@ Names@@ )) { java.util.@@ pre@@ f@@ s.@@ Pre@@ fer@@ ence@@ s id@@ Nod@@ e = get@@ Key@@ Node@@ (@@ un@@ i@@ q@@ ue@@ Name, "@@ id@@ ", null@@ ); if (@@ id@@ Nod@@ e != null@@ ) { id@@ To@@ Un@@ ame@@ L@@ ook@@ up@@ .@@ put(@@ id@@ Nod@@ e.get@@ In@@ t@@ ("@@ value@@ ", 0@@ ), un@@ i@@ q@@ ue@@ Name); } } } catch (java.util.@@ pre@@ f@@ s.@@ Back@@ ing@@ St@@ ore@@ Exception e) { throw new java.lang.@@ Run@@ time@@ Exception@@ ((@@ "@@ Fail@@ ed to initial@@ iz@@ e O@@ s Rep@@ os@@ itor@@ y d@@ u@@ e to " + e@@ )); } }
private void g@@ ath@@ er@@ Non@@ Run@@ ning@@ Vm@@ s(@@ java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > db@@ Vm@@ s) { for (org.ovirt.engine.core.common.businessentities.@@ VM db@@ V@@ m : db@@ Vm@@ s.@@ valu@@ es@@ ()) { if (!(@@ vds@@ m@@ Vm@@ s.@@ contains@@ Key@@ (@@ db@@ Vm@@ .getId@@ ()))) { ch@@ ang@@ ed@@ Vm@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.utils.Pair@@ (@@ db@@ Vm@@ , null@@ )); } } }
private void ch@@ ang@@ e@@ C@@ D@@ (java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s e) { org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Change@@ C@@ D@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Change@@ C@@ D@@ Model) (s@@ ender@@ )); java.lang.String is@@ o@@ Name = model.get@@ Title@@ (); if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (is@@ o@@ Name, org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ no@@ C@@ ds@@ ())) { return@@ ; } java.lang.Object temp@@ V@@ a@@ r = get@@ SelectedItem@@ (); org.ovirt.engine.core.common.businessentities.VM vm = ((org.ovirt.engine.core.common.businessentities.@@ VM@@ ) ((@@ temp@@ V@@ a@@ r instanceof org.ovirt.engine.core.common.businessentities.@@ VM@@ ) ? temp@@ V@@ a@@ r : null@@ )); if (@@ vm == null@@ ) { return@@ ; } org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action(VdcActionType.@@ Change@@ Disk@@ , new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >@@ (@@ java.util.Arrays.as@@ List@@ (@@ new org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ []{ new org.ovirt.engine.core.common.action.@@ Change@@ Disk@@ Command@@ Parameters@@ (vm.get@@ Id(), (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (is@@ o@@ Name, Console@@ Model.@@ E@@ j@@ ect@@ Label@@ ) ? "@@ " : is@@ o@@ Name@@ )) }@@ )@@ ), new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { } }, null@@ ); }
@org.junit.Test public void test@@ S@@ ave@@ () { d@@ ao.@@ save@@ (@@ new@@ Ad@@ Group@@ ); org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group result = d@@ ao@@ .get@@ By@@ Name@@ (@@ new@@ Ad@@ Group@@ .get@@ name@@ ()); assert@@ Equals@@ (@@ new@@ Ad@@ Group@@ , result@@ ); }
void set@@ Local@@ Item@@ (java.lang.String key@@ , java.lang.String value@@ ) { if ((@@ org.ovirt.engine.ui.common.@@ s@@ ystem@@ .@@ Client@@ Stor@@ age.@@ local@@ Storage@@ ) != null@@ ) { org.ovirt.engine.ui.common.@@ s@@ ystem@@ .@@ Client@@ Stor@@ age.@@ local@@ Stor@@ age.@@ set@@ Item@@ (get@@ Item@@ Key@@ (@@ key@@ ), value@@ ); } else { com.google.gwt.@@ user.@@ client.@@ C@@ ook@@ ies.@@ set@@ C@@ ook@@ i@@ e(@@ get@@ Item@@ Key@@ (@@ key@@ ), value@@ , new java.util.@@ D@@ ate@@ ((@@ (@@ new java.util.@@ D@@ ate@@ ().get@@ Time@@ ()) + (@@ org.ovirt.engine.ui.common.@@ s@@ ystem@@ .@@ Client@@ Stor@@ age.@@ P@@ ER@@ SI@@ ST@@ EN@@ T_@@ C@@ O@@ K@@ I@@ E_@@ EX@@ P@@ I@@ R@@ A@@ TI@@ ON@@ )@@ ))); } }
@java.lang.Override @@@ javax.ws.rs.@@ Path@@ ("@@ num@@ an@@ od@@ es@@ ") public org.ovirt.engine.api.res@@ ource.@@ Vm@@ Numa@@ Nod@@ es@@ Res@@ ource get@@ Vm@@ Numa@@ Nod@@ es@@ Resource@@ () { return null@@ ; }
@java.lang.Override protected boolean validate@@ () { if ((((@@ org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Parameters@@ ()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.getParameters().get@@ Agent@@ ()) == null@@ )) || ((org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.getParameters().get@@ Agent@@ ().get@@ Id()) == null@@ )) { return fail@@ Validation@@ (EngineMessage.@@ VDS@@ _@@ RE@@ M@@ OV@@ E_@@ F@@ EN@@ C@@ E_@@ AG@@ EN@@ T_@@ ID@@ _@@ RE@@ Q@@ U@@ I@@ R@@ ED); } return super@@ .@@ validate@@ (); }
private java.util.Map<java.lang.String, java.lang.Object@@ >@@ [@@ ] par@@ se@@ Devices@@ (java.lang.String x@@ ml@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > de@@ vic@@ es@@ ) { org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent@@ ; try { c@@ um@@ ent = new org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent@@ (@@ x@@ ml@@ ); } catch (@@ java.lang.Exception e) { return new java.util.@@ Map@@ [@@ 0@@ ]@@ ; } java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> result = new java.util.ArrayList<>(); result.@@ add(@@ par@@ se@@ Bal@@ loon@@ (@@ do@@ c@@ um@@ ent@@ , de@@ vic@@ es@@ )); result.@@ add(@@ par@@ se@@ R@@ ng@@ (@@ do@@ c@@ um@@ ent@@ , de@@ vic@@ es@@ )); result.@@ add@@ All@@ (@@ par@@ se@@ Vi@@ de@@ os@@ (@@ do@@ c@@ um@@ ent@@ , de@@ vic@@ es@@ )); result.@@ add(@@ par@@ se@@ W@@ at@@ ch@@ do@@ g@@ (@@ do@@ c@@ um@@ ent@@ , de@@ vic@@ es@@ )); result.@@ add@@ All@@ (@@ par@@ se@@ Cont@@ ro@@ ll@@ ers@@ (@@ do@@ c@@ um@@ ent@@ , de@@ vic@@ es@@ )); result.@@ add@@ All@@ (@@ par@@ se@@ Interfaces@@ (@@ do@@ c@@ um@@ ent@@ , de@@ vic@@ es@@ )); result.@@ add@@ All@@ (@@ par@@ se@@ Ch@@ an@@ ne@@ l@@ s@@ (@@ do@@ c@@ um@@ ent@@ , de@@ vic@@ es@@ )); return result.@@ to@@ Array@@ (@@ new java.util.@@ Map@@ [@@ 0@@ ]@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ All@@ With@@ Template@@ (org.ovirt.engine.core.compat.Guid id@@ ) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Vms@@ By@@ Vm@@ t@@ Guid@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Dao@@ Impl.@@ VM@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ vm@@ t@@ _@@ g@@ uid@@ ", id@@ )); }
private void update@@ Path@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t = model.get@@ Host@@ ().getSelectedItem@@ (); org.ovirt.engine.core.compat.Guid host@@ Id = org.ovirt.engine.core.compat.Guid.@@ Empty@@ ; if (@@ hos@@ t != null@@ ) { host@@ Id = hos@@ t.get@@ Id@@ (); } org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ I@@ Storage@@ Model storage@@ Model = model.get@@ C@@ urrent@@ Storage@@ Item@@ (); conn@@ ec@@ tion = new org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s(); connection@@ .set@@ id@@ (@@ storageDomain@@ .get@@ Storage@@ ()); connection@@ .set@@ connection@@ (p@@ ath@@ ); connection@@ .set@@ storage_@@ typ@@ e(@@ storage@@ Model.get@@ Type@@ ()); if (@@ storage@@ Model.get@@ Type@@ ().@@ equals(@@ StorageType.@@ N@@ FS@@ )) { update@@ N@@ FS@@ Properties@@ (@@ storage@@ Model@@ ); } else if (@@ storage@@ Model instanceof org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ P@@ os@@ i@@ x@@ Storage@@ Model) { update@@ P@@ os@@ i@@ x@@ Properties@@ (@@ storage@@ Model@@ ); } org.ovirt.engine.core.common.action.@@ StorageServerConnection@@ Parameters@@ Base parameter@@ s = new org.ovirt.engine.core.common.action.@@ StorageServerConnection@@ Parameters@@ Bas@@ e(@@ connection@@ , host@@ Id); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action(VdcActionType.@@ Update@@ StorageServerConnection@@ , parameters@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ List@@ Model storage@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ ListModel@@ ) (@@ result.get@@ State@@ ())); storage@@ List@@ Model.@@ on@@ F@@ in@@ is@@ h@@ (@@ storage@@ List@@ Model.@@ contex@@ t@@ , true@@ , storage@@ List@@ Model.@@ storage@@ Model@@ ); } }, this@@ ); }
@java.lang.Override public int comp@@ ar@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ Network o@@ 1, org.ovirt.engine.core.common.businessentities.@@ Network o@@ 2@@ ) { return Host@@ Interface@@ List@@ Model.@@ EN@@ G@@ IN@@ E_@@ NETWORK_@@ NAM@@ E@@ .equals(@@ o@@ 1@@ .get@@ name@@ ()) ? -@@ 1 : o@@ 1@@ .get@@ name@@ ().@@ comp@@ are@@ To@@ (@@ o@@ 2@@ .get@@ name@@ ()); }
@java.lang.Override public void add@@ Column@@ (c@@ om.google.gwt.@@ user.@@ ce@@ ll@@ view@@ .client.@@ Column@@ <@@ T@@ , ?@@ > c@@ olumn@@ , com.google.gwt.@@ user.@@ ce@@ ll@@ view@@ .client.@@ H@@ ead@@ er@@ <?@@ > h@@ ead@@ er@@ ) { if ((@@ c@@ olumn@@ Res@@ iz@@ ing@@ Enabled@@ ) && (@@ h@@ e@@ ade@@ r instanceof org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ Abstract@@ Check@@ bo@@ x@@ H@@ ead@@ er@@ )) { h@@ e@@ ade@@ r = create@@ Res@@ iz@@ able@@ Check@@ bo@@ x@@ H@@ ead@@ er@@ (@@ h@@ ead@@ er@@ , c@@ olumn@@ ); } else if (c@@ olumn@@ Res@@ iz@@ ing@@ Enabled@@ ) { h@@ e@@ ade@@ r = create@@ Res@@ iz@@ able@@ H@@ ead@@ er@@ (c@@ olumn@@ , h@@ ead@@ er@@ ); } else if ((@@ ap@@ pl@@ y@@ H@@ ead@@ er@@ Sty@@ le@@ ) && (@@ h@@ e@@ ade@@ r instanceof org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ S@@ afe@@ Ht@@ ml@@ H@@ ead@@ er@@ )) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ S@@ afe@@ Ht@@ ml@@ H@@ e@@ ade@@ r s@@ afe@@ Ht@@ ml@@ H@@ e@@ ade@@ r = ((@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ S@@ afe@@ Ht@@ ml@@ H@@ ead@@ er@@ ) (@@ h@@ ead@@ er@@ )); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l new@@ Value = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ opup@@ .@@ scheduling.@@ p@@ opup@@ .@@ ImportVm@@ From@@ Export@@ Domain@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ h@@ ead@@ er@@ (@@ h@@ ead@@ er@@ , s@@ afe@@ Ht@@ ml@@ H@@ ead@@ er@@ (@@ new@@ Value@@ , s@@ afe@@ Ht@@ ml@@ H@@ ead@@ er@@ .get@@ T@@ ooltip@@ ()); } super@@ .@@ add@@ Column@@ (c@@ olumn@@ , h@@ ead@@ er@@ ); if (c@@ olumn@@ Res@@ iz@@ ing@@ Enabled@@ ) { if ((@@ em@@ pty@@ No@@ W@@ id@@ th@@ Column@@ ) != null@@ ) { remove@@ Column@@ (@@ em@@ pty@@ No@@ W@@ id@@ th@@ Column@@ ); } em@@ pty@@ No@@ W@@ id@@ th@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Empty@@ Column@@ <@@ T@@ >(); super@@ .@@ add@@ Column@@ (@@ em@@ pty@@ No@@ W@@ id@@ th@@ Column@@ ); } } }
private org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.Boolean@@ > update@@ Vds@@ Networks@@ In@@ T@@ x@@ () { return new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.Boolean@@ >() { @java.lang.Override public java.lang.@@ B@@ oolean run@@ In@@ Transaction@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > if@@ ace@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ >@@ (get@@ Interfaces@@ ()); if@@ ac@@ es.@@ add@@ All@@ (get@@ Rem@@ oved@@ Bon@@ ds@@ ().@@ valu@@ es@@ ()); org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Coll@@ ect@@ VdsNetwork@@ Data@@ , new org.ovirt.engine.core.common.vdscommands.@@ Coll@@ ect@@ Host@@ Network@@ Data@@ Vds@@ Command@@ Parameters@@ (get@@ Vds@@ (), if@@ ac@@ es@@ )); for (org.ovirt.engine.core.common.businessentities.network.@@ Network ne@@ t : get@@ Networks@@ ()) { org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Helper.@@ set@@ Status@@ (get@@ VdsGroup@@ Id(), net@@ ); } return java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ ; } }; }
@java.lang.Override protected void execute@@ I@@ r@@ s@@ Broker@@ Command() { org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ F@@ in@@ al@@ ize@@ M@@ er@@ ge@@ VDS@@ Command.get@@ I@@ r@@ s@@ Proxy@@ ().@@ pre@@ par@@ e@@ M@@ er@@ g@@ e(@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ F@@ in@@ al@@ ize@@ M@@ er@@ ge@@ VDS@@ Command.getParameters().get@@ StoragePool@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ F@@ in@@ al@@ ize@@ M@@ er@@ ge@@ VDS@@ Command.getParameters().get@@ Storage@@ Job@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ F@@ in@@ al@@ ize@@ M@@ er@@ ge@@ VDS@@ Command.getParameters().get@@ Sub@@ ch@@ ain@@ Info@@ ().@@ con@@ ver@@ t@@ To@@ Vds@@ m@@ M@@ er@@ ge@@ Snapshots@@ Info@@ ()); }
public org.ovirt.engine.ui.common.widget.@@ p@@ an@@ el.@@ Al@@ er@@ t@@ Pan@@ e@@ l sh@@ ow@@ Al@@ er@@ t@@ (@@ final org.ovirt.engine.ui.common.widget.@@ p@@ an@@ el.@@ Al@@ er@@ t@@ Pan@@ el.@@ Type type@@ , final com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l mess@@ age@@ ) { final org.ovirt.engine.ui.common.widget.@@ p@@ an@@ el.@@ Al@@ er@@ t@@ Pan@@ e@@ l al@@ er@@ t@@ Pan@@ e@@ l = create@@ Al@@ er@@ t@@ (@@ type@@ , mess@@ age@@ ); com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er.@@ Schedul@@ ed@@ C@@ ommand c@@ ommand = new com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er.@@ Schedul@@ ed@@ Command() { @java.lang.Override public void execute@@ () { attach@@ Al@@ er@@ t@@ (@@ al@@ er@@ t@@ Panel@@ ); } }; if (c@@ an@@ Sh@@ ow@@ Al@@ er@@ t@@ s) { command@@ .@@ execute@@ (); } else { de@@ fer@@ red@@ Al@@ er@@ t@@ Command@@ s.@@ add@@ (command@@ ); } return al@@ er@@ t@@ Panel@@ ; }
public static void Update@@ H@@ ard@@ w@@ are@@ System@@ I@@ n@@ for@@ m@@ ation@@ (java.util.@@ Map h@@ w@@ Info@@ , org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { vd@@ s.set@@ H@@ ard@@ w@@ are@@ Man@@ u@@ fac@@ t@@ ur@@ er@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ As@@ s@@ ign@@ String@@ Value(@@ h@@ w@@ Info@@ , VdsProperties.@@ h@@ w@@ Man@@ u@@ fac@@ t@@ ur@@ er@@ )); vd@@ s.set@@ H@@ ard@@ w@@ are@@ Pro@@ d@@ uc@@ t@@ Name(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ As@@ s@@ ign@@ String@@ Value(@@ h@@ w@@ Info@@ , VdsProperties.@@ h@@ w@@ Pro@@ d@@ uc@@ t@@ Name@@ )); vd@@ s.set@@ H@@ ard@@ w@@ are@@ Version@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ As@@ s@@ ign@@ String@@ Value(@@ h@@ w@@ Info@@ , VdsProperties.@@ h@@ w@@ Version@@ )); vd@@ s.set@@ H@@ ard@@ w@@ are@@ Ser@@ ial@@ Num@@ ber@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ As@@ s@@ ign@@ String@@ Value(@@ h@@ w@@ Info@@ , VdsProperties.@@ h@@ w@@ Ser@@ ial@@ Num@@ ber@@ )); vd@@ s.set@@ H@@ ard@@ w@@ are@@ UUID@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ As@@ s@@ ign@@ String@@ Value(@@ h@@ w@@ Info@@ , VdsProperties.@@ h@@ w@@ UUID@@ )); vd@@ s.set@@ H@@ ard@@ w@@ are@@ F@@ am@@ il@@ y@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ As@@ s@@ ign@@ String@@ Value(@@ h@@ w@@ Info@@ , VdsProperties.@@ h@@ w@@ F@@ am@@ il@@ y@@ )); }
public void set@@ Items(@@ java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ System@@ T@@ ree@@ Item@@ Model@@ > value@@ ) { if ((@@ item@@ s) != value@@ ) { item@@ s@@ Ch@@ an@@ gin@@ g@@ (@@ value@@ , item@@ s); item@@ s = value@@ ; item@@ s@@ Changed@@ (); get@@ Item@@ s@@ Changed@@ Event@@ ().@@ r@@ a@@ is@@ e@@ (@@ this@@ , EventArg@@ s.@@ EM@@ P@@ TY@@ ); on@@ PropertyChanged@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ ("@@ Item@@ s@@ ")); } }
protected boolean validate@@ Parameters@@ () { if ((get@@ VdsGroup@@ ()) == null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ IN@@ VALID@@ _C@@ LUSTER_@@ F@@ OR@@ _@@ A@@ F@@ F@@ IN@@ I@@ TY@@ _@@ G@@ RO@@ UP@@ ); } if ((get@@ Parameters().get@@ Af@@ finity@@ Group@@ ().getEntity@@ Id@@ s()) != null@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Stati@@ c = null@@ ; java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> vm@@ Se@@ t = new java.util.Hash@@ Set<@@ >(); for (org.ovirt.engine.core.compat.Guid vm@@ Id : get@@ Parameters().get@@ Af@@ finity@@ Group@@ ().getEntity@@ Id@@ s()) { vm@@ Stati@@ c = get@@ Vm@@ Static@@ DAO@@ ().get@@ (vm@@ Id); if (vm@@ Stati@@ c == null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ IN@@ VALID@@ _@@ VM_@@ F@@ OR@@ _@@ A@@ F@@ F@@ IN@@ I@@ TY@@ _@@ G@@ RO@@ UP@@ ); } if (!(@@ java.util.@@ Object@@ s.@@ equals@@ (vm@@ Static@@ .get@@ VdsGroup@@ Id(), get@@ VdsGroup@@ Id@@ ()))) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ VM_@@ NOT_@@ IN_@@ A@@ F@@ IN@@ I@@ TY@@ _@@ G@@ RO@@ UP@@ _C@@ LUST@@ ER@@ ); } if (vm@@ Set@@ .@@ contains(@@ vm@@ Static@@ .getId@@ ())) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ D@@ UP@@ L@@ IC@@ T@@ E_@@ VM_@@ IN_@@ A@@ F@@ F@@ IN@@ I@@ TY@@ _@@ G@@ RO@@ UP@@ ); } else { vm@@ Set@@ .@@ add@@ (vm@@ Static@@ .getId()); } } } return has@@ Af@@ finity@@ Coll@@ is@@ ion@@ s@@ (get@@ Parameters@@ ()); }
public boolean is@@ In@@ c@@ lu@@ de@@ Se@@ ver@@ Hook@@ s() { return in@@ c@@ lu@@ de@@ Se@@ ver@@ Hook@@ s@@ ; }
private org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface create@@ VdsNetwork@@ Interfac@@ e(@@ java.lang.String name@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface vds@@ Network@@ Interface = new org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ (); vds@@ Network@@ Interfac@@ e.set@@ Name(@@ name@@ ); return vds@@ Network@@ Interface@@ ; }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = 1@@ ; result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@
@org.junit.Test public void sub@@ net@@ Changed@@ () { org.ovirt.engine.core.common.businessentities.@@ n@@ etwork ne@@ t = create@@ Network@@ ("@@ net@@ "); mock@@ Existing@@ Network@@ s(@@ net@@ ); org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface n@@ ic = create@@ Nic@@ ("@@ nic@@ 0@@ ", net@@ .get@@ Name()); nic@@ .set@@ Boot@@ Protocol@@ (@@ Network@@ Boot@@ Protoc@@ ol.@@ Static@@ Ip@@ ); nic@@ .set@@ Sub@@ net@@ (@@ org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instance@@ ().@@ ne@@ xt@@ String@@ (@@ 1@@ 0@@ )); mock@@ Existing@@ I@@ fac@@ es(@@ nic@@ ); nic@@ .set@@ Sub@@ net@@ (@@ org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instance@@ ().@@ ne@@ xt@@ String@@ (@@ 1@@ 0@@ )); validate@@ And@@ As@@ sert@@ Network@@ M@@ o@@ d@@ if@@ i@@ ed(@@ net@@ , nic@@ ); }
@org.junit.Test public void test@@ All@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ Cl@@ on@@ ed@@ Disks@@ Fail@@ () { java.util.List<@@ org.ovirt.engine.core.compat.Guid> sd@@ Id@@ s = java.util.Arrays.as@@ List@@ (s@@ d@@ Id@@ 1, sd@@ Id@@ 2@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s@@ List = gener@@ ate@@ Disks@@ List@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Multiple@@ StorageDomain@@ s@@ Validator@@ Test.@@ N@@ U@@ M@@ _@@ DIS@@ K@@ S@@ , sd@@ Id@@ s); org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator = mock@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ StorageDomain@@ Validator@@ .@@ class@@ ); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AC@@ E_@@ LO@@ W@@ _@@ ON_@@ STORAGE_@@ DOMA@@ IN@@ )).@@ when(@@ storageDomain@@ Validator@@ ).@@ has@@ Sp@@ ace@@ For@@ Cl@@ on@@ ed@@ Disk@@ s(@@ any@@ List@@ ()); do@@ Return(@@ storageDomain@@ Validator@@ ).@@ when(@@ valid@@ ator@@ ).get@@ StorageDomain@@ Validator@@ (@@ any@@ (java.util.@@ Map.@@ E@@ n@@ try@@ .@@ class@@ )); org.ovirt.engine.core.bll.ValidationResult result = validator.@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ Cl@@ on@@ ed@@ Disk@@ s(@@ disk@@ s@@ List@@ ); assert@@ F@@ als@@ e(@@ result.@@ is@@ Valid@@ ()); assert@@ Equals@@ ("@@ W@@ ron@@ g valid@@ ation error@@ ", EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AC@@ E_@@ LO@@ W@@ _@@ ON_@@ STORAGE_@@ DOMA@@ IN@@ , result.get@@ Message@@ ()); }
public abstract java.util.List<java.lang.String> res@@ ol@@ ve@@ Message@@ ();
protected org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator create@@ Disk@@ Validator@@ () { return new org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ()); }
public void set@@ Is@@ Display@@ Tab@@ Valid@@ (@@ boolean value@@ ) { this@@ .@@ valu@@ e = value@@ ; }
protected org.@@ c@@ ode@@ h@@ au@@ s.@@ j@@ ack@@ son@@ .@@ n@@ od@@ e.@@ Object@@ Nod@@ e get@@ User@@ Info@@ Object@@ (org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Us@@ er log@@ ged@@ In@@ User@@ , java.lang.String engin@@ e@@ Session@@ Id, java.lang.String ss@@ o@@ To@@ k@@ en@@ ) { org.@@ c@@ ode@@ h@@ au@@ s.@@ j@@ ack@@ son@@ .@@ n@@ od@@ e.@@ Object@@ Nod@@ e ob@@ j = create@@ Object@@ Node@@ (); obj@@ .@@ put@@ ("@@ id@@ ", log@@ ged@@ In@@ User@@ .getId@@ ().@@ toString()); obj@@ .@@ put@@ ("@@ user@@ Name@@ ", log@@ ged@@ In@@ User@@ .get@@ Lo@@ gin@@ Name()); obj@@ .@@ put(@@ "@@ do@@ m@@ ain@@ ", log@@ ged@@ In@@ User@@ .get@@ Domain@@ ()); obj@@ .@@ put@@ ("@@ engin@@ e@@ Session@@ Id@@ ", engin@@ e@@ Session@@ Id); obj@@ .@@ put@@ ("@@ ss@@ o@@ To@@ k@@ en@@ ", ss@@ o@@ To@@ k@@ en@@ ); return obj@@ ; }
@java.lang.Override protected void Execu@@ te@@ Vds@@ Broker@@ Command() { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Snapshot@@ VDS@@ Command.@@ Pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); }
@java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { this@@ .get@@ Model().get@@ SelectedItem@@ s().@@ remove@@ (s@@ elected@@ Label@@ ); this@@ .@@ re@@ fresh@@ Item@@ s(); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c gluster@@ Hook@@ En@@ able(@@ java.lang.String gluster@@ Command@@ , java.lang.String st@@ age@@ , java.lang.String h@@ ook@@ Name@@ ) { try { java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ ReturnValue = vds@@ Ser@@ ver.@@ gluster@@ Hook@@ En@@ able(@@ gluster@@ Command@@ , st@@ age@@ , h@@ ook@@ Name); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c wr@@ app@@ er = new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ x@@ mlR@@ pc@@ ReturnValue@@ ); return w@@ rap@@ per@@ ; } catch (java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Un@@ de@@ cl@@ ared@@ Th@@ row@@ able@@ Exception u@@ te@@ ) { throw new org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Run@@ Time@@ Exception@@ (@@ u@@ te@@ ); } }
public void re@@ fresh@@ C@@ d@@ Images@@ () { update@@ C@@ d@@ Image@@ (); }
@org.junit.Test public void network@@ To@@ Sync@@ M@@ oved@@ To@@ An@@ oth@@ er@@ Nic@@ () { org.ovirt.engine.core.common.businessentities.@@ Network ne@@ t = create@@ Network@@ ("@@ net@@ "); org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface nic@@ 1 = create@@ Nic@@ S@@ yn@@ ce@@ d@@ With@@ Network@@ ("@@ nic@@ 0@@ ", net@@ ); nic@@ 1@@ .set@@ B@@ rid@@ ged@@ ((!@@ (@@ net@@ .is@@ VmNetwork@@ ()))); org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface nic@@ 2 = create@@ Nic@@ ("@@ nic@@ 1@@ ", null@@ ); mock@@ Existing@@ Network@@ s(@@ net@@ ); mock@@ Existing@@ I@@ fac@@ es(@@ nic@@ 1, nic@@ 2@@ ); nic@@ 2@@ .set@@ Network@@ Name(@@ nic@@ 1@@ .get@@ Network@@ Name()); nic@@ 1@@ .set@@ Network@@ Name@@ (@@ null@@ ); org.ovirt.engine.core.bll.@@ SetupNetworks@@ Help@@ er h@@ el@@ p@@ er = create@@ Helper@@ (c@@ reate@@ Parameters@@ For@@ Sync@@ (@@ nic@@ 2@@ .get@@ Network@@ Name(), nic@@ 1, nic@@ 2@@ )); validate@@ And@@ As@@ sert@@ Network@@ M@@ o@@ d@@ if@@ i@@ ed(@@ h@@ el@@ per@@ , net@@ ); }
@org.junit.Test public void test@@ Vms@@ With@@ Iso@@ Attached@@ () { set@@ up@@ (); mock@@ Domain@@ (); do@@ Return@@ (@@ do@@ m@@ ain@@ ).when@@ (cmd@@ ).get@@ StorageDomain@@ (); do@@ Return@@ (vm@@ Static@@ Dao@@ ).when@@ (cmd@@ ).get@@ Vm@@ Static@@ Dao@@ (); do@@ Return@@ (vm@@ Dynamic@@ Dao@@ ).when@@ (cmd@@ ).get@@ Vm@@ Dynamic@@ Dao@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Stati@@ c = new org.ovirt.engine.core.common.businessentities.Vm@@ Static@@ (); vm@@ Static@@ .set@@ Name@@ ("@@ Test@@ VM@@ "); vm@@ Static@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); do@@ Return(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (vm@@ Static@@ )).@@ when@@ (cmd@@ ).get@@ Vms@@ With@@ Attached@@ IS@@ O@@ (); assert@@ F@@ als@@ e(@@ cmd@@ .is@@ Run@@ ning@@ Vms@@ With@@ Iso@@ Attached@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ Validation@@ Messages@@ ().@@ contains(@@ EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ DE@@ AC@@ TI@@ V@@ AT@@ E_@@ STORAGE_@@ DOMA@@ IN_@@ W@@ I@@ TH@@ _@@ IS@@ O@@ _@@ AT@@ T@@ AC@@ H@@ ED@@ .@@ toString@@ ())); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { if ((@@ objec@@ t.get@@ Version@@ ().getSelectedItem@@ ()) != null@@ ) { java.lang.String cluster@@ Version = objec@@ t.get@@ Version@@ ().getSelectedItem@@ ().get@@ Value@@ (); ser@@ ial@@ Num@@ ber@@ Policy@@ Editor@@ .set@@ Visi@@ bl@@ e(@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance@@ ().is@@ Ser@@ ial@@ Num@@ ber@@ Policy@@ Supported@@ (cluster@@ Version@@ )); } }
protected org.ovirt.engine.core.compat.Guid get@@ StoragePool@@ Id@@ () { return org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ gist@@ er@@ ed@@ Disks@@ Query.get@@ DbFacade@@ ().get@@ StoragePool@@ Dao().get@@ AllFor@@ StorageDomain@@ (get@@ StorageDomain@@ Id@@ ())@@ .get(@@ 0@@ ).get@@ Id@@ (); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ > get@@ Brick@@ s(@@ org.ovirt.engine.core.compat.Guid volume@@ Id) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ > brick@@ s = new java.util.ArrayList<>(); org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity brick@@ 1 = new org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ (); brick@@ 1@@ .set@@ Volume@@ Id(@@ volume@@ Id); brick@@ 1@@ .set@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ UUID@@ 1@@ ); brick@@ 1@@ .set@@ Brick@@ Direct@@ ory@@ ("@@ /@@ t@@ m@@ p@@ /@@ test@@ -@@ v@@ ol@@ 0@@ "); brick@@ 1@@ .set@@ Server@@ Id(@@ S@@ ER@@ V@@ ER_@@ ID@@ ); brick@@ 1@@ .set@@ Status(@@ Gluster@@ Status.@@ UP@@ ); brick@@ s.add(@@ brick@@ 1@@ ); org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity brick@@ 2 = new org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ (); brick@@ 2@@ .set@@ Volume@@ Id(@@ volume@@ Id); brick@@ 2@@ .set@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ UUID@@ 1@@ ); brick@@ 2@@ .set@@ Brick@@ Direct@@ ory@@ ("@@ /@@ t@@ m@@ p@@ /@@ test@@ -@@ v@@ ol@@ 1@@ "); brick@@ 2@@ .set@@ Server@@ Id(@@ S@@ ER@@ V@@ ER_@@ ID@@ ); brick@@ 2@@ .set@@ Status(@@ Gluster@@ Status.@@ UP@@ ); brick@@ s.add(@@ brick@@ 2@@ ); return brick@@ s@@ ; }
@@@ javax.ws.rs.@@ P@@ O@@ S@@ T @@@ org.@@ j@@ b@@ os@@ s.@@ res@@ te@@ as@@ y@@ .@@ an@@ not@@ ation@@ s.@@ provider@@ s.@@ j@@ a@@ x@@ b@@ .@@ Format@@ te@@ d @@@ javax.ws.rs.@@ Cons@@ um@@ es(@@ { M@@ ed@@ i@@ a@@ Type.@@ A@@ P@@ L@@ IC@@ A@@ TION_@@ X@@ M@@ L@@ , M@@ ed@@ i@@ a@@ Type.@@ A@@ P@@ P@@ L@@ IC@@ A@@ TION_@@ J@@ S@@ ON@@ , M@@ ed@@ i@@ a@@ Type.@@ A@@ P@@ P@@ P@@ L@@ IC@@ A@@ TION_@@ X@@ _@@ Y@@ A@@ M@@ L }@@ ) @@@ org.ovirt.engine.api.model.@@ Action@@ able @@@ javax.ws.rs.@@ Path@@ ("@@ ac@@ tivate@@ ") public javax.ws.rs.@@ core.@@ Respon@@ se ac@@ tivate@@ (org.ovirt.engine.api.model.@@ Ac@@ tion action@@ );
public void on@@ Storage@@ Model@@ Update@@ d@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ I@@ Storage@@ Model model@@ ) { get@@ Model@@ ().@@ update@@ d@@ Storage@@ Model@@ s.add(@@ model@@ ); if ((get@@ Model@@ ().@@ update@@ d@@ Storage@@ Model@@ s.@@ size()) == (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ I@@ Storage@@ Model@@ >@@ c@@ ast@@ (get@@ Model().get@@ Item@@ s@@ ()).@@ size@@ ())) { get@@ Model@@ ().@@ update@@ d@@ Storage@@ Model@@ s.@@ cl@@ e@@ ar@@ (); getModel().get@@ Host@@ ().set@@ Item@@ s@@ (@@ new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >@@ ()); getModel().get@@ Host@@ ().set@@ SelectedItem@@ (@@ null@@ ); set@@ Storage@@ Item@@ s(); if ((get@@ Model().get@@ C@@ urrent@@ Item@@ ()) != null@@ ) { get@@ Model@@ ().@@ update@@ Format@@ (); } } }
private org.ovirt.engine.core.bll.ValidationResult re@@ port@@ M@@ tu@@ D@@ if@@ fer@@ enc@@ es(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > if@@ ace@@ Network@@ s) { java.util.List<java.lang.String> m@@ tu@@ D@@ if@@ f@@ Network@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.network.@@ Network ne@@ t : if@@ ace@@ Network@@ s) { m@@ tu@@ D@@ if@@ f@@ Network@@ s.add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s(@@ %@@ s@@ )@@ ", net@@ .get@@ Name(), ((@@ net@@ .get@@ M@@ tu@@ ()) == 0 ? "@@ default@@ " : java.lang.String.@@ value@@ Of@@ (@@ net@@ .get@@ M@@ tu@@ ())@@ ))); } java.lang.String re@@ pl@@ acement@@ s = java.lang.String@@ .@@ for@@ mat@@ ("@@ [@@ %@@ s@@ ]@@ ", c@@ omm@@ a@@ Se@@ par@@ ated@@ (m@@ tu@@ D@@ if@@ f@@ Networks@@ )); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ NETWORK_@@ M@@ T@@ U@@ _@@ D@@ I@@ F@@ ER@@ EN@@ C@@ ES@@ , re@@ pl@@ acement@@ s); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > get@@ C@@ lust@@ ers@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ (org.ovirt.engine.core.compat.Guid user@@ Id, org.ovirt.engine.core.common.businessentities.@@ Action@@ Group action@@ Group@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ user@@ _id", user@@ Id@@ ).@@ addValue("@@ action@@ _@@ group@@ _id", action@@ Group@@ .getId()); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ f@@ n@@ _@@ per@@ m@@ s@@ _@@ get@@ _@@ vds@@ _@@ group@@ s@@ _@@ with@@ _@@ per@@ m@@ it@@ ted@@ _@@ action@@ ", org.ovirt.engine.core.dao.@@ VdsGroup@@ Dao@@ Impl.@@ VdsGroup@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
private boolean network@@ Not@@ Attached@@ To@@ Cluster@@ () { if (network@@ Exist@@ s()) { return failCanDoAction@@ (EngineMessage.@@ NETWORK_@@ AL@@ RE@@ AD@@ Y_@@ AT@@ T@@ AC@@ H@@ ED_@@ TO@@ _C@@ LUST@@ ER@@ ); } return true@@ ; }
void save@@ (org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group group@@ );
@org.junit.Test public void validate@@ Fail@@ s@@ For@@ D@@ if@@ fer@@ ent@@ Storage@@ Device@@ () { org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Device storage@@ Device@@ 1 = get@@ Storage@@ Device@@ ("@@ sd@@ a@@ "); org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Device storage@@ Device@@ 2 = get@@ Storage@@ Device@@ ("@@ s@@ db@@ "); storage@@ Device@@ 2@@ .set@@ De@@ v@@ Type@@ ("@@ S@@ DA@@ "); do@@ Return@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.@@ Create@@ Brick@@ Parameters(@@ HOST@@ _@@ ID@@ , "@@ brick@@ 1@@ ", "@@ /@@ gluster@@ -@@ brick@@ s@@ /@@ brick@@ 1@@ ", org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type.@@ R@@ A@@ ID@@ 0@@ , null@@ , java.util.Arrays.as@@ List(@@ storage@@ Device@@ 1, storage@@ Device@@ 2@@ ), org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type.@@ s@@ db@@ , org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ M@@ ode@@ Type.@@ wr@@ it@@ eth@@ rou@@ g@@ h@@ , "@@ 1@@ 0@@ "@@ )).@@ when@@ (cmd@@ ).get@@ Parameters@@ (); pre@@ par@@ e@@ Mock@@ s(@@ VDS@@ Status.@@ Up@@ ); assert@@ F@@ als@@ e(@@ cmd@@ .@@ validate@@ ()); }
@org.junit.Test public void test@@ Query@@ Fail@@ s@@ If@@ W@@ ron@@ g@@ Password@@ () { mock@@ Query@@ Parameters@@ (org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ Gluster@@ Server@@ s@@ For@@ Import@@ Query@@ Test.@@ N@@ E@@ W@@ _S@@ ER@@ V@@ ER@@ , org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ Gluster@@ Server@@ s@@ For@@ Import@@ Query@@ Test.@@ W@@ R@@ ON@@ G@@ _P@@ A@@ SS@@ WOR@@ D@@ ); try { get@@ Query@@ ().execute@@ Query@@ Command@@ (); fail@@ ("@@ Query d@@ id@@ n@@ '@@ t fa@@ i@@ l wh@@ e@@ n w@@ ron@@ g p@@ asswor@@ d w@@ a@@ s p@@ ass@@ ed@@ !@@ "); } catch (java.lang.@@ Run@@ time@@ Exception e) { assert@@ Equals@@ (EngineMessage.@@ SS@@ H@@ _@@ A@@ U@@ TH@@ EN@@ TI@@ C@@ A@@ TION_@@ FAIL@@ ED@@ .@@ toString@@ (), e.get@@ Message@@ ()); } }
private java.lang.String mess@@ age@@ Format@@ ter@@ (java.lang.String m@@ s@@ g@@ , java.lang.String vm@@ id@@ , java.lang.String m@@ od@@ ul@@ e@@ , java.lang.String call@@ Type@@ ) { org.@@ c@@ ode@@ h@@ au@@ s.@@ j@@ ack@@ son@@ .@@ n@@ od@@ e.@@ Object@@ Nod@@ e vm@@ Detail@@ Nod@@ e = new org.@@ c@@ ode@@ h@@ au@@ s.@@ j@@ ack@@ son@@ .m@@ ap@@ .@@ Object@@ Map@@ per@@ ().@@ create@@ Object@@ Node@@ (); vm@@ Detail@@ Nod@@ e.@@ put@@ ("@@ status@@ ", m@@ s@@ g@@ ); vm@@ Detail@@ Nod@@ e.@@ put@@ ("@@ hash@@ ", java.lang.Integ@@ er.@@ toString@@ (vm@@ id@@ .@@ hash@@ Code@@ ())); org.@@ c@@ ode@@ h@@ au@@ s.@@ j@@ ack@@ son@@ .@@ n@@ od@@ e.@@ Object@@ Nod@@ e param@@ s@@ Nod@@ e = new org.@@ c@@ ode@@ h@@ au@@ s.@@ j@@ ack@@ son@@ .m@@ ap@@ .@@ Object@@ Map@@ per@@ ().@@ create@@ Object@@ Node@@ (); param@@ s@@ Nod@@ e.@@ put@@ (vm@@ id@@ .@@ toString@@ (), vm@@ Detail@@ Node@@ ); org.@@ c@@ ode@@ h@@ au@@ s.@@ j@@ ack@@ son@@ .@@ n@@ od@@ e.@@ Object@@ Nod@@ e n@@ od@@ e = new org.@@ c@@ ode@@ h@@ au@@ s.@@ j@@ ack@@ son@@ .m@@ ap@@ .@@ Object@@ Map@@ per@@ ().@@ create@@ Object@@ Node@@ (); n@@ od@@ e.@@ put@@ ("@@ param@@ s", param@@ s@@ Node@@ ); n@@ od@@ e.@@ put@@ ("@@ jsonrpc@@ ", "@@ 2@@ .@@ 0@@ "); n@@ od@@ e.@@ put@@ ("@@ m@@ ethod@@ ", ((((@@ ("@@ |@@ " + m@@ od@@ ul@@ e) + "@@ |@@ ") + call@@ Type@@ ) + "@@ |@@ ") + vm@@ id@@ )); return n@@ od@@ e.@@ toString@@ (); }
public org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.Boolean@@ > get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ () { return p@@ h@@ y@@ s@@ ical@@ Network@@ ; }
public org.ovirt.engine.core.common.action.@@ P@@ ers@@ ist@@ ent@@ SetupNetworks@@ Parameters build@@ Parameters(@@ org.ovirt.engine.core.compat.Guid host@@ Id, java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > network@@ sTo@@ Remove@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > nic@@ s) { org.ovirt.engine.core.common.action.@@ P@@ ers@@ ist@@ ent@@ SetupNetworks@@ Parameters parameter@@ s = create@@ SetupNetworks@@ Parameters(@@ host@@ Id); for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface n@@ ic : nic@@ s) { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface nic@@ To@@ Configur@@ e = get@@ Nic@@ To@@ Configur@@ e(@@ parameters@@ .get@@ Interfaces@@ (), nic@@ .getId()); if (@@ nic@@ To@@ Configur@@ e == null@@ ) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ L@@ AB@@ E@@ L@@ ED_@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); } java.util.@@ Set<@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ > nic@@ sTo@@ Rem@@ ov@@ e = get@@ Nic@@ sTo@@ Remove@@ (@@ parameters@@ .get@@ Interfaces@@ (), network@@ sTo@@ Remove@@ , nic@@ To@@ Configur@@ e); parameters@@ .get@@ Interfaces@@ ().@@ remove@@ All@@ (@@ nic@@ sTo@@ Remove@@ ); } parameters.set@@ Network@@ Nam@@ es(@@ org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (org.ovirt.engine.core.common.businessentities.@@ Enti@@ ties.@@ object@@ Nam@@ es(@@ network@@ sTo@@ Remove@@ ), ", ")); return parameters@@ ; }
private void update@@ Ad@@ min@@ Status@@ (org.ovirt.engine.core.common.businessentities.@@ per@@ mission@@ s per@@ m@@ ) { org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ e ro@@ l@@ e = org.ovirt.engine.core.bll.@@ Add@@ Permission@@ Command.get@@ Role@@ Dao().get@@ (@@ per@@ m@@ .get@@ ro@@ le@@ _id@@ ()); if ((@@ ro@@ l@@ e.get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Role@@ Type.@@ AD@@ M@@ IN@@ )) { org.ovirt.engine.core.bll.@@ Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ set@@ Is@@ Ad@@ min@@ G@@ U@@ I@@ F@@ l@@ ag@@ (@@ per@@ m@@ .get@@ ad@@ _@@ el@@ ement@@ _id@@ (), true@@ ); } }
org.ovirt.engine.core.bll.ValidationResult validate@@ Custom@@ Properties@@ (org.ovirt.engine.core.common.@@ utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .S@@ im@@ ple@@ Custom@@ Properties@@ Uti@@ l uti@@ l@@ , java.util.Map<java.lang.String, java.lang.String> valid@@ Properties@@ For@@ Vm@@ , java.util.Map<java.lang.String, java.lang.String> valid@@ Properties@@ For@@ Non@@ Vm@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent attach@@ m@@ ent : param@@ s.get@@ NetworkAttachment@@ s()) { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = existing@@ Network@@ R@@ el@@ ated@@ To@@ Attachment@@ (@@ attach@@ ment@@ ); if (@@ attach@@ m@@ ent.@@ has@@ Properties@@ ()) { if (!(@@ network@@ Custom@@ Properties@@ Supported@@ )) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ NETWORK_@@ C@@ U@@ ST@@ O@@ M@@ _P@@ RO@@ P@@ ER@@ TI@@ E@@ S_NOT_@@ SUP@@ PORT@@ ED@@ , org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Host@@ SetupNetworks@@ Validator.@@ VAR@@ _@@ ACTION_TYPE_FAILED_@@ NETWORK_@@ C@@ U@@ ST@@ O@@ M@@ _P@@ RO@@ P@@ ER@@ TI@@ E@@ S_NOT_@@ SUP@@ PORT@@ ED_@@ L@@ IST@@ , network@@ .getName@@ ())); } java.util.List<@@ org.ovirt.engine.core.common.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Validation@@ Error@@ > error@@ s = util.@@ validate@@ Properties@@ ((@@ network.@@ is@@ VmNetwork@@ () ? valid@@ Properties@@ For@@ V@@ m : valid@@ Properties@@ For@@ Non@@ Vm@@ ), attach@@ m@@ ent.get@@ Properties@@ ()); if (!(@@ errors.@@ isEmpty@@ ())) { h@@ andle@@ Custom@@ Properties@@ Error@@ (@@ uti@@ l@@ , error@@ s); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ NETWORK_@@ C@@ U@@ ST@@ O@@ M@@ _P@@ RO@@ P@@ ER@@ TI@@ E@@ S_@@ B@@ AD@@ _@@ IN@@ P@@ U@@ T@@ , org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Host@@ SetupNetworks@@ Validator.@@ VAR@@ _@@ ACTION_TYPE_FAILED_@@ NETWORK_@@ C@@ U@@ ST@@ O@@ M@@ _P@@ RO@@ P@@ ER@@ TI@@ E@@ S_@@ B@@ AD@@ _@@ IN@@ P@@ U@@ T_@@ L@@ IST@@ , network@@ .getName@@ ())); } } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
private org.ovirt.engine.core.bll.ValidationResult validate@@ Network@@ Ex@@ cl@@ us@@ ive@@ On@@ Nic@@ s(@@ java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > attach@@ ment@@ sTo@@ Configur@@ e) { return new org.ovirt.engine.core.bll.validator.@@ NetworkAttachment@@ s@@ Validator@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e@@ , network@@ B@@ usiness@@ Entity@@ Map@@ , network@@ Ex@@ cl@@ us@@ i@@ v@@ en@@ ess@@ Validator@@ ).@@ validate@@ Network@@ Ex@@ cl@@ us@@ ive@@ On@@ Nic@@ s(); }
public static void Init@@ () { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ m@@ Update@@ Vms@@ Stati@@ c = new org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er@@ (org.ovirt.engine.core.bll.@@ Vm@@ Handler@@ .@@ class@@ , java.util.Arrays.as@@ List@@ (@@ new java.lang.String@@ []{ "@@ VM@@ ", "@@ Vm@@ Static@@ ", "@@ Vm@@ Dynamic@@ " }@@ ), org.ovirt.engine.core.common.businessentities.@@ VM@@ Status@@ .@@ class@@ ); org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ m@@ Update@@ Vms@@ Static@@ .@@ Add@@ Per@@ m@@ it@@ ted@@ Fiel@@ ds@@ (@@ new java.lang.String@@ []{ "@@ vm@@ _@@ name@@ ", "@@ d@@ escription@@ ", "@@ do@@ m@@ ain@@ ", "@@ os@@ ", "@@ os@@ Type@@ ", "@@ c@@ re@@ ation@@ _@@ date@@ ", "@@ num@@ _@@ o@@ f@@ _@@ m@@ onitor@@ s", "@@ al@@ low@@ Console@@ Rec@@ on@@ n@@ ect@@ ", "@@ us@@ b@@ _@@ p@@ olicy@@ ", "@@ is@@ _@@ au@@ to@@ _@@ s@@ us@@ p@@ end@@ ", "@@ au@@ to@@ _@@ st@@ art@@ up@@ ", "@@ ded@@ ic@@ ated@@ _@@ vm@@ _@@ for@@ _@@ vds@@ ", "@@ default@@ _@@ dis@@ play@@ _@@ type@@ ", "@@ pri@@ or@@ ity@@ ", "@@ default@@ _@@ b@@ oot@@ _@@ se@@ qu@@ ence@@ ", "@@ init@@ r@@ d@@ _@@ ur@@ l@@ ", "@@ k@@ er@@ ne@@ l@@ _@@ ur@@ l@@ ", "@@ k@@ er@@ ne@@ l@@ _@@ param@@ s", "@@ m@@ igr@@ ation@@ Sup@@ port@@ ", "@@ min@@ Al@@ loc@@ ated@@ Mem@@ ", "@@ quota@@ Id@@ ", "@@ quota@@ Name@@ ", "@@ quota@@ E@@ n@@ for@@ ce@@ ment@@ Type@@ ", "@@ cpu@@ P@@ in@@ ning@@ ", "@@ vm@@ P@@ ay@@ load@@ ", "@@ b@@ al@@ loon@@ Enabled@@ " }); org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ m@@ Update@@ Vms@@ Static@@ .@@ Add@@ Fiel@@ ds@@ (@@ java.util.Arrays.as@@ List@@ (@@ new java.lang.@@ Enum@@ <?@@ >@@ []{ org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Do@@ w@@ n }@@ ), java.util.Arrays.as@@ List@@ (@@ new java.lang.String@@ []{ "@@ vds@@ _@@ group@@ _id", "@@ time@@ _@@ z@@ one@@ ", "@@ is@@ _@@ st@@ ate@@ l@@ ess@@ ", "@@ n@@ ice@@ _@@ le@@ v@@ el@@ ", "@@ mem@@ _@@ size@@ _@@ m@@ b@@ ", "@@ num@@ _@@ o@@ f@@ _@@ s@@ ock@@ et@@ s", "@@ cpu@@ _@@ per@@ _@@ s@@ ock@@ et@@ ", "@@ is@@ o@@ _@@ p@@ ath@@ ", "@@ user@@ De@@ fin@@ ed@@ Properties@@ ", "@@ pre@@ de@@ fin@@ ed@@ Properties@@ ", "@@ c@@ ustom@@ Properties@@ " }@@ )); org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ m@@ Update@@ Vms@@ Static@@ .@@ Add@@ I@@ g@@ n@@ or@@ ed@@ Fiel@@ ds@@ (@@ java.util.Arrays.as@@ List@@ (@@ new java.lang.String@@ []{ "@@ im@@ ages@@ ", "@@ int@@ er@@ fac@@ es@@ " }@@ )); }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { return java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.storage.@@ For@@ ce@@ Remove@@ StorageDomain@@ Command.getParameters().get@@ StorageDomain@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ STOR@@ AG@@ E, EngineMessage.ACTION_TYPE_FAILED_@@ O@@ B@@ J@@ EC@@ T_@@ LO@@ C@@ K@@ ED@@ )); }
@@@ org.ovirt.engine.ui.common.@@ DefaultStringValue("@@ W@@ h@@ e@@ n the VM is up@@ , on@@ l@@ y n@@ on ID@@ E disk@@ s ar@@ e ac@@ tivate@@ d af@@ te@@ r attach@@ ed@@ .@@ ") java.lang.String ac@@ tivate@@ Vm@@ Disk@@ Popup@@ T@@ ool@@ T@@ ip@@ ();
public static java.util.List<@@ org.ovirt.engine.core.bll.@@ Command@@ Base@@ > fin@@ d@@ Ch@@ ild@@ Command@@ s(@@ org.ovirt.engine.core.compat.Guid command@@ Id) { final java.util.List<@@ org.ovirt.engine.core.compat.Guid> ch@@ ild@@ Command@@ Id@@ s = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Ch@@ ild@@ Command@@ Id@@ s@@ (command@@ Id); final org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > ch@@ ild@@ C@@ ommand = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ ret@@ ri@@ e@@ ve@@ Command(@@ ch@@ ild@@ Command@@ Id); ch@@ ild@@ Command@@ s.add(@@ ch@@ ild@@ Command@@ ); } return ch@@ ild@@ Command@@ s@@ ; }
private org.ovirt.engine.core.bll.ValidationResult network@@ Do@@ es@@ Not@@ Exist@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > network@@ s) { return (get@@ Network@@ By@@ Name(@@ network@@ s@@ )) == null ? org.ovirt.engine.core.bll.ValidationResult.@@ VAL@@ I@@ D : new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ NETWORK_@@ NAM@@ E_@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ S@@ ); }
private java.lang.@@ B@@ oolean has@@ Af@@ finity@@ Coll@@ is@@ ion@@ s(@@ org.ovirt.engine.core.common.@@ scheduling.@@ parameter@@ s.@@ Af@@ finity@@ Group@@ C@@ R@@ U@@ D@@ Parameters parameters@@ ) { java.util.List<@@ org.ovirt.engine.core.common.@@ scheduling.@@ Af@@ finity@@ Group@@ > af@@ finity@@ _@@ group@@ s = get@@ All@@ Af@@ finity@@ Group@@ s(@@ parameters@@ .get@@ Af@@ finity@@ Group@@ ().get@@ Cluster@@ Id()); af@@ finity@@ _@@ group@@ s.add(@@ parameters@@ .get@@ Af@@ finity@@ Group@@ ()); return get@@ U@@ n@@ if@@ i@@ ed@@ Af@@ finity@@ Group@@ s(@@ af@@ finity@@ _@@ group@@ s); }
private org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.Boolean@@ > update@@ Vds@@ Networks@@ In@@ T@@ x@@ (@@ final T b@@ c@@ k@@ n@@ d@@ C@@ md@@ Param@@ s) { return new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.Boolean@@ >() { @java.lang.Override public java.lang.@@ B@@ oolean run@@ In@@ Transaction@@ () { org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Coll@@ ect@@ VdsNetwork@@ Data@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ Id@@ And@@ Vds@@ VDSCommand@@ Parameters@@ Bas@@ e(@@ b@@ c@@ k@@ n@@ d@@ C@@ md@@ Param@@ s.get@@ Vds@@ Id@@ ())); for (org.ovirt.engine.core.common.businessentities.@@ Network ne@@ t : get@@ Networks@@ ()) { org.ovirt.engine.core.bll.@@ Attach@@ Network@@ To@@ VdsGroup@@ Command.@@ Set@@ Network@@ Status@@ (get@@ VdsGroup@@ Id(), net@@ ); } return java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ ; } }; }
@java.lang.Override protected void execute@@ Command() { if (network@@ Exist@@ s()) { org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Attach@@ Network@@ To@@ VdsGroup@@ Command.get@@ Network@@ Cluster@@ DAO@@ ().@@ update@@ (get@@ Network@@ Cluster@@ ()); } else { org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Attach@@ Network@@ To@@ VdsGroup@@ Command.get@@ Network@@ Cluster@@ DAO@@ ().@@ save@@ (@@ new org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Attach@@ Network@@ To@@ VdsGroup@@ Command.get@@ VdsGroup@@ Id(), get@@ Network@@ ().get@@ Id(), org.ovirt.engine.core.common.businessentities.network.Network@@ Status.@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ AL@@ , false@@ , get@@ Network@@ Cluster@@ ().is@@ Requi@@ red@@ (), get@@ Network@@ Cluster@@ ().is@@ Migration@@ ())); } if (get@@ Network@@ ().get@@ Cluster@@ ().is@@ Display@@ ()) { org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Attach@@ Network@@ To@@ VdsGroup@@ Command.get@@ Network@@ Cluster@@ DAO@@ ().set@@ Network@@ Ex@@ cl@@ us@@ i@@ v@@ el@@ y@@ As@@ Display@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Attach@@ Network@@ To@@ VdsGroup@@ Command.get@@ VdsGroup@@ Id(), get@@ Network@@ ().get@@ Id()); } org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Helper.@@ set@@ Status@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Attach@@ Network@@ To@@ VdsGroup@@ Command.get@@ VdsGroup@@ Id(), get@@ Network@@ ()); org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Attach@@ Network@@ To@@ VdsGroup@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
private void ch@@ o@@ os@@ e@@ Host@@ For@@ Execution@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ Vds@@ Id@@ VDSCommand@@ Parameters@@ Base parameters@@ Base@@ , org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > cmd@@ , java.util.Collection@@ <@@ org.ovirt.engine.core.compat.Guid> execu@@ ted@@ Host@@ s) { org.ovirt.engine.core.compat.Guid vds@@ For@@ Ex@@ ec@@ uti@@ on = get@@ Host@@ For@@ Execution@@ (@@ storagePool@@ Id, execu@@ ted@@ Host@@ s); parameters@@ Bas@@ e.set@@ Vds@@ Id(@@ vds@@ For@@ Execution@@ ); if (c@@ m@@ d != null@@ ) { if ((@@ (cmd@@ .get@@ Command@@ Step@@ ()) != null@@ ) && ((@@ cmd@@ .get@@ Execution@@ Context@@ ().get@@ Step@@ ()) != null@@ )) { org.ovirt.engine.core.compat.Guid st@@ ep@@ Id = cmd@@ .get@@ Execution@@ Context@@ ().get@@ Step@@ ().get@@ Id@@ (); if ((@@ cmd@@ .get@@ Parameters().get@@ Vds@@ Run@@ ning@@ On@@ ()) != null@@ ) { st@@ ep@@ Su@@ bject@@ Entity@@ Dao@@ .@@ remove@@ (cmd@@ .get@@ Parameters().get@@ Vds@@ Run@@ ning@@ On@@ (), st@@ ep@@ Id); } if (vds@@ For@@ Ex@@ ec@@ uti@@ on != null@@ ) { st@@ ep@@ Su@@ bject@@ Entity@@ Dao@@ .@@ save@@ All@@ (@@ java.util.Collections.@@ sing@@ leton@@ List@@ (@@ new org.ovirt.engine.core.common.@@ job.@@ Step@@ Su@@ bject@@ Entity(@@ st@@ ep@@ Id, org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ EX@@ EC@@ U@@ TION_@@ HOST@@ , vds@@ For@@ Execution@@ ))); } } cmd@@ .get@@ Parameters@@ ().set@@ Vds@@ Run@@ ning@@ On@@ (vds@@ For@@ Execution@@ ); cmd@@ .@@ p@@ ers@@ ist@@ Command@@ (cmd@@ .get@@ Parameters().get@@ Parent@@ Command@@ (), ((@@ cmd@@ .get@@ Callback@@ ()) != null@@ )); } }
@org.junit.Test public void network@@ Qos@@ Null@@ And@@ Supported@@ () throw@@ s java.lang.Exception { vnic@@ Profile@@ Validation@@ Test@@ (org.ovirt.engine.core.bll.@@ validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ (), true@@ , true@@ , false@@ , true@@ ); }
@org.junit.Test public void test@@ CanDoAction@@ () { do@@ Return@@ (@@ true@@ ).when@@ (cmd@@ ).@@ validate@@ Vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (); vm@@ .set@@ Status(@@ VMStatus.@@ Up@@ ); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ cmd@@ , EngineMessage.@@ VM@@ T_@@ C@@ ANNOT_@@ C@@ RE@@ AT@@ E_@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ F@@ RO@@ M@@ _@@ DO@@ W@@ N@@ _@@ VM@@ ); }
private void add@@ Vms@@ To@@ Pool@@ (org.ovirt.engine.core.compat.Guid pool@@ Id) { int sub@@ se@@ qu@@ ent@@ Fail@@ ed@@ A@@ t@@ temp@@ t@@ s = 0@@ ; for (@@ int i = 0@@ ; i < (org.ovirt.engine.core.bll.@@ C@@ ommon@@ Vm@@ Pool@@ With@@ Vms@@ Command.getParameters().get@@ Vms@@ Count@@ ()); i@@ +@@ +@@ ) { java.lang.String current@@ Vm@@ Name = gener@@ ate@@ Un@@ i@@ q@@ ue@@ Vm@@ Name@@ (); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ run@@ Internal@@ Action(VdcActionType.@@ AddVm@@ And@@ Attach@@ To@@ Pool@@ , build@@ AddVm@@ And@@ Attach@@ To@@ Pool@@ Parameters(@@ pool@@ Id, current@@ Vm@@ Name@@ ), create@@ AddVm@@ Step@@ Context@@ (c@@ urrent@@ Vm@@ Name@@ )); if ((@@ (@@ return@@ Value != null@@ ) && (!@@ (@@ return@@ Value.get@@ Succeeded@@ ()))) && (!@@ (@@ return@@ Value.get@@ CanDoAction@@ Messages@@ ().is@@ Empty@@ ()))) { for (java.lang.String m@@ s@@ g : return@@ Value.get@@ CanDoAction@@ Messages@@ ()) { if (!@@ (org.ovirt.engine.core.bll.@@ C@@ ommon@@ Vm@@ Pool@@ With@@ Vms@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ m@@ s@@ g@@ ))) { org.ovirt.engine.core.bll.@@ C@@ ommon@@ Vm@@ Pool@@ With@@ Vms@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ add(@@ m@@ s@@ g@@ ); } } add@@ Vms@@ Suc@@ cee@@ de@@ d = false@@ ; sub@@ se@@ qu@@ ent@@ Fail@@ ed@@ A@@ t@@ temp@@ t@@ s@@ +@@ +@@ ; } else { sub@@ se@@ qu@@ ent@@ Fail@@ ed@@ A@@ t@@ temp@@ t@@ s = 0@@ ; } if (s@@ ub@@ se@@ qu@@ ent@@ Fail@@ ed@@ A@@ t@@ temp@@ t@@ s == (org.ovirt.engine.core.bll.@@ C@@ ommon@@ Vm@@ Pool@@ With@@ Vms@@ Command.@@ VM_@@ P@@ O@@ OL@@ _@@ MA@@ X@@ _S@@ U@@ B@@ S@@ E@@ Q@@ U@@ EN@@ T_@@ FAIL@@ U@@ RE@@ S@@ )) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , AuditLogType.@@ US@@ ER_@@ VM_@@ P@@ O@@ OL@@ _@@ MA@@ X@@ _S@@ U@@ B@@ S@@ E@@ Q@@ U@@ EN@@ T_@@ FAIL@@ U@@ RE@@ S_@@ RE@@ AC@@ H@@ ED); break@@ ; } } }
@java.lang.Override public void update@@ () { }
protected void update@@ Cpu@@ P@@ in@@ ning@@ Visi@@ bility@@ () { if ((get@@ Model().get@@ Cluster@@ ().getSelectedItem@@ ()) != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster = ((org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ ) (get@@ Model().get@@ Cluster@@ ().getSelectedItem@@ ())); java.lang.String c@@ ompatibility@@ Version = cluster@@ .get@@ c@@ ompatibility@@ _@@ version@@ ().@@ toString@@ (); boolean has@@ Cpu@@ P@@ in@@ n@@ ing = true@@ ; if (@@ java.lang.Boolean@@ .@@ FA@@ L@@ S@@ E@@ .equals(@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Cpu@@ P@@ in@@ ning@@ Enabled@@ , c@@ ompatibilityVersion@@ ))) { has@@ Cpu@@ P@@ in@@ n@@ ing = false@@ ; } else if ((@@ java.lang.Boolean@@ .@@ FA@@ L@@ S@@ E@@ .equals(@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Cpu@@ P@@ in@@ Migration@@ Enabled@@ , "@@ gener@@ al@@ "@@ ))) && (is@@ Vm@@ Migr@@ at@@ able@@ ())) { has@@ Cpu@@ P@@ in@@ n@@ ing = false@@ ; } getModel().get@@ Cpu@@ P@@ in@@ ning@@ ().setIs@@ Avail@@ able(@@ has@@ Cpu@@ P@@ in@@ ning@@ ); if (!@@ has@@ Cpu@@ P@@ in@@ ning@@ ) { getModel().get@@ Cpu@@ P@@ in@@ ning@@ ().set@@ Entity@@ ("@@ "); } } }
@java.lang.Override protected org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue p@@ er@@ for@@ m@@ Image@@ Vds@@ m@@ Operation@@ () { if (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Remove@@ Image@@ Command.get@@ Parameters@@ ().is@@ Sh@@ oul@@ d@@ Lock@@ Image@@ ()) { org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ update@@ All@@ DiskImage@@ Snapshots@@ Status@@ With@@ Comp@@ ens@@ ation@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Remove@@ Image@@ Command.get@@ R@@ el@@ ev@@ an@@ t@@ DiskImage@@ ().get@@ Id(), Image@@ Status.@@ LO@@ C@@ K@@ ED@@ , Image@@ Status.@@ IL@@ LE@@ G@@ AL@@ , org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Remove@@ Image@@ Command.get@@ Comp@@ ens@@ ation@@ Context@@ ()); } return run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Delet@@ e@@ ImageGroup@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ P@@ ost@@ Delet@@ e@@ Action@@ Handler.@@ fi@@ x@@ Parameters@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ Delet@@ e@@ ImageGroup@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Remove@@ Image@@ Command.get@@ DiskImage@@ ().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Remove@@ Image@@ Command.get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Remove@@ Image@@ Command.get@@ DiskImage@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Remove@@ Image@@ Command.get@@ DiskImage@@ ().is@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ (), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Remove@@ Image@@ Command.getParameters().get@@ For@@ ce@@ Delet@@ e@@ ()))); }
@java.lang.Override protected void execute@@ Command() { if (get@@ Disk@@ Images@@ ().is@@ Empty@@ ()) { org.ovirt.engine.core.bll.@@ Se@@ al@@ VmTemplate@@ Command.set@@ Succeeded@@ (@@ true@@ ); return@@ ; } org.ovirt.engine.core.common.vdscommands.@@ Se@@ al@@ Disks@@ VDSCommand@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Se@@ al@@ Disks@@ VDSCommand@@ Parameters@@ (); parameters.set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ Se@@ al@@ VmTemplate@@ Command.getParameters().get@@ VmTemplate@@ Id()); parameters.set@@ Job@@ Id@@ (org.ovirt.engine.core.bll.@@ Se@@ al@@ VmTemplate@@ Command.getParameters().get@@ Host@@ Job@@ Id()); get@@ Disk@@ Images@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( disk@@ Image@@ ) -@@ > parameter@@ s.@@ add@@ Volum@@ e(@@ disk@@ Image.get@@ Storage@@ Id@@ s().get@@ (0@@ ), disk@@ Image.get@@ Id(), disk@@ Image.get@@ Image@@ Id@@ ())); lock@@ Template@@ In@@ Db@@ (); lock@@ Disk@@ Images@@ In@@ Db@@ (); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = org.ovirt.engine.core.bll.storage.@@ utils.@@ Vds@@ Command@@ s@@ Helper.@@ run@@ Vds@@ Command@@ With@@ Fail@@ o@@ ver@@ (@@ VDSCommand@@ Type.@@ Se@@ al@@ Disk@@ s, parameters@@ , get@@ Disk@@ Images@@ ().get@@ (0@@ ).get@@ StoragePool@@ Id(), this@@ ); if (!(@@ vds@@ Return@@ Value.get@@ Succeeded@@ ())) { set@@ Command@@ Status(@@ Command@@ Status.@@ FAIL@@ ED); un@@ lock@@ Disk@@ Images@@ In@@ Db@@ (); un@@ lock@@ Template@@ In@@ Db@@ (); } set@@ Succeeded@@ (vds@@ Return@@ Value.get@@ Succeeded@@ ()); }
protected org.ovirt.engine.core.compat.Guid get@@ StoragePool@@ Id@@ From@@ Vds@@ () { return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Attach@@ StorageDomain@@ To@@ Pool@@ Command.get@@ Vds@@ ().get@@ StoragePool@@ Id@@ (); }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ Value = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Auth@@ z@@ Group@@ sBy@@ User@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Parameters().get@@ Id@@ ())); java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Auth@@ z@@ Group@@ > auth@@ z@@ Group@@ s = return@@ Value.get@@ ReturnValue@@ (); java.util.List<@@ org.ovirt.engine.core.compat.Guid> group@@ s@@ Id@@ s = auth@@ z@@ Group@@ s.@@ stream@@ ().@@ map@@ (@@ ( g@@ ) -@@ > db@@ Group@@ Dao.get@@ By@@ External@@ Id(@@ g.@@ get@@ Auth@@ z@@ (), g.@@ get@@ Id@@ ())@@ ).@@ filter@@ (java.util.@@ Object@@ s@@ :@@ :@@ n@@ on@@ Null@@ )@@ .m@@ ap@@ (@@ ( g@@ ) -@@ > g.@@ get@@ Id@@ ()).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (@@ per@@ mission@@ Dao.get@@ AllFor@@ Ad@@ Element@@ And@@ Group@@ s@@ (org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Parameters().get@@ Id(), group@@ s@@ Id@@ s, org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ())); }
private java.lang.Integ@@ er get@@ Engine@@ Session@@ Time@@ out@@ (java.lang.String s@@ ession@@ Id) { return ((@@ java.lang.Integer@@ ) (@@ run@@ P@@ ubl@@ ic@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Configuration@@ Value@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Configuration@@ Value@@ Parameters@@ (org.ovirt.engine.core.common.@@ queries.@@ Configuration@@ Values.@@ User@@ Session@@ Time@@ Out@@ Inter@@ val@@ , org.ovirt.engine.core.common.@@ config.@@ Config@@ C@@ ommon@@ .@@ default@@ Configuration@@ Version@@ ), s@@ ession@@ Id@@ ))); }
public java.util.List<java.lang.String> get@@ Vms@@ Names@@ () { java.util.List<java.lang.String> vm@@ s@@ Names@@ ; }
private void ve@@ r@@ if@@ y@@ Domain@@ For@@ Memory@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > storageDomain@@ s, org.ovirt.engine.core.common.businessentities.Storage@@ Domain exp@@ ected@@ StorageDomain@@ ) { org.ovirt.engine.core.common.businessentities.Storage@@ Domain storage@@ Domain = memory@@ Storage@@ Handler.@@ fin@@ d@@ StorageDomain@@ For@@ Memory@@ (@@ storageDomain@@ s, disk@@ s@@ List@@ ); assert@@ Equals@@ (@@ exp@@ ected@@ StorageDomain@@ , storageDomain@@ ); }
@org.junit.Test public void network@@ B@@ e@@ long@@ sTo@@ Cluster@@ DataCenter@@ Not@@ Valid@@ () throw@@ s java.lang.Exception { when@@ (cluster@@ .get@@ StoragePool@@ Id@@ ()).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Validator@@ Test@@ Bas@@ e.@@ T@@ E@@ ST@@ _@@ D@@ C@@ _@@ ID@@ 1@@ ); when(@@ network@@ .get@@ DataCenter@@ Id@@ ()).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Validator@@ Test@@ Bas@@ e.@@ T@@ E@@ ST@@ _@@ D@@ C@@ _@@ ID@@ 2@@ ); assert@@ That@@ (@@ validator.@@ network@@ B@@ e@@ long@@ sTo@@ Cluster@@ DataCenter@@ (cluster@@ , network@@ ), b@@ oth@@ (@@ fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NETWORK_@@ F@@ RO@@ M@@ _@@ D@@ I@@ F@@ F@@ ER@@ EN@@ T_@@ D@@ C@@ )).@@ and@@ (@@ re@@ pl@@ acement@@ s@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Validator@@ Test@@ Bas@@ e.@@ has@@ Item@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Validator@@ Test@@ Bas@@ e.@@ NETWORK_@@ NAM@@ E_@@ RE@@ P@@ L@@ AC@@ EM@@ EN@@ T@@ )@@ ))); }
public javax.ws.rs.@@ core.@@ Respon@@ se p@@ er@@ for@@ m@@ Import@@ () { org.ovirt.engine.core.common.businessentities.VM vm = load@@ External@@ Vm@@ (); return p@@ er@@ for@@ m@@ Action(VdcActionType.@@ ImportVm@@ From@@ External@@ Provider@@ , build@@ ImportVm@@ From@@ External@@ Provider@@ Parameters@@ (vm@@ )); }
private java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >> get@@ Storage@@ To@@ Disk@@ Map@@ () { java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >> storage@@ To@@ Disks@@ Map = new java.util.HashMap<@@ org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ DiskImage dis@@ k : get@@ Source@@ Images@@ ()) { org.ovirt.engine.core.utils.@@ Multi@@ Value@@ Map@@ Utils.@@ add@@ To@@ Map@@ (disk@@ .get@@ storage@@ _id@@ s().get@@ (0@@ ), disk@@ , storage@@ To@@ Disks@@ Map@@ ); } return storage@@ To@@ Disks@@ Map@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ U@@ p S@@ iz@@ e of the host@@ s w@@ il@@ l b@@ e is dis@@ k while p@@ ty is@@ : " + "@@ <@@ /@@ x@@ > 6@@ 4@@ ") java.lang.String host@@ Gener@@ al@@ ();
@org.junit.Test public void test@@ Add@@ Supported@@ Cluster@@ Feat@@ ure@@ () { java.util.@@ Set@@ <org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ure@@ > pre@@ vi@@ o@@ us@@ ly@@ Supported@@ Feat@@ ure@@ s = d@@ ao@@ .get@@ Supported@@ Feat@@ ur@@ es@@ By@@ Cluster@@ Id(@@ org.ovirt.engine.core.dao.@@ Cluster@@ Feat@@ ure@@ Dao@@ Test.@@ EX@@ IS@@ TI@@ N@@ G@@ _@@ VDS@@ _@@ G@@ RO@@ UP@@ ); d@@ ao.@@ add@@ Supported@@ Cluster@@ Feat@@ ure(@@ build@@ Supported@@ Feat@@ ure(@@ org.ovirt.engine.core.dao.@@ Cluster@@ Feat@@ ure@@ Dao@@ Test.@@ N@@ E@@ W@@ _S@@ UP@@ PORT@@ ED_@@ F@@ E@@ AT@@ UR@@ E_@@ 1, org.ovirt.engine.core.dao.@@ Cluster@@ Feat@@ ure@@ Dao@@ Test.@@ EX@@ IS@@ TI@@ N@@ G@@ _@@ VDS@@ _@@ G@@ RO@@ UP@@ , true@@ )); java.util.@@ Set@@ <org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ure@@ > sup@@ ported@@ Feat@@ ure@@ s = d@@ ao@@ .get@@ Supported@@ Feat@@ ur@@ es@@ By@@ Cluster@@ Id(@@ org.ovirt.engine.core.dao.@@ Cluster@@ Feat@@ ure@@ Dao@@ Test.@@ EX@@ IS@@ TI@@ N@@ G@@ _@@ VDS@@ _@@ G@@ RO@@ UP@@ ); assert@@ That@@ (s@@ up@@ ported@@ Feat@@ ur@@ es@@ , has@@ Size@@ (((@@ pre@@ vi@@ o@@ us@@ ly@@ Supported@@ Feat@@ ur@@ es.@@ size()) + 1@@ ))); }
private void end@@ Un@@ lock@@ R@@ el@@ ated@@ Operation@@ s() { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ Un@@ Lock@@ Vm@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getVm@@ ().get@@ Id()); org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ Un@@ Lock@@ VmTemplate@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getVm@@ Template@@ Id()); }
private void validate@@ Valu@@ es@@ () { if ((@@ (get@@ Is@@ Group@@ ed@@ ()) && ((get@@ Model().get@@ Selected@@ Cluster@@ ()) != null@@ )) { return@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >) (get@@ Item@@ s@@ ())); for (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster : host@@ s) { host@@ Model.get@@ Cluster@@ ().getSelectedItem@@ ().get@@ Item@@ s().@@ valu@@ es@@ ()) { host@@ Model.get@@ Cluster@@ ().getSelectedItem@@ ().get@@ Item@@ s().@@ add(@@ selected@@ ); } } if ((@@ c@@ lust@@ ers@@ ) != null@@ ) { host@@ s@@ For@@ Host@@ s@@ C@@ luster.@@ set@@ Is@@ Valid@@ (@@ false@@ ); if ((@@ c@@ lust@@ ers@@ ) == null@@ ) { host@@ Model.get@@ Cluster@@ ().getSelectedItem@@ ().get@@ Item@@ s().@@
@@@ org.ovirt.engine.ui.uicompat.@@ Default@@ Message@@ ("@@ L@@ ab@@ e@@ l {0@@ } can@@ not b@@ e attach@@ ed@@ , i@@ t is al@@ read@@ y in us@@ e b@@ y int@@ er@@ fac@@ e {@@ 1@@ }@@ .@@ ") java.lang.String label@@ In@@ Us@@ e(@@ java.lang.String label@@ , java.lang.String if@@ ace@@ Name);
public void set@@ gluster@@ Version@@ (java.lang.String value@@ ) { this@@ .@@ gluster@@ Version@@ ; }
private void s@@ end@@ W@@ arning@@ For@@ Non@@ Export@@ able@@ Disk@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > n@@ on@@ Export@@ able@@ Disk@@ s) { if (!(@@ n@@ on@@ Export@@ able@@ Disk@@ s.@@ isEmpty@@ ())) { final java.lang.String@@ Buil@@ der s = new java.lang.String@@ Builder@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Disk dis@@ k : n@@ on@@ Export@@ able@@ Disk@@ s) { if ((@@ s.@@ l@@ ength@@ ()) > 0) { s.@@ append("@@ , "); } } s.@@ append@@ (disk@@ .get@@ Disk@@ Alias@@ ()); } get@@ Model@@ ().set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ disk@@ s@@ W@@ il@@ l@@ Not@@ Be@@ P@@ art@@ Of@@ Th@@ e@@ Ex@@ ported@@ VM@@ Template@@ (@@ s.@@ toString@@ ())); } }
@java.lang.Override public void on@@ Sel@@ ection@@ Chang@@ e(@@ com.google.gwt.@@ view@@ .client.@@ Sel@@ ection@@ Change@@ Event event@@ ) { org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k selected@@ O@@ bj@@ ect = s@@ el@@ ection@@ Model.get@@ Selected@@ Object@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k@@ > selected@@ Item@@ s = (s@@ elected@@ O@@ bj@@ ect != null@@ ) ? new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k@@ >@@ (@@ java.util.Arrays.as@@ List@@ (s@@ elected@@ Object@@ )) : new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k@@ s@@ >(); this@@ .set@@ SelectedItem@@ s(@@ selected@@ Item@@ s); }
private void on@@ Configur@@ e@@ Vms@@ To@@ Import@@ () { final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Vms@@ Model import@@ Vms@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Vms@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); if (@@ import@@ Vms@@ Model == null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ From@@ Export@@ Domain@@ Model model = import@@ Vms@@ Model.get@@ Sp@@ e@@ c@@ if@@ ic@@ Import@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.get@@ Command@@ s().@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ List@@ Model.@@ C@@ M@@ D_@@ RE@@ STOR@@ E_@@ F@@ RO@@ M@@ _@@ EX@@ POR@@ T_@@ DOMA@@ IN@@ , new org.ovirt.engine.ui.uicommonweb.@@ Base@@ Command@@ T@@ arget@@ () { @java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand ui@@ Command@@ ) { on@@ Res@@ t@@ ore@@ From@@ Export@@ Domain@@ (@@ import@@ Vms@@ Model@@ ); } }@@ )@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ())@@ .set@@ Is@@ Default@@ (@@ true@@ )); model.get@@ Command@@ s().@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ List@@ Model.@@ C@@ M@@ D_@@ B@@ AC@@ K@@ , new org.ovirt.engine.ui.uicommonweb.@@ Base@@ Command@@ T@@ arget@@ () { @java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand ui@@ Command@@ ) { set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); set@@ W@@ in@@ do@@ w@@ (@@ import@@ Vms@@ Model@@ ); } }@@ )@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ back@@ ())); model.get@@ Command@@ s().@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ List@@ Model.@@ C@@ M@@ D@@ _C@@ AN@@ C@@ E@@ L@@ , this@@ )@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ())@@ .set@@ Is@@ Cancel@@ (@@ true@@ )); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ AD@@ D@@ ); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ L@@ AB@@ E@@ L@@ ); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Value@@ (org.ovirt.engine.core.common.@@ utils.@@ Pair@@ Query@@ able@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ , org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ > object@@ ) { java.util.List<@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ > image@@ s = new java.util.@@ Link@@ ed@@ List<@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ >(); if ((@@ objec@@ t.get@@ Sec@@ ond@@ ()) != null@@ ) { if (@@ objec@@ t.get@@ Sec@@ ond@@ ().is@@ Display@@ ()) { im@@ ages.@@ add(@@ dis@@ play@@ Image@@ ); } else { im@@ ages.@@ add(@@ em@@ pty@@ Image@@ ); } if (@@ objec@@ t.get@@ Sec@@ ond@@ ().is@@ Migration@@ ()) { im@@ ages.@@ add(@@ m@@ igr@@ ation@@ Image@@ ); } else { im@@ ages.@@ add(@@ em@@ pty@@ Image@@ ); } if (@@ objec@@ t.get@@ Sec@@ ond@@ ().is@@ Gluster@@ ()) { im@@ ages.@@ add(@@ gluster@@ N@@ w@@ Image@@ ); } } else { im@@ ages.@@ add(@@ em@@ pty@@ Image@@ ); } } return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Network@@ Role@@ Column@@ Helper@@ .get@@ Value(@@ im@@ ages@@ ); }
private void create@@ M@@ en@@ u@@ (@@ final java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Node@@ > num@@ a@@ Node@@ List@@ , int in@@ dex@@ To@@ S@@ k@@ ip@@ ) { m@@ en@@ u@@ B@@ a@@ r = new org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ ar@@ (@@ true@@ ); for (@@ final org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Nod@@ e num@@ a@@ Nod@@ e : num@@ a@@ Node@@ List@@ ) { final int n@@ ode@@ In@@ de@@ x = num@@ a@@ Nod@@ e.get@@ In@@ dex@@ (); m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Item@@ (@@ org.ovirt.engine.ui.common.@@ view@@ .@@ p@@ opup@@ .@@ num@@ a.@@ D@@ r@@ ag@@ g@@ able@@ Vir@@ tu@@ al@@ Numa@@ Pan@@ el.@@ mess@@ ages.@@ num@@ a@@ Node@@ (@@ n@@ ode@@ In@@ dex@@ ), ((@@ com.google.gwt.@@ user.@@ client.@@ Command@@ ) ((@@ ) -@@ > { org.ovirt.engine.ui.common.@@ p@@ res@@ enter.@@ p@@ opup@@ .@@ num@@ a.@@ Update@@ d@@ V@@ num@@ a@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , n@@ ode@@ Model.get@@ Vm().get@@ Id(), true@@ , n@@ ode@@ Model.get@@ In@@ dex@@ (), n@@ ode@@ In@@ dex@@ ); org.ovirt.engine.ui.common.@@ view@@ .@@ p@@ opup@@ .@@ num@@ a.@@ D@@ r@@ ag@@ g@@ able@@ Vir@@ tu@@ al@@ Numa@@ Pan@@ el.@@ m@@ en@@ u@@ Popup@@ .@@ h@@ i@@ de@@ (); }@@ ))); } if (@@ n@@ ode@@ Model.@@ is@@ P@@ in@@ ne@@ d@@ ()) { m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Se@@ par@@ ator@@ (); m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Item@@ (@@ org.ovirt.engine.ui.common.@@ view@@ .@@ p@@ opup@@ .@@ num@@ a.@@ D@@ r@@ ag@@ g@@ able@@ Vir@@ tu@@ al@@ Numa@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ un@@ P@@ in@@ Node@@ (), ((@@ com.google.gwt.@@ user.@@ client.@@ Command@@ ) -@@ > { org.ovirt.engine.ui.common.@@ p@@ res@@ enter.@@ p@@ opup@@ .@@ num@@ a.@@ Update@@ d@@ V@@ num@@ a@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , n@@ ode@@ Model.get@@ Vm().get@@ Id(), false@@ , n@@ ode@@ Model.get@@ In@@ dex@@ (), (@@ -@@ 1@@ )); org.ovirt.engine.ui.common.@@ view@@ .@@ p@@ opup@@ .@@ num@@ a.@@ D@@ r@@ ag@@ g@@ able@@ Vir@@ tu@@ al@@ Numa@@ Pan@@ el.@@ m@@ en@@ u@@ Popup@@ .@@ h@@ i@@ de@@ (); }@@ ))); } } }
@org.junit.Test public void test@@ Get@@ AllFor@@ Vm@@ With@@ Non@@ Exist@@ ent@@ Vm@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Job@@ > job@@ s = d@@ ao@@ .get@@ AllFor@@ Vm@@ (@@ Guid@@ .@@ Empty@@ ); assert@@ True@@ (@@ job@@ s.@@ isEmpty@@ ()); }
protected boolean is@@ VM@@ P@@ art@@ Of@@ Man@@ u@@ al@@ Pool@@ (org.ovirt.engine.core.compat.Guid vm@@ Id) { final org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ Map vm@@ Pool@@ Map = org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ DbFacade@@ ().get@@ Vm@@ Pool@@ Dao().get@@ Vm@@ Pool@@ Map@@ By@@ Vm@@ Guid@@ (vm@@ Id); if (vm@@ Pool@@ Map == null@@ ) { return false@@ ; } final org.ovirt.engine.core.common.businessentities.Vm@@ Pool vm@@ Pool = org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ DbFacade@@ ().get@@ Vm@@ Pool@@ Dao().get@@ (vm@@ Pool@@ Map@@ .get@@ vm@@ _@@ pool@@ _id@@ ()); return vm@@ Pool@@ .get@@ Vm@@ Pool@@ Type@@ ().@@ equals(@@ Vm@@ Pool@@ Type.@@ Man@@ u@@ al@@ ); }
public static void Get@@ Max@@ Vm@@ Mem@@ S@@ iz@@ e(@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , boolean is@@ 6@@ 4@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { if (s@@ ource != null@@ ) { return source@@ ; } return 2@@ 6@@ 2@@ 1@@ 4@@ 4@@ ; } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Config@@ From@@ C@@ ach@@ e@@ (@@ new org.ovirt.engine.core.common.queries.@@ Get@@ Configuration@@ Value@@ Parameters@@ ((@@ is@@ 6@@ 4 ? org.ovirt.engine.core.common.queries.@@ Configuration@@ Values.@@ VM@@ 6@@ 4@@ B@@ it@@ Max@@ Memory@@ Size@@ In@@ M@@ B : org.ovirt.engine.core.common.queries.@@ Configuration@@ Values.@@ VM@@ 3@@ 2@@ B@@ it@@ Max@@ Memory@@ Size@@ In@@ M@@ B@@ ), org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Default@@ Configuration@@ Version@@ ()), aQuery@@ ); }
@org.junit.Test public void test@@ Fail@@ ed@@ R@@ o@@ Disk@@ Res@@ ize@@ () { org.ovirt.engine.core.common.businessentities.Storage@@ Domain s@@ d = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ (); sd@@ .set@@ Available@@ Disk@@ S@@ iz@@ e(@@ java.lang.Integ@@ er.@@ MA@@ X@@ _@@ VAL@@ U@@ E); sd@@ .set@@ Status(@@ StorageDomain@@ Status.@@ Active@@ ); when(@@ storageDomain@@ Dao.get@@ For@@ StoragePool@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (s@@ d@@ ); org.ovirt.engine.core.common.action.@@ Update@@ Vm@@ Disk@@ Parameters parameter@@ s = create@@ Parameters@@ (); ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ) (@@ parameters@@ .get@@ Disk@@ Info@@ ())@@ )@@ .set@@ Size@@ (((@@ parameters@@ .get@@ Disk@@ Info@@ ().get@@ Size@@ ()) * 2@@ )); initial@@ ize@@ Command(@@ parameters@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage old@@ Disk = create@@ DiskImage@@ (); do@@ Return(@@ old@@ Disk@@ ).when@@ (command@@ ).get@@ O@@ l@@ d@@ Disk@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Device vm@@ Device = st@@ ub@@ VmDevice@@ (disk@@ Image@@ Guid@@ , vm@@ Id); vm@@ Devic@@ e.set@@ Is@@ Read@@ Only@@ (@@ true@@ ); assert@@ F@@ als@@ e(@@ command@@ .@@ validate@@ Can@@ Res@@ ize@@ Disk@@ ()); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Util@@ s@@ .@@ assert@@ CanDoAction@@ Messages@@ ("@@ w@@ ron@@ g fail@@ ure@@ ", command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ RE@@ SI@@ Z@@ E_@@ RE@@ AD@@ _@@ ON@@ L@@ Y_@@ DIS@@ K@@ ); }
private static org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters create@@ Parameters@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage im@@ age = new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ (); org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent d@@ v@@ e = new org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ Element@@ (@@ null@@ , org.ovirt.engine.core.bll.storage.disk.@@ Add@@ Disk@@ Command@@ Test.@@ vm@@ Id); d@@ v@@ e.set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ ID@@ E); d@@ v@@ e.set@@ Us@@ ing@@ S@@ csi@@ Res@@ er@@ va@@ tion@@ (@@ true@@ ); return new org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters(@@ d@@ ve@@ , image@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ Pool@@ Vm@@ s(@@ org.ovirt.engine.core.compat.Guid pool@@ Id) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Pool@@ Vms@@ From@@ Vms@@ ", org.ovirt.engine.core.dao.@@ Vm@@ DAO@@ DbFacade@@ Impl.@@ VM@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ user@@ _id", null@@ ).@@ addValue("@@ is@@ _@@ filter@@ ed@@ ", false@@ ).@@ addValue("@@ pool@@ _id", pool@@ Id@@ )); }
@org.junit.Test public void shoul@@ d@@ F@@ all@@ back@@ To@@ L@@ ast@@ Host@@ () { final org.ovirt.engine.core.common.businessentities.VM st@@ op@@ p@@ ed@@ VM = new org.ovirt.engine.core.common.businessentities.@@ VM@@ (); st@@ op@@ p@@ ed@@ VM@@ .set@@ L@@ ast@@ Vds@@ Run@@ On@@ (c@@ urrent@@ Hos@@ t.get@@ Id()); assert@@ That@@ (@@ filter@@ (@@ st@@ op@@ p@@ ed@@ VM@@ , to@@ o@@ O@@ l@@ d@@ Host@@ , new@@ En@@ o@@ u@@ g@@ h@@ Host@@ )).@@ contains@@ Only@@ (@@ new@@ En@@ o@@ u@@ g@@ h@@ Host@@ ); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { host@@ Model.set@@ Protocol@@ Value@@ (); }
public void sh@@ ow@@ Profile@@ Error@@ W@@ in@@ do@@ w@@ () { final org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model c@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (get@@ Confirm@@ W@@ in@@ do@@ w@@ ())); if (c@@ Model != null@@ ) { c@@ Model.@@ st@@ op@@ Progress@@ (); c@@ Model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ volume@@ Profile@@ Statistic@@ s@@ Fail@@ ed@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ ) (get@@ SelectedItem@@ ())@@ ).get@@ Name@@ ())); } }
private org.ovirt.engine.core.compat.Guid get@@ Quota@@ Id@@ () { if ((@@ (org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command.getParameters().get@@ Disk@@ Info@@ ()) != null@@ ) && ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ ) == (org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command.getParameters().get@@ Disk@@ Info@@ ().get@@ Disk@@ Storage@@ Type@@ ()))) { org.ovirt.engine.core.compat.Guid quota@@ Id = ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command.getParameters().get@@ Disk@@ Info@@ ())@@ ).get@@ Quota@@ Id@@ (); if (!(@@ Guid@@ .@@ Empty@@ .equals(@@ quota@@ Id@@ ))) { return quota@@ Id@@ ; } } return null@@ ; }
@java.lang.Override protected boolean validate@@ () { s@@ lave@@ Volum@@ e = get@@ S@@ lave@@ Volume@@ (); if ((@@ s@@ lave@@ Volume@@ ) != null@@ ) { set@@ GlusterVolume@@ Id@@ (s@@ lave@@ Volum@@ e.get@@ Id()); set@@ VdsGroup@@ Id@@ (s@@ lave@@ Volum@@ e.get@@ Cluster@@ Id()); } else { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ IN@@ VALID@@ ); } if ((@@ s@@ lave@@ Volum@@ e.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Status.@@ UP@@ )) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ HO@@ U@@ L@@ D_@@ B@@ E_@@ ST@@ AR@@ T@@ ED); } return super@@ .@@ validate@@ (); }
@org.junit.Test public void network@@ Exist@@ s() throw@@ s java.lang.Exception { assert@@ Equals@@ (@@ ValidationRes@@ ult.@@ VALID@@ , validator.@@ network@@ Exist@@ s().get@@ Message@@ ()); }
public org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ > get@@ Network@@ () { return network@@ ; }
private void setUp@@ Entity@@ Query@@ Expectation@@ s@@ (@@ int tim@@ es@@ ) throw@@ s java.lang.Exception { while ((@@ tim@@ es@@ -@@ ) > 0) { setUp@@ Entity@@ Query@@ Expectations(@@ VdcQuery@@ Type.Get@@ VmTemplate@@ , org.ovirt.engine.core.common.queries.@@ Get@@ VmTemplate@@ Parameters@@ .@@ class@@ , new java.lang.String@@ []{ "@@ Id@@ " }, new java.lang.Object@@ []{ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Template@@ C@@ d@@ rom@@ Resource@@ Test.@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ I@@ D }, get@@ Entity@@ List@@ ()); } }
public java.lang.String get@@ Ip@@ () { return (@@ ip@@ ) != null ? i@@ p : "@@ "; }
@org.junit.Test public void test@@ Networks@@ Un@@ i@@ q@@ ue@@ ly@@ Configur@@ ed@@ On@@ Host@@ W@@ h@@ en@@ Un@@ i@@ q@@ ue@@ ly@@ Configur@@ ed@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ A = new org.ovirt.engine.core.common.businessentities.network.Network@@ (); network@@ A@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ B = new org.ovirt.engine.core.common.businessentities.network.Network@@ (); network@@ B@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent network@@ Attachment@@ A = create@@ NetworkAttachment@@ (network@@ A@@ ); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent network@@ Attachment@@ B = create@@ NetworkAttachment@@ (network@@ B@@ ); org.ovirt.engine.core.common.action.@@ Host@@ SetupNetworks@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Host@@ SetupNetworks@@ Parameters(@@ hos@@ t.get@@ Id()); org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator valid@@ ator = create@@ Host@@ SetupNetworks@@ Validator@@ (@@ host@@ , param@@ s, java.util.Collections.@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ >@@ em@@ pty@@ List@@ (), null@@ , new org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Map@@ (@@ java.util.Arrays.as@@ List(@@ network@@ A@@ , network@@ B@@ )@@ ), manage@@ ment@@ Network@@ Util@@ , mock@@ Network@@ Ex@@ cl@@ us@@ i@@ v@@ en@@ ess@@ Validator@@ Res@@ ol@@ ver@@ ); assert@@ That@@ (@@ validator.@@ network@@ s@@ Un@@ i@@ q@@ ue@@ ly@@ Configur@@ ed@@ On@@ Host@@ (@@ java.util.Arrays.as@@ List(@@ network@@ Attachment@@ A@@ , network@@ Attachment@@ B@@ )@@ ), is@@ (@@ true@@ )); }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > get@@ Un@@ manage@@ d@@ Networks@@ () { if ((@@ un@@ manage@@ d@@ Network@@ s) == null@@ ) { un@@ manage@@ d@@ Network@@ s = c@@ al@@ c@@ ul@@ ate@@ Un@@ manage@@ d@@ Networks@@ (); } return un@@ manage@@ d@@ Networks@@ ; }
public boolean is@@ Provi@@ sion@@ ing@@ () { return th@@ in@@ sion@@ ing@@ ; }
@org.junit.Test public void test@@ Sec@@ ur@@ ed@@ Event@@ M@@ ail@@ S@@ ender@@ () { org.ovirt.engine.core.common.businessentities.@@ Event@@ AuditLog@@ Sub@@ s@@ cri@@ b@@ er event@@ Data = new org.ovirt.engine.core.common.businessentities.@@ Event@@ AuditLog@@ Sub@@ s@@ cri@@ ber@@ (); event@@ Data@@ .set@@ log@@ _@@ time@@ (@@ new java.util.@@ D@@ ate@@ ()); event@@ Data@@ .set@@ event@@ _@@ typ@@ e(@@ 0@@ ); event@@ Data@@ .set@@ user@@ _@@ name@@ ("@@ a t@@ es@@ t us@@ er name@@ "); event@@ Data@@ .set@@ vm@@ _@@ name@@ ("@@ a fin@@ e t@@ es@@ t VM@@ "); event@@ Data@@ .set@@ vds@@ _@@ name@@ ("@@ a fin@@ e t@@ es@@ t host@@ "); event@@ Data@@ .set@@ m@@ ethod@@ _@@ add@@ ress@@ ("@@ m@@ ail@@ t@@ es@@ t.@@ red@@ h@@ at@@ @@@ g@@ ma@@ i@@ l.@@ com@@ "); event@@ Data@@ .set@@ vm@@ _@@ template@@ _@@ name@@ ("@@ a t@@ es@@ t template@@ "); event@@ Data@@ .set@@ storage_@@ pool@@ _@@ name@@ ("@@ a t@@ es@@ t stor@@ age p@@ oo@@ l name@@ "); event@@ Data@@ .set@@ storage@@ _@@ do@@ m@@ ain@@ _@@ name@@ ("@@ a t@@ es@@ t stor@@ age p@@ oo@@ l do@@ m@@ ain@@ "); event@@ Data@@ .set@@ se@@ ver@@ ity@@ (@@ 3@@ ); org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ No@@ t@@ if@@ ication@@ Properties.@@ set@@ Default@@ s@@ ("@@ s@@ r@@ c@@ /@@ test@@ /@@ res@@ ourc@@ es@@ /@@ con@@ f@@ /@@ not@@ if@@ i@@ er@@ -@@ m@@ ail@@ -@@ test@@ -@@ s@@ ec@@ ur@@ ed@@ .@@ con@@ f@@ ", "@@ s@@ r@@ c@@ /@@ test@@ /@@ res@@ ourc@@ es@@ /@@ con@@ f@@ /@@ mis@@ s@@ ing.@@ con@@ f@@ "); org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ s@@ end@@ er.@@ ma@@ i@@ l.@@ event@@ M@@ ail@@ S@@ en@@ der m@@ ail@@ S@@ en@@ der = new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ s@@ end@@ er.@@ ma@@ i@@ l.@@ event@@ M@@ ail@@ S@@ ender@@ (@@ org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ No@@ t@@ if@@ ication@@ Properties@@ .getInstance@@ ()); event@@ Data@@ .set@@ mess@@ age@@ ("@@ a t@@ es@@ t mess@@ age to b@@ e s@@ ent a s@@ ec@@ ure@@ d m@@ ode@@ "); m@@ ail@@ S@@ end@@ er.@@ s@@ end@@ (@@ event@@ Data@@ , null@@ ); org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ s@@ end@@ er.@@ Event@@ S@@ ender@@ Result s@@ ent@@ Result = null@@ ; try { s@@ ent@@ Result = m@@ ail@@ S@@ end@@ er.@@ s@@ end@@ (@@ event@@ Data@@ , null@@ ); } catch (@@ java.lang.Exception e) { s@@ ent@@ Result = new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ s@@ end@@ er.@@ Event@@ S@@ ender@@ Result@@ (); s@@ ent@@ Res@@ ult.@@ set@@ S@@ ent@@ (@@ false@@ ); } assert@@ True@@ (s@@ ent@@ Res@@ ult.@@ is@@ S@@ ent@@ ()); }
protected void add@@ Vm@@ Interfaces@@ () { org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manage@@ r vm@@ Interface@@ Manage@@ r = new org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manager@@ (); java.util.List<java.lang.String> in@@ valid@@ Network@@ Name@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); java.util.List<java.lang.String> in@@ valid@@ I@@ fac@@ e@@ Name@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.@@ Network@@ > network@@ s@@ In@@ Vds@@ By@@ Name = org.ovirt.engine.core.common.businessentities.@@ Enti@@ ties.@@ enti@@ ties@@ By@@ Name@@ (get@@ Network@@ DAO@@ ().get@@ AllFor@@ Cluster@@ (get@@ Vm().get@@ vds@@ _@@ group@@ _id@@ ())); for (org.ovirt.engine.core.common.businessentities.@@ VmNetwork@@ Interface if@@ ac@@ e : get@@ Vm().get@@ Interfaces@@ ()) { init@@ Interface@@ (@@ if@@ ace@@ ); if (!@@ (vm@@ Interface@@ Manager.@@ is@@ Valid@@ VmNetwork@@ (@@ if@@ ace@@ , network@@ s@@ In@@ Vds@@ By@@ Name@@ ))) { in@@ valid@@ Network@@ Nam@@ es.@@ add@@ (@@ if@@ ac@@ e.get@@ Network@@ Name()); in@@ valid@@ I@@ fac@@ e@@ Nam@@ es.@@ add@@ (@@ if@@ ac@@ e.get@@ Name()); if@@ ac@@ e.set@@ Network@@ Name(@@ StringUtils.@@ EM@@ P@@ TY@@ ); } if (vm@@ Interface@@ Manager.@@ add@@ (@@ if@@ ace@@ , get@@ Comp@@ ens@@ ation@@ Context@@ (), get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ())) { m@@ ac@@ s@@ Ad@@ ded@@ .@@ add@@ (@@ if@@ ac@@ e.get@@ Mac@@ Address@@ ()); } } audit@@ In@@ valid@@ Interfac@@ es(@@ in@@ valid@@ Network@@ Names@@ , in@@ valid@@ I@@ fac@@ e@@ Names@@ ); }
@org.junit.@@ B@@ e@@ for@@ e public void set@@ up@@ () { org.ovirt.engine.core.common.utils.@@ S@@ im@@ ple@@ De@@ p@@ end@@ enc@@ y@@ In@@ j@@ ect@@ or@@ .getInstance().@@ b@@ in@@ d@@ (org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ class@@ , os@@ Rep@@ os@@ it@@ ory@@ ); c@@ ommand = sp@@ y@@ (c@@ reate@@ Command@@ ()); mock@@ Vds@@ (); mock@@ VmDevice@@ (@@ false@@ ); when@@ (command@@ .get@@ Action@@ Type@@ ()).@@ then@@ Return@@ (get@@ Command@@ Action@@ Type@@ ()); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator snapshot@@ s@@ Validator = mock@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator@@ .@@ class@@ ); do@@ Return@@ (s@@ napshot@@ s@@ Validator@@ ).when@@ (command@@ ).get@@ Snapshots@@ Validator@@ (); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).when@@ (s@@ napshot@@ s@@ Validator@@ ).@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).when@@ (s@@ napshot@@ s@@ Validator@@ ).@@ vm@@ Not@@ In@@ Pre@@ view@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator = mock@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ StorageDomain@@ Validator@@ .@@ class@@ ); do@@ Return(@@ storageDomain@@ Validator@@ ).when@@ (command@@ ).get@@ StorageDomain@@ Validator@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ .@@ class@@ )); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).@@ when(@@ storageDomain@@ Validator@@ ).@@ is@@ Domain@@ Exist@@ And@@ Active@@ (); do@@ Return@@ (vm@@ Network@@ Interface@@ Dao@@ ).when@@ (command@@ ).get@@ VmNetwork@@ Interface@@ Dao@@ (); do@@ Return(@@ disk@@ Validator@@ ).when@@ (command@@ ).get@@ Disk@@ Validator@@ (disk@@ ); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).when@@ (disk@@ Validator@@ ).@@ is@@ Disk@@ Exist@@ s(); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).when@@ (disk@@ Validator@@ ).@@ is@@ Disk@@ Attached@@ To@@ Vm@@ (vm@@ ); }
public org.ovirt.engine.core.bll.ValidationResult provider@@ Exist@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.ACTION_TYPE_FAILED_@@ P@@ RO@@ V@@ ID@@ ER_@@ DO@@ ES@@ N@@ T_@@ EXIST@@ ).when@@ (((@@ provider@@ Dao@@ .get(@@ l@@ i@@ b@@ vi@@ r@@ t@@ Sec@@ ret@@ .get@@ Provider@@ Id@@ ())) == null@@ )); }
@org.junit.Test public void P@@ c@@ t@@ Th@@ resh@@ old@@ L@@ ess@@ Th@@ an@@ Z@@ er@@ o@@ () { org.ovirt.engine.core.bll.@@ command@@ .@@ utils.@@ StorageDomain@@ Sp@@ ace@@ Check@@ er@@ Test.@@ Sp@@ ace@@ Test@@ Set@@ t@@ ing@@ s set@@ t@@ ing@@ s = new org.ovirt.engine.core.bll.@@ command@@ .@@ utils.@@ StorageDomain@@ Sp@@ ace@@ Check@@ er@@ Test.@@ Sp@@ ace@@ Test@@ Set@@ t@@ ing@@ s(); set@@ t@@ ing@@ s.@@ disk@@ Sp@@ ace@@ F@@ re@@ e = 1@@ 0@@ ; set@@ t@@ ing@@ s.@@ disk@@ Sp@@ ace@@ U@@ se@@ d = 0@@ ; set@@ t@@ ing@@ s.@@ sp@@ ace@@ Th@@ resh@@ old@@ G@@ B = 5@@ ; set@@ t@@ ing@@ s.@@ sp@@ ace@@ Th@@ resh@@ old@@ P@@ c@@ t = -@@ 1@@ 0@@ ; org.ovirt.engine.core.common.businessentities.@@ storage@@ _@@ do@@ m@@ ain@@ s do@@ ma@@ in = set@@ up@@ For@@ Sp@@ ace@@ Test@@ (@@ set@@ t@@ ing@@ s); assert@@ True@@ (org.ovirt.engine.core.bll.@@ command@@ .@@ utils.@@ StorageDomain@@ Sp@@ ace@@ Check@@ er.@@ is@@ With@@ in@@ Th@@ resh@@ ol@@ ds@@ (@@ do@@ m@@ ain@@ )); }
protected boolean update@@ Vm@@ Im@@ Sp@@ m@@ () { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Disks@@ From@@ Db@@ (org.ovirt.engine.core.bll.@@ Export@@ VmCommand.getVm@@ ()); return org.ovirt.engine.core.bll.@@ Ovf@@ Data@@ Up@@ dat@@ er.@@ execute@@ Update@@ Vm@@ In@@ Sp@@ m@@ Command@@ (org.ovirt.engine.core.bll.@@ Export@@ VmCommand.getVm@@ ().get@@ storage_@@ pool@@ _id@@ (), org.ovirt.engine.core.bll.@@ Ovf@@ Data@@ Up@@ dat@@ er@@ .get@@ Vms@@ M@@ et@@ ad@@ ata@@ D@@ ic@@ tion@@ ar@@ y@@ (org.ovirt.engine.core.bll.@@ Export@@ VmCommand.getVm@@ ().get@@ storage_@@ pool@@ _id@@ (), java.util.Arrays.as@@ List@@ (org.ovirt.engine.core.bll.@@ Export@@ VmCommand.getVm@@ ())@@ ), org.ovirt.engine.core.bll.@@ Export@@ Vm@@ Command.getParameters().get@@ StorageDomain@@ Id()); }
@java.lang.Override public void initial@@ ize@@ () { super@@ .@@ initial@@ ize@@ (); dis@@ able@@ Non@@ Change@@ able@@ Enti@@ ties@@ (); get@@ Alias@@ ().set@@ Entity@@ (get@@ Disk@@ ().get@@ Disk@@ Alias@@ ()); get@@ Description@@ ().set@@ Entity@@ (get@@ Disk@@ ().get@@ Disk@@ Description@@ ()); get@@ Is@@ Sh@@ are@@ able@@ ().set@@ Entity@@ (get@@ Disk@@ ().is@@ Sh@@ are@@ able@@ ()); get@@ Is@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ ().set@@ Entity@@ (get@@ Disk@@ ().is@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ ()); get@@ Is@@ S@@ csi@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ().set@@ Entity@@ (get@@ Disk@@ ().is@@ S@@ csi@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()); get@@ Is@@ S@@ g@@ I@@ o@@ Un@@ filter@@ ed@@ ().set@@ Entity@@ ((@@ (get@@ Disk@@ ().get@@ S@@ g@@ i@@ o@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ S@@ csi@@ Gener@@ ic@@ I@@ O@@ .@@ UN@@ F@@ IL@@ TER@@ ED@@ ))); get@@ Is@@ Read@@ Only@@ ().set@@ Entity@@ (get@@ Disk@@ ().get@@ Read@@ Only@@ ()); if ((get@@ Disk@@ ().get@@ Disk@@ Storage@@ Type()) == (@@ Disk@@ .@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (get@@ Disk@@ ())); get@@ Disk@@ Storage@@ Type@@ ().set@@ Entity(@@ Disk@@ .@@ Disk@@ StorageType.@@ IM@@ AG@@ E); get@@ Size@@ ().set@@ Entity@@ ((@@ (@@ int@@ ) (disk@@ Image.get@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s@@ ()))); get@@ Volume@@ Type@@ ().set@@ SelectedItem@@ (disk@@ Image.get@@ Volume@@ Type@@ ()); set@@ Volume@@ Format@@ (disk@@ Image.get@@ Volume@@ Format@@ ()); boolean is@@ Ex@@ tend@@ Image@@ Size@@ En@@ able@@ d = ((@@ (get@@ Vm@@ ()) != null@@ ) && (!(@@ disk@@ Im@@ age.@@ is@@ Disk@@ Snapshot@@ ()))) && (org.ovirt.engine.core.common.@@ Vdc@@ Action@@ Utils.@@ can@@ Execu@@ te@@ (@@ java.util.Arrays.as@@ List@@ (get@@ Vm@@ ()), org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ , Vdc@@ ActionType.@@ Ex@@ tend@@ Image@@ Size@@ )); get@@ Size@@ Ex@@ tend@@ Image@@ Size@@ Ex@@ tend@@ Image@@ Size@@ Enabled@@ ().setIs@@ Chang@@ able(@@ is@@ Ex@@ tend@@ Image@@ Size@@ Enabled@@ ); } else { org.ovirt.engine.core.common.businessentities.@@ Lun@@ Disk lun@@ Disk = ((org.ovirt.engine.core.common.businessentities.@@ Lun@@ Disk@@ ) (get@@ Disk@@ ())); get@@ Disk@@ Storage@@ Type@@ ().set@@ Entity(@@ Disk@@ .@@ Disk@@ StorageType.@@ LUN@@ ); get@@ Size@@ ().set@@ Entity(@@ lun@@ Disk@@ .get@@ Lun@@ ().get@@ Device@@ Size@@ ()); get@@ Size@@ Ex@@ tend@@ ().setIs@@ Available@@ (@@ false@@ ); } update@@ Read@@ Only@@ Change@@ ab@@ ility@@ (); }
private void call@@ P@@ ers@@ ist@@ NetworkAttachment@@ s@@ And@@ V@@ er@@ if@@ y@@ That@@ NetworkAttachment@@ Is@@ S@@ yn@@ ce@@ d@@ (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent attach@@ ment@@ ) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Host@@ NetworkAttachment@@ s@@ P@@ ers@@ ist@@ er p@@ ers@@ ist@@ er = create@@ P@@ ers@@ ist@@ er@@ (@@ java.util.Collections.@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ >@@ em@@ pty@@ List@@ ()); when(@@ network@@ Attachment@@ Dao.get@@ AllFor@@ Host@@ (@@ e@@ q@@ (@@ host@@ Id@@ )@@ )).@@ thenReturn(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ attach@@ ment@@ )); p@@ ers@@ ist@@ er.@@ p@@ ers@@ ist@@ NetworkAttachment@@ s(); ve@@ r@@ if@@ y@@ (network@@ Attachment@@ Dao@@ ).get@@ AllFor@@ Host@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); ve@@ r@@ if@@ y@@ (network@@ Attachment@@ Dao@@ ).@@ update@@ (@@ arg@@ That@@ (@@ new org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ Match@@ er@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ >() { @java.lang.Override public boolean mat@@ ch@@ es@@ (java.lang.Object o@@ ) { if (!(@@ o instanceof org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.network.@@ Ip@@ Configur@@ ation ip@@ Configur@@ ation = org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ create@@ Ip@@ Configuration@@ From@@ VdsNetwork@@ Interface@@ (@@ int@@ er@@ fac@@ e@@ With@@ Attached@@ Cluster@@ Network@@ A@@ ); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent network@@ Attachm@@ ent = ((@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ ) (@@ o@@ )); return ((((@@ ((@@ network@@ Attachm@@ ent.get@@ Id()) != null@@ ) && (network@@ Attachm@@ ent.get@@ Id().@@ equals(@@ attach@@ m@@ ent.get@@ Id@@ ()))) && ((@@ network@@ Attachm@@ ent.get@@ Nic@@ Id()) != null@@ )) && (network@@ Attachm@@ ent.get@@ Nic@@ Id().@@ equals@@ (@@ int@@ er@@ fac@@ e@@ With@@ Attached@@ Cluster@@ Network@@ A@@ .getId@@ ()))) && (java.util.@@ Object@@ s.@@ equals(@@ network@@ Attachm@@ ent.get@@ Ip@@ Configuration@@ (), ip@@ Configuration@@ ))) && (java.util.@@ Object@@ s.@@ equals(@@ network@@ Attachm@@ ent.get@@ Properties@@ (), c@@ ustom@@ Properties@@ For@@ Nic@@ s.get@@ Custom@@ Properties@@ For@@ (@@ int@@ er@@ fac@@ e@@ With@@ Attached@@ Cluster@@ Network@@ A@@ ))); } }@@ )); ve@@ r@@ if@@ y@@ No@@ M@@ ore@@ Inter@@ action@@ s(@@ network@@ Attachment@@ Dao@@ ); }
private static java.util.List<java.lang.String> assert@@ CanDoAction@@ Messages@@ (org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ , org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Message@@ s mess@@ age@@ ) { java.util.List<java.lang.String> canDoAction@@ Message@@ s = command@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ (); assert@@ True@@ (@@ java.@@ tex@@ t.@@ Message@@ Format@@ .@@ for@@ mat@@ ("@@ can@@ Do@@ Ac@@ tion mess@@ age@@ s do@@ es@@ n@@ '@@ '@@ '@@ t cont@@ ain exp@@ ected mess@@ age@@ : {0@@ }, mess@@ age@@ s are@@ : {@@ 1@@ }@@ ", mess@@ age.@@ name@@ (), canDoAction@@ Messages@@ ), canDoAction@@ Messages.@@ contains(@@ mess@@ age.@@ name@@ ())); return canDoAction@@ Messages@@ ; }
public void set@@ S@@ m@@ all@@ T@@ ick@@ et@@ (@@ T s@@ m@@ all@@ T@@ ick@@ et@@ ) { this@@ .@@ s@@ m@@ all@@ T@@ re@@ e = s@@ m@@ all@@ T@@ ick@@ et@@ ; }
@org.junit.Test public void test@@ Set@@ Det@@ ect@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ () { boolean pre@@ Up@@ dat@@ e = existing@@ C@@ luster.@@ is@@ Det@@ ect@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ (); boolean update@@ Value = false@@ ; assert@@ Not@@ S@@ ame@@ (@@ update@@ Value@@ , pre@@ Update@@ ); d@@ ao@@ .set@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e(@@ existing@@ Cluster@@ .get@@ Id(), existing@@ Cluster@@ .get@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ (), update@@ Value@@ ); assert@@ Equals@@ (@@ update@@ Value@@ , d@@ ao@@ .get(@@ existing@@ Cluster@@ .getId@@ ()).@@ is@@ Det@@ ect@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ ()); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Th@@ e engin@@ e is not ass@@ oc@@ i@@ ate@@ d wit@@ h a For@@ em@@ an provider@@ . N@@ o err@@ at@@ a for the engin@@ e ar@@ e ava@@ il@@ abl@@ e.@@ ") java.lang.String NO@@ _@@ F@@ OR@@ EM@@ AN@@ _P@@ RO@@ V@@ ID@@ ER_@@ F@@ OR@@ _@@ EN@@ G@@ IN@@ E@@ ();
private void p@@ op@@ ul@@ ate@@ D@@ ashboard@@ C@@ ach@@ e@@ () throw@@ s org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ D@@ ashboard@@ Data@@ Exception { long st@@ art@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ D@@ ash@@ bo@@ ar@@ d d@@ ash@@ bo@@ ar@@ d = get@@ D@@ ashboard@@ (); long end@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ D@@ ashboard@@ Data@@ Servlet@@ .@@ d@@ ashboard@@ C@@ ach@@ e.@@ put(@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ D@@ ashboard@@ Data@@ Servlet@@ .@@ U@@ TI@@ L@@ I@@ Z@@ A@@ TION_@@ K@@ E@@ Y@@ , d@@ ashboard@@ , 5@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ ES@@ ); org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ D@@ ashboard@@ Data@@ Servlet@@ .@@ log.debug@@ ("@@ D@@ ash@@ bo@@ ar@@ d c@@ ach@@ e update@@ d in {}@@ m@@ s", (@@ end@@ Tim@@ e - st@@ art@@ Time@@ )); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ AD@@ D@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ GLUSTER_@@ B@@ R@@ IC@@ K@@ ); }
protected void un@@ lock@@ Vm@@ () { org.ovirt.engine.core.bll.@@ Vm@@ Command.set@@ Vm@@ (@@ null@@ ); if ((org.ovirt.engine.core.bll.@@ VmCommand.getVm@@ ()) != null@@ ) { if ((org.ovirt.engine.core.bll.@@ VmCommand.getVm@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Image@@ Lock@@ ed@@ )) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ un@@ lock@@ Vm@@ (org.ovirt.engine.core.bll.@@ VmCommand.getVm@@ (), org.ovirt.engine.core.bll.@@ Vm@@ Command.get@@ Comp@@ ens@@ ation@@ Context@@ ()); } } else { set@@ Log@@ gin@@ g@@ For@@ Command@@ (); log.@@ w@@ ar@@ n@@ ("@@ VM is null - not p@@ er@@ for@@ min@@ g end@@ Ac@@ tion on Vm@@ "); } } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ C@@ luster Policy@@ (@@ i@@ es@@ )@@ :@@ ") java.lang.String remove@@ Cluster@@ Policy@@ Message@@ ();
public java.lang.@@ B@@ oolean call@@ () throw@@ s java.lang.Exception { _@@ de@@ plo@@ y@@ .get@@ Par@@ ser@@ ().@@ cli@@ En@@ vi@@ ron@@ ment@@ Set@@ (@@ Vds@@ m@@ En@@ v@@ .@@ EN@@ G@@ IN@@ E_@@ HOST@@ _C@@ LUSTER_@@ V@@ ER@@ SI@@ ON@@ , cluster@@ Version@@ .get@@ Value@@ ()); return true@@ ; }
public void set@@ N@@ fs@@ Server@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.@@ N@@ fs@@ Profile@@ Detail@@ s> n@@ fs@@ Server@@ s) { this@@ .@@ n@@ fs@@ Server@@ s = n@@ fs@@ Server@@ s@@ ; }
protected void setUp@@ Entity@@ Query@@ Expectation@@ s@@ (@@ int tim@@ es@@ ) throw@@ s java.lang.Exception { setUp@@ Get@@ Entity@@ Expectations(@@ tim@@ es@@ , null@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _S@@ ET@@ ); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ GLUSTER_@@ G@@ E@@ OR@@ E@@ P@@ _C@@ ON@@ F@@ I@@ G@@ ); addCanDoActionMessage@@ Var@@ i@@ able@@ ("@@ config@@ Name@@ ", get@@ Parameters().get@@ Config@@ Key@@ ()); addCanDoActionMessage@@ Var@@ i@@ able@@ ("@@ ge@@ oRep@@ Session@@ Key@@ ", get@@ GeoRep@@ Session@@ ().get@@ Session@@ Key@@ ()); addCanDoActionMessage@@ Var@@ i@@ able@@ ("@@ config@@ Value@@ ", get@@ Parameters().get@@ Config@@ Value@@ ()); }
@org.junit.Test public void as@@ Map@@ T@@ w@@ o@@ Con@@ v@@ Item@@ s() throw@@ s java.io.@@ I@@ O@@ Exception { schedul@@ e.@@ add@@ St@@ all@@ ing@@ Step@@ (@@ new org.ovirt.engine.core.common.@@ m@@ igr@@ ation.@@ Conver@@ g@@ ence@@ Item@@ With@@ St@@ all@@ ing@@ L@@ im@@ it@@ (@@ 8@@ , "@@ action@@ ", 1@@ 0@@ )).@@ add@@ St@@ all@@ ing@@ Step@@ (@@ new org.ovirt.engine.core.common.@@ m@@ igr@@ ation.@@ Conver@@ g@@ ence@@ Item@@ With@@ St@@ all@@ ing@@ L@@ im@@ it@@ (@@ 1@@ 2@@ , "@@ action@@ 2@@ ", 1@@ 2@@ )); assert@@ Equals@@ ("@@ [@@ []@@ ,@@ [@@ 8@@ ,@@ [@@ \"@@ action@@ \"@@ ,@@ [@@ 1@@ 0@@ ]@@ ]@@ ]@@ ,@@ [@@ 1@@ 2@@ ,@@ [@@ \"@@ action@@ 2@@ \"@@ ,@@ [@@ 1@@ 2@@ ]@@ ]@@ ]@@ ]@@ ]@@ ]@@ ]@@ ]@@ ]@@ ", schedul@@ e.@@ as@@ Json@@ ()); }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") @org.junit.Test public void test@@ Execu@@ te@@ Command() { c@@ m@@ d = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.@@ gluster.@@ Comm@@ it@@ Remove@@ GlusterVolume@@ Brick@@ s@@ Command@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.GlusterVolume@@ Remove@@ Brick@@ s@@ Parameters(@@ volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ , get@@ Brick@@ s(@@ volume@@ With@@ Remove@@ Brick@@ s@@ Task@@ , 2@@ )@@ ))); pre@@ par@@ e@@ Mock@@ s@@ (cmd@@ ); mock@@ Backend@@ (@@ true@@ , null@@ ); assert@@ True@@ (cmd@@ .@@ canDoAction@@ ()); cmd@@ .@@ execute@@ Command@@ (); ve@@ r@@ if@@ y@@ (cmd@@ , tim@@ es(@@ 1@@ )).@@ end@@ Step@@ Job@@ (@@ any@@ (org.ovirt.engine.core.common.@@ job.@@ Job@@ Execution@@ Status@@ .@@ class@@ ), any@@ (java.util.@@ Map@@ .@@ class@@ )); ve@@ r@@ if@@ y@@ (cmd@@ , tim@@ es(@@ 1@@ )).@@ re@@ le@@ ase@@ Volume@@ Lock@@ (); assert@@ Equals@@ (cmd@@ .get@@ AuditLog@@ Type@@ Value@@ (), AuditLogType.@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ RE@@ M@@ OV@@ E_@@ B@@ R@@ IC@@ K@@ S_@@ C@@ O@@ M@@ M@@ I@@ T@@ ); }
@java.lang.Override public void on@@ Validation@@ Comp@@ let@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Validation@@ Comp@@ let@@ e@@ Event event@@ ) { if (((@@ ev@@ ent.get@@ Model@@ ()) != null@@ ) && (@@ ev@@ ent.get@@ Model@@ ().@@ equals(@@ p@@ res@@ enter@@ Widget@@ .get@@ Model@@ ()))) { java.util.@@ Set<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name@@ > in@@ valid@@ Tab@@ s = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Validate@@ d@@ Tab@@ s) (p@@ res@@ enter@@ Widget@@ .get@@ Model@@ ())@@ ).get@@ In@@ valid@@ Tab@@ s(); java.util.Map<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, org.ovirt.engine.ui.common.widget.@@ d@@ ial@@ o@@ g.@@ t@@ ab@@ .@@ D@@ ial@@ og@@ Tab@@ > m@@ app@@ ing = view@@ .get@@ Tab@@ Name@@ Mapping@@ (); boolean al@@ read@@ y@@ Sel@@ ected = false@@ ; for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name in@@ valid@@ Tab@@ Name : in@@ valid@@ Tab@@ s) { if (@@ view@@ .get@@ Tab@@ Panel@@ ().get@@ Active@@ Tab@@ ().@@ equals@@ (m@@ app@@ ing.@@ get@@ (in@@ valid@@ Tab@@ Name@@ ))) { al@@ read@@ y@@ Sel@@ ected = true@@ ; break@@ ; } } org.ovirt.engine.ui.common.@@ utils.@@ Validation@@ Tab@@ S@@ wit@@ ch@@ Helper.@@ mar@@ k@@ Tab@@ s(@@ in@@ valid@@ Tab@@ s, m@@ app@@ ing@@ ); if (!@@ al@@ read@@ y@@ Selected@@ ) { org.ovirt.engine.ui.common.@@ utils.@@ Validation@@ Tab@@ S@@ wit@@ ch@@ Helper@@ .@@ switch@@ Tab@@ (in@@ valid@@ Tab@@ s, m@@ app@@ ing@@ , view@@ ); } } }
protected void dis@@ able@@ Element@@ (c@@ om.google.@@ gw@@ t@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent el@@ ement@@ ) { el@@ em@@ ent.get@@ Sty@@ le@@ ().set@@ Property@@ ("@@ dis@@ abled@@ ", "@@ true@@ "); el@@ em@@ ent.get@@ Sty@@ le@@ ().set@@ C@@ ol@@ or@@ ("@@ #@@ 9@@ 9@@ 9@@ 9@@ 9@@ 9@@ 9@@ 9@@ 9@@ "); if ((get@@ Node@@ Dis@@ abled@@ T@@ ooltip@@ ()) != null@@ ) { org.ovirt.engine.ui.common.widget.@@ t@@ ooltip@@ .@@ T@@ ooltip@@ M@@ i@@ x@@ in@@ .@@ add@@ T@@ ooltip@@ To@@ Element@@ (get@@ Node@@ Dis@@ abled@@ T@@ ooltip@@ (), el@@ ement@@ ); } }
public org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ fo get@@ Q@@ em@@ u@@ Image@@ Info@@ From@@ Vds@@ m@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid new@@ StorageDomain@@ ID@@ , org.ovirt.engine.core.compat.Guid new@@ ImageGroup@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Id, org.ovirt.engine.core.compat.Guid vds@@ Id, boolean shoul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { if (vds@@ Id == null@@ ) { vds@@ Id = vds@@ Command@@ s@@ Helper@@ .get@@ Host@@ For@@ Execution@@ (@@ storagePool@@ Id, java.util.Collections.@@ em@@ pty@@ List@@ ()); } org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ fo q@@ em@@ u@@ Image@@ In@@ fo = null@@ ; if (@@ shoul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { pre@@ par@@ e@@ Image@@ (@@ storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ ImageGroup@@ Id, new@@ Image@@ Id, vds@@ Id); } try { q@@ em@@ u@@ Image@@ In@@ fo = ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ Info@@ ) (@@ res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Q@@ em@@ u@@ Image@@ Info@@ , new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Volume@@ Info@@ VDSCommand@@ Parameters(@@ vds@@ Id, storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ ImageGroup@@ Id, new@@ Image@@ Id@@ )@@ ).get@@ ReturnValue@@ ())); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ log.error("@@ Un@@ able to ge@@ t q@@ em@@ u im@@ age in@@ fo f@@ ro@@ m storage@@ ", e); } final@@ l@@ y { if (@@ shoul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { te@@ a@@ r@@ do@@ wn@@ Image@@ (@@ storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ ImageGroup@@ Id, new@@ Image@@ Id, vds@@ Id); } } return q@@ em@@ u@@ Image@@ Info@@ ; }
@org.junit.Test public void check@@ Execu@@ te@@ Command@@ With@@ Null@@ Vds@@ Id@@ () { parameters.set@@ StorageServerConnection@@ (@@ N@@ FS@@ Connection@@ ); parameters.set@@ Vds@@ Id@@ (@@ null@@ ); do@@ Not@@ h@@ ing@@ ().@@ when(@@ storage@@ ServerConnection@@ DAO@@ ).@@ remove@@ (@@ N@@ FS@@ Connection@@ .get@@ id@@ ()); command@@ .@@ execute@@ Command@@ (); }
private boolean sing@@ le@@ Host@@ Selected@@ (@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > item@@ s) { return ((@@ item@@ s.@@ size()) == 1@@ ) && ((@@ item@@ s.get@@ (0@@ )) instanceof org.ovirt.engine.core.common.businessentities.@@ VDS@@ ); }
private void p@@ er@@ for@@ m@@ Disk@@ Update@@ (@@ final boolean un@@ lock@@ Image@@ ) { final org.ovirt.engine.core.common.businessentities.@@ Disk dis@@ k = org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.get@@ Disk@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.getParameters().get@@ Disk@@ Id()); ap@@ pl@@ y@@ User@@ Chang@@ es@@ (disk@@ ); org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.Object@@ >() { @java.lang.Override public java.lang.Object run@@ In@@ Transaction@@ () { get@@ Vm@@ Static@@ DAO@@ ().@@ in@@ c@@ re@@ ment@@ Db@@ Gener@@ ation@@ (get@@ Vm().get@@ Id()); update@@ Device@@ Properties@@ (); get@@ Base@@ Disk@@ Dao().@@ update@@ (disk@@ ); if ((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Disk@@ .@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (disk@@ )); disk@@ Im@@ age.@@ set@@ Quota@@ Id@@ (get@@ Quota@@ Id()); disk@@ Im@@ age.@@ set@@ Disk@@ Profile@@ Id@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (get@@ New@@ Disk@@ ())@@ ).get@@ Disk@@ Profile@@ Id()); if (@@ un@@ lock@@ Image && ((@@ disk@@ Image.get@@ Image@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ Image@@ Status.@@ LO@@ C@@ K@@ ED@@ ))) { disk@@ Im@@ age.@@ set@@ Image@@ Status(@@ Image@@ Status.@@ O@@ K@@ ); } get@@ Image@@ Dao().@@ update@@ (disk@@ Image.get@@ Image@@ ()); update@@ Quota@@ (disk@@ Image@@ ); update@@ Disk@@ Profil@@ e(@@ disk@@ Image@@ ); } re@@ load@@ Disks@@ (); update@@ Boot@@ Or@@ der@@ (); set@@ Succeeded@@ (@@ true@@ ); return null@@ ; } private void update@@ Device@@ Properties@@ () { if (@@ update@@ Read@@ Only@@ Re@@ ques@@ ted@@ ()) { vm@@ Device@@ For@@ Vm@@ .set@@ Is@@ Read@@ Only@@ (get@@ New@@ Disk@@ ().get@@ Read@@ Only@@ ()); get@@ VmDevice@@ Dao().@@ update@@ (vm@@ Device@@ For@@ Vm@@ ); } if ((get@@ O@@ l@@ d@@ Disk@@ ().get@@ Disk@@ Interface@@ ()) != (get@@ New@@ Disk@@ ().get@@ Disk@@ Interface@@ ())) { get@@ VmDevice@@ Dao().@@ cl@@ e@@ ar@@ Device@@ Address@@ (get@@ O@@ l@@ d@@ Disk@@ ().get@@ Id()); } } }); }
@java.lang.Override public org.ovirt.engine.core.compat.Guid get@@ Ma@@ ster@@ StorageDomain@@ Id@@ For@@ Pool@@ (org.ovirt.engine.core.compat.Guid pool@@ Id, org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status status@@ , org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Ma@@ ster@@ , boolean for@@ ce@@ M@@ a@@ int@@ en@@ ance@@ );
@java.lang.Override public void onSuccess@@ (java.lang.String cont@@ ent@@ ) { get@@ Content@@ Model().get@@ Content@@ ().set@@ Entity(@@ cont@@ ent@@ ); st@@ op@@ Progress@@ (); }
@java.lang.Override protected void execute@@ Command() { if ((@@ sub@@ Templ@@ at@@ es@@ Lock@@ ) != null@@ ) { s@@ h@@ if@@ t@@ Base@@ Template@@ To@@ Success@@ or@@ (); } final java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > c@@ inder@@ Disk@@ s = org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ filter@@ Disks@@ Bas@@ ed@@ On@@ Cinder@@ (@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Disk@@ Dao().get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.getVm@@ Template@@ Id@@ ())); org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ lock@@ VmTemplate@@ In@@ Transaction@@ (org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.getVm@@ Template@@ Id(), org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ Command.get@@ Comp@@ ens@@ ation@@ Context@@ ()); if ((!@@ (@@ image@@ Templ@@ at@@ es.@@ isEmpty@@ ())) || (!@@ (c@@ inder@@ Disk@@ s.@@ isEmpty@@ ()))) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.@@ V@@ o@@ id@@ >() { @java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { if ((!@@ (@@ image@@ Templ@@ at@@ es.@@ isEmpty@@ ())) && (@@ remove@@ VmTemplate@@ Images@@ ())) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ remove@@ Vm@@ Init@@ From@@ D@@ B@@ (get@@ VmTemplate@@ ()); set@@ Succeeded@@ (@@ true@@ ); } if (!@@ (c@@ inder@@ Disk@@ s.@@ isEmpty@@ ())) { remove@@ Cinder@@ Disks@@ (c@@ inder@@ Disks@@ ); set@@ Succeeded@@ (@@ true@@ ); } return null@@ ; } }); } else { H@@ andle@@ En@@ d@@ Action@@ (); } }
private com.google.gwt.@@ user.@@ client.@@ ui.@@ G@@ r@@ id create@@ V@@ lan@@ Row@@ Column@@ (c@@ om.google.gwt.@@ user.@@ client.@@ ui.@@ W@@ id@@ ge@@ t check@@ B@@ o@@ x@@ Widget@@ , boolean network@@ Management@@ F@@ l@@ ag@@ , java.lang.String network@@ Name, com.google.gwt.@@ user.@@ client.@@ ui.@@ L@@ ab@@ e@@ l add@@ ress@@ Label@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ G@@ r@@ id ro@@ w = new com.google.gwt.@@ user.@@ client.@@ ui.@@ G@@ rid@@ (@@ 1, 3@@ ); row@@ .get@@ Column@@ Format@@ ter@@ ().set@@ W@@ id@@ th@@ (0@@ , org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ V@@ L@@ an@@ Pan@@ el.@@ C@@ H@@ EC@@ K_@@ B@@ O@@ X@@ _C@@ O@@ LU@@ M@@ N@@ _@@ W@@ ID@@ TH@@ ); row@@ .get@@ Column@@ Format@@ ter@@ ().set@@ W@@ id@@ th@@ (@@ 1, org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ V@@ L@@ an@@ Pan@@ el.@@ NETWORK_@@ NAM@@ E_@@ C@@ O@@ LU@@ M@@ N@@ _@@ W@@ ID@@ TH@@ ); row@@ .get@@ Column@@ Format@@ ter@@ ().set@@ W@@ id@@ th@@ (@@ 2@@ , org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ V@@ L@@ an@@ Pan@@ el.@@ AD@@ D@@ RE@@ S@@ S_@@ C@@ O@@ LU@@ M@@ N@@ _@@ W@@ ID@@ TH@@ ); row@@ .set@@ W@@ id@@ th@@ ("@@ 1@@ 00@@ %@@ "); row@@ .set@@ H@@ e@@ ig@@ ht@@ ("@@ 1@@ 00@@ %@@ "); row@@ .set@@ Widget@@ (0@@ , 0@@ , check@@ B@@ o@@ x@@ Widget@@ ); com.google.gwt.@@ user.@@ client.@@ ui.@@ L@@ ab@@ e@@ l network@@ Name@@ L@@ ab@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ Label@@ (network@@ Name); if (network@@ Management@@ F@@ l@@ ag@@ ) { network@@ Name@@ Label@@ .get@@ Element@@ ().get@@ Sty@@ le@@ ().set@@ F@@ on@@ t@@ W@@ e@@ ig@@ ht@@ (@@ F@@ on@@ t@@ W@@ e@@ ig@@ h@@ t.@@ B@@ OL@@ D@@ ); network@@ Name@@ L@@ ab@@ el.@@ set@@ Text@@ ((@@ "@@ * " + network@@ Name@@ )); } row@@ .set@@ Widget@@ (0@@ , 1, network@@ Name@@ Label@@ ); row@@ .set@@ Widget@@ (0@@ , 2@@ , add@@ ress@@ Label@@ ); return row@@ ; }
private void Update@@ Properties@@ () { org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = get@@ Entity@@ (); set@@ O@@ S@@ (@@ vds.get@@ host@@ _@@ os@@ ()); set@@ K@@ er@@ ne@@ l@@ Version@@ (@@ vds.get@@ k@@ er@@ ne@@ l@@ _@@ version@@ ()); set@@ K@@ vm@@ Version@@ (@@ vds.get@@ k@@ vm@@ _@@ version@@ ()); set@@ L@@ i@@ b@@ vi@@ r@@ t@@ Version@@ (@@ vds.get@@ l@@ i@@ b@@ vi@@ r@@ t@@ _@@ version@@ ()); set@@ Vds@@ m@@ Version@@ (@@ vds.get@@ Version@@ ()); set@@ Sp@@ ice@@ Version@@ (@@ vds.get@@ sp@@ ice@@ _@@ version@@ ()); set@@ IS@@ csi@@ In@@ iti@@ ator@@ Name(@@ vds.get@@ IS@@ csi@@ In@@ iti@@ ator@@ Name()); set@@ Active@@ Vm@@ s(@@ vds.get@@ vm@@ _@@ ac@@ tive@@ ()); set@@ Cpu@@ Name@@ (((@@ vds.get@@ Cpu@@ Name@@ ()) != null ? vds.get@@ Cpu@@ Name@@ ().get@@ Cpu@@ Name@@ () : null@@ )); set@@ Cpu@@ Type(@@ vds.get@@ cpu@@ _@@ model@@ ()); set@@ Num@@ ber@@ Of@@ S@@ ock@@ et@@ s(@@ vds.get@@ cpu@@ _@@ s@@ ock@@ et@@ s()); set@@ C@@ or@@ es@@ Per@@ S@@ ock@@ et@@ ((((@@ vds.get@@ cpu@@ _@@ cor@@ es@@ ()) != null@@ ) && ((@@ vds.get@@ cpu@@ _@@ s@@ ock@@ et@@ s()) != null@@ ) ? (@@ vds.get@@ cpu@@ _@@ cor@@ es@@ ()) / (@@ vds.get@@ cpu@@ _@@ s@@ ock@@ et@@ s()) : null@@ )); set@@ Cpu@@ H@@ yp@@ er@@ th@@ read@@ ing@@ (((@@ vds.get@@ vds@@ m@@ _@@ c@@ ount@@ _@@ th@@ rea@@ ds@@ _@@ as@@ _@@ cor@@ es@@ ()) == null ? "@@ Un@@ k@@ n@@ ow@@ n@@ " : vds.get@@ vds@@ m@@ _@@ c@@ ount@@ _@@ th@@ rea@@ ds@@ _@@ as@@ _@@ cor@@ es@@ () ? "@@ Vir@@ tu@@ al (vds@@ m.@@ con@@ f set@@ t@@ ing@@ )@@ " : vds.get@@ cpu@@ _@@ ht@@ _@@ en@@ abled@@ () ? "@@ Enabled@@ " : "@@ Dis@@ abled@@ ")); set@@ P@@ h@@ y@@ s@@ ical@@ Memory@@ (@@ vds.get@@ p@@ h@@ y@@ s@@ ical@@ _@@ mem@@ _@@ m@@ b@@ ()); set@@ S@@ w@@ ap@@ T@@ otal@@ (@@ vds.get@@ s@@ w@@ ap@@ t@@ otal@@ ()); set@@ S@@ w@@ ap@@ F@@ re@@ e(@@ vds.get@@ s@@ w@@ ap@@ _@@ f@@ ree@@ ()); set@@ Sh@@ ared@@ Memory@@ (@@ vds.get@@ mem@@ _@@ shared@@ _@@ per@@ c@@ ent@@ ()); set@@ Memory@@ P@@ age@@ Sh@@ ar@@ ing@@ (@@ vds.get@@ k@@ s@@ m@@ _@@ st@@ ate@@ ()); set@@ Au@@ t@@ om@@ ati@@ c@@ L@@ arg@@ e@@ P@@ age@@ (@@ vds.get@@ Trans@@ parent@@ H@@ u@@ ge@@ P@@ ages@@ State@@ ()); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ En@@ able K@@ S@@ M@@ ") java.lang.String en@@ able@@ K@@ s@@ m@@ Label@@ ();
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ provider@@ s.@@ N@@ e@@ u@@ tr@@ on@@ Agent@@ Be@@ ha@@ vi@@ or b@@ e@@ ha@@ vi@@ or@@ ) { q@@ p@@ id@@ Tit@@ le.@@ set@@ Visi@@ bl@@ e(@@ b@@ e@@ ha@@ vi@@ or@@ .get@@ Is@@ Available@@ ()); int@@ er@@ fac@@ e@@ Mapping@@ s.set@@ Label@@ (((@@ java.lang.String@@ ) (@@ b@@ e@@ ha@@ vi@@ or@@ .get@@ Interface@@ Mapping@@ s@@ Label@@ ().getEntity@@ ()))); b@@ e@@ ha@@ vi@@ or@@ .get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if ("@@ Is@@ Available@@ "@@ .@@ equals@@ (((@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s) (@@ arg@@ s@@ )).@@ Property@@ Name@@ )) { q@@ p@@ id@@ Tit@@ le.@@ set@@ Visi@@ bl@@ e(@@ b@@ e@@ ha@@ vi@@ or@@ .get@@ Is@@ Available@@ ()); } } }); b@@ e@@ ha@@ vi@@ or@@ .get@@ Interface@@ Mapping@@ s@@ Label@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { int@@ er@@ fac@@ e@@ Mapping@@ s.set@@ Label@@ (((@@ java.lang.String@@ ) (@@ b@@ e@@ ha@@ vi@@ or@@ .get@@ Interface@@ Mapping@@ s@@ Label@@ ().getEntity@@ ()))); } }); d@@ ri@@ ver.@@ edit@@ (@@ b@@ e@@ ha@@ vi@@ or@@ ); }
@java.lang.Override public java.lang.Object run@@ In@@ Transaction@@ () { final org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type sd@@ Type = get@@ StorageDomain@@ ().get@@ StorageDomain@@ Type@@ (); map@@ .set@@ Status(@@ StorageDomain@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ ); get@@ StoragePool@@ Iso@@ Map@@ DAO@@ ().@@ update@@ Status@@ (m@@ ap@@ .get@@ Id(), map@@ .get@@ Status@@ ()); if (s@@ d@@ Type == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Ma@@ ster@@ )) { c@@ al@@ c@@ StoragePool@@ Status@@ By@@ Domain@@ s@@ Status@@ (); } if ((@@ sd@@ Type == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Data@@ )) || (s@@ d@@ Type == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Ma@@ ster@@ ))) { update@@ StorageDomain@@ Format@@ (get@@ StorageDomain@@ ()); } re@@ gist@@ er@@ All@@ Ovf@@ Disks@@ (get@@ All@@ OV@@ F@@ Disks@@ ()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > ovf@@ St@@ ore@@ DiskImage@@ s = get@@ All@@ OV@@ F@@ Disks@@ (get@@ Parameters().get@@ StorageDomain@@ Id(), get@@ StoragePool@@ Id@@ From@@ Vds@@ ()); re@@ gist@@ er@@ All@@ Ovf@@ Disk@@ s(@@ ovf@@ St@@ ore@@ Disk@@ Images@@ , get@@ Parameters().get@@ StorageDomain@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data ov@@ f : un@@ re@@ gist@@ er@@ ed@@ Enti@@ ties@@ From@@ Ovf@@ Disk@@ ) { get@@ Un@@ re@@ gist@@ er@@ ed@@ OV@@ F@@ Data@@ Dao().@@ remove@@ Entity(@@ ovf@@ .get@@ Entity@@ Id(), get@@ Parameters().get@@ StorageDomain@@ Id()); get@@ Un@@ re@@ gist@@ er@@ ed@@ OV@@ F@@ Data@@ Dao().@@ save@@ OV@@ F@@ Data@@ (@@ ovf@@ ); log.info@@ Format@@ ("@@ Add@@ ing OV@@ F dat@@ a of enti@@ ty id {0@@ } and enti@@ ty nam@@ e {@@ 1@@ }@@ ", ovf@@ .get@@ Entity@@ Id(), ovf@@ .get@@ Entity@@ Name()); } return null@@ ; }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (@@ ob@@ j == null@@ ) { return false@@ ; } if ((get@@ Class@@ ()) != (@@ obj@@ .get@@ Class@@ ())) { return false@@ ; } org.ovirt.engine.core.common.businessentities.Vm@@ Pool oth@@ er = ((@@ org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ ) (@@ obj@@ )); return ((((@@ ((@@ org.ovirt.engine.core.common.utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (@@ id@@ , other.@@ id@@ )) && (@@ default@@ Time@@ In@@ D@@ ay@@ s) == (@@ oth@@ er@@ .@@ default@@ Time@@ In@@ D@@ ay@@ s@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (@@ parameters@@ , other.@@ parameters@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (vds@@ Group@@ Id, other.@@ vds@@ Group@@ Id@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (@@ d@@ escription@@ , other.@@ d@@ escription@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (@@ name@@ , other.@@ name@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (@@ type@@ , other.@@ type@@ ))) && ((@@ ma@@ x@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Per@@ User@@ ) == (@@ other.@@ ma@@ x@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Per@@ User@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (vm@@ t@@ Guid@@ , other.@@ vm@@ t@@ Guid@@ ))) && ((@@ us@@ e@@ L@@ at@@ est@@ Version@@ ) == (@@ other.@@ us@@ e@@ L@@ at@@ est@@ Version@@ )); }
private static void update@@ Network@@ Detail@@ s@@ In@@ Interfac@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface if@@ ace@@ , java.util.Map<java.lang.String, java.lang.Integer@@ > c@@ urr@@ V@@ lan@@ s, java.util.Map<java.lang.String, java.lang.Integer@@ > network@@ V@@ lan@@ s, java.util.Map<java.lang.String, java.lang.Object> network@@ , org.ovirt.engine.core.common.businessentities.@@ Network net@@ , boolean b@@ rid@@ ged@@ ) { if (@@ if@@ ac@@ e != null@@ ) { if@@ ac@@ e.set@@ Network@@ Name(@@ net@@ .get@@ name@@ ()); if (c@@ urr@@ V@@ lan@@ s.@@ contains@@ Key@@ (@@ if@@ ac@@ e.get@@ Name@@ ())) { network@@ V@@ lan@@ s.@@ put(@@ net@@ .get@@ name@@ (), c@@ urr@@ V@@ lan@@ s.get@@ (@@ if@@ ac@@ e.get@@ Name@@ ())); } if (@@ org.apache.commons.lang.StringUtils.@@ equals@@ (@@ if@@ ac@@ e.get@@ Network@@ Name(), org.ovirt.engine.core.utils.@@ Network@@ Util@@ s.get@@ Engine@@ Network@@ ())) { if@@ ac@@ e.set@@ Type@@ ((@@ (@@ if@@ ac@@ e.get@@ Type()) | (@@ Vds@@ Interface@@ Type.@@ Manage@@ m@@ ent.get@@ Value@@ ()))); } if (@@ b@@ rid@@ ged@@ ) { if@@ ac@@ e.set@@ Address@@ (@@ net@@ .get@@ add@@ r@@ ()); if@@ ac@@ e.set@@ Sub@@ net@@ (@@ net@@ .get@@ sub@@ net@@ ()); } if@@ ac@@ e.set@@ B@@ rid@@ g@@ ed(@@ b@@ rid@@ ged@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ set@@ G@@ ate@@ w@@ ay@@ If@@ Management@@ Network@@ (@@ if@@ ace@@ , net@@ .get@@ g@@ ate@@ w@@ ay@@ ()); java.util.Map<java.lang.String, java.lang.Object> network@@ Config@@ As@@ Map = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (((@@ network@@ .get@@ ("@@ c@@ f@@ g@@ "@@ )) instanceof java.util.@@ Map@@ ) ? network@@ .get@@ ("@@ c@@ f@@ g@@ ") : null@@ )); org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Str@@ uc@@ t network@@ Confi@@ g = (network@@ Config@@ As@@ Map == null@@ ) ? null : new org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Str@@ uc@@ t@@ (network@@ Config@@ As@@ Map@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ Add@@ Boot@@ Protocol@@ (network@@ Config@@ , if@@ ace@@ ); } }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Value(@@ T re@@ ason@@ ed@@ ) { if (((@@ re@@ ason@@ ed@@ .get@@ St@@ op@@ Reason@@ ()) != null@@ ) && (!(@@ re@@ ason@@ ed@@ .get@@ St@@ op@@ Reason@@ ().@@ t@@ ri@@ m@@ ().is@@ Empty@@ ()))) { return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Prot@@ ot@@ yp@@ e.c@@ reate@@ (@@ res@@ ourc@@ es.@@ c@@ omm@@ ent@@ Image@@ ())@@ .get@@ H@@ T@@ M@@ L@@ ()); } return null@@ ; }
protected org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters build@@ Create@@ Vm@@ Parameters@@ () { org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Vds@@ Id(), org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ()); parameters.set@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ To@@ V@@ f@@ Map@@ (@@ init@@ Parameters@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s()); parameters.set@@ Run@@ In@@ Un@@ k@@ n@@ ow@@ n@@ Status@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Parameters@@ ().is@@ Run@@ In@@ Un@@ k@@ n@@ ow@@ n@@ Status@@ ()); parameters.set@@ Vm@@ P@@ ay@@ load@@ (vm@@ P@@ ay@@ load@@ ); if ((((@@ initial@@ ization@@ Type@@ ) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ ization@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ )) && (@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ W@@ in@@ do@@ w@@ s@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Vm@@ Os@@ Id@@ ()))) && ((@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ F@@ lo@@ p@@ p@@ y@@ Path@@ ()) == null@@ ) || ("@@ "@@ .@@ equals@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ F@@ lo@@ p@@ p@@ p@@ y@@ Path@@ ())@@ ))) { parameters.set@@ In@@ itial@@ ization@@ Type(@@ In@@ itial@@ ization@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ ); } if (((@@ initial@@ ization@@ Type@@ ) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ ization@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ )) && (!(@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ W@@ in@@ do@@ w@@ s@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Vm@@ Os@@ Id@@ ())@@ ))) { parameters.set@@ In@@ itial@@ ization@@ Type(@@ In@@ itial@@ ization@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ ); } return parameters@@ ; }
@java.lang.Override public java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type@@ > get@@ Job@@ Su@@ bject@@ Entity@@ By@@ Job@@ Id(@@ org.ovirt.engine.core.compat.Guid job@@ Id) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ job@@ _id", job@@ Id); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Su@@ bject@@ Entity@@ > lis@@ t = get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Job@@ Su@@ bject@@ Entity@@ By@@ Job@@ Id@@ ", org.ovirt.engine.core.dao.@@ Job@@ Su@@ bject@@ Entity@@ Dao@@ Fac@@ ade@@ Impl.@@ job@@ Su@@ bject@@ Entity@@ Row@@ Map@@ per@@ , parameter@@ Source@@ ); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type@@ > entity@@ Map = new java.util.HashMap<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Su@@ bject@@ Entity job@@ Su@@ bject@@ Entity : list@@ ) { entity@@ Map.@@ put(@@ job@@ Su@@ bject@@ Entity@@ .get@@ Entity@@ Id(), job@@ Su@@ bject@@ Entity@@ .get@@ Entity@@ Type@@ ()); } return entity@@ Map@@ ; }
private void set@@ Active@@ Direct@@ ory@@ O@@ U@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model value@@ ) { private@@ Active@@ Direct@@ ory@@ O@@ U = value@@ ; }
private int get@@ Resource@@ Type(@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ ode@@ , java.lang.String res@@ ource@@ ) { if (((@@ n@@ od@@ e.@@ s@@ el@@ ect@@ Sing@@ le@@ Node@@ (@@ res@@ ource@@ , _@@ x@@ ml@@ N@@ S@@ )) != null@@ ) && (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ n@@ od@@ e.@@ s@@ el@@ ect@@ Sing@@ le@@ Node@@ (@@ res@@ ource@@ , _@@ x@@ ml@@ N@@ S@@ ).@@ in@@ n@@ er@@ Text@@ )@@ ))) { return java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (@@ n@@ od@@ e.@@ s@@ el@@ ect@@ Sing@@ le@@ Node@@ (@@ res@@ ource@@ , _@@ x@@ ml@@ N@@ S@@ ).@@ in@@ n@@ er@@ Text@@ ); } return -@@ 1@@ ; }
private org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Task@@ Status@@ Entity f@@ et@@ ch@@ Rem@@ ob@@ e@@ Brick@@ s@@ Status@@ Detail@@ s() { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value = run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ GlusterVolume@@ Remove@@ Brick@@ s@@ Status@@ , new org.ovirt.engine.core.common.vdscommands.@@ gluster.GlusterVolume@@ Remove@@ Brick@@ s@@ VDS@@ Parameters@@ (get@@ Up@@ Server@@ Id@@ (cluster@@ Id@@ ), volum@@ e.get@@ Name(), org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ GlusterVolume@@ Remove@@ Brick@@ s@@ Status@@ Query.get@@ Parameters().get@@ Brick@@ s@@ (), volum@@ e.get@@ Repl@@ ic@@ a@@ Count@@ ())); org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Task@@ Status@@ Entity enti@@ ty = ((org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Task@@ Status@@ Entity@@ ) (@@ return@@ Value.get@@ ReturnValue@@ ())); org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ Async@@ T@@ as@@ k async@@ T@@ as@@ k = volum@@ e.get@@ AsyncTask@@ (); if ((@@ async@@ T@@ as@@ k != null@@ ) && ((@@ async@@ Task@@ .get@@ Task@@ Id()) != null@@ )) { java.util.List<@@ org.ovirt.engine.core.common.@@ job.@@ Step@@ > st@@ ep@@ s@@ List = get@@ Step@@ Dao().get@@ Step@@ sBy@@ External@@ Id(@@ async@@ Task@@ .get@@ Task@@ Id()); if ((@@ st@@ ep@@ s@@ List != null@@ ) && (!(@@ st@@ ep@@ s@@ List.@@ isEmpty@@ ()))) { entity.set@@ Start@@ Tim@@ e(@@ st@@ ep@@ s@@ Lis@@ t.get@@ (0@@ ).get@@ Start@@ Time@@ ()); } update@@ Task@@ Step@@ Detail@@ s(@@ async@@ Task@@ , entity.get@@ Status@@ S@@ um@@ mar@@ y@@ ().get@@ Status@@ ()); if ((@@ async@@ Task@@ .get@@ Status()) == (org.ovirt.engine.core.common.@@ job.@@ Job@@ Execution@@ Status.@@ AB@@ OR@@ T@@ ED@@ )) { entity.get@@ Status@@ S@@ um@@ mar@@ y@@ ().set@@ Status(@@ Job@@ Execution@@ Status.@@ AB@@ OR@@ T@@ ED); } } update@@ Host@@ I@@ P@@ (@@ entity@@ ); return entity@@ ; }
@org.junit.Test public void test@@ All@@ Domain@@ sWith@@ in@@ Th@@ es@@ h@@ old@@ () { setUp@@ Gener@@ al@@ Validation@@ s(); setUp@@ Disk@@ Validation@@ s(); do@@ Return@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command@@ Tes@@ t.get@@ Non@@ Empty@@ Disk@@ List@@ ()).@@ when@@ (cmd@@ ).get@@ Disks@@ List@@ (); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult@@ (@@ org.ovirt.engine.core.dal.@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AC@@ E_@@ LO@@ W@@ _@@ ON_@@ T@@ AR@@ G@@ E@@ T_@@ STORAGE_@@ DOMA@@ IN@@ )).@@ when@@ (m@@ ulti@@ ple@@ StorageDomain@@ s@@ Validator@@ ).@@ all@@ Domain@@ s@@ Exist@@ And@@ Active@@ (); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AC@@ E_@@ LO@@ W@@ _@@ ON_@@ T@@ AR@@ G@@ E@@ T_@@ STORAGE_@@ DOMA@@ IN@@ .@@ name@@ ())); }
@org.junit.Test public void test@@ Interface@@ In@@ Host@@ W@@ h@@ en@@ In@@ D@@ if@@ fer@@ ent@@ Host@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface vds@@ Network@@ Interface = create@@ VdsNetwork@@ Interface@@ With@@ Name@@ (); vds@@ Network@@ Interfac@@ e.set@@ Vds@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.compat.Guid host@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); org.@@ h@@ am@@ c@@ res@@ t.@@ Match@@ er@@ <@@ org.ovirt.engine.core.bll.ValidationResult@@ > mat@@ ch@@ er = org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ N@@ IC@@ _@@ NOT_@@ EXIST@@ S_@@ ON_@@ HOST@@ , org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (@@ Host@@ Interface@@ Validator.@@ VAR@@ _@@ N@@ IC@@ _@@ NOT_@@ EXIST@@ S_@@ ON_@@ HOST@@ _@@ EN@@ TI@@ TY@@ , host@@ Id@@ .@@ toString@@ ())); assert@@ That@@ (@@ new org.ovirt.engine.core.bll.validator.@@ Host@@ Interface@@ Validator@@ (vds@@ Network@@ Interface@@ )@@ .@@ int@@ er@@ fac@@ e@@ In@@ Host@@ (@@ host@@ Id@@ ), mat@@ ch@@ er@@ ); }
private java.util.List<@@ org.ovirt.engine.core.common.vdscommands.@@ Host@@ Network@@ > get@@ Networks@@ () { if ((@@ network@@ sTo@@ Configur@@ e) == null@@ ) { network@@ sTo@@ Configur@@ e = new java.util.Array@@ List@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Host@@ SetupNetworks@@ Command.getParameters().get@@ NetworkAttachment@@ s().@@ size@@ ()); org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Map<@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ > nic@@ s = new org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Map@@ (get@@ Existing@@ Nic@@ s()); for (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent attach@@ m@@ ent : org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Command.getParameters().get@@ NetworkAttachment@@ s()) { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = get@@ Network@@ B@@ usiness@@ Entity@@ Map@@ ().get@@ (@@ attach@@ m@@ ent.get@@ Network@@ Id()); org.ovirt.engine.core.common.vdscommands.@@ Host@@ Network network@@ To@@ Configur@@ e = new org.ovirt.engine.core.common.vdscommands.@@ Host@@ Network@@ (network@@ , attach@@ ment@@ ); network@@ To@@ Configur@@ e.set@@ Bond@@ ing@@ (is@@ Bond@@ ing@@ (@@ attach@@ ment@@ , nic@@ s@@ )); if (@@ default@@ R@@ o@@ u@@ te@@ Supported@@ ()) && (@@ default@@ R@@ o@@ u@@ te@@ Requi@@ red@@ (network@@ , attach@@ m@@ ent.get@@ Ip@@ Configuration@@ ()))) { network@@ To@@ Configur@@ e.set@@ Default@@ R@@ o@@ u@@ te@@ (@@ true@@ ); } network@@ sTo@@ Configur@@ e.@@ add(@@ network@@ To@@ Configur@@ e); } } return network@@ sTo@@ Configur@@ e@@ ; }
@java.lang.Override protected boolean validate@@ () { if (org.ovirt.engine.core.bll.storage.@@ disk.@@ Change@@ Disk@@ Command.@@ shoul@@ d@@ S@@ k@@ ip@@ Command@@ Execution@@ C@@ ach@@ ed@@ ()) { return true@@ ; } if ((@@ org.ovirt.engine.core.bll.storage.disk.@@ Change@@ Disk@@ Command.getVm@@ ()) == null@@ ) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); } if (!@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ Change@@ Disk@@ Command.@@ can@@ Run@@ Action@@ On@@ Non@@ Manage@@ d@@ Vm@@ ())) { return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ Change@@ Disk@@ Command.getVm@@ ().is@@ Run@@ ning@@ Or@@ Pa@@ us@@ ed@@ ())) { return org.ovirt.engine.core.bll.storage.disk.@@ Change@@ Disk@@ Command.@@ fail@@ Vm@@ Status@@ I@@ l@@ le@@ g@@ al@@ (); } if ((@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er@@ .getInstance().@@ fin@@ d@@ Active@@ IS@@ O@@ Domain@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ Change@@ Disk@@ Command.getVm@@ ().get@@ StoragePool@@ Id@@ ())) == null@@ ) && (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (c@@ d@@ Image@@ Path@@ )@@ ))) { return fail@@ Validation@@ (EngineMessage.@@ VM@@ _C@@ ANNOT_@@ W@@ I@@ T@@ HO@@ U@@ T_@@ AC@@ TI@@ V@@ E_@@ STORAGE_@@ DOMA@@ IN_@@ IS@@ O@@ ); } if ((@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (c@@ d@@ Image@@ Path@@ )) && (!(@@ org.apache.commons.lang.StringUtils.@@ en@@ ds@@ With@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ c@@ d@@ Image@@ Path@@ , Validation@@ Utils.@@ IS@@ O@@ _S@@ U@@ F@@ I@@ X@@ )@@ ))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ IN@@ VALID@@ _C@@ D@@ RO@@ M@@ _@@ DIS@@ K_@@ F@@ OR@@ M@@ AT@@ ); } return true@@ ; }
protected boolean pc@@ i@@ And@@ I@@ de@@ With@@ in@@ L@@ im@@ it@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > all@@ Interfaces@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > all@@ Disk@@ s = org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Abstract@@ Vm@@ Interface@@ Command.get@@ Disk@@ Dao().get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Abstract@@ Vm@@ Interface@@ Command.getVm@@ Id()); return check@@ P@@ c@@ i@@ And@@ I@@ de@@ L@@ im@@ it@@ (vm.get@@ Os@@ (), vm.get@@ VdsGroup@@ CompatibilityVersion@@ (), vm.get@@ Num@@ Of@@ Monitor@@ s@@ (), all@@ Interfaces@@ , all@@ Disk@@ s, org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ is@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ er@@ Attached@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Abstract@@ Vm@@ Interface@@ Command.getVm@@ Id@@ ()), org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Abstract@@ Vm@@ Interface@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ()); }
public org.ovirt.engine.core.bll.ValidationResult st@@ p@@ For@@ VmNetwork@@ Only@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ N@@ ON_@@ VM_@@ NETWORK_@@ C@@ ANNOT_@@ SUP@@ POR@@ T_@@ ST@@ P@@ ).@@ un@@ l@@ ess@@ (((@@ network.@@ is@@ VmNetwork@@ ()) || (!(@@ network@@ .get@@ St@@ p@@ ())@@ ))); }
@java.lang.Override public java.lang.String get@@ Label@@ () { if (@@ us@@ e@@ R@@ ad@@ i@@ o@@ Button@@ Widget@@ Label@@ ) { return as@@ R@@ ad@@ i@@ o@@ Button@@ ().get@@ H@@ T@@ M@@ L@@ (); } else { return super@@ .get@@ Label@@ (); } }
private java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ M@@ eth@@ o@@ d res@@ ol@@ ve@@ Get@@ () throw@@ s java.lang.@@ N@@ oS@@ u@@ ch@@ Method@@ Exception@@ , java.lang.@@ Sec@@ ur@@ ity@@ Exception { java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ M@@ eth@@ o@@ d m@@ ethod@@ S@@ ign@@ at@@ ur@@ e = org.ovirt.engine.api.restapi.resource.@@ Backend@@ Res@@ ource.@@ fin@@ d@@ Get@@ S@@ ign@@ at@@ ure@@ (@@ this@@ .get@@ Class@@ ()); java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ M@@ eth@@ o@@ d m@@ ethod@@ Im@@ pl@@ ement@@ ation = this@@ .get@@ Class@@ ().get@@ Method@@ (m@@ ethod@@ S@@ ign@@ at@@ ur@@ e.get@@ Name(), m@@ ethod@@ S@@ ign@@ at@@ ur@@ e.get@@ Parameter@@ Typ@@ es@@ ()); return m@@ ethod@@ Im@@ pl@@ ement@@ ation@@ ; }
@org.junit.Test public void canDoAction@@ Lun@@ s@@ Not@@ P@@ art@@ Of@@ StorageDomain@@ () { java.util.@@ List lun@@ s@@ From@@ D@@ b = new java.util.ArrayList<>(); org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ 1 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 1@@ .set@@ LUN@@ _id@@ ("@@ 1@@ 1@@ 1@@ "); lun@@ 1@@ .set@@ StorageDomain@@ Id@@ (s@@ d@@ Id); org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ 2 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 2@@ .set@@ LUN@@ _id@@ ("@@ 2@@ 2@@ 2@@ 2@@ 2@@ "); lun@@ 2@@ .set@@ StorageDomain@@ Id@@ (s@@ d@@ Id); lun@@ s@@ From@@ Db@@ .@@ add(@@ lun@@ 1@@ ); lun@@ s@@ From@@ Db@@ .@@ add(@@ lun@@ 2@@ ); when(@@ lun@@ s@@ Dao.get@@ AllFor@@ Volume@@ Group@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ lun@@ .@@ Re@@ fresh@@ Lun@@ s@@ Size@@ Command@@ Test.@@ STOR@@ AG@@ E@@ )).@@ thenReturn(@@ lun@@ s@@ From@@ Db@@ ); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ cmd@@ , EngineMessage.ACTION_TYPE_FAILED_@@ LUN@@ S_NOT_@@ P@@ AR@@ T_@@ O@@ F@@ _@@ STORAGE_@@ DOMA@@ IN@@ ); }
protected boolean is@@ StorageDomain@@ Type@@ C@@ or@@ r@@ ect@@ (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain storageDomain@@ ) { return (@@ storageDomain@@ .is@@ Local@@ ()) == (org.ovirt.engine.core.bll.storage.@@ Storage@@ Handl@@ ing@@ CommandBase.get@@ StoragePool@@ ().is@@ Local@@ ()); }
private org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.Boolean@@ , java.util.@@ Set<@@ java.lang.String@@ >> in@@ sert@@ Sh@@ ared@@ Lock@@ (java.lang.String key@@ , java.lang.String mess@@ age@@ , boolean is@@ Check@@ Only@@ ) { org.ovirt.engine.core.bll.@@ lock@@ .@@ In@@ Memory@@ Lock@@ Manager.@@ Internal@@ Lock@@ Vi@@ e@@ w loc@@ k = lock@@ s.get@@ (@@ key@@ ); if (@@ loc@@ k != null@@ ) { if (!@@ is@@ Check@@ Only@@ ) { lock@@ .@@ in@@ c@@ re@@ ase@@ Count@@ (); lock@@ .@@ add@@ Message@@ (m@@ ess@@ age@@ ); } else if (@@ lock@@ .get@@ Ex@@ cl@@ us@@ ive@@ ()) { return new org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.Boolean@@ , java.util.@@ Set<@@ java.lang.String@@ >@@ (@@ java.lang.Boolean@@ .@@ FA@@ L@@ S@@ E, lock@@ .get@@ Messages@@ ()); } } else if (!@@ is@@ Check@@ Only@@ ) { lock@@ s.@@ put(@@ key@@ , new org.ovirt.engine.core.bll.@@ lock@@ .@@ In@@ Memory@@ Lock@@ Manager.@@ Internal@@ Lock@@ (@@ 1, mess@@ age@@ , false@@ )); } return org.ovirt.engine.core.bll.@@ lock@@ .@@ In@@ Memory@@ Lock@@ Manager.@@ LO@@ C@@ K_@@ IN@@ S@@ ER_@@ S@@ U@@ C@@ C@@ C@@ ES@@ S_@@ RE@@ S@@ U@@ L@@ T@@ ; }
@java.lang.Override public void h@@ andle@@ Request@@ (@@ io.@@ un@@ der@@ to@@ w@@ .@@ server.@@ Http@@ Server@@ Ex@@ ch@@ ang@@ e ex@@ ch@@ ang@@ e) throw@@ s java.lang.Exception { if (!(@@ ex@@ ch@@ ang@@ e.get@@ Request@@ H@@ ead@@ ers@@ ().get@@ F@@ ir@@ st@@ ("@@ Auth@@ or@@ ization@@ ").@@ equals@@ ((@@ "@@ Be@@ ar@@ er " + (@@ org.ovirt.engine.@@ sd@@ k@@ 4@@ .@@ Server@@ Test.@@ TO@@ K@@ EN@@ )@@ ))) { ex@@ ch@@ ang@@ e.set@@ Status@@ Code@@ (@@ 4@@ 0@@ 1@@ ); ex@@ ch@@ ang@@ e.get@@ Respon@@ se@@ S@@ ender@@ ().@@ s@@ end@@ ("@@ "); } else { java.lang.@@ Th@@ read@@ .@@ s@@ le@@ ep@@ (@@ de@@ l@@ ay@@ ); ex@@ ch@@ ang@@ e.set@@ Status@@ Code@@ (c@@ ode@@ ); ex@@ ch@@ ang@@ e.get@@ Respon@@ se@@ H@@ ead@@ ers@@ ().@@ put(@@ H@@ ead@@ er@@ s.@@ C@@ ON@@ T@@ EN@@ T_@@ TYP@@ E, "@@ ap@@ plication@@ /@@ x@@ ml@@ "); ex@@ ch@@ ang@@ e.get@@ Respon@@ se@@ S@@ ender@@ ().@@ s@@ end@@ (@@ b@@ od@@ y@@ ); l@@ ast@@ Request@@ Query = ex@@ ch@@ ang@@ e.get@@ Query@@ String@@ (); } }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ VnicProfile@@ Model@@ > profil@@ es@@ Model@@ s = new java.util.@@ Link@@ ed@@ List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ VnicProfile@@ Model@@ >(); for (org.ovirt.engine.core.common.businessentities.network.@@ VnicProfile@@ Vi@@ e@@ w profil@@ e@@ Vi@@ e@@ w : ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VnicProfile@@ View@@ >) (@@ return@@ Value@@ ))) { org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ VnicProfile@@ Model edit@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ Edit@@ VnicProfile@@ Model@@ (get@@ Source@@ ListModel@@ (), get@@ Selected@@ D@@ c@@ ().get@@ c@@ ompatibility@@ _@@ version@@ (), profil@@ e@@ View@@ , false@@ ); edit@@ Model.@@ init@@ Network@@ Q@@ oS@@ List@@ (get@@ Selected@@ D@@ c@@ ().get@@ Id()); profil@@ es@@ Model@@ s.add(@@ edit@@ Model@@ ); edit@@ Model.get@@ Name@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); } if (@@ profil@@ es@@ Model@@ s.@@ isEmpty@@ ()) { org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ VnicProfile@@ Model new@@ Profile@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ New@@ VnicProfile@@ Model@@ (get@@ Source@@ ListModel@@ (), get@@ Selected@@ D@@ c@@ ().get@@ c@@ ompatibility@@ _@@ version@@ (), false@@ ); new@@ Profile@@ Model.@@ init@@ Network@@ Q@@ oS@@ List@@ (get@@ Selected@@ D@@ c@@ ().get@@ Id()); profil@@ es@@ Model@@ s.@@ add@@ (@@ new@@ Profile@@ Model@@ ); } get@@ Profil@@ es@@ ().set@@ Items(@@ profil@@ es@@ Model@@ s); or@@ i@@ gin@@ al@@ Profile@@ Model@@ s = profil@@ es@@ Model@@ s@@ ; }
protected boolean validate@@ Sp@@ ace@@ Requi@@ re@@ ment@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ s@@ List@@ ) { org.ovirt.engine.core.bll.validator.@@ Multiple@@ StorageDomain@@ s@@ Validator sd@@ Validator = create@@ Multiple@@ StorageDomain@@ s@@ Validator@@ (disk@@ s@@ List@@ ); return ((@@ validate@@ (s@@ d@@ Validator.@@ all@@ Domain@@ s@@ Exist@@ And@@ Active@@ ())) && (@@ validate@@ (s@@ d@@ Validator.@@ all@@ Domain@@ sWith@@ in@@ Th@@ resh@@ ol@@ ds@@ ()))) && (@@ validate@@ (s@@ d@@ Validator.@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ Cl@@ on@@ ed@@ Disk@@ s(@@ disk@@ s@@ List@@ ))); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ B@@ lan@@ k Templ@@ ate can@@ not b@@ e c@@ op@@ i@@ ed@@ ") java.lang.String bl@@ an@@ k@@ Template@@ Can@@ not@@ Be@@ C@@ op@@ i@@ ed@@ ();
@org.junit.Test public void q@@ os@@ Not@@ Supported@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = create@@ Management@@ Network@@ (); mock@@ Existing@@ Network@@ s(@@ network@@ ); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e = create@@ Nic@@ S@@ yn@@ ce@@ d@@ With@@ Network@@ ("@@ eth@@ 0@@ ", network@@ ); mock@@ Existing@@ I@@ fac@@ es@@ (@@ if@@ ace@@ ); if@@ ac@@ e.set@@ Qos@@ O@@ verrid@@ d@@ en@@ (@@ true@@ ); org.ovirt.engine.core.bll.network.@@ host.@@ SetupNetworks@@ Help@@ er h@@ el@@ p@@ er = create@@ Helper@@ (c@@ reate@@ Parameters@@ For@@ Nic@@ s@@ (@@ if@@ ace@@ )); validate@@ And@@ Expect@@ Vi@@ ol@@ ation@@ (@@ h@@ el@@ per@@ , VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ HOST@@ _@@ NETWORK_@@ Q@@ O@@ S_NOT_@@ SUP@@ PORT@@ ED@@ , org.ovirt.engine.core.bll.network.@@ host.@@ SetupNetworks@@ Helper@@ Test.@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ NAM@@ E); }
private boolean execute@@ S@@ sh@@ P@@ ow@@ er@@ Down@@ (java.lang.String version@@ ) { boolean re@@ t = false@@ ; try (@@ final org.ovirt.engine.core.bll.@@ utils.@@ Engine@@ SS@@ H@@ Cli@@ ent s@@ sh@@ Cli@@ ent = new org.ovirt.engine.core.bll.@@ utils.@@ Engine@@ SS@@ H@@ Client@@ ();@@ final java.io.@@ By@@ te@@ Array@@ Out@@ put@@ St@@ rea@@ m cmd@@ O@@ u@@ t = new java.io.@@ By@@ te@@ Array@@ Out@@ put@@ St@@ ream@@ ();@@ final java.io.@@ By@@ te@@ Array@@ Out@@ put@@ St@@ rea@@ m cmd@@ E@@ r@@ r = new java.io.@@ By@@ te@@ Array@@ Out@@ put@@ St@@ ream@@ ()) { try { log.info@@ ("@@ Op@@ en@@ ing SS@@ H p@@ ow@@ er do@@ w@@ n s@@ ess@@ ion on hos@@ t {}@@ ", org.ovirt.engine.core.bll.@@ Vds@@ P@@ ow@@ er@@ Down@@ Command.get@@ Vds@@ ().get@@ Host@@ Name()); s@@ sh@@ Cli@@ ent.@@ set@@ Vds@@ (org.ovirt.engine.core.bll.@@ Vds@@ P@@ ow@@ er@@ Down@@ Command.get@@ Vds@@ ()); s@@ sh@@ Cli@@ ent.@@ us@@ e@@ Default@@ Key@@ Pair@@ (); s@@ sh@@ Cli@@ ent.@@ conn@@ ect@@ (); s@@ sh@@ Cli@@ ent.@@ auth@@ entic@@ ate@@ (); log.info@@ ("@@ Execu@@ t@@ ing SS@@ H p@@ ow@@ er do@@ w@@ n c@@ ommand on hos@@ t {}@@ ", org.ovirt.engine.core.bll.@@ Vds@@ P@@ ow@@ er@@ Down@@ Command.get@@ Vds@@ ().get@@ Host@@ Name()); s@@ sh@@ Cli@@ ent.@@ execute@@ Command@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.String@@ >@@ get@@ Value(ConfigValues.@@ S@@ sh@@ Vds@@ P@@ ow@@ er@@ do@@ wn@@ Command@@ , version@@ ), null@@ , cmd@@ Out@@ , cmd@@ Err@@ ); re@@ t = true@@ ; } catch (@@ java.lang.Exception ex@@ ) { log.error("@@ SS@@ H p@@ ow@@ er do@@ w@@ n c@@ ommand fail@@ ed on hos@@ t \@@ '{}@@ \@@ '@@ : {}@@ \@@ n@@ S@@ t@@ do@@ ut@@ : {}@@ \@@ n@@ St@@ der@@ r@@ : {}@@ ", org.ovirt.engine.core.bll.@@ Vds@@ P@@ ow@@ er@@ Down@@ Command.get@@ Vds@@ ().get@@ Host@@ Name(), ex@@ .get@@ Message@@ (), cmd@@ Out@@ , cmd@@ Err@@ ); log.debug@@ ("@@ Exception@@ ", ex@@ ); } } catch (@@ java.io.@@ I@@ O@@ Exception e) { log.error("@@ I@@ O@@ Exception@@ "); log.debug@@ ("@@ Exception@@ ", e); } return ret@@ ; }
private void set@@ System@@ Local@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.String> value@@ ) { private@@ System@@ Local@@ e = value@@ ; }
@java.lang.Override protected void con@@ ver@@ t@@ () { boolean us@@ e@@ Vir@@ t@@ V@@ 2@@ V = (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ O@@ va@@ Command.getParameters().get@@ Vm().get@@ O@@ ri@@ gin@@ ()) != (org.ovirt.engine.core.common.businessentities.@@ O@@ ri@@ gin@@ Type.@@ OV@@ I@@ R@@ T@@ ); if (@@ us@@ e@@ Vir@@ t@@ V@@ 2@@ V@@ ) { org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ ImportVm@@ From@@ O@@ va@@ Command.@@ f@@ ree@@ Lock@@ (); run@@ Internal@@ Action@@ (@@ ActionType.@@ Conver@@ t@@ O@@ va@@ , build@@ Conver@@ t@@ O@@ va@@ Parameters@@ ()); } else { run@@ Internal@@ Action@@ (@@ ActionType.@@ Ex@@ tr@@ act@@ O@@ va@@ , build@@ Ex@@ tr@@ act@@ O@@ va@@ Parameters@@ ()); } }
private static boolean is@@ Requi@@ red@@ Interface@@ Down@@ (@@ java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.network.Network@@ > network@@ sBy@@ Name, java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > int@@ er@@ fac@@ es@@ , org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e) { if (((@@ (@@ if@@ ac@@ e.get@@ Network@@ Name@@ ()) != null@@ ) && (!(@@ org.ovirt.engine.core.vdsbroker.@@ Network@@ Monitor@@ ing@@ Helper.@@ is@@ Base@@ Interface@@ Up@@ (@@ if@@ ace@@ , int@@ er@@ fac@@ es@@ )@@ ))) && (network@@ sBy@@ Nam@@ e.c@@ on@@ t@@ ain@@ s@@ Key@@ (@@ if@@ ac@@ e.get@@ Network@@ Name@@ ()))) { org.ovirt.engine.core.common.businessentities.network.@@ Network ne@@ t = network@@ sBy@@ Nam@@ e.get@@ (@@ if@@ ac@@ e.get@@ Network@@ Name()); if (((@@ net@@ .get@@ Cluster@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Status.@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ AL@@ )) && (@@ net@@ .get@@ Cluster@@ ().is@@ Requi@@ red@@ ())) { return true@@ ; } } return false@@ ; }
private boolean f@@ et@@ ch@@ StorageDomain@@ Info@@ () { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue all@@ Domain@@ s@@ Query = get@@ Backend@@ ().@@ run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Existing@@ StorageDomain@@ List@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Existing@@ StorageDomain@@ List@@ Parameters@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Import@@ Host@@ ed@@ Engine@@ StorageDomain@@ Command.getParameters().get@@ Vds@@ Id(), null@@ , org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Data@@ , null@@ )); if (@@ all@@ Domain@@ s@@ Query.get@@ Succeeded@@ ()) { for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain s@@ d : ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >) (@@ all@@ Domain@@ s@@ Query.get@@ ReturnValue@@ ()))) { if (s@@ d@@ .getName@@ ().@@ equals@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.String@@ >@@ get@@ Value(ConfigValues.@@ Host@@ ed@@ Engine@@ StorageDomain@@ Name@@ ))) { h@@ e@@ Storage@@ Domain = sd@@ ; return true@@ ; } } } else { log.error@@ ((@@ "@@ Fail@@ ed quer@@ y for al@@ l Stor@@ age Domain@@ s.@@ " + " Th@@ e import c@@ ommand c@@ an not pro@@ cee@@ d with@@ o@@ u@@ t this info@@ ")); } return false@@ ; }
void re@@ gist@@ er@@ Sel@@ ection@@ Change@@ Handler@@ (@@ final org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > bu@@ tton@@ De@@ f@@ ) { final org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s> item@@ Sel@@ ection@@ Change@@ H@@ andle@@ r = new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { bu@@ tton@@ De@@ f@@ .@@ update@@ (); } }; add@@ Sel@@ ection@@ Change@@ Listener@@ (@@ item@@ Sel@@ ection@@ Change@@ Handler@@ ); }
private void assert@@ Interface@@ M@@ o@@ d@@ if@@ i@@ ed@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ SetupNetworks@@ Help@@ er h@@ el@@ per@@ , org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e) { junit.@@ fr@@ ame@@ wor@@ k.@@ As@@ sert@@ .@@ assert@@ True@@ (@@ java.@@ tex@@ t.@@ Message@@ Format@@ .@@ for@@ mat@@ ("@@ Exp@@ ected int@@ er@@ fac@@ e '@@ '@@ '@@ '@@ '@@ ' to b@@ e m@@ o@@ d@@ if@@ i@@ ed bu@@ t i@@ t w@@ as@@ n@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@ '@@
@org.junit.Test public void test@@ Vm@@ Ovf@@ Cre@@ ation@@ Back@@ w@@ ard@@ C@@ ompati@@ l@@ i@@ b@@ il@@ y@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.utils.@@ ovf@@ .@@ Ovf@@ Manager@@ Test.@@ create@@ VM@@ (); java.lang.String x@@ m@@ l = man@@ ag@@ er.@@ Export@@ Vm@@ (vm@@ , new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >@@ (), Version@@ .@@ v@@ 3@@ _@@ 0@@ ); assert@@ Not@@ Null@@ (@@ x@@ ml@@ ); final org.ovirt.engine.core.common.businessentities.VM new@@ V@@ m = new org.ovirt.engine.core.common.businessentities.@@ VM@@ (); man@@ ag@@ er.@@ ImportVm@@ (@@ x@@ ml@@ , new@@ Vm@@ , new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >@@ (), new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface@@ >@@ ()); org.ovirt.engine.core.utils.@@ ovf@@ .@@ Ovf@@ Manager@@ Test@@ .@@ assert@@ Vm@@ (vm@@ , new@@ Vm@@ , vm.get@@ Db@@ Gener@@ ation@@ ()); }
@java.lang.Override public java.lang.String get@@ Default@@ Management@@ Network@@ Name@@ () { return org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.String@@ >@@ get@@ Value(ConfigValues.@@ Default@@ Management@@ Network@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er filter@@ ed@@ Get@@ (org.ovirt.engine.core.compat.Guid id@@ , org.ovirt.engine.core.compat.Guid user@@ Id, boolean is@@ Filter@@ ed@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source s@@ ql@@ Param@@ s = create@@ Id@@ Parameter@@ Map@@ per@@ (@@ id@@ ); s@@ ql@@ Param@@ s.@@ addValue("@@ user@@ _id", user@@ Id); s@@ ql@@ Param@@ s.@@ addValue("@@ is@@ _@@ filter@@ ed@@ ", is@@ Filter@@ ed@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ ("@@ Get@@ Image@@ U@@ plo@@ a@@ ds@@ By@@ Command@@ Id@@ ", create@@ Entity@@ Row@@ Map@@ per@@ (), s@@ ql@@ Param@@ s); }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > lis@@ t = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >) (@@ result@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ DataCenter@@ Storage@@ List@@ Model dc@@ Storage@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ DataCenter@@ Storage@@ ListModel@@ ) (model@@ )); java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ > model@@ s@@ ; model@@ s = new java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ >(); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > item@@ s = ((@@ dc@@ Storage@@ Model.get@@ Item@@ s()) != null@@ ) ? new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >@@ c@@ ast@@ (@@ dc@@ Storage@@ Model.get@@ Item@@ s@@ ())) : new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain a : list@@ ) { if (!(@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .is@@ S@@ D@@ Item@@ Exist@@ In@@ List(@@ item@@ s, a@@ .getId@@ ()))) { org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > temp@@ V@@ a@@ r = new org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >(); tempVar@@ .set@@ Entity(@@ a@@ ); model@@ s.add(@@ tempVar@@ ); } } dc@@ Storage@@ Model.@@ p@@ ost@@ Attach@@ Internal@@ (model@@ s); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ RE@@ M@@ OV@@ E); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _P@@ RO@@ V@@ ID@@ ER@@ ); }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c gluster@@ Volume@@ GeoRep@@ Config@@ Set@@ (java.lang.String volume@@ Name, java.util.Map<java.lang.String, java.lang.String> param@@ s, boolean for@@ ce@@ );
public void re@@ us@@ e@@ Session@@ () { get@@ Session@@ Id@@ (@@ new org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Storage@@ Callback@@ () { @java.lang.Override public void onSuccess@@ (java.lang.String result) { if (@@ result != null@@ ) { res@@ t@@ Ap@@ i@@ Session@@ Id = result@@ ; org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .res@@ tapi@@ .@@ Res@@ t@@ Ap@@ i@@ Session@@ Ac@@ qui@@ red@@ Ev@@ ent.@@ fi@@ re@@ (@@ event@@ B@@ us@@ , result@@ ); schedul@@ e@@ K@@ e@@ ep@@ Al@@ ive@@ H@@ e@@ art@@ b@@ eat@@ (); } else { org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .res@@ tapi@@ .@@ Res@@ t@@ Ap@@ i@@ Session@@ Manager.@@ log@@ g@@ er.@@ se@@ ver@@ e@@ ("@@ Engin@@ e RE@@ S@@ T A@@ P@@ I s@@ ess@@ ion I@@ D is not ava@@ il@@ able@@ "); } } @java.lang.Override public void on@@ Fail@@ ure(@@ java.lang.@@ Th@@ row@@ able c@@ au@@ g@@ ht@@ ) { org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .res@@ tapi@@ .@@ Res@@ t@@ Ap@@ i@@ Session@@ Manager.@@ log@@ g@@ er.@@ se@@ ver@@ e@@ ("@@ Engin@@ e RE@@ S@@ T A@@ P@@ I s@@ ess@@ ion I@@ D is not ava@@ il@@ able@@ "); } }); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> get@@ Device@@ List(@@ java.util.@@ Set<@@ java.lang.String> lun@@ s@@ Id@@ s) { if ((@@ Abstract@@ Sync@@ Lun@@ s@@ Command.getParameters().get@@ Device@@ List@@ ()) == null@@ ) { return run@@ Get@@ Device@@ List(@@ lun@@ s@@ Id@@ s); } if (@@ lun@@ s@@ Id@@ s == null@@ ) { return Abstract@@ Sync@@ Lun@@ s@@ Command.getParameters().get@@ Device@@ List@@ (); } java.util.@@ Set<@@ java.lang.String> lun@@ s@@ Id@@ s@@ Se@@ t = new java.util.Hash@@ Set<@@ >@@ (@@ lun@@ s@@ Id@@ s); return Abstract@@ Sync@@ Lun@@ s@@ Command.getParameters().get@@ Device@@ List@@ ().@@ stream@@ ().@@ filter@@ (@@ ( lun@@ ) -@@ > lun@@ s@@ Id@@ s@@ Set@@ .@@ contains(@@ lun@@ .getId@@ ())@@ ).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); }
public java.util.List<@@ org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ L@@ dap@@ Query@@ Data@@ > get@@ L@@ dap@@ Quer@@ i@@ es@@ Data@@ (java.lang.String do@@ m@@ ain@@ ) { int query@@ L@@ im@@ i@@ t = java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ ("@@ Max@@ L@@ DA@@ P@@ Query@@ P@@ art@@ s@@ Num@@ ber@@ "); java.util.List<@@ org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ L@@ dap@@ Query@@ Data@@ > result@@ s = new java.util.ArrayList<@@ org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ L@@ dap@@ Query@@ Data@@ >(); org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ L@@ dap@@ Query@@ Data sub@@ Query@@ Data = new org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ L@@ dap@@ Query@@ Data@@ Im@@ pl@@ (); java.util.ArrayList<@@ java.lang.Object> filter@@ Parameters = new java.util.ArrayList<@@ java.lang.Object@@ >(); int c@@ oun@@ te@@ r = 0@@ ; for (org.ovirt.engine.core.compat.Guid id@@ ent@@ if@@ i@@ er : l@@ dap@@ Id@@ ent@@ if@@ i@@ ers@@ ) { filter@@ Parameter@@ s.add(@@ id@@ ent@@ if@@ i@@ er@@ ); if (c@@ oun@@ te@@ r >@@ = query@@ L@@ im@@ it@@ ) { sub@@ Query@@ Data@@ .set@@ Filter@@ Parameters(@@ filter@@ Parameter@@ s.@@ to@@ Array@@ ()); sub@@ Query@@ Data@@ .set@@ L@@ dap@@ Query@@ Type(@@ L@@ dap@@ Query@@ Typ@@ e.get@@ Us@@ ers@@ By@@ User@@ Gui@@ ds@@ ); sub@@ Query@@ Data@@ .set@@ Base@@ D@@ N@@ Parameters@@ (@@ null@@ ); sub@@ Query@@ Data@@ .set@@ Domain@@ (@@ do@@ m@@ ain@@ ); result@@ s.@@ add@@ (s@@ ub@@ Query@@ Data@@ ); sub@@ Query@@ Data = new org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ Query@@ Data@@ Im@@ pl@@ (); filter@@ Parameters = new java.util.ArrayList<@@ java.lang.Object@@ >(); c@@ oun@@ te@@ r = 0@@ ; } c@@ oun@@ ter@@ +@@ +@@ +@@ ; } if (!(@@ filter@@ Parameter@@ s.@@ isEmpty@@ ())) { sub@@ Query@@ Data@@ .set@@ Filter@@ Parameters(@@ filter@@ Parameter@@ s.@@ to@@ Array@@ ()); sub@@ Query@@ Data@@ .set@@ L@@ dap@@ Query@@ Type(@@ L@@ dap@@ Query@@ Typ@@ e.get@@ Us@@ ers@@ By@@ User@@ Gui@@ ds@@ ); sub@@ Query@@ Data@@ .set@@ Base@@ D@@ N@@ Parameters@@ (@@ null@@ ); sub@@ Query@@ Data@@ .set@@ Domain@@ (@@ do@@ m@@ ain@@ ); result@@ s.@@ add@@ (s@@ ub@@ Query@@ Data@@ ); } return result@@ s@@ ; }
protected void log@@ () { final javax.@@ trans@@ action.@@ Trans@@ ac@@ tion trans@@ ac@@ tion = org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ s@@ us@@ p@@ end@@ (); try { try { au@@ ditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , org.ovirt.engine.core.bll.@@ CommandBase.get@@ AuditLog@@ Type@@ Value@@ ()); } catch (@@ final java.lang.@@ Run@@ time@@ Exception ex@@ ) { log.error("@@ E@@ r@@ ro@@ r d@@ ur@@ ing lo@@ g command@@ : {}@@ . Exception {}@@ ", get@@ Class@@ ().get@@ Name(), ex@@ .get@@ Message@@ ()); log.debug@@ ("@@ Exception@@ ", ex@@ ); } } final@@ l@@ y { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ res@@ um@@ e(@@ trans@@ action@@ ); } }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ R@@ ol@@ e ro@@ le@@ ) { validate@@ Parameters(@@ ro@@ le@@ , "@@ id@@ |@@ name@@ "); if (!(@@ ro@@ le.@@ isSet@@ Id@@ ())) { org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ e enti@@ ty = get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ es@@ Entity@@ .@@ class@@ , VdcQuery@@ Type.Get@@ Role@@ By@@ Name, new org.ovirt.engine.core.common.queries.@@ Multi@@ le@@ v@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ By@@ Role@@ Name@@ Parameters(@@ ro@@ l@@ e.get@@ Name@@ ()), ro@@ l@@ e.get@@ Name()); ro@@ le.@@ set@@ Id(@@ entity.get@@ Id().@@ toString()); } return p@@ er@@ for@@ m@@ Cre@@ ation@@ (VdcActionType.@@ Add@@ System@@ Permission@@ , new org.ovirt.engine.core.common.action.@@ Permission@@ s@@ Operation@@ s@@ Paramet@@ es@@ (@@ new@@ Permission@@ (@@ ro@@ l@@ e.get@@ Id@@ ())@@ ), new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Permission@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Multi@@ le@@ v@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ By@@ Permission@@ Id@@ Parameters@@ .@@ class@@ )); }
@java.lang.Override public void schedul@@ e@@ E@@ n@@ try@@ (@@ org.ovirt.engine.ui.frontend.@@ Rep@@ eat@@ ing@@ C@@ ommand cmd@@ ) { throw new java.lang.@@ Run@@ time@@ Exception@@ ("@@ No@@ t im@@ pl@@ em@@ en@@ ted@@ "); }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { return java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.storage.@@ Update@@ StorageServerConnection@@ Command.getParameters().get@@ StorageServerConnection@@ ().get@@ id@@ (), Lock@@ Messages@@ Match@@ Uti@@ l.@@ STOR@@ AG@@ E); }
@java.lang.Override protected void execute@@ Command() { boolean is@@ Domain@@ Update@@ Requi@@ re@@ d = do@@ Domain@@ s@@ U@@ se@@ Connection@@ (org.ovirt.engine.core.bll.storage.@@ Update@@ StorageServerConnection@@ Command.get@@ Connection@@ ()); org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map ma@@ p = get@@ StoragePool@@ Iso@@ Map@@ (); if (is@@ Domain@@ Update@@ Requi@@ red@@ ) { ch@@ ang@@ e@@ StorageDomain@@ Status@@ In@@ Transaction@@ (m@@ ap@@ , StorageDomain@@ Status.@@ Lock@@ ed@@ ); } boolean has@@ Conn@@ ect@@ Storage@@ Suc@@ cee@@ de@@ d = conn@@ ect@@ To@@ Storage@@ (); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value@@ Update@@ d@@ Storage@@ Domain = null@@ ; if (!@@ has@@ Conn@@ ect@@ Storage@@ Succeeded@@ ) { org.ovirt.engine.core.bll.storage.@@ Update@@ StorageServerConnection@@ Command.set@@ Succeeded@@ (@@ false@@ ); org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult f = new org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult@@ (); f@@ .set@@ Error@@ (Vdc@@ Bll@@ Error@@ s.@@ StorageServerConnection@@ Error@@ ); org.ovirt.engine.core.bll.storage.@@ Update@@ StorageServerConnection@@ Command.get@@ ReturnValue@@ ().set@@ F@@ a@@ ult@@ (@@ f@@ ); return@@ ; } if (is@@ Domain@@ Update@@ Requi@@ red@@ ) { return@@ Value@@ Update@@ d@@ Storage@@ Domain = get@@ Stat@@ s@@ For@@ Domain@@ (); if (@@ return@@ Value@@ Update@@ d@@ StorageDomain@@ .get@@ Succeeded@@ ()) { final org.ovirt.engine.core.common.businessentities.Storage@@ Domain update@@ d@@ Storage@@ Domain = ((org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ ) (@@ return@@ Value@@ Update@@ d@@ StorageDomain@@ .get@@ ReturnValue@@ ())); execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.@@ V@@ o@@ id@@ >() { @java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { get@@ StorageDomain@@ Dynamic@@ Dao().@@ update@@ (@@ update@@ d@@ StorageDomain@@ .get@@ Storage@@ Dynamic@@ Data@@ ()); return null@@ ; } }); } else { res@@ t@@ ore@@ State@@ Af@@ ter@@ Update@@ (m@@ ap@@ , false@@ ); return@@ ; } } get@@ Storage@@ Conn@@ Dao().@@ update@@ (org.ovirt.engine.core.bll.storage.@@ Update@@ StorageServerConnection@@ Command.getParameters().get@@ StorageServerConnection@@ ()); res@@ t@@ ore@@ State@@ Af@@ ter@@ Update@@ (m@@ ap@@ , true@@ ); }
@java.lang.Override protected void ve@@ r@@ if@@ y@@ (org.ovirt.engine.api.model.@@ C@@ luster model, org.ovirt.engine.api.model.@@ C@@ luster tr@@ an@@ s@@ for@@ m@@ ) { assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ ); assert@@ Equals@@ (model.get@@ Name(), tr@@ an@@ s@@ for@@ m@@ .get@@ Name()); assert@@ Equals@@ (model.get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .getId()); assert@@ Equals@@ (model.get@@ Description@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Description@@ ()); assert@@ Equals@@ (model.get@@ Comm@@ ent@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Comm@@ ent@@ ()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Cpu@@ ()); assert@@ Equals@@ (model.get@@ Cpu@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ Cpu@@ ().get@@ Id()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ DataCenter@@ ()); assert@@ Equals@@ (model.get@@ DataCenter@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ DataCenter@@ ().get@@ Id()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Schedul@@ ing@@ Policy@@ ()); assert@@ Equals@@ (model.get@@ Schedul@@ ing@@ Policy@@ ().get@@ Policy@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Schedul@@ ing@@ Policy@@ ()); assert@@ Equals@@ (model.get@@ Error@@ Handl@@ ing@@ ().get@@ On@@ Error@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Error@@ Handl@@ ing@@ ().get@@ On@@ Error@@ ()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Memory@@ Policy@@ ()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Memory@@ Policy@@ ().get@@ Trans@@ parent@@ H@@ u@@ g@@ ep@@ ages@@ ()); assert@@ Equals@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Memory@@ Policy@@ ().get@@ Trans@@ parent@@ H@@ u@@ g@@ ep@@ ages@@ ().is@@ Enabled@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Memory@@ Policy@@ ().get@@ Trans@@ parent@@ H@@ u@@ g@@ ep@@ ages@@ ().is@@ Enabled@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ Vir@@ t@@ Service@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Vir@@ t@@ Service@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ Gluster@@ Service@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Gluster@@ Service@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ T@@ un@@ ne@@ l@@ Migration@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ T@@ un@@ ne@@ l@@ Migration@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ Tr@@ ust@@ ed@@ Service@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Tr@@ ust@@ ed@@ Service@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ Bal@@ loon@@ ing@@ Enabled@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Bal@@ loon@@ ing@@ Enabled@@ ()); assert@@ Equals@@ (model.get@@ Sp@@ ice@@ Proxy@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Sp@@ ice@@ Proxy@@ ()); }
java.lang.String Gluster@@ Update@@ W@@ eb@@ h@@ ook@@ Exception@@ ();
@java.lang.Override public void set@@ H@@ as@@ Selected@@ Tag@@ s@@ (@@ boolean has@@ Selected@@ Tag@@ s) { this@@ .@@ has@@ Selected@@ Tag@@ s = has@@ Selected@@ Tag@@ s@@ (@@ boolean has@@ Selected@@ Tag@@ s) { this@@ .@@ has@@ Selected@@ Tag@@ s = has@@ Selected@@ Tag@@ s@@ (@@ boolean has@@ Selected@@ Tag@@ s) ? false : false@@ ; }
@@@ javax.@@ an@@ not@@ ation.@@ P@@ ost@@ Con@@ struc@@ t private void init@@ () { org.ovirt.engine.core.bll.@@ Command@@ Entity@@ C@@ le@@ an@@ up@@ Manager.@@ log.info@@ ("@@ St@@ ar@@ t initial@@ iz@@ ing {}@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); java.util.@@ C@@ al@@ end@@ a@@ r c@@ al@@ end@@ a@@ r = new java.util.@@ G@@ re@@ g@@ or@@ i@@ an@@ C@@ al@@ end@@ ar@@ (); java.util.@@ D@@ ate command@@ Entity@@ C@@ le@@ an@@ up@@ Tim@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ org.ovirt.engine.core.compat.@@ D@@ ate@@ Time@@ >@@ get@@ Value(ConfigValues.@@ Command@@ Entity@@ C@@ le@@ an@@ up@@ Time@@ ); c@@ al@@ end@@ ar@@ .set@@ Time@@ In@@ M@@ il@@ lis@@ (command@@ Entity@@ C@@ le@@ an@@ up@@ Tim@@ e.get@@ Time@@ ()); java.lang.String c@@ ron@@ Exp@@ ress@@ ion = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ d %@@ d %@@ d %@@ d %@@ ", c@@ al@@ end@@ ar@@ .get(@@ java.util.@@ C@@ al@@ end@@ ar@@ .S@@ EC@@ ON@@ D@@ ), c@@ al@@ end@@ ar@@ .get(@@ java.util.@@ C@@ al@@ end@@ ar@@ .@@ M@@ IN@@ U@@ T@@ E@@ ), c@@ al@@ end@@ ar@@ .get(@@ java.util.@@ C@@ al@@ end@@ ar@@ .@@ HO@@ UR@@ _@@ O@@ F@@ _@@ DA@@ Y@@ )); org.ovirt.engine.core.bll.@@ Command@@ Entity@@ C@@ le@@ an@@ up@@ Manager.@@ log.info@@ ("@@ Set@@ t@@ ing c@@ ommand enti@@ ty cl@@ e@@ an@@ u@@ p manage@@ r to r@@ u@@ n at@@ : {}@@ ", c@@ ron@@ Exp@@ ress@@ ion@@ ); execu@@ t@@ or.@@ schedul@@ e@@ ((@@ ) -@@ > do@@ C@@ le@@ an@@ up@@ (), new org.ovirt.engine.core.common.utils.@@ Engine@@ C@@ ron@@ T@@ ri@@ g@@ er@@ (c@@ ron@@ Exp@@ ress@@ ion@@ )); org.ovirt.engine.core.bll.@@ Command@@ Entity@@ C@@ le@@ an@@ up@@ Manager.@@ log.info@@ ("@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing {}@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); }
@java.lang.Override protected void ve@@ r@@ if@@ y@@ (org.ovirt.engine.api.model.@@ Data@@ C@@ en@@ te@@ r model, org.ovirt.engine.api.model.@@ Data@@ C@@ en@@ te@@ r tr@@ an@@ s@@ for@@ m@@ ) { assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ ); assert@@ Equals@@ (model.get@@ Name(), tr@@ an@@ s@@ for@@ m@@ .get@@ Name()); assert@@ Equals@@ (model.get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .getId()); assert@@ Equals@@ (model.get@@ Description@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Description@@ ()); assert@@ Equals@@ (model.get@@ Comm@@ ent@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Comm@@ ent@@ ()); assert@@ Equals@@ (m@@ odel.@@ is@@ Local@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Local@@ ()); assert@@ Equals@@ (model.get@@ Storage@@ Format@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Storage@@ Format@@ ()); assert@@ Equals@@ (model.get@@ Quota@@ M@@ ode@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Quota@@ M@@ ode@@ ()); }
@java.lang.Override protected void on@@ SelectedItem@@ Ch@@ an@@ gin@@ g@@ (java.lang.Object new@@ Value@@ , java.lang.Object old@@ Value@@ ) { super@@ .@@ on@@ SelectedItem@@ Ch@@ an@@ gin@@ g@@ (@@ new@@ Value@@ , old@@ Value@@ ); java.lang.String ur@@ l = ((@@ java.lang.String@@ ) (get@@ U@@ r@@ l@@ ().getEntity@@ ())); if (((@@ ur@@ l == null@@ ) || (@@ ur@@ l.@@ equals@@ ("@@ "@@ ))) || (@@ ur@@ l.@@ equals@@ (get@@ Default@@ U@@ r@@ l@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ Provider@@ Type@@ ) (@@ old@@ Value@@ )@@ )@@ ))) { get@@ U@@ r@@ l@@ ().set@@ Entity@@ (get@@ Default@@ U@@ r@@ l@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ Provider@@ Type@@ ) (@@ new@@ Value@@ )@@ ))); } }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Th@@ rou@@ g@@ h@@ put@@ ") java.lang.String s@@ nap@@ Sh@@ ot@@ plug@@ Sup@@ port@@ Q@@ o@@ Th@@ row@@ able@@ ();
@org.junit.Test public void test@@ Get@@ By@@ User@@ Id@@ () { org.ovirt.engine.core.common.businessentities.@@ User@@ Profil@@ e result = d@@ ao@@ .get@@ By@@ User@@ Id(@@ existing@@ Profil@@ e.get@@ User@@ Id()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ Equals@@ (@@ existing@@ Profile@@ , result@@ ); }
public void p@@ ost@@ On@@ SetupNetworks@@ () { final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ SetupNetworks@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ SetupNetworks@@ Model) (s@@ ource@@ List@@ Model.get@@ W@@ in@@ do@@ w@@ ())); org.ovirt.engine.core.common.action.@@ SetupNetworks@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ SetupNetworks@@ Parameters@@ (); params.set@@ Interfac@@ es(@@ model.get@@ All@@ Nic@@ s()); params.set@@ Check@@ Conn@@ ec@@ ti@@ vi@@ ty@@ (model.get@@ Check@@ Conn@@ ec@@ ti@@ vi@@ ty@@ ().getEntity@@ ()); params.set@@ Con@@ ec@@ ti@@ vi@@ ty@@ Time@@ out@@ (model.get@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Time@@ out@@ ().getEntity@@ ()); params.set@@ Vds@@ Id@@ (get@@ Entity@@ ().get@@ Id()); params.set@@ Networks@@ To@@ Sync@@ (model.get@@ Networks@@ To@@ Sync@@ ()); model.@@ st@@ art@@ Progress@@ (@@ null@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action(VdcActionType.@@ Host@@ Setup@@ Network@@ s, host@@ SetupNetworks@@ Parameters@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value@@ Base = result.get@@ ReturnValue@@ (); if (@@ return@@ Value@@ Base != null@@ ) && (@@ return@@ Value@@ Base.get@@ Succeeded@@ ())) { org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.Boolean@@ > c@@ omm@@ it@@ Change@@ s = model.get@@ Comm@@ it@@ Chang@@ es@@ (); if (c@@ omm@@ it@@ Chang@@ es@@ .get@@ Entity@@ ()) { new org.ovirt.engine.ui.uicommonweb.models.hosts.@@ S@@ ave@@ Network@@ Config@@ Action@@ (s@@ ource@@ ListModel@@ , model, get@@ Entity@@ ()).@@ execute@@ (); } else { model.@@ st@@ op@@ Progress@@ (); source@@ List@@ Model.set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); source@@ List@@ Model.@@ search@@ (); } } else { model.@@ st@@ op@@ Progress@@ (); } } }); }
protected org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ S@@ im@@ ple@@ Action@@ T@@ able@@ <@@ T@@ > create@@ Action@@ T@@ able@@ () { return new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ S@@ im@@ ple@@ Action@@ T@@ able@@ <@@ T@@ >@@ (model@@ Provider@@ , org.ovirt.engine.ui.@@ user@@ port@@ al.@@ gin@@ .@@ Client@@ G@@ in@@ j@@ ect@@ or@@ Provi@@ der.@@ instance@@ ().get@@ Event@@ B@@ us@@ (), new org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ re@@ fresh@@ .@@ User@@ Port@@ al@@ Re@@ fresh@@ Manager@@ (model@@ Provider@@ , org.ovirt.engine.ui.@@ user@@ port@@ al.@@ gin@@ .@@ Client@@ G@@ in@@ j@@ ect@@ or@@ Provi@@ der.@@ instance@@ ().get@@ Event@@ B@@ us@@ (), org.ovirt.engine.ui.@@ user@@ port@@ al.@@ gin@@ .@@ Client@@ G@@ in@@ j@@ ect@@ or@@ Provi@@ der.@@ instance@@ ().get@@ Client@@ Storage@@ ())); }
public void set@@ Password@@ Set@@ (@@ boolean p@@ assword@@ Set@@ ) { this@@ .@@ p@@ assword@@ Se@@ t = p@@ assword@@ ; }
@org.junit.Test public void test@@ Operation@@ Sub@@ s@@ cription@@ () { org.ovirt.vdsm.jsonrpc.client.@@ event@@ s.@@ Sub@@ s@@ cription@@ H@@ ol@@ der h@@ ol@@ der = mock@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ event@@ s.@@ Sub@@ s@@ cription@@ H@@ ol@@ der@@ .@@ class@@ ); when(@@ h@@ ol@@ der@@ .getId@@ ()).@@ then@@ Return@@ ("@@ *@@ |@@ *@@ |@@ *@@ |@@ test@@ |@@ *@@ "); org.ovirt.vdsm.jsonrpc.client.@@ event@@ s.@@ Sub@@ s@@ cription@@ Match@@ er mat@@ ch@@ er = new org.ovirt.vdsm.jsonrpc.client.@@ event@@ s.@@ Sub@@ s@@ cription@@ Match@@ er@@ (); mat@@ ch@@ er.@@ add(@@ h@@ ol@@ der@@ ); org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Event ev@@ ent = mock@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Event@@ .@@ class@@ ); when(@@ ev@@ ent.get@@ Method@@ ()).@@ then@@ Return@@ ("@@ local@@ host@@ |@@ t@@ es@@ t@@ case@@ |@@ u@@ uid@@ "); java.util.@@ Set<@@ org.ovirt.vdsm.jsonrpc.client.@@ event@@ s.@@ Sub@@ s@@ cription@@ H@@ ol@@ der@@ > h@@ ol@@ der@@ s = mat@@ ch@@ er.@@ mat@@ ch@@ (@@ event@@ ); assert@@ Equals@@ (@@ 1, h@@ ol@@ der@@ s.@@ size@@ ()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Al@@ lo@@ w to ed@@ i@@ t Log@@ ic@@ al Network@@ s proper@@ ti@@ es with@@ in the C@@ luster (@@ e.@@ g@@ . n@@ on@@ -@@ re@@ qui@@ re@@ d or dis@@ pl@@ a@@ y network@@ )@@ ") java.lang.String al@@ low@@ To@@ E@@ ditLog@@ ical@@ Networks@@ For@@ Th@@ e@@ Cluster@@ Role@@ T@@ ree@@ T@@ ooltip@@ ();
java.lang.String par@@ se@@ Volume@@ Id@@ From@@ Path@@ (java.lang.String p@@ ath@@ ) { if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (p@@ ath@@ )) { return "@@ "; } int s@@ l@@ ash@@ In@@ de@@ x = p@@ ath@@ .@@ l@@ ast@@ In@@ dex@@ Of@@ ("@@ /@@ "); if (s@@ l@@ ash@@ In@@ de@@ x == (@@ -@@ 1@@ )) { return "@@ "; } return p@@ ath@@ .@@ sub@@ st@@ ring@@ ((@@ s@@ l@@ ash@@ In@@ de@@ x + 1@@ )); }
protected boolean pre@@ par@@ e@@ Fail@@ ure@@ Message@@ For@@ Domain@@ s(@@ java.lang.String do@@ m@@ ain@@ Names@@ ) { org.ovirt.engine.core.bll.storage.@@ Remove@@ StorageServerConnection@@ Command.@@ addCanDoActionMessage@@ Var@@ i@@ able(@@ "@@ do@@ m@@ ain@@ Names@@ ", do@@ m@@ ain@@ Names@@ ); return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ C@@ ON@@ N@@ EC@@ TION_@@ B@@ E@@ L@@ ON@@ G@@ S_@@ TO@@ _S@@ E@@ V@@ ER@@ AL@@ _@@ STORAGE_@@ DOMA@@ IN@@ S@@ ); }
@org.junit.Test public void low@@ er@@ Version@@ () { storagePool@@ With@@ L@@ ow@@ er@@ Version@@ (); add@@ Non@@ Default@@ Cluster@@ To@@ Pool@@ (); add@@ Host@@ sTo@@ Cluster@@ (); add@@ Host@@ sTo@@ Cluster@@ (); }
private void create@@ (@@ long tim@@ est@@ am@@ p@@ ) throw@@ s java.io.@@ I@@ O@@ Exception { java.io.@@ Fil@@ e tem@@ p = java.io.@@ Fil@@ e.c@@ reate@@ Tem@@ p@@ File@@ (@@ this@@ .@@ arch@@ i@@ v@@ e.get@@ Name(), "@@ t@@ m@@ p@@ ", this@@ .@@ arch@@ i@@ v@@ e.get@@ Parent@@ File@@ ()); try (@@ java.io.@@ Out@@ put@@ St@@ rea@@ m o@@ s = new java.io.@@ File@@ Out@@ put@@ St@@ ream@@ (@@ temp@@ )) { org.ovirt.engine.core.utils.@@ arch@@ i@@ ver@@ s.@@ t@@ ar@@ .@@ T@@ ar@@ .@@ do@@ T@@ ar@@ (@@ os@@ , this@@ .@@ d@@ ir@@ ); } catch (@@ java.io.@@ I@@ O@@ Exception e) { java.lang.String mess@@ age = java.lang.String@@ .@@ for@@ mat@@ ("@@ Can@@ not c@@ re@@ ate t@@ ar@@ b@@ al@@ l '@@ %@@ 1@@ $@@ s@@ '@@ ", this@@ .@@ arch@@ ive@@ ); org.ovirt.engine.core.utils.@@ arch@@ i@@ ver@@ s.@@ t@@ ar@@ .@@ C@@ ach@@ ed@@ T@@ ar@@ .@@ log.error@@ (m@@ ess@@ age@@ , e); throw new java.io.@@ I@@ O@@ Exception@@ (m@@ ess@@ age@@ , e); } try { if (!(@@ temp@@ .set@@ L@@ ast@@ M@@ o@@ d@@ if@@ i@@ ed(@@ tim@@ est@@ am@@ p@@ ))) { throw new java.io.@@ I@@ O@@ Exception@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ Can@@ not se@@ t l@@ as@@ t m@@ o@@ d@@ if@@ i@@ ed '@@ %@@ 1@@ $@@ s@@ ' to '@@ %@@ 2@@ $@@ d@@ '@@ ", temp@@ .get@@ Can@@ on@@ ical@@ Path@@ (), tim@@ est@@ am@@ p@@ )); } if (!(@@ temp@@ .@@ r@@ en@@ ame@@ To@@ (@@ this@@ .@@ arch@@ ive@@ ))) { throw new java.io.@@ I@@ O@@ Exception@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ Can@@ not r@@ en@@ am@@ e '@@ %@@ 1@@ $@@ s@@ ' to '@@ %@@ 2@@ $@@ s@@ '@@ ", temp@@ .get@@ Can@@ on@@ ical@@ Path@@ (), arch@@ i@@ v@@ e.get@@ Can@@ on@@ ical@@ Path@@ ())); } tem@@ p = null@@ ; } catch (@@ java.io.@@ I@@ O@@ Exception e) { org.ovirt.engine.core.utils.@@ arch@@ i@@ ver@@ s.@@ t@@ ar@@ .@@ C@@ ach@@ ed@@ T@@ ar@@ .@@ log.error("@@ Exception@@ ", e); throw e@@ ; } final@@ l@@ y { if ((@@ tem@@ p != null@@ ) && (!(@@ temp@@ .@@ de@@ let@@ e@@ ()))) { org.ovirt.engine.core.utils.@@ arch@@ i@@ ver@@ s.@@ t@@ ar@@ .@@ C@@ ach@@ ed@@ T@@ ar@@ .@@ log.error("@@ Can@@ not de@@ let@@ e '{}@@ '@@ ", temp@@ .get@@ Ab@@ s@@ ol@@ u@@ te@@ Path@@ ()); } } } }
private static void set@@ VmTemplate@@ Status@@ (org.ovirt.engine.core.compat.Guid vm@@ Template@@ Guid@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ Status status@@ , org.ovirt.engine.core.bll.@@ contex@@ t.@@ Comp@@ ens@@ ation@@ Contex@@ t comp@@ ens@@ ation@@ Context@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate vm@@ Templ@@ ate = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VmTemplate@@ Dao().get@@ (vm@@ Template@@ Guid@@ ); if (vm@@ Templ@@ ate != null@@ ) { if (c@@ omp@@ ens@@ ation@@ Contex@@ t != null@@ ) { comp@@ ens@@ ation@@ Contex@@ t.@@ snapshot@@ Entity@@ Status@@ (vm@@ Template@@ ); } vm@@ Templ@@ at@@ e.set@@ Status(@@ status@@ ); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VmTemplate@@ Dao().@@ update@@ (vm@@ Template@@ ); } else { org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ log.@@ w@@ ar@@ n@@ Format@@ ("@@ VmTemplate@@ Handler@@ :@@ :@@ :@@ set@@ VmTemplate@@ Status@@ : vm@@ Templ@@ ate is null@@ , not set@@ t@@ ing stat@@ u@@ s '@@ {0@@ }@@ ' to vm@@ Template@@ ", status@@ ); } }
public void check@@ In@@ valid@@ Address@@ () { assert@@ F@@ als@@ e(@@ un@@ der@@ Test.@@ test@@ (@@ gener@@ ate@@ VdsNetwork@@ Interfac@@ e(@@ org.ovirt.engine.core.utils.@@ network.@@ p@@ red@@ ic@@ at@@ e.@@ Abstract@@ VdsNetwork@@ Interface@@ P@@ red@@ icate@@ Test.@@ IN@@ VALID@@ ))); }
@java.lang.Override protected void p@@ op@@ ul@@ ate@@ Tab@@ Map@@ () { get@@ Tab@@ Name@@ Mapping@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ P@@ F@@ _@@ T@@ AB@@ , this@@ .@@ p@@ f@@ Tab@@ ); get@@ Tab@@ Name@@ Mapping@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ V@@ F@@ S_@@ C@@ ON@@ F@@ I@@ G@@ _@@ T@@ AB@@ , this@@ .@@ vf@@ s@@ Config@@ Tab@@ ); }
public void d@@ et@@ ach@@ Cinder@@ Domain@@ From@@ Pool@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map map@@ To@@ Remove@@ ) { execute@@ (@@ new java.util.@@ con@@ c@@ urr@@ ent.@@ Call@@ able@@ <@@ java.lang.Object@@ >() { @java.lang.Override public java.lang.Object call@@ () { get@@ StoragePool@@ Iso@@ Map@@ Dao().@@ remove@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map@@ Id(@@ map@@ To@@ Rem@@ ov@@ e.get@@ storage@@ _id@@ (), map@@ To@@ Rem@@ ov@@ e.get@@ storage_@@ pool@@ _id@@ ())); return null@@ ; } }); }
@org.junit.Test public void test@@ Attach@@ Fail@@ Domain@@ Al@@ read@@ y@@ In@@ Pool@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map@@ > is@@ o@@ Map = new java.util.ArrayList<>(); is@@ o@@ Map.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map@@ ()); when(@@ storagePool@@ Iso@@ Map@@ Dao.get@@ AllFor@@ Storage@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ thenReturn(@@ is@@ o@@ Map@@ ); org.ovirt.engine.core.bll.ValidationResult attach@@ ed@@ Domain@@ In@@ ser@@ tion@@ Result = validator.@@ validate@@ Domain@@ Can@@ Be@@ Attached@@ To@@ Pool@@ (); assert@@ F@@ alse@@ ("@@ Attach@@ ing do@@ ma@@ in th@@ a@@ t is al@@ read@@ y in a p@@ oo@@ l s@@ uc@@ cee@@ de@@ d while i@@ t shoul@@ d ha@@ v@@ e fail@@ ed@@ ", attach@@ ed@@ Domain@@ In@@ ser@@ tion@@ Res@@ ult.@@ is@@ Valid@@ ()); assert@@ Fail@@ ing@@ Message@@ ("@@ Attach@@ ing do@@ ma@@ in th@@ a@@ t is al@@ read@@ y in a p@@ oo@@ l fail@@ ed wit@@ h the w@@ ron@@ g mess@@ age@@ ", attach@@ ed@@ Domain@@ In@@ ser@@ tion@@ Result@@ , EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ ST@@ AT@@ U@@ S_@@ IL@@ LE@@ G@@ AL@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > get@@ All@@ Templ@@ at@@ es@@ R@@ el@@ ated@@ To@@ Quota@@ Id(@@ org.ovirt.engine.core.compat.Guid quota@@ Id) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ All@@ Vm@@ Templ@@ at@@ es@@ R@@ el@@ ated@@ To@@ Quota@@ Id@@ ", org.ovirt.engine.core.dao.@@ VmTemplate@@ Dao@@ Impl.@@ VM@@ Template@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ quota@@ _id", quota@@ Id@@ )); }
public static java.lang.Integ@@ er get@@ e@@ ff@@ ec@@ tive@@ Cpu@@ C@@ or@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group vds@@ Group = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VdsGroup@@ Dao().get@@ (@@ vds.get@@ vds@@ _@@ group@@ _id@@ ()); return ((((@@ vds@@ Group != null@@ ) && ((@@ vds.get@@ cpu@@ _@@ cor@@ es@@ ()) != null@@ )) && ((@@ vds.get@@ vds@@ m@@ _@@ c@@ ount@@ _@@ th@@ rea@@ ds@@ _@@ as@@ _@@ cor@@ es@@ ()) != null@@ )) && (vds@@ Group@@ .get@@ c@@ ount@@ _@@ th@@ rea@@ ds@@ _@@ as@@ _@@ cor@@ es@@ ())) && (@@ vds.get@@ cpu@@ _@@ ht@@ _@@ en@@ abled@@ ()) ? (@@ vds.get@@ cpu@@ _@@ cor@@ es@@ ()) * 2 : vds.get@@ cpu@@ _@@ cor@@ es@@ (); }
protected org.ovirt.engine.api.model.@@ Template@@ s map@@ Collection@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > enti@@ ties@@ ) { org.ovirt.engine.core.common.queries.@@ Get@@ Vms@@ Init@@ Parameters param@@ s = new org.ovirt.engine.core.common.queries.@@ Get@@ Vms@@ Init@@ Parameters@@ (); params.set@@ Templ@@ at@@ es(@@ enti@@ ties@@ ); org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue query@@ ReturnValue = run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vms@@ Init@@ , param@@ s); if ((@@ query@@ Return@@ Value.get@@ Succeeded@@ ()) && ((@@ query@@ Return@@ Value.get@@ ReturnValue@@ ()) != null@@ )) { enti@@ ti@@ es = query@@ Return@@ Value.get@@ ReturnValue@@ (); } org.ovirt.engine.api.model.@@ Template@@ s c@@ oll@@ ec@@ tion = new org.ovirt.engine.api.model.@@ Templ@@ at@@ es@@ (); for (org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate enti@@ ty : enti@@ ties@@ ) { c@@ oll@@ ection@@ .get@@ Templ@@ at@@ es@@ ().@@ add(@@ add@@ Link@@ s(@@ p@@ op@@ ul@@ ate@@ (m@@ ap@@ (@@ entity@@ ), entity@@ ))); } return c@@ oll@@ ection@@ ; }
private void add@@ Default@@ Networks@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Network ne@@ t = new org.ovirt.engine.core.common.businessentities.network.Network@@ (); net@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); net@@ .set@@ Name(@@ org.ovirt.engine.core.utils.@@ Network@@ Util@@ s.get@@ Engine@@ Network@@ ()); net@@ .set@@ Description@@ (@@ Add@@ VdsGroup@@ Command.@@ Default@@ Network@@ Description@@ ); net@@ .set@@ DataCenter@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ Empty@@ StoragePool@@ Command.get@@ StoragePool@@ ().get@@ Id()); net@@ .set@@ VmNetwork@@ (@@ true@@ ); org.ovirt.engine.core.bll.storage.@@ Add@@ Empty@@ StoragePool@@ Command.get@@ Network@@ DAO@@ ().@@ save@@ (@@ net@@ ); org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Helper.@@ add@@ Permission@@ s@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ Empty@@ StoragePool@@ Command.get@@ C@@ urrent@@ User@@ ().get@@ Id(), net@@ .get@@ Id(), true@@ ); }
public java.lang.String get@@ Sp@@ ice@@ Proxy@@ () { return vm@@ Static@@ .get@@ Sp@@ ice@@ Proxy@@ (); }
@java.lang.Override protected void execute@@ Command() { add@@ Vm@@ To@@ Db@@ (); org.ovirt.engine.core.common.businessentities.VM vm = get@@ Vm@@ (); if (vm.get@@ Images@@ ().is@@ Empty@@ ()) { end@@ Vm@@ R@@ el@@ ated@@ Op@@ s(); } else { pro@@ cess@@ Images@@ (); } set@@ Succeeded@@ (@@ true@@ ); }
@org.junit.Test public void lun@@ Al@@ read@@ y@@ P@@ art@@ Of@@ StorageDomain@@ s() { org.ovirt.engine.core.common.businessentities.@@ LUN@@ s lun@@ 1 = new org.ovirt.engine.core.common.businessentities.@@ LUN@@ s(); lun@@ 1@@ .set@@ LUN@@ _id@@ (org.ovirt.engine.core.bll.storage.@@ StorageDomain@@ Command@@ Base@@ Test.@@ G@@ UID@@ S@@ [@@ 0@@ ]@@ .@@ toString()); lun@@ 1@@ .set@@ StorageDomain@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.common.businessentities.@@ LUN@@ s lun@@ 2 = new org.ovirt.engine.core.common.businessentities.@@ LUN@@ s(); lun@@ 2@@ .set@@ LUN@@ _id@@ (org.ovirt.engine.core.bll.storage.@@ StorageDomain@@ Command@@ Base@@ Test.@@ G@@ UID@@ S@@ [@@ 1@@ ]@@ .@@ toString()); lun@@ 2@@ .set@@ StorageDomain@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); do@@ Return(@@ lun@@ DAO@@ ).when@@ (cmd@@ ).get@@ Lun@@ Dao@@ (); when(@@ lun@@ DAO@@ .get@@ All@@ ()).@@ thenReturn(@@ java.util.Arrays.as@@ List(@@ lun@@ 1, lun@@ 2@@ )); java.util.List<java.lang.String> sp@@ e@@ c@@ if@@ i@@ ed@@ Lun@@ Id@@ s = java.util.Collections.@@ sing@@ leton@@ List@@ (org.ovirt.engine.core.bll.storage.@@ StorageDomain@@ Command@@ Base@@ Test.@@ G@@ UID@@ S@@ [@@ 0@@ ]@@ .@@ toString()); assert@@ True@@ (cmd@@ .is@@ Lun@@ s@@ Al@@ read@@ y@@ P@@ art@@ Of@@ StorageDomain@@ s(@@ sp@@ e@@ c@@ if@@ i@@ ed@@ Lun@@ Id@@ s@@ )); java.util.List<java.lang.String> mess@@ age@@ s = cmd@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ (); assert@@ Equals@@ (m@@ ess@@ ages.@@ size@@ (), 2@@ ); assert@@ Equals@@ (m@@ ess@@ ages@@ .get(@@ 0@@ ), VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ LUN@@ S_@@ AL@@ RE@@ AD@@ Y_@@ P@@ AR@@ T_@@ O@@ F@@ _@@ STORAGE_@@ DOMA@@ IN@@ S@@ .@@ toString()); assert@@ Equals@@ (m@@ ess@@ ages@@ .get(@@ 1@@ ), java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ lun@@ Id@@ s %@@ 1@@ $@@ s", sp@@ e@@ c@@ if@@ i@@ ed@@ Lun@@ Id@@ s.get@@ (0@@ ))); }
@@@ com.google.gwt.@@ i@@ 18@@ n@@ .client.@@ Messages.@@ Default@@ Message@@ ("@@ F@@ or D@@ es@@ k@@ to@@ p Lo@@ a@@ d - En@@ able mem@@ or@@ y p@@ age sh@@ ar@@ ing to {0@@ }@@ %@@ ") java.lang.String cluster@@ Popup@@ Memory@@ Op@@ tim@@ ization@@ For@@ D@@ es@@ k@@ to@@ p@@ Label@@ (java.lang.String a@@ );
@java.lang.Override protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > get@@ VdsGroup@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > id@@ s = get@@ Backend@@ Collection@@ (Vdc@@ Query@@ Type.Get@@ VdsGroup@@ sBy@@ StoragePool@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ id@@ )); if ((@@ id@@ s != null@@ ) && (!(@@ id@@ s.@@ isEmpty@@ ()))) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > host@@ s = get@@ Backend@@ Collection@@ (Vdc@@ Query@@ Type.Get@@ VdsGroup@@ sBy@@ StoragePool@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ id@@ )); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > host@@ s = get@@ Backend@@ Collection@@ (Vdc@@ Query@@ Type.Get@@ VdsGroup@@ sBy@@ StoragePool@@ Id@@ Query@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ id@@ )); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > host@@ s = get@@ Backend@@ Collection@@ (Vdc@@ Query@@ Type.Get@@ VdsGroup@@ sBy@@ StoragePool@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ id@@ )); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@
@org.junit.Test public void no@@ Cluster@@ Service@@ De@@ fin@@ ed@@ () { assert@@ That@@ (@@ validator.@@ cluster@@ Service@@ De@@ fin@@ ed@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ VDS@@ _@@ G@@ RO@@ UP@@ _@@ A@@ T_@@ LE@@ A@@ ST@@ _@@ ON@@ E_@@ S@@ ER@@ V@@ IC@@ E_@@ M@@ U@@ ST@@ _@@ B@@ E_@@ EN@@ AB@@ L@@ ED@@ )); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ un@@ de@@ let@@ e@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Ser@@ ve@@ r get@@ Action@@ Resource@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return new org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Server@@ (get@@ Del@@ e@@ g@@ ate@@ ().get@@ Action@@ Resource@@ (@@ action@@ , o@@ id@@ )); }
@java.lang.Override protected boolean canDoAction@@ () { boolean return@@ Value = true@@ ; org.ovirt.engine.core.common.businessentities.@@ Per@@ mis@@ si@@ on p = org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.get@@ Permission@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.getParameters().get@@ Permission@@ ().get@@ Id()); if (org.ovirt.engine.core.bll.@@ Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ is@@ L@@ ast@@ Sup@@ er@@ User@@ Permission@@ (p@@ .get@@ Role@@ Id@@ ())) { org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ add(@@ EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ L@@ A@@ ST@@ _S@@ UP@@ ER_@@ US@@ ER_@@ RO@@ LE@@ .@@ toString()); return@@ Value = false@@ ; } else if ((@@ p@@ .get@@ Role@@ Type@@ ().@@ equals(@@ Role@@ Type.@@ AD@@ M@@ IN@@ )) && (!@@ (org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.@@ is@@ System@@ Sup@@ er@@ User@@ ()))) { addCanDoActionMessage@@ (EngineMessage.@@ P@@ ER@@ M@@ IS@@ SI@@ ON_@@ RE@@ M@@ OV@@ E_@@ FAILED_@@ ON@@ L@@ Y_@@ S@@ Y@@ ST@@ EM@@ _S@@ UP@@ ER_@@ US@@ ER_@@ C@@ AN@@ _@@ RE@@ M@@ OV@@ E_@@ AD@@ M@@ IN_@@ RO@@ LE@@ S@@ ); return@@ Value = false@@ ; } if ((!@@ (java.util.@@ Object@@ s.@@ equals(@@ p@@ .get@@ Ad@@ Element@@ Id(), org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.getParameters().get@@ T@@ arget@@ Id@@ ()))) && ((org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.get@@ Db@@ User@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.getParameters().get@@ T@@ arget@@ Id@@ ())) != null@@ )) { addCanDoActionMessage@@ (EngineMessage.@@ IN@@ H@@ ER@@ I@@ T@@ ED_@@ P@@ ER@@ M@@ IS@@ SI@@ ON_@@ C@@ AN@@ T_@@ B@@ E_@@ RE@@ M@@ OV@@ ED); return@@ Value = false@@ ; } return return@@ Value@@ ; }
@java.lang.Override protected org.ovirt.engine.core.common.action.@@ Lock@@ Proper@@ ti@@ es ap@@ pl@@ y@@ Lock@@ Properties@@ (@@ org.ovirt.engine.core.common.action.@@ Lock@@ Proper@@ ti@@ es lock@@ Properties@@ ) { org.ovirt.engine.core.common.action.@@ Lock@@ Properties.@@ S@@ c@@ op@@ e s@@ c@@ op@@ e = (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ ac@@ tivate@@ StorageDomain@@ Command.get@@ Parameters@@ ().is@@ S@@ k@@ ip@@ Lock@@ ()) ? org.ovirt.engine.core.common.action.@@ Lock@@ Properties.@@ S@@ c@@ op@@ e.@@ Non@@ e : org.ovirt.engine.core.common.action.@@ Lock@@ Properties.@@ S@@ c@@ op@@ e.@@ Execution@@ ; return lock@@ Properties.@@ with@@ S@@ c@@ op@@ e(@@ s@@ c@@ op@@ e); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ > re@@ fresh@@ Us@@ ers@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ > db@@ Us@@ ers@@ , org.ovirt.engine.core.@@ auth@@ entic@@ ation.@@ Direct@@ or@@ y d@@ irect@@ ory@@ ) { java.util.List<@@ org.ovirt.engine.core.common.utils.@@ External@@ Id@@ > id@@ s = new java.util.Array@@ List(@@ db@@ User@@ s.@@ size@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er db@@ Us@@ er : db@@ Us@@ ers@@ ) { id@@ s.add(@@ db@@ User@@ .get@@ External@@ Id()); } java.util.List<@@ org.ovirt.engine.core.@@ auth@@ entic@@ ation.@@ Direct@@ ory@@ User@@ > d@@ irect@@ ory@@ User@@ s = d@@ irect@@ ory@@ .@@ fin@@ d@@ Us@@ ers@@ (@@ id@@ s); java.util.Map<@@ org.ovirt.engine.core.common.utils.@@ External@@ Id, org.ovirt.engine.core.@@ auth@@ entic@@ ation.@@ Direct@@ ory@@ User@@ > in@@ de@@ x = new java.util.HashMap<@@ >(); for (@@ org.ovirt.engine.core.@@ auth@@ entic@@ ation.@@ Direct@@ ory@@ Us@@ er d@@ irect@@ ory@@ Us@@ er : d@@ irect@@ ory@@ Us@@ ers@@ ) { in@@ de@@ x.@@ put(@@ d@@ irect@@ ory@@ User@@ .get@@ Id(), d@@ irect@@ ory@@ User@@ ); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ > re@@ fresh@@ ed = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er db@@ Us@@ er : db@@ Us@@ ers@@ ) { org.ovirt.engine.core.@@ auth@@ entic@@ ation.@@ Direct@@ ory@@ Us@@ er d@@ irect@@ ory@@ Us@@ er = in@@ dex@@ .get(@@ db@@ User@@ .getId()); db@@ Us@@ er = re@@ fresh@@ User@@ (@@ db@@ User@@ , d@@ irect@@ ory@@ User@@ ); if (@@ db@@ Us@@ er != null@@ ) { re@@ fresh@@ ed@@ .@@ add(@@ db@@ User@@ ); } } return re@@ fresh@@ ed@@ ; }
@org.junit.Test public void network@@ Not@@ In@@ Vfs@@ Config@@ Not@@ Valid@@ () { network@@ In@@ Vfs@@ Config@@ C@@ ommon@@ Test@@ (@@ true@@ ); assert@@ That@@ (@@ validator.@@ network@@ Not@@ In@@ Vfs@@ Config@@ (org.ovirt.engine.core.bll.@@ validator.@@ Vfs@@ Config@@ Validator@@ Test.@@ NETWORK_@@ ID@@ ), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NETWORK_@@ AL@@ RE@@ AD@@ Y_@@ IN_@@ V@@ F@@ S_@@ C@@ ON@@ F@@ I@@ G@@ , java.lang.String@@ .@@ for@@ mat@@ (@@ Vfs@@ Config@@ Validator.@@ N@@ IC@@ _@@ NAM@@ E_@@ RE@@ P@@ L@@ AC@@ EM@@ EN@@ T@@ , nic@@ .getName@@ ()), java.lang.String@@ .@@ for@@ mat@@ (@@ Vfs@@ Config@@ Validator.@@ NETWORK_@@ NAM@@ E_@@ RE@@ P@@ L@@ AC@@ EM@@ EN@@ T@@ , network@@ .getName@@ ()))); }
@java.lang.Override protected java.util.Map<java.lang.String, java.lang.String> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { if (!@@ (org.ovirt.engine.core.bll.@@ gluster.Gluster@@ CommandBase.get@@ Parameters@@ ().is@@ N@@ es@@ ted@@ ())) { return java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.@@ gluster.Gluster@@ CommandBase.get@@ VdsGroup@@ Id().@@ toString@@ (), Lock@@ ing@@ Group@@ .@@ G@@ LUST@@ ER@@ .@@ name@@ ()); } return super@@ .get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s(); }
private void local@@ iz@@ e(@@ org.ovirt.engine.ui.webadmin.@@ Ap@@ plication@@ Constant@@ s const@@ an@@ t@@ s) { name@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ af@@ finity@@ Group@@ Name@@ Label@@ ()); d@@ escription@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ af@@ finity@@ Description@@ Label@@ ()); p@@ ol@@ ar@@ ity@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ af@@ finity@@ Group@@ P@@ ol@@ ar@@ ity@@ Label@@ ()); e@@ n@@ for@@ ce@@ ment@@ Type@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ af@@ finity@@ Group@@ E@@ n@@ for@@ ce@@ Type@@ Label@@ ()); }
public void set@@ Content@@ Type(@@ java.lang.String cont@@ ent@@ Type@@ ) { if (@@ cont@@ ent@@ Type != null@@ ) { this@@ .@@ cont@@ ent@@ Type = org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Hook@@ Content@@ Type.@@ f@@ rom@@ M@@ im@@ e@@ Type(@@ cont@@ ent@@ Type@@ ); } }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ External@@ Dis@@ c@@ o@@ ver@@ ed@@ Host@@ > host@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ External@@ Dis@@ c@@ o@@ ver@@ ed@@ Host@@ >) (@@ result@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ List@@ Model ex@@ ternal@@ Dis@@ c@@ o@@ ver@@ ed@@ Host@@ s@@ List@@ Model = get@@ External@@ Dis@@ c@@ o@@ ver@@ ed@@ Host@@ s(); hosts.@@ add(@@ 0@@ , null@@ ); ex@@ ternal@@ Dis@@ c@@ o@@ ver@@ ed@@ Host@@ s@@ List@@ Model.set@@ Items(@@ host@@ s); ex@@ ternal@@ Dis@@ c@@ o@@ ver@@ ed@@ Host@@ s@@ List@@ Model.set@@ Is@@ Chang@@ able@@ (@@ true@@ ); }
@java.lang.Override public boolean check@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { return org.ovirt.engine.core.bll.@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ Cluster@@ Edit@@ Check@@ er@@ .get@@ Host@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ es(@@ vds@@ ).@@ contains@@ All@@ (@@ em@@ ul@@ ated@@ M@@ ach@@ in@@ es@@ ); }
@java.lang.Override public void onSuccess@@ (@@ final org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Vdc@@ Operation@@ <@@ org.ovirt.engine.core.common.action.VdcAction@@ Type, org.ovirt.engine.core.common.action.@@ Lo@@ gin@@ User@@ Parameters@@ > o@@ per@@ ation@@ , final org.ovirt.engine.core.common.action.VdcReturnValue@@ Base result) { org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ log@@ g@@ er.@@ fin@@ er@@ ("@@ Suc@@ c@@ es@@ f@@ u@@ l return@@ ed result f@@ ro@@ m Lo@@ gin@@ .@@ "); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance@@ ().set@@ Log@@ ged@@ In@@ User@@ (((@@ org.ovirt.engine.core.common.@@ user@@ s.@@ Vdc@@ User@@ ) (@@ result.get@@ Action@@ ReturnValue@@ ()))); call@@ back@@ .get@@ Del@@ ().@@ onSuccess@@ (c@@ all@@ back@@ .get@@ Model@@ (), result@@ ); if (((@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().get@@ Lo@@ gin@@ Handler@@ ()) != null@@ ) && (@@ result.get@@ Succeeded@@ ())) { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().get@@ Lo@@ gin@@ Handler@@ ().@@ on@@ Lo@@ gin@@ Success@@ (@@ user@@ Name, p@@ assword@@ , do@@ m@@ ain@@ ); } }
private boolean pri@@ mar@@ y@@ Ip@@ v@@ 4@@ Address@@ Not@@ Set@@ () { return (!(@@ has@@ Ip@@ Configuration@@ ())) || (!@@ (get@@ Ip@@ Configuration@@ ().@@ has@@ Ip@@ v@@ 4@@ P@@ ri@@ mar@@ y@@ Address@@ Set@@ ())); }
protected java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> get@@ StorageDomain@@ s@@ Id@@ s() { java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> storage@@ Id@@ s = new java.util.Hash@@ Set<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ DiskImage dis@@ k : get@@ Source@@ Images@@ ()) { storage@@ Id@@ s.@@ add@@ All@@ (disk@@ .get@@ Storage@@ Id@@ s()); } return storage@@ Id@@ s@@ ; }
void save@@ Vms@@ To@@ Db@@ () { get@@ DbFacade@@ ().get@@ Vm@@ Dynamic@@ Dao().@@ update@@ All@@ In@@ B@@ atch@@ (@@ _@@ vm@@ Dynamic@@ To@@ S@@ a@@ v@@ e.@@ valu@@ es@@ ()); get@@ DbFacade@@ ().get@@ Vm@@ Statistic@@ s@@ Dao().@@ update@@ All@@ In@@ B@@ atch@@ (@@ _@@ vm@@ Statistic@@ sTo@@ S@@ a@@ v@@ e.@@ valu@@ es@@ ()); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Statistic@@ s> all@@ Vm@@ Interface@@ Statistic@@ s = new java.util.@@ Link@@ ed@@ List<@@ org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Statistic@@ s@@ >(); for (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > lis@@ t : _@@ vm@@ Interface@@ Statistic@@ sTo@@ S@@ a@@ v@@ e.@@ valu@@ es@@ ()) { for (org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface if@@ ac@@ e : list@@ ) { all@@ Vm@@ Interface@@ Statistic@@ s.@@ add@@ (@@ if@@ ac@@ e.get@@ Statistic@@ s()); } } get@@ DbFacade@@ ().get@@ VmNetwork@@ Statistic@@ s@@ Dao().@@ update@@ All@@ In@@ B@@ atch@@ (@@ all@@ Vm@@ Interface@@ Statistic@@ s); get@@ DbFacade@@ ().get@@ DiskImage@@ Dynamic@@ Dao().@@ update@@ All@@ In@@ B@@ atch@@ (@@ _@@ vm@@ DiskImage@@ Dynamic@@ To@@ S@@ a@@ v@@ e.@@ valu@@ es@@ ()); get@@ DbFacade@@ ().get@@ Lun@@ Dao().@@ update@@ All@@ In@@ B@@ atch@@ (vm@@ Lun@@ Disks@@ To@@ S@@ ave@@ ); save@@ Vm@@ Devices@@ To@@ Db@@ (); save@@ Vm@@ G@@ u@@ est@@ Agent@@ Network@@ Devices@@ (); get@@ Vds@@ Event@@ Listener@@ ().add@@ Ex@@ ter@@ n@@ all@@ y@@ Manage@@ d@@ Vm@@ s(@@ _@@ ex@@ ternal@@ Vms@@ To@@ Add@@ ); get@@ DbFacade@@ ().get@@ DiskImage@@ Dynamic@@ Dao().@@ update@@ All@@ In@@ B@@ atch@@ (@@ all@@ Vm@@ Interface@@ Statistic@@ s); get@@ DbFacade@@ ().get@@ DiskImage@@ Dynamic@@ Dao().@@ update@@ All@@ In@@ B@@ atch@@ (@@ _@@ vm@@ DiskImage@@ Dynamic@@ To@@ S@@ a@@ v@@ e.@@ valu@@ es@@ ()); get@@ DbFacade@@ ().get@@ Lun@@ Dao().@@ update@@ All@@ In@@ B@@ atch@@ (vm@@ Lun@@ Disks@@ To@@ S@@ ave@@ ); get@@ Vds@@ Event@@ Listener@@ ().add@@ Ex@@ ter@@ n@@ all@@ y@@ Manage@@ d@@ Vm@@ s(@@ _@@ ex@@ ternal@@ Vms@@ To@@ Add@@ ); get@@ Vds@@ Event@@ Listener@@ ().add@@ Ex@@ ter@@ n@@ all@@ y@@ Manage@@ d@@ Vm@@ s(@@ _@@ ex@@ ternal@@ Vms@@ To@@ Add@@ ); }
private java.util.Map<@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .S@@ ync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.@@ Lun@@ Handler@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >> get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (org.ovirt.engine.core.compat.Guid lun@@ From@@ V@@ g@@ Lun@@ Id, org.ovirt.engine.core.compat.Guid lun@@ From@@ Db@@ Lun@@ Id, org.ovirt.engine.core.compat.Guid lun@@ From@@ V@@ g@@ P@@ v@@ Id, org.ovirt.engine.core.compat.Guid lun@@ From@@ Db@@ P@@ v@@ Id) { set@@ Lun@@ s@@ Id@@ s(@@ lun@@ From@@ V@@ g@@ Lun@@ Id, lun@@ From@@ Db@@ Lun@@ Id, lun@@ From@@ V@@ g@@ P@@ v@@ Id, lun@@ From@@ Db@@ P@@ v@@ Id); return get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (); }
@java.lang.Override public void update@@ Step@@ (@@ final org.ovirt.engine.core.common.@@ job.@@ St@@ e@@ p st@@ ep@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.@@ V@@ o@@ id@@ >() { @java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { try { job@@ Dao@@ .@@ update@@ Job@@ L@@ ast@@ Update@@ Tim@@ e(@@ st@@ ep@@ .get@@ Job@@ Id(), new java.util.@@ D@@ ate@@ ()); st@@ ep@@ Dao@@ .@@ update@@ (@@ st@@ ep@@ ); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.@@ job.@@ Job@@ Rep@@ os@@ it@@ ory@@ Impl.@@ log.error("@@ Fail@@ ed to up@@ dat@@ e st@@ e@@ p '{}@@ '@@ , '{}@@ '@@ : {}@@ ", st@@ ep@@ .get@@ Id(), st@@ ep@@ .get@@ Step@@ Name(), e.get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ job.@@ Job@@ Rep@@ os@@ it@@ ory@@ Impl.@@ log.error("@@ Exception@@ ", e); } return null@@ ; } }); }
@java.lang.Override public void On@@ Success@@ (java.lang.Object model, java.lang.Object return@@ Value@@ ) { if (((@@ java.lang.Boolean@@ ) (@@ return@@ Value@@ ))) { get@@ Add@@ Brick@@ s@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ true@@ ); set@@ Message@@ (@@ null@@ ); } else { get@@ Add@@ Brick@@ s@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ false@@ ); set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ volume@@ Empty@@ Cluster@@ Validation@@ M@@ s@@ g@@ ()); } }
private boolean is@@ Console@@ Command@@ s@@ Execution@@ Allow@@ ed@@ () { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > lis@@ t = get@@ SelectedItem@@ s(); if (@@ lis@@ t == null@@ ) { return false@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ VM vm : list@@ ) { if (@@ con@@ s@@ ole@@ Model@@ s@@ C@@ ach@@ e.get@@ Vm@@ Cons@@ ol@@ es@@ For@@ Vm@@ Id@@ (vm@@ .getId@@ ()).@@ can@@ Conn@@ ect@@ To@@ Console@@ ()) { return true@@ ; } } return false@@ ; }
@java.lang.Override protected void end@@ Success@@ f@@ ull@@ y@@ () { h@@ andle@@ En@@ d@@ Action@@ (); }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = 1@@ ; result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@ ) == null ? 0 : id@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ id@@
@java.lang.Override public void set@@ Main@@ Tab@@ SelectedItem@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group selected@@ Item@@ ) { d@@ ri@@ ver.@@ edit@@ (get@@ Detail@@ Model@@ ()); for@@ m@@ Buil@@ der.@@ sh@@ ow@@ For@@ m@@ (get@@ Detail@@ Model@@ ()); if (s@@ elected@@ Item@@ .@@ sup@@ port@@ s@@ Vir@@ t@@ Service@@ ()) { if (s@@ elected@@ Item@@ .get@@ s@@ el@@ ection@@ _@@ al@@ g@@ or@@ ith@@ m@@ ().@@ equals(@@ Vds@@ Sel@@ ection@@ Al@@ g@@ or@@ ith@@ m.@@ P@@ ow@@ er@@ S@@ ave@@ )) { set@@ Visi@@ bility@@ (@@ true@@ ); le@@ f@@ t@@ S@@ l@@ id@@ er.@@ set@@ Value@@ (s@@ elected@@ Item@@ .get@@ low@@ _@@ uti@@ l@@ ization@@ ()); ri@@ g@@ ht@@ S@@ l@@ id@@ er.@@ set@@ Value@@ (s@@ elected@@ Item@@ .get@@ h@@ ig@@ h@@ _@@ uti@@ l@@ ization@@ ()); p@@ olicy@@ Time@@ L@@ ab@@ el.@@ set@@ Text@@ ((@@ (((@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ For@@ Time@@ Label@@ ()) + " ") + (s@@ elected@@ Item@@ .get@@ cpu@@ _@@ o@@ ver@@ _@@ c@@ omm@@ it@@ _@@ d@@ ur@@ ation@@ _@@ min@@ ut@@ es@@ ())) + " ") + (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ M@@ in@@ Time@@ Label@@ ()))); p@@ olicy@@ Fiel@@ d@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ P@@ ow@@ S@@ ave@@ Label@@ ()); } else if (s@@ elected@@ Item@@ .get@@ s@@ el@@ ection@@ _@@ al@@ g@@ or@@ ith@@ m@@ ().@@ equals(@@ Vds@@ Sel@@ ection@@ Al@@ g@@ or@@ ith@@ m.@@ Ev@@ en@@ ly@@ D@@ ist@@ ri@@ bu@@ te@@ )) { set@@ Visi@@ bility@@ (@@ true@@ ); le@@ f@@ t@@ S@@ l@@ id@@ er.@@ set@@ Visi@@ bl@@ e@@ (@@ false@@ ); le@@ f@@ t@@ D@@ um@@ m@@ y@@ S@@ l@@ id@@ er.@@ set@@ Visi@@ bl@@ e@@ (@@ true@@ ); ri@@ g@@ ht@@ S@@ l@@ id@@ er.@@ set@@ Visi@@ bl@@ e@@ (@@ true@@ ); ri@@ g@@ ht@@ S@@ l@@ id@@ er.@@ set@@ Value@@ (s@@ elected@@ Item@@ .get@@ h@@ ig@@ h@@ _@@ uti@@ l@@ ization@@ ()); p@@ olicy@@ Time@@ L@@ ab@@ el.@@ set@@ Text@@ ((@@ (((@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ For@@ Time@@ Label@@ ()) + " ") + (s@@ elected@@ Item@@ .get@@ cpu@@ _@@ o@@ ver@@ _@@ c@@ omm@@ it@@ _@@ d@@ ur@@ ation@@ _@@ min@@ ut@@ es@@ ())) + " ") + (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ M@@ in@@ Time@@ Label@@ ()))); p@@ olicy@@ Fiel@@ d@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ Ev@@ en@@ D@@ ist@@ Label@@ ()); } else { set@@ Visi@@ bility@@ (@@ false@@ ); p@@ olicy@@ Fiel@@ d@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ const@@ an@@ t@@ s.@@ cluster@@ Policy@@ N@@ one@@ Label@@ ()); } }
private void remove@@ Host@@ ed@@ Engine@@ Lun@@ Disk@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Base@@ Disk@@ > disk@@ s = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Import@@ Host@@ ed@@ Engine@@ StorageDomain@@ Command.get@@ DbFacade@@ ().get@@ Base@@ Disk@@ Dao().get@@ Disks@@ By@@ Alias@@ (@@ Storage@@ Constants.@@ HOST@@ ED_@@ EN@@ G@@ IN@@ E_@@ LUN@@ _@@ DIS@@ K_@@ AL@@ I@@ A@@ S@@ ); if ((@@ disk@@ s != null@@ ) && (!(@@ disk@@ s.@@ isEmpty@@ ()))) { org.ovirt.engine.core.common.businessentities.storage.@@ Base@@ Disk h@@ e@@ Direct@@ L@@ u@@ n = disk@@ s.get@@ (0@@ ); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base remove@@ Disk = get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ Remove@@ Disk@@ , new org.ovirt.engine.core.common.action.@@ Remove@@ Disk@@ Parameters(@@ h@@ e@@ Direct@@ Lun@@ .getId@@ ())); if (!(@@ remove@@ Disk@@ .get@@ Succeeded@@ ())) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Import@@ Host@@ ed@@ Engine@@ StorageDomain@@ Command.set@@ Succeeded@@ (@@ false@@ ); log.error("@@ Fail@@ ed to rem@@ ov@@ e the host@@ ed engin@@ e d@@ ir@@ ect lu@@ n disk@@ "); } } }
public java.util.List<java.lang.String> validate@@ () { for (org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface if@@ ac@@ e : param@@ s.get@@ Interfaces@@ ()) { java.lang.String nam@@ e = if@@ ac@@ e.get@@ Name@@ (); if (@@ add@@ Interface@@ To@@ Pro@@ cess@@ ed@@ List@@ (@@ if@@ ace@@ )) { if (is@@ Bond@@ (@@ if@@ ace@@ )) { ex@@ tr@@ act@@ Bond@@ If@@ M@@ o@@ d@@ if@@ i@@ ed@@ (@@ if@@ ace@@ , name@@ ); } else { if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name@@ ())) { ex@@ tr@@ act@@ Bond@@ S@@ lave@@ (@@ if@@ ace@@ ); } java.lang.String name@@ With@@ out@@ V@@ lan@@ Id = org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ St@@ ri@@ p@@ V@@ lan@@ (@@ name@@ ); if (!@@ (get@@ Existing@@ I@@ fac@@ es@@ ().@@ contains@@ Key@@ (@@ name@@ With@@ out@@ V@@ lan@@ Id@@ ))) { add@@ Vi@@ ol@@ ation@@ (VdcBllMessages.@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E@@ S_@@ D@@ ON@@ T_@@ EXIST@@ , name@@ With@@ out@@ V@@ lan@@ Id); } } if ((@@ vi@@ ol@@ ation@@ s.@@ isEmpty@@ ()) && (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (@@ if@@ ac@@ e.get@@ Network@@ Name@@ ()))) { ex@@ tr@@ act@@ Network@@ (@@ if@@ ace@@ ); } } } validate@@ Bond@@ S@@ l@@ a@@ v@@ es@@ Count@@ (); java.util.List<java.lang.String> vi@@ ol@@ ation@@ s = ex@@ tr@@ act@@ Rem@@ oved@@ Networks@@ (); ex@@ tr@@ act@@ Rem@@ oved@@ Bon@@ ds@@ (); d@@ et@@ ect@@ S@@ lave@@ Chang@@ es@@ (); vi@@ ol@@ ation@@ s.@@ add@@ All@@ (@@ trans@@ l@@ ate@@ Vi@@ ol@@ ation@@ s()); return vi@@ ol@@ ation@@ s@@ ; }
@java.lang.Override public boolean can@@ Be@@ Selected@@ () { boolean has@@ Vm@@ Sp@@ ice@@ Sup@@ por@@ t = java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .equals(@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().@@ has@@ Sp@@ ice@@ Sup@@ port@@ (get@@ Entity@@ ().get@@ Os@@ (), get@@ Entity@@ ().get@@ CompatibilityVersion@@ ())); return (get@@ Entity@@ ().get@@ Graphics@@ Info@@ s().@@ contains@@ Key@@ (@@ Graphics@@ Type.@@ SP@@ IC@@ E@@ )) && has@@ Vm@@ Sp@@ ice@@ Sup@@ port@@ ; }
private boolean is@@ Check@@ Status@@ Supported@@ () { org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Device@@ List@@ VDS@@ Command.get@@ DbFacade@@ ().get@@ Vds@@ Dao().get@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Device@@ List@@ VDS@@ Command.getParameters().get@@ Vds@@ Id()); return org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .get@@ Device@@ List@@ With@@ out@@ Status@@ Supported@@ (@@ vds.get@@ VdsGroup@@ CompatibilityVersion@@ ()); }
protected void update@@ Time@@ Z@@ one@@ (@@ final java.lang.String selected@@ Time@@ Z@@ one@@ ) { final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ Bas@@ e.@@ Time@@ z@@ one@@ Type time@@ z@@ one@@ Type = get@@ Time@@ Z@@ one@@ Type@@ (); if ((@@ c@@ ach@@ ed@@ Time@@ Z@@ on@@ es@@ .get(@@ time@@ z@@ one@@ Type@@ )) == null@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Time@@ Z@@ one@@ List@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ Base b@@ e@@ ha@@ vi@@ or = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ Base@@ ) (@@ target@@ )); java.util.Map<java.lang.String, java.lang.String> time@@ z@@ one@@ s = ((@@ java.util.Map<java.lang.String, java.lang.String@@ >) (@@ return@@ Value@@ )); c@@ ach@@ ed@@ Time@@ Z@@ on@@ es.@@ put(@@ time@@ z@@ one@@ Type, time@@ z@@ on@@ es.@@ e@@ n@@ try@@ Set@@ ()); b@@ e@@ ha@@ vi@@ or.@@ p@@ ost@@ Update@@ Time@@ Z@@ on@@ e(@@ selected@@ Time@@ Z@@ one@@ ); } }, getModel().get@@ Hash@@ ())); } else { p@@ ost@@ Update@@ Time@@ Z@@ on@@ e(@@ selected@@ Time@@ Z@@ one@@ ); } }
protected boolean check@@ If@@ Image@@ Disk@@ Can@@ Be@@ Ad@@ ded@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator disk@@ Validator@@ ) { if (@@ Guid@@ .@@ Empty@@ .@@ equals@@ (get@@ StorageDomain@@ Id@@ ())) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ NOT_@@ SP@@ EC@@ I@@ F@@ I@@ ED); } boolean return@@ Value@@ ; org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator = create@@ StorageDomain@@ Validator@@ (); return@@ Value = ((((@@ (org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command.get@@ Parameters@@ ().is@@ S@@ k@@ ip@@ Domain@@ Check@@ ()) || (@@ validate@@ (@@ storageDomain@@ Validator.@@ is@@ Domain@@ Exist@@ And@@ Active@@ ()))) && (!(@@ is@@ Sh@@ are@@ able@@ Disk@@ On@@ Gluster@@ Domain@@ ()))) && (@@ check@@ Image@@ Configuration@@ ())) && (@@ validate@@ (@@ storageDomain@@ Validator.@@ has@@ Sp@@ ace@@ For@@ New@@ Disk@@ (get@@ DiskImage@@ Info@@ ())@@ ))) && (@@ validate@@ (@@ storageDomain@@ Validator.@@ is@@ Domain@@ With@@ in@@ Th@@ resh@@ ol@@ ds@@ ()))) && (@@ check@@ Exce@@ ed@@ ing@@ Max@@ B@@ lock@@ Disk@@ Size@@ ())) && (c@@ an@@ Add@@ Sh@@ are@@ able@@ Disk@@ ())) && (@@ validate@@ (disk@@ Validator.@@ is@@ Vir@@ t@@ I@@ oS@@ csi@@ Valid@@ (vm@@ )@@ ))) && (@@ validate@@ (disk@@ Validator.@@ is@@ Disk@@ Interface@@ Supported@@ (org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command.getVm@@ ()))); if (@@ return@@ Value && (@@ vm != null@@ )) { org.ovirt.engine.core.common.businessentities.Storage@@ Pool s@@ p = org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command.get@@ StoragePool@@ (); return@@ Value = (((@@ validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ StoragePool@@ Validator@@ (s@@ p@@ ).@@ is@@ Up@@ ())) && (is@@ StoragePool@@ Match@@ ing@@ (vm@@ ))) && (org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command.@@ is@@ Vm@@ Not@@ Lock@@ ed@@ ())) && (org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command.@@ is@@ Vm@@ Not@@ In@@ Pre@@ view@@ Snapshot@@ ()); } return return@@ Value@@ ; }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.String@@ >> lock@@ s = new java.util.HashMap<@@ >(); lock@@ s.@@ put@@ (org.ovirt.engine.core.bll.@@ Remove@@ Vds@@ Command.getParameters().get@@ Vds@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VDS@@ , EngineMessage.ACTION_TYPE_FAILED_@@ O@@ B@@ J@@ EC@@ T_@@ LO@@ C@@ K@@ ED@@ )); return lock@@ s@@ ; }
@java.lang.Override public boolean is@@ Requi@@ red@@ Network@@ A@@ ff@@ ected@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 1, org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 2@@ ) { final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Log@@ ical@@ Network@@ Model log@@ ical@@ Network@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Log@@ ical@@ Network@@ Model) (@@ op@@ 1@@ )); return ((@@ log@@ ical@@ Network@@ Model.get@@ Network@@ ().get@@ Cluster@@ ()) != null@@ ) && (@@ log@@ ical@@ Network@@ Model.get@@ Network@@ ().get@@ Cluster@@ ().is@@ Requi@@ red@@ ()); }
private boolean con@@ s@@ ole@@ Device@@ Changed@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > con@@ s@@ ole@@ Device@@ s = org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ Device@@ Dao().get@@ VmDevice@@ By@@ Vm@@ Id@@ Type@@ And@@ Device@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Vm@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ C@@ ON@@ S@@ O@@ LE@@ , VmDevice@@ Type.@@ C@@ ON@@ S@@ O@@ LE@@ .get@@ Name()); return (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.get@@ Parameters@@ ().is@@ Console@@ Enabled@@ ()) == (@@ con@@ s@@ ole@@ Devic@@ es.@@ isEmpty@@ ()); }
private void g@@ u@@ est@@ Agent@@ Is@@ Up@@ Or@@ Bal@@ loon@@ De@@ f@@ l@@ ated@@ (org.ovirt.engine.core.compat.Guid vm@@ Id) { vm@@ sWith@@ Un@@ cont@@ ro@@ ll@@ ed@@ Bal@@ loon@@ .@@ remove@@ (vm@@ Id); }
@org.junit.Test public void test@@ S@@ ave@@ () { new@@ Vm@@ Statistic@@ s.set@@ Id@@ (@@ new@@ Vm@@ Static@@ .getId()); new@@ Vm@@ Statistic@@ s.set@@ Migration@@ Progress@@ Per@@ c@@ ent@@ (0@@ ); new@@ Vm@@ Statistic@@ s.set@@ Memory@@ Us@@ age@@ H@@ ist@@ ory@@ ("@@ 2@@ ,@@ 3@@ ,@@ 4@@ "); new@@ Vm@@ Statistic@@ s.set@@ Cpu@@ Us@@ age@@ H@@ ist@@ ory@@ (@@ 5@@ ,@@ 6@@ ,@@ 7@@ "); new@@ Vm@@ Statistic@@ s.set@@ Network@@ Us@@ age@@ H@@ ist@@ ory@@ (@@ null@@ ); d@@ ao.@@ save@@ (@@ new@@ Vm@@ Statistic@@ s); org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s stat@@ s = d@@ ao@@ .get@@ (@@ new@@ Vm@@ Static@@ .getId()); assert@@ Not@@ Null@@ (@@ stat@@ s); assert@@ Equals@@ (@@ new@@ Vm@@ Statistic@@ s, stat@@ s); }
@java.lang.Override public int hash@@ Code@@ () { if (((@@ ser@@ vice@@ ) == null@@ ) && ((@@ parent@@ Service@@ ) == null@@ )) { return 0@@ ; } if ((@@ ser@@ vice@@ ) == null@@ ) { return parent@@ Ser@@ vic@@ e.@@ hash@@ Code@@ (); } if ((@@ parent@@ Service@@ ) == null@@ ) { return ser@@ vic@@ e.@@ hash@@ Code@@ (); } return (@@ 9@@ 9@@ 7 * (@@ int@@ ) (@@ ser@@ vic@@ e.@@ hash@@ Code@@ ()))) ^ (@@ 9@@ 9@@ 1 * (@@ (@@ int@@ ) (@@ parent@@ Ser@@ vic@@ e.@@ hash@@ Code@@ ()))); }
private javax.ws.rs.@@ core.@@ Respon@@ se cl@@ one@@ Vm@@ From@@ Snapshot@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c static@@ Vm@@ , org.ovirt.engine.api.model.@@ VM vm@@ , java.lang.String snapshot@@ Id, java.util.HashMap<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > im@@ ages@@ ) { org.ovirt.engine.core.compat.Guid source@@ Snapshot@@ Id = as@@ Guid@@ (s@@ napshot@@ Id); org.ovirt.engine.core.common.action.@@ AddVm@@ From@@ Snapshot@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ AddVm@@ From@@ Snapshot@@ Parameters@@ (@@ static@@ Vm@@ , source@@ Snapshot@@ Id); params.set@@ Disk@@ Info@@ Dest@@ ination@@ Map@@ (@@ im@@ ages@@ ); params.set@@ Ma@@ ke@@ Cre@@ ator@@ Ex@@ pl@@ ic@@ it@@ O@@ wn@@ er@@ (@@ shoul@@ d@@ Ma@@ ke@@ Cre@@ ator@@ Ex@@ pl@@ ic@@ it@@ O@@ wn@@ er@@ ()); if (vm@@ .is@@ Set@@ Console@@ Device@@ Enabled@@ ()) { params.set@@ Console@@ Enabled@@ (vm@@ .is@@ Console@@ Device@@ Enabled@@ ()); } return p@@ er@@ for@@ m@@ Create@@ (VdcActionType.@@ AddVm@@ From@@ Snapshot@@ , param@@ s, new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <@@ org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Vm@@ By@@ Vm@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ )); }
private boolean is@@ Bond@@ M@@ ode@@ Fail@@ o@@ ver@@ (java.lang.String bond@@ Option@@ s) { java.util.@@ re@@ g@@ ex@@ .@@ Match@@ er mat@@ ch@@ er = org.ovirt.engine.core.bll.network.@@ host.@@ Interfaces@@ Sp@@ e@@ ed@@ .@@ B@@ ON@@ D_@@ O@@ P@@ T@@ S_@@ M@@ O@@ D@@ E_@@ C@@ A@@ P@@ T@@ U@@ RE@@ .m@@ atch@@ er@@ (@@ bond@@ Option@@ s); mat@@ ch@@ er.@@ fin@@ d@@ (); int bond@@ Mod@@ e = java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (@@ mat@@ ch@@ er.@@ group@@ (@@ 1@@ )); return (@@ bond@@ Mod@@ e == 1@@ ) || (@@ bond@@ Mod@@ e == 3@@ ); }
private void edit@@ MacPool@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ m@@ ac@@ p@@ oo@@ l.@@ Sh@@ ared@@ MacPool@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ m@@ ac@@ p@@ oo@@ l.@@ Sh@@ ared@@ MacPool@@ Model@@ (@@ this@@ , $@@ mis@@ sing@@ $@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ edit@@ Sh@@ ared@@ MacPool@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ edit@@ _@@ shared@@ _@@ m@@ ac@@ _@@ pool@@ ); model.set@@ Hash@@ Name@@ ("@@ edit@@ _@@ shared@@ _@@ m@@ ac@@ _@@ pool@@ "); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Entity@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ MacPool@@ ) (get@@ SelectedItem@@ ()))); }
private void init@@ T@@ u@@ ne@@ d@@ Profil@@ es@@ () { this@@ .@@ st@@ art@@ Progress@@ (@@ null@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Gluster@@ T@@ u@@ ne@@ d@@ Profil@@ es@@ , new org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base@@ (), new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Model@@ .@@ this@@ .@@ st@@ op@@ Progress@@ (); java.util.List<java.lang.String> tu@@ ne@@ d@@ Profile@@ s = new java.util.ArrayList<>(); if (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ Succeeded@@ ()) { ne@@ d@@ Profil@@ es.@@ add@@ All@@ (@@ java.util.Arrays.as@@ List@@ (((@@ java.lang.String@@ ) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ ReturnValue@@ ())@@ ).@@ s@@ pl@@ it@@ ("@@ ,@@ "@@ ))); } tu@@ ne@@ d@@ Profil@@ e.set@@ Items(@@ tu@@ ne@@ d@@ Profil@@ es@@ ); } }@@ )); }
public java.lang.String get@@ F@@ a@@ vi@@ con@@ Path@@ () { java.io.@@ Fil@@ e fa@@ vic@@ on = new java.io.@@ File@@ (((@@ fil@@ e@@ Path@@ ) + "@@ /@@ fa@@ vi@@ con@@ .@@ ic@@ o@@ ")); if (@@ fa@@ vi@@ con@@ .@@ ex@@ ist@@ s()) { return (p@@ ath@@ ) + "@@ /@@ fa@@ vi@@ con@@ .@@ ic@@ o@@ "; } return null@@ ; }
@org.junit.Test public void test@@ Remove@@ Role@@ () { d@@ ao.@@ remove@@ (@@ existing@@ R@@ ol@@ e.get@@ Id()); org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ e result = d@@ ao@@ .get(@@ existing@@ R@@ ol@@ e.get@@ Id()); assert@@ Null@@ (@@ result@@ ); }
protected void s@@ ync@@ Search@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type v@@ dc@@ Query@@ Type, org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base v@@ dc@@ Query@@ Parameters@@ Base@@ ) { s@@ ync@@ Search@@ (@@ v@@ dc@@ Query@@ Type, v@@ dc@@ Query@@ Parameters@@ Base@@ , new Set@@ Item@@ s@@ Async@@ Query@@ ()); }
public static org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ > get@@ Alias@@ Column@@ (java.lang.String s@@ ort@@ By@@ ) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ > c@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ >() { @java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Disk object@@ ) { return objec@@ t.get@@ Disk@@ Alias@@ (); } }; return org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ disk@@ s.@@ Disks@@ View@@ Column@@ s.@@ ma@@ ke@@ S@@ ort@@ able(@@ c@@ olumn@@ , s@@ ort@@ By@@ ); }
private org.ovirt.engine.core.common.businessentities.@@ Err@@ ata@@ Data run@@ Err@@ ata@@ List@@ Method@@ (java.lang.String re@@ l@@ ati@@ ve@@ U@@ r@@ l@@ , java.lang.String host@@ Name@@ ) { org.ovirt.engine.core.common.businessentities.@@ Err@@ ata@@ Data err@@ ata@@ Data = new org.ovirt.engine.core.common.businessentities.@@ Err@@ ata@@ Data@@ (); try { org.ovirt.engine.core.bll.@@ host.@@ provider@@ .@@ for@@ em@@ an@@ .@@ Err@@ ata@@ W@@ r@@ app@@ er wr@@ app@@ er = object@@ Mapper.@@ read@@ Value(@@ run@@ Http@@ Get@@ Method@@ (@@ re@@ l@@ ati@@ ve@@ U@@ r@@ l@@ ), org.ovirt.engine.core.bll.@@ host.@@ provider@@ .@@ for@@ em@@ an@@ .@@ Err@@ ata@@ W@@ rap@@ per@@ .@@ class@@ ); err@@ ata@@ Data@@ .set@@ Err@@ ata@@ (m@@ ap@@ Err@@ ata@@ (@@ java.util.Arrays.as@@ List(@@ w@@ rap@@ per@@ .get@@ Result@@ s@@ ()))); err@@ ata@@ Data@@ .set@@ Err@@ ata@@ Count@@ s(@@ map@@ Err@@ ata@@ Count@@ s(@@ w@@ rap@@ per@@ )); java.util.@@ stream@@ .@@ St@@ ream@@ .@@ o@@ f@@ (org.ovirt.engine.core.common.businessentities.@@ Err@@ at@@ um@@ .@@ Err@@ ata@@ Type.@@ valu@@ es@@ ())@@ .@@ for@@ E@@ ach@@ (@@ ( err@@ ata@@ Type@@ ) -@@ > add@@ Err@@ ata@@ Count@@ For@@ Type(@@ err@@ ata@@ Data@@ , err@@ ata@@ Type@@ )); } catch (@@ java.lang.Exception e) { log.error("@@ Fail@@ ed to ret@@ ri@@ ev@@ e err@@ at@@ a for cont@@ ent hos@@ t '{}@@ ' vi@@ a ur@@ l '{}@@ '@@ : wit@@ h er@@ ro@@ r {}@@ ", host@@ Name, re@@ l@@ ati@@ ve@@ U@@ r@@ l@@ , e.get@@ Message@@ ()); log.debug@@ ("@@ Exception@@ ", e); return org.ovirt.engine.core.common.businessentities.@@ Err@@ ata@@ Data@@ .@@ em@@ pty@@ Data@@ (); } return err@@ ata@@ Data@@ ; }
@java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { for (@@ org.ovirt.engine.core.common.action.@@ Attach@@ Network@@ To@@ VdsGroup@@ Paramet@@ er par@@ a@@ m : get@@ Parameters().get@@ Cluster@@ Networks@@ Parameters@@ ()) { org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Attach@@ Network@@ To@@ VdsGroup@@ Command.@@ update@@ NetworkAttachment@@ (@@ param@@ .get@@ VdsGroup@@ Id(), param@@ .get@@ Network@@ Cluster@@ (), param@@ .get@@ Network@@ (), this@@ ); } return null@@ ; }
public static org.ovirt.engine.core.vdsbroker.vdsbroker.@@ I@@ Vds@@ Ser@@ ve@@ r create@@ Vds@@ Server@@ (java.lang.String host@@ name@@ , int port@@ , int client@@ Time@@ Out@@ , int connection@@ Time@@ Out@@ , int client@@ R@@ et@@ ri@@ es@@ , int h@@ e@@ art@@ b@@ eat@@ ) { org.apache.commons.@@ http@@ client.@@ Http@@ Cli@@ ent cli@@ ent = org.ovirt.engine.core.vdsbroker.@@ Http@@ Util@@ s.get@@ Connection@@ (@@ client@@ Time@@ Out@@ , connection@@ Time@@ Out@@ , client@@ R@@ et@@ ri@@ es@@ , org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Vds@@ Max@@ Connection@@ s@@ Per@@ Host@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Max@@ T@@ otal@@ Connection@@ s@@ )); java.lang.String event@@ Q@@ ue@@ u@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Event@@ Q@@ ue@@ ue@@ ue@@ ue@@ Name); return new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ Json@@ R@@ pc@@ Vds@@ Server@@ (@@ org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ Json@@ R@@ pc@@ Utils.@@ create@@ St@@ omp@@ Client@@ (@@ host@@ name@@ , port@@ , connection@@ Time@@ Out@@ , client@@ Time@@ Out@@ , client@@ R@@ et@@ ri@@ es@@ , h@@ e@@ art@@ b@@ eat@@ , org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ En@@ c@@ r@@ yp@@ t@@ Host@@ Comm@@ un@@ ication@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Vds@@ m@@ SS@@ L@@ Protocol@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Event@@ Pro@@ cess@@ ing@@ Pool@@ Size@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Vds@@ Request@@ Q@@ ue@@ Name@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Vds@@ Respon@@ se@@ Q@@ ue@@ ue@@ ue@@ Name@@ ), event@@ Q@@ ue@@ ue@@ ue@@ ue@@ ue@@ ), client@@ ); }
protected boolean is@@ Fence@@ Agent@@ Valid@@ (org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Ag@@ ent ag@@ ent@@ ) { if ((@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ ag@@ ent.get@@ User@@ ())) || (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ ag@@ ent.get@@ Password@@ ()))) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ P@@ M@@ _@@ EN@@ AB@@ L@@ ED_@@ W@@ I@@ T@@ HO@@ U@@ T_@@ AG@@ EN@@ T_@@ C@@ R@@ ED@@ EN@@ TI@@ AL@@ S@@ ); return false@@ ; } else { return true@@ ; } }
@org.junit.Test public void test@@ With@@ out@@ En@@ o@@ u@@ g@@ h@@ S@@ par@@ es@@ Memory@@ () throw@@ s java.lang.Exception { parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ H@@ E_@@ SP@@ A@@ RE@@ S_@@ C@@ O@@ UN@@ T@@ .get@@ Db@@ Name(), "@@ 3@@ "); host@@ ed@@ Engin@@ e.set@@ Vm@@ Mem@@ Size@@ M@@ b@@ (@@ 7@@ 00@@ 0@@ ); host@@ s.get@@ (@@ 3@@ )@@ .set@@ P@@ h@@ y@@ s@@ ical@@ Mem@@ M@@ b@@ (@@ 2@@ 0@@ 4@@ 8@@ ); host@@ s.get@@ (@@ 4@@ )@@ .set@@ P@@ h@@ y@@ s@@ ical@@ Mem@@ M@@ b@@ (@@ 2@@ 0@@ 4@@ 8@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > result = p@@ olicy@@ Un@@ it.@@ filter@@ (cluster@@ , host@@ s, vm@@ , parameters@@ , mess@@ ages@@ ); assert@@ Equals@@ (@@ 3@@ , result.@@ size@@ ()); }
@org.junit.Test public void test@@ S@@ ave@@ () { d@@ ao.@@ save@@ (@@ vnic@@ Profile@@ ); org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e result = d@@ ao@@ .get(@@ vnic@@ Profil@@ e.get@@ Id()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ Equals@@ (@@ vnic@@ Profil@@ e.get@@ Id(), result.get@@ Id()); assert@@ F@@ als@@ e(@@ result.@@ is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ()); assert@@ F@@ als@@ e(@@ result.@@ is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()); assert@@ True@@ (@@ result.@@ is@@ Migr@@ at@@ able@@ ()); }
void local@@ iz@@ e(@@ org.ovirt.engine.ui.common.@@ C@@ ommon@@ Ap@@ plication@@ Constant@@ s const@@ an@@ t@@ s) { memory@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ vi@@ r@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Snapshot@@ Pre@@ view@@ Popup@@ Memory@@ Label@@ ()); mess@@ age@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ snapshot@@ Contain@@ s@@ Memory@@ ()); }
public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ ReturnForXmlR@@ p@@ c import@@ C@@ and@@ id@@ ate@@ (java.lang.String sd@@ UUID@@ , java.lang.String vm@@ G@@ UID@@ , java.lang.String template@@ G@@ UID@@ , java.lang.String template@@ V@@ ol@@ G@@ UID@@ , java.lang.String p@@ ath@@ , java.lang.String type@@ , java.lang.String for@@ ce@@ ) { java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ ReturnValue = ir@@ s@@ Server@@ .@@ import@@ C@@ and@@ id@@ ate@@ (s@@ d@@ UUID@@ , vm@@ G@@ UID@@ , template@@ G@@ UID@@ , template@@ V@@ ol@@ G@@ UID@@ , p@@ ath@@ , type@@ , for@@ ce@@ ); org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ ReturnForXmlR@@ p@@ c wr@@ app@@ er = new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ ReturnForXmlR@@ pc@@ (@@ x@@ mlR@@ pc@@ ReturnValue@@ ); return w@@ rap@@ per@@ ; }
private boolean can@@ F@@ in@@ d@@ Vm@@ Or@@ Template@@ () { boolean ret@@ Value = true@@ ; if ((org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ Image@@ Oper@@ ation.@@ Copy@@ )) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > list@@ Template@@ s = org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command.getVm@@ Template@@ DAO@@ ().get@@ Vm@@ Templ@@ at@@ es@@ List@@ For@@ Disk@@ (org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Id()); if (@@ list@@ Templ@@ at@@ es.@@ isEmpty@@ ()) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ DO@@ E@@ S_NOT_@@ EXIST@@ ); ret@@ Value = false@@ ; } else { set@@ VmTemplate@@ (@@ list@@ Templ@@ at@@ es@@ .get(@@ 0@@ )); shared@@ Lock@@ Map = java.util.Collections.@@ sing@@ leton@@ Map@@ (@@ list@@ Templ@@ at@@ es@@ .get(@@ 0@@ ).get@@ Id(), Lock@@ ing@@ Group@@ .@@ T@@ EM@@ P@@ L@@ AT@@ E@@ .@@ name@@ ()); } } else { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > list@@ Vm@@ s = get@@ Vms@@ For@@ Disk@@ Id@@ (); if (!(@@ list@@ Vm@@ s.@@ isEmpty@@ ())) { shared@@ Lock@@ Map = new java.util.HashMap<@@ org.ovirt.engine.core.compat.Guid@@ , java.lang.String@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : list@@ Vm@@ s) { shared@@ Lock@@ Map.@@ put@@ (vm.get@@ Id(), Lock@@ ing@@ Group@@ .@@ VM@@ .@@ name@@ ()); } } } return ret@@ Value@@ ; }
private void on@@ S@@ ave@@ () { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); if (!(@@ model.@@ validate@@ ())) { return@@ ; } java.lang.String nam@@ e = model.get@@ Name@@ ().getEntity@@ (); boolean is@@ Base@@ Templ@@ ate = false@@ ; if ((@@ model.get@@ Be@@ ha@@ vi@@ or@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.vms.@@ Template@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ ) { is@@ Base@@ Templ@@ ate = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Template@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ ) (model.get@@ Be@@ ha@@ vi@@ or@@ ())@@ ).get@@ VmTemplate@@ ().is@@ Base@@ Template@@ (); } else if ((@@ model.get@@ Be@@ ha@@ vi@@ or@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Existing@@ B@@ lan@@ k@@ Template@@ Model@@ Be@@ ha@@ vi@@ or@@ ) { is@@ Base@@ Templ@@ ate = true@@ ; } if (is@@ Base@@ Template@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance@@ ().is@@ Template@@ Name@@ Un@@ i@@ q@@ ue@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Template@@ List@@ Model template@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Template@@ ListModel@@ ) (@@ target@@ )); boolean is@@ Name@@ Un@@ i@@ qu@@ e = ((@@ java.lang.Boolean@@ ) (@@ return@@ Value@@ )); template@@ List@@ Model.@@ p@@ ost@@ Name@@ Un@@ i@@ q@@ ue@@ Check@@ (is@@ Name@@ Un@@ i@@ q@@ ue@@ ); } }@@ ), name@@ ); } else { p@@ ost@@ Name@@ Un@@ i@@ q@@ ue@@ Check@@ (@@ true@@ ); } }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.core.common.businessentities.@@ H@@ as@@ Ser@@ ial@@ Num@@ ber@@ Policy@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Ser@@ ial@@ Num@@ ber@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Ser@@ ial@@ Num@@ b@@ er map@@ (org.ovirt.engine.core.common.businessentities.@@ H@@ as@@ Ser@@ ial@@ Num@@ ber@@ P@@ olic@@ y entity@@ , org.ovirt.engine.api.model.@@ Ser@@ ial@@ Num@@ b@@ er template@@ ) { if (@@ templ@@ ate == null@@ ) { templ@@ ate = new org.ovirt.engine.api.model.@@ Ser@@ ial@@ Num@@ ber@@ (); } org.ovirt.engine.api.model.@@ Ser@@ ial@@ Num@@ ber@@ P@@ olic@@ y p@@ olic@@ y = org.ovirt.engine.api.restapi.@@ types.@@ Ser@@ ial@@ Num@@ ber@@ Mapper.@@ map@@ (@@ entity.get@@ Ser@@ ial@@ Num@@ ber@@ Policy@@ (), null@@ ); if (p@@ olic@@ y != null@@ ) { templat@@ e.set@@ Policy@@ (p@@ olicy@@ .@@ value@@ ()); } if (p@@ olic@@ y == (org.ovirt.engine.api.model.@@ Ser@@ ial@@ Num@@ ber@@ Policy@@ .@@ C@@ U@@ ST@@ O@@ M@@ )) { templat@@ e.set@@ Value(@@ entity.get@@ Custom@@ Ser@@ ial@@ Num@@ ber@@ ()); } } return template@@ ; }
private void update@@ W@@ AN@@ Dis@@ able@@ E@@ ff@@ ect@@ s@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ IS@@ p@@ ic@@ e sp@@ ice@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ W@@ AN@@ Dis@@ able@@ E@@ ff@@ ect@@ s@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ <@@ java.util.List<@@ org.ovirt.engine.core.common.@@ con@@ s@@ ol@@ e.@@ Console@@ Option@@ s.@@ W@@ an@@ Dis@@ able@@ E@@ ff@@ ect@@ s@@ >@@ >() { @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") @java.lang.Override public void onSuccess@@ (@@ java.util.List<@@ org.ovirt.engine.core.common.@@ con@@ s@@ ol@@ e.@@ Console@@ Option@@ s.@@ W@@ an@@ Dis@@ able@@ E@@ ff@@ ect@@ s> return@@ Value@@ ) { sp@@ ic@@ e.get@@ Option@@ s@@ ().set@@ W@@ an@@ Dis@@ able@@ E@@ ff@@ ect@@ s@@ (@@ return@@ Value@@ ); } }@@ )); }
protected boolean update@@ Vm@@ In@@ Sp@@ m@@ () { org.ovirt.engine.core.bll.storage.@@ ovf@@ stor@@ e.@@ Ovf@@ Update@@ Pro@@ cess@@ Help@@ er ovf@@ Help@@ er = new org.ovirt.engine.core.bll.storage.@@ ovf@@ stor@@ e.@@ Ovf@@ Update@@ Pro@@ cess@@ Helper@@ (vm@@ Device@@ Util@@ s); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.compat.@@ Key@@ Value@@ Pair@@ Comp@@ at@@ <@@ java.lang.String, java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ >> m@@ et@@ a@@ D@@ ic@@ tion@@ ar@@ y = new java.util.HashMap<@@ >(); ovf@@ Helper.@@ load@@ Vm@@ Data@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Export@@ VmCommand.getVm@@ ()); ovf@@ Helper.@@ build@@ M@@ et@@ ad@@ ata@@ D@@ ic@@ tion@@ ar@@ y@@ For@@ Vm@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Export@@ VmCommand.getVm@@ (), m@@ et@@ a@@ D@@ ic@@ tion@@ ar@@ y@@ , ovf@@ Helper@@ .get@@ Vm@@ Images@@ From@@ Db@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Export@@ VmCommand.getVm@@ ())); return ovf@@ Helper.@@ execute@@ Update@@ Vm@@ In@@ Sp@@ m@@ Command@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Export@@ VmCommand.getVm@@ ().get@@ StoragePool@@ Id(), m@@ et@@ a@@ D@@ ic@@ tion@@ ar@@ y@@ , org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Export@@ Vm@@ Command.getParameters().get@@ StorageDomain@@ Id()); }
private void log@@ Command@@ Info@@ () { final char E@@ Q@@ U@@ A@@ L = '@@ =@@ '@@ ; final java.lang.String S@@ E@@ P = "@@ ,@@ "; java.lang.String@@ Buil@@ der in@@ fo = new java.lang.String@@ Builder@@ (); java.lang.String se@@ p = "@@ "; for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, java.lang.Object> st@@ ring@@ Object@@ E@@ n@@ try : create@@ Info@@ .@@ e@@ n@@ try@@ Set@@ ()) { info@@ .@@ append@@ (s@@ ep@@ ); info@@ .@@ append@@ (@@ st@@ ring@@ Object@@ E@@ n@@ try@@ .get@@ Key@@ ()); info@@ .@@ append@@ (@@ E@@ Q@@ U@@ AL@@ ); info@@ .@@ append@@ (@@ st@@ ring@@ Object@@ E@@ n@@ try@@ .get@@ Value@@ ()); se@@ p = S@@ E@@ P@@ ; } org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ VDS@@ Command.@@ log.info@@ Format@@ ("@@ {0@@ } {@@ 1@@ }@@ ", get@@ Class@@ ().get@@ Name(), info@@ .@@ toString()); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ UP@@ D@@ AT@@ E); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ VM_@@ _C@@ LUST@@ ER@@ ); }
public org.ovirt.engine.api.model.@@ Feat@@ ure@@ s get@@ Feat@@ ur@@ es(@@ org.ovirt.engine.api.model.@@ Version version@@ ) { org.ovirt.engine.api.model.@@ Feat@@ ure@@ s f@@ eat@@ ure@@ s = new org.ovirt.engine.api.model.@@ Feat@@ ur@@ es@@ (); if (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Version@@ Utils.@@ g@@ re@@ at@@ er@@ Or@@ E@@ qu@@ al@@ (@@ version@@ , Backend@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ Res@@ ource.@@ V@@ ER@@ SI@@ ON_@@ 3@@ _@@ 0@@ )) { add@@ Feat@@ ure@@ Trans@@ parent@@ H@@ u@@ ge@@ P@@ ages@@ (@@ f@@ eat@@ ur@@ es@@ ); } if (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Version@@ Utils.@@ g@@ re@@ at@@ er@@ Or@@ E@@ qu@@ al@@ (@@ version@@ , Backend@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ Res@@ ource.@@ V@@ ER@@ SI@@ ON_@@ 3@@ _@@ 1@@ )) { add@@ Feat@@ ure@@ Gluster@@ (@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ P@@ os@@ i@@ x@@ Device@@ (@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ (@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Server@@ Tim@@ e(@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Host@@ Memory@@ (@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Host@@ S@@ ock@@ et@@ s(@@ f@@ eat@@ ur@@ es@@ , version@@ ); add@@ Feat@@ ure@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Max@@ Result@@ s(@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ J@@ S@@ ON@@ Content@@ Type(@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ C@@ or@@ re@@ l@@ ation@@ Id(@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Disk@@ Ac@@ tiva@@ tion@@ (@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Nic@@ Ac@@ tiva@@ tion@@ (@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Snapshots@@ Re@@ fac@@ t@@ or@@ ing@@ (@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Remove@@ Template@@ From@@ S@@ D@@ (@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ F@@ lo@@ at@@ ing@@ Disk@@ s(@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Async@@ Delet@@ e(@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Session@@ Bas@@ ed@@ Auth@@ entic@@ ation@@ (@@ f@@ eat@@ ur@@ es@@ ); } if (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Version@@ Utils.@@ g@@ re@@ at@@ er@@ Or@@ E@@ qu@@ al@@ (@@ version@@ , Backend@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ Res@@ ource.@@ V@@ ER@@ SI@@ ON_@@ 3@@ _@@ 3@@ )) { add@@ Feat@@ ure@@ Vm@@ Ap@@ plication@@ s(@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Vnic@@ Custom@@ Properties@@ (@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Vnic@@ Custom@@ Properties@@ (@@ f@@ eat@@ ur@@ es@@ ); add@@ Feat@@ ure@@ Get@@ Host@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ (@@ f@@ eat@@ ur@@ es@@ ); } return f@@ eat@@ ur@@ es@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Th@@ is w@@ il@@ l s@@ k@@ i@@ p f@@ enc@@ ing o@@ per@@ ation@@ s on a Hos@@ t th@@ a@@ t ha@@ s ac@@ ti@@ v@@ e Stor@@ age Domain@@ s@@ ") java.lang.String s@@ k@@ ip@@ F@@ enc@@ ing@@ If@@ S@@ D@@ Active@@ Info@@ ();
@org.junit.Test public void canDoAction@@ Fail@@ s@@ On@@ Snapshot@@ Type@@ Re@@ g@@ ul@@ ar@@ Not@@ In@@ Pre@@ view@@ () { mock@@ Snapshot@@ Exist@@ s(); mock@@ S@@ napsho@@ t = new org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ (); when@@ (s@@ napshot@@ Dao@@ .@@ ex@@ ist@@ s(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ true@@ ); mock@@ Snapshot@@ From@@ Db@@ (); mock@@ S@@ napsho@@ t.@@ set@@ Type(@@ Snapshot@@ Type.@@ RE@@ G@@ U@@ L@@ AR@@ ); mock@@ S@@ napsho@@ t.@@ set@@ Status(@@ Snapshot@@ Status.@@ O@@ K@@ ); assert@@ F@@ als@@ e(@@ sp@@ y@@ Command.@@ canDoAction@@ ()); assert@@ True@@ (s@@ p@@ y@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ NOT_@@ IN_@@ P@@ RE@@ V@@ I@@ E@@ W@@ .@@ toString@@ ())); }
public void set@@ P@@ m@@ Option@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.String> value@@ ) { o@@ ption@@ s = value@@ ; }
public boolean is@@ Proxy@@ Host@@ Avail@@ able(@@ org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , java.util.List<java.lang.String> mess@@ ages@@ ) { org.ovirt.engine.core.bll.@@ p@@ m.@@ Fence@@ Proxy@@ Loc@@ ator pro@@ xy@@ Host@@ Loc@@ ator = get@@ Proxy@@ Loc@@ ator@@ (vds@@ ); if (!(@@ pro@@ xy@@ Host@@ Loc@@ ator.@@ is@@ Proxy@@ Host@@ Available@@ ())) { mess@@ ages.@@ add(@@ EngineMessage.@@ VDS@@ _@@ NO@@ _@@ VDS@@ _P@@ RO@@ X@@ Y_@@ F@@ O@@ UN@@ D@@ .@@ name@@ ()); return false@@ ; } else { return true@@ ; } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ N@@ e@@ w Vir@@ tu@@ al M@@ ach@@ in@@ e - Guid@@ e M@@ e@@ ") java.lang.String new@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Gui@@ de@@ M@@ e@@ Title@@ ();
protected void m@@ ove@@ Or@@ Copy@@ All@@ ImageGroup@@ s() { m@@ ove@@ Or@@ Copy@@ All@@ ImageGroup@@ s@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disks@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ (), org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ AC@@ TI@@ V@@ E_@@ DIS@@ K@@ S_@@ ON@@ L@@ Y@@ )); c@@ opy@@ All@@ Memory@@ Images@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ Id()); }
private void init@@ Ip@@ Configuration@@ N@@ et@@ m@@ ask@@ () { network@@ Attachment@@ s.get@@ (0@@ ).get@@ Ip@@ Configuration@@ ().get@@ P@@ ri@@ mar@@ y@@ Address@@ ().set@@ N@@ et@@ m@@ ask@@ (org.ovirt.engine.core.bll.@@ validator.@@ network.@@ NetworkAttachment@@ Ip@@ Configuration@@ Validator@@ Test.@@ I@@ P@@ V@@ N@@ et@@ m@@ ask@@ ); }
public void set@@ Vds@@ Str@@ ength@@ (@@ int value@@ ) { this@@ .m@@ Vds@@ Static@@ .set@@ Vds@@ Str@@ ength@@ (@@ value@@ ); }
protected void do@@ Change@@ De@@ fa@@ ut@@ l@@ Host@@ (org.ovirt.engine.core.compat.Guid host@@ Guid@@ ) { if ((@@ host@@ Gui@@ d != null@@ ) && (@@ fi@@ r@@ st@@ Run@@ )) { org.ovirt.engine.core.compat.Guid vds@@ Id = host@@ Guid@@ ; if ((get@@ Model().get@@ Default@@ Host@@ ().get@@ Item@@ s()) != null@@ ) { getModel().get@@ Default@@ Host@@ ().set@@ SelectedItem@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ fi@@ r@@ st@@ Or@@ Default@@ (get@@ Model().get@@ Default@@ Host@@ ().get@@ Item@@ s@@ (), new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ Host@@ P@@ red@@ icate@@ (vds@@ Id@@ ))); } getModel().get@@ Is@@ Au@@ to@@ As@@ s@@ ign@@ ().set@@ Entity@@ (@@ false@@ ); } else { getModel().get@@ Is@@ Au@@ to@@ As@@ s@@ ign@@ ().set@@ Entity@@ (@@ true@@ ); } fi@@ r@@ st@@ R@@ u@@ n = false@@ ; }
private int get@@ T@@ otal@@ StorageDomain@@ s@@ Stat@@ () { return org.ovirt.engine.core.bll.@@ Get@@ System@@ Statistic@@ s@@ Query.get@@ DbFacade@@ ().get@@ System@@ Statistic@@ s@@ Value@@ (org.ovirt.engine.core.bll.@@ Get@@ System@@ Statistic@@ s@@ Query@@ .@@ US@@ ER_@@ EN@@ TI@@ TY@@ _@@ NAM@@ E); }
private void gener@@ ate@@ Add@@ ition@@ al@@ Query@@ Parameters@@ () { bu@@ ffer.@@ add@@ Lin@@ e(@@ "@@ if (@@ quer@@ y != null@@ ) {@@ "); bu@@ ffer.@@ add@@ Lin@@ e(@@ "@@ for (@@ Map.@@ E@@ n@@ try@@ <@@ String@@ , String@@ > query@@ Par@@ a@@ m : query@@ .@@ e@@ n@@ try@@ Set@@ ()) {@@ "); bu@@ ffer.@@ add@@ Lin@@ e@@ ("@@ ur@@ i@@ Buil@@ der.@@ add@@ Parameter@@ (@@ query@@ Param@@ .get@@ Key@@ (), query@@ Param@@ .get@@ Value@@ ())@@ ;@@ "); bu@@ ffer.@@ add@@ Lin@@ e@@ ("@@ }@@ "); bu@@ ffer.@@ add@@ Lin@@ e@@ ("@@ }@@ "); }
@org.junit.Test public void shoul@@ d@@ Det@@ ect@@ D@@ if@@ fer@@ ent@@ O@@ s() { assert@@ That@@ (@@ new org.ovirt.engine.core.bll.@@ scheduling.@@ O@@ S@@ ("@@ os@@ 1@@ ", new org.ovirt.engine.core.compat.@@ Version@@ ("@@ 6@@ .@@ 3@@ "@@ )).@@ is@@ S@@ ame@@ Os@@ F@@ am@@ il@@ y@@ (@@ new org.ovirt.engine.core.bll.@@ scheduling.@@ O@@ S@@ ("@@ os@@ 2@@ ", new org.ovirt.engine.core.compat.@@ Version@@ ("@@ 6@@ .@@ 3@@ "@@ )@@ )@@ ), is@@ (@@ false@@ )); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { try { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.get@@ Broker@@ ().set@@ A@@ m@@ ount@@ Of@@ Memory@@ (@@ org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.getParameters().get@@ Vm@@ Id().@@ toString@@ (), java.lang.String.@@ value@@ Of@@ (@@ org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.getParameters().get@@ A@@ m@@ ount@@ Of@@ Memory@@ ())); org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.@@ pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); } catch (java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDSCommand@@ .set@@ Vds@@ Run@@ time@@ Error@@ (@@ e); org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Exception@@ String@@ (@@ null@@ ); } }
public static void add@@ Profile@@ Data@@ To@@ Nic@@ (@@ java.util.Map<java.lang.String, java.lang.Object> struc@@ t@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device vm@@ Device@@ , org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic nic@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e vnic@@ Profil@@ e = null@@ ; org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = null@@ ; if ((@@ nic@@ .get@@ VnicProfile@@ Id()) != null@@ ) { vnic@@ Profil@@ e = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VnicProfile@@ Dao().get@@ (@@ nic@@ .get@@ VnicProfile@@ Id()); if (@@ vnic@@ Profil@@ e != null@@ ) { n@@ etwork = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Network@@ Dao().get@@ (@@ vnic@@ Profil@@ e.get@@ Network@@ Id()); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Buil@@ der.@@ add@@ Qos@@ For@@ Device@@ (@@ struc@@ t@@ , vnic@@ Profile@@ , vm.get@@ VdsGroup@@ CompatibilityVersion@@ ()); } } struc@@ t.@@ put(@@ VdsProperties.@@ NETWOR@@ K@@ , (@@ n@@ etwork == null ? "@@ " : network@@ .getName@@ ())); if ((@@ vnic@@ Profil@@ e != null@@ ) && (@@ vnic@@ Profil@@ e.@@ is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ())) { struc@@ t.@@ put(@@ VdsProperties.@@ POR@@ T_@@ M@@ I@@ R@@ R@@ OR@@ ING@@ , (@@ n@@ etwork == null ? java.util.Collections.@@ <@@ java.lang.String@@ >@@ em@@ pty@@ List@@ () : java.util.Collections.@@ sing@@ leton@@ List(@@ network@@ .getName@@ ()))); } log.debug@@ Format@@ ("@@ V@@ N@@ I@@ C {0@@ } is usin@@ g profil@@ e {@@ 1@@ } on n@@ etwork {@@ 2@@ }@@ ", nic@@ .get@@ Name(), vnic@@ Profile@@ , network@@ .get@@ Name()); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Buil@@ der.@@ add@@ Custom@@ Properties@@ For@@ Device@@ (@@ struc@@ t@@ , vm@@ , vm@@ Device@@ , vm.get@@ VdsGroup@@ CompatibilityVersion@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Builder@@ .get@@ Vnic@@ Custom@@ Properties@@ (@@ vnic@@ Profile@@ )); }
@java.lang.Override protected c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .@@ shared@@ .@@ pro@@ xy@@ .@@ P@@ l@@ ace@@ Re@@ quest get@@ Main@@ Tab@@ Request@@ () { return org.ovirt.engine.ui.common.@@ pl@@ ac@@ e.@@ P@@ l@@ ace@@ Request@@ Fac@@ t@@ ory@@ .get(@@ W@@ eb@@ Ad@@ min@@ Ap@@ plication@@ P@@ l@@ ac@@ es.@@ err@@ ata@@ Main@@ Tab@@ P@@ l@@ ace@@ ); }
public java.lang.String trans@@ l@@ ate@@ Error@@ Text@@ Sing@@ le(@@ java.lang.String error@@ M@@ s@@ g@@ , java.lang.@@ B@@ oolean ch@@ ang@@ e@@ If@@ Not@@ F@@ ound@@ ) { java.lang.String re@@ t = "@@ "; try { if ((@@ error@@ M@@ s@@ g != null@@ ) && ((@@ error@@ M@@ s@@ g.@@ l@@ ength@@ ()) > 0@@ )) { java.lang.String err@@ M@@ s@@ g@@ C@@ op@@ y = error@@ M@@ s@@ g@@ ; if (!(@@ is@@ Dynamic@@ Var@@ i@@ able(@@ error@@ M@@ s@@ g@@ ))) { error@@ M@@ s@@ g = error@@ M@@ s@@ g.@@ re@@ pl@@ ac@@ e(@@ '@@ .@@ '@@ , '@@ _@@ '@@ ); } java.lang.String error@@ s@@ Strin@@ g = error@@ s.get@@ String@@ (@@ error@@ M@@ s@@ g@@ ); if (@@ error@@ s@@ Strin@@ g != null@@ ) { re@@ t = error@@ s@@ Strin@@ g.@@ re@@ pl@@ ace@@ ("@@ \@@ n@@ ", "@@ <@@ b@@ r@@ /@@ >@@ "); } else { if ((@@ is@@ Dynamic@@ Var@@ i@@ able(@@ error@@ M@@ s@@ g@@ )) || (!@@ ch@@ ang@@ e@@ If@@ Not@@ F@@ ound@@ )) { re@@ t = error@@ M@@ s@@ g@@ ; } else { error@@ M@@ s@@ g = err@@ M@@ s@@ g@@ Copy@@ ; java.lang.String@@ [@@ ] s@@ pl@@ it@@ te@@ d = error@@ M@@ s@@ g.@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ().@@ s@@ pl@@ it@@ ("@@ _@@ "); re@@ t = java.util.Arrays.@@ stream@@ (s@@ pl@@ it@@ ted@@ ).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ " ")); } } } catch (java.util.@@ M@@ is@@ sing@@ Resource@@ Exception e) { re@@ t = error@@ M@@ s@@ g@@ ; } return ret@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { get@@ DbFacade@@ ().get@@ Disk@@ Profile@@ Dao().get@@ (get@@ Parameters().get@@ Id()); }
public java.lang.String get@@ W@@ at@@ ch@@ do@@ g@@ Action@@ () { return w@@ at@@ ch@@ do@@ g@@ Action@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se st@@ art@@ (org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if (is@@ Start@@ On@@ ce@@ (@@ action@@ )) { org.ovirt.engine.core.common.action.@@ RunVm@@ On@@ ce@@ Param@@ s param@@ s = map@@ (m@@ ap@@ (get@@ Entity(@@ entity@@ Type, VdcQuery@@ Type.Get@@ Vm@@ By@@ Vm@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ g@@ uid@@ ), id@@ , true@@ ), new org.ovirt.engine.api.model.@@ VM@@ ()), new org.ovirt.engine.core.common.action.@@ RunVm@@ On@@ ce@@ Param@@ s(@@ g@@ uid@@ )); if (@@ action.@@ isSet@@ Vm@@ ()) { validate@@ Enum@@ s(@@ org.ovirt.engine.api.model.@@ VM@@ .@@ class@@ , action@@ .get@@ Vm@@ ()); org.ovirt.engine.api.model.@@ VM vm = action@@ .get@@ Vm@@ (); param@@ s = map@@ (vm@@ , param@@ s); if ((@@ vm@@ .is@@ Set@@ P@@ l@@ acement@@ Policy@@ ()) && (vm.get@@ P@@ l@@ acement@@ Policy@@ ().is@@ Set@@ Host@@ ())) { validate@@ Parameters@@ (vm.get@@ P@@ l@@ acement@@ Policy@@ (), "@@ host.@@ id@@ |@@ name@@ "); params.set@@ Dest@@ ination@@ Vds@@ Id@@ (get@@ Host@@ Id@@ (vm.get@@ P@@ l@@ acement@@ Policy@@ ().get@@ Host@@ ())); } } if ((@@ action.@@ isSet@@ Pa@@ us@@ e@@ ()) && (@@ action.@@ is@@ Pa@@ us@@ e@@ ())) { params.set@@ Run@@ And@@ Pa@@ us@@ e@@ (@@ true@@ ); } return do@@ Action(VdcActionType.@@ RunVm@@ On@@ ce@@ , param@@ s, action@@ ); } else { org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s param@@ s = new org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s(@@ g@@ uid@@ ); if ((@@ action.@@ isSet@@ Pa@@ us@@ e@@ ()) && (@@ action.@@ is@@ Pa@@ us@@ e@@ ())) { params.set@@ Run@@ And@@ Pa@@ us@@ e@@ (@@ true@@ ); } return do@@ Action(VdcActionType.@@ RunVm@@ , param@@ s, action@@ ); } }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ List@@ Model user@@ Port@@ al@@ ListModel@@ 1 = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ ListModel@@ ) (model@@ )); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model un@@ it@@ Vm@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (@@ user@@ Port@@ al@@ ListModel@@ 1@@ .get@@ W@@ in@@ do@@ w@@ ())); org.ovirt.engine.core.common.action.@@ AddVm@@ From@@ Template@@ Parameters par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ AddVm@@ From@@ Template@@ Parameters@@ (get@@ temp@@ Vm@@ (), un@@ it@@ Vm@@ Model.get@@ Disks@@ Al@@ loc@@ ation@@ Model().get@@ Image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ (), org.ovirt.engine.core.compat.Guid.@@ Empty@@ ); param@@ .set@@ Ma@@ ke@@ Cre@@ ator@@ Ex@@ pl@@ ic@@ it@@ O@@ wn@@ er@@ (@@ true@@ ); param@@ .set@@ Console@@ Enabled@@ (((@@ java.lang.Boolean@@ ) (@@ un@@ it@@ Vm@@ Model.get@@ Is@@ Console@@ Device@@ Enabled@@ ().getEntity@@ ()))); java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > parameter@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); parameter@@ s.add(@@ param@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Multiple@@ Action(VdcActionType.@@ AddVm@@ From@@ Template@@ , parameters@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result a@@ ) { st@@ op@@ Progress@@ (@@ a@@ .get@@ State@@ ()); cancel@@ (); } }, this@@ ); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> get@@ Log@@ ical@@ Unit@@ s() { return get@@ Backend@@ Collection@@ (Vdc@@ Query@@ Type.Get@@ Device@@ List@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Device@@ List@@ Query@@ Parameters(@@ as@@ Guid@@ (@@ host@@ Id@@ ), org.ovirt.engine.core.common.businessentities.storage.@@ StorageType.@@ UN@@ K@@ NO@@ W@@ N@@ , true@@ )); }
public void add@@ Volum@@ e(@@ org.ovirt.engine.core.compat.Guid storageDomain@@ Id, org.ovirt.engine.core.compat.Guid image@@ Id, org.ovirt.engine.core.compat.Guid volume@@ Id) { volum@@ es.@@ add@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ Se@@ al@@ Disks@@ VDSCommand@@ Parameter@@ s.@@ Volume@@ Address@@ (@@ storageDomain@@ Id, image@@ Id, volume@@ Id@@ )); }
private boolean st@@ op@@ Volum@@ e(@@ org.ovirt.engine.core.compat.Guid volume@@ Id) { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volum@@ e = get@@ GlusterVolume@@ Dao().get@@ By@@ Id(@@ volume@@ Id); if ((@@ volum@@ e != null@@ ) && ((@@ volum@@ e.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Status.@@ UP@@ ))) { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base ret@@ V@@ al = run@@ Internal@@ Action(VdcActionType.@@ St@@ op@@ GlusterVolume@@ , new org.ovirt.engine.core.common.action.@@ gluster.GlusterVolume@@ Action@@ Parameters(@@ volume@@ Id, true@@ )); if (!(@@ ret@@ Val@@ .get@@ Succeeded@@ ())) { h@@ andle@@ Vds@@ Error@@ (@@ AuditLogType.@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ ST@@ O@@ P@@ _@@ FAIL@@ ED@@ , ret@@ Val@@ .get@@ Execu@@ te@@ Fail@@ ed@@ Messages@@ ().@@ toString()); set@@ Succeeded@@ (@@ false@@ ); return false@@ ; } } return true@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Sh@@ are@@ able Disk is not sup@@ por@@ te@@ d b@@ y the s@@ el@@ ected config@@ ur@@ ation@@ ") java.lang.String sh@@ are@@ able@@ Disk@@ Not@@ Supported@@ By@@ Configuration@@ ();
public void f@@ at@@ al@@ (java.lang.Object m@@ s@@ g@@ ) { log.error@@ (@@ add@@ Pre@@ fi@@ x@@ To@@ Log@@ Message@@ (m@@ s@@ g@@ )); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ Rep@@ o@@ Image map@@ Row@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { org.ovirt.engine.core.common.businessentities.@@ Rep@@ o@@ Image enti@@ ty = new org.ovirt.engine.core.common.businessentities.@@ Rep@@ o@@ Image@@ (); entity.set@@ Rep@@ o@@ Domain@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (rs.get@@ String("@@ storage@@ _@@ do@@ m@@ ain@@ _id@@ "@@ ))); entity.set@@ L@@ ast@@ Re@@ fresh@@ ed@@ (rs.get@@ L@@ on@@ g@@ ("@@ l@@ ast@@ _@@ re@@ fresh@@ ed@@ ")); entity.set@@ File@@ Type(@@ org.ovirt.engine.core.common.businessentities.@@ Image@@ File@@ Type@@ .@@ for@@ Value@@ (rs.get@@ In@@ t@@ ("@@ fil@@ e@@ _@@ type@@ "@@ ))); return entity@@ ; }
private void Update@@ External@@ Host@@ Model@@ s() { boolean en@@ able@@ d = get@@ External@@ Host@@ Provider@@ Enabled@@ ().getEntity@@ (); if (@@ en@@ able@@ d && ((get@@ Provi@@ d@@ ers@@ ().get@@ Item@@ s()) == null@@ )) { org.ovirt.engine.ui.frontend.AsyncQuery get@@ Provi@@ d@@ ers@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); get@@ Provi@@ d@@ ers@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Provider@@ > provider@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Provider@@ >) (@@ result@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ Provider@@ > provi@@ d@@ ers@@ List@@ Model = get@@ Provi@@ d@@ ers@@ (); provi@@ d@@ ers@@ List@@ Model.set@@ Items(@@ provi@@ d@@ ers@@ ); provi@@ d@@ ers@@ List@@ Model.set@@ Is@@ Chang@@ able@@ (@@ true@@ ); provi@@ d@@ ers@@ List@@ Model.set@@ SelectedItem@@ (@@ provi@@ d@@ ers@@ .get(@@ 0@@ )); update@@ Host@@ List@@ ("@@ "); } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ All@@ Provi@@ d@@ ers@@ By@@ Type(@@ get@@ Provi@@ d@@ ers@@ Query@@ , Provider@@ Type.@@ F@@ OR@@ EM@@ AN@@ ); } set@@ Host@@ Provider@@ Widget@@ s@@ Avail@@ ab@@ ility@@ (@@ en@@ abled@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ In@@ cor@@ r@@ ect brick@@ s s@@ el@@ ected for rem@@ o@@ va@@ l in D@@ ist@@ ri@@ bu@@ te@@ d Repl@@ ic@@ ate volume@@ . <@@ b@@ r@@ /@@ > E@@ ith@@ er al@@ l the s@@ el@@ ected brick@@ s shoul@@ d b@@ e f@@ ro@@ m the s@@ am@@ e s@@ u@@ b volum@@ e or on@@ e b@@ r@@ ic@@ k e@@ ac@@ h for e@@ ver@@ y s@@ u@@ b volume@@ !@@ ") java.lang.String can@@ not@@ Remove@@ Brick@@ s@@ D@@ ist@@ ri@@ bu@@ ted@@ Repl@@ icate@@ Volume@@ ();
public static void Init@@ () { org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ m@@ Update@@ Vm@@ Templ@@ ate = new org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er@@ (org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler@@ .@@ class@@ ); org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ B@@ lan@@ k@@ VmTemplate@@ Id = new org.ovirt.engine.core.compat.Guid@@ ("@@ 00@@ 00@@ 00@@ -@@ 00@@ -@@ 00@@ -@@ 00@@ -@@ 00@@ -@@ 00@@ 00@@ 00@@ 00@@ 00@@ 00@@ "); org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ m@@ Update@@ Vm@@ Templ@@ at@@ e.@@ Add@@ Per@@ m@@ it@@ ted@@ Fiel@@ ds@@ (@@ new java.lang.String@@ []{ "@@ name@@ ", "@@ d@@ escription@@ ", "@@ do@@ m@@ ain@@ ", "@@ os@@ ", "@@ os@@ Type@@ ", "@@ is@@ _@@ au@@ to@@ _@@ s@@ us@@ p@@ end@@ ", "@@ int@@ er@@ fac@@ es@@ ", "@@ mem@@ _@@ size@@ _@@ m@@ b@@ ", "@@ num@@ _@@ o@@ f@@ _@@ s@@ ock@@ et@@ s", "@@ cpu@@ _@@ per@@ _@@ s@@ ock@@ et@@ ", "@@ vds@@ _@@ group@@ _id", "@@ num@@ _@@ o@@ f@@ _@@ m@@ onitor@@ s", "@@ al@@ low@@ Console@@ Rec@@ on@@ n@@ ect@@ ", "@@ us@@ b@@ _@@ p@@ olicy@@ ", "@@ time@@ _@@ z@@ one@@ ", "@@ disk@@ Map@@ ", "@@ default@@ _@@ b@@ oot@@ _@@ se@@ qu@@ ence@@ ", "@@ is@@ o@@ _@@ p@@ ath@@ ", "@@ disk@@ Image@@ Map@@ ", "@@ default@@ _@@ dis@@ play@@ _@@ type@@ ", "@@ pri@@ or@@ ity@@ ", "@@ au@@ to@@ _@@ st@@ art@@ up@@ ", "@@ is@@ _@@ st@@ ate@@ l@@ ess@@ ", "@@ init@@ r@@ d@@ _@@ ur@@ l@@ ", "@@ k@@ er@@ ne@@ l@@ _@@ ur@@ l@@ ", "@@ k@@ er@@ ne@@ l@@ _@@ param@@ s", "@@ im@@ ages@@ ", "@@ int@@ er@@ fac@@ es@@ ", "@@ quota@@ Id@@ ", "@@ quota@@ Name@@ ", "@@ quota@@ E@@ n@@ for@@ ce@@ ment@@ Type@@ ", "@@ m@@ igr@@ ation@@ Sup@@ port@@ ", "@@ ded@@ ic@@ ated@@ _@@ vm@@ _@@ for@@ _@@ vds@@ ", "@@ s@@ m@@ art@@ c@@ ard@@ Enabled@@ ", "@@ pre@@ vent@@ Delet@@ ion@@ " }); }
@java.lang.Override public boolean validate@@ And@@ Set@@ Quota@@ () { if (org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Manager@@ .getInstance().@@ validate@@ Quota@@ For@@ StoragePool@@ (get@@ StoragePool@@ (), org.ovirt.engine.core.bll.@@ C@@ ommon@@ Vm@@ Pool@@ With@@ Vms@@ Command.getParameters().get@@ Vm@@ StaticData@@ ().get@@ vds@@ _@@ group@@ _id@@ (), get@@ Quota@@ Id(), org.ovirt.engine.core.bll.@@ C@@ ommon@@ Vm@@ Pool@@ With@@ Vms@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ())) { return org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Manager@@ .getInstance().@@ validate@@ And@@ Set@@ Storage@@ Quota@@ (get@@ StoragePool@@ (), get@@ Storage@@ Quota@@ List@@ Parameters@@ (), org.ovirt.engine.core.bll.@@ C@@ ommon@@ Vm@@ Pool@@ With@@ Vms@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ()); } return false@@ ; }
private static java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Loc@@ k get@@ Sync@@ Object@@ (org.ovirt.engine.core.compat.Guid do@@ m@@ ain@@ Id, org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ File@@ Type image@@ Type@@ ) { org.ovirt.engine.core.common.utils.Pair@@ <@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ File@@ Type@@ > do@@ m@@ ain@@ Per@@ File@@ Type = new org.ovirt.engine.core.common.utils.Pair@@ (@@ do@@ m@@ ain@@ Id, image@@ Type@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ s@@ ync@@ Domain@@ For@@ File@@ Type@@ Map.@@ put@@ If@@ Ab@@ s@@ ent@@ (@@ do@@ m@@ ain@@ Per@@ File@@ Type, new java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Lock@@ ()); return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ s@@ ync@@ Domain@@ For@@ File@@ Type@@ Map@@ .get@@ (@@ do@@ m@@ ain@@ Per@@ File@@ Type@@ ); }
@org.junit.Test public void vm@@ Not@@ In@@ Pre@@ view@@ Return@@ s@@ In@@ valid@@ Result@@ W@@ h@@ en@@ In@@ Snapshot@@ () throw@@ s java.lang.Exception { when@@ (s@@ napshot@@ Dao@@ .@@ ex@@ ist@@ s(@@ vm@@ Id, Snapshot@@ Status.@@ IN_@@ P@@ RE@@ V@@ I@@ E@@ W@@ )).@@ then@@ Return@@ (@@ true@@ ); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator@@ Test.@@ validate@@ In@@ valid@@ Result@@ (@@ validator.@@ vm@@ Not@@ In@@ Pre@@ view@@ (vm@@ Id@@ ), EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ IN_@@ P@@ RE@@ V@@ I@@ E@@ W@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > get@@ Per@@ m@@ it@@ ted@@ StorageDomain@@ sBy@@ StoragePool@@ (org.ovirt.engine.core.compat.Guid user@@ Id, org.ovirt.engine.core.common.businessentities.@@ Action@@ Group action@@ Group@@ , org.ovirt.engine.core.compat.Guid storagePool@@ Id) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ storage@@ _@@ do@@ m@@ ain@@ s@@ _@@ b@@ y@@ _@@ storage_@@ pool@@ _id@@ _@@ with@@ _@@ per@@ m@@ it@@ ted@@ _@@ action@@ ", org.ovirt.engine.core.dao.@@ StorageDomain@@ Dao@@ Impl.@@ StorageDomain@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ user@@ _id", user@@ Id@@ ).@@ addValue("@@ action@@ _@@ group@@ _id", action@@ Group@@ .getId@@ ()).addValue("@@ storage_@@ pool@@ _id", storagePool@@ Id@@ )); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Name@@ ") java.lang.String volume@@ Snapshot@@ Name@@ ();
@java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return get@@ Main@@ Model().get@@ New@@ Console@@ Key@@ Command@@ (); }
private void set@@ up@@ Mock@@ () throw@@ s java.lang.Exception { mock@@ Engine@@ SS@@ H@@ D@@ ial@@ o@@ g = mock@@ (org.ovirt.engine.core.bll.@@ utils.@@ Engine@@ SS@@ H@@ D@@ ial@@ og@@ .@@ class@@ ); do@@ Not@@ h@@ ing@@ ().@@ when@@ (m@@ ock@@ Engine@@ SS@@ H@@ D@@ ial@@ og@@ ).@@ conn@@ ect@@ (); do@@ Not@@ h@@ ing@@ ().@@ when@@ (m@@ ock@@ Engine@@ SS@@ H@@ D@@ ial@@ og@@ ).@@ auth@@ entic@@ ate@@ (); do@@ Return@@ (m@@ ock@@ Engine@@ SS@@ H@@ D@@ ial@@ og@@ ).when@@ (get@@ Query@@ ())@@ .get@@ Engine@@ SS@@ H@@ D@@ ial@@ og@@ (); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.dao.@@ Db@@ User@@ DA@@ O d@@ a@@ o = org.ovirt.engine.core.bll.@@ Add@@ User@@ Command.get@@ Db@@ User@@ DAO@@ (); java.util.Hash@@ Set<@@ org.ovirt.engine.core.compat.Guid> group@@ Id@@ s = org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ Util@@ s.get@@ Group@@ Id@@ s@@ From@@ User@@ (@@ d@@ irect@@ ory@@ User@@ ); org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ Utils.@@ f@@ l@@ at@@ Group@@ s(@@ d@@ irect@@ ory@@ User@@ ); org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ er db@@ Us@@ er = d@@ ao@@ .get@@ By@@ External@@ Id(@@ d@@ irect@@ ory@@ User@@ .get@@ Direct@@ ory@@ Name(), d@@ irect@@ ory@@ User@@ .getId()); if (@@ db@@ Us@@ er == null@@ ) { db@@ Us@@ er = new org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ (@@ d@@ irect@@ ory@@ User@@ ); db@@ Us@@ er.@@ set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); db@@ Us@@ er.@@ set@@ Group@@ Id@@ s(@@ group@@ Id@@ s); d@@ ao.@@ save@@ (@@ db@@ User@@ ); } else { org.ovirt.engine.core.compat.Guid id = db@@ User@@ .getId@@ (); db@@ Us@@ er = new org.ovirt.engine.core.common.businessentities.@@ Db@@ User@@ (@@ d@@ irect@@ ory@@ User@@ ); db@@ Us@@ er.@@ set@@ Id(@@ id@@ ); db@@ Us@@ er.@@ set@@ Group@@ Id@@ s(@@ group@@ Id@@ s); d@@ ao.@@ update@@ (@@ db@@ User@@ ); } set@@ Action@@ ReturnValue@@ (@@ db@@ User@@ .getId()); org.ovirt.engine.core.bll.@@ Add@@ User@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ Start@@ On@@ Vds@@ () { boolean vm@@ P@@ ass@@ ed@@ Memory@@ Requi@@ rem@@ ent = s@@ l@@ a@@ Validator.@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (vds@@ , vm@@ , 0@@ ); assert@@ F@@ als@@ e(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Requi@@ re@@ ment@@ ); }
protected boolean validate@@ F@@ ree@@ Sp@@ ac@@ e(@@ org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ s@@ List@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ DiskImage dis@@ k : disk@@ s@@ List@@ ) { disk@@ .set@@ Volume@@ Type(@@ Volume@@ Type.@@ S@@ par@@ se@@ ); disk@@ .set@@ volume@@ Format@@ (@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ ); } return validate@@ (@@ storageDomain@@ Validator.@@ has@@ Sp@@ ace@@ For@@ New@@ Disk@@ s(@@ disk@@ s@@ List@@ )); }
public void update@@ Networks@@ From@@ Param@@ s@@ (@@ final org.ovirt.engine.core.compat.Guid vm@@ Id, java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > parameters@@ ) { if ((@@ parameter@@ s.@@ size()) == 0) { call@@ back@@ .@@ network@@ Create@@ d@@ (); return@@ ; } org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Multiple@@ Action(VdcActionType.@@ Update@@ Vm@@ Interface@@ , parameters@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { call@@ back@@ .@@ network@@ Create@@ d@@ (); } }, this@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Rem@@ ov@@ e Disk@@ (s@@ )@@ ") java.lang.String remove@@ Disks@@ Title@@ ();
protected boolean check@@ Existing@@ StorageDomain@@ () { if ((@@ org.ovirt.engine.core.bll.storage.@@ Add@@ Existing@@ File@@ StorageDomain@@ Command.get@@ StorageDomain@@ Static@@ DAO@@ ().get@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ Existing@@ File@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Id@@ ())) != null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ ); } org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ , org.ovirt.engine.core.compat.Guid> do@@ m@@ ain@@ From@@ I@@ r@@ s = execute@@ H@@ S@@ M@@ Get@@ StorageDomain@@ Info@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ Info@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ Existing@@ File@@ StorageDomain@@ Command.get@@ Vds@@ Id(), org.ovirt.engine.core.bll.storage.@@ Add@@ Existing@@ File@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Id@@ ())); if (@@ do@@ m@@ ain@@ From@@ I@@ r@@ s == null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ NOT_@@ EXIST@@ ); } org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ Existing@@ File@@ StorageDomain@@ Command.get@@ StorageDomain@@ ()); if (!(@@ validate@@ (@@ validator.@@ is@@ Host@@ ed@@ Engine@@ Storage@@ ()))) { return false@@ ; } return con@@ c@@ ret@@ e@@ Check@@ Existing@@ StorageDomain@@ (@@ do@@ m@@ ain@@ From@@ I@@ r@@ s); }
public static void get@@ Data@@ C@@ ent@@ ers@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ On@@ C@@ lust@@ ers@@ (@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group action@@ Group@@ , final boolean sup@@ port@@ s@@ Vir@@ t@@ Service@@ , final boolean sup@@ port@@ s@@ Gluster@@ Service@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { if (s@@ ource == null@@ ) { return new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ >(); } return source@@ ; } }; org.ovirt.engine.core.common.queries.@@ Get@@ Data@@ C@@ ent@@ ers@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ On@@ C@@ lust@@ ers@@ Parameters get@@ Data@@ C@@ ent@@ ers@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ On@@ C@@ lust@@ ers@@ Parameters = new org.ovirt.engine.core.common.queries.@@ Get@@ Data@@ C@@ ent@@ ers@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ On@@ C@@ lust@@ ers@@ Parameters@@ (); get@@ Data@@ C@@ ent@@ ers@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ On@@ C@@ lust@@ ers@@ Parameter@@ s.set@@ Action@@ Group@@ (@@ action@@ Group@@ ); get@@ Data@@ C@@ ent@@ ers@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ On@@ C@@ lust@@ ers@@ Parameter@@ s.set@@ Sup@@ port@@ s@@ Vir@@ t@@ Service@@ (s@@ up@@ port@@ s@@ Vir@@ t@@ Service@@ ); get@@ Data@@ C@@ ent@@ ers@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ On@@ C@@ lust@@ ers@@ Parameter@@ s.set@@ Sup@@ port@@ s@@ Gluster@@ Service@@ (s@@ up@@ port@@ s@@ Gluster@@ Service@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Data@@ C@@ ent@@ ers@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ On@@ C@@ lust@@ ers@@ , get@@ Data@@ C@@ ent@@ ers@@ With@@ Per@@ m@@ it@@ ted@@ Action@@ On@@ C@@ lust@@ ers@@ Parameters@@ , aQuery@@ ); }
org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n pre@@ par@@ e@@ M@@ er@@ g@@ e(@@ java.lang.String sp@@ UUID@@ , java.util.Map<java.lang.String, java.lang.String> sub@@ ch@@ ain@@ Info@@ );
@java.lang.Override protected boolean canDoAction@@ () { initial@@ ize@@ Object@@ State@@ (); org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Command.getVm@@ DAO@@ ().get@@ (org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Command.getVm@@ Id()); org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Command.get@@ ReturnValue@@ ().set@@ CanDoAction@@ (@@ validate@@ (@@ validate@@ Vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ ())); if (!(@@ validate@@ Snapshot@@ Exist@@ s@@ ())) { org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Command.get@@ ReturnValue@@ ().set@@ CanDoAction@@ (@@ false@@ ); } if (!(@@ validate@@ Images@@ ())) { org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Command.get@@ ReturnValue@@ ().set@@ CanDoAction@@ (@@ false@@ ); } if (!(@@ validate@@ Image@@ Not@@ In@@ Template@@ ())) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ IM@@ AGE_@@ T@@ EM@@ P@@ L@@ AT@@ E); org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Command.get@@ ReturnValue@@ ().set@@ CanDoAction@@ (@@ false@@ ); } if (!(@@ validate@@ Image@@ Not@@ Active@@ ())) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ AC@@ TI@@ V@@ E_@@ IM@@ AG@@ E); org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Command.get@@ ReturnValue@@ ().set@@ CanDoAction@@ (@@ false@@ ); } if (!@@ (org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ ())) { addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ TYPE_@@ _S@@ NA@@ P@@ S@@ HO@@ T@@ ); addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ ACTION_@@ _@@ RE@@ M@@ OV@@ E); } return org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ (); }
public static void p@@ op@@ ul@@ ate@@ Memory@@ Util@@ ization@@ Vm@@ s(@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ iz@@ ation uti@@ l@@ ization@@ , javax.@@ s@@ q@@ l.@@ Data@@ Source d@@ wh@@ Data@@ Source@@ ) throw@@ s org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ D@@ ashboard@@ Data@@ Exception { org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Vm@@ D@@ wh@@ D@@ a@@ o d@@ a@@ o = new org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Vm@@ D@@ wh@@ Dao@@ (@@ d@@ wh@@ Data@@ Source@@ ); java.util.List<@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .models.@@ Tr@@ end@@ Res@@ ourc@@ es@@ > us@@ age@@ List = d@@ ao@@ .get@@ Memory@@ Util@@ ization@@ Vms@@ (); for (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .models.@@ Tr@@ end@@ Resource@@ s us@@ age : us@@ age@@ List@@ ) { org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ iz@@ ed@@ Entity enti@@ ty = new org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ iz@@ ed@@ Entity@@ (); entity.set@@ Name(@@ us@@ age.get@@ Name()); entity.set@@ Us@@ ed@@ (((@@ us@@ age.get@@ Us@@ ed@@ ()) / 1@@ 0@@ 2@@ 4@@ )); entity.set@@ T@@ otal@@ (((@@ us@@ age.get@@ T@@ otal@@ ()) / 1@@ 0@@ 2@@ 4@@ )); entity.set@@ Tr@@ end@@ (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ Util@@ ization@@ Helper.@@ c@@ al@@ c@@ ul@@ ate@@ Tr@@ end@@ (@@ us@@ age.get@@ Us@@ ed@@ (), us@@ age.get@@ Pre@@ vi@@ o@@ us@@ Us@@ ed@@ ())); uti@@ l@@ iz@@ ation.@@ add@@ Vm@@ (@@ entity@@ ); } }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if ("@@ Is@@ Available@@ "@@ .@@ equals@@ (((@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s) (@@ arg@@ s@@ )).@@ Property@@ Name@@ )) { q@@ p@@ id@@ Tit@@ le.@@ set@@ Visi@@ bl@@ e(@@ b@@ e@@ ha@@ vi@@ or@@ .get@@ Is@@ Available@@ ()); } }
protected void set@@ up@@ Template@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , org.ovirt.engine.ui.uicommonweb.models.@@ List@@ Model model@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Template@@ By@@ Id@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (get@@ Model@@ (), new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (@@ target@@ )); org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate = ((@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ ) (@@ return@@ Value@@ )); set@@ up@@ R@@ oot@@ Template@@ (@@ templat@@ e.get@@ Base@@ Template@@ Id()); model.get@@ Template@@ ().set@@ Items(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ template@@ )); model.get@@ Template@@ ().set@@ SelectedItem@@ (@@ template@@ ); model.get@@ Template@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); p@@ ost@@ Init@@ Template@@ (); } }, getModel().get@@ Hash@@ ()), vm.get@@ Vm@@ t@@ Guid@@ ()); }
@java.lang.Override public org.ovirt.engine.api.model.@@ L@@ ab@@ e@@ l get@@ () { org.ovirt.engine.api.model.@@ Network@@ L@@ ab@@ e@@ l p@@ er@@ for@@ m@@ Get@@ (Vdc@@ Query@@ Type.Get@@ Network@@ Label@@ sBy@@ Network@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ g@@ uid@@ )); org.ovirt.engine.api.model.@@ L@@ ab@@ e@@ l p@@ er@@ for@@ m@@ Get@@ (Vdc@@ Query@@ Type.Get@@ Network@@ Label@@ sBy@@ Network@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ g@@ uid@@ )); org.ovirt.engine.api.model.@@ L@@ ab@@ e@@ l p@@ er@@ for@@ m@@ Get@@ (Vdc@@ Query@@ Type.Get@@ Network@@ Label@@ sBy@@ Network@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ g@@ uid@@ )); org.ovirt.engine.api.model.@@ L@@ ab@@ e@@ l p@@ er@@ for@@ m@@ Get@@ (Vdc@@ Query@@ Type.Get@@ Network@@ Label@@ sBy@@ Network@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ g@@ uid@@ )); org.ovirt.engine.api.model.@@ L@@ ab@@ e@@ l p@@ er@@ for@@ m@@ Get@@ (Vdc@@ Query@@ Type.Get@@ Network@@ Label@@ sBy@@ Network@@ Id, new org.ovirt.engine.core.common.queries.@@
protected void re@@ fresh@@ Model@@ () { org.ovirt.engine.ui.frontend.AsyncQuery quer@@ y = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ event@@ s.@@ Event@@ List@@ Model event@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ event@@ s.@@ Event@@ ListModel@@ ) (model@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ AuditLog@@ > lis@@ t = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ AuditLog@@ >) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ ReturnValue@@ ())); request@@ ing@@ Data = false@@ ; for (org.ovirt.engine.core.common.businessentities.@@ Au@@ dit@@ Lo@@ g audit@@ Lo@@ g : list@@ ) { if (((@@ audit@@ Lo@@ g.@@ get@@ C@@ or@@ re@@ l@@ ation@@ Id()) != null@@ ) && (@@ audit@@ Lo@@ g.@@ get@@ C@@ or@@ re@@ l@@ ation@@ Id().@@ st@@ art@@ sWith@@ (@@ Task@@ List@@ Model.@@ _@@ W@@ E@@ B@@ AD@@ M@@ IN_@@ ))) { audit@@ Lo@@ g.@@ set@@ C@@ or@@ re@@ l@@ ation@@ Id(@@ audit@@ Lo@@ g.@@ get@@ C@@ or@@ re@@ l@@ ation@@ Id().@@ s@@ pl@@ it@@ ("@@ _@@ "@@ )@@ [@@ 2@@ ]@@ ); } } event@@ List@@ Model.@@ update@@ Items(@@ list@@ ); } }); org.ovirt.engine.core.common.queries.@@ Search@@ Parameters param@@ s = new org.ovirt.engine.core.common.queries.@@ Search@@ Parameters(@@ ap@@ pl@@ y@@ S@@ ort@@ Option@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ event@@ s.@@ Event@@ List@@ Model.get@@ Search@@ String@@ ()), org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ Search@@ Type.@@ AuditLog@@ , org.ovirt.engine.ui.uicommonweb.models.@@ event@@ s.@@ Event@@ List@@ Model.@@ is@@ C@@ ase@@ S@@ en@@ si@@ tive@@ Search@@ ()); params.set@@ Max@@ Count@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ event@@ s.@@ Event@@ List@@ Model.get@@ Search@@ P@@ age@@ Size@@ ()); params.set@@ Search@@ From@@ ((@@ (get@@ L@@ ast@@ Event@@ ()) != null ? get@@ L@@ ast@@ Event@@ ().get@@ audit@@ _@@ log@@ _id@@ () : 0@@ )); params.set@@ Re@@ fresh@@ (@@ false@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.@@ Search@@ , param@@ s, query@@ ); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Display@@ Type@@ .@@ class@@ , to = java.lang.String@@ .@@ class@@ ) public static java.lang.String map@@ (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type type@@ , java.lang.String in@@ com@@ ing@@ ) { if (@@ typ@@ e == null@@ ) { return null@@ ; } else { switch (@@ typ@@ e) { case v@@ n@@ c : return Display@@ Type.@@ V@@ N@@ C@@ .@@ value@@ (); case q@@ x@@ l : return Display@@ Type.@@ SP@@ IC@@ E@@ .@@ value@@ (); default : return null@@ ; } } }
@java.lang.Override protected void setUp@@ Entity@@ Query@@ Expectation@@ s@@ (@@ int tim@@ es@@ , java.lang.Object fail@@ ure@@ ) throw@@ s java.lang.Exception { while ((@@ tim@@ es@@ -@@ -@@ ) > 0) { setUp@@ Entity@@ Query@@ Expectations(@@ VdcQuery@@ Type.Get@@ Networks@@ By@@ StoragePool@@ Id, org.ovirt.engine.core.common.queries.@@ StoragePool@@ Query@@ Parameters@@ Base@@ .@@ class@@ , new java.lang.String@@ []{ "@@ StoragePool@@ Id@@ " }, new java.lang.Object@@ []{ org.ovirt.engine.api.restapi.resource.@@ Backend@@ DataCenter@@ Networks@@ Resource@@ Test.@@ D@@ AT@@ A@@ _C@@ EN@@ T@@ ER_@@ I@@ D }, get@@ Entity@@ List@@ (), fail@@ ure@@ ); } }
private void update@@ Disk@@ Vm@@ Snapshot@@ Id@@ () { org.ovirt.engine.core.compat.Guid snapshot@@ Id = org.ovirt.engine.core.bll.@@ Attach@@ Disk@@ To@@ Vm@@ Command.get@@ Snapshot@@ Dao().get@@ Id@@ (org.ovirt.engine.core.bll.@@ Attach@@ Disk@@ To@@ VmCommand.getVm@@ Id(), Snapshot@@ Type.@@ AC@@ TI@@ V@@ E); if (disk@@ .get@@ Disk@@ Storage@@ Type@@ ().is@@ Internal@@ ()) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ) (disk@@ )); org.ovirt.engine.core.bll.@@ Attach@@ Disk@@ To@@ Vm@@ Command.get@@ Image@@ Dao().@@ update@@ Image@@ Vm@@ Snapshot@@ Id(@@ disk@@ Image.get@@ Image@@ Id(), snapshot@@ Id); } else { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ Storage@@ Exception@@ , "@@ up@@ dat@@ e of s@@ napsho@@ t id w@@ a@@ s in@@ iti@@ ate@@ d for un@@ sup@@ por@@ te@@ d dis@@ k type@@ "); } }
public java.lang.@@ L@@ on@@ g get@@ L@@ ast@@ W@@ at@@ ch@@ do@@ g@@ Event@@ () { return l@@ ast@@ W@@ at@@ ch@@ do@@ g@@ Event@@ ; }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ AD@@ D@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ Q@@ U@@ O@@ T@@ A@@ ); }
private java.lang.@@ B@@ oolean get@@ Migrate@@ Comp@@ ress@@ ed@@ () { if (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .m@@ igr@@ ation@@ Comp@@ ress@@ ion@@ (@@ Migrate@@ VmCommand.getVm@@ ().get@@ CompatibilityVersion@@ ())) { if ((@@ Migrate@@ VmCommand.getVm@@ ().get@@ Migrate@@ Comp@@ ress@@ ed@@ ()) != null@@ ) { return Migrate@@ VmCommand.getVm@@ ().get@@ Migrate@@ Comp@@ ress@@ ed@@ (); } if ((@@ Migrate@@ Vm@@ Command.get@@ VdsGroup@@ ().get@@ Migrate@@ Comp@@ ress@@ ed@@ ()) != null@@ ) { return Migrate@@ Vm@@ Command.get@@ VdsGroup@@ ().get@@ Migrate@@ Comp@@ ress@@ ed@@ (); } return org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Default@@ Migration@@ Comp@@ ress@@ ion@@ ); } return null@@ ; }
public org.ovirt.engine.core.bll.ValidationResult network@@ Qos@@ Exist@@ s@@ Or@@ Null@@ () { return ((@@ vnic@@ Profil@@ e.get@@ Network@@ Qos@@ Id()) != null@@ ) && ((get@@ Network@@ Qos@@ ()) == null@@ ) ? new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ NETWORK_@@ Q@@ O@@ S_NOT_@@ EXIST@@ S@@ ) : org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@java.lang.Override public void set@@ Enabled@@ (@@ boolean en@@ abled@@ ) { cont@@ ent@@ Widget@@ .set@@ Enabled@@ (@@ en@@ abled@@ ); if (@@ en@@ abled@@ ) { get@@ For@@ m@@ Label@@ ().get@@ Element@@ ().@@ re@@ pl@@ ace@@ Class@@ Name(@@ O@@ vi@@ r@@ t@@ C@@ s@@ s.@@ L@@ AB@@ E@@ L@@ _@@ DIS@@ AB@@ L@@ ED@@ , O@@ vi@@ r@@ t@@ C@@ s@@ s.@@ L@@ AB@@ E@@ L@@ _@@ EN@@ AB@@ L@@ ED); } else { get@@ For@@ m@@ Label@@ ().get@@ Element@@ ().@@ re@@ pl@@ ace@@ Class@@ Name(@@ O@@ vi@@ r@@ t@@ C@@ s@@ s.@@ L@@ AB@@ E@@ L@@ _@@ EN@@ AB@@ L@@ ED@@ , O@@ vi@@ r@@ t@@ C@@ s@@ s.@@ L@@ AB@@ E@@ L@@ _@@ DIS@@ AB@@ L@@ ED); } if (!(@@ set@@ K@@ e@@ ep@@ T@@ ooltip@@ On@@ Set@@ Enabled@@ )) { update@@ Widget@@ Title@@ (@@ null@@ ); } }
public static org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic build@@ VM@@ Dynamic@@ Data@@ From@@ List(@@ java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ Str@@ uc@@ t@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ d@@ ynam@@ ic = new org.ovirt.engine.core.common.businessentities.Vm@@ Dynamic@@ (); if (@@ x@@ mlR@@ pc@@ Str@@ uc@@ t.@@ contains@@ Key@@ (@@ VdsProperties.@@ vm@@ _@@ g@@ uid@@ )) { try { vm@@ d@@ ynam@@ ic@@ .set@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (((@@ java.lang.String@@ ) (@@ x@@ mlR@@ pc@@ Str@@ uc@@ t.get@@ (@@ VdsProperties.@@ vm@@ _@@ g@@ uid@@ )@@ )@@ ))); } catch (@@ org.ovirt.engine.core.compat.@@ Format@@ Exception e) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ log.info@@ ("@@ vm id is not in u@@ ui@@ d for@@ mat@@ , ", e); vm@@ d@@ ynam@@ ic@@ .set@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ()); } } if (@@ x@@ mlR@@ pc@@ Str@@ uc@@ t.@@ contains@@ Key@@ (@@ VdsProperties.@@ status@@ )) { vm@@ d@@ ynam@@ ic@@ .set@@ Status(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ con@@ ver@@ t@@ To@@ Vm@@ Status@@ (((@@ java.lang.String@@ ) (@@ x@@ mlR@@ pc@@ Str@@ uc@@ t.get@@ (@@ VdsProperties.@@ status@@ )@@ )@@ ))); } return vm@@ d@@ ynam@@ ic@@ ; }
@java.lang.Override public java.@@ n@@ io.@@ ch@@ an@@ ne@@ ls.@@ S@@ ock@@ et@@ Ch@@ an@@ ne@@ l call@@ () throw@@ s java.io.@@ I@@ O@@ Exception { java.@@ net@@ .@@ In@@ et@@ Add@@ res@@ s add@@ res@@ s = java.@@ net@@ .@@ In@@ et@@ Address@@ .get@@ By@@ Name(@@ host@@ name@@ ); org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ act@@ or@@ Cli@@ ent.@@ log.info@@ ((@@ "@@ Conn@@ ect@@ ing to " + add@@ ress@@ )); final java.@@ net@@ .@@ In@@ et@@ S@@ ock@@ et@@ Add@@ res@@ s add@@ r = new java.@@ net@@ .@@ In@@ et@@ S@@ ock@@ et@@ Address@@ (@@ add@@ ress@@ , port@@ ); final java.@@ n@@ io.@@ ch@@ an@@ ne@@ ls.@@ S@@ ock@@ et@@ Ch@@ an@@ ne@@ l s@@ ock@@ et@@ Ch@@ an@@ ne@@ l = java.@@ n@@ io.@@ ch@@ an@@ ne@@ ls.@@ S@@ ock@@ et@@ Ch@@ an@@ ne@@ l.@@ op@@ en@@ (); s@@ ock@@ et@@ Ch@@ an@@ ne@@ l.@@ conn@@ ect@@ (@@ add@@ r@@ ); s@@ ock@@ et@@ Ch@@ an@@ ne@@ l.@@ config@@ ure@@ B@@ lock@@ ing@@ (@@ false@@ ); update@@ L@@ ast@@ H@@ e@@ art@@ Be@@ at@@ (); return s@@ ock@@ et@@ Ch@@ an@@ ne@@ l@@ ; }
public static java.util.List<@@ org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ User@@ > f@@ et@@ ch@@ Us@@ ers@@ By@@ Id@@ s@@ Rec@@ ur@@ si@@ v@@ el@@ y@@ (@@ final java.lang.String auth@@ z@@ , final java.lang.String nam@@ es@@ p@@ ace@@ , final java.util.List<java.lang.String> id@@ s) { return org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ Utils.@@ f@@ et@@ ch@@ Us@@ ers@@ By@@ Id@@ s@@ Rec@@ ur@@ si@@ v@@ el@@ y@@ (@@ org.ovirt.engine.core.utils.@@ extension@@ s@@ m@@ gr@@ .@@ Engine@@ Ex@@ ten@@ sion@@ sManager.getInstance().get@@ Ex@@ ten@@ sion@@ By@@ Name(@@ auth@@ z@@ ), nam@@ es@@ p@@ ace@@ , id@@ s); }
private static org.ovirt.engine.core.common.utils.@@ Pa@@ i@@ r n@@ one@@ And@@ N@@ one@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); java.lang.String exp@@ ected@@ Out@@ pu@@ t = "@@ {}@@ "; return new org.ovirt.engine.core.common.utils.Pair@@ (vm@@ Init@@ , exp@@ ected@@ Out@@ put@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Sp@@ m@@ St@@ op@@ On@@ I@@ r@@ s@@ VDSCommand@@ Parameters param@@ s = new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Sp@@ m@@ St@@ op@@ On@@ I@@ r@@ s@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ For@@ ce@@ SP@@ M@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.@@ For@@ ce@@ Sel@@ ect@@ SP@@ M@@ Command.getParameters().get@@ Pre@@ fer@@ red@@ SP@@ M@@ Id()); run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Sp@@ m@@ St@@ op@@ On@@ I@@ r@@ s, param@@ s); org.ovirt.engine.core.bll.@@ For@@ ce@@ Sel@@ ect@@ SP@@ M@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ V@@ L@@ A@@ N I@@ D m@@ us@@ t b@@ e a num@@ b@@ er b@@ et@@ w@@ e@@ n 0 and 4@@ 0@@ 9@@ 4@@ ") java.lang.String NETWORK_@@ V@@ L@@ AN@@ _@@ O@@ U@@ T_@@ O@@ F@@ _@@ R@@ AN@@ G@@ E@@ ();
@java.lang.Override public com.google.gwt.@@ ev@@ ent.@@ shared@@ .@@ Handler@@ Re@@ gist@@ r@@ ation add@@ Value@@ Change@@ Handler@@ (c@@ om.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Handler@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ con@@ With@@ Os@@ Default@@ > handl@@ er@@ ) { return this@@ .@@ add@@ Handler@@ (@@ handl@@ er@@ , com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Ev@@ ent.get@@ Type@@ ()); }
@java.lang.Override public boolean Is@@ B@@ et@@ ter@@ (org.ovirt.engine.core.bll.@@ VDS x@@ , org.ovirt.engine.core.bll.@@ VDS y@@ , org.ovirt.engine.core.bll.@@ VM vm@@ ) { if ((((@@ ((@@ (org.ovirt.engine.core.bll.@@ Vds@@ Sel@@ ect@@ or@@ .get@@ e@@ ff@@ ec@@ tive@@ Cpu@@ C@@ or@@ es(@@ x@@ )) == null@@ ) || ((org.ovirt.engine.core.bll.@@ Vds@@ Sel@@ ect@@ or@@ .get@@ e@@ ff@@ ec@@ tive@@ Cpu@@ C@@ or@@ es(@@ y@@ )) == null@@ )) || ((@@ x@@ .get@@ us@@ age@@ _@@ cpu@@ _@@ per@@ c@@ ent@@ ()) == null@@ )) || ((@@ y@@ .get@@ us@@ age@@ _@@ cpu@@ _@@ per@@ c@@ ent@@ ()) == null@@ )) || ((@@ x@@ .get@@ p@@ end@@ ing@@ _@@ v@@ c@@ p@@ us@@ _@@ c@@ ount@@ ()) == null@@ )) || ((@@ y@@ .get@@ p@@ end@@ ing@@ _@@ v@@ c@@ p@@ us@@ _@@ c@@ ount@@ ()) == null@@ )) { return false@@ ; } return (c@@ al@@ c@@ D@@ ist@@ ri@@ bu@@ te@@ M@@ et@@ r@@ ic@@ (@@ x@@ , vm@@ )) > (c@@ al@@ c@@ D@@ ist@@ ri@@ bu@@ te@@ M@@ et@@ r@@ ic@@ (@@ y@@ , vm@@ )); }
@@@ c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ t@@ ab@@ .@@ vi@@ r@@ tu@@ al@@ M@@ ach@@ in@@ e.@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Sub@@ Tab@@ Panel@@ Pres@@ enter@@ .@@ class@@ ) static c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ gin@@ .@@ Client@@ G@@ in@@ j@@ ect@@ or gin@@ j@@ ect@@ or@@ ) { return new org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Model@@ B@@ ound@@ Tab@@ Data@@ (@@ gin@@ j@@ ect@@ or@@ .get@@ Ap@@ plication@@ Constants().@@ vi@@ r@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Event@@ Sub@@ Tab@@ Label@@ (), 8@@ , gin@@ j@@ ect@@ or@@ .get@@ Sub@@ Tab@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Event@@ Model@@ Provider@@ (), org.ovirt.engine.ui.common.widget.@@ Al@@ ign@@ .@@ R@@ I@@ G@@ H@@ T@@ ); }
@java.lang.Override public java.lang.String toString@@ () { return java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s, vm@@ Id@@ =@@ %@@ s", super@@ .@@ toString@@ (), get@@ Vm@@ Id()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ System@@ ") java.lang.String s@@ ystem@@ Role@@ T@@ ree@@ ();
private void mock@@ Existing@@ I@@ fac@@ es@@ (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interfac@@ e.@@ .@@ . nic@@ s) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > existing@@ I@@ fac@@ es = new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ >(); for (@@ int i = 0@@ ; i < (@@ nic@@ s.@@ l@@ ength@@ ); i@@ +@@ +@@ ) { existing@@ I@@ fac@@ es.@@ add@@ (c@@ reate@@ Vds@@ Interfac@@ e(@@ nic@@ s@@ [@@ i@@ ]@@ .get@@ Id(), nic@@ s@@ [@@ i@@ ]@@ .get@@ Name(), nic@@ s@@ [@@ i@@ ]@@ .get@@ Bon@@ ded@@ (), nic@@ s@@ [@@ i@@ ]@@ .get@@ Bond@@ Name(), nic@@ s@@ [@@ i@@ ]@@ .get@@ V@@ lan@@ Id(), nic@@ s@@ [@@ i@@ ]@@ .get@@ Network@@ Name(), nic@@ s@@ [@@ i@@ ]@@ .is@@ B@@ rid@@ ged@@ (), nic@@ s@@ [@@ i@@ ]@@ .get@@ Address@@ (), nic@@ s@@ [@@ i@@ ]@@ .is@@ Qos@@ O@@ verrid@@ d@@ en@@ ())); } when@@ (@@ int@@ er@@ fac@@ e@@ DAO@@ .get@@ All@@ Interfaces@@ For@@ Vds@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ thenReturn(@@ existing@@ I@@ fac@@ es@@ ); }
org.ovirt.engine.core.common.businessentities.@@ External@@ Status get@@ External@@ Status@@ () { return org.ovirt.engine.core.bll.@@ Iso@@ Map@@ Data@@ .get@@ External@@ Status@@ (); }
protected boolean validate@@ Images@@ Not@@ Active@@ () { for (org.ovirt.engine.core.common.businessentities.@@ DiskImage im@@ age : get@@ Images@@ ()) { if ((org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Snapshots@@ Command.get@@ DiskImage@@ Dao().get@@ (@@ im@@ age.get@@ Image@@ Id@@ ())) != null@@ ) { return false@@ ; } } return true@@ ; }
public void set@@ Vms@@ Sel@@ ection@@ Model@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ scheduling.@@ af@@ finity@@ _@@ group@@ s.@@ Vms@@ Sel@@ ection@@ Model vm@@ s@@ Sel@@ ection@@ Model) { this@@ .@@ vm@@ s@@ Sel@@ ection@@ Model = vm@@ s@@ Sel@@ ection@@ Model@@ ; }
@org.junit.Test public void test@@ Get@@ Base@@ Nic@@ V@@ er@@ if@@ y@@ Del@@ e@@ g@@ ation@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.vdsbroker.@@ C@@ al@@ c@@ ul@@ ate@@ Base@@ N@@ ic sp@@ y = sp@@ y@@ (c@@ al@@ c@@ ul@@ ate@@ Base@@ Nic@@ ); sp@@ y@@ .get@@ Base@@ Nic@@ (@@ b@@ ase@@ Nic@@ ); ve@@ r@@ if@@ y@@ (s@@ p@@ y@@ ).get@@ Base@@ Nic@@ (@@ org.@@ mock@@ it@@ o.@@ Match@@ er@@ s.@@ any@@ (), org.@@ mock@@ it@@ o.@@ Match@@ er@@ s.@@ any@@ ()); }
private boolean search@@ Contain@@ s@@ S@@ ort@@ By@@ P@@ art@@ (java.lang.String search@@ Query@@ ) { return search@@ Query@@ .@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ().@@ contains(@@ S@@ yn@@ t@@ a@@ x@@ Check@@ er.@@ S@@ OR@@ T@@ B@@ Y@@ .@@ to@@ L@@ ow@@ er@@ C@@ ase@@ ()); }
public com.google.gwt.@@ view@@ .client.@@ Sel@@ ection@@ Model@@ <@@ T@@ > get@@ Sel@@ ection@@ Model@@ () { if ((@@ s@@ el@@ ection@@ Model) == null@@ ) { if (s@@ ing@@ le@@ Sel@@ ection@@ Only@@ ) { s@@ el@@ ection@@ Model = new com.google.gwt.@@ view@@ .client.@@ Sing@@ le@@ Sel@@ ection@@ Model@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ Query@@ able@@ Entity@@ Key@@ Provider@@ ()); } else { s@@ el@@ ection@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ Or@@ der@@ ed@@ Multi@@ Sel@@ ection@@ Model@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ Query@@ able@@ Entity@@ Key@@ Provider@@ ()); } } return s@@ el@@ ection@@ Model@@ ; }
public java.util.Map<@@ ?@@ , java.lang.Integer@@ > get@@ Operation@@ s@@ W@@ e@@ ig@@ ht@@ () { return o@@ per@@ ation@@ s@@ W@@ e@@ ig@@ ht@@ ; }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Disk@@ Interface@@ > disk@@ Interface@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Disk@@ Interface@@ >) (@@ return@@ Value@@ )); boolean is@@ Os@@ Sup@@ port@@ Vir@@ ti@@ oS@@ c@@ s@@ i = disk@@ Interfac@@ es.@@ contains(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _S@@ C@@ SI@@ ); getModel().get@@ Is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ ().setIs@@ Chang@@ able(@@ is@@ Os@@ Sup@@ port@@ Vir@@ ti@@ oS@@ csi@@ ); if (!@@ is@@ Os@@ Sup@@ port@@ Vir@@ ti@@ oS@@ csi@@ ) { getModel().get@@ Is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ ().set@@ Entity@@ (@@ false@@ ); getModel().get@@ Is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ ().set@@ Change@@ Pro@@ h@@ i@@ b@@ ition@@ Reason@@ (@@ const@@ an@@ t@@ s.@@ can@@ not@@ En@@ able@@ Vir@@ ti@@ oS@@ csi@@ For@@ Os@@ ()); } else { if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (vm@@ Id@@ )) { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster = getModel().get@@ Selected@@ Cluster@@ (); boolean is@@ Vir@@ ti@@ oS@@ csi@@ En@@ able@@ d = ((@@ java.lang.Boolean@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Vir@@ t@@ I@@ oS@@ csi@@ Enabled@@ , cluster@@ .get@@ c@@ ompatibility@@ _@@ version@@ ().get@@ Value@@ ()))); getModel().get@@ Is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ ().set@@ Entity@@ (is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ ); } else { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ For@@ Vm@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (get@@ Model@@ (), new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { getModel().get@@ Is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ ().set@@ Entity@@ (((@@ java.lang.Boolean@@ ) (@@ return@@ Value@@ ))); } }@@ ), vm@@ Id); } } }
public final boolean set@@ Auth@@ Rec@@ or@@ d@@ (@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map auth@@ Rec@@ or@@ d@@ ) { return set@@ Data@@ (org.ovirt.engine.core.bll.@@ s@@ ession@@ .@@ Session@@ Data@@ Contain@@ er.@@ A@@ U@@ TH@@ _@@ RE@@ C@@ OR@@ D@@ _P@@ AR@@ A@@ M@@ ET@@ ER_@@ NAM@@ E, auth@@ Rec@@ or@@ d@@ ); }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object ReturnValue@@ ) { set@@ Item@@ s@@ (((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Provider@@ >) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ ReturnValue@@ )@@ ).get@@ ReturnValue@@ ()))); }
@java.lang.Override protected void init@@ (@@ T parameters@@ ) { super@@ .@@ init@@ (@@ parameters@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage re@@ p@@ res@@ ent@@ ati@@ ve@@ Image = get@@ Rep@@ res@@ ent@@ ati@@ ve@@ Image@@ (); if (@@ re@@ p@@ res@@ ent@@ ati@@ ve@@ Image == null@@ ) { return@@ ; } set@@ Image@@ (@@ re@@ p@@ res@@ ent@@ ati@@ ve@@ Image@@ ); set@@ StorageDomain@@ Id(@@ re@@ p@@ res@@ ent@@ ati@@ ve@@ Image.get@@ Storage@@ Id@@ s().get@@ (0@@ )); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.get@@ Parameters@@ ().set@@ Contain@@ Cinder@@ Disks@@ ((!@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Images@@ Handler.@@ filter@@ Disks@@ Bas@@ ed@@ On@@ Cinder@@ (get@@ Images@@ ()).@@ isEmpty@@ ()))); if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.getParameters().get@@ Contain@@ er@@ Id@@ ()))) { set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.getParameters().get@@ Contain@@ er@@ Id()); } else { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > list@@ Vm@@ s = org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.getVm@@ Dao().get@@ Vms@@ List@@ For@@ Disk@@ (@@ re@@ p@@ res@@ ent@@ ati@@ ve@@ Image.get@@ Id(), false@@ ); if (!(@@ list@@ Vm@@ s.@@ isEmpty@@ ())) { org.ovirt.engine.core.common.businessentities.VM vm = list@@ Vm@@ s.get@@ (0@@ ); set@@ Vm@@ (vm@@ ); } } if (is@@ L@@ ive@@ M@@ er@@ ge@@ ()) { org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.@@ cl@@ e@@ ar@@ Task@@ Handl@@ ers@@ (); } }
private void re@@ fresh@@ C@@ lust@@ ers@@ () { log.debug@@ ("@@ Dis@@ c@@ o@@ ver@@ ing cluster@@ s.@@ .@@ "); java.util.@@ Set<@@ java.lang.String> ava@@ il@@ able@@ Cluster@@ s = dis@@ c@@ o@@ ver@@ y@@ .get@@ C@@ lust@@ ers@@ (); if (@@ ava@@ il@@ able@@ Cluster@@ s == null@@ ) { log.error("@@ C@@ luster dis@@ c@@ o@@ ver@@ y fail@@ ed@@ "); return@@ ; } ava@@ il@@ able@@ Cluster@@ s.@@ remove@@ All@@ (cluster@@ Op@@ tim@@ iz@@ er@@ s.@@ key@@ Set@@ ()); java.util.@@ Proper@@ ti@@ es confi@@ g = new org.ovirt.@@ op@@ tim@@ iz@@ er.@@ config.@@ Config@@ Provider@@ ().@@ load@@ ().get@@ Config@@ (); final int ma@@ x@@ Step@@ s = java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (@@ config.@@ get@@ Property@@ (@@ Config@@ Provi@@ der.@@ S@@ OL@@ V@@ ER_@@ ST@@ E@@ P@@ S@@ )); for (java.lang.String cluster@@ Id : ava@@ il@@ able@@ C@@ lust@@ ers@@ ) { log.info@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ N@@ e@@ w c@@ luster %@@ s d@@ et@@ ected@@ ", cluster@@ Id@@ )); long time@@ o@@ u@@ t = (@@ java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (@@ config@@ Provi@@ der.@@ load@@ ().get@@ Config@@ ().get@@ Property@@ (@@ Config@@ Provi@@ der.@@ S@@ OL@@ V@@ ER_@@ TI@@ M@@ E@@ O@@ U@@ T@@ ))) * 1@@ 00@@ 0@@ ; int re@@ f@@ res@@ h = java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (@@ config@@ Provi@@ der.@@ load@@ ().get@@ Config@@ ().get@@ Property@@ (@@ Config@@ Provi@@ der.@@ S@@ OL@@ V@@ ER_@@ D@@ AT@@ A@@ _@@ RE@@ F@@ RE@@ S@@ H@@ )); org.ovirt.@@ op@@ tim@@ iz@@ er.@@ s@@ ol@@ ver.@@ th@@ read@@ .@@ Cluster@@ Op@@ tim@@ ize@@ r op@@ tim@@ ize@@ r = new org.ovirt.@@ op@@ tim@@ iz@@ er.@@ s@@ ol@@ ver.@@ th@@ read@@ .@@ Cluster@@ Op@@ tim@@ iz@@ er@@ (cluster@@ Id, ma@@ x@@ Step@@ s, time@@ out@@ , config@@ Provi@@ der.@@ c@@ ustom@@ R@@ ul@@ e@@ Fil@@ es@@ ()); org.ovirt.@@ op@@ tim@@ iz@@ er.@@ s@@ ol@@ ver.@@ th@@ read@@ .@@ Cluster@@ Info@@ Update@@ r update@@ r = new org.ovirt.@@ op@@ tim@@ iz@@ er.@@ s@@ ol@@ ver.@@ th@@ read@@ .@@ Cluster@@ Info@@ Up@@ dat@@ er@@ (@@ client@@ , op@@ tim@@ iz@@ er@@ ); cluster@@ Op@@ tim@@ iz@@ er@@ s.@@ put@@ (cluster@@ Id, op@@ tim@@ iz@@ er@@ ); java.util.@@ con@@ c@@ urr@@ ent.@@ Comp@@ let@@ able@@ F@@ ut@@ ur@@ e.@@ sup@@ pl@@ y@@ Async@@ (@@ op@@ tim@@ iz@@ er@@ , execu@@ t@@ or@@ s.get@@ Th@@ read@@ Pool@@ ()).@@ then@@ Ap@@ pl@@ y@@ (@@ Op@@ tim@@ al@@ D@@ ist@@ ri@@ bu@@ tion@@ Step@@ s@@ S@@ ol@@ u@@ tion@@ :@@ :@@ :@@ :@@ :@@ :@@ :@@ :@@ :@@ :@@ remove@@ ); execu@@ t@@ or@@ s.get@@ Schedul@@ er@@ ().@@ schedul@@ e@@ ((@@ ) -@@ > sub@@ m@@ it@@ Time@@ Un@@ it.@@ S@@ EC@@ ON@@ D@@ S_@@ F@@ O@@ U@@ T@@ ))) { re@@ fresh@@ R@@ ul@@ e@@ Fil@@ s(@@ re@@ fresh@@ R@@ ul@@ e@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ S@@ EC@@ ON@@ D@@ S@@ EC@@ ON@@ D@@ ); } }
public static org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Popup@@ Widget@@ Confi@@ g h@@ id@@ d@@ en@@ Fiel@@ d@@ () { return new org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Popup@@ Widget@@ Config@@ (@@ false@@ , true@@ , false@@ , false@@ ); }
public void par@@ se@@ Configuration@@ s(@@ java.util.List<@@ org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Configuration@@ > config@@ ur@@ ation@@ s) { for (@@ org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Configur@@ ation confi@@ g : config@@ ur@@ ation@@ s) { java.lang.String nam@@ e = null@@ ; if (is@@ Auth@@ entic@@ ation@@ Config@@ (@@ config@@ )) { nam@@ e = config.@@ get@@ String@@ (@@ org.ovirt.engine.core.@@ aaa.@@ Auth@@ entic@@ ation@@ Profile@@ Rep@@ os@@ it@@ ory@@ .@@ A@@ U@@ TH@@ N@@ _P@@ RO@@ F@@ IL@@ E_@@ NAM@@ E); org.ovirt.engine.core.@@ aaa.@@ Direct@@ or@@ y d@@ irect@@ or@@ y = org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ Manager@@ .getInstance().@@ par@@ se@@ Direct@@ ory@@ (@@ config@@ ); d@@ irect@@ ory@@ Map.@@ put(@@ name@@ , d@@ irect@@ ory@@ ); } else if (is@@ Auth@@ or@@ ization@@ Config@@ (@@ config@@ )) { nam@@ e = config.@@ get@@ String@@ (@@ org.ovirt.engine.core.@@ aaa.@@ Auth@@ entic@@ ation@@ Profile@@ Rep@@ os@@ it@@ ory@@ .@@ A@@ U@@ TH@@ Z@@ _P@@ RO@@ F@@ IL@@ E_@@ NAM@@ E); org.ovirt.engine.core.@@ aaa.@@ Auth@@ enti@@ cat@@ or auth@@ enti@@ cat@@ or = org.ovirt.engine.core.@@ aaa.@@ Auth@@ entic@@ ator@@ Manager@@ .getInstance().@@ par@@ se@@ Auth@@ entic@@ ator@@ (@@ config@@ ); auth@@ entic@@ ator@@ Map.@@ put(@@ name@@ , auth@@ entic@@ ator@@ ); } } for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, org.ovirt.engine.core.@@ aaa.@@ Auth@@ entic@@ ator@@ > e@@ n@@ try : auth@@ entic@@ ator@@ Map.@@ e@@ n@@ try@@ Set@@ ()) { java.lang.String nam@@ e = e@@ n@@ try@@ .get@@ Key@@ (); org.ovirt.engine.core.@@ aaa.@@ Direct@@ or@@ y d@@ irect@@ or@@ y = d@@ irect@@ ory@@ Map@@ .get(@@ name@@ ); if (@@ d@@ irect@@ or@@ y != null@@ ) { org.ovirt.engine.core.@@ aaa.@@ Auth@@ entic@@ ation@@ Profil@@ e profil@@ e = new org.ovirt.engine.core.@@ aaa.@@ Auth@@ entic@@ ation@@ Profil@@ e(@@ name@@ , e@@ n@@ try@@ .get@@ Value@@ (), d@@ irect@@ ory@@ ); profil@@ es.@@ put(@@ name@@ , profil@@ e); } } e@@ n@@ try@@ .get@@ Value@@ (); } }
public void set@@ Sel@@ ect@@ Volum@@ es@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand s@@ el@@ ect@@ Volum@@ es@@ Command@@ ) { this@@ .@@ s@@ el@@ ect@@ Volum@@ es@@ C@@ ommand = s@@ el@@ ect@@ Volum@@ es@@ Command@@ ; }
@java.lang.Override public final java.util.List<java.lang.String> Trans@@ l@@ ate@@ Messages@@ (@@ java.util.List<java.lang.String> error@@ M@@ s@@ g@@ , boolean ch@@ ang@@ e@@ If@@ Not@@ F@@ ound@@ ) { return do@@ Trans@@ l@@ ation@@ (@@ error@@ M@@ s@@ g@@ , ch@@ ang@@ e@@ If@@ Not@@ F@@ ound@@ , java.util.@@ Local@@ e.get@@ Default@@ ()); }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ s = disk@@ Dao.get@@ All@@ From@@ Disks@@ In@@ c@@ lu@@ d@@ ing@@ Snapshots@@ By@@ Disk@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ Parameters().get@@ Id(), org.ovirt.engine.core.bll.storage.disk.@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.storage.disk.@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ()); if (((@@ disk@@ s.@@ size()) == 1@@ ) && ((@@ disk@@ s.get@@ (0@@ )) instanceof org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk@@ )) { org.ovirt.engine.core.bll.storage.disk.@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (disk@@ s.get@@ (0@@ )); return@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > snapshot@@ s = new java.util.ArrayList<>(); disk@@ s.@@ stream@@ ().@@ filter@@ (@@ ( disk@@ ) -@@ > !@@ (@@ dis@@ k instanceof org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk@@ )@@ .m@@ ap@@ (@@ ( disk@@ ) -@@ > ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ) (disk@@ )@@ )@@ )@@ .@@ for@@ E@@ ach@@ (@@ ( disk@@ ) -@@ > { if (disk@@ .get@@ Active@@ ()) { disk@@ .get@@ Snapshot@@ s().@@ add@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Im@@ ag@@ e.c@@ opy@@ Of@@ (disk@@ )); ac@@ tive@@ Disk = disk@@ ; ac@@ tive@@ Disk@@ .get@@ Snapshot@@ s().@@ add@@ All@@ (s@@ napshot@@ s); } else { if ((@@ ac@@ tive@@ Disk@@ ) != null@@ ) { ac@@ tive@@ Disk@@ .get@@ Snapshot@@ s().@@ add(@@ disk@@ ); } else { snapshot@@ s.add(@@ disk@@ ); } } }); org.ovirt.engine.core.bll.storage.disk.@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (@@ ac@@ tive@@ Disk@@ ); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c m@@ onitor@@ Command@@ (java.lang.String vm@@ Id, java.lang.String m@@ onitor@@ Command@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ VM@@ .m@@ onitor@@ Command@@ ").@@ with@@ Parameter("@@ vm@@ ID@@ ", vm@@ Id@@ ).@@ with@@ Parameter("@@ command@@ ", m@@ onitor@@ Command@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
public boolean is@@ R@@ e@@ try@@ Ex@@ tend@@ T@@ ick@@ et@@ () { return (get@@ T@@ ick@@ et@@ (@@ (@@ this@@ .@@ r@@ e@@ try@@ Ex@@ tend@@ T@@ ick@@ et@@ ; }
public abstract void update@@ Interface@@ (@@ int os@@ Id, org.ovirt.engine.core.compat.@@ Version cluster@@ Version@@ );
public void r@@ ec@@ on@@ fi@@ g@@ ure@@ () { d@@ est@@ ro@@ y@@ (); if (((@@ contain@@ er@@ ) != null@@ ) && ((@@ s@@ el@@ ect@@ or@@ ) != null@@ )) { org.ovirt.engine.ui.common.widget.@@ t@@ ooltip@@ .@@ Element@@ T@@ ooltip@@ .@@ log@@ g@@ er.@@ info@@ ((@@ "@@ t@@ oolti@@ p m@@ od@@ e 1 on el@@ em@@ ent id " + (@@ el@@ em@@ ent.get@@ Id@@ ()))); t@@ ooltip@@ (@@ el@@ ement@@ , is@@ An@@ im@@ ated@@ , is@@ H@@ T@@ M@@ L@@ , pl@@ ac@@ em@@ ent.get@@ C@@ ss@@ Name(), s@@ el@@ ect@@ or@@ , cont@@ ent.@@ as@@ String@@ (), t@@ ri@@ g@@ er@@ .get@@ C@@ ss@@ Name(), sh@@ ow@@ Del@@ ay@@ M@@ s, h@@ i@@ de@@ Del@@ ay@@ M@@ s, contain@@ er@@ ); } else if ((@@ contain@@ er@@ ) != null@@ ) { org.ovirt.engine.ui.common.widget.@@ t@@ ooltip@@ .@@ Element@@ T@@ ooltip@@ .@@ log@@ g@@ er.@@ info@@ ((@@ "@@ t@@ oolti@@ p m@@ od@@ e 2 on el@@ em@@ ent id " + (@@ el@@ em@@ ent.get@@ Id@@ ()))); t@@ ooltip@@ (@@ el@@ ement@@ , is@@ An@@ im@@ ated@@ , is@@ H@@ T@@ M@@ L@@ , pl@@ ac@@ em@@ ent.get@@ C@@ ss@@ Name(), cont@@ ent.@@ as@@ String@@ (), t@@ ri@@ g@@ er@@ .get@@ C@@ ss@@ Name(), sh@@ ow@@ Del@@ ay@@ M@@ s, h@@ i@@ de@@ Del@@ ay@@ M@@ s, contain@@ er@@ ); } else if ((@@ s@@ el@@ ect@@ or@@ ) != null@@ ) { org.ovirt.engine.ui.common.widget.@@ t@@ ooltip@@ .@@ Element@@ T@@ ooltip@@ .@@ log@@ g@@ er.@@ info@@ ((@@ "@@ t@@ oolti@@ p m@@ od@@ e 3 on el@@ em@@ ent id " + (@@ el@@ em@@ ent.get@@ Id@@ ()))); t@@ ooltip@@ (@@ el@@ ement@@ , is@@ An@@ im@@ ated@@ , is@@ H@@ T@@ M@@ L@@ , pl@@ ac@@ em@@ ent.get@@ C@@ ss@@ Name(), s@@ el@@ ect@@ or@@ , cont@@ ent.@@ as@@ String@@ (), t@@ ri@@ g@@ er@@ .get@@ C@@ ss@@ Name(), sh@@ ow@@ Del@@ ay@@ M@@ s, h@@ i@@ de@@ Del@@ ay@@ M@@ s); } else { org.ovirt.engine.ui.common.widget.@@ t@@ ooltip@@ .@@ Element@@ T@@ ooltip@@ .@@ log@@ g@@ er.@@ info@@ ((@@ "@@ t@@ oolti@@ p m@@ od@@ e 4 on el@@ em@@ ent id " + (@@ el@@ em@@ ent.get@@ Id@@ ()))); t@@ ooltip@@ (@@ el@@ ement@@ , is@@ An@@ im@@ ated@@ , is@@ H@@ T@@ M@@ L@@ , pl@@ ac@@ em@@ ent.get@@ C@@ ss@@ Name(), cont@@ ent.@@ as@@ String@@ (), t@@ ri@@ g@@ er@@ .get@@ C@@ ss@@ Name(), sh@@ ow@@ Del@@ ay@@ M@@ s, h@@ i@@ de@@ Del@@ ay@@ M@@ s); } }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > map@@ (@@ java.util.List<@@ org.ovirt.engine.core.bll.@@ host.@@ provider@@ .@@ for@@ em@@ an@@ .@@ For@@ em@@ an@@ Host@@ > for@@ em@@ an@@ Host@@ s) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >@@ (@@ for@@ em@@ an@@ Host@@ s.@@ size@@ ()); for (org.ovirt.engine.core.bll.@@ host.@@ provider@@ .@@ for@@ em@@ an@@ .@@ For@@ em@@ an@@ Host@@ W@@ r@@ app@@ er hos@@ t : for@@ em@@ an@@ Host@@ s) { org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ (); host@@ Name = hos@@ t.get@@ Host@@ ().get@@ Name@@ (); vd@@ s.set@@ Vds@@ Name(@@ host@@ Name); vd@@ s.set@@ Management@@ Ip@@ (@@ host@@ Name); hosts.@@ add(@@ vds@@ ); } return host@@ s@@ ; }
@java.lang.Override public boolean is@@ Display@@ Network@@ A@@ ff@@ ected@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 1, org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 2@@ ) { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Log@@ ical@@ Network@@ Model network@@ To@@ Be@@ Attach@@ ed = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Log@@ ical@@ Network@@ Model) (@@ op@@ 1@@ )); return (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Oper@@ ation.@@ is@@ Display@@ Network@@ (network@@ To@@ Be@@ Attached@@ )) && (network@@ To@@ Be@@ Attached@@ .is@@ Attached@@ ()); }
private void debug@@ Query@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type query@@ Type, org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base parameters@@ ) { org.ovirt.engine.ui.frontend.server.@@ gwt.@@ Gener@@ ic@@ Ap@@ i@@ G@@ W@@ T@@ Service@@ Impl.@@ log.debug@@ (@@ buil@@ der.@@ toString()); }
protected org.ovirt.engine.core.common.businessentities.@@ storage_@@ p@@ oo@@ l setUp@@ StoragePool@@ (org.ovirt.engine.core.compat.Guid id@@ ) { org.ovirt.engine.core.common.businessentities.@@ storage_@@ p@@ oo@@ l p@@ oo@@ l = cont@@ ro@@ l.@@ create@@ Mock@@ (org.ovirt.engine.core.common.businessentities.@@ storage_@@ pool@@ .@@ class@@ ); exp@@ ect@@ (@@ pool@@ .getId@@ ()).@@ and@@ Return(@@ id@@ ).@@ any@@ Tim@@ es@@ (); return pool@@ ; }
@@@ javax.@@ valid@@ ation@@ .@@ const@@ r@@ a@@ int@@ s.@@ S@@ iz@@ e(@@ m@@ in = 1, ma@@ x = org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Enti@@ ties@@ De@@ fin@@ ition@@ s.@@ HOST@@ _@@ N@@ IC@@ _@@ NAM@@ E_@@ L@@ EN@@ G@@ TH@@ ) @@@ javax.@@ valid@@ ation@@ .@@ const@@ r@@ a@@ int@@ s.@@ P@@ at@@ ter@@ n@@ (@@ re@@ g@@ ex@@ p = org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Enti@@ ties@@ De@@ fin@@ ition@@ s.@@ B@@ ON@@ D_@@ NAM@@ E_@@ P@@ AT@@ TER@@ N@@ , mess@@ age = "@@ NETWORK_@@ B@@ ON@@ D_@@ NAM@@ E_@@ B@@ AD@@ _@@ F@@ OR@@ M@@ AT@@ ") public java.lang.String get@@ Bond@@ Name@@ () { return bond@@ Name@@ ; }
protected boolean check@@ Domain@@ Can@@ Be@@ Attached@@ (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain storageDomain@@ ) { return ((((@@ ((@@ check@@ StorageDomain@@ Type(@@ storageDomain@@ )) && (is@@ StorageDomain@@ Format@@ C@@ or@@ r@@ ect@@ For@@ Pool@@ (@@ storageDomain@@ , org.ovirt.engine.core.bll.storage.@@ Storage@@ Handl@@ ing@@ CommandBase.get@@ StoragePool@@ ()))) && (@@ check@@ StorageDomain@@ Sh@@ ared@@ Status@@ Not@@ Lock@@ ed(@@ storageDomain@@ ))) && ((((@@ storageDomain@@ .get@@ StorageDomain@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ IS@@ O@@ )) || ((@@ storageDomain@@ .get@@ StorageDomain@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Import@@ Export@@ ))) || (is@@ StorageDomain@@ Not@@ In@@ Pool@@ (@@ storageDomain@@ )@@ ))) && (is@@ StorageDomain@@ Type@@ C@@ or@@ r@@ ect@@ (@@ storageDomain@@ ))) && (is@@ StorageDomain@@ Type@@ C@@ ompati@@ bl@@ e@@ With@@ Pool@@ (@@ storageDomain@@ ))) && ((@@ is@@ M@@ i@@ x@@ ed@@ Typ@@ es@@ Allow@@ ed@@ On@@ Pool@@ ()) || (!(@@ is@@ StoragePool@@ Contain@@ s@@ O@@ th@@ er@@ Typ@@ es(@@ storageDomain@@ )@@ ))); }
@java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { return s@@ ource != null ? ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Role@@ >) (s@@ ource@@ )) : new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Role@@ >(); }
@java.lang.Override public int comp@@ ar@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ Provider@@ Type type@@ 1, org.ovirt.engine.core.common.businessentities.@@ Provider@@ Type type@@ 2@@ ) { final org.ovirt.engine.ui.uicompat.@@ Enum@@ Trans@@ l@@ ator enum@@ Trans@@ l@@ ator = new org.ovirt.engine.ui.uicompat.@@ Enum@@ Trans@@ l@@ ator@@ (); return org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ ator@@ s.@@ L@@ ex@@ o@@ Num@@ er@@ ic@@ Comp@@ ar@@ ator.@@ comp@@ (@@ enum@@ Trans@@ l@@ ator@@ .get(@@ type@@ 1@@ ), enum@@ Trans@@ l@@ ator@@ .get(@@ type@@ 2@@ )); }
@java.lang.Override protected boolean validate@@ () { org.ovirt.engine.core.bll.validator.@@ Host@@ Validator host@@ Validator = new org.ovirt.engine.core.bll.validator.@@ Host@@ Validator@@ (get@@ Vds@@ ()); if ((!@@ (@@ validate@@ (@@ host@@ Validator.@@ host@@ Exist@@ s@@ ()))) || (!(@@ validate@@ (@@ host@@ Validator.@@ is@@ Up@@ ())@@ ))) { return false@@ ; } if ((get@@ Vds@@ ().get@@ VdsGroup@@ CompatibilityVersion@@ ().@@ comp@@ are@@ To@@ (@@ Version@@ .@@ v@@ 3@@ _@@ 4@@ )) < 0) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VDS@@ _@@ H@@ A@@ _@@ MA@@ IN@@ T_@@ NOT_@@ SUP@@ PORT@@ ED); } if (!@@ (get@@ Vds@@ ().get@@ H@@ ig@@ h@@ ly@@ Available@@ Is@@ Configur@@ ed@@ ())) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VDS@@ _@@ H@@ A@@ _@@ NOT_@@ C@@ ON@@ F@@ I@@ G@@ UR@@ ED); } return true@@ ; }
private org.ovirt.engine.core.bll.ValidationResult host@@ Status@@ Le@@ g@@ al@@ For@@ SetupNetworks@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status@@ > sup@@ ported@@ Status@@ es = java.util.Arrays.as@@ List(@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ , VDS@@ Status.@@ Up@@ , VDS@@ Status.@@ Non@@ Operation@@ al@@ ); boolean host@@ Status@@ Le@@ g@@ al@@ For@@ Setup@@ Network@@ s = (s@@ up@@ ported@@ Status@@ es.@@ contains(@@ hos@@ t.get@@ Status@@ ())) || (((@@ hos@@ t.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ In@@ st@@ all@@ ing@@ )) && (@@ int@@ er@@ nal@@ Execution@@ )); if (!@@ host@@ Status@@ Le@@ g@@ al@@ For@@ Setup@@ Network@@ s) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VDS@@ _@@ ST@@ AT@@ U@@ S_@@ IL@@ LE@@ G@@ AL@@ , hos@@ t.get@@ Name(), hos@@ t.get@@ Status@@ ().@@ name@@ ()); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@org.junit.Test public void test@@ Get@@ All@@ Connection@@ s@@ Of@@ N@@ fs@@ Domain@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s> connection@@ s = d@@ ao@@ .get@@ AllFor@@ Domain@@ (@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String("@@ d@@ 9@@ e@@ de@@ 3@@ 7@@ f@@ -@@ e@@ 6@@ c@@ 3@@ -@@ 4@@ b@@ f@@ 9@@ -@@ a@@ 9@@ 8@@ 4@@ -@@ 1@@ 9@@ 1@@ 7@@ 4@@ 0@@ 7@@ 0@@ aa@@ 3@@ 1@@ ")); assert@@ Equals@@ (@@ connection@@ s.@@ size@@ (), 1@@ ); assert@@ Equals@@ (@@ connection@@ s.get@@ (0@@ ).@@ ge@@ I@@ id@@ (), "@@ 0@@ c@@ 1@@ 4@@ 6@@ e@@ 8@@ -@@ e@@ 5@@ ed@@ -@@ 4@@ 8@@ 2@@ c@@ -@@ 8@@ 1@@ 4@@ -@@ 2@@ 7@@ 0@@ b@@ c@@ 4@@ 8@@ c@@ 2@@ 9@@ 8@@ 1@@ "); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ Numa@@ Node@@ > par@@ se@@ Numa@@ Nod@@ es@@ (java.lang.String num@@ a@@ Nod@@ es@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Numa@@ Node@@ > par@@ s@@ ed@@ Numa@@ Node@@ s = null@@ ; if ((@@ num@@ a@@ Node@@ s != null@@ ) && (!(@@ num@@ a@@ Nod@@ es.@@ t@@ ri@@ m@@ ().is@@ Empty@@ ()))) { par@@ s@@ ed@@ Numa@@ Node@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Numa@@ Node@@ >(); for (java.lang.String num@@ a@@ Nod@@ e : num@@ a@@ Nod@@ es.@@ s@@ pl@@ it@@ ("@@ ;@@ "@@ )) { try { par@@ s@@ ed@@ Numa@@ Nod@@ es.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ Numa@@ Node@@ (@@ num@@ a@@ Node@@ )); } catch (@@ java.lang.Exception e) { throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ org.ovirt.engine.core.compat.@@ String@@ Format@@ .@@ for@@ mat@@ ("@@ C@@ oul@@ d not par@@ se num@@ a n@@ ode@@ s %@@ s for vd@@ s %@@ s", num@@ a@@ Nod@@ es@@ , get@@ Id@@ ())); } } } return par@@ s@@ ed@@ Numa@@ Nod@@ es@@ ; }
@org.junit.Test public void test@@ Validate@@ All@@ C@@ lust@@ ers@@ L@@ ev@@ el@@ () { storagePool@@ With@@ Version@@ H@@ ig@@ h@@ er@@ Th@@ an@@ Cluster@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > cluster@@ List = org.ovirt.engine.core.bll.storage.@@ Update@@ StoragePool@@ Command@@ Test.@@ create@@ Cluster@@ List@@ (); org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group s@@ ec@@ ond@@ C@@ luster = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ (); s@@ ec@@ ond@@ C@@ luster.@@ set@@ CompatibilityVersion@@ (org.ovirt.engine.core.bll.storage.@@ Update@@ StoragePool@@ Command@@ Test.@@ V@@ ER@@ SI@@ ON_@@ 1@@ _@@ 2@@ ); s@@ ec@@ ond@@ C@@ luster.@@ set@@ Name@@ ("@@ s@@ ec@@ ond@@ Cluster@@ "); cluster@@ List.@@ add@@ (s@@ ec@@ ond@@ Cluster@@ ); org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group th@@ ir@@ d@@ C@@ luster = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ (); th@@ ir@@ d@@ C@@ luster.@@ set@@ CompatibilityVersion@@ (org.ovirt.engine.core.bll.storage.@@ Update@@ StoragePool@@ Command@@ Test.@@ V@@ ER@@ SI@@ ON_@@ 1@@ _@@ 1@@ ); th@@ ir@@ d@@ C@@ luster.@@ set@@ Name@@ ("@@ th@@ ir@@ d@@ Cluster@@ "); cluster@@ List.@@ add(@@ th@@ ir@@ d@@ Cluster@@ ); when(@@ vds@@ Group@@ Dao.get@@ AllFor@@ StoragePool@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (cluster@@ List@@ ); assert@@ F@@ als@@ e(@@ cmd@@ .@@ check@@ All@@ C@@ lust@@ ers@@ L@@ ev@@ el@@ ()); java.util.List<java.lang.String> mess@@ age@@ s = cmd@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ (); assert@@ True@@ (m@@ ess@@ ages.@@ contains(@@ EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ STORAGE_@@ P@@ O@@ OL@@ _C@@ O@@ M@@ P@@ A@@ TI@@ B@@ IL@@ I@@ TY@@ _@@ V@@ ER@@ SI@@ ON_@@ B@@ I@@ G@@ G@@ G@@ G@@ ER_@@ TH@@ AN@@ _C@@ LUST@@ ER@@ S@@ .@@ toString@@ ())); assert@@ True@@ (m@@ ess@@ ages@@ .get(@@ 0@@ ).@@ contains@@ ("@@ fi@@ r@@ st@@ Cluster@@ ")); assert@@ F@@ als@@ e(@@ mess@@ ages@@ .get(@@ 0@@ ).@@ contains@@ ("@@ s@@ ec@@ ond@@ Cluster@@ ")); assert@@ True@@ (m@@ ess@@ ages@@ .get(@@ 0@@ ).@@ contains@@ ("@@ th@@ ir@@ d@@ Cluster@@ ")); }
private boolean sup@@ port@@ s@@ Gluster@@ Snapshot@@ Feat@@ ure(@@ org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group cluster@@ ) { return (c@@ luster.@@ sup@@ port@@ s@@ Gluster@@ Service@@ ()) && ((@@ org.ovirt.engine.core.common.@@ gluster.Gluster@@ Feat@@ ure@@ Supported@@ .@@ gluster@@ Snapshot@@ (cluster@@ .get@@ CompatibilityVersion@@ ())) || (get@@ Cluster@@ Util@@ s().@@ is@@ Feat@@ ure@@ Supported@@ As@@ Add@@ ition@@ al@@ Feat@@ ure(@@ cluster@@ .get@@ Id(), Cluster@@ Utils.@@ F@@ E@@ AT@@ UR@@ E_@@ GLUSTER_@@ S@@ NA@@ P@@ S@@ HO@@ T@@ ))); }
public boolean execute@@ Update@@ Vm@@ In@@ Sp@@ m@@ Command@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id, java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.compat.@@ Key@@ Value@@ Pair@@ Comp@@ at@@ <@@ java.lang.String, java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ >> m@@ et@@ a@@ D@@ ic@@ tion@@ ar@@ y@@ , org.ovirt.engine.core.compat.Guid storageDomain@@ Id) { org.ovirt.engine.core.common.vdscommands.@@ Update@@ VM@@ VDSCommand@@ Parameters temp@@ V@@ a@@ r = new org.ovirt.engine.core.common.vdscommands.@@ Update@@ VM@@ VDSCommand@@ Parameters(@@ storagePool@@ Id, m@@ et@@ a@@ D@@ ic@@ tion@@ ar@@ y@@ ); tempVar@@ .set@@ StorageDomain@@ Id(@@ storageDomain@@ Id); return org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Update@@ VM@@ , tempVar@@ ).get@@ Succeeded@@ (); }
public java.util.Map<java.lang.String, java.lang.Object> gluster@@ Volume@@ GeoRep@@ Session@@ List@@ (java.lang.String volume@@ Name, java.lang.String s@@ lave@@ Host@@ , java.lang.String s@@ lave@@ Volume@@ Name);
@org.junit.Test public void shoul@@ d@@ Migrate@@ Vm@@ 4@@ To@@ Host@@ 1@@ () { org.ovirt.engine.core.common.@@ scheduling.@@ Af@@ finity@@ Group p@@ os@@ i@@ tive@@ Group = create@@ Af@@ finity@@ Group@@ (vds@@ Group@@ , true@@ , vm@@ 1, vm@@ 2@@ , vm@@ 4@@ ); af@@ finity@@ Group@@ s.add(@@ p@@ os@@ i@@ tive@@ Group@@ ); assert@@ Equals@@ (vm@@ 4@@ , e@@ n@@ for@@ c@@ er.@@ ch@@ o@@ os@@ e@@ N@@ ext@@ Vm@@ To@@ Migrate@@ (vds@@ Group@@ )); }
@java.lang.Override public int hash@@ Code@@ () { return java.util.@@ Object@@ s.@@ hash@@ (@@ id@@ , au@@ to@@ Rec@@ o@@ ver@@ able@@ , connection@@ , name@@ , storage@@ , storage@@ Format@@ , storagePool@@ Type, storage@@ Type, d@@ escription@@ , s@@ an@@ State@@ , w@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ , dis@@ c@@ ard@@ Af@@ ter@@ Delet@@ e@@ , fi@@ r@@ st@@ M@@ et@@ ad@@ ata@@ Device@@ , v@@ g@@ M@@ et@@ ad@@ ata@@ Device@@ , w@@ arning@@ L@@ ow@@ Sp@@ ace@@ In@@ d@@ ic@@ ator@@ , cri@@ tic@@ al@@ Sp@@ ace@@ Action@@ B@@ lock@@ er@@ , us@@ e@@ For@@ Back@@ up@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.action.VdcReturnValue@@ Base Lo@@ gin@@ (java.lang.String user@@ Name, java.lang.String p@@ assword@@ , java.lang.String do@@ m@@ ain@@ ) { org.ovirt.engine.core.common.action.@@ Lo@@ gin@@ User@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Lo@@ gin@@ User@@ Parameters@@ (@@ do@@ m@@ ain@@ , user@@ Name, p@@ assword@@ ); params.set@@ Session@@ Id@@ (get@@ Session@@ Id()); params.set@@ Action@@ Type(@@ Vdc@@ ActionType.@@ Lo@@ gin@@ Ad@@ min@@ User@@ ); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value = get@@ Backend@@ ().@@ Lo@@ gin@@ (@@ param@@ s); return return@@ Value@@ ; }
private void cl@@ e@@ ar@@ Con@@ current@@ Group@@ () { con@@ current@@ Pan@@ el.@@ cl@@ e@@ ar@@ (); con@@ current@@ Pan@@ el.@@ add(@@ ag@@ ent@@ Label@@ ); }
protected java.lang.Object@@ [@@ ] get@@ En@@ c@@ ode@@ d@@ Parameters(@@ java.lang.Object@@ [@@ ] parameters@@ , org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ L@@ dap@@ Id@@ En@@ c@@ ode@@ r id@@ En@@ c@@ o@@ der@@ ) { if (@@ parameter@@ s == null@@ ) { return null@@ ; } java.lang.Object@@ [@@ ] ret@@ V@@ al = parameter@@ s.@@ cl@@ one@@ (); int in@@ de@@ x = 0@@ ; for (java.lang.Object paramet@@ er : parameters@@ ) { if (@@ paramet@@ er instanceof org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ Id@@ Type@@ ) { ret@@ Val@@ [@@ in@@ dex@@ ] = id@@ En@@ c@@ od@@ er.@@ enc@@ ode@@ d@@ Id@@ (((@@ org.ovirt.engine.@@ extension@@ s.@@ aaa.@@ buil@@ t@@ in@@ .@@ k@@ er@@ ber@@ os@@ l@@ dap@@ .@@ Id@@ Type@@ ) (@@ parameter@@ ))); } in@@ dex@@ +@@ ; } return ret@@ Val@@ ; }
@java.lang.Override public org.ovirt.engine.core.dal.@@ Vdc@@ Bll@@ Message@@ s get@@ CanDoAction@@ M@@ s@@ g@@ () { return org.ovirt.engine.core.dal.@@ Vdc@@ Bll@@ Message@@ s@@ g@@ ; }
private void add@@ D@@ n@@ s@@ Data@@ (org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ Init@@ , java.util.Map<java.lang.String, java.lang.Object> network@@ ) { if (@@ n@@ etwork == null@@ ) { return@@ ; } if (@@ has@@ D@@ n@@ s@@ Server@@ s(@@ vm@@ Init@@ )) { network.@@ put@@ ("@@ d@@ n@@ s@@ _@@ nam@@ es@@ er@@ ver@@ s", java.util.Arrays.as@@ List@@ (vm@@ In@@ it.@@ get@@ D@@ n@@ s@@ Server@@ s().@@ s@@ pl@@ it@@ (@@ " "@@ ))); } if (@@ has@@ D@@ n@@ s@@ Search@@ (vm@@ Init@@ )) { network.@@ put@@ ("@@ d@@ n@@ s@@ _@@ search@@ ", java.util.Arrays.as@@ List@@ (vm@@ In@@ it.@@ get@@ D@@ n@@ s@@ Search@@ ().@@ s@@ pl@@ it@@ (@@ " "@@ ))); } }
public void update@@ Dynamic@@ Data@@ (org.ovirt.engine.core.common.businessentities.@@ Vds@@ Dynam@@ ic d@@ ynam@@ ic@@ Data@@ ) { vds@@ Dynamic@@ Dao@@ .@@ update@@ (@@ d@@ ynam@@ ic@@ Data@@ ); c@@ ach@@ ed@@ V@@ d@@ s.set@@ Dynamic@@ Data@@ (@@ d@@ ynam@@ ic@@ Data@@ ); c@@ ach@@ ed@@ Dynamic@@ Data = d@@ ynam@@ ic@@ Data@@ ; }
public void set@@ Volume@@ Type(@@ org.ovirt.engine.core.common.businessentities.@@ Volume@@ Type volume@@ Type@@ ) { this@@ .@@ volume@@ Type = volume@@ Type@@ ; }
@org.junit.Test public void test@@ L@@ i@@ b@@ vi@@ r@@ t@@ Version@@ () { final java.lang.String test@@ Version = "@@ s@@ om@@ e@@ -@@ st@@ ring@@ -@@ value@@ "; org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ (); vd@@ s.set@@ Id(@@ Guid@@ .@@ Empty@@ ); vd@@ s.set@@ l@@ i@@ b@@ vi@@ r@@ t@@ _@@ version@@ (@@ test@@ Version@@ ); org.ovirt.engine.api.model.@@ Hos@@ t hos@@ t = org.ovirt.engine.api.restapi.@@ types.@@ Host@@ Mapper.@@ map@@ (vds@@ , ((@@ org.ovirt.engine.api.model.@@ Host@@ ) (@@ null@@ ))); assert@@ Not@@ Null@@ (@@ hos@@ t.get@@ L@@ i@@ b@@ vi@@ r@@ t@@ Version@@ ()); assert@@ Equals@@ (@@ hos@@ t.get@@ L@@ i@@ b@@ vi@@ r@@ t@@ Version@@ (), test@@ Version@@ ); }
public static boolean has@@ Cpu@@ To@@ Run@@ VM@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ ) { if (((@@ vds.get@@ us@@ age@@ _@@ cpu@@ _@@ per@@ c@@ ent@@ ()) == null@@ ) || ((@@ vm.get@@ Us@@ age@@ Cpu@@ Per@@ c@@ ent@@ ()) == null@@ )) { return false@@ ; } int p@@ red@@ ic@@ ted@@ Vm@@ C@@ p@@ u = ((@@ vm.get@@ Us@@ age@@ Cpu@@ Per@@ c@@ ent@@ ()) * (vm.get@@ Num@@ Of@@ C@@ p@@ us@@ ())) / (org.ovirt.engine.core.bll.@@ Vds@@ Sel@@ ect@@ or@@ .get@@ E@@ ff@@ ec@@ tive@@ Cpu@@ C@@ or@@ es(@@ vds@@ )); boolean result = ((@@ vds.get@@ us@@ age@@ _@@ cpu@@ _@@ per@@ c@@ ent@@ ()) + p@@ red@@ ic@@ ted@@ Vm@@ Cpu@@ ) <@@ = (@@ vds.get@@ h@@ ig@@ h@@ _@@ uti@@ l@@ ization@@ ()); if (org.ovirt.engine.core.bll.@@ RunVm@@ Command@@ Bas@@ e.@@ log.@@ is@@ D@@ eb@@ u@@ g@@ Enabled@@ ()) { org.ovirt.engine.core.bll.@@ RunVm@@ Command@@ Bas@@ e.@@ log.debug@@ Format@@ ((@@ "@@ Hos@@ t {0@@ } ha@@ s {@@ 1@@ }@@ % C@@ P@@ U load@@ ; VM {@@ 2@@ } is p@@ red@@ ic@@ te@@ d to ha@@ v@@ e {@@ 3@@ }@@ % C@@ P@@ U load@@ ; " + "@@ H@@ ig@@ h th@@ resh@@ ol@@ d is {@@ 4@@ }@@ %@@ . Hos@@ t is {@@ 5@@ }@@ s@@ ui@@ t@@ able in ter@@ m@@ s of C@@ P@@ U@@ .@@ "@@ ), vds.get@@ vds@@ _@@ name@@ (), vds.get@@ us@@ age@@ _@@ cpu@@ _@@ per@@ c@@ ent@@ (), vm.get@@ Name(), p@@ red@@ ic@@ ted@@ Vm@@ Cpu@@ , vds.get@@ h@@ ig@@ h@@ _@@ uti@@ l@@ ization@@ (), (@@ result ? "@@ " : "@@ not ")); } return result@@ ; }
private void local@@ ize@@ () { }
private org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue run@@ F@@ enc@@ ing@@ Action@@ (org.ovirt.engine.core.common.businessentities.@@ Fence@@ Action@@ Type action@@ Type, org.ovirt.engine.core.common.businessentities.@@ Fence@@ Agent@@ Or@@ der or@@ der@@ ) { java.lang.String manage@@ ment@@ I@@ p = get@@ Management@@ Ip@@ (@@ or@@ der@@ ); java.lang.String manage@@ ment@@ P@@ or@@ t = get@@ Management@@ Port@@ (@@ or@@ der@@ ); java.lang.String manage@@ ment@@ Ag@@ ent = get@@ Management@@ Agent@@ (@@ or@@ der@@ ); java.lang.String manage@@ ment@@ Us@@ er = get@@ Management@@ User@@ (@@ or@@ der@@ ); java.lang.String manage@@ ment@@ P@@ asswor@@ d = get@@ Management@@ Password@@ (@@ or@@ der@@ ); java.lang.String manage@@ ment@@ Option@@ s = get@@ Management@@ Option@@ s(@@ or@@ der@@ ); org.ovirt.engine.core.bll.@@ F@@ enc@@ ing@@ Execu@@ t@@ or.@@ log.info@@ Format@@ ((@@ "@@ Execu@@ t@@ ing <@@ {0@@ }@@ > P@@ ow@@ er Manage@@ m@@ ent command@@ , Pro@@ x@@ y Host@@ :@@ {@@ 1@@ }, " + "@@ Agent@@ :@@ {@@ 2@@ }, T@@ arg@@ e@@ t Host@@ :@@ {@@ 3@@ }, Manage@@ m@@ ent I@@ P@@ :@@ {@@ 4@@ }, User@@ :@@ {@@ 5@@ }, Option@@ s@@ :@@ {@@ 6@@ }@@ "@@ ), action@@ Type, _@@ vds@@ To@@ Run@@ Name, manage@@ ment@@ Agent@@ , _@@ vds.get@@ vds@@ _@@ name@@ (), manage@@ ment@@ Ip@@ , manage@@ ment@@ User@@ , manage@@ ment@@ Option@@ s); return org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Fence@@ Vds@@ , new org.ovirt.engine.core.common.vdscommands.@@ Fence@@ Vds@@ VDSCommand@@ Parameters(@@ _@@ vds@@ To@@ Run@@ Id, _@@ vds.get@@ Id(), manage@@ ment@@ Ip@@ , manage@@ ment@@ Port@@ , manage@@ ment@@ Agent@@ , manage@@ ment@@ User@@ , manage@@ ment@@ Password@@ , manage@@ ment@@ Option@@ s, action@@ Type@@ )); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.action.@@ Host@@ SetupNetworks@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Host@@ SetupNetworks@@ Parameters@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Remove@@ NetworkAttachment@@ Command.getParameters().get@@ Vds@@ Id()); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent network@@ Attachment@@ For@@ Rem@@ ov@@ e = org.ovirt.engine.core.bll.network.@@ host.@@ Remove@@ NetworkAttachment@@ Command.get@@ DbFacade@@ ().get@@ NetworkAttachment@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Remove@@ NetworkAttachment@@ Command.getParameters().get@@ NetworkAttachment@@ ().get@@ Id()); param@@ s.get@@ Rem@@ oved@@ NetworkAttachment@@ s().@@ add(@@ network@@ Attachment@@ For@@ Remove@@ ); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value = run@@ Internal@@ Action(VdcActionType.@@ Host@@ Setup@@ Network@@ s, param@@ s); pro@@ p@@ ag@@ ate@@ Fail@@ ure@@ (@@ return@@ Value@@ ); set@@ Succeeded@@ (@@ return@@ Value.get@@ Succeeded@@ ()); }
@java.lang.Override protected void init@@ Lo@@ gin@@ Model@@ () { super@@ .@@ init@@ Lo@@ gin@@ Model@@ (); final org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Lo@@ gin@@ Model lo@@ gin@@ Model = get@@ Lo@@ gin@@ Model@@ (); lo@@ gin@@ Model.get@@ Is@@ EN@@ G@@ IN@@ E@@ User@@ ().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { java.lang.@@ B@@ oolean is@@ Engine@@ Us@@ er = lo@@ gin@@ Model.get@@ Is@@ EN@@ G@@ IN@@ E@@ User@@ ().getEntity@@ (); if (is@@ Engine@@ Us@@ er != null@@ ) { user@@ R@@ ol@@ e.set@@ Engine@@ User@@ (is@@ Engine@@ User@@ ); p@@ er@@ for@@ m@@ Lo@@ gin@@ (@@ lo@@ gin@@ Model@@ ); } } }); }
public void set@@ Back@@ up@@ (@@ boolean back@@ up@@ ) { this@@ .@@ back@@ up@@ ; }
private javax.ws.rs.@@ core.@@ Respon@@ se get@@ Fence@@ Status(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue result = get@@ Entity@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ VDS@@ ReturnValue@@ .@@ class@@ , VdcQuery@@ Type.Get@@ Vds@@ Fence@@ Status@@ , new org.ovirt.engine.core.common.queries.@@ Vds@@ Id@@ Parameters@@ Bas@@ e(@@ g@@ uid@@ ), g@@ uid@@ .@@ toString()); org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Operation@@ Result f@@ ence@@ Result = ((org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Operation@@ Result@@ ) (@@ result.get@@ ReturnValue@@ ())); if ((@@ f@@ ence@@ Res@@ ult.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Operation@@ Res@@ ult.@@ Status.@@ S@@ U@@ C@@ C@@ ES@@ S@@ )) { org.ovirt.engine.api.model.@@ P@@ ow@@ er@@ Manage@@ m@@ ent p@@ m = new org.ovirt.engine.api.model.@@ P@@ ow@@ er@@ Management@@ (); p@@ m@@ .set@@ Status(@@ org.ovirt.engine.api.@@ common.@@ util.@@ Status@@ Utils.@@ create@@ (@@ con@@ ver@@ t@@ Host@@ P@@ ow@@ er@@ Status(@@ f@@ ence@@ Res@@ ult.get@@ P@@ ow@@ er@@ Status@@ ()))); action@@ .set@@ P@@ ow@@ er@@ Management@@ (p@@ m@@ ); return action@@ Success@@ (@@ action@@ ); } else { return h@@ andle@@ Fail@@ ure(@@ action@@ , f@@ ence@@ Res@@ ult.get@@ Message@@ ()); } }
private boolean is@@ P@@ ass@@ Dis@@ c@@ ard@@ Supported@@ () { return validate@@ (get@@ Disk@@ Validator@@ (disk@@ ).@@ is@@ P@@ ass@@ Dis@@ c@@ ard@@ Supported@@ (get@@ Disk@@ Vm@@ Element@@ (), Hot@@ Plug@@ Disk@@ To@@ Vm@@ Command.get@@ StorageDomain@@ ())); }
@java.lang.Override protected void end@@ With@@ Fail@@ ure@@ () { if ((org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.getParameters().get@@ Command@@ Step@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Step@@ .@@ DE@@ ST@@ RO@@ Y_@@ IM@@ AG@@ E@@ )) { org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.get@@ ReturnValue@@ ().set@@ En@@ d@@ Action@@ Tr@@ y@@ Ag@@ ain@@ (@@ false@@ ); org.ovirt.engine.core.compat.Guid current@@ Ch@@ ild@@ Id = org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.getParameters().get@@ Ch@@ ild@@ Command@@ s().get@@ (org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.getParameters().get@@ Command@@ Step@@ ()); if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (c@@ urrent@@ Ch@@ ild@@ Id@@ ))) { org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > c@@ ommand = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ ret@@ ri@@ e@@ ve@@ Command@@ (c@@ urrent@@ Ch@@ ild@@ Id); if (c@@ ommand != null@@ ) { command@@ .get@@ Parameters@@ ().set@@ Task@@ Group@@ Success@@ (@@ false@@ ); org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ end@@ Action(VdcActionType.@@ Dest@@ ro@@ y@@ Image@@ , command@@ .get@@ Parameters@@ (), org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); } } else { org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.set@@ Succeeded@@ (@@ true@@ ); } }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > get@@ AllFor@@ StoragePool@@ And@@ Status@@ (org.ovirt.engine.core.compat.Guid storagePool@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status status@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > vds@@ List = get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ get@@ Vds@@ By@@ StoragePool@@ Id@@ With@@ Status@@ ", org.ovirt.engine.core.dao.@@ Vds@@ Dao@@ Impl.@@ Vds@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ storage_@@ pool@@ _id", storagePool@@ ).@@ addValue("@@ status@@ ", (@@ stat@@ u@@ s != null ? status@@ .get@@ Value@@ () : null@@ ))); return un@@ i@@ te@@ Agent@@ s(@@ vds@@ List@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Al@@ lo@@ w to m@@ ov@@ e VM im@@ age to an@@ oth@@ er Stor@@ age Domain@@ ") java.lang.String al@@ low@@ To@@ Move@@ Vm@@ Image@@ To@@ An@@ oth@@ er@@ StorageDomain@@ Role@@ T@@ ree@@ T@@ ooltip@@ ();
private void init@@ External@@ Host@@ Provider@@ Widget@@ s@@ (@@ boolean is@@ Available@@ ) { ex@@ ternal@@ Host@@ Provider@@ Enabled@@ Editor@@ .set@@ Visi@@ bl@@ e(@@ is@@ Available@@ ); ex@@ ternal@@ Host@@ Name@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); ex@@ ternal@@ Host@@ s@@ Type@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); provi@@ d@@ ers@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); ex@@ ternal@@ Dis@@ c@@ o@@ ver@@ ed@@ Host@@ s@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); ex@@ ternal@@ Host@@ Group@@ s@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); search@@ Provider@@ Pan@@ el.@@ set@@ Visi@@ bl@@ e@@ (@@ false@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Rem@@ ov@@ e Vir@@ tu@@ al M@@ ach@@ in@@ e@@ ") java.lang.String remove@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Title@@ ();
public void set@@ H@@ ig@@ h@@ ly@@ Available@@ Local@@ M@@ a@@ int@@ en@@ ance@@ (@@ boolean value@@ ) { h@@ ig@@ h@@ ly@@ Available@@ Local@@ M@@ a@@ int@@ en@@ an@@ c@@ e = value@@ ; }
@java.lang.Override public int hash@@ Code@@ () { return java.util.@@ Object@@ s.@@ hash@@ (@@ id@@ , comp@@ at@@ Version@@ , c@@ ompatibilityVersion@@ , cpu@@ Name, d@@ escription@@ , ma@@ x@@ Vds@@ Memory@@ O@@ ver@@ Comm@@ it@@ , c@@ ount@@ Th@@ rea@@ ds@@ As@@ C@@ or@@ es@@ , m@@ igr@@ ate@@ On@@ Error@@ , name@@ , storagePool@@ Id, storagePool@@ Name, switch@@ Type, trans@@ parent@@ H@@ u@@ g@@ ep@@ ages@@ , vi@@ r@@ t@@ Service@@ , gluster@@ Service@@ , gluster@@ Cli@@ Bas@@ ed@@ Schedul@@ ing@@ On@@ , t@@ un@@ ne@@ l@@ Migration@@ , em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ , tr@@ ust@@ ed@@ Service@@ , ha@@ Res@@ er@@ va@@ tion@@ , cluster@@ Policy@@ Name, cluster@@ Policy@@ Properties@@ , re@@ qui@@ red@@ R@@ ng@@ S@@ ourc@@ es@@ , en@@ able@@ K@@ s@@ m@@ , en@@ able@@ Bal@@ loon@@ ing@@ , op@@ tim@@ ization@@ Type, ser@@ ial@@ Num@@ ber@@ Policy@@ , c@@ ustom@@ Ser@@ ial@@ Num@@ ber@@ , group@@ Host@@ s@@ And@@ Vm@@ s, f@@ enc@@ ing@@ Policy@@ , au@@ to@@ Conver@@ ge@@ , m@@ igr@@ ate@@ Comp@@ ress@@ ed@@ , gluster@@ T@@ u@@ ne@@ d@@ Profile@@ , add@@ tion@@ al@@ Feat@@ ur@@ es@@ Supported@@ , m@@ a@@ int@@ en@@ ance@@ Reason@@ Requi@@ red@@ , k@@ s@@ m@@ M@@ er@@ ge@@ Ac@@ ro@@ ss@@ Numa@@ Nod@@ es@@ , c@@ ustom@@ Migration@@ Network@@ B@@ and@@ w@@ id@@ th@@ , m@@ igr@@ ation@@ B@@ and@@ w@@ id@@ th@@ L@@ im@@ it@@ Type@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { super@@ .set@@ Action@@ Message@@ Parameters@@ (); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ RE@@ S@@ U@@ M@@ E); }
@java.lang.Override protected boolean validate@@ () { if (!@@ (@@ super@@ .@@ validate@@ ())) { return false@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > template@@ DiskImage@@ s = org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ filter@@ Image@@ Disks@@ (org.ovirt.engine.core.bll.@@ AddVm@@ From@@ Template@@ Command.getVm@@ Template@@ ().get@@ Disk@@ Template@@ Map@@ ().@@ valu@@ es@@ (), true@@ , false@@ , false@@ ); for (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage d@@ i@@ t : template@@ Disk@@ Images@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = disk@@ Info@@ Dest@@ ination@@ Map@@ .get(@@ d@@ it.@@ get@@ Id()); if (!@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Images@@ Handler.@@ check@@ Image@@ Configuration@@ (@@ d@@ est@@ Stor@@ ages@@ .get@@ (disk@@ Image.get@@ Storage@@ Id@@ s().get@@ (0@@ )@@ ).get@@ Storage@@ StaticData@@ (), disk@@ Image@@ , org.ovirt.engine.core.bll.@@ AddVm@@ From@@ Template@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ ()))) { return false@@ ; } } return true@@ ; }
@@@ com.google.gwt.@@ i@@ 18@@ n@@ .client.@@ Constants.@@ DefaultStringValue("@@ Rem@@ ov@@ e selected@@ ") java.lang.String c@@ lo@@ u@@ d@@ Init@@ Network@@ Label@@ ();
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Ad@@ d S@@ yst@@ e@@ m Per@@ mis@@ si@@ on to User@@ ") java.lang.String add@@ System@@ Permission@@ To@@ User@@ Title@@ ();
@org.junit.Test public void test@@ Get@@ Not@@ F@@ ound@@ () throw@@ s java.lang.Exception { set@@ U@@ ri@@ Info@@ (@@ setUp@@ Bas@@ ic@@ U@@ ri@@ Expectation@@ s()); setUp@@ Entity@@ Query@@ Expectations(@@ VdcQuery@@ Type.Get@@ All@@ Network@@ s, org.ovirt.engine.core.common.queries.@@ Get@@ All@@ Network@@ Query@@ Param@@ ent@@ ers@@ .@@ class@@ , new java.lang.String@@ []{ "@@ StoragePool@@ Id@@ " }, new java.lang.Object@@ []{ org.ovirt.engine.core.compat.Guid.@@ Em@@ p@@ ty }, new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ >@@ ()); cont@@ ro@@ l.@@ re@@ play@@ (); try { res@@ ourc@@ e.get@@ (); fail@@ ("@@ exp@@ ected W@@ eb@@ Ap@@ plication@@ Exception@@ "); } catch (@@ javax.ws.rs.@@ W@@ eb@@ Ap@@ plication@@ Exception w@@ a@@ e) { ve@@ r@@ if@@ y@@ Not@@ F@@ ound@@ Exception@@ (@@ w@@ a@@ e); } }
public java.lang.String get@@ Source@@ Network@@ Name@@ () { return (s@@ ourc@@ e.get@@ Custom@@ Properties@@ ()) != null ? s@@ ourc@@ e.get@@ Custom@@ Properties@@ ().get@@ ("@@ network@@ Name@@ ") : null@@ ; }
public java.lang.String can@@ Conn@@ ect@@ Reason@@ ();
public static java.lang.String res@@ ource@@ (@@ org.ovirt.engine.@@ sd@@ k.@@ gener@@ ator.@@ utils.@@ T@@ ree@@ <@@ org.ovirt.engine.@@ sd@@ k.@@ gener@@ ator.@@ r@@ sd@@ l.@@ Loc@@ ation@@ > entity@@ T@@ re@@ e) { org.ovirt.engine.@@ sd@@ k.@@ gener@@ ator.@@ r@@ sd@@ l.@@ templat@@ es.@@ Sub@@ Resource@@ Templ@@ ate templ@@ ate = new org.ovirt.engine.@@ sd@@ k.@@ gener@@ ator.@@ r@@ sd@@ l.@@ templat@@ es.@@ Sub@@ Resource@@ Template@@ (); templat@@ e.set@@ ("@@ entity@@ _@@ type@@ ", org.ovirt.engine.@@ sd@@ k.@@ gener@@ ator.@@ r@@ sd@@ l.@@ S@@ ch@@ em@@ a@@ R@@ ul@@ es@@ .get@@ S@@ ch@@ em@@ a@@ Type(@@ entity@@ T@@ ree@@ )); templat@@ e.set@@ ("@@ entity@@ _@@ type@@ ", org.ovirt.engine.@@ sd@@ k.@@ gener@@ ator.@@ r@@ sd@@ l.@@ Broker@@ R@@ ul@@ es@@ .get@@ Broker@@ Type(@@ entity@@ T@@ ree@@ )); return templat@@ e.@@ e@@ valu@@ ate@@ (); }
private static java.lang.@@ L@@ on@@ g As@@ s@@ ign@@ L@@ on@@ g@@ Value(@@ java.util.Map<java.lang.String, java.lang.Object> in@@ put@@ , java.lang.String name@@ ) { if (in@@ pu@@ t.@@ contains@@ Key@@ (@@ name@@ )) { if (((@@ in@@ pu@@ t.get@@ (@@ name@@ )) instanceof java.lang.@@ L@@ on@@ g@@ ) || ((@@ in@@ pu@@ t.get@@ (@@ name@@ )) instanceof java.lang.Integer@@ )) { return java.lang.@@ L@@ on@@ g.@@ par@@ se@@ L@@ on@@ g@@ (in@@ pu@@ t.get@@ (@@ name@@ ).@@ toString()); } java.lang.String st@@ ring@@ Value = ((@@ java.lang.String@@ ) (((@@ in@@ pu@@ t.get@@ (@@ name@@ )) instanceof java.lang.String@@ ) ? in@@ pu@@ t.get@@ (@@ name@@ ) : null@@ )); if (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ st@@ ring@@ Value@@ ))) { st@@ ring@@ Value = st@@ ring@@ Valu@@ e.@@ s@@ pl@@ it@@ ("@@ [@@ .@@ ]@@ ", (@@ -@@ 1@@ )@@ [@@ 0@@ ]@@ ; } try { return java.lang.@@ L@@ on@@ g.@@ par@@ se@@ L@@ on@@ g@@ (@@ st@@ ring@@ Value@@ ); } catch (java.lang.@@ Num@@ ber@@ Format@@ Exception e) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ log.error@@ Format@@ ("@@ Fail@@ ed to par@@ se {0@@ } valu@@ e {@@ 1@@ } to long@@ ", name@@ , st@@ ring@@ Value@@ ); } } return null@@ ; }
@org.junit.Test public void test@@ Validate@@ Fail@@ Read@@ Only@@ On@@ Interface@@ () { org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters parameter@@ s = org.ovirt.engine.core.bll.storage.disk.@@ Add@@ Disk@@ Command@@ Test.@@ create@@ Parameters@@ (); initial@@ ize@@ Command(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), parameters@@ ); mock@@ Vm@@ (); do@@ Return@@ (@@ true@@ ).when@@ (command@@ ).@@ is@@ Disk@@ P@@ ass@@ P@@ c@@ i@@ And@@ I@@ de@@ L@@ im@@ it@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ .@@ class@@ )); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ IN@@ TER@@ F@@ AC@@ E_@@ DO@@ E@@ S_NOT_@@ SUP@@ POR@@ T_@@ RE@@ AD@@ _@@ ON@@ L@@ Y_@@ AT@@ T@@ R@@ )).@@ when@@ (disk@@ Validator@@ ).@@ is@@ Read@@ Only@@ Property@@ C@@ ompati@@ bl@@ e@@ With@@ Interface@@ (); do@@ Return(@@ disk@@ Validator@@ ).when@@ (command@@ ).get@@ Disk@@ Validator@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ .@@ class@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Fail@@ ure(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ IN@@ TER@@ F@@ AC@@ E_@@ DO@@ E@@ S_NOT_@@ SUP@@ POR@@ T_@@ RE@@ AD@@ _@@ ON@@ L@@ Y_@@ AT@@ T@@ R@@ ); }
@java.lang.Override protected boolean validate@@ () { boolean ret@@ Value = true@@ ; if (@@ org.apache.commons.lang.StringUtils.@@ is@@ B@@ lan@@ k@@ (org.ovirt.engine.core.bll.@@ Add@@ Job@@ Command.getParameters().get@@ Description@@ ())) { add@@ Validation@@ Message@@ (EngineMessage.@@ ACTION_TYPE_@@ EM@@ P@@ TY@@ _@@ D@@ ES@@ C@@ R@@ I@@ P@@ TI@@ ON@@ ); ret@@ Value = false@@ ; } return ret@@ Value@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { init@@ VmTemplate@@ (); if ((org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.@@ is@@ Images@@ Al@@ read@@ y@@ On@@ T@@ arget@@ ()) && (!(@@ validate@@ Images@@ On@@ Storage@@ (vm@@ Template@@ From@@ Configuration@@ , ovf@@ Entity@@ Data@@ )@@ ))) { return false@@ ; } java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ s = new java.util.Array@@ List@@ (org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.getVm@@ Template@@ ().get@@ Disk@@ Template@@ Map@@ ().@@ valu@@ es@@ ()); org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ Images@@ (disk@@ s); org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.getVm@@ Template@@ ().set@@ Images@@ (disk@@ s); org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.getVm@@ Template@@ ().set@@ Images@@ (disk@@ s); org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.getVm@@ Template@@ ().set@@ Images@@ (disk@@ s); return super@@ .@@ canDoAction@@ (); }
@java.lang.Override public void on@@ Result@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { result.@@ put@@ (org.ovirt.engine.core.common.@@ AuditLog@@ Se@@ ver@@ ity@@ .@@ for@@ Value@@ (rs.get@@ In@@ t@@ (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Event@@ Dao@@ .S@@ E@@ V@@ ER@@ I@@ TY@@ )@@ ), r@@ s.get@@ In@@ t@@ (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Event@@ Dao@@ .@@ C@@ O@@ UN@@ T@@ )); }
@java.lang.Override public org.ovirt.engine.core.bll.@@ task@@ s@@ .@@ int@@ er@@ fac@@ es.@@ Command@@ Call@@ back get@@ Callback@@ () { return org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ Command.get@@ Parameters@@ ().is@@ Cinder@@ Disks@@ () ? new org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ Command@@ Callback@@ () : null@@ ; }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Templ@@ ate Version@@ , On@@ l@@ y the Version nam@@ e c@@ an b@@ e update@@ d@@ .@@ ") java.lang.String VM@@ C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ V@@ ER@@ SI@@ ON_@@ NAM@@ E@@ ();
@org.junit.Test public void test@@ Import@@ VM@@ From@@ Configuration@@ W@@ h@@ en@@ StorageDomain@@ Is@@ In@@ ac@@ tive@@ () { org.ovirt.engine.core.common.businessentities.Storage@@ Domain storage@@ Domain = create@@ StorageDomain@@ (); storageDomain@@ .set@@ Status(@@ StorageDomain@@ Status.@@ In@@ ac@@ tive@@ ); do@@ Return(@@ storageDomain@@ ).when@@ (cmd@@ ).get@@ StorageDomain@@ (); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Configur@@ e Host@@ ") java.lang.String config@@ ure@@ Host@@ Role@@ T@@ ree@@ ();
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { vm@@ s = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ ReturnValue@@ (); java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ Data@@ > vm@@ Data@@ List = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : ((@@ java.lang.@@ I@@ ter@@ able@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ >) (@@ value@@ ))) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ Data vm@@ Data = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ Data@@ (vm@@ ); if (vm@@ s.@@ contains(@@ vm@@ )) { vm@@ Data@@ .set@@ Exist@@ s@@ In@@ System@@ (@@ true@@ ); vm@@ Data@@ .get@@ Cl@@ one@@ ().set@@ Entity@@ (@@ true@@ ); vm@@ Data@@ .get@@ Cl@@ one@@ ().set@@ Change@@ Pro@@ h@@ i@@ b@@ ition@@ Reason@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Constant@@ s@@ ()@@ .@@ import@@ VM@@ That@@ Exist@@ s@@ In@@ System@@ M@@ ust@@ Cl@@ one@@ ()); vm@@ Data@@ .get@@ Cl@@ one@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); } else { vms.@@ add@@ (vm@@ ); } vm@@ Data@@ List.@@ add@@ (vm@@ Data@@ ); } org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ From@@ Export@@ Domain@@ Model@@ .@@ super@@ .set@@ Items(@@ vm@@ Data@@ List@@ ); do@@ Init@@ (@@ storageDomain@@ Id); }
@java.lang.Override protected java.util.Map<java.lang.String, java.lang.String> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { if (!(@@ org.apache.commons.lang.StringUtils.@@ is@@ B@@ lan@@ k@@ (get@@ Parameters().get@@ Vm().get@@ Name@@ ()))) { return java.util.Collections.@@ sing@@ leton@@ Map@@ (get@@ Parameters().get@@ Vm().get@@ Name(), Lock@@ ing@@ Group@@ .@@ VM_@@ NAM@@ E@@ .@@ name@@ ()); } return null@@ ; }
private void update@@ Brick@@ s@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity existing@@ Volume@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity f@@ et@@ ched@@ Volume@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ > f@@ et@@ ched@@ Brick@@ s = f@@ et@@ ched@@ Volum@@ e.get@@ Brick@@ s(); update@@ Existing@@ And@@ New@@ Brick@@ s(@@ existing@@ Volume@@ , f@@ et@@ ched@@ Brick@@ s); remove@@ Delet@@ ed@@ Brick@@ s(@@ existing@@ Volume@@ , f@@ et@@ ched@@ Brick@@ s); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Al@@ lo@@ w import@@ /@@ ex@@ por@@ t o@@ per@@ ation@@ s@@ ") java.lang.String al@@ low@@ Import@@ Export@@ Operation@@ s@@ Role@@ T@@ ree@@ T@@ ooltip@@ ();
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ RE@@ S@@ ET@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ O@@ P@@ TI@@ ON@@ ); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if (get@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ().getEntity@@ ()) { get@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ().set@@ Change@@ Pro@@ h@@ i@@ b@@ ition@@ Reason@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ port@@ M@@ i@@ rr@@ or@@ ing@@ Not@@ Changed@@ If@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()); get@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ().set@@ Entity@@ (@@ false@@ ); get@@ Network@@ Q@@ oS@@ ().set@@ Change@@ Pro@@ h@@ i@@ b@@ ition@@ Reason@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ network@@ Qos@@ Not@@ Changed@@ If@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()); get@@ Network@@ Q@@ oS@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ Network@@ Q@@ oS@@ ().set@@ SelectedItem@@ (@@ null@@ ); } else { get@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ().setIs@@ Change@@ able@@ (@@ true@@ ); get@@ Network@@ Q@@ oS@@ ().setIs@@ Change@@ able@@ (@@ true@@ ); } }
public void cancel@@ () { cancel@@ (); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ H@@ ard@@ w@@ are@@ Info@@ Async@@ VDS@@ Command.get@@ Broker@@ ().get@@ H@@ ard@@ w@@ are@@ Info@@ (@@ new Get@@ H@@ ard@@ w@@ are@@ Info@@ VDSCommand@@ Callback@@ ()); }
@java.lang.Override protected void af@@ ter@@ Execution@@ () { java.lang.String respon@@ se@@ ; try { respon@@ se = org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.get@@ Method@@ ().get@@ Respon@@ se@@ H@@ ead@@ er@@ ("@@ Result@@ "@@ ).get@@ Value@@ (); } catch (@@ java.lang.Exception e) { throw org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.@@ create@@ Network@@ Exception@@ (@@ e); } org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.@@ h@@ andle@@ Json@@ Respon@@ s@@ e(@@ respon@@ se@@ ); pro@@ cess@@ Respon@@ se@@ H@@ ead@@ er@@ Value(@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.get@@ Method@@ (), "@@ Content@@ -@@ L@@ ength@@ ", org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.getParameters().get@@ Size@@ ().@@ toString()); byte@@ [@@ ] result@@ ; try { result = org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.get@@ Method@@ ().get@@ Respon@@ se@@ B@@ od@@ y@@ (); } catch (@@ java.io.@@ I@@ O@@ Exception e) { log.debug@@ (@@ e); throw org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.@@ create@@ Network@@ Exception@@ (@@ e); } if ((@@ result.@@ l@@ ength@@ ) != (@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.getParameters().get@@ Size@@ ())) { throw@@ Vds@@ Error@@ Exception@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ ret@@ ri@@ ev@@ ing fail@@ ed@@ : re@@ ques@@ te@@ d %@@ s byte@@ s, r@@ ec@@ e@@ ive@@ d %@@ s byte@@ s ", result.@@ l@@ ength@@ , org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.getParameters().get@@ Size@@ ()), Vdc@@ Bll@@ Error@@ s.@@ RE@@ T@@ R@@ I@@ E@@ V@@ E_@@ FAIL@@ U@@ RE@@ ); } org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ ReturnValue@@ (@@ result@@ ); org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ R@@ et@@ ri@@ e@@ ve@@ Image@@ Data@@ VDS@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ el@@ l.@@ Contex@@ t contex@@ t@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der s@@ b@@ , java.lang.String id@@ ) { if (@@ volum@@ e == null@@ ) { return@@ ; } int up@@ Brick@@ s = 0@@ ; int do@@ wn@@ Brick@@ s = 0@@ ; for (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity b@@ r@@ ic@@ k : volum@@ e.get@@ Brick@@ s()) { if (@@ brick@@ .is@@ On@@ lin@@ e@@ ()) { up@@ Brick@@ s@@ +@@ +@@ ; } else { do@@ wn@@ Brick@@ s@@ +@@ +@@ ; } } com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource up@@ Image = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ el@@ l.@@ Volume@@ Brick@@ Status@@ C@@ el@@ l.@@ res@@ ourc@@ es.@@ up@@ Image@@ (); com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource do@@ wn@@ Image = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ el@@ l.@@ Volume@@ Brick@@ Status@@ C@@ el@@ l.@@ templat@@ es.@@ up@@ Image@@ (); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l up@@ Image@@ Ht@@ m@@ l = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Prot@@ ot@@ yp@@ e.c@@ reate@@ (@@ up@@ Image@@ ).get@@ H@@ T@@ M@@ L@@ ()); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l do@@ wn@@ Image@@ Ht@@ m@@ l = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Prot@@ ot@@ yp@@ e.c@@ reate@@ (@@ do@@ wn@@ Image@@ ).get@@ H@@ T@@ M@@ L@@ ()); s@@ b@@ .@@ append@@ (@@ ap@@ plication@@ Templ@@ at@@ es.@@ volume@@ Brick@@ Status@@ Template@@ (@@ up@@ Image@@ Ht@@ ml@@ , up@@ Brick@@ s, do@@ wn@@ Brick@@ s, id@@ )); }
@java.lang.Override protected boolean v@@ et@@ o@@ Remove@@ Widget@@ (@@ final org.ovirt.engine.core.common.utils.Pair@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Instance@@ Image@@ Lin@@ e@@ Model@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ instance@@ im@@ ages.@@ Instance@@ Image@@ Lin@@ e@@ Editor@@ > item@@ , final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Instance@@ Image@@ Lin@@ e@@ Model value@@ , final org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ instance@@ im@@ ages.@@ Instance@@ Image@@ Lin@@ e@@ Edit@@ or w@@ idget@@ ) { model.@@ ap@@ pro@@ ve@@ Remove@@ Disk@@ (@@ item@@ .get@@ F@@ ir@@ st@@ (), new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Instance@@ Images@@ Model.@@ Remove@@ Ap@@ pro@@ v@@ ed@@ Callback@@ () { @java.lang.Override public void remove@@ Ap@@ pro@@ v@@ ed@@ (@@ boolean ap@@ pro@@ v@@ ed@@ ) { if (@@ ap@@ pro@@ v@@ ed@@ ) { do@@ Remove@@ Item@@ (@@ item@@ , value@@ , w@@ idget@@ ); } } }); return false@@ ; }
@java.lang.Override protected org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ Row@@ Map@@ per@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s> create@@ Entity@@ Row@@ Map@@ per@@ () { return new org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ Row@@ Map@@ per@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s@@ >() { @java.lang.Override public org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s map@@ Row@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s enti@@ ty = new org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s(); entity.set@@ cpu@@ _@@ s@@ y@@ s(@@ r@@ s.get@@ Do@@ ubl@@ e@@ ("@@ cpu@@ _@@ s@@ y@@ s@@ ")); entity.set@@ cpu@@ _@@ user@@ (rs.get@@ Do@@ ubl@@ e@@ ("@@ cpu@@ _@@ user@@ ")); entity.set@@ el@@ ap@@ s@@ ed@@ _@@ tim@@ e(@@ r@@ s.get@@ Do@@ ubl@@ e@@ ("@@ el@@ ap@@ s@@ ed@@ _@@ time@@ ")); entity.set@@ us@@ age@@ _@@ cpu@@ _@@ per@@ c@@ ent@@ (((@@ java.lang.Integer@@ ) (rs.get@@ Object@@ ("@@ us@@ age@@ _@@ cpu@@ _@@ per@@ c@@ ent@@ "@@ )@@ ))); entity.set@@ us@@ age@@ _@@ mem@@ _@@ per@@ c@@ ent@@ (((@@ java.lang.Integer@@ ) (rs.get@@ Object@@ ("@@ us@@ age@@ _@@ mem@@ _@@ per@@ c@@ ent@@ "@@ )@@ ))); entity.set@@ Migration@@ Progress@@ Per@@ c@@ ent@@ (rs.get@@ In@@ t@@ ("@@ m@@ igr@@ ation@@ _@@ pro@@ gress@@ _@@ per@@ c@@ ent@@ ")); entity.set@@ us@@ age@@ _@@ network@@ _@@ per@@ c@@ ent@@ (((@@ java.lang.Integer@@ ) (rs.get@@ Object@@ ("@@ us@@ age@@ _@@ network@@ _@@ per@@ c@@ ent@@ "@@ )@@ ))); entity.set@@ Disks@@ Us@@ age@@ (((@@ java.lang.String@@ ) (rs.get@@ Object@@ ("@@ disk@@ s@@ _@@ us@@ age@@ "@@ )@@ ))); entity.set@@ Memory@@ Us@@ age@@ H@@ ist@@ ory@@ (((@@ java.lang.String@@ ) (rs.get@@ Object@@ ("@@ memory@@ _@@ us@@ age@@ _@@ h@@ ist@@ ory@@ "@@ )@@ ))); entity.set@@ Cpu@@ Us@@ age@@ H@@ ist@@ ory@@ (((@@ java.lang.String@@ ) (rs.get@@ Object@@ ("@@ cpu@@ _@@ us@@ age@@ _@@ h@@ ist@@ ory@@ "@@ )@@ ))); entity.set@@ Network@@ Us@@ age@@ H@@ ist@@ ory@@ (((@@ java.lang.String@@ ) (rs.get@@ Object@@ ("@@ network@@ _@@ us@@ age@@ _@@ h@@ ist@@ ory@@ "@@ )@@ ))); entity.set@@ Id@@ (get@@ Guid@@ Default@@ Empty@@ (r@@ s, "@@ vm@@ _@@ g@@ uid@@ ")); return entity@@ ; } }; }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.Vm@@ Pool map@@ Row@@ (@@ final java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, final int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { final org.ovirt.engine.core.common.businessentities.Vm@@ Pool enti@@ ty = new org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ (); entity.set@@ Vm@@ Pool@@ Description@@ (rs.get@@ String("@@ vm@@ _@@ pool@@ _@@ d@@ escription@@ ")); entity.set@@ Vm@@ Pool@@ Id@@ (get@@ Guid@@ Default@@ Empty@@ (r@@ s, "@@ vm@@ _@@ pool@@ _id@@ ")); entity.set@@ Comm@@ ent@@ (rs.get@@ String("@@ vm@@ _@@ pool@@ _@@ c@@ omm@@ ent@@ ")); entity.set@@ Name@@ (rs.get@@ String("@@ vm@@ _@@ pool@@ _@@ name@@ ")); entity.set@@ Vm@@ Pool@@ Type(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ Type@@ .@@ for@@ Value@@ (rs.get@@ In@@ t@@ ("@@ vm@@ _@@ pool@@ _@@ type@@ "@@ ))); entity.set@@ State@@ f@@ ul@@ (rs.get@@ Boolean@@ ("@@ st@@ ate@@ f@@ ul@@ ")); entity.set@@ Parameters@@ (rs.get@@ String("@@ parameters@@ ")); entity.set@@ Pres@@ t@@ ar@@ ted@@ Vm@@ s(@@ r@@ s.get@@ In@@ t@@ ("@@ p@@ res@@ t@@ ar@@ ted@@ _@@ vm@@ s@@ ")); entity.set@@ Cluster@@ Id@@ (get@@ Guid@@ Default@@ Empty@@ (r@@ s, "@@ cluster@@ _id@@ ")); entity.set@@ Cluster@@ Name@@ (rs.get@@ String("@@ cluster@@ _@@ name@@ ")); entity.set@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Count@@ (rs.get@@ In@@ t@@ ("@@ ass@@ ig@@ ne@@ d@@ _@@ vm@@ _@@ c@@ ount@@ ")); entity.set@@ Run@@ ning@@ Vms@@ Count@@ (rs.get@@ In@@ t@@ ("@@ vm@@ _@@ run@@ ning@@ _@@ c@@ ount@@ ")); entity.set@@ Max@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Per@@ User@@ (rs.get@@ In@@ t@@ ("@@ ma@@ x@@ _@@ ass@@ ig@@ ne@@ d@@ _@@ vm@@ s@@ _@@ per@@ _@@ user@@ ")); entity.set@@ Sp@@ ice@@ Proxy@@ (rs.get@@ String("@@ sp@@ ice@@ _@@ pro@@ xy@@ ")); entity.set@@ Be@@ ing@@ Dest@@ ro@@ y@@ ed@@ (rs.get@@ Boolean@@ ("@@ is@@ _@@ b@@ e@@ ing@@ _@@ d@@ est@@ ro@@ y@@ ed@@ ")); entity.set@@ Au@@ to@@ Storage@@ Sel@@ ect@@ (rs.get@@ Boolean@@ ("@@ au@@ to@@ _@@ storage_@@ s@@ el@@ ect@@ ")); return entity@@ ; }
@java.lang.Override public void onSuccess@@ (@@ final org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Vdc@@ Operation@@ <@@ org.ovirt.engine.core.common.queries.VdcQuery@@ Type, org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base@@ > o@@ per@@ ation@@ , final org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue result) { try { if (!(@@ result.get@@ Succeeded@@ ())) { org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ log@@ g@@ er.@@ log@@ (java.util.@@ log@@ gin@@ g.@@ Le@@ ve@@ l.@@ W@@ AR@@ N@@ ING@@ , ((@@ "@@ Fail@@ ur@@ e while in@@ vo@@ k@@ ing run@@ Query [@@ " + (@@ result.get@@ Exception@@ String@@ ())) + "@@ ]@@ ")); if ((get@@ Event@@ sHandler@@ ()) != null@@ ) { java.util.ArrayList<@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ > fail@@ ed@@ Result = new java.util.ArrayList<@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ >(); fail@@ ed@@ Res@@ ult.@@ add(@@ result@@ ); java.lang.String error@@ Mess@@ age = result.get@@ Exception@@ String@@ (); h@@ andle@@ Not@@ Log@@ ged@@ In@@ Event@@ (@@ error@@ Message@@ ); } if (c@@ all@@ back@@ .is@@ H@@ andle@@ Fail@@ ure@@ ()) { call@@ back@@ .get@@ Del@@ ().@@ onSuccess@@ (c@@ all@@ back@@ .get@@ Model@@ (), result@@ ); } } else { call@@ back@@ .set@@ O@@ ri@@ gin@@ al@@ ReturnValue@@ (@@ result@@ ); if ((@@ call@@ back@@ .get@@ Conver@@ ter@@ ()) != null@@ ) { call@@ back@@ .get@@ Del@@ ().@@ onSuccess@@ (c@@ all@@ back@@ .get@@ Model@@ (), call@@ back@@ .get@@ Conver@@ ter@@ ().@@ Conver@@ t@@ (@@ result.get@@ ReturnValue@@ (), call@@ back@@ )); } else { call@@ back@@ .get@@ Del@@ ().@@ onSuccess@@ (c@@ all@@ back@@ .get@@ Model@@ (), result@@ ); } } final@@ l@@ y { fi@@ re@@ Async@@ Operation@@ Comp@@ let@@ e@@ Event@@ (c@@ all@@ back@@ .get@@ Model@@ ()); } }
@org.junit.Test public void test@@ S@@ ave@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network@@ _@@ cluster@@ > c@@ lust@@ ers@@ From@@ D@@ B = db@@ Fac@@ ade.get@@ Network@@ Cluster@@ DAO@@ ().get@@ AllFor@@ Cluster@@ (cluster@@ ); org.ovirt.engine.core.common.businessentities.@@ network@@ _@@ c@@ luster cluster@@ From@@ D@@ B = c@@ lust@@ ers@@ From@@ D@@ B@@ .get(@@ 0@@ ); assert@@ Not@@ Null@@ (cluster@@ From@@ D@@ B@@ ); new@@ _@@ net@@ .set@@ Cluster@@ (cluster@@ From@@ D@@ B@@ ); new@@ _@@ net@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); d@@ ao.@@ save@@ (@@ new@@ _@@ net@@ ); org.ovirt.engine.core.common.businessentities.@@ Network result = d@@ ao@@ .get@@ By@@ Name@@ (@@ new@@ _@@ net@@ .get@@ name@@ ()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ Equals@@ (@@ new@@ _@@ net@@ , result@@ ); }
private boolean are@@ Disks@@ Lock@@ ed(@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base v@@ dc@@ ReturnValue@@ ) { return v@@ dc@@ Return@@ Value.get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ DIS@@ K@@ S_@@ LO@@ C@@ K@@ ED@@ .@@ name@@ ()); }
@org.junit.Test public void can@@ AddVm@@ With@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ er@@ Not@@ Supported@@ O@@ s() { org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.bll.@@ AddVm@@ Command@@ Test.@@ create@@ Vm@@ (); org.ovirt.engine.core.bll.@@ AddVm@@ From@@ Template@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ AddVm@@ Parameters@@ > c@@ m@@ d = create@@ Vm@@ From@@ Template@@ Command@@ (vm@@ ); org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group vds@@ Group = create@@ VdsGroup@@ (); mock@@ StorageDomain@@ Dao@@ Get@@ For@@ StoragePool@@ (); mock@@ VmTemplate@@ Dao@@ Return@@ VmTemplate@@ (); mock@@ DiskImage@@ Dao@@ Get@@ Snapshot@@ By@@ Id@@ (); org.ovirt.engine.core.bll.@@ AddVm@@ Command@@ Test.@@ mock@@ V@@ er@@ if@@ y@@ Add@@ VM@@ (cmd@@ ); mock@@ Config@@ (); mock@@ Max@@ P@@ c@@ i@@ S@@ l@@ ot@@ s(); mock@@ StorageDomain@@ Dao@@ Get@@ All@@ Stor@@ ages@@ For@@ Pool@@ (@@ 2@@ 0@@ ); mock@@ U@@ n@@ int@@ er@@ est@@ ing@@ M@@ eth@@ o@@ ds@@ (cmd@@ ); mock@@ Display@@ Typ@@ es@@ (vm.get@@ Os@@ (), vds@@ Group@@ .get@@ CompatibilityVersion@@ ()); mock@@ Graphics@@ Devices@@ (vm.get@@ Id()); do@@ Return@@ (@@ true@@ ).when@@ (cmd@@ ).@@ check@@ Cpu@@ S@@ ock@@ et@@ s(); do@@ Return(@@ vds@@ Group@@ ).when@@ (cmd@@ ).get@@ VdsGroup@@ (); do@@ Return@@ (c@@ reate@@ StoragePool@@ ()).@@ when@@ (cmd@@ ).get@@ StoragePool@@ (); cmd@@ .get@@ Parameters@@ ().set@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ (@@ true@@ ); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ Ar@@ ch@@ it@@ ect@@ ure@@ From@@ O@@ S@@ (@@ any@@ (@@ java.lang.Integer@@ .@@ class@@ )@@ )).@@ thenReturn(@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ x@@ 8@@ 6@@ _@@ 6@@ 4@@ ); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ Disk@@ Interfac@@ es(@@ any@@ (@@ java.lang.Integer@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ new java.util.Array@@ List(@@ java.util.Arrays.as@@ List@@ ("@@ Vir@@ t@@ I@@ O@@ "@@ ))); mock@@ Get@@ AllSnapshots@@ (cmd@@ ); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ cmd@@ , EngineMessage.ACTION_TYPE_FAILED_@@ IL@@ LE@@ G@@ AL@@ _@@ O@@ S_@@ TYPE_@@ DO@@ E@@ S_NOT_@@ SUP@@ POR@@ T_@@ V@@ I@@ R@@ TI@@ O@@ _S@@ C@@ SI@@ ); }
@java.lang.Override public java.lang.String toString@@ () { return java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s, am@@ ount@@ Of@@ Memory@@ =@@ %@@ s", super@@ .@@ toString@@ (), get@@ A@@ m@@ ount@@ Of@@ Memory@@ ()); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Stor@@ age conn@@ ec@@ tion parameter@@ s ar@@ e re@@ l@@ ate@@ d to the f@@ ol@@ low@@ ing stor@@ age do@@ m@@ ain@@ s : $@@ {@@ do@@ m@@ ain@@ Names@@ }@@ .@@ ") java.lang.String ACTION_TYPE_FAILED_@@ STORAGE_@@ C@@ ON@@ N@@ EC@@ TION_@@ B@@ E@@ L@@ ON@@ G@@ S_@@ TO@@ _S@@ E@@ V@@ ER@@ AL@@ _@@ STORAGE_@@ DOMA@@ IN@@ S@@ ();
public void set@@ Network@@ Us@@ age@@ H@@ ist@@ ory@@ (@@ java.util.List<@@ java.lang.Integer@@ > network@@ Us@@ age@@ H@@ ist@@ ory@@ ) { this@@ .@@ vm@@ Statistic@@ s.set@@ Network@@ Us@@ age@@ H@@ ist@@ ory@@ (network@@ Us@@ age@@ H@@ ist@@ ory@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ New@@ Network@@ Item@@ ();
protected boolean validate@@ Disk@@ Interfac@@ e(@@ java.lang.@@ I@@ ter@@ able@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ > im@@ ages@@ ) { for (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image : im@@ ages@@ ) { if (((@@ disk@@ Image.get@@ Disk@@ Interface@@ ()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _S@@ C@@ SI@@ )) && (!(@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ vi@@ r@@ t@@ I@@ oS@@ csi@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ Command.get@@ E@@ ff@@ ec@@ tive@@ CompatibilityVersion@@ ())@@ ))) { return fail@@ Validation@@ (EngineMessage.@@ V@@ I@@ R@@ TI@@ O@@ _S@@ C@@ SI@@ _@@ IN@@ TER@@ F@@ AC@@ E_@@ I@@ S_NOT_@@ A@@ V@@ A@@ IL@@ AB@@ L@@ E_@@ F@@ OR@@ _C@@ LUSTER_@@ LE@@ V@@ E@@ L@@ ); } } return true@@ ; }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ disk@@ Hot@@ plug@@ g@@ able@@ Interfaces@@ Map = ((@@ java.util.Map<@@ org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.Integer@@ , org.ovirt.engine.core.compat.@@ Version@@ >@@ , java.util.ArrayList<@@ java.lang.String@@ >@@ >) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ ReturnValue@@ ())); }
private void pre@@ par@@ e@@ Message@@ Su@@ bject@@ (java.lang.String host@@ Name, org.ovirt.engine.core.common.businessentities.@@ AuditLog@@ Event event@@ ) { s@@ u@@ bj@@ ect = org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ s@@ end@@ er.@@ ma@@ i@@ l.@@ Message@@ Helper.@@ pre@@ par@@ e@@ Message@@ Su@@ bject@@ (@@ ev@@ ent.get@@ Type@@ (), host@@ Name, ev@@ ent.get@@ Message@@ ()); }
@java.lang.Override protected void execute@@ Command() { boolean s@@ uc@@ c@@ es@@ s = true@@ ; if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.getParameters().get@@ Vds@@ Id@@ ()))) { org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.Boolean@@ , java.lang.Integer@@ > result = org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.@@ conn@@ ect@@ Host@@ To@@ Storage@@ (); boolean is@@ Valid@@ Conn@@ ec@@ tion = result.get@@ F@@ ir@@ st@@ (); if (!@@ is@@ Valid@@ Connection@@ ) { throw new org.ovirt.engine.core.common.errors.@@ Vdc@@ B@@ L@@ L@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s@@ .@@ for@@ Value(@@ result.get@@ Sec@@ ond@@ ())); } } if (s@@ uc@@ cess@@ ) { org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s conn@@ ec@@ tion = org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.get@@ Connection@@ (); connection@@ .set@@ id@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ().@@ toString()); save@@ Connection@@ (@@ connection@@ ); org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.get@@ ReturnValue@@ ().set@@ Action@@ ReturnValue@@ (@@ connection@@ .get@@ id@@ ()); } org.ovirt.engine.core.bll.storage.@@ Add@@ StorageServerConnection@@ Command.set@@ Succeeded@@ (s@@ uc@@ cess@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ In@@ cor@@ r@@ ect brick@@ s s@@ el@@ ected for rem@@ o@@ va@@ l in D@@ ist@@ ri@@ bu@@ te@@ d St@@ ri@@ p@@ e volume@@ . <@@ b@@ r@@ /@@ > Sel@@ ected brick@@ s shoul@@ d b@@ e f@@ ro@@ m the s@@ am@@ e s@@ u@@ b volume@@ !@@ ") java.lang.String can@@ not@@ Remove@@ Brick@@ s@@ D@@ ist@@ ri@@ bu@@ ted@@ St@@ ri@@ p@@ e@@ Volume@@ ();
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Vir@@ tu@@ al M@@ ach@@ in@@ es@@ ") java.lang.String run@@ ning@@ Vms@@ ();
protected void on@@ Ad@@ Group@@ s@@ Lo@@ a@@ ded@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ s.@@ Ad@@ Element@@ List@@ Model ad@@ Element@@ ListModel@@ ) { get@@ Search@@ In@@ Progress@@ ().set@@ Entity@@ (@@ false@@ ); java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ User@@ >> item@@ s = new java.util.ArrayList<>(); item@@ s.@@ add@@ All@@ (get@@ group@@ s()); ad@@ Element@@ List@@ Model.get@@ Sel@@ ect@@ All@@ ().set@@ Entity@@ (@@ false@@ ); ad@@ Element@@ List@@ Model.set@@ Items(@@ item@@ s); set@@ Is@@ Empty@@ (@@ item@@ s.@@ isEmpty@@ ()); }
@org.junit.Test public void test@@ Nic@@ Exist@@ s@@ W@@ h@@ en@@ Nic@@ Name@@ Is@@ Not@@ Null@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent attach@@ m@@ ent = new org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ (); attach@@ m@@ ent.@@ set@@ Nic@@ Id@@ (@@ null@@ ); attach@@ m@@ ent.@@ set@@ Nic@@ Name@@ ("@@ wh@@ ate@@ ver@@ "); assert@@ That@@ (@@ new org.ovirt.engine.core.bll.validator.@@ NetworkAttachment@@ Validator@@ (@@ attach@@ ment@@ , new org.ovirt.engine.core.common.businessentities.@@ VDS@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ ()); }
private java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> get@@ Images@@ To@@ Remove@@ () { java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> rem@@ oved@@ Image@@ s = new java.util.Hash@@ Set<@@ >(); org.ovirt.engine.core.common.businessentities.@@ DiskImage c@@ ur@@ r = org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.get@@ Dest@@ ination@@ DiskImage@@ (); rem@@ oved@@ Im@@ ages.@@ add@@ (c@@ urr@@ .get@@ Image@@ Id()); while (!@@ (c@@ urr@@ .get@@ Parent@@ Id().@@ equals@@ (org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.get@@ DiskImage@@ ().get@@ Parent@@ Id@@ ()))) { c@@ ur@@ r = org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Command.get@@ DiskImage@@ Dao().get@@ Snapshot@@ By@@ Id@@ (c@@ urr@@ .get@@ Parent@@ Id()); rem@@ oved@@ Im@@ ages.@@ add@@ (c@@ urr@@ .get@@ Image@@ Id()); } return rem@@ oved@@ Images@@ ; }
@java.lang.Override public void dataCenter@@ With@@ Cluster@@ SelectedItem@@ Changed@@ () { super@@ .@@ dataCenter@@ With@@ Cluster@@ SelectedItem@@ Changed@@ (); if ((get@@ Model().get@@ Selected@@ Cluster@@ ()) != null@@ ) { update@@ Cpu@@ Profil@@ e(@@ getModel().get@@ Selected@@ Cluster@@ ().get@@ Id(), get@@ CompatibilityVersion@@ (), vm.get@@ Cpu@@ Profile@@ Id()); } }
private <@@ T extends org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ <@@ org.ovirt.engine.core.compat.Guid> & org.ovirt.engine.core.common.businessentities.@@ Name@@ able@@ > boolean name@@ And@@ Id@@ Is@@ In@@ c@@ o@@ h@@ er@@ ent@@ (org.ovirt.engine.core.compat.Guid nic@@ Id, java.lang.String nic@@ Name, org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Map<@@ T@@ > map@@ ) { T int@@ er@@ fac@@ e@@ By@@ Id = map@@ .get(@@ nic@@ Id); T int@@ er@@ fac@@ e@@ By@@ Name = map@@ .get(@@ nic@@ Name); return !@@ (java.util.@@ Object@@ s.@@ equals@@ (@@ int@@ er@@ fac@@ e@@ By@@ Id, int@@ er@@ fac@@ e@@ By@@ Name@@ )); }
private void update@@ Properties@@ () { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group vds@@ Group = get@@ Entity@@ (); set@@ Name(@@ vds@@ Group@@ .get@@ name@@ ()); set@@ Description@@ (vds@@ Group@@ .get@@ d@@ escription@@ ()); set@@ Cpu@@ Name(@@ vds@@ Group@@ .get@@ cpu@@ _@@ name@@ ()); set@@ DataCenter@@ Name(@@ vds@@ Group@@ .get@@ StoragePool@@ Name()); set@@ Memory@@ O@@ ver@@ Comm@@ it@@ (vds@@ Group@@ .get@@ ma@@ x@@ _@@ vds@@ _@@ memory@@ _@@ o@@ ver@@ _@@ c@@ omm@@ it@@ ()); set@@ Cluster@@ Policy@@ (vds@@ Group@@ .get@@ s@@ el@@ ection@@ _@@ al@@ g@@ or@@ ith@@ m@@ ()); set@@ Res@@ il@@ i@@ ence@@ Policy@@ (vds@@ Group@@ .get@@ Migrate@@ On@@ Error@@ ()); }
public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ File@@ Stat@@ s@@ ReturnForXmlR@@ p@@ c get@@ F@@ lo@@ p@@ p@@ y@@ List@@ (java.lang.String sp@@ UUID@@ ) { java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ ReturnValue = ir@@ s@@ Server@@ .get@@ F@@ lo@@ p@@ p@@ y@@ List@@ (s@@ p@@ UUID@@ ); org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ File@@ Stat@@ s@@ ReturnForXmlR@@ p@@ c wr@@ app@@ er = new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ File@@ Stat@@ s@@ ReturnForXmlR@@ pc@@ (@@ x@@ mlR@@ pc@@ ReturnValue@@ ); return w@@ rap@@ per@@ ; }
@org.junit.Test public void test@@ Get@@ By@@ Name@@ Filter@@ ed@@ With@@ Permission@@ s() { org.ovirt.engine.core.common.businessentities.VM result = d@@ ao@@ .get@@ By@@ Name(@@ existing@@ Vm@@ .get@@ Name(), org.ovirt.engine.core.dao.@@ P@@ R@@ I@@ V@@ IL@@ E@@ G@@ ED_@@ US@@ ER_@@ ID@@ , true@@ ); assert@@ Get@@ Result@@ (@@ result@@ ); }
private void host@@ _@@ SelectedItem@@ Changed@@ () { org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t = get@@ Host@@ ().getSelectedItem@@ (); if ((get@@ C@@ urrent@@ Storage@@ Item@@ ()) != null@@ ) { if ((get@@ C@@ urrent@@ Storage@@ Item@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Base@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Base s@@ an@@ Storage@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Base@@ ) (get@@ C@@ urrent@@ Storage@@ Item@@ ())); if ((get@@ Storage@@ ()) == null@@ ) { s@@ an@@ Storage@@ Model.set@@ Item@@ s@@ (@@ null@@ ); } } if (@@ hos@@ t != null@@ ) { get@@ C@@ urrent@@ Item@@ ().get@@ Update@@ Command@@ ().execute@@ (); java.lang.String pre@@ fi@@ x = (@@ host.@@ is@@ O@@ vi@@ r@@ t@@ Node@@ ()) ? local@@ FS@@ P@@ at@@ h : "@@ "; if (!(@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (@@ pre@@ fi@@ x@@ ))) { for (java.lang.Object i@@ te@@ m : get@@ Item@@ s()) { if (@@ i@@ te@@ m instanceof org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Local@@ Storage@@ Model) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Local@@ Storage@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Local@@ Storage@@ Model) (@@ item@@ )); model.get@@ Path@@ ().set@@ Entity(@@ pre@@ fi@@ x@@ ); model.get@@ Path@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); } } } } }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ New@@ ") java.lang.String new@@ Volume@@ ();
@java.lang.Override public org.@@ j@@ b@@ os@@ s.@@ res@@ te@@ as@@ y@@ .@@ core.@@ Server@@ Respon@@ se pre@@ Pro@@ cess@@ (@@ org.@@ j@@ b@@ os@@ s.@@ res@@ te@@ as@@ y@@ .@@ sp@@ i@@ .@@ Http@@ Re@@ quest request@@ , org.@@ j@@ b@@ os@@ s.@@ res@@ te@@ as@@ y@@ .@@ core.@@ Resource@@ M@@ eth@@ o@@ d m@@ ethod@@ ) throw@@ s javax.ws.rs.@@ W@@ eb@@ Ap@@ plication@@ Exception@@ , org.@@ j@@ b@@ os@@ s.@@ res@@ te@@ as@@ y@@ .@@ sp@@ i@@ .@@ Fail@@ ur@@ e { org.@@ j@@ b@@ os@@ s.@@ res@@ te@@ as@@ y@@ .@@ core.@@ Server@@ Respon@@ se respon@@ se = null@@ ; boolean s@@ uc@@ cess@@ f@@ u@@ l = false@@ ; javax.ws.rs.@@ core.@@ Http@@ H@@ ead@@ er@@ s h@@ ead@@ er@@ s = re@@ ques@@ t.get@@ Http@@ H@@ ead@@ ers@@ (); boolean pre@@ fer@@ P@@ ers@@ ist@@ ent@@ Au@@ t@@ h = check@@ P@@ ers@@ ist@@ ent@@ Auth@@ entic@@ ation@@ (@@ h@@ ead@@ ers@@ ); java.util.List<java.lang.String> request@@ H@@ ead@@ er@@ s = h@@ ead@@ ers@@ .get@@ Request@@ H@@ ead@@ er@@ (@@ Http@@ H@@ ead@@ er@@ s.@@ A@@ U@@ TH@@ OR@@ I@@ Z@@ A@@ TI@@ ON@@ ); javax.@@ servlet@@ .@@ http@@ .@@ Http@@ S@@ ess@@ ion http@@ S@@ ess@@ ion = get@@ C@@ urrent@@ Session@@ (@@ true@@ ); if (((@@ valid@@ ator@@ ) != null@@ ) && (@@ http@@ S@@ ess@@ ion != null@@ )) && (!(@@ http@@ Session@@ .is@@ New@@ ()))) && (!@@ ((@@ request@@ H@@ ead@@ er@@ s != null@@ ) && (!(@@ request@@ H@@ ead@@ er@@ s.@@ isEmpty@@ ())@@ )@@ ))) { s@@ uc@@ cess@@ f@@ u@@ l = execute@@ Session@@ Validation@@ (@@ http@@ Session@@ , pre@@ fer@@ P@@ ers@@ ist@@ ent@@ Auth@@ ); } else { if ((((@@ valid@@ ator@@ ) != null@@ ) && (@@ http@@ S@@ ess@@ ion != null@@ )) && (!(@@ http@@ Session@@ .is@@ New@@ ()))) { http@@ Session@@ .@@ in@@ validate@@ (); http@@ S@@ ess@@ ion = get@@ C@@ urrent@@ Session@@ (@@ true@@ ); } s@@ uc@@ cess@@ f@@ u@@ l = execute@@ Bas@@ ic@@ Auth@@ entic@@ ation@@ (@@ h@@ ead@@ ers@@ , http@@ Session@@ , pre@@ fer@@ P@@ ers@@ ist@@ ent@@ Auth@@ ); } if (!@@ s@@ uc@@ cess@@ f@@ ul@@ ) { respon@@ se = ch@@ all@@ en@@ ge@@ (); if (@@ http@@ S@@ ess@@ ion != null@@ ) { http@@ Session@@ .@@ in@@ validate@@ (); } } return respon@@ se@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ P@@ ow@@ er Manage@@ m@@ ent Configuration@@ ") java.lang.String p@@ ow@@ er@@ Management@@ Configuration@@ Title@@ ();
@org.junit.Test public void test@@ Not@@ Rem@@ ov@@ ing@@ Management@@ Network@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.bll.validator.@@ NetworkAttachment@@ Validator network@@ Attachment@@ Validator@@ Sp@@ y = org.@@ mock@@ it@@ o.@@ Mock@@ it@@ o.@@ sp@@ y@@ (@@ new org.ovirt.engine.core.bll.validator.@@ NetworkAttachment@@ Validator@@ (@@ new org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ ())); org.ovirt.engine.core.bll.validator.@@ Network@@ Validator network@@ Validator@@ Sp@@ y = org.@@ mock@@ it@@ o.@@ Mock@@ it@@ o.@@ sp@@ y@@ (@@ new org.ovirt.engine.core.bll.validator.@@ Network@@ Validator@@ (@@ new org.ovirt.engine.core.common.businessentities.network.Network@@ ())); do@@ Return(@@ network@@ Validator@@ Sp@@ y@@ ).@@ when(@@ network@@ Attachment@@ Validator@@ Sp@@ y@@ ).@@ create@@ Network@@ Validator@@ (); org.ovirt.engine.core.bll.ValidationResult pro@@ p@@ ag@@ ated@@ Result = new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ VdcBllMessages.@@ NETWORK_@@ C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWOR@@ K@@ , "@@ a@@ "); do@@ Return(@@ pro@@ p@@ ag@@ ated@@ Result@@ ).@@ when(@@ network@@ Validator@@ Sp@@ y@@ ).@@ not@@ Rem@@ ov@@ ing@@ Management@@ Network@@ (); assert@@ That@@ ("@@ ValidationRes@@ ult is not cor@@ r@@ ect@@ l@@ y pro@@ p@@ ag@@ ated@@ ", network@@ Attachment@@ Validator@@ Sp@@ y@@ .@@ not@@ Rem@@ ov@@ ing@@ Management@@ Network@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (VdcBllMessages.@@ NETWORK_@@ C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWOR@@ K@@ , "@@ a@@ ")); }
public org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.core.common.@@ schedul@@ ing@@ .@@ enum@@ s.@@ Af@@ finity@@ E@@ n@@ for@@ ce@@ ment@@ Type@@ > get@@ E@@ n@@ for@@ ce@@ ment@@ Type@@ () { return e@@ n@@ for@@ ce@@ ment@@ Type@@ ; }
@java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Q@@ o@@ S object@@ ) { return (@@ objec@@ t.get@@ Out@@ b@@ ound@@ P@@ e@@ a@@ k@@ ()) == null ? const@@ an@@ t@@ s.@@ Un@@ l@@ im@@ i@@ ted@@ Network@@ Q@@ oS@@ () : objec@@ t.get@@ Out@@ b@@ ound@@ P@@ e@@ a@@ k@@ ().@@ toString@@ (); }
private boolean Execu@@ te@@ With@@ out@@ Transaction@@ () { boolean f@@ un@@ c@@ tion@@ ReturnValue = false@@ ; boolean ex@@ ce@@ ption@@ O@@ c@@ c@@ ur@@ re@@ d = true@@ ; try { log@@ Run@@ ning@@ Command@@ (); get@@ C@@ urrent@@ Task@@ Handler@@ ().@@ b@@ e@@ for@@ e@@ Task@@ (); f@@ un@@ c@@ tion@@ ReturnValue = get@@ Succeeded@@ (); ex@@ ce@@ ption@@ O@@ c@@ c@@ ur@@ re@@ d = false@@ ; } catch (@@ org.ovirt.engine.core.dal.dbbroker.@@ gener@@ ic@@ .@@ Rep@@ os@@ it@@ ory@@ Exception e) { log.error@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ C@@ ommand %@@ 1@@ $@@ s throw Data@@ b@@ ase ex@@ ce@@ ption@@ ", get@@ Class@@ ().get@@ Name@@ ()), e); Pro@@ cess@@ Exception@@ To@@ Client@@ (@@ new org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult@@ (@@ e@@ , org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ D@@ B@@ )); } catch (org.ovirt.engine.core.common.errors.@@ Vdc@@ B@@ L@@ L@@ Exception e) { log.error@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ C@@ ommand %@@ 1@@ $@@ s throw V@@ d@@ c B@@ l@@ l ex@@ ce@@ ption@@ . W@@ it@@ h er@@ ro@@ r mess@@ age %@@ 2@@ $@@ s", get@@ Class@@ ().get@@ Name(), e.get@@ Message@@ ())); if (@@ log.@@ is@@ D@@ eb@@ u@@ g@@ Enabled@@ ()) { log.debug@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ C@@ ommand %@@ 1@@ $@@ s throw V@@ d@@ c B@@ l@@ l ex@@ ce@@ ption@@ ", get@@ Class@@ ().get@@ Name@@ ()), e); } Pro@@ cess@@ Exception@@ To@@ Client@@ (@@ new org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult@@ (@@ e@@ , e.get@@ Vds@@ Error@@ ().get@@ Code@@ ())); } catch (java.lang.@@ Run@@ time@@ Exception e) { Pro@@ cess@@ Exception@@ To@@ Client@@ (@@ new org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult@@ (@@ e@@ , org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ EN@@ G@@ IN@@ E@@ )); log.error@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ C@@ ommand %@@ 1@@ $@@ s throw ex@@ ce@@ ption@@ ", get@@ Class@@ ().get@@ Name@@ ()), e); } final@@ l@@ y { if (@@ ex@@ ce@@ ption@@ O@@ c@@ ur@@ re@@ d || (!@@ (get@@ Succeeded@@ ()))) { comp@@ ens@@ ate@@ (); } else { cl@@ e@@ an@@ Up@@ Comp@@ ens@@ ation@@ Data@@ (); } } return f@@ un@@ c@@ tion@@ ReturnValue@@ ; }
private boolean is@@ Gluster@@ O@@ ri@@ gin@@ all@@ y@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Model cluster@@ Network@@ Model) { return ((@@ cluster@@ Network@@ Model.get@@ O@@ ri@@ gin@@ al@@ Network@@ Cluster@@ ()) != null@@ ) && (cluster@@ Network@@ Model.get@@ O@@ ri@@ gin@@ al@@ Network@@ Cluster@@ ().is@@ Gluster@@ ()); }
public org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult validate@@ (java.lang.Object value@@ ) { org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult result = new org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult@@ (); if (!(@@ valu@@ e instanceof java.lang.String@@ )) { result.@@ set@@ Success@@ (@@ false@@ ); result.@@ set@@ Reason@@ s(@@ java.util.Arrays.as@@ List(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ String@@ Arg@@ Exp@@ ected@@ ())); return result@@ ; } java.lang.String c@@ id@@ r = ((@@ java.lang.String@@ ) (@@ value@@ )); if (!(@@ org.ovirt.engine.core.common.@@ validation.@@ C@@ id@@ r@@ Validator.@@ is@@ C@@ id@@ r@@ Format@@ Valid@@ (c@@ id@@ r@@ ))) { result.@@ set@@ Success@@ (@@ false@@ ); result.@@ set@@ Reason@@ s(@@ java.util.Arrays.as@@ List(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ C@@ id@@ r@@ B@@ ad@@ Format@@ ())); return result@@ ; } if (!(@@ org.ovirt.engine.core.common.@@ validation.@@ C@@ id@@ r@@ Validator.@@ is@@ C@@ id@@ r@@ Valid@@ Network@@ Address@@ (c@@ id@@ r@@ ))) { result.@@ set@@ Success@@ (@@ false@@ ); result.@@ set@@ Reason@@ s(@@ java.util.Arrays.as@@ List(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ C@@ id@@ r@@ Not@@ Network@@ Address@@ ())); return result@@ ; } result.@@ set@@ Success@@ (@@ true@@ ); return result@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value@@ () { return org.ovirt.engine.core.bll.@@ Ap@@ pro@@ ve@@ Vds@@ Command.get@@ Succeeded@@ ()) && (org.ovirt.engine.core.bll.@@ Ap@@ pro@@ ve@@ Vds@@ Command.get@@ Succeeded@@ ().is@@ Empty@@ ())); }
@java.lang.Override public void set@@ Image@@ Template@@ Id(@@ org.ovirt.engine.core.compat.Guid it@@ Guid@@ ) { get@@ Image@@ ().set@@ Template@@ Image@@ Id(@@ it@@ Guid@@ ); }
public final java.util.List<java.lang.String> Res@@ ol@@ ve@@ Messages@@ (@@ java.util.List<java.lang.String> trans@@ l@@ ated@@ Messages@@ ) { java.util.ArrayList<@@ java.lang.String> trans@@ l@@ ated@@ Error@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); java.util.HashMap<@@ java.lang.String, java.lang.String> va@@ ri@@ able@@ s = new java.util.HashMap<@@ java.lang.String, java.lang.String@@ >(); for (java.lang.String current@@ Mess@@ age : trans@@ l@@ ated@@ Messages@@ ) { if ((@@ current@@ Mess@@ age.@@ st@@ art@@ sWith@@ ("@@ $@@ "@@ )) && (!(@@ org.ovirt.engine.core.utils.@@ Error@@ Trans@@ l@@ ator@@ Impl.@@ st@@ art@@ sWith@@ Var@@ i@@ able@@ Re@@ fer@@ ence@@ (c@@ urrent@@ Message@@ )@@ ))) { Add@@ Var@@ i@@ able(@@ current@@ Message@@ , va@@ ri@@ abl@@ es@@ ); } else { trans@@ l@@ ated@@ Error@@ s.@@ add@@ (c@@ urrent@@ Message@@ ); } } java.util.ArrayList<@@ java.lang.String> return@@ Value = new java.util.ArrayList<@@ java.lang.String@@ >(); for (java.lang.String er@@ ro@@ r : trans@@ l@@ ated@@ Error@@ s) { return@@ Valu@@ e.@@ add(@@ res@@ ol@@ ve@@ Message@@ (@@ error@@ , va@@ ri@@ abl@@ es@@ )); } return return@@ Value@@ ; }
private org.ovirt.engine.core.common.businessentities.@@ Network get@@ Network@@ By@@ Name(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > network@@ s) { return org.ovirt.engine.core.utils.@@ lin@@ q@@ .@@ Lin@@ q@@ Utils.@@ fi@@ r@@ st@@ Or@@ Null@@ (network@@ s, new org.ovirt.engine.core.utils.@@ lin@@ q@@ .@@ P@@ red@@ icate@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ >() { @java.lang.Override public boolean e@@ val@@ (org.ovirt.engine.core.common.businessentities.@@ Network network@@ ) { return network@@ .get@@ name@@ ().@@ equals@@ (get@@ Network@@ Name()); } }); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Configur@@ e Network@@ ") java.lang.String config@@ ure@@ Network@@ Role@@ T@@ ree@@ ();
private void add@@ Sty@@ l@@ es@@ () { o@@ ver@@ ri@@ de@@ Ip@@ T@@ abl@@ es@@ Editor@@ .@@ add@@ Content@@ Widget@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ o@@ ver@@ ri@@ de@@ Ip@@ Sty@@ le@@ ()); ex@@ ternal@@ Host@@ Provider@@ Enabled@@ Editor@@ .@@ add@@ Content@@ Widget@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.c@@ h@@ eck@@ B@@ o@@ x@@ ()); provider@@ Search@@ Filter@@ Editor@@ .@@ add@@ Content@@ Widget@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ search@@ Filter@@ ()); provider@@ Search@@ Filter@@ Editor@@ .set@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ search@@ Filter@@ Label@@ ()); provider@@ Search@@ Filter@@ Editor@@ .set@@ Label@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ em@@ pty@@ Editor@@ ()); provider@@ Search@@ Filter@@ L@@ ab@@ el.@@ add@@ Content@@ Widget@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ em@@ pty@@ Editor@@ ()); provider@@ Search@@ Filter@@ L@@ ab@@ el.@@ set@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ search@@ Filter@@ Label@@ ()); f@@ et@@ ch@@ S@@ sh@@ F@@ ing@@ er@@ p@@ r@@ int@@ .@@ add@@ Content@@ Widget@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ f@@ ing@@ er@@ p@@ r@@ int@@ Editor@@ ()); exp@@ and@@ er@@ Cont@@ ent.@@ set@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ exp@@ and@@ er@@ Content@@ ()); }
protected void setUp@@ Get@@ Entity@@ Expectation@@ s@@ (@@ int in@@ dex@@ ) throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group us@@ er = org.ovirt.engine.api.restapi.resource.@@ Backend@@ Group@@ s@@ Resource@@ Test.@@ setUp@@ Entity@@ Expectations(@@ cont@@ ro@@ l.@@ create@@ Mock@@ (org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group@@ .@@ class@@ ), in@@ dex@@ ); setUp@@ Get@@ Entity@@ Expectation@@ s@@ ((@@ ("@@ AD@@ G@@ RO@@ UP@@ @@@ " + (@@ DOMA@@ IN@@ )) + "@@ : name@@ =@@ *@@ "@@ ), Search@@ Type.@@ Ad@@ Group@@ , user@@ ); }
@java.lang.Override public void save@@ (org.ovirt.engine.core.common.businessentities.@@ vds@@ _@@ sp@@ m@@ _id@@ _@@ ma@@ p vds@@ _@@ sp@@ m@@ _id@@ _@@ map@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ storage_@@ pool@@ _id", vds@@ _@@ sp@@ m@@ _id@@ _@@ map@@ .get@@ storage_@@ pool@@ _id@@ ()).addValue("@@ vds@@ _id", vds@@ _@@ sp@@ m@@ _id@@ _@@ map@@ .getId()); get@@ Call@@ sHandler@@ ().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ In@@ sert@@ vds@@ _@@ sp@@ m@@ _id@@ _@@ map@@ ", parameter@@ Source@@ ); }
@java.lang.Override protected boolean validate@@ () { if ((@@ (org.ovirt.engine.core.bll.@@ Abstract@@ R@@ ng@@ Device@@ Command.getParameters().get@@ R@@ ng@@ Device@@ ().get@@ Vm@@ Id()) == null@@ ) || ((@@ c@@ ach@@ ed@@ Entity@@ ) == null@@ )) { return fail@@ Validation@@ ((org.ovirt.engine.core.bll.@@ Abstract@@ R@@ ng@@ Device@@ Command.get@@ Parameters@@ ().is@@ Vm@@ () ? org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ NOT_@@ F@@ O@@ UN@@ D : org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ DO@@ E@@ S_NOT_@@ EXIST@@ )); } if ((@@ (org.ovirt.engine.core.bll.@@ Abstract@@ R@@ ng@@ Device@@ Command.get@@ Parameters@@ ().is@@ Vm@@ ()) && ((org.ovirt.engine.core.bll.@@ Abstract@@ R@@ ng@@ Device@@ Command.getVm@@ ()) != null@@ )) && (org.ovirt.engine.core.bll.@@ Abstract@@ R@@ ng@@ Device@@ Command.getVm@@ ().is@@ Run@@ ning@@ Or@@ Pa@@ us@@ ed@@ ())) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_@@ R@@ UN@@ N@@ ING@@ ); } return true@@ ; }
public void set@@ Role@@ (@@ boolean value@@ ) { if (@@ private@@ Role@@ ) != value@@ ) { private@@ R@@ ol@@ e = value@@ ; on@@ PropertyChanged@@ (@@ new org.ovirt.engine.core.compat.@@ PropertyChanged@@ EventArg@@ s@@ ("@@ Role@@ ")); } }
@org.junit.Test public void shoul@@ d@@ Only@@ T@@ a@@ ke@@ Start@@ ing@@ D@@ ig@@ it@@ s() { final org.ovirt.engine.core.bll.@@ scheduling.@@ O@@ S in@@ valid@@ O@@ s = org.ovirt.engine.core.bll.@@ scheduling.@@ O@@ S@@ .@@ f@@ rom@@ P@@ ack@@ age@@ Version@@ String("@@ C@@ ent@@ o@@ s - Server@@ 7 - re@@ le@@ ase@@ "); assert@@ That@@ (in@@ valid@@ O@@ s.@@ is@@ Valid@@ (), is@@ (@@ false@@ )); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ External@@ Host@@ Provi@@ der provider@@ ) { validate@@ Parameters(@@ provider@@ , "@@ name@@ "); return p@@ er@@ for@@ m@@ Create@@ (VdcActionType.@@ Add@@ Provider@@ , new org.ovirt.engine.core.common.action.@@ Provider@@ Parameters@@ (m@@ ap@@ (@@ provider@@ )@@ ), new org.ovirt.engine.api.restapi.resource.@@ ex@@ ternal@@ host@@ provider@@ s.@@ External@@ Host@@ Id(@@ provider@@ Id@@ Res@@ ol@@ ver@@ <@@ org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Provider@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ )); }
@java.lang.Override protected org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ ) { return get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ add@@ r@@ ", network@@ .get@@ Add@@ r@@ ()).addValue("@@ d@@ escription@@ ", network@@ .get@@ Description@@ ()).addValue("@@ c@@ omm@@ ent@@ ", network@@ .get@@ Comm@@ ent@@ ()).addValue("@@ id@@ ", network@@ .getId@@ ()).addValue("@@ name@@ ", network@@ .getName@@ ()).addValue("@@ sub@@ net@@ ", network@@ .get@@ Sub@@ net@@ ()).addValue("@@ g@@ ate@@ w@@ ay@@ ", network@@ .get@@ G@@ ate@@ w@@ ay@@ ()).addValue("@@ type@@ ", network@@ .get@@ Type@@ ()).addValue("@@ v@@ lan@@ _id", network@@ .get@@ V@@ lan@@ Id@@ ()).addValue("@@ st@@ p@@ ", network@@ .get@@ St@@ p@@ ()).addValue("@@ storage_@@ pool@@ _id", network@@ .get@@ DataCenter@@ Id@@ ()).addValue("@@ m@@ tu@@ ", network@@ .get@@ M@@ tu@@ ()).addValue("@@ vm@@ _@@ network@@ ", network.@@ is@@ VmNetwork@@ ()); }
private org.ovirt.engine.core.compat.Guid get@@ Vm@@ To@@ Attach@@ (@@ org.ovirt.engine.core.compat.@@ N@@ Gui@@ d pool@@ Id) { if ((@@ vm@@ To@@ Attach@@ ) == null@@ ) { org.ovirt.engine.core.compat.Guid vm@@ Gui@@ d = org.ovirt.engine.core.compat.Guid.@@ Empty@@ ; vm@@ Gui@@ d = org.ovirt.engine.core.bll.@@ Attach@@ User@@ To@@ Vm@@ From@@ Pool@@ And@@ Run@@ Command.get@@ Pres@@ t@@ ar@@ ted@@ Vm@@ To@@ Attach@@ (@@ pool@@ Id); if ((@@ vm@@ Gui@@ d == null@@ ) || (@@ Guid@@ .@@ Empty@@ .@@ equals@@ (vm@@ Guid@@ ))) { vm@@ Gui@@ d = org.ovirt.engine.core.bll.@@ Attach@@ User@@ To@@ Vm@@ From@@ Pool@@ And@@ Run@@ Command.get@@ Non@@ Pres@@ t@@ ar@@ ted@@ Vm@@ To@@ Attach@@ (@@ pool@@ Id); } vm@@ To@@ Att@@ ac@@ h = vm@@ Guid@@ ; } return vm@@ To@@ Attach@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ Default@@ Message@@ ("@@ F@@ or D@@ es@@ k@@ to@@ p Lo@@ a@@ d - En@@ able mem@@ or@@ y p@@ age sh@@ ar@@ ing to {0@@ }@@ %@@ ") java.lang.String cluster@@ Popup@@ Memory@@ Op@@ tim@@ ization@@ For@@ D@@ es@@ k@@ to@@ p@@ Label@@ (java.lang.String a@@ );
protected boolean is@@ Image@@ Not@@ Lock@@ ed@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = org.ovirt.engine.core.bll.storage.disk.@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ (); if ((@@ disk@@ Image.get@@ Image@@ Status()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status.@@ LO@@ C@@ K@@ ED@@ )) { if ((@@ org.ovirt.engine.core.bll.storage.disk.@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Oper@@ ation.@@ Move@@ )) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K@@ S_@@ LO@@ C@@ K@@ ED@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ %@@ 1@@ $@@ s %@@ 2@@ $@@ s", "@@ disk@@ Alias@@ es@@ ", disk@@ Image.get@@ Disk@@ Alias@@ ())); } else { return fail@@ Validation@@ (EngineMessage.@@ VM_@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ IM@@ AGE_@@ I@@ S_@@ LO@@ C@@ K@@ ED); } } return true@@ ; }
@java.lang.Override protected void on@@ Action@@ Execu@@ ted@@ () { for (org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Nic@@ Vfs@@ Confi@@ g or@@ i@@ gin@@ al@@ Vfs@@ Confi@@ g : or@@ i@@ gin@@ al@@ Vfs@@ Config@@ s) { org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Nic@@ Vfs@@ Confi@@ g update@@ d@@ Vfs@@ Confi@@ g = update@@ d@@ Nic@@ To@@ Vfs@@ Config.@@ get@@ (@@ or@@ i@@ gin@@ al@@ Vfs@@ Config.@@ get@@ Nic@@ Id()); init@@ Update@@ Vfs@@ Config@@ Param@@ s(@@ or@@ i@@ gin@@ al@@ Vfs@@ Config@@ , update@@ d@@ Vfs@@ Config@@ ); if (!(@@ update@@ d@@ Vfs@@ Config.@@ is@@ All@@ Networks@@ Allow@@ ed@@ ())) { init@@ Ad@@ ded@@ Networks@@ Param@@ s(@@ or@@ i@@ gin@@ al@@ Vfs@@ Config@@ , update@@ d@@ Vfs@@ Config@@ ); init@@ Rem@@ oved@@ Networks@@ Param@@ s(@@ or@@ i@@ gin@@ al@@ Vfs@@ Config@@ , update@@ d@@ Vfs@@ Config@@ ); init@@ Ad@@ ded@@ Label@@ s@@ Param@@ s(@@ or@@ i@@ gin@@ al@@ Vfs@@ Config@@ , update@@ d@@ Vfs@@ Config@@ ); init@@ Rem@@ oved@@ Label@@ s@@ Param@@ s(@@ or@@ i@@ gin@@ al@@ Vfs@@ Config@@ , update@@ d@@ Vfs@@ Config@@ ); } } org.ovirt.engine.ui.uicommonweb.U@@ i@@ Ac@@ tion update@@ Ac@@ tion = new org.ovirt.engine.ui.uicommonweb.U@@ i@@ Vdc@@ Action@@ (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Update@@ Host@@ Nic@@ Vfs@@ Config@@ , update@@ d@@ Vfs@@ Config@@ s@@ Param@@ s, get@@ Model@@ ()); update@@ Action@@ .@@ then@@ (@@ new org.ovirt.engine.ui.uicommonweb.U@@ i@@ Vdc@@ Multiple@@ Action@@ (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Add@@ Vfs@@ Config@@ Network@@ , ad@@ ded@@ Networks@@ Param@@ s, get@@ Model@@ ())@@ ).@@ and@@ (@@ new org.ovirt.engine.ui.uicommonweb.U@@ i@@ Vdc@@ Action@@ (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Remove@@ Vfs@@ Config@@ Network@@ , rem@@ oved@@ Networks@@ Param@@ s, get@@ Model@@ ())@@ ).@@ and@@ (@@ new org.ovirt.engine.ui.uicommonweb.U@@ i@@ Vdc@@ Multiple@@ Action@@ (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Add@@ Vfs@@ Config@@ Label@@ , ad@@ ded@@ Label@@ s@@ Param@@ s, get@@ Model@@ ())@@ ).@@ and@@ (@@ new org.ovirt.engine.ui.uicommonweb.U@@ i@@ Vdc@@ Action@@ (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Remove@@ Vfs@@ Config@@ Label@@ , rem@@ oved@@ Label@@ s@@ Param@@ s, get@@ Model@@ ())); update@@ Action@@ .@@ run@@ Action@@ (get@@ Action@@ F@@ low@@ M@@ u@@ tex@@ ()); }
private org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Device get@@ Graphics@@ De@@ v@@ Of@@ Type(@@ org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type typ@@ e) { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue quer@@ y = org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Graphics@@ Devices@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.getParameters().get@@ VmTemplate@@ Id@@ ())); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Device@@ > g@@ raphics@@ Device@@ s = query@@ .get@@ ReturnValue@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Device de@@ v : g@@ raphics@@ Devices@@ ) { if ((@@ de@@ v@@ .get@@ VmDevice@@ Type()) == (@@ typ@@ e.get@@ C@@ or@@ respon@@ d@@ ing@@ Device@@ Type@@ ())) { return de@@ v@@ ; } } return null@@ ; }
@java.lang.Override protected void build@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model, T vm@@ ) { vm@@ .set@@ Mem@@ Size@@ M@@ b@@ (model.get@@ Mem@@ Size@@ ().getEntity@@ ()); vm@@ .set@@ Max@@ Memory@@ Size@@ M@@ b@@ (model.get@@ Max@@ Memory@@ Size@@ ().getEntity@@ ()); if (model.get@@ I@@ o@@ Th@@ rea@@ ds@@ Enabled@@ ().getEntity@@ ()) { vm@@ .set@@ Num@@ Of@@ I@@ o@@ Th@@ rea@@ ds@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ vm@@ .@@ H@@ w@@ Only@@ C@@ ore@@ Unit@@ To@@ Vm@@ Base@@ Buil@@ der.@@ DE@@ FA@@ U@@ L@@ T_@@ N@@ U@@ M@@ _@@ O@@ F@@ _@@ I@@ O@@ TH@@ RE@@ AD@@ S@@ ); } else { vm@@ .set@@ Num@@ Of@@ I@@ o@@ Th@@ rea@@ ds@@ (0@@ ); } vm@@ .set@@ Num@@ Of@@ S@@ ock@@ et@@ s(@@ model.get@@ Num@@ Of@@ S@@ ock@@ et@@ s().get@@ SelectedItem@@ ()); vm@@ .set@@ Cpu@@ Per@@ S@@ ock@@ et@@ (model.get@@ C@@ or@@ es@@ Per@@ S@@ ock@@ et@@ ().getSelectedItem@@ ()); vm@@ .set@@ Th@@ rea@@ ds@@ Per@@ Cpu@@ (model.get@@ Th@@ rea@@ ds@@ Per@@ C@@ ore@@ ().getSelectedItem@@ ()); vm@@ .set@@ Default@@ Display@@ Type(@@ model.get@@ Display@@ Type@@ ().getSelectedItem@@ ()); vm@@ .set@@ Num@@ Of@@ Monitor@@ s(@@ model.get@@ Num@@ Of@@ Monitor@@ s().get@@ SelectedItem@@ ()); vm@@ .set@@ S@@ m@@ art@@ c@@ ard@@ Enabled@@ (model.get@@ Is@@ S@@ m@@ art@@ c@@ ard@@ Enabled@@ ().getEntity@@ ()); vm@@ .set@@ S@@ s@@ o@@ Method@@ (m@@ odel.@@ ex@@ tr@@ act@@ Selected@@ S@@ s@@ o@@ Method@@ ()); vm@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (model.get@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ ().getEntity@@ ()); vm@@ .set@@ Default@@ Boot@@ Se@@ qu@@ ence@@ (model.get@@ Boot@@ Se@@ qu@@ ence@@ ()); vm@@ .set@@ Sing@@ le@@ Q@@ x@@ l@@ P@@ c@@ i@@ (model.get@@ Is@@ Sing@@ le@@ Q@@ x@@ l@@ Enabled@@ ().getEntity@@ ()); vm@@ .set@@ Custom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e(@@ model.get@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ ().getSelectedItem@@ ()); vm@@ .set@@ B@@ i@@ os@@ Type(@@ B@@ i@@ os@@ Type.@@ S@@ E@@ A@@ _@@ B@@ I@@ O@@ S@@ ); vm@@ .set@@ Custom@@ Cpu@@ Name(@@ model.get@@ Custom@@ Cpu@@ ().getSelectedItem@@ ()); }
@org.junit.Test public void validate@@ Disk@@ Is@@ Lock@@ ed@@ () throw@@ s java.lang.Exception { initial@@ ize@@ Command(@@ Image@@ Oper@@ ation.@@ Move@@ , new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ()); init@@ Vm@@ DiskImage@@ (@@ false@@ ); mock@@ Get@@ Vms@@ List@@ For@@ Disk@@ (); command@@ .get@@ Image@@ ().set@@ Image@@ Status(@@ Image@@ Status.@@ LO@@ C@@ K@@ ED); do@@ Return@@ (vm@@ Device@@ Dao@@ ).when@@ (command@@ ).get@@ VmDevice@@ Dao@@ (); assert@@ F@@ als@@ e(@@ command@@ .@@ validate@@ ()); assert@@ True@@ (command@@ .get@@ ReturnValue().get@@ Validation@@ Messages@@ ().@@ contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K@@ S_@@ LO@@ C@@ K@@ ED@@ .@@ toString@@ ())); }
public org.ovirt.engine.core.bll.ValidationResult up@@ dat@@ es@@ Available@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (VdcBllMessages.@@ NO@@ _@@ A@@ V@@ A@@ IL@@ AB@@ L@@ E_@@ UP@@ D@@ AT@@ E@@ S_@@ F@@ OR@@ _@@ HOST@@ ).@@ un@@ l@@ ess@@ (get@@ Host@@ ().is@@ Update@@ Available@@ ()); }
@org.junit.Test public void int@@ er@@ nal@@ Active@@ Disk@@ () { int@@ er@@ nal@@ Action@@ Allow@@ ed(@@ StorageDomain@@ Status.@@ Active@@ ); }
private static java.lang.String toString@@ Null@@ To@@ Default@@ (java.lang.Object obj@@ , java.lang.String default@@ Value@@ ) { return ob@@ j == null ? default@@ Value : obj@@ .@@ toString@@ (); }
private void conn@@ ect@@ (@@ boolean is@@ Password@@ Del@@ e@@ g@@ ation@@ P@@ os@@ si@@ bl@@ e) { if (is@@ Password@@ Del@@ e@@ g@@ ation@@ P@@ os@@ si@@ bl@@ e) { try { model.get@@ Au@@ to@@ Conn@@ ect@@ able@@ Cons@@ ol@@ es@@ ().get@@ (0@@ ).@@ conn@@ ect@@ (); al@@ read@@ y@@ Op@@ en@@ ed = true@@ ; } catch (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Vm@@ Console@@ s e) { error@@ Popup@@ Manager.@@ sh@@ ow@@ (@@ e.get@@ Local@@ iz@@ ed@@ Error@@ Message@@ ()); } } }
public void initial@@ iz@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ System@@ T@@ ree@@ Item@@ Model System@@ T@@ ree@@ SelectedItem@@ ) { super@@ .@@ initial@@ ize@@ (); set@@ Hash@@ ((@@ (get@@ Hash@@ Name@@ ()) + (@@ new java.util.@@ D@@ ate@@ ()))); get@@ Mem@@ Size@@ ().set@@ Entity(@@ 2@@ 5@@ 6@@ ); get@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ ().set@@ Entity(@@ 2@@ 5@@ 6@@ ); get@@ Is@@ State@@ l@@ ess@@ ().set@@ Entity@@ (@@ false@@ ); get@@ Is@@ Run@@ And@@ Pa@@ us@@ e@@ ().set@@ Entity@@ (@@ false@@ ); get@@ Is@@ S@@ m@@ art@@ c@@ ard@@ Enabled@@ ().set@@ Entity@@ (@@ false@@ ); is@@ Console@@ Device@@ Enabled@@ .set@@ Entity@@ (@@ false@@ ); get@@ Is@@ H@@ ig@@ h@@ ly@@ Available@@ ().set@@ Entity@@ (@@ false@@ ); get@@ Is@@ Au@@ to@@ As@@ s@@ ign@@ ().set@@ Entity@@ (@@ true@@ ); get@@ Is@@ Template@@ P@@ ubl@@ ic@@ ().set@@ Entity@@ (@@ true@@ ); get@@ Be@@ ha@@ vi@@ or@@ ().@@ en@@ able@@ Sing@@ le@@ P@@ C@@ I@@ (@@ false@@ ); is@@ R@@ ng@@ Enabled@@ .set@@ Entity@@ (@@ false@@ ); r@@ ng@@ Source@@ R@@ an@@ do@@ m@@ .set@@ Entity@@ (@@ true@@ ); get@@ Host@@ Cpu@@ ().set@@ Entity@@ (@@ false@@ ); get@@ Migration@@ M@@ ode@@ ().setIs@@ Chang@@ able@@ (@@ true@@ ); get@@ C@@ d@@ Image@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); init@@ Graphics@@ And@@ Display@@ List@@ en@@ ers@@ (); init@@ F@@ ir@@ st@@ Boot@@ Device@@ (); init@@ Num@@ Of@@ Monitor@@ s(); init@@ Allow@@ Console@@ Rec@@ on@@ n@@ ect@@ (); init@@ Migration@@ M@@ ode@@ (); init@@ V@@ n@@ c@@ Key@@ board@@ L@@ ay@@ out@@ (); b@@ e@@ ha@@ vi@@ or.@@ initial@@ iz@@ e(@@ System@@ T@@ ree@@ SelectedItem@@ ); get@@ W@@ at@@ ch@@ do@@ g@@ Model@@ With@@ P@@ l@@ ace@@ H@@ ol@@ der@@ Editor@@ ().set@@ SelectedItem@@ (@@ null@@ ); }
@org.junit.Test public void on@@ ly@@ In@@ b@@ ound@@ P@@ e@@ a@@ k@@ Pres@@ ent@@ () { q@@ o@@ s.set@@ In@@ b@@ ound@@ P@@ e@@ a@@ k@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Qos@@ Validator@@ Test.@@ B@@ AN@@ D@@ W@@ ID@@ TH@@ _@@ M@@ ED@@ I@@ U@@ M@@ ); valu@@ es@@ Pres@@ ent@@ Test@@ (org.ovirt.engine.core.bll.@@ validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ NETWORK_@@ Q@@ O@@ S_@@ M@@ IS@@ S@@ ING@@ _@@ VAL@@ U@@ ES@@ )); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Th@@ rou@@ g@@ h@@ put@@ ") java.lang.String h@@ put@@ Label@@ Qos@@ Popup@@ ();
protected boolean network@@ s@@ Un@@ i@@ q@@ ue@@ ly@@ Configur@@ ed@@ On@@ Host@@ (@@ java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > attach@@ ment@@ sTo@@ Configur@@ e) { boolean p@@ ass@@ ed = true@@ ; java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> network@@ Id@@ s = new java.util.Hash@@ Set@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e.@@ size@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent attach@@ m@@ ent : attach@@ ment@@ sTo@@ Configur@@ e) { if (network@@ Id@@ s.@@ contains(@@ attach@@ m@@ ent.get@@ Network@@ Id@@ ())) { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = cluster@@ Network@@ s.get@@ (@@ attach@@ m@@ ent.get@@ Network@@ Id()); add@@ Vi@@ ol@@ ation@@ (VdcBllMessages.@@ NETWOR@@ K@@ S_@@ AL@@ RE@@ AD@@ Y_@@ AT@@ T@@ AC@@ H@@ ED_@@ TO@@ _@@ I@@ F@@ AC@@ ES@@ , network@@ .get@@ Name()); p@@ ass@@ ed = false@@ ; } else { network@@ Id@@ s.add(@@ attach@@ m@@ ent.get@@ Network@@ Id()); } } return p@@ ass@@ ed@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { if ((get@@ Parameters().get@@ Vds@@ Id()) == null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ UP@@ D@@ AT@@ E_@@ M@@ O@@ M@@ _P@@ OL@@ IC@@ Y_@@ UP@@ D@@ AT@@ E_@@ N@@ U@@ L@@ _@@ HOST@@ ); } vd@@ s = get@@ Vds@@ Dao().get@@ (get@@ Parameters().get@@ Vds@@ Id()); if ((@@ vds@@ ) == null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ UP@@ D@@ AT@@ E_@@ M@@ O@@ M@@ _P@@ OL@@ IC@@ Y_@@ UP@@ D@@ AT@@ E_@@ N@@ U@@ L@@ _@@ HOST@@ ); } if ((@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ UP@@ D@@ AT@@ E_@@ M@@ O@@ M@@ _P@@ OL@@ IC@@ Y_@@ UP@@ D@@ AT@@ E_@@ HOST@@ _@@ DO@@ W@@ N@@ ); } return true@@ ; }
@java.lang.Override protected void ve@@ r@@ if@@ y@@ (org.ovirt.engine.api.model.@@ Disk@@ S@@ napsho@@ t model, org.ovirt.engine.api.model.@@ Disk@@ S@@ napsho@@ t tr@@ an@@ s@@ for@@ m@@ ) { assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ ); assert@@ Equals@@ (model.get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .getId()); assert@@ Equals@@ (model.get@@ Format@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Format@@ ()); assert@@ Equals@@ (model.get@@ Read@@ Only@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Read@@ Only@@ ()); assert@@ Equals@@ (model.get@@ Description@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Description@@ ()); assert@@ Not@@ Null@@ (model.get@@ Snapshot@@ ()); assert@@ Equals@@ (model.get@@ Snapshot@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ Snapshot@@ ().get@@ Id()); assert@@ Equals@@ ("@@ u@@ ne@@ x@@ p@@ ected status@@ ", model.get@@ Status@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Status@@ ()); assert@@ Equals@@ ("@@ u@@ ne@@ x@@ p@@ ected s@@ par@@ se@@ ", model.@@ is@@ S@@ par@@ se@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ S@@ par@@ se@@ ()); assert@@ Equals@@ ("@@ u@@ ne@@ x@@ p@@ ected pro@@ p@@ ag@@ ate error@@ s", model.@@ is@@ Pro@@ p@@ ag@@ ate@@ Error@@ s@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Pro@@ p@@ ag@@ ate@@ Error@@ s()); assert@@ Equals@@ ("@@ u@@ ne@@ x@@ p@@ ected w@@ ip@@ e af@@ te@@ r de@@ let@@ e@@ ", model.@@ is@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ ()); assert@@ Equals@@ ("@@ u@@ ne@@ x@@ p@@ ected sh@@ are@@ able@@ ", model.@@ is@@ Sh@@ are@@ able@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Sh@@ are@@ able@@ ()); }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c gluster@@ Hook@@ En@@ able(@@ java.lang.String gluster@@ Command@@ , java.lang.String st@@ age@@ , java.lang.String h@@ ook@@ Name);
@java.lang.Override protected org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ Row@@ Map@@ per@@ <@@ org.ovirt.engine.core.common.@@ job.@@ Job@@ > create@@ Entity@@ Row@@ Map@@ per@@ () { return org.ovirt.engine.core.dao.@@ Job@@ Dao@@ DbFacade@@ Impl.@@ job@@ Row@@ Map@@ per@@ ; }
public org.ovirt.engine.core.bll.ValidationResult is@@ Iso@@ Disk@@ Attached@@ To@@ An@@ y@@ Non@@ Down@@ Vm@@ () { java.util.List<java.lang.String> vm@@ Name@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Static@@ Dao().get@@ All@@ Run@@ ning@@ Names@@ With@@ Sp@@ e@@ c@@ if@@ ic@@ Iso@@ Attached@@ (disk@@ .getId()); if (!@@ (vm@@ Nam@@ es.@@ isEmpty@@ ())) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ ER@@ R@@ OR@@ _@@ IS@@ O@@ _@@ DIS@@ K_@@ AT@@ T@@ AC@@ H@@ ED_@@ TO@@ _@@ R@@ UN@@ N@@ ING@@ _@@ VM@@ S@@ , org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Disk@@ Validator.@@ DIS@@ K_@@ NAM@@ E_@@ VAR@@ I@@ AB@@ LE@@ , disk@@ .get@@ Disk@@ Alias@@ ()), org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Disk@@ Validator.@@ VM_@@ L@@ IST@@ , vm@@ Names@@ )); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
private void create@@ VM@@ From@@ Template@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate = get@@ SelectedItem@@ (); final java.util.List<@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ > command@@ s = new java.util.ArrayList<>(); commands.@@ add(@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Default@@ O@@ k@@ U@@ i@@ Command@@ ("@@ On@@ S@@ ave@@ Vm@@ ", this@@ )); commands.@@ add(@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Cancel@@ U@@ i@@ Command@@ ("@@ Cancel@@ ", this@@ )); org.ovirt.engine.ui.frontend.AsyncQuery get@@ Vm@@ Init@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); get@@ Vm@@ Init@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate with@@ Vm@@ In@@ i@@ t = ((@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ ) (@@ result@@ )); set@@ up@@ New@@ Vm@@ Model@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.vms.@@ New@@ Vm@@ From@@ Template@@ Model@@ Be@@ ha@@ vi@@ or@@ (@@ with@@ Vm@@ Init@@ ), org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Template@@ ListModel@@ .@@ this@@ ), with@@ Vm@@ In@@ it.@@ get@@ Vm@@ Type@@ (), get@@ System@@ T@@ ree@@ SelectedItem@@ (), command@@ s); } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Template@@ By@@ Id@@ (get@@ Vm@@ Init@@ Query@@ , templat@@ e.get@@ Id()); }
private boolean ch@@ ang@@ es@@ A@@ re@@ Cluster@@ C@@ ompati@@ bl@@ e@@ () { if (!@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Attach@@ Network@@ To@@ Cluster@@ Internal@@ Command.getParameters().get@@ Network@@ ().is@@ VmNetwork@@ ())) { if (!(@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ n@@ on@@ VmNetwork@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Attach@@ Network@@ To@@ Cluster@@ Internal@@ Command.get@@ VdsGroup@@ ().get@@ CompatibilityVersion@@ ()))) { add@@ Validation@@ Message@@ (EngineMessage.@@ N@@ ON_@@ VM_@@ NETWORK_@@ NOT_@@ SUP@@ PORT@@ ED_@@ F@@ OR@@ _P@@ O@@ OL@@ _@@ LE@@ V@@ E@@ L@@ ); return false@@ ; } } return true@@ ; }
private java.lang.@@ B@@ oolean get@@ Au@@ to@@ Conver@@ ge@@ () { if (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ au@@ to@@ Conver@@ g@@ ence@@ (org.ovirt.engine.core.bll.@@ Migrate@@ VmCommand.getVm@@ ().get@@ VdsGroup@@ CompatibilityVersion@@ ())) { return org.ovirt.engine.core.bll.@@ Migrate@@ VmCommand.getVm@@ ().is@@ Au@@ to@@ Conver@@ ge@@ (); } return null@@ ; }
@org.junit.Test public void canDoAction@@ Fail@@ s@@ On@@ Null@@ Cluster@@ () { c@@ m@@ d = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.@@ gluster.@@ Dis@@ able@@ Gluster@@ Hook@@ Command@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.Gluster@@ Hook@@ Parameters@@ (@@ null@@ , org.ovirt.engine.core.bll.@@ gluster.@@ Dis@@ able@@ Gluster@@ Hook@@ Command@@ Test.@@ HO@@ O@@ K_@@ NAM@@ E, org.ovirt.engine.core.bll.@@ gluster.@@ Dis@@ able@@ Gluster@@ Hook@@ Command@@ Test.@@ GLUSTER_@@ C@@ O@@ M@@ AN@@ D@@ , org.ovirt.engine.core.bll.@@ gluster.@@ Dis@@ able@@ Gluster@@ Hook@@ Command@@ Test.@@ LE@@ V@@ E@@ L@@ ))); pre@@ par@@ e@@ Mock@@ s@@ (cmd@@ , get@@ Gluster@@ Server@@ s()); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); }
@java.lang.Override public java.lang.String get@@ Gluster@@ Hook@@ cont@@ ent@@ (org.ovirt.engine.core.compat.Guid h@@ ook@@ Id) { java.lang.String cont@@ ent = get@@ Call@@ sHandler@@ ().execute@@ Read@@ ("@@ Get@@ Gluster@@ Hook@@ By@@ Id@@ ", org.ovirt.engine.core.dao.@@ gluster.Gluster@@ Hook@@ s@@ Dao@@ DbFacade@@ Impl.@@ Gluster@@ Hook@@ Content@@ Row@@ Map@@ per@@ , create@@ Gluster@@ Hook@@ Id@@ Param@@ s(@@ h@@ ook@@ Id@@ )); return cont@@ ent@@ ; }
@java.lang.Override protected org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ Row@@ Map@@ per@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ Dynamic@@ > create@@ Entity@@ Row@@ Map@@ per@@ () { return org.ovirt.engine.core.dao.@@ DiskImage@@ Dynamic@@ Dao@@ Impl.@@ DiskImage@@ Dynamic@@ Row@@ Mapper.@@ instance@@ ; }
@java.lang.Override public void run@@ () { res@@ ource@@ Manager.@@ Get@@ Vds@@ Manager@@ (vds@@ Exception@@ .get@@ Vds@@ Error@@ ().get@@ Vds@@ Id@@ ()).@@ h@@ andle@@ Network@@ Exception@@ (vds@@ Exception@@ ); }
private void set@@ R@@ ng@@ Device@@ To@@ Param@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model, org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base parameters@@ ) { parameters.set@@ Update@@ R@@ ng@@ Device@@ (@@ true@@ ); parameters.set@@ R@@ ng@@ Device@@ ((@@ model.get@@ Is@@ R@@ ng@@ Enabled@@ ().getEntity@@ ()) && (model.get@@ R@@ ng@@ Device@@ ().getEntity@@ ())); }
@org.junit.Test public void test@@ Add@@ P@@ ass@@ Template@@ By@@ Name@@ () throw@@ s java.lang.Exception { setUp@@ Entity@@ Query@@ Expectations(@@ VdcQuery@@ Type.Get@@ VmTemplate@@ , org.ovirt.engine.core.common.queries.@@ Get@@ VmTemplate@@ Parameters@@ .@@ class@@ , new java.lang.String@@ []{ "@@ Name@@ ", "@@ StoragePool@@ Id@@ " }, new java.lang.Object@@ []{ NAM@@ ES@@ [@@ 1@@ ]@@ , G@@ UID@@ S@@ [@@ 3@@ ] }, get@@ Template@@ Entity(@@ 1@@ )); set@@ up@@ Add@@ Expectation@@ s(); org.ovirt.engine.api.model.@@ VM model = org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vms@@ Resource@@ Tes@@ t.get@@ Model@@ (@@ 2@@ ); model.set@@ Template@@ (@@ new org.ovirt.engine.api.model.@@ Template@@ ()); model.get@@ Template@@ ().set@@ Name(@@ NAM@@ ES@@ [@@ 1@@ ]@@ .@@ toString()); javax.ws.rs.@@ core.@@ Respon@@ se respon@@ se = c@@ oll@@ ection@@ .@@ add(@@ model@@ ); assert@@ Equals@@ (@@ 2@@ 0@@ 1, respon@@ s@@ e.get@@ Status@@ ()); assert@@ True@@ (((@@ respon@@ s@@ e.get@@ Entity@@ ()) instanceof org.ovirt.engine.api.model.@@ VM@@ )); ve@@ r@@ if@@ y@@ Model@@ (((@@ org.ovirt.engine.api.model.@@ VM@@ ) (@@ respon@@ s@@ e.get@@ Entity@@ ())@@ ), 2@@ ); }
private java.lang.String create@@ V@@ G@@ () { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value = org.ovirt.engine.core.bll.storage.@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ Vds@@ Broker@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Create@@ V@@ G@@ , new org.ovirt.engine.core.common.vdscommands.@@ Create@@ V@@ G@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ Vds@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ Add@@ S@@ AN@@ StorageDomain@@ Command.getParameters().get@@ Lun@@ Id@@ s@@ (), org.ovirt.engine.core.bll.storage.@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ Parameters@@ ().is@@ For@@ ce@@ ())); java.lang.String volume@@ Group@@ Id = ((@@ java.lang.String@@ ) ((@@ (@@ return@@ Value.get@@ ReturnValue@@ ()) instanceof java.lang.String@@ ) ? return@@ Value.get@@ ReturnValue@@ () : null@@ )); return volume@@ Group@@ Id@@ ; }
@java.lang.Override public void remove@@ (java.lang.String id@@ ) { try { get@@ Client@@ ().@@ network@@ s().@@ de@@ let@@ e(@@ id@@ ).@@ execute@@ (); } catch (java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e@@ , true@@ ); } }
public void add@@ Column@@ (c@@ om.google.gwt.@@ user.@@ ce@@ ll@@ view@@ .client.@@ C@@ olum@@ n c@@ olumn@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l h@@ ead@@ er@@ Ht@@ ml@@ , java.lang.String w@@ id@@ th@@ ) { super@@ .@@ add@@ Column@@ With@@ Ht@@ ml@@ H@@ ead@@ er@@ (c@@ olumn@@ , h@@ ead@@ er@@ Ht@@ ml.@@ as@@ String@@ ()); super@@ .set@@ Column@@ W@@ id@@ th@@ (c@@ olumn@@ , w@@ id@@ th@@ ); }
public static org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ H@@ andle@@ r get@@ Instance@@ () { return org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler.@@ instance@@ ; }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c d@@ es@@ k@@ to@@ p@@ Lo@@ gin@@ (java.lang.String vm@@ Id, java.lang.String do@@ m@@ ain@@ , java.lang.String user@@ , java.lang.String p@@ assword@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ VM@@ .@@ d@@ es@@ k@@ to@@ p@@ Lo@@ gin@@ ").@@ with@@ Parameter("@@ vm@@ ID@@ ", vm@@ Id@@ ).@@ with@@ Parameter@@ (@@ "@@ do@@ m@@ ain@@ ", do@@ m@@ ain@@ ).@@ with@@ Parameter("@@ user@@ name@@ ", user@@ ).@@ with@@ Parameter("@@ p@@ assword@@ ", p@@ assword@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Network int@@ er@@ fac@@ e ha@@ s an un@@ manage@@ d n@@ etwork attach@@ ed@@ .@@ ") java.lang.String ACTION_TYPE_FAILED_@@ HOST@@ _@@ NETWORK_@@ AD@@ D_@@ UN@@ M@@ AN@@ AG@@ ED_@@ TO@@ _@@ B@@ ON@@ D@@ ();
@org.junit.Test public void test@@ Validate@@ All@@ C@@ lust@@ ers@@ L@@ ev@@ el@@ () { storagePool@@ With@@ Version@@ H@@ ig@@ h@@ er@@ Th@@ an@@ Cluster@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > cluster@@ List = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command@@ Test.@@ create@@ Cluster@@ List@@ (); org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group s@@ ec@@ ond@@ C@@ luster = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ (); s@@ ec@@ ond@@ C@@ luster.@@ set@@ CompatibilityVersion@@ (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command@@ Test.@@ V@@ ER@@ SI@@ ON_@@ 1@@ _@@ 2@@ ); s@@ ec@@ ond@@ C@@ luster.@@ set@@ Name@@ ("@@ s@@ ec@@ ond@@ Cluster@@ "); cluster@@ List.@@ add@@ (s@@ ec@@ ond@@ Cluster@@ ); org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group th@@ ir@@ d@@ C@@ luster = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ (); th@@ ir@@ d@@ C@@ luster.@@ set@@ CompatibilityVersion@@ (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command@@ Test.@@ V@@ ER@@ SI@@ ON_@@ 1@@ _@@ 1@@ ); th@@ ir@@ d@@ C@@ luster.@@ set@@ Name@@ ("@@ th@@ ir@@ d@@ Cluster@@ "); cluster@@ List.@@ add(@@ th@@ ir@@ d@@ Cluster@@ ); when(@@ vds@@ Group@@ Dao.get@@ AllFor@@ StoragePool@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (cluster@@ List@@ ); assert@@ F@@ als@@ e(@@ cmd@@ .@@ check@@ All@@ C@@ lust@@ ers@@ L@@ ev@@ el@@ ()); java.util.List<java.lang.String> mess@@ age@@ s = cmd@@ .get@@ ReturnValue().get@@ Validation@@ Messages@@ (); assert@@ True@@ (m@@ ess@@ ages.@@ contains(@@ EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ STORAGE_@@ P@@ O@@ OL@@ _C@@ O@@ M@@ P@@ A@@ TI@@ B@@ IL@@ I@@ TY@@ _@@ V@@ ER@@ SI@@ ON_@@ B@@ I@@ G@@ G@@ ER_@@ TH@@ AN@@ _C@@ LUST@@ ER@@ S@@ .@@ toString@@ ())); assert@@ True@@ (m@@ ess@@ ages@@ .get(@@ 0@@ ).@@ contains@@ ("@@ fi@@ r@@ st@@ Cluster@@ ")); assert@@ F@@ als@@ e(@@ mess@@ ages@@ .get(@@ 0@@ ).@@ contains@@ ("@@ s@@ ec@@ ond@@ Cluster@@ ")); assert@@ True@@ (m@@ ess@@ ages@@ .get(@@ 0@@ ).@@ contains@@ ("@@ th@@ ir@@ d@@ Cluster@@ ")); }
public void search@@ M@@ y@@ Group@@ s() { st@@ op@@ Re@@ fresh@@ (); if (get@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ ()) { set@@ SelectedItem@@ (@@ null@@ ); set@@ SelectedItem@@ s@@ (@@ null@@ ); } if ((get@@ Is@@ Tim@@ er@@ Dis@@ abled@@ ()) == false@@ ) { set@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ (@@ true@@ ); on@@ PropertyChanged@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s(@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s.@@ P@@ RO@@ G@@ RE@@ SS@@ )); search@@ M@@ y@@ Group@@ s@@ Im@@ pl@@ (); set@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ (@@ false@@ ); st@@ art@@ G@@ rid@@ Tim@@ er@@ (); } else { search@@ M@@ y@@ Group@@ s@@ Im@@ pl@@ (); } } }
private static void map@@ B@@ lock@@ Stat@@ s(@@ org.ovirt.engine.api.model.@@ Profile@@ Det@@ a@@ i@@ l profil@@ e@@ Detail@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Stat@@ s@@ In@@ fo stat@@ s@@ Info@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ B@@ lock@@ Stat@@ s bl@@ ock@@ St@@ a@@ t : stat@@ s@@ Info@@ .get@@ B@@ lock@@ Stat@@ s()) { org.ovirt.engine.api.model.@@ B@@ lock@@ Stati@@ s@@ ti@@ c b@@ St@@ a@@ t = new org.ovirt.engine.api.model.@@ B@@ lock@@ Statistic@@ (); b@@ St@@ a@@ t.get@@ Statistic@@ s().get@@ Statistic@@ s().@@ add(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Statistic@@ Resource@@ Utils.@@ set@@ Dat@@ um@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ GlusterVolume@@ Profile@@ Info@@ Mapper.@@ cl@@ on@@ e(@@ org.ovirt.engine.api.restapi.@@ types.@@ GlusterVolume@@ Profile@@ Info@@ Mapper.@@ B@@ LO@@ C@@ K_@@ SI@@ Z@@ E@@ ), bl@@ ock@@ St@@ a@@ t.get@@ Size@@ ())); b@@ St@@ a@@ t.get@@ Statistic@@ s().get@@ Statistic@@ s().@@ add(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Statistic@@ Resource@@ Utils.@@ set@@ Dat@@ um@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ GlusterVolume@@ Profile@@ Info@@ Mapper.@@ cl@@ on@@ e(@@ org.ovirt.engine.api.restapi.@@ types.@@ GlusterVolume@@ Profile@@ Info@@ Mapper.@@ B@@ Y@@ T@@ E@@ S_@@ B@@ LO@@ C@@ K_@@ RE@@ AD@@ ), bl@@ ock@@ St@@ a@@ t.get@@ B@@ lock@@ Read@@ ())); b@@ St@@ a@@ t.get@@ Statistic@@ s().get@@ Statistic@@ s().@@ add(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Statistic@@ Resource@@ Utils.@@ set@@ Dat@@ um@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ GlusterVolume@@ Profile@@ Info@@ Mapper.@@ cl@@ on@@ e(@@ org.ovirt.engine.api.restapi.@@ types.@@ GlusterVolume@@ Profile@@ Info@@ Mapper.@@ B@@ Y@@ T@@ E@@ S_@@ B@@ LO@@ C@@ K_@@ W@@ R@@ I@@ T@@ E@@ ), bl@@ ock@@ St@@ a@@ t.get@@ B@@ lock@@ W@@ rite@@ ())); profil@@ e@@ Detail@@ .get@@ B@@ lock@@ Statistic@@ s().get@@ B@@ lock@@ Statistic@@ s().@@ add(@@ b@@ Stat@@ ); } }
@java.lang.Override protected void read@@ Os@@ S@@ ection@@ (@@ X@@ ml@@ Nod@@ e s@@ ection@@ ) { _@@ vm@@ Templ@@ at@@ e.set@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (s@@ ection@@ .@@ Att@@ ri@@ b@@ ut@@ es@@ .get@@ ("@@ ovf@@ :@@ id@@ "@@ ).get@@ Value@@ ())); X@@ ml@@ Nod@@ e n@@ od@@ e = s@@ ection@@ .S@@ el@@ ect@@ Sing@@ le@@ Node@@ ("@@ Description@@ "); if (@@ n@@ od@@ e != null@@ ) { if (@@ n@@ od@@ e.@@ In@@ n@@ er@@ T@@ ex@@ t.@@ equals(@@ java.lang.String.@@ value@@ Of@@ (@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ OL@@ D_@@ O@@ TH@@ ER_@@ ID@@ ))) { n@@ od@@ e.@@ In@@ n@@ er@@ T@@ ex@@ t = java.lang.String.@@ value@@ Of@@ (@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ DE@@ FA@@ U@@ L@@ T_@@ O@@ S@@ ); } int os@@ Id = os@@ Rep@@ os@@ it@@ ory@@ .get@@ Os@@ Id@@ By@@ Un@@ i@@ q@@ ue@@ Name(@@ n@@ od@@ e.@@ In@@ n@@ er@@ Text@@ ); _@@ vm@@ Templ@@ at@@ e.set@@ Os@@ Id(@@ os@@ Id); _@@ vm@@ Templ@@ at@@ e.set@@ Ar@@ ch@@ it@@ ect@@ ure(@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ Ar@@ ch@@ it@@ ect@@ ure@@ From@@ O@@ S@@ (@@ os@@ Id@@ )); } else { _@@ vm@@ Templ@@ at@@ e.set@@ Ar@@ ch@@ it@@ ect@@ ure(@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ un@@ de@@ fin@@ ed@@ ); } }
public java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > get@@ StorageDomain@@ s() { return storageDomain@@ s@@ ; }
@java.lang.Override protected boolean validate@@ () { if (!@@ (@@ super@@ .@@ validate@@ ())) { return false@@ ; } if ((@@ (get@@ Parameters().get@@ Brick@@ s()) == null@@ ) || ((get@@ Parameters().get@@ Brick@@ s().@@ size()) == 0@@ )) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ B@@ R@@ IC@@ K@@ S_@@ RE@@ Q@@ U@@ I@@ R@@ ED); return false@@ ; } if (get@@ GlusterVolume@@ ().get@@ Volume@@ Type@@ ().is@@ Repl@@ ic@@ ated@@ Type()) { if ((get@@ Parameters().get@@ Repl@@ ic@@ a@@ Count@@ ()) > ((get@@ GlusterVolume@@ ().get@@ Repl@@ ic@@ a@@ Count@@ ()) + 1@@ )) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ AN@@ _@@ NOT_@@ IN@@ C@@ RE@@ A@@ S@@ E_@@ RE@@ P@@ L@@ IC@@ A@@ _C@@ O@@ UN@@ T_@@ M@@ OR@@ E_@@ TH@@ AN@@ _@@ ON@@ E); } else if ((get@@ Parameters().get@@ Repl@@ ic@@ a@@ Count@@ ()) < (get@@ GlusterVolume@@ ().get@@ Repl@@ ic@@ a@@ Count@@ ())) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ AN@@ _@@ NOT_@@ R@@ ED@@ U@@ C@@ E_@@ RE@@ P@@ L@@ IC@@ A@@ _C@@ O@@ UN@@ T@@ ); } } if (get@@ GlusterVolume@@ ().get@@ Volume@@ Type@@ ().is@@ St@@ ri@@ p@@ ed@@ Type()) { if ((get@@ Parameters().get@@ St@@ ri@@ p@@ e@@ Count@@ ()) > ((get@@ GlusterVolume@@ ().get@@ St@@ ri@@ p@@ e@@ Count@@ ()) + 1@@ )) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ AN@@ _@@ NOT_@@ IN@@ C@@ RE@@ A@@ S@@ E_@@ ST@@ R@@ I@@ P@@ E_@@ C@@ O@@ UN@@ T_@@ M@@ OR@@ E_@@ TH@@ AN@@ _@@ ON@@ E); } else if ((get@@ Parameters().get@@ St@@ ri@@ p@@ e@@ Count@@ ()) < (get@@ GlusterVolume@@ ().get@@ St@@ ri@@ p@@ e@@ Count@@ ())) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ AN@@ _@@ NOT_@@ R@@ ED@@ U@@ C@@ E_@@ ST@@ R@@ I@@ P@@ E_@@ C@@ O@@ UN@@ T@@ ); } } if (get@@ GlusterVolume@@ ().get@@ Volume@@ Type@@ ().is@@ Dis@@ p@@ ers@@ ed@@ Type()) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ AD@@ D_@@ B@@ R@@ IC@@ K_@@ TO@@ _@@ DIS@@ P@@ ER@@ S@@ E_@@ V@@ O@@ LU@@ M@@ E_@@ NOT_@@ SUP@@ PORT@@ ED); return false@@ ; } boolean re@@ t = (@@ update@@ Brick@@ Server@@ And@@ Interface@@ Names@@ (get@@ Parameters().get@@ Brick@@ s@@ (), true@@ )) && (@@ validate@@ D@@ up@@ l@@ icate@@ Brick@@ s@@ (get@@ Parameters().get@@ Brick@@ s@@ ())); if ((get@@ Cluster@@ ().@@ sup@@ port@@ s@@ Gluster@@ Service@@ ()) && (get@@ Cluster@@ ().@@ sup@@ port@@ s@@ Vir@@ t@@ Service@@ ())) { re@@ t = re@@ t && (@@ validate@@ Not@@ S@@ ame@@ Server@@ (get@@ Parameters().get@@ Brick@@ s@@ (), get@@ Parameters().get@@ Repl@@ ic@@ a@@ Count@@ ())); } return ret@@ ; }
@org.junit.Test public void can@@ Do@@ Change@@ For@@ b@@ id@@ d@@ en@@ Fiel@@ d@@ () { sd@@ .set@@ Storage@@ Type(@@ StorageType.@@ UN@@ K@@ NO@@ W@@ N@@ ); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Fail@@ ure(@@ cmd@@ , EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ C@@ H@@ AN@@ G@@ E_@@ STORAGE_@@ DOMA@@ IN_@@ F@@ I@@ E@@ L@@ D@@ S@@ ); }
public void set@@ U@@ plo@@ ad@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand up@@ load@@ Command@@ ) { this@@ .@@ up@@ load@@ C@@ ommand = up@@ load@@ Command@@ ; }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ UP@@ D@@ AT@@ E); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ VM_@@ T@@ EM@@ P@@ L@@ AT@@ E); }
private static void init@@ G@@ u@@ est@@ Contain@@ ers@@ List(@@ java.util.Map<java.lang.String, java.lang.Object> vm@@ Str@@ uc@@ t@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ ) { if (vm@@ Str@@ uc@@ t.@@ contains@@ Key@@ (@@ VdsProperties.@@ g@@ u@@ est@@ _@@ contain@@ ers@@ )) { vm@@ .set@@ G@@ u@@ est@@ Contain@@ ers@@ (@@ new java.util.Array@@ List@@ ()); java.lang.Object ob@@ j = vm@@ Str@@ uc@@ t.get@@ (@@ VdsProperties.@@ g@@ u@@ est@@ _@@ contain@@ ers@@ ); if (@@ ob@@ j instanceof java.lang.Object@@ []@@ ) { java.lang.Object@@ [@@ ] contain@@ er@@ List = ((@@ java.lang.Object@@ []@@ ) (@@ obj@@ )); for (java.lang.Object contain@@ er@@ O@@ b@@ j : contain@@ er@@ List@@ ) { java.util.Map<java.lang.String, java.lang.Object> contain@@ er = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ contain@@ er@@ O@@ bj@@ )); vm.get@@ G@@ u@@ est@@ Contain@@ er@@ List@@ ().add@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ G@@ u@@ est@@ Contain@@ er@@ (((@@ java.lang.String@@ ) (@@ contain@@ er@@ .get(@@ VdsProperties.@@ g@@ u@@ est@@ _@@ contain@@ er@@ _id@@ )@@ )@@ ), ((@@ java.util.List<@@ java.lang.Object@@ >) (@@ contain@@ er@@ .get(@@ VdsProperties.@@ g@@ u@@ est@@ _@@ contain@@ er@@ _@@ nam@@ es@@ )@@ )).@@ stream@@ ().@@ map@@ (@@ ( name@@ O@@ bj@@ ) -@@ > ((@@ java.lang.String@@ ) (@@ name@@ O@@ bj@@ )@@ )).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()), ((@@ java.lang.String@@ ) (@@ contain@@ er@@ .get(@@ VdsProperties.@@ g@@ u@@ est@@ _@@ contain@@ er@@ _@@ contain@@ er@@ _@@ image@@ )@@ )@@ )@@ ), ((@@ java.lang.String@@ ) (@@ contain@@ er@@ .get(@@ VdsProperties.@@ g@@ u@@ est@@ _@@ contain@@ er@@ _@@ command@@ )@@ )@@ )@@ ), ((@@ java.lang.String@@ ) (@@ contain@@ er@@ .get(@@ VdsProperties.@@ g@@ u@@ est@@ _@@ contain@@ er@@ _@@ status@@ )@@ )@@ ))); } } }
protected boolean is@@ Migration@@ Interface@@ Up@@ (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface nic@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > nic@@ s) { if ((@@ nic@@ .get@@ V@@ lan@@ Id()) != null@@ ) { java.lang.String p@@ h@@ y@@ s@@ ical@@ N@@ ic = org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ st@@ ri@@ p@@ V@@ lan@@ (@@ nic@@ .get@@ Name()); for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e : nic@@ s) { if (@@ if@@ ac@@ e.@@ equals(@@ p@@ h@@ y@@ s@@ ical@@ Nic@@ )) { return (@@ if@@ ac@@ e.get@@ Statistic@@ s().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.network.@@ Interface@@ Status.@@ UP@@ ); } } } return (@@ nic@@ .get@@ Statistic@@ s().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.network.@@ Interface@@ Status.@@ UP@@ ); }
protected boolean set@@ And@@ Validate@@ Cpu@@ Profile@@ () { if ((org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ Template@@ Type()) == (org.ovirt.engine.core.common.businessentities.Vm@@ Entity@@ Type.@@ IN@@ ST@@ AN@@ C@@ E_@@ TYP@@ E@@ )) { return true@@ ; } return validate@@ (org.ovirt.engine.core.bll.@@ profil@@ es.@@ Cpu@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Cpu@@ Profil@@ e(@@ org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ Ma@@ ster@@ Vm@@ (), org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ E@@ ff@@ ec@@ tive@@ CompatibilityVersion@@ ())); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > get@@ AllFor@@ StorageDomain@@ (org.ovirt.engine.core.compat.Guid storageDomain@@ , org.ovirt.engine.core.compat.Guid user@@ ID@@ , boolean is@@ Filter@@ ed@@ ) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Vm@@ Templ@@ at@@ es@@ By@@ StorageDomain@@ Id@@ ", org.ovirt.engine.core.dao.@@ VmTemplate@@ Dao@@ Impl.@@ VM@@ Template@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ storage@@ _@@ do@@ m@@ ain@@ _id", storageDomain@@ ).@@ addValue("@@ user@@ _id", user@@ ID@@ ).@@ addValue("@@ is@@ _@@ filter@@ ed@@ ", is@@ Filter@@ ed@@ )); }
@java.lang.Override protected boolean canDoAction@@ () { org.ovirt.engine.core.compat.Guid user@@ Id = org.ovirt.engine.core.bll.@@ User@@ Profil@@ es@@ Operation@@ CommandBase.get@@ Parameters().get@@ User@@ Profile@@ ().get@@ User@@ Id@@ (); if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (@@ user@@ Id@@ )) { user@@ Id = org.ovirt.engine.core.bll.@@ User@@ Profil@@ es@@ Operation@@ CommandBase.get@@ User@@ Id@@ (); org.ovirt.engine.core.bll.@@ User@@ Profil@@ es@@ Operation@@ CommandBase.get@@ Parameters().get@@ User@@ Profile@@ ().set@@ User@@ Id(@@ user@@ Id); } else if (!(@@ user@@ Id@@ .@@ equals@@ (org.ovirt.engine.core.bll.@@ User@@ Profil@@ es@@ Operation@@ CommandBase.get@@ User@@ Id@@ ()))) { return failCanDoAction@@ (EngineMessage.@@ US@@ ER_@@ NOT_@@ A@@ U@@ TH@@ OR@@ I@@ Z@@ ED_@@ TO@@ _P@@ ER@@ F@@ OR@@ M@@ _@@ AC@@ TI@@ ON@@ ); } java.lang.String s@@ sh@@ P@@ ubl@@ ic@@ K@@ e@@ y = org.ovirt.engine.core.bll.@@ User@@ Profil@@ es@@ Operation@@ CommandBase.get@@ Parameters().get@@ User@@ Profile@@ ().get@@ S@@ sh@@ P@@ ubl@@ ic@@ Key@@ (); if ((@@ s@@ sh@@ P@@ ubl@@ ic@@ K@@ e@@ y == null@@ ) || (s@@ sh@@ P@@ ubl@@ ic@@ Key@@ .@@ isEmpty@@ ())) { return true@@ ; } if (!(@@ org.ovirt.engine.core.@@ u@@ utils.@@ s@@ sh@@ .@@ Op@@ en@@ SS@@ H@@ Utils.@@ is@@ P@@ ubl@@ ic@@ Key@@ s@@ Valid@@ (s@@ sh@@ P@@ ubl@@ ic@@ Key@@ ))) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ IN@@ VALID@@ _P@@ U@@ B@@ L@@ IC@@ _@@ SS@@ H@@ _@@ K@@ E@@ Y@@ ); } return true@@ ; }
@org.junit.Test public void has@@ Local@@ Domain@@ () { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c sd@@ c = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ (); s@@ dc@@ .set@@ Storage@@ Type(@@ StorageType.@@ LO@@ C@@ AL@@ FS@@ ); when@@ (s@@ p@@ Dao@@ .get(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command@@ Test.@@ create@@ New@@ StoragePool@@ ()); when@@ (s@@ d@@ Dao.get@@ AllFor@@ StoragePool@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ thenReturn(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (s@@ dc@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Fail@@ ure(@@ cmd@@ , EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ C@@ H@@ AN@@ G@@ E_@@ STORAGE_@@ P@@ O@@ OL@@ _@@ TYPE_@@ W@@ I@@ TH@@ _@@ LO@@ C@@ AL@@ ); }
@java.lang.Override public java.lang.String get@@ Value@@ (java.lang.Object object@@ ) { return ((@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ ) (@@ object@@ )@@ ).get@@ Name@@ (); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > get@@ AllFor@@ Network@@ (org.ovirt.engine.core.compat.Guid network@@ Id) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ network@@ _id", network@@ Id); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > vds@@ List = get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Vds@@ By@@ Network@@ Id@@ ", org.ovirt.engine.core.dao.@@ Vds@@ Dao@@ Impl.@@ Vds@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); return un@@ i@@ te@@ Agent@@ s(@@ vds@@ List@@ ); }
private void t@@ og@@ g@@ le@@ Visi@@ bl@@ e@@ Widget@@ s@@ (@@ int current@@ W@@ id@@ th@@ ) { int w@@ idget@@ W@@ id@@ t@@ h = 0@@ ; boolean fo@@ un@@ d@@ E@@ d@@ g@@ e = false@@ ; if ((@@ cont@@ ent@@ Panel@@ .get@@ Widget@@ Count@@ ()) > 1@@ ) { for (@@ int i = 0@@ ; i < ((@@ cont@@ ent@@ Panel@@ .get@@ Widget@@ Count@@ ()) - 1@@ ); i@@ +@@ +@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ W@@ id@@ ge@@ t w@@ id@@ ge@@ t = cont@@ ent@@ Panel@@ .get@@ Widget@@ (@@ i@@ ); if (!(@@ widget.@@ is@@ Visi@@ bl@@ e@@ ())) { continue@@ ; } if (@@ fo@@ un@@ d@@ E@@ d@@ E@@ d@@ g@@ e || ((@@ w@@ idget@@ W@@ id@@ t@@ h + (@@ w@@ idget@@ .get@@ Of@@ f@@ set@@ W@@ id@@ th@@ ())) > current@@ W@@ id@@ th@@ )) { w@@ idget@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); t@@ ool@@ b@@ ar@@ Only@@ Action@@ Button@@ Lis@@ t.get@@ (@@ i@@ )@@ .set@@ C@@ as@@ c@@ a@@ ded@@ (@@ true@@ ); fo@@ un@@ d@@ E@@ g@@ e = true@@ ; } else { t@@ ool@@ b@@ ar@@ Only@@ Action@@ Button@@ Lis@@ t.get@@ (@@ i@@ )@@ .set@@ C@@ as@@ c@@ a@@ ded@@ (@@ false@@ ); w@@ idget@@ W@@ id@@ t@@ h +@@ = w@@ idget@@ .get@@ Of@@ f@@ set@@ W@@ id@@ th@@ (); } } }
public static void get@@ o@@ Vir@@ t@@ IS@@ Os@@ List(@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , org.ovirt.engine.core.compat.Guid id@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { return s@@ ource != null ? new java.util.ArrayList<@@ org.ovirt.engine.core.compat.@@ R@@ p@@ m@@ Version@@ >@@ (((@@ java.util.ArrayList<@@ org.ovirt.engine.core.compat.@@ R@@ p@@ m@@ Version@@ >) (s@@ ource@@ ))) : new java.util.ArrayList<@@ org.ovirt.engine.core.compat.@@ R@@ p@@ m@@ Version@@ >(); } }; org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ o@@ Vir@@ t@@ IS@@ O@@ s, new org.ovirt.engine.core.common.queries.@@ Id@@ Parameters@@ Bas@@ e(@@ id@@ ), aQuery@@ ); }
private void ex@@ tr@@ act@@ Rem@@ oved@@ Networks@@ () { for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e : get@@ Existing@@ I@@ fac@@ es@@ ().@@ valu@@ es@@ ()) { java.lang.String ne@@ t = if@@ ac@@ e.get@@ Network@@ Name@@ (); if ((@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (@@ net@@ )) && (!(@@ attach@@ ed@@ Networks@@ Nam@@ es.@@ contains(@@ net@@ )@@ ))) { rem@@ oved@@ Network@@ s.add(@@ net@@ ); } } java.util.List<java.lang.String> vm@@ Name@@ s = get@@ Vm@@ Interface@@ Manager@@ ().@@ fin@@ d@@ Active@@ Vms@@ Us@@ ing@@ Network@@ s(@@ param@@ s.get@@ Vds@@ Id(), rem@@ oved@@ Networks@@ ); for (java.lang.String vm@@ Name : vm@@ Names@@ ) { add@@ Vi@@ ol@@ ation@@ (EngineMessage.@@ NETWORK_@@ C@@ ANNOT_@@ D@@ ET@@ AC@@ H@@ _@@ NETWORK_@@ US@@ ED_@@ B@@ Y_@@ VM@@ S@@ , vm@@ Name); } }
private void end@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > list@@ Vm@@ s = get@@ Vms@@ For@@ Disk@@ Id@@ (); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : list@@ Vm@@ s) { org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Command.getVm@@ Static@@ DAO@@ ().@@ in@@ c@@ re@@ ment@@ Db@@ Gener@@ ation@@ (vm.get@@ Id()); } dis@@ k = get@@ Disk@@ Dao().get@@ (((@@ org.ovirt.engine.core.compat.Guid@@ ) (org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Command.getParameters().get@@ Entity@@ Id@@ ()))); org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ En@@ d@@ Action(VdcActionType.@@ Remove@@ Image@@ , org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Command.getParameters().get@@ Images@@ Parameters().get@@ (0@@ )); org.ovirt.engine.core.bll.@@ Remove@@ Disk@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
private void create@@ Host@@ ed@@ Engine@@ Vm@@ (org.ovirt.engine.core.compat.Guid id@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Stati@@ c = new org.ovirt.engine.core.common.businessentities.Vm@@ Static@@ (); vm@@ Static@@ .set@@ Id(@@ id@@ ); vm@@ Static@@ .set@@ Cluster@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ C@@ LUSTER_@@ R@@ H@@ E@@ L@@ 6@@ _@@ IS@@ C@@ SI@@ ); vm@@ Static@@ .set@@ Name@@ ("@@ Host@@ ed@@ Engine@@ "); vm@@ Static@@ .set@@ O@@ ri@@ gin@@ (@@ O@@ ri@@ gin@@ Type.@@ HOST@@ ED_@@ EN@@ G@@ IN@@ E); get@@ DbFacade@@ ().get@@ Vm@@ Static@@ Dao().@@ save@@ (vm@@ Static@@ ); org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ Dynam@@ ic = new org.ovirt.engine.core.common.businessentities.Vm@@ Dynamic@@ (); vm@@ Dynamic@@ .set@@ Id(@@ id@@ ); get@@ DbFacade@@ ().get@@ Vm@@ Dynamic@@ Dao().@@ save@@ (vm@@ Dynamic@@ ); org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s vm@@ Statistic@@ s = new org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s(); vm@@ Statistic@@ s.set@@ Id(@@ id@@ ); }
@java.lang.Override protected void build@@ S@@ y@@ sp@@ re@@ p@@ Vm@@ P@@ ay@@ load@@ (java.lang.String s@@ y@@ s@@ Pre@@ p@@ Content@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ P@@ ay@@ lo@@ a@@ d vm@@ P@@ ay@@ lo@@ a@@ d = new org.ovirt.engine.core.common.businessentities.Vm@@ P@@ ay@@ load@@ (); vm@@ P@@ ay@@ load@@ .set@@ Device@@ Type(@@ VmDevice@@ Type.@@ F@@ LO@@ P@@ Y@@ ); vm@@ P@@ ay@@ load@@ .get@@ Fil@@ es@@ ().@@ put(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Buil@@ der.@@ S@@ Y@@ SP@@ RE@@ P@@ _@@ F@@ IL@@ E_@@ NAM@@ E, org.apache.commons.lang.StringUtils.@@ remove@@ (@@ org.apache.commons.@@ c@@ ode@@ c.@@ b@@ in@@ ar@@ y@@ .@@ Base@@ 6@@ 4@@ .@@ enc@@ ode@@ Base@@ 6@@ 4@@ String@@ (s@@ y@@ s@@ Pre@@ p@@ Cont@@ ent.get@@ By@@ t@@ es@@ ()), '@@ \@@ r@@ '@@ )); org.ovirt.engine.core.common.businessentities.Vm@@ Device vm@@ Device = new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), vm.get@@ Id@@ ()), org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Gener@@ al@@ Type.@@ DIS@@ K@@ , VmDevice@@ Type.@@ F@@ LO@@ P@@ Y@@ .get@@ Name(), "@@ ", 0@@ , vm@@ P@@ ay@@ load@@ .get@@ Sp@@ ec@@ Param@@ s@@ (), true@@ , true@@ , "@@ ", null@@ , null@@ ); java.util.Map<java.lang.String, java.lang.Object> struc@@ t = new java.util.HashMap<@@ java.lang.String, java.lang.Object@@ >(); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Buil@@ der.@@ add@@ F@@ lo@@ p@@ p@@ p@@ y@@ Detail@@ s(@@ vm@@ Device@@ , struc@@ t@@ ); add@@ Device@@ (@@ struc@@ t@@ , vm@@ Device@@ , vm.get@@ F@@ lo@@ p@@ p@@ p@@ y@@ Path@@ ()); }
private void r@@ ec@@ o@@ ver@@ K@@ d@@ um@@ p@@ ing@@ Host@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s) { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > k@@ d@@ um@@ p@@ ing@@ Host@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { if ((@@ hos@@ t.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ K@@ d@@ um@@ p@@ ing@@ )) { k@@ d@@ um@@ p@@ ing@@ Host@@ s.add(@@ host@@ ); } } if (!(@@ k@@ d@@ um@@ p@@ ing@@ Host@@ s.@@ isEmpty@@ ())) { org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ execute@@ (@@ new java.lang.@@ Run@@ n@@ able@@ () { @java.lang.Override public void run@@ () { int m@@ Sec@@ To@@ W@@ a@@ i@@ t = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Dis@@ able@@ Fence@@ A@@ t@@ Start@@ up@@ In@@ Sec@@ )) * 1@@ 00@@ 0@@ ; org.ovirt.engine.core.utils.@@ Th@@ read@@ Utils.@@ s@@ le@@ ep@@ (m@@ Sec@@ To@@ W@@ a@@ it@@ ); execute@@ Not@@ Respon@@ d@@ ing@@ T@@ re@@ at@@ ment@@ (@@ k@@ d@@ um@@ p@@ s); } }); }
private boolean update@@ Iso@@ List@@ From@@ VDS@@ M@@ (org.ovirt.engine.core.compat.Guid re@@ p@@ o@@ StoragePool@@ Id, org.ovirt.engine.core.compat.Guid re@@ p@@ o@@ StorageDomain@@ Id, java.util.Map<java.lang.String, java.lang.Object@@ >> fil@@ e@@ Stat@@ s) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ File@@ List@@ Re@@ fresh@@ ed fil@@ e@@ List@@ Re@@ fresh@@ ed = new org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ File@@ List@@ Re@@ fresh@@ ed@@ () { @java.lang.Override public void on@@ File@@ List@@ Re@@ fresh@@ ed(@@ org.ovirt.engine.core.compat.Guid pool@@ Id, java.util.@@ Set<@@ java.lang.String> is@@ o@@ List@@ ) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ re@@ fresh@@ Vms@@ T@@ ool@@ s@@ Version@@ (@@ pool@@ Id, is@@ o@@ List@@ ); } }; return re@@ fresh@@ Vds@@ m@@ File@@ List(@@ re@@ p@@ o@@ StoragePool@@ Id, re@@ p@@ o@@ StorageDomain@@ Id, Image@@ File@@ Type.@@ IS@@ O@@ , fil@@ e@@ Stat@@ s, fil@@ e@@ List@@ Re@@ fresh@@ ed@@ ); }
protected static void update@@ Local@@ Disks@@ Us@@ age@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ Str@@ uc@@ t@@ ) { if (@@ x@@ mlR@@ pc@@ Str@@ uc@@ t.@@ contains@@ Key@@ (@@ VdsProperties.@@ DIS@@ K_@@ ST@@ AT@@ S@@ )) { java.util.Map<java.lang.String, java.lang.Object> disk@@ Stat@@ s@@ Str@@ uc@@ t = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ x@@ mlR@@ pc@@ Str@@ uc@@ t.get@@ (@@ VdsProperties.@@ DIS@@ K_@@ ST@@ AT@@ S@@ ))); java.util.Map<java.lang.String, java.lang.@@ L@@ on@@ g@@ > disk@@ Stat@@ s = new java.util.HashMap<@@ java.lang.String, java.lang.@@ L@@ on@@ g@@ >(); vd@@ s.set@@ Local@@ Disks@@ Us@@ age@@ (disk@@ Stat@@ s); for (java.lang.String p@@ at@@ h : disk@@ Stat@@ s@@ Str@@ uc@@ t.@@ key@@ Set@@ ()) { java.util.Map<java.lang.String, java.lang.Object> p@@ ath@@ Stat@@ s@@ Str@@ uc@@ t = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (disk@@ Stat@@ s@@ Str@@ uc@@ t.get@@ (p@@ ath@@ ))); disk@@ Stat@@ s.@@ put(@@ p@@ ath@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ As@@ s@@ ign@@ L@@ on@@ g@@ Value(@@ p@@ ath@@ Stat@@ s@@ Str@@ uc@@ t@@ , VdsProperties.@@ DIS@@ K_@@ ST@@ AT@@ S_@@ F@@ RE@@ E@@ )); } } }
private void init@@ Un@@ re@@ gist@@ er@@ ed@@ VM@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate vm@@ From@@ Configuration@@ ; ovf@@ Entity@@ Data = org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.get@@ Un@@ re@@ gist@@ er@@ ed@@ OV@@ F@@ Data@@ Dao().get@@ By@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.getParameters().get@@ Contain@@ er@@ Id()); if ((@@ ovf@@ Entity@@ Data@@ ) != null@@ ) { try { org.ovirt.engine.core.bll.@@ Ovf@@ Help@@ er ovf@@ Help@@ er = new org.ovirt.engine.core.bll.@@ Ovf@@ Helper@@ (); vm@@ From@@ Configur@@ ation = ovf@@ Helper.@@ read@@ VmTemplate@@ From@@ Ovf@@ (@@ ovf@@ Entity@@ Data@@ .get@@ Ovf@@ Data@@ ()); vm@@ From@@ Configuration@@ .set@@ VdsGroup@@ Id@@ (org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.getParameters().get@@ VdsGroup@@ Id()); org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ VmTemplate@@ (vm@@ From@@ Configuration@@ ); org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ Dest@@ Domain@@ Id(@@ ovf@@ Entity@@ Data@@ .get@@ StorageDomain@@ Id()); org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ Source@@ Domain@@ Id(@@ ovf@@ Entity@@ Data@@ .get@@ StorageDomain@@ Id()); } catch (@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ Ovf@@ Read@@ er@@ Exception e) { org.ovirt.engine.core.bll.@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.@@ log.error@@ Format@@ ((@@ "@@ fail@@ ed to par@@ se a g@@ ive@@ n ov@@ f config@@ ur@@ ation@@ : \@@ n@@ " + (@@ ovf@@ Entity@@ Data@@ .get@@ Ovf@@ Data@@ ())@@ ), e); } } }
java.lang.String id@@ ();
@java.lang.Override public void ro@@ ll@@ back@@ () { super@@ .@@ ro@@ ll@@ back@@ (); pool@@ Per@@ C@@ luster.@@ m@@ o@@ d@@ if@@ y@@ Pool@@ (@@ old@@ MacPool@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value@@ () { return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ StorageDomain@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ AD@@ D_@@ STORAGE_@@ DOMA@@ I@@ N : org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ AD@@ D_@@ STORAGE_@@ DOMA@@ IN_@@ FAIL@@ ED@@ ; }
@java.lang.Override public void edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Import@@ Cl@@ one@@ Model object@@ ) { if ((@@ objec@@ t.get@@ Entity@@ ()) instanceof org.ovirt.engine.core.common.businessentities.@@ VM@@ ) { d@@ ial@@ og@@ Label@@ Editor@@ .set@@ Text@@ (m@@ ess@@ ages.@@ s@@ ame@@ Vm@@ Name@@ Exist@@ s@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (@@ objec@@ t.get@@ Entity@@ ())@@ ).get@@ Name@@ ())); cl@@ one@@ Editor@@ .@@ as@@ R@@ ad@@ i@@ o@@ Button@@ ().set@@ H@@ T@@ M@@ L@@ (@@ templat@@ es.@@ t@@ w@@ o@@ Lin@@ es@@ R@@ ad@@ i@@ o@@ Button@@ Label@@ (@@ const@@ an@@ t@@ s.@@ cl@@ one@@ ImportVm@@ (), const@@ an@@ t@@ s.@@ cl@@ one@@ ImportVm@@ Detail@@ s@@ ()).@@ as@@ String@@ ()); s@@ u@@ f@@ fi@@ x@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ cl@@ one@@ Import@@ Su@@ f@@ fi@@ x@@ Vm@@ ()); } else { d@@ ial@@ og@@ Label@@ Editor@@ .set@@ Text@@ ((((@@ (@@ const@@ an@@ t@@ s.@@ s@@ ame@@ Template@@ Name@@ Exist@@ s()) + " ("@@ ) + ((@@ (org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ ) (@@ objec@@ t.get@@ Entity@@ ())@@ ).get@@ name@@ ())) + "@@ )@@ ")); cl@@ one@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ cl@@ one@@ Import@@ Template@@ ()); s@@ u@@ f@@ fi@@ x@@ Editor@@ .set@@ Label@@ (@@ const@@ an@@ t@@ s.@@ cl@@ one@@ Import@@ Su@@ f@@ fi@@ x@@ Template@@ ()); } org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ storage.@@ back@@ up@@ .@@ Import@@ Cl@@ one@@ D@@ ial@@ og@@ Popup@@ View@@ .@@ D@@ ri@@ ver.@@ d@@ ri@@ ver.@@ edit@@ (@@ object@@ ); }
protected void execute@@ Import@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ ImportVm@@ From@@ Export@@ Domain@@ Model import@@ Vm@@ Model) { import@@ Vm@@ Model@@ .@@ import@@ Vms@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ .@@ this@@ .set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); } }, cl@@ one@@ Object@@ Map@@ ); }
private void build@@ Vm@@ Us@@ b@@ Cont@@ ro@@ ll@@ ers@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Device@@ s = vm@@ Device@@ Dao.get@@ VmDevice@@ By@@ Vm@@ Id@@ Type@@ And@@ Device@@ (vm.get@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ C@@ ON@@ T@@ RO@@ L@@ L@@ ER@@ , VmDevice@@ Type.@@ US@@ B@@ .get@@ Name()); for (org.ovirt.engine.core.common.businessentities.Vm@@ Device vm@@ Device : vm@@ Devices@@ ) { java.util.Map<java.lang.String, java.lang.Object> struc@@ t = new java.util.HashMap<@@ >(); struc@@ t.@@ put(@@ VdsProperties.@@ Type, vm@@ Devic@@ e.get@@ Type@@ ().get@@ Value@@ ()); struc@@ t.@@ put(@@ VdsProperties.@@ Device@@ , vm@@ Devic@@ e.get@@ Device@@ ()); vm@@ Info@@ Buil@@ d@@ Utils.@@ set@@ Vds@@ Properties@@ From@@ Sp@@ ec@@ Param@@ s(@@ vm@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s@@ (), struc@@ t@@ ); struc@@ t.@@ put(@@ VdsProperties.@@ Sp@@ ec@@ Param@@ s, new java.util.HashMap<@@ java.lang.String, java.lang.Object@@ >@@ ()); struc@@ t.@@ put(@@ VdsProperties.@@ Device@@ Id, java.lang.String.@@ value@@ Of@@ (vm@@ Devic@@ e.get@@ Id@@ ().get@@ Device@@ Id@@ ())); vm@@ Info@@ Buil@@ d@@ Utils.@@ add@@ Address@@ (vm@@ Device@@ , struc@@ t@@ ); java.lang.String model = ((@@ java.lang.String@@ ) (@@ struc@@ t.get@@ (@@ VdsProperties.@@ Model@@ ))); if ((@@ model != null@@ ) && (vm@@ Info@@ Buil@@ d@@ Utils.@@ is@@ F@@ ir@@ st@@ Ma@@ ster@@ Cont@@ ro@@ ll@@ er@@ (model@@ ))) { de@@ vic@@ es.@@ add(@@ 0@@ , struc@@ t@@ ); } else { de@@ vic@@ es.@@ add(@@ struc@@ t@@ ); } } }
private boolean validate@@ Attachment@@ () { org.ovirt.engine.core.compat.@@ Version cluster@@ Version = org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Update@@ Network@@ On@@ Cluster@@ Command.get@@ VdsGroup@@ DAO@@ ().get@@ (get@@ Network@@ Cluster@@ ().get@@ Cluster@@ Id@@ ())@@ .get@@ c@@ ompatibility@@ _@@ version@@ (); org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Validator@@ (get@@ Network@@ Cluster@@ (), cluster@@ Version@@ ); return (((@@ validate@@ (@@ valid@@ ator@@ .m@@ an@@ age@@ ment@@ NetworkAttachment@@ (get@@ Network@@ ()))) && (@@ validate@@ (@@ valid@@ ator@@ .m@@ an@@ age@@ ment@@ Network@@ Chang@@ e(@@ get@@ O@@ l@@ d@@ Network@@ Cluster@@ ())@@ ))) && (@@ validate@@ (@@ valid@@ ator@@ .m@@ igr@@ ation@@ Property@@ Supported@@ ()))) && ((!@@ (get@@ Network@@ ().is@@ External@@ ())) || (@@ validate@@ External@@ Network@@ (@@ valid@@ ator@@ ))); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.frontend.@@ Frontend@@ Fail@@ ure@@ EventArg@@ s args) { error@@ Popup@@ Manager.@@ sh@@ ow@@ (m@@ ess@@ ages.@@ ui@@ C@@ ommon@@ Run@@ Action@@ Fail@@ ed(@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ Error@@ Message@@ Format@@ ter@@ .@@ for@@ mat@@ Messages@@ (@@ arg@@ s.get@@ Messages@@ ()))); }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value@@ () { return org.ovirt.engine.core.bll.@@ gluster.@@ Storage@@ Connection@@ Helper@@ .get@@ AuditLog@@ Type@@ Value@@ (); }
public static boolean is@@ Vm@@ P@@ ri@@ or@@ ity@@ Value@@ Le@@ g@@ al@@ (@@ int value@@ , java.util.List<java.lang.String> re@@ ason@@ s) { boolean re@@ s = false@@ ; if ((@@ valu@@ e >@@ = 0) && (@@ valu@@ e <@@ = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Vm@@ P@@ ri@@ or@@ ity@@ Max@@ Value@@ )@@ ))) { re@@ s = true@@ ; } else { re@@ ason@@ s.add(@@ EngineMessage.@@ VM_@@ OR@@ _@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ IL@@ LE@@ G@@ AL@@ _P@@ R@@ I@@ OR@@ I@@ TY@@ _@@ VAL@@ U@@ E@@ .@@ toString()); re@@ ason@@ s.add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Max@@ Value %@@ 1@@ $@@ s", org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Vm@@ P@@ ri@@ or@@ ity@@ Max@@ Value@@ ))); } return res@@ ; }
private org.ovirt.engine.core.compat.Guid get@@ Vds@@ To@@ Run@@ On@@ (java.lang.@@ I@@ ter@@ able@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ > vds@@ s) { java.lang.String@@ Bu@@ ff@@ er s@@ b = new java.lang.String@@ Bu@@ f@@ fer@@ (); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > read@@ y@@ To@@ R@@ u@@ n = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS c@@ ur@@ V@@ d@@ s : vds@@ s) { if ((@@ validate@@ Host@@ Is@@ Read@@ y@@ To@@ Run@@ (c@@ ur@@ Vds@@ , s@@ b@@ )) == (@@ ValidationRes@@ ult.@@ VALID@@ )) { read@@ y@@ To@@ Run@@ .@@ add@@ (c@@ ur@@ Vds@@ ); } } if (@@ read@@ y@@ To@@ Run@@ .@@ isEmpty@@ ()) { org.ovirt.engine.core.bll.@@ Vds@@ Sel@@ ect@@ or.@@ log.info@@ (s@@ b@@ .@@ toString()); return org.ovirt.engine.core.compat.Guid.@@ Empty@@ ; } else { return get@@ B@@ est@@ Vds@@ To@@ Run@@ (@@ read@@ y@@ To@@ Run@@ ); } }
@@@ javax.ws.rs.@@ G@@ E@@ T public org.ovirt.engine.api.model.@@ Network@@ Device get@@ ();
@java.lang.Override public void on@@ M@@ o@@ us@@ e@@ Up@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ M@@ o@@ us@@ e@@ Up@@ Event m@@ o@@ us@@ e@@ Up@@ Event@@ ) { m@@ o@@ us@@ e@@ Down@@ On@@ D@@ ro@@ p@@ Down@@ Image = false@@ ; }
java.lang.String un@@ it@@ ();
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.compat.Guid task@@ Id = p@@ ers@@ ist@@ AsyncTask@@ P@@ l@@ ace@@ H@@ ol@@ der@@ (VdcActionType.@@ Remove@@ VmTemplate@@ ); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Delet@@ e@@ ImageGroup@@ , org.ovirt.engine.core.bll.storage.@@ Sec@@ ure@@ Delet@@ ion@@ Handler.@@ fi@@ x@@ Parameters@@ With@@ Sec@@ ure@@ Delet@@ ion@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ Delet@@ e@@ ImageGroup@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ ImageGroup@@ ID@@ (), org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ (), false@@ ))); if (vds@@ Return@@ Value.get@@ Succeeded@@ ()) { org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.get@@ ReturnValue().get@@ Internal@@ Vds@@ m@@ Task@@ Id@@ List@@ ().add@@ (c@@ reate@@ Task@@ (@@ task@@ Id, vds@@ Return@@ Value.get@@ Cre@@ ation@@ Info@@ (), Vdc@@ ActionType.@@ Remove@@ VmTemplate@@ , Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ())); org.ovirt.engine.core.bll.@@ Remove@@ Template@@ Snapshot@@ Command.set@@ Succeeded@@ (@@ true@@ ); } }
public void p@@ op@@ ul@@ ate@@ D@@ wh@@ Os@@ Info@@ (@@ java.util.Map<@@ java.lang.Integer@@ , java.lang.String> os@@ Id@@ To@@ Name@@ ) { get@@ Call@@ sHandler@@ ().execute@@ Read@@ ("@@ cl@@ e@@ ar@@ _@@ os@@ info@@ ", ((@@ java.util.@@ List < org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source@@ ) > org.ovirt.engine.core.dal.dbbroker.@@ execu@@ tion@@ s@@ )) = new Array@@ List<@@ org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source@@ >(); for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.Integer@@ , java.lang.String> e : os@@ Id@@ To@@ Nam@@ e.@@ e@@ n@@ try@@ Set@@ ()) { execu@@ tion@@ s.@@ add@@ (@@ new org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ os@@ _id", e.get@@ Key@@ ()).addValue("@@ os@@ _@@ name@@ ", e.get@@ Value@@ ())); } get@@ Call@@ sHandler@@ ().execute@@ Stor@@ ed@@ Pro@@ c@@ As@@ B@@ atch@@ ("@@ p@@ op@@ ul@@ ate@@ Os@@ Info@@ ", execu@@ tion@@ s); }
private java.util.@@ f@@ un@@ c@@ tion@@ .@@ P@@ red@@ icate@@ <@@ ? super org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface@@ > is@@ Vnic@@ Migr@@ at@@ able(@@ org.ovirt.engine.core.common.businessentities.VM vm@@ ) { return ( vnic@@ ) -@@ > (!(@@ vnic@@ .is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ())) || ((@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ s@@ ri@@ ov@@ Hot@@ Plug@@ Supported@@ (vm.get@@ Cluster@@ CompatibilityVersion@@ ())) && (get@@ Vnic@@ Profil@@ e(@@ vnic@@ ).@@ is@@ Migr@@ at@@ able@@ ())); }
protected void de@@ ac@@ tivate@@ StorageDomain@@ Af@@ ter@@ Task@@ Execution@@ () { final org.ovirt.engine.core.common.action.@@ StorageDomain@@ Pool@@ Parameters@@ Base param@@ s = new org.ovirt.engine.core.common.action.@@ StorageDomain@@ Pool@@ Parameters@@ Bas@@ e(@@ org.ovirt.engine.core.bll.storage.@@ De@@ ac@@ tivate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ De@@ ac@@ tivate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ StoragePool@@ Id()); params.set@@ S@@ k@@ ip@@ Check@@ s@@ (@@ true@@ ); boolean new@@ Th@@ rea@@ d = ((@@ org.ovirt.engine.core.bll.storage.@@ De@@ ac@@ tivate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ StorageDomain@@ ().get@@ StorageDomain@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Ma@@ ster@@ )) && ((@@ org.ovirt.engine.core.bll.storage.@@ De@@ ac@@ tivate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ New@@ Ma@@ ster@@ (@@ false@@ )) == null@@ ); if (@@ new@@ Th@@ read@@ ) { org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ execute@@ (@@ new java.lang.@@ Run@@ n@@ able@@ () { @java.lang.Override public void run@@ () { try { org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map ma@@ p = load@@ StoragePool@@ Iso@@ Map@@ (); org.ovirt.engine.core.bll.@@ contex@@ t.@@ Comp@@ ens@@ ation@@ Contex@@ t contex@@ t = create@@ Default@@ Comp@@ ens@@ ation@@ Context@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); ch@@ ang@@ e@@ Domain@@ Status@@ With@@ Comp@@ ens@@ ation@@ (m@@ ap@@ , StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ , StorageDomain@@ Status.@@ Lock@@ ed@@ , contex@@ t@@ ); w@@ a@@ it@@ For@@ Task@@ sTo@@ Be@@ C@@ le@@ ared@@ (); execute@@ De@@ ac@@ tivate@@ Comm@@ n@@ ad@@ (@@ false@@ ); contex@@ t.@@ res@@ et@@ Comp@@ ens@@ ation@@ (); } catch (@@ java.lang.Exception e) { set@@ Succeeded@@ (@@ false@@ ); log.error("@@ E@@ r@@ ro@@ r wh@@ e@@ n at@@ temp@@ t@@ ing to de@@ ac@@ tiva@@ te stor@@ age do@@ ma@@ in {0@@ }@@ ", get@@ StorageDomain@@ Id(), e); comp@@ ens@@ ate@@ (); } }); } else { execute@@ De@@ ac@@ tivate@@ Comm@@ n@@ ad@@ (@@ false@@ ); } } }
@java.lang.Override protected void s@@ el@@ ect@@ P@@ h@@ y@@ s@@ ical@@ Dat@@ ac@@ enter@@ Network@@ () { final org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = get@@ Network@@ (); }
@java.lang.Override public void validate@@ Enum@@ s(@@ org.ovirt.engine.api.model.@@ Hos@@ t host@@ ) { if (@@ host.@@ isSet@@ Type()) { validate@@ Enum@@ (org.ovirt.engine.api.model.@@ P@@ m@@ Proxy@@ Type@@ .@@ class@@ , hos@@ t.get@@ Type@@ (), true@@ ); } }
public void ro@@ ll@@ back@@ Quota@@ By@@ Vm@@ Id(@@ org.ovirt.engine.core.compat.Guid vm@@ Id) { org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Dao().get@@ (vm@@ Id); if (@@ vm != null@@ ) { ro@@ ll@@ back@@ Quota@@ (vm.get@@ StoragePool@@ Id(), java.util.Arrays.as@@ List@@ (vm.get@@ Quota@@ Id@@ ())); } }
@java.lang.Override public void save@@ (@@ T entity@@ ) { get@@ Entity@@ Manager@@ ().@@ m@@ er@@ g@@ e(@@ entity@@ ); }
@java.lang.Override protected void execute@@ Command() { log.info@@ ("@@ Cre@@ at@@ ing Image@@ Trans@@ f@@ er enti@@ ty for c@@ ommand '{}@@ '@@ ", org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er enti@@ ty = new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); entity.set@@ Command@@ Type(@@ org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.get@@ Action@@ Type@@ ()); entity.set@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ IN@@ I@@ TI@@ AL@@ I@@ Z@@ ING@@ ); entity.set@@ L@@ ast@@ Update@@ d@@ (@@ new java.util.@@ D@@ ate@@ ()); entity.set@@ By@@ t@@ es@@ T@@ otal@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Size@@ ()); image@@ Trans@@ fer@@ Dao@@ .@@ save@@ (@@ entity@@ ); if (is@@ Image@@ Sup@@ pl@@ i@@ ed@@ ()) { h@@ andle@@ Image@@ Is@@ Read@@ y@@ For@@ Trans@@ fer@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Image@@ Id()); } else { if ((@@ org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Trans@@ fer@@ Type.@@ Down@@ load@@ )) { fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ IM@@ AGE_@@ NOT_@@ SP@@ EC@@ I@@ F@@ I@@ ED_@@ F@@ OR@@ _@@ DO@@ W@@ N@@ LO@@ AD@@ ); org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.set@@ Succeeded@@ (@@ false@@ ); return@@ ; } log.info@@ ("@@ Cre@@ at@@ ing {@@ } image@@ ", get@@ Image@@ Type@@ ()); create@@ Image@@ (); } set@@ Action@@ ReturnValue@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Trans@@ fer@@ Image@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
protected void add@@ Move@@ Or@@ Copy@@ Parameters(@@ java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > parameters@@ , org.ovirt.engine.core.compat.Guid source@@ StorageDomain@@ Guid@@ , org.ovirt.engine.core.compat.Guid d@@ est@@ StorageDomain@@ Guid@@ , org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ , org.ovirt.engine.core.common.businessentities.@@ Image@@ Oper@@ ation image@@ Operation@@ ) { org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base disk@@ Parameters@@ ; if ((get@@ Vm@@ Id()) == null@@ ) { disk@@ Parameters = new org.ovirt.engine.core.common.action.@@ Move@@ Or@@ Copy@@ ImageGroup@@ Parameters@@ (disk@@ .get@@ Image@@ Id(), source@@ StorageDomain@@ Guid@@ , d@@ est@@ StorageDomain@@ Guid@@ , image@@ Operation@@ ); ((@@ org.ovirt.engine.core.common.action.@@ Move@@ Or@@ Copy@@ ImageGroup@@ Parameters@@ ) (disk@@ Parameters@@ )@@ )@@ .set@@ Quota@@ Id(@@ disk@@ .get@@ Quota@@ Id()); } else { disk@@ Parameters = new org.ovirt.engine.core.common.action.@@ L@@ ive@@ Migrate@@ Disk@@ Parameters@@ (disk@@ .get@@ Image@@ Id(), source@@ StorageDomain@@ Guid@@ , d@@ est@@ StorageDomain@@ Guid@@ , get@@ Vm@@ Id()); } parameter@@ s.add(@@ disk@@ Parameters@@ ); }
@java.lang.Override public boolean is@@ Update@@ Available@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ VDS host@@ ) { java.util.Collection@@ <@@ java.lang.String> package@@ s = org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ P@@ ack@@ ages@@ For@@ Check@@ Update@@ (); try (@@ final org.ovirt.engine.core.bll.@@ host@@ de@@ plo@@ y@@ .@@ Vds@@ M@@ g@@ m@@ t@@ P@@ ack@@ age@@ s host@@ P@@ ack@@ ages@@ Manage@@ r = create@@ P@@ ack@@ ages@@ Manager@@ (@@ host@@ , true@@ )) { host@@ P@@ ack@@ ages@@ Manager.@@ set@@ P@@ ack@@ ages@@ (@@ package@@ s); host@@ P@@ ack@@ ages@@ Manager.@@ execute@@ (); if (!(@@ host@@ P@@ ack@@ ages@@ Manager@@ .get@@ Up@@ dat@@ es@@ ().is@@ Empty@@ ())) { org.ovirt.engine.core.bll.@@ host.@@ Host@@ Up@@ gr@@ ade@@ Manager.@@ log.info@@ ("@@ Th@@ er@@ e ar@@ e ava@@ il@@ able package@@ s (@@ {}@@ ) for hos@@ t '{}@@ '@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ host@@ P@@ ack@@ ages@@ Manager@@ .get@@ Up@@ dat@@ es@@ (), ", "@@ ), hos@@ t.get@@ Name()); } return !@@ (@@ host@@ P@@ ack@@ ages@@ Manager@@ .get@@ Up@@ dat@@ es@@ ().is@@ Empty@@ ()); } catch (@@ final java.lang.Exception e) { org.ovirt.engine.core.bll.@@ host.@@ Host@@ Up@@ gr@@ ade@@ Manager.@@ log.error("@@ Fail@@ ed to re@@ f@@ res@@ h hos@@ t '{}@@ ' package@@ s '{}@@ '@@ .@@ ", hos@@ t.get@@ Name(), org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ package@@ s, ", ")); org.ovirt.engine.core.bll.@@ host.@@ Host@@ Up@@ gr@@ ade@@ Manager.@@ log.error("@@ Exception@@ ", e); throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ e.get@@ Message@@ (), e); } }
private boolean execute@@ S@@ sh@@ S@@ o@@ f@@ t@@ F@@ enc@@ ing@@ Command@@ (java.lang.String version@@ ) { boolean result = true@@ ; org.ovirt.engine.core.bll.@@ utils.@@ Engine@@ SS@@ H@@ Cli@@ ent s@@ sh@@ Cli@@ ent = null@@ ; java.io.@@ By@@ te@@ Array@@ Out@@ put@@ St@@ rea@@ m bo@@ s = null@@ ; try { s@@ sh@@ Cli@@ ent = new org.ovirt.engine.core.bll.@@ utils.@@ Engine@@ SS@@ H@@ Client@@ (); s@@ sh@@ Cli@@ ent.@@ set@@ Vds@@ (org.ovirt.engine.core.bll.@@ S@@ sh@@ S@@ o@@ f@@ t@@ F@@ enc@@ ing@@ Command.get@@ Vds@@ ()); s@@ sh@@ Cli@@ ent.@@ us@@ e@@ Default@@ Key@@ Pair@@ (); s@@ sh@@ Cli@@ ent.@@ conn@@ ect@@ (); s@@ sh@@ Cli@@ ent.@@ auth@@ entic@@ ate@@ (); bo@@ s = new java.io.@@ By@@ te@@ Array@@ Out@@ put@@ St@@ ream@@ (); s@@ sh@@ Cli@@ ent.@@ execute@@ Command@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.String@@ >@@ Get@@ Value(ConfigValues.@@ S@@ sh@@ S@@ o@@ f@@ t@@ F@@ enc@@ ing@@ Command@@ , version@@ ), null@@ , b@@ os@@ , null@@ ); log.info@@ ((@@ "@@ SS@@ H S@@ o@@ f@@ t F@@ enc@@ ing c@@ ommand execute@@ d on hos@@ t " + (org.ovirt.engine.core.bll.@@ S@@ sh@@ S@@ o@@ f@@ t@@ F@@ enc@@ ing@@ Command.get@@ Vds@@ ().get@@ Host@@ Name@@ ()))); } catch (@@ java.lang.Exception ex@@ ) { log.error@@ ((@@ "@@ SS@@ H S@@ o@@ f@@ t F@@ enc@@ ing c@@ ommand fail@@ ed on hos@@ t " + (org.ovirt.engine.core.bll.@@ S@@ sh@@ S@@ o@@ f@@ t@@ F@@ enc@@ ing@@ Command.get@@ Vds@@ ().get@@ Host@@ Name@@ ())@@ ), ex@@ ); if (@@ bo@@ s != null@@ ) { log.error@@ ((@@ "@@ SS@@ H S@@ o@@ f@@ t F@@ enc@@ ing c@@ ommand out@@ pu@@ t " + (@@ bo@@ s.@@ toString@@ ()))); } result = false@@ ; } final@@ l@@ y { c@@ lo@@ se@@ S@@ sh@@ Connection@@ (s@@ sh@@ Client@@ ); } return result@@ ; }
private org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface int@@ er@@ fac@@ e@@ R@@ el@@ ated@@ To@@ Attachment@@ (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent network@@ Attachment@@ ) { return existing@@ Interfaces@@ Map@@ .get(@@ network@@ Attachm@@ ent.get@@ Nic@@ Id()); }
private void check@@ Requi@@ red@@ Arg@@ s(@@ java.lang.String.@@ .@@ . args) throw@@ s org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Manage@@ Domain@@ s@@ Result { for (java.lang.String ar@@ g : args) { if (!(@@ contains(@@ arg@@ ))) { throw new org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Manage@@ Domain@@ s@@ Result@@ (@@ Manage@@ Domain@@ s@@ Result@@ Enum@@ .@@ AR@@ G@@ U@@ M@@ EN@@ T_@@ I@@ S_@@ RE@@ Q@@ U@@ I@@ R@@ ED@@ , arg@@ ); } } }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c gluster@@ Volume@@ GeoRep@@ Res@@ um@@ e(@@ java.lang.String volume@@ Name, java.lang.String s@@ lave@@ Host@@ Name, java.lang.String s@@ lave@@ Volume@@ Name, boolean for@@ ce@@ );
protected org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameters get@@ Create@@ Snapshot@@ Parameters@@ () { org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.getParameters().get@@ Vm@@ Id(), org.ovirt.engine.core.c@@ ommon@@ .@@ const@@ an@@ t@@ s.@@ Storage@@ Constants.@@ L@@ S@@ M@@ _@@ A@@ U@@ TO@@ _@@ G@@ EN@@ ER@@ AT@@ ED_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ D@@ ES@@ C@@ R@@ I@@ P@@ TI@@ ON@@ ); params.set@@ Parent@@ Command@@ (VdcActionType.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ ); params.set@@ Snapshot@@ Type(@@ Snapshot@@ Type.@@ RE@@ G@@ U@@ L@@ AR@@ ); params.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.get@@ Parameters@@ ()); params.set@@ Images@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.getParameters().get@@ Images@@ Parameters@@ ()); params.set@@ Task@@ Group@@ Success@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.getParameters().get@@ Task@@ Group@@ Success@@ ()); params.set@@ Disks@@ (get@@ M@@ oved@@ Disks@@ ()); params.set@@ Disk@@ Id@@ sTo@@ I@@ g@@ n@@ ore@@ In@@ Check@@ s@@ (get@@ M@@ oved@@ Disk@@ Id@@ s()); params.set@@ N@@ e@@ ds@@ Lock@@ ing@@ (@@ false@@ ); params.set@@ En@@ d@@ Pro@@ ce@@ d@@ ure(@@ En@@ d@@ Pro@@ ce@@ d@@ ur@@ e.@@ C@@ O@@ M@@ M@@ AN@@ D_@@ M@@ AN@@ AG@@ ED); return param@@ s@@ ; }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volum@@ e = Create@@ GlusterVolume@@ VDS@@ Command.getParameters().get@@ Volume@@ (); boolean is@@ For@@ c@@ e = Create@@ GlusterVolume@@ VDS@@ Command.get@@ Parameters@@ ().is@@ For@@ ce@@ (); boolean sup@@ port@@ For@@ ce@@ Create@@ Volum@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ Get@@ Value(ConfigValues.@@ Gluster@@ Sup@@ port@@ For@@ ce@@ Create@@ Volume@@ , Create@@ GlusterVolume@@ VDS@@ Command.get@@ Vds@@ ().get@@ VdsGroup@@ CompatibilityVersion@@ ().@@ toString()); u@@ uid@@ Retur@@ n = (s@@ up@@ port@@ For@@ ce@@ Create@@ Volume@@ ) ? Create@@ GlusterVolume@@ VDS@@ Command.get@@ Broker@@ ().@@ gluster@@ Volume@@ Create@@ (@@ volum@@ e.get@@ Name(), volum@@ e.get@@ Brick@@ Direct@@ or@@ i@@ es@@ ().@@ to@@ Array@@ (@@ new java.lang.String@@ [@@ 0@@ ]@@ ), volum@@ e.get@@ Repl@@ ic@@ a@@ Count@@ (), volum@@ e.get@@ St@@ ri@@ p@@ e@@ Count@@ (), get@@ Trans@@ port@@ Type@@ Arr@@ (@@ volume@@ ), is@@ For@@ ce@@ ) : Create@@ GlusterVolume@@ VDS@@ Command.get@@ Broker@@ ().@@ gluster@@ Volume@@ Create@@ (@@ volum@@ e.get@@ Name(), volum@@ e.get@@ Brick@@ Direct@@ or@@ i@@ es@@ ().@@ to@@ Array@@ (@@ new java.lang.String@@ [@@ 0@@ ]@@ ), volum@@ e.get@@ Repl@@ ic@@ a@@ Count@@ (), volum@@ e.get@@ St@@ ri@@ p@@ e@@ Count@@ (), get@@ Trans@@ port@@ Type@@ Arr@@ (@@ volume@@ )); Create@@ GlusterVolume@@ VDS@@ Command.@@ pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); if (@@ Create@@ GlusterVolume@@ VDS@@ Command.get@@ VDS@@ ReturnValue().get@@ Succeeded@@ ()) { volum@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ Default@@ Empty@@ (@@ u@@ uid@@ Return@@ .m@@ U@@ uid@@ )); set@@ ReturnValue@@ (@@ volume@@ ); } }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > search@@ VDS@@ sBy@@ Db@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > filter@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > data@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > filter@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s : data@@ ) { vd@@ s.set@@ Cpu@@ Name@@ (c@@ pu@@ F@@ l@@ ag@@ sManager@@ Handler.@@ fin@@ d@@ Max@@ Server@@ Cpu@@ By@@ F@@ l@@ ag@@ s(@@ vds.get@@ Cpu@@ F@@ l@@ ag@@ s@@ (), vds.get@@ VdsGroup@@ CompatibilityVersion@@ ())); } return data@@ ; } }); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.core.compat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.core.compat.@@ EventArg@@ s args) { if ((@@ arg@@ s instanceof org.ovirt.engine.core.compat.@@ PropertyChanged@@ EventArg@@ s) && (((@@ org.ovirt.engine.core.compat.@@ PropertyChanged@@ EventArg@@ s) (@@ arg@@ s@@ )).@@ Property@@ Nam@@ e.@@ equals(@@ objec@@ t.@@ ON_@@ DIS@@ K_@@ LO@@ AD@@ ))) { add@@ Storage@@ Quota@@ Column@@ (); disk@@ T@@ abl@@ e.@@ edit@@ (@@ objec@@ t.get@@ Import@@ Disk@@ ListModel@@ ()); if ((@@ c@@ ustom@@ Sel@@ ection@@ C@@ el@@ l@@ Format@@ Type@@ ) != null@@ ) { c@@ ustom@@ Sel@@ ection@@ C@@ el@@ l@@ Format@@ Type.@@ set@@ Enabled@@ With@@ T@@ ool@@ T@@ ip@@ (((@@ java.lang.Boolean@@ ) (@@ objec@@ t.get@@ Coll@@ ap@@ se@@ Snapshots@@ ().getEntity@@ ())@@ ), const@@ an@@ t@@ s@@ .@@ import@@ Al@@ loc@@ ation@@ M@@ o@@ d@@ if@@ i@@ ed@@ Coll@@ ap@@ se@@ ()); } if (((@@ objec@@ t.get@@ Pro@@ bl@@ em@@ ati@@ c@@ Item@@ s()) != null@@ ) && ((@@ objec@@ t.get@@ Pro@@ bl@@ em@@ ati@@ c@@ Item@@ s().@@ size()) > 0@@ )) { image.@@ set@@ Visi@@ bl@@ e@@ (@@ true@@ ); } } else if ((@@ arg@@ s instanceof org.ovirt.engine.core.compat.@@ PropertyChanged@@ EventArg@@ s) && (((@@ org.ovirt.engine.core.compat.@@ PropertyChanged@@ EventArg@@ s) (@@ arg@@ s@@ )).@@ Property@@ Nam@@ e.@@ equals@@ ("@@ Message@@ "@@ ))) { mess@@ age.@@ set@@ Text@@ (@@ objec@@ t.get@@ Message@@ ()); } }
@java.lang.Override public java.lang.String get@@ Message@@ () { return java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s (@@ Fail@@ ed wit@@ h er@@ ro@@ r %@@ 1@@ $@@ s and c@@ od@@ e %@@ 2@@ $@@ s@@ )@@ ", super@@ .get@@ Message@@ (), private@@ Vds@@ Error@@ .get@@ Code@@ (), private@@ Vds@@ Error@@ .get@@ Code@@ ().get@@ Value@@ ()); }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c con@@ ver@@ t@@ Vm@@ From@@ X@@ en@@ (java.lang.String ur@@ l@@ , java.util.Map<java.lang.String, java.lang.Object> vm@@ , java.lang.String job@@ UUID@@ );
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ File@@ Stat@@ s@@ ReturnForXmlR@@ p@@ c get@@ Iso@@ List@@ (java.lang.String sp@@ UUID@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ StoragePool@@ .get@@ Iso@@ List@@ ").@@ with@@ Parameter("@@ storage@@ pool@@ ID@@ ", sp@@ UUID@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ).@@ with@@ Respon@@ se@@ Key@@ ("@@ is@@ ol@@ ist@@ ").@@ with@@ Respon@@ se@@ Type(@@ java.lang.Object@@ []@@ .@@ class@@ ); return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ File@@ Stat@@ s@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
public org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type get@@ C@@ ach@@ e@@ Device@@ Path@@ () { return c@@ ach@@ e@@ Device@@ Path@@ ; }
@org.junit.Test public void test@@ Se@@ ver@@ ity@@ () throw@@ s java.lang.Exception { java.lang.String exp@@ ected@@ 1 = "@@ test@@ 1@@ @@@ ex@@ am@@ pl@@ e.c@@ om@@ "; java.lang.String exp@@ ected@@ 2 = "@@ test@@ 2@@ @@@ ex@@ am@@ pl@@ e.c@@ om@@ "; fil@@ t@@ er.@@ cl@@ e@@ ar@@ Filter@@ En@@ t@@ ri@@ es@@ (); fil@@ t@@ er.@@ add@@ Filter@@ En@@ t@@ ri@@ es(@@ org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ fil@@ t@@ er.@@ F@@ ir@@ st@@ Match@@ S@@ im@@ ple@@ Fil@@ t@@ er.@@ par@@ se@@ ((((@@ ((((@@ "@@ in@@ c@@ lu@@ de@@ :@@ *@@ :@@ W@@ AR@@ N@@ ING@@ (s@@ m@@ t@@ p@@ :@@ " + exp@@ ected@@ 1@@ ) + ") + "@@ ex@@ c@@ lu@@ de@@ :@@ *@@ (s@@ m@@ t@@ p@@ :@@ ") + exp@@ ected@@ 1@@ ) + "@@ )@@ ") + "@@ ex@@ c@@ lu@@ de@@ :@@ :@@ W@@ AR@@ N@@ ING@@ (s@@ m@@ t@@ p@@ :@@ ") + exp@@ ected@@ 2@@ ) + "@@ in@@ c@@ lu@@ de@@ :@@ *@@ (s@@ m@@ t@@ p@@ :@@ ") + exp@@ ected@@ 2@@ ) + "@@ )@@ "@@ ))); fil@@ t@@ er.@@ pro@@ cess@@ Event@@ (@@ new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ fil@@ t@@ er.@@ F@@ ir@@ st@@ Match@@ S@@ im@@ ple@@ Filter@@ Test.@@ E@@ ("@@ mess@@ age@@ 1@@ ", org.ovirt.engine.core.common.@@ AuditLog@@ Se@@ ver@@ ity@@ .@@ N@@ OR@@ M@@ AL@@ )); fil@@ t@@ er.@@ pro@@ cess@@ Event@@ (@@ new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ fil@@ t@@ er.@@ F@@ ir@@ st@@ Match@@ S@@ im@@ ple@@ Filter@@ Test.@@ E@@ ("@@ mess@@ age@@ 2@@ ", org.ovirt.engine.core.common.@@ AuditLog@@ Se@@ ver@@ ity@@ .@@ W@@ AR@@ N@@ ING@@ )); fil@@ t@@ er.@@ pro@@ cess@@ Event@@ (@@ new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ fil@@ t@@ er.@@ F@@ ir@@ st@@ Match@@ S@@ im@@ ple@@ Filter@@ Test.@@ E@@ ("@@ mess@@ age@@ 3@@ ", org.ovirt.engine.core.common.@@ AuditLog@@ Se@@ ver@@ ity@@ .@@ ER@@ R@@ OR@@ )); org.junit.@@ As@@ sert@@ .@@ assert@@ True@@ (s@@ m@@ t@@ p@@ .get@@ Event@@ s().@@ contains@@ ((@@ "@@ mess@@ age@@ 2@@ -@@ >@@ " + exp@@ ected@@ 1@@ ))); org.junit.@@ As@@ sert@@ .@@ assert@@ True@@ (s@@ m@@ t@@ p@@ .get@@ Event@@ s().@@ contains@@ ((@@ "@@ mess@@ age@@ 3@@ -@@ >@@ " + exp@@ ected@@ 1@@ ))); org.junit.@@ As@@ sert@@ .@@ assert@@ True@@ (s@@ m@@ t@@ p@@ .get@@ Event@@ s().@@ contains@@ ((@@ "@@ mess@@ age@@ 3@@ -@@ >@@ " + exp@@ ected@@ 2@@ ))); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Group get@@ By@@ External@@ Id(@@ java.lang.String do@@ m@@ ain@@ , java.lang.String ex@@ ternal@@ Id) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ ("@@ Get@@ Group@@ By@@ External@@ Id@@ ", org.ovirt.engine.core.dao.@@ Db@@ Group@@ Dao@@ Impl.@@ Db@@ Group@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().add@@ Value(@@ "@@ do@@ m@@ ain@@ ", do@@ m@@ ain@@ ).@@ addValue("@@ ex@@ ternal@@ _id", ex@@ ternal@@ Id@@ )); }
private void vm@@ Bal@@ loon@@ D@@ ri@@ ver@@ Is@@ Re@@ ques@@ ted@@ And@@ Un@@ ava@@ il@@ able(@@ org.ovirt.engine.core.compat.Guid vm@@ Id) { java.lang.Integ@@ er current@@ V@@ al = vm@@ sWith@@ Bal@@ loon@@ D@@ ri@@ ver@@ Pro@@ bl@@ em@@ .get@@ (vm@@ Id); if (c@@ urrent@@ V@@ al == null@@ ) { vm@@ sWith@@ Bal@@ loon@@ D@@ ri@@ ver@@ Pro@@ bl@@ em@@ .@@ put@@ (vm@@ Id, 1@@ ); } else { vm@@ sWith@@ Bal@@ loon@@ D@@ ri@@ ver@@ Pro@@ bl@@ em@@ .@@ put@@ (vm@@ Id, (c@@ urrent@@ V@@ al + 1@@ )); if (c@@ urrent@@ V@@ al >@@ = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ Get@@ Value(ConfigValues.@@ I@@ ter@@ ation@@ sWith@@ Bal@@ loon@@ Pro@@ bl@@ em@@ ))) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base au@@ ditLog@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); au@@ ditLog@@ abl@@ e.set@@ Vm@@ Id@@ (vm@@ Id); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log@@ (@@ au@@ ditLog@@ able@@ , AuditLogType.@@ VM_@@ B@@ AL@@ LO@@ ON_@@ D@@ R@@ I@@ V@@ ER_@@ ER@@ R@@ OR@@ ); } } }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<@@ ? extends org.ovirt.engine.core.common.businessentities.@@ I@@ VdcQuery@@ able@@ > return@@ Value = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ I@@ VdcQuery@@ able@@ >(); switch (org.ovirt.engine.core.bll.@@ Search@@ Query.get@@ Parameters().get@@ Search@@ Type@@ Value@@ ()) { case VM : { return@@ Value = search@@ Vms@@ From@@ Db@@ (); break@@ ; } case Ad@@ Group : { return@@ Value = search@@ Ad@@ Group@@ s(); break@@ ; } case Ad@@ Us@@ er : { return@@ Value = search@@ Ad@@ Us@@ ers@@ (); break@@ ; } case Au@@ dit@@ Lo@@ g : { return@@ Value = search@@ AuditLog@@ Event@@ s(); break@@ ; } case D@@ B@@ Us@@ er : { return@@ Value = search@@ Db@@ Us@@ ers@@ (); break@@ ; } case VDS : { return@@ Value = search@@ VDS@@ sBy@@ Db@@ (); break@@ ; } case Vm@@ Templ@@ ate : { return@@ Value = search@@ VM@@ Templ@@ at@@ es@@ (); break@@ ; } case Vm@@ Pool@@ s : { return@@ Value = search@@ Vm@@ Pool@@ s(); break@@ ; } case C@@ luster : { return@@ Value = search@@ C@@ lust@@ ers@@ (); break@@ ; } case Storage@@ Pool : { return@@ Value = search@@ StoragePool@@ (); break@@ ; } case Storage@@ Domain : { return@@ Value = search@@ StorageDomain@@ (); break@@ ; } case Qu@@ ot@@ a : { return@@ Value = search@@ Quota@@ (); break@@ ; } case Disk : { return@@ Value = search@@ Disk@@ (); break@@ ; } case Gluster@@ Volum@@ e : { return@@ Value = search@@ Gluster@@ Volum@@ es@@ (); break@@ ; } case Network : { return@@ Value = search@@ Networks@@ (); break@@ ; } case Instance@@ Type : { return@@ Value = search@@ Instance@@ Typ@@ es@@ (); break@@ ; } case Image@@ Type : { return@@ Value = search@@ VM@@ Templ@@ at@@ es@@ (); break@@ ; } default : { log.error@@ Format@@ ("@@ Se@@ ar@@ ch obj@@ ect typ@@ e not handl@@ ed@@ : {0@@ }@@ ", org.ovirt.engine.core.bll.@@ Search@@ Query.get@@ Parameters().get@@ Search@@ Type@@ Value@@ ()); break@@ ; } } get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (@@ return@@ Value@@ ); }
@java.lang.Override protected void Conn@@ ect@@ () { if ((get@@ Entity@@ ()) != null@@ ) { get@@ Log@@ g@@ er@@ ().@@ D@@ eb@@ u@@ g@@ ("@@ Conn@@ ect@@ ing to Sp@@ ic@@ e con@@ s@@ ol@@ e.@@ .@@ .@@ "); if (!@@ (get@@ sp@@ ice@@ ().get@@ Is@@ In@@ st@@ all@@ ed@@ ())) { get@@ Log@@ g@@ er@@ ().@@ Info@@ ("@@ Sp@@ ic@@ e cli@@ ent is not in@@ st@@ all@@ ed@@ .@@ "); get@@ sp@@ ice@@ ().@@ In@@ st@@ all@@ (); return@@ ; } if ((get@@ Configur@@ ator@@ ().get@@ Is@@ Ad@@ min@@ ()) && ((get@@ sp@@ ice@@ ().get@@ C@@ urrent@@ Version@@ ().@@ comp@@ are@@ To@@ (get@@ sp@@ ice@@ ().get@@ D@@ es@@ i@@ red@@ Version@@ ())) < 0@@ )) { get@@ Log@@ g@@ er@@ ().@@ Info@@ ((@@ ("@@ Sp@@ ic@@ e cli@@ ent ver@@ si@@ on is not a@@ s d@@ es@@ i@@ re@@ d (@@ " + (get@@ sp@@ ice@@ ().get@@ D@@ es@@ i@@ red@@ Version@@ ())) + "@@ )@@ ")); get@@ sp@@ ice@@ ().@@ In@@ st@@ all@@ (); return@@ ; } if ((get@@ Entity@@ ().get@@ run@@ _@@ on@@ _@@ vds@@ ()) == null@@ ) { return@@ ; } if (!@@ (get@@ Entity@@ ().get@@ vm@@ _@@ os@@ ().is@@ W@@ in@@ do@@ w@@ s@@ ())) { get@@ sp@@ ice@@ ().setIs@@ W@@ an@@ Option@@ s@@ Enabled@@ (@@ false@@ ); } S@@ end@@ Vm@@ T@@ ick@@ et@@ (); } }
public int get@@ Cont@@ ro@@ ll@@ er@@ For@@ S@@ csi@@ Disk@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Device disk@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ ) { java.util.Map<java.lang.String, java.lang.String> add@@ res@@ s = org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ StringUtils.@@ st@@ ring@@ 2@@ Map@@ (disk@@ .get@@ Address@@ ()); java.lang.String cont@@ ro@@ ll@@ er@@ St@@ r = add@@ ress@@ .get(@@ VdsProperties.@@ Cont@@ ro@@ ll@@ er@@ ); int default@@ In@@ de@@ x = get@@ Default@@ Vir@@ ti@@ oS@@ csi@@ In@@ dex@@ (vm@@ ); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ cont@@ ro@@ ll@@ er@@ Str@@ )) { return java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (@@ cont@@ ro@@ ll@@ er@@ Str@@ ); } if ((@@ (vm.get@@ Num@@ Of@@ I@@ o@@ Th@@ rea@@ ds@@ ()) > 0) && (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ vi@@ r@@ ti@@ oS@@ csi@@ I@@ o@@ Th@@ read@@ (vm.get@@ CompatibilityVersion@@ ()))) { int num@@ Of@@ Disk@@ s = ((@@ vm.get@@ Disk@@ Map@@ ()) != null@@ ) ? vm.get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ().@@ size@@ () : 0@@ ; return (@@ num@@ Of@@ Disk@@ s % (vm.get@@ Num@@ Of@@ I@@ o@@ Th@@ rea@@ ds@@ ())) + default@@ In@@ dex@@ ; } return default@@ In@@ dex@@ ; }
@java.lang.Override protected void execute@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > vm@@ Numa@@ Node@@ s = org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ Command.getParameters().get@@ Vm@@ Numa@@ Node@@ List@@ (); vm@@ Numa@@ Nod@@ es.@@ stream@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( n@@ ode@@ ) -@@ > n@@ od@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ())); org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ Command.getVm@@ Numa@@ Node@@ Dao().@@ m@@ ass@@ S@@ ave@@ Numa@@ Node@@ (vm@@ Numa@@ Nod@@ es@@ , org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ Command.getVm@@ ().get@@ Id()); set@@ Action@@ ReturnValue@@ (vm@@ Numa@@ Nod@@ es@@ .get(@@ 0@@ ).get@@ Id()); org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
public org.ovirt.engine.core.bll.ValidationResult not@@ Is@@ csi@@ Bond@@ Network@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Is@@ csi@@ Bond@@ > is@@ csi@@ Bond@@ s = get@@ DbFacade@@ ().get@@ Is@@ csi@@ Bond@@ Dao().get@@ Is@@ csi@@ Bon@@ ds@@ By@@ Network@@ Id(@@ network@@ .getId()); if (!(@@ is@@ csi@@ Bond@@ s.@@ isEmpty@@ ())) { java.util.Collection@@ <@@ java.lang.String> re@@ pl@@ ace@@ Name@@ able@@ s = org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ re@@ pl@@ ace@@ With@@ Name@@ able@@ ("@@ Is@@ csi@@ Bon@@ ds@@ ", is@@ csi@@ Bon@@ ds@@ ); re@@ pl@@ ace@@ Name@@ abl@@ es.@@ add@@ (get@@ Network@@ Name@@ Repl@@ acement@@ ()); return new org.ovirt.engine.core.bll.ValidationResult@@ (@@ __@@ _@@ NETWORK_@@ C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ IS@@ C@@ SI@@ _@@ B@@ ON@@ D_@@ NETWOR@@ K@@ , re@@ pl@@ ace@@ Name@@ abl@@ es@@ ); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public java.util.@@ Map sp@@ m@@ Start@@ (java.lang.String sp@@ UUID@@ , java.lang.String pre@@ v@@ ID@@ , java.lang.String pre@@ v@@ L@@ V@@ ER@@ , java.lang.String r@@ ec@@ o@@ ver@@ y@@ M@@ ode@@ , java.lang.String s@@ csi@@ F@@ enc@@ ing@@ ) { final org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Hos@@ t hos@@ t = get@@ Active@@ Host@@ (); java.util.@@ Map result@@ Map = get@@ O@@ K@@ Status@@ (); org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ T@@ as@@ k t@@ as@@ k = new org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Task@@ (get@@ U@@ uid@@ ()); result@@ Map.@@ put@@ ("@@ u@@ uid@@ ", task@@ .getId()); task@@ .set@@ T@@ arget@@ (@@ host@@ ); get@@ Active@@ Host@@ ().get@@ Run@@ ning@@ Task@@ s().@@ put(@@ task@@ .get@@ Id(), task@@ ); org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ Task@@ Pro@@ cess@@ or@@ .set@@ Task@@ s@@ Map@@ (@@ hos@@ t.get@@ Name(), task@@ .getId()); org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ Task@@ Pro@@ cess@@ or@@ .getInstance().@@ add@@ Task@@ (@@ new org.ovirt.vds@@ m@@ fa@@ k@@ e.@@ task@@ .@@ Task@@ Request@@ (@@ org.ovirt.vds@@ m@@ fa@@ k@@ e.@@ task@@ .@@ Task@@ Type.@@ F@@ IN@@ IS@@ H@@ _@@ ST@@ AR@@ T_@@ SP@@ M@@ , 1@@ 00@@ L@@ , task@@ )); org.ovirt.vds@@ m@@ fa@@ k@@ e.@@ ser@@ vic@@ e.@@ Vds@@ m@@ Manager@@ .getInstance@@ ().set@@ Sp@@ m@@ Map@@ (s@@ p@@ UUID@@ , host@@ ); return result@@ Map@@ ; }
private void on@@ Edit@@ Snapshot@@ Schedul@@ e@@ () { final org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ Snapshot@@ Model snapshot@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ Snapshot@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); if (!@@ (s@@ napshot@@ Model.@@ validate@@ (@@ false@@ ))) { return@@ ; } set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ null@@ ); schedul@@ e@@ Snapshot@@ (s@@ napshot@@ Model@@ , true@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ F@@ or al@@ low@@ ing P@@ K auth@@ entic@@ ation@@ , c@@ op@@ y the f@@ ol@@ low@@ ing P@@ K to hos@@ t un@@ der /@@ ro@@ ot@@ /@@ .@@ s@@ sh@@ /@@ auth@@ or@@ iz@@ ed@@ _@@ key@@ s@@ ") java.lang.String public@@ Key@@ Us@@ age@@ ();
private void add@@ Af@@ finity@@ Label@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > af@@ finity@@ Label@@ s = org.ovirt.engine.core.bll.@@ host@@ de@@ plo@@ y@@ .@@ Add@@ Vds@@ Command.getParameters().get@@ Af@@ finity@@ Label@@ s(); java.util.List<@@ org.ovirt.engine.core.compat.Guid> label@@ Id@@ s = af@@ finity@@ Label@@ s.@@ stream@@ ().@@ map@@ (@@ Label@@ :@@ :@@ :@@ get@@ Id@@ ).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); label@@ Dao@@ .@@ add@@ Host@@ To@@ Label@@ s@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ plo@@ y@@ .@@ Add@@ Vds@@ Command.get@@ Vds@@ Id(), label@@ Id@@ s); }
@java.lang.Override protected boolean canDoAction@@ () { if ((org.ovirt.engine.core.bll.@@ AddVm@@ To@@ Pool@@ Command.getVm@@ ()) == null@@ ) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); } if ((org.ovirt.engine.core.bll.@@ AddVm@@ To@@ Pool@@ Command.getVm@@ ().is@@ Run@@ ning@@ Or@@ Pa@@ us@@ ed@@ ()) || ((org.ovirt.engine.core.bll.@@ AddVm@@ To@@ Pool@@ Command.getVm@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Un@@ k@@ n@@ ow@@ n@@ ))) { return failCanDoAction@@ (EngineMessage.@@ VM_@@ P@@ O@@ OL@@ _C@@ ANNOT_@@ AD@@ D_@@ R@@ UN@@ N@@ ING@@ _@@ VM_@@ TO@@ _P@@ O@@ OL@@ ); } if ((org.ovirt.engine.core.bll.@@ AddVm@@ To@@ Pool@@ Command.getVm@@ ().get@@ Vm@@ Pool@@ Id()) != null@@ ) { return failCanDoAction@@ (EngineMessage.@@ VM_@@ P@@ O@@ OL@@ _C@@ ANNOT_@@ AD@@ D_@@ VM_@@ AT@@ T@@ AC@@ H@@ ED_@@ TO@@ _P@@ O@@ OL@@ ); } if ((org.ovirt.engine.core.bll.@@ AddVm@@ To@@ Pool@@ Command.getParameters().get@@ Vm@@ Pool@@ Id()) != null@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Pool p@@ oo@@ l = org.ovirt.engine.core.bll.@@ AddVm@@ To@@ Pool@@ Command.getVm@@ Pool@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ AddVm@@ To@@ Pool@@ Command.getParameters().get@@ Vm@@ Pool@@ Id()); if ((@@ p@@ oo@@ l != null@@ ) && (!(@@ pool@@ .get@@ VdsGroup@@ Id().@@ equals@@ (org.ovirt.engine.core.bll.@@ AddVm@@ To@@ Pool@@ Command.getVm@@ ().get@@ VdsGroup@@ Id@@ ())@@ ))) { return failCanDoAction@@ (EngineMessage.@@ VM_@@ P@@ O@@ OL@@ _C@@ ANNOT_@@ AD@@ D_@@ VM_@@ D@@ I@@ F@@ F@@ ER@@ EN@@ T_@@ C@@ LUST@@ ER@@ ); } } return true@@ ; }
private void is@@ s@@ ue@@ To@@ k@@ en@@ For@@ Lo@@ gin@@ On@@ Be@@ h@@ al@@ f@@ (@@ javax.@@ servlet@@ .@@ http@@ .@@ Http@@ Servlet@@ Re@@ quest request@@ , javax.@@ servlet@@ .@@ http@@ .@@ Http@@ Servlet@@ Respon@@ se respon@@ se@@ , java.lang.String s@@ c@@ op@@ e) throw@@ s java.lang.Exception { org.ovirt.engine.core.@@ ss@@ o.@@ servlet@@ s.@@ O@@ Auth@@ To@@ k@@ en@@ Servlet@@ .@@ log.debug@@ ("@@ En@@ ter@@ ed is@@ s@@ ue@@ To@@ k@@ en@@ For@@ Lo@@ gin@@ On@@ Be@@ h@@ al@@ f@@ "); java.lang.String@@ [@@ ] client@@ Id@@ And@@ Sec@@ re@@ t = org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ SS@@ O@@ Util@@ s.get@@ Client@@ Id@@ Client@@ Sec@@ ret@@ (@@ request@@ ); java.lang.String user@@ nam@@ e = org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ SS@@ O@@ Util@@ s.get@@ Request@@ Parameter@@ (@@ request@@ , "@@ user@@ name@@ ", null@@ ); org.ovirt.engine.core.@@ ss@@ o.@@ servlet@@ s.@@ O@@ Auth@@ To@@ k@@ en@@ Servlet@@ .@@ log.debug@@ ("@@ A@@ t@@ temp@@ t@@ ing to is@@ s@@ ue@@ To@@ k@@ en@@ For@@ Lo@@ gin@@ On@@ Be@@ h@@ al@@ f for client@@ : {}@@ , user@@ : {}@@ ", client@@ Id@@ And@@ Sec@@ ret@@ [@@ 0@@ ]@@ , user@@ name@@ ); org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ Auth@@ entic@@ ation@@ Utils.@@ lo@@ gin@@ On@@ Be@@ h@@ al@@ f@@ (s@@ s@@ o@@ Context@@ , request@@ , user@@ name@@ ); java.lang.String to@@ ke@@ n = ((@@ java.lang.String@@ ) (@@ re@@ ques@@ t.get@@ Att@@ ri@@ bu@@ te@@ (@@ SS@@ O@@ Constants.@@ H@@ T@@ P@@ _@@ RE@@ Q@@ _@@ AT@@ T@@ R@@ _@@ AC@@ C@@ ES@@ S_@@ TO@@ K@@ EN@@ ))); org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ SS@@ O@@ Utils.@@ validate@@ Request@@ S@@ c@@ op@@ e(@@ request@@ , to@@ k@@ en@@ , s@@ c@@ op@@ e); org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ SS@@ O@@ S@@ ess@@ ion ss@@ oS@@ ess@@ ion = org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ SS@@ O@@ Util@@ s.get@@ S@@ s@@ o@@ Session@@ (@@ request@@ , to@@ k@@ en@@ , true@@ ); if (s@@ s@@ oS@@ ess@@ ion == null@@ ) { throw new org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ O@@ Auth@@ Exception@@ (@@ org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ SS@@ O@@ Constants.@@ ER@@ R@@ _C@@ O@@ D@@ E_@@ IN@@ VALID@@ _@@ G@@ R@@ AN@@ T@@ , ss@@ o@@ Contex@@ t.get@@ Local@@ ization@@ Util@@ s().@@ local@@ iz@@ e(@@ SS@@ O@@ Constants.@@ A@@ P@@ _@@ ER@@ R@@ OR@@ _@@ ER@@ R@@ OR@@ _@@ A@@ U@@ TH@@ OR@@ I@@ Z@@ A@@ TION_@@ G@@ R@@ AN@@ T_@@ EX@@ P@@ I@@ R@@ ED_@@ F@@ OR@@ _@@ US@@ ER@@ NAM@@ E_@@ P@@ A@@ SS@@ O@@ D@@ , re@@ ques@@ t.get@@ Local@@ e@@ ())); } org.ovirt.engine.core.@@ ss@@ o.@@ servlet@@ s.@@ O@@ Auth@@ To@@ k@@ en@@ Servlet@@ .@@ log.debug@@ ("@@ S@@ end@@ ing j@@ s@@ on respon@@ se@@ "); org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ SS@@ O@@ Utils.@@ s@@ end@@ Json@@ Data@@ (@@ respon@@ se@@ , build@@ Respon@@ s@@ e(@@ ss@@ o@@ Session@@ )); }
private void import@@ Images@@ () { @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Rep@@ o@@ Image@@ > re@@ p@@ o@@ Image@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Rep@@ o@@ Image@@ >) (get@@ SelectedItem@@ s@@ ())); if ((@@ re@@ p@@ o@@ Image@@ s == null@@ ) || ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ )) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Import@@ Rep@@ o@@ Image@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Import@@ Rep@@ o@@ Image@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Constant@@ s@@ ()@@ .@@ import@@ Images@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ Tag@@ .@@ import@@ _@@ im@@ ages@@ ); model.set@@ Hash@@ Name(@@ "@@ import@@ _@@ im@@ ages@@ "); model.set@@ Entity@@ (@@ this@@ ); model.@@ init@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ ) (get@@ Entity@@ ())@@ ), re@@ p@@ o@@ Images@@ ); org.ovirt.engine.ui.uicommonweb.UICommand cancel@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ ", this@@ ); cancel@@ Command.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); cancel@@ Command.set@@ Is@@ Cancel@@ (@@ true@@ ); model.set@@ Cancel@@ Command@@ (c@@ ance@@ l@@ Command@@ ); model.get@@ Command@@ s().@@ add@@ (c@@ ance@@ l@@ Command@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ AllFor@@ Cpu@@ Profil@@ es(@@ java.util.Collection@@ <@@ org.ovirt.engine.core.compat.Guid> cpu@@ Profile@@ Id@@ s) { java.util.@@ UUID@@ [@@ ] u@@ uid@@ s = cpu@@ Profile@@ Id@@ s.@@ stream@@ ().@@ map@@ (@@ Guid@@ :@@ :@@ :@@ get@@ U@@ uid@@ ).@@ to@@ Array@@ (@@ ( size@@ ) -@@ > new java.util.@@ UUID@@ [@@ size@@ ]@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Vms@@ By@@ Cpu@@ Profile@@ Id@@ s", org.ovirt.engine.core.dao.@@ Vm@@ Dao@@ Impl.@@ VM@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ cpu@@ _@@ profil@@ e@@ _id@@ s", create@@ Array@@ Of@@ ("@@ u@@ uid@@ ", u@@ ui@@ ds@@ ))); }
private org.ovirt.engine.core.bll.ValidationResult validate@@ Devices@@ () { java.util.@@ Set<@@ java.lang.String> de@@ vice@@ s = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.getParameters().get@@ Devices@@ To@@ R@@ ed@@ u@@ ce@@ ().@@ stream@@ ().@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); if ((@@ de@@ vic@@ es.@@ size()) != (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.getParameters().get@@ Devices@@ To@@ R@@ ed@@ u@@ ce@@ ().@@ size@@ ())) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ D@@ UP@@ L@@ IC@@ AT@@ E_@@ DE@@ V@@ IC@@ E); } return bl@@ ock@@ S@@ D@@ Validator.@@ lun@@ s@@ In@@ Domain@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.get@@ StorageDomain@@ (), de@@ vic@@ es@@ ); }
private static <@@ T extends org.ovirt.engine.core.common.businessentities.@@ Name@@ able@@ > java.util.List<org.ovirt.engine.core.common.businessentities.@@ Cluster@@ Edit@@ W@@ arning@@ s.@@ W@@ arning@@ > get@@ Pro@@ bl@@ em@@ ati@@ c@@ Enti@@ ties@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group old@@ Cluster@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group new@@ Cluster@@ , java.lang.@@ I@@ ter@@ able@@ <@@ org.ovirt.engine.core.bll.@@ Cluster@@ Edit@@ Check@@ er@@ <@@ T@@ >> check@@ ers@@ , java.util.List<@@ T@@ > enti@@ ties@@ ) { java.util.List<@@ org.ovirt.engine.core.bll.@@ Cluster@@ Edit@@ Check@@ er@@ <@@ T@@ >> vm@@ Check@@ s = org.ovirt.engine.core.bll.@@ Get@@ Cluster@@ Edit@@ W@@ arning@@ s@@ Query.get@@ Ap@@ pl@@ ic@@ able@@ Check@@ s(@@ old@@ Cluster@@ , new@@ Cluster@@ , check@@ ers@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Cluster@@ Edit@@ W@@ arning@@ > w@@ arning@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.bll.@@ Cluster@@ Edit@@ Check@@ er@@ <@@ T@@ > check@@ er : vm@@ Check@@ s) { org.ovirt.engine.core.common.businessentities.@@ Cluster@@ Edit@@ W@@ arning@@ s.@@ W@@ ar@@ n@@ ing w@@ ar@@ n@@ ing = new org.ovirt.engine.core.common.businessentities.@@ Cluster@@ Edit@@ W@@ arning@@ s.@@ W@@ arning@@ (@@ check@@ er@@ .get@@ Main@@ Message@@ ()); for (@@ T enti@@ ty : enti@@ ties@@ ) { if (!(@@ check@@ er.@@ check@@ (@@ entity@@ ))) { w@@ ar@@ n@@ ing.@@ get@@ Detail@@ sBy@@ Name@@ ().@@ put(@@ entity.get@@ Name(), check@@ er@@ .get@@ Detail@@ Message@@ (@@ entity@@ )); } } if (!(@@ w@@ ar@@ n@@ ing.@@ isEmpty@@ ())) { w@@ arning@@ s.add(@@ w@@ arning@@ ); } } return w@@ arning@@ s@@ ; }
public java.util.Map<java.lang.String, java.lang.Object> gluster@@ Snapshot@@ Ac@@ tivate@@ (java.lang.String snapshot@@ Name, boolean for@@ ce@@ );
private org.ovirt.engine.core.bll.ValidationResult vm@@ Not@@ In@@ Status@@ (org.ovirt.engine.core.compat.Guid vm@@ Id, org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t.@@ Snapshot@@ Status status@@ , org.ovirt.engine.core.common.errors.@@ EngineMess@@ age m@@ s@@ g@@ ) { if (get@@ Snapshot@@ Dao().@@ ex@@ ist@@ s(@@ vm@@ Id, status@@ )) { return new org.ovirt.engine.core.bll.ValidationResult@@ (m@@ s@@ g@@ ); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@java.lang.Override public org.ovirt.engine.api.model.@@ Network@@ s list@@ () { org.ovirt.engine.api.model.@@ Network@@ s network@@ s@@ ; if (is@@ Filter@@ ed@@ ()) { network@@ s = map@@ Collection@@ (get@@ Backend@@ Collection@@ (Vdc@@ Query@@ Type.Get@@ All@@ Networks@@ By@@ User@@ Id, new org.ovirt.engine.core.common.queries.@@ Get@@ All@@ Network@@ Query@@ Param@@ ent@@ ers@@ ())); } else { network@@ s = map@@ Collection@@ (get@@ Backend@@ Collection@@ (@@ query@@ Type, get@@ Query@@ Parameters@@ ())); } for (org.ovirt.engine.api.model.@@ Network n@@ etwork : network@@ s.get@@ Networks@@ ()) { network@@ .set@@ Display@@ (@@ null@@ ); } return network@@ s@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { return ((((@@ validate@@ (network@@ Exist@@ s@@ (get@@ Rem@@ oved@@ Network@@ ()))) && (@@ validate@@ (@@ not@@ Management@@ Network@@ ()))) && (@@ validate@@ (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Remove@@ Network@@ Command.@@ network@@ Not@@ Us@@ ed@@ By@@ Vms@@ ()))) && (@@ validate@@ (network@@ Not@@ Us@@ ed@@ By@@ Templ@@ at@@ es@@ (get@@ Rem@@ oved@@ Network@@ ())@@ ))) && (@@ validate@@ (network@@ Not@@ Us@@ ed@@ By@@ Host@@ s(@@ get@@ Rem@@ oved@@ Network@@ ()))); }
@java.lang.Override public int hash@@ Code@@ () { return java.util.@@ Object@@ s.@@ hash@@ (@@ id@@ , _@@ ch@@ ild@@ r@@ en@@ , d@@ escription@@ , parent@@ , re@@ a@@ do@@ n@@ ly@@ , name@@ , type@@ ); }
@org.junit.Test public void test@@ P@@ ers@@ ist@@ NetworkAttachment@@ s@@ _@@ create@@ NetworkAttachment@@ W@@ hic@@ h@@ W@@ as@@ n@@ t@@ Y@@ et@@ Create@@ d@@ For@@ E@@ ach@@ Network@@ On@@ Re@@ ported@@ Nic@@ () { when(@@ network@@ Attachment@@ Dao.get@@ AllFor@@ Host@@ (@@ e@@ q@@ (@@ host@@ Id@@ )@@ )).@@ then@@ Return@@ (@@ new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ >@@ ()); create@@ P@@ ers@@ ist@@ er@@ (@@ java.util.Collections.@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ >@@ em@@ pty@@ List@@ (), int@@ er@@ fac@@ e@@ With@@ Attached@@ Cluster@@ Network@@ A@@ ).@@ p@@ ers@@ ist@@ NetworkAttachment@@ s(); ve@@ r@@ if@@ y@@ (network@@ Attachment@@ Dao@@ ).get@@ AllFor@@ Host@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > network@@ Attachment@@ C@@ ap@@ to@@ r = org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ .@@ for@@ Class@@ (org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ .@@ class@@ ); ve@@ r@@ if@@ y@@ (network@@ Attachment@@ Dao@@ ).@@ save@@ (network@@ Attachment@@ C@@ ap@@ t@@ or.@@ c@@ ap@@ t@@ ure@@ ()); assert@@ That@@ (network@@ Attachment@@ C@@ ap@@ t@@ or@@ .get@@ Value@@ ().get@@ Network@@ Id(), is@@ (cluster@@ Network@@ A@@ .getId@@ ())); assert@@ That@@ (network@@ Attachment@@ C@@ ap@@ t@@ or@@ .get@@ Value@@ ().get@@ Nic@@ Id(), is@@ (@@ int@@ er@@ fac@@ e@@ With@@ Attached@@ Cluster@@ Network@@ A@@ .getId@@ ())); assert@@ That@@ (network@@ Attachment@@ C@@ ap@@ t@@ or@@ .get@@ Value@@ ().get@@ Id(), not@@ Null@@ Value@@ ()); ve@@ r@@ if@@ y@@ No@@ M@@ ore@@ Inter@@ action@@ s(@@ network@@ Attachment@@ Dao@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Num@@ b@@ er of brick@@ s shoul@@ d b@@ e e@@ qu@@ al to St@@ ri@@ p@@ e Count@@ ") java.lang.String st@@ ri@@ p@@ e@@ Volume@@ Add@@ Brick@@ s@@ M@@ s@@ g@@ ();
@java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand command@@ ) { super@@ .@@ execute@@ Command@@ (command@@ ); if (c@@ ommand == (get@@ Cl@@ one@@ Vm@@ Command@@ ())) { cl@@ one@@ Vm@@ (); } if (c@@ ommand == (get@@ New@@ Vm@@ Command@@ ())) { new@@ Internal@@ (); } else if (c@@ ommand == (get@@ Edit@@ Command@@ ())) { edit@@ (); } else if (c@@ ommand == (get@@ Remove@@ Command@@ ())) { remove@@ (); } else if (c@@ ommand == (get@@ S@@ ave@@ Command@@ ())) { on@@ S@@ ave@@ (); } else if (c@@ ommand == (get@@ Run@@ On@@ ce@@ Command@@ ())) { run@@ On@@ ce@@ (); } else if (c@@ ommand == (get@@ Change@@ C@@ d@@ Command@@ ())) { ch@@ ang@@ e@@ C@@ D@@ (); } else if (c@@ ommand == (get@@ New@@ Template@@ Command@@ ())) { new@@ Template@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ Remove@@ "@@ )) { on@@ Remove@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ Run@@ On@@ ce@@ "@@ )) { cancel@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ Change@@ C@@ D@@ "@@ )) { on@@ Change@@ C@@ D@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ New@@ Template@@ "@@ )) { on@@ New@@ Template@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ S@@ ave@@ "@@ )) { on@@ S@@ ave@@ (); } else if (command@@ .getName@@ ().@@ equals@@ ("@@ c@@ lo@@ se@@ V@@ n@@ c@@ Info@@ "@@ )) { set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ Cl@@ one@@ "@@ )) { on@@ Cl@@ one@@ (); } }
public void execute@@ Command() { if (is@@ Base@@ Ra@@ w@@ B@@ lock@@ ()) { org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.getParameters().get@@ Parent@@ Command@@ ()); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = ex@@ tend@@ Image@@ Size@@ (); if ((@@ vds@@ ReturnValue != null@@ ) && ((@@ vds@@ Return@@ Value.get@@ Cre@@ ation@@ Info@@ ()) != null@@ )) { org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.get@@ Parameters@@ ().set@@ Vds@@ m@@ Task@@ Id@@ s@@ (@@ new java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid@@ >@@ ()); org.ovirt.engine.core.compat.Guid result = create@@ Task@@ (@@ task@@ Id, vds@@ Return@@ Value.get@@ Cre@@ ation@@ Info@@ (), org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.getParameters().get@@ Parent@@ Command@@ (), Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.getParameters().get@@ StorageDomain@@ Id()); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.get@@ ReturnValue().get@@ Internal@@ Vds@@ m@@ Task@@ Id@@ List@@ ().@@ add(@@ result@@ ); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.get@@ ReturnValue().get@@ Vds@@ m@@ Task@@ Id@@ List@@ ().@@ add(@@ result@@ ); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.get@@ ReturnValue().get@@ Vds@@ m@@ Task@@ Id@@ List@@ ().@@ add(@@ result@@ ); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.getParameters().get@@ Vds@@ m@@ Task@@ Id@@ s().@@ add(@@ result@@ ); set@@ Succeeded@@ (vds@@ Return@@ Value.get@@ Succeeded@@ ()); p@@ ers@@ ist@@ Command@@ (org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.getParameters().get@@ Parent@@ Command@@ (), true@@ ); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.@@ log.info@@ ("@@ Success@@ f@@ ull@@ y st@@ ar@@ te@@ d t@@ as@@ k to exten@@ d b@@ ase im@@ age s@@ iz@@ e in pre@@ par@@ ation for l@@ i@@ v@@ e m@@ er@@ ge@@ "); } else { org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.@@ log.error("@@ Fail@@ ed to exten@@ d b@@ ase im@@ age for l@@ i@@ v@@ e m@@ er@@ ge@@ "); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.set@@ Succeeded@@ (@@ false@@ ); set@@ Command@@ Status(@@ Command@@ Status.@@ FAIL@@ ED); } } else { update@@ Size@@ In@@ Db@@ (); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.set@@ Succeeded@@ (@@ true@@ ); set@@ Command@@ Status(@@ Command@@ Status.@@ S@@ U@@ C@@ E@@ ED@@ ED); } }
@org.junit.Test public void test@@ Update@@ Quota@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.@@ Qu@@ ot@@ a quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic = d@@ ao@@ .get@@ By@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ Q@@ U@@ O@@ T@@ A@@ _@@ G@@ EN@@ ER@@ AL@@ ); java.lang.String quota@@ Name = "@@ N@@ e@@ w Tem@@ por@@ ar@@ y name@@ "; java.util.List<org.ovirt.engine.core.common.businessentities.@@ Quota@@ Cluster@@ > quota@@ Cluster@@ List = org.ovirt.engine.core.dao.@@ Quota@@ Dao@@ Tes@@ t.get@@ Quota@@ Cluster@@ (@@ org.ovirt.engine.core.dao.@@ Quota@@ Dao@@ Tes@@ t.get@@ Sp@@ e@@ c@@ if@@ ic@@ Quota@@ Cluster@@ (@@ quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ .getId@@ ())); java.lang.@@ L@@ on@@ g new@@ Storage@@ L@@ im@@ i@@ t = 2@@ 3@@ 4@@ 5@@ L@@ ; assert@@ F@@ als@@ e(@@ quota@@ Nam@@ e.@@ equals(@@ quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ .get@@ Quota@@ Name@@ ())); assert@@ F@@ alse@@ (((@@ quota@@ Cluster@@ List.@@ size()) == (@@ quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ .get@@ Quota@@ C@@ lust@@ ers@@ ().@@ size@@ ()))); assert@@ F@@ als@@ e(@@ quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ .get@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ ().get@@ Storage@@ Size@@ G@@ B@@ ().@@ equals@@ (@@ new@@ Storage@@ L@@ im@@ it@@ )); quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ .set@@ Quota@@ Name(@@ quota@@ Name); quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ .get@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ ().set@@ Storage@@ Size@@ G@@ B@@ (@@ new@@ Storage@@ L@@ im@@ it@@ ); quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ .set@@ Quota@@ C@@ lust@@ ers@@ (@@ quota@@ Cluster@@ List@@ ); d@@ ao.@@ update@@ (@@ quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ ); quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic = d@@ ao@@ .get@@ By@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ Q@@ U@@ O@@ T@@ A@@ _@@ G@@ EN@@ ER@@ AL@@ ); assert@@ Equals@@ (@@ quota@@ Name, quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ .get@@ Quota@@ Name()); assert@@ Equals@@ (@@ quota@@ Cluster@@ List.@@ size@@ (), quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ .get@@ Quota@@ C@@ lust@@ ers@@ ().@@ size@@ ()); assert@@ Equals@@ (@@ new@@ Storage@@ L@@ im@@ it@@ , quota@@ Gener@@ al@@ To@@ Sp@@ e@@ c@@ if@@ ic@@ .get@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ ().get@@ Storage@@ Size@@ G@@ B@@ ()); }
public java.lang.String get@@ Ip@@ v@@ 6@@ Address@@ () { return null@@ ; }
@java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { model.get@@ Remove@@ Network@@ Command@@ ().@@ execute@@ (); }
public void set@@ Vds@@ (org.ovirt.engine.core.common.businessentities.@@ VDS v@@ ) { if ((@@ v@@ .get@@ Vds@@ Id()) == null@@ ) { vd@@ s = v@@ .get@@ Vds@@ DAO@@ ().get@@ (@@ v@@ .get@@ Vds@@ Id()); } }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > filter@@ StorageDomain@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s@@ In@@ Pool@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s@@ List@@ ) { for (org.ovirt.engine.core.bll.@@ memory@@ .@@ storageDomain@@ Filter@@ s.@@ StorageDomain@@ Fil@@ te@@ r storageDomain@@ Fil@@ te@@ r : get@@ StorageDomain@@ Fil@@ t@@ ers@@ ()) { do@@ m@@ ain@@ s@@ In@@ Pool = storageDomain@@ Fil@@ t@@ er.@@ filter@@ StorageDomain@@ s@@ (@@ do@@ m@@ ain@@ s@@ In@@ Pool@@ , disk@@ s@@ List@@ ); } return do@@ m@@ ain@@ s@@ In@@ Pool@@ ; }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) return true@@ ; if (@@ ob@@ j == null@@ ) return false@@ ; if ((get@@ Class@@ ()) != (@@ obj@@ .get@@ Class@@ ())) return false@@ ; org.ovirt.engine.core.common.businessentities.network.Network@@ C@@ luster oth@@ er = ((@@ org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ ) (@@ obj@@ )); if ((@@ dis@@ play@@ ) != (@@ other.@@ dis@@ play@@ )) return false@@ ; if ((@@ status@@ ) == null@@ ) { if ((@@ other.@@ status@@ ) != null@@ ) return false@@ ; } else if (!(@@ stat@@ u@@ s.@@ equals(@@ other.@@ status@@ ))) return false@@ ; if ((@@ id@@ ) == null@@ ) { if ((@@ other.@@ id@@ ) != null@@ ) return false@@ ; } else if (!(@@ id@@ .equals(@@ other.@@ id@@ ))) return false@@ ; if ((@@ re@@ qui@@ red@@ ) != (@@ other.@@ re@@ qui@@ red@@ )) { return false@@ ; } if ((@@ m@@ igr@@ ation@@ ) != (@@ other.@@ m@@ igr@@ ation@@ )) { return false@@ ; } if ((@@ gluster@@ ) != (@@ other.@@ gluster@@ )) { return false@@ ; } return true@@ ; }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () throw@@ s java.lang.Exception { mock@@ Ser@@ vic@@ e = mock@@ (@@ org.ovirt.engine.ui.frontend.@@ gw@@ t@@ ser@@ vic@@ es.@@ Gener@@ ic@@ Ap@@ i@@ G@@ W@@ T@@ Service@@ Async@@ .@@ class@@ , with@@ Set@@ t@@ ing@@ s().@@ ex@@ tr@@ a@@ Interfaces@@ (c@@ om.google.gwt.@@ user.@@ client.@@ rpc@@ .@@ Service@@ De@@ f@@ T@@ arget@@ .@@ class@@ )); mock@@ X@@ s@@ r@@ f@@ Ser@@ vic@@ e = mock@@ (c@@ om.google.gwt.@@ user.@@ client.@@ rpc@@ .@@ X@@ s@@ r@@ f@@ To@@ k@@ en@@ Service@@ Async@@ .@@ class@@ , with@@ Set@@ t@@ ing@@ s().@@ ex@@ tr@@ a@@ Interfaces@@ (c@@ om.google.gwt.@@ user.@@ client.@@ rpc@@ .@@ Service@@ De@@ f@@ T@@ arget@@ .@@ class@@ )); org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Comm@@ un@@ ication@@ Provi@@ der c@@ omm@@ un@@ ication@@ s@@ Provi@@ der = new org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ G@@ W@@ T@@ R@@ P@@ C@@ Comm@@ un@@ ication@@ Provider@@ (m@@ ock@@ Service@@ , mock@@ X@@ s@@ r@@ f@@ Service@@ ); ((@@ org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ G@@ W@@ T@@ R@@ P@@ C@@ Comm@@ un@@ ication@@ Provider@@ ) (c@@ omm@@ un@@ ication@@ s@@ Provider@@ )@@ ).get@@ X@@ s@@ r@@ f@@ Request@@ Builder@@ ().set@@ X@@ s@@ r@@ f@@ To@@ k@@ en@@ (@@ new com.google.gwt.@@ user.@@ client.@@ rpc@@ .@@ X@@ s@@ r@@ f@@ To@@ k@@ en@@ ("@@ S@@ om@@ eth@@ ing@@ ")); ((@@ org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ G@@ W@@ T@@ R@@ P@@ C@@ Comm@@ un@@ ication@@ Provider@@ ) (c@@ omm@@ un@@ ication@@ s@@ Provider@@ )@@ .set@@ Base@@ UR@@ L@@ ("@@ /@@ b@@ ase@@ ur@@ l@@ "); org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Operation@@ Pro@@ cess@@ or o@@ per@@ ation@@ Pro@@ cess@@ or = new org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Operation@@ Pro@@ cess@@ or@@ (c@@ omm@@ un@@ ication@@ s@@ Provider@@ ); o@@ per@@ ation@@ Pro@@ cess@@ or@@ .set@@ Schedul@@ er@@ (@@ fa@@ ke@@ Schedul@@ er@@ ); org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Vdc@@ Operation@@ Manage@@ r o@@ per@@ ation@@ s@@ Manage@@ r = new org.ovirt.engine.ui.frontend.@@ c@@ omm@@ un@@ ic@@ ation.@@ Vdc@@ Operation@@ Manager@@ (@@ o@@ per@@ ation@@ Pro@@ cess@@ or@@ ); o@@ per@@ ation@@ s@@ Manager.@@ set@@ Log@@ ged@@ In@@ (@@ true@@ ); f@@ ron@@ ten@@ d = new org.ovirt.engine.ui.frontend.@@ Frontend@@ (@@ o@@ per@@ ation@@ sManager@@ , mock@@ CanDoAction@@ Error@@ s@@ Trans@@ l@@ ator@@ , mock@@ Event@@ B@@ us@@ ); f@@ rontend@@ .set@@ Event@@ sHandler@@ (m@@ ock@@ Event@@ sHandler@@ ); f@@ rontend@@ .set@@ Constant@@ s(@@ mock@@ Constant@@ s); frontend.@@ f@@ rontend@@ Fail@@ ure@@ Event = mock@@ Frontend@@ Fail@@ ure@@ Event@@ ; f@@ rontend@@ .set@@ Lo@@ gin@@ Handler@@ (@@ new org.ovirt.engine.ui.frontend.@@ Frontend@@ Query@@ Async@@ Query.get@@ Del@@ ()).@@ then@@ Return@@ (m@@ ock@@ AsyncCallback@@ ); }
@java.lang.Override protected void execute@@ Command() { if ((org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.getVm@@ Template@@ ().get@@ Template@@ Type()) != (org.ovirt.engine.core.common.businessentities.Vm@@ Entity@@ Type.@@ IN@@ ST@@ AN@@ C@@ E_@@ TYP@@ E@@ )) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ w@@ ar@@ n@@ Memory@@ Size@@ Le@@ g@@ al@@ (org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.getParameters().get@@ VmTemplate@@ Data@@ (), org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.get@@ VdsGroup@@ ().get@@ c@@ ompatibility@@ _@@ version@@ ()); } if ((org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.getVm@@ Template@@ ()) != null@@ ) { org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.getVm@@ Static@@ DAO@@ ().@@ in@@ c@@ re@@ ment@@ Db@@ Gener@@ ation@@ (org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.getVm@@ Template@@ ().get@@ Id()); update@@ O@@ ri@@ gin@@ al@@ Template@@ Name@@ On@@ D@@ er@@ i@@ v@@ ed@@ Vms@@ (); Update@@ VmTemplate@@ (); update@@ W@@ at@@ ch@@ do@@ g@@ (org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.getParameters().get@@ VmTemplate@@ Data@@ ().get@@ Id()); update@@ Graphics@@ Device@@ (); check@@ Tr@@ ust@@ ed@@ Service@@ (); org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.set@@ Succeeded@@ (@@ true@@ ); } }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Snapshot@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Snapshot@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ S@@ napsho@@ t map@@ (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t entity@@ , org.ovirt.engine.api.model.@@ S@@ napsho@@ t template@@ ) { org.ovirt.engine.api.model.@@ S@@ napsho@@ t model = (@@ templ@@ ate != null@@ ) ? templ@@ ate : new org.ovirt.engine.api.model.@@ Snapshot@@ (); model.set@@ Id(@@ entity.get@@ Id().@@ toString()); if ((@@ entity.get@@ Description@@ ()) != null@@ ) { model.set@@ Description@@ (@@ entity.get@@ Description@@ ()); } if ((@@ entity.get@@ Cre@@ ation@@ D@@ ate@@ ()) != null@@ ) { model.set@@ D@@ ate@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ D@@ ate@@ Mapper.@@ map@@ (@@ entity.get@@ Cre@@ ation@@ D@@ ate@@ (), null@@ )); } if ((@@ entity.get@@ Status()) != null@@ ) { model.set@@ Snapshot@@ Status(@@ org.ovirt.engine.api.restapi.@@ types.@@ Snapshot@@ Mapper.@@ map@@ (@@ entity.get@@ Status@@ (), null@@ )); } if ((@@ entity.get@@ Type()) != null@@ ) { model.set@@ Snapshot@@ Type(@@ org.ovirt.engine.api.restapi.@@ types.@@ Snapshot@@ Mapper.@@ map@@ (@@ entity.get@@ Type@@ (), null@@ )); } if (@@ entity@@ .@@ contains@@ Memory@@ ()) { model.set@@ P@@ ers@@ ist@@ Memory@@ st@@ ate@@ (@@ true@@ ); } return model@@ ; }
public java.lang.Integ@@ er get@@ Vm@@ Migr@@ at@@ ing@@ () { return vds@@ Dynamic@@ .get@@ Vm@@ Migr@@ at@@ ing@@ (); }
<@@ T extends org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ <@@ org.ovirt.engine.core.compat.Guid@@ >> java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , T@@ > load@@ Enti@@ ties@@ (java.lang.@@ Class@@ <@@ T@@ > type@@ , java.lang.String fi@@ xt@@ ure@@ Name, java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ <@@ org.ovirt.engine.core.compat.Guid@@ >> c@@ ach@@ e) throw@@ s java.io.@@ I@@ O@@ Exception@@ , java.lang.@@ I@@ l@@ le@@ g@@ al@@ Ac@@ cess@@ Exception@@ , java.lang.@@ In@@ stan@@ ti@@ ation@@ Exception@@ , java.lang.@@ N@@ oS@@ u@@ ch@@ Fiel@@ d@@ Exception@@ , java.lang.@@ N@@ oS@@ u@@ ch@@ Method@@ Exception@@ , java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ In@@ vo@@ c@@ ation@@ T@@ arget@@ Exception { java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , T@@ > enti@@ ti@@ es = new java.util.HashMap<@@ >(); java.io.@@ In@@ put@@ St@@ rea@@ m in@@ put@@ St@@ rea@@ m = get@@ Class@@ ().get@@ Resource@@ As@@ St@@ ream@@ ((@@ "@@ /@@ schedul@@ ing@@ /@@ " + fi@@ xt@@ ure@@ Name@@ )); java.io.@@ Bu@@ f@@ fer@@ ed@@ Re@@ ade@@ r bu@@ f@@ fer@@ ed@@ Re@@ ade@@ r = new java.io.@@ Bu@@ f@@ fer@@ ed@@ Read@@ er@@ (@@ new java.io.@@ In@@ put@@ St@@ ream@@ Read@@ er@@ (in@@ put@@ St@@ ream@@ )); java.lang.String h@@ e@@ ade@@ r = bu@@ f@@ fer@@ ed@@ Read@@ er.@@ read@@ Lin@@ e@@ (); java.lang.String@@ [@@ ] fi@@ el@@ d@@ s = h@@ ead@@ er.@@ s@@ pl@@ it@@ ("@@ ,@@ "); java.lang.String lin@@ e = bu@@ f@@ fer@@ ed@@ Read@@ er.@@ read@@ Lin@@ e@@ (); while (@@ lin@@ e != null@@ ) { T enti@@ ty = type@@ .@@ new@@ Instance@@ (); java.lang.String@@ [@@ ] value@@ s = lin@@ e.@@ s@@ pl@@ it@@ ("@@ ,@@ "); for (@@ int i = 0@@ ; i < (java.lang.@@ M@@ ath@@ .m@@ in@@ (@@ valu@@ es.@@ l@@ ength@@ , fi@@ el@@ d@@ s.@@ l@@ ength@@ )); i@@ +@@ +@@ ) { java.lang.String valu@@ e = valu@@ es@@ [@@ i@@ ]@@ .@@ t@@ ri@@ m@@ (); if (@@ valu@@ e.@@ isEmpty@@ ()) { continue@@ ; } set@@ Fiel@@ d@@ (@@ entity@@ , fi@@ el@@ ds@@ [@@ i@@ ]@@ , value@@ , c@@ ach@@ e); } entities.@@ put(@@ entity.get@@ Id(), entity@@ ); c@@ ach@@ e.@@ put(@@ entity.get@@ Id(), entity@@ ); lin@@ e = bu@@ f@@ fer@@ ed@@ Read@@ er.@@ read@@ Lin@@ e@@ (); } return enti@@ ties@@ ; }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > get@@ Permission@@ Check@@ Su@@ bject@@ s() { java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > list@@ Permission@@ Su@@ bject@@ s = new java.util.ArrayList<>(); if (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Trans@@ fer@@ DiskImage@@ Command.@@ is@@ Image@@ Provi@@ ded@@ ()) { list@@ Permission@@ Su@@ bject@@ s.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Trans@@ fer@@ DiskImage@@ Command.get@@ ImageGroup@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ ED@@ I@@ T_@@ DIS@@ K_@@ P@@ RO@@ P@@ ER@@ TI@@ ES@@ )); } else { list@@ Permission@@ Su@@ bject@@ s.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Trans@@ fer@@ DiskImage@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ C@@ RE@@ AT@@ E_@@ DIS@@ K@@ )); } return list@@ Permission@@ Su@@ bject@@ s@@ ; }
private org.ovirt.engine.core.common.businessentities.Storage@@ Pool f@@ et@@ ch@@ StoragePool@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id) { return get@@ StoragePool@@ Dao().get@@ (@@ storagePool@@ Id); }
@java.lang.Override protected boolean canDoAction@@ () { set@@ User@@ Name@@ (org.ovirt.engine.core.bll.@@ aaa.@@ Lo@@ gin@@ Ad@@ min@@ User@@ Command.getParameters().get@@ Lo@@ gin@@ Name()); boolean auth@@ et@@ icate@@ d = org.ovirt.engine.core.bll.@@ aaa.@@ Lo@@ gin@@ Ad@@ min@@ User@@ Command.@@ is@@ User@@ Can@@ Be@@ Auth@@ entic@@ ated@@ (); if (@@ auth@@ et@@ ic@@ ated@@ ) { auth@@ et@@ icate@@ d = org.ovirt.engine.core.bll.@@ aaa.@@ Lo@@ gin@@ Ad@@ min@@ User@@ Command.get@@ C@@ urrent@@ User@@ ().is@@ Ad@@ min@@ (); if (!@@ auth@@ et@@ ic@@ ated@@ ) { addCanDoActionMessage@@ (VdcBllMessages.@@ US@@ ER_@@ NOT_@@ A@@ U@@ TH@@ OR@@ I@@ Z@@ ED_@@ TO@@ _P@@ ER@@ F@@ OR@@ M@@ _@@ AC@@ TI@@ ON@@ ); } } if (!@@ auth@@ et@@ ic@@ ated@@ ) { org.ovirt.engine.core.bll.@@ aaa.@@ Lo@@ gin@@ Ad@@ min@@ User@@ Command.@@ log@@ Auth@@ et@@ ication@@ Fail@@ ure@@ (); } return auth@@ et@@ ic@@ ated@@ ; }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ External@@ Sub@@ net@@ > get@@ Sub@@ net@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ External@@ Sub@@ net@@ > sub@@ net@@ s = new java.util.ArrayList<>(); sub@@ net@@ s.@@ add@@ All@@ (get@@ Sub@@ net@@ s@@ )); return sub@@ net@@ s@@ ; }
private org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source get@@ In@@ sert@@ Or@@ Update@@ Param@@ s@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ Vds@@ Stati@@ c vds@@ ) { return get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ host@@ _@@ name@@ ", vds.get@@ host@@ _@@ name@@ ()).addValue("@@ ip@@ ", vds.get@@ Manag@@ ment@@ Ip@@ ()).addValue("@@ vds@@ _@@ un@@ i@@ q@@ ue@@ _id", vds.get@@ Un@@ i@@ q@@ ue@@ ID@@ ()).addValue("@@ port@@ ", vds.get@@ port@@ ()).addValue("@@ vds@@ _@@ group@@ _id", vds.get@@ vds@@ _@@ group@@ _id@@ ()).addValue("@@ vds@@ _id", vds@@ .getId@@ ()).addValue("@@ vds@@ _@@ name@@ ", vds.get@@ vds@@ _@@ name@@ ()).addValue("@@ server@@ _@@ SS@@ L@@ _@@ en@@ abled@@ ", vds.get@@ server@@ _@@ SS@@ L@@ _@@ en@@ abled@@ ()).addValue("@@ vds@@ _@@ type@@ ", vds.get@@ vds@@ _@@ type@@ ()).addValue("@@ vds@@ _@@ str@@ ength@@ ", vds.get@@ vds@@ _@@ str@@ ength@@ ()).addValue("@@ p@@ m@@ _@@ type@@ ", vds.get@@ p@@ m@@ _@@ type@@ ()).addValue("@@ p@@ m@@ _@@ user@@ ", vds.get@@ p@@ m@@ _@@ user@@ ()).addValue("@@ p@@ m@@ _@@ p@@ assword@@ ", org.ovirt.engine.core.dao.@@ Vds@@ Static@@ DAO@@ DbFacade@@ Impl.@@ enc@@ r@@ yp@@ t@@ Password@@ (@@ vds.get@@ p@@ m@@ _@@ p@@ assword@@ ())@@ ).@@ addValue("@@ p@@ m@@ _@@ port@@ ", vds.get@@ p@@ m@@ _@@ port@@ ()).addValue("@@ p@@ m@@ _@@ o@@ ption@@ s", vds.get@@ p@@ m@@ _@@ o@@ ption@@ s@@ ()).addValue("@@ p@@ m@@ _@@ en@@ abled@@ ", vds.get@@ p@@ m@@ _@@ en@@ abled@@ ()).addValue("@@ ot@@ p@@ _@@ valid@@ ity@@ ", vds.get@@ O@@ t@@ p@@ Valid@@ ity@@ ()).addValue("@@ vds@@ _@@ sp@@ m@@ _@@ pri@@ or@@ ity@@ ", vds.get@@ Vds@@ Sp@@ m@@ P@@ ri@@ or@@ ity@@ ()).addValue("@@ f@@ ing@@ er@@ p@@ r@@ int@@ ", vds.get@@ F@@ ing@@ er@@ p@@ r@@ int@@ ()); }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ > entity@@ List = org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ gist@@ er@@ ed@@ Vms@@ Query.get@@ DbFacade@@ ().get@@ Un@@ re@@ gist@@ er@@ ed@@ OV@@ F@@ Data@@ Dao().get@@ AllFor@@ StorageDomain@@ (org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ gist@@ er@@ ed@@ Vms@@ Query.get@@ Parameters().get@@ Id(), org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ gist@@ er@@ ed@@ Vms@@ Query.get@@ Parameters().get@@ Name()); if ((org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ gist@@ er@@ ed@@ Vms@@ Query.get@@ Parameters().get@@ Name@@ ()) == "@@ VM@@ ") { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ List = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data ov@@ f : entity@@ List@@ ) { org.ovirt.engine.core.common.businessentities.VM vm = new org.ovirt.engine.core.common.businessentities.@@ VM@@ (); vm@@ .set@@ Id(@@ ovf@@ .get@@ Vm@@ Id()); vm@@ .set@@ Name(@@ ovf@@ .get@@ Vm@@ Name()); vm@@ List.@@ add@@ (vm@@ ); } org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ gist@@ er@@ ed@@ Vms@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (vm@@ List@@ ); } else { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > vm@@ Template@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data ov@@ f : entity@@ List@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate vm@@ Templ@@ ate = new org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ (); vm@@ Templ@@ at@@ e.set@@ Id(@@ ovf@@ .get@@ Vm@@ Id()); vm@@ Templ@@ at@@ e.set@@ Name(@@ ovf@@ .get@@ Vm@@ Name()); vm@@ Templ@@ at@@ es.@@ add@@ (vm@@ Template@@ ); } org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ gist@@ er@@ ed@@ Vms@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (vm@@ Templ@@ at@@ es@@ ); } }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > get@@ Non@@ B@@ lan@@ k@@ Base@@ Templ@@ at@@ es(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > templat@@ es@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > b@@ ase@@ Template@@ s = get@@ Base@@ Templ@@ at@@ es(@@ templat@@ es@@ ); for (org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate b@@ ase@@ Templ@@ ate : b@@ ase@@ Templ@@ at@@ es@@ ) { if (@@ Guid@@ .@@ Empty@@ .equals(@@ b@@ ase@@ Templ@@ at@@ e.get@@ Id@@ ())) { b@@ ase@@ Templ@@ at@@ es.@@ remove@@ (@@ b@@ ase@@ Template@@ ); break@@ ; } } return b@@ ase@@ Templ@@ at@@ es@@ ; }
private java.lang.String gener@@ ate@@ Domain@@ X@@ ml@@ () { org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der buil@@ der = new org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Builder@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Hot@@ Plug@@ Or@@ Un@@ plug@@ Nic@@ VDS@@ Command.getParameters().get@@ Vm@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Hot@@ Plug@@ Or@@ Un@@ plug@@ Nic@@ VDS@@ Command.get@@ Vds@@ ().get@@ Id(), nic@@ , vm@@ Device@@ , vm@@ Info@@ Buil@@ d@@ Util@@ s, (@@ nic@@ .is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ () ? org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Collection@@ s.@@ sing@@ leton@@ Map@@ (@@ nic@@ .get@@ Id(), vm@@ Devic@@ e.get@@ Host@@ Device@@ ()) : org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Collection@@ s.@@ em@@ pty@@ Map@@ ())); java.lang.String l@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l = buil@@ der.@@ build@@ Hot@@ plug@@ Nic@@ (); java.lang.String p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l = org.ovirt.engine.core.utils.@@ X@@ ml@@ Utils.@@ p@@ ret@@ t@@ if@@ y@@ (@@ l@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ); if (p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ Utils.@@ p@@ ret@@ t@@ if@@ y@@ (@@ l@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ); if (p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l != null@@ ) { log.info@@ ("@@ N@@ I@@ C h@@ ot@@ -@@ set@@ : {}@@ ", p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ); } return l@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ; }
@org.junit.Test public void shoul@@ d@@ Det@@ ect@@ P@@ in@@ ne@@ d@@ VM@@ () { in@@ valid@@ VM@@ .set@@ D@@ ed@@ ic@@ ated@@ Vm@@ For@@ Vds@@ List(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); in@@ valid@@ VM@@ .set@@ Migration@@ Sup@@ port@@ (org.ovirt.engine.core.bll.@@ validator.@@ P@@ IN@@ N@@ ED_@@ TO@@ _@@ HOST@@ ); assert@@ That@@ (@@ validator.@@ check@@ Vm@@ Read@@ y@@ For@@ Up@@ gr@@ ade@@ (in@@ valid@@ VM@@ ), has@@ Item@@ (@@ UP@@ G@@ R@@ AD@@ E_@@ ER@@ R@@ OR@@ .@@ VM_@@ P@@ IN@@ N@@ ED_@@ TO@@ _@@ HOST@@ S@@ )); }
@java.lang.Override public void remove@@ All@@ Vds@@ Numa@@ Node@@ By@@ Vds@@ Id(@@ org.ovirt.engine.core.compat.Guid vds@@ Id) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ vm@@ _@@ or@@ _@@ vds@@ _@@ g@@ uid@@ ", vds@@ Id); get@@ Call@@ sHandler@@ ().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ Delet@@ e@@ Numa@@ Node@@ By@@ Vm@@ Or@@ Id@@ ", parameter@@ Source@@ ); }
public boolean add@@ (org.ovirt.engine.core.common.businessentities.@@ VmNetwork@@ Interface if@@ ace@@ , org.ovirt.engine.core.bll.@@ contex@@ t.@@ Comp@@ ens@@ ation@@ Contex@@ t comp@@ ens@@ ation@@ Context@@ , boolean al@@ loc@@ ate@@ Mac@@ ) { boolean m@@ ac@@ Ad@@ de@@ d = false@@ ; if ((!@@ al@@ loc@@ ate@@ Mac@@ ) && (get@@ MacPool@@ Manager@@ ().@@ Is@@ Mac@@ In@@ U@@ se@@ (@@ if@@ ac@@ e.get@@ Mac@@ Address@@ ()))) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); log@@ abl@@ e.@@ Add@@ Custom@@ Value("@@ M@@ AC@@ Add@@ r@@ ", if@@ ac@@ e.get@@ Mac@@ Address@@ ()); log@@ abl@@ e.@@ Add@@ Custom@@ Value("@@ Vm@@ Name@@ ", if@@ ac@@ e.get@@ Vm@@ Name()); log@@ (@@ log@@ able@@ , AuditLogType.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ I@@ S_@@ IN_@@ US@@ E); } else { if (@@ al@@ loc@@ ate@@ Mac@@ ) { if@@ ac@@ e.set@@ Mac@@ Address@@ (org.ovirt.engine.core.bll.@@ MacPool@@ Manager@@ .getInstance().@@ al@@ loc@@ ate@@ New@@ Mac@@ ()); } m@@ ac@@ Ad@@ de@@ d = get@@ MacPool@@ Manager@@ ().@@ Add@@ Mac@@ (@@ if@@ ac@@ e.get@@ Mac@@ Address@@ ()); } get@@ VmNetwork@@ Interface@@ DAO@@ ().@@ save@@ (@@ if@@ ace@@ ); get@@ VmNetwork@@ Statistic@@ s@@ DAO@@ ().@@ save@@ (@@ if@@ ac@@ e.get@@ Statistic@@ s()); comp@@ ens@@ ation@@ Contex@@ t.@@ snapshot@@ New@@ Entity@@ (@@ if@@ ace@@ ); comp@@ ens@@ ation@@ Contex@@ t.@@ snapshot@@ New@@ Entity@@ (@@ if@@ ac@@ e.get@@ Statistic@@ s()); return m@@ ac@@ Ad@@ ded@@ ; }
@java.lang.Override public boolean mat@@ ch@@ (@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base source@@ ) { return s@@ ourc@@ e.get@@ Validate@@ (); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ AT@@ T@@ AC@@ H@@ _@@ ACTION_@@ TO@@ ); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ VM_@@ DIS@@ K@@ ); }
private void re@@ fresh@@ Server@@ Data@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group cluster@@ , org.ovirt.engine.core.common.businessentities.@@ VDS up@@ Server@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > existing@@ Server@@ s) { if (c@@ luster.@@ sup@@ port@@ s@@ Vir@@ t@@ Service@@ ()) { log.debug@@ Format@@ ("@@ A@@ s c@@ luster {0@@ } sup@@ port@@ s vi@@ r@@ t ser@@ vic@@ e a@@ s w@@ el@@ l@@ , it@@ '@@ s server@@ s w@@ il@@ l not b@@ e s@@ yn@@ ce@@ d wit@@ h gluster@@ fs@@ ", cluster@@ .get@@ name@@ ()); return@@ ; } ac@@ qui@@ re@@ Lock@@ (cluster@@ .getId()); try { java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Server@@ Info@@ > f@@ et@@ ched@@ Server@@ s = f@@ et@@ ch@@ Server@@ s@@ (cluster@@ , up@@ Server@@ , existing@@ Server@@ s); if (@@ f@@ et@@ ched@@ Server@@ s != null@@ ) { remove@@ Det@@ ach@@ ed@@ Server@@ s(@@ existing@@ Server@@ s, f@@ et@@ ched@@ Server@@ s); } } catch (@@ java.lang.Exception e) { log.error@@ Format@@ ("@@ E@@ r@@ ro@@ r while re@@ fresh@@ ing ser@@ ve@@ r dat@@ a for c@@ luster {0@@ } f@@ ro@@ m data@@ b@@ ase@@ !@@ ", cluster@@ .get@@ name@@ (), e); } final@@ l@@ y { re@@ le@@ ase@@ Lock@@ (cluster@@ .getId()); } } }
protected void update@@ I@@ ter@@ ation@@ () { re@@ fresh@@ I@@ ter@@ ation = ((@@ +@@ +@@ (@@ re@@ fresh@@ I@@ ter@@ ation@@ )@@ +@@ +@@ ) % (@@ org.ovirt.engine.core.vdsbroker.@@ P@@ oll@@ VM@@ Stat@@ s@@ Re@@ fresh@@ er.@@ N@@ U@@ M@@ B@@ ER_@@ VM@@ S_@@ RE@@ F@@ RE@@ S@@ H@@ E@@ S_@@ B@@ E@@ F@@ OR@@ E_@@ S@@ A@@ V@@ E); }
@java.lang.Override public org.ovirt.engine.core.@@ auth@@ entic@@ ation.@@ Direct@@ ory@@ Us@@ er fin@@ d@@ User@@ (java.lang.String name@@ ) { org.ovirt.engine.core.common.utils.@@ External@@ Id id = new org.ovirt.engine.core.common.utils.@@ External@@ Id(@@ nam@@ e.get@@ By@@ t@@ es@@ ()); return new org.ovirt.engine.core.@@ auth@@ entic@@ ation.@@ Direct@@ ory@@ User@@ (@@ this@@ , id@@ , name@@ ); }
@org.junit.Test public void on@@ ly@@ Out@@ b@@ ound@@ P@@ e@@ a@@ k@@ Pres@@ ent@@ () { q@@ o@@ s.set@@ Out@@ b@@ ound@@ P@@ e@@ a@@ k@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Qos@@ Validator@@ Test.@@ B@@ AN@@ D@@ W@@ ID@@ TH@@ _@@ M@@ ED@@ I@@ U@@ M@@ ); valu@@ es@@ Pres@@ ent@@ Test@@ (org.ovirt.engine.core.bll.@@ validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NETWORK_@@ Q@@ O@@ S_@@ M@@ IS@@ S@@ ING@@ _@@ VAL@@ U@@ ES@@ )); }
private org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity build@@ Command@@ Entity@@ (org.ovirt.engine.core.compat.Guid ro@@ ot@@ Command@@ Id, boolean en@@ able@@ Callback@@ ) { return org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity@@ .@@ build@@ Command@@ Entity@@ (get@@ Context@@ ().get@@ Engine@@ Context@@ ().get@@ Session@@ Id(), org.ovirt.engine.core.bll.@@ CommandBase.get@@ User@@ Id(), get@@ Command@@ Id(), ((get@@ Parameters().get@@ Parent@@ Parameters@@ ()) == null ? org.ovirt.engine.core.compat.Guid.@@ Em@@ p@@ ty : get@@ Parameters().get@@ Parent@@ Parameters().get@@ Command@@ Id@@ ()), ro@@ ot@@ Command@@ Id, ((@@ (get@@ Execution@@ Context@@ ()) == null@@ ) || ((get@@ Execution@@ Context@@ ().get@@ Job@@ ()) == null@@ ) ? org.ovirt.engine.core.compat.Guid.@@ Em@@ p@@ ty : get@@ Execution@@ Context@@ ().get@@ Job@@ ().get@@ Id@@ ()), ((@@ (get@@ Execution@@ Context@@ ()) == null@@ ) || ((get@@ Execution@@ Context@@ ().get@@ Step@@ ()) == null@@ ) ? org.ovirt.engine.core.compat.Guid.@@ Em@@ p@@ ty : get@@ Execution@@ Context@@ ().get@@ Step@@ ().get@@ Id@@ ()), get@@ Action@@ Type@@ (), get@@ Parameters@@ (), command@@ Status@@ , en@@ able@@ Callback@@ , get@@ ReturnValue@@ (), get@@ Command@@ Data@@ ()); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { java.lang.String selected@@ C@@ luster = get@@ S@@ lave@@ C@@ lust@@ ers@@ ().getSelectedItem@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ > volum@@ es@@ In@@ C@@ urrent@@ C@@ luster = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ >(); if (s@@ elected@@ C@@ luster != null@@ ) { volum@@ es@@ In@@ C@@ urrent@@ C@@ luster = get@@ Volum@@ es@@ In@@ Cluster@@ (s@@ elected@@ Cluster@@ , get@@ Volume@@ List@@ ()); } if ((@@ volum@@ es@@ In@@ C@@ urrent@@ C@@ luster.@@ size()) > 0) { get@@ S@@ lave@@ Volum@@ es@@ ().set@@ Items(@@ volum@@ es@@ In@@ C@@ urrent@@ Cluster@@ , volum@@ es@@ In@@ C@@ urrent@@ Cluster@@ .get(@@ 0@@ )); } else { get@@ S@@ lave@@ Volum@@ es@@ ().set@@ Items(@@ volum@@ es@@ In@@ C@@ urrent@@ Cluster@@ ); } }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ s> get@@ AllFor@@ Entity@@ (org.ovirt.engine.core.compat.Guid id@@ , long engin@@ e@@ Session@@ Id, boolean is@@ Filter@@ ed@@ ) { return get@@ AllFor@@ Entity(@@ id@@ , engin@@ e@@ Session@@ Id, is@@ Filter@@ ed@@ , false@@ ); }
public static java.util.List<java.lang.String> get@@ 6@@ 4@@ b@@ it@@ Os@@ Typ@@ es@@ () { org.ovirt.engine.core.common.queries.@@ Async@@ ReturnValue@@ <@@ java.util.List<@@ java.lang.String@@ >> async@@ ReturnValue = new org.ovirt.engine.core.common.queries.@@ Async@@ ReturnValue@@ <@@ java.util.List<@@ java.lang.String@@ >@@ >(); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.@@ Os@@ Rep@@ os@@ it@@ ory@@ , new org.ovirt.engine.core.common.queries.@@ Os@@ Query@@ Parameters(@@ Os@@ Rep@@ os@@ it@@ ory@@ V@@ er@@ b@@ .@@ Get@@ 6@@ 4@@ B@@ it@@ s@@ O@@ S@@ s@@ ), async@@ ReturnValue@@ ); return async@@ Return@@ Value.get@@ (); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ res@@ et@@ em@@ ul@@ ated@@ m@@ ach@@ in@@ e@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Ser@@ ve@@ r get@@ Action@@ Resource@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return new org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Server@@ (get@@ Del@@ e@@ g@@ ate@@ ().get@@ Action@@ Resource@@ (@@ action@@ , o@@ id@@ )); }
@java.lang.Override protected boolean canDoAction@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ StorageServerConnection@@ Ex@@ ten@@ si@@ on conn@@ From@@ Param@@ s = org.ovirt.engine.core.bll.storage.@@ Update@@ StorageServerConnection@@ Ex@@ ten@@ sion@@ Command.getParameters().get@@ StorageServerConnection@@ Ex@@ ten@@ sion@@ (); if ((get@@ Connection@@ Ex@@ ten@@ sion@@ (@@ conn@@ From@@ Param@@ s.get@@ Id@@ ())) == null@@ ) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ C@@ ON@@ N@@ EC@@ TION_@@ EX@@ T@@ EN@@ SI@@ ON_@@ DO@@ E@@ S_NOT_@@ EXIST@@ ); } return true@@ ; }
public boolean is@@ Action@@ S@@ ign@@ at@@ ure(@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ M@@ eth@@ o@@ d m@@ ethod@@ ) { return (((@@ m@@ ethod@@ .get@@ Base@@ ()) != null@@ ) && (!(@@ m@@ ethod@@ .get@@ Base@@ ().get@@ Name@@ ().@@ equals(@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ to@@ ol.@@ util.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ AD@@ D@@ )@@ ))) && (!(@@ m@@ ethod@@ .get@@ Base@@ ().get@@ Name@@ ().@@ equals(@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ to@@ ol.@@ util.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ UP@@ D@@ AT@@ E@@ ))); }
@org.junit.Test public void test@@ Is@@ Domain@@ Exist@@ And@@ Active@@ Domain@@ Not@@ Up@@ () { do@@ m@@ ain@@ .set@@ Status(@@ StorageDomain@@ Status.@@ In@@ ac@@ tive@@ ); assert@@ Equals@@ ("@@ W@@ ron@@ g fail@@ ur@@ e for in@@ ac@@ ti@@ v@@ e do@@ m@@ ain@@ ", EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ ST@@ AT@@ U@@ S_@@ IL@@ LE@@ G@@ AL@@ 2@@ , validator.@@ is@@ Domain@@ Exist@@ And@@ Active@@ ().get@@ Message@@ ()); }
@java.lang.Override public void On@@ Success@@ (java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ pool@@ s.@@ Pool@@ List@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ pool@@ s.@@ Pool@@ ListModel@@ ) (@@ target@@ )); if (@@ return@@ Value != null@@ ) { model.set@@ Custom@@ Properties@@ Key@@ s@@ List@@ (@@ new java.util.HashMap<@@ org.ovirt.engine.core.compat.@@ Version@@ , java.util.ArrayList<@@ java.lang.String@@ >@@ ()); java.util.HashMap<@@ org.ovirt.engine.core.compat.@@ Version@@ , java.lang.String> d@@ ic@@ tion@@ ar@@ y = ((@@ java.util.HashMap<@@ org.ovirt.engine.core.compat.@@ Version@@ , java.lang.String@@ >) (@@ return@@ Value@@ )); for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ org.ovirt.engine.core.compat.@@ Version@@ , java.lang.String> key@@ Value@@ Pa@@ i@@ r : d@@ ic@@ tion@@ ar@@ y@@ .@@ e@@ n@@ try@@ Set@@ ()) { java.lang.String@@ [@@ ] s@@ pl@@ i@@ t = key@@ Value@@ Pair@@ .get@@ Value@@ ().@@ s@@ pl@@ it@@ ("@@ [@@ ;@@ ]@@ ", (@@ -@@ 1@@ )); if ((@@ (s@@ pl@@ it.@@ l@@ ength@@ ) == 1@@ ) && ((@@ (s@@ pl@@ it@@ [@@ 0@@ ]@@ ) == null@@ ) || (s@@ pl@@ it@@ [@@ 0@@ ]@@ .@@ isEmpty@@ ()))) { model.get@@ Custom@@ Properties@@ Key@@ s@@ List@@ ().@@ put(@@ key@@ Value@@ Pair@@ .get@@ Key@@ (), null@@ ); } else { model.get@@ Custom@@ Properties@@ Key@@ s@@ List@@ ().@@ put(@@ key@@ Value@@ Pair@@ .get@@ Key@@ (), new java.util.ArrayList<@@ java.lang.String@@ >@@ ()); for (java.lang.String s : s@@ pl@@ it@@ ) { model.get@@ Custom@@ Properties@@ Key@@ s@@ List@@ ().get@@ (@@ key@@ Value@@ Pair@@ .get@@ Key@@ ()).@@ add@@ (s@@ ); } } } }
protected void set@@ Default@@ Selected@@ Protocol@@ () { java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Console@@ Protocol@@ > all@@ Protocol@@ s = org.ovirt.engine.ui.uicommonweb.models.@@ Console@@ Protocol@@ .get@@ Protocol@@ sBy@@ P@@ ri@@ or@@ ity@@ (); if ((@@ selected@@ Protocol@@ ) != null@@ ) { all@@ Protocol@@ s.@@ remove@@ (s@@ elected@@ Protocol@@ ); all@@ Protocol@@ s.add(@@ 0@@ , selected@@ Protocol@@ ); } for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Console@@ Protoc@@ o@@ l prot@@ oc@@ o@@ l : all@@ Protocol@@ s) { if (c@@ an@@ Sel@@ ect@@ Protocol@@ (@@ prot@@ oc@@ ol@@ )) { s@@ el@@ ect@@ Protocol@@ (@@ prot@@ oc@@ ol@@ ); break@@ ; } } }
@java.lang.Override public org.ovirt.engine.api.res@@ ource.@@ ex@@ ternal@@ host@@ provider@@ s.@@ K@@ ate@@ l@@ lo@@ Err@@ ata@@ Res@@ ource get@@ K@@ ate@@ l@@ lo@@ Err@@ ata@@ Resource@@ () { return in@@ j@@ ect@@ (@@ new org.ovirt.engine.api.restapi.resource.@@ ex@@ ternal@@ host@@ provider@@ s.@@ Backend@@ Host@@ K@@ ate@@ l@@ lo@@ Err@@ ata@@ Resource@@ (@@ id@@ )); }
private boolean is@@ Disk@@ Valid@@ For@@ Storage@@ (org.ovirt.engine.core.common.businessentities.@@ Disk disk@@ , org.ovirt.engine.core.common.businessentities.Storage@@ Domain storage@@ ) { if ((@@ disk@@ .is@@ Sh@@ are@@ able@@ ()) && (@@ storage.@@ get@@ Storage@@ Type@@ ().@@ equals(@@ StorageType.@@ G@@ LUST@@ ER@@ FS@@ ))) { return false@@ ; } return true@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ N@@ e@@ w Vm@@ ") java.lang.String new@@ Vm@@ ();
@java.lang.Override protected boolean is@@ G@@ host@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ m@@ ac@@ p@@ oo@@ l.@@ Mac@@ R@@ ang@@ e@@ Model value@@ ) { return (@@ valu@@ e.get@@ Le@@ f@@ t@@ B@@ ound@@ ().getEntity@@ ().is@@ Empty@@ ()) || (@@ valu@@ e.get@@ R@@ ig@@ ht@@ B@@ ound@@ ().getEntity@@ ().is@@ Empty@@ ()); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.network.Network@@ C@@ luster map@@ Row@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { org.ovirt.engine.core.common.businessentities.network.Network@@ C@@ luster enti@@ ty = new org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ (); entity.set@@ Cluster@@ Id@@ (get@@ Guid@@ Default@@ Empty@@ (r@@ s, "@@ cluster@@ _id@@ ")); entity.set@@ Network@@ Id@@ (get@@ Guid@@ Default@@ Empty@@ (r@@ s, "@@ network@@ _id@@ ")); entity.set@@ Status@@ (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Status@@ .@@ for@@ Value@@ (rs.get@@ In@@ t@@ ("@@ status@@ "@@ ))); entity.set@@ Display@@ (rs.get@@ Boolean@@ ("@@ is@@ _@@ dis@@ play@@ ")); entity.set@@ Requi@@ red@@ (rs.get@@ Boolean@@ ("@@ re@@ qui@@ red@@ ")); entity.set@@ Migration@@ (rs.get@@ Boolean@@ ("@@ m@@ igr@@ ation@@ ")); entity.set@@ Gluster@@ (rs.get@@ Boolean@@ ("@@ gluster@@ ")); return entity@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > return@@ Value = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VmTemplate@@ Dao().get@@ AllFor@@ StorageDomain@@ (org.ovirt.engine.core.bll.@@ Get@@ Vm@@ Templ@@ at@@ es@@ From@@ StorageDomain@@ Query.get@@ Parameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ Get@@ Vm@@ Templ@@ at@@ es@@ From@@ StorageDomain@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.@@ Get@@ Vm@@ Templ@@ at@@ es@@ From@@ StorageDomain@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ()); for (org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate : return@@ Value@@ ) { org.ovirt.engine.core.bll.@@ VmTemplate@@ Handler.@@ Update@@ Disks@@ From@@ Db@@ (@@ template@@ ); java.util.Collections.@@ s@@ ort@@ (@@ templat@@ e.get@@ Disk@@ List@@ (), new org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ er@@ ator@@ s.@@ Images@@ Comp@@ ar@@ er@@ By@@ Name()); } java.util.Collections.@@ s@@ ort@@ (@@ return@@ Value@@ , java.util.Collections.@@ re@@ ver@@ se@@ Or@@ der@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ ator@@ s.@@ VmTemplate@@ Comp@@ ar@@ er@@ By@@ Disk@@ Size@@ ())); org.ovirt.engine.core.bll.@@ Get@@ Vm@@ Templ@@ at@@ es@@ From@@ StorageDomain@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (@@ return@@ Value@@ ); }
private void update@@ All@@ C@@ lust@@ ers@@ MacPool@@ () { final org.ovirt.engine.core.compat.Guid new@@ MacPool@@ Id = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.getParameters().get@@ StoragePool@@ ().get@@ MacPool@@ Id@@ (); final boolean shoul@@ d@@ Set@@ New@@ MacPool@@ On@@ All@@ Cluster@@ s = new@@ MacPool@@ Id != null@@ ; if (@@ shoul@@ d@@ Set@@ New@@ MacPool@@ On@@ All@@ C@@ lust@@ ers@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Cluster@@ > cluster@@ s = cluster@@ Dao.get@@ AllFor@@ StoragePool@@ (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.get@@ StoragePool@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster : c@@ lust@@ ers@@ ) { this@@ .m@@ ove@@ Mac@@ s.@@ update@@ Cluster@@ And@@ Move@@ Mac@@ s@@ (cluster@@ , new@@ MacPool@@ Id, org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.get@@ Context@@ ()); } } }
private void conn@@ ect@@ Storage@@ Server@@ (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Type type@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s> connection@@ s) { if ((@@ connection@@ s != null@@ ) && ((@@ connection@@ s.@@ size()) > 0@@ )) { java.util.Map<java.lang.String, java.lang.String> ret@@ Value@@ s = ((@@ java.util.HashMap<@@ java.lang.String, java.lang.String@@ >) (org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Conn@@ ect@@ Storage@@ Server@@ , new org.ovirt.engine.core.common.vdscommands.@@ Conn@@ ect@@ Storage@@ Server@@ VDSCommand@@ Parameters@@ (get@@ Vds@@ ().get@@ Id(), get@@ StoragePool@@ ().get@@ Id(), type@@ , connection@@ s@@ )@@ ).get@@ ReturnValue@@ ())); } }
private org.ovirt.engine.core.common.vdscommands.@@ VDS@@ Fence@@ ReturnValue f@@ ence@@ (org.ovirt.engine.core.common.businessentities.@@ Fence@@ Ag@@ ent f@@ ence@@ Agent@@ , int ret@@ ri@@ es@@ ) { org.ovirt.engine.core.bll.@@ Fence@@ Execu@@ to@@ r f@@ ence@@ Execu@@ to@@ r = get@@ Fence@@ Execu@@ t@@ or@@ (); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ Fence@@ ReturnValue f@@ ence@@ Execution@@ Result = f@@ ence@@ Execu@@ t@@ or.@@ f@@ ence@@ (get@@ Action@@ (), f@@ ence@@ Agent@@ ); if (@@ w@@ as@@ S@@ k@@ ip@@ p@@ ed@@ D@@ ue@@ To@@ Status(@@ f@@ ence@@ Execution@@ Result@@ )) { log.info@@ ("@@ A@@ t@@ tem@@ p to {@@ } hos@@ t usin@@ g f@@ enc@@ e ag@@ ent '{}@@ ' s@@ k@@ ip@@ p@@ ed@@ , hos@@ t is al@@ read@@ y a@@ t the re@@ ques@@ te@@ d stat@@ e.@@ ", get@@ Action@@ ().@@ name@@ ().@@ to@@ L@@ ow@@ er@@ C@@ ase@@ (), f@@ ence@@ Ag@@ ent.get@@ Id()); } else { if (@@ f@@ ence@@ Execution@@ Res@@ ult.get@@ Succeeded@@ ()) { boolean re@@ qui@@ red@@ Status@@ Ac@@ h@@ i@@ e@@ ve@@ d = w@@ a@@ it@@ For@@ Status@@ (); int i = 0@@ ; while ((!@@ re@@ qui@@ red@@ Status@@ Ac@@ h@@ i@@ ev@@ ed@@ ) && (@@ i < ret@@ ri@@ es@@ )) { f@@ ence@@ Execution@@ Result = f@@ ence@@ Execu@@ t@@ or.@@ f@@ ence@@ (get@@ Action@@ (), f@@ ence@@ Agent@@ ); re@@ qui@@ red@@ Status@@ Ac@@ h@@ i@@ e@@ ve@@ d = w@@ a@@ it@@ For@@ Status@@ (); i@@ +@@ +@@ ; } if (@@ re@@ qui@@ red@@ Status@@ Ac@@ h@@ i@@ ev@@ ed@@ ) { h@@ andle@@ Sp@@ e@@ c@@ if@@ ic@@ Command@@ Action@@ s(); } else { audit@@ Fail@@ ure@@ (); } f@@ ence@@ Execution@@ Res@@ ult.@@ set@@ Succeeded@@ (@@ re@@ qui@@ red@@ Status@@ Ac@@ h@@ i@@ ev@@ ed@@ ); } else { log@@ Agent@@ Fail@@ ure(@@ f@@ ence@@ Execution@@ Result@@ ); } } return f@@ ence@@ Execution@@ Result@@ ; }
public boolean validate@@ () { if ((get@@ Is@@ Available@@ ()) && (get@@ Is@@ Chang@@ able@@ ())) { get@@ P@@ lu@@ gin@@ Type@@ ().@@ validate@@ SelectedItem@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ () }); get@@ Interface@@ Mapping@@ s().@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Interface@@ Mapping@@ s@@ Validation@@ () }); get@@ Q@@ p@@ id@@ ().@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Host@@ Address@@ Validation@@ (@@ true@@ ) }); get@@ Q@@ p@@ id@@ Port@@ ().@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Integ@@ er@@ Validation@@ (org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Enti@@ ties@@ De@@ fin@@ ition@@ s.@@ NETWORK_@@ M@@ IN_@@ LE@@ G@@ AL@@ _@@ PORT@@ , org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Enti@@ ties@@ De@@ fin@@ ition@@ s.@@ NETWORK_@@ MA@@ X@@ _@@ LE@@ G@@ AL@@ _@@ PORT@@ ) }); set@@ Is@@ Valid@@ ((((@@ (get@@ P@@ lu@@ gin@@ Type@@ ().get@@ Is@@ Valid@@ ()) && (get@@ Interface@@ Mapping@@ s().get@@ Is@@ Valid@@ ())) && (get@@ Q@@ p@@ id@@ Host@@ ().get@@ Is@@ Valid@@ ())) && (get@@ Q@@ p@@ id@@ Port@@ ().get@@ Is@@ Valid@@ ()))); } return get@@ Is@@ Valid@@ (); }
public boolean isEmpty@@ () { return ((@@ (get@@ Out@@ A@@ ver@@ age@@ Link@@ sh@@ are@@ ()) == null@@ ) && ((get@@ Out@@ A@@ ver@@ age@@ Up@@ per@@ l@@ im@@ it@@ ()) == null@@ )) && ((get@@ Out@@ A@@ ver@@ age@@ Re@@ al@@ time@@ ()) == null@@ ); }
private java.lang.String sh@@ ow@@ Sp@@ ice@@ Cons@@ ol@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Console@@ Model model@@ ) { if (@@ con@@ s@@ ole@@ Utils.@@ can@@ Op@@ en@@ Sp@@ ice@@ Cons@@ ol@@ e(@@ model@@ )) { model.get@@ Default@@ Console@@ Model().get@@ Conn@@ ect@@ Command@@ ().@@ Execu@@ te@@ (); } else if (!(@@ con@@ s@@ ole@@ Utils.@@ is@@ Sp@@ ice@@ Available@@ ())) { return create@@ Error@@ Message@@ (@@ model, "@@ SP@@ IC@@ E@@ "); } return null@@ ; }
private void add@@ Quota@@ To@@ Memory@@ Quota@@ List@@ (org.ovirt.engine.core.common.businessentities.@@ Quota@@ Us@@ age@@ Per@@ Us@@ er quota@@ Per@@ User@@ Us@@ age@@ Entity@@ ) { org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ Quota@@ Progress@@ B@@ a@@ r memory@@ Quota@@ Progress@@ B@@ a@@ r = new org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ Quota@@ Progress@@ B@@ ar@@ (@@ org.ovirt.engine.ui.@@ user@@ port@@ al.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ exten@@ ded@@ .S@@ i@@ de@@ Tab@@ Ex@@ ten@@ ded@@ Resource@@ View@@ .@@ templat@@ es@@ , quota@@ Per@@ User@@ Us@@ age@@ Entity@@ , Quota@@ Progress@@ B@@ ar@@ .@@ Quota@@ Type.@@ M@@ EM@@ ); add@@ Quota@@ Row@@ (m@@ em@@ ory@@ Qu@@ ot@@ as@@ List@@ , quota@@ Per@@ User@@ Us@@ age@@ Entity@@ .get@@ Quota@@ Name(), memory@@ Quota@@ Progress@@ B@@ ar@@ ); }
public void update@@ Run@@ Time@@ Dynamic@@ Data@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ , org.ovirt.engine.core.compat.Guid vds@@ Id, java.lang.String vds@@ Name@@ ) { set@@ Status@@ (vm.get@@ Status@@ ()); set@@ Run@@ On@@ Vds@@ (vds@@ Id); set@@ Run@@ On@@ Vds@@ Name(@@ vds@@ Name); set@@ Vm@@ Host@@ (vm.get@@ Vm@@ Host@@ ()); set@@ Vm@@ Ip@@ (vm.get@@ Vm@@ Ip@@ ()); set@@ Vm@@ F@@ Q@@ D@@ N@@ (vm.get@@ Vm@@ F@@ Q@@ D@@ N@@ ()); if ((@@ vm.get@@ C@@ urrent@@ C@@ d@@ ()) != null@@ ) { set@@ C@@ urrent@@ C@@ d@@ (vm.get@@ C@@ urrent@@ C@@ d@@ ()); } set@@ Ap@@ p@@ List@@ (vm.get@@ Ap@@ p@@ List@@ ()); set@@ G@@ u@@ est@@ O@@ s(@@ vm.get@@ G@@ u@@ est@@ Os@@ ()); set@@ Display@@ Type(@@ vm.get@@ Display@@ Type@@ ()); get@@ Dynamic@@ Data@@ ().set@@ V@@ n@@ c@@ Key@@ board@@ L@@ ay@@ out@@ (vm.get@@ V@@ n@@ c@@ Key@@ board@@ L@@ ay@@ out@@ ()); set@@ K@@ vm@@ En@@ able(@@ vm.get@@ K@@ vm@@ En@@ able@@ ()); set@@ Ac@@ p@@ i@@ En@@ able(@@ vm.get@@ Ac@@ p@@ i@@ En@@ able@@ ()); set@@ G@@ u@@ est@@ C@@ urrent@@ User@@ Name@@ (vm.get@@ G@@ u@@ est@@ C@@ urrent@@ User@@ Name()); set@@ W@@ in@@ 2@@ k@@ H@@ ack@@ En@@ able(@@ vm.get@@ W@@ in@@ 2@@ k@@ H@@ ack@@ En@@ able@@ ()); set@@ U@@ t@@ c@@ D@@ if@@ f@@ (vm.get@@ U@@ t@@ c@@ D@@ if@@ f@@ ()); set@@ Ex@@ it@@ Status@@ (vm.get@@ Ex@@ it@@ Status@@ ()); set@@ Ex@@ it@@ Message@@ (vm.get@@ Ex@@ it@@ Message@@ ()); set@@ Ex@@ it@@ Reason@@ (vm.get@@ Ex@@ it@@ Reason@@ ()); set@@ Client@@ Ip@@ (vm.get@@ Client@@ Ip@@ ()); set@@ Vm@@ Pa@@ us@@ e@@ Status@@ (vm.get@@ Pa@@ us@@ e@@ Status@@ ()); set@@ L@@ ast@@ W@@ at@@ ch@@ do@@ g@@ Event@@ (vm.get@@ L@@ ast@@ W@@ at@@ ch@@ do@@ g@@ Event@@ ()); set@@ G@@ u@@ est@@ Cpu@@ Count@@ (vm.get@@ G@@ u@@ est@@ Cpu@@ Count@@ ()); get@@ Graphics@@ Info@@ s().@@ put@@ All@@ (vm.get@@ Graphics@@ Info@@ s()); }
private void execute@@ (@@ org.ovirt.engine.core.@@ l@@ dap@@ .@@ L@@ dap@@ Provider@@ Type l@@ dap@@ Provider@@ Type, java.lang.String do@@ m@@ ain@@ ) { java.util.Hash@@ t@@ able@@ <@@ java.lang.String, java.lang.String> en@@ v = new java.util.Hash@@ t@@ able@@ <@@ java.lang.String, java.lang.String@@ >(); int time@@ L@@ im@@ i@@ t = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ Get@@ Value(ConfigValues.@@ L@@ DA@@ P@@ Query@@ Time@@ out@@ )) * 1@@ 00@@ 0@@ ; en@@ v@@ .@@ put@@ ("@@ c@@ om.@@ s@@ un@@ .@@ j@@ n@@ d@@ i@@ .@@ l@@ dap@@ .@@ conn@@ ec@@ t.@@ time@@ out@@ ", java.lang.@@ L@@ on@@ g.@@ toString@@ (@@ time@@ L@@ im@@ it@@ )); init@@ Context@@ Var@@ i@@ abl@@ es(@@ en@@ v@@ ); javax.@@ nam@@ ing.@@ d@@ irect@@ ory@@ .@@ Att@@ ri@@ bu@@ te@@ s result@@ s = null@@ ; javax.@@ nam@@ ing.@@ d@@ irect@@ ory@@ .@@ D@@ ir@@ Contex@@ t c@@ t@@ x = null@@ ; try { c@@ t@@ x = create@@ Context@@ (@@ en@@ v@@ ); org.ovirt.engine.core.bll.@@ ad@@ broker.@@ L@@ dap@@ Query@@ Data l@@ dap@@ Query@@ Data = new org.ovirt.engine.core.bll.@@ ad@@ broker.@@ L@@ dap@@ Query@@ Data@@ Im@@ pl@@ (); l@@ dap@@ Query@@ Data@@ .set@@ L@@ dap@@ Query@@ Type(@@ L@@ dap@@ Query@@ Type.@@ ro@@ ot@@ D@@ S@@ E); l@@ dap@@ Query@@ Data@@ .set@@ Domain@@ (@@ do@@ m@@ ain@@ ); org.ovirt.engine.core.bll.@@ ad@@ broker.@@ L@@ dap@@ Query@@ Ex@@ ec@@ uti@@ on query@@ Ex@@ ec@@ uti@@ on = org.ovirt.engine.core.bll.@@ ad@@ broker.@@ L@@ dap@@ Query@@ Execution@@ Builder@@ Im@@ pl@@ .getInstance().@@ build@@ (@@ l@@ dap@@ Provider@@ Type, l@@ dap@@ Query@@ Data@@ ); javax.@@ nam@@ ing.@@ d@@ irect@@ ory@@ .@@ Search@@ Cont@@ ro@@ l@@ s search@@ Cont@@ ro@@ l@@ s = new javax.@@ nam@@ ing.@@ d@@ irect@@ ory@@ .@@ Search@@ Cont@@ ro@@ l@@ s(); search@@ Cont@@ ro@@ ls.@@ set@@ Return@@ ing@@ Att@@ ri@@ b@@ ut@@ es(@@ query@@ Execution@@ .get@@ Return@@ ing@@ Att@@ ri@@ b@@ ut@@ es@@ ()); search@@ Cont@@ ro@@ ls.@@ set@@ Search@@ S@@ c@@ op@@ e(@@ query@@ Execution@@ .get@@ Search@@ S@@ c@@ op@@ e@@ ()); search@@ Cont@@ ro@@ ls.@@ set@@ Return@@ ing@@ O@@ bj@@ F@@ l@@ ag@@ (@@ true@@ ); search@@ Cont@@ ro@@ ls.@@ set@@ Time@@ L@@ im@@ it@@ (@@ time@@ L@@ im@@ it@@ ); javax.@@ nam@@ ing.@@ Nam@@ ing@@ Enum@@ er@@ ation@@ <@@ javax.@@ nam@@ ing.@@ d@@ irect@@ ory@@ .@@ Search@@ Result@@ > se@@ ar@@ ch = c@@ t@@ x.@@ search@@ (@@ query@@ Execution@@ .get@@ Base@@ D@@ N@@ (), query@@ Execution@@ .get@@ Filter@@ (), search@@ Cont@@ ro@@ l@@ s); try { result@@ s = search@@ .@@ ne@@ xt@@ ().get@@ Att@@ ri@@ b@@ ut@@ es@@ (); } final@@ l@@ y { search@@ .@@ c@@ lo@@ se@@ (); } catch (@@ javax.@@ nam@@ ing.@@ Nam@@ ing@@ Exception e) { org.ovirt.engine.core.bll.@@ ad@@ broker.@@ Get@@ R@@ oot@@ D@@ S@@ E@@ .@@ log.error@@ Format@@ ("@@ Fail@@ ed to quer@@ y ro@@ ot@@ C@@ P {0@@ } }
protected void validate@@ Disk@@ For@@ Cre@@ ation@@ (org.ovirt.engine.api.model.@@ Disk disk@@ ) { validate@@ Parameters@@ (disk@@ , 2@@ , "@@ int@@ er@@ fac@@ e@@ "); if (@@ org.ovirt.engine.api.restapi.resource.@@ utils.@@ Disk@@ Resource@@ Utils.@@ is@@ Lun@@ Disk@@ (disk@@ )) { validate@@ Parameters@@ (disk@@ .get@@ Lun@@ Storage@@ (), 3@@ , "@@ type@@ "); org.ovirt.engine.api.model.@@ Storage@@ Type storage@@ Type = org.ovirt.engine.api.model.@@ StorageType.@@ f@@ rom@@ Value@@ (disk@@ .get@@ Lun@@ Storage@@ ().get@@ Type@@ ()); if ((@@ storage@@ Type != null@@ ) && (@@ storage@@ Type == (org.ovirt.engine.api.model.@@ StorageType.@@ IS@@ C@@ SI@@ ))) { validate@@ Parameters@@ (disk@@ .get@@ Lun@@ Storage@@ ().get@@ Log@@ ical@@ Unit@@ s().get@@ Log@@ ical@@ Unit@@ s().get@@ (0@@ ), 3@@ , "@@ add@@ ress@@ ", "@@ target@@ ", "@@ port@@ ", "@@ id@@ "); } } else if ((@@ disk@@ .is@@ Set@@ Lun@@ Storage@@ ()) && (disk@@ .get@@ Lun@@ Storage@@ ().get@@ Log@@ ical@@ Unit@@ s().get@@ Log@@ ical@@ Unit@@ s().@@ isEmpty@@ ())) { throw new org.ovirt.engine.api.restapi.resource.@@ W@@ eb@@ F@@ a@@ ult@@ Exception@@ (@@ null@@ , local@@ iz@@ e(@@ Messages.@@ IN@@ C@@ O@@ M@@ P@@ L@@ ET@@ E_@@ P@@ AR@@ A@@ M@@ S_@@ RE@@ A@@ S@@ ON@@ ), local@@ iz@@ e(@@ Messages.@@ IN@@ C@@ O@@ M@@ P@@ L@@ ET@@ E_@@ P@@ AR@@ A@@ M@@ S_@@ D@@ ET@@ A@@ IL@@ _@@ T@@ EM@@ P@@ L@@ AT@@ E, "@@ Log@@ ical@@ Unit@@ ", "@@ ", "@@ ", "@@ add@@ "@@ ), Respon@@ s@@ e.@@ Status.@@ B@@ AD@@ _@@ RE@@ Q@@ U@@ E@@ ST@@ ); } else { validate@@ Parameters@@ (disk@@ , 2@@ , "@@ provi@@ sion@@ ed@@ Size@@ |@@ size@@ ", "@@ for@@ mat@@ "); } validate@@ Enum@@ s(@@ org.ovirt.engine.api.model.@@ Disk@@ .@@ class@@ , disk@@ ); }
public java.lang.String as@@ Json@@ () { java.util.List<@@ java.lang.Object> b@@ ot@@ h = new java.util.ArrayList<>(); b@@ oth@@ .@@ add(@@ init@@ ); b@@ oth@@ .@@ add(@@ con@@ ver@@ g@@ ence@@ ); try { return org.ovirt.engine.core.utils.@@ Json@@ Helper.@@ object@@ To@@ Json@@ (@@ b@@ oth@@ , false@@ ); } catch (@@ java.io.@@ I@@ O@@ Exception e) { throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ e); } }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ GeoRep@@ Create@@ Model object@@ ) { d@@ ri@@ ver.@@ edit@@ (@@ object@@ ); s@@ el@@ ect@@ Volum@@ es.@@ set@@ Command(@@ objec@@ t.get@@ Sel@@ ect@@ Volum@@ es@@ Command@@ ()); s@@ el@@ ect@@ Volum@@ es.@@ add@@ Cl@@ ick@@ Handler@@ (@@ new com.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Handler@@ () { @java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { objec@@ t.get@@ Sel@@ ect@@ Volum@@ es@@ Command@@ ().execute@@ (); } }); }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object ReturnValue@@ ) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ ReturnValue@@ )@@ ).get@@ ReturnValue@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain do@@ ma@@ in : do@@ m@@ ain@@ s) { java.lang.String g@@ ui@@ d = (@@ do@@ m@@ ain@@ .get@@ StoragePool@@ Id()) != null@@ ) ? do@@ m@@ ain@@ .get@@ StoragePool@@ Id().@@ toString@@ () : Guid@@ .@@ Empty@@ .@@ toString@@ (); do@@ m@@ ain@@ .set@@ Query@@ able@@ Id@@ (((@@ (@@ do@@ m@@ ain@@ .getId@@ ()) + "@@ _@@ ") + g@@ uid@@ )); } set@@ Item@@ s@@ (@@ do@@ m@@ ain@@ s); set@@ Is@@ Empty@@ ((@@ (get@@ Item@@ s().@@ size()) == 0@@ )); }
private boolean fin@@ d@@ Default@@ Management@@ Network@@ () { manage@@ ment@@ Network = default@@ Management@@ Network@@ F@@ in@@ der.@@ fin@@ d@@ Default@@ Management@@ Network@@ (org.ovirt.engine.core.bll.@@ Add@@ VdsGroup@@ Command.get@@ VdsGroup@@ ().get@@ StoragePool@@ Id()); if ((@@ manage@@ ment@@ Network@@ ) == null@@ ) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DE@@ FA@@ U@@ L@@ T_@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); return false@@ ; } return true@@ ; }
private void sp@@ y@@ Validator@@ () { valid@@ ator = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ Attach@@ Domain@@ Validator@@ (@@ storageDomain@@ , storagePool@@ )); do@@ m@@ ain@@ Validator = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (@@ storageDomain@@ )); pool@@ Validator = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ StoragePool@@ Validator@@ (@@ storagePool@@ )); do@@ Return(@@ storagePool@@ Iso@@ Map@@ DAO@@ ).when@@ (@@ do@@ m@@ ain@@ Validator@@ ).get@@ StoragePool@@ Iso@@ Map@@ Dao@@ (); do@@ Return(@@ pool@@ Validator@@ ).@@ when(@@ valid@@ ator@@ ).get@@ Pool@@ Validator@@ (); do@@ Return@@ (@@ do@@ m@@ ain@@ Validator@@ ).@@ when(@@ valid@@ ator@@ ).get@@ Domain@@ Validator@@ (); do@@ Return(@@ storagePool@@ DAO@@ ).@@ when(@@ valid@@ ator@@ ).get@@ StoragePool@@ Dao@@ (); do@@ Return(@@ storageDomain@@ DAO@@ ).@@ when(@@ valid@@ ator@@ ).get@@ StorageDomain@@ Dao@@ (); }
protected boolean pro@@ ce@@ ed@@ StorageDomain@@ T@@ re@@ at@@ ment@@ By@@ Domain@@ Type@@ (@@ final org.ovirt.engine.core.common.businessentities.Storage@@ Domain new@@ Ma@@ ster@@ , final boolean lock@@ New@@ Ma@@ ster@@ ) { new@@ Ma@@ st@@ er == null@@ ) { return true@@ ; } new@@ Ma@@ ster@@ .get@@ Storage@@ StaticData@@ ().set@@ L@@ ast@@ Time@@ Us@@ ed@@ As@@ Ma@@ ster@@ (java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ ()); if (@@ new@@ Ma@@ ster@@ .get@@ StorageDomain@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Ma@@ ster@@ )) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ ac@@ tivate@@ StorageDomain@@ Command.@@ execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.Object@@ >() { @java.lang.Override public java.lang.Object run@@ In@@ Transaction@@ () { org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map new@@ Ma@@ ster@@ Map = new@@ Ma@@ ster@@ .get@@ StoragePool@@ Iso@@ Map@@ Data@@ (); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ Entity@@ Update@@ d@@ (@@ new@@ Ma@@ ster@@ .get@@ Storage@@ StaticData@@ ()); new@@ Ma@@ st@@ er.@@ set@@ StorageDomain@@ Type(@@ StorageDomain@@ Type.@@ Ma@@ ster@@ ); if (@@ lock@@ New@@ Ma@@ ster@@ ) { new@@ Ma@@ ster@@ Map@@ .set@@ Status(@@ StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ ); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ Entity@@ Status@@ (@@ new@@ Ma@@ ster@@ Map@@ ); new@@ Ma@@ st@@ er.@@ set@@ Status(@@ StorageDomain@@ Status.@@ Lock@@ ed@@ ); get@@ StoragePool@@ Iso@@ Map@@ Dao().@@ update@@ Status@@ (@@ new@@ Ma@@ ster@@ Map@@ .get@@ Id(), new@@ Ma@@ ster@@ Map@@ .get@@ Status@@ ()); } update@@ StorageDomain@@ StaticData@@ (@@ new@@ Ma@@ ster@@ .get@@ Storage@@ StaticData@@ ()); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ Entity@@ Update@@ d@@ (get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); get@@ StorageDomain@@ ().set@@ StorageDomain@@ Type(@@ StorageDomain@@ Type.@@ Data@@ ); update@@ StorageDomain@@ StaticData@@ (get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; } }); } else { update@@ StorageDomain@@ StaticData@@ (@@ new@@ Ma@@ ster@@ .get@@ Storage@@ StaticData@@ ()); } org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ ac@@ tivate@@ StorageDomain@@ Command.@@ update@@ StoragePool@@ Ma@@ ster@@ Domain@@ Version@@ In@@ D@@ if@@ f@@ Transaction@@ (); return false@@ ; }
private void f@@ l@@ us@@ h@@ () { p@@ rovider.@@ set@@ Name@@ (((@@ java.lang.String@@ ) (@@ nam@@ e.get@@ Entity@@ ()))); p@@ rovider.@@ set@@ Type@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ Provider@@ Type@@ ) (@@ typ@@ e.get@@ SelectedItem@@ ()))); p@@ rovider.@@ set@@ Description@@ (((@@ java.lang.String@@ ) (@@ d@@ escription@@ .get@@ Entity@@ ()))); p@@ rovider.@@ set@@ U@@ r@@ l@@ (((@@ java.lang.String@@ ) (@@ ur@@ l@@ .get@@ Entity@@ ()))); if (is@@ Type@@ Op@@ en@@ St@@ ack@@ Network@@ ()) { org.ovirt.engine.core.common.businessentities.@@ Op@@ en@@ st@@ ack@@ Network@@ Provider@@ Proper@@ ti@@ es proper@@ ti@@ es = new org.ovirt.engine.core.common.businessentities.@@ Op@@ en@@ st@@ ack@@ Network@@ Provider@@ Properties@@ (); proper@@ ties.@@ set@@ P@@ lu@@ gin@@ Type(@@ org.ovirt.engine.ui.uicommonweb.models.@@ provider@@ s.@@ N@@ e@@ u@@ tr@@ on@@ P@@ lu@@ gin@@ Trans@@ l@@ ator@@ .get@@ P@@ lu@@ gin@@ Name@@ For@@ Display@@ String@@ (((@@ java.lang.String@@ ) (get@@ P@@ lu@@ gin@@ Type@@ ().getSelectedItem@@ ())@@ ))); proper@@ ties.@@ set@@ Agent@@ Configuration@@ (get@@ N@@ e@@ u@@ tr@@ on@@ Agent@@ Model@@ ().@@ f@@ l@@ us@@ h@@ ()); p@@ rovider.@@ set@@ Add@@ ition@@ al@@ Properties@@ (@@ proper@@ ties@@ ); } boolean auth@@ entic@@ ation@@ Requi@@ re@@ d = ((@@ java.lang.Boolean@@ ) (@@ re@@ qui@@ res@@ Auth@@ entic@@ ation@@ .get@@ Entity@@ ())); p@@ rovider.@@ set@@ Requi@@ ring@@ Auth@@ entic@@ ation@@ (@@ auth@@ entic@@ ation@@ Requi@@ red@@ ); if (@@ auth@@ entic@@ ation@@ Requi@@ red@@ ) { p@@ rovider.@@ set@@ User@@ name@@ (((@@ java.lang.String@@ ) (get@@ User@@ name@@ ().getEntity@@ ()))); p@@ rovider.@@ set@@ Password@@ (((@@ java.lang.String@@ ) (get@@ Password@@ ().getEntity@@ ()))); if (get@@ T@@ en@@ an@@ t@@ Name@@ ().get@@ Is@@ Available@@ ()) { org.ovirt.engine.core.common.businessentities.@@ T@@ en@@ an@@ t@@ Provider@@ Proper@@ ti@@ es proper@@ ti@@ es = ((org.ovirt.engine.core.common.businessentities.@@ T@@ en@@ an@@ t@@ Provider@@ Properties@@ ) (@@ provider@@ .get@@ Add@@ ition@@ al@@ Properties@@ ())); if (@@ proper@@ ti@@ es == null@@ ) { proper@@ ti@@ es = new org.ovirt.engine.core.common.businessentities.@@ T@@ en@@ an@@ t@@ Provider@@ Properties@@ (); p@@ rovider.@@ set@@ Add@@ ition@@ al@@ Properties@@ (@@ proper@@ ties@@ ); } proper@@ ties.@@ set@@ T@@ en@@ an@@ t@@ Name@@ (((@@ java.lang.String@@ ) (get@@ T@@ en@@ an@@ t@@ Name@@ ().getEntity@@ ()))); } else { p@@ rovider.@@ set@@ User@@ name@@ (@@ null@@ ); p@@ rovider.@@ set@@ Password@@ (@@ null@@ ); if (get@@ T@@ en@@ an@@ t@@ Name@@ ().get@@ Is@@ Available@@ ()) { org.ovirt.engine.core.common.businessentities.@@ T@@ en@@ an@@ t@@ Provider@@ Proper@@ ti@@ es proper@@ ti@@ es = ((org.ovirt.engine.core.common.businessentities.@@ T@@ en@@ an@@ t@@ Provider@@ Properties@@ ) (@@ provider@@ .get@@ Add@@ ition@@ al@@ Properties@@ ())); if (@@ proper@@ ti@@ es != null@@ ) { proper@@ ties.@@ set@@ T@@ en@@ an@@ t@@ Name@@ (@@ null@@ ); } } } }
private static void assert@@ Disk@@ Description@@ D@@ ec@@ od@@ ing@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Disk disk@@ ) throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.storage.@@ Disk disk@@ To@@ En@@ r@@ ic@@ h = new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ (); org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ .getInstance().@@ en@@ r@@ ic@@ h@@ Disk@@ By@@ Json@@ Description@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ .getInstance().@@ gener@@ ate@@ Json@@ Disk@@ Description@@ (disk@@ ), disk@@ To@@ En@@ r@@ ic@@ h@@ ); assert@@ Equals@@ (disk@@ , disk@@ To@@ En@@ r@@ ic@@ h@@ ); }
private void s@@ end@@ To@@ Db@@ (org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Brok@@ er brok@@ er@@ , org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Dis@@ c@@ o@@ ver@@ y@@ Un@@ i@@ t dis@@ c@@ o@@ ver@@ y@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t p@@ olicy@@ Unit@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ Type typ@@ e) { org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t p@@ olic@@ y = create@@ From@@ Dis@@ c@@ o@@ ver@@ y@@ Unit@@ (@@ dis@@ c@@ o@@ ver@@ y@@ , type@@ ); if ((@@ p@@ olicy@@ Un@@ i@@ t != null@@ ) && ((@@ p@@ olicy@@ Un@@ it.@@ get@@ Broker@@ ()) != null@@ )) { org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Dis@@ c@@ o@@ ver@@ y@@ .@@ log.@@ w@@ ar@@ n@@ ("@@ P@@ olic@@ y un@@ i@@ t {@@ } al@@ read@@ y re@@ por@@ te@@ d b@@ y brok@@ er {}@@ ", p@@ olicy@@ Un@@ it.@@ get@@ Name(), brok@@ er@@ .getId()); } p@@ olicy@@ .set@@ Broker@@ (@@ brok@@ er@@ .getId()); if ((@@ p@@ olicy@@ Un@@ i@@ t != null@@ ) && ((@@ p@@ olicy@@ Un@@ it.@@ get@@ Id()) != null@@ )) { p@@ olicy@@ .set@@ Id(@@ p@@ olicy@@ Un@@ it.@@ get@@ Id()); p@@ olicy@@ Unit@@ Dao@@ .@@ update@@ (p@@ olicy@@ ); } else { p@@ olicy@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); p@@ olicy@@ Unit@@ Dao@@ .@@ save@@ (p@@ olicy@@ ); } }
@java.lang.Override protected void s@@ ync@@ Search@@ () { super@@ .@@ s@@ ync@@ Search@@ (); org.ovirt.engine.ui.uicommonweb.models.@@ Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Callback@@ <@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ >() { @java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { set@@ Item@@ s@@ (((@@ java.util.Collection@@ ) (@@ return@@ Value.get@@ ReturnValue@@ ()))); } }); org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters param@@ s = new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (get@@ Entity@@ ().get@@ Id()); params.set@@ Re@@ fresh@@ (get@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ ()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Attached@@ C@@ lust@@ ers@@ By@@ Cluster@@ Policy@@ Id, param@@ s, async@@ Query@@ ); set@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ (@@ false@@ ); }
private void re@@ ver@@ t@@ Pre@@ vi@@ o@@ us@@ Handl@@ ers@@ () { get@@ Parameters@@ ().@@ de@@ c@@ re@@ ment@@ Execution@@ In@@ dex@@ (); if (c@@ an@@ Re@@ ver@@ t@@ Task@@ s()) { log@@ R@@ oll@@ back@@ ed@@ Task@@ (); get@@ Parameters@@ ().set@@ Execution@@ Reason@@ (@@ Command@@ Execution@@ Reason@@ .@@ RO@@ L@@ B@@ AC@@ K_@@ F@@ LO@@ W@@ ); get@@ C@@ urrent@@ Task@@ Handler@@ ().@@ comp@@ ens@@ ate@@ (); if (!(@@ has@@ Re@@ ver@@ t@@ Task@@ ())) { re@@ ver@@ t@@ Pre@@ vi@@ o@@ us@@ Handl@@ ers@@ (); } } else { set@@ Succeeded@@ (@@ true@@ ); } }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Static@@ > get@@ All@@ By@@ StoragePool@@ Id(@@ org.ovirt.engine.core.compat.Guid sp@@ Id) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ All@@ From@@ Vm@@ Static@@ By@@ StoragePool@@ Id@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Static@@ Dao@@ Impl.@@ VM@@ Static@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ sp@@ _id", sp@@ Id@@ )); }
public boolean contains@@ Action@@ (java.lang.String action@@ Name@@ ) { if ((@@ action@@ s) != null@@ ) { return action@@ s.@@ contains(@@ action@@ Name); } return false@@ ; }
private void cl@@ e@@ ar@@ Vm@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , java.lang.String ex@@ it@@ Message@@ ) { if ((@@ vm.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Migr@@ at@@ ing@@ From@@ )) { if ((@@ vm.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ S@@ us@@ p@@ en@@ ded@@ )) { org.ovirt.engine.core.vdsbroker.@@ Resource@@ Manager@@ .getInstance().@@ Internal@@ Set@@ Vm@@ Status@@ (vm@@ , VMStatus.@@ Down@@ ); vm@@ .set@@ Ex@@ it@@ Status(@@ Vm@@ Ex@@ it@@ Status.@@ Error@@ ); vm@@ .set@@ Ex@@ it@@ Message@@ (@@ ex@@ it@@ Message@@ ); } AddVm@@ Dynamic@@ To@@ List@@ (vm.get@@ Dynamic@@ Data@@ ()); AddVm@@ Statistic@@ sTo@@ List@@ (vm.get@@ Statistic@@ s@@ Data@@ ()); AddVm@@ Interface@@ Statistic@@ sTo@@ List@@ (vm.get@@ Interfaces@@ ()); if (!(@@ org.ovirt.engine.core.vdsbroker.@@ Resource@@ Manager@@ .getInstance().@@ Is@@ Vm@@ In@@ Async@@ Run@@ ning@@ List@@ (vm@@ .getId@@ ()))) { _@@ vm@@ s@@ M@@ oved@@ To@@ Down@@ .@@ add@@ (vm.get@@ Id()); } } }
@org.junit.Test public void test@@ Non@@ Sec@@ ur@@ ed@@ Event@@ M@@ ail@@ S@@ ender@@ () { org.ovirt.engine.core.common.businessentities.@@ Event@@ AuditLog@@ Sub@@ s@@ cri@@ b@@ er event@@ Data = new org.ovirt.engine.core.common.businessentities.@@ Event@@ AuditLog@@ Sub@@ s@@ cri@@ ber@@ (); event@@ Data@@ .set@@ log@@ _@@ time@@ (@@ new java.util.@@ D@@ ate@@ ()); event@@ Data@@ .set@@ event@@ _@@ typ@@ e(@@ 0@@ ); event@@ Data@@ .set@@ user@@ _@@ name@@ ("@@ a t@@ es@@ t us@@ er name@@ "); event@@ Data@@ .set@@ vm@@ _@@ name@@ ("@@ a fin@@ e t@@ es@@ t VM@@ "); event@@ Data@@ .set@@ vds@@ _@@ name@@ ("@@ a fin@@ e t@@ es@@ t host@@ "); event@@ Data@@ .set@@ m@@ ethod@@ _@@ add@@ ress@@ ("@@ m@@ ail@@ t@@ es@@ t.@@ red@@ h@@ at@@ @@@ g@@ ma@@ i@@ l.@@ com@@ "); event@@ Data@@ .set@@ vm@@ _@@ template@@ _@@ name@@ ("@@ a t@@ es@@ t template@@ "); event@@ Data@@ .set@@ storage_@@ pool@@ _@@ name@@ ("@@ a t@@ es@@ t stor@@ age p@@ oo@@ l name@@ "); event@@ Data@@ .set@@ storage@@ _@@ do@@ m@@ ain@@ _@@ name@@ ("@@ a t@@ es@@ t stor@@ age p@@ oo@@ l do@@ m@@ ain@@ "); event@@ Data@@ .set@@ se@@ ver@@ ity@@ (@@ 3@@ ); org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ No@@ t@@ if@@ ication@@ Properties.@@ set@@ Default@@ s@@ ("@@ s@@ r@@ c@@ /@@ test@@ /@@ res@@ ourc@@ es@@ /@@ con@@ f@@ /@@ not@@ if@@ i@@ er@@ -@@ m@@ ail@@ -@@ test@@ -@@ pl@@ ain@@ .@@ con@@ f@@ ", "@@ s@@ r@@ c@@ /@@ test@@ /@@ res@@ ourc@@ es@@ /@@ con@@ f@@ /@@ mis@@ s@@ ing.@@ con@@ f@@ "); org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ s@@ end@@ er.@@ ma@@ i@@ l.@@ event@@ M@@ ail@@ S@@ en@@ der m@@ ail@@ S@@ en@@ der = new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ s@@ end@@ er.@@ ma@@ i@@ l.@@ event@@ M@@ ail@@ S@@ ender@@ (@@ org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ No@@ t@@ if@@ ication@@ Properties@@ .getInstance@@ ()); event@@ Data@@ .set@@ mess@@ age@@ ("@@ a t@@ es@@ t mess@@ age to b@@ e s@@ ent a n@@ on@@ -@@ s@@ ec@@ ure@@ d m@@ ode@@ "); org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ s@@ end@@ er.@@ Event@@ S@@ ender@@ Result s@@ ent@@ Result = null@@ ; try { s@@ ent@@ Result = m@@ ail@@ S@@ end@@ er.@@ s@@ end@@ (@@ event@@ Data@@ , null@@ ); } catch (@@ java.lang.Exception e) { s@@ ent@@ Result = new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ s@@ end@@ er.@@ Event@@ S@@ ender@@ Result@@ (); s@@ ent@@ Res@@ ult.@@ set@@ S@@ ent@@ (@@ false@@ ); } assert@@ True@@ (s@@ ent@@ Res@@ ult.@@ is@@ S@@ ent@@ ()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ On@@ l@@ y ava@@ il@@ able wh@@ e@@ n the VM is U@@ P or st@@ art@@ ing@@ ") java.lang.String on@@ ly@@ Up@@ Vms@@ Can@@ In@@ c@@ lu@@ de@@ Memory@@ ();
protected void update@@ CompatibilityVersion@@ () { org.ovirt.engine.ui.uicommonweb.models.vms.@@ DataCenter@@ With@@ C@@ luster dataCenter@@ With@@ C@@ luster = getModel().get@@ DataCenter@@ With@@ C@@ lust@@ ers@@ List@@ ().getSelectedItem@@ (); if (@@ dataCenter@@ With@@ C@@ luster == null@@ ) { return@@ ; } final org.ovirt.engine.core.common.businessentities.Storage@@ Pool data@@ C@@ en@@ te@@ r = dataCenter@@ With@@ Cluster@@ .get@@ DataCenter@@ (); if (@@ data@@ C@@ en@@ te@@ r == null@@ ) { return@@ ; } org.ovirt.engine.ui.frontend.AsyncQuery async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); async@@ Query@@ .set@@ Model@@ (@@ this@@ ); async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { java.util.ArrayList<@@ org.ovirt.engine.core.compat.@@ Version@@ > version@@ s = ((@@ java.util.ArrayList<@@ org.ovirt.engine.core.compat.@@ Version@@ >) (@@ result@@ )); version@@ s.add(@@ 0@@ , null@@ ); org.ovirt.engine.core.compat.@@ Version selected@@ Version@@ ; selected@@ Version = getModel().get@@ CompatibilityVersion@@ ().getSelectedItem@@ (); if ((@@ selected@@ Version != null@@ ) && (@@ version@@ s.@@ contains(@@ selected@@ Version@@ ))) { getModel().get@@ CompatibilityVersion@@ ().set@@ Items(@@ version@@ s, selected@@ Version@@ ); } else { getModel().get@@ CompatibilityVersion@@ ().set@@ Items(@@ version@@ s); } } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ DataCenter@@ Version@@ s(@@ async@@ Query@@ , dataCenter@@ .getId()); }
private static void load@@ Ex@@ ten@@ sion@@ s(@@ org.ovirt.engine.@@ ex@@ tt@@ oo@@ l.@@ core.@@ Mod@@ ul@@ e@@ Ser@@ vic@@ e m@@ od@@ ul@@ e@@ Service@@ , java.util.Map<java.lang.String, java.lang.Object> arg@@ Map@@ ) { org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Ex@@ ten@@ sion@@ s@@ Manage@@ r extension@@ s@@ Manage@@ r = new org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Ex@@ ten@@ sion@@ sManager@@ (); m@@ od@@ ul@@ e@@ Ser@@ vic@@ e.get@@ Context@@ ().@@ put(@@ Mod@@ ul@@ e@@ Ser@@ vic@@ e.@@ EX@@ T@@ EN@@ SI@@ ON_@@ M@@ AN@@ AG@@ ER@@ , extension@@ sManager@@ ); java.util.Map<java.lang.String, org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Ex@@ ten@@ sion@@ Proxy@@ > pro@@ x@@ i@@ es = m@@ od@@ ul@@ e@@ Ser@@ vic@@ e.get@@ Context@@ ().get@@ (@@ Mod@@ ul@@ e@@ Ser@@ vic@@ e.@@ EX@@ T@@ EN@@ SI@@ ON@@ S_@@ MA@@ P@@ ); java.util.List<@@ java.io.@@ File@@ > fil@@ es = ((@@ java.util.List<@@ java.io.@@ File@@ >) (@@ arg@@ Map@@ .get@@ ("@@ extension@@ -@@ fil@@ e@@ "@@ ))); if (@@ fil@@ es == null@@ ) { fil@@ es = org.ovirt.engine.@@ ex@@ tt@@ oo@@ l.@@ core.@@ Ex@@ ten@@ sion@@ s@@ T@@ ool@@ Execu@@ t@@ or.@@ list@@ Fil@@ es@@ (((@@ java.lang.String@@ ) (@@ arg@@ Map@@ .get@@ ("@@ extension@@ s@@ -@@ d@@ ir@@ "@@ )@@ )).@@ re@@ pl@@ ace@@ ("@@ @@@ EN@@ G@@ IN@@ E_@@ ET@@ C@@ @@@ ", org.ovirt.engine.@@ ex@@ tt@@ oo@@ l.@@ core.@@ Ex@@ ten@@ sion@@ s@@ T@@ ool@@ Execu@@ t@@ or.@@ EN@@ G@@ IN@@ E_@@ ET@@ C@@ ), "@@ proper@@ ties@@ "); } for (@@ java.io.@@ Fil@@ e f : fil@@ es@@ ) { org.ovirt.engine.@@ ex@@ tt@@ oo@@ l.@@ core.@@ Ex@@ ten@@ sion@@ s@@ T@@ ool@@ Execu@@ t@@ or.@@ log@@ g@@ er.@@ debug@@ ("@@ Lo@@ ad@@ ing exten@@ si@@ on fil@@ e '{}@@ '@@ ", f@@ .get@@ Name()); try { pro@@ x@@ ies.@@ put(@@ extension@@ s@@ Manager.@@ load@@ (@@ f@@ ), null@@ ); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.@@ ex@@ tt@@ oo@@ l.@@ core.@@ Ex@@ ten@@ sion@@ s@@ T@@ ool@@ Execu@@ t@@ or.@@ log@@ g@@ er.@@ error@@ (@@ ex@@ .get@@ Message@@ ()); org.ovirt.engine.@@ ex@@ tt@@ oo@@ l.@@ core.@@ Ex@@ ten@@ sion@@ s@@ T@@ ool@@ Execu@@ t@@ or.@@ log@@ g@@ er.@@ debug@@ ("@@ Exception@@ :@@ ", ex@@ ); } } for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Ex@@ ten@@ sion@@ Proxy@@ > e@@ n@@ try : pro@@ x@@ ies.@@ e@@ n@@ try@@ Set@@ ()) { extension@@ s@@ Manager.@@ initial@@ iz@@ e(@@ e@@ n@@ try@@ .get@@ Key@@ ()); e@@ n@@ try@@ .set@@ Value(@@ extension@@ sManager@@ .get@@ Ex@@ ten@@ sion@@ By@@ Name(@@ e@@ n@@ try@@ .get@@ Key@@ ())); org.ovirt.engine.@@ ex@@ tt@@ oo@@ l.@@ core.@@ Ex@@ ten@@ sion@@ s@@ T@@ ool@@ Execu@@ t@@ or.@@ log@@ g@@ er.@@ debug@@ ("@@ Ex@@ ten@@ si@@ on '{}@@ ' in@@ iti@@ es l@@ iz@@ ed@@ ", e@@ n@@ try@@ .get@@ Key@@ ()); }
private org.ovirt.engine.core.dao.@@ network.@@ VnicProfile@@ View@@ D@@ a@@ o get@@ VnicProfile@@ View@@ Dao@@ () { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VnicProfile@@ View@@ Dao@@ (); }
public static java.lang.String create@@ J@@ W@@ T@@ (@@ javax.@@ servlet@@ .@@ http@@ .@@ Http@@ Servlet@@ Re@@ quest request@@ , org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ S@@ s@@ oS@@ ess@@ ion ss@@ o@@ Session@@ , java.lang.String client@@ Id, java.lang.String client@@ Sec@@ ret@@ ) throw@@ s c@@ om.@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ os@@ e.@@ J@@ O@@ S@@ E@@ Exception@@ , java.s@@ ec@@ ur@@ ity@@ .@@ N@@ oS@@ u@@ ch@@ Al@@ g@@ or@@ ith@@ m@@ Exception { c@@ om.@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ os@@ e.@@ J@@ W@@ SS@@ ig@@ ne@@ r s@@ ig@@ ne@@ r = new c@@ om.@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ os@@ e.c@@ r@@ yp@@ to@@ .@@ M@@ AC@@ S@@ ign@@ er@@ (@@ client@@ Sec@@ ret@@ ); c@@ om.@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ w@@ t.@@ S@@ ig@@ ne@@ d@@ J@@ W@@ T s@@ ig@@ ne@@ d@@ J@@ W@@ T = new c@@ om.@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ w@@ t.@@ S@@ ig@@ ne@@ d@@ J@@ W@@ T@@ (@@ new c@@ om.@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ os@@ e.@@ J@@ W@@ S@@ H@@ ead@@ er@@ (c@@ om.@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ os@@ e.@@ J@@ W@@ S@@ Al@@ g@@ or@@ ith@@ m.@@ H@@ S@@ 2@@ 5@@ 6@@ ), org.ovirt.engine.core.@@ ss@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ create@@ J@@ W@@ T@@ Cl@@ a@@ im@@ Set@@ (@@ request@@ , ss@@ o@@ Session@@ , client@@ Id@@ )); s@@ ig@@ ne@@ d@@ J@@ W@@ T@@ .@@ s@@ ign@@ (s@@ ign@@ er@@ ); return s@@ ig@@ ne@@ d@@ J@@ W@@ T@@ .@@ ser@@ ial@@ ize@@ (); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ Network@@ Profil@@ es@@ Model model@@ ) { super@@ .@@ edit@@ (model@@ ); model.get@@ D@@ c@@ Id@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { init@@ (model@@ ); } }); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ B@@ oo@@ t Time@@ ") java.lang.String b@@ oot@@ Time@@ Host@@ Gener@@ al@@ ();
private void ex@@ tr@@ act@@ Rem@@ oved@@ Networks@@ () { for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e : get@@ Existing@@ I@@ fac@@ es@@ ().@@ valu@@ es@@ ()) { java.lang.String network@@ Name = if@@ ac@@ e.get@@ Network@@ Name@@ (); if ((@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (network@@ Name@@ )) && (!(@@ attach@@ ed@@ Networks@@ Nam@@ es.@@ contains(@@ network@@ Name@@ )@@ ))) { rem@@ oved@@ Network@@ s.add(@@ network@@ Name); final java.util.List<java.lang.String> vm@@ Name@@ s = get@@ Vm@@ Interface@@ Manager@@ ().@@ fin@@ d@@ Active@@ Vms@@ Us@@ ing@@ Network@@ s(@@ param@@ s.get@@ Vds@@ Id(), java.util.Collections.@@ sing@@ leton@@ (network@@ Name@@ )); for (java.lang.String vm@@ Name : vm@@ Names@@ ) { add@@ Vi@@ ol@@ ation@@ (EngineMessage.@@ NETWORK_@@ C@@ ANNOT_@@ D@@ ET@@ AC@@ H@@ _@@ NETWORK_@@ US@@ ED_@@ B@@ Y_@@ VM@@ S@@ , vm@@ Name, org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String("@@ network@@ Names@@ ", network@@ Name@@ )); } } } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Configur@@ e Data Center@@ ") java.lang.String config@@ ure@@ DataCenter@@ Role@@ T@@ ree@@ ();
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Import@@ Is@@ csi@@ Storage@@ Model object@@ ) { this@@ .m@@ odel = object@@ ; d@@ ri@@ ver.@@ edit@@ (@@ object@@ ); is@@ csi@@ Dis@@ c@@ o@@ ver@@ T@@ arget@@ s@@ View@@ .@@ edit@@ (@@ object@@ ); target@@ s@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (@@ objec@@ t.get@@ T@@ arget@@ s()); storageDomain@@ s@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (@@ objec@@ t.get@@ StorageDomain@@ s()); add@@ Event@@ s@@ Handl@@ ers@@ (@@ object@@ ); }
public boolean validate@@ () { if (!@@ (get@@ Is@@ Chang@@ able@@ ())) { return true@@ ; } get@@ A@@ ver@@ age@@ ().@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), new org.ovirt.engine.ui.uicommonweb.validation.@@ Integ@@ er@@ Validation@@ (0@@ , ((@@ java.lang.Integer@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Max@@ A@@ ver@@ age@@ Network@@ Q@@ oS@@ Value@@ )@@ ))) }); get@@ P@@ e@@ a@@ k@@ ().@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), new org.ovirt.engine.ui.uicommonweb.validation.@@ Integ@@ er@@ Validation@@ (0@@ , ((@@ java.lang.Integer@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Max@@ P@@ e@@ a@@ k@@ Network@@ Q@@ oS@@ Value@@ )@@ ))) }); get@@ B@@ ur@@ st@@ ().@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), new org.ovirt.engine.ui.uicommonweb.validation.@@ Integ@@ er@@ Validation@@ (0@@ , ((@@ java.lang.Integer@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Max@@ B@@ ur@@ st@@ Network@@ Q@@ oS@@ Value@@ )@@ ))) }); set@@ Is@@ Valid@@ ((@@ ((get@@ A@@ ver@@ age@@ ().get@@ Is@@ Valid@@ ()) && (get@@ P@@ e@@ a@@ k@@ ().get@@ Is@@ Valid@@ ())) && (get@@ B@@ ur@@ st@@ ().get@@ Is@@ Valid@@ ()))); return get@@ Is@@ Valid@@ (); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > get@@ Networks@@ () { if ((@@ (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Add@@ Network@@ Command.get@@ Network@@ ().get@@ storage_@@ pool@@ _id@@ ()) != null@@ ) && (!@@ (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Add@@ Network@@ Command.get@@ Network@@ ().get@@ storage_@@ pool@@ _id@@ ().get@@ Value@@ ().@@ equals(@@ Guid@@ .@@ Empty@@ )@@ ))) { return org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Add@@ Network@@ Command.get@@ Network@@ DAO@@ ().get@@ AllFor@@ DataCenter@@ (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Add@@ Network@@ Command.get@@ Network@@ ().get@@ storage_@@ pool@@ _id@@ ().get@@ Value@@ ()); } else { return org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Add@@ Network@@ Command.get@@ Network@@ DAO@@ ().get@@ All@@ (); } }
public org.ovirt.engine.core.bll.ValidationResult ex@@ ternal@@ Network@@ Not@@ Display@@ (java.lang.String network@@ Name@@ ) { return network@@ C@@ luster.@@ is@@ Display@@ () ? new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ EX@@ TER@@ N@@ AL@@ _@@ NETWORK_@@ C@@ ANNOT_@@ B@@ E_@@ DIS@@ P@@ L@@ A@@ Y@@ , java.lang.String@@ .@@ for@@ mat@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Validator@@ Bas@@ e.@@ NETWORK_@@ NAM@@ E_@@ RE@@ P@@ L@@ AC@@ EM@@ EN@@ T@@ , network@@ Name@@ )) : org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
private void Domain@@ Rec@@ o@@ ver@@ ed@@ From@@ Pro@@ bl@@ em@@ (org.ovirt.engine.core.compat.Guid do@@ m@@ ain@@ Id, org.ovirt.engine.core.compat.Guid vds@@ Id, java.lang.String vds@@ Name@@ ) { java.lang.String do@@ m@@ ain@@ Id@@ T@@ up@@ l@@ e = get@@ Domain@@ Id@@ T@@ up@@ le@@ (@@ do@@ m@@ ain@@ Id); org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ I@@ r@@ s@@ Broker@@ Command.@@ log.info@@ Format@@ ("@@ Domain {0@@ } r@@ ec@@ o@@ ver@@ ed f@@ ro@@ m pro@@ bl@@ em@@ . vds@@ : {@@ 1@@ }@@ ", do@@ m@@ ain@@ Id@@ T@@ up@@ le@@ , vds@@ Name); C@@ le@@ ar@@ Vds@@ (vds@@ Id, do@@ m@@ ain@@ Id); _@@ do@@ m@@ ain@@ s@@ In@@ Pro@@ bl@@ em@@ .get@@ (@@ do@@ m@@ ain@@ Id@@ ).@@ remove@@ (vds@@ Id); if ((@@ _@@ do@@ m@@ ain@@ s@@ In@@ Pro@@ bl@@ em@@ .get@@ (@@ do@@ m@@ ain@@ Id@@ ).@@ size()) == 0) { org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ I@@ r@@ s@@ Broker@@ Command.@@ log.info@@ Format@@ ((@@ "@@ Domain {0@@ } ha@@ s r@@ ec@@ o@@ ver@@ ed f@@ ro@@ m pro@@ bl@@ em@@ . N@@ o ac@@ ti@@ v@@ e hos@@ t in the D@@ C is re@@ port@@ ing i@@ t as@@ " + " pro@@ bl@@ em@@ ati@@ c@@ , s@@ o cl@@ e@@ ar@@ ing the do@@ ma@@ in r@@ ec@@ o@@ ver@@ y tim@@ er.@@ "@@ ), do@@ m@@ ain@@ Id@@ T@@ up@@ le@@ ); _@@ do@@ m@@ ain@@ s@@ In@@ Pro@@ bl@@ em@@ .@@ remove@@ (@@ do@@ m@@ ain@@ Id); C@@ le@@ ar@@ Tim@@ er@@ (@@ do@@ m@@ ain@@ Id); } }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Import@@ Export@@ Image@@ Model model@@ ) { d@@ ri@@ ver.@@ edit@@ (model@@ ); model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if (@@ arg@@ s instanceof org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s) { org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s ch@@ ang@@ ed@@ Arg@@ s = ((@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s) (@@ arg@@ s@@ )); if ("@@ Rep@@ o@@ Images@@ "@@ .equals(@@ ch@@ ang@@ ed@@ Arg@@ s.@@ Property@@ Name@@ )) { if ((@@ model.get@@ Rep@@ o@@ Images@@ ()) != null@@ ) { java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ > re@@ p@@ o@@ Image@@ Model@@ s = new java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Rep@@ o@@ Image i : model.get@@ Rep@@ o@@ Images@@ ()) { re@@ p@@ o@@ Image@@ Model@@ s.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ (@@ i@@ )); } image@@ List.@@ set@@ Row@@ Data@@ (@@ re@@ p@@ o@@ Image@@ Model@@ s); } } } }); }
@java.lang.Override public void set@@ F@@ e@@ ed@@ back@@ Link@@ (java.lang.String f@@ e@@ ed@@ back@@ Link@@ ) { this@@ .@@ f@@ e@@ ed@@ back@@ Lin@@ k = f@@ e@@ ed@@ back@@ Link@@ ; if ((@@ f@@ e@@ ed@@ back@@ Lin@@ k != null@@ ) && ((@@ f@@ e@@ ed@@ back@@ Link@@ .@@ l@@ ength@@ ()) > 0@@ )) { f@@ e@@ ed@@ back@@ Im@@ age.@@ set@@ Visi@@ bl@@ e@@ (@@ true@@ ); } }
private void save@@ New@@ Vm@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model@@ ) { if ((@@ model.get@@ Progress@@ ()) != null@@ ) { return@@ ; } model.@@ st@@ art@@ Progress@@ (@@ null@@ ); org.ovirt.engine.core.common.businessentities.VM vm = get@@ current@@ Vm@@ (); vm@@ .set@@ U@@ se@@ L@@ at@@ est@@ Version@@ (((@@ model.get@@ Template@@ ().getSelectedItem@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ L@@ at@@ est@@ VmTemplate@@ )); org.ovirt.engine.core.common.action.@@ AddVm@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ AddVm@@ Parameters@@ (vm@@ ); parameters.set@@ Disk@@ Info@@ Dest@@ ination@@ Map@@ (model.get@@ Disks@@ Al@@ loc@@ ation@@ Model().get@@ Image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ ()); parameters.set@@ Console@@ Enabled@@ (model.get@@ Is@@ Console@@ Device@@ Enabled@@ ().getEntity@@ ()); parameters.set@@ Bal@@ loon@@ Enabled@@ (@@ b@@ al@@ loon@@ Enabled@@ (model@@ )); parameters.set@@ Copy@@ Template@@ Permission@@ s(@@ model.get@@ Copy@@ Permission@@ s@@ ().getEntity@@ ()); parameters.set@@ S@@ ound@@ Device@@ Enabled@@ (model.get@@ Is@@ S@@ oun@@ dc@@ ard@@ Enabled@@ ().getEntity@@ ()); parameters.set@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ (model.get@@ Is@@ Vir@@ ti@@ oS@@ csi@@ Enabled@@ ().getEntity@@ ()); set@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ To@@ Param@@ s(@@ model, parameters@@ ); set@@ R@@ ng@@ Device@@ To@@ Param@@ s(@@ model, parameters@@ ); set@@ Graphics@@ Devices@@ To@@ Param@@ s(@@ model, parameters@@ ); if (!(@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (model.get@@ Vm@@ Id@@ ().getEntity@@ ()))) { parameters.set@@ New@@ Vm@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (model.get@@ Vm@@ Id@@ ().getEntity@@ ())); } org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ ((@@ model.get@@ Provi@@ sion@@ ing@@ ().getEntity@@ () ? org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ AddVm@@ From@@ Templ@@ ate : org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ AddVm@@ ), parameters@@ , create@@ Unit@@ Vm@@ Model@@ Network@@ AsyncCallback@@ (vm@@ , model@@ ), this@@ ); }
@org.junit.Test public void enc@@ ode@@ W@@ h@@ en@@ Alias@@ Is@@ Tr@@ un@@ c@@ ated@@ () throw@@ s java.io.@@ I@@ O@@ Exception { java.lang.String al@@ i@@ a@@ s = org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ gener@@ ate@@ R@@ an@@ do@@ m@@ String@@ (@@ 2@@ 00@@ ); disk@@ .set@@ Disk@@ Alias@@ (@@ al@@ ias@@ ); disk@@ .set@@ Disk@@ Description@@ ("@@ Disk@@ Description@@ "); assert@@ Disk@@ Description@@ Map@@ (disk@@ , org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ gener@@ ate@@ Disk@@ Alias@@ Json@@ E@@ n@@ try@@ (@@ al@@ i@@ a@@ s.@@ sub@@ st@@ ring@@ (0@@ , org.ovirt.engine.core.bll.storage.disk.@@ image.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler@@ Test.@@ DIS@@ K_@@ AL@@ I@@ A@@ S_@@ MA@@ X@@ _@@ L@@ EN@@ G@@ TH@@ ))); }
protected java.lang.String add@@ To@@ AuditLog@@ Error@@ Message@@ (java.lang.String connection@@ , java.lang.String error@@ Code@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage_@@ server@@ _@@ connection@@ s> connection@@ s, org.ovirt.engine.core.common.businessentities.@@ LUN@@ s lun@@ ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); java.lang.String connection@@ Fiel@@ d = (get@@ Connection@@ Description@@ (@@ connection@@ s, connection@@ )) + (@@ lu@@ n == null ? "@@ " : (@@ " (@@ LU@@ N " + (@@ lun@@ .get@@ LUN@@ _id@@ ())) + "@@ )@@ "); log@@ abl@@ e.@@ Add@@ Custom@@ Value("@@ Connection@@ ", connection@@ Fiel@@ d@@ ); java.lang.String trans@@ l@@ ated@@ E@@ r@@ ro@@ r = get@@ Trans@@ l@@ ated@@ Storage@@ Error@@ (@@ error@@ Code@@ ); log@@ abl@@ e.@@ Add@@ Custom@@ Value("@@ Error@@ Code@@ ", trans@@ l@@ ated@@ Error@@ ); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , AuditLogType.@@ STORAGE_@@ DOMA@@ IN_@@ ER@@ R@@ OR@@ ); return connection@@ Fiel@@ d@@ ; }
@java.lang.Override public void on@@ B@@ row@@ ser@@ Event@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Contex@@ t contex@@ t@@ , c@@ om.google.@@ gw@@ t@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , java.lang.@@ B@@ oolean value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ ooltip@@ Content@@ , c@@ om.google.@@ gw@@ t@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , com.google.gwt.@@ cel@@ l.@@ client.@@ Value@@ Up@@ dat@@ er@@ <@@ java.lang.Boolean@@ > value@@ Up@@ dat@@ er@@ ) { java.lang.String typ@@ e = ev@@ ent.get@@ Type@@ (); boolean enter@@ P@@ ress@@ ed = (@@ B@@ row@@ ser@@ Event@@ s.@@ K@@ E@@ Y@@ DO@@ W@@ N@@ .equals(@@ type@@ )) && ((@@ ev@@ ent.get@@ Key@@ Code@@ ()) == (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Key@@ C@@ od@@ es.@@ K@@ E@@ Y_@@ EN@@ TER@@ )); if ((@@ B@@ row@@ ser@@ Event@@ s.@@ C@@ H@@ AN@@ G@@ E@@ .equals(@@ type@@ )) || enter@@ P@@ ress@@ ed@@ ) { c@@ om.google.@@ gw@@ t@@ .@@ do@@ m@@ .client.@@ In@@ put@@ El@@ em@@ ent in@@ pu@@ t = par@@ ent.get@@ F@@ ir@@ st@@ Ch@@ ild@@ ().@@ c@@ ast@@ (); java.lang.@@ B@@ oolean is@@ Check@@ ed = in@@ pu@@ t.@@ is@@ Check@@ ed@@ (); if (@@ enter@@ P@@ ress@@ ed && ((@@ handl@@ es@@ Sel@@ ection@@ ()) || (!(@@ de@@ p@@ en@@ ds@@ On@@ Sel@@ ection@@ ())@@ ))) { is@@ Check@@ ed = !@@ is@@ Check@@ ed@@ ; in@@ pu@@ t.@@ set@@ Check@@ ed(@@ is@@ Check@@ ed@@ ); } if (((@@ valu@@ e == null ? false : value@@ .@@ boolean@@ Value@@ ()) != (is@@ Check@@ ed == null ? false : is@@ Check@@ ed@@ .@@ boolean@@ Value@@ ())) && (!(@@ de@@ p@@ en@@ ds@@ On@@ Sel@@ ection@@ ()))) { set@@ View@@ Data@@ (@@ contex@@ t.get@@ Key@@ (), is@@ Check@@ ed@@ ); } else { cl@@ e@@ ar@@ View@@ Data@@ (@@ contex@@ t.get@@ Key@@ ()); } if (@@ value@@ Update@@ r != null@@ ) { value@@ Up@@ dat@@ er.@@ update@@ (is@@ Check@@ ed@@ ); } } }
@java.lang.Override protected org.ovirt.engine.api.model.@@ VM do@@ P@@ op@@ ul@@ ate@@ (org.ovirt.engine.api.model.@@ VM model, org.ovirt.engine.core.common.businessentities.VM entity@@ ) { java.util.@@ Set<@@ org.ovirt.engine.api.@@ common.@@ util.@@ Detail@@ Helper.@@ Detail@@ > d@@ et@@ ail@@ s = org.ovirt.engine.api.@@ common.@@ util.@@ Detail@@ Helper@@ .get@@ Detail@@ s@@ (get@@ Http@@ H@@ ead@@ ers@@ ()); model = add@@ In@@ lin@@ e@@ Detail@@ s(@@ d@@ et@@ ail@@ s, model@@ ); if (@@ d@@ et@@ ail@@ s.@@ contains(@@ Det@@ a@@ i@@ l.@@ ST@@ A@@ TI@@ S@@ TI@@ C@@ S@@ )) { add@@ In@@ lin@@ e@@ Statistic@@ s(@@ model@@ ); } return model@@ ; }
@org.junit.Test public void test@@ Update@@ Role@@ () { existing@@ R@@ ol@@ e.set@@ d@@ escription@@ ("@@ Th@@ is is is an update@@ d d@@ escription@@ "); d@@ ao.@@ update@@ (@@ existing@@ Role@@ ); org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ e result = d@@ ao@@ .get(@@ existing@@ R@@ ol@@ e.get@@ Id()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ Equals@@ (@@ existing@@ Role@@ , result@@ ); }
private boolean is@@ Auth@@ entic@@ ation@@ Config@@ (@@ org.ovirt.engine.core.@@ extension@@ s.@@ m@@ gr@@ .@@ Configur@@ ation config@@ ) { java.lang.String ser@@ vice@@ Value = config.@@ get@@ String@@ (@@ Ex@@ ten@@ sion@@ Manager@@ Key@@ s.@@ ser@@ vic@@ e.get@@ Key@@ Name()); return (@@ ser@@ vice@@ Value != null@@ ) && (@@ ser@@ vice@@ Valu@@ e.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ org.ovirt.engine.core.@@ aaa.@@ Auth@@ entic@@ ation@@ Profile@@ Rep@@ os@@ it@@ ory@@ .@@ A@@ U@@ TH@@ N@@ _S@@ ER@@ V@@ IC@@ E_@@ NAM@@ E@@ )); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.VM get@@ Vm@@ () { org.ovirt.engine.core.common.businessentities.VM vm = super@@ .get@@ Vm@@ (); if (@@ vm != null@@ ) { return vm@@ ; } org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.bll.@@ l@@ s@@ m.@@ L@@ ive@@ Migrate@@ Vm@@ Disks@@ Command.getVm@@ DAO@@ ().get@@ (get@@ Parameters().get@@ Vm@@ Id()); if (@@ vm != null@@ ) { set@@ Vm@@ (vm@@ ); set@@ Vm@@ Id@@ (vm.get@@ Id()); } return vm@@ ; }
public org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type get@@ Ar@@ ch@@ it@@ ect@@ ure@@ () { return this@@ .@@ vm@@ Static@@ .get@@ Ar@@ ch@@ it@@ ect@@ ure@@ (); }
protected void ex@@ port@@ O@@ va@@ () { }
@java.lang.Override public boolean equals(@@ java.lang.Object o@@ ) { if (@@ (@@ this@@ ) == o@@ ) return true@@ ; if ((@@ o == null@@ ) || ((get@@ Class@@ ()) != (@@ o@@ .get@@ Class@@ ()))) return false@@ ; org.ovirt.engine.core.bll.@@ scheduling.@@ ar@@ em@@ .@@ Af@@ finity@@ R@@ ul@@ es@@ E@@ n@@ for@@ ce@@ ment@@ Per@@ C@@ luster th@@ a@@ t = ((org.ovirt.engine.core.bll.@@ scheduling.@@ ar@@ em@@ .@@ Af@@ finity@@ R@@ ul@@ es@@ E@@ n@@ for@@ ce@@ ment@@ Per@@ Cluster@@ ) (@@ o@@ )); return new org.apache.commons.lang.@@ buil@@ der.@@ Equals@@ Builder@@ ().@@ append@@ (cluster@@ Id, th@@ a@@ t.get@@ Cluster@@ Id@@ ()).@@ is@@ Equals@@ (); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Th@@ e hos@@ t n@@ etwork int@@ er@@ fac@@ e (@@ id ${@@ nic@@ Id@@ }, nam@@ e ${@@ nic@@ Name@@ }@@ ) do@@ es not ex@@ is@@ t.@@ ") java.lang.String HOST@@ _@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E_@@ H@@ A@@ V@@ ING@@ _@@ ID@@ _@@ AN@@ D_@@ NAM@@ E_@@ DO@@ E@@ S_NOT_@@ EXIST@@ ();
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ List@@ Model user@@ Port@@ al@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ ListModel@@ ) (model@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VM@@ >(); java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ > pool@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ >(); org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue ret@@ Value = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )); if ((@@ ret@@ Value != null@@ ) && (r@@ et@@ Value.get@@ Succeeded@@ ())) { java.util.List<@@ java.lang.Object> lis@@ t = ((@@ java.util.ArrayList<@@ java.lang.Object@@ >) (r@@ et@@ Value.get@@ ReturnValue@@ ())); if (@@ lis@@ t != null@@ ) { for (java.lang.Object obj@@ ect : list@@ ) { if (@@ obj@@ ect instanceof org.ovirt.engine.core.common.businessentities.@@ VM@@ ) { vms.@@ add@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (@@ object@@ ))); } else if (@@ obj@@ ect instanceof org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ ) { pool@@ s.@@ add@@ ((@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ ) (@@ object@@ ))); } } } on@@ Vm@@ And@@ Pool@@ Lo@@ ad@@ (vm@@ s, pool@@ s); }
protected void update@@ Memory@@ Bal@@ loon@@ () { if ((get@@ Model().get@@ Selected@@ Cluster@@ ()) != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster = getModel().get@@ Selected@@ Cluster@@ (); boolean has@@ Memory@@ Bal@@ lo@@ on = (cluster@@ .get@@ c@@ ompatibility@@ _@@ version@@ ().@@ comp@@ are@@ To@@ (@@ new org.ovirt.engine.core.compat.@@ Version@@ (@@ 3@@ , 1@@ ))) >@@ = 0@@ ; getModel().get@@ Memory@@ Bal@@ loon@@ Device@@ Enabled@@ ().setIs@@ Avail@@ able(@@ has@@ Memory@@ Bal@@ loon@@ ); } }
@java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l object@@ ) { java.lang.String j@@ o@@ in@@ (get@@ Host@@ Nam@@ es(@@ object@@ ), ", "); if (@@ j@@ o@@ in@@ .@@ isEmpty@@ ()) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Abstract@@ Sub@@ Tab@@ Af@@ finity@@ Label@@ s@@ View@@ .@@ const@@ an@@ t@@ s.@@ af@@ finity@@ Label@@ s@@ No@@ Mem@@ b@@ ers@@ (); } return j@@ o@@ in@@ ; }
private void pro@@ cess@@ StoragePool@@ Status@@ () { if ((get@@ Vds@@ ().get@@ Sp@@ m@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ Vds@@ Sp@@ m@@ Status.@@ N@@ one@@ )) { org.ovirt.engine.core.common.businessentities.Storage@@ Pool p@@ oo@@ l = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StoragePool@@ Dao().get@@ (get@@ Vds@@ ().get@@ StoragePool@@ Id()); if ((@@ p@@ oo@@ l != null@@ ) && ((@@ pool@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Status.@@ Not@@ Operation@@ al@@ ))) { p@@ oo@@ l.@@ set@@ Status(@@ StoragePool@@ Status.@@ Non@@ Respon@@ si@@ ve@@ ); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StoragePool@@ Dao().@@ update@@ Status(@@ pool@@ .get@@ Id(), pool@@ .get@@ Status@@ ()); org.ovirt.engine.core.bll.storage.@@ StoragePool@@ Status@@ Handler.@@ Pool@@ Status@@ Changed@@ (@@ pool@@ .get@@ Id(), pool@@ .get@@ Status@@ ()); } } }
@java.lang.Override protected void Init@@ Detail@@ Model@@ s() { super@@ .@@ Init@@ Detail@@ Model@@ s(); set@@ Cluster@@ Service@@ Model@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Service@@ Model@@ ()); set@@ Cluster@@ Gluster@@ Hook@@ ListModel@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Gluster@@ Hook@@ ListModel@@ ()); org.ovirt.engine.core.compat.@@ O@@ b@@ ser@@ va@@ bl@@ e@@ Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ > lis@@ t = new org.ovirt.engine.core.compat.@@ O@@ b@@ ser@@ va@@ bl@@ e@@ Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ >(); lis@@ t.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Gener@@ al@@ Model@@ ()); lis@@ t.@@ add@@ (cluster@@ Gener@@ al@@ Model@@ ); lis@@ t.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ ListModel@@ ()); lis@@ t.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Host@@ ListModel@@ ()); lis@@ t.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Vm@@ ListModel@@ ()); lis@@ t.@@ add@@ (get@@ Cluster@@ Service@@ Model@@ ()); lis@@ t.@@ add@@ (get@@ Cluster@@ Gluster@@ Hook@@ ListModel@@ ()); lis@@ t.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Permission@@ ListModel@@ ()); set@@ Detail@@ Model@@ s(@@ list@@ ); }
@java.lang.Override protected void execute@@ Vm@@ Command() { create@@ d@@ Snapshot@@ Id = org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command.get@@ Snapshot@@ Dao().get@@ Id@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ VmCommand.getVm@@ Id(), Snapshot@@ Type.@@ AC@@ TI@@ V@@ E); get@@ Parameters@@ ().set@@ Snapshot@@ Type(@@ d@@ et@@ er@@ min@@ e@@ Snapshot@@ Type@@ ()); org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command.get@@ Snapshot@@ Dao().@@ update@@ Id@@ (c@@ reate@@ d@@ Snapshot@@ Id, new@@ Active@@ Snapshot@@ Id); set@@ Action@@ ReturnValue@@ (c@@ reate@@ d@@ Snapshot@@ Id); org.ovirt.engine.core.bll.@@ memory@@ .@@ Memory@@ Image@@ Buil@@ der memory@@ Image@@ Buil@@ der = get@@ Memory@@ Image@@ Builder@@ (); f@@ ree@@ z@@ e@@ Vm@@ (); create@@ Snapshots@@ For@@ Disks@@ (); add@@ Snapshot@@ To@@ D@@ B@@ (c@@ reate@@ d@@ Snapshot@@ Id, memory@@ Image@@ Builder@@ ); fa@@ st@@ For@@ w@@ ard@@ Disks@@ To@@ Active@@ Snapshot@@ (); memory@@ Image@@ Buil@@ der.@@ build@@ (); boolean p@@ end@@ ing@@ AsyncTask@@ s = (!@@ (get@@ Task@@ Id@@ List@@ ().is@@ Empty@@ ())) || (!@@ (org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Ch@@ ild@@ Command@@ Id@@ s@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command.get@@ Command@@ Id@@ ()).@@ isEmpty@@ ())); if (!@@ p@@ end@@ ing@@ AsyncTask@@ s) { get@@ Parameters@@ ().set@@ Task@@ Group@@ Success@@ (@@ true@@ ); in@@ c@@ re@@ ment@@ Vm@@ Gener@@ ation@@ (); } org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
private void update@@ Panel@@ s@@ Visi@@ bility@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Vms@@ Model model@@ ) { ex@@ port@@ Pan@@ el.@@ set@@ Visi@@ bl@@ e@@ (((@@ model.get@@ Import@@ S@@ ourc@@ es@@ ().getSelectedItem@@ ()) == (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ S@@ ource.@@ EX@@ POR@@ T_@@ DOMA@@ IN@@ ))); vm@@ w@@ are@@ Pan@@ el.@@ set@@ Visi@@ bl@@ e@@ (((@@ model.get@@ Import@@ S@@ ourc@@ es@@ ().getSelectedItem@@ ()) == (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ S@@ ource.@@ VM@@ W@@ A@@ RE@@ ))); provi@@ d@@ ers@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (((@@ model.get@@ Import@@ S@@ ourc@@ es@@ ().getSelectedItem@@ ()) == (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ S@@ ource.@@ VM@@ W@@ A@@ RE@@ ))); }
public synchronized org.ovirt.engine.api.model.@@ R@@ S@@ D@@ L get@@ R@@ S@@ D@@ L@@ () throw@@ s java.io.@@ I@@ O@@ Exception@@ , java.lang.@@ Class@@ Not@@ F@@ ound@@ Exception { ((@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Ap@@ i@@ Res@@ ource.@@ r@@ sd@@ l@@ ) == null@@ ) { org.ovirt.engine.api.@@ r@@ sd@@ l.@@ R@@ sd@@ l@@ Manage@@ r r@@ sd@@ l@@ Manage@@ r = new org.ovirt.engine.api.@@ r@@ sd@@ l.@@ R@@ sd@@ l@@ Manager@@ (); org.ovirt.engine.api.restapi.resource.@@ Backend@@ Ap@@ i@@ Res@@ ource.@@ r@@ sd@@ l = r@@ sd@@ l@@ Manager.@@ load@@ R@@ sd@@ l@@ (); } return org.ovirt.engine.api.restapi.resource.@@ Backend@@ Ap@@ i@@ Res@@ ource.@@ r@@ sd@@ l@@ ; }
private void save@@ Data@@ To@@ Db@@ () { if (s@@ ave@@ Vds@@ Dynamic@@ ) { vds@@ Manager.@@ update@@ Dynamic@@ Data@@ (@@ vds.get@@ Dynamic@@ Data@@ ()); } if (@@ re@@ fresh@@ ed@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ ) { vds@@ Manager.@@ update@@ Numa@@ Data@@ (vds@@ ); } if (s@@ ave@@ Vds@@ Statistic@@ s) { org.ovirt.engine.core.common.businessentities.@@ Vds@@ Statistic@@ s st@@ a@@ t = vds.get@@ Statistic@@ s@@ Data@@ (); vds@@ Manager.@@ update@@ Statistic@@ s@@ Data@@ (@@ stat@@ ); check@@ Vds@@ Memory@@ Th@@ resh@@ old@@ (@@ stat@@ ); check@@ Vds@@ Cpu@@ Th@@ resh@@ old@@ (@@ stat@@ ); check@@ VdsNetwork@@ Th@@ resh@@ old@@ (@@ stat@@ ); check@@ Vds@@ S@@ w@@ ap@@ Th@@ resh@@ old@@ (@@ stat@@ ); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Statistic@@ s> stati@@ stic@@ s = new java.util.@@ Link@@ ed@@ List<@@ >(); for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e : vds.get@@ Interfaces@@ ()) { stati@@ stic@@ s.@@ add@@ (@@ if@@ ac@@ e.get@@ Statistic@@ s()); } if (!(@@ stati@@ stic@@ s.@@ isEmpty@@ ())) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Requi@@ red@@ , () -@@ > { get@@ DbFacade@@ ().get@@ Interface@@ Dao().@@ m@@ ass@@ Update@@ Statistic@@ s@@ For@@ Vds@@ (@@ stati@@ stic@@ s); return null@@ ; }); } save@@ Numa@@ Statistic@@ s@@ Data@@ To@@ Db@@ (); } }
protected boolean check@@ Remove@@ Edit@@ Validation@@ s() { org.ovirt.engine.core.compat.Guid cluster@@ Policy@@ Id = org.ovirt.engine.core.bll.@@ scheduling.@@ Cluster@@ Policy@@ Command.get@@ Parameters().get@@ Cluster@@ Policy@@ Id@@ (); if (cluster@@ Policy@@ Id == null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ C@@ LUSTER_@@ P@@ OL@@ IC@@ Y_@@ P@@ AR@@ A@@ M@@ ET@@ ER@@ S_@@ IN@@ VALID@@ ); } org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ P@@ olic@@ y cluster@@ P@@ olic@@ y = schedul@@ ing@@ Manager@@ .get@@ Cluster@@ Policy@@ (cluster@@ Policy@@ Id); if (cluster@@ P@@ olic@@ y == null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ C@@ LUSTER_@@ P@@ OL@@ IC@@ Y_@@ P@@ AR@@ A@@ M@@ ET@@ ER@@ S_@@ IN@@ VALID@@ ); } if (cluster@@ Policy@@ .is@@ Lock@@ ed@@ ()) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ C@@ LUSTER_@@ P@@ OL@@ IC@@ Y_@@ P@@ AR@@ A@@ M@@ ET@@ ER@@ S_@@ IN@@ VALID@@ ); } return true@@ ; }
private void init@@ Custom@@ Property@@ Sh@@ e@@ et@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Interface@@ Model if@@ ac@@ e) { if@@ ac@@ e.get@@ Custom@@ Property@@ Sh@@ e@@ et@@ ().get@@ Key@@ Value@@ Lin@@ es@@ ().get@@ Item@@ s@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { c@@ ustom@@ Properties@@ Sh@@ e@@ et@@ Editor@@ .@@ edit@@ (@@ if@@ ac@@ e.get@@ Custom@@ Property@@ Sh@@ e@@ et@@ ()); } }); }
private java.lang.String get@@ Client@@ U@@ r@@ l@@ () { return ((((@@ ((@@ org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.String@@ >@@ get@@ Value(ConfigValues.@@ Host@@ Name@@ Host@@ Name@@ ).@@ l@@ ength@@ ()) + "@@ :@@ /@@ ") + (c@@ om.google.gwt.@@ user.@@ client.@@ W@@ in@@ do@@ w@@ .@@ Loc@@ ation@@ .get@@ Host@@ ())) + "@@ /@@ ovir@@ t@@ -@@ engin@@ e@@ -@@ no@@ v@@ n@@ c@@ -@@ m@@ ain@@ .@@ ht@@ ml@@ ?@@ host@@ =@@ ") + (@@ config.@@ get@@ Proxy@@ Host@@ ())) + "@@ &@@ port@@ =@@ ") + (@@ config.@@ get@@ Proxy@@ Port@@ ()); }
@org.junit.Test public void are@@ All@@ Vfs@@ F@@ ree@@ True@@ () { are@@ All@@ Vfs@@ F@@ ree@@ C@@ ommon@@ (@@ 1, false@@ , true@@ , false@@ , false@@ ); assert@@ True@@ (@@ host@@ Nic@@ Vfs@@ Config@@ Helper.@@ are@@ All@@ Vfs@@ F@@ re@@ e(@@ nic@@ )); }
public void run@@ Query@@ (org.ovirt.engine.core.compat.Guid g@@ uid@@ ) { st@@ art@@ Progress@@ ("@@ get@@ Count@@ "); org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); _@@ async@@ Query@@ .set@@ Model@@ (@@ this@@ ); _@@ async@@ Query@@ .set@@ H@@ andle@@ Fail@@ ure@@ (@@ true@@ ); _@@ async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { st@@ op@@ Progress@@ (); org.ovirt.engine.ui.uicommonweb.models.@@ Abstract@@ Err@@ ata@@ Count@@ Model err@@ ata@@ Count@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Abstract@@ Err@@ ata@@ Count@@ Model) (model@@ )); org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ Value@@ O@@ bj@@ ect = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )); org.ovirt.engine.core.common.businessentities.@@ Err@@ ata@@ Count@@ s result@@ Entity = return@@ Value@@ O@@ bj@@ ec@@ t.get@@ ReturnValue@@ (); if ((@@ result@@ Entity != null@@ ) && (@@ return@@ Value@@ O@@ bj@@ ec@@ t.get@@ Succeeded@@ ())) { err@@ ata@@ Count@@ Model.set@@ Message@@ (@@ null@@ ); err@@ ata@@ Count@@ Model.set@@ Err@@ ata@@ Count@@ s(@@ result@@ Entity@@ ); } else { err@@ ata@@ Count@@ Model.set@@ Message@@ (@@ null@@ ); err@@ ata@@ Count@@ Model.set@@ Message@@ ((((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Abstract@@ Err@@ ata@@ Count@@ Model@@ .@@ const@@ an@@ t@@ s.@@ k@@ ate@@ l@@ lo@@ Pro@@ bl@@ em@@ R@@ et@@ ri@@ ev@@ ing@@ Err@@ ata@@ ()) + " ") + (@@ return@@ Value@@ O@@ bj@@ ec@@ t.get@@ Exception@@ Message@@ ()))); } } }; org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (get@@ Query@@ Type@@ (), new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ g@@ uid@@ ), _@@ async@@ Query@@ ); }
@java.lang.Override public java.lang.String get@@ V@@ er@@ b@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 1@@ ) { return org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ attach@@ To@@ (@@ op@@ 1@@ .get@@ Name()); }
@java.lang.Override public com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource get@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { if ((@@ vm.get@@ Vm@@ Pool@@ Id()) == null@@ ) { org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Confi@@ g confi@@ g = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Config.@@ f@@ rom@@ (vm.get@@ Vm@@ Type@@ (), vm@@ .is@@ State@@ l@@ ess@@ (), vm@@ .is@@ N@@ ext@@ Run@@ Configuration@@ Exist@@ s()); return config.@@ get@@ Image@@ Resource@@ (get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ()); } else { if (!@@ (vm@@ .is@@ N@@ ext@@ Run@@ Configuration@@ Exist@@ s@@ ())) { return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ m@@ any@@ D@@ es@@ k@@ to@@ p@@ s@@ Image@@ (); } else { return get@@ Ap@@ plication@@ Res@@ ourc@@ es@@ ().@@ m@@ any@@ D@@ es@@ k@@ to@@ p@@ s@@ Chang@@ es@@ Image@@ (); } }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { result = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ s@@ List@@ VDS@@ Command.get@@ Broker@@ ().get@@ StorageDomain@@ s@@ List(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ s@@ List@@ VDS@@ Command.getParameters().get@@ StoragePool@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ s@@ List@@ VDS@@ Command.getParameters().get@@ StorageDomain@@ Type@@ ().get@@ Value@@ (), ((@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ s@@ List@@ VDS@@ Command.getParameters().get@@ Storage@@ Type()) != null ? new java.lang.Integer@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ s@@ List@@ VDS@@ Command.getParameters().get@@ Storage@@ Type@@ ().get@@ Value@@ ()).@@ toString@@ () : "@@ "@@ ), ((@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ s@@ List@@ VDS@@ Command.getParameters().get@@ Path@@ ()) != null ? org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ s@@ List@@ VDS@@ Command.getParameters().get@@ Path@@ () : "@@ ")); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ s@@ List@@ VDS@@ Command.@@ pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid> do@@ m@@ ain@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid@@ >(); for (java.lang.String do@@ ma@@ in : _@@ result.@@ m@@ StorageDomain@@ List@@ ) { do@@ m@@ ain@@ s.@@ add@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (@@ do@@ m@@ ain@@ )); } set@@ ReturnValue@@ (@@ do@@ m@@ ain@@ s); }
public static java.lang.String get@@ To@@ k@@ en@@ Content@@ (java.lang.String to@@ k@@ en@@ ) { java.lang.String@@ [@@ ] s = to@@ k@@ en@@ .@@ s@@ pl@@ it@@ ("@@ \@@ |@@ ", 3@@ ); if ((@@ s.@@ l@@ ength@@ ) != 3@@ ) { throw new java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ ("@@ In@@ val@@ id s@@ ess@@ ion to@@ ke@@ n for@@ mat@@ "); } if (!@@ ("@@ 0@@ "@@ .@@ equals@@ (s@@ [@@ 0@@ ]@@ ))) { throw new java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ ("@@ In@@ val@@ id s@@ ess@@ ion to@@ ke@@ n version@@ "); } if ((@@ s@@ [@@ 1@@ ]@@ .@@ isEmpty@@ ()) || (s@@ [@@ 2@@ ]@@ .@@ isEmpty@@ ())) { throw new java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ ("@@ In@@ val@@ id s@@ ess@@ ion to@@ ke@@ n for@@ mat@@ "); } if (!@@ (s@@ [@@ 2@@ ]@@ .equals(@@ org.ovirt.engine.core.@@ aaa.@@ filter@@ s.@@ Fil@@ t@@ ers@@ Helper.@@ h@@ m@@ ac@@ String@@ (s@@ [@@ 1@@ ]@@ )@@ ))) { throw new java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ ("@@ In@@ val@@ id s@@ ess@@ ion to@@ ke@@ n instance@@ "); } return s@@ [@@ 1@@ ]@@ ; }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . O@@ verrid@@ ing M@@ T@@ U is not sup@@ por@@ te@@ d for this Data C@@ en@@ te@@ r c@@ ompati@@ b@@ il@@ it@@ y version@@ .@@ ") java.lang.String NETWORK_@@ M@@ T@@ U@@ _@@ OV@@ ER@@ R@@ ID@@ E_@@ NOT_@@ SUP@@ PORT@@ ED@@ ();
@org.junit.Test public void canDoAction@@ Fail@@ s@@ On@@ Null@@ Cluster@@ () { c@@ m@@ d = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.@@ gluster.@@ En@@ able@@ Gluster@@ Hook@@ Command@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.Gluster@@ Hook@@ Parameters@@ (@@ null@@ , org.ovirt.engine.core.bll.@@ gluster.@@ En@@ able@@ Gluster@@ Hook@@ Command@@ Test.@@ HO@@ O@@ K_@@ NAM@@ E, org.ovirt.engine.core.bll.@@ gluster.@@ En@@ able@@ Gluster@@ Hook@@ Command@@ Test.@@ GLUSTER_@@ C@@ O@@ M@@ AN@@ D@@ , org.ovirt.engine.core.bll.@@ gluster.@@ En@@ able@@ Gluster@@ Hook@@ Command@@ Test.@@ LE@@ V@@ E@@ L@@ ))); pre@@ par@@ e@@ Mock@@ s@@ (cmd@@ , get@@ Gluster@@ Server@@ s()); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); }
private java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ > get@@ Existing@@ I@@ fac@@ es@@ () { if ((@@ existing@@ I@@ fac@@ es@@ ) == null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > if@@ ace@@ s = get@@ DbFacade@@ ().get@@ Interface@@ Dao().get@@ All@@ Interfaces@@ For@@ Vds@@ (@@ param@@ s.get@@ Vds@@ Id()); org.ovirt.engine.core.dao.@@ q@@ o@@ s.@@ Network@@ Qos@@ D@@ a@@ o q@@ os@@ D@@ a@@ o = get@@ DbFacade@@ ().get@@ Qos@@ Dao@@ (); for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e : if@@ ac@@ es@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = get@@ Existing@@ Cluster@@ Networks@@ ().get@@ (@@ if@@ ac@@ e.get@@ Network@@ Name()); if@@ ac@@ e.set@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s(@@ org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ c@@ al@@ c@@ ul@@ ate@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s(@@ network@@ , (@@ n@@ etwork == null ? null : q@@ os@@ Dao@@ .get(@@ network@@ .get@@ Qos@@ Id@@ ())@@ ), if@@ ace@@ )); } existing@@ I@@ fac@@ es = org.ovirt.engine.core.common.businessentities.@@ Enti@@ ties.@@ enti@@ ties@@ By@@ Name@@ (@@ if@@ ac@@ es@@ ); } return existing@@ I@@ fac@@ es@@ ; }
public org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Agent@@ List@@ Model get@@ Fence@@ Agent@@ s() { return f@@ ence@@ Agent@@ s@@ ; }
@java.lang.Override public java.lang.String r@@ ender@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ Session@@ Detail@@ s object@@ ) { return objec@@ t.get@@ Ma@@ ster@@ Brick@@ Host@@ Name@@ ().@@ toString@@ (); }
public static void get@@ P@@ m@@ Type@@ List(@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , org.ovirt.engine.core.compat.@@ Version version@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { java.util.ArrayList<@@ java.lang.String> lis@@ t = new java.util.ArrayList<@@ java.lang.String@@ >(); if (s@@ ource != null@@ ) { java.lang.String@@ [@@ ] ar@@ r@@ a@@ y = ((@@ java.lang.String@@ ) (s@@ ource@@ )).@@ s@@ pl@@ it@@ ("@@ [@@ ,@@ ]@@ ", (@@ -@@ 1@@ )); for (java.lang.String i@@ te@@ m : ar@@ r@@ ay@@ ) { lis@@ t.@@ add(@@ item@@ ); } } return list@@ ; } }; org.ovirt.engine.core.common.queries.@@ Get@@ Configuration@@ Value@@ Parameters temp@@ V@@ a@@ r = new org.ovirt.engine.core.common.queries.@@ Get@@ Configuration@@ Value@@ Parameters(@@ Configuration@@ Values.@@ Vds@@ Fence@@ Type@@ ); tempVar@@ .set@@ Version@@ ((@@ ver@@ si@@ on != null ? version@@ .@@ toString@@ () : org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Default@@ Configuration@@ Version@@ ())); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ From@@ C@@ ach@@ e(@@ tempVar@@ , aQuery@@ ); }
public java.util.ArrayList<@@ java.lang.String> get@@ Us@@ ed@@ Lun@@ s@@ Messages@@ () { java.util.ArrayList<@@ java.lang.String> us@@ ed@@ Lun@@ s@@ Message@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); org.ovirt.engine.ui.uicompat.@@ Message@@ s mess@@ age@@ s = org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ (); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model lun@@ Model : get@@ Ad@@ ded@@ Lun@@ s()) { if ((@@ lun@@ Model.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ Lun@@ Status.@@ Us@@ ed@@ )) { java.lang.String re@@ as@@ on = null@@ ; org.ovirt.engine.core.common.businessentities.@@ LUN@@ s lu@@ n = ((org.ovirt.engine.core.common.businessentities.@@ LUN@@ s) (@@ lun@@ Model.get@@ Entity@@ ())); if ((@@ lun@@ .get@@ StorageDomain@@ Id()) != null@@ ) { re@@ as@@ on = mess@@ ages.@@ lun@@ P@@ art@@ Of@@ StorageDomain@@ (@@ lun@@ .get@@ StorageDomain@@ Name()); } else if ((@@ lun@@ .get@@ Disk@@ Id()) != null@@ ) { re@@ as@@ on = mess@@ ages.@@ lun@@ Us@@ ed@@ By@@ Disk@@ (@@ lun@@ .get@@ Disk@@ Alias@@ ()); } else if (((@@ lun@@ .get@@ volume@@ _@@ group@@ _id@@ ()) != null@@ ) && (!(@@ lun@@ .get@@ volume@@ _@@ group@@ _id@@ ().is@@ Empty@@ ()))) { re@@ as@@ on = mess@@ ages.@@ lun@@ Us@@ ed@@ By@@ V@@ G@@ (@@ lun@@ .get@@ volume@@ _@@ group@@ _id@@ ()); } us@@ ed@@ Lun@@ s@@ Messages.@@ add@@ ((@@ re@@ as@@ on == null ? lun@@ Model.get@@ Lun@@ Id@@ () : (((@@ lun@@ Model.get@@ Lun@@ Id()) + " ("@@ ) + re@@ ason@@ ) + "@@ )@@ ")); } } return us@@ ed@@ Lun@@ s@@ Messages@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Y@@ o@@ u ar@@ e ab@@ o@@ u@@ t to ch@@ ang@@ e the Data C@@ en@@ te@@ r C@@ ompati@@ b@@ il@@ it@@ y Version@@ . Th@@ is w@@ il@@ l c@@ a@@ us@@ e the up@@ gr@@ ad@@ e of al@@ l the Stor@@ age Domain@@ s b@@ e@@ long@@ ing to it@@ . Ar@@ e y@@ o@@ u s@@ ur@@ e y@@ o@@ u w@@ an@@ t to continue@@ ?@@ ") java.lang.String y@@ o@@ u@@ A@@ re@@ Ab@@ out@@ Change@@ D@@ c@@ CompatibilityVersion@@ With@@ Up@@ gr@@ ade@@ M@@ s@@ g@@ ();
private void read@@ Us@@ b@@ Item@@ (@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ ode@@ ) { vm@@ Bas@@ e.set@@ Us@@ b@@ Policy@@ (org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ Policy@@ .@@ for@@ String@@ Value(@@ n@@ od@@ e.@@ s@@ el@@ ect@@ Sing@@ le@@ Node@@ ("@@ r@@ as@@ d@@ :@@ Us@@ b@@ Policy@@ ", _@@ x@@ ml@@ N@@ S@@ ).@@ in@@ n@@ er@@ Text@@ )); }
@java.lang.Override public void On@@ Success@@ (java.lang.Object model@@ 1, java.lang.Object ReturnValue@@ 1@@ ) { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ List@@ Model in@@ n@@ er@@ Host@@ Interface@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ ListModel@@ ) (model@@ 1@@ )); org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Bond@@ Interface@@ Model b@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Bond@@ Interface@@ Model) (in@@ n@@ er@@ Host@@ Interface@@ List@@ Model.get@@ W@@ in@@ do@@ w@@ ())); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VdsNetwork@@ Interface@@ > bond@@ s = ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VdsNetwork@@ Interface@@ >) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ ReturnValue@@ 1@@ )@@ ).get@@ ReturnValue@@ ())); b@@ Model.get@@ Bond@@ ().set@@ Items(@@ b@@ on@@ ds@@ ); b@@ Model.get@@ Bond@@ ().set@@ SelectedItem@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ F@@ ir@@ st@@ Or@@ Default@@ (@@ b@@ on@@ ds@@ )); boolean has@@ Manage@@ m@@ ent = false@@ ; for (org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface in@@ n@@ er@@ I@@ te@@ m : in@@ n@@ er@@ Host@@ Interface@@ List@@ Model.get@@ SelectedItem@@ sWith@@ V@@ lan@@ s()) { if (in@@ n@@ er@@ Item@@ .get@@ Is@@ Management@@ ()) { has@@ Manage@@ m@@ ent = true@@ ; break@@ ; } } } in@@ n@@ er@@ Host@@ Interface@@ List@@ Model.@@ P@@ ost@@ Bond@@ (in@@ n@@ er@@ Host@@ Interface@@ ListModel@@ , b@@ Model@@ , ((@@ b@@ Model.get@@ Network@@ ().get@@ Item@@ s()) != null ? ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ >) (@@ b@@ Model.get@@ Network@@ ().get@@ Item@@ s@@ ())) : new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ >@@ ()), has@@ Management@@ ); }
private void update@@ Default@@ Selected@@ Console@@ Protocol@@ (@@ final org.ovirt.engine.core.common.businessentities.VM vm@@ ) { if ((@@ vm.get@@ Id()) == null@@ ) { return@@ ; } final java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Console@@ Model@@ > c@@ ach@@ ed@@ Model@@ s = c@@ ach@@ ed@@ Console@@ Model@@ s.get@@ (vm.get@@ Id()); if (c@@ ach@@ ed@@ Model@@ s == null@@ ) { return@@ ; } d@@ es@@ el@@ ect@@ User@@ Selected@@ Protocol@@ (vm.get@@ Id()); final boolean is@@ W@@ in@@ do@@ w@@ s@@ Ex@@ pl@@ or@@ er = parent@@ Model.get@@ Configur@@ ator@@ ().is@@ Client@@ W@@ in@@ do@@ w@@ s@@ Ex@@ pl@@ or@@ er@@ (); java.lang.@@ B@@ oolean has@@ Sp@@ ice@@ Sup@@ por@@ t = org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ has@@ Sp@@ ice@@ Sup@@ port@@ (vm.get@@ Os@@ (), vm.get@@ VdsGroup@@ CompatibilityVersion@@ ()); if ((@@ is@@ W@@ in@@ do@@ w@@ s@@ Ex@@ pl@@ or@@ er && (@@ has@@ Sp@@ ice@@ Sup@@ por@@ t != null@@ )) && (@@ has@@ Sp@@ ice@@ Sup@@ port@@ .@@ boolean@@ Value@@ ())) { c@@ ach@@ ed@@ Model@@ s.get@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Console@@ Model@@ s@@ C@@ ach@@ e.@@ R@@ D@@ P@@ _@@ IN@@ D@@ EX@@ )@@ .set@@ User@@ Selected@@ (@@ true@@ ); } else { d@@ et@@ er@@ min@@ e@@ Console@@ Model@@ From@@ Vm@@ (vm@@ , c@@ ach@@ ed@@ Model@@ s@@ )@@ .set@@ User@@ Selected@@ (@@ true@@ ); } set@@ up@@ Sel@@ ection@@ Context@@ (vm@@ ); }
public static boolean is@@ P@@ ubl@@ ic@@ Key@@ Valid@@ (java.lang.String public@@ Key@@ ) { int i@@ ; i = public@@ Key@@ .@@ in@@ dex@@ Of@@ ("@@ \@@ n@@ "); if ((@@ i != (@@ -@@ 1@@ )) && (@@ i != (@@ public@@ Key@@ .@@ l@@ ength@@ ()) - 1@@ ))) { return false@@ ; } java.lang.String@@ [@@ ] wor@@ d@@ s = public@@ Key@@ .@@ s@@ pl@@ it@@ ("@@ \@@ s@@ +@@ ", 3@@ ); if ((@@ wor@@ d@@ s.@@ l@@ ength@@ ) < 2@@ ) { return false@@ ; } if (!(@@ wor@@ ds@@ [@@ 0@@ ]@@ .m@@ atch@@ es@@ ("@@ ^@@ [@@ \@@ p@@ {@@ Al@@ p@@ ha@@ }@@ \@@ p@@ {@@ D@@ ig@@ it@@ }@@ -@@ ]@@ *@@ $@@ "@@ ))) { return false@@ ; } if (!(@@ org.ovirt.engine.core.@@ u@@ utils.@@ s@@ sh@@ .@@ Op@@ en@@ SS@@ H@@ Utils.@@ is@@ Base@@ 6@@ 4@@ (@@ wor@@ ds@@ [@@ 1@@ ]@@ .get@@ By@@ t@@ es(@@ java.@@ n@@ i@@ o@@ .@@ char@@ set@@ .@@ Ch@@ ar@@ set@@ .@@ for@@ Name@@ ("@@ U@@ T@@ F@@ -@@ 8@@ "@@ )@@ ))) { return false@@ ; } return true@@ ; }
@org.junit.Test public void network@@ In@@ Vfs@@ Config@@ Not@@ Valid@@ () { network@@ In@@ Vfs@@ Config@@ C@@ ommon@@ Test@@ (@@ false@@ ); assert@@ That@@ (@@ validator.@@ network@@ In@@ Vfs@@ Config@@ (org.ovirt.engine.core.bll.@@ validator.@@ Vfs@@ Config@@ Validator@@ Test.@@ NETWORK_@@ ID@@ ), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NETWORK_@@ NOT_@@ IN_@@ V@@ F@@ S_@@ C@@ ON@@ F@@ I@@ G@@ , java.lang.String@@ .@@ for@@ mat@@ (@@ Vfs@@ Config@@ Validator.@@ N@@ IC@@ _@@ NAM@@ E_@@ RE@@ P@@ L@@ AC@@ EM@@ EN@@ T@@ , nic@@ .getName@@ ()), java.lang.String@@ .@@ for@@ mat@@ (@@ Vfs@@ Config@@ Validator.@@ NETWORK_@@ NAM@@ E_@@ RE@@ P@@ L@@ AC@@ EM@@ EN@@ T@@ , network@@ .getName@@ ()))); }
private void update@@ Memory@@ Column@@ Visi@@ bility@@ () { org.ovirt.engine.core.common.businessentities.VM vm = ((org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Snapshot@@ ListModel@@ T@@ abl@@ e.get@@ Model().get@@ Entity@@ ())); if (@@ vm == null@@ ) { return@@ ; } org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Snapshot@@ ListModel@@ T@@ abl@@ e.get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ Snapshots@@ View@@ Column@@ s.@@ date@@ Column@@ , const@@ an@@ t@@ s.@@ date@@ Snapshot@@ (), true@@ , "@@ 1@@ 5@@ 0@@ p@@ x@@ "); org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Snapshot@@ ListModel@@ T@@ abl@@ e.get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ Snapshots@@ View@@ Column@@ s.@@ status@@ Column@@ , const@@ an@@ t@@ s.@@ status@@ Snapshot@@ (), true@@ , "@@ 7@@ 5@@ p@@ x@@ "); boolean arch@@ Snapshot@@ Sup@@ por@@ te@@ d = org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ is@@ Snapshot@@ Supported@@ (vm.get@@ Cluster@@ Ar@@ ch@@ (), vm.get@@ VdsGroup@@ CompatibilityVersion@@ ()); boolean memory@@ Snapshot@@ Sup@@ por@@ te@@ d = ((@@ java.lang.Boolean@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Memory@@ Snapshot@@ Supported@@ , vm.get@@ VdsGroup@@ CompatibilityVersion@@ ().@@ toString@@ ()))) && arch@@ Snapshot@@ Supported@@ ; org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Snapshot@@ ListModel@@ T@@ abl@@ e.get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ Snapshots@@ View@@ Column@@ s.@@ memory@@ Column@@ , const@@ an@@ t@@ s.@@ memory@@ Snapshot@@ (), memory@@ Snapshot@@ Supported@@ , "@@ 5@@ p@@ x@@ "); org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Snapshot@@ ListModel@@ T@@ abl@@ e.get@@ T@@ able@@ ().@@ ens@@ ure@@ Column@@ Pres@@ ent@@ (@@ Snapshots@@ View@@ Column@@ s.@@ d@@ escription@@ Column@@ , const@@ an@@ t@@ s.@@ d@@ escription@@ Snapshot@@ (), true@@ , "@@ 18@@ 5@@ p@@ x@@ "); }
@org.junit.Test public void test@@ Get@@ Local@@ e@@ From@@ Request@@ B@@ r@@ a@@ z@@ il@@ i@@ an@@ () { java.util.@@ Local@@ e result = test@@ Servlet@@ .get@@ Local@@ e@@ From@@ Request@@ (m@@ ock@@ Request@@ ); assert@@ Equals@@ ("@@ Th@@ e local@@ e shoul@@ d b@@ e en@@ -@@ US@@ ", java.util.@@ Local@@ e.@@ US@@ , result@@ ); when@@ (m@@ ock@@ Re@@ ques@@ t.get@@ H@@ ead@@ er@@ (@@ D@@ oc@@ s@@ Servlet@@ .@@ RE@@ F@@ ER@@ )).@@ then@@ Return@@ ("@@ http@@ :@@ /@@ /@@ 1@@ 2@@ 7@@ .@@ 0@@ .@@ 0@@ .@@ 1@@ :@@ 8@@ 7@@ 00@@ /@@ webadmin@@ /@@ W@@ eb@@ Ad@@ min@@ .@@ ht@@ ml@@ ?@@ local@@ e@@ =@@ p@@ t@@ _@@ B@@ R@@ "); result = test@@ Servlet@@ .get@@ Local@@ e@@ From@@ Request@@ (m@@ ock@@ Request@@ ); assert@@ Equals@@ ("@@ Th@@ e local@@ e shoul@@ d b@@ e p@@ t@@ _@@ B@@ R@@ ", new java.util.@@ Local@@ e@@ ("@@ p@@ t@@ ", "@@ B@@ R@@ "@@ ), result@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ Default@@ Message@@ ("@@ Ad@@ d {0@@ } to Bond@@ ") java.lang.String add@@ To@@ Bond@@ (java.lang.String name@@ );
public org.ovirt.engine.core.bll.ValidationResult gluster@@ Service@@ Supported@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ GLUSTER_@@ NOT_@@ SUP@@ PORT@@ ED@@ , "@@ c@@ ompatibilityVersion@@ ", cluster@@ .get@@ CompatibilityVersion@@ ().get@@ Value@@ ()).@@ when@@ ((@@ (c@@ luster.@@ sup@@ port@@ s@@ Gluster@@ Service@@ ()) && (!(@@ gluster@@ Feat@@ ure@@ Enabled@@ ())@@ ))); }
public void set@@ H@@ ig@@ h@@ ly@@ Available@@ S@@ cor@@ e@@ (@@ int value@@ ) { this@@ .m@@ Vds@@ Dynamic@@ .set@@ H@@ ig@@ h@@ ly@@ Available@@ S@@ cor@@ e(@@ value@@ ); }
private org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ > selected@@ Or@@ Null@@ (@@ java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ >> list@@ , org.ovirt.engine.core.common.businessentities.@@ Disk pre@@ v@@ Selected@@ , org.ovirt.engine.core.common.businessentities.@@ Disk@@ .@@ Disk@@ Storage@@ Type disk@@ Storage@@ Type@@ ) { if (@@ pre@@ v@@ Sel@@ ected == null@@ ) { return null@@ ; } if ((@@ pre@@ v@@ Selected@@ .get@@ Disk@@ Storage@@ Type()) != disk@@ Storage@@ Type@@ ) { return null@@ ; } for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ > i@@ te@@ m : list@@ ) { if (@@ item@@ .get@@ Entity@@ ().get@@ Disk@@ ().get@@ Id().@@ equals(@@ pre@@ v@@ Selected@@ .getId@@ ())) { return item@@ ; } } return null@@ ; }
protected abstract void sh@@ ow@@ Err@@ ata@@ List@@ With@@ Detail@@ s@@ Popup@@ ();
@java.lang.Override @org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () throw@@ s java.lang.Exception { super@@ .set@@ Up@@ (); d@@ a@@ o = db@@ Fac@@ ade.get@@ User@@ Profile@@ Dao@@ (); existing@@ Profil@@ e = d@@ ao@@ .get@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ("@@ 3@@ 8@@ c@@ b@@ 5@@ 6@@ 6@@ 3@@ -@@ 9@@ 6@@ b@@ c@@ -@@ 4@@ 8@@ 5@@ c@@ -@@ 8@@ 3@@ 4@@ a@@ -@@ c@@ b@@ c@@ 0@@ 3@@ ac@@ c@@ 8@@ 2@@ 0@@ ")); de@@ let@@ able@@ Profil@@ e = d@@ ao@@ .get@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ("@@ 3@@ 8@@ c@@ b@@ 5@@ 6@@ 3@@ -@@ 9@@ 6@@ b@@ c@@ -@@ 4@@ 8@@ 5@@ c@@ -@@ 8@@ 3@@ 4@@ a@@ -@@ c@@ b@@ c@@ 0@@ 3@@ ac@@ c@@ 8@@ 2@@ 1@@ ")); new@@ Profil@@ e = new org.ovirt.engine.core.common.businessentities.@@ User@@ Profile@@ (); new@@ Profil@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); new@@ Profil@@ e.set@@ User@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ("@@ 8@@ 1@@ 9@@ 4@@ 0@@ 4@@ 5@@ 9@@ -@@ 2@@ ec@@ 4@@ -@@ 4@@ a@@ fa@@ -@@ b@@ aa@@ -@@ 2@@ 2@@ 5@@ 4@@ 9@@ 5@@ 5@@ 5@@ 5@@ 2@@ 9@@ 3@@ c@@ ")); new@@ Profil@@ e.set@@ S@@ sh@@ P@@ ubl@@ ic@@ Key@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ("@@ 6@@ 7@@ b@@ c@@ 5@@ 4@@ 8@@ 4@@ -@@ d@@ 4@@ 7@@ ce@@ -@@ 8@@ b@@ 6@@ a@@ -@@ e@@ 9@@ 6@@ 2@@ 4@@ b@@ 7@@ 0@@ b@@ 6@@ ")); new@@ Profil@@ e.set@@ S@@ sh@@ P@@ ubl@@ ic@@ Key@@ ("@@ key@@ 3@@ "); new@@ Profil@@ e.set@@ Lo@@ gin@@ Name@@ ("@@ user@@ 4@@ @@@ port@@ al.@@ red@@ ha@@ t.@@ com@@ @@@ test@@ "); }
@java.lang.Override public java.util.Map<@@ java.lang.Integer@@ , java.util.Map<@@ org.ovirt.engine.core.compat.@@ Version@@ , java.lang.Boolean@@ >> get@@ S@@ ound@@ Device@@ Sup@@ port@@ Map@@ () { java.util.Map<@@ java.lang.Integer@@ , java.util.Map<@@ org.ovirt.engine.core.compat.@@ Version@@ , java.lang.Boolean@@ >> s@@ ound@@ Device@@ Sup@@ port@@ Map = new java.util.HashMap<@@ java.lang.Integer@@ , java.util.Map<@@ org.ovirt.engine.core.compat.@@ Version@@ , java.lang.Boolean@@ >@@ >(); java.util.@@ Set<@@ org.ovirt.engine.core.compat.@@ Version@@ > version@@ sWith@@ N@@ ull = new java.util.Hash@@ Set<@@ org.ovirt.engine.core.compat.@@ Version@@ >@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ AL@@ L@@ ); version@@ sWith@@ N@@ ul@@ l.@@ add@@ (@@ null@@ ); java.util.@@ Set<@@ java.lang.Integer@@ > os@@ Id@@ s = new java.util.Hash@@ Set<@@ java.lang.Integer@@ >@@ (get@@ Os@@ Id@@ s()); for (@@ java.lang.Integ@@ er os@@ Id : os@@ Id@@ s) { s@@ ound@@ Device@@ Sup@@ port@@ Map.@@ put(@@ os@@ Id, new java.util.HashMap<@@ org.ovirt.engine.core.compat.@@ Version@@ , java.lang.Boolean@@ >@@ ()); for (@@ org.ovirt.engine.core.compat.@@ Version ve@@ r : version@@ sWith@@ Null@@ ) { s@@ ound@@ Device@@ Sup@@ port@@ Map@@ .get(@@ os@@ Id@@ ).@@ put(@@ ver@@ , is@@ S@@ ound@@ Device@@ Enabled@@ (@@ os@@ Id, ver@@ )); } } return s@@ ound@@ Device@@ Sup@@ port@@ Map@@ ; }
private org.ovirt.engine.api.model.@@ R@@ S@@ D@@ L add@@ System@@ Version@@ (org.ovirt.engine.api.model.@@ R@@ S@@ D@@ L r@@ sd@@ l@@ ) { r@@ sd@@ l.@@ set@@ Version@@ (@@ org.ovirt.engine.api.restapi.@@ util.@@ Version@@ Helper.@@ par@@ se@@ Version@@ (get@@ Configuration@@ Value@@ Default@@ (@@ java.lang.String@@ .@@ class@@ , Configuration@@ Values.@@ Pro@@ d@@ uc@@ t@@ R@@ P@@ M@@ Version@@ ))); return r@@ sd@@ l@@ ; }
@java.lang.Override protected void h@@ i@@ de@@ All@@ Detail@@ s() { d@@ et@@ ail@@ Exp@@ and@@ .@@ t@@ og@@ g@@ le@@ Exp@@ an@@ ded@@ (@@ false@@ ); stati@@ stic@@ s@@ Exp@@ and@@ .@@ t@@ og@@ g@@ le@@ Exp@@ an@@ ded@@ (@@ false@@ ); }
private void h@@ andle@@ Rem@@ oved@@ Devic@@ es(@@ org.ovirt.engine.core.compat.Guid vm@@ Id, java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> pro@@ cess@@ ed@@ Devices@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > de@@ vic@@ es@@ ) { for (org.ovirt.engine.core.common.businessentities.Vm@@ Device de@@ vic@@ e : de@@ vic@@ es@@ ) { if (@@ pro@@ cess@@ ed@@ Devic@@ es.@@ contains(@@ de@@ vic@@ e.get@@ Device@@ Id@@ ())) { continue@@ ; } if (@@ de@@ vic@@ e.get@@ Is@@ Manage@@ d@@ ()) { if (@@ de@@ vic@@ e.get@@ Is@@ Plug@@ ged@@ ()) { de@@ vic@@ e.set@@ Address@@ ("@@ "); add@@ VmDevice@@ To@@ List(@@ de@@ vice@@ ); org.ovirt.engine.core.vdsbroker.@@ Vms@@ Monitor@@ ing.@@ log.debug@@ ("@@ VM '{}@@ ' manage@@ d plug@@ g@@ able de@@ vic@@ e w@@ a@@ s un@@ plug@@ g@@ ed : '{}@@ '@@ ", vm@@ Id, de@@ vice@@ ); } else if (!(@@ de@@ vice@@ Plug@@ g@@ able(@@ de@@ vice@@ ))) { org.ovirt.engine.core.vdsbroker.@@ Vms@@ Monitor@@ ing.@@ log.error("@@ VM '{}@@ ' manage@@ d n@@ on plug@@ g@@ able de@@ vic@@ e w@@ a@@ s remove@@ d u@@ ne@@ x@@ p@@ ected@@ l@@ y f@@ ro@@ m l@@ i@@ b@@ vi@@ r@@ t@@ : {}@@ ", vm@@ Id, de@@ vice@@ ); } } else { rem@@ oved@@ Device@@ Id@@ s.add(@@ de@@ vic@@ e.get@@ Id()); org.ovirt.engine.core.vdsbroker.@@ Vms@@ Monitor@@ ing.@@ log.debug@@ ("@@ VM '{}@@ ' un@@ manage@@ d de@@ vic@@ e w@@ a@@ s mar@@ k@@ ed for rem@@ ov@@ e : {}@@ ", vm@@ Id, de@@ vice@@ ); } } }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > get@@ AllFor@@ Network@@ (org.ovirt.engine.core.compat.Guid id@@ ) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Vm@@ Templ@@ at@@ es@@ By@@ Network@@ Id@@ ", org.ovirt.engine.core.dao.@@ VmTemplate@@ Dao@@ Impl.@@ VM@@ Template@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ network@@ _id", id@@ )); }
@java.lang.Override protected java.lang.String ser@@ ial@@ ize@@ Add@@ ition@@ al@@ Att@@ ri@@ b@@ ut@@ es@@ () { java.lang.String@@ Buil@@ der buil@@ der = new java.lang.String@@ Builder@@ (); buil@@ der.@@ append("@@ , m@@ ac@@ Address@@ =@@ ").@@ append@@ (get@@ Mac@@ Address@@ ()).@@ append("@@ , bond@@ Name@@ =@@ ").@@ append@@ (get@@ Bond@@ Name@@ ()).@@ append("@@ , sp@@ e@@ ed@@ =@@ ").@@ append@@ (get@@ Sp@@ e@@ ed@@ ()).@@ append("@@ , label@@ s@@ =@@ ").@@ append@@ (get@@ Label@@ s()); return buil@@ der.@@ toString@@ (); }
private void Init@@ Template@@ () { getModel().get@@ Mem@@ Size@@ ().set@@ Entity@@ (@@ this@@ .@@ vm.get@@ vm@@ _@@ mem@@ _@@ size@@ _@@ m@@ b@@ ()); getModel().get@@ O@@ S@@ Type@@ ().set@@ SelectedItem@@ (@@ this@@ .@@ vm.get@@ vm@@ _@@ os@@ ()); getModel().get@@ Domain@@ ().set@@ SelectedItem@@ (@@ this@@ .@@ vm.get@@ vm@@ _@@ do@@ m@@ ain@@ ()); getModel().get@@ Us@@ b@@ Policy@@ ().set@@ SelectedItem@@ (@@ this@@ .@@ vm.get@@ us@@ b@@ _@@ p@@ olicy@@ ()); getModel().get@@ Num@@ Of@@ Monitor@@ s@@ ().set@@ SelectedItem@@ (@@ this@@ .@@ vm.get@@ num@@ _@@ o@@ f@@ _@@ m@@ onitor@@ s()); getModel().get@@ Allow@@ Console@@ Rec@@ on@@ n@@ ect@@ ().set@@ Entity@@ (@@ this@@ .@@ vm.get@@ Allow@@ Console@@ Rec@@ on@@ n@@ ect@@ ()); get@@ Model@@ ().set@@ Boot@@ Se@@ qu@@ ence@@ (@@ this@@ .@@ vm@@ .@@ ge@@ t@@ default@@ _@@ b@@ oot@@ _@@ se@@ qu@@ ence@@ ()); getModel().get@@ T@@ otal@@ C@@ P@@ U@@ C@@ or@@ es@@ ().set@@ Entity(@@ java.lang.Integ@@ er.@@ toString@@ (@@ this@@ .@@ vm.get@@ num@@ _@@ o@@ f@@ _@@ c@@ p@@ us@@ ())); getModel().get@@ Num@@ Of@@ S@@ ock@@ et@@ s@@ ().set@@ SelectedItem@@ (@@ this@@ .@@ vm.get@@ num@@ _@@ o@@ f@@ _@@ s@@ ock@@ et@@ s()); getModel().get@@ Is@@ State@@ l@@ ess@@ ().set@@ Entity@@ (@@ this@@ .@@ vm.get@@ is@@ _@@ st@@ ate@@ l@@ ess@@ ()); getModel().get@@ Pre@@ vent@@ Delet@@ ion@@ ().set@@ Entity@@ (@@ this@@ .@@ vm.get@@ Pre@@ vent@@ Delet@@ ion@@ ()); getModel().get@@ Is@@ S@@ m@@ art@@ c@@ ard@@ Enabled@@ ().set@@ Entity@@ (@@ this@@ .@@ vm@@ .is@@ S@@ m@@ art@@ c@@ ard@@ Enabled@@ ()); if (!(@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (@@ this@@ .@@ vm.get@@ time@@ _@@ z@@ one@@ ()))) { update@@ Time@@ Z@@ one@@ (@@ this@@ .@@ vm.get@@ time@@ _@@ z@@ one@@ ()); } else { Update@@ Default@@ Time@@ Z@@ one@@ (); } Update@@ Domain@@ (); getModel().get@@ StorageDomain@@ ().setIs@@ Chang@@ able@@ (@@ true@@ ); getModel().get@@ Provi@@ sion@@ ing@@ ().setIs@@ Available@@ (@@ false@@ ); for (java.lang.Object i@@ te@@ m : getModel().get@@ Display@@ Protocol@@ ().get@@ Item@@ s()) { org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model) (@@ item@@ )); org.ovirt.engine.core.common.businessentities.@@ Display@@ Type dis@@ play@@ Type = ((org.ovirt.engine.core.common.businessentities.@@ Display@@ Type@@ ) (model.get@@ Entity@@ ())); if (@@ dis@@ play@@ Type == (@@ this@@ .@@ vm@@ .@@ ge@@ t@@ default@@ _@@ dis@@ play@@ _@@ type@@ ())) { getModel().get@@ Display@@ Protocol@@ ().set@@ SelectedItem@@ (@@ item@@ ); break@@ ; } } Init@@ P@@ ri@@ or@@ ity@@ (@@ this@@ .@@ vm.get@@ pri@@ or@@ ity@@ ()); }
private void load@@ Vm@@ w@@ are@@ Provi@@ d@@ ers@@ () { cl@@ e@@ ar@@ Pro@@ bl@@ em@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ All@@ Provi@@ d@@ ers@@ By@@ Type@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Callback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Provider@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ w@@ are@@ Vm@@ Provider@@ Properties@@ >> provider@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ Provider@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ w@@ are@@ Vm@@ Provider@@ Properties@@ > provi@@ der : ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Provider@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ w@@ are@@ Vm@@ Provider@@ Properties@@ >@@ >) (@@ return@@ Value@@ ))) { if (get@@ Data@@ C@@ ent@@ ers@@ ().getSelectedItem@@ ().get@@ Id().@@ equals(@@ provider@@ .get@@ Add@@ ition@@ al@@ Properties@@ ().get@@ StoragePool@@ Id@@ ())) { provider@@ s.add(@@ provider@@ ); } } provider@@ s.add(@@ 0@@ , null@@ ); get@@ Vm@@ w@@ are@@ Provi@@ d@@ ers@@ ().set@@ Items(@@ provi@@ d@@ ers@@ ); } }@@ ), Provider@@ Type.@@ VM@@ W@@ A@@ RE@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ RE@@ M@@ OV@@ E); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _P@@ OL@@ IC@@ Y_@@ UN@@ I@@ T@@ ); }
protected java.lang.String j@@ o@@ in@@ Mem@@ b@@ ers@@ (@@ java.util.List<java.lang.String> st@@ ring@@ s, java.lang.String se@@ par@@ ator@@ , java.lang.String s@@ k@@ ip@@ String@@ , org.ovirt.engine.ui.webadmin.@@ Ap@@ plication@@ Constant@@ s const@@ an@@ t@@ s) { if ((@@ st@@ ring@@ s == null@@ ) || (@@ st@@ ring@@ s.@@ isEmpty@@ ())) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ exten@@ ded@@ .S@@ i@@ de@@ Tab@@ Ex@@ ten@@ ded@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ View@@ .@@ const@@ an@@ t@@ s.@@ no@@ Mem@@ b@@ ers@@ Af@@ finity@@ Group@@ (); } java.lang.String@@ Bu@@ ff@@ er result = new java.lang.String@@ Bu@@ f@@ fer@@ (); for (java.lang.String s : st@@ ring@@ s) { if (@@ s.@@ equals@@ (s@@ k@@ ip@@ String@@ )) { continue@@ ; } if ((@@ result.@@ l@@ ength@@ ()) != 0) { result.@@ append@@ (s@@ e@@ par@@ ator@@ ); } result.@@ append@@ (s@@ ); } return result.@@ toString@@ (); }
@java.lang.Override public int hash@@ Code@@ () { final int pri@@ m@@ e = 3@@ 1@@ ; int result = 1@@ ; result = (@@ pri@@ m@@ e * result) + ((@@ o@@ per@@ ation@@ Type@@ ) == null ? 0 : o@@ per@@ ation@@ Type.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ o@@ per@@ ation@@ Callback@@ ) == null ? 0 : o@@ per@@ ation@@ Callback@@ .@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ parameter@@ ) == null ? 0 : paramet@@ er.@@ hash@@ Code@@ ()); result = (@@ pri@@ m@@ e * result) + ((@@ source@@ ) == null ? 0 : s@@ ource.@@ hash@@ Code@@ ()); return result@@ ; }
@java.lang.Override public java.lang.Integ@@ er par@@ s@@ e(@@ java.lang.@@ Ch@@ ar@@ Se@@ qu@@ enc@@ e tex@@ t@@ ) throw@@ s java.@@ tex@@ t.@@ Par@@ se@@ Exception { com.google.gwt.@@ re@@ g@@ exp@@ .@@ shared@@ .@@ Match@@ Result mat@@ ch = com.google.gwt.@@ re@@ g@@ exp@@ .@@ shared@@ .@@ Re@@ g@@ Exp@@ .@@ comp@@ il@@ e@@ ("@@ ^@@ (@@ \@@ d@@ *@@ )@@ \@@ s@@ *@@ (@@ \@@ w@@ *@@ )@@ $@@ ").@@ ex@@ ec@@ (@@ tex@@ t.@@ toString()); java.lang.String pre@@ fi@@ x = mat@@ ch@@ .get@@ Group@@ (@@ 1@@ ); java.lang.String s@@ u@@ f@@ fi@@ x = mat@@ ch@@ .get@@ Group@@ (@@ 2@@ ); java.lang.Integ@@ er s@@ iz@@ e = null@@ ; try { s@@ iz@@ e = java.lang.Integ@@ er.@@ par@@ se@@ In@@ t@@ (@@ pre@@ fi@@ x@@ ); } catch (java.lang.@@ Num@@ ber@@ Format@@ Exception e) { return 0@@ ; } if ((@@ s@@ u@@ f@@ fi@@ x.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ ase@@ ("@@ T@@ B@@ "@@ )) || (s@@ u@@ f@@ fi@@ x.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ ase@@ ("@@ T@@ "@@ ))) { s@@ iz@@ e *@@ = 1@@ 0@@ 2@@ 4 * 1@@ 0@@ 2@@ 4@@ ; return size@@ ; } if ((@@ s@@ u@@ f@@ fi@@ x.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ ase@@ ("@@ G@@ B@@ "@@ )) || (s@@ u@@ f@@ fi@@ x.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ ase@@ ("@@ G@@ "@@ ))) { s@@ iz@@ e *@@ = 1@@ 0@@ 2@@ 4@@ ; return size@@ ; } if ((@@ s@@ u@@ f@@ fi@@ x.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ ase@@ ("@@ M@@ B@@ "@@ )) || (s@@ u@@ f@@ fi@@ x.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ ase@@ ("@@ M@@ "@@ ))) { return size@@ ; } return size@@ ; } return size@@ ; }
@org.junit.Test public void status@@ Not@@ Supported@@ For@@ Host@@ In@@ st@@ all@@ ation@@ () { when(@@ old@@ Hos@@ t.get@@ Status@@ ()).@@ thenReturn(@@ VDS@@ Status.@@ Up@@ ); valid@@ ator = create@@ Validator@@ For@@ Host@@ In@@ st@@ all@@ ation@@ (); assert@@ That@@ (@@ validator.@@ status@@ Supported@@ For@@ Host@@ In@@ st@@ all@@ ation@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ VDS@@ _C@@ ANNOT_@@ IN@@ ST@@ AL@@ L@@ _@@ ST@@ AT@@ U@@ S_@@ IL@@ LE@@ G@@ AL@@ )); }
@java.lang.Override protected void Pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ () { org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s return@@ Status = Get@@ ReturnValue@@ From@@ Status(@@ org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Abstract@@ Gluster@@ Broker@@ Command.get@@ Return@@ Status@@ ()); switch (@@ return@@ Status@@ ) { case GlusterVolume@@ Create@@ Fail@@ ed : case GlusterVolume@@ Start@@ Fail@@ ed : case GlusterVolume@@ St@@ op@@ Fail@@ ed : case Add@@ Brick@@ sTo@@ GlusterVolume@@ Fail@@ ed : case GlusterVolume@@ Set@@ Option@@ Fail@@ ed : case GlusterVolume@@ R@@ eb@@ al@@ ance@@ Start@@ Fail@@ ed : case GlusterVolume@@ Delet@@ e@@ Fail@@ ed : case GlusterVolume@@ Repl@@ ace@@ Brick@@ Start@@ Fail@@ ed : case GlusterVolume@@ List@@ Fail@@ ed : case GlusterVolume@@ Option@@ Info@@ Fail@@ ed : case GlusterVolume@@ Res@@ et@@ Option@@ s@@ Fail@@ ed : case GlusterVolume@@ Remove@@ Brick@@ s@@ Fail@@ ed : case GlusterVolume@@ Profile@@ Start@@ Fail@@ ed : case GlusterVolume@@ Profile@@ St@@ op@@ Fail@@ ed : case Gluster@@ Add@@ Host@@ Fail@@ ed : case Remove@@ Gluster@@ Server@@ Fail@@ ed : case Gluster@@ P@@ e@@ er@@ List@@ Fail@@ ed : case GlusterVolume@@ Status@@ Fail@@ ed : case GlusterVolume@@ Profile@@ Info@@ Fail@@ ed : case Gluster@@ Hook@@ Fail@@ ed : case Gluster@@ Hook@@ En@@ able@@ Fail@@ ed : case Gluster@@ Hook@@ Al@@ read@@ y@@ En@@ able@@ d : case Gluster@@ Hook@@ Not@@ F@@ oun@@ d : case Gluster@@ Hook@@ Read@@ Fail@@ ed : case Gluster@@ Hook@@ Update@@ Fail@@ ed : org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Abstract@@ Gluster@@ Broker@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Vds@@ Error@@ (@@ new org.ovirt.engine.core.common.errors.@@ VDS@@ Error@@ (@@ return@@ Status@@ , org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Abstract@@ Gluster@@ Broker@@ Command.get@@ Return@@ Status@@ ().@@ m@@ Message@@ )); org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Abstract@@ Gluster@@ Broker@@ Command.get@@ VDS@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ false@@ ); break@@ ; default : super@@ .@@ Pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); break@@ ; } } }
public org.ovirt.engine.core.bll.ValidationResult h@@ ot@@ Update@@ P@@ os@@ si@@ bl@@ e@@ () { if ((get@@ Requi@@ red@@ Action@@ ()) == (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Update@@ Vm@@ Interface@@ Command.@@ Requi@@ red@@ Action@@ .@@ UP@@ D@@ AT@@ E_@@ VM_@@ DE@@ V@@ IC@@ E@@ )) { if (!(@@ org.ovirt.engine.core.common.@@ validation.@@ Feat@@ ure@@ Supported@@ .@@ network@@ Link@@ ing@@ (@@ version@@ ))) { return new org.ovirt.engine.core.bll.ValidationResult@@ (@@ org.ovirt.engine.core.dal.@@ VdcBllMessages.@@ HO@@ T_@@ VM_@@ IN@@ TER@@ F@@ AC@@ E_@@ UP@@ D@@ AT@@ E_@@ I@@ S_NOT_@@ SUP@@ PORT@@ ED@@ , org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Update@@ Vm@@ Interface@@ Command.@@ Update@@ Vm@@ Nic@@ Validator.@@ cluster@@ Version@@ ()); } else if (@@ nic@@ .is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ()) { return new org.ovirt.engine.core.bll.ValidationResult@@ (@@ org.ovirt.engine.core.dal.@@ VdcBllMessages.@@ C@@ ANNOT_@@ P@@ ER@@ F@@ O@@ M@@ _@@ HO@@ T_@@ UP@@ D@@ AT@@ E_@@ W@@ I@@ TH@@ _@@ POR@@ T_@@ M@@ I@@ R@@ R@@ R@@ OR@@ ING@@ ); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public void st@@ art@@ N@@ ext@@ L@@ ive@@ M@@ er@@ ge@@ (@@ int comp@@ let@@ ed@@ Ch@@ ild@@ r@@ en@@ ) { if (c@@ omp@@ let@@ ed@@ Ch@@ ild@@ re@@ n == 0) { org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ update@@ All@@ DiskImage@@ Snapshots@@ Status@@ (get@@ ImageGroup@@ Id(), Image@@ Status.@@ LO@@ C@@ K@@ ED); } else { check@@ Image@@ Id@@ Cons@@ ist@@ enc@@ y@@ ((@@ comp@@ let@@ ed@@ Ch@@ ild@@ re@@ n - 1@@ )); } org.ovirt.engine.core.compat.Guid image@@ Id = org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.getParameters().get@@ Image@@ Id@@ s().get@@ (c@@ omp@@ let@@ ed@@ Ch@@ ild@@ r@@ en@@ ); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.@@ log.info@@ ("@@ Start@@ ing ch@@ il@@ d c@@ ommand {@@ } of {}@@ , im@@ age '{}@@ '@@ ", (c@@ omp@@ let@@ ed@@ Ch@@ ild@@ re@@ n + 1@@ ), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.getParameters().get@@ Image@@ Id@@ s().@@ size@@ (), image@@ Id); org.ovirt.engine.core.common.action.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ Parameters parameter@@ s = build@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ Parameters(@@ image@@ Id); parameters.set@@ En@@ d@@ Pro@@ ce@@ d@@ ure(@@ En@@ d@@ Pro@@ ce@@ d@@ ur@@ e.@@ A@@ S@@ Y@@ N@@ C@@ _@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ S_@@ EN@@ D@@ ); if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.getParameters().get@@ Ch@@ ild@@ Image@@ Id@@ s()) == null@@ ) { org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.get@@ Parameters@@ ().set@@ Ch@@ ild@@ Image@@ Id@@ s(@@ java.util.Arrays.as@@ List@@ (@@ new org.ovirt.engine.core.compat.Guid@@ [@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.getParameters().get@@ Image@@ Id@@ s().@@ size@@ ()@@ ]@@ )); } org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.getParameters().get@@ Ch@@ ild@@ Image@@ Id@@ s@@ ().set@@ (c@@ omp@@ let@@ ed@@ Ch@@ ild@@ r@@ en@@ , parameters@@ .get@@ Dest@@ ination@@ Image@@ Id()); p@@ ers@@ ist@@ Command@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.getParameters().get@@ Parent@@ Command@@ (), true@@ ); org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ execute@@ Async@@ Command@@ (VdcActionType.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ L@@ ive@@ , parameters@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Disk@@ Snapshots@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); }
@@@ c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Proxy@@ Event public void on@@ Err@@ at@@ um@@ Sel@@ ection@@ Chang@@ e(@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ t@@ ab@@ .@@ Err@@ ata@@ Sel@@ ection@@ Change@@ Event event@@ ) { org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ t@@ ab@@ .@@ err@@ ata@@ .@@ Sub@@ Tab@@ Engine@@ Err@@ ata@@ Detail@@ s@@ Pres@@ enter.@@ log@@ g@@ er.@@ info@@ ((@@ (@@ this@@ .get@@ Class@@ ().@@ toString@@ ()) + " on@@ Err@@ at@@ um@@ Sel@@ ection@@ Change@@ ")); update@@ Main@@ Tab@@ Sel@@ ection@@ (@@ ev@@ ent.get@@ SelectedItem@@ s()); }
@java.lang.Override public void On@@ Success@@ (java.lang.Object model, java.lang.Object result) { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ Value = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ result@@ )); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ > result@@ List = ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ >) (@@ return@@ Value.get@@ ReturnValue@@ ())); if (@@ result@@ List.@@ contains(@@ Action@@ Group@@ .@@ RE@@ C@@ ON@@ N@@ EC@@ T_@@ TO@@ _@@ VM@@ )) { command@@ .@@ Execu@@ te@@ (); } else { dis@@ play@@ Console@@ Conn@@ ect@@ Confirm@@ Popup@@ (command@@ ); } }
@java.lang.Override protected boolean validate@@ () { if (!@@ (@@ super@@ .@@ validate@@ ())) { return false@@ ; } if ((get@@ Parameters().get@@ Cluster@@ Id()) == null@@ ) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ LUSTER_@@ I@@ S_NOT_@@ VALID@@ ); return false@@ ; } if (!@@ (get@@ Gluster@@ Util@@ ().is@@ Gluster@@ Snapshot@@ Supported@@ (get@@ VdsGroup@@ ().get@@ CompatibilityVersion@@ (), get@@ VdsGroup@@ ().get@@ Id@@ ()))) { fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ NOT_@@ SUP@@ PORT@@ ED); } if ((get@@ Parameters().get@@ Config@@ Param@@ s()) == null@@ ) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ C@@ ON@@ F@@ I@@ G@@ _P@@ AR@@ A@@ M@@ S_@@ I@@ S_@@ EM@@ P@@ TY@@ ); return false@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ Confi@@ g par@@ a@@ m : get@@ Parameters().get@@ Config@@ Param@@ s()) { if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ param@@ .get@@ Param@@ Value@@ ())) { add@@ Custom@@ Value("@@ snapshot@@ Config@@ Param@@ ", param@@ .get@@ Param@@ Name()); add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ C@@ ON@@ F@@ I@@ G@@ _P@@ AR@@ A@@ M@@ _@@ VAL@@ U@@ E_@@ I@@ S_@@ EM@@ P@@ TY@@ ); return false@@ ; } } return true@@ ; }
public static boolean can@@ Remove@@ Vm@@ Pool@@ (org.ovirt.engine.core.compat.Guid vm@@ Pool@@ Id, java.util.ArrayList<@@ java.lang.String> re@@ ason@@ s) { boolean return@@ Value = true@@ ; if ((@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Pool@@ Dao().get@@ Vm@@ Pool@@ s@@ Map@@ By@@ Vm@@ Pool@@ Id@@ (vm@@ Pool@@ Id@@ ).@@ size()) != 0) { return@@ Value = false@@ ; re@@ ason@@ s.add(@@ EngineMessage.@@ VM_@@ P@@ O@@ OL@@ _C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ VM_@@ P@@ O@@ OL@@ _@@ W@@ I@@ TH@@ _@@ VM@@ S@@ .@@ toString()); } return return@@ Value@@ ; }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ el@@ l.@@ Contex@@ t contex@@ t@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l data@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der s@@ b@@ ) { if (@@ dat@@ a != null@@ ) { s@@ b@@ .@@ append@@ Ht@@ ml@@ Constant@@ ("@@ <@@ bu@@ tt@@ on type@@ =@@ \"@@ bu@@ tton@@ \@@ " st@@ y@@ le@@ =@@ \"@@ h@@ e@@ ig@@ ht@@ :@@ 2@@ 4@@ p@@ x@@ ;@@ \@@ " t@@ ab@@ in@@ dex@@ =@@ \"@@ -@@ 1@@ \"@@ >@@ "); s@@ b@@ .@@ append@@ (@@ data@@ ); s@@ b@@ .@@ append@@ Ht@@ ml@@ Constant@@ ("@@ <@@ /@@ bu@@ tton@@ >@@ "); } }
@java.lang.Override public void run@@ () { org.ovirt.engine.core.bll.@@ Down@@ Vms@@ Handler.@@ pro@@ cess@@ Vm@@ Pool@@ On@@ St@@ op@@ Vm@@ (get@@ Vm().get@@ Id(), org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Handler.@@ create@@ Default@@ Contex@@ For@@ Task@@ s@@ (get@@ Execution@@ Context@@ ())); }
public void set@@ Change@@ Quota@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand value@@ ) { private@@ Change@@ Quota@@ C@@ ommand = value@@ ; }
private void on@@ Remove@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ Remove@@ Is@@ csi@@ Bond@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ Remove@@ Is@@ csi@@ Bond@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > param@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); for (java.lang.Object i@@ te@@ m : get@@ SelectedItem@@ s()) { param@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.action.@@ Remove@@ Is@@ csi@@ Bond@@ Parameters@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ Is@@ csi@@ Bond@@ ) (@@ item@@ )@@ ).get@@ Id(), get@@ Entity@@ ().get@@ Id@@ ())); } model.@@ st@@ art@@ Progress@@ (@@ null@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action(VdcActionType.@@ Remove@@ Is@@ csi@@ Bond@@ , param@@ s, new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ DataCenter@@ Is@@ csi@@ Bond@@ List@@ Model local@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ DataCenter@@ Is@@ csi@@ Bond@@ List@@ Model.get@@ Is@@ csi@@ Bond@@ ListModel@@ ) (@@ result.get@@ State@@ ())); local@@ Model.@@ st@@ op@@ Progress@@ (); cancel@@ (); } }, this@@ ); }
@org.junit.Test public void test@@ Run@@ Query@@ _@@ s@@ uc@@ cess@@ _@@ not@@ _@@ s@@ uc@@ ceeded@@ _@@ event@@ sh@@ andl@@ er@@ _@@ n@@ oc@@ all@@ back@@ handl@@ er@@ () { org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base test@@ Parameters = new org.ovirt.engine.core.common.queries.@@ Search@@ Parameters@@ ("@@ *@@ w@@ in@@ *@@ ", org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ Search@@ Type.@@ VM@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.@@ Search@@ , test@@ Parameters@@ , mock@@ Service@@ , mock@@ Async@@ Query@@ ); ve@@ r@@ if@@ y@@ (m@@ ock@@ Service@@ ).@@ Run@@ Query@@ (@@ e@@ q@@ (Vdc@@ Query@@ Type.@@ Search@@ ), e@@ q@@ (@@ test@@ Parameters@@ ), call@@ back@@ .@@ c@@ ap@@ t@@ ure@@ ()); org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue mock@@ ReturnValue = new org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ (); mock@@ Return@@ Valu@@ e.set@@ Exception@@ String("@@ US@@ ER_@@ I@@ S_NOT_@@ LO@@ G@@ ED_@@ IN@@ "); mock@@ Return@@ Valu@@ e.set@@ Succeeded@@ (@@ false@@ ); call@@ back@@ .get@@ Value@@ ().@@ onSuccess@@ (m@@ ock@@ ReturnValue@@ ); ve@@ r@@ if@@ y@@ (@@ f@@ rontend@@ Not@@ Log@@ ged@@ In@@ Event@@ ).@@ r@@ a@@ is@@ e(@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .@@ class@@ , EventArg@@ s.@@ Empty@@ ); }
@java.lang.Override public boolean get@@ Is@@ Available@@ () { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type storageDomain@@ Type = ((org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ ) (get@@ Detail@@ Model().get@@ Entity@@ ())@@ ).get@@ StorageDomain@@ Type@@ (); return (!(@@ storageDomain@@ Type.@@ equals(@@ StorageDomain@@ Type.@@ IS@@ O@@ ))) && (!(@@ storageDomain@@ Type.@@ equals(@@ StorageDomain@@ Type.@@ Import@@ Export@@ ))); }
private static void run@@ Action@@ Execution@@ Fail@@ ed(@@ org.ovirt.engine.core.common.action.VdcAction@@ Type action@@ Type, org.ovirt.engine.core.common.errors.@@ Vdc@@ F@@ a@@ ult fault@@ ) { org.ovirt.engine.ui.frontend.@@ Frontend@@ .get@@ Event@@ sHandler@@ ()) != null@@ ) { java.lang.String trans@@ l@@ ated@@ Mess@@ age = org.ovirt.engine.ui.frontend.@@ Frontend@@ .get@@ Vds@@ m@@ Error@@ s@@ Trans@@ l@@ ator@@ ().@@ Trans@@ l@@ ate@@ Error@@ Text@@ Sing@@ le@@ (((@@ fa@@ ult.get@@ Error@@ ()) == null ? fa@@ ult.get@@ Message@@ () : fa@@ ult.get@@ Error@@ ().@@ toString@@ ())); fa@@ ult.@@ set@@ Message@@ (@@ trans@@ l@@ ated@@ Message@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .get@@ Event@@ sHandler@@ ().@@ run@@ Action@@ Execution@@ Fail@@ ed(@@ action@@ Type, fault@@ ); } }
org.ovirt.engine.core.bll.@@ task@@ s@@ .@@ int@@ er@@ fac@@ es.@@ SP@@ M@@ T@@ as@@ k const@@ r@@ uc@@ t@@ (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Cre@@ ation@@ In@@ fo c@@ re@@ ation@@ Info@@ );
public java.util.List<java.lang.String> fin@@ d@@ Active@@ Vms@@ Us@@ ing@@ Network@@ s(@@ org.ovirt.engine.core.compat.Guid vds@@ Id, java.util.List<java.lang.String> network@@ s) { if (network@@ s.@@ isEmpty@@ ()) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > run@@ ning@@ Vm@@ s = get@@ Vm@@ DAO@@ ().get@@ All@@ Run@@ ning@@ For@@ Vds@@ (vds@@ Id); java.util.List<java.lang.String> vm@@ Name@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : run@@ ning@@ Vm@@ s) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > vm@@ Interface@@ s = get@@ VmNetwork@@ Interface@@ Dao().get@@ AllFor@@ Vm@@ (vm.get@@ Id()); for (org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface vm@@ N@@ ic : vm@@ Interfaces@@ ) { if ((@@ (org.ovirt.engine.core.bll.@@ common.@@ p@@ red@@ ic@@ at@@ es.@@ Network@@ Can@@ Be@@ Update@@ d@@ P@@ red@@ ic@@ at@@ e.get@@ Instance@@ ().@@ e@@ val@@ (vm@@ Nic@@ )) && ((@@ vm@@ Nic@@ .get@@ Network@@ Name@@ ()) != null@@ )) && (network@@ s.@@ contains(@@ vm@@ Nic@@ .get@@ Network@@ Name@@ ()))) { vm@@ Nam@@ es.@@ add@@ (vm.get@@ Name()); break@@ ; } } } return vm@@ Names@@ ; }
@org.junit.Test public void out@@ b@@ ound@@ A@@ ver@@ age@@ M@@ is@@ sing@@ () { q@@ o@@ s.set@@ Out@@ b@@ ound@@ P@@ e@@ a@@ k@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Qos@@ Validator@@ Test.@@ B@@ AN@@ D@@ W@@ ID@@ TH@@ _@@ M@@ ED@@ I@@ U@@ M@@ ); q@@ o@@ s.set@@ Out@@ b@@ ound@@ B@@ ur@@ st@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Qos@@ Validator@@ Test.@@ B@@ AN@@ D@@ W@@ ID@@ TH@@ _@@ M@@ ED@@ I@@ U@@ M@@ ); valu@@ es@@ Pres@@ ent@@ Test@@ (org.ovirt.engine.core.bll.@@ validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ NETWORK_@@ Q@@ O@@ S_@@ M@@ IS@@ S@@ ING@@ _@@ VAL@@ U@@ ES@@ )); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Att@@ ac@@ h Storage@@ ") java.lang.String dataCenter@@ Attach@@ Storage@@ Action@@ ();
@java.lang.Override protected org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base get@@ Add@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.@@ VM m@@ app@@ ed@@ , org.ovirt.engine.api.model.@@ Ap@@ pl@@ ic@@ ation c@@ d@@ rom@@ ) { return new org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Bas@@ e(@@ get@@ Up@@ dat@@ able(@@ m@@ app@@ ed@@ .get@@ StaticData@@ ().get@@ Iso@@ Path@@ ())); }
protected org.ovirt.engine.api.model.@@ Group map@@ Ad@@ Group@@ (org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group entity@@ ) { return get@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ L@@ dap@@ Group@@ .@@ class@@ , org.ovirt.engine.api.model.@@ Group@@ .@@ class@@ )@@ .m@@ ap@@ (@@ entity@@ , null@@ ); }
public org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er get@@ Main@@ Add@@ Parameter@@ (@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ M@@ eth@@ o@@ d m@@ ethod@@ ) { org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er m@@ ain@@ Paramet@@ er = m@@ ethod@@ .get@@ Parameters@@ ().@@ stream@@ ().@@ filter@@ (@@ ( x@@ ) -@@ > ((@@ x@@ .get@@ Type()) instanceof org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Str@@ uc@@ t@@ Type@@ ) || ((@@ x@@ .get@@ Type()) instanceof org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ List@@ Type@@ )).@@ fin@@ d@@ F@@ ir@@ st@@ ().@@ or@@ El@@ se@@ (@@ null@@ ); return m@@ ain@@ Parameter@@ ; }
@java.lang.Override public java.util.List<java.lang.String> al@@ loc@@ ate@@ Mac@@ Address@@ es@@ (@@ int num@@ ber@@ Of@@ Address@@ es@@ ) { org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ MacPool@@ Us@@ ing@@ R@@ ang@@ es.@@ log.debug@@ ("@@ Al@@ loc@@ at@@ ing {@@ } ma@@ c add@@ ress@@ es f@@ ro@@ m {}@@ .@@ ", num@@ ber@@ Of@@ Address@@ es@@ , this@@ ); java.util.List<@@ java.lang.@@ L@@ on@@ g@@ > m@@ ac@@ s = m@@ ac@@ s@@ Stor@@ age.@@ al@@ loc@@ ate@@ Available@@ Mac@@ s(@@ num@@ ber@@ Of@@ Address@@ es@@ ); java.util.List<java.lang.String> result = org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ m@@ ac@@ Address@@ es@@ To@@ String@@ s(@@ m@@ ac@@ s); org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ MacPool@@ Us@@ ing@@ R@@ ang@@ es.@@ log.debug@@ ("@@ Al@@ loc@@ ate@@ d ma@@ c add@@ ress@@ es@@ : {@@ } f@@ ro@@ m {}@@ .@@ ", java.util.Arrays.@@ toString@@ (@@ result.@@ to@@ Array@@ ()), this@@ ); java.util.Collections.@@ s@@ ort@@ (@@ result@@ ); log@@ W@@ h@@ en@@ MacPool@@ Is@@ Empty@@ (); return result@@ ; }
public void set@@ Con@@ f@@ l@@ ic@@ t@@ Type(@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Gluster@@ Hook@@ Con@@ f@@ l@@ ic@@ t@@ Type con@@ f@@ l@@ ic@@ t@@ Type@@ ) { this@@ .@@ con@@ f@@ l@@ ic@@ t@@ Type = con@@ f@@ l@@ ic@@ t@@ Type@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ R@@ et@@ ain@@ ") java.lang.String ret@@ ain@@ Brick@@ s@@ Button@@ ();
protected void run@@ Vm@@ () { set@@ Action@@ ReturnValue@@ (@@ VMStatus.@@ Down@@ ); if (get@@ Vds@@ To@@ Run@@ On@@ ()) { org.ovirt.engine.core.common.businessentities.@@ VM@@ Status stat@@ u@@ s = null@@ ; try { if (@@ conn@@ ect@@ Lun@@ Disks@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Vds@@ Id@@ ())) { stat@@ u@@ s = create@@ Vm@@ (); org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Handler.@@ set@@ Async@@ Job@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Execution@@ Context@@ (), true@@ ); } } catch (org.ovirt.engine.core.common.errors.@@ Vdc@@ B@@ L@@ L@@ Exception e) { switch (@@ e.get@@ Error@@ Code@@ ()) { case D@@ on@@ e : case ex@@ is@@ t : case VDS@@ _@@ NETWORK_@@ ER@@ RO@@ R : case P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ UR@@ E : run@@ ning@@ Fail@@ ed@@ (); throw e@@ ; default : org.ovirt.engine.core.bll.@@ RunVm@@ Command.@@ log.@@ w@@ ar@@ n@@ ("@@ Fail@@ ed to r@@ u@@ n VM '{}@@ '@@ : {}@@ ", org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ Name(), e.get@@ Message@@ ()); } } final@@ l@@ y { org.ovirt.engine.core.bll.@@ RunVm@@ Command.@@ f@@ ree@@ Lock@@ (); } set@@ Action@@ ReturnValue@@ (@@ status@@ ); if ((@@ stat@@ u@@ s != null@@ ) && ((@@ stat@@ u@@ s.@@ is@@ Run@@ ning@@ ()) || (@@ stat@@ u@@ s == (org.ovirt.engine.core.common.businessentities.@@ VMStatus.@@ Res@@ t@@ or@@ ing@@ State@@ )@@ ))) { org.ovirt.engine.core.bll.@@ RunVm@@ Command.set@@ Succeeded@@ (@@ true@@ ); } else { org.ovirt.engine.core.bll.@@ RunVm@@ Command.@@ log.info@@ ("@@ Tr@@ y@@ ing to r@@ er@@ u@@ n VM '{}@@ '@@ ", org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Name()); org.ovirt.engine.core.bll.@@ RunVm@@ Command.set@@ Command@@ Sh@@ oul@@ d@@ Be@@ Log@@ ged@@ (@@ false@@ ); org.ovirt.engine.core.bll.@@ RunVm@@ Command.set@@ Succeeded@@ (@@ true@@ ); r@@ er@@ un@@ (); } } else { run@@ ning@@ Fail@@ ed@@ (); } } }
@org.junit.Test public void network@@ Name@@ T@@ a@@ k@@ en@@ By@@ S@@ ame@@ Network@@ () throw@@ s java.lang.Exception { network@@ Name@@ Available@@ Test@@ (@@ ValidationRes@@ ult.@@ VALID@@ , get@@ Sing@@ leton@@ Nam@@ ed@@ Network@@ List(@@ DE@@ FA@@ U@@ L@@ T_@@ G@@ UID@@ )); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Fence@@ Status@@ ReturnForXmlR@@ p@@ c f@@ ence@@ Node@@ (java.lang.String ip@@ , java.lang.String port@@ , java.lang.String type@@ , java.lang.String user@@ , java.lang.String p@@ assword@@ , java.lang.String action@@ , java.lang.String s@@ ec@@ ur@@ ed@@ , java.lang.String o@@ ption@@ s, java.util.Map<java.lang.String, java.lang.Object> f@@ enc@@ ing@@ Policy@@ ) { try { java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ ReturnValue = vds@@ Ser@@ ver.@@ f@@ ence@@ Node@@ (@@ ip@@ , port@@ , type@@ , user@@ , p@@ assword@@ , action@@ , s@@ ec@@ ur@@ ed@@ , o@@ ption@@ s, f@@ enc@@ ing@@ Policy@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Fence@@ Status@@ ReturnForXmlR@@ p@@ c wr@@ app@@ er = new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Fence@@ Status@@ ReturnForXmlR@@ pc@@ (@@ x@@ mlR@@ pc@@ ReturnValue@@ ); return w@@ rap@@ per@@ ; } catch (java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Un@@ de@@ cl@@ ared@@ Th@@ row@@ able@@ Exception u@@ te@@ ) { throw new org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Run@@ Time@@ Exception@@ (@@ u@@ te@@ ); } }
@java.lang.Override protected java.lang.Object provi@@ de@@ Detail@@ Model@@ Entity@@ (java.lang.Object selected@@ Item@@ ) { return selected@@ Item@@ ; }
protected boolean is@@ Cinder@@ Storage@@ H@@ as@@ No@@ Disks@@ () { if ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ StorageDomain@@ CommandBase.get@@ StorageDomain@@ ().get@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ StorageType.@@ C@@ IN@@ D@@ ER@@ )) { return validate@@ (org.ovirt.engine.core.bll.storage.@@ C@@ IN@@ D@@ ER@@ Storage@@ Helper.@@ is@@ Cinder@@ H@@ as@@ No@@ Images@@ (get@@ StorageDomain@@ Id@@ ())); } return true@@ ; }
@java.lang.Override protected org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator get@@ Snapshot@@ Validator@@ () { return new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshots@@ Validator@@ () { @java.lang.Override public org.ovirt.engine.core.bll.ValidationResult vm@@ Not@@ In@@ Pre@@ view@@ (org.ovirt.engine.core.compat.Guid vm@@ Id) { if (vm@@ In@@ Pre@@ view@@ ) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ IN_@@ P@@ RE@@ V@@ I@@ E@@ W@@ ); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } }; }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { vm@@ List@@ Retur@@ n = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ List@@ VDS@@ Command.get@@ Broker@@ ().@@ list@@ (); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ List@@ VDS@@ Command.@@ pro@@ ce@@ ed@@ Proxy@@ ReturnValue@@ (); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vds@@ m@@ Vm@@ > return@@ VM@@ s = new java.util.HashMap<@@ >(); for (@@ int id@@ x = 0@@ ; id@@ x < (vm@@ List@@ Return@@ .@@ vm@@ List.@@ l@@ ength@@ ); +@@ +@@ id@@ x@@ ) { java.util.Map<java.lang.String, java.lang.Object> vm = vm@@ List@@ Return@@ .@@ vm@@ List@@ [@@ id@@ x@@ ]@@ ; org.ovirt.engine.core.compat.Guid vm@@ Id = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ List@@ VDS@@ Command.getVm@@ Id@@ (vm@@ ); org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vds@@ m@@ V@@ m vds@@ m@@ V@@ m = new org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vds@@ m@@ Vm@@ (vm@@ Id, org.ovirt.engine.core.vdsbroker.vdsbroker.@@ List@@ VDS@@ Command.get@@ Vds@@ m@@ Call@@ Tim@@ est@@ am@@ p@@ (vm@@ )@@ .set@@ Vm@@ Dynamic@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ List@@ VDS@@ Command.@@ build@@ VM@@ Dynamic@@ Data@@ From@@ List@@ (vm@@ )@@ .set@@ Devices@@ Hash@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ List@@ VDS@@ Command.getVm@@ Devices@@ Hash@@ (vm@@ )); return@@ VM@@ s.@@ put@@ (vm@@ Id, vds@@ m@@ Vm@@ ); } set@@ ReturnValue@@ (@@ return@@ VM@@ s); }
private boolean validate@@ P@@ c@@ i@@ And@@ I@@ de@@ L@@ im@@ it@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s@@ Disk@@ Plug@@ ged@@ To@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s@@ Disk@@ Plug@@ ged@@ To@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > all@@ Vm@@ Interface@@ s = org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.getVm@@ Nic@@ Dao().get@@ AllFor@@ Vm@@ (vm.get@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Disk@@ > all@@ Vm@@ Disk@@ s = new java.util.@@ Link@@ ed@@ List<@@ org.ovirt.engine.core.common.businessentities.@@ Disk@@ >@@ (get@@ O@@ th@@ er@@ Vm@@ Disk@@ s(@@ vm.get@@ Id@@ ())); all@@ Vm@@ Disk@@ s.@@ add@@ (get@@ New@@ Disk@@ ()); if (!(@@ check@@ P@@ c@@ i@@ And@@ I@@ de@@ L@@ im@@ it@@ (vm.get@@ Num@@ Of@@ Monitor@@ s@@ (), all@@ Vm@@ Interfaces@@ , all@@ Vm@@ Disk@@ s, org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ is@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ er@@ Attached@@ (vm@@ .getId@@ ()), org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ is@@ W@@ at@@ ch@@ do@@ g@@ Set@@ ted@@ (vm@@ .getId@@ ()), org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ()))) { return false@@ ; } } return true@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ E@@ n@@ for@@ c@@ ing@@ ") java.lang.String e@@ n@@ for@@ ce@@ Af@@ finity@@ Group@@ ();
private boolean is@@ Vm@@ Interfaces@@ Attached@@ To@@ Cluster@@ Network@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network@@ > cluster@@ Network@@ s, java.util.@@ Set<@@ java.lang.String> int@@ er@@ fac@@ e@@ Network@@ Names@@ ) { java.util.List<java.lang.String> n@@ on@@ Existing@@ Network@@ Name@@ s = org.ovirt.engine.core.utils.@@ Network@@ Util@@ s.get@@ Non@@ Existing@@ Network@@ Names@@ (cluster@@ Network@@ s, int@@ er@@ fac@@ e@@ Network@@ Names@@ ); if ((@@ n@@ on@@ Existing@@ Network@@ Nam@@ es.@@ size()) > 0) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ NETWORK_@@ NOT_@@ IN@@ _C@@ LUST@@ ER@@ ); org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ network@@ s %@@ 1@@ $@@ s", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ n@@ on@@ Existing@@ Network@@ Names@@ , "@@ ,@@ "@@ ))); return false@@ ; } return true@@ ; }
private java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ VnicProfile@@ Mapping@@ > get@@ VnicProfile@@ Mapping@@ s(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { return new org.ovirt.engine.api.restapi.@@ types.@@ External@@ VnicProfile@@ Mapping@@ Map@@ per@@ ().@@ map@@ From@@ Model@@ (@@ action@@ .get@@ VnicProfile@@ Mapping@@ s()); }
public void update@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { if (@@ vm == null@@ ) { return@@ ; } de@@ fin@@ ed@@ Memory@@ .set@@ Value@@ ((@@ (vm.get@@ Vm@@ Mem@@ Size@@ M@@ b@@ ()) + (@@ const@@ an@@ t@@ s.@@ m@@ b@@ ()))); min@@ Al@@ loc@@ ated@@ Memory@@ .set@@ Value@@ ((@@ (vm.get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ()) + (@@ const@@ an@@ t@@ s.@@ m@@ b@@ ()))); cpu@@ Info@@ .set@@ Value@@ (m@@ ess@@ ages.@@ cpu@@ Info@@ Label@@ (vm.get@@ Num@@ Of@@ C@@ p@@ us@@ (), vm.get@@ Num@@ Of@@ S@@ ock@@ et@@ s@@ (), vm.get@@ Cpu@@ Per@@ S@@ ock@@ et@@ ())); }
@java.lang.Override public void on@@ Do@@ ubl@@ e@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Do@@ ubl@@ e@@ Cl@@ ick@@ Event event@@ ) { try { model.get@@ Vm@@ Cons@@ ol@@ es@@ ().@@ conn@@ ect@@ (); } catch (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Vm@@ Console@@ s e) { get@@ View@@ ().@@ sh@@ ow@@ Error@@ D@@ ial@@ og@@ (@@ e.get@@ Local@@ iz@@ ed@@ Error@@ Message@@ ()); } }
public static void update@@ Network@@ Data@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ Str@@ uc@@ t@@ ) { vd@@ s.set@@ Active@@ Nic@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ As@@ s@@ ign@@ String@@ Value(@@ x@@ mlR@@ pc@@ Str@@ uc@@ t@@ , VdsProperties.@@ NETWORK_@@ L@@ A@@ ST@@ _C@@ L@@ I@@ EN@@ T_@@ IN@@ TER@@ F@@ AC@@ E@@ )); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > old@@ Interface@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Interface@@ Dao().get@@ All@@ Interfaces@@ For@@ Vds@@ (@@ vds.get@@ Id()); vds.get@@ Interfaces@@ ().@@ cl@@ e@@ ar@@ (); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ add@@ Host@@ Network@@ Interfac@@ es(@@ vds@@ , x@@ mlR@@ pc@@ Str@@ uc@@ t@@ ); java.util.Map<java.lang.String, java.lang.Integer@@ > c@@ urr@@ V@@ lan@@ s = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ add@@ Host@@ V@@ lan@@ Devic@@ es(@@ vds@@ , x@@ mlR@@ pc@@ Str@@ uc@@ t@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ add@@ Host@@ Bond@@ Devic@@ es(@@ vds@@ , x@@ mlR@@ pc@@ Str@@ uc@@ t@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ add@@ Host@@ Networks@@ And@@ Update@@ Interfac@@ es(@@ vds@@ , x@@ mlR@@ pc@@ Str@@ uc@@ t@@ , c@@ urr@@ V@@ lan@@ s); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ set@@ Bond@@ ing@@ Option@@ s(@@ vds@@ , old@@ Interfaces@@ ); if (@@ x@@ mlR@@ pc@@ Str@@ uc@@ t.@@ contains@@ Key@@ (@@ VdsProperties.@@ net@@ Config@@ D@@ ir@@ ty@@ )) { vd@@ s.set@@ N@@ et@@ Config@@ D@@ ir@@ ty@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ As@@ s@@ ign@@ B@@ ool@@ Value(@@ x@@ mlR@@ pc@@ Str@@ uc@@ t@@ , VdsProperties.@@ net@@ Config@@ D@@ ir@@ ty@@ )); } }
@java.lang.Override protected void execute@@ Command() { try { get@@ Storage@@ Device@@ Sync@@ Job@@ Instance@@ ().@@ re@@ fresh@@ Storage@@ Devices@@ From@@ Server@@ (org.ovirt.engine.core.bll.@@ gluster.@@ Sync@@ Storage@@ Devices@@ Command.get@@ Vds@@ ()); org.ovirt.engine.core.bll.@@ gluster.@@ Sync@@ Storage@@ Devices@@ Command.set@@ Succeeded@@ (@@ true@@ ); } catch (@@ java.lang.Exception exp@@ ) { org.ovirt.engine.core.bll.@@ gluster.@@ Sync@@ Storage@@ Devices@@ Command.set@@ Succeeded@@ (@@ false@@ ); } }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ ?@@ :@@ c@@ opy@@ |@@ ex@@ port@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Ser@@ ve@@ r get@@ Action@@ Resource@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return new org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Server@@ (get@@ Del@@ e@@ g@@ ate@@ ().get@@ Action@@ Resource@@ (@@ action@@ , o@@ id@@ )); }
@java.lang.Override public void on@@ Log@@ out@@ () { org.ovirt.engine.ui.frontend.AsyncQuery quer@@ y = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); query@@ .set@@ H@@ andle@@ Fail@@ ure@@ (@@ true@@ ); query@@ .set@@ Model@@ (@@ this@@ ); query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object ReturnValue@@ ) { if (@@ client@@ Agent@@ Type.@@ is@@ I@@ E@@ 8@@ Or@@ B@@ el@@ ow@@ ()) { W@@ in@@ do@@ w@@ .@@ Loc@@ ation.@@ re@@ load@@ (); } org.ovirt.engine.ui.frontend.@@ Frontend@@ .set@@ Log@@ ged@@ In@@ User@@ (@@ null@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .set@@ Lo@@ gin@@ Password@@ (@@ null@@ ); get@@ Lo@@ gin@@ Model@@ ().@@ res@@ et@@ Af@@ ter@@ Log@@ out@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ cl@@ e@@ ar@@ C@@ ach@@ e@@ (); conn@@ ect@@ Au@@ t@@ om@@ ati@@ call@@ y@@ Manager.@@ res@@ et@@ Al@@ read@@ y@@ Op@@ en@@ ed@@ (); org.ovirt.engine.ui.@@ user@@ port@@ al.@@ s@@ ystem@@ .@@ Ap@@ plication@@ Init@@ .@@ super@@ .@@ on@@ Log@@ out@@ (); } }; org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Log@@ o@@ ff@@ Async@@ (@@ org.ovirt.engine.ui.frontend.@@ Frontend@@ .get@@ Log@@ ged@@ In@@ User@@ (), query@@ ); }
public void set@@ Run@@ time@@ Custom@@ Properties@@ (@@ java.util.Map<java.lang.String, java.lang.String> run@@ time@@ Custom@@ Properties@@ ) { this@@ .@@ run@@ time@@ Custom@@ Proper@@ ti@@ es = run@@ time@@ Custom@@ Properties@@ ; }
private static void add@@ Network@@ Interface@@ Properties@@ (@@ org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Str@@ uc@@ t struc@@ t@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Network@@ Interface vm@@ Interface@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device vm@@ Device@@ , java.lang.String nic@@ Model@@ , org.ovirt.engine.core.compat.@@ Version cluster@@ Version@@ ) { struc@@ t.@@ add(@@ VdsProperties.@@ Type, vm@@ Devic@@ e.get@@ Type@@ ()); struc@@ t.@@ add(@@ VdsProperties.@@ Device@@ , vm@@ Devic@@ e.get@@ Device@@ ()); if ((@@ vm@@ Interfac@@ e.get@@ Network@@ Name@@ ()) != null@@ ) { struc@@ t.@@ add(@@ VdsProperties.@@ network@@ , vm@@ Interfac@@ e.get@@ Network@@ Name()); } struc@@ t.@@ add(@@ VdsProperties.@@ lin@@ k@@ State@@ , (vm@@ Interfac@@ e.@@ is@@ Link@@ ed@@ () ? "@@ up@@ " : "@@ do@@ wn@@ ")); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Buil@@ der.@@ add@@ Address@@ (vm@@ Device@@ , struc@@ t@@ ); struc@@ t.@@ add(@@ VdsProperties.@@ m@@ ac@@ _@@ add@@ r@@ , vm@@ Interfac@@ e.get@@ Mac@@ Address@@ ()); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Buil@@ der.@@ add@@ Boot@@ Or@@ der@@ (vm@@ Device@@ , struc@@ t@@ ); struc@@ t.@@ add(@@ VdsProperties.@@ Sp@@ ec@@ Param@@ s, vm@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s()); struc@@ t.@@ add(@@ VdsProperties.@@ Device@@ Id, java.lang.String.@@ value@@ Of@@ (vm@@ Devic@@ e.get@@ Id@@ ().get@@ Device@@ Id@@ ())); struc@@ t.@@ add(@@ VdsProperties.@@ nic@@ _@@ type@@ , nic@@ Model@@ ); if (vm@@ Interfac@@ e.@@ is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ()) { java.util.List<java.lang.String> network@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); network@@ s.@@ add@@ (vm@@ Interfac@@ e.get@@ Network@@ Name()); struc@@ t.@@ add(@@ VdsProperties.@@ port@@ M@@ i@@ rr@@ or@@ ing@@ , network@@ s); } org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Buil@@ der.@@ add@@ Network@@ Fil@@ t@@ ers@@ To@@ Nic@@ (@@ struc@@ t@@ , cluster@@ Version@@ ); }
private java.util.ArrayList<@@ java.lang.String> get@@ Lun@@ Id@@ s(@@ org.ovirt.engine.api.model.@@ Stor@@ age storage@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Type storage@@ Type, org.ovirt.engine.core.compat.Guid host@@ Id) { java.util.List<@@ org.ovirt.engine.api.model.@@ Log@@ ical@@ Unit@@ > log@@ ical@@ Unit@@ s = new java.util.ArrayList<@@ org.ovirt.engine.api.model.@@ Log@@ ical@@ Unit@@ >(); if (@@ storage.@@ isSet@@ Log@@ ical@@ Unit@@ s()) { log@@ ical@@ Unit@@ s = storage.@@ get@@ Log@@ ical@@ Unit@@ s(); } else if (((@@ storage.@@ isSet@@ Volume@@ Group@@ ()) && (@@ storage.@@ get@@ Volume@@ Group@@ ().is@@ Set@@ Log@@ ical@@ Unit@@ s@@ ())) && (@@ storage.@@ get@@ Volume@@ Group@@ ().get@@ Log@@ ical@@ Unit@@ s().@@ isSet@@ Log@@ ical@@ Unit@@ s@@ ())) { log@@ ical@@ Unit@@ s = storage.@@ get@@ Volume@@ Group@@ ().get@@ Log@@ ical@@ Unit@@ s().get@@ Log@@ ical@@ Unit@@ s(); } java.util.ArrayList<@@ java.lang.String> lun@@ Id@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); for (org.ovirt.engine.api.model.@@ Log@@ ical@@ Un@@ i@@ t un@@ i@@ t : log@@ ical@@ Unit@@ s) { validate@@ Parameters(@@ un@@ it@@ , 4@@ , "@@ id@@ "); if ((@@ storage@@ Type == (org.ovirt.engine.core.common.businessentities.storage.@@ StorageType.@@ IS@@ C@@ SI@@ )) && (!(@@ is@@ Connection@@ As@@ s@@ um@@ ed(@@ un@@ it@@ )@@ ))) { conn@@ ect@@ Storage@@ To@@ Host@@ (@@ host@@ Id, storage@@ Type, un@@ it@@ ); } lun@@ Id@@ s.add(@@ unit.@@ get@@ Id()); } re@@ fresh@@ Host@@ Storage@@ (@@ host@@ Id); return !@@ (@@ lun@@ Id@@ s.@@ isEmpty@@ ()) ? lun@@ Id@@ s : null@@ ; }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ In@@ st@@ all@@ Model model@@ ) { d@@ ri@@ ver.@@ edit@@ (model@@ ); r@@ b@@ Password@@ .set@@ Value@@ (@@ true@@ ); dis@@ play@@ P@@ ass@@ P@@ k@@ W@@ in@@ do@@ w@@ (@@ true@@ ); model.set@@ Auth@@ entic@@ ation@@ Method@@ (@@ Auth@@ entic@@ ation@@ Method@@ .@@ Password@@ ); r@@ b@@ Password@@ .@@ add@@ Value@@ Change@@ Handler@@ (@@ new com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Handler@@ <@@ java.lang.Boolean@@ >() { @java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { model.set@@ Auth@@ entic@@ ation@@ Method@@ (@@ Auth@@ entic@@ ation@@ Method@@ .@@ Password@@ ); dis@@ play@@ P@@ ass@@ P@@ k@@ W@@ in@@ do@@ w@@ (@@ true@@ ); } }); r@@ b@@ P@@ ubl@@ ic@@ Key@@ .@@ add@@ Value@@ Change@@ Handler@@ (@@ new com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Handler@@ <@@ java.lang.Boolean@@ >() { @java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { model.set@@ Auth@@ entic@@ ation@@ Method@@ (@@ Auth@@ entic@@ ation@@ Method@@ .@@ P@@ ubl@@ ic@@ Key@@ ); dis@@ play@@ P@@ ass@@ P@@ k@@ W@@ in@@ do@@ w@@ (@@ false@@ ); } }); user@@ Name@@ Editor@@ .set@@ Enabled@@ (@@ false@@ ); }
protected java.lang.String get@@ Json@@ Disk@@ Description@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Disk disk@@ ) { try { return org.ovirt.engine.core.bll.@@ M@@ et@@ ad@@ ata@@ Disk@@ Description@@ Handler.@@ gener@@ ate@@ Json@@ Disk@@ Description@@ (disk@@ ); } catch (@@ java.io.@@ I@@ O@@ Exception e) { log.error("@@ Exception while gener@@ at@@ ing j@@ s@@ on for disk@@ . ER@@ R@@ OR@@ : '{}@@ '@@ ", e); return org.apache.commons.lang.StringUtils.@@ EM@@ P@@ TY@@ ; } }
@java.lang.Override protected org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Popup@@ Widget@@ Config@@ Map create@@ Widget@@ Configuration@@ () { return super@@ .@@ create@@ Widget@@ Configuration@@ ().@@ update@@ (@@ h@@ ig@@ h@@ Avail@@ ab@@ ility@@ Tab@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ update@@ (s@@ p@@ ice@@ Proxy@@ Editor@@ , s@@ im@@ ple@@ Fiel@@ d@@ ().@@ vi@@ si@@ bl@@ e@@ In@@ Ad@@ v@@ ance@@ d@@ M@@ ode@@ Only@@ ()).@@ update@@ (s@@ p@@ ice@@ Proxy@@ Enabled@@ Check@@ bo@@ x@@ With@@ Info@@ I@@ con@@ , s@@ im@@ ple@@ Fiel@@ d@@ ().@@ vi@@ si@@ bl@@ e@@ In@@ Ad@@ v@@ ance@@ d@@ M@@ ode@@ Only@@ ()).@@ update@@ (s@@ p@@ ice@@ Proxy@@ O@@ ver@@ ri@@ de@@ Enabled@@ Editor@@ , s@@ im@@ ple@@ Fiel@@ d@@ ().@@ vi@@ si@@ bl@@ e@@ In@@ Ad@@ v@@ ance@@ d@@ M@@ ode@@ Only@@ ()).@@ put@@ O@@ ne@@ (is@@ State@@ l@@ ess@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (is@@ Run@@ And@@ Pa@@ us@@ e@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ edit@@ Pool@@ Edit@@ Vms@@ Panel@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ edit@@ Pool@@ In@@ c@@ r@@ ase@@ Num@@ Of@@ Vms@@ Panel@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ log@@ ical@@ Networks@@ Editor@@ Panel@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ edit@@ Pool@@ Edit@@ Max@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Per@@ User@@ Panel@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ d@@ et@@ ach@@ able@@ Mem@@ Size@@ Editor@@ , s@@ im@@ ple@@ Fiel@@ d@@ et@@ ach@@ able@@ ().@@ vi@@ si@@ bl@@ e@@ In@@ Ad@@ v@@ ance@@ d@@ M@@ ode@@ Only@@ ()); }
public org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.String> get@@ G@@ ate@@ w@@ ay@@ () { return private@@ G@@ ate@@ w@@ ay@@ ; }
private void init@@ C@@ lust@@ ers@@ (@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > c@@ lust@@ ers@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model@@ ) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > filter@@ ed@@ List = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ >(); org.ovirt.engine.core.common.businessentities.Storage@@ Pool selected@@ Data@@ C@@ en@@ te@@ r = ((org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ ) (get@@ Model().get@@ DataCenter@@ ().getSelectedItem@@ ())); boolean list@@ Contain@@ s@@ Vm@@ C@@ luster = false@@ ; for (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster : c@@ lust@@ ers@@ ) { if ((@@ (cluster@@ .get@@ StoragePool@@ Id()) != null@@ ) && (s@@ elected@@ DataCenter@@ .getId@@ ().@@ equals@@ (cluster@@ .get@@ StoragePool@@ Id@@ ()))) { filter@@ ed@@ List.@@ add@@ (cluster@@ ); if (vm.get@@ VdsGroup@@ Id().@@ equals@@ (cluster@@ .getId@@ ())) { list@@ Contain@@ s@@ Vm@@ C@@ luster = true@@ ; } } if (!@@ list@@ Contain@@ s@@ Vm@@ Cluster@@ ) { add@@ Vm@@ Cluster@@ (@@ filter@@ ed@@ List@@ ); } else { java.util.Collections.@@ s@@ ort@@ (@@ filter@@ ed@@ List@@ , new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ VdsGroup@@ By@@ Name@@ Comp@@ ar@@ er@@ ()); model.set@@ C@@ lust@@ ers@@ (@@ model, filter@@ ed@@ List@@ , vm.get@@ VdsGroup@@ Id()); } }
@java.lang.Override public java.lang.String toString@@ () { java.lang.String@@ Buil@@ der buil@@ der = new java.lang.String@@ Builder@@ (); buil@@ der.@@ append@@ (get@@ Name@@ ()).@@ append@@ (@@ " {@@ id@@ =@@ ").@@ append@@ (get@@ Id@@ ()).@@ append("@@ , vds@@ Id@@ =@@ ").@@ append@@ (get@@ Vds@@ Id@@ ()).@@ append("@@ , m@@ ac@@ Address@@ =@@ ").@@ append@@ (get@@ Mac@@ Address@@ ()).@@ append("@@ , network@@ Name@@ =@@ ").@@ append@@ (get@@ Network@@ Name@@ ()).@@ append("@@ , v@@ lan@@ Id@@ =@@ ").@@ append@@ (get@@ V@@ lan@@ Id@@ ()).@@ append("@@ , b@@ on@@ ded@@ =@@ ").@@ append@@ (get@@ Bon@@ ded@@ ()).@@ append("@@ , bond@@ Name@@ =@@ ").@@ append@@ (get@@ Bond@@ Name@@ ()).@@ append("@@ , bond@@ Option@@ s@@ =@@ ").@@ append@@ (get@@ Bond@@ Option@@ s@@ ()).@@ append("@@ , b@@ oot@@ Protocol@@ =@@ ").@@ append@@ (get@@ Boot@@ Protocol@@ ()).@@ append("@@ , add@@ ress@@ =@@ ").@@ append@@ (get@@ Address@@ ()).@@ append("@@ , sub@@ net@@ =@@ ").@@ append@@ (get@@ Sub@@ net@@ ()).@@ append("@@ , g@@ ate@@ w@@ ay@@ =@@ ").@@ append@@ (get@@ G@@ ate@@ w@@ ay@@ ()).@@ append("@@ , m@@ tu@@ =@@ ").@@ append@@ (get@@ M@@ tu@@ ()).@@ append("@@ , b@@ rid@@ ged@@ =@@ ").@@ append@@ (is@@ B@@ rid@@ ged@@ ()).@@ append("@@ , sp@@ e@@ ed@@ =@@ ").@@ append@@ (get@@ Sp@@ e@@ ed@@ ()).@@ append("@@ , type@@ =@@ ").@@ append@@ (get@@ Type@@ ()).@@ append("@@ , network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s@@ =@@ ").@@ append@@ (get@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s@@ ()).@@ append("@@ , label@@ s@@ =@@ ").@@ append@@ (@@ label@@ s@@ ).@@ append("@@ }@@ "); return buil@@ der.@@ toString@@ (); }
@@@ org.ovirt.engine.ui.common.@@ DefaultStringValue("@@ &@@ n@@ b@@ sp@@ ac@@ e to d@@ et@@ ail@@ s@@ ") java.lang.String ht@@ ml@@ Sp@@ ace@@ ();
private void validate@@ Domain@@ Mapping@@ s(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if ((@@ action@@ .get@@ Re@@ gist@@ r@@ ation@@ Configuration@@ ().is@@ Set@@ Domain@@ Mapping@@ s()) && (@@ action@@ .get@@ Re@@ gist@@ r@@ ation@@ Configuration@@ ().get@@ Domain@@ Mapping@@ s().@@ isSet@@ Re@@ gist@@ r@@ ation@@ Domain@@ Mapping@@ s@@ ())) { action@@ .get@@ Re@@ gist@@ r@@ ation@@ Configuration@@ ().get@@ Domain@@ Mapping@@ s().get@@ Re@@ gist@@ r@@ ation@@ Domain@@ Mapping@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ :@@ validate@@ Domain@@ Mapping@@ ); } }
private void update@@ Is@@ L@@ ive@@ M@@ er@@ ge@@ Supported@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { if (@@ vm == null@@ ) { return@@ ; } if ((@@ (vm.get@@ Run@@ On@@ Vds@@ ()) == null@@ ) || (!(@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance@@ ().is@@ L@@ ive@@ M@@ er@@ ge@@ Supported@@ (vm@@ )@@ ))) { set@@ L@@ ive@@ M@@ er@@ ge@@ Supported@@ (@@ false@@ ); return@@ ; } org.ovirt.engine.ui.frontend.AsyncQuery quer@@ y = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Snapshot@@ List@@ Model vm@@ Snapshot@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Snapshot@@ ListModel@@ ) (model@@ )); org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = ((org.ovirt.engine.core.common.businessentities.@@ VDS@@ ) (@@ return@@ Value@@ )); vm@@ Snapshot@@ List@@ Model.set@@ L@@ ive@@ M@@ er@@ ge@@ Supported@@ (@@ vds.get@@ L@@ ive@@ M@@ er@@ ge@@ Sup@@ port@@ ()); } }); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Host@@ By@@ Id(@@ query@@ , vm.get@@ Run@@ On@@ Vds@@ ()); }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { default@@ Type = org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Default@@ Nic@@ Type@@ (((@@ java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Interface@@ Type@@ >) (@@ return@@ Value@@ ))); sup@@ ported@@ Interface@@ Type@@ s = ((@@ java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Interface@@ Type@@ >) (@@ return@@ Value@@ )); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Vm@@ Nic@@ List@@ (get@@ Nic@@ s@@ Query@@ , vm@@ Id); }
private void p@@ op@@ ul@@ ate@@ (@@ java.util.Map<java.lang.String, java.lang.Boolean@@ > b@@ on@@ ds@@ With@@ Status@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > cluster@@ Network@@ s, java.util.List<java.lang.String> network@@ s, java.util.Map<java.lang.String, java.util.List<@@ java.lang.String@@ >> b@@ on@@ ds@@ With@@ List@@ Of@@ Nic@@ s, org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface if@@ ac@@ e) { org.ovirt.engine.core.utils.@@ Pair@@ <@@ java.lang.Boolean@@ , java.lang.String> ret@@ V@@ al = is@@ Requi@@ red@@ Network@@ In@@ Cluster@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name(), cluster@@ Networks@@ ); java.lang.String network@@ Name = ret@@ Val@@ .get@@ Sec@@ ond@@ (); if (r@@ et@@ Val@@ .get@@ F@@ ir@@ st@@ ()) { if (!(@@ b@@ on@@ ds@@ With@@ Status.@@ contains@@ Key@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name@@ ()))) { b@@ on@@ ds@@ With@@ Status.@@ put@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name(), false@@ ); } b@@ on@@ ds@@ With@@ Status.@@ put@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name(), ((@@ b@@ on@@ ds@@ With@@ Status@@ .get@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name@@ ())) || (@@ if@@ ac@@ e.get@@ Statistic@@ s().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ Interface@@ Status.@@ Up@@ )@@ ))); if ((!@@ (network@@ s.@@ contains(@@ network@@ Name@@ ))) && (!(@@ b@@ on@@ ds@@ With@@ Status.@@ contains@@ Key@@ (@@ if@@ ac@@ e.get@@ Name@@ ())@@ ))) { network@@ s.add(@@ network@@ Name); } else if (((@@ network@@ s.@@ contains(@@ network@@ Name@@ )) && (@@ b@@ on@@ ds@@ With@@ Status.@@ contains@@ Key@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name@@ ()))) && (@@ b@@ on@@ ds@@ With@@ Status@@ .get@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name@@ ()))) { network@@ s.@@ remove@@ (network@@ Name); } if (!(@@ b@@ on@@ ds@@ With@@ List@@ Of@@ Nic@@ s.@@ contains@@ Key@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name@@ ()))) { b@@ on@@ ds@@ With@@ List@@ Of@@ Nic@@ s.@@ put@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name(), new java.util.ArrayList<@@ java.lang.String@@ >@@ ()); } b@@ on@@ ds@@ With@@ List@@ Of@@ Nic@@ s.get@@ (@@ if@@ ac@@ e.get@@ Bond@@ Name@@ ()).@@ add@@ (@@ if@@ ac@@ e.get@@ Name()); } }
@java.lang.Override protected org.ovirt.engine.api.model.@@ VM do@@ P@@ op@@ ul@@ ate@@ (org.ovirt.engine.api.model.@@ VM model, org.ovirt.engine.core.common.businessentities.VM entity@@ ) { set@@ P@@ ay@@ load@@ (model@@ ); set@@ Bal@@ loon@@ ing@@ (model@@ ); set@@ Console@@ Device@@ (model@@ ); set@@ Vir@@ ti@@ oS@@ csi@@ Cont@@ ro@@ ll@@ er@@ (model@@ ); set@@ C@@ er@@ t@@ if@@ icate@@ Info@@ (model@@ ); set@@ Vm@@ Ovf@@ Configuration@@ (model@@ ); return model@@ ; }
@java.lang.Override public void p@@ er@@ for@@ m@@ () { if (@@ (@@ this@@ .m@@ an@@ ag@@ er.@@ is@@ Monitor@@ ing@@ N@@ e@@ e@@ ded@@ ()) && (get@@ Re@@ fresh@@ Statistic@@ s@@ ())) { org.ovirt.engine.core.vdsbroker.@@ Vms@@ List@@ F@@ et@@ ch@@ er f@@ et@@ ch@@ er = new org.ovirt.engine.core.vdsbroker.@@ Vms@@ Statistic@@ s@@ F@@ et@@ ch@@ er@@ (@@ this@@ .m@@ an@@ ag@@ er@@ ); f@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ (); new org.ovirt.engine.core.vdsbroker.@@ Vms@@ Monitor@@ ing@@ (@@ this@@ .m@@ an@@ ag@@ er@@ , f@@ et@@ ch@@ er@@ .get@@ Changed@@ Vms@@ (), f@@ et@@ ch@@ er@@ .get@@ Vms@@ With@@ Changed@@ Devices@@ ()).@@ p@@ er@@ for@@ m@@ (); } }
@org.junit.Test public void test@@ Update@@ M@@ ov@@ ing@@ Cluster@@ () throw@@ s java.lang.Exception { setUp@@ Get@@ Entity@@ Expectations(@@ 3@@ ); setUp@@ Entity@@ Query@@ Expectations(@@ VdcQuery@@ Type.Get@@ VdsGroup@@ By@@ VdsGroup@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ , new java.lang.String@@ []{ "@@ Id@@ " }, new java.lang.Object@@ []{ G@@ UID@@ S@@ [@@ 1@@ ] }, get@@ VdsGroup@@ Entity@@ ()); setUp@@ Get@@ P@@ ay@@ load@@ Expectations(@@ 0@@ , 2@@ ); setUp@@ Get@@ Bal@@ loon@@ ing@@ Expectation@@ s(); setUp@@ Get@@ Bal@@ loon@@ ing@@ Expectation@@ s(); setUp@@ Get@@ Console@@ Expectation@@ s@@ (@@ new int@@ []{ 0 }); setUp@@ Get@@ Vm@@ Ovf@@ Expectation@@ s@@ (@@ new int@@ []{ 0 }); setUp@@ Get@@ Vir@@ ti@@ oS@@ csi@@ Expectation@@ s@@ (@@ new int@@ []{ 0 }); setUp@@ Get@@ S@@ oun@@ dc@@ ard@@ Expectation@@ s@@ (@@ new int@@ []{ 0 }); setUp@@ Get@@ R@@ ng@@ Device@@ Expectation@@ s@@ (@@ new int@@ []{ 0 }); set@@ U@@ ri@@ Info@@ (@@ setUp@@ Action@@ Expectations(@@ Vdc@@ ActionType.@@ Change@@ VM@@ Cluster@@ , org.ovirt.engine.core.common.action.@@ Change@@ VM@@ Cluster@@ Parameters@@ .@@ class@@ , new java.lang.String@@ []{ "@@ Cluster@@ Id@@ ", "@@ Vm@@ Id@@ " }, new java.lang.Object@@ []{ G@@ UID@@ S@@ [@@ 1@@ ]@@ , G@@ UID@@ S@@ [@@ 0@@ ] }, true@@ , true@@ , false@@ )); setUp@@ Action@@ Expectations(@@ Vdc@@ ActionType.@@ Update@@ Vm@@ , org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base@@ .@@ class@@ , new java.lang.String@@ []{ }, new java.lang.Object@@ []{ }, true@@ , true@@ ); org.ovirt.engine.api.model.@@ VM model = org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vms@@ Resource@@ Tes@@ t.get@@ Model@@ (0@@ ); model.set@@ Id(@@ G@@ UID@@ S@@ [@@ 0@@ ]@@ .@@ toString()); model.set@@ Cluster@@ (@@ new org.ovirt.engine.api.model.@@ Cluster@@ ()); model.get@@ Cluster@@ ().set@@ Id(@@ G@@ UID@@ S@@ [@@ 1@@ ]@@ .@@ toString()); ve@@ r@@ if@@ y@@ Model@@ On@@ New@@ Cluster@@ (@@ res@@ ource.@@ update@@ (model@@ ), 0@@ ); }
@@@ org.@@ c@@ ode@@ h@@ au@@ s.@@ j@@ ack@@ son@@ .@@ an@@ not@@ at@@ e.@@ Json@@ I@@ g@@ n@@ or@@ e public do@@ ubl@@ e get@@ Ac@@ tu@@ al@@ Disk@@ With@@ Snapshots@@ Size@@ In@@ By@@ t@@ es@@ () { return ((@@ (get@@ Ac@@ tu@@ al@@ Disk@@ With@@ Snapshots@@ Size@@ ()) * 1@@ 0@@ 2@@ 4@@ L@@ ) * 1@@ 0@@ 2@@ 4@@ L@@ ) * 1@@ 0@@ 2@@ 4@@ L@@ ; }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ Policy@@ > get@@ All@@ () { java.util.List<@@ org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ Policy@@ > cluster@@ P@@ olic@@ i@@ es = super@@ .get@@ All@@ (); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ Policy@@ > ma@@ p = new java.util.HashMap<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ Policy@@ >(); for (org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ P@@ olic@@ y cluster@@ P@@ olic@@ y : cluster@@ P@@ olic@@ i@@ es@@ ) { map@@ .@@ put@@ (cluster@@ Policy@@ .get@@ Id(), cluster@@ Policy@@ ); } java.util.List<@@ org.ovirt.engine.core.dao.@@ scheduling.@@ Cluster@@ Policy@@ Dao@@ Impl.@@ Cluster@@ Policy@@ Unit@@ > cluster@@ Policy@@ Unit@@ s = get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ All@@ From@@ Cluster@@ Policy@@ Unit@@ s@@ Get@@ ", create@@ Cluster@@ Policy@@ Unit@@ Row@@ Map@@ per@@ (), get@@ Custom@@ MapSqlParameter@@ Source@@ ()); fil@@ l@@ Cluster@@ Policy@@ (m@@ ap@@ , cluster@@ Policy@@ Unit@@ s); return cluster@@ P@@ olic@@ i@@ es@@ ; }
public void set@@ Vm@@ (@@ boolean vm@@ ) { this@@ .@@ vm@@ Id = vm@@ ; }
public java.lang.String get@@ Numa@@ Nod@@ es@@ () { return this@@ .m@@ Vds@@ Dynamic@@ .get@@ num@@ a@@ _@@ n@@ od@@ es@@ (); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ ooltip@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ gist@@ er.@@ Re@@ gist@@ er@@ Vm@@ Data re@@ gist@@ er@@ Vm@@ Data@@ ) { java.lang.String pro@@ bl@@ em@@ ; if ((@@ re@@ gist@@ er@@ Vm@@ Data@@ .get@@ Error@@ ()) != null@@ ) { pro@@ bl@@ e@@ m = re@@ gist@@ er@@ Vm@@ Data@@ .get@@ Error@@ (); } else { pro@@ bl@@ e@@ m = re@@ gist@@ er@@ Vm@@ Data@@ .get@@ W@@ arning@@ (); } return pro@@ bl@@ e@@ m == null ? null : com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (@@ pro@@ bl@@ em@@ ); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { cluster@@ SelectedItem@@ Changed@@ (); }
@java.lang.Override public java.lang.String get@@ V@@ er@@ b@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 1@@ ) { return org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ d@@ et@@ ach@@ Network@@ (@@ op@@ 1@@ .get@@ Name()); }
public void test@@ Ovf@@ Data@@ Up@@ dat@@ er@@ Run@@ With@@ Update@@ And@@ Remove@@ L@@ ow@@ er@@ Th@@ an@@ Count@@ (@@ boolean ovf@@ On@@ An@@ y@@ Domain@@ Supported@@ ) { int s@@ iz@@ e = (@@ I@@ T@@ EM@@ S_@@ C@@ O@@ UN@@ T_@@ P@@ ER_@@ UP@@ D@@ AT@@ E@@ ) - 1@@ ; do@@ Return(@@ ovf@@ On@@ An@@ y@@ Domain@@ Supported@@ ).when@@ (command@@ ).@@ ovf@@ On@@ An@@ y@@ Domain@@ Supported@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ .@@ class@@ )); java.util.List<@@ org.ovirt.engine.core.compat.Guid> vm@@ Guid@@ s = gener@@ ate@@ Guid@@ List@@ (s@@ ize@@ ); add@@ Vm@@ s(@@ vm@@ Gui@@ ds@@ , 2@@ , VMStatus.@@ Down@@ , Image@@ Status.@@ O@@ K@@ , pool@@ 1@@ .getId()); java.util.List<@@ org.ovirt.engine.core.compat.Guid> templat@@ es@@ Guid@@ s = gener@@ ate@@ Guid@@ List@@ (s@@ ize@@ ); add@@ Templ@@ at@@ es(@@ templat@@ es@@ Gui@@ ds@@ , 2@@ , VmTemplate@@ Status.@@ O@@ K@@ , pool@@ 1@@ .getId()); java.util.List<@@ org.ovirt.engine.core.compat.Guid> rem@@ oved@@ Guid@@ s = gener@@ ate@@ Guid@@ List@@ (s@@ ize@@ ); init@@ Test@@ For@@ Pool@@ (@@ pool@@ 1, vm@@ Gui@@ ds@@ , templat@@ es@@ Gui@@ ds@@ , rem@@ oved@@ Gui@@ ds@@ ); execute@@ Command@@ (); ve@@ r@@ if@@ y@@ (command@@ , tim@@ es(@@ num@@ ber@@ Of@@ Tim@@ es@@ To@@ Be@@ Call@@ ed@@ (s@@ ize@@ , true@@ )@@ )).@@ p@@ er@@ for@@ m@@ Ovf@@ Update@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ .@@ class@@ ), any@@ Map@@ ()); if (!@@ ovf@@ On@@ An@@ y@@ Domain@@ Supported@@ ) { ve@@ r@@ if@@ y@@ (@@ ovf@@ Update@@ Pro@@ cess@@ Helper@@ , tim@@ es@@ (s@@ ize@@ )).@@ execute@@ Remove@@ Vm@@ In@@ Sp@@ m@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); } java.util.List<@@ org.ovirt.engine.core.compat.Guid> ne@@ ed@@ To@@ Be@@ Update@@ d = new java.util.@@ Link@@ ed@@ List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ (vm@@ Gui@@ ds@@ ); ne@@ ed@@ To@@ Be@@ Update@@ d@@ .@@ add@@ All@@ (@@ templat@@ es@@ Gui@@ ds@@ ); ve@@ r@@ if@@ y@@ C@@ or@@ r@@ ect@@ Ovf@@ Data@@ Up@@ dat@@ er@@ Run@@ (@@ pool@@ 1, ne@@ ed@@ To@@ Be@@ Update@@ d@@ , rem@@ oved@@ Gui@@ ds@@ ); }
private void on@@ S@@ ave@@ P@@ ost@@ Name@@ Validation@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); if (!(@@ model.@@ validate@@ ())) { return@@ ; } if ((@@ model.get@@ C@@ urrent@@ Storage@@ Item@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ N@@ fs@@ Storage@@ Model) { save@@ N@@ fs@@ Storage@@ (); } else if ((@@ model.get@@ C@@ urrent@@ Storage@@ Item@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Local@@ Storage@@ Model) { save@@ Local@@ Storage@@ (); } else if ((@@ model.get@@ C@@ urrent@@ Storage@@ Item@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ P@@ os@@ i@@ x@@ Storage@@ Model) { save@@ P@@ os@@ i@@ x@@ Storage@@ (); } else { save@@ S@@ an@@ Storage@@ (); } } }
public void res@@ t@@ art@@ Gluster@@ () { org.ovirt.engine.core.common.action.@@ gluster.Gluster@@ Service@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ gluster.Gluster@@ Service@@ Parameters@@ (get@@ Entity@@ ().get@@ Cluster@@ Id(), get@@ Entity@@ ().get@@ Id(), org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Service@@ Type.@@ G@@ LUST@@ ER@@ , "@@ res@@ t@@ art@@ "); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action(VdcActionType.@@ Manage@@ Gluster@@ Service@@ , new java.util.Array@@ List(@@ java.util.Arrays.as@@ List@@ (@@ new org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ []{ parameter@@ s }@@ )@@ ), new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { } }, null@@ ); }
public static java.util.List<java.lang.String> get@@ Lin@@ u@@ x@@ Os@@ Typ@@ es@@ () { org.ovirt.engine.core.common.queries.@@ Async@@ ReturnValue@@ <@@ java.util.List<@@ java.lang.String@@ >> async@@ ReturnValue = new org.ovirt.engine.core.common.queries.@@ Async@@ ReturnValue@@ <@@ java.util.List<@@ java.lang.String@@ >@@ >(); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.@@ Os@@ Rep@@ os@@ it@@ ory@@ , new org.ovirt.engine.core.common.queries.@@ Os@@ Query@@ Parameters(@@ Os@@ Rep@@ os@@ it@@ ory@@ V@@ er@@ b@@ .@@ Get@@ lin@@ u@@ x@@ O@@ S@@ s@@ ), async@@ ReturnValue@@ ); return async@@ Return@@ Value.get@@ (); }
private void update@@ Action@@ Avail@@ ab@@ ility@@ () { boolean al@@ low@@ Res@@ t@@ or@@ e = true@@ ; boolean al@@ low@@ Delet@@ e = true@@ ; boolean al@@ low@@ Delet@@ e@@ Al@@ l = true@@ ; boolean al@@ low@@ Ac@@ tiva@@ te = true@@ ; boolean al@@ low@@ De@@ ac@@ tiva@@ te = true@@ ; if ((@@ (get@@ SelectedItem@@ s()) == null@@ ) || ((get@@ SelectedItem@@ s().@@ size()) == 0@@ )) { al@@ low@@ Res@@ t@@ or@@ e = false@@ ; al@@ low@@ Delet@@ e = false@@ ; al@@ low@@ Ac@@ tiva@@ te = false@@ ; al@@ low@@ De@@ ac@@ tiva@@ te = false@@ ; } else { java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ > snapshot@@ s = org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ Entity@@ >@@ c@@ ast@@ (get@@ SelectedItem@@ s()); if ((@@ snapshot@@ s.@@ size()) == 1@@ ) { al@@ low@@ Res@@ t@@ or@@ e = true@@ ; al@@ low@@ Ac@@ tiva@@ te = (s@@ napshot@@ s.get@@ (0@@ ).get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Snapshot@@ Status.@@ ST@@ O@@ P@@ P@@ ED); al@@ low@@ De@@ ac@@ tiva@@ te = (s@@ napshot@@ s.get@@ (0@@ ).get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Snapshot@@ Status.@@ ST@@ AR@@ T@@ ED); } } get@@ Res@@ t@@ ore@@ Snapshot@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ al@@ low@@ Res@@ t@@ ore@@ ); get@@ Delet@@ e@@ Snapshot@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ al@@ low@@ Delet@@ e); get@@ Delet@@ e@@ AllSnapshots@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ al@@ low@@ Delet@@ e@@ All@@ ); get@@ Ac@@ tivate@@ Snapshot@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ al@@ low@@ Ac@@ tivate@@ ); get@@ De@@ ac@@ tivate@@ Snapshot@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ al@@ low@@ De@@ ac@@ tivate@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _C@@ LUST@@ ER@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ RE@@ M@@ OV@@ E); }
public static void get@@ Network@@ List(@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , org.ovirt.engine.core.compat.Guid dataCenter@@ Id) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { return s@@ ource != null ? ((@@ java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.network.Network@@ >) (s@@ ource@@ )) : new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.network.Network@@ >(); } }; org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ All@@ Network@@ s, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ dataCenter@@ Id@@ ), aQuery@@ ); }
@@@ org.ovirt.engine.ui.webadmin.@@ Source@@ ("@@ im@@ ages@@ /@@ gluster@@ AsyncTask@@ s@@ /@@ remove@@ _@@ brick@@ _@@ fail@@ ed@@ .@@ p@@ ng@@ ") com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource remove@@ Brick@@ Fail@@ ed@@ ();
public boolean can@@ RunVm@@ (@@ java.util.List<java.lang.String> mess@@ ages@@ , org.ovirt.engine.core.common.businessentities.Storage@@ Pool storagePool@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid> vds@@ B@@ l@@ ack@@ List@@ , org.ovirt.engine.core.compat.Guid d@@ est@@ Vds@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group vds@@ Group@@ ) { if ((((@@ (!(@@ validate@@ Vm@@ Properties@@ (vm@@ , mess@@ ages@@ ))) || (!(@@ validate@@ (@@ validate@@ Boot@@ Se@@ qu@@ ence@@ (vm@@ , run@@ Vm@@ Param@@ .get@@ Boot@@ Se@@ qu@@ ence@@ (), get@@ Vm@@ Disks@@ ()), mess@@ ages@@ )@@ ))) || (!(@@ validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ Vm@@ Validator@@ (vm@@ ).@@ vm@@ Not@@ Lock@@ ed@@ (), mess@@ ages@@ )@@ ))) || (!(@@ validate@@ (get@@ Snapshot@@ Validator@@ ().@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (vm@@ .getId@@ ()), mess@@ ages@@ )@@ ))) || (!(@@ validate@@ (@@ validate@@ Vm@@ Status@@ Us@@ ing@@ M@@ at@@ ri@@ x@@ (vm@@ ), mess@@ ages@@ )@@ ))) || (!(@@ validate@@ (@@ validate@@ Iso@@ Path@@ (vm@@ , run@@ Vm@@ Param@@ .get@@ Disk@@ Path@@ (), run@@ Vm@@ Param@@ .get@@ F@@ lo@@ p@@ p@@ y@@ Path@@ ()), mess@@ ages@@ )@@ ))) || (!(@@ validate@@ (vm@@ D@@ ur@@ ing@@ In@@ itial@@ ization@@ (vm@@ ), mess@@ ages@@ )@@ ))) || (!(@@ validate@@ (@@ validate@@ Vds@@ Status@@ (vm@@ ), mess@@ ages@@ )@@ ))) || (!(@@ validate@@ (@@ validate@@ State@@ l@@ ess@@ Vm@@ (vm@@ , get@@ Vm@@ Disks@@ (), run@@ Vm@@ Param@@ .get@@ Run@@ As@@ State@@ l@@ ess@@ ()), mess@@ ages@@ )@@ ))) { return false@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > image@@ s = org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ filter@@ Image@@ Disks@@ (get@@ Vm@@ Disks@@ (), true@@ , false@@ ); if ((!@@ (@@ im@@ ages.@@ isEmpty@@ ())) && ((@@ (!(@@ validate@@ (@@ validate@@ StoragePool@@ Up@@ (vm@@ , storagePool@@ ), mess@@ ages@@ ))) || (!(@@ validate@@ (@@ validate@@ StorageDomain@@ s(@@ vm@@ , is@@ Internal@@ Execution@@ , im@@ ages@@ ), mess@@ ages@@ )@@ ))) || (!(@@ validate@@ (@@ validate@@ (@@ validate@@ Images@@ For@@ RunVm@@ (vm@@ , im@@ ages@@ ), mess@@ ages@@ )@@ ))) { return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.@@ scheduling.@@ Schedul@@ ing@@ Manager@@ .getInstance().@@ can@@ Schedul@@ e(@@ vds@@ Group@@ , vm@@ , vds@@ B@@ l@@ ack@@ List@@ , null@@ , d@@ est@@ Vds@@ , mess@@ ages@@ ))) { return false@@ ; } return true@@ ; }
private static boolean is@@ Qos@@ In@@ Sync@@ (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ace@@ , org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ o@@ S network@@ Qos@@ ) { org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ o@@ S if@@ ace@@ Q@@ o@@ s = if@@ ac@@ e.get@@ Qos@@ (); if (@@ if@@ ace@@ Q@@ o@@ s == network@@ Qos@@ ) { return true@@ ; } else if (@@ if@@ ace@@ Q@@ o@@ s == null@@ ) || (network@@ Q@@ o@@ s == null@@ )) { return false@@ ; } else { return if@@ ace@@ Q@@ o@@ s.@@ e@@ qu@@ al@@ Valu@@ es(@@ network@@ Qos@@ ); } }
@java.lang.Override public org.ovirt.engine.api.model.@@ Data@@ C@@ en@@ te@@ r update@@ (org.ovirt.engine.api.model.@@ Data@@ C@@ en@@ te@@ r in@@ com@@ ing@@ ) { org.ovirt.engine.api.restapi.resource.@@ validation.@@ Validator@@ Loc@@ ator@@ .get@@ Validator@@ (org.ovirt.engine.api.model.@@ DataCenter@@ .@@ class@@ ).@@ validate@@ Enum@@ s(@@ in@@ com@@ ing@@ ); return p@@ er@@ for@@ m@@ Update@@ (in@@ com@@ ing@@ , new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ StoragePool@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ StoragePool@@ Query@@ Parameters@@ Base@@ .@@ class@@ ), Vdc@@ ActionType.@@ Update@@ StoragePool@@ , new org.ovirt.engine.api.restapi.resource.@@ Backend@@ DataCenter@@ Res@@ ource.@@ Update@@ Parameters@@ Provider@@ ()); }
public void set@@ R@@ d@@ p@@ Im@@ pl@@ ement@@ ation@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ R@@ d@@ p@@ Console@@ Model.@@ Client@@ Console@@ Mod@@ e con@@ s@@ ole@@ M@@ ode@@ ) { this@@ .@@ client@@ Console@@ Mod@@ e = con@@ s@@ ole@@ M@@ ode@@ ; switch (@@ con@@ s@@ ole@@ M@@ ode@@ ) { case N@@ ati@@ v@@ e : set@@ r@@ d@@ p@@ (((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ R@@ d@@ p@@ ) (@@ org.ovirt.engine.ui.uicommonweb.@@ Type@@ Res@@ ol@@ ver@@ .getInstance().@@ res@@ ol@@ ve@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ R@@ d@@ p@@ N@@ ati@@ ve@@ .@@ class@@ )@@ ))); break@@ ; case Plug@@ in : set@@ r@@ d@@ p@@ (((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ R@@ d@@ p@@ ) (@@ org.ovirt.engine.ui.uicommonweb.@@ Type@@ Res@@ ol@@ ver@@ .getInstance().@@ res@@ ol@@ ve@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ R@@ d@@ p@@ P@@ lu@@ gin@@ .@@ class@@ )@@ ))); break@@ ; default : org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ R@@ d@@ p@@ Plug@@ in im@@ p@@ l = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ R@@ d@@ p@@ P@@ lu@@ gin@@ ) (@@ org.ovirt.engine.ui.uicommonweb.@@ Type@@ Res@@ ol@@ ver@@ .getInstance().@@ res@@ ol@@ ve@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ R@@ d@@ p@@ P@@ lu@@ gin@@ .@@ class@@ ))); set@@ r@@ d@@ p@@ ((@@ con@@ s@@ ole@@ Utils.@@ is@@ B@@ row@@ ser@@ P@@ lu@@ gin@@ Supported@@ (@@ Console@@ Protoc@@ ol.@@ R@@ D@@ P@@ ) ? im@@ p@@ l : ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ R@@ d@@ p@@ ) (@@ org.ovirt.engine.ui.uicommonweb.@@ Type@@ Res@@ ol@@ ver@@ .getInstance().@@ res@@ ol@@ ve@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ I@@ R@@ d@@ p@@ N@@ ati@@ ve@@ .@@ class@@ )@@ ))); break@@ ; } }
public void set@@ Name@@ (java.lang.String value@@ ) { if (!(@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (@@ name@@ , value@@ ))) { nam@@ e = value@@ ; On@@ PropertyChanged@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ provider@@ s.@@ Provider@@ Gener@@ al@@ Model.@@ P@@ RO@@ P@@ ER@@ TY@@ _@@ NAM@@ E@@ )); } }
public void set@@ Task@@ s@@ Monitor@@ ed@@ (@@ boolean task@@ s@@ Monitor@@ ed@@ ) { this@@ .@@ task@@ s@@ Monitor@@ ed = task@@ s@@ Monitor@@ ed@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Storage@@ Conn@@ ec@@ tion storage@@ Connection@@ ) { validate@@ Parameters(@@ storage@@ Connection@@ , "@@ id@@ "); return p@@ er@@ for@@ m@@ Action(VdcActionType.@@ Attach@@ Storage@@ Connection@@ To@@ StorageDomain@@ , new org.ovirt.engine.core.common.@@ Attach@@ Det@@ ach@@ Storage@@ Connection@@ Parameters(@@ storageDomain@@ Id, storage@@ Connection@@ .getId@@ ())); }
private void Ap@@ pl@@ y@@ N@@ ext@@ Run@@ Configuration@@ (org.ovirt.engine.core.compat.Guid vm@@ Id) { org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t run@@ S@@ n@@ a@@ p = get@@ Snapshot@@ DAO@@ ().get@@ (vm@@ Id, Snapshot@@ Type.@@ N@@ EX@@ T_@@ R@@ UN@@ ); if (@@ run@@ S@@ n@@ a@@ p != null@@ ) { get@@ Snapshot@@ DAO@@ ().@@ remove@@ (@@ run@@ S@@ nap@@ .getId()); org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Dao().get@@ (vm@@ Id); if (@@ vm != null@@ ) { java.util.@@ D@@ ate or@@ i@@ gin@@ al@@ Cre@@ ation@@ D@@ ate = vm.get@@ Vm@@ Cre@@ ation@@ D@@ ate@@ (); new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshot@@ sManager@@ ().@@ update@@ Vm@@ From@@ Configuration@@ (vm@@ , run@@ S@@ nap@@ .get@@ Vm@@ Configuration@@ ()); vm@@ .set@@ Vm@@ Cre@@ ation@@ D@@ ate@@ (@@ or@@ i@@ gin@@ al@@ Cre@@ ation@@ D@@ ate@@ ); org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base update@@ Vm@@ Param@@ s = create@@ Update@@ Vm@@ Parameters@@ (vm@@ ); org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ run@@ Internal@@ Action(VdcActionType.@@ Update@@ Vm@@ , update@@ Vm@@ Param@@ s); } } }
private void edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ List@@ Model model, final boolean to@@ p@@ T@@ able@@ Is@@ E@@ d@@ i@@ ted@@ ) { org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ Entity@@ Model@@ C@@ el@@ l@@ T@@ able@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ > t@@ able = get@@ T@@ able(@@ to@@ p@@ T@@ able@@ Is@@ E@@ d@@ i@@ ted@@ ); org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ List@@ en@@ er list@@ en@@ er = (@@ to@@ p@@ T@@ able@@ Is@@ E@@ d@@ i@@ ted@@ ) ? to@@ p@@ Item@@ s@@ Changed@@ List@@ en@@ er : b@@ ot@@ t@@ om@@ Item@@ s@@ Changed@@ Listener@@ ; if (@@ list@@ en@@ er != null@@ ) { tabl@@ e.@@ as@@ Editor@@ ().@@ f@@ l@@ us@@ h@@ ().get@@ Item@@ s@@ Changed@@ Event@@ ().@@ remove@@ Listener@@ (@@ list@@ ener@@ ); } list@@ en@@ er = new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { get@@ Sel@@ ection@@ Model@@ (@@ to@@ p@@ T@@ able@@ Is@@ E@@ d@@ i@@ ted@@ ).@@ cl@@ e@@ ar@@ (); } }; if (@@ to@@ p@@ T@@ able@@ Is@@ E@@ d@@ i@@ ted@@ ) { to@@ p@@ Item@@ s@@ Changed@@ List@@ en@@ er = list@@ ener@@ ; } else { b@@ ot@@ t@@ om@@ Item@@ s@@ Changed@@ List@@ en@@ er = list@@ ener@@ ; } model.get@@ Item@@ s@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ list@@ ener@@ ); tabl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (model@@ ); }
private java.lang.String get@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Message@@ () { if ((@@ c@@ ach@@ ed@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Message@@ ) == null@@ ) { c@@ ach@@ ed@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Mess@@ age = new org.ovirt.engine.core.bll.@@ Lock@@ Message@@ (org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ I@@ S_@@ B@@ E@@ ING@@ _@@ M@@ I@@ G@@ R@@ AT@@ ED@@ ).@@ with@@ Option@@ al@@ ("@@ Disk@@ Name@@ ", ((@@ org.ovirt.engine.core.bll.storage.disk.@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ()) != null ? get@@ Disk@@ Alias@@ () : null@@ )).@@ toString@@ (); } return c@@ ach@@ ed@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Message@@ ; }
@java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { if (s@@ ource != null@@ ) { return source@@ ; } return new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >(); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Value@@ s ar@@ e o@@ u@@ t of r@@ ang@@ e.@@ ") java.lang.String ACTION_TYPE_FAILED_@@ Q@@ O@@ S_@@ C@@ P@@ U@@ _@@ O@@ U@@ T_@@ O@@ F@@ _@@ R@@ AN@@ G@@ E_@@ VAL@@ U@@ ES@@ ();
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vnic@@ Instance@@ Type model@@ ) { d@@ ri@@ ver.@@ edit@@ (model@@ ); profil@@ e@@ Editor@@ .@@ add@@ Label@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ no@@ Display@@ ()); profil@@ e@@ Editor@@ .@@ add@@ Content@@ Widget@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.c@@ on@@ t@@ ent@@ Sty@@ le@@ ()); profil@@ e@@ Editor@@ .set@@ Element@@ Id(@@ org.ovirt.engine.ui.common.@@ utils.@@ Element@@ Id@@ Utils.@@ create@@ Element@@ Id(@@ el@@ ement@@ Id, model.get@@ Network@@ Interface@@ ().get@@ Name@@ ())); s@@ ync@@ SelectedItem@@ With@@ Network@@ Interfac@@ e(@@ model@@ ); model.get@@ SelectedItem@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { s@@ ync@@ Network@@ Interfac@@ e(@@ model@@ ); com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Ev@@ ent.@@ fi@@ re@@ (@@ org.ovirt.engine.ui.common.widget.@@ profil@@ e.@@ Profile@@ Instance@@ Type@@ Editor@@ .@@ this@@ , model@@ ); } }); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { cl@@ e@@ ar@@ Vms@@ (); org.ovirt.engine.core.common.businessentities.Storage@@ Pool data@@ C@@ en@@ te@@ r = data@@ C@@ ent@@ ers@@ .get@@ SelectedItem@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ StorageDomain@@ sBy@@ StoragePool@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ dataCenter@@ .getId@@ ()), new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , create@@ Get@@ StorageDomain@@ sBy@@ StoragePool@@ Id@@ Callback@@ (@@ dataCenter@@ ))); }
@java.lang.Override public int hash@@ Code@@ () { return java.util.@@ Object@@ s.@@ hash@@ (get@@ Id(), parent@@ Device@@ Name, c@@ ap@@ ab@@ ility@@ , i@@ omm@@ u@@ Group@@ , pro@@ d@@ uc@@ t@@ Name, pro@@ d@@ uc@@ t@@ Id, ve@@ n@@ do@@ r@@ Name, ve@@ n@@ do@@ r@@ Id, parent@@ P@@ h@@ y@@ s@@ ical@@ F@@ un@@ c@@ tion@@ , t@@ otal@@ Vir@@ tu@@ al@@ F@@ un@@ c@@ tion@@ s, network@@ Interface@@ Name, ass@@ ign@@ able@@ , vm@@ Id); }
@java.lang.Override public void f@@ l@@ us@@ h@@ (org.ovirt.engine.core.common.businessentities.@@ q@@ o@@ s.@@ Storage@@ Q@@ o@@ s storage@@ Qos@@ ) { if (get@@ Th@@ rou@@ g@@ h@@ put@@ ().get@@ Ch@@ o@@ ice@@ Group@@ T@@ otal@@ ().getEntity@@ ()) { storage@@ Q@@ o@@ s.set@@ Max@@ Th@@ rou@@ g@@ h@@ put@@ (get@@ Th@@ rou@@ g@@ h@@ put@@ ().get@@ T@@ otal@@ ().getEntity@@ ()); } else if (get@@ Th@@ rou@@ g@@ h@@ put@@ ().get@@ Ch@@ o@@ ice@@ Group@@ Read@@ W@@ rite@@ ().getEntity@@ ()) { storage@@ Q@@ o@@ s.set@@ Max@@ Read@@ Th@@ rou@@ g@@ h@@ put@@ (get@@ Th@@ rou@@ g@@ h@@ put@@ ().get@@ Read@@ ().getEntity@@ ()); storage@@ Q@@ o@@ s.set@@ Max@@ W@@ rite@@ Th@@ rou@@ g@@ h@@ put@@ (get@@ Th@@ rou@@ g@@ h@@ put@@ ().get@@ W@@ rite@@ ().getEntity@@ ()); } else { storage@@ Q@@ o@@ s.set@@ Max@@ Th@@ rou@@ g@@ h@@ put@@ (@@ null@@ ); storage@@ Q@@ o@@ s.set@@ Max@@ Read@@ Th@@ rou@@ g@@ h@@ put@@ (@@ null@@ ); storage@@ Q@@ o@@ s.set@@ Max@@ W@@ rite@@ Th@@ rou@@ g@@ h@@ put@@ (@@ null@@ ); } if (get@@ I@@ op@@ s().get@@ Ch@@ o@@ ice@@ Group@@ T@@ otal@@ ().getEntity@@ ()) { storage@@ Q@@ o@@ s.set@@ Max@@ I@@ op@@ s@@ (get@@ I@@ op@@ s().get@@ T@@ otal@@ ().getEntity@@ ()); } else if (get@@ I@@ op@@ s().get@@ Ch@@ o@@ ice@@ Group@@ Read@@ W@@ rite@@ ().getEntity@@ ()) { storage@@ Q@@ o@@ s.set@@ Max@@ Read@@ I@@ op@@ s@@ (get@@ I@@ op@@ s().get@@ Read@@ ().getEntity@@ ()); storage@@ Q@@ o@@ s.set@@ Max@@ W@@ rite@@ I@@ op@@ s@@ (get@@ I@@ op@@ s().get@@ W@@ rite@@ ().getEntity@@ ()); } else { storage@@ Q@@ o@@ s.set@@ Max@@ I@@ op@@ s@@ (@@ null@@ ); storage@@ Q@@ o@@ s.set@@ Max@@ Read@@ I@@ op@@ s@@ (@@ null@@ ); storage@@ Q@@ o@@ s.set@@ Max@@ W@@ rite@@ I@@ op@@ s@@ (@@ null@@ ); } }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Contex@@ t contex@@ t@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der s@@ b@@ ) { if (@@ volum@@ e == null@@ ) { return@@ ; } org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Status@@ C@@ el@@ l.@@ V@@ O@@ LU@@ M@@ E@@ ST@@ AT@@ U@@ S v@@ Status = get@@ Volume@@ Status(@@ volume@@ ); com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource status@@ Image = get@@ Status@@ Image@@ (@@ v@@ Status@@ ); java.lang.String t@@ oolti@@ p = get@@ T@@ ool@@ T@@ ip@@ (@@ v@@ Status@@ ); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l status@@ Image@@ Ht@@ m@@ l = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Prot@@ ot@@ yp@@ e.c@@ reate@@ (@@ status@@ Image@@ ).get@@ H@@ T@@ M@@ L@@ ()); s@@ b@@ .@@ append@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Status@@ C@@ el@@ l.@@ V@@ O@@ LU@@ M@@ E@@ ST@@ AT@@ U@@ S v@@ Status = get@@ Volume@@ Status(@@ volume@@ ); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l status@@ Image@@ Ht@@ m@@ l = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Prot@@ ot@@ yp@@ e.c@@ reate@@ (@@ status@@ Image@@ ).get@@ H@@ T@@ M@@ L@@ ()); s@@ b@@ .@@ append@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Volume@@ Status@@ C@@ el@@ l.@@ V@@ O@@ LU@@ M@@ E@@ ST@@ AT@@ U@@ S v@@ Status = get@@ Volume@@ Status(@@ volume@@ ); com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@
private void run@@ () { org.ovirt.engine.core.common.businessentities.VM enti@@ ty = ((org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (get@@ Item@@ ().getEntity@@ ())); boolean re@@ initial@@ iz@@ e = (!(@@ entity@@ .is@@ In@@ itial@@ iz@@ ed@@ ())) && (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ is@@ W@@ in@@ do@@ w@@ s@@ Os@@ Type(@@ entity.get@@ Vm@@ Os@@ ())); org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s temp@@ V@@ a@@ r = new org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s(@@ entity.get@@ Id()); tempVar@@ .set@@ In@@ itial@@ ization@@ Type(@@ In@@ itial@@ ization@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Action(VdcActionType.@@ RunVm@@ , tempVar@@ ); }
private boolean re@@ fresh@@ Vds@@ m@@ File@@ List(@@ org.ovirt.engine.core.compat.Guid re@@ p@@ o@@ StoragePool@@ Id, org.ovirt.engine.core.compat.Guid re@@ p@@ o@@ StorageDomain@@ Id, org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ File@@ List@@ Re@@ fresh@@ ed fil@@ e@@ List@@ Re@@ fresh@@ ed@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ File@@ Type image@@ File@@ Type, org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue fil@@ e@@ Stat@@ s) { if (@@ re@@ p@@ o@@ StorageDomain@@ Id == null@@ ) { return false@@ ; } try { @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") java.util.Map<java.lang.String, java.lang.Object@@ >> fil@@ e@@ Stat@@ s@@ ReturnValue = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >@@ >) (@@ fil@@ e@@ Stat@@ s.get@@ ReturnValue@@ ())); boolean vds@@ m@@ Re@@ fresh@@ O@@ k = (@@ fil@@ e@@ Stat@@ s.get@@ Succeeded@@ ()) && (@@ fil@@ e@@ Stat@@ s@@ ReturnValue != null@@ ); org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ log.debug@@ ("@@ Th@@ e re@@ f@@ res@@ h pro@@ c@@ es@@ s f@@ ro@@ m VDS@@ M@@ , for {}@@ .@@ ", image@@ File@@ Type, s@@ uc@@ ceeded@@ Or@@ Fail@@ ed(@@ vds@@ m@@ Re@@ fresh@@ O@@ k@@ )); if (!@@ vds@@ m@@ Re@@ fresh@@ O@@ k@@ ) { return false@@ ; } boolean re@@ fresh@@ Suc@@ cee@@ de@@ d = org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ re@@ fresh@@ Iso@@ File@@ List@@ M@@ et@@ a@@ Data@@ (@@ re@@ p@@ o@@ StorageDomain@@ Id, re@@ p@@ o@@ Storage@@ D@@ om@@ , fil@@ e@@ Stat@@ s@@ ReturnValue@@ , image@@ File@@ Type@@ ); if (@@ re@@ fresh@@ Suc@@ cee@@ de@@ d && (@@ fil@@ e@@ List@@ Re@@ fresh@@ ed != null@@ )) { fil@@ e@@ List@@ Re@@ fresh@@ ed@@ .@@ on@@ File@@ List@@ Re@@ fresh@@ ed(@@ re@@ p@@ o@@ StoragePool@@ Id, fil@@ e@@ Stat@@ s@@ Return@@ Valu@@ e.@@ key@@ Set@@ ()); } return re@@ fresh@@ Succeeded@@ ; } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ log.@@ w@@ ar@@ n@@ ("@@ Th@@ e re@@ f@@ res@@ h pro@@ c@@ es@@ s for {@@ } fail@@ ed@@ : {}@@ ", image@@ File@@ Type, e.get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ log.debug@@ ("@@ Exception@@ ", e); return false@@ ; } }
@java.lang.Override protected void Async@@ Search@@ () { super@@ .@@ Async@@ Search@@ (); org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); _@@ async@@ Query@@ .set@@ Model@@ (@@ this@@ ); _@@ async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void On@@ Success@@ (java.lang.Object model, java.lang.Object ReturnValue@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ ro@@ l@@ es@@ _@@ ui.@@ Role@@ List@@ Model ro@@ le@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ ro@@ l@@ es@@ _@@ ui.@@ Role@@ ListModel@@ ) (model@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Role@@ > filter@@ ed@@ List = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Role@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ e i@@ te@@ m : ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Role@@ >) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ ReturnValue@@ )@@ ).get@@ ReturnValue@@ ()))) { if (((@@ ro@@ le@@ List@@ Model.get@@ Item@@ s@@ Filter@@ ()) == null@@ ) || ((@@ ro@@ le@@ List@@ Model.get@@ Item@@ s@@ Filter@@ ()) == (@@ item@@ .get@@ Type@@ ()))) { filter@@ ed@@ List.@@ add(@@ item@@ ); } } ro@@ le@@ List@@ Model.set@@ Items(@@ filter@@ ed@@ List@@ ); } }; org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ All@@ R@@ ol@@ es@@ , new org.ovirt.engine.core.common.queries.@@ Multi@@ le@@ v@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ s@@ Quer@@ i@@ es@@ Parameters@@ (), _@@ async@@ Query@@ ); }
private void new@@ Sec@@ ret@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ L@@ i@@ b@@ vi@@ r@@ t@@ Sec@@ ret@@ Model s@@ ec@@ ret@@ Model = create@@ Sec@@ ret@@ Model@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ create@@ Sec@@ ret@@ Title@@ (), Help@@ T@@ a@@ g.@@ create@@ _@@ s@@ ec@@ ret@@ , "@@ create@@ _@@ s@@ ec@@ ret@@ "); set@@ W@@ in@@ do@@ w@@ (s@@ ec@@ ret@@ Model@@ ); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ New@@ Guid@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (s@@ ec@@ ret@@ Model@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { org.ovirt.engine.core.compat.Guid r@@ an@@ do@@ m@@ Gui@@ d = ((@@ org.ovirt.engine.core.compat.Guid@@ ) (@@ return@@ Value@@ )); s@@ ec@@ ret@@ Model.get@@ U@@ uid@@ ().set@@ Entity@@ (r@@ an@@ do@@ m@@ Guid@@ .@@ toString()); } }@@ )); }
protected boolean dis@@ conn@@ ect@@ StorageDomain@@ (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Domain storageDomain@@ ) { try { return org.ovirt.engine.core.bll.storage.@@ Storage@@ Helper@@ Direct@@ or@@ .getInstance().get@@ Item@@ (@@ storageDomain@@ .get@@ Storage@@ Type@@ ()).@@ dis@@ conn@@ ect@@ Storage@@ From@@ Domain@@ By@@ Vds@@ Id(@@ storageDomain@@ , get@@ Vds@@ Id()); } catch (java.lang.@@ Run@@ time@@ Exception e) { log.error("@@ Exception while dis@@ conn@@ ect stor@@ age do@@ m@@ ain@@ ", e); return false@@ ; } }
public boolean Is@@ Fiel@@ d@@ Up@@ dat@@ able(@@ java.lang.@@ Enum@@ <?@@ > status@@ , java.lang.String name@@ , java.lang.Object fi@@ el@@ d@@ Contain@@ er@@ , boolean h@@ ot@@ set@@ Enabled@@ , boolean st@@ ate@@ l@@ ess@@ Enabled@@ ) { boolean return@@ Value = true@@ ; if (!(@@ Is@@ Fiel@@ d@@ Up@@ dat@@ able(@@ name@@ ))) { if (((@@ fi@@ el@@ d@@ Contain@@ er != null@@ ) && ((@@ contain@@ er@@ ) != null@@ )) && (!(@@ contain@@ er.@@ can@@ Update@@ Fiel@@ d@@ (@@ fi@@ el@@ d@@ Contain@@ er@@ , name@@ , status@@ )@@ ))) { return@@ Value = false@@ ; } else { java.util.@@ Set<@@ java.lang.String> value@@ s = d@@ ic@@ tion@@ ar@@ y@@ .get(@@ status@@ ); return@@ Value = (@@ value@@ s != null@@ ) ? valu@@ es.@@ contains(@@ name@@ ) : false@@ ; if ((@@ !@@ return@@ Value@@ ) && (@@ h@@ ot@@ set@@ En@@ able@@ d || st@@ ate@@ l@@ ess@@ Enabled@@ )) { return@@ Value = (is@@ Hot@@ Set@@ Fiel@@ d@@ (@@ name@@ )) || (is@@ State@@ l@@ ess@@ Fiel@@ d@@ (@@ name@@ )); } } if (@@ !@@ return@@ Value@@ ) { org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er.@@ log.@@ w@@ ar@@ n@@ ("@@ Fiel@@ d '{}@@ ' c@@ an not b@@ e update@@ d wh@@ e@@ n stat@@ u@@ s is '{}@@ '@@ ", name@@ , status@@ ); } } return return@@ Value@@ ; }
private void set@@ Type(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.String> value@@ ) { private@@ Type = value@@ ; }
private void get@@ M@@ en@@ u@@ L@@ ay@@ out@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ Item@@ [@@ ] item@@ s, org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .S@@ ec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ Item@@ [@@ ] s@@ ec@@ ond@@ ar@@ y@@ Item@@ s) { l@@ ay@@ out@@ Map.@@ cl@@ e@@ ar@@ (); for (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ I@@ te@@ m l@@ ay@@ o@@ u@@ t : item@@ s) { if ((@@ l@@ ay@@ o@@ u@@ t.get@@ H@@ re@@ f@@ ()) != null@@ ) { org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ M@@ en@@ u@@ L@@ ay@@ out@@ M@@ en@@ u@@ Detail@@ s d@@ et@@ ail@@ s = new org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ M@@ en@@ u@@ L@@ ay@@ out@@ M@@ en@@ u@@ Detail@@ s(); d@@ et@@ ail@@ s.set@@ P@@ ri@@ mar@@ y@@ P@@ ri@@ or@@ ity@@ (@@ l@@ ay@@ o@@ u@@ t.get@@ In@@ dex@@ ()); d@@ et@@ ail@@ s.set@@ Sec@@ ond@@ ar@@ y@@ Title(@@ l@@ ay@@ o@@ u@@ t.get@@ Title@@ ()); d@@ et@@ ail@@ s.set@@ I@@ con@@ (@@ l@@ ay@@ o@@ u@@ t.get@@ I@@ con@@ ()); l@@ ay@@ out@@ Map.@@ put(@@ l@@ ay@@ o@@ u@@ t.get@@ H@@ re@@ f@@ (), d@@ et@@ ail@@ s); } } for (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .S@@ ec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ I@@ te@@ m sub@@ M@@ en@@ u : s@@ ec@@ ond@@ ar@@ y@@ Item@@ s) { org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ M@@ en@@ u@@ L@@ ay@@ out@@ M@@ en@@ u@@ Detail@@ s d@@ et@@ ail@@ s = new org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ M@@ en@@ u@@ L@@ ay@@ out@@ M@@ en@@ u@@ Detail@@ s(); d@@ et@@ ail@@ s.set@@ P@@ ri@@ mar@@ y@@ P@@ ri@@ or@@ ity@@ (s@@ ub@@ M@@ en@@ u@@ .get@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ ().get@@ In@@ dex@@ ()); d@@ et@@ ail@@ s.set@@ P@@ ri@@ mar@@ y@@ Title(@@ sub@@ M@@ en@@ u@@ .get@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ ().get@@ Title@@ ()); d@@ et@@ ail@@ s.set@@ Sec@@ ond@@ ar@@ y@@ P@@ ri@@ or@@ ity@@ (s@@ ub@@ M@@ en@@ u@@ .get@@ P@@ ri@@ or@@ ity@@ ()); d@@ et@@ ail@@ s.set@@ Sec@@ ond@@ ar@@ y@@ Title(@@ sub@@ M@@ en@@ u@@ .get@@ Title@@ ()); d@@ et@@ ail@@ s.set@@ I@@ con@@ (s@@ ub@@ M@@ en@@ u@@ .get@@ I@@ con@@ ()); l@@ ay@@ out@@ Map.@@ put@@ (s@@ ub@@ M@@ en@@ u@@ .get@@ H@@ re@@ f@@ (), d@@ et@@ ail@@ s); } } }
private void log@@ Device@@ I@@ n@@ for@@ m@@ ation@@ (org.ovirt.engine.core.compat.Guid vm@@ Id, java.util.Map<java.lang.String, java.lang.Object> de@@ vice@@ ) { java.lang.String mess@@ age = "@@ Rec@@ e@@ ive@@ d a {0@@ } Device with@@ o@@ u@@ t an add@@ res@@ s wh@@ e@@ n pro@@ cess@@ ing VM {@@ 1@@ } de@@ vic@@ es@@ , s@@ k@@ ip@@ p@@ ing de@@ vice@@ "; java.lang.String de@@ vice@@ Type = ((@@ java.lang.String@@ ) (@@ de@@ vic@@ e.get@@ (@@ VdsProperties.@@ Device@@ ))); if (@@ shoul@@ d@@ Log@@ Device@@ Detail@@ s(@@ de@@ vice@@ Type@@ )) { java.util.Map<java.lang.String, java.lang.Object> de@@ vice@@ In@@ fo = de@@ vice@@ ; org.ovirt.engine.core.vdsbroker.@@ Vms@@ Monitor@@ ing.@@ log.info@@ ((@@ mess@@ age + "@@ : {@@ 2@@ }@@ "@@ ), org.apache.commons.lang.@@ String@@ Util@@ s@@ .@@ default@@ String@@ (@@ de@@ vice@@ Type@@ ), vm@@ Id, de@@ vice@@ Info@@ ); } else { org.ovirt.engine.core.vdsbroker.@@ Vms@@ Monitor@@ ing.@@ log.info@@ (m@@ ess@@ age@@ , org.apache.commons.lang.@@ String@@ Util@@ s@@ .@@ default@@ String@@ (@@ de@@ vice@@ Type@@ ), vm@@ Id); } }
@org.junit.Test public void test@@ 0@@ () { org.ovirt.engine.api.@@ types.@@ V@@ 4@@ V@@ m obj@@ ect = vm@@ ().@@ memory@@ (0@@ ).@@ build@@ (); assert@@ Equals@@ ("@@ {@@ '@@ memory@@ '@@ :@@ 0@@ }@@ ", object@@ To@@ Json@@ (@@ object@@ )); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { get@@ Provi@@ d@@ ers@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); provi@@ d@@ ers@@ _@@ SelectedItem@@ Changed@@ (); if ((get@@ Is@@ Dis@@ cor@@ ver@@ ed@@ Host@@ s@@ ().getEntity@@ ()) != null@@ ) { update@@ Host@@ List@@ (get@@ Is@@ Dis@@ cor@@ ver@@ ed@@ Host@@ s@@ ().getEntity@@ ()); } else { update@@ Host@@ List@@ (@@ true@@ ); update@@ Host@@ List@@ (@@ false@@ ); } }
private void new@@ Vm@@ () { if ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ List@@ Model.get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.vms.@@ New@@ Vm@@ Model@@ Be@@ ha@@ vi@@ or@@ ()); model.set@@ Title(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Constant@@ s@@ ()@@ .@@ new@@ Vm@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ Tag@@ .@@ new@@ _@@ vm@@ ); model.set@@ Hash@@ Name(@@ "@@ new@@ _@@ vm@@ "); model.set@@ Is@@ New@@ (@@ true@@ ); model.get@@ Vm@@ Type@@ ().set@@ SelectedItem@@ (@@ Vm@@ Type.@@ Server@@ ); model.set@@ Custom@@ Properties@@ Key@@ s@@ List(@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Custom@@ Properties@@ List@@ ()); model.set@@ Is@@ Ad@@ v@@ ance@@ d@@ M@@ ode@@ Local@@ Storage@@ Key@@ ("@@ w@@ a@@ _@@ vm@@ _@@ d@@ ial@@ og@@ "); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.@@ initial@@ iz@@ e(@@ get@@ System@@ T@@ ree@@ SelectedItem@@ ()); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Bas@@ ed@@ Widget@@ S@@ wit@@ ch@@ M@@ ode@@ C@@ ommand switch@@ M@@ ode@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Bas@@ ed@@ Widget@@ S@@ wit@@ ch@@ M@@ ode@@ Command@@ (); switch@@ M@@ ode@@ Command.@@ init@@ (model@@ ); model.get@@ Command@@ s().@@ add@@ (@@ switch@@ M@@ ode@@ Command@@ ); model.get@@ Provi@@ sion@@ ing@@ ().set@@ Entity@@ (@@ true@@ ); org.ovirt.engine.ui.uicommonweb.UICommand temp@@ V@@ a@@ r = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ S@@ ave@@ ", this@@ ); tempVar@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ()); tempVar@@ .set@@ Is@@ Default@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ ); org.ovirt.engine.ui.uicommonweb.UICommand tempVar@@ 2 = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ ", this@@ ); tempVar@@ 2@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); tempVar@@ 2@@ .set@@ Is@@ Cancel@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ 2@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { super@@ .set@@ Action@@ Message@@ Parameters@@ (); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ M@@ AC@@ __@@ P@@ O@@ OL@@ ); }
public void set@@ Help@@ Tag@@ (java.lang.String h@@ el@@ p@@ Tag@@ , java.lang.String h@@ el@@ p@@ Comm@@ ent@@ ) { this@@ .@@ h@@ el@@ p@@ T@@ a@@ g = h@@ el@@ p@@ Tag@@ ; this@@ .@@ h@@ el@@ p@@ Comm@@ ent = h@@ el@@ p@@ Comm@@ ent@@ ; }
private void exp@@ and@@ T@@ re@@ e(@@ com.google.gwt.@@ user.@@ ce@@ ll@@ view@@ .client.@@ T@@ ree@@ Nod@@ e n@@ ode@@ , boolean exp@@ and@@ , int exp@@ and@@ L@@ ev@@ el@@ ) { if (@@ n@@ od@@ e == null@@ ) { return@@ ; } if ((@@ n@@ od@@ e.get@@ Ch@@ ild@@ Count@@ ()) > 0) { for (@@ int i = 0@@ ; i < (@@ n@@ od@@ e.get@@ Ch@@ ild@@ Count@@ ()); i@@ +@@ +@@ +@@ ) { boolean exp@@ and@@ Nod@@ e = (@@ i == 0) ? exp@@ and@@ Le@@ ve@@ l > 0 : exp@@ and@@ ; exp@@ and@@ T@@ re@@ e(@@ n@@ od@@ e.set@@ Ch@@ ild@@ Op@@ en@@ (@@ i@@ , exp@@ and@@ Node@@ ), exp@@ and@@ , (@@ exp@@ and@@ Le@@ ve@@ l - 1@@ )); } } }
public void set@@ Resource@@ Manager@@ (@@ org.ovirt.engine.core.vdsbroker.@@ Resource@@ Manage@@ r res@@ ource@@ Manager@@ ) { this@@ .@@ res@@ ource@@ Manage@@ r = res@@ ource@@ Manager@@ ; }
@java.lang.Override public void execute@@ () { if ((@@ conn@@ ected@@ .get@@ Count@@ ()) == 0) { conn@@ ected = new java.util.@@ con@@ c@@ urr@@ ent.@@ Count@@ Down@@ L@@ atch@@ (@@ 1@@ ); } if ((@@ sub@@ s@@ cri@@ b@@ ed@@ .get@@ Count@@ ()) == 0) { sub@@ s@@ cri@@ b@@ ed = new java.util.@@ con@@ c@@ urr@@ ent.@@ Count@@ Down@@ L@@ atch@@ (@@ 1@@ ); } org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ im@@ pl.@@ Mess@@ age mess@@ age = new org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ im@@ pl.@@ Message@@ ().@@ conn@@ ect@@ ().@@ with@@ H@@ ead@@ er@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ H@@ E@@ AD@@ ER_@@ AC@@ C@@ E@@ P@@ T@@ , "@@ 1@@ .@@ 2@@ "); if (p@@ olicy@@ .is@@ H@@ e@@ art@@ b@@ eat@@ ()) { mess@@ age.@@ with@@ H@@ ead@@ er@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ H@@ E@@ AD@@ ER_@@ H@@ E@@ AR@@ T_@@ B@@ E@@ AT@@ , ((@@ 0 + "@@ ,@@ ") + (@@ red@@ u@@ ce@@ G@@ r@@ ace@@ Per@@ i@@ od@@ (p@@ olicy@@ .get@@ H@@ e@@ art@@ b@@ eat@@ ())@@ ))); } s@@ end@@ (m@@ ess@@ age.@@ build@@ ()); sub@@ s@@ cri@@ b@@ tion@@ Id = java.util.@@ UUID@@ .@@ r@@ an@@ do@@ m@@ UUID@@ ().@@ toString@@ (); s@@ end@@ (@@ new org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ im@@ pl.@@ Message@@ ().@@ sub@@ s@@ cri@@ b@@ e@@ ().@@ with@@ H@@ ead@@ er@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ H@@ E@@ AD@@ ER_@@ D@@ ES@@ TI@@ NA@@ TI@@ ON@@ , get@@ Respon@@ se@@ Q@@ ue@@ ()).@@ with@@ H@@ ead@@ er@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ H@@ E@@ AD@@ ER_@@ ID@@ , sub@@ s@@ cri@@ b@@ tion@@ Id@@ ).@@ with@@ H@@ ead@@ er@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ H@@ E@@ AD@@ ER_@@ AC@@ K@@ , "@@ client@@ ").@@ build@@ ()); }
@java.lang.Override protected void execute@@ Query@@ Command() { cluster@@ Id = org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ GlusterVolume@@ R@@ eb@@ al@@ ance@@ Status@@ Query.get@@ Parameters().get@@ Cluster@@ Id@@ (); org.ovirt.engine.core.compat.Guid volume@@ Id = org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ GlusterVolume@@ R@@ eb@@ al@@ ance@@ Status@@ Query.get@@ Parameters().get@@ Volume@@ Id@@ (); if (@@ volume@@ Id != null@@ ) { volum@@ e = org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ GlusterVolume@@ R@@ eb@@ al@@ ance@@ Status@@ Query.get@@ GlusterVolume@@ Dao().get@@ By@@ Id(@@ volume@@ Id); if ((@@ volume@@ ) == null@@ ) { throw new java.lang.@@ Run@@ time@@ Exception@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ IN@@ VALID@@ .@@ toString()); } if ((@@ cluster@@ Id) == null@@ ) { cluster@@ Id = volum@@ e.get@@ Cluster@@ Id@@ (); } async@@ T@@ as@@ k = volum@@ e.get@@ AsyncTask@@ (); org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ GlusterVolume@@ R@@ eb@@ al@@ ance@@ Status@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (@@ f@@ et@@ ch@@ Task@@ Status@@ Detail@@ s()); } }
private void validate@@ Qos@@ Not@@ Par@@ ti@@ all@@ y@@ Configur@@ ed@@ () { java.util.@@ Set<@@ java.lang.String> s@@ om@@ e@@ Sub@@ Interfaces@@ H@@ ave@@ Q@@ o@@ s = new java.util.Hash@@ Set<@@ >(); java.util.@@ Set<@@ java.lang.String> not@@ All@@ Sub@@ Interfaces@@ H@@ ave@@ Q@@ o@@ s = new java.util.Hash@@ Set<@@ >(); for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e : param@@ s.get@@ Interfaces@@ ()) { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = get@@ Existing@@ Cluster@@ Networks@@ ().get@@ (@@ if@@ ac@@ e.get@@ Network@@ Name()); java.lang.String b@@ ase@@ I@@ fac@@ e@@ Name = org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ st@@ ri@@ p@@ V@@ lan@@ (@@ if@@ ace@@ ); if (@@ org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ q@@ os@@ Configur@@ ed@@ On@@ Interface@@ (@@ if@@ ace@@ , network@@ )) { s@@ om@@ e@@ Sub@@ Interfaces@@ H@@ ave@@ Q@@ o@@ s.add(@@ b@@ ase@@ I@@ fac@@ e@@ Name); } else { not@@ All@@ Sub@@ Interfaces@@ H@@ ave@@ Q@@ o@@ s.add(@@ b@@ ase@@ I@@ fac@@ e@@ Name); } for (java.lang.String if@@ ace@@ Name : s@@ om@@ e@@ Sub@@ Interfaces@@ H@@ ave@@ Qos@@ ) { if (@@ not@@ All@@ Sub@@ Interfaces@@ H@@ ave@@ Q@@ o@@ s.@@ contains@@ (@@ if@@ ace@@ Name@@ )) { add@@ Vi@@ ol@@ ation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ HOST@@ _@@ NETWORK_@@ Q@@ O@@ S_@@ IN@@ TER@@ F@@ AC@@ E@@ S_@@ W@@ I@@ T@@ HO@@ U@@ T_@@ Q@@ O@@ S@@ , if@@ ace@@ Name); } } }
@@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Template@@ ("@@ <@@ sp@@ an class@@ =@@ \"@@ f@@ a {0@@ } in@@ lin@@ e@@ -@@ ic@@ on@@ \@@ " st@@ y@@ le@@ =@@ \"@@ c@@ ol@@ or@@ : {@@ 1@@ }@@ \"@@ /@@ >@@ ") com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l ic@@ on@@ (java.lang.String class@@ Name, java.lang.String c@@ ol@@ or@@ );
@java.lang.Override public void edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model object@@ ) { d@@ ri@@ ver.@@ edit@@ (@@ object@@ ); final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model storage@@ Model = object@@ ; storage@@ Model.get@@ SelectedItem@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { re@@ ve@@ al@@ Storage@@ View@@ (@@ storage@@ Model@@ ); } }); storage@@ Model.get@@ DataCenter@@ Al@@ er@@ t@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { dat@@ ac@@ enter@@ Al@@ er@@ t@@ I@@ con@@ .set@@ Visi@@ bl@@ e(@@ storage@@ Model.get@@ DataCenter@@ Al@@ er@@ t@@ ().get@@ Is@@ Available@@ ()); dat@@ ac@@ enter@@ Al@@ er@@ t@@ I@@ con@@ .set@@ Title(@@ storage@@ Model.get@@ DataCenter@@ Al@@ er@@ t@@ ().getEntity@@ ()); } }); }
public static org.ovirt.engine.core.bll.ValidationResult can@@ Run@@ Action@@ On@@ Non@@ Manage@@ d@@ Vm@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , org.ovirt.engine.core.common.action.VdcAction@@ Type action@@ Type@@ ) { org.ovirt.engine.core.bll.ValidationResult valid@@ ation@@ Result = ValidationRes@@ ult.@@ VALID@@ ; if ((@@ (vm@@ .is@@ Host@@ ed@@ Engine@@ ()) && (!@@ (org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ C@@ O@@ M@@ AN@@ D@@ S_@@ AL@@ LO@@ W@@ ED_@@ ON_@@ HOST@@ ED_@@ EN@@ G@@ IN@@ E@@ .@@ contains(@@ action@@ Type@@ )@@ ))) || ((@@ vm@@ .is@@ External@@ Vm@@ ()) && (!@@ (org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ C@@ O@@ M@@ AN@@ D@@ S_@@ AL@@ LO@@ W@@ ED_@@ ON_@@ EX@@ TER@@ N@@ AL@@ _@@ VM@@ S@@ .@@ contains(@@ action@@ Type@@ )@@ ))) { valid@@ ation@@ Result = new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ R@@ UN@@ _@@ ACTION_@@ ON_@@ N@@ ON_@@ M@@ AN@@ AG@@ ED_@@ VM@@ ); } return valid@@ ation@@ Result@@ ; }
private void fa@@ st@@ For@@ w@@ ard@@ Disks@@ To@@ Active@@ Snapshot@@ () { if ((get@@ Parameters().get@@ Disks@@ ()) != null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ Images@@ To@@ Up@@ dat@@ e = get@@ Disk@@ Images@@ For@@ Vm@@ (); disk@@ Images@@ To@@ Up@@ dat@@ e.@@ remove@@ All@@ (get@@ Parameters().get@@ Disks@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image : disk@@ Images@@ To@@ Update@@ ) { org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command.get@@ Image@@ Dao().@@ update@@ Image@@ Vm@@ Snapshot@@ Id(@@ disk@@ Image.get@@ Image@@ Id(), new@@ Active@@ Snapshot@@ Id); } } }
private org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult fail@@ With@@ (@@ org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult result@@ , java.lang.String error@@ Message@@ ) { result.@@ set@@ Success@@ (@@ false@@ ); result.@@ set@@ Reason@@ s(@@ java.util.Arrays.as@@ List(@@ error@@ Message@@ )); return org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult.@@ o@@ k@@ (); }
protected void init@@ T@@ able@@ Column@@ s(@@ org.ovirt.engine.ui.webadmin.@@ Ap@@ plication@@ Constant@@ s const@@ an@@ t@@ s) { de@@ vice@@ T@@ abl@@ e.@@ add@@ Entity@@ Model@@ Column@@ (@@ new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Entity@@ Model@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Device@@ >() { @java.lang.Override public java.lang.String get@@ Text@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Device entity@@ ) { return entity.get@@ Name@@ (); } }, const@@ an@@ t@@ s.@@ de@@ vice@@ Name()); de@@ vice@@ T@@ abl@@ e.@@ add@@ Entity@@ Model@@ Column@@ (@@ new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Entity@@ Model@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Device@@ >() { @java.lang.Override public java.lang.String get@@ Text@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Device entity@@ ) { if ((@@ entity.get@@ Size@@ ()) != null@@ ) { org.ovirt.engine.core.common.utils.Pair@@ <@@ org.ovirt.engine.core.common.utils.@@ Size@@ Conver@@ t@@ er.@@ Size@@ Unit@@ , java.lang.@@ Do@@ ubl@@ e@@ > con@@ ver@@ ted@@ S@@ iz@@ e = org.ovirt.engine.core.common.utils.@@ Size@@ Conver@@ t@@ er.@@ au@@ to@@ Conver@@ t@@ (@@ entity.get@@ Size@@ (), Size@@ Un@@ it.@@ M@@ B@@ ); return (@@ for@@ mat@@ S@@ iz@@ e(@@ con@@ ver@@ ted@@ S@@ iz@@ e.get@@ Sec@@ ond@@ ())) + " ") + (@@ con@@ ver@@ ted@@ S@@ iz@@ e.get@@ F@@ ir@@ st@@ ().@@ toString()); } else { return "@@ "; } } }, const@@ an@@ t@@ s.@@ size@@ ()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Template@@ s al@@ read@@ y ex@@ ist@@ ") java.lang.String template@@ Al@@ read@@ y@@ Exist@@ s@@ M@@ s@@ g@@ ();
@java.lang.Override protected boolean canDoAction@@ () { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volum@@ e = get@@ GlusterVolume@@ (); if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } if (!(@@ validate@@ (get@@ Brick@@ Validator@@ ().@@ can@@ St@@ op@@ Or@@ Comm@@ it@@ Remove@@ Brick@@ (@@ volume@@ , get@@ Parameters().get@@ Brick@@ s@@ ())@@ ))) { return false@@ ; } if ((!@@ (get@@ Gluster@@ Task@@ Util@@ s().@@ is@@ Task@@ Of@@ Type(@@ volume@@ , Gluster@@ Task@@ Type.@@ RE@@ M@@ OV@@ E_@@ B@@ R@@ IC@@ K@@ ))) || (!@@ ((get@@ Gluster@@ Task@@ Util@@ s().@@ is@@ Task@@ Status(@@ volume@@ , Job@@ Execution@@ Status.@@ ST@@ AR@@ T@@ ED@@ )) || (get@@ Gluster@@ Task@@ Util@@ s().@@ is@@ Task@@ Status(@@ volume@@ , Job@@ Execution@@ Status.@@ F@@ IN@@ IS@@ H@@ ED@@ )@@ )@@ ))) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ RE@@ M@@ OV@@ E_@@ B@@ R@@ IC@@ K@@ S_NOT_@@ ST@@ AR@@ T@@ ED); } return true@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ > entity@@ List = get@@ Ovf@@ Entity@@ List(@@ Vm@@ Entity@@ Type.@@ T@@ EM@@ P@@ L@@ AT@@ E); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > vm@@ Template@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data ov@@ f : entity@@ List@@ ) { try { vm@@ Templ@@ at@@ es.@@ add(@@ ovf@@ Helper.@@ read@@ VmTemplate@@ From@@ Ovf@@ (@@ ovf@@ .get@@ Ovf@@ Data@@ ())@@ .get@@ F@@ ir@@ st@@ ()); } catch (@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ Ovf@@ Read@@ er@@ Exception e) { log.debug@@ ((@@ "@@ fail@@ ed to par@@ se a g@@ ive@@ n ov@@ f config@@ ur@@ ation@@ : \@@ n@@ " + (@@ ovf@@ .get@@ Ovf@@ Data@@ ())@@ ), e); org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ gist@@ er@@ ed@@ Vm@@ Templ@@ at@@ es@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ Exception@@ String@@ ((@@ "@@ fail@@ ed to par@@ se a g@@ ive@@ n ov@@ f config@@ ur@@ ation " + (@@ e.get@@ Message@@ ()))); } } org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ gist@@ er@@ ed@@ Vm@@ Templ@@ at@@ es@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ true@@ ); org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ gist@@ er@@ ed@@ Vm@@ Templ@@ at@@ es@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (vm@@ Templ@@ at@@ es@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ HO@@ T_@@ S@@ E@@ T_@@ M@@ EM@@ OR@@ Y@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ VM@@ ); add@@ Validation@@ Message@@ Var@@ i@@ able@@ ("@@ cluster@@ Version@@ ", org.ovirt.engine.core.bll.@@ Hot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.getVm@@ ().get@@ VdsGroup@@ CompatibilityVersion@@ ()); add@@ Validation@@ Message@@ Var@@ i@@ able@@ ("@@ arch@@ it@@ ect@@ ure@@ ", org.ovirt.engine.core.bll.@@ Hot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.getVm@@ ().get@@ Cluster@@ Ar@@ ch@@ ()); }
private void validate@@ Source@@ () { cl@@ e@@ ar@@ Error@@ And@@ W@@ arning@@ (); if ((@@ (@@ import@@ S@@ ourc@@ es@@ .get@@ SelectedItem@@ ()) == (@@ Import@@ S@@ ource.@@ EX@@ POR@@ T_@@ DOMA@@ IN@@ )) && ((@@ ex@@ port@@ Domain@@ ) == null@@ )) { set@@ Error@@ (@@ const@@ an@@ t@@ s.@@ not@@ Available@@ With@@ No@@ Active@@ Export@@ Domain@@ ()); } }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { super@@ .set@@ Action@@ Message@@ Parameters@@ (); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ EX@@ T@@ EN@@ D@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image = org.ovirt.engine.core.bll.@@ Ex@@ tend@@ Image@@ Size@@ Command.get@@ Image@@ (); org.ovirt.engine.core.bll.@@ Ex@@ tend@@ Image@@ Size@@ Command.get@@ Parameters@@ ().set@@ StoragePool@@ Id(@@ disk@@ Image.get@@ StoragePool@@ Id@@ ().get@@ Value@@ ()); org.ovirt.engine.core.bll.@@ Ex@@ tend@@ Image@@ Size@@ Command.get@@ Parameters@@ ().set@@ StorageDomain@@ Id(@@ disk@@ Image.get@@ Storage@@ Id@@ s().get@@ (0@@ )); org.ovirt.engine.core.bll.@@ Ex@@ tend@@ Image@@ Size@@ Command.get@@ Parameters@@ ().set@@ ImageGroup@@ ID@@ (disk@@ Image.get@@ Id()); org.ovirt.engine.core.bll.@@ Ex@@ tend@@ Image@@ Size@@ Command.@@ lock@@ Image@@ (); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Ex@@ tend@@ Image@@ Size@@ , create@@ Ex@@ tend@@ Image@@ Size@@ VDSCommand@@ Parameters@@ (disk@@ Image@@ )); if (vds@@ Return@@ Value.get@@ Succeeded@@ ()) { org.ovirt.engine.core.bll.@@ Ex@@ tend@@ Image@@ Size@@ Command.get@@ ReturnValue@@ ().set@@ Succeeded@@ (@@ true@@ ); } }
@java.lang.Override public void set@@ Entity(@@ E value@@ ) { if ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ List@@ Model.get@@ Entity@@ ()) == null@@ ) { super@@ .set@@ Entity(@@ value@@ ); return@@ ; } if (@@ valu@@ e != null@@ ) { if (!@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ I@@ VdcQuery@@ able@@ ) (@@ value@@ )@@ ).get@@ Query@@ able@@ Id().@@ equals@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ I@@ VdcQuery@@ able@@ ) (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ List@@ Model.get@@ Entity@@ ())@@ ).get@@ Query@@ able@@ Id@@ ()))) { super@@ .set@@ Entity(@@ value@@ ); return@@ ; } } if (!(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ List@@ Model.get@@ Entity@@ ().@@ equals(@@ value@@ ))) { super@@ .set@@ Entity(@@ value@@ ); return@@ ; } set@@ Entity(@@ value@@ , false@@ ); }
@org.junit.Test public void canDoAction@@ Fail@@ s@@ On@@ No@@ Con@@ f@@ l@@ ic@@ t@@ Server@@ s() { c@@ m@@ d = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.@@ gluster.@@ Update@@ Gluster@@ Hook@@ Command@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.Gluster@@ Hook@@ Manage@@ Parameters(@@ HO@@ O@@ K_@@ ID@@ ))); org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Hook@@ Entity h@@ oo@@ k = get@@ Hook@@ Entity@@ (); h@@ ook@@ .set@@ Server@@ Hook@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (get@@ Gluster@@ Server@@ Hook@@ (0@@ , Gluster@@ Hook@@ Status.@@ M@@ IS@@ S@@ ING@@ ))); set@@ up@@ Mock@@ s@@ (cmd@@ , true@@ , h@@ ook@@ ); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ GLUSTER_@@ HO@@ O@@ K_@@ NO@@ _C@@ ON@@ F@@ L@@ IC@@ T_@@ S@@ ER@@ V@@ ER@@ S@@ .@@ toString@@ ())); }
@java.lang.Override protected boolean canDoAction@@ () { if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } if ((@@ user@@ Profile@@ Dao.get@@ By@@ User@@ Id@@ (org.ovirt.engine.core.bll.@@ Update@@ User@@ Profile@@ Command.get@@ User@@ Id@@ ())) == null@@ ) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ P@@ RO@@ F@@ IL@@ E_@@ NOT_@@ EXIST@@ ); } return true@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Th@@ rou@@ g@@ h@@ put@@ ") java.lang.String cpu@@ Qos@@ Label@@ ();
public org.ovirt.engine.core.bll.ValidationResult ex@@ ternal@@ Network@@ Is@@ VmNetwork@@ () { return network.@@ is@@ VmNetwork@@ () ? org.ovirt.engine.core.bll.ValidationResult.@@ VAL@@ I@@ D : new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ EX@@ TER@@ N@@ AL@@ _@@ NETWORK_@@ M@@ U@@ ST@@ _@@ B@@ E_@@ VM_@@ NETWOR@@ K@@ ); }
private org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ M@@ en@@ u@@ C@@ el@@ l@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Task@@ Sup@@ port@@ > get@@ Remove@@ Brick@@ Ac@@ ti@@ vi@@ ty@@ M@@ en@@ u@@ (@@ org.ovirt.engine.ui.webadmin.@@ Ap@@ plication@@ Constant@@ s const@@ an@@ t@@ s) { org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ M@@ en@@ u@@ C@@ el@@ l@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Task@@ Sup@@ port@@ > m@@ en@@ u@@ C@@ el@@ l = new org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ M@@ en@@ u@@ C@@ el@@ l@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Task@@ Sup@@ port@@ >() { @java.lang.Override protected boolean is@@ Visi@@ bl@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Task@@ Sup@@ por@@ t value@@ ) { return (@@ valu@@ e.get@@ AsyncTask@@ ().get@@ Type()) == (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ Task@@ Type.@@ RE@@ M@@ OV@@ E_@@ B@@ R@@ IC@@ K@@ ); } }; m@@ en@@ u@@ C@@ el@@ l.@@ add@@ M@@ en@@ u@@ Item@@ (@@ const@@ an@@ t@@ s.@@ remove@@ Brick@@ s@@ St@@ op@@ (), get@@ Main@@ Model().get@@ Brick@@ List@@ Model().get@@ St@@ op@@ Remove@@ Brick@@ s@@ Command@@ ()); m@@ en@@ u@@ C@@ el@@ l.@@ add@@ M@@ en@@ u@@ Item@@ (@@ const@@ an@@ t@@ s.@@ remove@@ Brick@@ s@@ Comm@@ it@@ (), get@@ Main@@ Model().get@@ Brick@@ List@@ Model().get@@ Comm@@ it@@ Remove@@ Brick@@ s@@ Command@@ ()); return m@@ en@@ u@@ C@@ el@@ l@@ ; }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <@@ org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ >> run@@ S@@ cor@@ es(@@ java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.String, java.lang.Integer@@ >> s@@ cor@@ e@@ Name@@ And@@ W@@ e@@ ig@@ ht@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid> host@@ ID@@ s, org.ovirt.engine.core.compat.Guid vm@@ ID@@ , java.util.Map<java.lang.String, java.lang.String> proper@@ ties@@ Map@@ ) { try { if (s@@ cor@@ e@@ Name@@ And@@ W@@ e@@ ig@@ h@@ t.@@ isEmpty@@ ()) return null@@ ; } org.apach@@ e.@@ x@@ ml@@ rpc@@ .client.@@ XmlR@@ pc@@ Cli@@ ent cli@@ ent = new org.apach@@ e.@@ x@@ ml@@ rpc@@ .client.@@ XmlR@@ pc@@ Client@@ (); client.@@ set@@ Config@@ (@@ config@@ ); java.lang.Object result = client.@@ execute@@ (org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Broker@@ Impl.@@ S@@ C@@ OR@@ E, create@@ S@@ cor@@ e@@ Name@@ And@@ W@@ e@@ ig@@ ht@@ , host@@ ID@@ s, vm@@ ID@@ , proper@@ ties@@ Map@@ )); return par@@ se@@ S@@ cor@@ e@@ Result@@ s(@@ result@@ ); } catch (@@ org.apach@@ e.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Exception e) { org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Broker@@ Impl.@@ log.error("@@ C@@ oul@@ d not c@@ omm@@ un@@ ic@@ ate wit@@ h the ex@@ ter@@ n@@ al schedul@@ er while run@@ n@@ ing w@@ e@@ ig@@ h@@ t m@@ od@@ ul@@ es@@ ", e); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ g@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base@@ (); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log@@ (@@ log@@ g@@ able@@ , AuditLogType.@@ FAILED_@@ TO@@ _C@@ ON@@ N@@ EC@@ T_@@ TO@@ _S@@ C@@ H@@ ED@@ U@@ L@@ ER_@@ P@@ RO@@ X@@ Y@@ ); return null@@ ; } }
@org.junit.Test public void test@@ Network@@ Attached@@ To@@ Cluster@@ W@@ h@@ en@@ Not@@ Attached@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = new org.ovirt.engine.core.common.businessentities.network.Network@@ (); network@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); network@@ .set@@ Name@@ ("@@ network@@ Name@@ "); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent attach@@ m@@ ent = new org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ (); attach@@ m@@ ent.@@ set@@ Network@@ Id(@@ network@@ .getId()); attach@@ m@@ ent.@@ set@@ Network@@ Name(@@ network@@ .get@@ Name()); org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ Id network@@ Cluster@@ Id = new org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ Id(@@ hos@@ t.get@@ VdsGroup@@ Id(), network@@ .getId()); when(@@ network@@ Cluster@@ Dao@@ Mock@@ .get(@@ e@@ q@@ (network@@ Cluster@@ Id@@ )@@ )).@@ then@@ Return@@ (@@ null@@ ); when(@@ network@@ Dao@@ Mock@@ .get(@@ e@@ q@@ (network@@ .getId@@ ())@@ )).@@ thenReturn(@@ network@@ ); org.ovirt.engine.core.common.errors.@@ EngineMess@@ age engin@@ e@@ Mess@@ age = org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ NETWORK_@@ O@@ F@@ _@@ G@@ I@@ V@@ EN@@ _@@ NAM@@ E_@@ NOT_@@ EXIST@@ S_@@ IN@@ _C@@ LUST@@ ER@@ ; assert@@ That@@ (c@@ reate@@ NetworkAttachment@@ Validator@@ (@@ attach@@ ment@@ ).@@ network@@ Attached@@ To@@ Cluster@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (@@ engin@@ e@@ Message@@ , org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Util@@ s.get@@ Var@@ i@@ able@@ As@@ s@@ ign@@ ment@@ String@@ (@@ engin@@ e@@ Message@@ , network@@ .getName@@ ()))); }
protected void list@@ en@@ On@@ R@@ ad@@ i@@ o@@ Button@@ s@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ I@@ User@@ Port@@ al@@ List@@ Model model@@ ) { re@@ gist@@ er@@ Handler@@ (get@@ View@@ ().get@@ R@@ d@@ p@@ R@@ ad@@ i@@ o@@ Button@@ ().add@@ Value@@ Change@@ Handler@@ (@@ new com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Handler@@ <@@ java.lang.Boolean@@ >() { @java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { get@@ View@@ ().@@ r@@ d@@ p@@ Selected@@ (@@ ev@@ ent.get@@ Value@@ ()); get@@ View@@ ().@@ sp@@ ice@@ Selected@@ ((!@@ (@@ ev@@ ent.get@@ Value@@ ()))); get@@ View@@ ().set@@ W@@ an@@ Option@@ s@@ Visi@@ bl@@ e@@ (((@@ w@@ an@@ Option@@ s@@ Available@@ ) && (!(@@ ev@@ ent.get@@ Value@@ ())@@ ))); } }@@ )); re@@ gist@@ er@@ Handler@@ (get@@ View@@ ().get@@ Sp@@ ice@@ R@@ ad@@ i@@ o@@ Button@@ ().add@@ Value@@ Change@@ Handler@@ (@@ new com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Handler@@ <@@ java.lang.Boolean@@ >() { @java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { get@@ View@@ ().@@ sp@@ ice@@ Selected@@ (@@ ev@@ ent.get@@ Value@@ ()); get@@ View@@ ().@@ r@@ d@@ p@@ Selected@@ ((!@@ (@@ ev@@ ent.get@@ Value@@ ()))); get@@ View@@ ().set@@ W@@ an@@ Option@@ s@@ Visi@@ bl@@ e@@ (((@@ w@@ an@@ Option@@ s@@ Available@@ ) && (@@ ev@@ ent.get@@ Value@@ ()))); } }@@ )); }
public org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Storage@@ Device@@ List@@ Model get@@ Storage@@ Device@@ ListModel@@ () { return storage@@ Device@@ ListModel@@ ; }
@java.lang.Override public void On@@ Success@@ (java.lang.Object model, java.lang.Object result) { get@@ W@@ in@@ do@@ w@@ ().@@ St@@ op@@ Progress@@ (); org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ Value = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ result@@ )); if (@@ return@@ Value == null@@ ) || (!@@ (@@ return@@ Value.get@@ Succeeded@@ ()))) { on@@ Empty@@ Gluster@@ Host@@ s@@ (cluster@@ Model@@ ); return@@ ; } java.util.Map<java.lang.String, java.lang.String> host@@ Map = ((@@ java.util.Map<java.lang.String, java.lang.String@@ >) (@@ return@@ Value.get@@ ReturnValue@@ ())); if (@@ host@@ Map == null@@ ) { on@@ Empty@@ Gluster@@ Host@@ s@@ (cluster@@ Model@@ ); return@@ ; } if ((@@ host@@ Map.@@ contains@@ Value@@ (@@ null@@ )) || (@@ host@@ Map.@@ contains@@ Value("@@ "@@ ))) { on@@ Gluster@@ Host@@ sWith@@ out@@ F@@ ing@@ er@@ p@@ r@@ int@@ (@@ host@@ Map@@ , cluster@@ Model@@ ); return@@ ; } java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ > lis@@ t = new java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ >(); for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, java.lang.String> hos@@ t : host@@ Map.@@ e@@ n@@ try@@ Set@@ ()) { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Detail@@ Model host@@ Model = new org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Detail@@ Model@@ (@@ hos@@ t.get@@ Key@@ (), hos@@ t.get@@ Value@@ ()); host@@ Model.set@@ Name(@@ hos@@ t.get@@ Key@@ ()); host@@ Model.set@@ Password@@ ("@@ "); org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model entity@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ (@@ host@@ Model@@ ); lis@@ t.@@ add(@@ entity@@ Model@@ ); } import@@ Cluster@@ Host@@ s@@ (cluster@@ Model@@ , list@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Al@@ lo@@ w to c@@ re@@ ate v@@ N@@ I@@ C Profile@@ ") java.lang.String al@@ low@@ To@@ Create@@ VnicProfile@@ Role@@ T@@ ree@@ T@@ ooltip@@ ();
private void h@@ andle@@ An@@ y@@ Ch@@ ild@@ SP@@ M@@ Task@@ Comp@@ let@@ ion@@ (@@ boolean s@@ uc@@ ceeded@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid> ch@@ ild@@ Command@@ Id@@ s = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Ch@@ ild@@ Command@@ Id@@ s@@ (org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.get@@ Command@@ Id()); if (@@ ch@@ ild@@ Command@@ Id@@ s.@@ isEmpty@@ ()) { return@@ ; } org.ovirt.engine.core.compat.Guid current@@ Ch@@ ild@@ Id = ch@@ ild@@ Command@@ Id@@ s.get@@ (0@@ ); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.@@ log.info@@ ("@@ Handl@@ ing ch@@ il@@ d c@@ ommand {@@ } comp@@ let@@ ion@@ ", current@@ Ch@@ ild@@ Id); if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (c@@ urrent@@ Ch@@ ild@@ Id@@ ))) { org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > c@@ ommand = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ ret@@ ri@@ e@@ ve@@ Command@@ (c@@ urrent@@ Ch@@ ild@@ Id); org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Command@@ Entity@@ (c@@ urrent@@ Ch@@ ild@@ Id); if ((@@ (c@@ ommand != null@@ ) && (cmd@@ Entity != null@@ )) && (!@@ (cmd@@ Entity@@ .is@@ Callback@@ No@@ t@@ if@@ i@@ ed@@ ()))) { if (!@@ s@@ uc@@ ceeded@@ ) { command@@ .get@@ Parameters@@ ().set@@ Task@@ Group@@ Success@@ (@@ false@@ ); } org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ end@@ Action(VdcActionType.@@ Ex@@ tend@@ Image@@ Size@@ , command@@ .get@@ Parameters@@ (), org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Ex@@ tend@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); if (s@@ uc@@ cee@@ de@@ d && ((org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Command@@ Entity@@ (c@@ urrent@@ Ch@@ ild@@ Id@@ )) != null@@ )) { org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Command@@ Entity@@ (c@@ urrent@@ Ch@@ ild@@ Id@@ )@@ .set@@ Callback@@ No@@ t@@ if@@ i@@ ed@@ (@@ true@@ ); } } } }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > get@@ AllFor@@ Cluster@@ (org.ovirt.engine.core.compat.Guid id@@ ) { return get@@ AllFor@@ Cluster@@ (@@ id@@ , false@@ ); }
public java.lang.Integ@@ er c@@ al@@ c@@ Max@@ V@@ Cpu@@ () { return vm@@ .@@ c@@ al@@ c@@ Max@@ V@@ Cpu@@ (); }
private boolean can@@ Remove@@ Vm@@ Pool@@ (org.ovirt.engine.core.compat.Guid vm@@ Pool@@ Id) { return (org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ Pool@@ Command.getVm@@ Pool@@ Dao().get@@ Vm@@ Pool@@ s@@ Map@@ By@@ Vm@@ Pool@@ Id@@ (vm@@ Pool@@ Id@@ ).@@ size()) == 0@@ ; }
private void validate@@ Remove@@ () { if ((@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.get@@ StorageDomain@@ ().get@@ V@@ g@@ M@@ et@@ ad@@ ata@@ Device@@ ()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.get@@ StorageDomain@@ ().get@@ F@@ ir@@ st@@ M@@ et@@ ad@@ ata@@ Device@@ ()) == null@@ )) { bl@@ ock@@ StorageDomain@@ Helper.@@ fil@@ l@@ M@@ et@@ ad@@ ata@@ Devices@@ Info@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.get@@ Vds@@ ().get@@ StoragePool@@ Id()); validate@@ R@@ et@@ ri@@ ev@@ ed@@ M@@ et@@ ad@@ ata@@ Devices@@ (); storageDomain@@ Static@@ Dao@@ .@@ update@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); java.util.List<java.lang.String> m@@ et@@ ad@@ ata@@ Device@@ s = bl@@ ock@@ StorageDomain@@ Helper.@@ fin@@ d@@ M@@ et@@ ad@@ ata@@ Devices@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.get@@ StorageDomain@@ (), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.getParameters().get@@ Devices@@ To@@ R@@ ed@@ u@@ ce@@ ()); if (!(@@ m@@ et@@ ad@@ ata@@ Devic@@ es.@@ isEmpty@@ ())) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devices@@ Command.set@@ Custom@@ Comm@@ a@@ Se@@ par@@ ated@@ Valu@@ es@@ ("@@ de@@ vice@@ Id@@ s", m@@ et@@ ad@@ ata@@ Devices@@ ); au@@ ditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , AuditLogType.@@ US@@ ER_@@ R@@ ED@@ U@@ C@@ E_@@ DOMA@@ IN_@@ DE@@ V@@ IC@@ E@@ S_@@ FAILED_@@ M@@ ET@@ AD@@ AT@@ A@@ _@@ DE@@ V@@ IC@@ ES@@ ); throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ Gener@@ al@@ Exception@@ , "@@ Can@@ not p@@ er@@ for@@ m on m@@ et@@ ad@@ at@@ a de@@ vic@@ es@@ "); } } validate@@ F@@ ree@@ Sp@@ ace@@ (); }
public static void get@@ All@@ Network@@ Qos@@ (org.ovirt.engine.core.compat.Guid dc@@ Id, org.ovirt.engine.ui.frontend.AsyncQuery query@@ ) { query@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ <@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ q@@ o@@ s.@@ Network@@ Q@@ oS@@ >@@ >() { @java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Q@@ oS@@ > Conver@@ t@@ (java.lang.Object return@@ Value@@ , org.ovirt.engine.ui.frontend.AsyncQuery async@@ Query@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Q@@ oS@@ > q@@ os@@ List = (@@ return@@ Value == null@@ ) ? new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Q@@ oS@@ >() : ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Q@@ oS@@ >) (@@ return@@ Value@@ )); q@@ os@@ List.@@ add(@@ 0@@ , Network@@ Q@@ oS@@ Model.@@ EM@@ P@@ TY@@ _@@ Q@@ O@@ S@@ ); return q@@ os@@ List@@ ; } }; org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ All@@ Network@@ Qos@@ By@@ StoragePool@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ dc@@ Id@@ ), query@@ ); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ ooltip@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model object@@ ) { return null@@ ; }
public void set@@ Sp@@ m@@ P@@ ri@@ or@@ ity@@ (java.lang.String value@@ ) { if ((@@ (s@@ p@@ m@@ P@@ ri@@ or@@ ity@@ ) == null@@ ) || (!@@ (s@@ p@@ m@@ P@@ ri@@ or@@ ity@@ .equals(@@ value@@ )@@ ))) { this@@ .@@ sp@@ m@@ P@@ ri@@ or@@ it@@ y = value@@ ; On@@ PropertyChanged@@ (@@ new org.ovirt.engine.core.compat.@@ PropertyChanged@@ EventArg@@ s@@ ("@@ Sp@@ m@@ P@@ ri@@ or@@ ity@@ ")); } }
private void set@@ Configuration@@ En@@ t@@ ri@@ es(@@ org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Domain@@ s@@ Configuration@@ E@@ n@@ try do@@ m@@ ain@@ Name@@ E@@ n@@ try@@ , org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Domain@@ s@@ Configuration@@ E@@ n@@ try ad@@ User@@ Name@@ E@@ n@@ try@@ , org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Domain@@ s@@ Configuration@@ E@@ n@@ try ad@@ Password@@ E@@ n@@ try@@ , org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Domain@@ s@@ Configuration@@ E@@ n@@ try auth@@ M@@ ode@@ E@@ n@@ try@@ , org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Domain@@ s@@ Configuration@@ E@@ n@@ try l@@ dap@@ Server@@ s@@ E@@ n@@ try@@ , org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Domain@@ s@@ Configuration@@ E@@ n@@ try ad@@ User@@ Id@@ E@@ n@@ try@@ , org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Domain@@ s@@ Configuration@@ E@@ n@@ try l@@ dap@@ Provider@@ Type@@ E@@ n@@ try@@ , org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Domain@@ s@@ Configuration@@ E@@ n@@ try ch@@ ang@@ e@@ Password@@ U@@ r@@ l@@ E@@ n@@ try@@ ) throw@@ s org.ovirt.engine.cor@@ e@@ .@@ do@@ m@@ ain@@ s.@@ Manage@@ Domain@@ s@@ Result { config@@ ur@@ ation@@ Provi@@ der.@@ set@@ Config@@ Value(ConfigValues.@@ Ad@@ User@@ Name, ad@@ User@@ Name@@ E@@ n@@ try@@ ); config@@ ur@@ ation@@ Provi@@ der.@@ set@@ Config@@ Value(ConfigValues.@@ Ad@@ User@@ Password@@ , ad@@ Password@@ E@@ n@@ try@@ , false@@ ); config@@ ur@@ ation@@ Provi@@ der.@@ set@@ Config@@ Value(ConfigValues.@@ L@@ dap@@ Server@@ s, l@@ dap@@ Server@@ s@@ E@@ n@@ try@@ ); config@@ ur@@ ation@@ Provi@@ der.@@ set@@ Config@@ Value(ConfigValues.@@ Ad@@ User@@ Id, ad@@ User@@ Id@@ E@@ n@@ try@@ ); config@@ ur@@ ation@@ Provi@@ der.@@ set@@ Config@@ Value(ConfigValues.@@ L@@ DA@@ P@@ Sec@@ ur@@ ity@@ Auth@@ entic@@ ation@@ , auth@@ M@@ ode@@ E@@ n@@ try@@ ); config@@ ur@@ ation@@ Provi@@ der.@@ set@@ Config@@ Value(ConfigValues.@@ Domain@@ Name, do@@ m@@ ain@@ Name@@ E@@ n@@ try@@ ); config@@ ur@@ ation@@ Provi@@ der.@@ set@@ Config@@ Value(ConfigValues.@@ L@@ DA@@ P@@ Provider@@ Typ@@ es@@ , l@@ dap@@ Provider@@ Type@@ E@@ n@@ try@@ ); if (@@ ch@@ ang@@ e@@ Password@@ U@@ r@@ l@@ ) { config@@ ur@@ ation@@ Provi@@ der.@@ set@@ Config@@ Value(ConfigValues.@@ Change@@ Password@@ M@@ s@@ g@@ , ch@@ ang@@ e@@ Password@@ U@@ r@@ l@@ E@@ n@@ try@@ ); } }
private void On@@ S@@ ave@@ Host@@ s() { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Multiple@@ Host@@ s@@ Model host@@ s@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Multiple@@ Host@@ s@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); if (@@ host@@ s@@ Model == null@@ ) { return@@ ; } if (!(@@ host@@ s@@ Model.@@ validate@@ ())) { return@@ ; } On@@ S@@ ave@@ Internal@@ With@@ Model@@ (@@ host@@ s@@ Model.get@@ Cluster@@ Model@@ ()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Ar@@ e y@@ o@@ u s@@ ur@@ e y@@ o@@ u w@@ an@@ t to Sh@@ u@@ t do@@ w@@ n the f@@ ol@@ low@@ ing Vir@@ tu@@ al M@@ ach@@ in@@ es@@ ?@@ ") java.lang.String are@@ Y@@ o@@ u@@ S@@ ure@@ Y@@ o@@ u@@ W@@ an@@ t@@ To@@ Sh@@ ut@@ Down@@ Th@@ e@@ F@@ ol@@ low@@ ing@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ es@@ M@@ s@@ g@@ ();
@org.junit.Test public void validate@@ Fail@@ s@@ On@@ No@@ Hook@@ () { c@@ m@@ d = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.@@ gluster.@@ Add@@ Gluster@@ Hook@@ Command@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.Gluster@@ Hook@@ Manage@@ Parameters(@@ HO@@ O@@ K_@@ ID@@ ))); setUp@@ Mock@@ s@@ For@@ Add@@ (@@ false@@ ); assert@@ F@@ als@@ e(@@ cmd@@ .@@ validate@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ Validation@@ Messages@@ ().@@ contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ HO@@ O@@ K_@@ DO@@ E@@ S_NOT_@@ EXIST@@ .@@ toString@@ ())); }
@java.lang.Override protected void p@@ er@@ for@@ m@@ () { org.ovirt.engine.core.bll.@@ R@@ eb@@ oot@@ Vm@@ Command.@@ log.info@@ Format@@ ("@@ S@@ end@@ ing re@@ b@@ oo@@ t c@@ ommand for VM {0@@ }@@ .@@ ", org.ovirt.engine.core.bll.@@ R@@ eb@@ oot@@ VmCommand.getVm@@ ().get@@ Name()); final org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ R@@ eb@@ oot@@ Vm@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ And@@ Vm@@ ID@@ VDS@@ Parameters@@ Bas@@ e(@@ org.ovirt.engine.core.bll.@@ R@@ eb@@ oot@@ Vm@@ Command.get@@ Vds@@ Id(), org.ovirt.engine.core.bll.@@ R@@ eb@@ oot@@ VmCommand.getVm@@ Id@@ ())); set@@ Action@@ ReturnValue@@ (@@ return@@ Value.get@@ ReturnValue@@ ()); set@@ Succeeded@@ (@@ return@@ Value.get@@ Succeeded@@ ()); }
protected int get@@ Max@@ Volume@@ Ch@@ ain@@ () { return org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Max@@ Images@@ In@@ Ch@@ ain@@ ); }
@java.lang.Override public void re@@ le@@ ase@@ Mac@@ s@@ On@@ Comm@@ it@@ (@@ java.util.List<java.lang.String> m@@ ac@@ s) { log.debug@@ ("@@ Non@@ -@@ t@@ x@@ , n@@ on@@ -@@ comp@@ ens@@ ation st@@ ate@@ , im@@ m@@ ed@@ i@@ ate@@ l@@ y re@@ le@@ as@@ ing m@@ ac@@ s {}@@ .@@ ", m@@ ac@@ s); m@@ ac@@ Poo@@ l.@@ f@@ ree@@ Mac@@ s(@@ m@@ ac@@ s); }
public java.lang.String get@@ Help@@ No@@ te@@ () { java.lang.String str@@ Valu@@ e = "@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@ #@@
private java.lang.String get@@ Proxy@@ U@@ ri@@ () { java.lang.String s@@ ch@@ em@@ e = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ Image@@ Proxy@@ SS@@ L@@ Enabled@@ )) ? "@@ http@@ s@@ " : "@@ http@@ "; java.lang.String add@@ res@@ s = org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Image@@ Proxy@@ Address@@ ); return ((@@ s@@ ch@@ em@@ e + "@@ :@@ /@@ ") + add@@ ress@@ ) + "@@ /@@ im@@ ages@@ "; }
java.lang.String Gluster@@ Add@@ W@@ eb@@ h@@ ook@@ Exception@@ ();
@java.lang.Override protected void add@@ Permission@@ s() { org.ovirt.engine.core.bll.@@ Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ add@@ Permission@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ Permission@@ (org.ovirt.engine.core.bll.@@ Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ E@@ V@@ ER@@ Y@@ ON@@ E_@@ O@@ B@@ J@@ EC@@ T_@@ ID@@ , Pre@@ de@@ fin@@ ed@@ R@@ ol@@ es.@@ C@@ P@@ U@@ _P@@ RO@@ F@@ IL@@ E_@@ O@@ P@@ ER@@ AT@@ OR@@ .get@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Cpu@@ Profile@@ )); }
private org.ovirt.engine.core.common.action.@@ Images@@ Action@@ s@@ Parameters@@ Base build@@ Create@@ Snapshot@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage image@@ ) { org.ovirt.engine.core.common.action.@@ Images@@ Action@@ s@@ Parameters@@ Base result = new org.ovirt.engine.core.common.action.@@ Images@@ Action@@ s@@ Parameters@@ Bas@@ e(@@ im@@ age.get@@ Image@@ Id()); result.@@ set@@ Description@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Description@@ ()); result.@@ set@@ Session@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Session@@ Id()); result.@@ set@@ Quota@@ Id(@@ im@@ age.get@@ Quota@@ Id()); result.@@ set@@ Disk@@ Profile@@ Id(@@ im@@ age.get@@ Disk@@ Profile@@ Id()); result.@@ set@@ Vm@@ Snapshot@@ Id@@ (@@ new@@ Active@@ Snapshot@@ Id); result.@@ set@@ Entity@@ Info@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Entity@@ Info@@ ()); result.@@ set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Action@@ Type@@ ()); result.@@ set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Parameters@@ ()); result.@@ set@@ Dest@@ ination@@ Image@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Disk@@ To@@ Image@@ Id@@ s().get@@ (@@ im@@ age.get@@ Id@@ ())); if (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Disk@@ Id@@ sTo@@ I@@ g@@ n@@ ore@@ In@@ Check@@ s().@@ contains(@@ im@@ age.get@@ Id@@ ())) { result.@@ set@@ Le@@ ave@@ Lock@@ ed@@ (@@ true@@ ); } return result@@ ; }
protected void add@@ Vm@@ Permission@@ () { if (org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ Parameters@@ ().is@@ Ma@@ ke@@ Cre@@ ator@@ Ex@@ pl@@ ic@@ it@@ O@@ wn@@ er@@ ()) { org.ovirt.engine.core.common.businessentities.@@ per@@ mission@@ s per@@ m@@ s = new org.ovirt.engine.core.common.businessentities.@@ per@@ mission@@ s@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ C@@ urrent@@ User@@ ().get@@ Id(), Pre@@ de@@ fin@@ ed@@ R@@ ol@@ es.@@ VM_@@ O@@ P@@ ER@@ AT@@ OR@@ .get@@ Id(), org.ovirt.engine.core.bll.@@ AddVm@@ Command.getVm@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ VM@@ ); org.ovirt.engine.core.bll.@@ Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ add@@ Permission@@ (@@ per@@ m@@ s); org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity(@@ per@@ m@@ s); } if ((org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ Parameters@@ ().is@@ Copy@@ Template@@ Permission@@ s()) && (!@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getVm@@ Template@@ Id().@@ equals(@@ VmTemplate@@ Handler.@@ B@@ lan@@ k@@ VmTemplate@@ Id@@ )@@ ))) { c@@ opy@@ Template@@ Permission@@ s(); } }
@java.lang.Override protected boolean canDoAction@@ () { if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volum@@ e = get@@ GlusterVolume@@ (); if (!(@@ volum@@ e.@@ is@@ On@@ lin@@ e@@ ())) { addCanDoActionMessage@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ AL@@ RE@@ AD@@ Y_@@ ST@@ O@@ P@@ ED); addCanDoActionMessage@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ volume@@ Name %@@ 1@@ $@@ s", volum@@ e.get@@ Name@@ ())); return false@@ ; } if (((@@ volum@@ e.get@@ AsyncTask@@ ()) != null@@ ) && ((@@ volum@@ e.get@@ AsyncTask@@ ().get@@ Status()) == (org.ovirt.engine.core.common.@@ job.@@ Job@@ Execution@@ Status.@@ ST@@ AR@@ T@@ ED@@ ))) { if ((@@ volum@@ e.get@@ AsyncTask@@ ().get@@ Type()) == (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ Task@@ Type.@@ RE@@ B@@ AL@@ AN@@ C@@ E@@ )) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ C@@ ANNOT_@@ ST@@ O@@ P@@ _@@ RE@@ B@@ AL@@ AN@@ C@@ E_@@ IN_@@ P@@ RO@@ G@@ RE@@ SS@@ ); } } return true@@ ; }
protected void Pro@@ ce@@ ed@@ V@@ G@@ Lun@@ s@@ In@@ Db@@ () { final java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ LUN@@ s> lun@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ LUN@@ s@@ >) (org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ V@@ G@@ Info@@ , new org.ovirt.engine.core.common.vdscommands.@@ Get@@ V@@ G@@ Info@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ Vds@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ storage@@ ())@@ ).get@@ ReturnValue@@ ())); org.ovirt.engine.core.common.businessentities.@@ storage_@@ server@@ _@@ connection@@ s sd@@ Con@@ n = org.ovirt.engine.core.bll.storage.@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ().get@@ Connection@@ (); if ((@@ (s@@ d@@ Con@@ n != null@@ ) && ((@@ sd@@ Conn@@ .get@@ user@@ _@@ name@@ ()) != null@@ )) && ((@@ sd@@ Conn@@ .get@@ p@@ assword@@ ()) != null@@ )) { for (org.ovirt.engine.core.common.businessentities.@@ LUN@@ s lu@@ n : lun@@ s) { for (org.ovirt.engine.core.common.businessentities.@@ storage_@@ server@@ _@@ connection@@ s lun@@ Con@@ n : lun@@ .get@@ Lun@@ Connection@@ s()) { lun@@ Conn@@ .set@@ user@@ _@@ name@@ (s@@ d@@ Conn@@ .get@@ user@@ _@@ name@@ ()); lun@@ Conn@@ .set@@ p@@ assword@@ (s@@ d@@ Conn@@ .get@@ p@@ assword@@ ()); } } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.@@ V@@ o@@ id@@ >() { @java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { for (org.ovirt.engine.core.common.businessentities.@@ LUN@@ s lu@@ n : lun@@ s) { pro@@ ce@@ ed@@ LUN@@ In@@ Db@@ (@@ lun@@ , get@@ StorageDomain@@ ().get@@ storage_@@ type@@ ()); } return null@@ ; } }); }
public void set@@ Cpu@@ L@@ im@@ it@@ (@@ int cpu@@ L@@ im@@ it@@ ) { this@@ .@@ cpu@@ L@@ im@@ i@@ t = cpu@@ L@@ im@@ it@@ ; }
void re@@ gist@@ er@@ Model@@ Event@@ List@@ en@@ ers@@ (@@ final org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Model@@ Provider@@ <@@ ? extends org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ > model@@ Provider@@ ) { model@@ Provider@@ .get@@ Model().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s pc@@ Arg@@ s = ((@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s) (@@ arg@@ s@@ )); if ("@@ Is@@ Available@@ "@@ .equals(@@ pc@@ Arg@@ s.@@ Property@@ Name@@ )) { boolean is@@ Avail@@ able = model@@ Provider@@ .get@@ Model().get@@ Is@@ Available@@ (); set@@ Ac@@ cess@@ i@@ bl@@ e(@@ is@@ Available@@ ); org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Tab@@ Ac@@ cess@@ i@@ bl@@ e@@ Change@@ Ev@@ ent.@@ fi@@ re@@ (@@ org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Model@@ B@@ ound@@ Tab@@ .@@ this@@ , org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Model@@ B@@ ound@@ Tab@@ .@@ this@@ ); } } }); }
private org.ovirt.engine.core.bll.ValidationResult validate@@ C@@ o@@ h@@ er@@ ent@@ Nic@@ Id@@ ent@@ if@@ ication@@ (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent attach@@ ment@@ ) { return org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator.@@ validate@@ C@@ o@@ h@@ er@@ ent@@ Id@@ ent@@ if@@ ication@@ (((@@ attach@@ m@@ ent.get@@ Id()) == null ? null : attach@@ m@@ ent.get@@ Id().@@ toString@@ ()), attach@@ m@@ ent.get@@ Nic@@ Id(), attach@@ m@@ ent.get@@ Nic@@ Name(), EngineMessage.@@ NETWORK_@@ AT@@ T@@ AC@@ H@@ M@@ EN@@ T_@@ RE@@ F@@ ER@@ EN@@ C@@ E@@ S_@@ N@@ IC@@ S_@@ IN@@ C@@ O@@ H@@ ER@@ EN@@ T@@ L@@ Y@@ , existing@@ Interfaces@@ Map@@ ); }
private void set@@ Network@@ Boot@@ Protocol@@ List(@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, org.ovirt.engine.core.common.businessentities.network.Network@@ Boot@@ Protocol@@ >> value@@ ) { if (@@ valu@@ e == null@@ ) { return@@ ; } org.ovirt.engine.core.common.businessentities.network.Network@@ Boot@@ Protocol@@ List value@@ ; }
public java.lang.Integ@@ er get@@ By@@ t@@ es@@ W@@ rite@@ () { return byte@@ s@@ W@@ rite@@ ; }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Th@@ e f@@ ol@@ low@@ ing bond@@ s con@@ s@@ is@@ t of l@@ es@@ s th@@ an t@@ w@@ o Network Interfaces@@ : ${@@ NETWORK_@@ B@@ ON@@ D@@ S_@@ IN@@ VALID@@ _S@@ L@@ A@@ V@@ E_@@ C@@ O@@ UN@@ T_@@ EN@@ TI@@ TY@@ }@@ .@@ ") java.lang.String NETWORK_@@ B@@ ON@@ D@@ S_@@ IN@@ VALID@@ _S@@ L@@ A@@ V@@ E_@@ C@@ O@@ UN@@ T@@ ();
@org.junit.Test public void test@@ Valid@@ Rem@@ oved@@ Bon@@ ds@@ W@@ h@@ en@@ Bond@@ Is@@ Requi@@ red@@ () throw@@ s java.lang.Exception { java.lang.String nic@@ Name = "@@ nic@@ Name@@ "; bond@@ .set@@ Name(@@ nic@@ Name); org.ovirt.engine.core.common.action.@@ Host@@ SetupNetworks@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Host@@ SetupNetworks@@ Parameters(@@ hos@@ t.get@@ Id()); params.set@@ Rem@@ oved@@ Bon@@ ds@@ (@@ java.util.Collections.@@ sing@@ leton@@ (@@ bond@@ .getId@@ ())); org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Validator valid@@ ator = create@@ Host@@ SetupNetworks@@ Validator@@ (@@ param@@ s, java.util.Collections.@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ >@@ sing@@ leton@@ List(@@ bond@@ )); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent re@@ qui@@ red@@ Network@@ Attachm@@ ent = new org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ (); re@@ qui@@ red@@ Network@@ Attachm@@ ent.@@ set@@ Nic@@ Name(@@ nic@@ Name); assert@@ That@@ (@@ validator.@@ valid@@ Rem@@ oved@@ Bon@@ ds@@ (@@ java.util.Collections.@@ sing@@ leton@@ List(@@ re@@ qui@@ red@@ NetworkAttachment@@ )@@ ), fail@@ sWith@@ (VdcBllMessages.@@ B@@ ON@@ D_@@ US@@ ED_@@ B@@ Y_@@ NETWORK_@@ AT@@ T@@ AC@@ H@@ M@@ EN@@ T@@ S@@ )); }
@java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand command@@ ) { super@@ .@@ Execu@@ te@@ Command@@ (command@@ ); if (c@@ ommand == (get@@ New@@ Command@@ ())) { New@@ (); } else if (c@@ ommand == (get@@ Edit@@ Command@@ ())) { Edit@@ (); } else if (c@@ ommand == (get@@ Remove@@ Command@@ ())) { Remove@@ (); } else if (c@@ ommand == (get@@ Move@@ Command@@ ())) { Move@@ (); } else if (c@@ ommand == (get@@ Copy@@ Command@@ ())) { Copy@@ (); } else if (c@@ ommand == (get@@ Check@@ Al@@ ign@@ ment@@ Command@@ ())) { Check@@ Al@@ ign@@ ment@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ S@@ ave@@ "@@ )) { On@@ S@@ ave@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ For@@ ce@@ S@@ ave@@ "@@ )) { On@@ For@@ ce@@ S@@ ave@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ Cancel@@ "@@ )) { Cancel@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ Cancel@@ Confirm@@ "@@ )) { Cancel@@ Confirm@@ (); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (command@@ .get@@ Name(), "@@ On@@ Remove@@ "@@ )) { On@@ Remove@@ (); } else if (c@@ ommand == (get@@ Change@@ Quota@@ Command@@ ())) { ch@@ ang@@ e@@ Quota@@ (); } else if (command@@ .getName@@ ().@@ equals@@ ("@@ on@@ Change@@ Quota@@ "@@ )) { on@@ Change@@ Quota@@ (); } }
public static void remove@@ Vm@@ State@@ l@@ ess@@ Images@@ (org.ovirt.engine.core.compat.Guid vm@@ Id, org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Contex@@ t contex@@ t@@ ) { if (@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Snapshot@@ Dao().@@ ex@@ ist@@ s(@@ vm@@ Id, Snapshot@@ Type.@@ ST@@ AT@@ E@@ LE@@ SS@@ )) { org.ovirt.engine.core.bll.@@ Down@@ Vms@@ Handler.@@ log.info@@ ("@@ Delet@@ ing s@@ napsho@@ t for st@@ ate@@ l@@ es@@ s vm '{}@@ '@@ ", vm@@ Id); org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ run@@ Internal@@ Action(VdcActionType.@@ Res@@ t@@ ore@@ State@@ l@@ ess@@ Vm@@ , new org.ovirt.engine.core.common.action.@@ Vm@@ Operation@@ Parameter@@ Bas@@ e(@@ vm@@ Id@@ ), contex@@ t@@ ); } }
private void update@@ Migrate@@ On@@ Error@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group group@@ ) { boolean is@@ Migration@@ Sup@@ por@@ te@@ d = true@@ ; org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type ar@@ ch = get@@ Ar@@ ch@@ it@@ ect@@ ure(@@ group@@ ); if (!(@@ arch@@ .equals(@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ un@@ de@@ fin@@ ed@@ ))) { is@@ Migration@@ Sup@@ por@@ te@@ d = org.ovirt.engine.core.common.@@ arch@@ str@@ ate@@ g@@ y@@ .@@ Ar@@ ch@@ Str@@ ate@@ g@@ y@@ Fac@@ t@@ ory@@ .get@@ Str@@ ate@@ g@@ y@@ (@@ arch@@ ).@@ run@@ (@@ new org.ovirt.engine.core.bll.@@ arch@@ it@@ ect@@ ur@@ e.@@ Is@@ Migration@@ Supported@@ (@@ group@@ .get@@ c@@ ompatibility@@ _@@ version@@ ())@@ )@@ .@@ return@@ Value@@ (); } if (!@@ is@@ Migration@@ Supported@@ ) { group@@ .set@@ Migrate@@ On@@ Error@@ (@@ Migrate@@ On@@ Error@@ Option@@ s.@@ NO@@ ); } }
private void m@@ ove@@ Mac@@ s@@ Of@@ Update@@ d@@ DataCenter@@ (org.ovirt.engine.core.compat.Guid old@@ MacPool@@ Id, org.ovirt.engine.core.compat.Guid new@@ MacPool@@ Id) { org.ovirt.engine.core.compat.Guid dataCenter@@ Id = org.ovirt.engine.core.bll.storage.@@ Update@@ StoragePool@@ Command.getParameters().get@@ StoragePool@@ Id@@ (); org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ pool@@ man@@ ag@@ er.@@ MacPool@@ Per@@ D@@ c pool@@ Per@@ D@@ c = org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ pool@@ man@@ ag@@ er.@@ MacPool@@ Per@@ D@@ c@@ Sing@@ leton@@ .getInstance@@ (); org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ pool@@ man@@ ag@@ er.@@ MacPool@@ Manager@@ Str@@ ate@@ g@@ y source@@ Pool = pool@@ Per@@ D@@ c@@ .get@@ Pool@@ By@@ Id(@@ old@@ MacPool@@ Id); org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ pool@@ man@@ ag@@ er.@@ MacPool@@ Manager@@ Str@@ ate@@ g@@ y target@@ Pool = pool@@ Per@@ D@@ c@@ .get@@ Pool@@ By@@ Id@@ (@@ new@@ MacPool@@ Id); java.util.List<java.lang.String> vm@@ Interface@@ Mac@@ s = vm@@ Nic@@ Dao.get@@ All@@ Mac@@ sBy@@ DataCenter@@ (@@ dataCenter@@ Id); for (java.lang.String ma@@ c : vm@@ Interface@@ Mac@@ s) { source@@ Poo@@ l.@@ f@@ ree@@ Mac@@ (m@@ ac@@ ); target@@ Pool@@ .@@ for@@ ce@@ Add@@ Mac@@ (m@@ ac@@ ); } }
private void update@@ W@@ at@@ ch@@ do@@ g@@ Items(@@ java.util.@@ Set<@@ org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g@@ Type@@ > vm@@ W@@ at@@ ch@@ do@@ g@@ Typ@@ es@@ ) { java.util.List<java.lang.String> w@@ atch@@ D@@ og@@ Model@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); for (org.ovirt.engine.core.common.businessentities.Vm@@ W@@ at@@ ch@@ do@@ g@@ Type vm@@ W@@ at@@ ch@@ do@@ g@@ Type : vm@@ W@@ at@@ ch@@ do@@ g@@ Typ@@ es@@ ) { w@@ atch@@ D@@ og@@ Model@@ s.@@ add@@ (@@ new org.ovirt.engine.ui.uicompat.@@ Enum@@ Trans@@ l@@ ator@@ ().get@@ (vm@@ W@@ at@@ ch@@ do@@ g@@ Type@@ )); } w@@ atch@@ D@@ og@@ Model@@ s.add(@@ 0@@ , null@@ ); java.lang.String old@@ W@@ at@@ ch@@ do@@ g@@ Sel@@ ected = get@@ W@@ at@@ ch@@ do@@ g@@ Model().get@@ SelectedItem@@ (); get@@ W@@ at@@ ch@@ do@@ g@@ Model@@ ().set@@ Items(@@ w@@ atch@@ D@@ og@@ Model@@ s); if (@@ w@@ atch@@ D@@ og@@ Model@@ s.@@ contains(@@ old@@ W@@ at@@ ch@@ do@@ g@@ Selected@@ )) { get@@ W@@ at@@ ch@@ do@@ g@@ Model@@ ().set@@ SelectedItem@@ (@@ old@@ W@@ at@@ ch@@ do@@ g@@ Selected@@ ); } }
void append@@ Custom@@ Value@@ Us@@ ing@@ Custom@@ Se@@ par@@ ator@@ (java.lang.String name@@ , java.lang.String value@@ , java.lang.String se@@ par@@ ator@@ ) { java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (s@@ e@@ par@@ ator@@ , "@@ I@@ t ma@@ ke@@ s n@@ o s@@ en@@ se ha@@ v@@ ing '@@ null@@ ' l@@ iter@@ al a@@ s se@@ par@@ ator@@ "); final java.lang.String ke@@ y = nam@@ e.@@ to@@ L@@ ow@@ er@@ C@@ ase@@ (); java.lang.String new@@ Value = value@@ ; al@@ loc@@ ate@@ Custom@@ Valu@@ es@@ (); if (c@@ ustom@@ Values.@@ contains@@ Key@@ (@@ key@@ )) { new@@ Value = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ 1@@ $@@ s@@ %@@ 2@@ $@@ s@@ %@@ 3@@ $@@ s", c@@ ustom@@ Valu@@ es@@ .get(@@ key@@ ), se@@ par@@ ator@@ , value@@ ); } c@@ ustom@@ Values.@@ put(@@ nam@@ e.@@ to@@ L@@ ow@@ er@@ C@@ ase@@ (), new@@ Value@@ ); }
public boolean is@@ Action@@ Name(@@ org.ovirt.@@ api@@ .m@@ et@@ am@@ odel.@@ con@@ ce@@ p@@ t@@ s.@@ Name name@@ ) { java.lang.String fi@@ r@@ s@@ t = nam@@ e.@@ wor@@ ds@@ ().@@ fin@@ d@@ F@@ ir@@ st@@ ().get@@ (); switch (@@ fi@@ r@@ st@@ ) { case "@@ add@@ " : case "@@ add@@ " : case "@@ list@@ " : case "@@ remove@@ " : case "@@ update@@ " : return false@@ ; default : return true@@ ; } }
@org.junit.Test public void test@@ De@@ al@@ loc@@ ate@@ If@@ External@@ Th@@ row@@ Exception@@ () { nic@@ .set@@ Name@@ (org.ovirt.engine.core.bll.@@ network.@@ External@@ Network@@ Manager@@ Test.@@ N@@ IC@@ _@@ NAM@@ E); nic@@ .set@@ Id@@ (org.ovirt.engine.core.bll.@@ network.@@ External@@ Network@@ Manager@@ Test.@@ N@@ IC@@ _@@ ID@@ ); p@@ rovider.@@ set@@ Name@@ (org.ovirt.engine.core.bll.@@ network.@@ External@@ Network@@ Manager@@ Test.@@ P@@ RO@@ V@@ ID@@ ER_@@ NAM@@ E); do@@ Th@@ row@@ (@@ new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ ()).@@ when(@@ network@@ Provider@@ Proxy@@ ).@@ de@@ al@@ loc@@ ate@@ (@@ nic@@ ); un@@ der@@ Test.@@ de@@ al@@ loc@@ ate@@ If@@ External@@ (); ve@@ r@@ if@@ y@@ (@@ au@@ ditLog@@ Direct@@ or@@ ).@@ log@@ (@@ au@@ ditLog@@ able@@ C@@ ap@@ t@@ or.@@ c@@ ap@@ t@@ ure@@ (), s@@ ame@@ (@@ AuditLogType.@@ RE@@ M@@ OV@@ E_@@ POR@@ T_@@ F@@ RO@@ M@@ _@@ EX@@ TER@@ N@@ AL@@ _P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ ED@@ )); final java.util.Map<java.lang.String, java.lang.String> c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Value@@ s = au@@ ditLog@@ able@@ C@@ ap@@ t@@ or@@ .get@@ Value@@ ().get@@ Custom@@ Valu@@ es@@ (); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Valu@@ es@@ , has@@ E@@ n@@ try@@ ("@@ nic@@ name@@ ", org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ Test.@@ N@@ IC@@ _@@ NAM@@ E@@ )); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Valu@@ es@@ , has@@ E@@ n@@ try@@ ("@@ nic@@ id@@ ", org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ Test.@@ N@@ IC@@ _@@ ID@@ .@@ toString@@ ())); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Valu@@ es@@ , has@@ E@@ n@@ try@@ ("@@ provider@@ ", org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ Test.@@ P@@ RO@@ V@@ ID@@ ER_@@ NAM@@ E@@ )); }
private void sh@@ ow@@ Con@@ current@@ Group@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Agent@@ Model model@@ ) { edit@@ Fence@@ Ag@@ ent.@@ set@@ Visi@@ bl@@ e@@ (@@ false@@ ); org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Fence@@ Agent@@ Con@@ current@@ W@@ id@@ ge@@ t con@@ current@@ W@@ id@@ ge@@ t = new org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Fence@@ Agent@@ Con@@ current@@ Widget@@ (); con@@ current@@ W@@ idget.@@ edit@@ (model@@ ); con@@ current@@ Pan@@ el.@@ add(@@ con@@ current@@ Widget@@ ); for (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Agent@@ Model con@@ current@@ Model : model.get@@ Con@@ current@@ List@@ ()) { con@@ current@@ W@@ id@@ ge@@ t = new org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Fence@@ Agent@@ Con@@ current@@ Widget@@ (); con@@ current@@ W@@ idget.@@ edit@@ (@@ con@@ current@@ Model@@ ); con@@ current@@ Pan@@ el.@@ add(@@ con@@ current@@ Widget@@ ); } }
org.ovirt.engine.ui.common.widget.@@ U@@ i@@ Command@@ tt@@ on get@@ MacPool@@ Button@@ ();
@java.lang.Override public boolean storageDomain@@ Rem@@ oved@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s> lis@@ t = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StorageServerConnection@@ Dao().get@@ AllFor@@ Volume@@ Group@@ (@@ storageDomain@@ .get@@ Storage@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s conn@@ ec@@ tion : filter@@ Connection@@ s@@ Us@@ ed@@ By@@ O@@ th@@ ers@@ (@@ list@@ , storageDomain@@ .get@@ Storage@@ (), "@@ "@@ )) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StorageServerConnection@@ Dao().@@ remove@@ (@@ connection@@ .getId()); } remove@@ StorageDomain@@ Lun@@ s(@@ storageDomain@@ ); return true@@ ; }
boolean is@@ Bal@@ loon@@ Enabled@@ () { java.lang.@@ B@@ oolean b@@ al@@ loon@@ En@@ able@@ d = Update@@ Vm@@ Command.get@@ Parameters@@ ().is@@ Bal@@ loon@@ Enabled@@ (); return b@@ al@@ loon@@ En@@ able@@ d != null ? b@@ al@@ loon@@ En@@ able@@ d : org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ is@@ Bal@@ loon@@ Enabled@@ (get@@ Vm@@ Id()); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if (@@ pro@@ p@@ Nam@@ e.@@ equals@@ ("@@ Pro@@ p@@ os@@ e@@ Dis@@ c@@ o@@ ver@@ T@@ arget@@ s@@ "@@ )) { set@@ Pro@@ p@@ os@@ e@@ Dis@@ c@@ o@@ ver@@ (@@ objec@@ t.get@@ Pro@@ p@@ os@@ e@@ Dis@@ c@@ o@@ ver@@ T@@ arget@@ s()); } }
@java.lang.Override public void execute@@ Command() { boolean is@@ M@@ er@@ ge@@ Suc@@ cee@@ de@@ d = false@@ ; try { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ M@@ er@@ ge@@ , create@@ VDS@@ Parameters@@ ()); if (vds@@ Return@@ Value.get@@ Succeeded@@ ()) { org.ovirt.engine.core.compat.Guid job@@ Id = ((@@ org.ovirt.engine.core.compat.Guid@@ ) (vds@@ Return@@ Value.get@@ ReturnValue@@ ())); p@@ ers@@ ist@@ B@@ lock@@ Job@@ P@@ l@@ ace@@ h@@ ol@@ der@@ (@@ job@@ Id); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Command.get@@ Parameters@@ ().set@@ Vm@@ Job@@ Id(@@ job@@ Id); p@@ ers@@ ist@@ Command@@ (org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Command.getParameters().get@@ Parent@@ Command@@ (), true@@ ); org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Command.@@ log.debug@@ ("@@ M@@ er@@ g@@ e st@@ ar@@ te@@ d s@@ uc@@ cess@@ f@@ ull@@ y@@ "); is@@ M@@ er@@ ge@@ Suc@@ cee@@ de@@ d = true@@ ; } else { org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Command.@@ log.error("@@ Fail@@ ed to st@@ ar@@ t M@@ er@@ g@@ e on VDS@@ "); } } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Command.@@ log.error("@@ Engin@@ e ex@@ ce@@ ption throw@@ n while s@@ end@@ ing m@@ er@@ g@@ e command@@ ", e); if (((@@ e.get@@ Error@@ Code@@ ()) == (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ image@@ Err@@ )) || ((@@ e.get@@ Error@@ Code@@ ()) == (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .m@@ er@@ ge@@ Err@@ ))) { is@@ M@@ er@@ ge@@ Suc@@ cee@@ de@@ d = true@@ ; } } final@@ l@@ y { if (is@@ M@@ er@@ ge@@ Succeeded@@ ) { org.ovirt.engine.core.bll.@@ M@@ er@@ ge@@ Command.set@@ Succeeded@@ (@@ true@@ ); } else { set@@ Command@@ Status(@@ Command@@ Status.@@ FAIL@@ ED); } } } }
public void add@@ Quota@@ Permission@@ Su@@ bject@@ (@@ java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > quota@@ Permission@@ List@@ ) { if ((((@@ !@@ (org.ovirt.engine.core.bll.@@ Command@@ Bas@@ e.@@ is@@ Internal@@ Execution@@ ())) && ((org.ovirt.engine.core.bll.@@ CommandBase.get@@ StoragePool@@ ()) != null@@ )) && ((org.ovirt.engine.core.bll.@@ CommandBase.get@@ StoragePool@@ ().get@@ Quota@@ E@@ n@@ for@@ ce@@ ment@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ Quota@@ E@@ n@@ for@@ ce@@ ment@@ Type@@ Enum@@ .@@ DIS@@ AB@@ L@@ ED@@ ))) && ((org.ovirt.engine.core.bll.@@ CommandBase.get@@ StoragePool@@ ().get@@ Quota@@ E@@ n@@ for@@ ce@@ ment@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ Quota@@ E@@ n@@ for@@ ce@@ ment@@ Type@@ Enum@@ .S@@ O@@ F@@ T_@@ EN@@ F@@ OR@@ C@@ EM@@ EN@@ T@@ ))) { java.util.List<@@ org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Cons@@ um@@ ption@@ Parameter@@ > con@@ s@@ um@@ ption@@ Parameters = get@@ Quota@@ Cons@@ um@@ ption@@ Parameters@@ (); if (@@ con@@ s@@ um@@ ption@@ Parameters != null@@ ) { for (org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Cons@@ um@@ ption@@ Paramet@@ er paramet@@ er : get@@ Quota@@ Cons@@ um@@ ption@@ Parameters@@ ()) { if ((((@@ parameter@@ .get@@ Quota@@ Guid@@ ()) != null@@ ) && (!(@@ Guid@@ .@@ Empty@@ .equals(@@ parameter@@ .get@@ Quota@@ Guid@@ ())@@ ))) && (@@ parameter@@ .get@@ Quota@@ Action@@ ().@@ equals(@@ Quota@@ Cons@@ um@@ ption@@ Paramet@@ er.@@ Quota@@ Action@@ .@@ C@@ ON@@ S@@ U@@ M@@ E@@ ))) { quota@@ Permission@@ List.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (@@ parameter@@ .get@@ Quota@@ Guid@@ (), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Quota@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ C@@ ON@@ S@@ U@@ M@@ E_@@ Q@@ U@@ O@@ T@@ A@@ )); } } } }
public void s@@ ync@@ All@@ Host@@ Networks@@ () { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action(VdcActionType.@@ Sync@@ All@@ Host@@ Network@@ s, new org.ovirt.engine.core.common.action.@@ Vds@@ Action@@ Parameters@@ (get@@ Entity@@ ().get@@ Id@@ ()), new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { } }, null@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.Vm@@ Pool map@@ Row@@ (@@ final java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, final int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { final org.ovirt.engine.core.common.businessentities.Vm@@ Pool enti@@ ty = new org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ (); entity.set@@ Vm@@ Pool@@ Description@@ (rs.get@@ String("@@ vm@@ _@@ pool@@ _@@ d@@ escription@@ ")); entity.set@@ Comm@@ ent@@ (rs.get@@ String("@@ vm@@ _@@ pool@@ _@@ c@@ omm@@ ent@@ ")); entity.set@@ Vm@@ Pool@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (rs.get@@ String("@@ vm@@ _@@ pool@@ _id@@ "@@ ))); entity.set@@ Name@@ (rs.get@@ String("@@ vm@@ _@@ pool@@ _@@ name@@ ")); entity.set@@ Vm@@ Pool@@ Type(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ Type@@ .@@ for@@ Value@@ (rs.get@@ In@@ t@@ ("@@ vm@@ _@@ pool@@ _@@ type@@ "@@ ))); entity.set@@ Parameters@@ (rs.get@@ String("@@ parameters@@ ")); entity.set@@ Pres@@ t@@ ar@@ ted@@ Vm@@ s(@@ r@@ s.get@@ In@@ t@@ ("@@ p@@ res@@ t@@ ar@@ ted@@ _@@ vm@@ s@@ ")); entity.set@@ VdsGroup@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (rs.get@@ String("@@ vds@@ _@@ group@@ _id@@ "@@ ))); entity.set@@ VdsGroup@@ Name@@ (rs.get@@ String("@@ vds@@ _@@ group@@ _@@ name@@ ")); entity.set@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Count@@ (rs.get@@ In@@ t@@ ("@@ ass@@ ig@@ ne@@ d@@ _@@ vm@@ _@@ c@@ ount@@ ")); entity.set@@ Run@@ ning@@ Vms@@ Count@@ (rs.get@@ In@@ t@@ ("@@ vm@@ _@@ run@@ ning@@ _@@ c@@ ount@@ ")); entity.set@@ Max@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Per@@ User@@ (rs.get@@ In@@ t@@ ("@@ ma@@ x@@ _@@ ass@@ ig@@ ne@@ d@@ _@@ vm@@ s@@ _@@ per@@ _@@ user@@ ")); return entity@@ ; }
public org.ovirt.engine.core.bll.@@ host.@@ provider@@ .@@ for@@ em@@ an@@ .@@ For@@ em@@ an@@ Host@@ Group get@@ Result@@ s() { return host@@ Group@@ ; }
@java.lang.Override protected void execute@@ S@@ ave@@ () { final org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters@@ (get@@ Selected@@ D@@ c@@ ().get@@ Id(), get@@ Network@@ ()); parameters.set@@ VnicProfile@@ Requi@@ red@@ (@@ false@@ ); if (get@@ External@@ ().getEntity@@ ()) { org.ovirt.engine.core.common.businessentities.@@ Provider@@ <?@@ > ex@@ ternal@@ Provi@@ der = get@@ External@@ Provi@@ d@@ ers@@ ().getSelectedItem@@ (); org.ovirt.engine.core.common.businessentities.network.@@ Provider@@ Network provider@@ Network = new org.ovirt.engine.core.common.businessentities.network.@@ Provider@@ Network@@ (); provider@@ Network@@ .set@@ Provider@@ Id(@@ ex@@ ternal@@ Provider@@ .getId()); get@@ Network@@ ().set@@ Provi@@ ded@@ By@@ (@@ provider@@ Network@@ ); if (get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ ().getEntity@@ ()) { } org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ (@@ ActionType.@@ Add@@ Network@@ On@@ Provider@@ , parameters@@ , add@@ Network@@ Callback@@ (), null@@ ); } else { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ (@@ ActionType.@@ Add@@ Network@@ , parameters@@ , add@@ Network@@ Callback@@ (), null@@ ); } }
private void set@@ Non@@ Operation@@ al@@ (org.ovirt.engine.core.common.businessentities.@@ Non@@ Operation@@ al@@ Re@@ as@@ on re@@ ason@@ , org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { vd@@ s.set@@ Non@@ Operation@@ al@@ Reason@@ (@@ re@@ ason@@ ); vd@@ s.set@@ Status(@@ VDS@@ Status.@@ Non@@ Operation@@ al@@ ); vds@@ Dynamic@@ Dao@@ .@@ update@@ (@@ vds.get@@ Dynamic@@ Data@@ ()); }
private void validate@@ Qos@@ O@@ verrid@@ d@@ en@@ Interfaces@@ () { for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e : param@@ s.get@@ Interfaces@@ ()) { java.lang.String network@@ Name = if@@ ac@@ e.get@@ Network@@ Name@@ (); if (network@@ Name == null@@ ) { continue@@ ; } if (@@ if@@ ac@@ e.@@ is@@ Qos@@ O@@ verrid@@ d@@ en@@ ()) && (!@@ (@@ if@@ ac@@ e.get@@ Qos@@ ().is@@ Empty@@ ()))) { if (!(@@ host@@ Network@@ Qos@@ Supported@@ )) { add@@ Vi@@ ol@@ ation@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ HOST@@ _@@ NETWORK_@@ Q@@ O@@ S_NOT_@@ SUP@@ PORT@@ ED@@ , network@@ Name); } org.ovirt.engine.core.bll.validator.@@ Host@@ Network@@ Qos@@ Validator q@@ os@@ Validator = new org.ovirt.engine.core.bll.validator.@@ Host@@ Network@@ Qos@@ Validator@@ (@@ if@@ ac@@ e.get@@ Qos@@ ()); if ((@@ q@@ os@@ Validator.@@ re@@ qui@@ red@@ Valu@@ es@@ Pres@@ ent@@ ()) != (org.ovirt.engine.core.bll.@@ ValidationRes@@ ult.@@ VALID@@ )) { add@@ Vi@@ ol@@ ation@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ HOST@@ _@@ NETWORK_@@ Q@@ O@@ S_@@ S@@ ET@@ UP@@ _@@ NETWOR@@ K@@ S_@@ M@@ IS@@ S@@ ING@@ _@@ VAL@@ U@@ ES@@ , network@@ Name); } if ((@@ q@@ os@@ Validator.@@ valu@@ es@@ Cons@@ ist@@ ent@@ ()) != (org.ovirt.engine.core.bll.@@ ValidationRes@@ ult.@@ VALID@@ )) { add@@ Vi@@ ol@@ ation@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ HOST@@ _@@ NETWORK_@@ Q@@ O@@ S_@@ S@@ ET@@ UP@@ _@@ NETWOR@@ K@@ S_@@ IN@@ C@@ ON@@ SI@@ ST@@ EN@@ T_@@ VAL@@ U@@ ES@@ , network@@ Name); } } } }
private int get@@ Add@@ ition@@ al@@ Available@@ S@@ iz@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ ) { int add@@ ition@@ al@@ Available@@ S@@ iz@@ e = ((@@ lun@@ .get@@ Device@@ Size@@ ()) - (@@ lun@@ .get@@ P@@ v@@ Size@@ ())) - 1@@ ; return add@@ ition@@ al@@ Available@@ Size@@ ; }
private java.util.@@ Set<@@ java.lang.String> get@@ Rem@@ oved@@ Bon@@ ds@@ Us@@ ed@@ By@@ Networks@@ (org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Map<@@ org.ovirt.engine.core.common.businessentities.network.@@ Bond@@ > rem@@ oved@@ Bon@@ ds@@ ) { java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > attach@@ ment@@ sTo@@ Configur@@ e = get@@ Attachment@@ sTo@@ Configur@@ e(@@ rem@@ oved@@ Bon@@ ds@@ ); java.util.@@ Set<@@ java.lang.String> re@@ qui@@ red@@ Nic@@ s@@ Name@@ s = new java.util.Hash@@ Set<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent attach@@ m@@ ent : attach@@ ment@@ sTo@@ Configur@@ e) { re@@ qui@@ red@@ Nic@@ s@@ Nam@@ es.@@ add(@@ attach@@ m@@ ent.get@@ Nic@@ Name()); } return re@@ qui@@ red@@ Nic@@ s@@ Names@@ ; }
public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ ForXmlR@@ p@@ c get@@ m@@ Status@@ () { return m@@ Status@@ ; }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > get@@ All@@ With@@ Query@@ (java.lang.String query@@ ) { return get@@ J@@ db@@ c@@ Template@@ ().@@ query@@ (@@ query@@ , org.ovirt.engine.core.dao.@@ VmTemplate@@ Dao@@ Impl.@@ VM@@ Template@@ Row@@ Mapper.@@ instance@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ R@@ ol@@ e ro@@ le@@ ) { validate@@ Parameters(@@ ro@@ le@@ , "@@ id@@ |@@ name@@ "); validate@@ Enum@@ s(@@ ro@@ le@@ ); if (!(@@ ro@@ le.@@ isSet@@ Id@@ ())) { org.ovirt.engine.core.common.businessentities.@@ ro@@ le@@ s enti@@ ty = get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ ro@@ l@@ es@@ .@@ class@@ , VdcQuery@@ Type.Get@@ Role@@ By@@ Name, new org.ovirt.engine.core.common.queries.@@ Multi@@ le@@ v@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ By@@ Role@@ Name@@ Parameters(@@ ro@@ l@@ e.get@@ Name@@ ()), ro@@ l@@ e.get@@ Name()); ro@@ le.@@ set@@ Id(@@ entity.get@@ Id().@@ toString()); } return p@@ er@@ for@@ m@@ Cre@@ ation@@ (VdcActionType.@@ Add@@ System@@ Permission@@ , new org.ovirt.engine.core.common.action.@@ Permission@@ s@@ Operation@@ s@@ Paramet@@ es@@ (@@ new@@ Permission@@ (@@ ro@@ l@@ e.get@@ Id@@ ())@@ ), new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Permission@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Multi@@ le@@ v@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ By@@ Permission@@ Id@@ Parameters@@ .@@ class@@ )); }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ el@@ l.@@ Contex@@ t contex@@ t@@ , org.ovirt.engine.core.common.businessentities.@@ VDS host@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der s@@ b@@ , java.lang.String id@@ ) { if ((@@ hos@@ t == null@@ ) || (!(@@ host.@@ is@@ Update@@ Available@@ ()))) { return@@ ; } com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource status@@ Image = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ el@@ l.@@ Host@@ Add@@ ition@@ al@@ Status@@ C@@ el@@ l.@@ res@@ ourc@@ es.@@ update@@ Available@@ Image@@ (); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l status@@ Image@@ Ht@@ m@@ l = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Prot@@ ot@@ yp@@ e.c@@ reate@@ (@@ status@@ Image@@ ).get@@ H@@ T@@ M@@ L@@ ()); s@@ b@@ .@@ append@@ (@@ status@@ Image@@ Ht@@ ml@@ ); s@@ b@@ .@@ append@@ Ht@@ ml@@ Constant@@ ((@@ ("@@ <@@ d@@ i@@ v id@@ =@@ \"@@ " + id@@ ) + "@@ \@@ " st@@ y@@ le@@ =@@ \"@@ tex@@ t@@ -@@ al@@ ign@@ : c@@ enter@@ ;@@ \"@@ >@@ ")); s@@ b@@ .@@ append@@ Ht@@ ml@@ Constant@@ ("@@ <@@ /@@ d@@ i@@ v@@ >@@ "); }
public java.lang.String get@@ Vir@@ ti@@ o@@ Iso@@ Path@@ () { return vi@@ r@@ ti@@ o@@ Iso@@ Path@@ ; }
private static org.ovirt.engine.core.bll.@@ scheduling.@@ Internal@@ Cluster@@ P@@ olic@@ ies.@@ Policy@@ Buil@@ der create@@ (java.lang.String g@@ uid@@ ) { final org.ovirt.engine.core.compat.Guid re@@ al@@ Gui@@ d = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (@@ g@@ uid@@ ); final org.ovirt.engine.core.bll.@@ scheduling.@@ Internal@@ Cluster@@ P@@ olic@@ ies.@@ Policy@@ Buil@@ der buil@@ der = new org.ovirt.engine.core.bll.@@ scheduling.@@ Internal@@ Cluster@@ P@@ olic@@ ies.@@ Builder@@ (@@ re@@ al@@ Guid@@ ); org.ovirt.engine.core.bll.@@ scheduling.@@ Internal@@ Cluster@@ P@@ olic@@ ies.@@ cluster@@ P@@ olic@@ ies.@@ put(@@ re@@ al@@ Guid@@ , buil@@ der@@ .get@@ Policy@@ ()); return buil@@ der@@ ; }
@java.lang.Override protected org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ ForXmlR@@ p@@ c get@@ Return@@ Status@@ () { return result.get@@ Status@@ (); }
private void ex@@ tr@@ act@@ M@@ o@@ d@@ if@@ i@@ ed@@ Interfaces@@ () { for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface n@@ ic : param@@ s.get@@ Interfaces@@ ()) { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface existing@@ N@@ ic = get@@ Existing@@ I@@ fac@@ es@@ ().get@@ (@@ nic@@ .get@@ Name()); if (@@ existing@@ N@@ ic != null@@ ) { java.util.@@ Set<@@ java.lang.String> new@@ Label@@ s = (@@ org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ is@@ Label@@ ed(@@ nic@@ )) ? nic@@ .get@@ Label@@ s() : java.util.Collections.@@ <@@ java.lang.String@@ >@@ em@@ pty@@ Set@@ (); java.util.@@ Set<@@ java.lang.String> existing@@ Label@@ s = (@@ org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ is@@ Label@@ ed(@@ existing@@ Nic@@ )) ? existing@@ Nic@@ .get@@ Label@@ s() : java.util.Collections.@@ <@@ java.lang.String@@ >@@ em@@ pty@@ Set@@ (); if ((@@ (!(@@ org.apache.commons.@@ c@@ oll@@ ection@@ s.@@ Collection@@ Utils.@@ is@@ E@@ qu@@ al@@ Collection@@ (@@ new@@ Label@@ s, existing@@ Label@@ s@@ ))) || ((@@ nic@@ .is@@ Qos@@ O@@ verrid@@ d@@ en@@ ()) != (@@ existing@@ Nic@@ .is@@ Qos@@ O@@ verrid@@ d@@ en@@ ()))) || (!(@@ java.util.@@ Object@@ s.@@ equals(@@ nic@@ .get@@ Custom@@ Properties@@ (), existing@@ Nic@@ .get@@ Custom@@ Properties@@ ())@@ ))) { existing@@ Nic@@ .set@@ Label@@ s@@ (@@ new@@ Label@@ s); existing@@ Nic@@ .set@@ Qos@@ O@@ verrid@@ d@@ en@@ (@@ nic@@ .is@@ Qos@@ O@@ verrid@@ d@@ en@@ ()); existing@@ Nic@@ .set@@ Custom@@ Properties@@ (@@ nic@@ .get@@ Custom@@ Properties@@ ()); m@@ o@@ d@@ if@@ i@@ ed@@ Interfac@@ es.@@ add(@@ existing@@ Nic@@ ); } } }
@java.lang.Override public void h@@ andle@@ Fail@@ ure@@ () { update@@ Disk@@ Status(@@ Image@@ Status.@@ IL@@ LE@@ G@@ AL@@ ); }
private void res@@ t@@ ore@@ Snapshot@@ () { if ((get@@ SelectedItem@@ ()) == null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ Entity s@@ napsho@@ t = ((org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ Entity@@ ) (get@@ SelectedItem@@ ())); set@@ Confirm@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ confi@@ rm@@ Res@@ t@@ ore@@ Snapshot@@ (get@@ Entity@@ ().get@@ Name@@ ())); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ volume@@ _@@ res@@ t@@ ore@@ _@@ snapshot@@ _@@ confi@@ rm@@ ation@@ ); model.set@@ Hash@@ Name@@ ("@@ volume@@ _@@ res@@ t@@ ore@@ _@@ snapshot@@ _@@ confi@@ rm@@ ation@@ "); if ((@@ s@@ napsho@@ t.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Snapshot@@ Status.@@ AC@@ TI@@ V@@ AT@@ ED@@ )) { model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ confi@@ rm@@ Volume@@ Snapshot@@ Res@@ t@@ ore@@ With@@ St@@ op@@ Message@@ ()); } else { model.set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ confi@@ rm@@ Volume@@ Snapshot@@ Res@@ t@@ ore@@ M@@ es@@ age@@ ()); } org.ovirt.engine.ui.uicommonweb.UICommand o@@ k@@ C@@ ommand = org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Default@@ O@@ k@@ U@@ i@@ Command@@ ("@@ on@@ Res@@ t@@ ore@@ Snapshot@@ ", this@@ ); model.get@@ Command@@ s().@@ add(@@ o@@ k@@ Command@@ ); org.ovirt.engine.ui.uicommonweb.UICommand cancel@@ C@@ ommand = org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Cancel@@ U@@ i@@ Command@@ ("@@ cancel@@ Confirmation@@ ", this@@ ); model.get@@ Command@@ s().@@ add@@ (c@@ ance@@ l@@ Command@@ ); }
public void remove@@ Network@@ From@@ Parameters(@@ org.ovirt.engine.core.common.action.@@ SetupNetworks@@ Parameters param@@ s, org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface nic@@ , org.ovirt.engine.core.common.businessentities.network.@@ Network net@@ ) { if (@@ org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ is@@ V@@ lan@@ (@@ net@@ )) { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface v@@ l@@ an = get@@ V@@ lan@@ Device@@ (@@ param@@ s.get@@ Interfaces@@ (), nic@@ , net@@ ); if (@@ v@@ l@@ an == null@@ ) { throw new org.ovirt.engine.core.common.errors.@@ Vdc@@ B@@ L@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ NETWORK_@@ L@@ AB@@ E@@ L@@ _C@@ ON@@ F@@ L@@ IC@@ T@@ ); } else { param@@ s.get@@ Interfaces@@ ().@@ remove@@ (@@ v@@ lan@@ ); } } }
@@@ org.ovirt.engine.ui.uicompat.@@ Default@@ Message@@ ("@@ U@@ se@@ d b@@ y Stor@@ age Domain@@ : {0@@ }@@ ") java.lang.String lun@@ P@@ art@@ Of@@ StorageDomain@@ (java.lang.String storageDomain@@ Name);
private void c@@ opy@@ Quota@@ Permission@@ s() { org.ovirt.engine.core.bll.@@ Un@@ i@@ q@@ ue@@ Permission@@ s@@ Se@@ t per@@ mission@@ sTo@@ Ad@@ d = new org.ovirt.engine.core.bll.@@ Un@@ i@@ q@@ ue@@ Permission@@ s@@ Set@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ s> vm@@ Permission@@ s = get@@ DbFacade@@ ().get@@ Permission@@ Dao().get@@ AllFor@@ Entity@@ (get@@ Parameters().get@@ Quota@@ Id(), get@@ C@@ urrent@@ User@@ ().get@@ Id(), get@@ Session@@ Id(), false@@ ); for (org.ovirt.engine.core.common.businessentities.@@ Permission@@ s vm@@ Per@@ mis@@ si@@ on : vm@@ Permission@@ s) { per@@ mission@@ sTo@@ Add@@ .@@ add@@ Permission@@ (vm@@ Permission@@ .get@@ ad@@ _@@ el@@ ement@@ _id@@ (), vm@@ Permission@@ .get@@ ro@@ le@@ _id@@ (), get@@ Quota@@ Id(), vm@@ Permission@@ .get@@ Object@@ Type@@ ()); } if (!(@@ per@@ mission@@ sTo@@ Add@@ .@@ isEmpty@@ ())) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ s> per@@ mission@@ s@@ List = per@@ mission@@ sTo@@ Add@@ .@@ as@@ Permission@@ List@@ (); org.ovirt.engine.core.bll.@@ Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ add@@ Permission@@ (@@ per@@ mission@@ s@@ List.@@ to@@ Array@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ Permission@@ s@@ [@@ per@@ mission@@ s@@ List.@@ size@@ ()@@ ]@@ )); } }
public org.ovirt.engine.core.bll.ValidationResult status@@ Supported@@ For@@ Host@@ Up@@ gr@@ ade@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ VDS@@ _C@@ ANNOT_@@ IN@@ ST@@ AL@@ L@@ _@@ ST@@ AT@@ U@@ S_@@ IL@@ LE@@ G@@ AL@@ ).@@ un@@ l@@ ess@@ (org.ovirt.engine.core.common.@@ Vdc@@ Action@@ Utils.@@ can@@ Execu@@ te@@ (@@ java.util.Arrays.as@@ List(@@ host@@ ), org.ovirt.engine.core.common.businessentities.@@ VDS@@ .@@ class@@ , Vdc@@ ActionType.@@ Up@@ gr@@ ade@@ Host@@ )); }
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Snapshot@@ List@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Snapshot@@ ListModel@@ ) (@@ target@@ )); org.ovirt.engine.core.common.businessentities.Storage@@ Pool data@@ C@@ en@@ te@@ r = ((org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ ) (@@ return@@ Value@@ )); org.ovirt.engine.core.common.businessentities.VM vm = model.get@@ Entity@@ (); org.ovirt.engine.core.compat.@@ Version min@@ Vm@@ Version = vm.get@@ CompatibilityVersion@@ (); org.ovirt.engine.core.compat.@@ Version min@@ D@@ c@@ Version = dataCenter@@ .get@@ CompatibilityVersion@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance@@ ().is@@ Command@@ C@@ ompati@@ bl@@ e@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ model, new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Snapshot@@ List@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Snapshot@@ ListModel@@ ) (@@ target@@ )); model.set@@ Is@@ Cl@@ one@@ Vm@@ Supported@@ (((@@ java.lang.Boolean@@ ) (@@ return@@ Value@@ ))); } }@@ ), Vdc@@ ActionType.@@ AddVm@@ From@@ Snapshot@@ , min@@ Vm@@ Version@@ , min@@ D@@ c@@ Version@@ ); }
private org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status check@@ Image@@ Status@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Cinder@@ Disk rem@@ oved@@ Volume@@ ) { try { return get@@ Cinder@@ Broker@@ ().get@@ Image@@ Status@@ By@@ Cl@@ as@@ s@@ if@@ ication@@ Type(@@ rem@@ oved@@ Volume@@ ); } catch (c@@ om.@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ b@@ as@@ e.cl@@ i@@ ent.@@ Op@@ en@@ St@@ ack@@ Respon@@ se@@ Exception ex@@ ) { if ((@@ ex@@ .get@@ Status()) == (@@ org.apache.commons.@@ http@@ client.@@ Http@@ Status.@@ S@@ C@@ _@@ NOT_@@ F@@ O@@ UN@@ D@@ )) { return org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status.@@ O@@ K@@ ; } p@@ r@@ int@@ Error@@ (@@ rem@@ oved@@ Volume@@ , ex@@ ); } catch (@@ java.lang.Exception e) { p@@ r@@ int@@ Error@@ (@@ rem@@ oved@@ Volume@@ , e); } return org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status.@@ IL@@ LE@@ G@@ AL@@ ; }
private void build@@ Image@@ Re@@ fer@@ ence@@ () { org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ Node@@ List lis@@ t = s@@ el@@ ect@@ Nod@@ es(@@ _@@ do@@ c@@ um@@ ent@@ , "@@ /@@ *@@ /@@ File@@ ", _@@ x@@ ml@@ N@@ S@@ ); for (@@ X@@ ml@@ Nod@@ e n@@ od@@ e : list@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ (); if ((@@ n@@ od@@ e.@@ att@@ ri@@ b@@ ut@@ es@@ .get@@ ("@@ ovf@@ :@@ disk@@ _@@ storage_@@ type@@ "@@ )) != null@@ ) { java.lang.String disk@@ Storage@@ Type = n@@ od@@ e.@@ att@@ ri@@ b@@ ut@@ es@@ .get@@ ("@@ ovf@@ :@@ disk@@ _@@ storage_@@ type@@ "@@ ).get@@ Value@@ (); if ((@@ disk@@ Storage@@ Type != null@@ ) && (disk@@ StorageType.@@ equals(@@ Disk@@ StorageType.@@ C@@ IN@@ D@@ ER@@ .@@ name@@ ()))) { dis@@ k = new org.ovirt.engine.core.common.businessentities.storage.@@ Cinder@@ Disk@@ (); } } disk@@ .set@@ Image@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (@@ n@@ od@@ e.@@ att@@ ri@@ b@@ ut@@ es@@ .get@@ ("@@ ovf@@ :@@ id@@ "@@ ).get@@ Value@@ ())); disk@@ .set@@ Id(@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ Ovf@@ Par@@ s@@ er.@@ Get@@ Image@@ G@@ r@@ up@@ Id@@ From@@ Image@@ Fil@@ e(@@ n@@ od@@ e.@@ att@@ ri@@ b@@ ut@@ es@@ .get@@ ("@@ ovf@@ :@@ h@@ re@@ f@@ "@@ ).get@@ Value@@ ())); disk@@ .set@@ Active@@ (@@ true@@ ); disk@@ .set@@ Image@@ Status(@@ Image@@ Status.@@ O@@ K@@ ); disk@@ .set@@ Description@@ (@@ n@@ od@@ e.@@ att@@ ri@@ b@@ ut@@ es@@ .get@@ ("@@ ovf@@ :@@ d@@ escription@@ "@@ ).get@@ Value@@ ()); _@@ im@@ ages.@@ add(@@ disk@@ ); } }
private boolean init@@ Gluster@@ Host@@ () { gluster@@ Host@@ U@@ uid@@ F@@ oun@@ d = true@@ ; if (org.ovirt.engine.core.common.@@ gluster.Gluster@@ Feat@@ ure@@ Supported@@ .@@ gluster@@ Host@@ U@@ uid@@ Supported@@ (get@@ VdsGroup@@ ().get@@ c@@ ompatibility@@ _@@ version@@ ())) { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value = run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Gluster@@ Host@@ UUID@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ Id@@ VDSCommand@@ Parameters@@ Bas@@ e(@@ get@@ Vds@@ ().get@@ Id@@ ())); org.ovirt.engine.core.compat.Guid add@@ Server@@ Gluster@@ U@@ ui@@ d = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (((@@ java.lang.String@@ ) (@@ return@@ Value.get@@ ReturnValue@@ ()))); if (@@ (@@ return@@ Value.get@@ Succeeded@@ ()) && (@@ (@@ return@@ Value.get@@ ReturnValue@@ ()) != null@@ )) { if (!(@@ validate@@ Gluster@@ Host@@ U@@ uid@@ (@@ add@@ Server@@ Gluster@@ U@@ uid@@ ))) { gluster@@ Host@@ U@@ uid@@ F@@ oun@@ d = true@@ ; set@@ Non@@ Operation@@ al@@ (@@ Non@@ Operation@@ al@@ Reason@@ .@@ GLUSTER_@@ HOST@@ _@@ UUID@@ _@@ AL@@ RE@@ AD@@ Y_@@ F@@ O@@ UN@@ D@@ , null@@ ); return false@@ ; } save@@ Gluster@@ Host@@ U@@ uid@@ (@@ add@@ Server@@ Gluster@@ U@@ uid@@ ); } else { gluster@@ Host@@ U@@ uid@@ F@@ oun@@ d = false@@ ; set@@ Non@@ Operation@@ al@@ (@@ Non@@ Operation@@ al@@ Reason@@ .@@ GLUSTER_@@ HOST@@ _@@ UUID@@ _@@ NOT_@@ F@@ O@@ UN@@ D@@ , null@@ ); } } return (@@ gluster@@ Host@@ U@@ uid@@ F@@ ound@@ ) && (@@ init@@ Gluster@@ P@@ e@@ er@@ Pro@@ cess@@ ()); }
public void get@@ Conn@@ ect@@ Au@@ t@@ om@@ ati@@ call@@ y@@ (@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { return source@@ ; } }; org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Conn@@ ect@@ Au@@ t@@ om@@ ati@@ call@@ y@@ , new org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base@@ (), aQuery@@ ); }
public void validate@@ With@@ Direct@@ Lun@@ Id@@ And@@ In@@ valid@@ Vds@@ () { command@@ .get@@ Parameters@@ ().set@@ Direct@@ Lun@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); do@@ Return@@ (@@ false@@ ).when@@ (command@@ ).@@ validate@@ Vds@@ (); assert@@ F@@ als@@ e(@@ command@@ .@@ validate@@ ()); }
public void On@@ SetupNetworks@@ () { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Network@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Check@@ Time@@ out@@ In@@ Sec@@ on@@ ds@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void On@@ Success@@ (java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ List@@ Model list@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ ListModel@@ ) (@@ target@@ )); org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ SetupNetworks@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ SetupNetworks@@ Model) (@@ list@@ Model.get@@ W@@ in@@ do@@ w@@ ())); model.get@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Time@@ out@@ ().set@@ Entity@@ (@@ return@@ Value@@ ); list@@ Model.@@ P@@ ost@@ On@@ Setup@@ Network@@ (); } }@@ )); }
public void update@@ Su@@ g@@ g@@ es@@ ted@@ Label@@ s() { s@@ u@@ g@@ es@@ ted@@ Label@@ s = new java.util.@@ T@@ ree@@ Set<@@ >@@ (s@@ u@@ g@@ es@@ ted@@ Label@@ s@@ C@@ ach@@ e); s@@ u@@ g@@ es@@ ted@@ Label@@ s.@@ remove@@ All@@ (c@@ om@@ pu@@ te@@ Sel@@ ec@@ et@@ ed@@ Label@@ s()); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ java.lang.String> label@@ Model : get@@ Item@@ s()) { label@@ Model.set@@ Items(@@ s@@ u@@ g@@ g@@ es@@ ted@@ Label@@ s, label@@ Model.get@@ SelectedItem@@ ()); } }
@java.lang.Override public void add@@ Column@@ (c@@ om.google.gwt.@@ user.@@ ce@@ ll@@ view@@ .client.@@ Column@@ <@@ T@@ , ?@@ > c@@ olumn@@ , com.google.gwt.@@ user.@@ ce@@ ll@@ view@@ .client.@@ H@@ ead@@ er@@ <?@@ > h@@ ead@@ er@@ ) { if ((@@ c@@ olumn@@ Res@@ iz@@ ing@@ Enabled@@ ) && (@@ h@@ e@@ ade@@ r instanceof org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ Abstract@@ Check@@ bo@@ x@@ H@@ ead@@ er@@ )) { h@@ e@@ ade@@ r = create@@ Res@@ iz@@ able@@ Check@@ bo@@ x@@ H@@ ead@@ er@@ (@@ h@@ ead@@ er@@ , c@@ olumn@@ ); } else if (c@@ olumn@@ Res@@ iz@@ ing@@ Enabled@@ ) { h@@ e@@ ade@@ r = create@@ Res@@ iz@@ able@@ H@@ ead@@ er@@ (c@@ olumn@@ , h@@ ead@@ er@@ ); } else if ((@@ ap@@ pl@@ y@@ H@@ ead@@ er@@ Sty@@ le@@ ) && (@@ h@@ e@@ ade@@ r instanceof org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ S@@ afe@@ Ht@@ ml@@ H@@ ead@@ er@@ )) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ S@@ afe@@ Ht@@ ml@@ H@@ e@@ ade@@ r s@@ afe@@ Ht@@ ml@@ H@@ e@@ ade@@ r = ((@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ S@@ afe@@ Ht@@ ml@@ H@@ ead@@ er@@ ) (@@ h@@ ead@@ er@@ )); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l new@@ Value = org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Column@@ Res@@ ize@@ C@@ el@@ l@@ T@@ abl@@ e.@@ templat@@ es.@@ n@@ on@@ Res@@ ize@@ able@@ Column@@ H@@ ead@@ er@@ (s@@ afe@@ Ht@@ ml@@ H@@ ead@@ er@@ .get@@ Value@@ ()); h@@ e@@ ade@@ r = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ S@@ afe@@ Ht@@ ml@@ H@@ ead@@ er@@ (@@ new@@ Value@@ , s@@ afe@@ Ht@@ ml@@ H@@ ead@@ er@@ .get@@ T@@ ooltip@@ ()); } super@@ .@@ add@@ Column@@ (c@@ olumn@@ , h@@ ead@@ er@@ ); if (c@@ olumn@@ Res@@ iz@@ ing@@ Enabled@@ ) { if (is@@ Column@@ Pres@@ ent@@ (@@ em@@ pty@@ No@@ W@@ id@@ th@@ Column@@ )) { remove@@ Column@@ (@@ em@@ pty@@ No@@ W@@ id@@ th@@ Column@@ ); } super@@ .@@ add@@ Column@@ (@@ em@@ pty@@ No@@ W@@ id@@ th@@ Column@@ , em@@ pty@@ No@@ W@@ id@@ th@@ Column@@ H@@ ead@@ er@@ ); } if (@@ h@@ e@@ ade@@ r instanceof org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ Abstract@@ H@@ ead@@ er@@ ) { ((@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ h@@ ead@@ er.@@ Abstract@@ H@@ ead@@ er@@ ) (@@ h@@ ead@@ er@@ )@@ .set@@ Context@@ M@@ en@@ u@@ Handler@@ (@@ ens@@ ure@@ Context@@ M@@ en@@ u@@ Handler@@ M@@ en@@ u@@ ().add@@ Item@@ (@@ res@@ ol@@ ve@@ Context@@ M@@ en@@ u@@ Title(@@ c@@ olumn@@ , h@@ ead@@ er@@ ), c@@ olumn@@ ); } }
@java.lang.Override protected void update@@ Sing@@ le@@ Nic@@ (@@ org.ovirt.engine.core.utils.@@ ovf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ ode@@ , org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface if@@ ac@@ e) { super@@ .@@ update@@ Sing@@ le@@ Nic@@ (@@ n@@ ode@@ , if@@ ace@@ ); }
@java.lang.Override protected boolean validate@@ () { boolean return@@ Value = true@@ ; synchronized@@ (org.ovirt.engine.core.bll.@@ Attach@@ User@@ To@@ Vm@@ From@@ Pool@@ And@@ Run@@ Command.@@ _@@ lock@@ Object@@ ) { if (@@ Guid@@ .@@ Empty@@ .@@ equals@@ (get@@ Vm@@ To@@ Attach@@ (org.ovirt.engine.core.bll.@@ Attach@@ User@@ To@@ Vm@@ From@@ Pool@@ And@@ Run@@ Command.getParameters().get@@ Vm@@ Pool@@ Id@@ ()))) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NO@@ _@@ A@@ V@@ A@@ IL@@ AB@@ L@@ E_@@ P@@ O@@ OL@@ _@@ VM@@ S@@ ); return@@ Value = false@@ ; } } if (@@ return@@ Value@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s@@ For@@ Us@@ er = org.ovirt.engine.core.bll.@@ Attach@@ User@@ To@@ Vm@@ From@@ Pool@@ And@@ Run@@ Command.getVm@@ Dao().get@@ AllFor@@ User@@ (get@@ Ad@@ User@@ Id()); int vm@@ C@@ oun@@ t = 0@@ ; for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s@@ For@@ User@@ ) { if ((@@ (vm.get@@ Vm@@ Pool@@ Id()) != null@@ ) && (get@@ Vm@@ Pool@@ Id().@@ equals@@ (vm.get@@ Vm@@ Pool@@ Id@@ ()))) { vm@@ Count@@ +@@ +@@ ; } } int l@@ im@@ i@@ t = org.ovirt.engine.core.bll.@@ Attach@@ User@@ To@@ Vm@@ From@@ Pool@@ And@@ Run@@ Command.getVm@@ Pool@@ ().get@@ Max@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Per@@ User@@ (); if (vm@@ C@@ oun@@ t >@@ = l@@ im@@ it@@ ) { add@@ Validation@@ Message@@ (EngineMessage.@@ VM_@@ P@@ O@@ OL@@ _C@@ ANNOT_@@ AT@@ T@@ AC@@ H@@ _@@ TO@@ _@@ M@@ OR@@ E_@@ VM@@ S_@@ F@@ RO@@ M@@ _P@@ O@@ OL@@ ); return@@ Value = false@@ ; } } if (@@ !@@ return@@ Value@@ ) { set@@ Action@@ Message@@ Parameters@@ (); } return return@@ Value@@ ; }
@java.lang.Override protected void build@@ Vm@@ S@@ ound@@ Devices@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ S@@ ound@@ Device@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VmDevice@@ Dao().get@@ VmDevice@@ By@@ Vm@@ Id@@ And@@ Type(@@ vm.get@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ S@@ O@@ UN@@ D@@ ); if (!@@ (vm@@ S@@ ound@@ Devic@@ es.@@ isEmpty@@ ())) { create@@ Info@@ .@@ put(@@ VdsProperties.@@ s@@ ound@@ Device@@ , os@@ Rep@@ os@@ it@@ ory@@ .get@@ S@@ ound@@ Device@@ (vm.get@@ StaticData@@ ().get@@ Os@@ Id(), vm.get@@ CompatibilityVersion@@ ())); } }
private void validate@@ And@@ As@@ sert@@ Network@@ M@@ o@@ d@@ if@@ i@@ ed@@ (org.ovirt.engine.core.common.businessentities.@@ n@@ etwork net@@ , org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface nic@@ ) { org.ovirt.engine.core.bll.@@ SetupNetworks@@ Help@@ er h@@ el@@ p@@ er = create@@ Helper@@ (c@@ reate@@ Parameters@@ For@@ Nic@@ s(@@ nic@@ )); validate@@ And@@ Expect@@ No@@ Vi@@ ol@@ ation@@ s(@@ h@@ el@@ per@@ ); assert@@ No@@ Bon@@ ds@@ M@@ o@@ d@@ if@@ i@@ ed(@@ h@@ el@@ per@@ ); assert@@ Network@@ M@@ o@@ d@@ if@@ i@@ ed(@@ h@@ el@@ per@@ , net@@ ); assert@@ No@@ Networks@@ Rem@@ ov@@ ed(@@ h@@ el@@ per@@ ); assert@@ No@@ Bon@@ ds@@ Rem@@ ov@@ ed(@@ h@@ el@@ per@@ ); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Host@@ .@@ class@@ , to = org.ovirt.engine.core.common.businessentities.@@ Vds@@ Static@@ .@@ class@@ ) public static org.ovirt.engine.core.common.businessentities.@@ Vds@@ Stati@@ c map@@ (org.ovirt.engine.api.model.@@ Hos@@ t model, org.ovirt.engine.core.common.businessentities.@@ Vds@@ Stati@@ c template@@ ) { org.ovirt.engine.core.common.businessentities.@@ Vds@@ Stati@@ c enti@@ ty = (@@ templ@@ ate != null@@ ) ? templ@@ ate : new org.ovirt.engine.core.common.businessentities.@@ Vds@@ Static@@ (); if (m@@ odel.@@ isSet@@ Id()) { entity.set@@ Id(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (model.get@@ Id@@ ())); } if (m@@ odel.@@ isSet@@ Name@@ ()) { entity.set@@ vds@@ _@@ name@@ (model.get@@ Name()); } if ((@@ model.@@ isSet@@ Cluster@@ ()) && (model.get@@ Cluster@@ ().is@@ Set@@ Id@@ ())) { entity.set@@ vds@@ _@@ group@@ _id@@ (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (model.get@@ Cluster@@ ().get@@ Id@@ ())); } if (m@@ odel.@@ isSet@@ Address@@ ()) { entity.set@@ host@@ _@@ name@@ (model.get@@ Address@@ ()); } if ((@@ model.@@ isSet@@ Port@@ ()) && ((@@ model.get@@ Port@@ ()) > 0@@ )) { entity.set@@ port@@ (model.get@@ Port@@ ()); } else { entity.set@@ port@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ Host@@ Mapper.@@ DE@@ FA@@ U@@ L@@ T_@@ VDS@@ M@@ _@@ PORT@@ ); } if (m@@ odel.@@ isSet@@ P@@ ow@@ er@@ Management@@ ()) { enti@@ ty = org.ovirt.engine.api.restapi.@@ types.@@ Host@@ Mapper.@@ map@@ (model.get@@ P@@ ow@@ er@@ Management@@ (), entity@@ ); } if (m@@ odel.@@ isSet@@ Storage@@ Manager@@ ()) { if ((@@ model.get@@ Storage@@ Manager@@ ().get@@ P@@ ri@@ or@@ ity@@ ()) != null@@ ) { entity.set@@ Vds@@ Sp@@ m@@ P@@ ri@@ or@@ ity@@ (model.get@@ Storage@@ Manager@@ ().get@@ P@@ ri@@ or@@ ity@@ ()); } } if ((@@ model.@@ isSet@@ Display@@ ()) && (model.get@@ Display@@ ().is@@ Set@@ Address@@ ())) { entity.set@@ Console@@ Address@@ ((@@ "@@ .equals(@@ model.get@@ Display@@ ().get@@ Address@@ ()) ? null : model.get@@ Display@@ ().get@@ Address@@ ())); } return entity@@ ; }
@org.junit.Test public void check@@ Remove@@ Is@@ csi@@ Connection@@ Domain@@ s@@ And@@ Disks@@ Exist@@ () { parameters.set@@ StorageServerConnection@@ (@@ i@@ S@@ C@@ SI@@ Connection@@ ); when(@@ storage@@ ServerConnection@@ Dao@@ .get(@@ i@@ S@@ C@@ SI@@ Connection@@ .getId@@ ())@@ ).@@ thenReturn(@@ i@@ S@@ C@@ SI@@ Connection@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s = new java.util.ArrayList<>(); org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ 1 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 1@@ .set@@ LUN@@ _id@@ ("@@ 3@@ 6@@ 00@@ 1@@ 4@@ 4@@ 4@@ f@@ 0@@ 9@@ db@@ d@@ 0@@ 5@@ 00@@ 00@@ 00@@ 5@@ 1@@ 7@@ e@@ 7@@ 3@@ 0@@ b@@ 1@@ 2@@ 1@@ 2@@ "); lun@@ 1@@ .set@@ StorageDomain@@ Name@@ ("@@ stor@@ age@@ do@@ m@@ ain@@ 1@@ "); lun@@ 1@@ .set@@ volume@@ _@@ group@@ _id@@ ("@@ G@@ 9@@ 5@@ O@@ W@@ d@@ -@@ W@@ v@@ c@@ k@@ -@@ vf@@ tu@@ -@@ p@@ M@@ q@@ 9@@ -@@ 9@@ S@@ AC@@ -@@ N@@ F@@ 3@@ E@@ -@@ ul@@ D@@ P@@ s@@ Q@@ "); lun@@ s.add(@@ lun@@ 1@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ 2 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 2@@ .set@@ LUN@@ _id@@ ("@@ 3@@ 6@@ 00@@ 1@@ 4@@ f@@ 0@@ 9@@ db@@ d@@ 0@@ 5@@ 00@@ 00@@ 5@@ 1@@ 7@@ e@@ 7@@ 3@@ 0@@ b@@ 1@@ 2@@ 1@@ 2@@ 1@@ 2@@ "); lun@@ 2@@ .set@@ StorageDomain@@ Name@@ ("@@ "); lun@@ 2@@ .set@@ volume@@ _@@ group@@ _id@@ ("@@ "); lun@@ 2@@ .set@@ Disk@@ Alias@@ ("@@ disk@@ 2@@ "); lun@@ s.add(@@ lun@@ 2@@ ); when(@@ lun@@ Dao.get@@ AllFor@@ StorageServerConnection@@ (@@ i@@ S@@ C@@ SI@@ Connection@@ .getId@@ ())@@ ).@@ thenReturn(@@ lun@@ s); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ C@@ ON@@ N@@ EC@@ TION_@@ B@@ E@@ L@@ ON@@ G@@ S_@@ TO@@ _S@@ E@@ V@@ ER@@ AL@@ _@@ STORAGE_@@ DOMA@@ IN@@ S_@@ AN@@ D_@@ DIS@@ K@@ S@@ ); }
@java.lang.Override public void m@@ ass@@ Update@@ Numa@@ Node@@ Statistic@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Node@@ > vds@@ Numa@@ Nod@@ es@@ ) { java.util.List<@@ org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source@@ > execu@@ tion@@ s = new java.util.Array@@ List(@@ vds@@ Numa@@ Nod@@ es.@@ size@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Nod@@ e n@@ od@@ e : vds@@ Numa@@ Nod@@ es@@ ) { execu@@ tion@@ s.@@ add@@ (c@@ reate@@ Vds@@ Numa@@ Node@@ Statistic@@ s@@ Parameters@@ Map@@ per@@ (@@ n@@ ode@@ )); } get@@ Call@@ sHandler@@ ().execute@@ Stor@@ ed@@ Pro@@ c@@ As@@ B@@ atch@@ ("@@ Update@@ Numa@@ Node@@ Statistic@@ s", execu@@ tion@@ s); }
@java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ ev@@ ent.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { get@@ View@@ ().@@ s@@ el@@ ect@@ Sp@@ ice@@ Im@@ pl@@ ement@@ ation@@ (@@ Sp@@ ice@@ Console@@ Model.@@ Client@@ Console@@ Mod@@ e.@@ Ht@@ ml@@ 5@@ ); get@@ View@@ ().set@@ Sp@@ ice@@ Proxy@@ Enabled@@ (@@ false@@ , org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Console@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ sp@@ ice@@ Proxy@@ Can@@ t@@ Be@@ C@@ om@@ b@@ in@@ ed@@ With@@ Sp@@ ice@@ Ht@@ ml@@ 5@@ ()); get@@ View@@ ().set@@ Sp@@ ice@@ Proxy@@ (@@ false@@ ); }
public void pre@@ par@@ e@@ 1@@ () { org.ovirt.engine.ui.uicompat.@@ Pre@@ par@@ ing@@ En@@ list@@ m@@ ent en@@ list@@ m@@ ent = ((@@ org.ovirt.engine.ui.uicompat.@@ Pre@@ par@@ ing@@ En@@ list@@ ment@@ ) (@@ contex@@ t.@@ en@@ list@@ ment@@ )); org.ovirt.engine.ui.uicommonweb.models.hosts.@@ En@@ list@@ ment@@ Contex@@ t en@@ list@@ ment@@ Contex@@ t = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ En@@ list@@ ment@@ Context@@ ) (@@ contex@@ t.@@ en@@ list@@ m@@ ent.get@@ Context@@ ())); org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ List@@ Model model = en@@ list@@ ment@@ Contex@@ t.get@@ Model@@ (); org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t = ((org.ovirt.engine.core.common.businessentities.@@ VDS@@ ) (model.get@@ SelectedItem@@ ())); if (!(@@ en@@ list@@ ment@@ Contex@@ t.get@@ Cluster@@ Id().@@ equals(@@ hos@@ t.get@@ VdsGroup@@ Id@@ ()))) { en@@ list@@ ment@@ Contex@@ t.@@ set@@ O@@ l@@ d@@ Cluster@@ Id(@@ hos@@ t.get@@ VdsGroup@@ Id()); org.ovirt.engine.core.common.action.@@ Change@@ VDS@@ Cluster@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Change@@ VDS@@ Cluster@@ Parameters(@@ en@@ list@@ ment@@ Contex@@ t.get@@ Cluster@@ Id(), hos@@ t.get@@ Id()); parameters.set@@ C@@ or@@ re@@ l@@ ation@@ Id@@ (get@@ C@@ or@@ re@@ l@@ ation@@ Id()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action(VdcActionType.@@ Change@@ VDS@@ Cluster@@ , parameters@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value = result.get@@ ReturnValue@@ (); contex@@ t.@@ ch@@ ang@@ e@@ VDS@@ Cluster@@ ReturnValue = return@@ Value@@ ; pre@@ par@@ e@@ 2@@ (); } }); } else { contex@@ t.@@ en@@ list@@ m@@ ent = null@@ ; en@@ list@@ m@@ ent.@@ Pre@@ par@@ ed@@ (); } }
@java.lang.Override public void at@@ temp@@ t@@ To@@ Fence@@ Job@@ () { if (is@@ D@@ st@@ Vds@@ m@@ Image@@ ()) { org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ In@@ fo in@@ fo = ((org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ Info@@ ) (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Copy@@ Data@@ Command.getParameters().get@@ D@@ st@@ Info@@ ())); org.ovirt.engine.core.common.action.@@ Fence@@ Volume@@ Job@@ Command@@ Parameters p = new org.ovirt.engine.core.common.action.@@ Fence@@ Volume@@ Job@@ Command@@ Parameters(@@ info@@ ); p@@ .set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Copy@@ Data@@ Command.get@@ Action@@ Type@@ ()); p@@ .set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Copy@@ Data@@ Command.get@@ Parameters@@ ()); p@@ .set@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Copy@@ Data@@ Command.getParameters().get@@ StoragePool@@ Id()); run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (VdcActionType.@@ Fence@@ Volume@@ Job@@ , p@@ ); } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Cl@@ one@@ ") java.lang.String cl@@ one@@ Title@@ ();
private static void get@@ T@@ otal@@ Cpu@@ Mem@@ Count@@ (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ G@@ lo@@ b@@ al@@ Util@@ ization@@ Resource@@ S@@ um@@ mar@@ y cpu@@ S@@ um@@ mar@@ y@@ , org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ G@@ lo@@ b@@ al@@ Util@@ ization@@ Resource@@ S@@ um@@ mar@@ y mem@@ S@@ um@@ mar@@ y@@ , javax.@@ s@@ q@@ l.@@ Data@@ Source d@@ wh@@ Data@@ Source@@ ) throw@@ s org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ D@@ ashboard@@ Data@@ Exception { org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Host@@ D@@ wh@@ D@@ a@@ o d@@ a@@ o = new org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Host@@ D@@ wh@@ Dao@@ (@@ d@@ wh@@ Data@@ Source@@ ); org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .models.@@ Res@@ ourc@@ es@@ T@@ ot@@ al t@@ ot@@ al = d@@ ao@@ .get@@ T@@ otal@@ Cpu@@ Mem@@ Count@@ (); cpu@@ S@@ um@@ mar@@ y@@ .set@@ P@@ h@@ y@@ s@@ ical@@ T@@ otal@@ (@@ t@@ otal@@ .get@@ Cpu@@ T@@ otal@@ ()); mem@@ S@@ um@@ mar@@ y@@ .set@@ P@@ h@@ y@@ s@@ ical@@ T@@ otal@@ (((@@ t@@ otal@@ .get@@ Mem@@ T@@ otal@@ ()) / 1@@ 0@@ 2@@ 4@@ )); }
private boolean validate@@ Network@@ Interfaces@@ () { java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.Vm@@ Network@@ Interface@@ > int@@ er@@ fac@@ e@@ Network@@ Map = org.ovirt.engine.core.common.businessentities.@@ Enti@@ ties@@ .@@ int@@ er@@ fac@@ es@@ By@@ Network@@ Name@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Interfaces@@ ()); java.util.@@ Set<@@ java.lang.String> int@@ er@@ fac@@ e@@ Network@@ Name@@ s = int@@ er@@ fac@@ e@@ Network@@ Map.@@ key@@ Set@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network@@ > cluster@@ Network@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Network@@ DAO@@ ().get@@ AllFor@@ Cluster@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ vds@@ _@@ group@@ _id@@ ()); return ((@@ is@@ Vm@@ Interfaces@@ Configur@@ ed@@ (@@ int@@ er@@ fac@@ e@@ Network@@ Map@@ )) && (is@@ Vm@@ Interfaces@@ Attached@@ To@@ Cluster@@ Networks@@ (cluster@@ Network@@ s, int@@ er@@ fac@@ e@@ Network@@ Names@@ ))) && (is@@ Vm@@ Interfaces@@ Attached@@ To@@ Vm@@ Networks@@ (cluster@@ Network@@ s, int@@ er@@ fac@@ e@@ Network@@ Names@@ )); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not d@@ est@@ ro@@ y the ma@@ st@@ er Stor@@ age Domain f@@ ro@@ m the Data C@@ en@@ te@@ r with@@ o@@ u@@ t an@@ oth@@ er ac@@ ti@@ v@@ e Stor@@ age Domain to t@@ a@@ k@@ e it@@ s pl@@ ac@@ e.@@ \@@ n@@ -@@ E@@ ith@@ er ac@@ tiva@@ te an@@ oth@@ er Stor@@ age Domain in the Data Center@@ , or rem@@ ov@@ e the Data C@@ enter.@@ \@@ n@@ -@@ I@@ f y@@ o@@ u ha@@ v@@ e pro@@ bl@@ em@@ s wit@@ h the ma@@ st@@ er Data Domain@@ , con@@ si@@ der f@@ ol@@ low@@ ing the r@@ ec@@ o@@ ver@@ y pro@@ c@@ es@@ s d@@ es@@ cri@@ b@@ ed in the do@@ c@@ um@@ ent@@ ation@@ , or cont@@ ac@@ t Re@@ d H@@ a@@ t Sup@@ port.@@ ") java.lang.String ER@@ R@@ OR@@ _C@@ ANNOT_@@ DE@@ ST@@ RO@@ Y_@@ L@@ A@@ ST@@ _@@ STORAGE_@@ DOMA@@ IN@@ ();
public void set@@ Disk@@ Oper@@ ator@@ Auth@@ z@@ P@@ rin@@ c@@ ip@@ al@@ Db@@ Id(@@ org.ovirt.engine.core.compat.Guid disk@@ Oper@@ ator@@ Auth@@ z@@ P@@ rin@@ c@@ ip@@ al@@ Db@@ Id) { this@@ .@@ disk@@ Oper@@ ator@@ Auth@@ z@@ P@@ rin@@ c@@ ip@@ al@@ Db@@ Id = disk@@ Oper@@ ator@@ Auth@@ z@@ P@@ rin@@ c@@ ip@@ al@@ Db@@ Id@@ ; }
public org.ovirt.engine.core.bll.ValidationResult disk@@ s@@ In@@ Status@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status ap@@ pl@@ ic@@ able@@ Status@@ , org.ovirt.engine.core.common.errors.@@ EngineMess@@ age mess@@ age@@ ) { for (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image : disk@@ Images@@ ) { if ((@@ disk@@ Image.get@@ Image@@ Status()) != ap@@ pl@@ ic@@ able@@ Status@@ ) { return new org.ovirt.engine.core.bll.ValidationResult@@ (m@@ ess@@ age@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ stat@@ u@@ s %@@ s", ap@@ pl@@ ic@@ able@@ Status.@@ name@@ ())); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
private void Edit@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Interface@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Interface@@ Model@@ (); model.get@@ M@@ AC@@ ().setIs@@ Available@@ (@@ false@@ ); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ edit@@ Network@@ Interface@@ Title@@ ()); model.set@@ Help@@ Name@@ ("@@ edit@@ _@@ network@@ _@@ int@@ er@@ fac@@ e@@ _@@ t@@ m@@ p@@ s@@ "); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Cluster@@ Network@@ List@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void On@@ Success@@ (java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Template@@ Interface@@ List@@ Model vm@@ Interface@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Template@@ Interface@@ ListModel@@ ) (@@ target@@ )); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ > network@@ _@@ lis@@ t = (@@ return@@ Value != null@@ ) ? ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ >) (@@ return@@ Value@@ )) : new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Network@@ >(); vm@@ Interface@@ List@@ Model.@@ P@@ ost@@ Get@@ Cluster@@ Network@@ List@@ _@@ Edit@@ (network@@ _@@ list@@ ); } }@@ ), get@@ Entity@@ St@@ ron@@ g@@ ly@@ Typ@@ ed@@ ().get@@ VdsGroup@@ Id()); }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ List@@ Model user@@ Port@@ al@@ ListModel@@ 1 = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ ListModel@@ ) (model@@ )); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model un@@ it@@ Vm@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (@@ user@@ Port@@ al@@ ListModel@@ 1@@ .get@@ W@@ in@@ do@@ w@@ ())); org.ovirt.engine.core.common.action.@@ AddVm@@ From@@ Template@@ Parameters par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ AddVm@@ From@@ Template@@ Parameters@@ (get@@ temp@@ Vm@@ (), un@@ it@@ Vm@@ Model.get@@ Disks@@ Al@@ loc@@ ation@@ Model().get@@ Image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ (), org.ovirt.engine.core.compat.Guid.@@ Empty@@ ); param@@ .set@@ Ma@@ ke@@ Cre@@ ator@@ Ex@@ pl@@ ic@@ it@@ O@@ wn@@ er@@ (@@ true@@ ); param@@ .set@@ Copy@@ Template@@ Permission@@ s@@ (((@@ java.lang.Boolean@@ ) (@@ un@@ it@@ Vm@@ Model.get@@ Copy@@ Template@@ Permission@@ s@@ ().getEntity@@ ()))); java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > parameter@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); parameter@@ s.add(@@ param@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Multiple@@ Action(VdcActionType.@@ AddVm@@ From@@ Template@@ , parameters@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result a@@ ) { st@@ op@@ Progress@@ (@@ a@@ .get@@ State@@ ()); cancel@@ (); } }, this@@ ); }
private static void set@@ G@@ ate@@ w@@ ay@@ For@@ Management@@ Network@@ (org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface if@@ ace@@ , java.lang.String g@@ ate@@ w@@ ay@@ ) { if (@@ org.ovirt.engine.core.utils.@@ Network@@ Util@@ s.get@@ Engine@@ Network@@ ().@@ equals@@ (@@ if@@ ac@@ e.get@@ Network@@ Name@@ ())) { if@@ ac@@ e.set@@ G@@ ate@@ w@@ ay@@ (@@ g@@ ate@@ w@@ ay@@ ); } }
@java.lang.Override protected void on@@ B@@ in@@ d@@ () { super@@ .@@ on@@ B@@ in@@ d@@ (); re@@ gist@@ er@@ Handler@@ (get@@ T@@ able@@ ().get@@ Sel@@ ection@@ Model@@ ().add@@ Sel@@ ection@@ Change@@ Handler@@ (@@ ( event@@ ) -@@ > { org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ model@@ Provi@@ der.@@ set@@ SelectedItem@@ s@@ (get@@ SelectedItem@@ s()); fi@@ re@@ T@@ able@@ Sel@@ ection@@ Change@@ Event@@ (); if (!(@@ is@@ Visi@@ bl@@ e@@ ())) { h@@ andle@@ P@@ l@@ ace@@ Trans@@ ition@@ (); } }@@ )); re@@ gist@@ er@@ Handler@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ Pres@@ enter@@ .get@@ Event@@ B@@ us@@ ().add@@ Handler@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Ap@@ pl@@ y@@ Search@@ String@@ Ev@@ ent.get@@ Type@@ (), ( event@@ ) -@@ > { ap@@ pl@@ y@@ Search@@ String@@ (@@ ev@@ ent.get@@ Search@@ String@@ ()); }@@ )); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ Pres@@ enter@@ .get@@ View@@ ().set@@ Detail@@ P@@ l@@ ace@@ Trans@@ ition@@ Handler@@ (@@ this@@ ); this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ s.set@@ Sel@@ ection@@ Model@@ (get@@ T@@ able@@ ().get@@ Sel@@ ection@@ Model@@ ()); search@@ String@@ Coll@@ ect@@ or@@ .m@@ ar@@ k@@ Active@@ Pre@@ fi@@ x@@ (model@@ Provider@@ .get@@ Model().get@@ Default@@ Search@@ String@@ ()); java.lang.String search@@ Strin@@ g = search@@ String@@ Coll@@ ect@@ or@@ .get@@ Search@@ String@@ (model@@ Provider@@ .get@@ Model().get@@ Search@@ String@@ ()); if (s@@ e@@ arch@@ Strin@@ g != null@@ ) { ap@@ pl@@ y@@ Search@@ String@@ (s@@ e@@ arch@@ String@@ ); } }
@org.junit.Test public void test@@ Empty@@ Id@@ () { org.ovirt.engine.api.@@ types.@@ V@@ 4@@ V@@ m obj@@ ect = vm@@ ().@@ id@@ ("@@ ").@@ build@@ (); assert@@ Equals@@ ("@@ {@@ '@@ id@@ '@@ :@@ '@@ '@@ }@@ ", object@@ To@@ Json@@ (@@ object@@ )); }
types.@@ Nic@@ (@@ java.util.Map<java.lang.String, java.lang.Object> nic@@ Properties@@ ) { java.util.Map<java.lang.String, java.lang.Object> nic@@ Proper@@ ti@@ es = new java.util.HashMap<@@ >(); for (@@ int i = 0@@ ; i < (@@ nic@@ Properties@@ ); i@@ +@@ +@@ ) { nic@@ Proper@@ ti@@ es = (@@ nic@@ Properties@@ .get@@ (@@ i@@ ); nic@@ Proper@@ ti@@ es = (@@ nic@@ Properties@@ .get@@ (@@ i@@ ); nic@@ Proper@@ ti@@ es = (@@ nic@@ Properties@@ .get@@ (@@ i@@ ); nic@@ Proper@@ ti@@ es = (@@ nic@@ Properties@@ .get@@ (@@ i@@ ); nic@@ Proper@@ ti@@ es = (@@ nic@@ Properties@@ .get@@ (@@ i@@ ); nic@@ Properties@@ .set@@ Address@@ (@@ i@@ ); nic@@ Proper@@ ti@@ es = (@@ nic@@ Properties@@ .get@@ Address@@
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ java.lang.Boolean@@ > set@@ Is@@ Chang@@ able@@ (@@ boolean value@@ ) { super@@ .set@@ Is@@ Sel@@ ect@@ able(@@ value@@ ); return this@@ ; }
private boolean is@@ Management@@ Network@@ Changed@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ NetworkAttachment@@ > new@@ Attachment@@ s = org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Command.getParameters().get@@ NetworkAttachment@@ s(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ NetworkAttachment@@ > existing@@ Attachment@@ s = this@@ .@@ existing@@ Attachment@@ s@@ ; java.lang.String m@@ g@@ m@@ t@@ Network@@ Name = manage@@ ment@@ Network@@ Util@@ .get@@ Management@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Host@@ SetupNetworks@@ Command.get@@ Vds@@ ().get@@ VdsGroup@@ Id@@ ())@@ .getName@@ (); for (org.ovirt.engine.core.common.@@ vdscommands.@@ Host@@ Network n@@ etwork : get@@ Networks@@ To@@ Configur@@ e@@ ()) { if (m@@ g@@ m@@ t@@ Network@@ Nam@@ e.@@ equals(@@ network@@ .get@@ Network@@ Name@@ ())) { return true@@ ; } } for (org.ovirt.engine.core.common.businessentities.network.@@ Bon@@ d b@@ on@@ d : org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ SetupNetworks@@ Command.getParameters().get@@ Bon@@ ds@@ ()) { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface bond@@ N@@ ic = get@@ Existing@@ Nic@@ s@@ B@@ usiness@@ Entity@@ Map@@ ().get@@ (@@ bond@@ .getId()); if ((@@ bond@@ N@@ ic != null@@ ) && (m@@ g@@ m@@ t@@ Network@@ Nam@@ e.@@ equals(@@ bond@@ Nic@@ .get@@ Network@@ Name@@ ()))) { return true@@ ; } } return false@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Down@@ load@@ ") java.lang.String do@@ wn@@ load@@ Image@@ ();
public java.util.List<java.lang.String> get@@ Cluster@@ P@@ olic@@ i@@ es@@ Names@@ By@@ Policy@@ Unit@@ Id(@@ org.ovirt.engine.core.compat.Guid p@@ olicy@@ Unit@@ Id) { java.util.List<java.lang.String> lis@@ t = new java.util.ArrayList<@@ java.lang.String@@ >(); final org.ovirt.engine.core.bll.@@ scheduling.@@ Policy@@ Unit@@ Im@@ p@@ l p@@ olicy@@ Unit@@ Im@@ p@@ l = p@@ olicy@@ Unit@@ s.get@@ (p@@ olicy@@ Unit@@ Id); if (p@@ olicy@@ Unit@@ Im@@ p@@ l == null@@ ) { org.ovirt.engine.core.bll.@@ scheduling.@@ Schedul@@ ing@@ Manager.@@ log.@@ w@@ ar@@ n@@ Format@@ ("@@ Tr@@ y@@ ing to fin@@ d us@@ age@@ s of n@@ on@@ -@@ ex@@ ist@@ ing p@@ olic@@ y un@@ i@@ t %@@ s", p@@ olicy@@ Unit@@ Id@@ .@@ toString()); return null@@ ; } org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t p@@ olicy@@ Un@@ i@@ t = p@@ olicy@@ Unit@@ Im@@ pl@@ .get@@ Policy@@ Unit@@ (); if (p@@ olicy@@ Un@@ i@@ t != null@@ ) { for (org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ P@@ olic@@ y cluster@@ P@@ olic@@ y : p@@ olicy@@ Map.@@ valu@@ es@@ ()) { switch (p@@ olicy@@ Un@@ it.@@ get@@ Policy@@ Unit@@ Type()) { case Fil@@ te@@ r : if (cluster@@ Policy@@ .get@@ Fil@@ t@@ ers@@ ().@@ contains(@@ p@@ olicy@@ Unit@@ Id@@ )) { lis@@ t.@@ add@@ (cluster@@ Policy@@ .get@@ Name()); } break@@ ; case W@@ e@@ ig@@ h@@ t : for (org.ovirt.engine.core.common.@@ utils.@@ Pair@@ <@@ org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ > p@@ a@@ i@@ r : cluster@@ Policy@@ .get@@ F@@ un@@ c@@ tion@@ s()) { if (p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ ().@@ equals(@@ p@@ olicy@@ Unit@@ Id@@ )) { lis@@ t.@@ add@@ (cluster@@ Policy@@ .get@@ Name()); break@@ ; } } break@@ ; case Lo@@ ad@@ Bal@@ an@@ c@@ ing : if (p@@ olicy@@ Unit@@ Id@@ .@@ equals@@ (cluster@@ Policy@@ .get@@ Bal@@ ance@@ ())) { lis@@ t.@@ add@@ (cluster@@ Policy@@ .get@@ Name()); } break@@ ; default : break@@ ; } } } } return list@@ ; }
public org.ovirt.engine.core.bll.ValidationResult validate@@ () { java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > attach@@ ment@@ sTo@@ Configur@@ e = get@@ Attachment@@ sTo@@ Configur@@ e@@ (); org.ovirt.engine.core.bll.ValidationResult v@@ r = org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : new org.ovirt.engine.core.bll.network.@@ host.@@ Nic@@ Label@@ Validator@@ (@@ param@@ s, existing@@ Interfaces@@ Map@@ , b@@ on@@ ds@@ Map@@ , host@@ SetupNetworks@@ Validator@@ Helper@@ ).@@ validate@@ (); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : valid@@ New@@ Or@@ M@@ o@@ d@@ if@@ i@@ ed@@ NetworkAttachment@@ s(); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : valid@@ Rem@@ oved@@ NetworkAttachment@@ s(); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : valid@@ New@@ Or@@ M@@ o@@ d@@ if@@ i@@ ed@@ Bon@@ ds@@ (); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : valid@@ Rem@@ oved@@ Bon@@ ds@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : attach@@ ment@@ s@@ D@@ on@@ t@@ Re@@ fer@@ ence@@ S@@ ame@@ Network@@ D@@ up@@ l@@ icate@@ ly@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : network@@ s@@ Un@@ i@@ q@@ ue@@ ly@@ Configur@@ ed@@ On@@ Host@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validate@@ Network@@ Ex@@ cl@@ us@@ ive@@ On@@ Nic@@ s(@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : new org.ovirt.engine.core.bll.network.@@ host.@@ Network@@ M@@ tu@@ Validator@@ (network@@ B@@ usiness@@ Entity@@ Map@@ ).@@ validate@@ M@@ tu@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validate@@ Custom@@ Properties@@ (); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validate@@ Qos@@ (@@ attach@@ ment@@ sTo@@ Configur@@ e); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : create@@ Un@@ manage@@ d@@ Network@@ Validator@@ ().@@ validate@@ (@@ param@@ s, existing@@ Interfaces@@ , existing@@ Interfaces@@ , existing@@ Interfaces@@ Map@@ , network@@ B@@ usiness@@ Entity@@ Map@@ ); return v@@ r@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ In@@ val@@ id m@@ as@@ k for this c@@ luster le@@ ve@@ r m@@ od@@ e.@@ \@@ n@@ D@@ o y@@ .@@ ") java.lang.String In@@ valid@@ With@@ Error@@ M@@ s@@ g@@ ();
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ K@@ S@@ M cont@@ ro@@ l@@ ") java.lang.String k@@ s@@ m@@ Label@@ Title@@ ();
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ R@@ oo@@ t Password@@ ") java.lang.String ge@@ oRep@@ S@@ lave@@ Node@@ R@@ oot@@ Password@@ ();
public void set@@ G@@ u@@ est@@ Os@@ Ar@@ ch@@ (org.ovirt.engine.core.common.businessentities.@@ G@@ u@@ est@@ Os@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type g@@ u@@ est@@ Os@@ Ar@@ ch@@ ) { if (!(@@ org.ovirt.engine.core.common.utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qu@@ al@@ (@@ this@@ .@@ g@@ u@@ est@@ Os@@ Ar@@ ch@@ , g@@ u@@ est@@ Os@@ Ar@@ ch@@ ))) { this@@ .@@ g@@ u@@ est@@ Os@@ Ar@@ ch = g@@ u@@ est@@ Os@@ Ar@@ ch@@ ; on@@ PropertyChanged@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ ("@@ G@@ u@@ est@@ Os@@ Ar@@ ch@@ ")); } }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { valid@@ ation = new org.ovirt.engine.ui.uicommonweb.validation.@@ Brick@@ M@@ ount@@ P@@ o@@ int@@ Validation@@ (); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Tag@@ s> get@@ AllFor@@ Parent@@ (org.ovirt.engine.core.compat.Guid id@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ parent@@ _id", id@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ t@@ ag@@ s@@ B@@ yp@@ ar@@ ent@@ _id", org.ovirt.engine.core.dao.@@ Tag@@ Dao@@ Impl.@@ Tag@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
public java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ <@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ > execute@@ Async@@ Command@@ (@@ final org.ovirt.engine.core.common.action.VdcAction@@ Type action@@ Type, final org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base parameters@@ , final org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Contex@@ t cmd@@ Context@@ ) { final org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > c@@ ommand = org.ovirt.engine.core.bll.@@ Command@@ s@@ Fac@@ t@@ ory@@ .@@ create@@ Command(@@ action@@ Type, parameters@@ , cmd@@ Context@@ ); org.ovirt.engine.core.bll.@@ task@@ s@@ .@@ int@@ er@@ fac@@ es.@@ Command@@ Call@@ B@@ ack call@@ B@@ ack = command@@ .get@@ Call@@ Back@@ (); command@@ .@@ p@@ ers@@ ist@@ Command@@ (command@@ .get@@ Parameters().get@@ Parent@@ Command@@ (), cmd@@ Context@@ , (c@@ all@@ B@@ ack != null@@ )); if (c@@ all@@ B@@ ack != null@@ ) { cmd@@ Call@@ Back@@ Map.@@ put@@ (command@@ .get@@ Command@@ Id(), call@@ Back@@ ); } if (c@@ all@@ B@@ ack != null@@ ) { cmd@@ Call@@ Back@@ Map.@@ put@@ (command@@ .get@@ Command@@ Id(), call@@ Back@@ ); } java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ <@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ > ret@@ Val@@ ; try { ret@@ V@@ al = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ Execu@@ t@@ or.@@ execu@@ t@@ or.@@ sub@@ m@@ it@@ (@@ new java.util.@@ con@@ c@@ urr@@ ent.@@ Call@@ able@@ <@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ >() { @java.lang.Override public org.ovirt.engine.core.common.action.VdcReturnValue@@ Base call@@ () throw@@ s java.lang.Exception { return execute@@ Command@@ (command@@ , cmd@@ Context@@ ); } }); } catch (java.util.@@ con@@ c@@ urr@@ ent.@@ Re@@ j@@ ected@@ Execution@@ Exception ex@@ ) { command@@ .set@@ Command@@ Status(@@ Command@@ Status.@@ FAIL@@ ED); org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ Execu@@ t@@ or.@@ log.error@@ Format@@ ("@@ Fail@@ ed to sub@@ m@@ i@@ t c@@ ommand to execu@@ to@@ r ser@@ vice@@ , c@@ ommand {0@@ } stat@@ u@@ s ha@@ s b@@ e@@ n se@@ t to FAIL@@ ED@@ ", command@@ .get@@ Command@@ Id().@@ toString()); ret@@ V@@ al = new org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ Execu@@ t@@ or.@@ Re@@ j@@ ected@@ Execution@@ F@@ ut@@ ure@@ (); } return ret@@ Val@@ ; }
@java.lang.Override public void set@@ Enabled@@ (@@ boolean en@@ abled@@ , java.util.List<java.lang.String> dis@@ ab@@ ility@@ H@@ int@@ s) { this@@ .@@ en@@ abled@@ ; }
public static org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ Us@@ er map@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ To@@ Direct@@ ory@@ User@@ (@@ final java.lang.String auth@@ z@@ Name, final org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ ) { org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ Us@@ er d@@ irect@@ ory@@ Us@@ er = null@@ ; if (p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d != null@@ ) { d@@ irect@@ ory@@ Us@@ er = new org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ User@@ (@@ auth@@ z@@ Name, p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ NAM@@ ES@@ P@@ AC@@ E@@ ), p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ ID@@ ), p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ NAM@@ E@@ )); d@@ irect@@ ory@@ Us@@ er.@@ set@@ De@@ par@@ t@@ ment@@ (p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ DE@@ P@@ AR@@ T@@ M@@ EN@@ T@@ )); d@@ irect@@ ory@@ Us@@ er.@@ set@@ F@@ ir@@ st@@ Name(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ F@@ I@@ R@@ ST@@ _@@ NAM@@ E@@ )); d@@ irect@@ ory@@ Us@@ er.@@ set@@ L@@ ast@@ Name(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ L@@ A@@ ST@@ _@@ NAM@@ E@@ )); d@@ irect@@ ory@@ Us@@ er.@@ set@@ Em@@ ail@@ (p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ E@@ MA@@ IL@@ )); d@@ irect@@ ory@@ Us@@ er.@@ set@@ Title(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ TI@@ T@@ LE@@ )); java.util.List<@@ org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ Group@@ > d@@ irect@@ ory@@ Group@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.@@ aaa.@@ Direct@@ ory@@ Group@@ >(); java.util.List<@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ > group@@ s = p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.util.List<@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ G@@ RO@@ UP@@ S@@ ); if (@@ group@@ s != null@@ ) { for (@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map g@@ roup : group@@ s) { d@@ irect@@ ory@@ Us@@ er.@@ set@@ Group@@ s(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ L@@ ast@@ Name(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ Name(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ L@@ ast@@ Name(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ L@@ ast@@ Name(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ irect@@ ory@@ Group@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ L@@ ast@@ Name(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ L@@ ast@@ Name(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ L@@ ast@@ Name(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ Rec@@ or@@ d@@ irect@@ ory@@ Us@@ er.@@ set@@ (@@ Auth@@ z@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.lang.String@@ >@@ get@@ (@@ Auth@@
private void on@@ Remove@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > param@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Is@@ csi@@ Bon@@ d i@@ te@@ m : get@@ SelectedItem@@ s()) { param@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.action.@@ Remove@@ Is@@ csi@@ Bond@@ Parameters(@@ item@@ .getId@@ ())); } model.@@ st@@ art@@ Progress@@ (@@ null@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action(VdcActionType.@@ Remove@@ Is@@ csi@@ Bond@@ , param@@ s, new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execu@@ ted@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ DataCenter@@ Is@@ csi@@ Bond@@ List@@ Model local@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ DataCenter@@ Is@@ csi@@ Bond@@ ListModel@@ ) (@@ result.get@@ State@@ ())); local@@ Model.@@ st@@ op@@ Progress@@ (); cancel@@ (); } }, this@@ ); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if ("@@ Allow@@ Cluster@@ With@@ Vir@@ t@@ Gluster@@ Enabled@@ "@@ .equals(@@ pro@@ p@@ Name@@ )) { get@@ View@@ ().@@ al@@ low@@ Cluster@@ With@@ Vir@@ t@@ Gluster@@ Enabled@@ (model.get@@ Allow@@ Cluster@@ With@@ Vir@@ t@@ Gluster@@ Enabled@@ ()); } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Tim@@ e Z@@ on@@ e is not ch@@ ang@@ e@@ able for Lin@@ u@@ x VM@@ s@@ ") java.lang.String time@@ Z@@ one@@ Not@@ Change@@ able@@ For@@ Lin@@ u@@ x@@ Vms@@ ();
public static boolean check@@ Image@@ Configuration@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ , org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ Base disk@@ Info@@ , java.util.List<java.lang.String> mess@@ ages@@ ) { if (!@@ (org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ check@@ Image@@ Configuration@@ (@@ storageDomain@@ , disk@@ Info@@ .get@@ Volume@@ Type@@ (), disk@@ Info@@ .get@@ Volume@@ Format@@ ()))) { mess@@ ages.@@ add(@@ EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ C@@ ON@@ F@@ I@@ G@@ UR@@ A@@ TION_@@ NOT_@@ SUP@@ PORT@@ ED@@ .@@ toString()); mess@@ ages.@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ %@@ 1@@ $@@ s %@@ 2@@ $@@ s", "@@ volume@@ Format@@ ", disk@@ Info@@ .get@@ Volume@@ Format@@ ())); mess@@ ages.@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ %@@ 1@@ $@@ s %@@ 2@@ $@@ s", "@@ volume@@ Type@@ ", disk@@ Info@@ .get@@ Volume@@ Type@@ ())); return false@@ ; } return true@@ ; }
protected org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Loc@@ k lock@@ Vm@@ Disk@@ Hot@@ Plug@@ With@@ W@@ a@@ it@@ () { org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Loc@@ k vm@@ Disk@@ Hot@@ Plug@@ Engine@@ Loc@@ k = new org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Lock@@ (); vm@@ Disk@@ Hot@@ Plug@@ Engine@@ Lock@@ .set@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s(@@ java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.@@ Abstract@@ Disk@@ VmCommand.getVm@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VM_@@ DIS@@ K_@@ HO@@ T_@@ P@@ LU@@ G@@ , EngineMessage.ACTION_TYPE_FAILED_@@ O@@ B@@ J@@ EC@@ T_@@ LO@@ C@@ K@@ ED@@ ))); org.ovirt.engine.core.bll.@@ Abstract@@ Disk@@ Vm@@ Command.get@@ Lock@@ Manager@@ ().@@ ac@@ qui@@ re@@ Lock@@ W@@ a@@ it@@ (vm@@ Disk@@ Hot@@ Plug@@ Engine@@ Lock@@ ); return vm@@ Disk@@ Hot@@ Plug@@ Engine@@ Lock@@ ; }
@java.lang.Override protected void do@@ Get@@ (@@ javax.@@ servlet@@ .@@ http@@ .@@ Http@@ Servlet@@ Re@@ quest request@@ , javax.@@ servlet@@ .@@ http@@ .@@ Http@@ Servlet@@ Respon@@ se respon@@ se@@ ) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ servlet@@ .@@ Servlet@@ Exception { java.lang.Integ@@ er ap@@ plication@@ Mod@@ e = get@@ Ap@@ plication@@ M@@ ode@@ (@@ re@@ ques@@ t.get@@ Session@@ ().get@@ Id()); re@@ ques@@ t.@@ set@@ Att@@ ri@@ bu@@ te@@ (@@ org.ovirt.engine.ui.frontend.server.@@ gwt.@@ W@@ eb@@ Ad@@ min@@ Host@@ P@@ age@@ Servlet@@ .@@ AT@@ T@@ R@@ _@@ A@@ P@@ L@@ IC@@ A@@ TION_@@ M@@ O@@ D@@ E, get@@ Ap@@ plication@@ M@@ ode@@ Object@@ (@@ ap@@ plication@@ M@@ ode@@ )); java.util.List<@@ org.ovirt.engine.ui.frontend.server.@@ gwt.@@ p@@ lu@@ gin@@ .@@ P@@ lu@@ gin@@ Data@@ > p@@ lu@@ gin@@ Data = get@@ P@@ lu@@ gin@@ Data@@ (); re@@ ques@@ t.@@ set@@ Att@@ ri@@ bu@@ te@@ (@@ org.ovirt.engine.ui.frontend.server.@@ gwt.@@ W@@ eb@@ Ad@@ min@@ Host@@ P@@ age@@ Servlet@@ .@@ AT@@ T@@ R@@ _P@@ LU@@ G@@ IN_@@ DE@@ FS@@ , get@@ P@@ lu@@ gin@@ De@@ fin@@ ition@@ s@@ Array@@ (p@@ lu@@ gin@@ Data@@ )); java.lang.Integ@@ er engin@@ e@@ Session@@ Time@@ o@@ u@@ t = get@@ Engine@@ Session@@ Time@@ out@@ (); re@@ ques@@ t.@@ set@@ Att@@ ri@@ bu@@ te@@ (@@ org.ovirt.engine.ui.frontend.server.@@ gwt.@@ W@@ eb@@ Ad@@ min@@ Host@@ P@@ age@@ Servlet@@ .@@ AT@@ T@@ R@@ _@@ EN@@ G@@ IN@@ E_@@ S@@ ES@@ SI@@ ON_@@ TI@@ M@@ E@@ O@@ U@@ T@@ , get@@ Engine@@ Session@@ Time@@ out@@ Object@@ (@@ engin@@ e@@ Session@@ Time@@ out@@ )); super@@ .@@ do@@ Get@@ (@@ request@@ , respon@@ se@@ ); }
protected boolean validate@@ Us@@ b@@ Policy@@ () { org.ovirt.engine.core.common.businessentities.VM vm = get@@ Parameters().get@@ Vm@@ (); org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Im@@ ported@@ Vm@@ Us@@ b@@ Policy@@ (vm.get@@ StaticData@@ ()); return org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ is@@ Us@@ b@@ Policy@@ Le@@ g@@ al@@ (vm.get@@ us@@ b@@ _@@ p@@ olicy@@ (), vm.get@@ os@@ (), get@@ VdsGroup@@ (), get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ E@@ d@@ i@@ t Host@@ ") java.lang.String edit@@ Host@@ Title@@ ();
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > get@@ Network@@ s(@@ java.lang.String cluster@@ Id) { if ((@@ network@@ s) == null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > dataCenter@@ Id = get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ .@@ class@@ , VdcQuery@@ Type.Get@@ VdsGroup@@ By@@ Id, new org.ovirt.engine.core.common.queries.@@ Get@@ VdsGroup@@ By@@ Id@@ Parameters(@@ as@@ Guid@@ (cluster@@ Id@@ )@@ ), null@@ ).get@@ StoragePool@@ Id@@ (); org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters param@@ s = new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ as@@ Guid@@ (@@ dataCenter@@ Id@@ )); network@@ s = get@@ Backend@@ Collection@@ (Vdc@@ Query@@ Type.Get@@ All@@ Network@@ s, param@@ s); } return network@@ s@@ ; }
public static void m@@ ain@@ (@@ java.lang.String.@@ .@@ . args) { org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ C@@ L@@ I@@ Par@@ s@@ er par@@ s@@ er = null@@ ; try { par@@ s@@ er = new org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ C@@ L@@ I@@ Par@@ ser@@ (); par@@ s@@ er.@@ par@@ s@@ e(@@ arg@@ s); org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ Map arg@@ s@@ Map = par@@ ser@@ .get@@ Engine@@ Config@@ Map@@ (); if ((@@ arg@@ s@@ Map@@ .get@@ Log@@ File@@ ()) != null@@ ) { org.ovirt.engine.core.utils.@@ log.@@ J@@ ava@@ Log@@ gin@@ g@@ Utils.@@ add@@ File@@ Handler@@ (@@ arg@@ s@@ Map@@ .get@@ Log@@ File@@ (), arg@@ s@@ Map@@ .get@@ Log@@ L@@ ev@@ el@@ ()); } } catch (java.lang.@@ Th@@ row@@ able t@@ ) { java.lang.@@ System@@ .@@ o@@ u@@ t.@@ p@@ r@@ int@@ l@@ n@@ (@@ t.get@@ Message@@ ()); java.lang.@@ System@@ .@@ ex@@ it@@ (@@ 1@@ ); } try { org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config.@@ get@@ Instance@@ ().set@@ Up@@ And@@ Execu@@ te@@ (@@ par@@ ser@@ ); } catch (java.lang.@@ Th@@ row@@ able t@@ ) { org.@@ s@@ l@@ f@@ 4@@ j@@ .@@ Log@@ g@@ er@@ Fac@@ t@@ ory@@ .get@@ Log@@ g@@ er@@ (@@ org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ Execu@@ t@@ or@@ .@@ class@@ ).@@ debug@@ ("@@ Ex@@ it@@ ing wit@@ h error@@ : ", t@@ ); java.lang.@@ System@@ .@@ o@@ u@@ t.@@ p@@ r@@ int@@ l@@ n@@ (@@ t.get@@ Message@@ ()); java.lang.@@ System@@ .@@ ex@@ it@@ (@@ 1@@ ); } }
private void update@@ Dis@@ c@@ o@@ ver@@ ed@@ Host@@ List@@ (java.lang.String search@@ Filter@@ ) { org.ovirt.engine.core.common.businessentities.@@ Provi@@ der provi@@ der = get@@ Provi@@ d@@ ers@@ ().getSelectedItem@@ (); if (@@ provi@@ der != null@@ ) { org.ovirt.engine.ui.frontend.AsyncQuery get@@ Host@@ s@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); get@@ Host@@ s@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >) (@@ result@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ Name@@ List@@ Model = get@@ External@@ Host@@ Name@@ (); hosts.@@ add(@@ 0@@ , null@@ ); host@@ Name@@ List@@ Model.set@@ Items(@@ host@@ s); host@@ Name@@ List@@ Model.set@@ Is@@ Chang@@ able@@ (@@ true@@ ); set@@ En@@ able@@ Search@@ Host@@ (@@ true@@ ); } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ External@@ Provider@@ Host@@ List@@ (get@@ Host@@ s@@ Query@@ , provider@@ .get@@ Id(), true@@ , search@@ Filter@@ ); } else { get@@ External@@ Host@@ Name@@ ().set@@ Item@@ s@@ (@@ null@@ ); get@@ External@@ Host@@ Name@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); set@@ En@@ able@@ Search@@ Host@@ (@@ false@@ ); } }
protected boolean can@@ AddVm@@ (@@ java.util.ArrayList<@@ java.lang.String> re@@ ason@@ s, java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ storage@@ _@@ do@@ m@@ ain@@ s> d@@ est@@ Stor@@ ages@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Static@@ From@@ Param@@ s = org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm@@ StaticData@@ (); boolean return@@ Value = can@@ AddVm@@ (@@ re@@ ason@@ s, vm@@ Static@@ From@@ Param@@ s.get@@ Vm@@ Name(), org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ StoragePool@@ Id@@ ().get@@ Value@@ (), vm@@ Static@@ From@@ Param@@ s.get@@ P@@ ri@@ or@@ ity@@ ()); if (@@ return@@ Value@@ ) { java.util.List<@@ org.ovirt.engine.core.utils.@@ vm@@ proper@@ ties.@@ Vm@@ Properties@@ Utils.@@ Validation@@ Error@@ > valid@@ ation@@ Error@@ s = validate@@ Custom@@ Properties@@ (vm@@ Static@@ From@@ Param@@ s); if (!(@@ valid@@ ation@@ Error@@ s.@@ isEmpty@@ ())) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ h@@ andle@@ Custom@@ Properties@@ Error@@ (@@ valid@@ ation@@ Error@@ s, re@@ ason@@ s); return@@ Value = false@@ ; } } if (@@ return@@ Value && (@@ shoul@@ d@@ Check@@ Sp@@ ace@@ In@@ StorageDomain@@ s@@ ())) { if (!@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ StoragePool@@ Id().@@ equals@@ (get@@ StoragePool@@ Id@@ From@@ Source@@ Image@@ Contain@@ er@@ ()))) { re@@ ason@@ s.add(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ STORAGE_@@ P@@ O@@ OL@@ _@@ NOT_@@ M@@ AT@@ C@@ H@@ .@@ toString()); return@@ Value = false@@ ; } else { for (org.ovirt.engine.core.common.businessentities.@@ storage@@ _@@ do@@ m@@ ain@@ s do@@ ma@@ in : d@@ est@@ Stor@@ ages@@ ) { if (@@ validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ StorageDomain@@ Validator@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ StorageDomain@@ ()).@@ is@@ Domain@@ With@@ in@@ Th@@ resh@@ ol@@ ds@@ ())) { return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.@@ command@@ .@@ utils.@@ StorageDomain@@ Sp@@ ace@@ Check@@ er.@@ has@@ Sp@@ ace@@ For@@ Request@@ (@@ do@@ m@@ ain@@ , get@@ N@@ e@@ e@@ e@@ ded@@ Disk@@ Size@@ (@@ do@@ m@@ ain@@ .getId@@ ())@@ ))) { return@@ Value = false@@ ; re@@ ason@@ s.add(@@ VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AC@@ E_@@ LO@@ W@@ .@@ toString()); break@@ ; } } } } if (@@ return@@ Value@@ ) { return@@ Value = is@@ D@@ ed@@ ic@@ ated@@ Vds@@ On@@ S@@ ame@@ Cluster@@ (vm@@ Static@@ From@@ Param@@ s); } return return@@ Value@@ ; }
private boolean validate@@ Storage@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > vm@@ Disks@@ List = get@@ Disks@@ List@@ For@@ Check@@ s(); vm@@ Disks@@ List = org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler@@ .get@@ Disks@@ D@@ um@@ m@@ i@@ es@@ For@@ Storage@@ Al@@ loc@@ ation@@ s(@@ vm@@ Disks@@ List@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > all@@ Disk@@ s = new java.util.Array@@ List@@ (vm@@ Disks@@ List@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > memory@@ Disks@@ List = null@@ ; if (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command.get@@ Parameters@@ ().is@@ S@@ ave@@ Memory@@ ()) { memory@@ Disks@@ List = org.ovirt.engine.core.bll.@@ memory@@ .@@ Memory@@ Utils.@@ create@@ Disk@@ D@@ um@@ m@@ i@@ es@@ (org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Util@@ s.get@@ T@@ otal@@ Memory@@ Size@@ In@@ By@@ t@@ es@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ AllSnapshots@@ From@@ VmCommand.getVm@@ ()), Memory@@ Utils.@@ M@@ ET@@ AD@@ AT@@ A@@ _@@ SI@@ Z@@ E_@@ IN_@@ B@@ Y@@ T@@ ES@@ ); if (@@ Guid@@ .@@ Empty@@ .@@ equals@@ (get@@ StorageDomain@@ Id@@ For@@ Vm@@ Memory@@ (m@@ em@@ ory@@ Disks@@ List@@ ))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NO@@ _S@@ U@@ I@@ T@@ AB@@ L@@ E_@@ DOMA@@ IN_@@ F@@ O@@ UN@@ D@@ ); } all@@ Disk@@ s.@@ add@@ All@@ (m@@ em@@ ory@@ Disks@@ List@@ ); } org.ovirt.engine.core.bll.validator.@@ Multiple@@ StorageDomain@@ s@@ Validator sd@@ Validator = create@@ Multiple@@ StorageDomain@@ s@@ Validator@@ (@@ all@@ Disks@@ ); if ((@@ (!(@@ validate@@ (s@@ d@@ Validator.@@ all@@ Domain@@ s@@ Exist@@ And@@ Active@@ ()))) || (!(@@ validate@@ (s@@ d@@ Validator.@@ all@@ Domain@@ sWith@@ in@@ Th@@ resh@@ ol@@ ds@@ ())@@ ))) || (!(@@ validate@@ Cinder@@ ()))) { return false@@ ; } if (m@@ em@@ ory@@ Disks@@ List == null@@ ) { return validate@@ (s@@ d@@ Validator.@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ New@@ Disk@@ s(@@ vm@@ Disks@@ List@@ )); } return validate@@ (s@@ d@@ Validator.@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ All@@ Disk@@ s(@@ vm@@ Disks@@ List@@ , memory@@ Disks@@ List@@ )); }
public java.lang.String get@@ Reason@@ () { if (((@@ m@@ Reason@@ ) == null@@ ) && ((get@@ Vm@@ ()) != null@@ )) { m@@ Re@@ as@@ on = get@@ Vm().get@@ Reason@@ (); } return m@@ Reason@@ ; }
private void add@@ Quota@@ To@@ V@@ cpu@@ Quota@@ List@@ (org.ovirt.engine.core.common.businessentities.@@ Quota@@ Per@@ User@@ Us@@ age@@ Entity quota@@ Per@@ User@@ Us@@ age@@ Entity@@ ) { org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ Quota@@ Progress@@ B@@ a@@ r v@@ cpu@@ Quota@@ Progress@@ B@@ a@@ r = new org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ Quota@@ Progress@@ B@@ ar@@ (); if (@@ quota@@ Per@@ User@@ Us@@ age@@ Entity@@ .is@@ Un@@ l@@ im@@ i@@ ted@@ V@@ cpu@@ ()) { v@@ cpu@@ Quota@@ Progress@@ B@@ ar@@ .set@@ Un@@ l@@ im@@ i@@ ted@@ (@@ true@@ ); } else { v@@ cpu@@ Quota@@ Progress@@ B@@ ar@@ .set@@ Value@@ A@@ ((@@ (@@ int@@ ) (@@ quota@@ Per@@ User@@ Us@@ age@@ Entity@@ .get@@ O@@ th@@ ers@@ V@@ cpu@@ Us@@ age@@ Per@@ c@@ ent@@ age@@ ()))); v@@ cpu@@ Quota@@ Progress@@ B@@ ar@@ .set@@ Value@@ B@@ ((@@ (@@ int@@ ) (@@ quota@@ Per@@ User@@ Us@@ age@@ Entity@@ .get@@ User@@ V@@ cpu@@ Us@@ age@@ Per@@ c@@ ent@@ age@@ ()))); v@@ cpu@@ Quota@@ Progress@@ B@@ ar@@ .set@@ Title(@@ org.ovirt.engine.ui.@@ user@@ port@@ al.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ exten@@ ded@@ .S@@ i@@ de@@ Tab@@ Ex@@ ten@@ ded@@ Resource@@ View@@ .m@@ ess@@ ages.@@ quota@@ F@@ ree@@ C@@ p@@ us@@ (@@ quota@@ Per@@ User@@ Us@@ age@@ Entity@@ .get@@ F@@ ree@@ V@@ cpu@@ ())); if ((@@ quota@@ Per@@ User@@ Us@@ age@@ Entity@@ .get@@ V@@ cpu@@ T@@ otal@@ Us@@ age@@ ()) == 0) { v@@ cpu@@ Quota@@ Progress@@ B@@ ar@@ .set@@ Z@@ er@@ o@@ Value@@ (); } } org.ovirt.engine.ui.@@ user@@ port@@ al.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ exten@@ ded@@ .@@ V@@ er@@ tic@@ al@@ Pan@@ e@@ l ver@@ tic@@ al@@ Pan@@ e@@ l = new org.ovirt.engine.ui.@@ user@@ port@@ al.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ exten@@ ded@@ .@@ V@@ er@@ tic@@ al@@ Panel@@ (); org.ovirt.engine.ui.@@ user@@ port@@ al.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ exten@@ ded@@ .@@ exten@@ ded@@ .@@ L@@ ab@@ e@@ l quota@@ Name = new org.ovirt.engine.ui.@@ user@@ port@@ al.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ exten@@ ded@@ .@@ Label@@ (); quota@@ Nam@@ e.set@@ Text@@ (@@ quota@@ Per@@ User@@ Us@@ age@@ Entity@@ .get@@ Quota@@ Name()); ver@@ tic@@ al@@ Pan@@ el.@@ add(@@ v@@ cpu@@ Quota@@ Progress@@ B@@ ar@@ ); ver@@ tic@@ al@@ Pan@@ el.@@ set@@ W@@ id@@ th@@ ("@@ 1@@ 00@@ %@@ "); c@@ p@@ us@@ Qu@@ ot@@ as@@ List.@@ add(@@ ver@@ tic@@ al@@ Panel@@ ); }
@java.lang.Override public java.lang.String toString@@ () { java.lang.String@@ Buil@@ der s@@ b = new java.lang.String@@ Builder@@ (); s@@ b@@ .@@ append("@@ { id@@ : "); s@@ b@@ .@@ append@@ (@@ this@@ .get@@ id@@ ()); s@@ b@@ .@@ append("@@ , connection@@ : "); s@@ b@@ .@@ append@@ (@@ this@@ .get@@ connection@@ ()); s@@ b@@ .@@ append("@@ , i@@ q@@ n@@ : "); s@@ b@@ .@@ append@@ (@@ this@@ .get@@ i@@ q@@ n@@ ()); s@@ b@@ .@@ append("@@ , vf@@ s@@ Type@@ : "); s@@ b@@ .@@ append@@ (@@ this@@ .get@@ Vfs@@ Type@@ ()); s@@ b@@ .@@ append("@@ , m@@ ount@@ Option@@ s@@ : "); s@@ b@@ .@@ append@@ (@@ this@@ .get@@ M@@ ount@@ Option@@ s()); s@@ b@@ .@@ append("@@ , n@@ fs@@ Version@@ : "); s@@ b@@ .@@ append@@ (@@ this@@ .get@@ N@@ fs@@ Version@@ ()); s@@ b@@ .@@ append("@@ , n@@ fs@@ R@@ et@@ r@@ ans@@ : "); s@@ b@@ .@@ append@@ (@@ this@@ .get@@ N@@ fs@@ R@@ et@@ r@@ ans@@ ()); s@@ b@@ .@@ append("@@ , n@@ fs@@ Time@@ o@@ : "); s@@ b@@ .@@ append@@ (@@ this@@ .get@@ N@@ fs@@ Time@@ o@@ ()); if (@@ (@@ this@@ .get@@ I@@ fac@@ e@@ ()) != null@@ ) { s@@ b@@ .@@ append("@@ , if@@ ace@@ : "); s@@ b@@ .@@ append@@ (@@ this@@ .get@@ I@@ fac@@ e@@ ()); } if ((get@@ N@@ et@@ I@@ fac@@ e@@ ()) != null@@ ) { s@@ b@@ .@@ append("@@ , net@@ I@@ fac@@ en@@ ame@@ : "); s@@ b@@ .@@ append@@ (@@ this@@ .get@@ N@@ et@@ I@@ fac@@ en@@ ame@@ ()); } s@@ b@@ .@@ append@@ (@@ " }@@ ;@@ "); return s@@ b@@ .@@ toString@@ (); }
private org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Loc@@ k create@@ Lock@@ For@@ RunVm@@ Command@@ (org.ovirt.engine.core.compat.Guid vm@@ Id) { return new org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Lock@@ (@@ java.util.Collections.@@ sing@@ leton@@ Map@@ (vm@@ Id@@ .@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VM@@ , VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ O@@ B@@ J@@ EC@@ T_@@ LO@@ C@@ K@@ ED@@ .@@ name@@ ())@@ ), null@@ ); }
@java.lang.Override public java.util.Map<java.lang.String, java.lang.String> get@@ Job@@ Message@@ Properties@@ () { if ((@@ job@@ Properties@@ ) == null@@ ) { job@@ Proper@@ ti@@ es = super@@ .get@@ Job@@ Message@@ Properties@@ (); if ((org.ovirt.engine.core.bll.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ Command.get@@ Snapshot@@ Name@@ ()) != null@@ ) { job@@ Properties.@@ put@@ (Vdc@@ Object@@ Type.@@ S@@ napsho@@ t.@@ name@@ ().@@ to@@ L@@ ow@@ er@@ C@@ ase@@ (), org.ovirt.engine.core.bll.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ Command.get@@ Snapshot@@ Name()); } } return job@@ Properties@@ ; }
public org.ovirt.engine.core.bll.ValidationResult not@@ Label@@ ed@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NETWORK_@@ AL@@ RE@@ AD@@ Y_@@ L@@ AB@@ E@@ L@@ ED@@ ).@@ when(@@ org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ is@@ Label@@ ed(@@ network@@ )); }
@java.lang.Override public int hash@@ Code@@ () { return java.util.@@ Object@@ s.@@ hash@@ (s@@ napshot@@ Id, cluster@@ Id, volume@@ Id, snapshot@@ Name, status@@ , d@@ escription@@ , status@@ ); }
public org.ovirt.engine.core.common.businessentities.@@ DiskImage get@@ Memory@@ Image@@ () { return memory@@ Image@@ ; }
@java.lang.Override public java.lang.String toString@@ () { java.lang.String@@ Buil@@ der s@@ b = new java.lang.String@@ Builder@@ (); s@@ b@@ .@@ append("@@ host@@ Id = ").@@ append@@ (get@@ Host@@ Id()); s@@ b@@ .@@ append("@@ , de@@ vice@@ Name@@ =@@ ").@@ append@@ (get@@ Device@@ Name@@ ()).@@ append("@@ , build@@ (); }
protected boolean is@@ P@@ op@@ ul@@ ate@@ () { java.util.List<java.lang.String> p@@ op@@ ul@@ ate@@ s = http@@ H@@ ead@@ ers@@ .get@@ Request@@ H@@ ead@@ er@@ (@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Res@@ ource.@@ P@@ O@@ P@@ U@@ L@@ AT@@ E); if ((@@ p@@ op@@ ul@@ ate@@ s != null@@ ) && ((@@ p@@ op@@ ul@@ at@@ es.@@ size()) > 0@@ )) { return java.lang.Boolean@@ .@@ value@@ Of@@ (p@@ op@@ ul@@ at@@ es@@ .get(@@ 0@@ )); } else { return false@@ ; } }
private void for@@ mat@@ And@@ Set@@ Error@@ Message@@ (java.lang.String mess@@ age@@ ) { com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l s@@ afe@@ Mess@@ age = null@@ ; if (m@@ ess@@ age != null@@ ) { com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der buil@@ der = new com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Builder@@ (); int ur@@ l@@ In@@ de@@ x = mess@@ age.@@ in@@ dex@@ Of@@ ("@@ http@@ "); if (@@ ur@@ l@@ In@@ de@@ x != (@@ -@@ 1@@ )) { java.lang.String b@@ e@@ for@@ e@@ UR@@ L = mess@@ age.@@ sub@@ st@@ ring@@ (0@@ , ur@@ l@@ In@@ dex@@ ); int end@@ In@@ de@@ x = ((@@ mess@@ age.@@ in@@ dex@@ Of@@ (@@ " ", ur@@ l@@ In@@ dex@@ )) > (@@ -@@ 1@@ )) ? mess@@ age.@@ in@@ dex@@ Of@@ (@@ " ", ur@@ l@@ In@@ dex@@ ) : mess@@ age.@@ l@@ ength@@ (); java.lang.String ur@@ l = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .@@ U@@ ri@@ Utils.@@ s@@ an@@ iti@@ z@@ e@@ U@@ ri@@ (m@@ ess@@ age.@@ sub@@ st@@ ring@@ (@@ ur@@ l@@ In@@ dex@@ , end@@ In@@ dex@@ )); java.lang.String m@@ ot@@ d@@ An@@ ch@@ or = org.ovirt.engine.ui.common.@@ p@@ res@@ enter.@@ Abstract@@ Lo@@ gin@@ Popup@@ Pres@@ enter@@ Widget@@ .get@@ View@@ ().get@@ M@@ ot@@ d@@ An@@ ch@@ or@@ (@@ ur@@ l@@ ); buil@@ der.@@ append@@ E@@ s@@ c@@ ap@@ ed(@@ b@@ e@@ for@@ e@@ UR@@ L@@ ).@@ append@@ (c@@ om.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (m@@ ot@@ d@@ An@@ ch@@ or@@ )); if (@@ end@@ In@@ de@@ x < (m@@ ess@@ age.@@ l@@ ength@@ ())) { buil@@ der.@@ append@@ E@@ s@@ c@@ ap@@ ed@@ (m@@ ess@@ age.@@ sub@@ st@@ ring@@ (@@ end@@ In@@ dex@@ )); } } else { buil@@ der.@@ append@@ E@@ s@@ c@@ ap@@ ed@@ (m@@ ess@@ age@@ ); } s@@ afe@@ Mess@@ age = buil@@ der.@@ to@@ S@@ afe@@ Ht@@ ml@@ (); } org.ovirt.engine.ui.common.@@ p@@ res@@ enter.@@ Abstract@@ Lo@@ gin@@ Popup@@ Pres@@ enter@@ Widget@@ .get@@ View@@ ().set@@ Error@@ Message@@ Ht@@ ml@@ (s@@ afe@@ Message@@ ); }
@org.junit.Test public void test@@ Networks@@ On@@ Nic@@ Match@@ M@@ tu@@ _@@ when@@ No@@ Networks@@ A@@ re@@ Provi@@ ded@@ () throw@@ s java.lang.Exception { java.util.Map<java.lang.String, java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ >> network@@ s@@ On@@ Nic@@ s = java.util.Collections.@@ sing@@ leton@@ Map@@ ("@@ nic@@ Name@@ ", java.util.Collections.@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ >@@ em@@ pty@@ List@@ ()); org.ovirt.engine.core.bll.network.@@ host.@@ Network@@ M@@ tu@@ Validator network@@ M@@ tu@@ Validator = new org.ovirt.engine.core.bll.network.@@ host.@@ Network@@ M@@ tu@@ Validator@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Map@@ (@@ java.util.Collections.@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ >@@ em@@ pty@@ List@@ ())); assert@@ That@@ (network@@ M@@ tu@@ Validator.@@ validate@@ M@@ tu@@ (network@@ s@@ On@@ Nic@@ s@@ ).@@ is@@ Valid@@ (), is@@ (@@ true@@ )); }
public java.lang.String al@@ loc@@ ate@@ New@@ Mac@@ () { java.lang.String ma@@ c = null@@ ; org.ovirt.engine.core.bll.network.@@ MacPool@@ Manager.@@ log.info@@ ("@@ MacPool@@ Manager@@ :@@ al@@ loc@@ ate@@ New@@ Ma@@ c enter@@ ed@@ "); lock@@ O@@ bj@@ .@@ w@@ rite@@ Lock@@ ().@@ lock@@ (); try { if (!(@@ initial@@ iz@@ ed@@ )) { log@@ In@@ itial@@ ization@@ Error@@ ("@@ Fail@@ ed to al@@ loc@@ ate new Ma@@ c add@@ ress@@ .@@ "); throw new org.ovirt.engine.core.common.errors.@@ Vdc@@ B@@ L@@ L@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ M@@ AC@@ _P@@ O@@ OL@@ _@@ NOT_@@ IN@@ I@@ TI@@ AL@@ I@@ Z@@ ED); } if (get@@ Available@@ Mac@@ s().@@ isEmpty@@ ()) { throw new org.ovirt.engine.core.common.errors.@@ Vdc@@ B@@ L@@ L@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Vdc@@ Bll@@ Error@@ s.@@ M@@ AC@@ _P@@ O@@ OL@@ _@@ NO@@ _@@ M@@ AC@@ S_@@ LE@@ F@@ T@@ ); } java.util.@@ I@@ ter@@ ator@@ <@@ java.lang.String> m@@ y = get@@ Available@@ Mac@@ s().@@ iter@@ ator@@ (); ma@@ c = m@@ y@@ .@@ ne@@ xt@@ (); c@@ omm@@ it@@ New@@ Mac@@ (m@@ ac@@ ); } final@@ l@@ y { lock@@ O@@ bj@@ .@@ w@@ rite@@ Lock@@ ().@@ un@@ lock@@ (); } org.ovirt.engine.core.bll.network.@@ MacPool@@ Manager.@@ log.info@@ Format@@ ("@@ MacPool@@ Manager@@ :@@ al@@ loc@@ ate@@ New@@ Ma@@ c al@@ loc@@ ate@@ d ma@@ c = '@@ {0@@ }@@ ", m@@ ac@@ ); return m@@ ac@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se st@@ art@@ (org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s param@@ s@@ ; org.ovirt.engine.core.common.action.VdcAction@@ Type action@@ Type@@ ; if (@@ action.@@ isSet@@ Vm@@ ()) { org.ovirt.engine.api.model.@@ VM vm = action@@ .get@@ Vm@@ (); validate@@ Enum@@ s(@@ org.ovirt.engine.api.model.@@ VM@@ .@@ class@@ , vm@@ ); action@@ Type = org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ RunVm@@ On@@ ce@@ ; param@@ s = create@@ RunVm@@ On@@ ce@@ Param@@ s(@@ vm@@ ); } else { action@@ Type = org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ RunVm@@ ; param@@ s = new org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s(@@ g@@ uid@@ ); } if ((@@ action.@@ isSet@@ Pa@@ us@@ e@@ ()) && (@@ action.@@ is@@ Pa@@ us@@ e@@ ())) { params.set@@ Run@@ And@@ Pa@@ us@@ e@@ (@@ true@@ ); } if (@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .equals(@@ action.@@ is@@ U@@ se@@ S@@ y@@ sp@@ re@@ p@@ ())) { params.set@@ In@@ itial@@ ization@@ Type(@@ In@@ itial@@ ization@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ ); } else if (@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .equals(@@ action.@@ is@@ U@@ se@@ C@@ lo@@ u@@ d@@ Init@@ ())) { params.set@@ In@@ itial@@ ization@@ Type(@@ In@@ itial@@ ization@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ ); } else { params.set@@ In@@ itial@@ ization@@ Type(@@ In@@ itial@@ ization@@ Type.@@ N@@ one@@ ); } return do@@ Action@@ (@@ action@@ Type, param@@ s, action@@ ); }
protected boolean validate@@ Un@@ i@@ q@@ ue@@ Vm@@ Name@@ () { return org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ is@@ Vm@@ With@@ S@@ ame@@ Name@@ Exist@@ Static@@ (org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ Vm().get@@ Name(), org.ovirt.engine.core.bll.@@ ImportVm@@ CommandBase.get@@ StoragePool@@ Id()) ? failCanDoAction@@ (EngineMessage.@@ VM@@ _C@@ ANNOT_@@ IM@@ POR@@ T_@@ VM_@@ NAM@@ E_@@ EXIST@@ S@@ ) : true@@ ; }
@@@ javax.@@ enter@@ p@@ r@@ is@@ e.@@ in@@ j@@ ec@@ t.@@ Pro@@ d@@ u@@ ce@@ s private org.ovirt.engine.core.dao.@@ network.Network@@ Cluster@@ D@@ a@@ o get@@ Network@@ Cluster@@ Dao@@ (@@ org.ovirt.engine.core.dal.dbbroker.DbFac@@ ad@@ e db@@ Fac@@ ade@@ ) { return db@@ Fac@@ ade.get@@ Network@@ Cluster@@ Dao@@ (); }
void init@@ List@@ B@@ o@@ x@@ Editor@@ s() { is@@ o@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ <@@ java.lang.Object@@ >@@ (@@ new org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Null@@ S@@ afe@@ R@@ ender@@ er@@ <@@ java.lang.Object@@ >() { @java.lang.Override public java.lang.String r@@ ender@@ Null@@ S@@ af@@ e(@@ java.lang.Object object@@ ) { org.ovirt.engine.core.compat.@@ R@@ p@@ m@@ Version ver@@ si@@ on = ((@@ org.ovirt.engine.core.compat.@@ R@@ p@@ m@@ Version@@ ) (@@ object@@ )); return version@@ .get@@ R@@ p@@ m@@ Name@@ (); } }); r@@ b@@ P@@ asswor@@ d = new com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ ("@@ 1@@ "); r@@ b@@ P@@ ubl@@ ic@@ K@@ e@@ y = new com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ ("@@ 1@@ "); }
@java.lang.Override protected void end@@ With@@ Fail@@ ure@@ () { end@@ Command@@ (); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ ac@@ tivate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
public org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ oS@@ > get@@ Qos@@ () { return q@@ os@@ ; }
private void create@@ Image@@ For@@ Vm@@ M@@ et@@ a@@ Data@@ () { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue ret@@ V@@ al = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Create@@ Image@@ , new org.ovirt.engine.core.common.vdscommands.@@ Create@@ Image@@ VDSCommand@@ Parameters(@@ storagePool@@ .get@@ Id(), storageDomain@@ Id, vm@@ Con@@ f@@ ImageGroup@@ Id, Memory@@ Utils.@@ M@@ ET@@ A@@ _@@ D@@ AT@@ A@@ _@@ SI@@ Z@@ E_@@ IN_@@ B@@ Y@@ T@@ ES@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Volume@@ Type.@@ S@@ par@@ se@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ , vm@@ Con@@ f@@ Volume@@ Id, "@@ ")); if (!(@@ ret@@ Val@@ .get@@ Succeeded@@ ())) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ Volume@@ Cre@@ ation@@ Error@@ , "@@ Fail@@ ed to c@@ re@@ ate im@@ age for vm config@@ ur@@ ation@@ !@@ "); } org.ovirt.engine.core.compat.Guid task@@ Id = enc@@ lo@@ sing@@ Command.@@ p@@ ers@@ ist@@ AsyncTask@@ P@@ l@@ ace@@ H@@ ol@@ der@@ (org.ovirt.engine.core.bll.@@ memory@@ .@@ L@@ ive@@ Snapshot@@ Memory@@ Image@@ Buil@@ der.@@ C@@ RE@@ AT@@ E_@@ IM@@ AGE_@@ F@@ OR@@ _@@ VM_@@ T@@ A@@ S@@ K_@@ K@@ E@@ Y@@ ); org.ovirt.engine.core.compat.Guid g@@ ui@@ d = enc@@ lo@@ sing@@ Command.@@ create@@ Task@@ (@@ task@@ Id, ret@@ Val@@ .get@@ Cre@@ ation@@ Info@@ (), enc@@ lo@@ sing@@ Command.get@@ Action@@ Type@@ ()); enc@@ lo@@ sing@@ Command.get@@ Task@@ Id@@ List@@ ().@@ add(@@ g@@ uid@@ ); }
@java.lang.Override protected void init@@ Detail@@ Model@@ s() { super@@ .@@ init@@ Detail@@ Model@@ s(); set@@ Brick@@ ListModel@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ Brick@@ ListModel@@ ()); set@@ Snapshot@@ ListModel@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ Snapshot@@ ListModel@@ ()); org.ovirt.engine.ui.uicompat.@@ O@@ b@@ ser@@ va@@ bl@@ e@@ Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ > lis@@ t = new org.ovirt.engine.ui.uicompat.@@ O@@ b@@ ser@@ va@@ bl@@ e@@ Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ >(); lis@@ t.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ Gener@@ al@@ Model@@ ()); lis@@ t.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ Parameter@@ ListModel@@ ()); lis@@ t.@@ add@@ (get@@ Brick@@ ListModel@@ ()); lis@@ t.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Permission@@ ListModel@@ ()); lis@@ t.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ Event@@ ListModel@@ ()); lis@@ t.@@ add@@ (get@@ Snapshot@@ ListModel@@ ()); set@@ Detail@@ Model@@ s(@@ list@@ ); }
private java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Server@@ Service@@ > get@@ Existing@@ Ser@@ vic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ VDS server@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Server@@ Service@@ > existing@@ Service@@ s = get@@ Gluster@@ Server@@ Service@@ Dao().get@@ By@@ Server@@ Id(@@ server@@ .getId()); java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Server@@ Service@@ > existing@@ Ser@@ vic@@ es@@ Map = new java.util.HashMap<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Server@@ Service@@ >(); if (@@ existing@@ Service@@ s != null@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Server@@ Ser@@ vic@@ e ser@@ vic@@ e : existing@@ Ser@@ vic@@ es@@ ) { existing@@ Ser@@ vic@@ es@@ Map.@@ put(@@ ser@@ vic@@ e.get@@ Id(), ser@@ vice@@ ); } } return existing@@ Ser@@ vic@@ es@@ Map@@ ; }
public org.ovirt.engine.core.bll.ValidationResult all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ () { for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > vnic@@ s = get@@ DbFacade@@ ().get@@ VmNetwork@@ Interface@@ Dao().get@@ AllFor@@ Vm@@ (vm.get@@ Id()); java.util.List<java.lang.String> n@@ on@@ Migr@@ at@@ able@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ Name@@ s = vnic@@ s.@@ stream@@ ().@@ filter@@ (is@@ Vnic@@ Migr@@ at@@ able(@@ vm@@ ).@@ ne@@ g@@ ate@@ ())@@ .m@@ ap@@ (@@ Vm@@ Nic@@ :@@ :@@ :@@ get@@ Name@@ ).@@ c@@ oll@@ ect@@ (java.util.@@ stream@@ .@@ Coll@@ ect@@ or@@ s.@@ to@@ List@@ ()); if (!(@@ n@@ on@@ Migr@@ at@@ able@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ Nam@@ es.@@ isEmpty@@ ())) { java.util.Collection@@ <@@ java.lang.String> re@@ pl@@ acement@@ s = org.ovirt.engine.core.utils.@@ Repl@@ acement@@ Utils.@@ re@@ pl@@ ace@@ With@@ (@@ "@@ int@@ er@@ fac@@ es@@ ", n@@ on@@ Migr@@ at@@ able@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ Names@@ ); re@@ pl@@ acement@@ s.add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ vm@@ Name %@@ s", vm.get@@ Name@@ ())); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ M@@ I@@ G@@ R@@ A@@ TION_@@ O@@ F@@ _@@ N@@ ON_@@ M@@ I@@ G@@ R@@ AT@@ AB@@ L@@ E_@@ P@@ A@@ S@@ ST@@ H@@ RO@@ U@@ G@@ H@@ _@@ V@@ N@@ IC@@ S_@@ I@@ S_NOT_@@ SUP@@ PORT@@ ED@@ , re@@ pl@@ acement@@ s); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Un@@ S@@ yn@@ ce@@ d En@@ t@@ ri@@ es@@ ") java.lang.String Un@@ S@@ yn@@ ce@@ d@@ En@@ t@@ ri@@ es@@ ();
public org.ovirt.engine.api.restapi.resource.@@ Backend@@ Abstract@@ Backend@@ C@@ lust@@ ers@@ Sub@@ Res@@ ource get@@ Parent@@ () { return parent@@ ; }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ AuditLog@@ Event@@ Sub@@ s@@ cri@@ ber@@ > get@@ Event@@ Sub@@ s@@ cri@@ b@@ ers@@ (@@ boolean db@@ Down@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ AuditLog@@ Event@@ Sub@@ s@@ cri@@ ber@@ > event@@ Sub@@ s@@ cri@@ ber@@ s = new java.util.ArrayList<>(); for (@@ org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ sub@@ s@@ cri@@ ber@@ s.@@ Event@@ Sub@@ s@@ cri@@ b@@ ers@@ Provi@@ der event@@ Sub@@ s@@ cri@@ b@@ ers@@ Provi@@ der : event@@ Sub@@ s@@ cri@@ b@@ ers@@ Provi@@ d@@ ers@@ ) { event@@ Sub@@ s@@ cri@@ ber@@ s.@@ add@@ All@@ (@@ event@@ Sub@@ s@@ cri@@ b@@ ers@@ Provider@@ .get@@ Event@@ Sub@@ s@@ cri@@ b@@ ers@@ (@@ db@@ Down@@ )); } if (@@ org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ No@@ t@@ if@@ ication@@ Ser@@ vic@@ e.@@ log.@@ is@@ D@@ eb@@ u@@ g@@ Enabled@@ ()) { org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ No@@ t@@ if@@ ication@@ Ser@@ vic@@ e.@@ log.debug@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ d ev@@ ent sub@@ s@@ cri@@ ber@@ s read@@ .@@ ", event@@ Sub@@ s@@ cri@@ ber@@ s.@@ size@@ ())); for (@@ int i = 0@@ ; i < (@@ event@@ Sub@@ s@@ cri@@ ber@@ s.@@ size@@ ()); i@@ +@@ +@@ +@@ ) { org.ovirt.engine.core.common.businessentities.@@ AuditLog@@ Event@@ Sub@@ s@@ cri@@ b@@ er event@@ Sub@@ s@@ cri@@ b@@ er = event@@ Sub@@ s@@ cri@@ b@@ ers@@ .get(@@ i@@ ); org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ No@@ t@@ if@@ ication@@ Ser@@ vic@@ e.@@ log.debug@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ sub@@ s@@ cri@@ b@@ er %@@ d =@@ > %@@ s", i@@ , event@@ Sub@@ s@@ cri@@ b@@ er.@@ toString@@ ())); } } return event@@ Sub@@ s@@ cri@@ b@@ ers@@ ; }
public org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ > get@@ M@@ o@@ d@@ if@@ i@@ ed@@ Interfaces@@ () { return m@@ o@@ d@@ if@@ i@@ ed@@ Interfaces@@ ; }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ K@@ d@@ um@@ p@@ Status@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ K@@ d@@ um@@ p@@ Status@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ K@@ d@@ um@@ p@@ Status map@@ (org.ovirt.engine.core.common.businessentities.@@ K@@ d@@ um@@ p@@ Status entity@@ Status@@ , org.ovirt.engine.api.model.@@ K@@ d@@ um@@ p@@ Status template@@ ) { switch (@@ entity@@ Status@@ ) { case UN@@ K@@ NO@@ W@@ N : return org.ovirt.engine.api.model.@@ K@@ d@@ um@@ p@@ Status.@@ UN@@ K@@ NO@@ W@@ N@@ ; case DIS@@ AB@@ LE@@ D : return org.ovirt.engine.api.model.@@ K@@ d@@ um@@ p@@ Status.@@ DIS@@ AB@@ L@@ ED@@ ; case EN@@ AB@@ LE@@ D : return org.ovirt.engine.api.model.@@ K@@ d@@ um@@ p@@ Status.@@ EN@@ AB@@ L@@ ED@@ ; default : return null@@ ; } }
public static java.lang.String de@@ c@@ r@@ yp@@ t@@ Password@@ (java.lang.String p@@ assword@@ ) { if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (p@@ assword@@ )) { return p@@ assword@@ ; } java.lang.String key@@ Fil@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ res@@ ol@@ ve@@ Key@@ St@@ ore@@ Path@@ (); java.lang.String p@@ ass@@ w@@ d = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.String@@ >@@ Get@@ Value(ConfigValues.@@ key@@ stor@@ e@@ P@@ ass@@ , Config.@@ Default@@ Configuration@@ Version@@ ); try { return org.ovirt.engine.core.@@ engin@@ e@@ enc@@ r@@ yp@@ t@@ utils.@@ En@@ c@@ r@@ yp@@ tion@@ Utils.@@ de@@ c@@ r@@ yp@@ t@@ (((@@ java.lang.String@@ ) (p@@ assword@@ )@@ ), key@@ File@@ , p@@ ass@@ w@@ d@@ ); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.dao.@@ Vds@@ Static@@ DAO@@ DbFacade@@ Impl.@@ log.debug@@ Format@@ ("@@ Fail@@ ed to de@@ c@@ r@@ yp@@ t p@@ assword@@ , er@@ ro@@ r mess@@ age@@ : {0@@ }@@ ", e.get@@ Message@@ ()); return p@@ assword@@ ; } }
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { final boolean is@@ Vir@@ t@@ Gluster@@ Allow@@ ed = ((@@ java.lang.Boolean@@ ) (@@ return@@ Value@@ )); org.ovirt.engine.ui.frontend.AsyncQuery async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); async@@ Query@@ .set@@ Model@@ (cluster@@ Model@@ ); async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model@@ 1, java.lang.Object result) { java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ > volume@@ s = ((@@ java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ >) (@@ result@@ )); if ((@@ volum@@ es.@@ size()) > 0) { cluster@@ Model.get@@ En@@ able@@ Gluster@@ Service@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); if (!@@ is@@ Vir@@ t@@ Gluster@@ Allow@@ ed@@ ) { cluster@@ Model.get@@ En@@ able@@ O@@ vi@@ r@@ t@@ Service@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); } } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Volume@@ List(@@ async@@ Query@@ , cluster@@ .get@@ Name()); if ((@@ cluster@@ .get@@ Group@@ Host@@ s@@ And@@ Vms@@ ().get@@ Vms@@ ()) > 0) { cluster@@ Model.get@@ En@@ able@@ O@@ vi@@ r@@ t@@ Service@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); if (!@@ is@@ Vir@@ t@@ Gluster@@ Allow@@ ed@@ ) { cluster@@ Model.get@@ En@@ able@@ Gluster@@ Service@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); } } if ((@@ cluster@@ .get@@ Group@@ Host@@ s@@ And@@ Vms@@ ().get@@ Host@@ s()) > 0) { cluster@@ Model.get@@ En@@ able@@ Tr@@ ust@@ ed@@ Service@@ ().setIs@@ Chang@@ able@@ (@@ false@@ ); cluster@@ Model.get@@ En@@ able@@ Tr@@ ust@@ ed@@ Service@@ ().set@@ Change@@ Pro@@ h@@ i@@ b@@ ition@@ Reason@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ tr@@ ust@@ ed@@ Service@@ Dis@@ abled@@ ()); } }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ > get@@ T@@ ree@@ For@@ Entity@@ (org.ovirt.engine.core.compat.Guid id@@ , org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type type@@ , long engin@@ e@@ Session@@ Se@@ q@@ Id, boolean is@@ Filter@@ ed@@ , int app@@ M@@ ode@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ id@@ ", id@@ ).@@ addValue("@@ object@@ _@@ type@@ _id", typ@@ e.get@@ Value@@ ()).addValue("@@ engin@@ e@@ _@@ s@@ ession@@ _@@ se@@ q@@ _id", engin@@ e@@ Session@@ Se@@ q@@ Id@@ ).@@ addValue("@@ is@@ _@@ filter@@ ed@@ ", is@@ Filter@@ ed@@ ).@@ addValue("@@ app@@ _@@ m@@ ode@@ ", app@@ M@@ ode@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ Permission@@ s@@ T@@ ree@@ By@@ Entity@@ Id@@ ", org.ovirt.engine.core.dao.@@ Permission@@ Dao@@ Impl.@@ Permission@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
@java.lang.Override public java.lang.String r@@ ender@@ (org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type object@@ ) { if (@@ obj@@ ect == (org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ un@@ de@@ fin@@ ed@@ )) { return super@@ .@@ r@@ ender@@ (@@ object@@ ); } else { return objec@@ t.@@ toString@@ (); } }
private void log@@ U@@ n@@ synchronized@@ Networks@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.network.Network@@ > network@@ s) { java.util.List<java.lang.String> network@@ Name@@ s = new java.util.ArrayList<@@ java.lang.String@@ >(); org.ovirt.engine.core.dao.@@ network.Network@@ Q@@ oS@@ D@@ a@@ o q@@ os@@ D@@ a@@ o = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Network@@ Qos@@ Dao@@ (); for (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e : vds.get@@ Interfaces@@ ()) { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = network@@ s.get@@ (@@ if@@ ac@@ e.get@@ Network@@ Name()); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interfac@@ e.@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s = org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ c@@ al@@ c@@ ul@@ ate@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s(@@ network@@ , (@@ n@@ etwork == null ? null : q@@ os@@ Dao@@ .get(@@ network@@ .get@@ Qos@@ Id@@ ())@@ ), if@@ ace@@ ); if (((@@ network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s != null@@ ) && (!(@@ network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s.@@ is@@ In@@ Sync@@ ()))) && (network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s.@@ is@@ Manage@@ d@@ ())) { network@@ Nam@@ es.@@ add@@ (@@ if@@ ac@@ e.get@@ Network@@ Name()); } } if (!(@@ network@@ Nam@@ es.@@ isEmpty@@ ())) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(@@ vds.get@@ Id()); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ Networks@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (network@@ Names@@ , "@@ ,@@ ")); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , AuditLogType.@@ VDS@@ _@@ NETWOR@@ K@@ S_@@ O@@ U@@ T_@@ O@@ F@@ _S@@ Y@@ N@@ C@@ ); } }
@java.lang.Override protected void end@@ With@@ Fail@@ ure@@ () { if (is@@ State@@ l@@ ess@@ Snapshot@@ Exist@@ s@@ For@@ Vm@@ ()) { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base v@@ dc@@ ReturnValue = org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Backend@@ ().@@ end@@ Action(VdcActionType.@@ Create@@ AllSnapshots@@ From@@ Vm@@ , get@@ Create@@ All@@ Snapshot@@ From@@ Vm@@ Parameters@@ (), org.ovirt.engine.core.bll.@@ RunVm@@ Command.@@ cl@@ one@@ Context@@ ().@@ with@@ out@@ Execution@@ Context@@ ().@@ with@@ out@@ Lock@@ ()); set@@ Succeeded@@ (@@ v@@ dc@@ Return@@ Value.get@@ Succeeded@@ ()); } else { super@@ .@@ end@@ With@@ Fail@@ ure@@ (); } }
public static java.lang.String get@@ Os@@ Name@@ (@@ int os@@ Id) { org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.@@ Os@@ Rep@@ os@@ it@@ ory@@ , new org.ovirt.engine.core.common.queries.@@ Os@@ Query@@ Parameters(@@ Os@@ Rep@@ os@@ it@@ ory@@ V@@ er@@ b@@ .@@ Get@@ Os@@ Name, os@@ Id@@ ), async@@ ReturnValue@@ ); return async@@ Return@@ Value.get@@ (); }
public java.util.@@ Map ac@@ tivate@@ StorageDomain@@ (java.lang.String sd@@ UUID@@ , java.lang.String sp@@ UUID@@ ) { try { log.info@@ ("@@ Ac@@ tiva@@ t@@ ing stor@@ age do@@ m@@ ain@@ , sp@@ UUID@@ : {@@ } sd@@ UUID@@ : {}@@ ", new java.lang.Object@@ []{ sp@@ UUID@@ , sd@@ U@@ U@@ I@@ D }); final org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Data@@ C@@ en@@ te@@ r data@@ C@@ en@@ te@@ r = get@@ DataCenter@@ By@@ Id@@ (s@@ p@@ UUID@@ ); org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Storage@@ Domain storage@@ Domain = dataCenter@@ .get@@ StorageDomain@@ Map@@ ().get@@ (s@@ d@@ UUID@@ ); if (@@ storage@@ Domain != null@@ ) { ac@@ tivate@@ C@@ le@@ ar@@ ance@@ (@@ storageDomain@@ ); } else { storage@@ Domain = get@@ Active@@ Domain@@ (s@@ d@@ UUID@@ , sp@@ UUID@@ ); ac@@ tivate@@ C@@ le@@ ar@@ ance@@ (@@ storageDomain@@ ); } return get@@ O@@ K@@ Status@@ (); } catch (@@ java.lang.Exception e) { throw error@@ (@@ e); } }
private java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > get@@ Attachment@@ sTo@@ Configur@@ e@@ () { java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > attach@@ ment@@ sTo@@ Configur@@ e = new java.util.Hash@@ Map@@ (org.ovirt.engine.core.common.businessentities.@@ Enti@@ ties.@@ business@@ Enti@@ ties@@ By@@ Id(@@ existing@@ Attachment@@ s@@ )); for (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent rem@@ oved@@ Attachm@@ ent : param@@ s.get@@ Rem@@ oved@@ NetworkAttachment@@ s()) { attach@@ ment@@ sTo@@ Configur@@ e.@@ remove@@ (@@ rem@@ oved@@ Attachm@@ ent.get@@ Id()); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ NetworkAttachment@@ > new@@ Attachment@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent attach@@ m@@ ent : param@@ s.get@@ NetworkAttachment@@ s()) { if ((@@ attach@@ m@@ ent.get@@ Id()) == null@@ ) { new@@ Attachment@@ s.add(@@ attach@@ ment@@ ); continue@@ ; } if (@@ rem@@ oved@@ Bond@@ s.@@ contains@@ Key@@ (@@ attach@@ m@@ ent.get@@ Nic@@ Name@@ ())) { attach@@ ment@@ sTo@@ Configur@@ e.@@ put(@@ attach@@ m@@ ent.get@@ Id(), attach@@ ment@@ ); } else { attach@@ ment@@ sTo@@ Configur@@ e.@@ remove@@ (@@ attach@@ m@@ ent.get@@ Id()); } } java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > c@@ and@@ id@@ ate@@ Attachment@@ s = new java.util.Array@@ List(@@ attach@@ ment@@ sTo@@ Configur@@ e.@@ valu@@ es@@ ()); c@@ and@@ id@@ ate@@ Attachment@@ s.@@ add@@ All@@ (@@ new@@ Attachment@@ s); return c@@ and@@ id@@ ate@@ Attachment@@ s@@ ; }
private void cluster@@ SelectedItem@@ Changed@@ () { if ((get@@ Cluster@@ ().getSelectedItem@@ ()) != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group c@@ luster = ((org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ ) (get@@ Cluster@@ ().getSelectedItem@@ ())); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ Get@@ Host@@ List@@ By@@ Cluster@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void On@@ Success@@ (java.lang.Object model, java.lang.Object return@@ Value@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ List = ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >) (@@ return@@ Value@@ )); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ List@@ ) { if ((@@ hos@@ t.get@@ status@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) { get@@ Add@@ Brick@@ s@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ true@@ ); return@@ ; } } get@@ Add@@ Brick@@ s@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ false@@ ); set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ volume@@ Empty@@ Cluster@@ Validation@@ M@@ s@@ g@@ ()); } }@@ ), cluster@@ .get@@ name@@ ()); } else { get@@ Add@@ Brick@@ s@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ false@@ ); } set@@ Brick@@ s@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ ()); }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value@@ () { return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Det@@ ach@@ StorageDomain@@ From@@ Pool@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ D@@ ET@@ AC@@ H@@ _@@ STORAGE_@@ DOMA@@ IN_@@ F@@ RO@@ M@@ _P@@ O@@ L : org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ D@@ ET@@ AC@@ H@@ _@@ STORAGE_@@ DOMA@@ IN_@@ F@@ RO@@ M@@ _P@@ O@@ OL@@ _@@ FAIL@@ ED@@ ; }
public static boolean is@@ Os@@ Supported@@ For@@ Vir@@ t@@ I@@ oS@@ csi@@ (@@ int os@@ Id, org.ovirt.engine.core.compat.@@ Version cluster@@ Version@@ ) { java.util.ArrayList<@@ java.lang.String> disk@@ Interface@@ s = org.ovirt.engine.core.common.utils.@@ S@@ im@@ ple@@ De@@ p@@ en@@ de@@ c@@ y@@ In@@ j@@ ect@@ or@@ .getInstance().get@@ (org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ class@@ ).get@@ Disk@@ Interfac@@ es(@@ os@@ Id, cluster@@ Version@@ ); return disk@@ Interfac@@ es.@@ contains(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _S@@ C@@ SI@@ .@@ toString()); }
@java.lang.Override public java.lang.String toString@@ () { java.lang.String@@ Buil@@ der buil@@ der = new java.lang.String@@ Builder@@ (); buil@@ der.@@ append@@ (get@@ Name@@ ()).@@ append@@ (@@ " {@@ id@@ =@@ ").@@ append@@ (get@@ Id@@ ()).@@ append("@@ , name@@ =@@ ").@@ append@@ (get@@ Name@@ ()).@@ append("@@ , c@@ id@@ r@@ =@@ ").@@ append@@ (get@@ C@@ id@@ r@@ ()).@@ append("@@ , ip@@ Version@@ =@@ ").@@ append@@ (get@@ Ip@@ Version@@ ()).@@ append("@@ , ex@@ ternal@@ Network@@ =@@ ").@@ append@@ (get@@ External@@ Network@@ ()).@@ append("@@ , g@@ ate@@ w@@ ay@@ =@@ ").@@ append@@ (get@@ G@@ ate@@ w@@ ay@@ ()).@@ append("@@ , d@@ n@@ s@@ Server@@ s", get@@ D@@ n@@ s@@ Server@@ s@@ ()).@@ build@@ (); }
private void add@@ G@@ host@@ E@@ n@@ try@@ () { T valu@@ e = create@@ G@@ host@@ Value@@ (); add@@ E@@ n@@ try@@ (@@ value@@ ); model@@ Item@@ s.add(@@ value@@ ); }
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ ReturnValue@@ (); boolean s@@ uc@@ cee@@ de@@ d = true@@ ; for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { if ((@@ hos@@ t.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) { s@@ uc@@ cee@@ de@@ d = false@@ ; } } g@@ ui@@ de@@ Model.get@@ W@@ in@@ do@@ w@@ ().@@ st@@ op@@ Progress@@ (); g@@ ui@@ de@@ Model.@@ cancel@@ (); if (s@@ uc@@ ceeded@@ ) { g@@ ui@@ de@@ Model.@@ p@@ ost@@ Action@@ (); } else { error@@ Popup@@ Manager.@@ sh@@ ow@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ host@@ Ac@@ tiva@@ tion@@ Time@@ Out@@ ()); } } }
@java.lang.Override public void set@@ I@@ con@@ (@@ org.@@ gw@@ t@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ I@@ con@@ Type ic@@ on@@ ) { if (@@ ic@@ on != null@@ ) { super@@ .set@@ I@@ con@@ (@@ ic@@ on@@ ); } }
@java.lang.Override protected void p@@ ost@@ Con@@ struc@@ t@@ () { super@@ .@@ p@@ ost@@ Con@@ struc@@ t@@ (); T parameter@@ s = get@@ Parameters@@ (); set@@ Vm@@ Id(@@ parameters@@ .get@@ Contain@@ er@@ Id()); set@@ Vm@@ (@@ parameters@@ .get@@ Vm@@ ()); set@@ VdsGroup@@ Id(@@ parameters@@ .get@@ VdsGroup@@ Id()); if (((@@ parameters@@ .get@@ Vm@@ ()) != null@@ ) && ((get@@ Vm().get@@ Disk@@ Map@@ ()) != null@@ )) { image@@ List = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >(); for (org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k : get@@ Vm().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ()) { if ((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { image@@ List.@@ add@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (disk@@ ))); } } } ens@@ ure@@ Domain@@ Map@@ (@@ image@@ List@@ , parameters@@ .get@@ Dest@@ Domain@@ Id()); org.ovirt.engine.core.compat.@@ Version cluster@@ Version = ((org.ovirt.engine.core.bll.@@ ImportVm@@ Command.get@@ VdsGroup@@ ()) == null@@ ) ? null : org.ovirt.engine.core.bll.@@ ImportVm@@ Command.get@@ VdsGroup@@ ().get@@ CompatibilityVersion@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c static@@ Data = ((get@@ Vm@@ ()) == null@@ ) ? null : get@@ Vm().get@@ StaticData@@ (); org.ovirt.engine.core.bll.@@ Import@@ Utils.@@ update@@ Graphics@@ Devices@@ (@@ static@@ Data@@ , cluster@@ Version@@ ); }
@java.lang.Override protected boolean validate@@ () { if (!@@ (@@ super@@ .@@ validate@@ ())) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity gluster@@ Volum@@ e = get@@ GlusterVolume@@ (); if (!(@@ gluster@@ Volum@@ e.@@ is@@ On@@ lin@@ e@@ ())) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ HO@@ U@@ L@@ D_@@ B@@ E_@@ ST@@ AR@@ T@@ ED); } return true@@ ; }
@org.junit.Test public void test@@ Re@@ attach@@ ing@@ Pre@@ existing@@ Network@@ Af@@ ter@@ I@@ t@@ s@@ Be@@ ing@@ Det@@ ach@@ ed@@ () throw@@ s java.lang.Exception { when(@@ log@@ ical@@ Network@@ Model@@ Of@@ Network@@ A@@ .is@@ Attached@@ ()).@@ then@@ Return@@ (@@ false@@ ); org.ovirt.engine.core.compat.Guid network@@ Attachment@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent network@@ Attachm@@ ent = org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Operation@@ .@@ new@@ NetworkAttachment@@ (network@@ A@@ , nic@@ A@@ , network@@ Attachment@@ Id); existing@@ NetworkAttachment@@ s.add(@@ network@@ Attachment@@ ); h@@ s@@ n@@ p@@ .get@@ Rem@@ oved@@ NetworkAttachment@@ s().@@ add(@@ network@@ Attachment@@ ); Network@@ Oper@@ ation.@@ AT@@ T@@ AC@@ H@@ _@@ NETWOR@@ K@@ .get@@ T@@ arget@@ ().execute@@ Network@@ Command(@@ log@@ ical@@ Network@@ Model@@ Of@@ Network@@ A@@ , network@@ Interface@@ Model@@ Of@@ Nic@@ A@@ , data@@ From@@ Host@@ SetupNetworks@@ Model@@ ); assert@@ That@@ (@@ h@@ s@@ n@@ p@@ .get@@ NetworkAttachment@@ s().@@ size@@ (), is@@ (@@ 1@@ )); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent update@@ d@@ Network@@ Attachm@@ ent = data@@ From@@ Host@@ SetupNetworks@@ Model@@ .@@ new@@ Or@@ M@@ o@@ d@@ if@@ i@@ ed@@ NetworkAttachment@@ s.@@ iter@@ ator@@ ().@@ ne@@ xt@@ (); assert@@ NetworkAttachment@@ (@@ update@@ d@@ NetworkAttachment@@ , network@@ Attachment@@ Id, network@@ A@@ .get@@ Id(), nic@@ A@@ .getId()); assert@@ That@@ (@@ h@@ s@@ n@@ p@@ .get@@ Rem@@ oved@@ NetworkAttachment@@ s().@@ size@@ (), is@@ (0@@ )); }
@org.junit.Test public void test@@ Get@@ By@@ Name@@ And@@ Cluster@@ () { org.ovirt.engine.core.common.businessentities.@@ Network result = d@@ ao@@ .get@@ By@@ Name@@ And@@ Cluster@@ ("@@ engin@@ e@@ ", cluster@@ ); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ Equals@@ ("@@ engin@@ e@@ ", result.get@@ name@@ ()); }
@java.lang.Override protected boolean canDoAction@@ () { if (!@@ (@@ super@@ .@@ canDoAction@@ ())) { return false@@ ; } final org.ovirt.engine.core.common.businessentities.@@ Mac@@ Pool m@@ ac@@ Pool = get@@ MacPool@@ (); if (m@@ ac@@ Poo@@ l.@@ is@@ Default@@ Pool@@ ()) { addCanDoActionMessage@@ (VdcBllMessages.@@ M@@ AC@@ _P@@ O@@ OL@@ _C@@ ANNOT_@@ S@@ E@@ T_@@ DE@@ FA@@ U@@ L@@ T_@@ P@@ O@@ OL@@ _@@ TH@@ I@@ S_@@ W@@ A@@ Y@@ ); return false@@ ; } if ((@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (m@@ ac@@ Pool@@ .getName@@ ())) && (m@@ ac@@ Poo@@ l.@@ is@@ Sh@@ ared@@ ())) { addCanDoActionMessage@@ (VdcBllMessages.@@ M@@ AC@@ _P@@ O@@ OL@@ _@@ H@@ AR@@ ED_@@ P@@ O@@ OL@@ _@@ M@@ U@@ ST@@ _@@ H@@ A@@ V@@ E_@@ NAM@@ E); return false@@ ; } if (((@@ m@@ ac@@ Pool@@ .get@@ R@@ ang@@ es@@ ()) == null@@ ) || (m@@ ac@@ Pool@@ .get@@ R@@ ang@@ es@@ ().is@@ Empty@@ ())) { addCanDoActionMessage@@ (VdcBllMessages.@@ M@@ AC@@ _P@@ O@@ OL@@ _@@ M@@ U@@ ST@@ _@@ H@@ A@@ V@@ E_@@ NAM@@ E); return false@@ ; } if (((@@ m@@ ac@@ Pool@@ .get@@ R@@ ang@@ es@@ ()) == null@@ ) || (m@@ ac@@ Pool@@ .get@@ R@@ ang@@ es@@ ().is@@ Empty@@ ())) { addCanDoActionMessage@@ (VdcBllMessages.@@ M@@ AC@@ _P@@ O@@ OL@@ _@@ M@@ U@@ ST@@ _@@ H@@ A@@ V@@ E_@@ R@@ AN@@ G@@ E); return false@@ ; } return true@@ ; }
@java.lang.Override protected org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Contex@@ t create@@ Migrate@@ Vm@@ Context@@ (org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Contex@@ t parent@@ Context@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ ) { return new org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Context@@ (); }
com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Resource@@ Image@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { if ((@@ (vm.get@@ Vm@@ Pa@@ us@@ e@@ Status()) != (org.ovirt.engine.core.common.businessentities.Vm@@ Pa@@ us@@ e@@ Status.@@ N@@ ON@@ E@@ )) || ((@@ vm.get@@ Vm@@ Pa@@ us@@ e@@ Status()) != (org.ovirt.engine.core.common.businessentities.Vm@@ Pa@@ us@@ e@@ Status.@@ NO@@ ER@@ R@@ ))) { return null@@ ; } else { com.google.gwt.@@ res@@ ourc@@ es.@@ client.@@ Image@@ Res@@ ource al@@ er@@ t@@ Image@@ Res@@ ource = res@@ ourc@@ es.@@ al@@ er@@ t@@ Image@@ (); com.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Prot@@ ot@@ yp@@ e image@@ Prot@@ ot@@ yp@@ e = com.google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Prot@@ ot@@ yp@@ e.c@@ reate@@ (@@ al@@ er@@ t@@ Image@@ Resource@@ ); java.lang.String ht@@ m@@ l = image@@ Prot@@ ot@@ yp@@ e.get@@ H@@ T@@ M@@ L@@ (); org.ovirt.engine.ui.uicompat.@@ Trans@@ l@@ ator trans@@ l@@ ator = new org.ovirt.engine.ui.uicompat.@@ Enum@@ Trans@@ l@@ ator@@ (); java.lang.String t@@ ool@@ T@@ i@@ p = trans@@ l@@ ator@@ .get@@ (vm.get@@ Vm@@ Pa@@ us@@ e@@ Status@@ ()); ht@@ m@@ l = ht@@ ml.@@ re@@ pl@@ ace@@ F@@ ir@@ st@@ ("@@ im@@ g@@ ", ((@@ ("@@ im@@ g " + "@@ ti@@ t@@ le@@ =@@ '@@ ") + t@@ ool@@ T@@ ip@@ ) + "@@ ' ")); return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (@@ ht@@ ml@@ ); } }
@org.junit.Test public void test@@ Validate@@ Bond@@ Option@@ s@@ For@@ New@@ Attach@@ ement@@ New@@ Bond@@ () { validate@@ Bond@@ Option@@ s@@ For@@ New@@ Attach@@ ement@@ (@@ null@@ , EngineMessage.@@ NETWORK_@@ AT@@ T@@ AC@@ H@@ M@@ EN@@ T_@@ IN@@ VALID@@ _@@ B@@ ON@@ D@@ M@@ O@@ D@@ E_@@ N@@ E@@ W@@ _@@ B@@ ON@@ D@@ , true@@ ); }
@java.lang.Override protected void init@@ () { set@@ Vds@@ Id@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Import@@ Host@@ ed@@ Engine@@ StorageDomain@@ Command.getParameters().get@@ Vds@@ Id()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Ad@@ d Host@@ s@@ ") java.lang.String add@@ Multiple@@ Host@@ s@@ Title@@ ();
public static long g@@ re@@ at@@ est@@ C@@ ommon@@ D@@ i@@ vi@@ s@@ or@@ (@@ long a@@ , long b@@ ) { while (@@ b != 0) { long c = a@@ ; b = a % b@@ ; a = c@@ ; } return a@@ ; }
public java.lang.Integ@@ er get@@ Time@@ z@@ one@@ Of@@ f@@ set@@ () { return time@@ z@@ one@@ Of@@ f@@ set@@ ; }
public static java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > filter@@ Image@@ Disk@@ s(@@ java.util.Collection@@ <@@ ? extends org.ovirt.engine.core.common.businessentities.@@ Disk@@ > list@@ Of@@ Disk@@ s, boolean al@@ low@@ Only@@ Not@@ Sh@@ are@@ able@@ Disk@@ s, boolean al@@ low@@ Only@@ S@@ nap@@ able@@ Disk@@ s) { return org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ filter@@ Image@@ Disk@@ s(@@ list@@ Of@@ Disk@@ s, al@@ low@@ Only@@ Not@@ Sh@@ are@@ able@@ Disk@@ s, al@@ low@@ Only@@ S@@ nap@@ able@@ Disk@@ s, true@@ ); }
@java.lang.Override public void add@@ To@@ S@@ l@@ ot@@ (java.lang.Object s@@ l@@ ot@@ , com.google.gwt.@@ user.@@ client.@@ ui.@@ W@@ id@@ ge@@ t cont@@ ent@@ ) { if (s@@ lo@@ t == (@@ org.ovirt.engine.ui.@@ user@@ port@@ al.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ t@@ ab@@ .@@ b@@ as@@ ic@@ .@@ Main@@ Tab@@ Bas@@ ic@@ List@@ Pres@@ enter@@ W@@ idget.@@ TYPE_@@ Vm@@ List@@ Content@@ )) { if (@@ cont@@ ent != null@@ ) { vm@@ Pan@@ el.@@ add(@@ cont@@ ent@@ ); } else { vm@@ Pan@@ el.@@ cl@@ e@@ ar@@ (); } } else { super@@ .@@ add@@ To@@ S@@ l@@ ot@@ (s@@ l@@ ot@@ , cont@@ ent@@ ); } }
@org.junit.Test public void test@@ Query@@ Fail@@ s@@ If@@ P@@ e@@ er@@ Exist@@ s() { mock@@ Query@@ Parameters@@ (org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ Gluster@@ Server@@ s@@ For@@ Import@@ Query@@ Test.@@ N@@ E@@ W@@ _S@@ ER@@ V@@ ER@@ , org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ Gluster@@ Server@@ s@@ For@@ Import@@ Query@@ Test.@@ P@@ A@@ SS@@ WOR@@ D@@ ); do@@ Return@@ (get@@ Vds@@ Static@@ ()).@@ when(@@ vds@@ Static@@ Dao@@ ).get@@ By@@ Host@@ Name@@ (org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ Gluster@@ Server@@ s@@ For@@ Import@@ Query@@ Test.@@ S@@ ER@@ V@@ ER_@@ NAM@@ E@@ 1@@ ); try { get@@ Query@@ ().execute@@ Query@@ Command@@ (); fail@@ ("@@ Query d@@ id@@ n@@ '@@ t fa@@ i@@ l wh@@ e@@ n on@@ e or m@@ or@@ e p@@ e@@ er@@ s al@@ read@@ y ex@@ ist@@ (s@@ )@@ !@@ "); } catch (java.lang.@@ Run@@ time@@ Exception e) { assert@@ Equals@@ (EngineMessage.@@ S@@ ER@@ V@@ ER_@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ S_@@ IN_@@ A@@ NO@@ TH@@ ER_@@ C@@ LUST@@ ER@@ .@@ toString@@ (), e.get@@ Message@@ ()); } }
@org.junit.Test public void test@@ Query@@ Default@@ Gener@@ al@@ Time@@ Z@@ one@@ () { m@@ c@@ r@@ .m@@ ock@@ Config@@ Value(ConfigValues.@@ Default@@ Gener@@ al@@ Time@@ Z@@ one@@ , org.ovirt.engine.core.bll.@@ Get@@ De@@ f@@ u@@ al@@ t@@ Time@@ Z@@ one@@ Query@@ Test.@@ DE@@ FA@@ U@@ L@@ T_@@ G@@ EN@@ ER@@ AL@@ _@@ TI@@ M@@ E_@@ Z@@ ON@@ E_@@ K@@ E@@ Y@@ ); when@@ (get@@ Query@@ Parameters@@ ().is@@ W@@ in@@ do@@ w@@ s@@ O@@ S@@ ()).@@ then@@ Return@@ (@@ false@@ ); get@@ Query@@ ().execute@@ Query@@ Command@@ (); @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") org.ovirt.engine.core.compat.@@ Key@@ Value@@ Pair@@ Comp@@ at@@ <@@ java.lang.String, java.lang.String> result = ((@@ org.ovirt.engine.core.compat.@@ Key@@ Value@@ Pair@@ Comp@@ at@@ <@@ java.lang.String, java.lang.String@@ >) (get@@ Query@@ ().get@@ Query@@ ReturnValue().get@@ ReturnValue@@ ())); assert@@ True@@ ((@@ "@@ W@@ ron@@ g default tim@@ e z@@ one@@ : " + (@@ result.get@@ Key@@ ())@@ ), result.get@@ Key@@ ().@@ equals@@ (org.ovirt.engine.core.bll.@@ Get@@ De@@ f@@ u@@ al@@ t@@ Time@@ Z@@ one@@ Query@@ Test.@@ DE@@ FA@@ U@@ L@@ T_@@ G@@ EN@@ ER@@ AL@@ _@@ TI@@ M@@ E_@@ Z@@ ON@@ E_@@ K@@ E@@ Y@@ )); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c snapshot@@ (java.lang.String vm@@ Id, java.util.Map<java.lang.String, java.lang.String@@ >@@ [@@ ] disk@@ s, java.lang.String memory@@ , boolean f@@ ro@@ z@@ en@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ VM@@ .@@ snapshot@@ ").@@ with@@ Parameter("@@ vm@@ ID@@ ", vm@@ Id@@ ).@@ with@@ Parameter("@@ s@@ nap@@ D@@ ri@@ v@@ es@@ ", new java.util.ArrayList<@@ java.util.Map<java.lang.String, java.lang.String@@ >@@ >@@ (@@ java.util.Arrays.as@@ List@@ (disk@@ s@@ )@@ )).@@ with@@ Parameter("@@ s@@ nap@@ Memory@@ ", memory@@ ).@@ with@@ Parameter("@@ f@@ ro@@ z@@ en@@ ", f@@ ro@@ z@@ en@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
protected boolean validate@@ Sp@@ ace@@ Requi@@ re@@ ment@@ s() { int num@@ Of@@ Vm@@ s = org.ovirt.engine.core.bll.@@ AddVm@@ Pool@@ With@@ Vms@@ Command.getParameters().get@@ Vms@@ Count@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ um@@ m@@ i@@ es = get@@ Disk@@ List@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ s@@ List = new java.util.ArrayList<>(); for (@@ int i = 0@@ ; i < num@@ Of@@ Vms@@ ; +@@ +@@ i@@ ) { disk@@ s@@ List.@@ add@@ All@@ (disk@@ Info@@ Dest@@ ination@@ Map.@@ valu@@ es@@ ()); } org.ovirt.engine.core.compat.Guid sp@@ Id = org.ovirt.engine.core.bll.@@ AddVm@@ Pool@@ With@@ Vms@@ Command.getVm@@ Template@@ ().get@@ StoragePool@@ Id@@ (); java.util.@@ Set<@@ org.ovirt.engine.core.compat.Guid> sd@@ Id@@ s = d@@ est@@ Stor@@ ages.@@ key@@ Set@@ (); org.ovirt.engine.core.bll.validator.@@ Multiple@@ StorageDomain@@ s@@ Validator storageDomain@@ s@@ Validator = get@@ StorageDomain@@ s@@ Validator@@ (s@@ p@@ Id, sd@@ Id@@ s); return (@@ validate@@ (@@ storageDomain@@ s@@ Validator.@@ all@@ Domain@@ sWith@@ in@@ Th@@ resh@@ ol@@ ds@@ ())) && (@@ validate@@ (@@ storageDomain@@ s@@ Validator.@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ New@@ Disk@@ s(@@ disk@@ s@@ List@@ ))); }
public void set@@ Host@@ Device@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Enabled@@ (@@ boolean value@@ ) { host@@ Device@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ En@@ able@@ d = value@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { if (!(@@ validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ StoragePool@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ Re@@ fresh@@ Lun@@ s@@ Size@@ Command.get@@ StoragePool@@ ()).@@ is@@ Up@@ ()))) { return false@@ ; } if (!(@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ re@@ fresh@@ Lun@@ Supported@@ (org.ovirt.engine.core.bll.storage.@@ Re@@ fresh@@ Lun@@ s@@ Size@@ Command.get@@ StoragePool@@ ().get@@ CompatibilityVersion@@ ()))) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ RE@@ F@@ RE@@ S@@ H@@ _@@ LUN@@ S_@@ UN@@ SUP@@ PORT@@ ED_@@ AC@@ TI@@ ON@@ ); } if (!@@ ((@@ org.ovirt.engine.core.bll.storage.@@ Re@@ fresh@@ Lun@@ s@@ Size@@ Command.@@ check@@ StorageDomain@@ ()) && (@@ check@@ StorageDomain@@ Status(@@ StorageDomain@@ Status.@@ Active@@ )@@ ))) { return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.storage.@@ Re@@ fresh@@ Lun@@ s@@ Size@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ Type@@ ().is@@ B@@ lock@@ Domain@@ ())) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ DOMA@@ IN_@@ TYPE_@@ IL@@ LE@@ G@@ AL@@ ); } if (!(@@ check@@ Lun@@ s@@ In@@ StorageDomain@@ (org.ovirt.engine.core.bll.storage.@@ Re@@ fresh@@ Lun@@ s@@ Size@@ Command.getParameters().get@@ Lun@@ Id@@ s@@ (), org.ovirt.engine.core.bll.storage.@@ Re@@ fresh@@ Lun@@ s@@ Size@@ Command.get@@ StorageDomain@@ ()))) { return failCanDoAction@@ (EngineMessage.ACTION_TYPE_FAILED_@@ LUN@@ S_NOT_@@ P@@ AR@@ T_@@ O@@ F@@ _@@ STORAGE_@@ DOMA@@ IN@@ ); } return true@@ ; }
private void view@@ () { org.ovirt.engine.core.common.businessentities.VM vm = ((org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (get@@ Entity@@ ())); if (@@ vm != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t = ((org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ ) (get@@ SelectedItem@@ ())); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Action(VdcActionType.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ , new org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ AllSnapshots@@ Of@@ Vm@@ Parameters@@ (vm.get@@ Id(), s@@ napsho@@ t.get@@ Id@@ ()), null@@ ); } }
@java.lang.Override protected void s@@ ync@@ Search@@ () { if ((get@@ Entity@@ ()) != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity gluster@@ Volume@@ Entity = ((org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ ) (get@@ Entity@@ ())); if ((get@@ Item@@ s()) == (@@ gluster@@ Volume@@ Entity@@ .get@@ Brick@@ s@@ ())) { get@@ Item@@ s@@ Changed@@ Event@@ ().@@ r@@ a@@ is@@ e@@ (@@ this@@ , EventArg@@ s.@@ EM@@ P@@ TY@@ ); } else { set@@ Items(@@ gluster@@ Volume@@ Entity@@ .get@@ Brick@@ s()); } } else { set@@ Item@@ s@@ (@@ null@@ ); } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Th@@ e VM is in s@@ us@@ p@@ en@@ de@@ d st@@ ate@@ , i@@ t m@@ ig@@ h@@ t not o@@ per@@ ate n@@ or@@ m@@ all@@ y af@@ te@@ r res@@ um@@ e on d@@ if@@ fer@@ ent cluster@@ . I@@ t@@ '@@ s s@@ u@@ g@@ es@@ te@@ d to p@@ ow@@ er i@@ t o@@ f@@ f b@@ e@@ for@@ e c@@ luster ch@@ ang@@ e.@@ ") java.lang.String s@@ us@@ p@@ en@@ ded@@ VM@@ s@@ W@@ h@@ en@@ Cluster@@ Change@@ ();
private void validate@@ Cluster@@ Mapping@@ s(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if ((@@ action@@ .get@@ Re@@ gist@@ r@@ ation@@ Configuration@@ ().is@@ Set@@ Cluster@@ Mapping@@ s()) && (@@ action@@ .get@@ Re@@ gist@@ r@@ ation@@ Configuration@@ ().get@@ Cluster@@ Mapping@@ s().@@ isSet@@ Re@@ gist@@ r@@ ation@@ Cluster@@ Mapping@@ s@@ ())) { action@@ .get@@ Re@@ gist@@ r@@ ation@@ Configuration@@ ().get@@ Cluster@@ Mapping@@ s().get@@ Re@@ gist@@ r@@ ation@@ Cluster@@ Mapping@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ :@@ validate@@ Cluster@@ Mapping@@ ); } }
protected boolean is@@ Hot@@ Plug@@ Supported@@ () { if (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ h@@ ot@@ Plug@@ (org.ovirt.engine.core.bll.@@ VmCommand.getVm@@ ().get@@ CompatibilityVersion@@ ())) { return true@@ ; } return failCanDoAction@@ (EngineMessage.@@ HO@@ T_@@ P@@ LU@@ G@@ _@@ I@@ S_NOT_@@ SUP@@ PORT@@ ED); }
public java.lang.String get@@ B@@ r@@ an@@ ded@@ F@@ a@@ vi@@ con@@ Path@@ () { java.util.List<@@ org.ovirt.engine.core.utils.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Th@@ em@@ e@@ > b@@ r@@ and@@ ing@@ Th@@ em@@ es = get@@ B@@ r@@ and@@ ing@@ Th@@ em@@ es@@ (); for (@@ int i = (@@ b@@ r@@ and@@ ing@@ Th@@ em@@ es.@@ size()) - 1@@ ; i >@@ = 0@@ ; i@@ -@@ ) { java.lang.String fa@@ vi@@ con@@ P@@ at@@ h = b@@ r@@ and@@ ing@@ Th@@ em@@ es@@ .get(@@ i@@ ).get@@ F@@ a@@ vi@@ con@@ Path@@ (); if (@@ fa@@ vi@@ con@@ P@@ at@@ h != null@@ ) { return fa@@ vi@@ con@@ Path@@ ; } } return null@@ ; }
private void t@@ ag@@ ListModel@@ _@@ SelectedItem@@ s@@ Changed@@ (java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s e) { get@@ System@@ T@@ ree@@ ().getSelectedItem@@ Changed@@ Event@@ ().@@ remove@@ Listener@@ (@@ this@@ ); get@@ System@@ T@@ ree@@ ().get@@ Res@@ et@@ Command@@ ().execute@@ (); get@@ System@@ T@@ ree@@ ().getSelectedItem@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ this@@ ); boolean h@@ ad@@ Selected@@ Tag@@ s = get@@ H@@ as@@ Selected@@ Tag@@ s(); update@@ H@@ as@@ Selected@@ Tag@@ s(); if (get@@ H@@ as@@ Selected@@ Tag@@ s()) { set@@ All@@ ListModel@@ s@@ Un@@ ava@@ il@@ able@@ (); get@@ Host@@ List@@ ().setIs@@ Available@@ (@@ true@@ ); get@@ Vm@@ List@@ ().setIs@@ Available@@ (@@ true@@ ); get@@ User@@ List@@ ().setIs@@ Available@@ (@@ true@@ ); } else { update@@ Avail@@ ab@@ ility@@ (@@ System@@ T@@ ree@@ Item@@ Type.@@ System@@ , null@@ ); } org.ovirt.engine.ui.uicommonweb.models.@@ List@@ Model old@@ Selected@@ I@@ te@@ m = get@@ SelectedItem@@ (); if ((((@@ (get@@ H@@ as@@ Selected@@ Tag@@ s()) && (@@ old@@ Selected@@ I@@ te@@ m != (get@@ Host@@ List@@ ()))) && (@@ old@@ Selected@@ I@@ te@@ m != (get@@ Volume@@ List@@ ()))) && (@@ old@@ Selected@@ I@@ te@@ m != (get@@ Vm@@ List@@ ()))) && (@@ old@@ Selected@@ I@@ te@@ m != (get@@ User@@ List@@ ()))) { set@@ SelectedItem@@ (get@@ Vm@@ List@@ ()); } else if ((get@@ H@@ as@@ Selected@@ Tag@@ s()) || h@@ ad@@ Selected@@ Tag@@ s) { java.lang.String pre@@ fi@@ x = "@@ "; java.lang.String se@@ ar@@ ch = "@@ "; org.ovirt.engine.core.compat.@@ Re@@ f@@ Object@@ <@@ java.lang.String> temp@@ Re@@ f@@ _@@ pre@@ fi@@ x = new org.ovirt.engine.core.compat.@@ Re@@ f@@ Object@@ <@@ java.lang.String@@ >@@ (@@ pre@@ fi@@ x@@ ); org.ovirt.engine.core.compat.@@ Re@@ f@@ Object@@ <@@ java.lang.String> temp@@ Re@@ f@@ _@@ se@@ ar@@ ch = new org.ovirt.engine.core.compat.@@ Re@@ f@@ Object@@ <@@ java.lang.String@@ >@@ (s@@ e@@ arch@@ ); s@@ pl@@ it@@ Search@@ String@@ (get@@ SelectedItem@@ ().get@@ Default@@ Search@@ String@@ (), temp@@ Re@@ f@@ _@@ pre@@ fi@@ x@@ , temp@@ Re@@ f@@ _@@ search@@ ); pre@@ fi@@ x = temp@@ Re@@ f@@ _@@ pre@@ fi@@ x.@@ arg@@ value@@ ; se@@ ar@@ ch = temp@@ Re@@ f@@ _@@ search@@ .@@ arg@@ value@@ ; set@@ Search@@ String@@ Pre@@ fi@@ x@@ (@@ pre@@ fi@@ x@@ ); set@@ Search@@ String@@ (s@@ e@@ arch@@ ); get@@ Search@@ Command@@ ().execute@@ (); search@@ String@@ Changed@@ (); } } }
@org.junit.Test public void m@@ ove@@ Plug@@ ged@@ Disk@@ And@@ Un@@ plug@@ ged@@ Disk@@ Vm@@ Up@@ () { org.ovirt.engine.core.compat.Guid disk@@ Image@@ Id@@ 1 = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); org.ovirt.engine.core.compat.Guid disk@@ Image@@ Id@@ 2 = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters m@@ ove@@ Disk@@ Parameters@@ 1 = new org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters@@ (disk@@ Image@@ Id@@ 1, s@@ r@@ c@@ Storage@@ Id, d@@ st@@ Storage@@ Id); org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters m@@ ove@@ Disk@@ Parameters@@ 2 = new org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters@@ (disk@@ Image@@ Id@@ 2@@ , s@@ r@@ c@@ Storage@@ Id, d@@ st@@ Storage@@ Id); command@@ .get@@ Parameters@@ ().set@@ Parameters@@ List(@@ java.util.Arrays.as@@ List@@ (m@@ ove@@ Disk@@ Parameters@@ 1, m@@ ove@@ Disk@@ Parameters@@ 2@@ )); init@@ DiskImage@@ (disk@@ Image@@ Id@@ 1@@ ); init@@ DiskImage@@ (disk@@ Image@@ Id@@ 2@@ ); init@@ Vm@@ (@@ VMStatus.@@ Up@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), disk@@ Image@@ Id@@ 1, true@@ , disk@@ Image@@ Id@@ 2@@ , false@@ ); command@@ .@@ update@@ Parameters@@ (); assert@@ True@@ (command@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ M@@ OV@@ E_@@ DIS@@ K@@ S_@@ M@@ I@@ X@@ ED_@@ P@@ LU@@ G@@ ED_@@ ST@@ AT@@ US@@ .@@ toString@@ ())); }
protected void update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ () { final java.util.Map<@@ org.ovirt.engine.core.common.businessentities.@@ Cluster@@ , java.util.@@ Set<@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ gist@@ er.@@ VnicProfile@@ Mapping@@ Entity@@ >> result = new java.util.HashMap<@@ >(); get@@ Enti@@ ties@@ ().get@@ Item@@ s().@@ stream@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( re@@ gist@@ er@@ Vm@@ Data@@ ) -@@ > update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ (@@ re@@ gist@@ er@@ Vm@@ Data@@ .get@@ Entity@@ ().get@@ Interfaces@@ (), re@@ gist@@ er@@ Vm@@ Data@@ .get@@ Cluster@@ ().getSelectedItem@@ (), result@@ )); set@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ (@@ result@@ ); }
public static void get@@ Local@@ Storage@@ Host@@ (@@ org.ovirt.engine.ui.frontend.AsyncQuery aQuery@@ , java.lang.String dataCenter@@ Name@@ ) { aQuery@@ .@@ con@@ ver@@ ter@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ I@@ Async@@ Conver@@ ter@@ () { @java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { if (s@@ ource != null@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ I@@ VdcQuery@@ able i@@ te@@ m : ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ I@@ VdcQuery@@ able@@ >) (s@@ ource@@ ))) { return item@@ ; } } return null@@ ; } }; org.ovirt.engine.core.common.queries.@@ Search@@ Parameters s@@ p = new org.ovirt.engine.core.common.queries.@@ Search@@ Parameters@@ ((@@ "@@ host@@ s@@ : dat@@ ac@@ enter@@ =@@ " + dataCenter@@ Name@@ ), org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ Search@@ Type.@@ VDS@@ ); org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.@@ Search@@ , sp@@ , aQuery@@ ); }
private static org.ovirt.engine.core.common.businessentities.Vm@@ Pool cl@@ one@@ Vm@@ Pool@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Pool instance@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Pool ob@@ j = new org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ (); obj@@ .set@@ Vm@@ Pool@@ Id(@@ in@@ stan@@ c@@ e.get@@ Vm@@ Pool@@ Id()); obj@@ .set@@ Name(@@ in@@ stan@@ c@@ e.get@@ Name()); obj@@ .set@@ Vm@@ Pool@@ Type(@@ in@@ stan@@ c@@ e.get@@ Vm@@ Pool@@ Type@@ ()); obj@@ .set@@ VdsGroup@@ Id(@@ in@@ stan@@ c@@ e.get@@ VdsGroup@@ Id()); obj@@ .set@@ Parameters(@@ in@@ stan@@ c@@ e.get@@ Parameters@@ ()); obj@@ .set@@ Default@@ En@@ d@@ Tim@@ e(@@ in@@ stan@@ c@@ e.get@@ Default@@ En@@ d@@ Time@@ ()); obj@@ .set@@ Default@@ Start@@ Tim@@ e(@@ in@@ stan@@ c@@ e.get@@ Default@@ Start@@ Time@@ ()); obj@@ .set@@ Default@@ Time@@ In@@ D@@ ay@@ s(@@ in@@ stan@@ c@@ e.get@@ Default@@ Time@@ In@@ D@@ ay@@ s()); obj@@ .set@@ VdsGroup@@ Name(@@ in@@ stan@@ c@@ e.get@@ VdsGroup@@ Name()); obj@@ .set@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Count@@ (in@@ stan@@ c@@ e.get@@ As@@ s@@ ig@@ ne@@ d@@ Vms@@ Count@@ ()); obj@@ .set@@ Vm@@ Pool@@ Description@@ (in@@ stan@@ c@@ e.get@@ Vm@@ Pool@@ Description@@ ()); obj@@ .set@@ Comm@@ ent@@ (in@@ stan@@ c@@ e.get@@ Comm@@ ent@@ ()); obj@@ .set@@ Run@@ ning@@ Vms@@ Count@@ (in@@ stan@@ c@@ e.get@@ Run@@ ning@@ Vms@@ Count@@ ()); obj@@ .set@@ Pres@@ t@@ ar@@ ted@@ Vm@@ s(@@ in@@ stan@@ c@@ e.get@@ Pres@@ t@@ ar@@ ted@@ Vms@@ ()); return obj@@ ; }
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.models.@@ Model set@@ Is@@ Chang@@ able@@ (@@ boolean value@@ ) { get@@ A@@ ver@@ age@@ ().setIs@@ Chang@@ able(@@ value@@ ); get@@ P@@ e@@ a@@ k@@ ().setIs@@ Chang@@ able(@@ value@@ ); get@@ B@@ ur@@ st@@ ().setIs@@ Chang@@ able(@@ value@@ ); return super@@ .set@@ Is@@ Chang@@ able(@@ value@@ ); }
public void set@@ S@@ w@@ ap@@ F@@ re@@ e(@@ java.lang.@@ L@@ on@@ g value@@ ) { vds@@ Statistic@@ s.set@@ S@@ w@@ ap@@ F@@ re@@ e(@@ value@@ ); }
@java.lang.Override protected void pre@@ S@@ ave@@ () { st@@ art@@ Progress@@ (@@ null@@ ); if (!(@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ I@@ g@@ n@@ ore@@ C@@ ase@@ (((@@ java.lang.String@@ ) (get@@ U@@ r@@ l@@ ().getEntity@@ ())@@ ), old@@ U@@ r@@ l@@ ))) { provi@@ ded@@ Type@@ s = provider@@ .get@@ Type@@ ().get@@ Provi@@ ded@@ Typ@@ es@@ (); init@@ Quer@@ i@@ es@@ (); if (@@ provi@@ ded@@ Typ@@ es.@@ contains(@@ Vdc@@ Object@@ Type.@@ Network@@ )) { org.ovirt.engine.ui.frontend.@@ F@@ rontend.@@ Run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ All@@ Networks@@ For@@ Provider@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ provider@@ .getId@@ ()), new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ null@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { if (!@@ (((@@ java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ >) (((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )@@ ).get@@ ReturnValue@@ ())@@ ).@@ isEmpty@@ ())) { enti@@ ties@@ Provi@@ de@@ d = false@@ ; } update@@ Quer@@ i@@ es@@ (Vdc@@ Object@@ Type.@@ Network@@ ); } }@@ )); } } }
protected boolean are@@ Update@@ d@@ Fiel@@ ds@@ Le@@ g@@ al@@ () { return org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ is@@ Update@@ Valid@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Vm@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Status@@ ()); }
protected void do@@ Re@@ gist@@ er@@ (java.lang.String host@@ Address@@ , int host@@ SS@@ H@@ Port@@ , java.lang.String host@@ SS@@ H@@ Key@@ F@@ ing@@ er@@ p@@ r@@ int@@ , java.lang.String host@@ SS@@ H@@ User@@ , int host@@ Vds@@ Port@@ , java.lang.String host@@ Name, java.lang.String host@@ Un@@ i@@ q@@ ue@@ Id) { if (@@ host@@ SS@@ H@@ Us@@ er == null@@ ) { host@@ SS@@ H@@ Us@@ er = "@@ ro@@ ot@@ "; } if (@@ host@@ Name == null@@ ) { host@@ Name = host@@ Address@@ ; } if (@@ host@@ Un@@ i@@ q@@ ue@@ Id == null@@ ) { throw new java.lang.@@ Run@@ time@@ Exception@@ ("@@ Un@@ i@@ qu@@ e id w@@ a@@ s not provi@@ ded@@ "); } org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue query@@ ReturnValue = ((@@ org.ovirt.engine.core.bl@@ l@@ .@@ int@@ er@@ fac@@ es.@@ Backend@@ Internal@@ ) (@@ org.ovirt.engine.core.utils.@@ e@@ j@@ b@@ .@@ E@@ j@@ b@@ Utils.@@ fin@@ d@@ Be@@ an@@ (@@ Be@@ an@@ Type.@@ B@@ AC@@ K@@ EN@@ D@@ , Be@@ an@@ Proxy@@ Type.@@ LO@@ C@@ AL@@ )@@ )).@@ run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.@@ Re@@ gist@@ er@@ Vds@@ , new org.ovirt.engine.core.common.queries.@@ host@@ de@@ plo@@ y@@ .@@ Re@@ gist@@ er@@ Vds@@ Parameters(@@ org.ovirt.engine.core.compat.Guid.@@ Empty@@ , host@@ Address@@ , host@@ SS@@ H@@ Port@@ , host@@ SS@@ H@@ Key@@ F@@ ing@@ er@@ p@@ r@@ int@@ , host@@ SS@@ H@@ User@@ , host@@ Name, host@@ Un@@ i@@ q@@ ue@@ Id, host@@ Vds@@ Port@@ , org.ovirt.engine.core.compat.Guid.@@ Empty@@ )); if (@@ query@@ ReturnValue == null@@ ) { throw new java.lang.@@ Run@@ time@@ Exception@@ ("@@ run@@ Internal@@ Query fail@@ ed (@@ null@@ )@@ "); } if (!(@@ query@@ Return@@ Value.get@@ Succeeded@@ ())) { java.lang.String r = query@@ Return@@ Value.get@@ Exception@@ String@@ (); if (@@ r == null@@ ) { throw new java.lang.@@ Run@@ time@@ Exception@@ ("@@ run@@ Internal@@ Query fail@@ ed (@@ null@@ )@@ "); } if (!(@@ r@@ .equals(@@ EngineMessage.@@ VDS@@ _@@ ST@@ AT@@ U@@ S_NOT_@@ VALID@@ _@@ F@@ OR@@ _@@ UP@@ D@@ AT@@ E@@ .@@ name@@ ()))) { throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ run@@ Internal@@ Query fail@@ ed '@@ %@@ s@@ '@@ ", r@@ )); } } }
@java.lang.Override protected boolean canDoAction@@ () { boolean return@@ Value = true@@ ; org.ovirt.engine.core.common.businessentities.@@ R@@ ol@@ e old@@ R@@ ol@@ e = org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ ().get@@ Id()); if (@@ old@@ R@@ ol@@ e == null@@ ) { addCanDoActionMessage@@ (VdcBllMessages.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ RO@@ L@@ E_@@ ID@@ ); return@@ Value = false@@ ; } else { if (@@ check@@ If@@ Role@@ Is@@ Read@@ Only@@ (org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ())) { return@@ Value = false@@ ; addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ ACTION_@@ _@@ UP@@ D@@ AT@@ E); } else if ((!@@ (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ E@@ q@@ Op@@ (org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ ().get@@ name@@ (), old@@ R@@ ol@@ e.get@@ name@@ ()))) && ((org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ Dao().get@@ By@@ Name@@ (org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ ().get@@ name@@ ())) != null@@ )) { addCanDoActionMessage@@ (VdcBllMessages.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ RO@@ L@@ E_@@ NAM@@ E); return@@ Value = false@@ ; } else if ((org.ovirt.engine.core.bll.@@ Update@@ Role@@ Command.get@@ Role@@ ().get@@ Type()) != (@@ old@@ R@@ ol@@ e.get@@ Type@@ ())) { addCanDoActionMessage@@ (VdcBllMessages.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ RO@@ L@@ E_@@ TYP@@ E); return@@ Value = false@@ ; } } if (@@ !@@ return@@ Value@@ ) { addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ TYPE_@@ _@@ RO@@ LE@@ ); addCanDoActionMessage@@ (VdcBllMessages.@@ VAR__@@ ACTION_@@ _@@ UP@@ D@@ AT@@ E); } return return@@ Value@@ ; }
private java.lang.Object get@@ Vms@@ From@@ External@@ Provider@@ () { try { return vds@@ Brok@@ er.@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Vms@@ From@@ External@@ Provider@@ , build@@ Get@@ Rem@@ o@@ te@@ Vms@@ Info@@ Parameters@@ ())@@ .get@@ ReturnValue@@ (); } catch (java.lang.@@ Run@@ time@@ Exception e) { if (!(@@ e instanceof java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ )) { log@@ Fail@@ ure@@ To@@ Get@@ Vms@@ (); } throw e@@ ; } }
private void re@@ ve@@ al@@ Disk@@ Panel@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Attach@@ Disk@@ Model disk@@ ) { disk@@ Type@@ Pan@@ el.@@ set@@ Visi@@ bl@@ e(@@ is@@ New@@ Lun@@ Disk@@ Enabled@@ ); image@@ Disk@@ T@@ abl@@ e.set@@ Visi@@ bl@@ e@@ (@@ false@@ ); lun@@ Disk@@ T@@ abl@@ e.set@@ Visi@@ bl@@ e@@ (@@ false@@ ); org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ Entity@@ Model@@ C@@ el@@ l@@ T@@ able@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ > disk@@ T@@ able@@ ; switch (disk@@ .get@@ Disk@@ Storage@@ Type@@ ().getEntity@@ ()) { case LU@@ N : disk@@ T@@ able = lun@@ Disk@@ T@@ able@@ ; break@@ ; default : disk@@ T@@ able = image@@ Disk@@ T@@ able@@ ; break@@ ; } disk@@ T@@ abl@@ e.set@@ Visi@@ bl@@ e@@ (@@ true@@ ); org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ >> disk@@ s@@ List@@ Model = disk@@ .get@@ Attach@@ able@@ Disks@@ Map@@ ().get@@ (disk@@ .get@@ Disk@@ Storage@@ Type@@ ().getEntity@@ ()); org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ > selected@@ Model = disk@@ s@@ List@@ Model.get@@ SelectedItem@@ (); java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ >> selected@@ Model@@ s = disk@@ s@@ List@@ Model.get@@ SelectedItem@@ s(); disk@@ s@@ List@@ Model.set@@ SelectedItem@@ (@@ null@@ ); disk@@ s@@ List@@ Model.set@@ SelectedItem@@ s@@ (@@ null@@ ); disk@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (disk@@ s@@ ListModel@@ ); disk@@ s@@ List@@ Model.set@@ SelectedItem@@ (s@@ elected@@ Model@@ ); disk@@ s@@ List@@ Model.set@@ SelectedItem@@ s(@@ selected@@ Model@@ s); }
private java.util.@@ Set<@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ gist@@ er.@@ VnicProfile@@ Mapping@@ Entity@@ > get@@ New@@ VnicProfile@@ Mapping@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ gist@@ er.@@ Re@@ gist@@ er@@ Vm@@ Data re@@ gist@@ er@@ Vm@@ Data@@ , java.util.@@ Set<@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ gist@@ er.@@ VnicProfile@@ Mapping@@ Entity@@ > cluster@@ VnicProfile@@ Mapping@@ s) { final java.util.@@ Set<@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ gist@@ er.@@ VnicProfile@@ Mapping@@ Entity@@ > result = new java.util.Hash@@ Set<@@ >(); for (org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface v@@ n@@ ic : re@@ gist@@ er@@ Vm@@ Data@@ .get@@ Entity@@ ().get@@ Interfaces@@ ()) { final org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ gist@@ er.@@ VnicProfile@@ Mapping@@ Entity new@@ Mapp@@ ing = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ gist@@ er.@@ VnicProfile@@ Mapping@@ Entity@@ (@@ vnic@@ .get@@ Network@@ Name(), vnic@@ .get@@ VnicProfile@@ Name(), null@@ ); if (@@ new@@ Mapping@@ s.@@ contains@@ (@@ new@@ Mapping@@ ))) { result.@@ add@@ (@@ new@@ Mapping@@ ); } } return result@@ ; }
@java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ snapshot@@ Entity@@ (get@@ Vm().get@@ Dynamic@@ Data@@ ()); update@@ Vm@@ Data@@ (get@@ Vm().get@@ Dynamic@@ Data@@ ()); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; }
private static org.ovirt.engine.core.common.businessentities.VM get@@ VM@@ (@@ int c@@ ount@@ , boolean p@@ in@@ ne@@ d@@ ) { org.ovirt.engine.core.common.businessentities.VM vm = new org.ovirt.engine.core.common.businessentities.@@ VM@@ (); vm@@ .set@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ((@@ "@@ A@@ A@@ 00@@ 00@@ 00@@ 0@@ -@@ 00@@ -@@ 00@@ -@@ 00@@ -@@ 00@@ -@@ 1@@ 2@@ 3@@ 4@@ 5@@ 6@@ 7@@ 8@@ 9@@ A@@ A@@ A@@ " + c@@ ount@@ ))); vm@@ .set@@ Name@@ ((@@ "@@ VM@@ " + c@@ ount@@ )); if (p@@ in@@ ne@@ d@@ ) { vm@@ .set@@ Status(@@ VMStatus.@@ Up@@ ); } else { vm@@ .set@@ Status(@@ VMStatus.@@ Down@@ ); } vm@@ .set@@ Numa@@ T@@ u@@ ne@@ M@@ ode@@ (@@ Numa@@ T@@ u@@ ne@@ Mod@@ e.@@ ST@@ R@@ IC@@ T@@ ); vm.get@@ StaticData@@ ().set@@ v@@ Numa@@ Node@@ List@@ (@@ new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Node@@ >@@ ()); vm.get@@ StaticData@@ ().get@@ v@@ Numa@@ Node@@ List@@ ().@@ add(@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ v@@ Numa@@ Node@@ (0@@ , p@@ in@@ ne@@ d@@ )); vm.get@@ StaticData@@ ().get@@ v@@ Numa@@ Node@@ List@@ ().@@ add(@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ v@@ Numa@@ Node@@ 2@@ (@@ 1, p@@ in@@ ne@@ d@@ )); return vm@@ ; }
private static java.util.Map<java.lang.String, java.lang.String> get@@ Message@@ Map@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group cluster@@ , org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ Async@@ T@@ as@@ k task@@ ) { java.util.Map<java.lang.String, java.lang.String> value@@ s = new java.util.HashMap<@@ java.lang.String, java.lang.String@@ >(); valu@@ es.@@ put(@@ Gluster@@ Constants.@@ C@@ LUST@@ ER@@ , cluster@@ .get@@ Name()); valu@@ es.@@ put(@@ Gluster@@ Constants.@@ V@@ O@@ LU@@ M@@ E, task@@ .get@@ Task@@ Parameters().get@@ Volume@@ Name()); valu@@ es.@@ put(@@ Gluster@@ Constants.@@ J@@ O@@ B@@ _@@ ST@@ AT@@ US@@ , task@@ .get@@ Status@@ ().@@ toString()); valu@@ es.@@ put(@@ Gluster@@ Constants.@@ J@@ O@@ B@@ _@@ IN@@ F@@ O@@ , task@@ .get@@ Message@@ ()); return valu@@ es@@ ; }
@org.junit.@@ Test@@ (@@ exp@@ ected = java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ .@@ class@@ ) public void test@@ Empty@@ Key@@ Sub@@ s@@ cription@@ () { java.lang.String id = "@@ .@@ *@@ |@@ *@@ |@@ *@@ "; org.ovirt.vdsm.jsonrpc.client.@@ event@@ s.@@ Sub@@ s@@ cription@@ H@@ ol@@ der h@@ ol@@ der = mock@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ event@@ s.@@ Sub@@ s@@ cription@@ H@@ ol@@ der@@ .@@ class@@ ); when(@@ h@@ ol@@ der@@ .getId@@ ()).@@ thenReturn(@@ id@@ ); when(@@ h@@ ol@@ der@@ .get@@ Par@@ s@@ ed@@ Id@@ ()).@@ thenReturn(@@ par@@ s@@ e(@@ id@@ )); org.ovirt.vdsm.jsonrpc.client.@@ event@@ s.@@ Sub@@ s@@ cription@@ Match@@ er mat@@ ch@@ er = new org.ovirt.vdsm.jsonrpc.client.@@ event@@ s.@@ Sub@@ s@@ cription@@ Match@@ er@@ (); mat@@ ch@@ er.@@ add(@@ h@@ ol@@ der@@ ); }
@java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = return@@ Value.get@@ ReturnValue@@ (); boolean s@@ uc@@ cee@@ de@@ d = true@@ ; for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { if (!(@@ hos@@ t.get@@ Cluster@@ Id().@@ equals(@@ host@@ Cluster@@ Id@@ Map@@ .get(@@ hos@@ t.get@@ Id@@ ())@@ ))) { s@@ uc@@ cee@@ de@@ d = false@@ ; } } if (!@@ s@@ uc@@ ceeded@@ ) { g@@ ui@@ de@@ Model.get@@ W@@ in@@ do@@ w@@ ().@@ st@@ op@@ Progress@@ (); g@@ ui@@ de@@ Model.@@ cancel@@ (); error@@ Popup@@ Manager.@@ sh@@ ow@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ host@@ Change@@ Cluster@@ Time@@ Out@@ ()); } else { ac@@ tivate@@ Host@@ s@@ Af@@ ter@@ Cluster@@ Chang@@ e(@@ g@@ ui@@ de@@ Model@@ , search@@ Str@@ , ac@@ tivate@@ Vds@@ Parameter@@ List@@ ); } }
public void set@@ Status@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status status@@ , org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { synchronized@@ (get@@ Lock@@ O@@ bj@@ ()) { if (@@ vd@@ s == null@@ ) { vd@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vds@@ Dao().get@@ (get@@ Vds@@ Id()); } if ((@@ vds.get@@ Pre@@ vi@@ o@@ us@@ Status()) != (@@ vds.get@@ Status@@ ())) { vd@@ s.set@@ Pre@@ vi@@ o@@ us@@ Status(@@ vds.get@@ Status@@ ()); if ((@@ _@@ vds@@ ) != null@@ ) { _@@ vd@@ s.set@@ Pre@@ vi@@ o@@ us@@ Status(@@ vds.get@@ Status@@ ()); if (@@ stat@@ u@@ s == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Pre@@ par@@ ing@@ For@@ M@@ a@@ int@@ en@@ ance@@ )) { c@@ al@@ c@@ ul@@ ate@@ N@@ ext@@ M@@ a@@ int@@ en@@ ance@@ A@@ t@@ temp@@ t@@ Time@@ (); } } } vd@@ s.set@@ Status(@@ status@@ ); if ((@@ _@@ vds@@ ) != null@@ ) { _@@ vd@@ s.set@@ Status(@@ status@@ ); } switch (@@ status@@ ) { case Non@@ Operation@@ al : if ((@@ _@@ vds@@ ) != null@@ ) { _@@ vd@@ s.set@@ Non@@ Operation@@ al@@ Reason@@ (@@ vds.get@@ Non@@ Operation@@ al@@ Reason@@ ()); } if ((@@ vds.get@@ Vm@@ Count@@ ()) > 0) { break@@ ; } case Non@@ Respon@@ si@@ v@@ e : case Do@@ w@@ n : case M@@ a@@ int@@ en@@ an@@ c@@ e : vd@@ s.set@@ Cpu@@ S@@ y@@ s(@@ java.lang.@@ Do@@ ubl@@ e.@@ value@@ Of@@ (0@@ )); vd@@ s.set@@ Cpu@@ User@@ (java.lang.@@ Do@@ ubl@@ e.@@ value@@ Of@@ (0@@ )); vd@@ s.set@@ Cpu@@ Id@@ le(@@ java.lang.@@ Do@@ ubl@@ e.@@ value@@ Of@@ (0@@ )); vd@@ s.set@@ Cpu@@ Lo@@ ad@@ (java.lang.@@ Do@@ ubl@@ e.@@ value@@ Of@@ (0@@ )); vd@@ s.set@@ Us@@ age@@ Cpu@@ Per@@ c@@ ent@@ (0@@ ); vd@@ s.set@@ Us@@ age@@ Mem@@ Per@@ c@@ ent@@ (0@@ ); vd@@ s.set@@ Us@@ age@@ Network@@ Per@@ c@@ ent@@ (0@@ ); if ((@@ _@@ vds@@ ) != null@@ ) { _@@ vd@@ s.set@@ Cpu@@ S@@ y@@ s(@@ java.lang.@@ Do@@ ubl@@ e.@@ value@@ Of@@ (0@@ )); _@@ vd@@ s.set@@ Cpu@@ User@@ (java.lang.@@ Do@@ ubl@@ e.@@ value@@ Of@@ (0@@ )); _@@ vd@@ s.set@@ Cpu@@ Id@@ le(@@ java.lang.@@ Do@@ ubl@@ e.@@ value@@ Of@@ (0@@ )); _@@ vd@@ s.set@@ Cpu@@ Lo@@ ad@@ (java.lang.@@ Do@@ ubl@@ e.@@ value@@ Of@@ (0@@ )); _@@ vd@@ s.set@@ Us@@ age@@ Cpu@@ Per@@ c@@ ent@@ (0@@ ); _@@ vd@@ s.set@@ Us@@ age@@ Mem@@ Per@@ c@@ ent@@ (0@@ ); _@@ vd@@ s.set@@ Us@@ age@@ Network@@ Per@@ c@@ ent@@ (0@@ ); } default : break@@ ; } } }
@org.junit.Test public void test@@ Volume@@ () { test@@ Valid@@ Sql@@ ("@@ volume@@ : ", "@@ S@@ E@@ LE@@ C@@ T * F@@ RO@@ M ((@@ S@@ E@@ LE@@ C@@ T gluster@@ _@@ volum@@ es@@ _@@ vi@@ e@@ w ) OR@@ DE@@ R B@@ Y v@@ ol@@ _@@ nam@@ e A@@ S@@ C ) a@@ s T@@ 1 O@@ F@@ FS@@ E@@ T (@@ 1 -@@ 1@@ ) L@@ IM@@ I@@ T 0@@ "); }
@@@ org.ovirt.engine.core.utils.@@ tim@@ er.@@ On@@ Tim@@ er@@ Method@@ An@@ not@@ ation@@ ("@@ p@@ oll@@ ") public void p@@ oll@@ () { if (vds@@ Manager.@@ is@@ Monitor@@ ing@@ N@@ e@@ e@@ ded@@ ()) { org.ovirt.engine.core.vdsbroker.@@ Vms@@ List@@ F@@ et@@ ch@@ er f@@ et@@ ch@@ er = get@@ Vms@@ F@@ et@@ ch@@ er@@ (); long f@@ et@@ ch@@ Tim@@ e = java.lang.@@ System@@ .@@ n@@ an@@ o@@ Time@@ (); if (@@ f@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ ()) { pro@@ cess@@ Devic@@ es(@@ f@@ et@@ ch@@ er@@ ); get@@ Vms@@ Monitor@@ ing@@ (@@ f@@ et@@ ch@@ er@@ , f@@ et@@ ch@@ Time@@ ).@@ p@@ er@@ for@@ m@@ (); } else { org.ovirt.engine.core.vdsbroker.@@ P@@ oll@@ Vm@@ Stat@@ s@@ Re@@ fresh@@ er.@@ log.info@@ ("@@ Fail@@ ed to f@@ et@@ ch vm@@ s in@@ fo for hos@@ t '{}@@ ' - s@@ k@@ ip@@ p@@ ing VM@@ s m@@ onitor@@ ing.@@ ", vds@@ Manager@@ .get@@ Vds@@ Name()); } } }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") protected void initial@@ ize@@ Command@@ (org.ovirt.engine.core.common.businessentities.@@ Image@@ Oper@@ ation o@@ per@@ ation@@ ) { c@@ ommand = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.@@ Move@@ Or@@ Copy@@ Disk@@ Command@@ Test.@@ Move@@ Or@@ Copy@@ Disk@@ Command@@ D@@ um@@ m@@ y@@ (@@ new org.ovirt.engine.core.common.action.@@ Move@@ Or@@ Copy@@ ImageGroup@@ Parameters@@ (disk@@ Image@@ Guid@@ , s@@ r@@ c@@ Storage@@ Id, d@@ est@@ Storage@@ Id, o@@ per@@ ation@@ ))); do@@ Return@@ (@@ true@@ ).when@@ (command@@ ).@@ is@@ StorageDomain@@ Sp@@ ace@@ With@@ in@@ Th@@ resh@@ ol@@ ds@@ (); do@@ Return@@ (@@ true@@ ).when@@ (command@@ )@@ .@@ do@@ es@@ StorageDomain@@ H@@ ave@@ Sp@@ ace@@ For@@ Request@@ (@@ any@@ L@@ on@@ g@@ ()); do@@ Return@@ (@@ true@@ ).when@@ (command@@ ).@@ check@@ Image@@ Configuration@@ (@@ any@@ (java.util.@@ List@@ .@@ class@@ )); do@@ Return(@@ java.util.Collections.@@ em@@ pty@@ List@@ ()).@@ when@@ (command@@ ).get@@ All@@ Image@@ Snapshot@@ s(); do@@ Return@@ (@@ false@@ ).when@@ (command@@ ).@@ ac@@ qui@@ re@@ Lock@@ (); }
public static java.lang.@@ Num@@ b@@ er con@@ ver@@ t@@ (@@ long size@@ , org.ovirt.engine.core.common.utils.@@ Size@@ Conver@@ t@@ er.@@ Size@@ Un@@ i@@ t f@@ rom@@ Unit@@ , org.ovirt.engine.core.common.utils.@@ Size@@ Conver@@ t@@ er.@@ Size@@ Un@@ i@@ t to@@ Unit@@ ) { long f@@ rom@@ Type = f@@ rom@@ Un@@ it.@@ get@@ Unit@@ W@@ e@@ ig@@ ht@@ (); long to@@ Type = to@@ Un@@ it.@@ get@@ Unit@@ W@@ e@@ ig@@ ht@@ (); return s@@ iz@@ e * ((@@ java.lang.@@ M@@ ath@@ .@@ p@@ ow@@ (org.ovirt.engine.core.common.@@ utils.@@ Size@@ Conver@@ t@@ er.@@ C@@ ON@@ V@@ ER@@ T_@@ F@@ AC@@ T@@ OR@@ , f@@ rom@@ Type@@ )) / (java.lang.@@ M@@ ath@@ .@@ p@@ ow@@ (org.ovirt.engine.core.common.@@ utils.@@ Size@@ Conver@@ t@@ er.@@ C@@ ON@@ V@@ ER@@ T_@@ F@@ AC@@ T@@ OR@@ , to@@ Type@@ ))); }
private static java.util.List<@@ java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Method@@ > get@@ R@@ el@@ ev@@ an@@ t@@ M@@ eth@@ o@@ ds@@ (java.lang.@@ Class@@ <?@@ > cl@@ z@@ ) { java.util.List<@@ java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Method@@ > m@@ ethod@@ s = new java.util.ArrayList<>(); if (@@ org.ovirt.engine.api.@@ utils.@@ Link@@ Helper.@@ m@@ ethod@@ C@@ ach@@ e.c@@ on@@ t@@ ain@@ s@@ Key@@ (@@ cl@@ z@@ )) { return org.ovirt.engine.api.@@ utils.@@ Link@@ Helper.@@ m@@ ethod@@ C@@ ach@@ e.get@@ (@@ cl@@ z@@ ); } for (java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ M@@ eth@@ o@@ d m@@ eth@@ o@@ d : cl@@ z@@ .get@@ M@@ eth@@ o@@ ds@@ ()) { if (m@@ ethod@@ .getName@@ ().@@ st@@ art@@ sWith@@ ("@@ get@@ "@@ )) { if ((@@ m@@ ethod@@ .get@@ Return@@ Type@@ ().get@@ P@@ ack@@ age@@ ()) == (org.ovirt.engine.api.model.@@ Base@@ Resource@@ .@@ class@@ .get@@ P@@ ack@@ age@@ ())) { m@@ ethod@@ s.add(@@ m@@ ethod@@ ); } } } org.ovirt.engine.api.@@ utils.@@ Link@@ Helper.@@ m@@ ethod@@ C@@ ach@@ e.@@ put(@@ cl@@ z@@ , m@@ eth@@ o@@ ds@@ ); return m@@ eth@@ o@@ ds@@ ; }
@org.junit.Test public void sub@@ m@@ it@@ F@@ ull@@ Fail@@ ure@@ No@@ R@@ e@@ try@@ () { boolean g@@ ot@@ Exception = false@@ ; pre@@ par@@ e@@ Mock@@ s(@@ run@@ n@@ able@@ Cre@@ ator@@ , false@@ , 0@@ ); try { l@@ at@@ ched@@ Run@@ n@@ able@@ Execu@@ t@@ er.@@ execute@@ (); } catch (java.util.@@ con@@ c@@ urr@@ ent.@@ Re@@ j@@ ected@@ Execution@@ Exception e) { g@@ ot@@ Exception = true@@ ; } assert@@ True@@ ("@@ exp@@ ected Re@@ j@@ ected@@ Execution@@ Exception w@@ as@@ n@@ '@@ t throw@@ n@@ ", g@@ ot@@ Exception@@ ); assert@@ Equals@@ ("@@ the c@@ oun@@ te@@ r w@@ a@@ s in@@ c@@ rem@@ en@@ te@@ d m@@ or@@ e time@@ s th@@ e@@ n exp@@ ected@@ ", 0@@ , c@@ oun@@ ter@@ .@@ int@@ Value@@ ()); ve@@ r@@ if@@ y@@ (@@ l@@ at@@ ched@@ Run@@ n@@ able@@ Execu@@ ter@@ , ne@@ ver@@ ()).@@ p@@ er@@ for@@ m@@ S@@ le@@ ep@@ (); assert@@ Equals@@ ("@@ l@@ at@@ ch c@@ oun@@ te@@ r w@@ as@@ n@@ '@@ t in the exp@@ ected value@@ ", org.ovirt.engine.core.utils.@@ th@@ read@@ .@@ L@@ at@@ ched@@ Run@@ n@@ able@@ W@@ rap@@ per@@ Test.@@ TH@@ RE@@ AD@@ S_@@ N@@ U@@ M@@ B@@ ER@@ , l@@ atch@@ .get@@ Count@@ ()); ve@@ r@@ if@@ y@@ C@@ ommon@@ Fail@@ ure@@ Check@@ s(); }
@java.lang.Override protected void te@@ a@@ r@@ do@@ wn@@ () { org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ execute@@ ((@@ ) -@@ > { int s@@ le@@ ep@@ Time@@ In@@ Se@@ c = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Server@@ R@@ eb@@ oot@@ Time@@ out@@ ); org.ovirt.engine.core.bll.@@ p@@ m.@@ log.info@@ ("@@ W@@ a@@ it@@ ing {@@ } s@@ ec@@ on@@ ds@@ , for ser@@ ve@@ r to fin@@ is@@ h b@@ oo@@ t pro@@ cess@@ .@@ ", s@@ le@@ ep@@ Time@@ In@@ Sec@@ ); org.ovirt.engine.core.utils.@@ Th@@ read@@ Utils.@@ s@@ le@@ ep@@ (@@ Time@@ Un@@ it.@@ S@@ EC@@ ON@@ D@@ S@@ .@@ to@@ M@@ il@@ lis@@ (s@@ le@@ ep@@ Time@@ In@@ Sec@@ )); if (get@@ Parameters@@ ().is@@ Change@@ Host@@ To@@ M@@ a@@ int@@ en@@ ance@@ On@@ Start@@ ()) { set@@ Status(@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ ); } else { set@@ Status(@@ VDS@@ Status.@@ Non@@ Respon@@ si@@ ve@@ ); } }); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Gluster@@ Brick@@ s brick@@ s) { validate@@ Parameters(@@ brick@@ , "@@ server@@ Id@@ ", "@@ brick@@ D@@ ir@@ "); }
@java.lang.Override protected org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent network@@ Attachment@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source m@@ app@@ er = create@@ Id@@ Parameter@@ Map@@ per@@ (network@@ Attachm@@ ent.get@@ Id@@ ()).addValue("@@ network@@ _id", network@@ Attachm@@ ent.get@@ Network@@ Id@@ ()).addValue("@@ nic@@ _id", network@@ Attachm@@ ent.get@@ Nic@@ Id@@ ()).addValue("@@ c@@ ustom@@ _@@ proper@@ ties@@ ", org.ovirt.engine.core.utils.@@ Ser@@ ial@@ ization@@ Fac@@ t@@ ory@@ .get@@ Ser@@ ial@@ iz@@ er@@ ().@@ ser@@ ial@@ iz@@ e(@@ network@@ Attachm@@ ent.get@@ Properties@@ ())); org.ovirt.engine.core.common.businessentities.network.@@ Ip@@ Configur@@ ation ip@@ Configur@@ ation = network@@ Attachm@@ ent.get@@ Ip@@ Configuration@@ (); if (@@ ip@@ Configur@@ ation != null@@ ) { m@@ app@@ er.@@ addValue("@@ b@@ oot@@ _@@ prot@@ oc@@ ol@@ ", org.ovirt.engine.core.common.utils.@@ Enum@@ Utils.@@ name@@ Or@@ Null@@ (@@ ip@@ Configuration@@ .get@@ Boot@@ Protocol@@ ())@@ ).@@ addValue("@@ add@@ ress@@ ", ip@@ Configuration@@ .get@@ Address@@ ()).addValue("@@ net@@ m@@ ask@@ ", ip@@ Configuration@@ .get@@ N@@ et@@ m@@ ask@@ ()).addValue("@@ g@@ ate@@ w@@ ay@@ ", ip@@ Configuration@@ .get@@ G@@ ate@@ w@@ ay@@ ()); } return map@@ per@@ ; }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ Async@@ VDS@@ Command.get@@ Broker@@ ().get@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ (@@ new Get@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ VDSCommand@@ Callback@@ ()); }
public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Buil@@ der create@@ Vm@@ Info@@ Builder@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , org.ovirt.engine.core.compat.Guid vds@@ Id, java.util.Map<java.lang.String, java.lang.Object> create@@ Info@@ ) { return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Builder@@ (vm@@ , vds@@ Id, create@@ Info@@ , vds@@ Numa@@ Node@@ Dao@@ , vm@@ Device@@ Dao@@ , vm@@ Numa@@ Node@@ Dao@@ , vm@@ Info@@ Buil@@ d@@ Util@@ s); }
@java.lang.Override public void on@@ Sel@@ ection@@ Chang@@ e(@@ com.google.gwt.@@ view@@ .client.@@ Sel@@ ection@@ Change@@ Event event@@ ) { this@@ .@@ shared@@ MacPool@@ Model@@ Provi@@ der.@@ set@@ SelectedItem@@ s(@@ m@@ ac@@ Pool@@ T@@ abl@@ e.get@@ SelectedItem@@ s()); }
public org.ovirt.engine.core.bll.ValidationResult im@@ ages@@ A@@ re@@ Snapshot@@ s() { java.util.List<java.lang.String> ac@@ tive@@ Snapshot@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image : im@@ ages@@ ) { if (disk@@ Image.get@@ Active@@ ()) { ac@@ tive@@ Snapshot@@ s.add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s (@@ %@@ s@@ )@@ ", disk@@ Image.get@@ Image@@ Id().@@ toString@@ (), disk@@ Image.get@@ Disk@@ Alias@@ ())); } } if (!(@@ ac@@ tive@@ Snapshot@@ s.@@ isEmpty@@ ())) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ S@@ NA@@ P@@ S@@ HO@@ T@@ S_@@ AC@@ TI@@ V@@ E, java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ disk@@ Snapshot@@ Id@@ s %@@ s", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ ac@@ tive@@ Snapshot@@ s, ", "@@ ))); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
private void pro@@ cess@@ Un@@ rem@@ oved@@ Disk@@ s(@@ java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ Images@@ ) { java.util.List<java.lang.String> disk@@ s@@ Le@@ f@@ t@@ In@@ V@@ m = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image : disk@@ Images@@ ) { disk@@ s@@ Le@@ f@@ t@@ In@@ Vm@@ .@@ add(@@ disk@@ Image.get@@ Disk@@ Alias@@ ()); } add@@ Custom@@ Value("@@ Disks@@ Names@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (disk@@ s@@ Le@@ f@@ t@@ In@@ Vm@@ , "@@ ,@@ ")); }
public static org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic build@@ VM@@ Dynamic@@ Data@@ (@@ java.util.Map<java.lang.String, java.lang.Object> x@@ mlR@@ pc@@ Str@@ uc@@ t@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ ynam@@ ic = new org.ovirt.engine.core.common.businessentities.Vm@@ Dynamic@@ (); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ update@@ VM@@ Dynamic@@ Data@@ (vm@@ d@@ ynam@@ ic@@ , x@@ mlR@@ pc@@ Str@@ uc@@ t@@ ); return vm@@ d@@ ynam@@ ic@@ ; }
@java.lang.Override public void onSuccess@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ List@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid> vm@@ Id@@ s = get@@ Af@@ finity@@ Group@@ ().getEntity@@ Id@@ s(); get@@ Vms@@ Sel@@ ection@@ Model@@ ().@@ init@@ (vm@@ List@@ , (vm@@ Id@@ s != null ? vm@@ Id@@ s : new java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid@@ >@@ ())); st@@ op@@ Progress@@ (); }
public static <@@ E extends java.lang.@@ Enum@@ <@@ E@@ >> E value@@ Of@@ (java.lang.@@ Class@@ <@@ E@@ > c@@ , java.lang.String name@@ , boolean ign@@ or@@ e@@ case@@ ) { if (!@@ ign@@ or@@ e@@ case@@ ) { return java.lang.@@ Enum@@ .@@ <@@ E@@ >@@ value@@ Of@@ (c@@ , name@@ ); } E@@ [@@ ] un@@ i@@ ver@@ se = c@@ .get@@ Enum@@ Constant@@ s(); if (@@ un@@ i@@ ver@@ se == null@@ ) { throw new java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ nam@@ e + " is not an enum type@@ ")); } java.util.Map<java.lang.String, E@@ > ma@@ p = org.ovirt.engine.core.common.utils.@@ Enum@@ Utils.@@ c@@ ach@@ e@@ Enum@@ Valu@@ es@@ In@@ C@@ ap@@ it@@ al@@ L@@ et@@ t@@ ers@@ .get@@ (c@@ ); if (m@@ a@@ p == null@@ ) { ma@@ p = new java.util.HashMap<@@ >@@ ((@@ 2 * (@@ un@@ i@@ ver@@ s@@ e.@@ l@@ ength@@ ))); for (@@ E e : un@@ i@@ ver@@ se@@ ) { map@@ .@@ put(@@ e.@@ name@@ ().@@ to@@ Up@@ per@@ C@@ ase@@ (), e); } org.ovirt.engine.core.common.utils.@@ Enum@@ Utils.@@ c@@ ach@@ e@@ Enum@@ Valu@@ es@@ In@@ C@@ ap@@ it@@ al@@ L@@ et@@ ter@@ s.@@ put@@ (c@@ , map@@ ); } E result = map@@ .get(@@ nam@@ e.@@ to@@ Up@@ per@@ C@@ ase@@ ()); if (@@ result == null@@ ) { throw new java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((((@@ "@@ N@@ o enum " + (c@@ .getName@@ ())) + "@@ .@@ ") + name@@ )); } return result@@ ; }
private boolean check@@ D@@ er@@ i@@ v@@ ed@@ Vm@@ From@@ Template@@ Exist@@ s@@ (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image@@ ) { java.util.List<java.lang.String> vm@@ Name@@ s = get@@ Names@@ Of@@ D@@ er@@ i@@ v@@ ed@@ Vms@@ From@@ Template@@ (disk@@ Image@@ ); if (!@@ (vm@@ Nam@@ es.@@ isEmpty@@ ())) { addCanDoActionMessage@@ (EngineMessage.@@ VM@@ T_@@ C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ D@@ ET@@ EC@@ T@@ ED_@@ D@@ ER@@ I@@ V@@ ED_@@ VM@@ ); addCanDoActionMessage@@ Var@@ i@@ able@@ ("@@ vm@@ s@@ List@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (vm@@ Names@@ , "@@ ,@@ ")); return false@@ ; } return true@@ ; }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not rem@@ ov@@ e Data C@@ en@@ te@@ r while th@@ er@@ e ar@@ em@@ or@@ e th@@ an on@@ e Stor@@ age Domain@@ s attach@@ ed@@ .@@ ") java.lang.String ER@@ R@@ OR@@ _C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ STORAGE_@@ P@@ O@@ OL@@ _@@ W@@ I@@ TH@@ _@@ DOMA@@ IN@@ S@@ ();
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ STORAGE_@@ _@@ DOMA@@ IN@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ DE@@ AC@@ TI@@ V@@ AT@@ E); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapping@@ (@@ f@@ ro@@ m = Vm@@ R@@ ng@@ Devic@@ e.@@ Source@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ R@@ ng@@ S@@ ourc@@ es@@ .@@ class@@ ) public static java.util.List<java.lang.String> map@@ R@@ ng@@ S@@ ourc@@ es(@@ java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ R@@ ng@@ Devic@@ e.@@ Source@@ > entity@@ ) { java.util.List<java.lang.String> result = new java.util.ArrayList<@@ >@@ (@@ 1@@ ); if (@@ enti@@ ty != null@@ ) { for (org.ovirt.engine.core.common.businessentities.Vm@@ R@@ ng@@ Devic@@ e.@@ Source s@@ ource : entity@@ ) { org.ovirt.engine.api.model.@@ R@@ ng@@ Source res@@ t@@ Source = org.ovirt.engine.api.restapi.@@ types.@@ R@@ ng@@ Device@@ Mapper.@@ map@@ (s@@ ource@@ , null@@ ); result.@@ add(@@ res@@ t@@ S@@ ource.@@ name@@ ()); } } return result@@ ; }
public void init@@ () { java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ > parameter@@ s = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s : vds@@ Dao.get@@ All@@ ()) { if (@@ vds.get@@ Status@@ ().@@ equals(@@ VDS@@ Status.@@ Up@@ )) { parameter@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.action.@@ Vds@@ Action@@ Parameters(@@ vds@@ .getId@@ ())); } } back@@ end@@ .@@ run@@ Internal@@ Multiple@@ Action@@ s(@@ Vdc@@ ActionType.@@ Re@@ fresh@@ Host@@ Devices@@ , parameters@@ ); cl@@ e@@ an@@ up@@ Down@@ Vms@@ From@@ Device@@ T@@ able@@ (); }
public void remove@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ remove@@ DataCenter@@ Title@@ ()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ remove@@ _@@ data@@ _@@ c@@ enter@@ ); model.set@@ Hash@@ Name@@ ("@@ remove@@ _@@ data@@ _@@ c@@ enter@@ "); java.util.ArrayList<@@ java.lang.String> lis@@ t = new java.util.ArrayList<@@ java.lang.String@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Pool a a a : org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ <org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ >@@ c@@ ast@@ (get@@ SelectedItem@@ s@@ ())) { lis@@ t.@@ add(@@ a@@ .get@@ Name()); } model.set@@ Items(@@ list@@ ); org.ovirt.engine.ui.uicommonweb.UICommand temp@@ V@@ a@@ r = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ Remove@@ ", this@@ ); tempVar@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ o@@ k@@ ()); tempVar@@ .set@@ Is@@ Default@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ ); org.ovirt.engine.ui.uicommonweb.UICommand tempVar@@ 2 = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ ", this@@ ); tempVar@@ 2@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ cancel@@ ()); tempVar@@ 2@@ .set@@ Is@@ Cancel@@ (@@ true@@ ); model.get@@ Command@@ s().@@ add(@@ tempVar@@ 2@@ ); }
private boolean no@@ Chang@@ es@@ Det@@ ected@@ () { return ((@@ (get@@ Network@@ s().@@ isEmpty@@ ()) && (get@@ Rem@@ oved@@ Network@@ s().@@ isEmpty@@ ())) && (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Host@@ SetupNetworks@@ Command.getParameters().get@@ Bon@@ ds@@ ().is@@ Empty@@ ())) && (get@@ Rem@@ oved@@ Bon@@ ds@@ ().is@@ Empty@@ ()); }
private void end@@ Default@@ Operation@@ s() { end@@ Template@@ R@@ el@@ ated@@ Operation@@ s(); end@@ Un@@ lock@@ R@@ el@@ ated@@ Operation@@ s(); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Im@@ por@@ t Vir@@ tu@@ al M@@ ach@@ in@@ e(@@ s@@ )@@ ") java.lang.String import@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ es@@ Title@@ ();
public java.lang.String get@@ Num@@ ber@@ Of@@ Vms@@ () { return num@@ ber@@ Of@@ Vm@@ s); }
@java.lang.Override public void do@@ Filter@@ (@@ javax.@@ servlet@@ .@@ Servlet@@ Re@@ quest request@@ , javax.@@ servlet@@ .@@ Servlet@@ Respon@@ se respon@@ se@@ , javax.@@ servlet@@ .@@ Filter@@ Ch@@ ain ch@@ ain@@ ) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ servlet@@ .@@ Servlet@@ Exception { log.debug@@ ("@@ En@@ ter@@ ed S@@ s@@ o@@ P@@ ost@@ Lo@@ gin@@ Filter@@ "); javax.@@ servlet@@ .@@ http@@ .@@ Http@@ Servlet@@ Re@@ quest re@@ q = ((@@ javax.@@ servlet@@ .@@ http@@ .@@ Http@@ Servlet@@ Request@@ ) (@@ request@@ )); try { java.lang.String engin@@ e@@ Session@@ Id = ((@@ java.lang.String@@ ) (@@ re@@ q@@ .get@@ Att@@ ri@@ bu@@ te@@ (@@ Session@@ Constants.@@ H@@ T@@ T@@ T@@ P@@ _S@@ ES@@ SI@@ ON_@@ EN@@ G@@ IN@@ E_@@ S@@ ES@@ SI@@ ON_@@ ID@@ _@@ K@@ E@@ Y@@ ))); if ((@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ engin@@ e@@ Session@@ Id@@ )) && ((@@ re@@ q@@ .get@@ Session@@ (@@ false@@ )) != null@@ )) { engin@@ e@@ Session@@ Id = ((@@ java.lang.String@@ ) (@@ re@@ q@@ .get@@ Session@@ (@@ false@@ ).get@@ Att@@ ri@@ bu@@ te@@ (@@ Session@@ Constants.@@ H@@ T@@ P@@ _S@@ ES@@ SI@@ ON_@@ EN@@ G@@ IN@@ E_@@ S@@ ES@@ SI@@ ON_@@ ID@@ _@@ K@@ E@@ Y@@ ))); } if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ engin@@ e@@ Session@@ Id@@ )) { javax.@@ nam@@ ing.@@ In@@ itial@@ Contex@@ t c@@ t@@ x = new javax.@@ nam@@ ing.@@ In@@ itial@@ Context@@ (); try { java.lang.String ss@@ o@@ To@@ ke@@ n = ((@@ java.lang.String@@ ) (@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Engine@@ Session@@ Id@@ To@@ k@@ en@@ , engin@@ e@@ Session@@ Id, c@@ t@@ x@@ ))); java.lang.Object log@@ ged@@ In@@ Us@@ er = run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ User@@ By@@ Session@@ Id, engin@@ e@@ Session@@ Id, c@@ t@@ x@@ ); if (@@ log@@ ged@@ In@@ Us@@ er != null@@ ) { log.debug@@ ("@@ Add@@ ing user@@ In@@ fo to s@@ ession@@ "); re@@ q@@ .get@@ Session@@ (@@ true@@ )@@ .set@@ Att@@ ri@@ bu@@ te@@ (@@ org.ovirt.engine.core.@@ aaa.@@ filter@@ s.@@ S@@ s@@ o@@ P@@ ost@@ Lo@@ gin@@ Fil@@ t@@ er.@@ AT@@ T@@ R@@ _@@ US@@ ER_@@ IN@@ F@@ O@@ , get@@ User@@ Info@@ Object@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ User@@ ) (@@ log@@ ged@@ In@@ User@@ )@@ ), ss@@ o@@ To@@ k@@ en@@ )); } else { log.@@ w@@ ar@@ n@@ ("@@ Fail@@ ed to fin@@ d log@@ g@@ ed us@@ er b@@ y s@@ ession@@ Id@@ "); } ch@@ ain@@ .@@ do@@ Filter@@ (@@ request@@ , respon@@ se@@ ); } final@@ l@@ y { c@@ t@@ x.@@ c@@ lo@@ se@@ (); } } else { log.@@ w@@ ar@@ n@@ ((@@ "@@ M@@ is@@ s@@ ing s@@ ing s@@ ession@@ Id in e@@ ith@@ er re@@ quest re@@ quest re@@ quest s@@ ec@@ P@@ ost@@ P@@ ost@@ P@@ ost@@ P@@ ost@@ P@@ ost@@ P@@ ost@@ P@@ ost@@ P@@ ost@@ S@@ s@@ l@@ y { proper@@ ty@@ (@@ engin@@ e@@ P@@ ost@@ S@@ s@@ o@@ (); } } catch (@@ java.lang.Exception ex@@ ) { log.error("@@ Ex@@ it@@ ing s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n = ex@@ .get@@ S@@ s@@ o@@ u@@ n s@@ o@@ u@@ n s@@ u@@ n s@@ o@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n s@@ u@@ n = ex@@ .get@@ Message@@ (); } } } } }
@org.junit.Test public void name@@ In@@ U@@ se@@ () { create@@ S@@ im@@ ple@@ Command@@ (); create@@ Command@@ With@@ D@@ if@@ fer@@ ent@@ Name@@ (); canDoAction@@ Fail@@ ed@@ With@@ Reason@@ (EngineMessage.@@ VDS@@ _@@ G@@ RO@@ UP@@ _C@@ ANNOT_@@ DO@@ _@@ ACTION_@@ NAM@@ E_@@ IN_@@ US@@ E); }
@org.junit.Test public void shoul@@ d@@ Check@@ If@@ M@@ i@@ x@@ ed@@ Host@@ Os@@ Is@@ Allow@@ ed@@ () { create@@ Command@@ With@@ Default@@ VdsGroup@@ (); old@@ Group@@ Is@@ Det@@ ach@@ ed@@ Default@@ (); cpu@@ Exist@@ s(); arch@@ it@@ ect@@ ure@@ Is@@ Up@@ dat@@ able@@ (); cmd@@ .get@@ VdsGroup@@ ().set@@ Cluster@@ Policy@@ Id(@@ Cluster@@ Policy@@ .@@ UP@@ G@@ R@@ AD@@ E_@@ P@@ OL@@ IC@@ Y_@@ G@@ UID@@ ); cmd@@ .get@@ VdsGroup@@ ().set@@ CompatibilityVersion@@ (org.ovirt.engine.core.bll.@@ Update@@ VdsGroup@@ Command@@ Test.@@ V@@ ER@@ SI@@ ON_@@ 1@@ _@@ 2@@ ); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); ve@@ r@@ if@@ y@@ (in@@ Cluster@@ Up@@ gr@@ ade@@ Validator@@ , tim@@ es(@@ 0@@ )).@@ is@@ Up@@ gr@@ ade@@ P@@ os@@ si@@ bl@@ e(@@ any@@ List@@ (), any@@ List@@ ()); ve@@ r@@ if@@ y@@ (in@@ Cluster@@ Up@@ gr@@ ade@@ Validator@@ , tim@@ es(@@ 0@@ )).@@ is@@ Up@@ gr@@ ade@@ D@@ on@@ e(@@ any@@ List@@ ()); }
@org.junit.Test public void c@@ al@@ c@@ ul@@ ate@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s@@ Network@@ Qos@@ Out@@ Of@@ Sync@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ac@@ e = create@@ Network@@ Device@@ (); org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ o@@ S q@@ o@@ s = create@@ Qos@@ (); q@@ o@@ s.set@@ Out@@ b@@ ound@@ A@@ ver@@ age@@ (@@ 3@@ 0@@ ); q@@ o@@ s.set@@ Out@@ b@@ ound@@ P@@ e@@ a@@ k@@ (@@ 3@@ 0@@ ); q@@ o@@ s.set@@ Out@@ b@@ ound@@ B@@ ur@@ st@@ (@@ 3@@ 0@@ ); c@@ al@@ c@@ ul@@ ate@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s@@ And@@ As@@ sert@@ Sync@@ (@@ if@@ ace@@ , false@@ , if@@ ac@@ e.@@ is@@ B@@ rid@@ ged@@ (), if@@ ac@@ e.get@@ M@@ tu@@ (), if@@ ac@@ e.get@@ V@@ lan@@ Id(), q@@ os@@ ); }
java.lang.String Vds@@ Sp@@ m@@ Status@@ __@@ _@@ F@@ OR@@ EM@@ AN@@ ();
@java.lang.Override protected void initial@@ ize@@ Model@@ Handl@@ ers@@ () { super@@ .@@ initial@@ ize@@ Model@@ Handl@@ ers@@ (); getModel().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if ((@@ ("@@ Cpu@@ Us@@ age@@ "@@ .equals(@@ pro@@ p@@ Name@@ )) || ("@@ Memory@@ Us@@ age@@ "@@ .equals(@@ pro@@ p@@ Name@@ ))) { org.ovirt.engine.ui.@@ user@@ port@@ al.@@ uic@@ ommon.@@ model.@@ vm@@ .@@ Vm@@ Monitor@@ Value@@ Change@@ Ev@@ ent.@@ fi@@ re@@ (get@@ Event@@ B@@ us@@ ()); } } }); }
@org.junit.Test public void test@@ Get@@ Plug@@ ged@@ For@@ Mac@@ () throw@@ s java.lang.Exception { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > result = d@@ ao@@ .get@@ Plug@@ ged@@ For@@ Mac@@ (@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ SS@@ ); for (org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic vm@@ Network@@ Interface : result) { assert@@ Equals@@ (@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ SS@@ , vm@@ Network@@ Interfac@@ e.get@@ Mac@@ Address@@ ()); } }
public boolean is@@ S@@ m@@ t@@ p@@ En@@ c@@ r@@ yp@@ tion@@ Option@@ Valid@@ () { return ((@@ is@@ S@@ m@@ t@@ p@@ En@@ c@@ r@@ yp@@ tion@@ N@@ one@@ ()) || (is@@ S@@ m@@ t@@ p@@ En@@ c@@ r@@ yp@@ tion@@ S@@ s@@ l@@ ())) || (is@@ S@@ m@@ t@@ p@@ En@@ c@@ r@@ yp@@ tion@@ T@@ l@@ s()); }
private void save@@ De@@ fa@@ ul@@ ted@@ Storage@@ Properties@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model model, org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ Static@@ ) { storageDomain@@ Static@@ .set@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e(@@ model.get@@ W@@ ip@@ e@@ Af@@ ter@@ Delet@@ e@@ ().getEntity@@ ()); storageDomain@@ Static@@ .set@@ Dis@@ c@@ ard@@ Af@@ ter@@ Delet@@ e(@@ model.get@@ Dis@@ c@@ ard@@ Af@@ ter@@ Delet@@ e@@ ().getEntity@@ ()); storageDomain@@ Static@@ .set@@ W@@ arning@@ L@@ ow@@ Sp@@ ace@@ In@@ d@@ ic@@ ator@@ (model.get@@ W@@ arning@@ L@@ ow@@ Sp@@ ace@@ In@@ d@@ ic@@ ator@@ ().getEntity@@ ()); storageDomain@@ Static@@ .set@@ C@@ ri@@ tic@@ al@@ Sp@@ ace@@ Action@@ B@@ lock@@ er@@ (model.get@@ C@@ ri@@ tic@@ al@@ Sp@@ ace@@ Action@@ B@@ lock@@ er@@ ().getEntity@@ ()); storageDomain@@ Static@@ .set@@ Back@@ up@@ (m@@ odel.@@ is@@ Back@@ up@@ ().getEntity@@ ()); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ To@@ g@@ g@@ l@@ e F@@ ull S@@ c@@ re@@ en@@ ") java.lang.String t@@ og@@ g@@ le@@ F@@ ull@@ S@@ c@@ re@@ en@@ ();
public int get@@ H@@ ig@@ h@@ ly@@ Available@@ S@@ cor@@ e@@ () { return vds@@ Statistic@@ s.get@@ H@@ ig@@ h@@ ly@@ Available@@ S@@ cor@@ e@@ (); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity de@@ vice@@ Entity@@ ) { return de@@ vice@@ Entity@@ .get@@ VmDevice@@ ().get@@ Address@@ (); }
private void set@@ Cluster@@ Id@@ () { if ((org.ovirt.engine.core.bll.@@ gluster.GlusterVolume@@ CommandBase.get@@ GlusterVolume@@ ()) != null@@ ) { set@@ VdsGroup@@ Id@@ (org.ovirt.engine.core.bll.@@ gluster.GlusterVolume@@ CommandBase.get@@ GlusterVolume@@ ().get@@ Cluster@@ Id()); } }
public java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > load@@ VM@@ s(@@ java.lang.String fi@@ xt@@ ure@@ Name, java.util.Map<@@ org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ <@@ org.ovirt.engine.core.compat.Guid@@ >> c@@ ach@@ e) throw@@ s java.io.@@ I@@ O@@ Exception@@ , java.lang.@@ I@@ l@@ le@@ g@@ al@@ Ac@@ cess@@ Exception@@ , java.lang.@@ In@@ stan@@ ti@@ ation@@ Exception@@ , java.lang.@@ N@@ oS@@ u@@ ch@@ Fiel@@ d@@ Exception@@ , java.lang.@@ N@@ oS@@ u@@ ch@@ Method@@ Exception@@ , java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ In@@ vo@@ c@@ ation@@ T@@ arget@@ Exception { return load@@ Enti@@ ties@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ , fi@@ xt@@ ure@@ Name, c@@ ach@@ e); }
@org.junit.Test public void test@@ G@@ u@@ est@@ F@@ Q@@ D@@ N@@ () { org.ovirt.engine.core.common.businessentities.VM vm = new org.ovirt.engine.core.common.businessentities.@@ VM@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ Dynam@@ ic = new org.ovirt.engine.core.common.businessentities.Vm@@ Dynamic@@ (); vm@@ Dynamic@@ .set@@ Status(@@ VMStatus.@@ Up@@ ); vm@@ Dynamic@@ .set@@ Vm@@ F@@ Q@@ D@@ N@@ ("@@ local@@ host.@@ loc@@ al@@ do@@ m@@ ain@@ "); vm@@ .set@@ Dynamic@@ Data@@ (vm@@ Dynamic@@ ); org.ovirt.engine.api.model.@@ V@@ m ma@@ p = org.ovirt.engine.api.restapi.@@ types.@@ Vm@@ Mapper.@@ map@@ (vm@@ , ((@@ org.ovirt.engine.api.model.@@ Vm@@ ) (@@ null@@ ))); assert@@ Not@@ Null@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ F@@ q@@ d@@ n@@ ()); assert@@ Equals@@ (m@@ ap@@ .get@@ G@@ u@@ est@@ Info@@ ().get@@ F@@ q@@ d@@ n@@ (), "@@ local@@ host.@@ loc@@ al@@ do@@ m@@ ain@@ "); }
private boolean update@@ Iso@@ List@@ From@@ VDS@@ M@@ (org.ovirt.engine.core.compat.Guid re@@ p@@ o@@ StoragePool@@ Id, org.ovirt.engine.core.compat.Guid re@@ p@@ o@@ StorageDomain@@ Id) { boolean re@@ fresh@@ Iso@@ Suc@@ cee@@ de@@ d = false@@ ; if (@@ re@@ p@@ o@@ StorageDomain@@ Id != null@@ ) { try { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ Run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Iso@@ List@@ , new org.ovirt.engine.core.common.vdscommands.@@ I@@ r@@ s@@ Base@@ VDSCommand@@ Parameters(@@ re@@ p@@ o@@ StoragePool@@ Id@@ )); @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") java.util.@@ Map is@@ o@@ Domain@@ List = ((@@ java.util.@@ Map@@ ) (@@ return@@ Value.get@@ ReturnValue@@ ())); if (@@ return@@ Value.get@@ Succeeded@@ ()) && (is@@ o@@ Domain@@ List != null@@ )) { org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ log.debug@@ Format@@ ("@@ Th@@ e re@@ f@@ res@@ h pro@@ c@@ es@@ s f@@ ro@@ m VDS@@ M@@ , for Is@@ o fil@@ es s@@ uc@@ ceeded@@ .@@ "); re@@ fresh@@ Iso@@ Suc@@ cee@@ de@@ d = org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ re@@ fresh@@ Iso@@ File@@ List@@ M@@ et@@ a@@ Data@@ (@@ re@@ p@@ o@@ StorageDomain@@ Id, re@@ p@@ o@@ Storage@@ D@@ om@@ , is@@ o@@ Domain@@ List@@ , Image@@ File@@ Type.@@ IS@@ O@@ ); } } catch (@@ java.lang.Exception e) { re@@ fresh@@ Iso@@ Suc@@ cee@@ de@@ d = false@@ ; org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ log.@@ w@@ ar@@ n@@ Format@@ ("@@ Th@@ e re@@ f@@ res@@ h pro@@ c@@ es@@ s f@@ ro@@ m VDS@@ M@@ , for Is@@ o fil@@ es fail@@ ed@@ .@@ "); org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ log.error@@ (@@ e); } } return re@@ fresh@@ Iso@@ Succeeded@@ ; }
@java.lang.Override public void test@@ Connection@@ () { org.apache.commons.@@ http@@ client.@@ Http@@ M@@ eth@@ o@@ d http@@ M@@ eth@@ o@@ d = new org.apache.commons.@@ http@@ client.@@ m@@ ethod@@ s.@@ Get@@ Method@@ (((@@ host@@ Provider@@ .get@@ U@@ r@@ l@@ ()) + (org.ovirt.engine.core.bll.@@ host.@@ provider@@ .@@ for@@ em@@ an@@ .@@ For@@ em@@ an@@ Host@@ Provider@@ Proxy@@ .@@ A@@ P@@ I@@ _@@ EN@@ T@@ R@@ Y_@@ P@@ O@@ IN@@ T@@ ))); run@@ Http@@ Method@@ (@@ http@@ Client@@ , http@@ Method@@ ); }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") public static <@@ E@@ > org.ovirt.engine.api.restapi.resource.@@ validation.@@ Validator@@ <@@ E@@ > get@@ Validator@@ (java.lang.@@ Class@@ <@@ E@@ > entity@@ Type@@ ) { return ((@@ org.ovirt.engine.api.restapi.resource.@@ validation.@@ Validator@@ Loc@@ ator.@@ valid@@ ator@@ s.get@@ (@@ entity@@ Type@@ ))); }
protected org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > get@@ Command@@ (org.ovirt.engine.core.compat.Guid cmd@@ Id) { return org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ ret@@ ri@@ e@@ ve@@ Command@@ (cmd@@ Id); }
private org.ovirt.engine.core.bll.ValidationResult valid@@ Rem@@ oved@@ NetworkAttachment@@ s() { org.ovirt.engine.core.bll.ValidationResult v@@ r = org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; java.util.@@ I@@ ter@@ ator@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ > iter@@ ator = param@@ s.get@@ Rem@@ oved@@ NetworkAttachment@@ s().@@ iter@@ ator@@ (); while ((@@ iter@@ ator.@@ has@@ N@@ ext@@ ()) && (@@ v@@ r@@ .is@@ Valid@@ ())) { org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent attach@@ ment@@ To@@ Valid@@ ate = attach@@ ment@@ sBy@@ Id@@ .get(@@ attach@@ m@@ ent.get@@ Id()); org.ovirt.engine.core.bll.validator.@@ NetworkAttachment@@ Validator valid@@ ator = create@@ NetworkAttachment@@ Validator@@ (@@ attach@@ ment@@ ); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validator.@@ network@@ Attachment@@ Is@@ Set@@ (); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validator.@@ not@@ External@@ Network@@ (); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validator.@@ network@@ Exist@@ s(); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validator.@@ not@@ External@@ Network@@ (); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validator.@@ not@@ Rem@@ ov@@ ing@@ Label@@ ed@@ Network@@ s(@@ attach@@ ment@@ , get@@ Existing@@ I@@ fac@@ es@@ ())@@ ))) { v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r : validator.@@ validate@@ G@@ ate@@ w@@ ay@@ (); v@@ r = (s@@ k@@ ip@@ Validation@@ (@@ v@@ r@@ )) ? v@@ r
@java.lang.Override protected void execute@@ Command() { set@@ Vds@@ Id@@ (get@@ Parameters().get@@ Vds@@ Id()); org.ovirt.engine.core.common.action.@@ Vds@@ Action@@ Parameters vds@@ Action@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Vds@@ Action@@ Parameters@@ (get@@ Vds@@ Id()); boolean s@@ uc@@ cee@@ de@@ d = run@@ Internal@@ Action(VdcActionType.@@ Re@@ fresh@@ Host@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ , vds@@ Action@@ Param@@ s@@ ).get@@ Succeeded@@ (); if (s@@ uc@@ ceeded@@ ) { s@@ uc@@ cee@@ de@@ d = run@@ Internal@@ Action(VdcActionType.@@ Re@@ fresh@@ Host@@ Devices@@ , vds@@ Action@@ Param@@ s@@ ).get@@ Succeeded@@ (); } set@@ Succeeded@@ (s@@ uc@@ ceeded@@ ); }
@java.lang.Override protected void b@@ e@@ for@@ e@@ Execu@@ te@@ (java.lang.@@ Th@@ rea@@ d t@@ , java.lang.@@ Run@@ n@@ able r@@ ) { super@@ .@@ b@@ e@@ for@@ e@@ Execu@@ te@@ (@@ t@@ , r@@ ); java.lang.String th@@ read@@ Name = t.get@@ Name@@ (); if (!(@@ th@@ read@@ Nam@@ e.@@ st@@ art@@ sWith@@ ("@@ org.ovirt.@@ th@@ read@@ .@@ "@@ ))) { t.@@ set@@ Name@@ ((@@ "@@ org.ovirt.@@ th@@ read@@ .@@ " + th@@ read@@ Name@@ )); } if (@@ org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ log.@@ is@@ D@@ eb@@ u@@ g@@ Enabled@@ ()) { org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ log.debug@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ Ab@@ o@@ u@@ t to r@@ u@@ n t@@ as@@ k '@@ %@@ s@@ ' f@@ ro@@ m {}@@ ", r@@ .get@@ Class@@ ().get@@ Name@@ ()), new java.lang.@@ Exception@@ ()); } if ((get@@ Q@@ ue@@ ().@@ size()) > 5@@ ) { org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ log.@@ w@@ ar@@ n@@ ("@@ Execu@@ t@@ ing a c@@ ommand '{}@@ '@@ , bu@@ t not@@ e th@@ a@@ t th@@ er@@ e ar@@ e {@@ } task@@ s in the q@@ ue@@ u@@ e.@@ ", r@@ .get@@ Class@@ ().get@@ Name(), get@@ Q@@ ue@@ ().@@ size@@ ()); } }
private void pro@@ cess@@ H@@ e@@ art@@ b@@ eat@@ () { if ((@@ (!@@ (@@ this@@ .is@@ In@@ Init@@ ())) && (@@ this@@ .@@ p@@ olicy@@ .is@@ In@@ com@@ ing@@ H@@ e@@ art@@ b@@ eat@@ ())) && ((@@ (@@ this@@ .@@ l@@ ast@@ In@@ com@@ ing@@ H@@ e@@ art@@ b@@ eat@@ ) + (@@ this@@ .@@ p@@ olicy@@ .get@@ In@@ com@@ ing@@ H@@ e@@ art@@ b@@ eat@@ ())) < (java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ ()))) { org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ act@@ or@@ Cli@@ ent.@@ log.debug@@ ("@@ H@@ e@@ art@@ b@@ e@@ a@@ t ex@@ e@@ e@@ ded@@ . C@@ lo@@ s@@ ing ch@@ an@@ ne@@ l@@ "); this@@ .@@ dis@@ conn@@ ect@@ ("@@ H@@ e@@ art@@ b@@ e@@ a@@ t ex@@ e@@ e@@ ded@@ "); } }
protected boolean validate@@ StorageDomain@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > disk@@ s@@ List = get@@ Volum@@ es@@ For@@ Storage@@ Al@@ loc@@ ation@@ s(); org.ovirt.engine.core.bll.validator.@@ Multiple@@ StorageDomain@@ s@@ Validator storageDomain@@ s@@ Validator = get@@ StorageDomain@@ s@@ Validator@@ (org.ovirt.engine.core.bll.@@ Remove@@ Snapshot@@ Command.get@@ StoragePool@@ Id(), get@@ StorageDomain@@ s@@ Id@@ s()); return ((@@ validate@@ (@@ storageDomain@@ s@@ Validator.@@ all@@ Domain@@ s@@ Exist@@ And@@ Active@@ ())) && (@@ validate@@ (@@ storageDomain@@ s@@ Validator.@@ all@@ Domain@@ sWith@@ in@@ Th@@ resh@@ ol@@ ds@@ ()))) && (@@ validate@@ (@@ storageDomain@@ s@@ Validator.@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ Cl@@ on@@ ed@@ Disk@@ s(@@ disk@@ s@@ List@@ ))); }
public void set@@ Service@@ Name@@ (java.lang.String ser@@ vice@@ Name@@ ) { this@@ .@@ ser@@ vice@@ Name = ser@@ vice@@ Name@@ ; }
@java.lang.Override protected void end@@ With@@ Fail@@ ure@@ () { remove@@ Cinder@@ Disk@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ c@@ in@@ der.@@ Cl@@ one@@ Sing@@ le@@ Cinder@@ Disk@@ Command.getParameters().get@@ Dest@@ ination@@ Image@@ Id(), org.ovirt.engine.core.bll.storage.disk.@@ c@@ in@@ der.@@ Cl@@ one@@ Sing@@ le@@ Cinder@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id()); org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ update@@ Image@@ Status@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ c@@ in@@ der.@@ Cl@@ one@@ Sing@@ le@@ Cinder@@ Disk@@ Command.getParameters().get@@ Dest@@ ination@@ Image@@ Id(), Image@@ Status.@@ IL@@ LE@@ G@@ AL@@ ); org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ update@@ Image@@ Status@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ c@@ in@@ der.@@ Cl@@ one@@ Sing@@ le@@ Cinder@@ Disk@@ Command.getParameters().get@@ Image@@ Id(), Image@@ Status.@@ O@@ K@@ ); org.ovirt.engine.core.bll.storage.disk.@@ c@@ in@@ der.@@ Cl@@ one@@ Sing@@ le@@ Cinder@@ Disk@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override protected boolean validate@@ () { org.ovirt.engine.core.bll.validator.@@ Network@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ Network@@ Validator@@ (vm@@ Dao@@ , org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Remove@@ Network@@ Command.get@@ Network@@ Dao().get@@ (get@@ Network@@ ().get@@ Id@@ ())); org.ovirt.engine.core.bll.ValidationResult provider@@ ValidationRes@@ ult = validate@@ Remove@@ External@@ Network@@ (); return ((@@ (((@@ validate@@ (@@ validator.@@ network@@ Is@@ Set@@ (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Remove@@ Network@@ Command.getParameters().get@@ Id@@ ()))) && (@@ validate@@ (@@ validator.@@ not@@ Rem@@ ov@@ ing@@ Management@@ Network@@ ()))) && (@@ validate@@ (@@ validator.@@ not@@ Is@@ csi@@ Bond@@ Network@@ ()))) && (@@ validate@@ (@@ validator.@@ network@@ Not@@ Us@@ ed@@ By@@ Vms@@ ()))) && (@@ validate@@ (@@ validator.@@ network@@ Not@@ Us@@ ed@@ By@@ Templ@@ at@@ es@@ ()))) && (@@ validate@@ (@@ provider@@ ValidationRes@@ ult@@ )); }
private void update@@ Existing@@ And@@ New@@ Volum@@ es(@@ org.ovirt.engine.core.compat.Guid cluster@@ Id, java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ > volum@@ es@@ Map@@ ) { for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ > e@@ n@@ try : volum@@ es@@ Map.@@ e@@ n@@ try@@ Set@@ ()) { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volum@@ e = e@@ n@@ try@@ .get@@ Value@@ (); org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Manager.@@ log.debug@@ Format@@ ("@@ A@@ nal@@ y@@ z@@ ing volum@@ e {0@@ }@@ ", volum@@ e.get@@ Name()); org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity existing@@ Volum@@ e = org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Manager.@@ volume@@ Dao.get@@ By@@ Name@@ (cluster@@ Id, volum@@ e.get@@ Name()); if (@@ existing@@ Volum@@ e == null@@ ) { org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Manager.@@ log.info@@ Format@@ ("@@ Volum@@ e {0@@ } No@@ t p@@ res@@ ent in engin@@ e@@ . Cre@@ at@@ ing the s@@ am@@ e.@@ ", volum@@ e.get@@ Name()); create@@ Volum@@ e(@@ volume@@ ); } else { org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Manager.@@ log.debug@@ Format@@ ("@@ Volum@@ e {0@@ } ex@@ ist@@ s in engin@@ e@@ . Check@@ ing if i@@ t ne@@ ed@@ s to b@@ e update@@ d@@ .@@ ", existing@@ Volum@@ e.get@@ Name()); update@@ Volum@@ e(@@ existing@@ Volume@@ , volume@@ ); } } }
protected boolean set@@ And@@ Validate@@ Cpu@@ Profile@@ () { return validate@@ (org.ovirt.engine.core.bll.@@ profil@@ es.@@ Cpu@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Cpu@@ Profil@@ e(@@ org.ovirt.engine.core.bll.@@ Vm@@ Management@@ CommandBase.get@@ Parameters().get@@ Vm().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ Vm@@ Management@@ CommandBase.get@@ E@@ ff@@ ec@@ tive@@ CompatibilityVersion@@ ())); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.@@ Au@@ dit@@ Lo@@ g audit@@ Lo@@ g = get@@ AuditLog@@ (); au@@ ditLog@@ Dao@@ .@@ remove@@ (org.ovirt.engine.core.bll.@@ Remove@@ AuditLog@@ By@@ Id@@ Command.getParameters().get@@ AuditLog@@ Id()); set@@ AuditLog@@ Detail@@ s(@@ au@@ ditLog@@ ); audit@@ Lo@@ g.@@ set@@ User@@ Id(@@ Guid@@ .@@ Empty@@ ); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able@@ To@@ C@@ le@@ a@@ r = org.ovirt.engine.core.d@@ i@@ .@@ In@@ j@@ ect@@ or.@@ in@@ j@@ ect@@ Mem@@ b@@ ers@@ (@@ new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(@@ au@@ ditLog@@ )); au@@ ditLog@@ Event@@ F@@ lo@@ od@@ Re@@ g@@ ul@@ ator event@@ F@@ lo@@ od@@ Re@@ g@@ ul@@ ator = new java.util.ArrayList<>(); Event@@ F@@ lo@@ od@@ Re@@ g@@ ul@@ ator@@ (@@ log@@ able@@ To@@ C@@ le@@ ar@@ , audit@@ Lo@@ g.@@ get@@ Log@@ Type@@ ()); event@@ F@@ lo@@ od@@ Re@@ g@@ ul@@ ator.@@ e@@ vic@@ t@@ (); org.ovirt.engine.core.bll.@@ Remove@@ AuditLog@@ By@@ Id@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override public boolean b@@ oot@@ Protocol@@ D@@ h@@ c@@ p@@ () { return "@@ d@@ h@@ c@@ p@@ "@@ .@@ equals@@ I@@ g@@ n@@ ore@@ C@@ ase@@ (((@@ java.lang.String@@ ) (@@ nic@@ Properties@@ .get(@@ VdsProperties.@@ B@@ O@@ O@@ T_@@ P@@ RO@@ TO@@ C@@ OL@@ )@@ ))); }
private java.lang.Integ@@ er c@@ al@@ c@@ Max@@ V@@ Cpu@@ () { java.lang.Integ@@ er ma@@ x@@ S@@ ock@@ et@@ s = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Max@@ Num@@ Of@@ Vm@@ S@@ ock@@ et@@ s, vm.get@@ CompatibilityVersion@@ ().get@@ Value@@ ()); java.lang.Integ@@ er ma@@ x@@ V@@ Cpu@@ s = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Max@@ Num@@ Of@@ Vm@@ C@@ p@@ us@@ , vm.get@@ CompatibilityVersion@@ ().get@@ Value@@ ()); ma@@ x@@ V@@ Cpu@@ s = (vm.get@@ Cpu@@ Per@@ S@@ ock@@ et@@ ()) * (java.lang.@@ M@@ ath@@ .m@@ in@@ (m@@ a@@ x@@ S@@ ock@@ et@@ s, (m@@ a@@ x@@ V@@ Cpu@@ s / (vm.get@@ Cpu@@ Per@@ S@@ ock@@ et@@ ())@@ ))); return ma@@ x@@ V@@ C@@ p@@ us@@ ; }
protected static org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ fo get@@ Q@@ em@@ u@@ Image@@ Info@@ From@@ Vds@@ m@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid new@@ StorageDomain@@ ID@@ , org.ovirt.engine.core.compat.Guid new@@ ImageGroup@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Id, boolean shoul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { org.ovirt.engine.core.compat.Guid vds@@ Id = org.ovirt.engine.core.bll.storage.@@ utils.@@ Vds@@ Command@@ s@@ Helper@@ .get@@ Host@@ For@@ Execution@@ (@@ storagePool@@ Id, java.util.Collections.@@ em@@ pty@@ List@@ ()); org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ fo q@@ em@@ u@@ Image@@ In@@ fo = null@@ ; if (@@ shoul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ pre@@ par@@ e@@ Image@@ (@@ storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ ImageGroup@@ Id, new@@ Image@@ Id, vds@@ Id); } try { q@@ em@@ u@@ Image@@ In@@ fo = ((@@ org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ Info@@ ) (org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Q@@ em@@ u@@ Image@@ Info@@ , new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Volume@@ Info@@ VDSCommand@@ Parameters(@@ vds@@ Id, storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ ImageGroup@@ Id, new@@ Image@@ Id@@ )@@ ).get@@ ReturnValue@@ ())); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ log.debug@@ ("@@ Un@@ able to ge@@ t q@@ em@@ u im@@ age in@@ fo f@@ ro@@ m storage@@ ", e); } final@@ l@@ y { if (@@ shoul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Images@@ Handler.@@ te@@ a@@ r@@ do@@ wn@@ Image@@ (@@ storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ ImageGroup@@ Id, new@@ Image@@ Id, vds@@ Id); } } return q@@ em@@ u@@ Image@@ Info@@ ; }
private void set@@ Test@@ Result@@ Value@@ From@@ Query@@ ReturnValue@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue result) { java.lang.String error@@ Mess@@ age = org.ovirt.engine.ui.uicommonweb.models.@@ provider@@ s.@@ Provider@@ Model.@@ EM@@ P@@ TY@@ _@@ ER@@ R@@ OR@@ _@@ M@@ ES@@ S@@ AG@@ E@@ ; if (@@ result == null@@ ) { error@@ Mess@@ age = org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ test@@ Fail@@ ed@@ Un@@ k@@ n@@ ow@@ n@@ Error@@ M@@ s@@ g@@ (); } else if (!(@@ result.get@@ Succeeded@@ ())) { if (((@@ result.get@@ Exception@@ String@@ ()) != null@@ ) && (!(@@ result.get@@ Exception@@ String@@ ().is@@ Empty@@ ()))) { error@@ Mess@@ age = result.get@@ Exception@@ String@@ (); } else { error@@ Mess@@ age = org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ test@@ Fail@@ ed@@ Un@@ k@@ n@@ ow@@ n@@ Error@@ M@@ s@@ g@@ (); } } get@@ Test@@ Result@@ ().set@@ Entity(@@ error@@ Message@@ ); }
private void m@@ ass@@ Label@@ s@@ Update@@ (org.ovirt.engine.core.compat.Guid vf@@ s@@ Config@@ Id, java.util.@@ Set<@@ java.lang.String> label@@ s) { java.util.List<@@ org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source@@ > execu@@ tion@@ s = new java.util.ArrayList<@@ >@@ (@@ label@@ s.@@ size@@ ()); for (java.lang.String l@@ ab@@ e@@ l : label@@ s) { execu@@ tion@@ s.@@ add@@ (c@@ reate@@ Label@@ Parameters@@ Map@@ per@@ (@@ vf@@ s@@ Config@@ Id, label@@ )); } get@@ Call@@ sHandler@@ ().execute@@ Stor@@ ed@@ Pro@@ c@@ As@@ B@@ atch@@ ("@@ In@@ sert@@ vf@@ s@@ Config@@ Label@@ ", execu@@ tion@@ s); }
@@@ org.ovirt.engine.ui.webadmin.@@ DefaultStringValue("@@ Host@@ ed Engin@@ e H@@ A@@ ") java.lang.String host@@ ed@@ Engine@@ H@@ a@@ Host@@ Gener@@ al@@ ();
@@@ com.google.gwt.@@ i@@ 18@@ n@@ .client.@@ Constants.@@ DefaultStringValue("@@ U@@ se D@@ H@@ C@@ P@@ ") java.lang.String c@@ lo@@ u@@ d@@ Init@@ Network@@ D@@ h@@ c@@ p@@ Label@@ ();
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (@@ target@@ )); org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate selected@@ Templ@@ ate = null@@ ; java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ > templat@@ es@@ Ch@@ ain = new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ >@@ (((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ >) (@@ return@@ Value@@ ))); for (org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate templ@@ ate : templat@@ es@@ Ch@@ ain@@ ) { if (@@ templat@@ e.get@@ Id().@@ equals(@@ template@@ Id@@ )) { selected@@ Templ@@ ate = template@@ ; } } org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate l@@ at@@ est@@ Templ@@ ate = new org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ L@@ at@@ est@@ VmTemplate@@ (@@ templat@@ es@@ Ch@@ ain@@ .get(@@ 0@@ )); templat@@ es@@ Ch@@ ain@@ .@@ add(@@ 0@@ , l@@ at@@ est@@ Template@@ ); if (@@ us@@ e@@ L@@ at@@ est@@ ) { selected@@ Templ@@ ate = l@@ at@@ est@@ Template@@ ; } model.get@@ Template@@ ().set@@ Items(@@ templat@@ es@@ Ch@@ ain@@ , selected@@ Template@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.get@@ StoragePool@@ ().set@@ Status@@ (org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.getParameters().get@@ Status@@ ()); set@@ Vds@@ Id@@ Re@@ f@@ (org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.get@@ StoragePool@@ ().get@@ sp@@ m@@ _@@ vds@@ _id@@ ()); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StoragePool@@ Dao().@@ update@@ Status@@ (org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.get@@ StoragePool@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.get@@ StoragePool@@ ().get@@ Status@@ ()); if ((@@ (org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.getParameters().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Status.@@ Non@@ Respon@@ si@@ ve@@ )) || ((@@ org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.getParameters().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Status.@@ Not@@ Operation@@ al@@ ))) { org.ovirt.engine.core.vdsbroker.@@ storage.@@ StoragePool@@ Domain@@ Helper.@@ update@@ Ap@@ pl@@ ic@@ able@@ Pool@@ Domain@@ s@@ Status@@ es@@ (org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.get@@ StoragePool@@ ().get@@ Id(), java.util.Collections.@@ sing@@ leton@@ (@@ StorageDomain@@ Status.@@ Active@@ ), StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ ); } org.ovirt.engine.core.bll.storage.@@ StoragePool@@ Status@@ Handler.@@ pool@@ Status@@ Changed@@ (org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.get@@ StoragePool@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.get@@ StoragePool@@ ().get@@ Status@@ ()); org.ovirt.engine.core.bll.storage.@@ Set@@ StoragePool@@ Status@@ Command.set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.@@ event@@ q@@ ue@@ u@@ e.@@ Event@@ Result call@@ () { set@@ StorageDomain@@ (@@ null@@ ); set@@ StoragePool@@ (@@ null@@ ); boolean s@@ uc@@ ce@@ de@@ d = false@@ ; if (c@@ an@@ DoAction@@ ()) { org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map do@@ m@@ ain@@ Pool@@ Map = new org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map@@ (get@@ Rec@@ o@@ ver@@ y@@ StoragePool@@ Parameters@@ Data@@ ().get@@ New@@ Ma@@ ster@@ Domain@@ Id(), get@@ Rec@@ o@@ ver@@ y@@ StoragePool@@ Parameters@@ Data@@ ().get@@ StoragePool@@ Id(), org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Active@@ ); org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StoragePool@@ Iso@@ Map@@ Dao().@@ save@@ (@@ do@@ m@@ ain@@ Pool@@ Map@@ ); get@@ Rec@@ o@@ ver@@ y@@ StoragePool@@ Parameters@@ Data@@ ().set@@ Vds@@ Id@@ (get@@ Vds@@ ().get@@ Id()); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ V@@ al = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ run@@ Internal@@ Action(VdcActionType.@@ R@@ e@@ const@@ r@@ uc@@ t@@ Ma@@ ster@@ Domain@@ , get@@ Parameters@@ ()); s@@ uc@@ ce@@ de@@ d = (@@ return@@ Val@@ .get@@ Action@@ ReturnValue@@ ()) != null@@ ) ? ((@@ java.lang.Boolean@@ ) (@@ return@@ Val@@ .get@@ Action@@ ReturnValue@@ ())) : false@@ ; get@@ StoragePool@@ DAO@@ ().@@ update@@ Status@@ (get@@ StoragePool@@ ().get@@ Id(), StoragePool@@ Status.@@ Pro@@ bl@@ em@@ ati@@ c@@ ); if (!@@ s@@ uc@@ ce@@ ded@@ ) { get@@ StoragePool@@ Iso@@ Map@@ DAO@@ ().@@ remove@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map@@ Id@@ (get@@ Rec@@ o@@ ver@@ y@@ StoragePool@@ Parameters@@ Data@@ ().get@@ New@@ Ma@@ ster@@ Domain@@ Id(), get@@ Rec@@ o@@ ver@@ y@@ StoragePool@@ Parameters@@ Data@@ ().get@@ StoragePool@@ Id@@ ())); } } return new org.ovirt.engine.core.common.@@ event@@ q@@ ue@@ u@@ e.@@ Event@@ Result@@ (s@@ uc@@ ce@@ ded@@ , org.ovirt.engine.core.common.@@ event@@ q@@ ue@@ u@@ e.@@ Event@@ Type.@@ RE@@ C@@ ON@@ ST@@ R@@ U@@ C@@ T@@ ); }
protected void on@@ T@@ ooltip@@ Source@@ M@@ o@@ us@@ e@@ Out@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ M@@ o@@ us@@ e@@ Out@@ Event event@@ ) { if (@@ (@@ ev@@ ent.get@@ Event@@ ().get@@ Event@@ ().@@ equals(@@ event@@ )) { return@@ ; } if (@@ ev@@ ent.get@@ Event@@ ().get@@ Event@@ ().get@@ Event@@ ().get@@ Event@@ B@@ us@@ e@@ Out@@ ().@@ equals(@@ event@@ )) { ev@@ ent.@@ set@@ Event@@ B@@ us@@ (@@ event@@ ); } }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _C@@ RE@@ AT@@ E); add@@ Custom@@ Value(@@ Gluster@@ Constants.@@ V@@ O@@ LU@@ M@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ NAM@@ E, get@@ Parameters().get@@ Snapshot@@ ().get@@ Snapshot@@ Name()); super@@ .set@@ Action@@ Message@@ Parameters@@ (); }
@@@ org.ovirt.engine.ui.uicompat.@@ Default@@ Message@@ ("@@ {0@@ } in Data C@@ en@@ te@@ r {@@ 1@@ }@@ ") java.lang.String network@@ D@@ c@@ (java.lang.String network@@ Name, java.lang.String dc@@ Name);
protected void mock@@ Os@@ Rep@@ os@@ it@@ ory@@ () { in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (org.ovirt.engine.core.bll.@@ Cpu@@ F@@ l@@ ag@@ sManager@@ Handler@@ .@@ class@@ , cpu@@ F@@ l@@ ag@@ sManager@@ Handler@@ ); org.ovirt.engine.core.common.utils.@@ S@@ im@@ ple@@ De@@ p@@ end@@ enc@@ y@@ In@@ j@@ ect@@ or@@ .getInstance().@@ b@@ in@@ d@@ (org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ class@@ , os@@ Rep@@ os@@ it@@ ory@@ ); vm@@ Device@@ Utils.@@ init@@ (); org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ init@@ (); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ W@@ in@@ do@@ w@@ s(@@ 0@@ )).@@ then@@ Return@@ (@@ true@@ ); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ M@@ in@@ im@@ um@@ R@@ am@@ (vm.get@@ Vm@@ Os@@ Id(), org.ovirt.engine.core.compat.@@ Version@@ .get@@ L@@ ast@@ ())@@ ).@@ thenReturn(@@ 0@@ ); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ Max@@ im@@ um@@ R@@ am@@ (vm.get@@ Vm@@ Os@@ Id(), org.ovirt.engine.core.compat.@@ Version@@ .get@@ L@@ ast@@ ())@@ ).@@ thenReturn(@@ 1@@ 00@@ ); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ Ar@@ ch@@ it@@ ect@@ ure@@ From@@ O@@ S@@ (@@ 1@@ 4@@ )).@@ thenReturn(@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ x@@ 8@@ 6@@ _@@ 6@@ 4@@ ); }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ res@@ ource@@ ") private void check@@ Connection@@ () throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { java.s@@ q@@ l.@@ State@@ m@@ ent st@@ ate@@ m@@ ent = null@@ ; java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s = null@@ ; try { if ((@@ connection@@ ) == null@@ ) { op@@ en@@ Connection@@ (); } st@@ ate@@ m@@ ent = connection@@ .@@ create@@ State@@ ment@@ (); r@@ s = st@@ ate@@ m@@ ent.@@ execute@@ Query@@ ("@@ s@@ el@@ ect null@@ "); r@@ s.@@ ne@@ xt@@ (); } final@@ l@@ y { if (@@ st@@ ate@@ m@@ ent != null@@ ) { st@@ ate@@ m@@ ent.@@ c@@ lo@@ se@@ (); } if (r@@ s != null@@ ) { r@@ s.@@ c@@ lo@@ se@@ (); } } }
@java.lang.Override public void set@@ Items(@@ java.lang.@@ I@@ ter@@ able value@@ ) { if ((@@ item@@ s) != value@@ ) { item@@ s@@ Ch@@ an@@ gin@@ g@@ (@@ value@@ , item@@ s); org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Item@@ Model temp@@ Model = null@@ ; if ((@@ item@@ s) != null@@ ) { temp@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Item@@ Model) (((@@ java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ User@@ Port@@ al@@ Item@@ Model@@ >) (@@ item@@ s@@ )@@ ).get@@ (0@@ ))); } item@@ s = value@@ ; Item@@ s@@ Changed@@ (); get@@ Item@@ s@@ Changed@@ Event@@ ().@@ r@@ a@@ is@@ e@@ (@@ this@@ , EventArg@@ s.@@ Empty@@ ); On@@ PropertyChanged@@ (@@ new org.ovirt.engine.core.compat.@@ PropertyChanged@@ EventArg@@ s@@ ("@@ Item@@ s@@ ")); temp@@ Model = null@@ ; } }
private static void ex@@ port@@ Resource@@ (java.lang.String api@@ Version@@ , java.lang.String res@@ ource@@ Name, java.io.@@ Fil@@ e out@@ put@@ Direct@@ ory@@ ) throw@@ s java.io.@@ I@@ O@@ Exception { java.lang.String res@@ ource@@ P@@ at@@ h = java.lang.String@@ .@@ for@@ mat@@ ("@@ /@@ v@@ %@@ s@@ /@@ %@@ s", api@@ Version@@ , res@@ ource@@ Name); java.io.@@ In@@ put@@ St@@ rea@@ m in@@ put@@ Res@@ ource = org.ovirt.engine.api.@@ r@@ sd@@ l.@@ R@@ sd@@ l@@ I@@ O@@ Manager@@ .@@ class@@ .get@@ Resource@@ As@@ St@@ ream@@ (@@ res@@ ource@@ Path@@ ); java.io.@@ Fil@@ e out@@ put@@ Fil@@ e = new java.io.@@ Fil@@ e(@@ out@@ put@@ Direct@@ ory@@ , res@@ ource@@ Name); java.lang.@@ System@@ .@@ o@@ u@@ t.@@ p@@ r@@ int@@ f@@ ("@@ Copy@@ ing res@@ ource \"@@ %@@ s@@ \@@ " to fil@@ e \"@@ %@@ s@@ \"@@ ", res@@ ource@@ Path@@ , out@@ put@@ Fil@@ e.get@@ Ab@@ s@@ ol@@ u@@ te@@ Path@@ ()); org.apache.commons.@@ io.@@ File@@ Utils.@@ c@@ opy@@ In@@ put@@ St@@ ream@@ To@@ Fil@@ e(@@ in@@ put@@ Resource@@ , out@@ put@@ File@@ ); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . C@@ ust@@ o@@ m ser@@ i@@ al num@@ b@@ er m@@ us@@ t b@@ e n@@ on@@ -@@ em@@ p@@ ty wh@@ e@@ n \"@@ Custom@@ \@@ " ser@@ i@@ al num@@ b@@ er p@@ olic@@ y is sp@@ e@@ c@@ if@@ i@@ ed@@ .@@ ") java.lang.String ACTION_TYPE_FAILED_@@ IN@@ VALID@@ _S@@ ER@@ I@@ AL@@ _@@ N@@ U@@ M@@ B@@ ER@@ ();
@java.lang.Override public java.lang.String get@@ Text@@ (java.lang.Object image@@ ) { if (@@ im@@ age instanceof org.ovirt.engine.core.common.businessentities.@@ Rep@@ o@@ Image@@ ) { return ((org.ovirt.engine.core.common.businessentities.@@ Rep@@ o@@ Image@@ ) (@@ image@@ )@@ ).get@@ File@@ Type@@ ().@@ toString@@ (); } else if (@@ im@@ age instanceof org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) { return org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ) (@@ image@@ )@@ "; } return org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ ; }
private java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status@@ > m@@ er@@ ge@@ Service@@ Status@@ Map@@ s(@@ java.util.List<@@ java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status@@ >> ser@@ vice@@ Status@@ Map@@ s) { java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status@@ > ser@@ vice@@ Status@@ Map = new java.util.HashMap<@@ java.lang.String, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status@@ >(); for (@@ java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status@@ > p@@ a@@ ir@@ Result : ser@@ vice@@ Status@@ Map@@ s) { for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status@@ > e@@ n@@ try : p@@ a@@ ir@@ Res@@ ult.@@ e@@ n@@ try@@ Set@@ ()) { java.lang.String ser@@ vice@@ Name = e@@ n@@ try@@ .get@@ Key@@ (); org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status stat@@ u@@ s = e@@ n@@ try@@ .get@@ Value@@ (); org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status al@@ read@@ y@@ F@@ ound@@ Status = ser@@ vice@@ Status@@ Map@@ .get(@@ ser@@ vice@@ Name); if (@@ al@@ read@@ y@@ F@@ ound@@ Status == null@@ ) { ser@@ vice@@ Status@@ Map.@@ put(@@ ser@@ vice@@ Name, status@@ ); } else if ((@@ al@@ read@@ y@@ F@@ ound@@ Status != status@@ ) && (@@ al@@ read@@ y@@ F@@ ound@@ Status != (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Service@@ Status.@@ M@@ I@@ X@@ ED@@ ))) { ser@@ vice@@ Status@@ Map.@@ put(@@ ser@@ vice@@ Name, Gluster@@ Service@@ Status.@@ M@@ I@@ X@@ ED); } } return ser@@ vice@@ Status@@ Map@@ ; }
protected void load@@ Vm@@ Data@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { if (vm.get@@ Interfaces@@ ().is@@ Empty@@ ()) { vm@@ .set@@ Interfaces@@ (get@@ VmNetwork@@ Interface@@ Dao().get@@ AllFor@@ Vm@@ (vm@@ .getId@@ ())); } if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (vm.get@@ Vm@@ t@@ Name@@ ())) { if (!(@@ Guid@@ .@@ Empty@@ .@@ equals@@ (vm.get@@ Vm@@ t@@ Guid@@ ()))) { org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate t = get@@ VmTemplate@@ Dao().get@@ (vm.get@@ Vm@@ t@@ Guid@@ ()); vm@@ .set@@ Vm@@ t@@ Name(@@ t.get@@ Name()); } else { vm@@ .set@@ Vm@@ t@@ Name(@@ VmTemplate@@ Handler.@@ B@@ L@@ AN@@ K_@@ VM_@@ T@@ EM@@ P@@ L@@ AT@@ E_@@ NAM@@ E); } } }
private long fin@@ d@@ Un@@ us@@ ed@@ Mac@@ () { int in@@ de@@ x = us@@ ed@@ Mac@@ s.@@ ne@@ xt@@ C@@ le@@ ar@@ B@@ it@@ (@@ st@@ art@@ ing@@ Loc@@ ation@@ W@@ h@@ en@@ Search@@ ing@@ For@@ Un@@ us@@ ed@@ Mac@@ ); boolean not@@ F@@ oun@@ d = in@@ de@@ x == (@@ num@@ ber@@ Of@@ Mac@@ s@@ In@@ R@@ ang@@ e); if (@@ not@@ F@@ ound@@ ) { in@@ de@@ x = us@@ ed@@ Mac@@ s.@@ ne@@ xt@@ C@@ le@@ ar@@ B@@ it@@ (0@@ ); } st@@ art@@ ing@@ Loc@@ ation@@ W@@ h@@ en@@ Search@@ ing@@ For@@ Un@@ us@@ ed@@ Ma@@ c = in@@ de@@ x + 1@@ ; return (r@@ ang@@ e@@ Start@@ ) + in@@ dex@@ ; }
protected java.lang.String schedul@@ e@@ Job@@ () throw@@ s java.lang.Exception { java.util.@@ D@@ ate con@@ ver@@ ted@@ Start@@ D@@ ate = get@@ Gluster@@ Util@@ ().@@ con@@ ver@@ t@@ D@@ ate@@ (s@@ chedul@@ e.get@@ Start@@ D@@ ate@@ (), schedul@@ e.get@@ Time@@ Z@@ one@@ ()); java.util.@@ D@@ ate con@@ ver@@ ted@@ En@@ d@@ By@@ D@@ ate = get@@ Gluster@@ Util@@ ().@@ con@@ ver@@ t@@ D@@ ate@@ (s@@ chedul@@ e.get@@ Start@@ D@@ ate@@ (), schedul@@ e.get@@ Time@@ Z@@ one@@ ()); java.util.@@ D@@ ate con@@ ver@@ ted@@ En@@ d@@ By@@ D@@ ate = get@@ Gluster@@ Util@@ ().@@ con@@ ver@@ t@@ D@@ ate@@ (s@@ chedul@@ e.get@@ En@@ d@@ By@@ D@@ ate@@ (), schedul@@ e.get@@ Time@@ Z@@ one@@ ()); java.util.@@ D@@ ate con@@ ver@@ ted@@ En@@ d@@ By@@ D@@ ate = get@@ Gluster@@ Util@@ ().@@ con@@ ver@@ t@@ D@@ ate@@ (s@@ chedul@@ e.get@@ En@@ d@@ By@@ D@@ ate@@ (), schedul@@ e.get@@ Time@@ Z@@ one@@ ()); java.lang.String c@@ ron@@ Exp@@ ress@@ ion = org.ovirt.engine.core.bll.@@ utils.@@ Gluster@@ Util@@ .getInstance().get@@ C@@ ron@@ Exp@@ ress@@ ion@@ (s@@ chedul@@ e); if (c@@ ron@@ Exp@@ ress@@ ion == null@@ ) return null@@ ; return get@@ Db@@ Schedul@@ Util@@ ().@@ schedul@@ e@@ AC@@ ron@@ Job@@ (@@ new org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Snapshot@@ Schedul@@ e@@ Job@@ (), "@@ on@@ Tim@@ er@@ ", new java.lang.@@ Class@@ []{ java.lang.String@@ .@@ class@@ , java.lang.String@@ .@@ class@@ , java.lang.String@@ .@@ class@@ , java.lang.Boolean@@ .@@ class }, new java.lang.Object@@ []{ up@@ Server@@ .getId@@ ().@@ toString@@ (), org.ovirt.engine.core.bll.@@ gluster.@@ Schedul@@ e@@ GlusterVolume@@ Snapshot@@ CommandBase.get@@ GlusterVolume@@ Id().@@ toString@@ (), schedul@@ e.get@@ Snapshot@@ Name@@ Pre@@ fi@@ x@@ (), schedul@@ e.get@@ Snapshot@@ Description@@ (), for@@ c@@ e }, c@@ ron@@ Exp@@ ress@@ ion@@ , con@@ ver@@ ted@@ Start@@ D@@ ate@@ , con@@ ver@@ ted@@ En@@ d@@ By@@ D@@ ate@@ ); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model object@@ ) { storageDomain@@ Item@@ s.set@@ Row@@ Data@@ (@@ new java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model@@ >@@ ()); storageDomain@@ Item@@ s.@@ as@@ Editor@@ ().@@ edit@@ (@@ object@@ ); d@@ ri@@ ver.@@ edit@@ (@@ object@@ ); objec@@ t.get@@ L@@ atch@@ ().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { if ("@@ Is@@ Available@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model enti@@ ty = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model) (s@@ ender@@ )); if (@@ entity.get@@ Is@@ Available@@ ()) { l@@ atch@@ .set@@ Visi@@ bl@@ e@@ (@@ true@@ ); } } }); objec@@ t.get@@ Item@@ s@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { mess@@ age@@ L@@ ab@@ el.@@ set@@ H@@ T@@ M@@ L@@ (@@ ap@@ plication@@ Constants.@@ dataCenter@@ Rec@@ o@@ ver@@ y@@ Storage@@ Popup@@ Message@@ Label@@ ()); s@@ el@@ ect@@ New@@ D@@ S@@ D@@ L@@ ab@@ el.@@ set@@ Text@@ (@@ ap@@ plication@@ Constants.@@ dataCenter@@ Rec@@ o@@ ver@@ y@@ Storage@@ Popup@@ Sel@@ ect@@ New@@ D@@ S@@ D@@ Label@@ ()); } }); }
@org.junit.Test public void test@@ B@@ ad@@ Guid@@ () throw@@ s java.lang.Exception { cont@@ ro@@ l.@@ re@@ play@@ (); try { new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Template@@ Resource@@ ("@@ fo@@ o@@ ", new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Templ@@ at@@ es@@ Resource@@ ()); org.ovirt.engine.api.restapi.resource.@@ Backend@@ Template@@ Bas@@ ed@@ Resource@@ Test.@@ fail@@ ("@@ exp@@ ected W@@ eb@@ Ap@@ plication@@ Exception@@ "); } catch (@@ javax.ws.rs.@@ W@@ eb@@ Ap@@ plication@@ Exception w@@ a@@ e) { ve@@ r@@ if@@ y@@ Not@@ F@@ ound@@ Exception@@ (@@ w@@ a@@ e); } }
@org.junit.Test public void test@@ L@@ im@@ it@@ () throw@@ s java.io.@@ I@@ O@@ Exception { int l@@ im@@ i@@ t = 1@@ 00@@ 0@@ ; java.io.@@ By@@ te@@ Array@@ Out@@ put@@ St@@ rea@@ m o@@ s = new org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ O@@ vi@@ r@@ t@@ SS@@ H@@ .@@ Con@@ str@@ a@@ int@@ By@@ te@@ Array@@ Out@@ put@@ St@@ ream@@ (@@ l@@ im@@ it@@ ); byte@@ [@@ ] bu@@ ff@@ er = new byte@@ [@@ 1@@ 00@@ ]@@ ; for (@@ int i = 0@@ ; i < ((@@ l@@ im@@ i@@ t * 5@@ ) / (@@ bu@@ ffer.@@ l@@ ength@@ )); i@@ +@@ +@@ ) { o@@ s.@@ w@@ rite@@ (@@ bu@@ f@@ fer@@ ); } assert@@ True@@ (((@@ o@@ s.@@ size()) >@@ = l@@ im@@ it@@ )); assert@@ True@@ (((@@ o@@ s.@@ size()) < ((@@ l@@ im@@ i@@ t * 3@@ ) / 2@@ ))); }
@java.lang.Override public void execute@@ Command() { if ((@@ ge@@ or@@ ep@@ Session@@ s) != null@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ S@@ ess@@ ion s@@ ess@@ ion : ge@@ or@@ ep@@ Session@@ s) { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity s@@ lave@@ Volum@@ e = get@@ DbFacade@@ ().get@@ GlusterVolume@@ Dao().get@@ By@@ Id@@ (s@@ ession@@ .get@@ S@@ lave@@ Volume@@ Id()); if (s@@ lave@@ Volum@@ e == null@@ ) { continue@@ ; } org.ovirt.engine.core.common.businessentities.@@ VDS s@@ lave@@ Up@@ Ser@@ ve@@ r = org.ovirt.engine.core.bll.@@ utils.@@ Cluster@@ Util@@ s.get@@ Instance().get@@ R@@ an@@ do@@ m@@ Up@@ Server@@ (s@@ lave@@ Volum@@ e.get@@ Cluster@@ Id()); if (s@@ lave@@ Up@@ Ser@@ ve@@ r == null@@ ) { h@@ andle@@ Vds@@ Error@@ (@@ AuditLogType.@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ AL@@ L@@ _S@@ NA@@ P@@ S@@ HO@@ T@@ S_@@ DE@@ L@@ ET@@ E_@@ FAIL@@ ED@@ , Engine@@ Error@@ .@@ No@@ Up@@ Server@@ F@@ ound@@ In@@ Rem@@ o@@ te@@ C@@ luster.@@ name@@ ()); set@@ Succeeded@@ (@@ false@@ ); return@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ Entity@@ > s@@ lave@@ Volume@@ Snapshot@@ s = get@@ GlusterVolume@@ Snapshot@@ Dao().get@@ All@@ By@@ Volume@@ Id@@ (s@@ lave@@ Volum@@ e.get@@ Id()); try (@@ org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Loc@@ k loc@@ k = ac@@ qui@@ re@@ Engine@@ Lock@@ (s@@ ession@@ .get@@ S@@ lave@@ Volume@@ Id(), Lock@@ ing@@ Group@@ .@@ GLUSTER_@@ S@@ NA@@ P@@ S@@ HO@@ T@@ )) { if (!(@@ de@@ let@@ e@@ All@@ GlusterVolume@@ Snapshot@@ s(@@ s@@ lave@@ Up@@ Server@@ .get@@ Id(), s@@ lave@@ Volum@@ e.get@@ Name(), s@@ lave@@ Volume@@ Snapshots@@ ))) { return@@ ; } get@@ Gluster@@ Util@@ ().@@ check@@ And@@ Remove@@ Volume@@ Snapshot@@ L@@ im@@ it@@ s@@ Al@@ er@@ t@@ (s@@ lave@@ Volume@@ ); } } de@@ let@@ e@@ All@@ GlusterVolume@@ Snapshots@@ (get@@ Up@@ Server@@ ().get@@ Id(), get@@ GlusterVolume@@ Name(), snapshot@@ s); get@@ Gluster@@ Util@@ ().@@ check@@ And@@ Remove@@ Volume@@ Snapshot@@ L@@ im@@ it@@ s@@ Al@@ er@@ t@@ (get@@ GlusterVolume@@ ()); }
@java.lang.Override protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > get@@ All@@ Run@@ ning@@ Vds@@ s@@ In@@ Pool@@ () { java.util.@@ Set@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status@@ > vds@@ Status = java.util.@@ Enum@@ Set@@ .@@ c@@ opy@@ Of@@ (@@ StoragePool@@ Domain@@ Helper.@@ vds@@ Domain@@ s@@ Active@@ Monitor@@ ing@@ Status@@ ); vds@@ Status.@@ add@@ All@@ (@@ StoragePool@@ Domain@@ Helper.@@ vds@@ Domain@@ s@@ M@@ a@@ int@@ en@@ ance@@ Monitor@@ ing@@ Status@@ ); return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ ac@@ tivate@@ StorageDomain@@ Command.get@@ Vds@@ Dao().get@@ AllFor@@ StoragePool@@ And@@ Status@@ es@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ ac@@ tivate@@ StorageDomain@@ Command.get@@ StoragePool@@ ().get@@ Id(), vds@@ Status@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ E@@ r@@ ro@@ r in f@@ et@@ ch@@ ing volum@@ e op@@ tion list@@ , ple@@ ase try ag@@ ain@@ .@@ ") java.lang.String error@@ In@@ F@@ et@@ ch@@ ing@@ Volume@@ Option@@ List@@ ();
@org.junit.Test public void test@@ F@@ in@@ d@@ Mapping@@ E@@ n@@ try@@ Empty@@ External@@ () { final java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ VnicProfile@@ Mapping@@ > act@@ u@@ al = un@@ der@@ Test.@@ fin@@ d@@ Mapping@@ E@@ n@@ try@@ (org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ External@@ VnicProfile@@ Mapping@@ F@@ inder@@ Test.@@ NETWORK_@@ NAM@@ E, org.ovirt.engine.core.bll.@@ ex@@ por@@ t@@ import@@ .@@ External@@ VnicProfile@@ Mapping@@ F@@ inder@@ Test.@@ V@@ N@@ IC@@ _P@@ RO@@ F@@ IL@@ E@@ 1@@ _@@ NAM@@ E, java.util.Arrays.as@@ List(@@ em@@ pty@@ Source@@ Mapping@@ )); assert@@ F@@ als@@ e(@@ act@@ u@@ al.@@ is@@ Pres@@ ent@@ ()); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { if (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ p@@ res@@ enter.@@ p@@ opup@@ .@@ p@@ rovider.@@ Provider@@ Popup@@ Pres@@ enter@@ W@@ idget.@@ I@@ S_@@ A@@ V@@ A@@ IL@@ AB@@ LE@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { get@@ View@@ ().@@ update@@ K@@ vm@@ Visi@@ bl@@ e(@@ model.get@@ K@@ vm@@ Properties@@ Model().get@@ Is@@ Available@@ ()); } }
protected void log@@ Exception@@ (java.lang.@@ Run@@ time@@ Exception ex@@ ) { if (((@@ ex@@ .get@@ Message@@ ()) == null@@ ) || (!(@@ ex@@ .get@@ Message@@ ().@@ contains@@ ("@@ P@@ olic@@ y res@@ et@@ "@@ )@@ ))) { log.error("@@ C@@ ommand '{}@@ ' ex@@ ec@@ uti@@ on fail@@ ed@@ : {}@@ ", this@@ , ex@@ .get@@ Message@@ ()); log.debug@@ ("@@ Exception@@ ", ex@@ ); } }
private void init@@ T@@ abl@@ es@@ () { disk@@ s@@ T@@ able = new org.ovirt.engine.ui.common.widget.@@ ed@@ itor@@ .@@ ListModel@@ Object@@ C@@ el@@ l@@ T@@ able@@ <org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ , org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ >@@ (@@ true@@ , true@@ ); disk@@ s@@ T@@ abl@@ e.@@ en@@ able@@ Column@@ Res@@ iz@@ ing@@ (); disk@@ s@@ T@@ abl@@ e.@@ add@@ Column@@ (@@ new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >() { @java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image@@ ) { return disk@@ Image.get@@ Disk@@ Alias@@ (); } }, org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ DiskImage@@ View@@ .@@ const@@ an@@ t@@ s.@@ al@@ ias@@ Disk@@ (), "@@ 1@@ 5@@ 0@@ p@@ x@@ "); disk@@ s@@ T@@ abl@@ e.@@ add@@ Column@@ (@@ new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ >() { @java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.businessentities.@@ DiskImage disk@@ Image@@ ) { return disk@@ Image.get@@ Disk@@ Description@@ (); } }, org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ DiskImage@@ View@@ .@@ const@@ an@@ t@@ s.@@ d@@ escription@@ Disk@@ (), "@@ 1@@ 5@@ 0@@ p@@ x@@ "); }
@java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { java.util.ArrayList<@@ org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ > p@@ olicy@@ Unit@@ s = return@@ Value.get@@ ReturnValue@@ (); p@@ olicy@@ Unit@@ Map = new java.util.@@ Link@@ ed@@ Hash@@ Map@@ (); for (org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Un@@ i@@ t p@@ olicy@@ Un@@ i@@ t : p@@ olicy@@ Unit@@ s) { p@@ olicy@@ Unit@@ Map.@@ put(@@ p@@ olicy@@ Un@@ it.@@ get@@ Id(), p@@ olicy@@ Unit@@ ); } org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Cluster@@ P@@ olic@@ i@@ es@@ , new org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base@@ (), new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ <@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ >() { @java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { java.util.ArrayList<@@ org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ Policy@@ > lis@@ t = return@@ Value.get@@ ReturnValue@@ (); get@@ Cluster@@ Policy@@ ().set@@ Items(@@ list@@ ); org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ P@@ olic@@ y default@@ Cluster@@ P@@ olic@@ y = null@@ ; org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ P@@ olic@@ y selected@@ Cluster@@ P@@ olic@@ y = null@@ ; for (org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ P@@ olic@@ y cluster@@ P@@ olic@@ y : list@@ ) { if ((@@ (get@@ Is@@ Edit@@ ()) && ((get@@ Entity@@ ()) != null@@ )) && (cluster@@ Policy@@ .getId@@ ().@@ equals@@ (get@@ Entity@@ ().get@@ Cluster@@ Policy@@ Id@@ ()))) { selected@@ Cluster@@ P@@ olic@@ y = cluster@@ Policy@@ ; } if (cluster@@ Policy@@ .is@@ Default@@ Policy@@ ()) { default@@ Cluster@@ P@@ olic@@ y = cluster@@ Policy@@ ; } } if (s@@ elected@@ Cluster@@ P@@ olic@@ y != null@@ ) { get@@ Cluster@@ Policy@@ ().set@@ SelectedItem@@ (s@@ elected@@ Cluster@@ Policy@@ ); } else { get@@ Cluster@@ Policy@@ ().set@@ SelectedItem@@ (@@ default@@ Cluster@@ Policy@@ ); } cluster@@ Policy@@ Changed@@ (); } }@@ )); }
static boolean validate@@ P@@ in@@ ning@@ And@@ Migration@@ (@@ java.util.List<java.lang.String> re@@ ason@@ s, org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ StaticData@@ , java.lang.String cpu@@ P@@ in@@ ning@@ ) { final boolean cpu@@ P@@ in@@ Migration@@ En@@ able@@ d = java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .@@ equals@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ Cpu@@ P@@ in@@ Migration@@ Enabled@@ )); if ((@@ (!@@ cpu@@ P@@ in@@ Migration@@ Enabled@@ ) && ((@@ (vm@@ StaticData@@ .get@@ Migration@@ Sup@@ port@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ Migration@@ Sup@@ port.@@ M@@ I@@ G@@ R@@ AT@@ AB@@ LE@@ )) || ((@@ vm@@ StaticData@@ .get@@ Migration@@ Sup@@ port@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ Migration@@ Sup@@ port.@@ IM@@ P@@ L@@ IC@@ I@@ T@@ L@@ Y_@@ N@@ ON_@@ M@@ I@@ G@@ R@@ AT@@ AB@@ LE@@ )@@ ))) && (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (c@@ pu@@ P@@ in@@ ning@@ ))) { re@@ ason@@ s.add(@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM@@ _C@@ ANNOT_@@ B@@ E_@@ P@@ IN@@ N@@ ED_@@ TO@@ _C@@ P@@ U@@ _@@ AN@@ D_@@ M@@ I@@ G@@ R@@ AT@@ AB@@ LE@@ .@@ toString()); return false@@ ; } if ((@@ vm@@ StaticData@@ .is@@ Au@@ to@@ Start@@ up@@ ()) && ((@@ (vm@@ StaticData@@ .get@@ Migration@@ Sup@@ port@@ ()) != (org.ovirt.engine.core.common.businessentities.@@ Migration@@ Sup@@ port.@@ M@@ I@@ G@@ R@@ AT@@ AB@@ LE@@ )) && ((@@ vm@@ StaticData@@ .get@@ D@@ ed@@ ic@@ ated@@ Vm@@ For@@ Vds@@ List@@ ().@@ size()) >@@ = 2@@ ))) { re@@ ason@@ s.add(@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM@@ _C@@ ANNOT_@@ B@@ E_@@ H@@ I@@ G@@ H@@ L@@ Y_@@ A@@ V@@ A@@ IL@@ AB@@ L@@ E_@@ AN@@ D@@ _P@@ IN@@ N@@ ED_@@ TO@@ _@@ HOST@@ .@@ toString()); return false@@ ; } return true@@ ; }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ Can@@ not ${@@ action@@ } ${@@ type@@ }@@ . Sel@@ ected o@@ per@@ at@@ ing s@@ yst@@ e@@ m do@@ es not sup@@ por@@ t Vir@@ t@@ I@@ O@@ -@@ S@@ C@@ SI@@ . P@@ le@@ ase dis@@ able Vir@@ t@@ I@@ O@@ -@@ S@@ C@@ S@@ I for the VM@@ .@@ ") java.lang.String ACTION_TYPE_FAILED_@@ IL@@ LE@@ G@@ AL@@ _@@ O@@ S_@@ TYPE_@@ DO@@ E@@ S_NOT_@@ SUP@@ POR@@ T_@@ V@@ I@@ R@@ TI@@ O@@ _S@@ C@@ SI@@ ();
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > get@@ All@@ () { org.apache.commons.@@ http@@ client.@@ Http@@ M@@ eth@@ o@@ d m@@ eth@@ o@@ d = new org.apache.commons.@@ http@@ client.@@ m@@ ethod@@ s.@@ Get@@ Method@@ (((@@ host@@ Provider@@ .get@@ U@@ r@@ l@@ ()) + "@@ /@@ host@@ s@@ ?@@ for@@ mat@@ =@@ json@@ ")); return run@@ Host@@ List@@ Method@@ (m@@ ethod@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ AD@@ D@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _C@@ LUSTER_@@ P@@ OL@@ IC@@ Y@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ RE@@ V@@ ER@@ T_@@ TO@@ ); addCanDoActionMessage@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _S@@ NA@@ P@@ S@@ HO@@ T@@ ); }
protected void ve@@ r@@ if@@ y@@ Query@@ (@@ org.ovirt.engine.api.restapi.resource.@@ Abstract@@ Statistic@@ al@@ Query@@ <@@ org.ovirt.engine.api.model.@@ N@@ IC@@ , org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface@@ > query@@ , org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface entity@@ ) throw@@ s java.lang.Exception { assert@@ Equals@@ (org.ovirt.engine.api.model.@@ N@@ IC@@ .@@ class@@ , query@@ .get@@ Parent@@ Type@@ ()); assert@@ S@@ ame@@ (@@ entity@@ , query@@ .res@@ ol@@ ve@@ (@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Nic@@ Resource@@ Test.@@ N@@ IC@@ _@@ ID@@ )); java.util.List<@@ org.ovirt.engine.api.model.@@ Statistic@@ > stati@@ stic@@ s = query@@ .get@@ Statistic@@ s(@@ entity@@ ); ve@@ r@@ if@@ y@@ Statistic@@ s(@@ stati@@ stic@@ s, new java.lang.String@@ []{ "@@ data@@ .@@ c@@ urr@@ ent.@@ r@@ x@@ ", "@@ data@@ .@@ c@@ urr@@ ent.@@ t@@ x@@ ", "@@ errors.@@ t@@ ot@@ al.@@ r@@ x@@ ", "@@ errors.@@ t@@ ot@@ al.@@ t@@ x@@ " }, new java.@@ mat@@ h@@ .@@ B@@ ig@@ D@@ ec@@ im@@ al@@ []{ as@@ D@@ ec@@ (@@ org.ovirt.engine.api.restapi.@@ util.@@ R@@ x@@ T@@ x@@ C@@ al@@ c@@ ul@@ ator.@@ c@@ al@@ c@@ R@@ x@@ T@@ x@@ (@@ 5@@ 0@@ , 1@@ 0@@ .@@ 0@@ )@@ ), as@@ D@@ ec@@ (@@ org.ovirt.engine.api.restapi.@@ util.@@ R@@ x@@ T@@ x@@ C@@ al@@ c@@ ul@@ ator.@@ c@@ al@@ c@@ R@@ x@@ T@@ x@@ (@@ 5@@ 0@@ , 2@@ 0@@ )@@ ), as@@ D@@ ec@@ (@@ 3@@ 0@@ ), as@@ D@@ ec@@ (@@ 4@@ 0) }); org.ovirt.engine.api.model.@@ Stati@@ s@@ ti@@ c a@@ do@@ p@@ te@@ d = query@@ .@@ a@@ do@@ p@@ t@@ (@@ new org.ovirt.engine.api.model.@@ Statistic@@ ()); assert@@ True@@ (@@ a@@ do@@ p@@ ted@@ .is@@ Set@@ Nic@@ ()); assert@@ Equals@@ (@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Nic@@ Resource@@ Test.@@ N@@ IC@@ _@@ ID@@ .@@ toString@@ (), a@@ do@@ p@@ ted@@ .get@@ Nic@@ ().get@@ Id()); assert@@ True@@ (@@ a@@ do@@ p@@ ted@@ .get@@ Nic@@ ().is@@ Set@@ Vm@@ ()); assert@@ Equals@@ (@@ org.ovirt.engine.api.restapi.resource.@@ Abstract@@ Backend@@ Nic@@ s@@ Resource@@ Test.@@ P@@ A@@ RE@@ N@@ T_@@ ID@@ .@@ toString@@ (), a@@ do@@ p@@ ted@@ .get@@ Nic@@ ().get@@ Vm().get@@ Id()); }
@java.lang.Override protected void b@@ e@@ for@@ e@@ Execution@@ () { org.apache.commons.@@ http@@ client.@@ m@@ ethod@@ s.@@ In@@ put@@ St@@ ream@@ Request@@ Entity in@@ put@@ St@@ ream@@ Request@@ Entity@@ ; if ((@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ U@@ plo@@ ad@@ St@@ ream@@ VDS@@ Command.getParameters().get@@ Size@@ ()) != null@@ ) { in@@ put@@ St@@ ream@@ Request@@ Entity = new org.apache.commons.@@ http@@ client.@@ m@@ ethod@@ s.@@ In@@ put@@ St@@ ream@@ Request@@ Entity(@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ U@@ plo@@ ad@@ St@@ ream@@ VDS@@ Command.getParameters().get@@ In@@ put@@ St@@ ream@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ U@@ plo@@ ad@@ St@@ ream@@ VDS@@ Command.getParameters().get@@ Size@@ ()); } else { in@@ put@@ St@@ ream@@ Request@@ Entity = new org.apache.commons.@@ http@@ client.@@ m@@ ethod@@ s.@@ In@@ put@@ St@@ ream@@ Request@@ Entity(@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ U@@ plo@@ ad@@ St@@ ream@@ VDS@@ Command.getParameters().get@@ In@@ put@@ St@@ ream@@ ()); } org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ U@@ plo@@ ad@@ St@@ ream@@ VDS@@ Command.get@@ Method@@ ().set@@ Request@@ Entity(@@ in@@ put@@ St@@ ream@@ Request@@ Entity@@ ); org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ U@@ plo@@ ad@@ St@@ ream@@ VDS@@ Command.get@@ Method@@ ().set@@ Request@@ H@@ ead@@ er@@ ("@@ Content@@ -@@ Type@@ ", "@@ ap@@ plication@@ /@@ oc@@ t@@ et@@ -@@ stream@@ "); if ((@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ U@@ plo@@ ad@@ St@@ ream@@ VDS@@ Command.getParameters().get@@ Size@@ ()) != null@@ ) { org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ U@@ plo@@ ad@@ St@@ ream@@ VDS@@ Command.get@@ Method@@ ().set@@ Request@@ H@@ ead@@ er@@ ("@@ Content@@ -@@ L@@ ength@@ ", org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ U@@ plo@@ ad@@ St@@ ream@@ VDS@@ Command.getParameters().get@@ Size@@ ().@@ toString()); } }
private com.google.gwt.@@ user.@@ client.@@ ui.@@ P@@ us@@ h@@ Bu@@ tt@@ on create@@ Button@@ (@@ final org.ovirt.engine.core.common.utils.Pair@@ <@@ T@@ , V@@ > item@@ ) { final T valu@@ e = item@@ .get@@ F@@ ir@@ st@@ (); final V w@@ id@@ ge@@ t = item@@ .get@@ Sec@@ ond@@ (); boolean g@@ host@@ I@@ te@@ m = is@@ G@@ host@@ (@@ value@@ ); final com.google.gwt.@@ user.@@ client.@@ ui.@@ P@@ us@@ h@@ Bu@@ tt@@ on bu@@ tt@@ on = new com.google.gwt.@@ user.@@ client.@@ ui.@@ P@@ us@@ h@@ Button@@ (@@ new com.google.gwt.@@ user.@@ client.@@ ui.@@ Image@@ ((@@ g@@ host@@ I@@ te@@ m ? res@@ ourc@@ es.@@ in@@ c@@ re@@ ase@@ I@@ con@@ () : res@@ ourc@@ es.@@ de@@ c@@ re@@ ase@@ I@@ con@@ ()))); bu@@ tton@@ .@@ add@@ Sty@@ le@@ Name(@@ st@@ y@@ le.@@ bu@@ tton@@ Sty@@ le@@ ()); bu@@ tton@@ .set@@ Enabled@@ ((!@@ g@@ host@@ Item@@ )); bu@@ tton@@ .@@ add@@ Cl@@ ick@@ Handler@@ ((@@ g@@ host@@ I@@ te@@ m ? new com.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Handler@@ () { @java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { get@@ E@@ n@@ try@@ (@@ w@@ idget@@ ).@@ s@@ w@@ ap@@ Button@@ (c@@ reate@@ Button@@ (@@ item@@ )); add@@ G@@ host@@ E@@ n@@ try@@ (); on@@ Add@@ (@@ value@@ , w@@ idget@@ ); } : new com.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Handler@@ () { @java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { remove@@ E@@ n@@ try@@ (@@ item@@ ); on@@ Remove@@ (@@ value@@ , w@@ idget@@ ); } }@@ )); return bu@@ tton@@ ; }
public org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ > get@@ Dat@@ ac@@ enter@@ P@@ h@@ y@@ s@@ ical@@ Network@@ () { return dat@@ ac@@ enter@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ; }
@java.lang.Override protected void build@@ Vm@@ Vir@@ ti@@ o@@ Ser@@ ial@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Device@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VmDevice@@ Dao().get@@ VmDevice@@ By@@ Vm@@ Id@@ Type@@ And@@ Device@@ (vm.get@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ C@@ ON@@ T@@ RO@@ L@@ L@@ ER@@ , VmDevice@@ Type.@@ V@@ I@@ R@@ TI@@ O@@ S@@ ER@@ I@@ AL@@ .get@@ Name()); for (org.ovirt.engine.core.common.businessentities.Vm@@ Device vm@@ Device : vm@@ Devices@@ ) { java.util.Map<java.lang.String, java.lang.Object> struc@@ t = new java.util.HashMap<@@ >(); struc@@ t.@@ put(@@ VdsProperties.@@ Type, VmDevice@@ Gener@@ al@@ Type.@@ C@@ ON@@ T@@ RO@@ L@@ L@@ ER@@ .get@@ Value@@ ()); struc@@ t.@@ put(@@ VdsProperties.@@ Device@@ , VdsProperties.@@ Vir@@ ti@@ o@@ Ser@@ ial@@ ); struc@@ t.@@ put(@@ VdsProperties.@@ In@@ dex@@ , java.lang.Integ@@ er.@@ toString@@ (0@@ )); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Buil@@ der.@@ add@@ Address@@ (vm@@ Device@@ , struc@@ t@@ ); add@@ Device@@ (@@ struc@@ t@@ , vm@@ Device@@ , null@@ ); } }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Migrate@@ Model object@@ ) { d@@ ri@@ ver.@@ edit@@ (@@ object@@ ); update@@ Messages@@ (@@ object@@ ); en@@ able@@ Sel@@ ection@@ Element@@ s(@@ objec@@ t.get@@ En@@ able@@ Sel@@ ection@@ Element@@ s()); objec@@ t.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChanged@@ EventArg@@ s args) { update@@ Messages@@ (@@ object@@ ); en@@ able@@ Sel@@ ection@@ Element@@ s(@@ objec@@ t.get@@ En@@ able@@ Sel@@ ection@@ Element@@ s()); } }); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ C@@ an not ${@@ action@@ } ${@@ type@@ }@@ . Th@@ e ma@@ x@@ im@@ u@@ m num@@ b@@ er of Host@@ s al@@ low@@ ed in Data C@@ en@@ te@@ r ha@@ s b@@ e@@ e@@ n ex@@ ceeded@@ .@@ ") java.lang.String ACTION_TYPE_FAILED_@@ EX@@ C@@ E@@ ED@@ ED_@@ MA@@ X@@ IM@@ U@@ M@@ _@@ N@@ U@@ M@@ B@@ ER_@@ O@@ F@@ _@@ HOST@@ S_@@ IN_@@ D@@ AT@@ A@@ _C@@ EN@@ TER@@ ();
@org.junit.Test public void test@@ Vm@@ I@@ l@@ le@@ g@@ al@@ () { setUp@@ Gener@@ al@@ Validation@@ s(); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ IM@@ AGE_@@ I@@ S_@@ IL@@ LE@@ G@@ AL@@ )).@@ when@@ (vm@@ Validator@@ ).@@ vm@@ Not@@ I@@ le@@ g@@ al@@ (); do@@ Return@@ (org.ovirt.engine.core.bll.@@ Create@@ AllSnapshots@@ From@@ Vm@@ Command@@ Tes@@ t.get@@ Empty@@ Disk@@ List@@ ()).@@ when@@ (cmd@@ ).get@@ Disks@@ List@@ (); assert@@ F@@ als@@ e(@@ cmd@@ .@@ canDoAction@@ ()); assert@@ True@@ (cmd@@ .get@@ ReturnValue().get@@ CanDoAction@@ Messages@@ ().@@ contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ IM@@ AGE_@@ I@@ S_@@ IL@@ LE@@ G@@ AL@@ .@@ name@@ ())); }
@@@ org.ovirt.engine.ui.frontend.@@ DefaultStringValue("@@ $@@ typ@@ e C@@ p@@ u Profile@@ ") java.lang.String VAR__@@ TYPE_@@ _C@@ P@@ U@@ _@@ F@@ IL@@ E@@ ();
@java.lang.Override protected void execute@@ Vm@@ Command() { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ w@@ ar@@ n@@ Memory@@ Size@@ Le@@ g@@ al@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ E@@ ff@@ ec@@ tive@@ CompatibilityVersion@@ ()); java.util.ArrayList<@@ java.lang.String> error@@ Message@@ s = new java.util.ArrayList<>(); if (!@@ (c@@ an@@ AddVm@@ (@@ error@@ Messages@@ , d@@ est@@ Stor@@ ages.@@ valu@@ es@@ ()))) { log.error("@@ Fail@@ ed to ad@@ d VM@@ . Th@@ e re@@ ason@@ s are@@ : {}@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ error@@ Messages@@ , '@@ ,@@ '@@ )); return@@ ; } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { add@@ Vm@@ Static@@ (); add@@ Vm@@ Dynamic@@ (); add@@ VmNetwork@@ (); add@@ Vm@@ Numa@@ Nod@@ es@@ (); add@@ Vm@@ Statistic@@ s(); add@@ Active@@ Snapshot@@ (); add@@ Vm@@ Permission@@ (); add@@ Vm@@ Init@@ (); add@@ Vm@@ R@@ ng@@ Device@@ (); get@@ Comp@@ ens@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; }); if (@@ add@@ Vm@@ Images@@ ()) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { c@@ opy@@ Vm@@ Devices@@ (); add@@ Disk@@ Permission@@ s(); add@@ Vm@@ P@@ ay@@ load@@ (); update@@ S@@ m@@ art@@ C@@ ard@@ Devices@@ (); add@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ (); add@@ Graphics@@ Device@@ (); set@@ Action@@ ReturnValue@@ (get@@ Vm().get@@ Id()); set@@ Succeeded@@ (@@ true@@ ); return null@@ ; }); } if ((org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Pool@@ Id()) != null@@ ) { add@@ Vm@@ To@@ Pool@@ (); } }
@@@ org.ovirt.engine.ui.common.@@ DefaultStringValue("@@ R@@ eb@@ oo@@ t in pro@@ ig@@ ress@@ ") java.lang.String re@@ b@@ oot@@ In@@ Progress@@ ();
@org.junit.Test public void in@@ s@@ u@@ ff@@ ic@@ i@@ ent@@ Disk@@ Sp@@ ace@@ With@@ Snapshot@@ s() { org.ovirt.engine.core.common.action.@@ ImportVm@@ Parameters parameter@@ s = create@@ Parameters@@ (); org.ovirt.engine.core.bll.validator.@@ Import@@ Validator valid@@ ator = set@@ up@@ Disk@@ Sp@@ ace@@ Test@@ (@@ parameters@@ ); parameters.set@@ Copy@@ Coll@@ ap@@ se@@ (@@ false@@ ); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AC@@ E_@@ LO@@ W@@ _@@ ON_@@ STORAGE_@@ DOMA@@ IN@@ )).@@ when@@ (m@@ ulti@@ ple@@ S@@ d@@ Validator@@ ).@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ Disks@@ With@@ Snapshot@@ s(@@ any@@ List@@ ()); assert@@ Equals@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AC@@ E_@@ LO@@ W@@ _@@ ON_@@ STORAGE_@@ DOMA@@ IN@@ , validator.@@ validate@@ Sp@@ ace@@ Requi@@ re@@ ment@@ s(@@ java.util.Collections.@@ <@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ >@@ em@@ pty@@ List@@ ())@@ .get@@ Message@@ ()); ve@@ r@@ if@@ y@@ (m@@ ulti@@ ple@@ S@@ d@@ Validator@@ , ne@@ ver@@ ()).@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ Cl@@ on@@ ed@@ Disk@@ s(@@ any@@ List@@ ()); ve@@ r@@ if@@ y@@ (m@@ ulti@@ ple@@ S@@ d@@ Validator@@ ).@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ Disks@@ With@@ Snapshot@@ s(@@ any@@ List@@ ()); ve@@ r@@ if@@ y@@ (m@@ ulti@@ ple@@ S@@ d@@ Validator@@ , ne@@ ver@@ ()).@@ all@@ Domain@@ s@@ H@@ ave@@ Sp@@ ace@@ For@@ New@@ Disk@@ s(@@ any@@ List@@ ()); }
@org.junit.Test public void test@@ Get@@ By@@ O@@ ri@@ gin@@ And@@ Custom@@ Event@@ Id@@ () { org.ovirt.engine.core.common.businessentities.@@ Au@@ dit@@ Lo@@ g result = d@@ ao@@ .get@@ By@@ O@@ ri@@ gin@@ And@@ Custom@@ Event@@ Id@@ ("@@ EM@@ S@@ ", 1@@ ); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ Equals@@ (@@ ex@@ ternal@@ AuditLog@@ , result@@ ); }
private void h@@ andle@@ Title@@ Panel@@ (java.lang.String event@@ Type, c@@ om.google.@@ gw@@ t@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ ) { if ((@@ ti@@ t@@ le@@ ) == "@@ ") { return@@ ; } ti@@ t@@ le@@ Pan@@ el.@@ set@@ Widget@@ (@@ new com.google.gwt.@@ user.@@ client.@@ ui.@@ Label@@ (@@ ti@@ t@@ le@@ )); if (@@ B@@ row@@ ser@@ Event@@ s.@@ M@@ O@@ US@@ E@@ OV@@ ER@@ .equals(@@ event@@ Type@@ )) { ti@@ t@@ le@@ Pan@@ el.@@ sh@@ ow@@ R@@ el@@ ati@@ ve@@ To@@ (@@ parent@@ ); } else if (@@ B@@ row@@ ser@@ Event@@ s.@@ M@@ O@@ US@@ E@@ O@@ U@@ T@@ .equals(@@ event@@ Type@@ )) { ti@@ t@@ le@@ Pan@@ el.@@ h@@ i@@ de@@ (); } }
private void c@@ al@@ c@@ ul@@ ate@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s@@ And@@ As@@ sert@@ Sync@@ (org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface if@@ ace@@ , boolean exp@@ ect@@ Sync@@ , java.lang.String network@@ Name, boolean vm@@ N@@ et@@ , int m@@ tu@@ , int v@@ lan@@ Id, org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ o@@ S q@@ os@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = create@@ Network@@ (network@@ Name, vm@@ N@@ et@@ , m@@ tu@@ , v@@ lan@@ Id); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interfac@@ e.@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s = org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ c@@ al@@ c@@ ul@@ ate@@ Network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s(@@ network@@ , q@@ os@@ , if@@ ace@@ ); assert@@ Not@@ Null@@ ("@@ Network im@@ pl@@ ement@@ ation d@@ et@@ ail@@ s shoul@@ d b@@ e fil@@ l@@ ed@@ .@@ ", network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s); assert@@ Equals@@ ((@@ ("@@ Network im@@ pl@@ ement@@ ation d@@ et@@ ail@@ s shoul@@ d b@@ e " + (@@ exp@@ ect@@ S@@ yn@@ c ? "@@ in@@ " : "@@ o@@ u@@ t o@@ f@@ "@@ )) + " s@@ ync@@ .@@ "@@ ), exp@@ ect@@ Sync@@ , network@@ Im@@ pl@@ ement@@ ation@@ Detail@@ s.@@ is@@ In@@ Sync@@ ()); }
public java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ <@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ > execute@@ Async@@ Command@@ (@@ final org.ovirt.engine.core.common.action.VdcAction@@ Type action@@ Type, final org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base parameters@@ , final org.ovirt.engine.core.bll.@@ contex@@ t.@@ Command@@ Contex@@ t cmd@@ Context@@ ) { final org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > c@@ ommand = org.ovirt.engine.core.bll.@@ Command@@ s@@ Fac@@ t@@ ory@@ .@@ create@@ Command(@@ action@@ Type, parameters@@ , cmd@@ Context@@ ); c@@ oc@@ o.@@ p@@ ers@@ ist@@ Command@@ Context@@ (command@@ .get@@ Command@@ Id(), cmd@@ Context@@ ); return org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ Execu@@ t@@ or.@@ execu@@ t@@ or.@@ sub@@ m@@ it@@ (@@ new java.util.@@ con@@ c@@ urr@@ ent.@@ Call@@ able@@ <@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ >() { @java.lang.Override public org.ovirt.engine.core.common.action.VdcReturnValue@@ Base call@@ () throw@@ s java.lang.Exception { return execute@@ Command@@ (command@@ ); } }); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Event event@@ ) { validate@@ Parameters(@@ event@@ , "@@ or@@ i@@ gin@@ ", "@@ se@@ ver@@ ity@@ ", "@@ event@@ F@@ lo@@ od@@ In@@ Sec@@ ", "@@ d@@ escription@@ "); org.ovirt.engine.core.common.businessentities.@@ Au@@ dit@@ Lo@@ g enti@@ ty = map@@ (@@ event@@ ); return p@@ er@@ for@@ m@@ Cre@@ ation@@ (VdcActionType.@@ Add@@ External@@ Event@@ , new org.ovirt.engine.core.common.action.@@ Add@@ External@@ Event@@ Parameters(@@ entity@@ ), new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <@@ java.lang.@@ L@@ on@@ g@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ AuditLog@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Get@@ AuditLog@@ By@@ Id@@ Parameters@@ .@@ class@@ )); }
void on@@ Is@@ Valid@@ Property@@ Chang@@ e(@@ org.ovirt.engine.ui.common.widget.@@ H@@ as@@ Valid@@ ation ed@@ itor@@ , org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model model@@ ) { if (model.get@@ Is@@ Valid@@ ()) { ed@@ itor@@ .m@@ ar@@ k@@ As@@ Valid@@ (); } else { if (@@ ed@@ itor@@ .is@@ Valid@@ ()) { ed@@ itor@@ .m@@ ar@@ k@@ As@@ In@@ valid@@ (model.get@@ In@@ valid@@ ity@@ Reason@@ s()); } } }
public java.lang.String get@@ IS@@ Os@@ Path@@ () { return this@@ .@@ IS@@ Os@@ Path@@ ; }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ ooltip@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model model@@ ) { java.util.Map<@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ , java.lang.String> im@@ ages@@ To@@ T@@ ex@@ t = new java.util.@@ Link@@ ed@@ Hash@@ Map<@@ >(); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ , java.lang.String@@ >(); if (((@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Model) (model@@ )).@@ is@@ VmNetwork@@ ()) { im@@ ages@@ To@@ T@@ ex@@ t.@@ put@@ (vm@@ Image@@ , org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Network@@ Role@@ Column@@ Helper@@ .get@@ T@@ ooltip@@ (@@ im@@ ages@@ To@@ Text@@ ); } return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Network@@ Role@@ Column@@ Helper@@ .get@@ T@@ ooltip@@ (@@ im@@ ages@@ To@@ Text@@ ); }
public java.lang.String get@@ Cpu@@ Name@@ By@@ Cpu@@ Id(@@ java.lang.String name@@ , org.ovirt.engine.core.compat.@@ Version ver@@ ) { final org.ovirt.engine.core.bll.@@ Cpu@@ F@@ l@@ ag@@ sManager@@ Handler.@@ Cpu@@ F@@ l@@ ag@@ s@@ Manage@@ r cpu@@ F@@ l@@ ag@@ s@@ Manage@@ r = org.ovirt.engine.core.bll.@@ Cpu@@ F@@ l@@ ag@@ sManager@@ Handler.@@ man@@ ag@@ ers@@ D@@ ic@@ tion@@ ar@@ y@@ .get(@@ ver@@ ); java.lang.String cpu@@ Name = (c@@ pu@@ F@@ l@@ ag@@ s@@ Manage@@ r != null@@ ) ? cpu@@ F@@ l@@ ag@@ sManager@@ .get@@ Cpu@@ Name@@ By@@ Cpu@@ Id(@@ name@@ ) : null@@ ; if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (c@@ pu@@ Name@@ )) { return cpu@@ Name@@ ; } return cpu@@ F@@ l@@ ag@@ s@@ Manage@@ r != null ? cpu@@ F@@ l@@ ag@@ sManager@@ .get@@ Cpu@@ Name@@ By@@ Cpu@@ Id@@ ((@@ nam@@ e + "@@ ,@@ +@@ sp@@ ec@@ -@@ c@@ tr@@ l@@ "@@ )) : null@@ ; }
@org.junit.Test public void test@@ Query@@ Execution@@ () { org.ovirt.engine.core.compat.Guid ad@@ Element@@ Gui@@ d = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); when@@ (get@@ Query@@ Parameters().get@@ Id@@ ()).@@ thenReturn(@@ ad@@ Element@@ Guid@@ ); org.ovirt.engine.core.common.businessentities.@@ Permission@@ s exp@@ ected = new org.ovirt.engine.core.common.businessentities.@@ Permission@@ s(); exp@@ ected@@ .set@@ ad@@ _@@ el@@ ement@@ _id@@ (@@ ad@@ Element@@ Guid@@ ); org.ovirt.engine.core.dao.@@ Permission@@ DA@@ O per@@ mission@@ DAO@@ M@@ oc@@ k = mock@@ (@@ org.ovirt.engine.core.dao.@@ Permission@@ DAO@@ .@@ class@@ ); when(@@ per@@ mission@@ DAO@@ Mock@@ .get@@ AllFor@@ Ad@@ Element@@ (@@ ad@@ Element@@ Guid@@ , get@@ User@@ ().get@@ Id(), get@@ Query@@ ().get@@ Engine@@ Session@@ Id(), get@@ Query@@ Parameters@@ ().is@@ Filter@@ ed@@ ())@@ ).@@ thenReturn(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ exp@@ ected@@ )); when@@ (get@@ DbFacade@@ Mock@@ Instance().get@@ Permission@@ Dao@@ ()).@@ thenReturn(@@ per@@ mission@@ DAO@@ Mock@@ ); get@@ Query@@ ().execute@@ Query@@ Command@@ (); @@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ check@@ ed@@ ") java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ s> act@@ u@@ al = ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ s@@ >) (get@@ Query@@ ().get@@ Query@@ ReturnValue().get@@ ReturnValue@@ ())); assert@@ Equals@@ ("@@ W@@ ron@@ g num@@ b@@ er of return@@ ed per@@ mission@@ s", 1, act@@ u@@ al.@@ size@@ ()); assert@@ Equals@@ ("@@ W@@ ron@@ g return@@ ed per@@ mission@@ s", exp@@ ected@@ , act@@ u@@ al@@ .get(@@ 0@@ )); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Change@@ s do@@ n@@ e to the Network@@ ing config@@ ur@@ ation ar@@ e tem@@ por@@ ar@@ y un@@ ti@@ l ex@@ pl@@ ic@@ it@@ l@@ y s@@ a@@ v@@ ed@@ .@@ \@@ n@@ Ar@@ e y@@ o@@ u s@@ ur@@ e y@@ o@@ u w@@ an@@ t to ma@@ k@@ e the ch@@ ang@@ es p@@ ers@@ ist@@ ent@@ ?@@ ") java.lang.String are@@ Y@@ o@@ u@@ S@@ ure@@ Y@@ o@@ u@@ W@@ an@@ t@@ To@@ Ma@@ ke@@ Th@@ e@@ Chang@@ es@@ P@@ ers@@ ist@@ ent@@ M@@ s@@ g@@ ();
public java.lang.Object call@@ () throw@@ s java.lang.Exception { _@@ par@@ s@@ er.@@ cli@@ En@@ vi@@ ron@@ ment@@ Set@@ (@@ N@@ et@@ En@@ v@@ .S@@ S@@ H@@ _@@ K@@ E@@ Y@@ , org.ovirt.engine.core.utils.@@ vi@@ r@@ t.@@ Engine@@ En@@ vi@@ ron@@ ment@@ Set@@ .@@ N@@ et@@ En@@ v@@ .S@@ S@@ H@@ _@@ K@@ E@@ Y@@ , org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Engine@@ SS@@ H@@ P@@ ubl@@ ic@@ Key@@ ().@@ re@@ pl@@ ace@@ ("@@ \@@ n@@ ", "@@ ")); return null@@ ; }
public java.util.List<@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .models.@@ Cluster@@ Resource@@ A@@ ver@@ age@@ > get@@ Cluster@@ Cpu@@ And@@ Memory@@ A@@ ver@@ age@@ () throw@@ s org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ D@@ ashboard@@ Data@@ Exception { final java.util.List<@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .models.@@ Cluster@@ Resource@@ A@@ ver@@ age@@ > result = new java.util.ArrayList<>(); run@@ Query@@ (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Cluster@@ D@@ wh@@ Dao@@ .@@ C@@ LUSTER_@@ L@@ A@@ ST@@ _@@ 2@@ 4@@ _@@ A@@ V@@ ER@@ AG@@ E, new org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Query@@ Result@@ Callback@@ () { @java.lang.Override public void on@@ Result@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { result.@@ add@@ (@@ new org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .models.@@ Cluster@@ Resource@@ A@@ ver@@ age@@ (rs.get@@ String@@ (@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Cluster@@ D@@ wh@@ Dao@@ .@@ NAM@@ E@@ ), r@@ s.get@@ Do@@ ubl@@ e(@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Cluster@@ D@@ wh@@ Dao@@ .@@ C@@ P@@ U@@ _@@ A@@ V@@ ER@@ AG@@ E@@ ), r@@ s.get@@ Do@@ ubl@@ e(@@ org.ovirt.engine.ui.frontend.server.@@ d@@ ashboard@@ .@@ d@@ ao.@@ Cluster@@ D@@ wh@@ Dao@@ .@@ M@@ EM@@ _@@ A@@ V@@ ER@@ AG@@ E@@ ))); } }); return result@@ ; }
@org.junit.Test public void test@@ M@@ ov@@ ing@@ To@@ M@@ a@@ int@@ en@@ ance@@ Domain@@ In@@ List@@ () { test@@ B@@ us@@ y@@ Domain@@ In@@ List(@@ StorageDomain@@ Status.@@ M@@ ov@@ ing@@ To@@ M@@ a@@ int@@ en@@ ance@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Im@@ por@@ t Pre@@ -@@ Configur@@ ed Domain@@ ") java.lang.String import@@ Pre@@ Configur@@ ed@@ Domain@@ Title@@ ();
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { mock@@ Vm@@ Validator@@ (); java.util.@@ Link@@ ed@@ List@@ (); init@@ StorageDomain@@ s(); init@@ StorageDomain@@ Validator@@ s(); init@@ Memory@@ Storage@@ Handler@@ (); }
protected org.ovirt.engine.core.bll.ValidationResult validate@@ Model@@ C@@ ompati@@ bl@@ e@@ With@@ O@@ s() { org.ovirt.engine.core.bll.validator.@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ Validator valid@@ ator = get@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ Validator@@ (); if (@@ valid@@ ator != null@@ ) { return validator.@@ is@@ Model@@ C@@ ompati@@ bl@@ e@@ With@@ O@@ s(); } else { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ C@@ LUSTER_@@ C@@ AN@@ _@@ NOT_@@ B@@ E_@@ EM@@ P@@ TY@@ ); } }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.VM get@@ Host@@ ed@@ Engine@@ () { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ ("@@ Get@@ Host@@ ed@@ Engine@@ Vm@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Dao@@ Impl.@@ VM@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ()); }
public static void m@@ ain@@ (@@ java.lang.String@@ [@@ ] args) throw@@ s java.io.@@ I@@ O@@ Exception@@ , java.lang.@@ Class@@ Not@@ F@@ ound@@ Exception { java.lang.@@ System@@ .@@ o@@ u@@ t.@@ p@@ r@@ int@@ l@@ n@@ ("@@ Gener@@ at@@ ing R@@ S@@ D@@ L fil@@ e.@@ .@@ .@@ "); org.ovirt.engine.api.model.@@ R@@ S@@ D@@ L r@@ sd@@ l = org.ovirt.engine.api.@@ r@@ sd@@ l.@@ R@@ sd@@ l@@ Manager.@@ build@@ R@@ sd@@ l@@ (@@ arg@@ s@@ [@@ 0@@ ]@@ , arg@@ s@@ [@@ 1@@ ]@@ ); org.ovirt.engine.api.@@ r@@ sd@@ l.@@ R@@ sd@@ l@@ Manager.@@ ser@@ ial@@ ize@@ R@@ sd@@ l@@ (r@@ sd@@ l@@ , arg@@ s@@ [@@ 2@@ ]@@ ); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c dis@@ conn@@ ect@@ StoragePool@@ (java.lang.String sp@@ UUID@@ , int host@@ Sp@@ m@@ Id, java.lang.String S@@ C@@ SI@@ Key@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ Json@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Storage@@ Poo@@ l.@@ dis@@ conn@@ ect@@ ").@@ with@@ Parameter("@@ storage@@ pool@@ ID@@ ", sp@@ UUID@@ ).@@ with@@ Parameter("@@ host@@ ID@@ ", host@@ Sp@@ m@@ Id@@ ).@@ with@@ Parameter("@@ s@@ csi@@ Key@@ ", S@@ C@@ SI@@ Key@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , request@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ VdsNetworkInterface get@@ Manage@@ d@@ Interface@@ For@@ Vds@@ By@@ Vds@@ Id(@@ org.ovirt.engine.core.compat.Guid id@@ , org.ovirt.engine.core.compat.Guid user@@ ID@@ , boolean is@@ Filter@@ ed@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ vds@@ _id", id@@ ).@@ addValue("@@ user@@ _id", user@@ ID@@ ).@@ addValue("@@ is@@ _@@ filter@@ ed@@ ", is@@ Filter@@ ed@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ ("@@ Get@@ Vds@@ Manage@@ d@@ Interface@@ By@@ Vds@@ Id@@ ", org.ovirt.engine.core.dao.@@ Interface@@ DAO@@ DbFacade@@ Impl.@@ vds@@ Network@@ Interface@@ Row@@ Map@@ per@@ , parameter@@ Source@@ ); }
public org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t add@@ Active@@ Snapshot@@ (org.ovirt.engine.core.compat.Guid snapshot@@ Id, org.ovirt.engine.core.common.businessentities.VM vm@@ , org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t.@@ Snapshot@@ Status snapshot@@ Status@@ , final org.ovirt.engine.core.bll.@@ contex@@ t.@@ Comp@@ ens@@ ation@@ Contex@@ t comp@@ ens@@ ation@@ Context@@ ) { return add@@ Active@@ Snapshot@@ (s@@ napshot@@ Id, vm@@ , snapshot@@ Status@@ , "@@ ", null@@ , null@@ , comp@@ ens@@ ation@@ Context@@ ); }
public static java.lang.String m@@ er@@ g@@ e(@@ java.lang.String key@@ , java.lang.String value@@ , java.lang.String c@@ ustom@@ Value@@ ) { if (!(@@ org.ovirt.engine.core.utils.@@ p@@ m.@@ Fence@@ Config@@ Helper.@@ initial@@ iz@@ ed@@ )) { org.ovirt.engine.core.utils.@@ p@@ m.@@ Fence@@ Config@@ Helper.@@ init@@ (); } java.lang.String@@ Buil@@ der s@@ b = new java.lang.String@@ Builder@@ (); s@@ b@@ .@@ append@@ (@@ value@@ ); if ((@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ value@@ )) && (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (c@@ ustom@@ Value@@ ))) { if (@@ org.ovirt.engine.core.utils.@@ p@@ m.@@ Fence@@ Config@@ Helper.@@ is@@ Valid@@ (@@ key@@ , c@@ ustom@@ Value@@ )) { s@@ b@@ .@@ append@@ (@@ org.ovirt.engine.core.utils.@@ p@@ m.@@ Fence@@ Config@@ Helper.@@ key@@ Se@@ par@@ ator@@ Map@@ .get(@@ key@@ )); s@@ b@@ .@@ append@@ (c@@ ustom@@ Value@@ ); } else { org.ovirt.engine.core.utils.@@ p@@ m.@@ Fence@@ Config@@ Helper.@@ log.error@@ Format@@ ("@@ Configur@@ ation ke@@ y {0@@ } ha@@ s il@@ le@@ g@@ al valu@@ e {@@ 1@@ }@@ . Exp@@ ress@@ ion shoul@@ d mat@@ ch {@@ 2@@ }@@ ", key@@ , c@@ ustom@@ Value@@ , org.ovirt.engine.core.utils.@@ p@@ m.@@ Fence@@ Config@@ Helper.@@ key@@ Validator@@ Map@@ .get(@@ key@@ )); } } return s@@ b@@ .@@ toString@@ (); }
public void test@@ Ovf@@ Data@@ Up@@ dat@@ er@@ All@@ Vms@@ And@@ Templ@@ at@@ es@@ A@@ re@@ Lock@@ ed@@ (@@ boolean ovf@@ On@@ An@@ y@@ Domain@@ Supported@@ ) { int s@@ iz@@ e = (@@ I@@ T@@ EM@@ S_@@ C@@ O@@ UN@@ T_@@ P@@ ER_@@ UP@@ D@@ AT@@ E@@ ) - 1@@ ; java.util.List<@@ org.ovirt.engine.core.compat.Guid> vm@@ Guid@@ s = gener@@ ate@@ Guid@@ List@@ (s@@ ize@@ ); add@@ Vm@@ s(@@ vm@@ Gui@@ ds@@ , 2@@ , VMStatus.@@ Image@@ Lock@@ ed@@ , Image@@ Status.@@ O@@ K@@ , pool@@ 1@@ .getId()); java.util.List<@@ org.ovirt.engine.core.compat.Guid> rem@@ oved@@ Guid@@ s = gener@@ ate@@ Guid@@ List@@ (s@@ ize@@ ); java.util.List<@@ org.ovirt.engine.core.compat.Guid> templat@@ es@@ Guid@@ s = gener@@ ate@@ Guid@@ List@@ (s@@ ize@@ ); add@@ Templ@@ at@@ es(@@ templat@@ es@@ Gui@@ ds@@ , 2@@ , VmTemplate@@ Status.@@ Lock@@ ed@@ , Image@@ Status.@@ O@@ K@@ , pool@@ 1@@ .getId()); init@@ Test@@ For@@ Pool@@ (@@ pool@@ 1, vm@@ Gui@@ ds@@ , templat@@ es@@ Gui@@ ds@@ , rem@@ oved@@ Gui@@ ds@@ ); command@@ .@@ execute@@ Command@@ (); ve@@ r@@ if@@ y@@ (command@@ , ne@@ ver@@ ()).@@ p@@ er@@ for@@ m@@ Ovf@@ Update@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ .@@ class@@ ), any@@ Map@@ ()); if (!@@ ovf@@ On@@ An@@ y@@ Domain@@ Supported@@ ) { ve@@ r@@ if@@ y@@ (@@ ovf@@ Update@@ Pro@@ cess@@ Helper@@ , tim@@ es@@ (s@@ ize@@ )).@@ execute@@ Remove@@ Vm@@ In@@ Sp@@ m@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); } ve@@ r@@ if@@ y@@ C@@ or@@ r@@ ect@@ Ovf@@ Data@@ Up@@ dat@@ er@@ Run@@ (@@ pool@@ 1, java.util.Collections.@@ <@@ org.ovirt.engine.core.compat.Guid@@ >@@ em@@ pty@@ List@@ (), rem@@ oved@@ Gui@@ ds@@ ); }
@java.lang.Override protected org.ovirt.engine.core.common.businessentities.@@ DiskImage get@@ DiskImage@@ () { return super@@ .get@@ DiskImage@@ (); }
private java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > get@@ Snapshots@@ To@@ Be@@ Im@@ ported@@ With@@ Memory@@ () { if (get@@ Parameters().get@@ Copy@@ Coll@@ ap@@ se@@ ()) { org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t ac@@ tive@@ S@@ napsho@@ t = get@@ Snapshot@@ Dao().get@@ (get@@ Vm@@ Id(), Snapshot@@ Type.@@ AC@@ TI@@ V@@ E); return !@@ (@@ ac@@ tive@@ S@@ napsho@@ t.get@@ Memory@@ Volume@@ ().is@@ Empty@@ ()) ? java.util.Collections.@@ <org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ >@@ sing@@ leton@@ (@@ ac@@ tive@@ Snapshot@@ ) : java.util.Collections.@@ <org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ >@@ em@@ pty@@ List@@ (); } else { java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > memory@@ 2@@ s@@ napsho@@ t = new java.util.HashMap<@@ java.lang.String, org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t : get@@ Snapshot@@ Dao().get@@ All@@ (get@@ Vm@@ Id@@ ())) { memory@@ 2@@ s@@ napsho@@ t.@@ put@@ (s@@ napsho@@ t.get@@ Memory@@ Volume@@ (), snapshot@@ ); } memory@@ 2@@ s@@ napsho@@ t.@@ remove@@ (@@ StringUtils.@@ EM@@ P@@ TY@@ ); return memory@@ 2@@ s@@ napsho@@ t.@@ valu@@ es@@ (); } }
private org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult validate@@ (java.lang.Object ic@@ on@@ ) { org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult type@@ Valid@@ ation = validate@@ Type(@@ ic@@ on@@ ); if (!(@@ type@@ Validation@@ .get@@ Success@@ ())) { return type@@ Validation@@ ; } org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult d@@ im@@ en@@ sion@@ s@@ Valid@@ ation = validate@@ D@@ im@@ en@@ sion@@ s(@@ ic@@ on@@ ); org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult size@@ Valid@@ ation = validate@@ S@@ iz@@ e(@@ ic@@ on@@ ); if ((@@ d@@ im@@ en@@ sion@@ s@@ Validation@@ .get@@ Success@@ ()) && (s@@ ize@@ Validation@@ .get@@ Success@@ ())) { return org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult.@@ o@@ k@@ (); } final java.util.List<java.lang.String> re@@ ason@@ s = org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ con@@ cat@@ Typ@@ es@@ af@@ e(@@ d@@ im@@ en@@ sion@@ s@@ Validation@@ .get@@ Reason@@ s()); return new org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult@@ (@@ false@@ , re@@ ason@@ s); }
private void assert@@ Host@@ Nic@@ Vfs@@ Config@@ Equals@@ (org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Nic@@ Vfs@@ Confi@@ g config@@ 1, org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Nic@@ Vfs@@ Confi@@ g config@@ 2@@ ) { assert@@ Equals@@ ("@@ id@@ ", config@@ 1@@ .get@@ Id(), config@@ 2@@ .getId()); assert@@ Equals@@ ("@@ nic@@ _id", config@@ 1@@ .get@@ Nic@@ Id(), config@@ 2@@ .get@@ Nic@@ Id()); assert@@ Equals@@ ("@@ ma@@ x@@ _@@ num@@ _@@ o@@ f@@ _@@ vf@@ s", config@@ 1@@ .get@@ Max@@ Num@@ Of@@ Vfs@@ (), config@@ 2@@ .get@@ Max@@ Num@@ Of@@ Vfs@@ ()); assert@@ Equals@@ ("@@ num@@ _@@ o@@ f@@ _@@ vf@@ s", config@@ 1@@ .get@@ Num@@ Of@@ Vfs@@ (), config@@ 2@@ .get@@ Num@@ Of@@ Vfs@@ ()); assert@@ Equals@@ ("@@ num@@ _@@ o@@ f@@ _@@ f@@ ree@@ _@@ vf@@ s", config@@ 1@@ .get@@ Num@@ Of@@ F@@ ree@@ Vfs@@ (), config@@ 2@@ .get@@ Num@@ Of@@ F@@ ree@@ Vfs@@ ()); assert@@ Equals@@ ("@@ all@@ _@@ network@@ s@@ _@@ al@@ low@@ ed@@ ", config@@ 1@@ .is@@ All@@ Networks@@ Allow@@ ed@@ (), config@@ 2@@ .is@@ All@@ Networks@@ Allow@@ ed@@ ()); assert@@ Equals@@ ("@@ network@@ s", config@@ 1@@ .get@@ Networks@@ (), config@@ 2@@ .get@@ Networks@@ ()); assert@@ Equals@@ ("@@ label@@ s", config@@ 1@@ .get@@ Label@@ s@@ (), config@@ 2@@ .get@@ Label@@ s()); }
@org.junit.Test public void cluster@@ Al@@ read@@ y@@ In@@ Local@@ F@@ s() { pre@@ par@@ e@@ Management@@ Network@@ Mock@@ s(); create@@ Command@@ With@@ Default@@ VdsGroup@@ (); old@@ Group@@ Is@@ Det@@ ach@@ ed@@ Default@@ (); storagePool@@ Is@@ Local@@ FS@@ (); set@@ up@@ Cpu@@ (); all@@ Quer@@ i@@ es@@ For@@ Vms@@ (); storagePool@@ Al@@ read@@ y@@ H@@ as@@ Cluster@@ (); arch@@ it@@ ect@@ ure@@ Is@@ Up@@ dat@@ able@@ (); canDoAction@@ Fail@@ ed@@ With@@ Reason@@ (EngineMessage.@@ VDS@@ _@@ G@@ RO@@ UP@@ _C@@ ANNOT_@@ AD@@ D_@@ M@@ OR@@ E_@@ TH@@ EN@@ _@@ ON@@ E_@@ HOST@@ _@@ TO@@ _@@ LO@@ C@@ AL@@ _@@ STOR@@ AG@@ E); }
private void set@@ up@@ Gluster@@ Mock@@ (@@ boolean cluster@@ H@@ as@@ Server@@ s, org.ovirt.engine.core.common.businessentities.@@ VDS up@@ Server@@ , boolean has@@ P@@ e@@ ers@@ ) throw@@ s java.lang.Exception { set@@ up@@ C@@ ommon@@ Mock@@ (@@ true@@ ); when@@ (command@@ Mock@@ .@@ create@@ ReturnValue@@ ()).@@ then@@ Call@@ Re@@ al@@ Method@@ (); when@@ (command@@ Mock@@ .get@@ ReturnValue@@ ()).@@ then@@ Call@@ Re@@ al@@ Method@@ (); do@@ Call@@ Re@@ al@@ Method@@ ().@@ when@@ (command@@ Mock@@ ).@@ add@@ Validation@@ Message@@ (@@ any@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Message@@ .@@ class@@ )); when@@ (command@@ Mock@@ .get@@ Gluster@@ Util@@ ()).@@ thenReturn(@@ gluster@@ Util@@ ); when(@@ gluster@@ Util@@ .get@@ P@@ e@@ ers@@ (@@ any@@ (org.ovirt.engine.core.bll.@@ utils.@@ Engine@@ SS@@ H@@ Client@@ .@@ class@@ )@@ )).@@ then@@ Return@@ ((@@ has@@ P@@ e@@ er@@ s ? java.util.Collections.@@ sing@@ leton@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ plo@@ y@@ .@@ Add@@ Vds@@ Command@@ Test.@@ P@@ E@@ ER_@@ 1@@ ) : java.util.Collections.@@ <@@ java.lang.String@@ >@@ em@@ pty@@ Set@@ ())); when@@ (command@@ Mock@@ .get@@ Gluster@@ D@@ B@@ Util@@ s@@ ()).@@ thenReturn(@@ gluster@@ D@@ B@@ Util@@ s); when@@ (cluster@@ Utils.@@ has@@ Server@@ s(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (cluster@@ H@@ as@@ Server@@ s); when(@@ vds@@ Dao@@ Mock@@ .get@@ AllFor@@ VdsGroup@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (m@@ ock@@ Vds@@ In@@ Db@@ ((@@ cluster@@ H@@ as@@ Server@@ s ? org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ an@@ c@@ e : org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ In@@ itial@@ iz@@ ing@@ ))); when@@ (cluster@@ Util@@ s.get@@ Up@@ Server@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ thenReturn(@@ up@@ Server@@ ); }
@java.lang.Override protected void set@@ Action@@ Message@@ Parameters@@ () { add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ ACTION_@@ _@@ RE@@ F@@ RE@@ S@@ H@@ ); add@@ Validation@@ Message@@ (EngineMessage.@@ VAR__@@ TYPE_@@ _@@ HOST@@ _C@@ A@@ P@@ AB@@ IL@@ I@@ TI@@ ES@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se p@@ er@@ for@@ m@@ Remove@@ (java.lang.String id@@ ) { org.ovirt.engine.core.common.@@ Attach@@ Det@@ ach@@ Storage@@ Connection@@ Parameters param@@ s = new org.ovirt.engine.core.common.@@ Attach@@ Det@@ ach@@ Storage@@ Connection@@ Parameters(@@ storageDomain@@ Id, id@@ ); return p@@ er@@ for@@ m@@ Action(VdcActionType.@@ Det@@ ach@@ Storage@@ Connection@@ From@@ StorageDomain@@ , param@@ s); }
@org.junit.Test public void test@@ Can@@ Attach@@ Multiple@@ IS@@ O@@ Or@@ Export@@ () { for (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type typ@@ e : java.util.Arrays.@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type@@ >@@ as@@ List(@@ StorageDomain@@ Type.@@ IS@@ O@@ , StorageDomain@@ Type.@@ Import@@ Export@@ )) { storageDomain@@ .set@@ StorageDomain@@ Type(@@ type@@ ); sp@@ y@@ Validator@@ (); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ List = new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >(); org.ovirt.engine.core.common.businessentities.Storage@@ Domain do@@ m@@ ain@@ With@@ S@@ ame@@ Type = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ (); do@@ m@@ ain@@ With@@ S@@ ame@@ Type.@@ set@@ StorageDomain@@ Type(@@ type@@ ); do@@ m@@ ain@@ List.@@ add@@ (@@ do@@ m@@ ain@@ With@@ S@@ ame@@ Type@@ ); when(@@ storageDomain@@ Dao.get@@ AllFor@@ StoragePool@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ do@@ m@@ ain@@ List@@ ); org.ovirt.engine.core.bll.ValidationResult attach@@ Multiple@@ IS@@ O@@ Export@@ Result = validator.@@ validate@@ Domain@@ Can@@ Be@@ Attached@@ To@@ Pool@@ (); assert@@ F@@ alse@@ ((@@ ("@@ Attach@@ ing do@@ ma@@ in of typ@@ e " + typ@@ e) + " s@@ uc@@ cee@@ de@@ d while i@@ t shoul@@ d ha@@ v@@ e fail@@ ed@@ "@@ ), attach@@ Multiple@@ IS@@ O@@ Or@@ Export@@ Res@@ ult.@@ is@@ Valid@@ ()); assert@@ Fail@@ ing@@ Message@@ ((@@ ("@@ Attach@@ ing do@@ ma@@ in of typ@@ e " + typ@@ e) + " s@@ uc@@ cee@@ de@@ d th@@ o@@ u@@ g@@ h an@@ oth@@ er do@@ ma@@ in of the s@@ am@@ e typ@@ e al@@ read@@ y ex@@ ist@@ s in the pool@@ "@@ ), attach@@ Multiple@@ IS@@ O@@ Or@@ Export@@ Result@@ , (@@ typ@@ e == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ IS@@ O@@ ) ? org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ AT@@ T@@ AC@@ H@@ _@@ M@@ OR@@ E_@@ TH@@ AN@@ _@@ ON@@ E_@@ IS@@ O@@ _@@ DOMA@@ I@@ N : org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ AT@@ T@@ AC@@ H@@ _@@ M@@ OR@@ E_@@ TH@@ AN@@ _@@ ON@@ E_@@ EX@@ POR@@ T_@@ DOMA@@ IN@@ )); } }
@java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { for (org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage im@@ age : filter@@ ed@@ Images@@ ) { if ((@@ im@@ age.get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ StorageType.@@ C@@ IN@@ D@@ ER@@ )) { c@@ inder@@ Disk@@ s.@@ add@@ ((@@ (org.ovirt.engine.core.common.businessentities.storage.@@ Cinder@@ Disk@@ ) (@@ image@@ ))); continue@@ ; } org.ovirt.engine.core.common.action.VdcReturnValue@@ Base v@@ dc@@ ReturnValue = run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (VdcActionType.@@ Tr@@ y@@ Back@@ To@@ Snapshot@@ , build@@ Tr@@ y@@ Back@@ To@@ Snapshot@@ Parameters@@ (@@ new@@ Active@@ Snapshot@@ Id, image@@ )); if (@@ v@@ dc@@ Return@@ Value.get@@ Succeeded@@ ()) { get@@ Task@@ Id@@ List@@ ().add@@ All@@ (@@ v@@ dc@@ Return@@ Value.get@@ Internal@@ Vds@@ m@@ Task@@ Id@@ List@@ ()); } else if ((@@ v@@ dc@@ Return@@ Value.get@@ F@@ a@@ ult@@ ()) != null@@ ) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (@@ v@@ dc@@ Return@@ Value.get@@ F@@ a@@ ult@@ ().get@@ Error@@ (), v@@ dc@@ Return@@ Value.get@@ F@@ a@@ ult@@ ().get@@ Message@@ ()); } else { log.error("@@ Can@@ not c@@ re@@ ate snapshot@@ "); throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ I@@ R@@ S_@@ IM@@ AGE_@@ ST@@ AT@@ U@@ S_@@ IL@@ LE@@ G@@ AL@@ ); } } if ((!@@ (c@@ inder@@ Disk@@ s.@@ isEmpty@@ ())) && (!@@ (@@ try@@ Back@@ All@@ Cinder@@ Disks@@ (c@@ inder@@ Disk@@ s, new@@ Active@@ Snapshot@@ Id@@ )@@ ))) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ C@@ IN@@ D@@ ER_@@ ER@@ R@@ OR@@ , "@@ Fail@@ ed to pre@@ vi@@ e@@ w a snapshot@@ !@@ "); } return null@@ ; }
@java.lang.Override protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > get@@ Un@@ der@@ Util@@ iz@@ ed@@ Host@@ s@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group cluster@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > re@@ le@@ v@@ an@@ t@@ Host@@ s, final java.util.Map<java.lang.String, java.lang.String> parameters@@ ) { final int m@@ igr@@ ation@@ Th@@ resh@@ ol@@ d = try@@ Par@@ se@@ With@@ Default@@ (@@ parameters@@ .get@@ ("@@ Migration@@ Th@@ resh@@ old@@ "@@ ), get@@ Migration@@ Th@@ resh@@ old@@ Default@@ ()); final org.ovirt.engine.core.common.businessentities.@@ VDS wor@@ st@@ VDS = get@@ W@@ or@@ st@@ VDS@@ (@@ re@@ le@@ v@@ an@@ t@@ Host@@ s, parameters@@ ); return org.ovirt.engine.core.utils.@@ lin@@ q@@ .@@ Lin@@ q@@ Utils.@@ filter@@ (@@ re@@ le@@ v@@ an@@ t@@ Host@@ s, new org.ovirt.engine.core.utils.@@ lin@@ q@@ .@@ P@@ red@@ icate@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ >() { @java.lang.Override public boolean e@@ val@@ (org.ovirt.engine.core.common.businessentities.@@ VDS p@@ ) { int d@@ ist@@ an@@ c@@ e = (get@@ O@@ c@@ up@@ i@@ ed@@ VM@@ S@@ L@@ ot@@ s(@@ wor@@ st@@ VDS@@ , parameters@@ )) - (get@@ O@@ c@@ c@@ up@@ i@@ ed@@ VM@@ S@@ L@@ ot@@ s(@@ p@@ , parameters@@ )); } }); }
private void check@@ Re@@ port@@ s@@ De@@ plo@@ y@@ ment@@ Status@@ () { com.google.gwt.@@ http@@ .client.@@ Request@@ Buil@@ der request@@ Buil@@ der = new com.google.gwt.@@ http@@ .client.@@ Request@@ Builder@@ (c@@ om.google.gwt.@@ http@@ .client.@@ Request@@ Buil@@ der.@@ G@@ ET@@ , ((@@ re@@ port@@ Base@@ U@@ r@@ l@@ ) + "@@ /@@ Status@@ ")); try { request@@ Buil@@ der.@@ set@@ Time@@ out@@ M@@ il@@ lis@@ (@@ 1@@ 00@@ 0@@ ); request@@ Buil@@ der.@@ s@@ end@@ Request@@ (@@ null@@ , new com.google.gwt.@@ http@@ .client.@@ Request@@ Callback@@ () { @java.lang.Override public void on@@ Error@@ (c@@ om.google.gwt.@@ http@@ .client.@@ Re@@ quest request@@ , java.lang.@@ Th@@ row@@ able ex@@ ce@@ ption@@ ) { } @java.lang.Override public void on@@ Respon@@ se@@ Rec@@ e@@ i@@ v@@ ed@@ (c@@ om.google.gwt.@@ http@@ .client.@@ Re@@ quest request@@ , com.google.gwt.@@ http@@ .client.@@ Respon@@ se respon@@ se@@ ) { if (((@@ respon@@ s@@ e.get@@ Status@@ Code@@ ()) == (c@@ om.google.gwt.@@ http@@ .client.@@ Respon@@ s@@ e.@@ S@@ C@@ _@@ O@@ K@@ )) && (@@ respon@@ s@@ e.get@@ Text@@ ().@@ t@@ ri@@ m@@ ().@@ equals(@@ org.ovirt.engine.ui.uicommonweb.@@ Re@@ port@@ In@@ it.@@ RE@@ PORT@@ S_@@ W@@ E@@ B@@ A@@ P@@ _@@ DE@@ P@@ LO@@ Y@@ ED_@@ M@@ S@@ G@@ ))) { re@@ port@@ s@@ W@@ eb@@ app@@ De@@ plo@@ y@@ ed = true@@ ; par@@ se@@ Re@@ port@@ s@@ X@@ M@@ L@@ (); } } }); } catch (c@@ om.google.gwt.@@ http@@ .client.@@ Request@@ Exception e) { } }
boolean ve@@ r@@ if@@ y@@ Host@@ s(@@ org.ovirt.engine.core.common.action.@@ Conn@@ ect@@ Host@@ To@@ StoragePool@@ Server@@ s@@ Parameters parameters@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s> connection@@ s);
@org.junit.Test public void test@@ W@@ ar@@ n@@ On@@ Active@@ Vm@@ P@@ os@@ i@@ tive@@ () { test@@ W@@ ar@@ n@@ On@@ Active@@ Vm@@ In@@ n@@ er@@ (@@ true@@ ); org.@@ mock@@ it@@ o.@@ Mock@@ it@@ o.@@ ve@@ r@@ if@@ y@@ (m@@ ock@@ AuditLog@@ able@@ Base@@ ).@@ au@@ ditLog@@ (@@ au@@ ditLog@@ able@@ Base@@ C@@ ap@@ t@@ or.@@ c@@ ap@@ t@@ ure@@ (), org.@@ mock@@ it@@ o.@@ Mock@@ it@@ o.@@ s@@ ame@@ (@@ AuditLogType.@@ NETWORK_@@ UP@@ D@@ AT@@ E_@@ DIS@@ P@@ L@@ A@@ Y_@@ F@@ OR@@ _C@@ LUSTER_@@ W@@ I@@ TH@@ _@@ AC@@ TI@@ V@@ E_@@ VM@@ )); final org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base act@@ u@@ al@@ Log@@ g@@ able = au@@ ditLog@@ able@@ Base@@ C@@ ap@@ t@@ or@@ .get@@ Value@@ (); org.junit.@@ As@@ sert@@ .@@ assert@@ Equals@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ h@@ el@@ p@@ er.@@ Display@@ Network@@ Cluster@@ Helper@@ Test.@@ T@@ E@@ ST@@ _C@@ LUSTER_@@ ID@@ , act@@ u@@ al@@ Log@@ g@@ abl@@ e.get@@ VdsGroup@@ Id()); assert@@ Equals@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ h@@ el@@ p@@ er.@@ Display@@ Network@@ Cluster@@ Helper@@ Test.@@ T@@ E@@ ST@@ _@@ NETWORK_@@ NAM@@ E, act@@ u@@ al@@ Log@@ g@@ abl@@ e.get@@ Custom@@ Value("@@ network@@ name@@ ")); }
protected java.util.Map<java.lang.String, java.lang.Object> build@@ () { java.util.Map<java.lang.String, java.lang.Object> struc@@ t = new java.util.HashMap<@@ >(); struc@@ t.@@ put(@@ VdsProperties.@@ vm@@ _@@ g@@ uid@@ , org.ovirt.engine.core.vdsbroker.@@ Update@@ Vm@@ Policy@@ VDS@@ Command.getParameters().get@@ Vm@@ Id().@@ toString()); if ((@@ org.ovirt.engine.core.vdsbroker.@@ Update@@ Vm@@ Policy@@ VDS@@ Command.getParameters().get@@ Cpu@@ L@@ im@@ it@@ ()) != null@@ ) { struc@@ t.@@ put(@@ VdsProperties.@@ v@@ Cpu@@ L@@ im@@ it@@ , java.lang.String.@@ value@@ Of@@ (@@ org.ovirt.engine.core.vdsbroker.@@ Update@@ Vm@@ Policy@@ VDS@@ Command.getParameters().get@@ Cpu@@ L@@ im@@ it@@ ())); } java.util.List<@@ java.lang.Object> i@@ o@@ T@@ un@@ es@@ List = new java.util.ArrayList<>(); for (org.ovirt.engine.core.common.@@ vdscommands.@@ Update@@ Vm@@ Policy@@ VDS@@ Param@@ s.@@ I@@ o@@ T@@ u@@ ne@@ Param@@ s par@@ a@@ m : org.ovirt.engine.core.vdsbroker.@@ Update@@ Vm@@ Policy@@ VDS@@ Command.getParameters().get@@ I@@ o@@ T@@ u@@ ne@@ List@@ ()) { java.util.Map<java.lang.String, java.lang.Object> i@@ o@@ Str@@ uc@@ t = new java.util.HashMap<@@ >(); if ((@@ param@@ .get@@ Domain@@ Id()) != null@@ ) { i@@ o@@ Str@@ uc@@ t.@@ put(@@ "@@ do@@ m@@ ain@@ Id@@ ", param@@ .get@@ Domain@@ Id()); } if ((@@ param@@ .get@@ Pool@@ Id()) != null@@ ) { i@@ o@@ Str@@ uc@@ t.@@ put@@ ("@@ pool@@ Id@@ ", param@@ .get@@ Pool@@ Id()); } if ((@@ param@@ .get@@ Image@@ Id()) != null@@ ) { i@@ o@@ Str@@ uc@@ t.@@ put@@ ("@@ image@@ Id@@ ", param@@ .get@@ Image@@ Id()); } if ((@@ param@@ .get@@ Volume@@ Id()) != null@@ ) { i@@ o@@ Str@@ uc@@ t.@@ put@@ ("@@ volume@@ Id@@ ", param@@ .get@@ Volume@@ Id()); } i@@ o@@ Str@@ uc@@ t.@@ put@@ ("@@ ma@@ x@@ im@@ um@@ ", param@@ .get@@ I@@ o@@ T@@ u@@ ne@@ ()); i@@ o@@ T@@ un@@ es@@ List.@@ add(@@ i@@ o@@ Str@@ uc@@ t@@ ); } if (!(@@ i@@ o@@ T@@ un@@ es@@ List.@@ isEmpty@@ ())) { struc@@ t.@@ put(@@ VdsProperties.@@ I@@ ot@@ u@@ ne@@ , i@@ o@@ T@@ un@@ es@@ List@@ ); } return struc@@ t@@ ; }
private boolean is@@ C@@ lo@@ u@@ d@@ Init@@ Us@@ ed@@ (@@ final org.ovirt.engine.core.common.businessentities.VM vm@@ ) { return (vm.get@@ In@@ itial@@ ization@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ ization@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ )) && (vm.get@@ Vm@@ O@@ s().@@ is@@ Lin@@ u@@ x@@ ())) && (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (vm.get@@ C@@ d@@ Path@@ ())); }
@java.lang.Override public void eventRaised(@@ org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { java.lang.String s@@ lave@@ Us@@ er = get@@ S@@ lave@@ User@@ Name@@ ().getEntity@@ (); get@@ S@@ lave@@ User@@ Group@@ Name@@ ().setIs@@ Chang@@ able@@ ((@@ (s@@ lave@@ Us@@ er != null@@ ) && (!@@ (s@@ lave@@ Us@@ er.@@ equals@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ ro@@ ot@@ User@@ ())@@ )@@ ))); }
@org.junit.Test public void un@@ t@@ ar@@ Empty@@ T@@ ar@@ Ar@@ ch@@ ive@@ Return@@ s@@ No@@ Content@@ () throw@@ s java.io.@@ I@@ O@@ Exception { byte@@ [@@ ] em@@ pty@@ Fil@@ e = load@@ ("@@ em@@ pty@@ .@@ t@@ ar@@ "); try (@@ org.ovirt.engine.core.utils.@@ arch@@ i@@ ver@@ s.@@ t@@ ar@@ .@@ T@@ ar@@ In@@ Memory@@ Ex@@ por@@ t t@@ a@@ r = new org.ovirt.engine.core.utils.@@ arch@@ i@@ ver@@ s.@@ t@@ ar@@ .@@ T@@ ar@@ In@@ Memory@@ Export@@ (@@ new java.io.@@ By@@ te@@ Array@@ In@@ put@@ St@@ ream@@ (@@ em@@ pty@@ File@@ ))) { java.util.Map<java.lang.String, java.@@ n@@ io.@@ By@@ te@@ Bu@@ f@@ fer@@ > em@@ pty@@ T@@ ar@@ En@@ t@@ ri@@ es = t@@ ar@@ .@@ un@@ T@@ ar@@ (); assert@@ True@@ (@@ em@@ pty@@ T@@ ar@@ En@@ t@@ ri@@ es.@@ isEmpty@@ ()); } }
public boolean shoul@@ d@@ Rep@@ eat@@ En@@ d@@ M@@ eth@@ o@@ ds@@ On@@ Fail@@ (org.ovirt.engine.core.compat.Guid cmd@@ Id) { return false@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { if ((!@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.@@ is@@ Vm@@ Exist@@ ())) || (!(@@ is@@ Disk@@ Exist@@ (get@@ O@@ l@@ d@@ Disk@@ ())@@ ))) { return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.@@ can@@ Run@@ Action@@ On@@ Non@@ Manage@@ d@@ Vm@@ ())) { return false@@ ; } if (!@@ (vm@@ s@@ Disk@@ Or@@ Snapshot@@ Plug@@ ged@@ To@@ .@@ isEmpty@@ ())) { if ((@@ is@@ A@@ t@@ Le@@ ast@@ O@@ ne@@ Vm@@ Is@@ Not@@ Down@@ (vm@@ s@@ Disk@@ Or@@ Snapshot@@ Plug@@ ged@@ To@@ )) && (@@ shoul@@ d@@ Update@@ Properties@@ O@@ th@@ er@@ Th@@ an@@ Size@@ ())) { return failCanDoAction@@ (VdcBllMessages.@@ ACTION_TYPE_FAILED_@@ VM_@@ I@@ S_NOT_@@ DO@@ W@@ N@@ ); } boolean is@@ Update@@ d@@ As@@ Boot@@ able = (!@@ (get@@ O@@ l@@ d@@ Disk@@ ().is@@ Boot@@ ())) && (get@@ New@@ Disk@@ ().is@@ Boot@@ ()); if (is@@ Update@@ d@@ As@@ Boot@@ able && (!(@@ validate@@ (@@ no@@ Vms@@ Contain@@ Boot@@ able@@ Disk@@ s(@@ vm@@ s@@ Disk@@ Plug@@ ged@@ To@@ )@@ )@@ ))) { return false@@ ; } boolean is@@ Disk@@ Interface@@ Update@@ d = (get@@ O@@ l@@ d@@ Disk@@ ().get@@ Disk@@ Interface@@ ()) != (get@@ New@@ Disk@@ ().get@@ Disk@@ Interface@@ ()); if (is@@ Disk@@ Interface@@ Update@@ d && (!(@@ validate@@ P@@ c@@ i@@ And@@ I@@ de@@ L@@ im@@ it@@ (vm@@ s@@ Disk@@ Or@@ Snapshot@@ Plug@@ ged@@ To@@ )@@ ))) { return false@@ ; } } if ((@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ .@@ equals@@ (get@@ O@@ l@@ d@@ Disk@@ ().get@@ Disk@@ Storage@@ Type@@ ())) && (!(@@ validate@@ Can@@ Res@@ ize@@ Disk@@ ()))) { return false@@ ; } org.ovirt.engine.core.bll.validator.@@ Disk@@ Validator disk@@ Validator = get@@ Disk@@ Validator@@ (get@@ New@@ Disk@@ ()); return ((((@@ validate@@ Can@@ Update@@ Sh@@ are@@ able@@ ()) && (@@ validate@@ Can@@ Update@@ Read@@ Only@@ ())) && (@@ validate@@ (disk@@ Validator.@@ is@@ Vir@@ t@@ I@@ oS@@ csi@@ Valid@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.getVm@@ ())@@ ))) && (@@ validate@@ (disk@@ Validator.@@ is@@ Disk@@ Interface@@ Sup@@ port@@ Read@@ Only@@ ()))) && ((@@ (get@@ O@@ l@@ d@@ Disk@@ ().get@@ Disk@@ Interface@@ ()) == (get@@ New@@ Disk@@ ().get@@ Disk@@ Interface@@ ())) || (@@ validate@@ (disk@@ Validator.@@ is@@ Disk@@ Interface@@ Supported@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Disk@@ Command.getVm@@ ())@@ ))); }
@org.junit.Test public void test@@ Validate@@ Name@@ Size@@ Import@@ As@@ Cl@@ on@@ ed@@ () { check@@ Vm@@ Name@@ (@@ true@@ , true@@ , false@@ ); }
@java.lang.Override protected void init@@ Detail@@ Model@@ s() { super@@ .@@ init@@ Detail@@ Model@@ s(); set@@ Vm@@ Bas@@ ic@@ Disk@@ ListModel@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ user@@ port@@ al.@@ Vm@@ Bas@@ ic@@ Disk@@ ListModel@@ ()); org.ovirt.engine.ui.uicompat.@@ O@@ b@@ ser@@ va@@ bl@@ e@@ Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Entity@@ > lis@@ t = new org.ovirt.engine.ui.uicompat.@@ O@@ b@@ ser@@ va@@ bl@@ e@@ Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Entity@@ >(); lis@@ t.@@ add@@ (get@@ Vm@@ Bas@@ ic@@ Disk@@ ListModel@@ ()); set@@ Detail@@ Model@@ s(@@ list@@ ); set@@ Active@@ Detail@@ Model@@ (get@@ Vm@@ Bas@@ ic@@ Disk@@ ListModel@@ ()); }
private boolean c@@ and@@ id@@ ate@@ Operation@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 1, org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 2@@ , boolean d@@ ro@@ p@@ ) { if (@@ op@@ 1 == null@@ ) { throw new java.lang.@@ I@@ l@@ le@@ g@@ al@@ Arg@@ um@@ ent@@ Exception@@ (@@ "@@ null Oper@@ and@@ s@@ "); } org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Oper@@ ation c@@ and@@ id@@ ate = org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Operation@@ Fac@@ t@@ ory@@ .@@ o@@ per@@ ation@@ For@@ (@@ op@@ 1, op@@ 2@@ , true@@ ); if (@@ d@@ ro@@ p@@ ) { on@@ Operation@@ (c@@ and@@ id@@ ate@@ , c@@ and@@ id@@ at@@ e.get@@ Command(@@ op@@ 1, op@@ 2@@ , all@@ Nic@@ s@@ )); } if ((@@ (!@@ (c@@ and@@ id@@ at@@ e.@@ equals@@ (c@@ urrent@@ C@@ and@@ id@@ ate@@ ))) || (!(@@ equals(@@ op@@ 1, current@@ Op@@ 1@@ )@@ ))) || (!(@@ equals(@@ op@@ 2@@ , current@@ Op@@ 2@@ )@@ ))) { current@@ C@@ and@@ id@@ ate = c@@ and@@ id@@ ate@@ ; current@@ Op@@ 1 = op@@ 1@@ ; current@@ Op@@ 2 = op@@ 2@@ ; get@@ Operation@@ C@@ and@@ id@@ ate@@ Event@@ ().@@ r@@ a@@ is@@ e@@ (@@ this@@ , new org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Operation@@ C@@ ad@@ id@@ ate@@ EventArg@@ s@@ (c@@ and@@ id@@ ate@@ , op@@ 1, op@@ 2@@ )); } return !@@ (c@@ and@@ id@@ at@@ e.@@ is@@ Null@@ Operation@@ ()); }
public void set@@ P@@ m@@ Option@@ s@@ Map@@ (@@ java.util.HashMap<@@ java.lang.String, java.lang.String> value@@ ) { java.lang.String p@@ m@@ Option@@ s = "@@ "; for (java.util.@@ Map.@@ E@@ n@@ try@@ <@@ java.lang.String, java.lang.String> p@@ a@@ i@@ r : valu@@ e.@@ e@@ n@@ try@@ Set@@ ()) { java.lang.String k = p@@ a@@ ir@@ .get@@ Key@@ (); java.lang.String v = p@@ a@@ ir@@ .get@@ Value@@ (); if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (@@ k@@ , org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Model.@@ P@@ m@@ Port@@ Key@@ )) { get@@ P@@ m@@ Port@@ ().set@@ Entity@@ ((@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (@@ valu@@ e.get@@ (@@ k@@ )) ? "@@ " : valu@@ e.get@@ (@@ k@@ ))); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (@@ k@@ , org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Model.@@ P@@ m@@ S@@ l@@ ot@@ Key@@ )) { get@@ P@@ m@@ S@@ l@@ ot@@ ().set@@ Entity@@ ((@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (@@ valu@@ e.get@@ (@@ k@@ )) ? "@@ " : valu@@ e.get@@ (@@ k@@ ))); } else if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ st@@ ring@@ s@@ E@@ qu@@ al@@ (@@ k@@ , org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Model.@@ P@@ m@@ Sec@@ ure@@ Key@@ )) { get@@ P@@ m@@ Sec@@ ure@@ ().set@@ Entity(@@ java.lang.Boolean@@ .@@ par@@ se@@ Boolean@@ (@@ valu@@ e.get@@ (@@ k@@ ))); } else { if (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (@@ v@@ )) { p@@ m@@ Option@@ s +@@ = k + "@@ ,@@ "; } else { p@@ m@@ Option@@ s +@@ = ((@@ "@@ =@@ ") + v@@ ) + "@@ ,@@ "; } } if (!(@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (p@@ m@@ Option@@ s@@ ))) { get@@ P@@ m@@ Option@@ s@@ ().set@@ Entity(@@ p@@ m@@ Option@@ s.@@ sub@@ st@@ ring@@ (0@@ , ((@@ p@@ m@@ Option@@ s.@@ l@@ ength@@ ()) - 1@@ ))); } }
public java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ num@@ a.@@ V@@ Node@@ Model@@ > get@@ Un@@ ass@@ ig@@ ne@@ d@@ V@@ Node@@ Model@@ List@@ () { return Un@@ ass@@ ig@@ ne@@ d@@ V@@ Node@@ Model@@ List@@ ; }
public void s@@ ync@@ With@@ Backend@@ () { final org.ovirt.engine.core.common.businessentities.Storage@@ Pool d@@ c = get@@ Selected@@ D@@ c@@ (); if (@@ d@@ c == null@@ ) { return@@ ; } boolean is@@ Sup@@ port@@ B@@ rid@@ g@@ es@@ Re@@ port@@ By@@ VDS@@ M = ((@@ java.lang.Boolean@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ Sup@@ port@@ B@@ rid@@ g@@ es@@ Re@@ port@@ By@@ VDS@@ M@@ , dc@@ .get@@ c@@ ompatibility@@ _@@ version@@ ().@@ toString@@ ()))); set@@ Sup@@ port@@ B@@ rid@@ g@@ es@@ Re@@ port@@ By@@ VDS@@ M@@ (is@@ Sup@@ port@@ B@@ rid@@ g@@ es@@ Re@@ port@@ By@@ VDS@@ M@@ ); boolean is@@ M@@ T@@ U@@ O@@ ver@@ ri@@ de@@ Sup@@ por@@ te@@ d = ((@@ java.lang.Boolean@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Config@@ Value@@ Pre@@ Conver@@ ted@@ (@@ Configuration@@ Values.@@ M@@ T@@ U@@ O@@ ver@@ ri@@ de@@ Supported@@ , dc@@ .get@@ c@@ ompatibility@@ _@@ version@@ ().@@ toString@@ ()))); set@@ M@@ T@@ U@@ O@@ ver@@ ri@@ de@@ Supported@@ (is@@ M@@ T@@ U@@ O@@ ver@@ ri@@ de@@ Supported@@ ); org.ovirt.engine.ui.frontend.AsyncQuery quer@@ y = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { java.lang.@@ I@@ ter@@ able@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ oS@@ > q@@ o@@ s = ((@@ java.lang.@@ I@@ ter@@ able@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ oS@@ >) (@@ return@@ Value@@ )); org.ovirt.engine.core.common.businessentities.network.Network@@ Q@@ o@@ S selected@@ Q@@ o@@ s = get@@ Network@@ ().get@@ Qos@@ (); get@@ Qos@@ ().set@@ Items(@@ q@@ os@@ ); get@@ Qos@@ ().set@@ SelectedItem@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .@@ fin@@ d@@ Network@@ Qos@@ By@@ Id(@@ q@@ os@@ , (s@@ elected@@ Q@@ o@@ s == null ? null : selected@@ Qos@@ .getId@@ ()))); } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ All@@ Network@@ Qos@@ (@@ dc@@ .get@@ Id(), query@@ ); on@@ Export@@ Changed@@ (); get@@ Profil@@ es@@ ().@@ update@@ D@@ c@@ Id(@@ dc@@ .getId()); }
@java.lang.Override protected org.ovirt.engine.api.model.@@ Host@@ N@@ ic p@@ ost@@ P@@ op@@ ul@@ ate@@ (org.ovirt.engine.api.model.@@ Host@@ N@@ ic model@@ ) { org.ovirt.engine.api.model.@@ Host@@ N@@ ic host@@ N@@ I@@ C = super@@ .@@ p@@ ost@@ P@@ op@@ ul@@ ate@@ (model@@ ); org.ovirt.engine.api.model.@@ Q@@ o@@ s q@@ o@@ s = host@@ N@@ IC@@ .get@@ Qos@@ (); q@@ o@@ s.set@@ Type(@@ Qos@@ Type.@@ HOST@@ NETWOR@@ K@@ ); q@@ o@@ s.set@@ Name@@ (@@ null@@ ); q@@ o@@ s.set@@ DataCenter@@ (@@ null@@ ); model.set@@ Boot@@ Protocol@@ (@@ Boot@@ Protoc@@ ol.@@ ST@@ A@@ TI@@ C@@ ); return host@@ N@@ IC@@ ; }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Network@@ > get@@ AllFor@@ DataCenter@@ (org.ovirt.engine.core.compat.Guid id@@ ) { return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ All@@ Network@@ By@@ StoragePool@@ Id@@ ", org.ovirt.engine.core.dao.@@ Network@@ DAO@@ DbFacade@@ Impl.@@ Network@@ Row@@ Mapper.@@ instance@@ , get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ id@@ ", id@@ )); }
protected org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ pool@@ man@@ ag@@ er.@@ Mac@@ Pool get@@ MacPool@@ () { return org.ovirt.engine.core.d@@ i@@ .@@ In@@ j@@ ect@@ or@@ .get@@ (org.ovirt.engine.core.bll.@@ network@@ .m@@ ac@@ p@@ oo@@ l.@@ MacPool@@ Per@@ D@@ c@@ .@@ class@@ ).@@ pool@@ For@@ DataCenter@@ (@@ param@@ s.get@@ StoragePool@@ Id()); }
@org.junit.Test public void check@@ Remove@@ Is@@ csi@@ Connection@@ Disks@@ Exist@@ () { parameters.set@@ StorageServerConnection@@ (@@ i@@ S@@ C@@ SI@@ Connection@@ ); when(@@ storage@@ ServerConnection@@ Dao@@ .get(@@ i@@ S@@ C@@ SI@@ Connection@@ .get@@ id@@ ())@@ ).@@ thenReturn(@@ i@@ S@@ C@@ SI@@ Connection@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s = new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s@@ >(); org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ 1 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 1@@ .set@@ LUN@@ _id@@ ("@@ 3@@ 6@@ 00@@ 1@@ 4@@ 4@@ f@@ 0@@ 9@@ db@@ d@@ 0@@ 5@@ 00@@ 00@@ 00@@ 5@@ 1@@ 7@@ e@@ 7@@ 3@@ 0@@ b@@ 1@@ 2@@ 1@@ 2@@ "); lun@@ 1@@ .set@@ StorageDomain@@ Name@@ ("@@ stor@@ age@@ do@@ m@@ ain@@ 1@@ "); lun@@ 1@@ .set@@ volume@@ _@@ group@@ _id@@ ("@@ "); lun@@ 1@@ .set@@ Disk@@ Alias@@ ("@@ disk@@ 1@@ "); lun@@ s.add(@@ lun@@ 1@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ 2 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 2@@ .set@@ LUN@@ _id@@ ("@@ 3@@ 6@@ 00@@ 1@@ 4@@ 4@@ f@@ 0@@ 9@@ db@@ d@@ 0@@ 5@@ 00@@ 00@@ 00@@ 5@@ 1@@ 7@@ e@@ 7@@ 3@@ 0@@ b@@ 1@@ 2@@ 1@@ 2@@ 1@@ 2@@ "); lun@@ 2@@ .set@@ StorageDomain@@ Name@@ ("@@ stor@@ age@@ do@@ m@@ ain@@ 4@@ "); lun@@ 2@@ .set@@ volume@@ _@@ group@@ _id@@ ("@@ "); lun@@ 2@@ .set@@ Disk@@ Alias@@ ("@@ disk@@ 2@@ "); lun@@ s.add(@@ lun@@ 2@@ ); when(@@ lun@@ Dao.get@@ AllFor@@ StorageServerConnection@@ (@@ i@@ S@@ C@@ SI@@ Connection@@ .get@@ id@@ ())@@ ).@@ thenReturn(@@ lun@@ s); org.ovirt.engine.core.bll.@@ CanDoAction@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ CanDoAction@@ Fail@@ ure(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_@@ C@@ ON@@ N@@ EC@@ TION_@@ B@@ E@@ L@@ ON@@ G@@ S_@@ TO@@ _S@@ E@@ V@@ ER@@ AL@@ _@@ DIS@@ K@@ S@@ ); }
@java.lang.Override protected org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Popup@@ Widget@@ Config@@ Map create@@ Widget@@ Configuration@@ () { return super@@ .@@ create@@ Widget@@ Configuration@@ ().@@ update@@ (@@ for@@ em@@ an@@ Tab@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ All@@ (@@ pool@@ Sp@@ e@@ c@@ if@@ ic@@ Fiel@@ ds@@ (), h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (is@@ Delet@@ e@@ Prot@@ ected@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (is@@ State@@ l@@ ess@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (is@@ Run@@ And@@ Pa@@ us@@ e@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (c@@ omm@@ ent@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (vm@@ Type@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ oS@@ Type@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (in@@ itial@@ Run@@ Tab@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ exp@@ and@@ er@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ al@@ low@@ Console@@ Rec@@ on@@ n@@ ect@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (c@@ d@@ Attached@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (c@@ d@@ Image@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ re@@ fresh@@ Button@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ quota@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (c@@ pu@@ Al@@ loc@@ ation@@ Panel@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ v@@ n@@ c@@ Key@@ board@@ L@@ ay@@ out@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ storage@@ Al@@ loc@@ ation@@ Panel@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (c@@ ustom@@ Properties@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (s@@ s@@ o@@ Method@@ Label@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (s@@ s@@ o@@ Method@@ O@@ ne@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (s@@ s@@ o@@ Method@@ G@@ u@@ est@@ Agent@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ host@@ Cpu@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ template@@ Version@@ Name@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ b@@ oot@@ M@@ en@@ u@@ ne@@ (@@ b@@ oot@@ M@@ en@@ u@@ ne@@ (@@ b@@ oot@@ M@@ en@@ u@@ ne@@ (@@ b@@ oot@@ M@@ en@@ u@@ ne@@ (@@ b@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ en@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (@@ time@@ Z@@ one@@ Editor@@ , h@@ id@@ d@@ ()).@@ put@@
@org.junit.Test public void e@@ qu@@ al@@ Sp@@ ace@@ Th@@ resh@@ old@@ () { org.ovirt.engine.core.bll.@@ command@@ .@@ utils.@@ StorageDomain@@ Sp@@ ace@@ Check@@ er@@ Test.@@ Sp@@ ace@@ Test@@ Set@@ t@@ ing@@ s set@@ t@@ ing@@ s = new org.ovirt.engine.core.bll.@@ command@@ .@@ utils.@@ StorageDomain@@ Sp@@ ace@@ Check@@ er@@ Test.@@ Sp@@ ace@@ Test@@ Set@@ t@@ ing@@ s(); set@@ t@@ ing@@ s.@@ disk@@ Sp@@ ace@@ F@@ re@@ e = 5@@ ; set@@ t@@ ing@@ s.@@ disk@@ Sp@@ ace@@ U@@ se@@ d = 5@@ ; set@@ t@@ ing@@ s.@@ sp@@ ace@@ Th@@ resh@@ old@@ G@@ B = 5@@ ; set@@ t@@ ing@@ s.@@ sp@@ ace@@ Th@@ resh@@ old@@ P@@ c@@ t = 1@@ 0@@ ; org.ovirt.engine.core.common.businessentities.@@ storage@@ _@@ do@@ m@@ ain@@ s do@@ ma@@ in = set@@ up@@ For@@ Sp@@ ace@@ Test@@ (@@ set@@ t@@ ing@@ s); assert@@ F@@ als@@ e(@@ org.ovirt.engine.core.bll.@@ command@@ .@@ utils.@@ StorageDomain@@ Sp@@ ace@@ Check@@ er.@@ is@@ With@@ in@@ Th@@ resh@@ ol@@ ds@@ (@@ do@@ m@@ ain@@ )); }
@java.lang.Override public java.lang.String get@@ Value@@ (org.ovirt.engine.core.common.businessentities.Vm@@ Templ@@ ate object@@ ) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ Template@@ Back@@ up@@ View@@ .m@@ ess@@ ages.@@ m@@ e@@ g@@ a@@ byte@@ s(@@ java.lang.String.@@ value@@ Of@@ (@@ objec@@ t.get@@ Mem@@ Size@@ M@@ b@@ ())); }
@@@ java.lang.@@ Sup@@ p@@ ress@@ W@@ arning@@ s@@ ("@@ un@@ us@@ ed@@ ") protected org.ovirt.engine.core.bll.@@ SP@@ M@@ Async@@ T@@ as@@ k Con@@ c@@ ret@@ e@@ Create@@ Task@@ (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Cre@@ ation@@ In@@ fo async@@ Task@@ Cre@@ ation@@ Info@@ , org.ovirt.engine.core.common.action.VdcAction@@ Type parent@@ Command@@ ) { throw new org.ovirt.engine.core.compat.@@ Not@@ Im@@ pl@@ em@@ en@@ ted@@ Exception@@ (); }
protected java.util.List<@@ ? extends org.ovirt.engine.core.bll.@@ memory@@ .@@ storageDomain@@ Filter@@ s.@@ StorageDomain@@ Filter@@ > get@@ StorageDomain@@ Fil@@ t@@ ers@@ () { return java.util.Arrays.as@@ List@@ (@@ new org.ovirt.engine.core.bll.@@ memory@@ .@@ sd@@ filter@@ s.@@ StorageDomain@@ Status@@ Filter@@ (), new org.ovirt.engine.core.bll.@@ memory@@ .@@ storageDomain@@ Filter@@ s.@@ StorageDomain@@ Type@@ Filter@@ (), new org.ovirt.engine.core.bll.@@ memory@@ .@@ StorageDomain@@ Sp@@ ace@@ Requi@@ re@@ ment@@ s@@ Filter@@ ()); }
protected abstract c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ T@@ a@@ b add@@ Tab@@ (c@@ om.@@ gw@@ t@@ pl@@ a@@ t@@ for@@ m@@ .m@@ v@@ p@@ .client.@@ Tab@@ Data t@@ ab@@ Data@@ , java.lang.String h@@ ist@@ ory@@ To@@ k@@ en@@ );
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group@@ > get@@ By@@ Name@@ (java.lang.String name@@ , boolean is@@ C@@ ase@@ S@@ en@@ si@@ tive@@ ) { org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source parameter@@ Source = get@@ Custom@@ MapSqlParameter@@ Source@@ ().@@ addValue("@@ vds@@ _@@ group@@ _@@ name@@ ", name@@ ).@@ addValue("@@ is@@ _@@ case@@ _@@ s@@ en@@ si@@ tive@@ ", is@@ C@@ ase@@ S@@ en@@ si@@ tive@@ ); return get@@ Call@@ sHandler@@ ().execute@@ Read@@ List@@ ("@@ Get@@ VdsGroup@@ By@@ VdsGroup@@ Name@@ ", org.ovirt.engine.core.dao.@@ VdsGroup@@ Dao@@ Impl.@@ VdsGroup@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Sp@@ e@@ c@@ if@@ ic User@@ /@@ Group@@ ") java.lang.String sp@@ e@@ c@@ if@@ ic@@ User@@ Group@@ Per@@ is@@ sion@@ ();
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > filter@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ , java.util.List<java.lang.String> mess@@ ages@@ ) { return org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Vm@@ Af@@ finity@@ Filter@@ Policy@@ Un@@ it.@@ get@@ Ac@@ ce@@ p@@ t@@ able@@ Host@@ s(@@ Af@@ finity@@ E@@ n@@ for@@ ce@@ ment@@ Type.@@ H@@ AR@@ D@@ , host@@ s, vm@@ , mess@@ ages@@ ); }
@java.lang.Override protected org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Popup@@ Widget@@ Config@@ Map create@@ Widget@@ Configuration@@ () { return super@@ .@@ create@@ Widget@@ Configuration@@ ().@@ put@@ All@@ (@@ all@@ Tab@@ s@@ (), s@@ im@@ ple@@ Fiel@@ d@@ ().@@ vi@@ si@@ bl@@ e@@ In@@ Ad@@ v@@ ance@@ d@@ M@@ ode@@ Only@@ ()).@@ put@@ All@@ (@@ ad@@ ance@@ d@@ Fiel@@ ds@@ From@@ Gener@@ al@@ Tab@@ (), s@@ im@@ ple@@ Fiel@@ d@@ ().@@ vi@@ si@@ bl@@ e@@ In@@ Ad@@ v@@ ance@@ d@@ M@@ ode@@ Only@@ ()).@@ put@@ All@@ (@@ con@@ s@@ ole@@ Tab@@ Widget@@ s@@ (), s@@ im@@ ple@@ Fiel@@ d@@ ().@@ vi@@ si@@ bl@@ e@@ In@@ Ad@@ v@@ ance@@ d@@ M@@ ode@@ Only@@ ()).@@ update@@ (@@ con@@ s@@ ole@@ Tab@@ , s@@ im@@ ple@@ Fiel@@ d@@ ()).@@ update@@ (@@ num@@ Of@@ Monitor@@ s@@ Editor@@ , s@@ im@@ ple@@ Fiel@@ d@@ ()).@@ update@@ (r@@ ng@@ Per@@ i@@ od@@ Editor@@ , s@@ im@@ ple@@ Fiel@@ d@@ ()).@@ update@@ (is@@ Sing@@ le@@ Q@@ x@@ l@@ Enabled@@ Editor@@ , s@@ im@@ ple@@ Fiel@@ d@@ ()).@@ put@@ O@@ ne@@ (is@@ S@@ oun@@ dc@@ ard@@ Enabled@@ Editor@@ , s@@ im@@ ple@@ Fiel@@ d@@ ().@@ vi@@ si@@ bl@@ e@@ In@@ Ad@@ v@@ ance@@ d@@ M@@ ode@@ Only@@ ()).@@ put@@ O@@ ne@@ (is@@ Console@@ Device@@ Enabled@@ Editor@@ , s@@ im@@ ple@@ Fiel@@ d@@ ().@@ vi@@ si@@ bl@@ e@@ In@@ Ad@@ v@@ ance@@ d@@ M@@ ode@@ Only@@ ()); }
private org.ovirt.engine.core.compat.Guid get@@ Pool@@ Sp@@ m@@ Id@@ () { if ((@@ c@@ ach@@ ed@@ Sp@@ m@@ Id) == null@@ ) { c@@ ach@@ ed@@ Sp@@ m@@ Id = org.ovirt.engine.core.bll.@@ Sp@@ m@@ Command.get@@ StoragePool@@ ().get@@ sp@@ m@@ _@@ vds@@ _id@@ (); } return c@@ ach@@ ed@@ Sp@@ m@@ Id@@ ; }
@org.junit.Test public void test@@ Is@@ csi@@ Lun@@ Can@@ not@@ Be@@ Ad@@ ded@@ If@@ Add@@ ing@@ F@@ lo@@ at@@ ing@@ Disk@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk dis@@ k = create@@ IS@@ C@@ S@@ IL@@ un@@ Disk@@ (@@ S@@ csi@@ Gener@@ ic@@ I@@ O@@ .@@ UN@@ F@@ IL@@ TER@@ ED@@ , true@@ , Disk@@ Interfac@@ e.@@ ID@@ E); org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters parameter@@ s = org.ovirt.engine.core.bll.@@ Add@@ Disk@@ Command@@ Test.@@ create@@ Parameters@@ (); parameters.set@@ Disk@@ Info@@ (disk@@ ); initial@@ ize@@ Command(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), parameters@@ ); assert@@ F@@ alse@@ ("@@ F@@ lo@@ at@@ ing dis@@ k wit@@ h S@@ C@@ S@@ I res@@ er@@ va@@ tion se@@ t s@@ uc@@ cess@@ f@@ ull@@ y ad@@ ded@@ ", command@@ .@@ check@@ If@@ Lun@@ Disk@@ Can@@ Be@@ Ad@@ ded@@ (s@@ p@@ y@@ Disk@@ Validator@@ (disk@@ ))); ve@@ r@@ if@@ y@@ CanDoAction@@ Messages@@ Contain@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ S@@ C@@ SI@@ _@@ RE@@ S@@ ER@@ V@@ A@@ TION_@@ NOT_@@ VALID@@ _@@ F@@ OR@@ _@@ F@@ LO@@ A@@ TI@@ N@@ G@@ _@@ DIS@@ K@@ ); }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.common.businessentities.Storage@@ Domain storage@@ Domain = storageDomain@@ Dao.get@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Get@@ All@@ Disks@@ By@@ StorageDomain@@ Id@@ Query.get@@ Parameters().get@@ Id()); if (@@ storageDomain@@ .get@@ Storage@@ Type@@ ().is@@ Cinder@@ Domain@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ Image@@ s = disk@@ Image@@ Dao.get@@ AllFor@@ StorageDomain@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Get@@ All@@ Disks@@ By@@ StorageDomain@@ Id@@ Query.get@@ Parameters().get@@ Id()); org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Get@@ All@@ Disks@@ By@@ StorageDomain@@ Id@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (disk@@ Images@@ ); } else { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ Image@@ s = disk@@ Image@@ Dao.get@@ AllSnapshots@@ For@@ StorageDomain@@ (org.ovirt.engine.core.bll.storage.@@ disk.@@ image.@@ Get@@ All@@ Disks@@ By@@ StorageDomain@@ Id@@ Query.get@@ Parameters().get@@ Id()); org.ovirt.engine.core.bll.storage.disk.@@ image.@@ Get@@ All@@ Disks@@ By@@ StorageDomain@@ Id@@ Query.get@@ Query@@ ReturnValue@@ ().set@@ ReturnValue@@ (@@ im@@ ages@@ Handler.@@ fil@@ l@@ Snapshots@@ To@@ Disk@@ Images@@ (disk@@ Images@@ )); } }
void s@@ end@@ Message@@ (@@ byte@@ [@@ ] mess@@ age@@ );
private void validate@@ D@@ im@@ en@@ sion@@ s() { boolean d@@ im@@ en@@ sion@@ s@@ Val@@ id = ((((@@ im@@ age.get@@ W@@ id@@ th@@ ()) >@@ = (@@ d@@ im@@ en@@ sion@@ s@@ Typ@@ e.get@@ M@@ in@@ W@@ id@@ th@@ ())) && ((@@ im@@ age.get@@ W@@ id@@ th@@ ()) <@@ = (@@ d@@ im@@ en@@ sion@@ s@@ Typ@@ e.get@@ Max@@ W@@ id@@ th@@ ()))) && ((@@ im@@ age.get@@ H@@ e@@ ig@@ ht@@ ()) >@@ = (@@ d@@ im@@ en@@ sion@@ s@@ Typ@@ e.get@@ M@@ in@@ H@@ e@@ ig@@ ht@@ ()))) && ((@@ im@@ age.get@@ H@@ e@@ ig@@ ht@@ ()) <@@ = (@@ d@@ im@@ en@@ sion@@ s@@ Typ@@ e.get@@ Max@@ H@@ e@@ ig@@ ht@@ ())); if (!@@ d@@ im@@ en@@ sion@@ s@@ Valid@@ ) { valid@@ ation@@ Result = new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ P@@ RO@@ V@@ ID@@ ED_@@ VM_@@ IC@@ ON_@@ H@@ A@@ S_@@ IN@@ VALID@@ _@@ D@@ IM@@ EN@@ SI@@ ON@@ S@@ , ((((@@ "@@ $@@ al@@ low@@ ed@@ D@@ im@@ en@@ sion@@ s " + "@@ f@@ ro@@ m ") + (@@ d@@ im@@ en@@ sion@@ s@@ Typ@@ e.get@@ M@@ in@@ W@@ id@@ th@@ ())) + "@@ x@@ ") + (@@ d@@ im@@ en@@ sion@@ s@@ Typ@@ e.get@@ M@@ in@@ H@@ e@@ ig@@ ht@@ ())) + " to ") + (@@ d@@ im@@ en@@ sion@@ s@@ Typ@@ e.get@@ Max@@ W@@ id@@ th@@ ())) + "@@ x@@ ") + (@@ d@@ im@@ en@@ sion@@ s@@ Typ@@ e.get@@ Max@@ H@@ e@@ ig@@ ht@@ ())@@ ), ((@@ ("@@ $@@ current@@ D@@ im@@ en@@ sion@@ s " + (@@ im@@ age.get@@ W@@ id@@ th@@ ())) + "@@ x@@ ") + (@@ im@@ age.get@@ H@@ e@@ ig@@ ht@@ ()))); } }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ E@@ d@@ i@@ t and Ap@@ pro@@ v@@ e Host@@ ") java.lang.String edit@@ And@@ Ap@@ pro@@ ve@@ Host@@ Title@@ ();
@org.junit.Test public void test@@ S@@ ave@@ () { d@@ ao.@@ save@@ (@@ new@@ _@@ b@@ ook@@ mar@@ k@@ ); org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k result = d@@ ao@@ .get@@ By@@ Name@@ (@@ new@@ _@@ b@@ ook@@ mar@@ k@@ .get@@ b@@ ook@@ mar@@ k@@ _@@ name@@ ()); assert@@ Not@@ Null@@ (@@ result@@ ); }
java.lang.String up@@ load@@ Image@@ File@@ Not@@ Exist@@ ();
@java.lang.Override public void onSuccess(java.lang.Object target@@ , java.lang.Object return@@ Value@@ ) { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue query@@ ReturnValue = ((@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ ) (@@ return@@ Value@@ )); if (@@ query@@ Return@@ Value.get@@ Succeeded@@ ()) { org.ovirt.engine.core.common.businessentities.VM vm = query@@ Return@@ Value.get@@ ReturnValue@@ (); update@@ Vm@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (vm@@ )); cl@@ e@@ ar@@ Error@@ And@@ W@@ arning@@ (); } else { set@@ Error@@ (m@@ ess@@ ages.@@ fail@@ ed@@ To@@ Lo@@ ad@@ O@@ va@@ (get@@ O@@ va@@ Path@@ ().getEntity@@ ())); } st@@ op@@ Progress@@ (); }
public org.ovirt.engine.core.common.@@ job.@@ St@@ e@@ p add@@ Step@@ (org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Contex@@ t contex@@ t@@ , org.ovirt.engine.core.common.@@ job.@@ Step@@ En@@ u@@ m st@@ ep@@ Name, java.lang.String d@@ escription@@ , boolean is@@ External@@ ) { if (@@ contex@@ t == null@@ ) { return null@@ ; } org.ovirt.engine.core.common.@@ job.@@ St@@ e@@ p st@@ e@@ p = null@@ ; if (@@ contex@@ t.@@ is@@ Monitor@@ ed@@ ()) { if (@@ d@@ es@@ cri@@ ption == null@@ ) { d@@ es@@ cri@@ ption = org.ovirt.engine.core.dal.@@ job.@@ Execution@@ Message@@ Direct@@ or@@ .getInstance().get@@ Step@@ Message@@ (@@ st@@ ep@@ Name); } try { org.ovirt.engine.core.common.@@ job.@@ J@@ o@@ b j@@ o@@ b = contex@@ t.get@@ Job@@ (); if (((@@ contex@@ t.get@@ Execution@@ Method@@ ()) == (org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Contex@@ t.@@ Execution@@ Method@@ .@@ As@@ Job@@ )) && (@@ j@@ o@@ b != null@@ )) { st@@ e@@ p = job.@@ add@@ Step@@ (@@ st@@ ep@@ Name, d@@ escription@@ ); try { st@@ ep@@ .set@@ External@@ (is@@ External@@ ); job@@ Rep@@ os@@ it@@ ory@@ .@@ save@@ Step@@ (@@ st@@ ep@@ ); } catch (@@ java.lang.Exception e) { log.error("@@ Fail@@ ed to s@@ a@@ v@@ e new st@@ e@@ p '{}@@ ' for j@@ o@@ b '{}@@ '@@ , '{}@@ '@@ : {}@@ ", st@@ ep@@ Nam@@ e.@@ name@@ (), job@@ .get@@ Id(), job@@ .get@@ Action@@ Type@@ ().@@ name@@ (), e.get@@ Message@@ ()); log.debug@@ ("@@ Exception@@ ", e); job@@ .get@@ Step@@ s().@@ remove@@ (@@ st@@ ep@@ ); st@@ e@@ p = null@@ ; } } else { org.ovirt.engine.core.common.@@ job.@@ St@@ e@@ p contex@@ t@@ St@@ e@@ p = contex@@ t.get@@ Step@@ (); if (((@@ contex@@ t.get@@ Execution@@ Method@@ ()) == (org.ovirt.engine.core.bll.@@ job.@@ Execution@@ Contex@@ t.@@ Execution@@ Method@@ .@@ As@@ Step@@ )) && (@@ contex@@ t@@ St@@ e@@ p != null@@ )) { st@@ e@@ p = add@@ Sub@@ Step@@ (@@ contex@@ t@@ Step@@ , st@@ ep@@ Name, d@@ escription@@ , java.util.Collections.@@ em@@ pty@@ List@@ (), false@@ ); st@@ ep@@ .set@@ External@@ (is@@ External@@ ); } } catch (@@ java.lang.Exception e) { log.error("@@ Exception@@ ", e); } } return st@@ ep@@ ; }
@@@ org.ovirt.engine.ui.uicompat.@@ DefaultStringValue("@@ Ex@@ ter@@ n@@ al Provi@@ d@@ ers@@ ") java.lang.String ex@@ ternal@@ Provi@@ d@@ ers@@ Title@@ ();
private void h@@ andle@@ Par@@ ti@@ all@@ y@@ Execu@@ ted@@ Task@@ Of@@ Command@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ Async@@ T@@ as@@ k task@@ ) { if (org.ovirt.engine.core.bll.@@ task@@ s.@@ AsyncTask@@ Manager.@@ has@@ Empty@@ Vds@@ m@@ Id(@@ task@@ )) { org.ovirt.engine.core.bll.@@ task@@ s.@@ AsyncTask@@ Manager.@@ remove@@ Task@@ From@@ Db@@ By@@ Task@@ Id(@@ task@@ .get@@ Task@@ Id()); return@@ ; } if (@@ w@@ a@@ it@@ And@@ P@@ oll@@ On@@ Res@@ t@@ art@@ (@@ task@@ )) { par@@ ti@@ all@@ y@@ Comp@@ let@@ ed@@ Command@@ Task@@ s.@@ put(@@ task@@ .get@@ Vds@@ m@@ Task@@ Id(), task@@ ); } else { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Sup@@ port.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Requi@@ red@@ , new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.@@ V@@ o@@ id@@ >() { @java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { log@@ And@@ Fail@@ Par@@ ti@@ all@@ y@@ Sub@@ m@@ it@@ ted@@ Task@@ Of@@ Command(@@ task@@ , "@@ Engin@@ e w@@ a@@ s res@@ t@@ ar@@ te@@ d b@@ e@@ for@@ e al@@ l task@@ s of the c@@ ommand c@@ oul@@ d b@@ e sub@@ m@@ it@@ te@@ d to vds@@ m.@@ "); return null@@ ; } }); } }
private java.lang.String get@@ Message@@ To@@ Log@@ (java.lang.String log@@ g@@ er@@ String@@ , org.ovirt.engine.core.common.businessentities.@@ Au@@ dit@@ Lo@@ g au@@ ditLog@@ ) { java.lang.String log@@ Message@@ ; if (@@ log@@ g@@ er@@ Strin@@ g.@@ isEmpty@@ ()) { log@@ Mess@@ age = audit@@ Lo@@ g.@@ toString@@ For@@ Log@@ gin@@ g@@ (); } else { log@@ Mess@@ age = org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log.@@ tr@@ an@@ s@@ for@@ m@@ (@@ log@@ g@@ er@@ String@@ , audit@@ Lo@@ g.@@ get@@ mess@@ age@@ ()); } return log@@ Message@@ ; }
@java.lang.Override protected boolean canDoAction@@ () { boolean return@@ Value = super@@ .@@ canDoAction@@ (); old@@ Pool = org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Pool@@ Command.getVm@@ Pool@@ DAO@@ ().get@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Pool@@ Command.getVm@@ Pool@@ ().get@@ Vm@@ Pool@@ Id()); if (@@ return@@ Value && ((@@ old@@ Pool@@ ) == null@@ )) { addCanDoActionMessage@@ (VdcBllMessages.@@ VM_@@ P@@ O@@ OL@@ _C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ P@@ O@@ OL@@ _@@ NOT_@@ F@@ O@@ UN@@ D@@ ); return@@ Value = false@@ ; } else if (@@ return@@ Value && ((org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Pool@@ Command.getParameters().get@@ Vms@@ Count@@ ()) < 0@@ )) { addCanDoActionMessage@@ (VdcBllMessages.@@ VM_@@ P@@ O@@ OL@@ _C@@ ANNOT_@@ D@@ EC@@ RE@@ A@@ S@@ E_@@ VM@@ S_@@ F@@ RO@@ M@@ _P@@ O@@ OL@@ ); return@@ Value = false@@ ; } return return@@ Value@@ ; }
public void set@@ Config@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ Config@@ > param@@ s) { this@@ .@@ config@@ Param@@ s = param@@ s@@ ; }
@java.lang.Override protected org.@@ sp@@ ring@@ fr@@ ame@@ wor@@ k.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameter@@ Source create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ Host@@ Device entity@@ ) { return create@@ Id@@ Parameter@@ Map@@ per@@ (@@ entity.get@@ Id@@ ()).addValue("@@ parent@@ _@@ de@@ vice@@ _@@ name@@ ", entity.get@@ Parent@@ Device@@ Name@@ ()).addValue("@@ c@@ ap@@ ab@@ ility@@ ", entity.get@@ C@@ ap@@ ab@@ ility@@ ()).addValue("@@ i@@ omm@@ u@@ _@@ group@@ ", entity.get@@ I@@ omm@@ u@@ Group@@ ()).addValue("@@ m@@ de@@ v@@ _@@ typ@@ es@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ entity.get@@ M@@ de@@ v@@ Typ@@ es@@ (), "@@ ,@@ "@@ )).@@ addValue("@@ pro@@ d@@ uc@@ t@@ _@@ name@@ ", entity.get@@ Pro@@ d@@ uc@@ t@@ Name@@ ()).addValue("@@ pro@@ d@@ uc@@ t@@ _id", entity.get@@ Pro@@ d@@ uc@@ t@@ Id@@ ()).addValue("@@ ve@@ n@@ do@@ r@@ _@@ name@@ ", entity.get@@ V@@ e@@ n@@ do@@ r@@ Name@@ ()).addValue("@@ ve@@ n@@ do@@ r@@ _id", entity.get@@ V@@ e@@ n@@ do@@ r@@ Id@@ ()).addValue("@@ p@@ h@@ y@@ s@@ f@@ n@@ ", entity.get@@ Parent@@ P@@ h@@ y@@ s@@ ical@@ F@@ un@@ c@@ tion@@ ()).addValue("@@ t@@ otal@@ _@@ vf@@ s", entity.get@@ T@@ otal@@ Vir@@ tu@@ al@@ F@@ un@@ c@@ tion@@ s@@ ()).addValue("@@ net@@ _@@ if@@ ace@@ _@@ name@@ ", entity.get@@ Network@@ Interface@@ Name@@ ()).addValue("@@ d@@ ri@@ ver@@ ", entity.get@@ D@@ ri@@ ver@@ ()).addValue("@@ is@@ _@@ ass@@ ign@@ able@@ ", entity@@ .is@@ As@@ s@@ ign@@ able@@ ()).addValue("@@ add@@ ress@@ ", org.ovirt.engine.core.utils.@@ Ser@@ ial@@ ization@@ Fac@@ t@@ ory@@ .get@@ Ser@@ ial@@ iz@@ er@@ ().@@ ser@@ ial@@ iz@@ e(@@ entity.get@@ Address@@ ())); }
@java.lang.Override @org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () throw@@ s java.lang.Exception { super@@ .set@@ Up@@ (); d@@ a@@ o = db@@ Fac@@ ade.get@@ AsyncTask@@ Dao@@ (); param@@ s = new org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ (); params.set@@ Session@@ Id@@ ("@@ A@@ S@@ ES@@ SI@@ ON@@ ID@@ "); params.set@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ (@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Requi@@ res@@ New@@ ); task@@ Param@@ s = new org.ovirt.engine.core.common.action.VdcAction@@ Parameters@@ Base@@ (); task@@ Param@@ s.set@@ Session@@ Id@@ ("@@ A@@ S@@ ES@@ SI@@ ON@@ ID@@ "); task@@ Param@@ s.set@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ (@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Requi@@ res@@ New@@ ); task@@ Param@@ s.set@@ Parent@@ Parameters(@@ param@@ s); new@@ Async@@ T@@ as@@ k = new org.ovirt.engine.core.common.businessentities.@@ AsyncTask@@ s(); new@@ AsyncTask@@ .set@@ Task@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); new@@ AsyncTask@@ .set@@ Vds@@ m@@ Task@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); new@@ AsyncTask@@ .set@@ Start@@ Time@@ (@@ new java.util.@@ D@@ ate@@ ()); new@@ AsyncTask@@ .set@@ action@@ _@@ typ@@ e(@@ Vdc@@ ActionType.@@ Add@@ Disk@@ ); new@@ AsyncTask@@ .set@@ status@@ (@@ AsyncTask@@ Status@@ Enum@@ .@@ run@@ ning@@ ); new@@ AsyncTask@@ .set@@ result@@ (@@ AsyncTask@@ Result@@ Enum@@ .@@ s@@ uc@@ cess@@ ); new@@ AsyncTask@@ .set@@ Action@@ Parameters(@@ param@@ s); new@@ AsyncTask@@ .set@@ Task@@ Parameters(@@ task@@ Param@@ s); new@@ AsyncTask@@ .set@@ Command@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); new@@ AsyncTask@@ .set@@ R@@ oot@@ Command@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); new@@ AsyncTask@@ .set@@ Task@@ Type(@@ AsyncTask@@ Typ@@ e.c@@ opy@@ Image@@ ); new@@ AsyncTask@@ .set@@ StoragePool@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ New@@ Guid@@ ()); existing@@ Async@@ T@@ as@@ k = d@@ ao@@ .get(@@ Fi@@ xt@@ ur@@ es@@ To@@ ol.@@ EX@@ IS@@ TI@@ N@@ G@@ _@@ T@@ A@@ S@@ K_@@ ID@@ ); }
public java.util.Map<java.lang.String, java.lang.Object> gluster@@ Volume@@ GeoRep@@ Session@@ Res@@ um@@ e(@@ java.lang.String volume@@ Name, java.lang.String s@@ lave@@ Host@@ Name, java.lang.String s@@ lave@@ Volume@@ Name, java.lang.String user@@ Name, boolean for@@ ce@@ );
private void init@@ Visi@@ b@@ il@@ i@@ ties@@ () { error@@ M@@ s@@ g.@@ set@@ Visi@@ bl@@ e@@ (@@ false@@ ); mess@@ age@@ L@@ ab@@ el.@@ set@@ Visi@@ bl@@ e@@ (@@ false@@ ); ge@@ oRep@@ For@@ ce@@ Help@@ I@@ con@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); }
public void manage@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.core.compat.Guid storagePool@@ Id = ((get@@ Entity@@ ().get@@ StoragePool@@ Id()) != null@@ ) ? get@@ Entity@@ ().get@@ StoragePool@@ Id@@ () : org.ovirt.engine.core.compat.Guid.@@ Empty@@ ; org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (); _@@ async@@ Query@@ .set@@ Model@@ (@@ this@@ ); _@@ async@@ Query@@ .@@ async@@ Call@@ back = new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object result) { org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ List@@ Model cluster@@ Network@@ List@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ ListModel@@ ) (model@@ )); java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.network.Network@@ > dc@@ Network@@ s = ((@@ java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.network.Network@@ >) (@@ result@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Manage@@ Model network@@ To@@ Manag@@ e = create@@ Network@@ List(@@ dc@@ Networks@@ ); cluster@@ Network@@ List@@ Model.set@@ W@@ in@@ do@@ w@@ (network@@ To@@ Manage@@ ); network@@ To@@ Man@@ age.@@ set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ ass@@ ign@@ Det@@ ach@@ Networks@@ Title@@ ()); network@@ To@@ Man@@ age.@@ set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ ass@@ ign@@ _@@ network@@ s@@ "); network@@ To@@ Man@@ age.@@ set@@ Help@@ Tag@@ (network@@ To@@ Man@@ age.get@@ Hash@@ Name(), "@@ C@@ luster > As@@ s@@ ig@@ n Networks@@ "); } }; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .get@@ Network@@ List(@@ _@@ async@@ Query@@ , storagePool@@ Id); }
public void set@@ G@@ u@@ est@@ Contain@@ ers@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ G@@ u@@ est@@ Contain@@ ers@@ ) { this@@ .@@ g@@ u@@ est@@ Contain@@ ers@@ List = g@@ u@@ est@@ Contain@@ ers@@ ; }
@java.lang.Override public java.lang.Object Conver@@ t@@ (java.lang.Object source@@ , org.ovirt.engine.ui.frontend.AsyncQuery _@@ async@@ Query@@ ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ c@@ ach@@ ed@@ Command@@ s@@ CompatibilityVersion@@ s = ((@@ java.util.HashMap<@@ org.ovirt.engine.core.common.action.VdcAction@@ Type, org.ovirt.engine.core.common.queries.@@ Command@@ Version@@ s@@ Info@@ >) (s@@ ource@@ )); return org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provi@@ der.@@ is@@ Command@@ C@@ ompati@@ bl@@ e(@@ v@@ dc@@ Action@@ Type, cluster@@ , dc@@ ); }
