@java.lang.Override public org.ovirt.engine.api.model.@@ Graphics@@ Console@@ s list@@ () { org.ovirt.engine.api.model.@@ Graphics@@ s con@@ s@@ ole@@ s = new org.ovirt.engine.api.model.@@ Graphics@@ Cons@@ ol@@ es@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e enti@@ ty = load@@ Entity@@ (); org.ovirt.engine.api.restapi.resource.@@ utils.@@ Graphics@@ Console@@ Resource@@ Helper.@@ list@@ (@@ this@@ , g@@ uid@@ ).@@ e@@ n@@ try@@ Set@@ ()); return con@@ s@@ ol@@ es@@ ; }
@java.lang.Override protected void re@@ ass@@ ign@@ B@@ ad@@ Mac@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > v@@ nic@@ s) { final java.util.@@ f@@ un@@ c@@ tion@@ .@@ P@@ red@@ ic@@ ate@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface@@ > v@@ nic@@ With@@ B@@ ad@@ Mac@@ P@@ red@@ ic@@ at@@ e = new org.ovirt.engine.core.bll.network.@@ p@@ red@@ ic@@ at@@ e.@@ Vnic@@ With@@ B@@ ad@@ Mac@@ P@@ red@@ ic@@ ate(@@ mac@@ Pool@@ ); v@@ nic@@ s.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ v@@ nic@@ With@@ B@@ ad@@ Mac@@ P@@ red@@ ic@@ ate@@ )@@ .@@ for@@ E@@ ach@@ (@@ ( v@@ nic@@ ) -@@ > v@@ nic@@ .set@@ Mac@@ Address@@ (@@ mac@@ Poo@@ l.@@ al@@ loc@@ ate@@ New@@ Mac@@ ())); }
@java.lang.Override protected void init@@ () { super@@ .@@ init@@ (); if (vm@@ From@@ Configur@@ ation != null@@ ) { vm@@ From@@ Configuration@@ .get@@ StaticData@@ ().set@@ Cluster@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Cluster@@ Id()); if (!@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.@@ is@@ Images@@ Al@@ read@@ y@@ On@@ T@@ arget@@ ())) { set@@ Disks@@ To@@ Be@@ Attach@@ ed(@@ vm@@ From@@ Configuration@@ ); } org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ Cont@@ ain@@ er@@ Id(@@ vm@@ From@@ Configuration@@ .getId()); } else { init@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ VM@@ (); } if ((@@ Guid@@ .@@ Empty@@ .equals(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Vm@@ Id@@ ())) && ((org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Vm@@ ()) != null@@ )) { org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Vm@@ ().get@@ Id()); } set@@ Cluster@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Cluster@@ Id()); org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Cluster@@ ().get@@ StoragePool@@ Id()); super@@ .@@ init@@ (); }
private boolean fo@@ un@@ d@@ B@@ ad@@ Mac@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > v@@ nic@@ s, java.util.@@ f@@ un@@ c@@ tion@@ .@@ P@@ red@@ ic@@ ate@@ <java.lang.String@@ > b@@ ad@@ Mac@@ P@@ red@@ ic@@ ate@@ ) { return v@@ nic@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ VmNetwork@@ Interface@@ :@@ :@@ get@@ Mac@@ Address@@ ).@@ filter@@ (@@ java.util.@@ Object@@ s@@ :@@ n@@ on@@ Null@@ ).@@ any@@ Match@@ (@@ b@@ ad@@ Mac@@ P@@ red@@ ic@@ ate@@ ); }
private boolean validate@@ Mac@@ s(@@ org.ovirt.engine.core.common.businessentities.VM vm@@ ) { if (!@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().is@@ Re@@ ass@@ ign@@ B@@ ad@@ Mac@@ s@@ ())) { return true@@ ; } final java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > v@@ nic@@ s = vm.get@@ Interfaces@@ (); return re@@ port@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ s(@@ v@@ nic@@ s); }
private boolean re@@ port@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > v@@ nic@@ s) { if ((!@@ (@@ mac@@ Poo@@ l.@@ is@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ Address@@ es@@ Allow@@ ed@@ ())) && (@@ fo@@ un@@ d@@ B@@ ad@@ Mac@@ s(@@ v@@ nic@@ s, mac@@ Pool@@ :@@ is@@ Mac@@ In@@ Use@@ ))) { return fail@@ Validation@@ (EngineMessage.@@ NETWOR@@ K@@ _M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ IN@@ _@@ U@@ SE@@ ); } return true@@ ; }
@java.lang.Override public void remove@@ Entity@@ (java.lang.Object entity@@ ) { getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ D@@ elet@@ e@@ Vm@@ G@@ u@@ est@@ Agent@@ Interfaces@@ By@@ Vm@@ Id@@ s", getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ vm@@ _id", create@@ Array@@ Of@@ U@@ UID@@ s(@@ vm@@ Id@@ )); }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s@@ List = org.ovirt.engine.core.bll.@@ Get@@ All@@ Vms@@ Query.get@@ DbFacad@@ e().get@@ Vm@@ Dao().get@@ All@@ (org.ovirt.engine.core.bll.@@ Get@@ All@@ Vms@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.@@ Get@@ All@@ Vms@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s@@ List@@ ) { org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Vm@@ G@@ u@@ est@@ Agent@@ Version@@ (vm@@ ); org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Vm@@ Statistic@@ s(@@ vm@@ ); } org.ovirt.engine.core.bll.@@ Get@@ All@@ Vms@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ vm@@ s@@ List@@ ); }
public boolean is@@ Cpu@@ H@@ ot@@ p@@ lug@@ Supported@@ (@@ int os@@ _id@@ );
public boolean is@@ Cpu@@ H@@ ot@@ un@@ p@@ lug@@ Supported@@ (@@ int os@@ _id@@ );
public org.ovirt.engine.core.common.action.VdcReturnValue@@ Base end@@ Action@@ (org.ovirt.engine.core.bll.@@ task@@ s@@ .@@ int@@ er@@ fac@@ es.@@ SP@@ M@@ T@@ as@@ k task@@ ) { org.ovirt.engine.core.common.businessentities.@@ Async@@ T@@ as@@ k db@@ Async@@ T@@ as@@ k = task@@ .get@@ Parameters().get@@ Db@@ AsyncTask@@ (); org.ovirt.engine.core.common.action.VdcAction@@ Type action@@ Type = get@@ En@@ d@@ Action@@ Type(@@ db@@ AsyncTask@@ ); org.ovirt.engine.core.common.action.VdcActionParameters@@ Base parameter@@ s = db@@ AsyncTask@@ .get@@ Action@@ Parameters@@ (); org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > c@@ ommand = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ Helper.@@ build@@ Command(@@ action@@ Type, parameters@@ , c@@ oc@@ o.@@ ret@@ ri@@ e@@ ve@@ Command@@ Context@@ (@@ db@@ AsyncTask@@ .get@@ Command@@ Id@@ ()@@ ).get@@ Execution@@ Context@@ (), c@@ oc@@ o@@ .get@@ Command@@ Status(@@ db@@ AsyncTask@@ .get@@ Command@@ Id@@ ())); return new org.ovirt.engine.core.bll.@@ task@@ s.@@ D@@ ec@@ or@@ ated@@ Command@@ (command@@ ).@@ end@@ Action@@ (); }
private static org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ P@@ olic@@ y get@@ Us@@ b@@ Policy@@ Ac@@ cor@@ d@@ ing@@ To@@ Us@@ b@@ Type(@@ org.ovirt.engine.api.model.@@ Us@@ b@@ Type us@@ b@@ Type@@ ) { switch (@@ us@@ b@@ Type@@ ) { case NA@@ TI@@ V@@ E : return org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ Policy@@ .@@ EN@@ AB@@ L@@ ED_@@ NA@@ TI@@ V@@ E@@ ; default : return null@@ ; } }
private void init@@ Us@@ b@@ Policy@@ () { java.lang.Integ@@ er os@@ Type = get@@ O@@ ST@@ yp@@ e().get@@ SelectedItem@@ (); org.ovirt.engine.core.common.businessentities.@@ Display@@ Type dis@@ play@@ Type = get@@ Display@@ Typ@@ e().get@@ SelectedItem@@ (); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model.@@ Graphics@@ Type@@ s g@@ raphics@@ Type@@ s = get@@ Graphics@@ Typ@@ e().get@@ SelectedItem@@ (); if (((@@ os@@ Type == null@@ ) || (@@ dis@@ play@@ Type == null@@ )) || (@@ g@@ raphics@@ Type@@ s == null@@ )) { return@@ ; } get@@ Us@@ b@@ Policy@@ ().setIs@@ Change@@ able@@ (@@ true@@ ); org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ P@@ olic@@ y pre@@ v@@ Selected@@ Us@@ b@@ P@@ olic@@ y = get@@ Us@@ b@@ Policy@@ ().get@@ SelectedItem@@ (); if (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().@@ is@@ Lin@@ u@@ x@@ Os@@ Type(@@ os@@ Type@@ )) { get@@ Us@@ b@@ Policy@@ ().set@@ Items(@@ java.util.Arrays.as@@ List(@@ Us@@ b@@ Policy@@ .@@ DIS@@ AB@@ L@@ ED@@ , Us@@ b@@ Policy@@ .@@ EN@@ AB@@ L@@ ED_@@ NA@@ TI@@ V@@ E@@ )); } else { get@@ Us@@ b@@ Policy@@ ().set@@ Items(@@ java.util.Arrays.as@@ List(@@ Us@@ b@@ Policy@@ .@@ DIS@@ AB@@ L@@ ED@@ , Us@@ b@@ Policy@@ .@@ EN@@ AB@@ L@@ ED_@@ NA@@ TI@@ V@@ E@@ )); } if (!(@@ g@@ raphics@@ Typ@@ es@@ .get@@ Back@@ ing@@ Graphics@@ Typ@@ es@@ ().@@ contains(@@ Graphics@@ Type.@@ SP@@ IC@@ E@@ ))) { get@@ Us@@ b@@ Policy@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); } if (get@@ Be@@ ha@@ vi@@ or@@ ().@@ b@@ as@@ ed@@ On@@ Custom@@ In@@ stance@@ Type()) { java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ Policy@@ > p@@ olic@@ i@@ es = get@@ Us@@ b@@ Policy@@ ().get@@ Item@@ s(); if (p@@ olic@@ ies.@@ contains(@@ pre@@ v@@ Selected@@ Us@@ b@@ Policy@@ )) { get@@ Us@@ b@@ Policy@@ ().set@@ SelectedItem@@ (@@ pre@@ v@@ Selected@@ Us@@ b@@ Policy@@ ); } else if ((@@ p@@ olic@@ ies.@@ size()) > 0) { get@@ Us@@ b@@ Policy@@ ().set@@ SelectedItem@@ (p@@ olic@@ ies.@@ it@@ er@@ ator@@ ().@@ ne@@ xt@@ ()); } }
@java.lang.Override public void edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Agent@@ Model f@@ ence@@ Agent@@ Model) { if (((@@ (@@ this@@ .@@ model@@ ) != null@@ ) && (@@ f@@ ence@@ Agent@@ Model != null@@ )) && (!(@@ f@@ ence@@ Agent@@ Model.@@ e@@ qual@@ s@@ (@@ this@@ .@@ model@@ )))) { d@@ ri@@ v@@ er.@@ cl@@ e@@ an@@ up@@ (); } d@@ ri@@ v@@ er.@@ edit@@ (@@ f@@ ence@@ Agent@@ Model@@ ); this@@ .@@ model = f@@ ence@@ Agent@@ Model@@ ; d@@ et@@ er@@ min@@ e@@ Label@@ Value(@@ f@@ ence@@ Agent@@ Model@@ ); f@@ ence@@ Agent@@ Model.get@@ Management@@ Ip@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { d@@ et@@ er@@ min@@ e@@ Label@@ Value(@@ model@@ ); } }); f@@ ence@@ Agent@@ Model.get@@ Con@@ current@@ Sel@@ ect@@ List@@ ().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { if ("@@ Is@@ Available@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { d@@ et@@ er@@ min@@ e@@ Label@@ Value(@@ model@@ ); } } }); }
@java.lang.Override public void edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Agent@@ Model f@@ ence@@ Agent@@ Model) { if (((@@ (@@ this@@ .@@ model@@ ) != null@@ ) && (@@ f@@ ence@@ Agent@@ Model != null@@ )) && (!(@@ f@@ ence@@ Agent@@ Model.@@ e@@ qual@@ s@@ (@@ this@@ .@@ model@@ )))) { d@@ ri@@ v@@ er.@@ cl@@ e@@ an@@ up@@ (); } d@@ ri@@ v@@ er.@@ edit@@ (@@ f@@ ence@@ Agent@@ Model@@ ); this@@ .@@ model = f@@ ence@@ Agent@@ Model@@ ; d@@ et@@ er@@ min@@ e@@ Label@@ Value(@@ f@@ ence@@ Agent@@ Model@@ ); f@@ ence@@ Agent@@ Model.get@@ Management@@ Ip@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { d@@ et@@ er@@ min@@ e@@ Label@@ Value(@@ model@@ ); } }); }
public void validate(@@ java.util.List<java.lang.String> error@@ s) { int row@@ C@@ oun@@ t = org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Row@@ Count@@ (); assert (@@ error@@ s != null@@ ) && ((@@ errors.@@ size()) == row@@ Count@@ ) : m@@ us@@ t b@@ e the s@@ am@@ e siz@@ e a@@ s the cont@@ ent@@ s of the t@@ able@@ !@@ for (@@ int i = 0@@ ; i < row@@ Count@@ ; +@@ +@@ i@@ ) { com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent el@@ em@@ ent = org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Element@@ (@@ i@@ ); assert el@@ em@@ ent != null : sh@@ oul@@ d@@ n b@@ e null if error@@ s is the s@@ am@@ e a@@ s the cont@@ ent@@ s of the t@@ able@@ !@@ ") java.lang.String er@@ ro@@ r = error@@ s.get@@ (@@ i@@ ); boolean val@@ id = org.ovirt.engine.ui.uicompat.@@ ex@@ ternal@@ .@@ StringUtils.@@ isEmpty@@ (@@ error@@ ); if (!@@ valid@@ ) { org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ utils.@@ Element@@ T@@ oolti@@ p@@ Utils.@@ set@@ T@@ oolti@@ p@@ On@@ Element@@ (@@ el@@ ement@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (@@ error@@ )); el@@ em@@ ent.@@ add@@ Class@@ Name(@@ st@@ y@@ l@@ e.@@ in@@ valid@@ Row@@ ()); } else { el@@ em@@ ent.@@ remove@@ Class@@ Name(@@ st@@ y@@ l@@ e.@@ in@@ valid@@ Row@@ ()); } }
@java.lang.Override public void on@@ B@@ row@@ ser@@ Event@@ (c@@ om@@ .google.gwt.@@ c@@ el@@ l.@@ client.@@ C@@ el@@ l.@@ Cont@@ ex@@ t cont@@ ext@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , java.lang.@@ B@@ oolean value@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , com.google.gwt.@@ c@@ el@@ l.@@ client.@@ Value@@ Updat@@ er@@ <@@ java.lang.Boolean@@ > value@@ Updat@@ er@@ ) { org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ Element@@ T@@ oolti@@ p@@ Utils.@@ set@@ T@@ oolti@@ p@@ On@@ El@@ em@@ ent@@ (@@ parent@@ , get@@ T@@ oolti@@ p@@ ()); super@@ .@@ on@@ B@@ row@@ ser@@ Event@@ (@@ cont@@ ext@@ , parent@@ , value@@ , event@@ , value@@ Updat@@ er@@ ); }
public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ () { return t@@ oolti@@ p@@ ; }
public static void set@@ T@@ oolti@@ p@@ On@@ Element@@ (c@@ om@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent e@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ , org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ .@@ ui@@ .@@ const@@ an@@ t@@ s.@@ P@@ l@@ ac@@ em@@ ent plac@@ ement@@ ) { org.ovirt.engine.ui.common.@@ utils.@@ Element@@ T@@ oolti@@ p@@ Utils.@@ set@@ T@@ oolti@@ p@@ On@@ Element@@ (@@ e@@ , t@@ oolti@@ p@@ , plac@@ ement@@ , org.ovirt.engine.ui.common.@@ utils.@@ Element@@ T@@ oolti@@ p@@ Util@@ s.get@@ T@@ oolti@@ p@@ Template@@ (@@ null@@ )); }
@java.lang.Override public java.util.Set@@ <java.lang.String@@ > get@@ Cons@@ um@@ ed@@ Event@@ s() { java.util.Set@@ <java.lang.String@@ > se@@ t = new java.util.Hash@@ Set@@ <@@ >(); set@@ .@@ add(@@ B@@ row@@ ser@@ Event@@ s.@@ C@@ H@@ AN@@ G@@ E); set@@ .@@ add(@@ B@@ row@@ ser@@ Event@@ s.@@ K@@ E@@ Y@@ DO@@ W@@ N@@ ); set@@ .@@ add(@@ B@@ row@@ ser@@ Event@@ s.@@ M@@ O@@ U@@ SE@@ M@@ OV@@ E); return set@@ ; }
private void update@@ Key@@ Title(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model object@@ ) { java.lang.String selected@@ K@@ e@@ y = object.get@@ Key@@ s().get@@ SelectedItem@@ (); if (s@@ elected@@ K@@ e@@ y != null@@ ) { java.lang.String selected@@ K@@ e@@ y = object.get@@ Key@@ s().get@@ SelectedItem@@ (); if (s@@ elected@@ K@@ e@@ y != null@@ ) { java.lang.String selected@@ K@@ e@@ y = object.get@@ Element@@ T@@ oolti@@ p@@ Util@@ s.get@@ Element@@ T@@ oolti@@ p@@ (@@ key@@ ), get@@ El@@ em@@ ent.@@ get@@ El@@ em@@ ent.@@ get@@ Element@@ (), get@@ El@@ em@@ ent.@@ get@@ Element@@ (), get@@ El@@ em@@ ent.@@ get@@ Element@@ (), get@@ Element@@ Id(), get@@ Element@@ Element@@ (), get@@ Element@@ Element@@ Element@@ (@@ org.ovirt.engine.ui.common.@@ utils.@@ Element@@ Util@@ s.get@@ Element@@ Element@@ Element@@ Element@@ Element@@ Element@@ Id@@ ())); } }
@java.lang.Override public void set@@ T@@ oolti@@ p@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ , org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ P@@ l@@ ac@@ em@@ ent plac@@ ement@@ ) { org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ Element@@ T@@ oolti@@ p@@ Utils.@@ set@@ T@@ oolti@@ p@@ On@@ El@@ em@@ ent@@ (get@@ Element@@ (), t@@ oolti@@ p@@ , plac@@ ement@@ ); }
@java.lang.Override public void set@@ T@@ oolti@@ p@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ ) { t@@ oolti@@ p@@ Panel@@ .@@ set@@ T@@ oolti@@ p@@ On@@ El@@ em@@ ent@@ (get@@ Element@@ (), t@@ oolti@@ p@@ ); }
public void on@@ B@@ row@@ ser@@ Event@@ (c@@ om@@ .google.gwt.@@ c@@ el@@ l.@@ client.@@ C@@ el@@ l.@@ Cont@@ ex@@ t cont@@ ext@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent el@@ em@@ , final T object@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ ) { final int in@@ de@@ x = cont@@ ex@@ t.get@@ In@@ dex@@ (); com.google.gwt.@@ c@@ el@@ l.@@ client.@@ Value@@ Updat@@ er@@ <@@ C@@ > value@@ Update@@ r = ((@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Column@@ .get@@ Fi@@ eld@@ Updat@@ er@@ ()) == null@@ ) ? null : new com.google.gwt.@@ c@@ el@@ l.@@ client.@@ Value@@ Updat@@ er@@ <@@ C@@ >() { @java.lang.Override public void updat@@ e(@@ C value) { get@@ Fi@@ eld@@ Updat@@ er@@ ().@@ updat@@ e(@@ in@@ dex@@ , object@@ , valu@@ e); } }; get@@ C@@ el@@ l@@ ().@@ on@@ B@@ row@@ ser@@ Event@@ (@@ cont@@ ext@@ , el@@ em@@ , org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Column@@ .get@@ Value(@@ object@@ ), event@@ , value@@ Updat@@ er@@ ); }
public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ C@@ ommon@@ Init@@ Event event@@ ) { return get@@ T@@ oolti@@ p@@ (@@ this@@ , get@@ T@@ oolti@@ p@@ (), get@@ T@@ oolti@@ p@@ (), get@@ T@@ oolti@@ p@@ ()); }
@java.lang.Override public void on@@ B@@ row@@ ser@@ Event@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Cont@@ ex@@ t cont@@ ext@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , C value@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , com.google.gwt.@@ c@@ el@@ l.@@ client.@@ Value@@ Updat@@ er@@ <@@ C@@ > value@@ Updat@@ er@@ ) { com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p = get@@ T@@ oolti@@ p@@ (@@ valu@@ e); if (@@ t@@ oolti@@ p == null@@ ) { t@@ oolti@@ p = get@@ T@@ oolti@@ p@@ (@@ value@@ , parent@@ ); } org.ovirt.engine.ui.common.@@ utils.@@ Element@@ T@@ oolti@@ p@@ Utils.@@ set@@ T@@ oolti@@ p@@ On@@ Element@@ (@@ parent@@ , t@@ oolti@@ p@@ ); super@@ .@@ on@@ B@@ row@@ ser@@ Event@@ (@@ cont@@ ext@@ , parent@@ , value@@ , event@@ , value@@ Updat@@ er@@ ); }
public void set@@ Text@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ ext@@ ) { set@@ T@@ oolti@@ p@@ Text@@ (@@ t@@ ext.@@ as@@ String@@ ()); }
@java.lang.Override public void execut@@ e() { ap@@ pl@@ y@@ T@@ oolti@@ p@@ (); }
private void ap@@ pl@@ y@@ T@@ oolti@@ p@@ () { if ((@@ (get@@ Widget@@ ()) != null@@ ) && ((@@ t@@ oolti@@ p@@ ) != null@@ )) { java.lang.String templat@@ e = org.ovirt.engine.ui.common.@@ utils.@@ Element@@ T@@ oolti@@ p@@ Util@@ s.get@@ T@@ oolti@@ p@@ Templ@@ ate(@@ ex@@ tr@@ a@@ T@@ oolti@@ p@@ Class@@ Nam@@ es.@@ t@@ ri@@ m@@ ()); org.ovirt.engine.ui.common.@@ utils.@@ Element@@ T@@ oolti@@ p@@ Utils.@@ set@@ T@@ oolti@@ p@@ On@@ Element@@ (get@@ Widget@@ ().get@@ Element@@ (), t@@ oolti@@ p@@ , plac@@ ement@@ , template@@ ); } }
private static void d@@ est@@ ro@@ y@@ T@@ oolti@@ p@@ (c@@ om@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent get@@ C@@ ommon@@ C@@ el@@ l@@ () { com.google.gwt.@@ event.@@ shared@@ .@@ G@@ w@@ t@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , this@@ ); }
@java.lang.Override public java.util.Set@@ <java.lang.String@@ > get@@ Cons@@ um@@ ed@@ Event@@ s() { return new java.util.Hash@@ Set@@ (@@ super@@ .get@@ Cons@@ um@@ ed@@ Event@@ s()); }
public void set@@ P@@ l@@ ac@@ ement@@ (@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ P@@ l@@ ac@@ em@@ ent plac@@ ement@@ ) { this@@ .@@ plac@@ em@@ ent = plac@@ ement@@ ; }
void attach@@ Al@@ er@@ t@@ (@@ org.ovirt.engine.ui.common.widget.@@ p@@ an@@ el@@ .@@ Al@@ er@@ t@@ Pan@@ e@@ l al@@ er@@ t@@ Panel@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ oot@@ Panel@@ .get@@ ().@@ add(@@ al@@ er@@ t@@ Panel@@ ); com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent message@@ D@@ i@@ v@@ El@@ em@@ ent = al@@ er@@ t@@ Panel@@ .get@@ Message@@ A@@ t@@ (0@@ ).get@@ Element@@ (); if (@@ org.ovirt.engine.ui.common.@@ utils.@@ Element@@ Utils.@@ d@@ et@@ ect@@ H@@ or@@ iz@@ on@@ t@@ al@@ O@@ ver@@ f@@ low@@ (@@ message@@ D@@ i@@ v@@ Element@@ )) { com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ Cont@@ ent = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (@@ message@@ D@@ i@@ v@@ El@@ em@@ ent.@@ get@@ In@@ n@@ er@@ Text@@ ()); org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ Element@@ T@@ oolti@@ p@@ Utils.@@ set@@ T@@ oolti@@ p@@ (@@ al@@ er@@ t@@ Panel@@ .get@@ Element@@ (), t@@ oolti@@ p@@ Cont@@ ent@@ , P@@ l@@ ac@@ em@@ ent.@@ B@@ O@@ T@@ O@@ M@@ ); }
private void update@@ B@@ ad@@ g@@ e() { b@@ ad@@ g@@ e.set@@ Visi@@ bl@@ e@@ ((@@ (c@@ ount@@ ) != 1@@ )); b@@ ad@@ g@@ e@@ T@@ ext.@@ set@@ Text@@ (@@ java.lang.String.@@ value@@ Of@@ (c@@ ount@@ )); if (@@ b@@ ad@@ g@@ e.@@ is@@ Visi@@ bl@@ e()) { com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der build@@ er = new com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Builder@@ (); for (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l mess@@ age : mess@@ ages@@ List@@ ) { buil@@ der.@@ append@@ (@@ message@@ ); } org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ uti@@ l@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l mess@@ age = mess@@ ages@@ List@@ ; if (@@ b@@ ad@@ g@@ e.@@ is@@ Visi@@ bl@@ e()) { com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der build@@ er = new com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Builder@@ (); for (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l mess@@ age : mess@@ ages@@ List@@ ) { buil@@ der.@@ append@@ (@@ message@@ ); } org.ovirt.engine.ui.webadmin.@@ c@@ ommon@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Element@@ T@@ oolti@@ p@@ Utils.@@ set@@ T@@ oolti@@ p@@ On@@ El@@ em@@ ent@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ fo@@ ot@@ er.@@ Al@@ er@@ View@@ .@@ const@@ an@@ t@@ s.@@ d@@ el@@ ()); }
public void set@@ Ht@@ ml@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l ht@@ ml@@ ) { assert ht@@ m@@ l != null : "@@ T@@ oolti@@ p H@@ T@@ M@@ L cont@@ ent can@@ not b@@ e null@@ "@@ ; if (((@@ t@@ oolti@@ p@@ ) == null@@ ) || (!(@@ t@@ oolti@@ p@@ .@@ as@@ String@@ ().@@ equals(@@ ht@@ ml.@@ as@@ String@@ ())@@ ))) { t@@ oolti@@ p = ht@@ ml@@ ; ap@@ pl@@ y@@ T@@ oolti@@ p@@ (); } }
public void set@@ Max@@ W@@ id@@ th@@ (@@ org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ Config.@@ W@@ id@@ t@@ h w@@ id@@ th@@ ) { ex@@ tr@@ a@@ T@@ oolti@@ p@@ Class@@ Name@@ s +@@ = + (@@ w@@ id@@ th@@ .get@@ Class@@ ().get@@ Name()); }
private static void create@@ T@@ oolti@@ p@@ (c@@ om@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent e@@ , java.lang.String plac@@ ement@@ , java.lang.String template@@ );
@java.lang.Override public void set@@ Widget@@ (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ W@@ id@@ g@@ e@@ t w@@ ) { super@@ .set@@ Widget@@ (@@ w@@ ); if ((@@ w != null@@ ) && (@@ w == (get@@ Widget@@ ()))) { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ f@@ err@@ ed@@ (@@ new com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er.@@ Schedul@@ ed@@ Command() { @java.lang.Override public void execut@@ e() { ap@@ pl@@ y@@ T@@ oolti@@ p@@ (); } }); } }
public static void set@@ T@@ oolti@@ p@@ On@@ Element@@ (c@@ om@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent e@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ ) { org.ovirt.engine.ui.common.@@ utils.@@ Element@@ T@@ oolti@@ p@@ Utils.@@ set@@ T@@ oolti@@ p@@ On@@ Element@@ (@@ e@@ , t@@ oolti@@ p@@ , T@@ oolti@@ p@@ Config.@@ PL@@ AC@@ EM@@ EN@@ T@@ ); }
public static java.lang.String get@@ T@@ oolti@@ p@@ Templ@@ ate(@@ java.lang.String ex@@ tr@@ a@@ T@@ oolti@@ p@@ Class@@ Names@@ ) { java.lang.String o@@ u@@ ter@@ Class@@ Name@@ s = org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ Config.@@ T@@ EM@@ PL@@ AT@@ E_@@ C@@ L@@ A@@ S@@ S_@@ O@@ U@@ TER@@ ; if (@@ org.ovirt.engine.ui.uicompat.@@ ex@@ ternal@@ .@@ StringUtils.@@ is@@ Not@@ Empty@@ (@@ ex@@ tr@@ a@@ T@@ oolti@@ p@@ Class@@ Names@@ )) { o@@ u@@ ter@@ Class@@ Name@@ s +@@ = " + ex@@ tr@@ a@@ T@@ oolti@@ p@@ Class@@ Names@@ ; } java.lang.String templat@@ e = org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ Config.@@ T@@ EM@@ PL@@ AT@@ E@@ ; templat@@ e = templat@@ e.@@ re@@ plac@@ e(@@ "@@ {0@@ }@@ ", o@@ u@@ ter@@ Class@@ Names@@ ); templat@@ e = templat@@ e.@@ re@@ plac@@ e(@@ "@@ {@@ 1@@ }@@ ", T@@ oolti@@ p@@ Config.@@ T@@ EM@@ PL@@ AT@@ E_@@ C@@ L@@ A@@ S@@ S_@@ AR@@ RO@@ W@@ ); templat@@ e = templat@@ e.@@ re@@ plac@@ e(@@ "@@ {@@ 2@@ }@@ ", T@@ oolti@@ p@@ Config.@@ T@@ EM@@ PL@@ AT@@ E_@@ C@@ L@@ A@@ S@@ S_@@ IN@@ N@@ ER@@ ); return template@@ ; }
@java.lang.Override protected void w@@ rit@@ e@@ Gener@@ al@@ Data@@ () { super@@ .@@ w@@ rit@@ e@@ Gener@@ al@@ Data@@ (); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ (@@ Ovf@@ Properties.@@ C@@ U@@ ST@@ O@@ M@@ _@@ EM@@ U@@ L@@ AT@@ ED@@ _M@@ AC@@ H@@ IN@@ E); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Ra@@ w@@ (@@ em@@ ul@@ ated@@ M@@ ach@@ in@@ e); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ (@@ Ovf@@ Properties.@@ C@@ U@@ ST@@ O@@ M@@ _C@@ P@@ U@@ _@@ NAM@@ E); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Ra@@ w@@ (c@@ pu@@ Id); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
@org.junit.Test public void cpu@@ Name@@ Is@@ Null@@ () { cpu@@ Id = null@@ ; assert@@ That@@ Th@@ ro@@ wn@@ By@@ ((@@ ) -@@ > new org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Host@@ ed@@ Engine@@ Ovf@@ W@@ rit@@ er@@ (vm@@ , im@@ ages@@ , version@@ , em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ , cpu@@ Id@@ )).@@ is@@ In@@ stance@@ Of@@ (@@ java.lang.@@ Null@@ P@@ o@@ int@@ er@@ Exception@@ .@@ class@@ ).@@ has@@ Message@@ Cont@@ ain@@ ing@@ ("@@ cpu@@ Id@@ "); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ F@@ enc@@ ing@@ Policy@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ F@@ enc@@ ing@@ Policy@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ F@@ enc@@ ing@@ P@@ olic@@ y map@@ (@@ org.ovirt.engine.api.model.@@ F@@ enc@@ ing@@ P@@ olic@@ y model, org.ovirt.engine.core.common.businessentities.@@ F@@ enc@@ ing@@ P@@ olic@@ y template@@ ) { org.ovirt.engine.core.common.businessentities.@@ F@@ enc@@ ing@@ P@@ olic@@ y enti@@ ty = (@@ templat@@ e != null@@ ) ? templat@@ e : new org.ovirt.engine.core.common.businessentities.@@ F@@ enc@@ ing@@ Policy@@ (); entity.set@@ F@@ enc@@ ing@@ Enabl@@ ed(@@ model.@@ is@@ Enabled@@ ()); if (@@ model.@@ isSet@@ S@@ k@@ ip@@ If@@ S@@ d@@ Acti@@ v@@ e()) { entity.set@@ S@@ k@@ ip@@ F@@ enc@@ ing@@ If@@ S@@ D@@ Acti@@ v@@ e(@@ model.get@@ S@@ k@@ ip@@ If@@ S@@ d@@ Acti@@ v@@ e().@@ is@@ Enabled@@ ()); } if (@@ model.@@ isSet@@ S@@ k@@ ip@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ ()) { entity.set@@ S@@ k@@ ip@@ F@@ enc@@ ing@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ (model.get@@ S@@ k@@ ip@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ ().is@@ Enabled@@ ()); if ((@@ model.get@@ S@@ k@@ ip@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Th@@ resh@@ old@@ ()) != null@@ ) { entity.set@@ Host@@ sWith@@ Brok@@ en@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Th@@ resh@@ old@@ (model.get@@ S@@ k@@ ip@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Th@@ resh@@ old@@ ()); } else { entity.set@@ Host@@ sWith@@ Brok@@ en@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Th@@ resh@@ old@@ (@@ 5@@ 0@@ ); } if (@@ model.@@ isSet@@ S@@ k@@ ip@@ If@@ Gluster@@ Brick@@ s@@ Up@@ ()) { entity.set@@ S@@ k@@ ip@@ F@@ enc@@ ing@@ If@@ Gluster@@ Qu@@ or@@ Not@@ Met@@ (model.get@@ S@@ k@@ ip@@ If@@ Gluster@@ Brick@@ s@@ Up@@ ().is@@ Enabled@@ ()); } if (@@ model.@@ isSet@@ S@@ k@@ ip@@ If@@ Gluster@@ Qu@@ or@@ Not@@ ()) { entity.set@@ S@@ k@@ ip@@ F@@ enc@@ ing@@ If@@ Gluster@@ Qu@@ or@@ Not@@ Met@@ (model.get@@ Gluster@@ Qu@@ or@@ Not@@ Met@@ or@@ Not@@ Met@@ or@@ Not@@ Met@@ or@@ Not@@ Met@@ or@@ ().is@@ Enabled@@ ()); } return entity@@ ; }
@java.lang.Override protected boolean validate(@@ ) { set@@ StoragePool@@ Id@@ (get@@ Vm@@ ().get@@ StoragePool@@ Id()); if ((((@@ !@@ (is@@ Valid@@ Parameters@@ List@@ ())) || (!(@@ check@@ Images@@ Status@@ ()))) || (!(@@ validate@@ Space@@ Re@@ qui@@ r@@ ement@@ s@@ ()))) || (!(@@ p@@ er@@ for@@ m@@ Vm@@ R@@ el@@ ated@@ Check@@ s@@ ()))) { return false@@ ; } for (@@ org.ovirt.engine.core.common.action.@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Parameters parameter@@ s : org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Vm@@ Disks@@ Command.getParameters().get@@ Parameters@@ List@@ ()) { org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Vm@@ Disks@@ Command.get@@ ReturnValu@@ e().set@@ Valid@@ ((((@@ ((@@ is@@ Disk@@ Not@@ Sh@@ are@@ able(@@ parameters@@ .get@@ Image@@ Id@@ ())) && (is@@ Disk@@ Snapshot@@ Not@@ Plug@@ ged@@ To@@ O@@ th@@ er@@ Vms@@ That@@ A@@ re@@ Not@@ Down@@ (@@ parameters@@ .get@@ Image@@ Id@@ ()))) && (is@@ Template@@ In@@ Dest@@ StorageDomain@@ (@@ parameters@@ .get@@ Image@@ Id(), parameters@@ .get@@ T@@ arget@@ StorageDomain@@ Id@@ ()))) && (p@@ er@@ for@@ m@@ StorageDomain@@ s@@ Check@@ s(@@ parameters@@ ))) && (is@@ S@@ ame@@ Source@@ And@@ Dest@@ (@@ parameters@@ )@@ ))); if (!@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Vm@@ Disks@@ Command.get@@ ReturnValu@@ e().@@ is@@ Valid@@ ())) { return false@@ ; } } if (!(@@ set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ ())) { return false@@ ; } return validate@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command@@ (); }
private void init@@ Sp@@ y@@ Command() { do@@ Return@@ (@@ true@@ ).when@@ (command@@ ).@@ validate@@ Space@@ Re@@ qui@@ r@@ ement@@ s(); do@@ Return@@ (@@ true@@ ).when@@ (command@@ ).@@ check@@ Images@@ Status@@ (); do@@ Return@@ (@@ true@@ ).when@@ (command@@ )@@ .set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ (); do@@ Return@@ (@@ true@@ ).when@@ (command@@ ).@@ validate@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command@@ (); }
@java.lang.Override protected void execute@@ Command() { run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ , new org.ovirt.engine.core.common.vdscommands.@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ Command.get@@ Vds@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ Command.get@@ DiskImage@@ ().get@@ Storage@@ Id@@ s().get@@ (0@@ ), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ Command.get@@ DiskImage@@ ().get@@ Image@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ Command.get@@ DiskImage@@ ().get@@ Id@@ ())); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { java.util.Map<java.lang.String, java.lang.Object> volume@@ Add@@ res@@ s = new java.util.HashMap@@ <@@ >(); volume@@ Address@@ .@@ put@@ ("@@ sd@@ _id", org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ VDS@@ Command.getParameters().get@@ Storage@@ Id()); volume@@ Address@@ .@@ put@@ ("@@ im@@ g@@ _id", org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ VDS@@ Command.getParameters().get@@ Image@@ Id()); volume@@ Address@@ .@@ put@@ ("@@ v@@ ol@@ _id", org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ VDS@@ Command.getParameters().get@@ Volume@@ Id()); result = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ VDS@@ Command.get@@ Broker@@ ().@@ sp@@ ar@@ s@@ if@@ y@@ In@@ plac@@ e(@@ job@@ Id, volume@@ Address@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); }
private boolean s@@ el@@ ect@@ Proxy@@ Host@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > acti@@ ve@@ Host@@ s = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ Command.get@@ Vds@@ Dao().get@@ AllFor@@ StoragePool@@ And@@ Status@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ Command.get@@ DiskImage@@ ().get@@ StoragePool@@ Id(), VDS@@ Status.@@ Up@@ ); if (@@ acti@@ ve@@ Host@@ s.@@ isEmpty@@ ()) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ VDS acti@@ ve@@ Hos@@ t = acti@@ ve@@ Host@@ s.get@@ (0@@ ); set@@ Vds@@ (@@ acti@@ ve@@ Host@@ ); return true@@ ; }
protected org.ovirt.engine.core.common.businessentities.storage.@@ Disk get@@ Disk@@ () { if ((@@ disk@@ ) == null@@ ) { dis@@ k = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ Command.get@@ Disk@@ Dao().get@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ Command.getParameters().get@@ Image@@ Id()); } return disk@@ ; }
@java.lang.Override protected void init@@ () { set@@ Image@@ Id@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (get@@ Disk@@ ())@@ ).get@@ Image@@ Id()); }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > get@@ Permission@@ Check@@ Su@@ bject@@ s() { java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > per@@ m@@ s@@ List = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k = get@@ Disk@@ (); if (@@ dis@@ k != null@@ ) { per@@ m@@ s@@ Lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (disk@@ .get@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .S@@ P@@ AR@@ SI@@ F@@ Y_@@ DIS@@ K@@ )); } return per@@ m@@ s@@ List@@ ; }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c sp@@ ar@@ s@@ if@@ y@@ In@@ plac@@ e(@@ org.ovirt.engine.core.compat.Guid job@@ Id, java.util.Map<java.lang.String, java.lang.Object> volume@@ Address@@ );
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c sp@@ ar@@ s@@ if@@ y@@ In@@ plac@@ e(@@ org.ovirt.engine.core.compat.Guid job@@ Id, java.util.Map<java.lang.String, java.lang.Object> volume@@ Address@@ ) { throw new java.lang.@@ Un@@ support@@ ed@@ Operation@@ Exception@@ (); }
@java.lang.Override protected boolean validate(@@ ) { if ((@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ Command.get@@ Vds@@ ()) == null@@ ) && (!(@@ s@@ el@@ ect@@ Proxy@@ Host@@ ()))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NO@@ _@@ VDS@@ _@@ IN@@ _P@@ O@@ OL@@ ); } return true@@ ; }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c sp@@ ar@@ s@@ if@@ y@@ In@@ plac@@ e(@@ org.ovirt.engine.core.compat.Guid job@@ Id, java.util.Map<java.lang.String, java.lang.Object> volume@@ Address@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ S@@ D@@ M@@ .@@ sp@@ ar@@ s@@ if@@ y@@ _@@ in@@ pl@@ ace@@ ").@@ with@@ Parameter("@@ job@@ _id", job@@ Id@@ ).@@ with@@ Parameter("@@ v@@ ol@@ _@@ add@@ r@@ ", volume@@ Address@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
@java.lang.Override protected void execute@@ Command() { log.@@ info@@ ("@@ S@@ napsho@@ t Image@@ Trans@@ f@@ er enti@@ ty for c@@ ommand '{}@@ ' org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er enti@@ ty = new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Image@@ Command@@ Id()); entity.set@@ Command@@ Type(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Action@@ Typ@@ e()); entity.set@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ IN@@ I@@ TI@@ AL@@ I@@ Z@@ ING@@ ); entity.set@@ L@@ ast@@ Updat@@ ed@@ (@@ new java.util.@@ Dat@@ e()); entity.set@@ By@@ t@@ es@@ T@@ otal@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ image@@ Trans@@ fer@@ Image@@ C@@ ommand == null ? null : org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Parameters().get@@ Image@@ Id()); if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Image@@ Command.get@@ Parameters().get@@ Image@@ Id@@ ())) { create@@ Image@@ (); } else { handl@@ e@@ Image@@ Is@@ Read@@ y@@ For@@ Trans@@ fer@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ C@@ ommand disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Parameters().get@@ Image@@ Id()); } setAction@@ Return@@ Value(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Succeeded@@ (@@ true@@ ); }
public boolean is@@ Down@@ load@@ ing@@ () { return !@@ (@@ validate(@@ get@@ Down@@ load@@ ing@@ ().is@@ Down@@ load@@ ing@@ ()); }
public void set@@ Is@@ Down@@ load@@ ing@@ (@@ boolean is@@ Down@@ load@@ ing@@ ) { this@@ .@@ load@@ ing = is@@ Down@@ load@@ ing@@ ; }
@org.junit.Test public void test@@ U@@ pl@@ o@@ ad@@ Is@@ Default@@ Trans@@ fer@@ Typ@@ e() { assert@@ E@@ quals(@@ trans@@ fer@@ Image@@ Command.get@@ Trans@@ fer@@ Typ@@ e(), trans@@ fer@@ Image@@ Command.@@ UP@@ LO@@ AD@@ ); }
protected java.lang.String get@@ Trans@@ fer@@ Description@@ () { return java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s '@@ %@@ s@@ ' (@@ id '@@ %@@ s@@ '@@ )@@ ", get@@ Trans@@ fer@@ Typ@@ e(), get@@ Image@@ Typ@@ e(), get@@ Image@@ Alias@@ (), get@@ Image@@ Id@@ Null@@ S@@ af@@ e()); }
@org.junit.Test public void test@@ Fail@@ On@@ Down@@ load@@ With@@ out@@ Image@@ () { trans@@ fer@@ Image@@ Command.get@@ Parameters@@ ().setIs@@ Down@@ load@@ ing@@ (@@ true@@ ); junit.@@ framework.@@ As@@ sert@@ .@@ assert@@ Fal@@ se(@@ trans@@ fer@@ Image@@ Command.@@ valid@@ at@@ e()); assert@@ That@@ (@@ trans@@ fer@@ Image@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ (), contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ IM@@ AGE_@@ NOT_@@ SP@@ EC@@ I@@ FI@@ ED_@@ F@@ OR@@ _@@ DO@@ W@@ N@@ LO@@ AD@@ .@@ nam@@ e())); }
@java.lang.Override protected boolean validate(@@ ) { org.ovirt.engine.core.compat.Guid image@@ Id = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Image@@ Id@@ (); if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (@@ image@@ Id@@ ))) { return validate@@ Image@@ Trans@@ fer@@ (@@ image@@ Id); } else { if (!@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Parameters@@ ().is@@ Down@@ load@@ ing@@ ())) { return validate@@ Create@@ Image@@ (); } else { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ IM@@ AGE_@@ NOT_@@ SP@@ EC@@ I@@ FI@@ ED_@@ F@@ OR@@ _@@ DO@@ W@@ N@@ LO@@ AD@@ ); } }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Image@@ Trans@@ f@@ er image@@ Trans@@ fer@@ ) { org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ DiskImage@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ DiskImage@@ Parameters@@ (); if (((@@ image@@ Trans@@ fer@@ .get@@ D@@ ir@@ ection@@ ()) != null@@ ) && (@@ image@@ Trans@@ fer@@ .get@@ D@@ ir@@ ection@@ ().@@ equals(@@ Image@@ Trans@@ fer@@ D@@ ir@@ ection@@ .@@ DO@@ W@@ N@@ LO@@ AD@@ ))) { params.set@@ Is@@ Down@@ load@@ ing@@ (@@ true@@ ); } params.set@@ Image@@ Id(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (@@ image@@ Trans@@ fer@@ .get@@ Image@@ ().get@@ Id@@ ())); params.set@@ K@@ e@@ ep@@ al@@ ive@@ Inter@@ val@@ (@@ Configuration@@ Values.@@ U@@ pl@@ o@@ ad@@ Image@@ U@@ i@@ In@@ acti@@ vi@@ ty@@ Time@@ out@@ In@@ Sec@@ on@@ ds@@ .get@@ Valu@@ e()); return p@@ er@@ for@@ m@@ Cre@@ ate(@@ Vdc@@ ActionType.@@ Trans@@ fer@@ DiskImage@@ , param@@ s, new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Image@@ Trans@@ fer@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ )); }
@org.junit.Test public void test@@ Fail@@ s@@ Down@@ load@@ Execution@@ With@@ out@@ Image@@ () { trans@@ fer@@ Image@@ Command.get@@ Parameters@@ ().setIs@@ Down@@ load@@ ing@@ (@@ true@@ ); trans@@ fer@@ Image@@ Command.@@ execute@@ Command@@ (); junit.@@ framework.@@ As@@ sert@@ .@@ assert@@ Fal@@ se(@@ trans@@ fer@@ Image@@ Command.get@@ ReturnValue().get@@ Succeeded@@ ()); assert@@ That@@ (@@ trans@@ fer@@ Image@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ (), contains(@@ EngineMessage.ACTION_TYPE_FAILED_@@ IM@@ AGE_@@ NOT_@@ SP@@ EC@@ I@@ FI@@ ED_@@ F@@ OR@@ _@@ DO@@ W@@ N@@ LO@@ AD@@ .@@ nam@@ e())); }
@java.lang.Override protected void execute@@ Command() { log.@@ info@@ ("@@ Image@@ Trans@@ f@@ er enti@@ ty for c@@ ommand '{}@@ ' org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er enti@@ ty = new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); entity.set@@ Command@@ Type(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Action@@ Typ@@ e()); entity.set@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ IN@@ I@@ TI@@ AL@@ I@@ Z@@ ING@@ ); entity.set@@ L@@ ast@@ Updat@@ ed@@ (@@ new java.util.@@ Dat@@ e()); entity.set@@ By@@ t@@ es@@ T@@ otal@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Siz@@ e()); image@@ Trans@@ fer@@ Dao@@ .@@ s@@ av@@ e(@@ entity@@ ); if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Image@@ Id@@ ())) { if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Parameters@@ ().is@@ Down@@ load@@ ing@@ ()) { fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ IM@@ AGE_@@ NOT_@@ SP@@ EC@@ I@@ FI@@ ED_@@ F@@ OR@@ _@@ DO@@ W@@ N@@ LO@@ AD@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ .set@@ Succeeded@@ (@@ false@@ ); return@@ ; } log.@@ info@@ ("@@ C@@ oul@@ d {@@ } im@@ age get@@ Image@@ Typ@@ e()); create@@ Image@@ (); } else { handl@@ e@@ Image@@ Is@@ Read@@ y@@ For@@ Trans@@ f@@ er (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Image@@ Id()); } setAction@@ Return@@ Value(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ > get@@ Ovf@@ Entity@@ List@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Entity@@ Type vm@@ Entity@@ Type@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ > entity@@ List = get@@ Ovf@@ Entity@@ Data@@ .get@@ AllFor@@ StorageDomain@@ By@@ Entity@@ Type(@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Enti@@ ties@@ Query.get@@ Parameters().get@@ Id(), vm@@ Entity@@ Type@@ ); return entity@@ List@@ ; }
private static org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Cli@@ ent create@@ Client@@ (java.lang.String host@@ name@@ , int port@@ , org.ovirt.vds@@ m.jsonrpc@@ .@@ client@@ .@@ int@@ er@@ nal@@ .@@ Client@@ P@@ olic@@ y connection@@ Policy@@ , org.ovirt.vds@@ m.jsonrpc@@ .@@ client@@ .@@ int@@ er@@ nal@@ .@@ Client@@ P@@ olic@@ y client@@ Policy@@ , boolean is@@ Sec@@ ure@@ , org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ act@@ or@@ Type type@@ , java.lang.String prot@@ oc@@ ol@@ , int par@@ all@@ el@@ is@@ m@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Manager@@ Provi@@ der p@@ rovi@@ der = null@@ ; if (is@@ Sec@@ ur@@ e) { p@@ rovi@@ der = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ Engine@@ Manager@@ Provider@@ (@@ prot@@ oc@@ ol@@ ); } try { final org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ ac@@ to@@ r re@@ ac@@ to@@ r = org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ act@@ or@@ Fac@@ t@@ ory@@ .get@@ Re@@ act@@ or@@ (p@@ rovider@@ , typ@@ e); return org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ J@@ son@@ R@@ pc@@ Util@@ s.get@@ J@@ son@@ Client@@ (@@ re@@ act@@ or@@ , host@@ name@@ , port@@ , connection@@ Policy@@ , par@@ all@@ el@@ is@@ m@@ ); } catch (@@ org.ovirt.vdsm.jsonrpc.client.@@ Client@@ Connection@@ Exception e) { org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ J@@ son@@ R@@ pc@@ Utils.@@ log.error@@ ("@@ E@@ r@@ ro@@ r oc@@ c@@ ur@@ ed d@@ ur@@ ing build@@ ing build@@ ing build@@ ing build@@ ing s@@ l cont@@ ex@@ t or ob@@ t@@ ain@@ ing s@@ el@@ ect@@ or org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ J@@ son@@ R@@ pc@@ Utils.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); throw new java.lang.@@ I@@ ll@@ eg@@ al@@ St@@ ate@@ Exception@@ (@@ e); } }
private boolean execute@@ S@@ sh@@ R@@ eb@@ oot@@ (java.lang.String version@@ ) { try (@@ final org.ovirt.engine.core.bll.@@ utils.@@ Engine@@ SS@@ H@@ Cli@@ ent s@@ sh@@ Cli@@ ent = new org.ovirt.engine.core.bll.@@ utils.@@ Engine@@ SS@@ H@@ Client@@ (); final java.io.@@ By@@ t@@ e@@ Array@@ Out@@ put@@ St@@ rea@@ m cmd@@ O@@ u@@ t = new java.io.@@ By@@ t@@ e@@ Array@@ Out@@ put@@ St@@ re@@ am@@ (); final java.io.@@ By@@ t@@ e@@ Array@@ Out@@ put@@ St@@ rea@@ m cmd@@ E@@ r@@ r = new java.io.@@ By@@ t@@ e@@ Array@@ Out@@ put@@ St@@ re@@ am@@ ()) { try { log.@@ info@@ ("@@ SS@@ H re@@ b@@ oo@@ t s@@ ess@@ ion on hos@@ t {@@ } org.ovirt.engine.core.bll.@@ S@@ sh@@ Host@@ R@@ eb@@ oot@@ Command.get@@ Vds@@ ().get@@ Host@@ Name()); s@@ sh@@ Cli@@ ent.@@ set@@ Vds@@ (org.ovirt.engine.core.bll.@@ S@@ sh@@ Host@@ R@@ eb@@ oot@@ Command.get@@ Vds@@ ()); s@@ sh@@ Cli@@ ent.@@ us@@ e@@ Default@@ Key@@ Pair@@ (); s@@ sh@@ Cli@@ ent.@@ conn@@ ect@@ (); s@@ sh@@ Cli@@ ent.@@ auth@@ enti@@ cat@@ e(); log.@@ info@@ ("@@ SS@@ H re@@ b@@ oo@@ t c@@ ommand on hos@@ t {@@ } org.ovirt.engine.core.bll.@@ S@@ sh@@ Host@@ R@@ eb@@ oot@@ Command.get@@ Vds@@ ().get@@ Host@@ Name()); s@@ sh@@ Cli@@ ent.@@ execute@@ Command@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <java.lang.String@@ >@@ get@@ Value(ConfigValues.@@ S@@ sh@@ Host@@ R@@ eb@@ oot@@ Command@@ , version@@ ), null@@ , cmd@@ Out@@ , cmd@@ Err@@ ); return true@@ ; } catch (@@ java.lang.Exception ex@@ ) { log.error@@ ("@@ SS@@ H re@@ b@@ oo@@ t c@@ ommand fail@@ ed on hos@@ t {@@ } {@@ } {@@ } to org.ovirt.engine.core.bll.@@ S@@ sh@@ Host@@ R@@ eb@@ oot@@ Command.get@@ Vds@@ ().get@@ Host@@ Name(), ex@@ .get@@ Message@@ (), cmd@@ Out@@ , cmd@@ Err@@ ); log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } catch (@@ java.io.@@ I@@ O@@ Exception e) { log.error@@ ("@@ I@@ O@@ Exception@@ ", e); } return false@@ ; }
private boolean execute@@ S@@ sh@@ P@@ ower@@ Down@@ (java.lang.String version@@ ) { boolean re@@ t = false@@ ; try (@@ final org.ovirt.engine.core.bll.@@ utils.@@ Engine@@ SS@@ H@@ Cli@@ ent s@@ sh@@ Cli@@ ent = new org.ovirt.engine.core.bll.@@ utils.@@ Engine@@ SS@@ H@@ Client@@ (); final java.io.@@ By@@ t@@ e@@ Array@@ Out@@ put@@ St@@ rea@@ m cmd@@ O@@ u@@ t = new java.io.@@ By@@ t@@ e@@ Array@@ Out@@ put@@ St@@ re@@ am@@ (); final java.io.@@ By@@ t@@ e@@ Array@@ Out@@ put@@ St@@ rea@@ m cmd@@ E@@ r@@ r = new java.io.@@ By@@ t@@ e@@ Array@@ Out@@ put@@ St@@ re@@ am@@ ()) { try { log.@@ info@@ ("@@ S@@ sh@@ ow@@ er do@@ w@@ n s@@ ess@@ ion on hos@@ t {@@ } org.ovirt.engine.core.bll.@@ Vds@@ P@@ ower@@ Down@@ Command.get@@ Vds@@ ().get@@ Host@@ Name()); s@@ sh@@ Cli@@ ent.@@ set@@ Vds@@ (org.ovirt.engine.core.bll.@@ Vds@@ P@@ ower@@ Down@@ Command.get@@ Vds@@ ()); s@@ sh@@ Cli@@ ent.@@ us@@ e@@ Default@@ Key@@ Pair@@ Pair@@ (); s@@ sh@@ Cli@@ ent.@@ conn@@ ect@@ (); s@@ sh@@ Cli@@ ent.@@ auth@@ enti@@ cat@@ e(); log.@@ info@@ ("@@ S@@ sh@@ ow@@ er do@@ w@@ n c@@ ommand on hos@@ t {@@ } org.ovirt.engine.core.bll.@@ Vds@@ P@@ ower@@ Down@@ Command.get@@ Vds@@ ().get@@ Host@@ Name()); s@@ sh@@ Cli@@ ent.@@ execute@@ Command@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <java.lang.String@@ >@@ get@@ Value(ConfigValues.@@ S@@ sh@@ Vds@@ P@@ ow@@ er@@ do@@ wn@@ Command@@ , version@@ ), null@@ , cmd@@ Out@@ , cmd@@ Out@@ , cmd@@ Err@@ ); re@@ t = true@@ ; } catch (@@ java.lang.Exception ex@@ ) { log.error@@ ("@@ S@@ sh@@ ow@@ er do@@ w@@ n c@@ ommand fail@@ ed on hos@@ t {@@ } {@@ } org.ovirt.engine.core.bll.@@ Vds@@ P@@ ower@@ Down@@ Command.get@@ Vds@@ ().get@@ Host@@ Name(), ex@@ .get@@ Message@@ (), cmd@@ Out@@ , cmd@@ Err@@ ); log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } catch (@@ java.io.@@ I@@ O@@ Exception e) { log.error@@ ("@@ I@@ O@@ Exception@@ "); log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); } return ret@@ ; }
private void cl@@ one@@ St@@ r@@ uct@@ ure@@ Not@@ C@@ oll@@ ap@@ s@@ ed@@ () { org.ovirt.engine.core.common.action.@@ Cl@@ one@@ Image@@ Group@@ Volum@@ es@@ St@@ r@@ uct@@ ure@@ Command@@ Parameters p = new org.ovirt.engine.core.common.action.@@ Cl@@ one@@ Image@@ Group@@ Volum@@ es@@ St@@ r@@ uct@@ ure@@ Command@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.getParameters().get@@ S@@ r@@ c@@ Domain@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.getParameters().get@@ Dest@@ Domain@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.getParameters().get@@ Dest@@ ination@@ Format@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.get@@ Action@@ Typ@@ e(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.get@@ Parameters@@ ()); p@@ .set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.get@@ Parameters@@ ()); p@@ .set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.get@@ Action@@ Typ@@ e()); p@@ .set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); p@@ .set@@ Job@@ W@@ e@@ ig@@ ht@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.getParameters().get@@ Operation@@ s@@ W@@ e@@ ig@@ ht@@ ().get@@ (@@ Copy@@ St@@ age.@@ DE@@ ST@@ _C@@ RE@@ A@@ TI@@ ON@@ )); run@@ Internal@@ Action(VdcActionType.@@ Cl@@ one@@ Image@@ Group@@ Volum@@ es@@ St@@ r@@ uct@@ ure@@ , p@@ ); }
private void pre@@ par@@ e@@ Parameters@@ () { java.util.Map@@ <@@ java.lang.Object@@ , java.lang.Integer@@ > w@@ e@@ ig@@ ht@@ s = new java.util.HashMap@@ (); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.get@@ Parameters@@ ().set@@ Operation@@ s@@ W@@ e@@ ig@@ ht@@ (@@ w@@ e@@ ig@@ ht@@ s); int create@@ W@@ e@@ ig@@ h@@ t = (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.getParameters().get@@ Job@@ W@@ e@@ ig@@ ht@@ ()) / 1@@ 0@@ ; w@@ e@@ ig@@ ht@@ s.@@ put(@@ Copy@@ St@@ age.@@ DE@@ ST@@ _C@@ RE@@ A@@ TI@@ ON@@ , create@@ W@@ e@@ ig@@ ht@@ ); w@@ e@@ ig@@ ht@@ s.@@ put(@@ Copy@@ St@@ age.@@ D@@ AT@@ A@@ _C@@ O@@ P@@ Y@@ , ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ With@@ Data@@ Command.getParameters().get@@ Job@@ W@@ e@@ ig@@ ht@@ ()) - create@@ W@@ e@@ ig@@ ht@@ )); }
public org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p add@@ St@@ ep@@ (org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Cont@@ ex@@ t cont@@ ext@@ , org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ En@@ u@@ m st@@ ep@@ Name, java.lang.String d@@ escription@@ , boolean is@@ External@@ ) { if (@@ cont@@ ex@@ t == null@@ ) { return null@@ ; } org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p st@@ e@@ p = null@@ ; if (@@ cont@@ ext.@@ is@@ M@@ onitor@@ ed@@ ()) { if (@@ d@@ es@@ cri@@ ption == null@@ ) { d@@ es@@ cri@@ ption = org.ovirt.engine.core.dal.@@ job@@ .@@ Execution@@ Message@@ Direct@@ or@@ .getInstance().get@@ St@@ ep@@ Message@@ (@@ st@@ ep@@ Name@@ ); } try { org.ovirt.engine.core.common.@@ job@@ .@@ J@@ o@@ b j@@ o@@ b = cont@@ ex@@ t.get@@ Job@@ (); if (((@@ cont@@ ex@@ t.get@@ Execution@@ Method@@ ()) == (org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Cont@@ ext.@@ Execution@@ Method@@ .@@ As@@ Job@@ )) && (@@ j@@ o@@ b != null@@ )) { st@@ e@@ p = job@@ .@@ add@@ St@@ ep@@ (@@ st@@ ep@@ Name, d@@ escription@@ ); try { st@@ ep@@ .set@@ External@@ (is@@ External@@ ); job@@ Rep@@ os@@ it@@ ory@@ .@@ s@@ ave@@ St@@ ep@@ (@@ st@@ ep@@ ); } catch (@@ java.lang.Exception e) { log.error@@ ("@@ Fail@@ ed to s@@ av@@ e new st@@ e@@ p '{}@@ ' for j@@ o@@ b '{}@@ '@@ , '{}@@ '@@ : {}@@ ", st@@ ep@@ Nam@@ e.@@ nam@@ e(), job@@ .get@@ Id(), job@@ .get@@ Action@@ Typ@@ e().@@ nam@@ e(), e.get@@ Message@@ ()); log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); job@@ .get@@ St@@ ep@@ s().@@ remov@@ e(@@ st@@ ep@@ ); st@@ e@@ p = null@@ ; } } else { org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p cont@@ ext@@ St@@ ep@@ (); if (((@@ cont@@ ex@@ t.get@@ Execution@@ Method@@ ()) == (org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Cont@@ ext.@@ Execution@@ Method@@ .@@ As@@ St@@ ep@@ )) && (@@ cont@@ ext@@ St@@ e@@ p != null@@ )) { st@@ e@@ p = add@@ Sub@@ St@@ ep@@ (@@ cont@@ ext@@ St@@ ep@@ , st@@ ep@@ Name, d@@ cri@@ ption@@ , java.util.Collections.@@ em@@ pty@@ List@@ (), false@@ ); st@@ ep@@ .set@@ External@@ (is@@ External@@ ); } } } catch (@@ java.lang.Exception e) { log.error@@ ("@@ Exception@@ ", e); } return st@@ ep@@ ; }
@java.lang.Override protected void execute@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > image@@ s = disk@@ Image@@ Dao@@ .get@@ All@@ Snapshots@@ For@@ Image@@ Group@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ ()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ s@@ ort@@ Image@@ List(@@ im@@ ages@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.get@@ Parameters@@ ().set@@ Image@@ Id@@ s(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ DiskImage@@ Id@@ s(@@ im@@ ages@@ )); do@@ ubl@@ e t@@ otal@@ Siz@@ e = im@@ ages.@@ st@@ re@@ am@@ ().@@ map@@ To@@ Do@@ ubl@@ e(@@ "@@ d@@ i@@ ) -@@ > d@@ i@@ .get@@ Ac@@ tu@@ al@@ Siz@@ e()@@ ).@@ s@@ um@@ (); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.get@@ Parameters@@ ().set@@ Operation@@ s@@ W@@ e@@ ig@@ ht@@ (@@ im@@ ages.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ DiskImage@@ :@@ :@@ get@@ Image@@ Id, ("@@ $@@ c@@ al@@ c@@ ul@@ ate@@ Image@@ W@@ e@@ ig@@ ht@@ (@@ t@@ otal@@ Size@@ , x@@ )@@ ))); p@@ ers@@ ist@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.getParameters().get@@ Parent@@ Command@@ (), ((get@@ Callback@@ ()) != null@@ )); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private void c@@ opy@@ Volume@@ Data@@ (org.ovirt.engine.core.compat.Guid image@@ ) { org.ovirt.engine.core.common.action.@@ Copy@@ Data@@ Command@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Copy@@ Image@@ Group@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.getParameters().get@@ StoragePool@@ Id(), build@@ Image@@ Loc@@ ation@@ Info@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.getParameters().get@@ S@@ r@@ c@@ Domain@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ (), image@@ ), build@@ Image@@ Loc@@ ation@@ Info@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.getParameters().get@@ Dest@@ Domain@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ (), image@@ ), false@@ ); parameters.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); parameters.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.get@@ Action@@ Typ@@ e()); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.get@@ Parameters@@ ()); parameters.set@@ Job@@ W@@ e@@ ig@@ ht@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.getParameters().get@@ Operation@@ s@@ W@@ e@@ ig@@ ht@@ ().get@@ (@@ image@@ )); run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (VdcActionType.@@ Copy@@ Data@@ , parameters@@ ); }
public org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p add@@ Task@@ St@@ ep@@ (org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Cont@@ ex@@ t cont@@ ext@@ , org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ En@@ u@@ m st@@ ep@@ Name, java.lang.String d@@ es@@ cri@@ ption@@ , java.util.Collection@@ <@@ org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Su@@ bject@@ Entity@@ > st@@ ep@@ Su@@ bject@@ Enti@@ ti@@ es@@ ) { if (@@ cont@@ ex@@ t == null@@ ) { return null@@ ; } org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p st@@ e@@ p = null@@ ; if (@@ cont@@ ext.@@ is@@ Task@@ s@@ M@@ onitor@@ ed@@ ()) { org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p parent@@ Task@@ St@@ e@@ p = cont@@ ex@@ t.get@@ Parent@@ Task@@ s@@ St@@ ep@@ (); if (@@ parent@@ Task@@ St@@ e@@ p != null@@ ) { st@@ e@@ p = add@@ Sub@@ St@@ ep@@ (@@ parent@@ Task@@ St@@ ep@@ , st@@ ep@@ Name, d@@ es@@ cri@@ ption@@ , st@@ ep@@ Name, st@@ ep@@ Su@@ bject@@ Enti@@ ties@@ , true@@ ); } return st@@ ep@@ ; }
private org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p add@@ Sub@@ St@@ ep@@ (org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p parent@@ St@@ ep@@ , org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ En@@ u@@ m st@@ ep@@ Name, java.lang.String d@@ es@@ cri@@ ption@@ , java.util.Collection@@ <@@ org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Su@@ bject@@ Entity@@ > st@@ ep@@ Su@@ bject@@ Enti@@ ties@@ , boolean has@@ Pro@@ g@@ res@@ s) { org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p st@@ e@@ p = null@@ ; if (@@ parent@@ St@@ e@@ p != null@@ ) { if (@@ d@@ es@@ cri@@ ption == null@@ ) { d@@ es@@ cri@@ ption = org.ovirt.engine.core.dal.@@ job@@ .@@ Execution@@ Message@@ Direct@@ or@@ .getInstance().get@@ St@@ ep@@ Message@@ (@@ st@@ ep@@ Name@@ ); } st@@ e@@ p = parent@@ St@@ ep@@ .@@ add@@ St@@ ep@@ (@@ st@@ ep@@ Name, d@@ escription@@ ); if (@@ has@@ Progress@@ ) { st@@ ep@@ .set@@ Progress@@ (0@@ ); } try { job@@ Rep@@ os@@ it@@ ory@@ .@@ s@@ ave@@ St@@ ep@@ (@@ st@@ e@@ p@@ , st@@ ep@@ Su@@ bject@@ Enti@@ ti@@ es@@ ); } catch (@@ java.lang.Exception e) { log.error@@ ("@@ Fail@@ ed to s@@ av@@ e new st@@ e@@ p '{}@@ '@@ , '{}@@ '@@ , '{}@@ '@@ : {}@@ ", st@@ ep@@ Nam@@ e.@@ nam@@ e(), parent@@ St@@ ep@@ .get@@ Id(), parent@@ St@@ ep@@ .get@@ St@@ ep@@ Typ@@ e().@@ nam@@ e(), e.get@@ Message@@ ()); log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); parent@@ St@@ ep@@ .get@@ St@@ ep@@ s().@@ remov@@ e(@@ st@@ ep@@ ); st@@ e@@ p = null@@ ; } } return st@@ ep@@ ; }
private int c@@ al@@ c@@ ul@@ ate@@ Image@@ W@@ e@@ ig@@ ht@@ (@@ do@@ ubl@@ e t@@ otal@@ Size@@ , org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage image@@ ) { do@@ ubl@@ e w@@ e@@ ig@@ h@@ t = (@@ t@@ otal@@ Siz@@ e == 0) ? 1 / (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.getParameters().get@@ Image@@ Id@@ s().@@ size()) : (@@ im@@ age.get@@ Ac@@ tu@@ al@@ Siz@@ e()) / t@@ otal@@ Size@@ ; return java.lang.@@ L@@ on@@ g.@@ value@@ Of@@ (@@ java.lang.@@ M@@ ath@@ .@@ ro@@ un@@ d@@ ((@@ w@@ e@@ ig@@ h@@ t * (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Volum@@ es@@ Data@@ Command.getParameters().get@@ Job@@ W@@ e@@ ig@@ ht@@ ())@@ )@@ .@@ int@@ Valu@@ e(); }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Su@@ bject@@ Entity@@ > get@@ Command@@ St@@ ep@@ Su@@ bject@@ Enti@@ ties@@ () { if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Data@@ Command.getParameters().get@@ D@@ st@@ Info@@ ()) instanceof org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ Info@@ ) { return java.util.Collections.@@ sing@@ leton@@ List@@ (@@ new org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Su@@ bject@@ Entity@@ (org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , ((org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ Info@@ ) (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Data@@ Command.getParameters().get@@ D@@ st@@ Info@@ ())@@ ).get@@ Image@@ Group@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Data@@ Command.getParameters().get@@ Job@@ W@@ e@@ ig@@ ht@@ ())); } return null@@ ; }
public org.ovirt.engine.core.compat.Guid create@@ Task@@ (org.ovirt.engine.core.compat.Guid task@@ Id, org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ , org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ AsyncTask@@ Cre@@ ation@@ In@@ f@@ o async@@ Task@@ Cre@@ ation@@ Info@@ , org.ovirt.engine.core.common.action.VdcAction@@ Type parent@@ Command@@ , java.lang.String d@@ escription@@ , java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type@@ > enti@@ ties@@ Map@@ ) { org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p task@@ St@@ e@@ p = org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler@@ .getInstance().@@ add@@ Task@@ St@@ ep@@ (command@@ .get@@ Execution@@ Context@@ (), org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Enum@@ .get@@ St@@ ep@@ Name@@ By@@ Task@@ Type(@@ async@@ Task@@ Cre@@ ation@@ Info@@ .get@@ Task@@ Typ@@ e()@@ ), d@@ es@@ cri@@ ption@@ , command@@ .get@@ Command@@ St@@ ep@@ Su@@ bject@@ Enti@@ ties@@ ()); command@@ .get@@ Execution@@ Context@@ ().set@@ St@@ ep@@ (@@ task@@ St@@ e@@ p@@ ); if (@@ task@@ St@@ e@@ p != null@@ ) { async@@ Task@@ Cre@@ ation@@ Info@@ .set@@ St@@ ep@@ Id(@@ task@@ St@@ ep@@ .getId()); } org.ovirt.engine.core.bll.@@ task@@ s.@@ SP@@ M@@ Async@@ T@@ as@@ k t@@ as@@ k = con@@ c@@ ret@@ e@@ Create@@ Task@@ (@@ task@@ Id, command@@ , async@@ Task@@ Cre@@ ation@@ Info@@ , parent@@ Command@@ ); task@@ .set@@ Enti@@ ties@@ Map@@ (@@ enti@@ ties@@ Map@@ ); org.ovirt.engine.core.bll.@@ task@@ s.@@ AsyncTask@@ Utils.@@ add@@ Or@@ Update@@ Task@@ In@@ D@@ B@@ (@@ task@@ ); get@@ AsyncTask@@ Manager@@ ().@@ lock@@ And@@ Add@@ Task@@ To@@ Manager@@ (@@ task@@ ); org.ovirt.engine.core.compat.Guid vds@@ m@@ Task@@ Id = task@@ .get@@ Vds@@ m@@ Task@@ Id@@ (); org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler@@ .getInstance().@@ update@@ St@@ ep@@ External@@ Id(@@ task@@ St@@ ep@@ , vds@@ m@@ Task@@ Id, External@@ System@@ Type.@@ VDS@@ M@@ ); return vds@@ m@@ Task@@ Id@@ ; }
private void handl@@ e@@ Command@@ St@@ ep@@ And@@ Enti@@ ties@@ () { if ((get@@ Command@@ St@@ ep@@ ()) != null@@ ) { org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p task@@ St@@ e@@ p = ex@@ ecution@@ Handler.@@ add@@ Task@@ St@@ ep@@ (get@@ Execution@@ Context@@ (), get@@ Command@@ St@@ ep@@ (), null@@ , get@@ Command@@ St@@ ep@@ Su@@ bject@@ Enti@@ ties@@ ()); if (@@ task@@ St@@ e@@ p != null@@ ) { get@@ Execution@@ Context@@ ().set@@ St@@ ep@@ (@@ task@@ St@@ ep@@ ); p@@ ers@@ ist@@ Command@@ If@@ N@@ e@@ ed@@ ed@@ ed@@ ed@@ (); } }
public java.util.Map@@ <?@@ , java.lang.Integer@@ > get@@ Operation@@ s@@ W@@ e@@ ig@@ ht@@ () { return o@@ peration@@ s@@ W@@ e@@ ig@@ ht@@ ; }
public void set@@ Operation@@ s@@ W@@ e@@ ig@@ ht@@ (@@ java.util.Map@@ <@@ java.lang.Object@@ , java.lang.Integer@@ > o@@ peration@@ s@@ W@@ e@@ ig@@ ht@@ ) { this@@ .@@ o@@ peration@@ s@@ W@@ e@@ ig@@ ht@@ ; }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Su@@ bject@@ Entity@@ > get@@ Command@@ St@@ ep@@ Su@@ bject@@ Enti@@ ties@@ () { if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command.getParameters().get@@ Job@@ W@@ e@@ ig@@ ht@@ ()) != null@@ ) { return java.util.Collections.@@ sing@@ leton@@ List@@ (@@ new org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Su@@ bject@@ Entity@@ (org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command.getParameters().get@@ Job@@ W@@ e@@ ig@@ ht@@ ()@@ .@@ int@@ Valu@@ e())); } return null@@ ; }
private org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r build@@ User@@ (@@ T param@@ s, java.lang.String auth@@ z@@ Name@@ ) { org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r db@@ Use@@ r = db@@ User@@ Dao@@ .get@@ By@@ External@@ Id(@@ auth@@ z@@ Name, param@@ s.get@@ P@@ rin@@ c@@ ip@@ al@@ Id()); org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r us@@ er = new org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ User@@ (@@ db@@ User@@ ); user.@@ set@@ Id@@ ((@@ db@@ Use@@ r == null ? org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ () : db@@ User@@ .getId@@ ())); user.@@ set@@ External@@ Id(@@ param@@ s.get@@ P@@ rin@@ c@@ ip@@ al@@ Id()); user.@@ set@@ Domain@@ (@@ auth@@ z@@ Name@@ ); user.@@ set@@ Em@@ ail@@ (@@ param@@ s.get@@ Em@@ a@@ i@@ l@@ ()); user.@@ set@@ F@@ ir@@ st@@ Name(@@ param@@ s.get@@ F@@ ir@@ st@@ Name()); user.@@ set@@ L@@ ast@@ Name(@@ param@@ s.get@@ L@@ ast@@ Name()); user.@@ set@@ Names@@ p@@ ac@@ e(@@ param@@ s.get@@ Names@@ p@@ ac@@ e()); user.@@ set@@ Lo@@ gin@@ Name(@@ param@@ s.get@@ P@@ rin@@ c@@ ip@@ al@@ Name()); java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > group@@ Id@@ s = new java.util.ArrayList<@@ >(); java.util.List<java.lang.String> group@@ Rec@@ or@@ d@@ Id@@ s = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.bll.@@ aaa.@@ Create@@ User@@ Session@@ Command.@@ f@@ l@@ at@@ Group@@ s@@ (((@@ java.util.Collection@@ <@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ >) (@@ param@@ s.get@@ Group@@ Id@@ s@@ ())@@ ), group@@ Rec@@ or@@ d@@ Id@@ s); for (java.lang.String group@@ Id : group@@ Rec@@ or@@ d@@ Id@@ s) { org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Group db@@ Group = db@@ Group@@ Dao@@ .get@@ By@@ External@@ Id(@@ auth@@ z@@ Name, group@@ Id); if (@@ db@@ Group != null@@ ) { group@@ Id@@ s.add(@@ db@@ Group@@ .getId()); } user.@@ set@@ Group@@ Id@@ s(@@ group@@ Id@@ s); if (@@ db@@ Use@@ r == null@@ ) { db@@ User@@ Dao@@ .@@ s@@ av@@ e(@@ user@@ ); } else if (!(@@ db@@ Us@@ er.@@ equals(@@ user@@ ))) { db@@ User@@ Dao@@ .@@ updat@@ e(@@ user@@ ); } return user@@ ; }
java.lang.String are@@ Y@@ o@@ u@@ S@@ ure@@ Y@@ o@@ u@@ W@@ an@@ t@@ To@@ Check@@ For@@ Up@@ g@@ r@@ ad@@ e@@ Th@@ e@@ F@@ ol@@ low@@ ing@@ Host@@ M@@ s@@ g@@ ();
@java.lang.Override public org.ovirt.engine.core.common.utils.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result@@ (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, org.ovirt.engine.core.common.businessentities.@@ VDS host@@ ) { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ Valu@@ e = back@@ end@@ Internal@@ .@@ run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ o@@ Vir@@ t@@ IS@@ O@@ s, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ hos@@ t.get@@ Id@@ ())); java.util.List<@@ org.ovirt.engine.core.compat.@@ R@@ p@@ m@@ Version@@ > is@@ o@@ s = return@@ Valu@@ e.get@@ ReturnValu@@ e(); boolean update@@ Avail@@ able = org.ovirt.engine.core.common.utils.@@ R@@ p@@ m@@ Version@@ Utils.@@ is@@ Update@@ Avail@@ able(@@ is@@ os@@ , hos@@ t.get@@ Host@@ Os@@ ()); org.ovirt.engine.core.common.utils.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result = new org.ovirt.engine.core.common.utils.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result@@ (); host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Res@@ ult.@@ setUp@@ dat@@ es@@ Avail@@ able(@@ update@@ Available@@ ); if (@@ update@@ Available@@ ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base audit@@ Lo@@ g = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(); audit@@ Lo@@ g.@@ set@@ Vds@@ (@@ host@@ ); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ a@@ uditLog@@ , AuditLogType.@@ OV@@ I@@ R@@ T_@@ N@@ OD@@ E_@@ UP@@ D@@ AT@@ E@@ S_@@ AR@@ E_@@ A@@ V@@ AIL@@ AB@@ LE@@ ); } return host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result@@ ; }
org.ovirt.engine.core.common.utils.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result@@ (@@ java.util.Map<java.lang.String, java.lang.Object> host@@ ) { java.util.Map<java.lang.String, java.lang.String> host@@ s = new java.util.HashMap@@ <java.lang.String, java.lang.String@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s : host@@ s) { host@@ s.get@@ Host@@ ().set@@ Items(@@ host@@ ); } }
private void on@@ Up@@ g@@ r@@ ad@@ e() { if ((get@@ Progress@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.core.common.action.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Parameters(@@ hos@@ t.get@@ Id()); in@@ vo@@ ke@@ Check@@ For@@ Host@@ Up@@ g@@ r@@ ad@@ e(@@ param@@ s); }
public org.ovirt.engine.core.common.utils.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result@@ (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, org.ovirt.engine.core.common.businessentities.@@ VDS host@@ ) { return c@@ re@@ ate(@@ hos@@ t.get@@ Vds@@ Typ@@ e()@@ ).@@ is@@ Update@@ Avail@@ able(@@ host@@ ); }
private org.ovirt.engine.core.compat.Guid fin@@ d@@ Ch@@ il@@ d@@ Command@@ By@@ Action@@ Type(@@ org.ovirt.engine.core.common.action.VdcAction@@ Type command@@ Type, java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > ch@@ il@@ d@@ C@@ md@@ Id@@ s) { for (org.ovirt.engine.core.compat.Guid cmd@@ Id : ch@@ il@@ d@@ Command@@ Id@@ s) { org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity command@@ Entity = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Command@@ Entity@@ (c@@ md@@ Id); if ((@@ command@@ Entity@@ .get@@ Command@@ Type()) == command@@ Type@@ ) { return cmd@@ Id@@ ; } } return null@@ ; }
@java.lang.Override public void initial@@ iz@@ e() { set@@ Title(@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Confirmation@@ Model@@ .@@ const@@ an@@ t@@ s.@@ up@@ g@@ r@@ ad@@ e@@ Host@@ Titl@@ e()); set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ up@@ g@@ r@@ ad@@ e@@ _@@ host@@ ); set@@ Hash@@ Name(@@ Help@@ T@@ a@@ g.@@ up@@ g@@ r@@ ad@@ e@@ _@@ host.@@ nam@@ e); set@@ Message@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Confirmation@@ Model@@ .@@ const@@ an@@ t@@ s.@@ are@@ Y@@ o@@ u@@ S@@ ure@@ Y@@ o@@ u@@ W@@ an@@ t@@ To@@ Check@@ For@@ Up@@ g@@ r@@ ad@@ e@@ Th@@ e@@ F@@ ol@@ low@@ ing@@ Host@@ M@@ s@@ g@@ ()); org.ovirt.engine.ui.uicommonweb.UICommand up@@ g@@ r@@ ad@@ e@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command(@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Confirmation@@ Model.@@ ON_@@ C@@ H@@ EC@@ K_@@ UP@@ G@@ R@@ AD@@ E@@ , this@@ ); up@@ g@@ r@@ ad@@ e@@ Command@@ .set@@ Title(@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Confirmation@@ Model@@ .@@ const@@ an@@ t@@ s.@@ o@@ k@@ ()); up@@ g@@ r@@ ad@@ e@@ Command@@ .setIs@@ Default@@ (@@ true@@ ); get@@ Command@@ s().add(@@ up@@ g@@ r@@ ad@@ e@@ Command@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = vds@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Internal@@ Command.get@@ Vds@@ Id()); org.ovirt.engine.core.common.utils.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result@@ ; try { host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result = ava@@ il@@ able@@ Updat@@ es@@ F@@ in@@ der.@@ is@@ Update@@ Avail@@ able(@@ vds@@ ); if (@@ host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Res@@ ult.@@ is@@ Updat@@ es@@ Avail@@ abl@@ e()) { java.lang.String mess@@ age = ((@@ host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Res@@ ult.get@@ Available@@ P@@ ack@@ ages@@ ()) == null@@ ) ? "@@ fo@@ un@@ d updat@@ es.@@ " : java.lang.String@@ .@@ for@@ mat@@ (@@ " fo@@ un@@ d update@@ s for package@@ s %@@ s", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Res@@ ult.get@@ Available@@ P@@ ack@@ ages@@ (), ", ")); org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Internal@@ Command.@@ add@@ Custom@@ Value("@@ Message@@ ", message@@ ); vds.get@@ Dynamic@@ Data@@ ().set@@ Update@@ Avail@@ able(@@ host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Res@@ ult.@@ is@@ Updat@@ es@@ Avail@@ abl@@ e()); vds@@ Dynamic@@ Dao@@ .@@ update@@ Update@@ Avail@@ able(@@ vds.get@@ Id(), host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Res@@ ult.@@ is@@ Updat@@ es@@ Avail@@ abl@@ e()); } else { org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Internal@@ Command.@@ add@@ Custom@@ Value("@@ Message@@ ", " n@@ o update@@ s fo@@ un@@ d@@ .@@ "); } org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Internal@@ Command.get@@ ReturnValu@@ e().set@@ Action@@ Return@@ Value(@@ host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result@@ ); org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Internal@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); set@@ Command@@ Status(@@ Command@@ Status.@@ S@@ U@@ C@@ E@@ ED@@ ED); } catch (@@ java.lang.Exception e) { log.error@@ ("@@ Fail@@ ed to ch@@ ec@@ k if update@@ s ar@@ e ava@@ il@@ able for hos@@ t '{}@@ '@@ ", vds.get@@ Name()); org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Internal@@ Command@@ .set@@ Succeeded@@ (@@ false@@ ); set@@ Command@@ Status(@@ Command@@ Status.@@ FAIL@@ ED); } }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value(@@ ) { return org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Internal@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ HOST@@ _@@ A@@ V@@ AIL@@ AB@@ L@@ E_@@ UP@@ D@@ AT@@ E@@ S_@@ F@@ IN@@ IS@@ H@@ E@@ D : org.ovirt.engine.core.common.@@ AuditLogType.@@ HOST@@ _@@ A@@ V@@ AIL@@ AB@@ L@@ E_@@ UP@@ D@@ AT@@ E@@ S_@@ FAIL@@ ED@@ ; }
@java.lang.Override public boolean is@@ Update@@ Avail@@ able(@@ org.ovirt.engine.core.common.businessentities.@@ VDS host@@ ) { return ava@@ il@@ able@@ Updat@@ es@@ F@@ in@@ der.@@ is@@ Update@@ Avail@@ able(@@ host@@ )@@ .is@@ Updat@@ es@@ Avail@@ abl@@ e(); }
@java.lang.Override protected void execute@@ Command() { java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ <@@ org.ovirt.engine.core.common.action.VdcReturnValue@@ Base@@ > up@@ g@@ r@@ ad@@ e@@ Check@@ C@@ m@@ d = org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ execute@@ Async@@ Command@@ (VdcActionType.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Internal@@ , create@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Parameters@@ (), org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Command.@@ cl@@ one@@ Context@@ ()); if (!@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Command.get@@ Parameters@@ ().is@@ Run@@ Async@@ ())) { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base result@@ ; try { result = up@@ g@@ r@@ ad@@ e@@ Check@@ C@@ md@@ .get@@ (); org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Command.get@@ ReturnValu@@ e().set@@ Action@@ Return@@ Value(@@ result.get@@ Action@@ ReturnValu@@ e()); if (!(@@ result.get@@ Succeeded@@ ())) { pro@@ p@@ ag@@ ate@@ Failur@@ e(@@ result@@ ); return@@ ; } } catch (@@ java.lang.@@ Inter@@ r@@ up@@ t@@ ed@@ Exception | java.util.@@ con@@ c@@ urr@@ ent.@@ Execution@@ Exception e) { log.error@@ ("@@ Exception@@ ", e); return@@ ; } } org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Check@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override public java.lang.String toString@@ () { return org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ .@@ for@@ In@@ stance@@ (@@ this@@ ).@@ append("@@ id@@ ", get@@ LUN@@ Id@@ ()).@@ append("@@ p@@ h@@ y@@ s@@ ical@@ Volume@@ Id@@ ", get@@ P@@ h@@ y@@ s@@ ical@@ Volume@@ Id@@ ()).@@ append("@@ volume@@ Group@@ Id@@ ", get@@ Volume@@ Group@@ Id@@ ()).@@ append("@@ ser@@ ial@@ ", get@@ Ser@@ ial@@ ()).@@ append("@@ lun@@ Mapp@@ ing@@ ", get@@ Lun@@ Mapp@@ ing@@ ()).@@ append("@@ ve@@ n@@ do@@ r@@ Id@@ ", get@@ V@@ e@@ n@@ do@@ r@@ Id@@ ()).@@ append("@@ pro@@ d@@ uct@@ Id@@ ", get@@ Pro@@ d@@ uct@@ Id@@ ()).@@ append("@@ lun@@ Connection@@ s", get@@ Lun@@ Connection@@ s@@ ()).@@ append("@@ devi@@ ce@@ Size@@ ", get@@ Device@@ Siz@@ e()@@ ).@@ append("@@ p@@ v@@ Size@@ ", get@@ P@@ v@@ Siz@@ e()@@ ).@@ append("@@ ve@@ n@@ do@@ r@@ Name@@ ", get@@ V@@ e@@ n@@ do@@ r@@ Name()@@ ).@@ append("@@ p@@ ath@@ s@@ D@@ ic@@ tion@@ ar@@ y@@ ", get@@ Path@@ s@@ D@@ ic@@ tion@@ ar@@ y@@ ()).@@ append("@@ p@@ ath@@ s@@ C@@ ap@@ ac@@ ity@@ ", get@@ Path@@ s@@ C@@ ap@@ ac@@ ity@@ ()).@@ append("@@ lun@@ Type@@ ", get@@ Lun@@ Typ@@ e()@@ ).@@ append("@@ status@@ ", get@@ Status@@ ()).@@ append("@@ disk@@ Id@@ ", get@@ Disk@@ Id@@ ()).@@ append("@@ disk@@ Alias@@ ", get@@ Disk@@ Alias@@ ()).@@ append("@@ storageDomain@@ Id@@ ", get@@ StorageDomain@@ Id@@ ()).@@ append("@@ storageDomain@@ Name@@ ", get@@ StorageDomain@@ Name()@@ ).@@ append("@@ dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ ", get@@ Dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ ()).@@ append("@@ dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ", is@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ()); }
public java.lang.@@ B@@ oolean is@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ () { return static@@ Data@@ .is@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ (); }
public void set@@ Support@@ s@@ Dis@@ c@@ ard@@ (@@ boolean support@@ s@@ Dis@@ c@@ ard@@ ) { this@@ .@@ support@@ s@@ Dis@@ c@@ ar@@ d = support@@ s@@ Dis@@ c@@ ard@@ ; }
public java.lang.@@ B@@ oolean is@@ Support@@ s@@ Dis@@ c@@ ard@@ () { return support@@ s@@ Dis@@ c@@ ard@@ ; }
public java.lang.@@ L@@ on@@ g get@@ Dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ () { return dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ ; }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s oth@@ er = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ (((@@ java.lang.Boolean@@ ) (@@ oth@@ er.@@ id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ , oth@@ er.@@ lun@@ Mapp@@ ing@@ , oth@@ er.@@ lun@@ Mapp@@ ing@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name, oth@@ er.@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name, oth@@ er.@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name, oth@@ er.@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name, oth@@ er.@@ vm@@ Name, oth@@ er.@@ vm@@ Name, oth@@ er.@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Name, oth@@ er.@@ vm@@ Name, oth@@ er.@@ vm@@ Name, oth@@ er.@@ er.@@ vm@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Id, oth@@ er.@@ ve@@ n@@ do@@ r@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ volume@@ Group@@ Id, oth@@ er.@@ volume@@ Group@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ status@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ status@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Id, oth@@ er.@@ disk@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Alias@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Alias@@ , oth@@ er.@@ disk@@ Alias@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Alias@@ , oth@@ er.@@ disk@@ Alias@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Alias@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Alias@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id, oth@@ er.@@ disk@@ Alias@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id, oth@@ er.@@ disk@@ Alias@@ , oth@@ er.@@ disk@@ Alias@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id, oth@@ er.@@ disk@@ Alias@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@
public void set@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ (@@ boolean dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ) { static@@ Data@@ .set@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ (@@ dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ); }
@java.lang.Override public void s@@ av@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ ) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ lun@@ _id", lun@@ .get@@ LUN@@ Id@@ ()).addValue("@@ p@@ h@@ y@@ s@@ ical@@ _@@ volume@@ _id", lun@@ .get@@ P@@ h@@ y@@ s@@ ical@@ Volume@@ Id@@ ()).addValue("@@ volume@@ _@@ group@@ _id", lun@@ .get@@ Volume@@ Group@@ Id@@ ()).addValue("@@ ser@@ ial@@ ", lun@@ .get@@ Ser@@ ial@@ ()).addValue("@@ lun@@ _@@ m@@ app@@ ing@@ ", lun@@ .get@@ Lun@@ Mapp@@ ing@@ ()).addValue("@@ ve@@ n@@ do@@ r@@ _id", lun@@ .get@@ V@@ e@@ n@@ do@@ r@@ Id@@ ()).addValue("@@ pro@@ d@@ uct@@ _id", lun@@ .get@@ Pro@@ d@@ uct@@ Id@@ ()).addValue("@@ devi@@ ce@@ _@@ s@@ ize@@ ", lun@@ .get@@ Device@@ Siz@@ e()@@ ).addValue("@@ dis@@ c@@ ard@@ _@@ ma@@ x@@ _@@ byte@@ s", lun@@ .get@@ Dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ ()).addValue("@@ dis@@ c@@ ard@@ _@@ z@@ er@@ o@@ es@@ _@@ data@@ ", lun@@ .is@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ()); getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ In@@ sert@@ LUN@@ s", parameter@@ Source@@ ); }
public java.lang.@@ B@@ oolean is@@ Support@@ s@@ Dis@@ c@@ ard@@ () { return static@@ Data@@ .is@@ Support@@ s@@ Dis@@ c@@ ard@@ (); }
@java.lang.Override protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s lun@@ ) { return create@@ Id@@ Parameter@@ Map@@ per@@ (@@ lun@@ .getId@@ ()).addValue("@@ p@@ h@@ y@@ s@@ ical@@ _@@ volume@@ _id", lun@@ .get@@ P@@ h@@ y@@ s@@ ical@@ Volume@@ Id@@ ()).addValue("@@ volume@@ _@@ group@@ _id", lun@@ .get@@ Volume@@ Group@@ Id@@ ()).addValue("@@ ser@@ ial@@ ", lun@@ .get@@ Ser@@ ial@@ ()).addValue("@@ lun@@ _@@ m@@ app@@ ing@@ ", lun@@ .get@@ Lun@@ Mapp@@ ing@@ ()).addValue("@@ ve@@ n@@ do@@ r@@ _id", lun@@ .get@@ V@@ e@@ n@@ do@@ r@@ Id@@ ()).addValue("@@ pro@@ d@@ uct@@ _id", lun@@ .get@@ Pro@@ d@@ uct@@ Id@@ ()).addValue("@@ devi@@ ce@@ _@@ s@@ ize@@ ", lun@@ .get@@ Device@@ Siz@@ e()@@ ).addValue("@@ dis@@ c@@ ard@@ _@@ ma@@ x@@ _@@ byte@@ s", lun@@ .get@@ Dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ ()).addValue("@@ dis@@ c@@ ard@@ _@@ z@@ er@@ o@@ es@@ _@@ data@@ ", lun@@ .is@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ()); }
protected java.util.Map@@ <@@ java.util.@@ f@@ un@@ c@@ tion@@ .@@ Cons@@ um@@ er@@ <@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >> get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ V@@ g@@ Info@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ Db@@ ) { java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s> lun@@ s@@ From@@ Db@@ Map = lun@@ s@@ From@@ Db@@ .@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ LUN@@ s@@ :@@ :@@ get@@ LUN@@ Id, java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ ())); return lun@@ s@@ From@@ V@@ g@@ Info@@ .@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ group@@ ing@@ By@@ (@@ ( lun@@ From@@ V@@ g@@ Info@@ ) -@@ > { org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ From@@ D@@ b = lun@@ s@@ From@@ Db@@ Map@@ .get(@@ lun@@ From@@ V@@ g@@ Info@@ .get@@ LUN@@ Id()); if (@@ lun@@ From@@ D@@ b == null@@ ) { return s@@ ave@@ New@@ Lun@@ s@@ ; } boolean lun@@ From@@ Db@@ H@@ as@@ S@@ ame@@ P@@ v@@ Id = java.util.@@ Object@@ s.@@ equals(@@ lun@@ From@@ Db@@ .get@@ P@@ h@@ y@@ s@@ ical@@ Volume@@ Id(), lun@@ From@@ V@@ g@@ Info@@ .get@@ P@@ h@@ y@@ s@@ ical@@ Volume@@ Id()); if (@@ lun@@ From@@ Db@@ H@@ as@@ S@@ ame@@ P@@ v@@ Id) { if ((@@ lun@@ From@@ Db@@ .get@@ Device@@ Siz@@ e()) != (@@ lun@@ From@@ V@@ g@@ Info@@ .get@@ Device@@ Siz@@ e())) || (!(@@ java.util.@@ Object@@ s.@@ equals(@@ lun@@ From@@ Db@@ .get@@ Dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ (), lun@@ From@@ V@@ g@@ Info@@ .get@@ Dis@@ c@@ ard@@ Max@@ C@@ ard@@ Max@@ By@@ t@@ es@@ ())@@ ))) || (!(@@ java.util.@@ Object@@ s.@@ equals(@@ lun@@ From@@ Db@@ .is@@ Dis@@ c@@ ard@@ Data@@ (), lun@@ From@@ V@@ g@@ Info@@ .is@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ ())@@ ))) { return update@@ Existing@@ Lun@@ s@@ ; } return update@@ Existing@@ Lun@@ s@@ ; }
@org.junit.Test public void test@@ Get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ D@@ if@@ f@@ Dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ () { lun@@ From@@ V@@ g.@@ set@@ Dis@@ c@@ ard@@ Max@@ By@@ t@@ es(@@ 2@@ 0@@ 4@@ 8@@ L@@ ); lun@@ From@@ Db@@ .set@@ Dis@@ c@@ ard@@ Max@@ By@@ t@@ es(@@ 1@@ 0@@ 2@@ 4@@ L@@ ); assert@@ Lun@@ Sh@@ oul@@ d@@ Be@@ Updat@@ ed@@ D@@ ue@@ To@@ Fi@@ eld@@ Chang@@ e(); }
public void set@@ Support@@ s@@ Dis@@ c@@ ard@@ (@@ boolean support@@ s@@ Dis@@ c@@ ard@@ ) { static@@ Data@@ .set@@ Support@@ s@@ Dis@@ c@@ ard@@ (s@@ upport@@ s@@ Dis@@ c@@ ard@@ ); }
@java.lang.Override public void updat@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ ) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ lun@@ _id", lun@@ .get@@ LUN@@ Id@@ ()).addValue("@@ p@@ h@@ y@@ s@@ ical@@ _@@ volume@@ _id", lun@@ .get@@ P@@ h@@ y@@ s@@ ical@@ Volume@@ Id@@ ()).addValue("@@ volume@@ _@@ group@@ _id", lun@@ .get@@ Volume@@ Group@@ Id@@ ()).addValue("@@ ser@@ ial@@ ", lun@@ .get@@ Ser@@ ial@@ ()).addValue("@@ lun@@ _@@ m@@ app@@ ing@@ ", lun@@ .get@@ Lun@@ Mapp@@ ing@@ ()).addValue("@@ ve@@ n@@ do@@ r@@ _id", lun@@ .get@@ V@@ e@@ n@@ do@@ r@@ Id@@ ()).addValue("@@ pro@@ d@@ uct@@ _id", lun@@ .get@@ Pro@@ d@@ uct@@ Id@@ ()).addValue("@@ devi@@ ce@@ _@@ s@@ ize@@ ", lun@@ .get@@ Device@@ Siz@@ e()@@ ).addValue("@@ dis@@ c@@ ard@@ _@@ ma@@ x@@ _@@ byte@@ s", lun@@ .get@@ Dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ ()).addValue("@@ dis@@ c@@ ard@@ _@@ z@@ er@@ o@@ es@@ _@@ data@@ ", lun@@ .is@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ()); getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ Update@@ LUN@@ s", parameter@@ Source@@ ); }
public void set@@ Dis@@ c@@ ard@@ Max@@ By@@ t@@ es(@@ java.lang.@@ L@@ on@@ g dis@@ c@@ ard@@ Max@@ By@@ t@@ es) { this@@ .@@ dis@@ c@@ ard@@ Max@@ By@@ t@@ es = dis@@ c@@ ard@@ Max@@ By@@ t@@ es@@ ; }
public static boolean ne@@ ed@@ s@@ Al@@ er@@ t@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { return (@@ ne@@ ed@@ s@@ Al@@ er@@ t || (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Status@@ Column@@ .@@ has@@ D@@ if@@ fer@@ ent@@ Time@@ z@@ on@@ e(@@ vm@@ )) || (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Status@@ Column@@ .@@ has@@ D@@ if@@ fer@@ ent@@ Time@@ z@@ on@@ e(@@ vm@@ ))) || (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Status@@ Column@@ .@@ has@@ D@@ if@@ fer@@ ent@@ O@@ ST@@ yp@@ e(@@ vm@@ )); } return (@@ ne@@ ed@@ s@@ Al@@ er@@ t@@ || (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Status@@ Column@@ .@@ const@@ an@@ t@@ s.@@ m@@ Update@@ N@@ e@@ ed@@ ed(@@ vm@@ ))) || (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Status@@ Column@@ .@@ has@@ Pa@@ us@@ e@@ Error@@ (vm@@ )); }
public void set@@ Vds@@ Numa@@ Node@@ List(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > vds@@ Numa@@ Node@@ List@@ ) { this@@ .@@ vds@@ Numa@@ Node@@ List = vds@@ Numa@@ Node@@ List@@ ; }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > get@@ Vds@@ Numa@@ Node@@ List@@ () { return vds@@ Numa@@ Node@@ List@@ ; }
private static org.ovirt.engine.core.bll.ValidationResult check@@ Numa@@ Pre@@ f@@ err@@ ed@@ T@@ u@@ ne@@ Mod@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ Numa@@ T@@ u@@ ne@@ Mod@@ e num@@ a@@ T@@ u@@ ne@@ M@@ ode@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > vm@@ Numa@@ Nod@@ es) { if (@@ num@@ a@@ T@@ u@@ ne@@ Mod@@ e != (org.ovirt.engine.core.common.businessentities.@@ Numa@@ T@@ u@@ ne@@ Mod@@ e.@@ P@@ RE@@ F@@ ER@@ R@@ ED@@ )) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } if ((@@ vm@@ Numa@@ Nod@@ es.@@ size()) == 1@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e.@@ P@@ in@@ n@@ ing@@ > vds@@ Numa@@ Node@@ List = vm@@ Numa@@ Nod@@ es@@ .get@@ (0@@ ).get@@ Vds@@ Numa@@ Node@@ List@@ (); boolean p@@ in@@ n@@ ed@@ To@@ Sing@@ le@@ Nod@@ e = ((@@ vds@@ Numa@@ Node@@ List != null@@ ) && ((@@ vds@@ Numa@@ Node@@ Lis@@ t.@@ size()) == 1@@ )) && (@@ vds@@ Numa@@ Node@@ Lis@@ t.get@@ (0@@ ).get@@ P@@ in@@ ne@@ Mod@@ e()); if (p@@ in@@ n@@ ed@@ To@@ Sing@@ le@@ Node@@ ) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } } return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ VM_@@ N@@ U@@ M@@ A@@ _@@ N@@ OD@@ E_@@ P@@ RE@@ F@@ ER@@ R@@ ED_@@ NOT_@@ P@@ IN@@ N@@ ED_@@ T@@ O@@ _@@ S@@ ING@@ L@@ E_@@ N@@ OD@@ E); }
private java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >> get@@ All@@ Vm@@ Numa@@ Node@@ P@@ in@@ Info@@ () { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ >> num@@ a@@ Nod@@ es@@ As@@ s@@ ig@@ n = getCall@@ sHandler().execute@@ Read@@ List@@ ("@@ Get@@ All@@ As@@ s@@ ign@@ ed@@ Numa@@ Node@@ In@@ f@@ om@@ ation@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Numa@@ Node@@ Dao@@ Impl.@@ vm@@ Numa@@ Node@@ As@@ s@@ ign@@ ment@@ Row@@ Map@@ per@@ , null@@ ); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e.@@ P@@ in@@ ning@@ >> vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map = new java.util.HashMap@@ <@@ >(); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e.@@ P@@ in@@ ning@@ > p@@ a@@ i@@ r : num@@ a@@ Nod@@ es@@ As@@ s@@ ig@@ ) { if (!(@@ vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map@@ .@@ contain@@ s@@ Key@@ (p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ ()))) { vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map@@ .@@ put(@@ p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ (), new java.util.HashMap@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map@@ .@@ put(@@ p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ (), new java.util.@@ Link@@ ed@@ List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ ()); } vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map@@ .@@ put(@@ p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ (), p@@ a@@ ir@@ .get@@ Sec@@ on@@ ds@@ ()); } return vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map@@ ; }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Node@@ >> getVm@@ Numa@@ Node@@ Info@@ By@@ Cluster@@ Id(@@ org.ovirt.engine.core.compat.Guid cluster@@ ) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ cluster@@ _id", cluster@@ ); java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Node@@ >> vm@@ Numa@@ Node@@ s = getCall@@ sHandler().execute@@ Read@@ List@@ ("@@ Get@@ Vm@@ Numa@@ Node@@ By@@ Cluster@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Numa@@ Node@@ Dao@@ Impl.@@ vm@@ Numa@@ Node@@ Info@@ With@@ Cluster@@ Row@@ Map@@ per@@ , parameter@@ Source@@ ); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ java.lang.Integer@@ >> num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map = get@@ All@@ Numa@@ Node@@ Cpu@@ Map@@ (); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ >> p@@ a@@ i@@ r : vm@@ Numa@@ Nod@@ es) { if (@@ num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map@@ .@@ contain@@ s@@ Key@@ (p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ().get@@ Id@@ ())) { p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ().set@@ Cpu@@ Id@@ s(@@ num@@ a@@ Nod@@ es@@ C@@ p@@ us@@ Map@@ .get(@@ p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ().get@@ Id@@ ())); } if (vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map@@ .@@ contain@@ s@@ Key@@ (p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ().get@@ Id@@ ())) { p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ().set@@ Vds@@ Numa@@ Node@@ List@@ (vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map@@ .get(@@ p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ().get@@ Id@@ ())); } } return vm@@ Numa@@ Nod@@ es@@ ; }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > get@@ All@@ Vm@@ Numa@@ Node@@ By@@ Vm@@ Id(@@ org.ovirt.engine.core.compat.Guid vm@@ Id) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ vm@@ _id", vm@@ Id); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > vm@@ Numa@@ Node@@ s = getCall@@ sHandler().execute@@ Read@@ List@@ ("@@ Get@@ Numa@@ Node@@ By@@ Vm@@ Id@@ ", org.ovirt.engine.core.dao.@@ Vm@@ Numa@@ Node@@ Dao@@ Impl.@@ vm@@ Numa@@ Node@@ Cpu@@ Row@@ Map@@ per@@ , parameter@@ Source@@ ); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ >> vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map = get@@ All@@ Vm@@ Numa@@ Node@@ P@@ in@@ Info@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e n@@ od@@ e : vm@@ Numa@@ Nod@@ es) { if (vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map@@ .@@ contain@@ s@@ Key@@ (@@ n@@ od@@ e.get@@ Id@@ ())) { n@@ od@@ e.set@@ Vds@@ Numa@@ Node@@ List@@ (vm@@ Numa@@ Nod@@ es@@ P@@ in@@ Map@@ .get(@@ n@@ od@@ e.get@@ Id@@ ())); } } return vm@@ Numa@@ Nod@@ es@@ ; }
public static org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e create@@ Vm@@ Numa@@ Node@@ (@@ int in@@ dex@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Node@@ > vds@@ Numa@@ Nod@@ es) { org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e num@@ a@@ Nod@@ e = org.ovirt.engine.core.bll.@@ utils.@@ Numa@@ Nod@@ Test@@ Utils.@@ create@@ Vm@@ Numa@@ Nod@@ e(@@ in@@ dex@@ ); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e.@@ P@@ in@@ n@@ ing@@ P@@ in@@ n@@ ing@@ P@@ in@@ n@@ ing = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Nod@@ e vds@@ Numa@@ Nod@@ e : vds@@ Numa@@ Nod@@ es) { num@@ a@@ P@@ in@@ n@@ ing.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e.@@ P@@ in@@ n@@ ing@@ (@@ vds@@ Numa@@ Nod@@ e.get@@ Id(), true@@ , vds@@ Numa@@ Nod@@ e.get@@ In@@ dex@@ ())); } num@@ a@@ Nod@@ e.set@@ Vds@@ Numa@@ Node@@ List(@@ num@@ a@@ P@@ in@@ ning@@ ); return num@@ a@@ Node@@ ; }
protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ V@@ n@@ ode@@ To@@ P@@ n@@ ode@@ Parameters@@ Map@@ per@@ (@@ org.ovirt.engine.api.model.@@ Vm@@ Numa@@ Nod@@ e P@@ in@@ n@@ ing@@ , org.ovirt.engine.core.compat.Guid v@@ Node@@ Id) { return org.ovirt.engine.core.dao.@@ Numa@@ Node@@ Dao@@ Impl@@ .get@@ Custom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ id@@ ", org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()).addValue("@@ vm@@ _@@ num@@ a@@ _@@ n@@ ode@@ _id", v@@ Node@@ Id@@ ).addValue("@@ vds@@ _@@ num@@ a@@ _@@ n@@ ode@@ _id", p@@ in@@ dex@@ ()).addValue("@@ vds@@ _@@ num@@ a@@ _@@ n@@ ode@@ _@@ in@@ dex@@ ", p@@ in@@ dex@@ .get@@ Vds@@ Node@@ Id@@ ()).addValue("@@ vds@@ _@@ num@@ a@@ _@@ n@@ ode@@ _@@ in@@ dex@@ ", p@@ in@@ dex@@ .get@@ Vds@@ Node@@ In@@ de@@ x@@ ()).addValue("@@ is@@ _@@ p@@ in@@ n@@ ed@@ ", p@@ in@@ n@@ ed@@ )); }
private static java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > create@@ Test@@ Vm@@ Numa@@ Nod@@ es@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > new@@ Vm@@ Node@@ s = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e new@@ Vm@@ Numa@@ Nod@@ e = new org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e(); new@@ Vm@@ Numa@@ Nod@@ e.set@@ Cpu@@ Id@@ s(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Numa@@ Set@@ t@@ ing@@ Fac@@ t@@ ory@@ Test.@@ gener@@ ate@@ Cpu@@ List@@ (0@@ , 4@@ )); new@@ Vm@@ Numa@@ Nod@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); new@@ Vm@@ Numa@@ Nod@@ e.set@@ In@@ dex@@ (0@@ ); new@@ Vm@@ Numa@@ Nod@@ e.set@@ Mem@@ T@@ otal@@ (@@ 1@@ 0@@ 2@@ 4@@ ); new@@ Vm@@ Numa@@ Nod@@ e.get@@ Vds@@ Numa@@ Node@@ List@@ ().add@@ new org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e.@@ P@@ in@@ n@@ ing@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), true@@ , 0@@ )); new@@ Vm@@ Nod@@ es.@@ add@@ (@@ new@@ Vm@@ Numa@@ Node@@ ); new@@ Vm@@ Numa@@ Nod@@ e = new org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e(); new@@ Vm@@ Numa@@ Nod@@ e.set@@ Cpu@@ Id@@ s(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Numa@@ Set@@ t@@ ing@@ Fac@@ t@@ ory@@ Test.@@ gener@@ ate@@ Cpu@@ List(@@ 4@@ , 4@@ )); new@@ Vm@@ Numa@@ Nod@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); new@@ Vm@@ Numa@@ Nod@@ e.set@@ In@@ dex@@ (@@ 1@@ ); new@@ Vm@@ Numa@@ Nod@@ e.set@@ Mem@@ T@@ otal@@ (@@ 1@@ 0@@ 2@@ 4@@ ); new@@ Vm@@ Numa@@ Nod@@ e.get@@ Numa@@ Node@@ List@@ ().add@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e.@@ P@@ in@@ n@@ ing@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), true@@ , 1@@ )); new@@ Vm@@ Nod@@ es.@@ add@@ (@@ new@@ Vm@@ Numa@@ Node@@ ); return new@@ Vm@@ Nod@@ es@@ ; }
private boolean is@@ Vm@@ Numa@@ P@@ in@@ n@@ ed(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > n@@ od@@ es) { if ((@@ n@@ ode@@ s == null@@ ) || (@@ n@@ od@@ es.@@ isEmpty())) { return false@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e vm@@ Numa@@ Nod@@ e : n@@ od@@ es) { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e vm@@ Numa@@ Nod@@ e : n@@ od@@ es) { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e vm@@ Numa@@ Nod@@ e : n@@ od@@ es) { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e vm@@ Numa@@ Nod@@ e : n@@ od@@ es) { if (@@ n@@ od@@ e.get@@ Vds@@ Numa@@ Node@@ List@@ ()) { if (@@ p@@ in@@ n@@ ing.@@ is@@ P@@ in@@ n@@ ed@@ ()) { return true@@ ; } } } return false@@ ; }
@org.junit.Test public void sh@@ oul@@ d@@ Det@@ ect@@ M@@ is@@ sing@@ P@@ in@@ ning@@ E@@ n@@ try@@ () { vm.get@@ v@@ Numa@@ Node@@ List@@ ().get@@ (0@@ ).get@@ Vds@@ Numa@@ Node@@ List@@ ().get@@ (0@@ ).get@@ Vds@@ Numa@@ Node@@ List@@ ().get@@ (0@@ ).get@@ Vds@@ Numa@@ Node@@ List@@ ().get@@ (0@@ ).get@@ Vds@@ Numa@@ Node@@ List@@ ()); assert@@ Validation@@ Failur@@ e(@@ org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Numa@@ Validator.@@ check@@ Vm@@ Numa@@ Nod@@ es@@ Integ@@ r@@ ity@@ (vm@@ , vm.get@@ v@@ Numa@@ Node@@ List@@ ()), EngineMessage.@@ VM_@@ N@@ U@@ M@@ A@@ _@@ N@@ OD@@ E_@@ P@@ IN@@ N@@ ED_@@ IN@@ D@@ EX@@ _@@ ER@@ R@@ OR@@ ); }
public org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e to@@ Vm@@ Numa@@ Nod@@ e() { final org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e new@@ Nod@@ e = new org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Nod@@ e(); new@@ Nod@@ e.set@@ In@@ dex@@ (vm@@ Numa@@ Nod@@ e.get@@ In@@ dex@@ ()); new@@ Nod@@ e.set@@ Id(@@ vm@@ Numa@@ Nod@@ e.get@@ Id()); new@@ Nod@@ e.set@@ Mem@@ T@@ otal@@ (vm@@ Numa@@ Nod@@ e.get@@ Mem@@ T@@ otal@@ ()); if (is@@ P@@ in@@ n@@ ed@@ ()) { new@@ Nod@@ e.set@@ Vds@@ Numa@@ Node@@ List(@@ java.util.Arrays.as@@ List@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ VM@@ Numa@@ Nod@@ e(@@ vm@@ Numa@@ Nod@@ e.get@@ Id@@ ()), null@@ , p@@ in@@ n@@ ed@@ , host@@ Node@@ In@@ dex@@ ))); } return new@@ Node@@ ; }
private boolean can@@ Vm@@ Numa@@ P@@ in@@ n@@ ed@@ To@@ Vds@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > n@@ od@@ es@@ , org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Node@@ > p@@ Node@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vds@@ Numa@@ Node@@ Dao().get@@ All@@ Vds@@ Numa@@ Node@@ By@@ Vds@@ Id(@@ vds.get@@ Id()); if ((@@ p@@ Node@@ s == null@@ ) || (p@@ Nod@@ es.@@ isEmpty())) { return false@@ ; } java.util.Map@@ <@@ java.lang.Integer@@ , org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Node@@ > in@@ dex@@ Map = to@@ Map@@ (p@@ Nod@@ es@@ ); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e v@@ Nod@@ e : n@@ od@@ es) { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e.@@ P@@ in@@ n@@ ing p@@ in@@ n@@ ing : v@@ Nod@@ e.get@@ Vds@@ Numa@@ Node@@ List@@ ()) { if (p@@ in@@ n@@ ing.@@ is@@ P@@ in@@ n@@ ed@@ ()) { if ((@@ v@@ Nod@@ e.get@@ Mem@@ T@@ otal@@ ()) > (@@ in@@ dex@@ Map@@ .get@@ (@@ p@@ in@@ n@@ ing.@@ get@@ Vds@@ Node@@ In@@ de@@ x@@ ()@@ ).get@@ Numa@@ Node@@ Statistic@@ s().get@@ Mem@@ F@@ re@@ e())) { return false@@ ; } } } return true@@ ; }
@org.junit.Test public void test@@ Get@@ All@@ Vm@@ Numa@@ Node@@ By@@ Vm@@ Id@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > result = vm@@ Numa@@ Node@@ Dao@@ .get@@ All@@ Vm@@ Numa@@ Node@@ By@@ Vm@@ Id(@@ existing@@ Vm@@ .getId()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ E@@ quals(@@ 2@@ , res@@ ult.@@ siz@@ e()); org.ovirt.engine.core.compat.Guid vm@@ Numa@@ Node@@ 1 = new org.ovirt.engine.core.compat.Guid@@ ("@@ 3@@ c@@ 2@@ b@@ 8@@ 1@@ e@@ 6@@ -@@ 5@@ 0@@ 8@@ 0@@ -@@ 4@@ ad@@ 1@@ -@@ 8@@ 6@@ a@@ 1@@ -@@ c@@ f@@ 5@@ 1@@ 3@@ b@@ 1@@ 5@@ b@@ 5@@ 1@@ 7@@ "); org.ovirt.engine.core.compat.Guid vm@@ Numa@@ Node@@ 2 = new org.ovirt.engine.core.compat.Guid@@ ("@@ 3@@ c@@ 2@@ b@@ 8@@ 1@@ e@@ 6@@ -@@ 5@@ 0@@ 8@@ 0@@ -@@ 4@@ ad@@ 1@@ -@@ 8@@ 6@@ a@@ 1@@ -@@ c@@ f@@ 5@@ 1@@ 3@@ b@@ 1@@ 5@@ b@@ 5@@ 18@@ "); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Numa@@ Node@@ > n@@ ode@@ s = new java.util.HashMap@@ <@@ >@@ (@@ 2@@ ); n@@ od@@ es.@@ put(@@ result.get@@ (0@@ ).get@@ Id(), result.get@@ (@@ 1@@ ).get@@ Id(), result.get@@ (@@ 1@@ )); assert@@ Tr@@ ue(@@ n@@ od@@ es.@@ contain@@ s@@ Key@@ (vm@@ Numa@@ Node@@ 1@@ )); assert@@ Tr@@ ue(@@ n@@ od@@ es.@@ contain@@ s@@ Key@@ (vm@@ Numa@@ Node@@ 2@@ )); assert@@ E@@ quals(@@ 2@@ , n@@ od@@ es@@ .get@@ (vm@@ Numa@@ Node@@ 1@@ ).get@@ Numa@@ Node@@ List@@ ().@@ siz@@ e()); assert@@ E@@ qual@@ s@@ (@@ true@@ , n@@ od@@ es@@ .get@@ (vm@@ Numa@@ Node@@ 1@@ ).get@@ Vds@@ Numa@@ Node@@ List@@ ().@@ siz@@ e()); assert@@ E@@ qual@@ s@@ (@@ true@@ , n@@ od@@ es@@ .get@@ (vm@@ Numa@@ Node@@ 1@@ ).get@@ Vds@@ Numa@@ Node@@ List@@ ().get@@ (@@ 1@@ )); assert@@ E@@ quals(@@ 1, n@@ od@@ es@@ .get@@ (vm@@ Numa@@ Node@@ List@@ ().@@ siz@@ e()); assert@@ E@@ qual@@ s@@ (@@ false@@ , n@@ od@@ es@@ .get@@ (vm@@ Numa@@ Node@@ 2@@ ).get@@ Vds@@ Numa@@ Node@@ List@@ ().get@@ (0@@ )@@ .@@ int@@ Valu@@ e()); }
@java.lang.Override protected void execute@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > vm@@ Numa@@ Node@@ s = org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Update@@ Vm@@ Numa@@ Nod@@ es@@ Command.getParameters().get@@ Vm@@ Numa@@ Node@@ List@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Node@@ > vds@@ Numa@@ Node@@ s = org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Update@@ Vm@@ Numa@@ Nod@@ es@@ Command.get@@ Vds@@ Numa@@ Nod@@ es@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > n@@ ode@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e vm@@ Numa@@ Nod@@ e : vm@@ Numa@@ Nod@@ es) { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e n@@ od@@ e : vm@@ Numa@@ Nod@@ es) { if (@@ p@@ in@@ n@@ ing.@@ is@@ P@@ in@@ n@@ ed@@ ()) { int in@@ de@@ x = p@@ in@@ n@@ ing.@@ get@@ Vds@@ Node@@ In@@ de@@ x (); for (org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Nod@@ e vds@@ Numa@@ Nod@@ e : vds@@ Numa@@ Nod@@ es) { if ((@@ vds@@ Numa@@ Nod@@ e.get@@ In@@ dex@@ ()) == in@@ dex@@ ) { p@@ in@@ n@@ ing.@@ set@@ Vds@@ Nod@@ e(@@ vds@@ Numa@@ Nod@@ e.get@@ Id()); break@@ ; } } n@@ od@@ es.@@ add(@@ vm@@ Numa@@ Node@@ ); } org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Update@@ Vm@@ Numa@@ Nod@@ es@@ Command.getVm@@ Numa@@ Node@@ Dao().@@ m@@ ass@@ Update@@ Numa@@ Nod@@ e(@@ n@@ od@@ es@@ ); org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Update@@ Vm@@ Numa@@ Nod@@ es@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Static@@ > filter@@ Vms@@ In@@ Cluster@@ N@@ e@@ ed@@ Updat@@ e() { final boolean r@@ ng@@ Update@@ Re@@ qui@@ re@@ d = Vm@@ Rng@@ Devic@@ e.@@ Sourc@@ e.@@ ur@@ an@@ do@@ m@@ R@@ an@@ do@@ m@@ Update@@ Re@@ qui@@ r@@ ed(@@ old@@ Cluster@@ .get@@ CompatibilityVersion@@ (), org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ Cluster@@ ().get@@ CompatibilityVersion@@ ()); return vm@@ Static@@ Dao@@ .get@@ All@@ By@@ Cluster@@ (org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ Cluster@@ ().get@@ Id@@ ()).@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( vm@@ ) -@@ > ((@@ vm.get@@ O@@ ri@@ gin@@ ()) != O@@ ri@@ gin@@ Type.@@ EX@@ TER@@ N@@ AL@@ ) && (!(@@ vm@@ .is@@ Host@@ ed@@ Engin@@ e()@@ )@@ )).@@ filter@@ (@@ ("@@ s@@ el@@ ected vm@@ ) -@@ > (@@ vm.get@@ Custom@@ CompatibilityVersion@@ ()) == null@@ ) || r@@ ng@@ Update@@ Re@@ qui@@ re@@ d@@ ).@@ s@@ ort@@ ed@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); }
private boolean update@@ Templat@@ es@@ () { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Templat@@ e templat@@ e : templat@@ es@@ Lock@@ ed@@ For@@ Update@@ ) { final org.ovirt.engine.core.common.action.@@ Update@@ VmTemplate@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Update@@ VmTemplate@@ Parameters(@@ template@@ ); parameters.set@@ Lock@@ Properties@@ (@@ org.ovirt.engine.core.common.action.@@ Lock@@ Properties.@@ c@@ re@@ ate(@@ Lock@@ Properties.@@ S@@ c@@ op@@ e.@@ N@@ one@@ )); parameters.set@@ Cluster@@ L@@ ev@@ el@@ Change@@ From@@ Version@@ (@@ old@@ Cluster@@ .get@@ CompatibilityVersion@@ ()); final org.ovirt.engine.core.common.action.VdcReturnValue@@ Base result = run@@ Internal@@ Action(VdcActionType.@@ Update@@ VmTemplate@@ , parameters@@ ); if (!(@@ result.get@@ Succeeded@@ ())) { org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ ReturnValu@@ e().set@@ F@@ a@@ ult@@ (@@ result.get@@ F@@ a@@ ult@@ ()); return false@@ ; } } return true@@ ; }
@java.lang.Override protected void update@@ Rng@@ Devic@@ e(@@ org.ovirt.engine.core.compat.Guid template@@ Id) { if (!@@ (org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.get@@ Parameters@@ ().is@@ Update@@ Rng@@ Devic@@ e())) { r@@ ng@@ Device@@ Utils.@@ handl@@ e@@ U@@ r@@ an@@ do@@ m@@ R@@ an@@ do@@ m@@ Chang@@ e(@@ org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.getParameters().get@@ Cluster@@ L@@ ev@@ el@@ Change@@ From@@ Version@@ (), org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.get@@ Cluster@@ ().get@@ CompatibilityVersion@@ (), org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ (), false@@ ); return@@ ; } super@@ .@@ update@@ Rng@@ Devic@@ e(@@ template@@ Id); }
@java.lang.Override protected void init@@ () { org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.@@ update@@ Migr@@ ate@@ On@@ Error@@ (); old@@ C@@ luster = cluster@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ Cluster@@ ().get@@ Id()); if (((@@ old@@ Cluster@@ ) != null@@ ) && (!(@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ Cluster@@ .get@@ CompatibilityVersion@@ (), org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ Cluster@@ ().get@@ CompatibilityVersion@@ ())@@ ))) { vm@@ s@@ Lock@@ ed@@ For@@ Updat@@ e = filter@@ Vms@@ In@@ Cluster@@ N@@ e@@ ed@@ Updat@@ e(); } templat@@ es@@ Lock@@ ed@@ For@@ Updat@@ e = filter@@ Templat@@ es@@ In@@ Cluster@@ N@@ e@@ ed@@ Updat@@ e(); }
public void handl@@ e@@ U@@ r@@ an@@ do@@ m@@ R@@ an@@ do@@ m@@ Chang@@ e(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion old@@ Cluster@@ Version@@ , org.ovirt.engine.core.compat.@@ Vers@@ ion new@@ Cluster@@ Version@@ , org.ovirt.engine.core.compat.Guid vm@@ Base@@ Id, org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t command@@ Context@@ , boolean is@@ Vm@@ ) { if (@@ old@@ Cluster@@ Vers@@ ion == null@@ ) { return@@ ; } final boolean update@@ P@@ ot@@ enti@@ all@@ y@@ Re@@ qui@@ re@@ d = Vm@@ Rng@@ Devic@@ e.@@ Sourc@@ e.@@ ur@@ an@@ do@@ m@@ R@@ an@@ do@@ m@@ Update@@ Re@@ qui@@ r@@ ed(@@ old@@ Cluster@@ Version@@ , new@@ Cluster@@ Version@@ ); if (!@@ update@@ P@@ ot@@ enti@@ all@@ y@@ Re@@ qui@@ red@@ ) { return@@ ; } final java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Rng@@ Device@@ > r@@ ng@@ Device@@ s = back@@ end@@ .@@ run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Rng@@ Device@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (vm@@ Base@@ Id@@ ), command@@ Cont@@ ex@@ t.get@@ Engine@@ Context@@ ()@@ ).get@@ ReturnValu@@ e(); if (@@ r@@ ng@@ Devic@@ es.@@ isEmpty@@ ()) { return@@ ; } final org.ovirt.engine.core.common.businessentities.Vm@@ Rng@@ Devic@@ e r@@ ng@@ Devic@@ e = r@@ ng@@ Devic@@ es@@ .get@@ (0@@ ); if (!(@@ java.util.Arrays.as@@ List(@@ Vm@@ Rng@@ Devic@@ e.@@ Sourc@@ e.@@ R@@ AN@@ DOM@@ , Vm@@ Rng@@ Devic@@ e.@@ Sourc@@ e.@@ UR@@ AN@@ DOM@@ ).@@ contains(@@ r@@ ng@@ Devic@@ e.get@@ Sourc@@ e()@@ ))) { return@@ ; } r@@ ng@@ Devic@@ e.set@@ Sourc@@ e(@@ Vm@@ Rng@@ Devic@@ e.@@ Sourc@@ e.get@@ U@@ r@@ an@@ do@@ m@@ Or@@ R@@ an@@ do@@ m@@ For@@ (@@ new@@ Cluster@@ Version@@ )); final org.ovirt.engine.core.common.action.@@ Rng@@ Device@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Rng@@ Device@@ Parameters(@@ r@@ ng@@ Device@@ , is@@ Vm@@ ); back@@ end@@ .@@ run@@ Internal@@ Action(VdcActionType.@@ Update@@ Rng@@ Device@@ , param@@ s, command@@ Context@@ ); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > filter@@ Templat@@ es@@ In@@ Cluster@@ N@@ e@@ ed@@ Updat@@ e() { if (!(@@ Vm@@ Rng@@ Devic@@ e.@@ Sourc@@ e.@@ ur@@ an@@ do@@ m@@ R@@ an@@ do@@ m@@ Update@@ Re@@ qui@@ r@@ ed(@@ old@@ Cluster@@ .get@@ CompatibilityVersion@@ (), org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ Cluster@@ ().get@@ CompatibilityVersion@@ ()))) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } return vm@@ Template@@ Dao@@ .get@@ AllFor@@ Cluster@@ (org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ Cluster@@ ().get@@ Id()); }
public void on@@ Sp@@ ar@@ s@@ if@@ y@@ (@@ final org.ovirt.engine.ui.uicommonweb.@@ I@@ Command@@ T@@ arg@@ e@@ t target@@ ) { java.util.List<@@ org.ovirt.engine.core.common.action.VdcActionParameters@@ Base@@ > parameter@@ List = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk dis@@ k : disk@@ sTo@@ Sp@@ ar@@ s@@ if@@ y@@ ) { org.ovirt.engine.core.common.action.VdcActionParameters@@ Base parameter@@ s = new org.ovirt.engine.core.common.action.@@ Images@@ Action@@ s@@ Parameters@@ Bas@@ e(@@ disk@@ .getId()); parameter@@ Lis@@ t.add(@@ parameters@@ ); } st@@ art@@ Progress@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action(VdcActionType.@@ Sp@@ ar@@ s@@ if@@ y@@ Image@@ , parameter@@ List@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execut@@ ed(org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { st@@ op@@ Progress@@ (); target@@ .@@ execute@@ Command@@ (c@@ ancel@@ Command@@ ); } }, this@@ ); }
private boolean is@@ Sp@@ ar@@ s@@ if@@ y@@ Command@@ Avail@@ abl@@ e() { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ s = ((get@@ SelectedItem@@ s()) != null@@ ) ? org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ >@@ c@@ ast@@ (get@@ SelectedItem@@ s()) : new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk dis@@ k : disk@@ s) { if ((@@ is@@ Disk@@ Lock@@ ed(@@ disk@@ )) || ((!@@ (is@@ Vm@@ Down@@ ())) && (disk@@ .get@@ Plug@@ ged@@ ()))) { return false@@ ; } } return true@@ ; }
public void initial@@ iz@@ e(@@ org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ sTo@@ Sp@@ ar@@ s@@ if@@ y@@ , org.ovirt.engine.ui.uicommonweb.@@ I@@ Command@@ T@@ arg@@ e@@ t target@@ ) { this@@ .@@ vm = vm@@ ; this@@ .@@ disk@@ sTo@@ Sp@@ ar@@ s@@ if@@ y = disk@@ sTo@@ Sp@@ ar@@ s@@ if@@ y@@ ; org.ovirt.engine.ui.uicompat.@@ U@@ I@@ Constant@@ s ui@@ Constant@@ s = org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Constants@@ (); set@@ Title(@@ ui@@ Constant@@ s.@@ sp@@ ar@@ s@@ if@@ y@@ Disks@@ Titl@@ e()); set@@ Message@@ (@@ ui@@ Constant@@ s.@@ sp@@ ar@@ s@@ if@@ y@@ Confirmation@@ Popup@@ Message@@ ()); set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ sp@@ ar@@ s@@ if@@ y@@ _@@ disk@@ ); set@@ Hash@@ Name("@@ sp@@ ar@@ s@@ if@@ y@@ _@@ disk@@ "); get@@ L@@ atch@@ ().set@@ Entity@@ (@@ false@@ ); java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ > item@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk dis@@ k : disk@@ sTo@@ Sp@@ ar@@ s@@ if@@ y@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model disk@@ Model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ (); disk@@ Model@@ .set@@ Disk@@ (disk@@ ); item@@ Model@@ .set@@ Vm@@ (vm@@ ); item@@ s.add(@@ disk@@ Model@@ ); if ((@@ disk@@ .get@@ Num@@ ber@@ Of@@ Vms@@ ()) > 1@@ ) { get@@ L@@ atch@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); } } set@@ Items(@@ item@@ s); org.ovirt.engine.ui.uicommonweb.UICommand o@@ k@@ C@@ ommand = org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Default@@ O@@ k@@ U@@ i@@ Command(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Sp@@ ar@@ s@@ if@@ y@@ Disk@@ Model.@@ ON_@@ SP@@ AR@@ SI@@ F@@ Y@@ , target@@ ); get@@ Command@@ s().add(@@ o@@ k@@ Command@@ ); cancel@@ C@@ ommand = org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Cancel@@ U@@ i@@ Command(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Sp@@ ar@@ s@@ if@@ y@@ Disk@@ Model.@@ C@@ AN@@ C@@ E@@ L@@ _@@ SP@@ AR@@ SI@@ F@@ Y@@ , target@@ ); get@@ Command@@ s().@@ add@@ (c@@ ancel@@ Command@@ ); }
@org.junit.Test public void test@@ S@@ av@@ e() { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage new@@ Image = new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ (); new@@ Im@@ age.@@ set@@ Image@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); new@@ Im@@ age.@@ set@@ Volume@@ Format@@ (@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ ); new@@ Im@@ age.@@ set@@ Q@@ c@@ ow@@ C@@ om@@ ap@@ t@@ (@@ Q@@ c@@ ow@@ C@@ ompat.@@ Q@@ C@@ O@@ W@@ 2@@ _@@ V@@ 3@@ ); new@@ Im@@ age.@@ set@@ Volume@@ Type(@@ Volume@@ Type.@@ Sp@@ ar@@ se@@ ); new@@ Im@@ age.@@ set@@ Active@@ (@@ true@@ ); new@@ Im@@ age.@@ set@@ Image@@ Template@@ Id(@@ org.ovirt.engine.core.dao.@@ DiskImage@@ Dynamic@@ Dao@@ Test.@@ EXIST@@ ING@@ _@@ IM@@ AGE_@@ DIS@@ K_@@ T@@ EM@@ PL@@ AT@@ E); new@@ Im@@ age.@@ set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); image@@ Dao@@ .@@ s@@ ave@@ (@@ new@@ Image.get@@ Image@@ ()); disk@@ Dao@@ .@@ s@@ ave@@ (@@ new@@ Image@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ Dynam@@ ic d@@ ynam@@ ic = create@@ DiskImage@@ Dynamic@@ (@@ new@@ Image.get@@ Image@@ Id()); d@@ ao.@@ s@@ av@@ e(@@ create@@ DiskImage@@ Dynamic@@ (@@ new@@ Image.get@@ Image@@ Id@@ ())); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ Dynam@@ ic result = d@@ ao@@ .get(@@ d@@ ynam@@ ic@@ .getId()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ E@@ quals(@@ d@@ ynam@@ ic@@ , result@@ ); }
public void set@@ Q@@ c@@ om@@ ap@@ t@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Q@@ c@@ ow@@ C@@ om@@ .google.gwt.@@ user.@@ client.@@ C@@ om@@ ap@@ t@@ ) { get@@ Image@@ ().set@@ Q@@ c@@ ow@@ Comp@@ at@@ (@@ q@@ c@@ ow@@ C@@ om@@ ap@@ t@@ ); }
@java.lang.Override public void s@@ ave@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disk@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disk disk@@ ) { getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ In@@ sert@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disk@@ ", getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ disk@@ _id", disk@@ .get@@ DiskImage@@ ().get@@ Id@@ ()).addValue("@@ image@@ _id", disk@@ .get@@ DiskImage@@ ().get@@ Image@@ Id@@ ()).addValue("@@ disk@@ _@@ al@@ ias@@ ", disk@@ .get@@ DiskImage@@ ().get@@ Disk@@ Alias@@ ()).addValue("@@ disk@@ _@@ d@@ escription@@ ", disk@@ .get@@ DiskImage@@ ().get@@ Disk@@ Description@@ ()).addValue("@@ c@@ re@@ ation@@ _@@ date@@ ", disk@@ .get@@ DiskImage@@ ().get@@ Cre@@ ation@@ Dat@@ e()@@ ).addValue("@@ l@@ ast@@ _@@ m@@ o@@ d@@ if@@ i@@ ed@@ ", disk@@ .get@@ DiskImage@@ ().get@@ L@@ ast@@ M@@ o@@ d@@ if@@ i@@ ed@@ ()).addValue("@@ volume@@ _@@ type@@ ", disk@@ .get@@ DiskImage@@ ().get@@ Volume@@ Typ@@ e()@@ ).addValue("@@ volume@@ _@@ for@@ mat@@ ", disk@@ .get@@ DiskImage@@ ().get@@ Volume@@ Format@@ ()).addValue("@@ q@@ c@@ ow@@ _@@ comp@@ at@@ ", disk@@ .get@@ DiskImage@@ ().get@@ Q@@ c@@ ow@@ Comp@@ at@@ e()@@ ).addValue("@@ act@@ u@@ al@@ _@@ s@@ ize@@ ", disk@@ .get@@ DiskImage@@ ().get@@ Ac@@ tu@@ al@@ Siz@@ e()@@ ).addValue("@@ s@@ ize@@ ", disk@@ .get@@ DiskImage@@ ().get@@ Siz@@ e()@@ ).addValue("@@ storage@@ _@@ do@@ m@@ ain@@ _id", disk@@ .get@@ DiskImage@@ ().get@@ Storage@@ Id@@ s().get@@ (0@@ ))); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ Base : disk@@ .get@@ Vms@@ ()) { getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ In@@ sert@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disks@@ To@@ Vms@@ ", getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ disk@@ _id", disk@@ .get@@ DiskImage@@ ().get@@ Id@@ ()).addValue("@@ entity@@ _id", vm@@ Base.get@@ Id@@ ()).addValue("@@ entity@@ _@@ name@@ ", vm@@ Base.get@@ Name()@@ ).addValue("@@ storage@@ _@@ do@@ m@@ ain@@ _id", disk@@ .get@@ DiskImage@@ ().get@@ Storage@@ Id@@ s().get@@ (0@@ ))); } }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ acti@@ vate@@ |@@ ap@@ pro@@ ve@@ |@@ c@@ omm@@ it@@ net@@ config@@ |@@ de@@ acti@@ vate@@ |@@ en@@ ro@@ ll@@ c@@ er@@ t@@ if@@ ic@@ ate@@ |@@ f@@ ence@@ |@@ for@@ c@@ es@@ el@@ ect@@ sp@@ m@@ |@@ in@@ st@@ all@@ |@@ is@@ c@@ s@@ id@@ is@@ c@@ o@@ ver@@ |@@ is@@ c@@ s@@ il@@ o@@ gin@@ |@@ re@@ fresh@@ |@@ set@@ up@@ network@@ s@@ |@@ un@@ re@@ g@@ ist@@ er@@ ed@@ stor@@ age@@ do@@ m@@ ain@@ s@@ dis@@ c@@ o@@ ver@@ |@@ up@@ g@@ r@@ ad@@ e@@ |@@ up@@ g@@ r@@ ad@@ ec@@ k@@ )@@ }@@ /@@ {@@ o@@ id@@ } public org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Ser@@ ve@@ r get@@ Action@@ Resourc@@ e(@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return new org.ovirt.engine.api.@@ v@@ 3@@ .@@ server@@ s.@@ V@@ 3@@ Action@@ Server@@ (get@@ D@@ el@@ eg@@ at@@ e().get@@ Action@@ Resourc@@ e(@@ action@@ , o@@ id@@ )); }
public java.lang.String ex@@ port@@ Vm@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > im@@ ages@@ , org.ovirt.engine.core.compat.@@ Vers@@ ion version@@ ) { org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Vm@@ W@@ rit@@ er vm@@ W@@ rit@@ er@@ ; if (vm@@ .is@@ Host@@ ed@@ Engin@@ e()) { vm@@ W@@ rit@@ er = new org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Host@@ ed@@ Engine@@ Ovf@@ W@@ rit@@ er@@ (vm@@ , im@@ ages@@ , version@@ , cluster@@ Dao@@ .get@@ (vm@@ .get@@ Cluster@@ Id@@ ())); } else { vm@@ W@@ rit@@ er = new org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Vm@@ W@@ rit@@ er@@ (vm@@ , im@@ ages@@ , version@@ ); } return vm@@ W@@ rit@@ er@@ .@@ build@@ ().get@@ String@@ Rep@@ resent@@ ation@@ (); }
@java.lang.Override protected void w@@ rit@@ e@@ Gener@@ al@@ Data@@ () { super@@ .@@ w@@ rit@@ e@@ Gener@@ al@@ Data@@ (); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ (@@ Ovf@@ Properties.@@ C@@ LUSTER_@@ EM@@ U@@ L@@ AT@@ ED@@ _M@@ AC@@ H@@ IN@@ E); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Ra@@ w@@ (cluster@@ .get@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ (@@ Ovf@@ Properties.@@ C@@ LUSTER_@@ C@@ P@@ U@@ _@@ NAM@@ E); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Ra@@ w@@ (cluster@@ .get@@ Cpu@@ Name()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
protected static org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o get@@ Q@@ em@@ u@@ Image@@ Info@@ From@@ Vds@@ m@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid new@@ StorageDomain@@ ID@@ , org.ovirt.engine.core.compat.Guid new@@ Image@@ Group@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Id, boolean sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { org.ovirt.engine.core.compat.Guid vds@@ Id = org.ovirt.engine.core.bll.storage.@@ utils.@@ Vds@@ Command@@ s@@ Hel@@ per@@ .get@@ Host@@ For@@ Execution@@ (@@ storagePool@@ Id, java.util.Collections.@@ em@@ pty@@ List@@ ()); org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o q@@ em@@ u@@ Image@@ In@@ f@@ o = null@@ ; if (@@ sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ pre@@ par@@ e@@ Image@@ (@@ storagePool@@ Id, new@@ Image@@ Group@@ Id, new@@ Image@@ Id, new@@ Image@@ Id); } try { q@@ em@@ u@@ Image@@ In@@ f@@ o = org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o o@@ ) (org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Q@@ em@@ u@@ Image@@ Info@@ , new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Volume@@ Info@@ VDSCommand@@ Parameters(@@ vds@@ Id, storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ Image@@ Group@@ Id, new@@ Image@@ Id@@ )@@ ).get@@ ReturnValu@@ e())); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ log.@@ d@@ ebug@@ ("@@ Fail@@ ed to g@@ e@@ t im@@ age in@@ f@@ o f@@ ro@@ m stor@@ age e); } final@@ l@@ y { if (@@ sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ t@@ e@@ a@@ r@@ do@@ wn@@ Image@@ (@@ storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ Image@@ Group@@ Id, vds@@ Id); } } return q@@ em@@ u@@ Image@@ In@@ f@@ o@@ ; }
public static java.util.Map<java.lang.String, java.lang.Object> build@@ Vm@@ Num@@ at@@ u@@ ne@@ Set@@ t@@ ing@@ (org.ovirt.engine.core.common.businessentities.@@ Numa@@ T@@ u@@ ne@@ Mod@@ e num@@ a@@ T@@ u@@ ne@@ M@@ ode@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > vm@@ Numa@@ Node@@ s) { java.util.Map<java.lang.String, java.lang.Object> create@@ Numa@@ T@@ un@@ e = new java.util.HashMap@@ <@@ >(); java.util.List<@@ java.util.Map<java.lang.String, java.lang.String@@ >> mem@@ Node@@ List = new java.util.HashMap@@ <@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e n@@ od@@ e : vm@@ Numa@@ Nod@@ es) { if (@@ n@@ od@@ e.get@@ Vds@@ Numa@@ Node@@ List@@ ().@@ isEmpty@@ ()) { continue@@ ; } java.util.Map<java.lang.String, java.lang.String> mem@@ Nod@@ e = new java.util.HashMap@@ <@@ >(); mem@@ Nod@@ e.@@ put(@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ VM_@@ N@@ OD@@ E_@@ IN@@ D@@ EX@@ , java.lang.String.@@ value@@ Of@@ (@@ n@@ ode@@ .get@@ In@@ dex@@ ())); mem@@ Nod@@ e.@@ put(@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ OD@@ E@@ S@@ ET@@ , org.ovirt.engine.core.utils.@@ Numa@@ Utils.@@ build@@ String@@ From@@ List@@ For@@ Numa@@ Nod@@ e(@@ n@@ ode@@ , Numa@@ Node@@ List@@ ()); mem@@ Node@@ Lis@@ t.add(@@ mem@@ Node@@ ); } if (@@ mem@@ Node@@ Lis@@ t.@@ isEmpty@@ ()) { return java.util.Collections.@@ em@@ pty@@ Map@@ (); } create@@ Numa@@ T@@ un@@ e.@@ put(@@ Vds@@ Properties@@ .@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E@@ _M@@ EM@@ N@@ OD@@ E@@ S@@ , mem@@ Node@@ List@@ ); create@@ Numa@@ T@@ un@@ e.@@ put(@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E@@ _MOD@@ E@@ , num@@ a@@ T@@ u@@ ne@@ Mod@@ e.get@@ Valu@@ e()); create@@ Numa@@ T@@ un@@ e.@@ put(@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E@@ _MOD@@ E@@ , num@@ a@@ T@@ u@@ ne@@ Mod@@ e.get@@ Valu@@ e()); create@@ Numa@@ T@@ un@@ e.@@ put(@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ OD@@ E@@ S@@ ET@@ , org.ovirt.engine.core.utils.@@ Numa@@ Utils.@@ build@@ String@@ From@@ List@@ For@@ Numa@@ Nod@@ e(@@ vds@@ Numa@@ Nod@@ es.@@ st@@ re@@ am@@ ().@@ map@@ (@@ Vds@@ Numa@@ Node@@ :@@ :@@ :@@ In@@ dex@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()))); return@@ ; } create@@ Numa@@ T@@ u@@ ne@@ ; }
@org.junit.Test public void test@@ Buil@@ d@@ Vm@@ Num@@ at@@ u@@ ne@@ Set@@ t@@ ing@@ () throw@@ s java.lang.Exception { java.util.Map<java.lang.String, java.lang.Object> num@@ a@@ T@@ un@@ e = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Numa@@ Set@@ t@@ ing@@ Fac@@ t@@ ory@@ .@@ build@@ Vm@@ Num@@ at@@ u@@ ne@@ Set@@ t@@ ing@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Numa@@ Set@@ t@@ ing@@ Fac@@ t@@ ory@@ Test.@@ num@@ a@@ T@@ u@@ ne@@ M@@ ode@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Numa@@ Set@@ t@@ ing@@ Fac@@ t@@ ory@@ Test.@@ vm@@ Numa@@ Node@@ s = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Numa@@ Set@@ t@@ ing@@ Fac@@ t@@ ory@@ Test.@@ vds@@ Numa@@ Node@@ s); assert@@ E@@ quals(@@ 2@@ , num@@ a@@ T@@ un@@ e.@@ siz@@ e()); assert@@ Tr@@ ue(@@ num@@ a@@ T@@ un@@ e.c@@ on@@ t@@ ain@@ s@@ Key@@ (@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E@@ _MOD@@ E@@ )); assert@@ E@@ quals(@@ Numa@@ T@@ u@@ ne@@ Mod@@ e.@@ IN@@ TER@@ LE@@ A@@ V@@ E@@ .get@@ Valu@@ e(), num@@ a@@ T@@ un@@ e.get@@ (@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E@@ _MOD@@ E@@ )); assert@@ Tr@@ ue(@@ num@@ a@@ T@@ un@@ e.c@@ on@@ t@@ ain@@ s@@ Key@@ (@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ OD@@ E@@ S@@ ET@@ )); assert@@ E@@ quals(@@ "@@ 0@@ ,@@ 1@@ ", num@@ a@@ T@@ un@@ e.get@@ (@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ OD@@ E@@ S@@ ET@@ )); assert@@ Tr@@ ue(@@ num@@ a@@ T@@ un@@ e.c@@ on@@ t@@ ain@@ s@@ Key@@ (@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E@@ S@@ )); java.util.List<@@ java.util.Map<java.lang.String, java.lang.String@@ >> mem@@ Node@@ s = ((@@ java.util.List<@@ java.util.Map<java.lang.String, java.lang.String@@ >@@ >) (@@ num@@ a@@ T@@ un@@ e.get@@ (@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E@@ _M@@ EM@@ N@@ OD@@ E@@ S@@ ))); assert@@ E@@ quals(@@ "@@ 0@@ ", mem@@ Nod@@ es@@ .get@@ (0@@ ).get@@ (@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ VM_@@ N@@ OD@@ E_@@ VM_@@ N@@ OD@@ E_@@ VM_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ D@@ )); assert@@ E@@ quals(@@ "@@ 0@@ ", mem@@ Nod@@ es@@ .get@@ (0@@ ).get@@ (@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ VM_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ D@@ EX@@ )); assert@@ E@@ quals(@@ "@@ 1@@ ", mem@@ Nod@@ es@@ .get(@@ 1@@ ).get@@ (@@ Vds@@ Properties.@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ VM_@@ N@@ OD@@ E_@@ VM_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ VM_@@ N@@ OD@@ E_@@ VM_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ VM_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ VM_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ VM_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ U@@ M@@ A@@ _@@ T@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ U@@ M@@ A@@ _@@ T@@ UN@@ E_@@ N@@ U@@ M@@ A@@ _@@ T@@ E@@ S@@ ET@@ )); }
@org.junit.Test public void can@@ Set@@ Numa@@ P@@ in@@ ning@@ () { new@@ Numa@@ Node@@ s = java.util.Collections.@@ sing@@ leton@@ List@@ (c@@ reate@@ Vm@@ Numa@@ Nod@@ e(@@ 1, vds@@ Numa@@ Nod@@ es@@ )); final org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ C@@ ommand c@@ ommand = mock@@ ed@@ Command@@ With@@ Vm@@ From@@ Param@@ s(); command@@ .@@ execute@@ Command@@ (); ve@@ r@@ if@@ y@@ (vm@@ Numa@@ Node@@ Dao@@ ).@@ m@@ ass@@ S@@ ave@@ Numa@@ Nod@@ e(@@ e@@ q@@ (@@ new@@ Numa@@ Nod@@ es@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); }
@org.junit.Test public void can@@ Set@@ Numa@@ Configuration@@ With@@ Vm@@ From@@ Param@@ s() { final org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ C@@ ommand c@@ ommand = mock@@ ed@@ Command@@ With@@ Vm@@ From@@ Param@@ s(); command@@ .@@ execute@@ Command@@ (); ve@@ r@@ if@@ y@@ (vm@@ Numa@@ Node@@ Dao@@ ).@@ m@@ ass@@ S@@ ave@@ Numa@@ Nod@@ e(@@ e@@ q@@ (@@ new@@ Numa@@ Nod@@ es@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); }
protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ V@@ n@@ ode@@ To@@ P@@ n@@ ode@@ Parameters@@ Map@@ per@@ (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, org.ovirt.engine.core.compat.Guid p@@ in@@ n@@ ed@@ In@@ de@@ x = get@@ T@@ otal@@ C@@ as@@ List(@@ org.ovirt.engine.core.compat.Guid vm@@ Id, org.ovirt.engine.core.compat.Guid num@@ a@@ _@@ n@@ ode@@ _@@ in@@ dex@@ , int p@@ in@@ n@@ ed@@ In@@ de@@ x = v@@ Node@@ Id@@ ).addValue("@@ vds@@ _@@ num@@ a@@ _@@ in@@ dex@@ ", p@@ in@@ n@@ ed@@ In@@ de@@ x@@ ); }
@org.junit.Test public void can@@ Set@@ Numa@@ P@@ in@@ ning@@ () { new@@ Numa@@ Node@@ s = java.util.Collections.@@ sing@@ leton@@ List@@ (c@@ reate@@ Vm@@ Numa@@ Nod@@ e(@@ 1, vds@@ Numa@@ Nod@@ es@@ )); final org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Set@@ Vm@@ Numa@@ Nod@@ es@@ C@@ ommand c@@ ommand = mock@@ ed@@ Command@@ With@@ Vm@@ From@@ Param@@ s(); command@@ .@@ execute@@ Command@@ (); ve@@ r@@ if@@ y@@ (vm@@ Numa@@ Node@@ Dao@@ ).@@ m@@ ass@@ Remove@@ Numa@@ Node@@ By@@ Numa@@ Node@@ Id(@@ e@@ q@@ (@@ existing@@ Numa@@ Node@@ Id@@ s@@ )); ve@@ r@@ if@@ y@@ (vm@@ Numa@@ Node@@ Dao@@ ).@@ m@@ ass@@ S@@ ave@@ Numa@@ Nod@@ e(@@ e@@ q@@ (@@ new@@ Numa@@ Nod@@ es@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); }
@org.junit.Test public void can@@ Set@@ Numa@@ Configuration@@ With@@ Vm@@ From@@ Db@@ () { final org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Set@@ Vm@@ Numa@@ Nod@@ es@@ C@@ ommand c@@ ommand = mock@@ ed@@ Command@@ With@@ Vm@@ From@@ Db@@ (); command@@ .@@ execute@@ Command@@ (); ve@@ r@@ if@@ y@@ (vm@@ Numa@@ Node@@ Dao@@ ).@@ m@@ ass@@ Remove@@ Numa@@ Node@@ By@@ Numa@@ Node@@ Id(@@ e@@ q@@ (@@ existing@@ Numa@@ Node@@ Id@@ s@@ )); ve@@ r@@ if@@ y@@ (vm@@ Numa@@ Node@@ Dao@@ ).@@ m@@ ass@@ S@@ ave@@ Numa@@ Nod@@ e(@@ e@@ q@@ (@@ new@@ Numa@@ Nod@@ es@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); }
@java.lang.Override protected void execute@@ Command() { if (!(@@ old@@ Numa@@ Node@@ Id@@ s.@@ isEmpty())) { org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Set@@ Vm@@ Numa@@ Nod@@ es@@ Command.getVm@@ Numa@@ Node@@ Dao().@@ m@@ ass@@ Remove@@ Numa@@ Node@@ By@@ Numa@@ Node@@ Id(@@ old@@ Numa@@ Node@@ Id@@ s); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > vm@@ Numa@@ Node@@ s = org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Set@@ Vm@@ Numa@@ Nod@@ es@@ Command.getParameters().get@@ Vm@@ Numa@@ Node@@ List@@ (); vm@@ Numa@@ Nod@@ es.@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( n@@ ode@@ ) -@@ > n@@ od@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ())); org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Set@@ Vm@@ Numa@@ Nod@@ es@@ Command.getVm@@ Numa@@ Node@@ Dao().@@ m@@ ass@@ S@@ ave@@ Numa@@ Nod@@ e(@@ vm@@ Numa@@ Nod@@ es@@ , org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Set@@ Vm@@ Numa@@ Nod@@ es@@ Command.getVm@@ ().get@@ Id()); org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Set@@ Vm@@ Numa@@ Nod@@ es@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override protected void execute@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > vm@@ Numa@@ Node@@ s = org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ Command.getParameters().get@@ Vm@@ Numa@@ Node@@ List@@ (); vm@@ Numa@@ Nod@@ es.@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( n@@ ode@@ ) -@@ > n@@ od@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ())); org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ Command.getVm@@ Numa@@ Node@@ Dao().@@ m@@ ass@@ S@@ ave@@ Numa@@ Nod@@ e(@@ vm@@ Numa@@ Nod@@ es@@ , org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ Command.getVm@@ ().get@@ Id()); setAction@@ Return@@ Value(@@ vm@@ Numa@@ Nod@@ es@@ .get@@ (0@@ ).get@@ Id()); org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@org.junit.Test public void can@@ Set@@ Numa@@ Configuration@@ With@@ Vm@@ From@@ Param@@ s() { final org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ Set@@ Vm@@ Numa@@ Nod@@ es@@ C@@ ommand c@@ ommand = mock@@ ed@@ Command@@ With@@ Vm@@ From@@ Param@@ s(); command@@ .@@ execute@@ Command@@ (); ve@@ r@@ if@@ y@@ (vm@@ Numa@@ Node@@ Dao@@ ).@@ m@@ ass@@ Remove@@ Numa@@ Node@@ By@@ Numa@@ Node@@ Id(@@ e@@ q@@ (@@ existing@@ Numa@@ Node@@ Id@@ s@@ )); ve@@ r@@ if@@ y@@ (vm@@ Numa@@ Node@@ Dao@@ ).@@ m@@ ass@@ S@@ ave@@ Numa@@ Nod@@ e(@@ e@@ q@@ (@@ new@@ Numa@@ Nod@@ es@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); }
private void p@@ op@@ ul@@ ate@@ VM@@ N@@ U@@ M@@ A@@ Info@@ (@@ final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s) { final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ >> num@@ a@@ Node@@ s = getVm@@ Numa@@ Node@@ Dao@@ (); for (org.ovirt.engine.core.bll.@@ Cluster@@ Operation@@ CommandBase.get@@ Cluster@@ Id()); for (@@ final org.ovirt.engine.core.common.businessentities.VM vm : vm@@ s) { if (@@ num@@ a@@ Nod@@ es.@@ contain@@ s@@ Key@@ (vm@@ .getId@@ ())) { vm@@ .set@@ v@@ Numa@@ Node@@ List(@@ num@@ a@@ Nod@@ es@@ .get@@ (vm@@ .getId@@ ())); } } }
@org.junit.Test public void can@@ Set@@ Numa@@ Configuration@@ With@@ Vm@@ From@@ Db@@ () { final org.ovirt.engine.core.bll.@@ num@@ a.@@ vm@@ .@@ AddVm@@ Numa@@ Nod@@ es@@ C@@ ommand c@@ ommand = mock@@ ed@@ Command@@ With@@ Vm@@ From@@ Db@@ (); command@@ .@@ execute@@ Command@@ (); ve@@ r@@ if@@ y@@ (vm@@ Numa@@ Node@@ Dao@@ ).@@ m@@ ass@@ S@@ ave@@ Numa@@ Nod@@ e(@@ e@@ q@@ (@@ new@@ Numa@@ Nod@@ es@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); }
protected void update@@ Rng@@ Devic@@ e(@@ org.ovirt.engine.core.compat.Guid template@@ Id) { if (!@@ (get@@ Model().get@@ Is@@ Rng@@ Enabled@@ ().get@@ Is@@ Chang@@ abl@@ e())) { return@@ ; } org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Rng@@ Device@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ template@@ Id@@ ), new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Callback@@ <@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ >() { @java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { final org.ovirt.engine.core.compat.@@ Vers@@ ion cluster@@ Vers@@ ion = getModel().get@@ Selected@@ Cluster@@ ().get@@ CompatibilityVersion@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Rng@@ Device@@ > de@@ v@@ s = return@@ Valu@@ e.get@@ ReturnValu@@ e(); getModel().get@@ Is@@ Rng@@ Enabled@@ ().set@@ Entity@@ ((!@@ (@@ de@@ v@@ s.@@ isEmpty@@ ()))); final org.ovirt.engine.core.common.businessentities.Vm@@ Rng@@ Devic@@ e r@@ ng@@ Devic@@ e = (@@ de@@ v@@ s.@@ isEmpty@@ ()) ? new org.ovirt.engine.core.common.businessentities.Vm@@ Rng@@ Devic@@ e() : de@@ v@@ s.get@@ (0@@ ); r@@ ng@@ Devic@@ e.set@@ Sourc@@ e(@@ Vm@@ Rng@@ Devic@@ e.@@ Sourc@@ e.get@@ Valid@@ For@@ Version@@ (@@ r@@ ng@@ Devic@@ e.get@@ Sourc@@ e(), cluster@@ Version@@ )); get@@ Model@@ ().set@@ Rng@@ Device@@ (@@ r@@ ng@@ Devic@@ e.get@@ Is@@ Rng@@ Enabled@@ ()); } }@@ )); }
@java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { final org.ovirt.engine.core.compat.@@ Vers@@ ion cluster@@ Vers@@ ion = getModel().get@@ Selected@@ Cluster@@ ().get@@ CompatibilityVersion@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Rng@@ Device@@ > de@@ v@@ s = return@@ Valu@@ e.get@@ ReturnValu@@ e(); getModel().get@@ Is@@ Rng@@ Enabled@@ ().set@@ Entity@@ ((!@@ (@@ de@@ v@@ s.@@ isEmpty@@ ()))); final org.ovirt.engine.core.common.businessentities.Vm@@ Rng@@ Devic@@ e r@@ ng@@ Devic@@ e = (@@ de@@ v@@ s.@@ isEmpty@@ ()) ? new org.ovirt.engine.core.common.businessentities.Vm@@ Rng@@ Devic@@ e() : de@@ v@@ s.get@@ (0@@ ); r@@ ng@@ Devic@@ e.set@@ Sourc@@ e(@@ Vm@@ Rng@@ Devic@@ e.@@ Sourc@@ e.get@@ Valid@@ For@@ Version@@ (@@ r@@ ng@@ Devic@@ e.get@@ Sourc@@ e(), cluster@@ Version@@ )); get@@ Model@@ ().set@@ Rng@@ Device@@ (@@ r@@ ng@@ Devic@@ e); }
@java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { de@@ acti@@ vat@@ e(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > r@@ ng@@ Device@@ s = return@@ Valu@@ e.get@@ ReturnValu@@ e(); getModel().get@@ Is@@ Rng@@ Enabled@@ ().set@@ Entity@@ ((!@@ (@@ r@@ ng@@ Devic@@ es.@@ isEmpty@@ ()))); if (!(@@ r@@ ng@@ Devic@@ es.@@ isEmpty())) { final org.ovirt.engine.core.compat.@@ Vers@@ ion cluster@@ Vers@@ ion = getModel().get@@ Selected@@ Cluster@@ ().get@@ CompatibilityVersion@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Rng@@ Devic@@ e r@@ ng@@ Devic@@ e = new org.ovirt.engine.core.common.businessentities.Vm@@ Rng@@ Devic@@ e(@@ r@@ ng@@ Devic@@ es@@ .get@@ (0@@ )); r@@ ng@@ Devic@@ e.set@@ Sourc@@ e(@@ Vm@@ Rng@@ Devic@@ e.@@ Sourc@@ e.get@@ Valid@@ For@@ Version@@ (@@ r@@ ng@@ Devic@@ e.get@@ Sourc@@ e(), cluster@@ Version@@ )); get@@ Model@@ ().set@@ Rng@@ Devic@@ e(@@ r@@ ng@@ Device@@ ); } acti@@ vat@@ e(); update@@ Vir@@ ti@@ o@@ S@@ csi@@ (vm@@ Bas@@ e); }
private boolean is@@ P@@ ass@@ Dis@@ c@@ ard@@ Supported@@ () { return validate(@@ get@@ Disk@@ Validator@@ (disk@@ ).@@ is@@ P@@ ass@@ Dis@@ c@@ ard@@ Supported@@ (get@@ Disk@@ Vm@@ Element@@ (), H@@ ot@@ Plug@@ Disk@@ To@@ Vm@@ Command.get@@ StorageDomain@@ ())); }
@org.junit.Test public void test@@ P@@ ass@@ Direct@@ Lun@@ Support@@ () { test@@ P@@ ass@@ Dis@@ c@@ ard@@ Support@@ (@@ new org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk@@ (), null@@ ); }
private void ap@@ pl@@ y@@ User@@ Chang@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk disk@@ To@@ Update@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent d@@ ve@@ To@@ Update@@ ) { update@@ Snapshot@@ Id@@ On@@ Sh@@ are@@ able@@ Chang@@ e(@@ disk@@ To@@ Update@@ , get@@ New@@ Disk@@ ()); disk@@ To@@ Updat@@ e.set@@ Pro@@ p@@ ag@@ ate@@ Error@@ s(@@ get@@ New@@ Disk@@ ().get@@ Pro@@ p@@ ag@@ ate@@ Error@@ s()); disk@@ To@@ Updat@@ e.set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ get@@ New@@ Disk@@ ().is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()); disk@@ To@@ Updat@@ e.set@@ Disk@@ Alias@@ (get@@ New@@ Disk@@ ().get@@ Disk@@ Alias@@ ()); disk@@ To@@ Updat@@ e.set@@ Disk@@ Description@@ (get@@ New@@ Disk@@ ().get@@ Disk@@ Description@@ ()); disk@@ To@@ Updat@@ e.set@@ Sh@@ are@@ able(@@ get@@ New@@ Disk@@ ().is@@ Sh@@ are@@ abl@@ e()); disk@@ To@@ Updat@@ e.set@@ Read@@ Only@@ (get@@ New@@ Disk@@ ().get@@ Read@@ Only@@ ()); disk@@ To@@ Updat@@ e.set@@ S@@ g@@ i@@ o@@ (get@@ New@@ Disk@@ ().get@@ S@@ g@@ i@@ o@@ ()); d@@ ve@@ To@@ Updat@@ e.set@@ Boot@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Update@@ Vm@@ Disk@@ Command.get@@ Disk@@ Vm@@ Element@@ ().is@@ Boot@@ ()); d@@ ve@@ To@@ Updat@@ e.set@@ Disk@@ Interfac@@ e(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Update@@ Vm@@ Disk@@ Command.get@@ Disk@@ Vm@@ Element@@ ().get@@ Disk@@ Interfac@@ e()); d@@ ve@@ To@@ Updat@@ e.set@@ P@@ ass@@ Dis@@ c@@ ard@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Update@@ Vm@@ Disk@@ Command.get@@ Disk@@ Vm@@ Element@@ ().is@@ P@@ ass@@ Dis@@ c@@ ard@@ ()); }
@org.junit.Test public void test@@ Validate@@ Fail@@ s@@ For@@ P@@ ass@@ Dis@@ c@@ ard@@ () { initial@@ ize@@ Command(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); mock@@ Vm@@ (); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ P@@ A@@ S@@ S_@@ DIS@@ C@@ AR@@ D@@ _NOT_@@ SUPPORT@@ ED@@ )).@@ when(@@ disk@@ Validator@@ ).@@ is@@ P@@ ass@@ Dis@@ c@@ ard@@ Support@@ ed(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ .@@ class@@ )); do@@ Return(@@ disk@@ Validator@@ ).when@@ (command@@ ).get@@ Disk@@ Validator@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ .@@ class@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ P@@ A@@ S@@ S_@@ DIS@@ C@@ AR@@ D@@ _NOT_@@ SUPPORT@@ ED); }
java.lang.String P@@ A@@ S@@ S_@@ DIS@@ C@@ AR@@ D@@ _NOT_@@ SUPPORT@@ ED@@ ();
@org.junit.Test public void validate@@ Dis@@ c@@ ard@@ Succeeded@@ () { org.ovirt.engine.core.common.action.@@ Vm@@ Disk@@ Operation@@ Parameter@@ Base parameter@@ s = create@@ Parameters@@ (); initial@@ ize@@ Command(@@ parameters@@ ); when(@@ disk@@ Dao@@ .get@@ (disk@@ Image@@ Guid@@ )).@@ thenReturn(@@ parameters@@ .get@@ Disk@@ Info@@ ()); when(@@ disk@@ Validator.@@ is@@ P@@ ass@@ Dis@@ c@@ ard@@ Support@@ ed(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ .@@ class@@ )@@ )).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Success@@ (command@@ ); }
@org.junit.Test public void validate@@ Fail@@ ed@@ Dis@@ c@@ ard@@ Not@@ Supported@@ () { mock@@ Vm@@ Status@@ Up@@ (); mock@@ Interface@@ List@@ (); create@@ Vir@@ t@@ I@@ OD@@ isk@@ (); init@@ StorageDomain@@ (); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ P@@ A@@ S@@ S_@@ DIS@@ C@@ AR@@ D@@ _NOT_@@ SUPPORT@@ ED@@ )).@@ when(@@ disk@@ Validator@@ ).@@ is@@ P@@ ass@@ Dis@@ c@@ ard@@ Support@@ ed(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ .@@ class@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ P@@ A@@ S@@ S_@@ DIS@@ C@@ AR@@ D@@ _NOT_@@ SUPPORT@@ ED); }
@java.lang.Override public boolean equals(@@ java.lang.Object o@@ ) { if (@@ (@@ this@@ ) == o@@ ) { return true@@ ; } if ((@@ o == null@@ ) || ((get@@ Class@@ ()) != (@@ o@@ .get@@ Class@@ ()))) { return false@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent th@@ a@@ t = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ ) (@@ o@@ )); return ((@@ b@@ oot@@ ) == (@@ th@@ a@@ t.@@ b@@ oot@@ )) && ((@@ p@@ ass@@ Dis@@ c@@ ard@@ ) == (@@ th@@ a@@ t.@@ p@@ ass@@ Dis@@ c@@ ard@@ ))) && ((@@ disk@@ Interface@@ ) == (@@ th@@ a@@ t.@@ disk@@ Interface@@ ))) && ((@@ id@@ ) != null@@ ) ? id@@ .equals(@@ th@@ a@@ t.@@ id@@ ) : (@@ th@@ a@@ t.@@ id@@ ) == null@@ ; }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ id@@ , b@@ oot@@ , p@@ ass@@ Dis@@ c@@ ard@@ , disk@@ Interface@@ ); }
@java.lang.Override protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ El@@ em@@ ent entity@@ ) { return create@@ Id@@ Parameter@@ Map@@ per@@ (@@ entity.get@@ Id@@ ()).addValue("@@ is@@ _@@ b@@ oot@@ ", entity@@ .is@@ Boot@@ ()).@@ add@@ Value@@ (@@ "@@ p@@ ass@@ _@@ dis@@ c@@ ard@@ ", entity@@ .is@@ P@@ ass@@ Dis@@ c@@ ard@@ ()).@@ add@@ Value@@ (@@ "@@ disk@@ _@@ int@@ er@@ fac@@ e@@ ", org.ovirt.engine.core.common.utils.@@ Enum@@ Utils.@@ name@@ Or@@ Null@@ (@@ entity.get@@ Disk@@ Interfac@@ e())); }
@org.junit.Test public void validate@@ Dis@@ c@@ ard@@ Fail@@ ed@@ () { org.ovirt.engine.core.common.action.@@ Vm@@ Disk@@ Operation@@ Parameter@@ Base parameter@@ s = create@@ Parameters@@ (); initial@@ ize@@ Command(@@ parameters@@ ); when(@@ disk@@ Dao@@ .get@@ (disk@@ Image@@ Guid@@ )).@@ thenReturn(@@ parameters@@ .get@@ Disk@@ Info@@ ()); when(@@ disk@@ Validator.@@ is@@ P@@ ass@@ Dis@@ c@@ ard@@ Support@@ ed(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ P@@ A@@ S@@ S_@@ DIS@@ C@@ AR@@ D@@ _NOT_@@ SUPPORT@@ ED@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ P@@ A@@ S@@ S_@@ DIS@@ C@@ AR@@ D@@ _NOT_@@ SUPPORT@@ ED); }
@org.junit.Test public void test@@ P@@ ass@@ Dis@@ c@@ ard@@ DiskImage@@ Support@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator@@ Test.@@ create@@ DiskImage@@ (); org.ovirt.engine.core.common.businessentities.storage.@@ StorageDomain storage@@ Domain = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ (); storageDomain@@ .set@@ Storage@@ Type(@@ StorageType.@@ N@@ FS@@ ); test@@ P@@ ass@@ Dis@@ c@@ ard@@ Support@@ (disk@@ Image@@ , storageDomain@@ ); storageDomain@@ .set@@ Storage@@ Type(@@ StorageType.@@ IS@@ C@@ SI@@ ); test@@ P@@ ass@@ Dis@@ c@@ ard@@ Support@@ (disk@@ Image@@ , storageDomain@@ ); }
@org.junit.Test public void test@@ Validate@@ Fail@@ s@@ W@@ h@@ en@@ Dis@@ c@@ ard@@ Is@@ Not@@ Supported@@ () { when(@@ disk@@ Validator.@@ is@@ P@@ ass@@ Dis@@ c@@ ard@@ Support@@ ed(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ P@@ A@@ S@@ S_@@ DIS@@ C@@ AR@@ D@@ _NOT_@@ SUPPORT@@ ED@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ P@@ A@@ S@@ S_@@ DIS@@ C@@ AR@@ D@@ _NOT_@@ SUPPORT@@ ED); }
private void mock@@ Disk@@ Validator@@ () { do@@ Return(@@ disk@@ Validator@@ ).when@@ (command@@ ).get@@ Disk@@ Validator@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ .@@ class@@ )); when(@@ disk@@ Validator.@@ is@@ Read@@ Only@@ Property@@ C@@ ompati@@ bl@@ e@@ With@@ Interfac@@ e(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ .@@ class@@ )@@ )).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); when(@@ disk@@ Validator.@@ is@@ Vir@@ t@@ I@@ o@@ S@@ csi@@ Valid@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ .@@ class@@ )@@ )).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); when(@@ disk@@ Validator.@@ is@@ Disk@@ Interface@@ Support@@ ed(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ .@@ class@@ )@@ )).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); when(@@ disk@@ Validator.@@ is@@ P@@ ass@@ Dis@@ c@@ ard@@ Support@@ ed(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ .@@ class@@ )@@ )).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Disk disk@@ ) { org.ovirt.engine.api.model.@@ Disk@@ Attachm@@ ent disk@@ Attachm@@ ent = new org.ovirt.engine.api.model.@@ Disk@@ Attachment@@ (); if (disk@@ .is@@ Set@@ Boot@@ abl@@ e()) { disk@@ Attachm@@ ent.@@ set@@ Boot@@ able(@@ disk@@ .is@@ Boot@@ abl@@ e()); } else { disk@@ Attachm@@ ent.@@ set@@ Boot@@ able@@ (@@ false@@ ); } disk@@ Attachm@@ ent.@@ set@@ P@@ ass@@ Dis@@ c@@ ard@@ (@@ false@@ ); if (disk@@ .is@@ Set@@ Interfac@@ e()) { disk@@ Attachm@@ ent.@@ set@@ Interfac@@ e(@@ disk@@ .get@@ Interfac@@ e()); } else { disk@@ Attachm@@ ent.@@ set@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ V@@ I@@ R@@ TI@@ O@@ ); } disk@@ Attachm@@ ent.@@ set@@ Disk@@ (disk@@ ); if (disk@@ .is@@ Set@@ Id()) { org.ovirt.engine.core.compat.Guid disk@@ Id = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ Default@@ Empty@@ (disk@@ .getId()); return get@@ Attachment@@ s@@ Resourc@@ e().@@ attach@@ Disk@@ To@@ Vm@@ (@@ this@@ , disk@@ Attachment@@ , new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Disks@@ Resourc@@ e.@@ O@@ l@@ d@@ Attach@@ Disk@@ Res@@ ol@@ ver@@ (disk@@ Id@@ )); } else { return get@@ Attachment@@ s@@ Resourc@@ e().@@ create@@ Disk@@ (@@ this@@ , disk@@ Attachment@@ , new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Disks@@ Resourc@@ e.@@ O@@ l@@ d@@ Add@@ Disk@@ Res@@ ol@@ ver@@ ()); } }
java.lang.String p@@ ass@@ Dis@@ c@@ ard@@ Not@@ Supported@@ For@@ Storage@@ Typ@@ e();
@java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object vi@@ r@@ ti@@ o@@ S@@ csi@@ Enabled@@ ReturnValue@@ ) { if (@@ java.lang.Boolean@@ .@@ F@@ AL@@ SE@@ .equals(@@ vi@@ r@@ ti@@ o@@ S@@ csi@@ Enabled@@ ReturnValue@@ )) { disk@@ Interfac@@ es.@@ remov@@ e(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _@@ S@@ C@@ SI@@ ); } for (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model disk@@ Model : disk@@ Model@@ s) { disk@@ Model.get@@ Disk@@ Interfac@@ e().set@@ Items(@@ disk@@ Interfaces@@ ); disk@@ Model.get@@ Disk@@ Interfac@@ e().set@@ SelectedItem@@ (@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ ); update@@ P@@ ass@@ Dis@@ c@@ ard@@ Change@@ ab@@ ility@@ (disk@@ Model@@ ); if (get@@ Is@@ Boot@@ abl@@ e().get@@ Is@@ Chang@@ abl@@ e()) { disk@@ Model.get@@ Is@@ Boot@@ abl@@ e().get@@ Entity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { boolean is@@ Boot@@ able@@ M@@ ar@@ k@@ ed = ((@@ java.lang.Boolean@@ ) (((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model) (s@@ ender@@ )@@ ).get@@ Entity@@ ())); parent@@ Model.get@@ Is@@ Boot@@ abl@@ e().set@@ Is@@ Change@@ able@@ ((!@@ is@@ Boot@@ able@@ M@@ ar@@ k@@ ed@@ )); } }); } else { disk@@ Model.get@@ Is@@ Boot@@ abl@@ e().set@@ Change@@ Pro@@ h@@ i@@ b@@ ition@@ Reason@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Attach@@ Disk@@ Model@@ .@@ const@@ an@@ t@@ s.@@ on@@ ly@@ O@@ ne@@ Boot@@ able@@ Disk@@ ()); disk@@ Model.get@@ Is@@ Boot@@ abl@@ e().set@@ Is@@ Change@@ able@@ (@@ false@@ ); } } java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ >> enti@@ ti@@ es = org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ to@@ EntityModel@@ List(@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ filter@@ Disks@@ By@@ Type(@@ disk@@ Model@@ s, disk@@ Model@@ s, disk@@ Storage@@ Type@@ )); init@@ Attach@@ able@@ Disk@@ s(@@ enti@@ ties@@ ); }
private void update@@ P@@ ass@@ Dis@@ c@@ ard@@ Avail@@ ab@@ ility@@ () { if (get@@ Is@@ F@@ lo@@ at@@ ing@@ ()) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Available@@ (@@ false@@ ); } else { org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Interface selected@@ Interface = get@@ Disk@@ Interfac@@ e().get@@ SelectedItem@@ (); org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Storage@@ Type selected@@ Disk@@ Storage@@ Type = get@@ Disk@@ Storage@@ Typ@@ e().get@@ Entity@@ (); boolean is@@ Ap@@ pl@@ ic@@ able@@ Interface = (s@@ elected@@ Interface == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _@@ S@@ C@@ SI@@ )) || (s@@ elected@@ Interface == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Interfac@@ e.@@ ID@@ E@@ )); boolean is@@ Ap@@ pl@@ ic@@ able@@ Disk@@ Storage@@ Type = (s@@ elected@@ Disk@@ Storage@@ Type == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ LUN@@ )) || (s@@ elected@@ Disk@@ Storage@@ Type == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )); boolean is@@ Ap@@ pl@@ ical@@ b@@ e@@ Storage@@ Type = (s@@ elected@@ Disk@@ Storage@@ Type != (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) || ((@@ (get@@ StorageDomain@@ ().get@@ SelectedItem@@ ()) != null@@ ) && (get@@ StorageDomain@@ ().get@@ SelectedItem@@ ().get@@ Storage@@ Typ@@ e().@@ is@@ B@@ lock@@ Domain@@ ())); if ((@@ is@@ Ap@@ pl@@ ic@@ able@@ Interface && is@@ Ap@@ pl@@ ic@@ able@@ Disk@@ Storage@@ Type@@ ) && is@@ Ap@@ pl@@ ical@@ b@@ e@@ Storage@@ Type@@ ) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Available@@ (@@ true@@ ); if (!@@ (get@@ Is@@ New@@ ())) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().set@@ Entity@@ (get@@ Disk@@ Vm@@ Element@@ ().is@@ P@@ ass@@ Dis@@ c@@ ard@@ ()); } } else { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Available@@ (@@ false@@ ); get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().set@@ Entity@@ (@@ false@@ ); } }
private void list@@ en@@ To@@ P@@ ass@@ Dis@@ c@@ ard@@ Item@@ Changed@@ Event@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ >> disk@@ s, final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Attach@@ Disk@@ Model disk@@ Model) { disk@@ s.get@@ Item@@ s@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if ((@@ disk@@ s.get@@ Item@@ s()) == null@@ ) { return@@ ; } for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ > entity@@ Model : disk@@ s.get@@ Item@@ s()) { entity@@ Model.get@@ Entity@@ ().get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { if (@@ arg@@ s.@@ proper@@ ty@@ Nam@@ e.@@ equals(@@ "@@ Is@@ Chang@@ able@@ "@@ )) { re@@ ve@@ al@@ Disk@@ Panel@@ (disk@@ Model@@ ); } } }); }
@java.lang.Override public int set@@ Tab@@ In@@ dex@@ es@@ (@@ int ne@@ xt@@ Tab@@ In@@ dex@@ ) { s@@ ize@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ +@@ )); s@@ ize@@ Ex@@ tend@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); al@@ ias@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ +@@ )); d@@ escription@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ +@@ )); int@@ er@@ fac@@ e@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); dat@@ ac@@ enter@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ +@@ )); storageDomain@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); volume@@ Type@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ +@@ )); c@@ inder@@ Volume@@ Type@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ +@@ )); disk@@ Profile@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); quota@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); host@@ List@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ +@@ )); storage@@ Type@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ +@@ )); p@@ lug@@ Disk@@ To@@ Vm@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); p@@ ass@@ Dis@@ c@@ ard@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); is@@ Boot@@ able@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); is@@ Sh@@ are@@ able@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); is@@ Read@@ Only@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ +@@ +@@ )); is@@ S@@ csi@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); is@@ S@@ g@@ I@@ o@@ Un@@ filter@@ ed@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ +@@ )); is@@ Us@@ ing@@ S@@ csi@@ Res@@ er@@ va@@ tion@@ Editor@@ .set@@ Tab@@ In@@ dex@@ ((@@ ne@@ xt@@ Tab@@ In@@ dex@@ +@@ )); return ne@@ xt@@ Tab@@ In@@ dex@@ ; }
java.lang.String p@@ ass@@ Dis@@ c@@ ard@@ Not@@ Supported@@ For@@ Interfac@@ e();
public void update@@ Operation@@ Progress@@ (@@ final org.ovirt.engine.core.common.businessentities.VM vm@@ ) { vm@@ .set@@ Back@@ g@@ ro@@ un@@ d@@ Operation@@ Description@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Manager@@ .@@ Vm@@ Manager@@ .@@ const@@ r@@ uct@@ or@@ iz@@ ed@@ Vm@@ Manager@@ .@@ vm@@ .get@@ Vm@@ Manager@@ (vm@@ .getId@@ ()@@ ).get@@ Convert@@ Operation@@ Progress@@ ()); vm@@ .set@@ Back@@ g@@ ro@@ un@@ d@@ Operation@@ Progress@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Vm@@ Manager@@ .@@ const@@ r@@ uct@@ or@@ iz@@ ed@@ Vm@@ Manager@@ .get@@ Vm@@ Manager@@ (vm@@ .getId@@ ()@@ ).get@@ Convert@@ Operation@@ Progress@@ ()); }
@java.lang.Override protected void execute@@ Command() { try { add@@ Vm@@ To@@ Db@@ (); pro@@ cess@@ Images@@ (); pro@@ cess@@ Images@@ (); }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t = get@@ Snapshot@@ Dao().get@@ (org.ovirt.engine.core.bll.@@ Get@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Query.get@@ Parameters().get@@ Id(), S@@ napsho@@ t.@@ Snapshot@@ Type.@@ N@@ EX@@ T_@@ R@@ UN@@ , org.ovirt.engine.core.bll.@@ Get@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.@@ Get@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ()); if (s@@ napsho@@ t != null@@ ) { org.ovirt.engine.core.common.businessentities.VM vm = snapshot@@ Vm@@ Configuration@@ Hel@@ per@@ .get@@ Vm@@ From@@ Configuration@@ (s@@ napsho@@ t.get@@ Vm@@ Configuration@@ (), s@@ napsho@@ t.get@@ Vm@@ Id(), s@@ napsho@@ t.get@@ Id()); org.ovirt.engine.core.bll.@@ Get@@ Vm@@ Handler.@@ update@@ Network@@ Interfaces@@ From@@ Db@@ (vm@@ ); org.ovirt.engine.core.bll.@@ Get@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ vm@@ ); } else { super@@ .@@ execute@@ Query@@ Command@@ (); } }
public void update@@ Vm@@ Statistic@@ s@@ (@@ final org.ovirt.engine.core.common.businessentities.VM vm@@ ) { vm@@ .set@@ Statistic@@ s@@ Data@@ (@@ res@@ ource@@ Manager@@ .get@@ Vm@@ Manager@@ (vm@@ .getId@@ ()@@ ).get@@ Statistic@@ s()); }
public boolean is@@ Us@@ b@@ Policy@@ L@@ eg@@ al@@ (org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ P@@ olic@@ y us@@ b@@ Policy@@ , int os@@ Id, java.util.List<java.lang.String> mess@@ ages@@ ) { boolean ret@@ V@@ al = true@@ ; if (@@ Us@@ b@@ Policy@@ .@@ EN@@ AB@@ L@@ ED_@@ LE@@ G@@ AC@@ Y@@ .equals(@@ us@@ b@@ Policy@@ )) { if (@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ Lin@@ u@@ x@@ (@@ os@@ Id@@ )) { mess@@ ages.@@ add(@@ EngineMessage.@@ US@@ B@@ _@@ LE@@ G@@ AC@@ Y_@@ NOT_@@ SUPPORT@@ ED_@@ ON_@@ L@@ IN@@ U@@ X@@ _@@ VM@@ S@@ .toString@@ ()); ret@@ V@@ al = false@@ ; } } return ret@@ Val@@ ; }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > search@@ Vms@@ From@@ Db@@ () { org.ovirt.engine.core.@@ aaa.@@ Query@@ Data dat@@ a = init@@ Query@@ Data@@ (@@ true@@ ); if (@@ dat@@ a == null@@ ) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = org.ovirt.engine.core.bll.@@ Search@@ Query.get@@ DbFacad@@ e().get@@ Vm@@ Dao().get@@ All@@ Us@@ ing@@ Query@@ (@@ data@@ .get@@ Query@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { vm@@ Handl@@ er.@@ update@@ Vm@@ G@@ u@@ est@@ Agent@@ Version@@ (vm@@ ); } return vm@@ s@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = org.ovirt.engine.core.bll.@@ Get@@ Vms@@ R@@ el@@ ated@@ To@@ Quota@@ Id@@ Query.get@@ DbFacad@@ e().get@@ Vm@@ Dao().get@@ All@@ Vms@@ R@@ el@@ ated@@ To@@ Quota@@ Id@@ (org.ovirt.engine.core.bll.@@ Get@@ Vms@@ R@@ el@@ ated@@ To@@ Quota@@ Id@@ Query.get@@ Parameters().get@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { vm@@ .set@@ Disks@@ From@@ Db@@ (vm@@ ); } vm@@ Handl@@ er.@@ update@@ Vm@@ Init@@ From@@ D@@ B@@ (vm@@ .get@@ StaticData@@ (), true@@ ); java.util.Collections.@@ s@@ ort@@ (vm@@ .get@@ Disk@@ List@@ (), new org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ ator@@ s.@@ Disk@@ By@@ Disk@@ Alias@@ Comp@@ ar@@ ator@@ ()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ fil@@ l@@ Images@@ By@@ Snapshot@@ s(@@ vm@@ ); } org.ovirt.engine.core.bll.@@ Get@@ Vms@@ R@@ el@@ ated@@ To@@ Quota@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ vm@@ s); }
protected void add@@ VmTemplate@@ To@@ Db@@ () { getVm@@ Templat@@ e().set@@ Cluster@@ Id@@ (get@@ Parameters().get@@ Cluster@@ Id()); if (!(@@ vm@@ Handl@@ er.@@ validate@@ D@@ ed@@ ic@@ ated@@ Vds@@ Exist@@ On@@ S@@ ame@@ Cluster@@ (get@@ Vm@@ Templat@@ e(), null@@ ))) { getVm@@ Templat@@ e().set@@ D@@ ed@@ ic@@ ated@@ Vm@@ For@@ Vds@@ List(@@ java.util.Collections.@@ em@@ pty@@ List@@ ()); } getVm@@ Templat@@ e().set@@ Status(@@ VmTemplate@@ Status.@@ Lock@@ ed@@ ); getVm@@ Templat@@ e().set@@ Quota@@ Id@@ (get@@ Parameters().get@@ Quota@@ Id()); vm@@ Handl@@ er.@@ update@@ Import@@ ed@@ Vm@@ Us@@ b@@ Policy@@ (get@@ Vm@@ Templat@@ e()); vm@@ Template@@ Dao@@ .@@ s@@ av@@ e(@@ getVm@@ Templat@@ e()); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity@@ (get@@ Vm@@ Templat@@ e()); int c@@ oun@@ t = 1@@ ; for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage im@@ age : get@@ Images@@ ()) { im@@ age.@@ set@@ Active@@ (@@ true@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ StorageDomain@@ Map ma@@ p = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ s@@ ave@@ Image@@ (@@ image@@ ); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity(@@ im@@ age.get@@ Image@@ ()); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity(@@ map@@ ); if (!(@@ b@@ ase@@ Disk@@ Dao@@ .@@ ex@@ ist@@ s(@@ im@@ age.get@@ Id@@ ()))) { im@@ age.@@ set@@ Disk@@ Alias@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ Su@@ g@@ g@@ est@@ ed@@ Disk@@ Alias@@ (@@ image@@ , get@@ VmTemplate@@ Name(), c@@ ount@@ )); c@@ ount@@ +@@ +@@ ; b@@ ase@@ Disk@@ Dao@@ .@@ s@@ av@@ e(@@ image@@ ); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity(@@ image@@ ); } org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ Dynam@@ ic disk@@ Dynam@@ ic = new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ Dynamic@@ (); disk@@ Dynamic@@ .set@@ Id(@@ im@@ age.get@@ Image@@ Id()); disk@@ Dynamic@@ .set@@ Ac@@ tu@@ al@@ Siz@@ e(@@ im@@ age.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ()); disk@@ Image@@ Dynamic@@ Dao@@ .@@ s@@ av@@ e(@@ disk@@ Dynamic@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent d@@ v@@ e = org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent.@@ c@@ opy@@ Of@@ (@@ im@@ age.get@@ Disk@@ Vm@@ Element@@ For@@ Vm@@ (s@@ ource@@ Template@@ Id@@ ), im@@ age.get@@ VmTemplate@@ Id()); disk@@ Vm@@ Element@@ Dao@@ .@@ s@@ av@@ e(@@ d@@ ve@@ ); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity@@ (disk@@ Dynamic@@ ); } }
@java.lang.Override protected boolean validate(@@ ) { if (!@@ (org.ovirt.engine.core.bll.@@ Change@@ VM@@ Cluster@@ Command.@@ can@@ Run@@ Action@@ On@@ Non@@ Manage@@ d@@ Vm@@ ())) { return false@@ ; } if ((!@@ (org.ovirt.engine.core.bll.@@ Change@@ VM@@ Cluster@@ Command.@@ is@@ Internal@@ Execution@@ ())) && (!(@@ org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er.@@ can@@ Update@@ Fi@@ eld@@ (org.ovirt.engine.core.bll.@@ Change@@ VM@@ Cluster@@ Command.getVm@@ (), "@@ cluster@@ Id@@ ", org.ovirt.engine.core.bll.@@ Change@@ VM@@ Cluster@@ Command.getVm@@ ().get@@ Status@@ ())@@ ))) { add@@ Validation@@ Message@@ (EngineMessage.@@ VM_@@ ST@@ AT@@ U@@ S_@@ NOT_@@ VALID@@ _@@ F@@ OR@@ _@@ UP@@ D@@ AT@@ E); return false@@ ; } org.ovirt.engine.core.bll.@@ Change@@ Vm@@ Cluster@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.@@ Change@@ Vm@@ Cluster@@ Validator@@ (@@ this@@ , org.ovirt.engine.core.bll.@@ Change@@ VM@@ Cluster@@ Command.getParameters().get@@ Cluster@@ Id(), org.ovirt.engine.core.bll.@@ Change@@ VM@@ Cluster@@ Command.getParameters().get@@ Vm@@ Custom@@ CompatibilityVersion@@ (), org.ovirt.engine.core.bll.@@ Change@@ VM@@ Cluster@@ Command.getVm@@ Device@@ Util@@ s@@ ())); return validator.@@ valid@@ at@@ e(); }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s@@ List = get@@ VM@@ s(); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s@@ List@@ ) { org.ovirt.engine.core.bll.@@ Get@@ All@@ Vms@@ Query@@ Base.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ vm@@ s@@ List@@ ); }
protected void update@@ VM@@ Detail@@ s(@@ org.ovirt.engine.core.common.businessentities.VM vm@@ ) { update@@ Network@@ Interfaces@@ From@@ Db@@ (vm@@ ); update@@ Vm@@ Init@@ From@@ D@@ B@@ (vm@@ .get@@ StaticData@@ (), true@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se do@@ Import@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ c@@ luster.@@ id@@ |@@ name@@ ", "@@ storageDomain@@ .@@ id@@ |@@ name@@ "); org.ovirt.engine.core.compat.Guid d@@ est@@ StorageDomain@@ Id = get@@ Dest@@ StorageDomain@@ Id(@@ action@@ ); org.ovirt.engine.core.common.action.@@ Import@@ Vm@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Import@@ Vm@@ Parameters@@ (get@@ Entity@@ (), par@@ ent.@@ get@@ StorageDomain@@ Id(), d@@ est@@ StorageDomain@@ Id, par@@ ent.@@ get@@ DataCenter@@ Id(@@ d@@ est@@ StorageDomain@@ Id@@ ), get@@ Cluster@@ Id(@@ action@@ )); params.set@@ Image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ (get@@ Disk@@ To@@ Dest@@ ination@@ Map@@ (@@ action@@ )); params.set@@ For@@ ce@@ O@@ verrid@@ e@@ ((@@ action.@@ isSet@@ Ex@@ cl@@ us@@ i@@ v@@ e() ? action.@@ is@@ Ex@@ cl@@ us@@ i@@ v@@ e() : false@@ )); if (@@ action.@@ isSet@@ Allow@@ Par@@ ti@@ al@@ Import@@ ()) { params.set@@ Allow@@ Par@@ ti@@ al@@ Import@@ (@@ action.@@ is@@ Allow@@ Par@@ ti@@ al@@ Import@@ ()); } boolean c@@ oll@@ ap@@ se@@ Snapshot@@ s = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Boolean@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Vm@@ Resourc@@ e.@@ C@@ OL@@ L@@ A@@ P@@ S@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T@@ S@@ , true@@ , false@@ ); if (c@@ oll@@ ap@@ se@@ Snapshot@@ s) { params.set@@ Copy@@ C@@ oll@@ ap@@ se@@ Snapshot@@ s); } set@@ Volum@@ es@@ Type@@ Format@@ (@@ action@@ ); if (@@ action.@@ isSet@@ Cl@@ on@@ e()) { params.set@@ Import@@ As@@ New@@ Entity(@@ action.@@ is@@ Cl@@ on@@ e()); if ((@@ action.@@ isSet@@ Vm@@ ()) && (@@ action@@ .get@@ Vm@@ ().is@@ Set@@ Name()@@ )) { param@@ s.get@@ Vm@@ ().set@@ Name(@@ action@@ .get@@ Vm@@ ().get@@ Name()); } } return do@@ Action(VdcActionType.@@ Import@@ Vm@@ , param@@ s, action@@ ); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ name@@ , cluster@@ Id, volume@@ Type, status@@ , re@@ pl@@ ic@@ a@@ Count@@ , st@@ ri@@ p@@ e@@ Count@@ , dis@@ p@@ ers@@ Count@@ , red@@ un@@ d@@ anc@@ y@@ Count@@ , ar@@ b@@ it@@ er@@ Count@@ , o@@ ption@@ s, ac@@ cess@@ Protocol@@ s, trans@@ port@@ Typ@@ es@@ , brick@@ s, async@@ Task@@ , ad@@ v@@ anc@@ ed@@ Detail@@ s, snapshot@@ s@@ Count@@ , s@@ nap@@ Max@@ L@@ im@@ it@@ , snapshot@@ Schedul@@ ed@@ ); }
public void set@@ Cluster@@ Ar@@ b@@ it@@ er@@ Count@@ (@@ java.lang.Integ@@ er ar@@ b@@ it@@ er@@ Count@@ ) { this@@ .@@ ar@@ b@@ it@@ er@@ C@@ oun@@ t = ar@@ b@@ it@@ er@@ Count@@ ; }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity oth@@ er = ((org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ ) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((@@ (@@ f@@ ree@@ Item@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ cluster@@ Id@@ ))) && ((@@ volume@@ Type@@ ) == (@@ oth@@ er.@@ volume@@ Type@@ ))) && ((@@ status@@ ) == (@@ oth@@ er.@@ status@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ re@@ pl@@ ic@@ a@@ Count@@ , oth@@ er.@@ re@@ pl@@ ic@@ a@@ Count@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ st@@ ri@@ p@@ e@@ Count@@ , oth@@ er.@@ st@@ ri@@ p@@ e@@ Count@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ dis@@ p@@ ers@@ e@@ Count@@ , oth@@ er.@@ dis@@ p@@ ers@@ e@@ Count@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ red@@ un@@ d@@ anc@@ y@@ Count@@ , oth@@ er.@@ red@@ un@@ d@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ h@@ ave@@ S@@ ame@@ Element@@ s(@@ b@@ it@@ er@@ Count@@ , oth@@ er.@@ b@@ it@@ er@@ Count@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ h@@ ave@@ S@@ ame@@ Element@@ s(@@ get@@ Option@@ s@@ (), oth@@ er@@ .get@@ Option@@ s@@ ()))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ h@@ ave@@ S@@ ame@@ Element@@ s(@@ ac@@ cess@@ Protocol@@ s, oth@@ er.@@ ac@@ cess@@ Protocol@@ s@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ h@@ ave@@ S@@ ame@@ Element@@ s(@@ trans@@ port@@ Typ@@ es@@ , oth@@ er.@@ trans@@ port@@ Typ@@ es@@ ))) && (org.ovirt.engine.core.common.@@ utils.@@ Object@@ Utils.@@ h@@ ave@@ S@@ ame@@ Element@@ s(@@ brick@@ s, oth@@ er.@@ brick@@ s@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ async@@ Task@@ , oth@@ er.@@ async@@ Task@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ v@@ anc@@ ed@@ Detail@@ s@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ snapshot@@ Schedul@@ er.@@ snapshot@@ Schedul@@ ed@@ )); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity oth@@ er = ((org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ ) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((@@ org.ovirt.engine.core.common.utils.@@ Object@@ s.@@ equals(@@ id@@ , oth@@ er.@@ id@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ volume@@ Id, oth@@ er.@@ volume@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ server@@ Id, oth@@ er.@@ server@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ brick@@ Direct@@ ory@@ , oth@@ er.@@ brick@@ Direct@@ ory@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ brick@@ Or@@ der@@ , oth@@ er.@@ brick@@ Or@@ der@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ async@@ Task@@ , oth@@ er.@@ async@@ Task@@ ))) && ((@@ status@@ ) == (@@ oth@@ er.@@ status@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ is@@ Ar@@ b@@ it@@ er@@ , oth@@ er.@@ is@@ Ar@@ b@@ it@@ er@@ )); }
public void c@@ opy@@ From@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity brick@@ ) { set@@ Id(@@ brick@@ .getId()); set@@ Volume@@ Id(@@ brick@@ .get@@ Volume@@ Id()); set@@ Server@@ Id(@@ brick@@ .get@@ Server@@ Id()); set@@ Server@@ Name(@@ brick@@ .get@@ Server@@ Name()); set@@ Brick@@ Direct@@ ory@@ (@@ brick@@ .get@@ Brick@@ Direct@@ ory@@ ()); set@@ Brick@@ Or@@ der@@ (@@ brick@@ .get@@ Brick@@ Or@@ der@@ ()); set@@ Status(@@ brick@@ .get@@ Status@@ ()); set@@ Is@@ Ar@@ b@@ it@@ er@@ (@@ brick@@ .get@@ Is@@ Ar@@ b@@ it@@ er@@ ()); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ id@@ , volume@@ Id, brick@@ Direct@@ ory@@ , brick@@ Or@@ der@@ , status@@ , async@@ T@@ as@@ k@@ , is@@ Cluster@@ ()); }
@java.lang.Override protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ ) { return getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ id@@ ", volum@@ e.get@@ Id@@ ()).addValue("@@ cluster@@ _id", volum@@ e.get@@ Cluster@@ Id@@ ()).addValue("@@ v@@ ol@@ _@@ name@@ ", volum@@ e.get@@ Name()@@ ).addValue("@@ v@@ ol@@ _@@ type@@ ", org.ovirt.engine.core.common.utils.@@ Enum@@ Utils.@@ name@@ Or@@ Null@@ (@@ volum@@ e.get@@ Volume@@ Typ@@ e()@@ )).@@ addValue("@@ status@@ ", org.ovirt.engine.core.common.utils.@@ Enum@@ Utils.@@ name@@ Or@@ Null@@ (@@ volum@@ e.get@@ Status@@ ())@@ ).addValue("@@ re@@ pl@@ ic@@ a@@ _@@ c@@ ount@@ ", volum@@ e.get@@ Re@@ pl@@ ic@@ a@@ Count@@ ()).addValue("@@ st@@ ri@@ p@@ e@@ _@@ c@@ ount@@ ", volum@@ e.get@@ St@@ ri@@ p@@ e@@ Count@@ ()).addValue("@@ dis@@ p@@ ers@@ e@@ _@@ c@@ ount@@ ", volum@@ e.get@@ Dis@@ p@@ ers@@ e@@ Count@@ ()).addValue("@@ red@@ un@@ d@@ anc@@ y@@ _@@ c@@ ount@@ ", volum@@ e.get@@ R@@ ed@@ un@@ d@@ anc@@ y@@ Count@@ ()).addValue("@@ ar@@ b@@ it@@ er@@ _@@ c@@ ount@@ ", volum@@ e.get@@ Ar@@ b@@ it@@ er@@ Count@@ ()); }
@java.lang.Override public void update@@ Gluster@@ Volum@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ ) { getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ Update@@ GlusterVolume@@ ", getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ id@@ ", volum@@ e.get@@ Id@@ ()).addValue("@@ cluster@@ _id", volum@@ e.get@@ Cluster@@ Id@@ ()).addValue("@@ v@@ ol@@ _@@ name@@ ", volum@@ e.get@@ Name()@@ ).addValue("@@ v@@ ol@@ _@@ type@@ ", org.ovirt.engine.core.common.utils.@@ Enum@@ Utils.@@ name@@ Or@@ Null@@ (@@ volum@@ e.get@@ Volume@@ Typ@@ e()@@ )).@@ addValue("@@ status@@ ", org.ovirt.engine.core.common.utils.@@ Enum@@ Utils.@@ name@@ Or@@ Null@@ (@@ volum@@ e.get@@ Status@@ ())@@ ).addValue("@@ re@@ pl@@ ic@@ a@@ _@@ c@@ ount@@ ", volum@@ e.get@@ Re@@ pl@@ ic@@ a@@ Count@@ ()).addValue("@@ st@@ ri@@ p@@ e@@ _@@ c@@ ount@@ ", volum@@ e.get@@ St@@ ri@@ p@@ e@@ Count@@ ()).addValue("@@ dis@@ p@@ ers@@ e@@ _@@ c@@ ount@@ ", volum@@ e.get@@ Dis@@ p@@ ers@@ e@@ Count@@ ()).addValue("@@ red@@ un@@ d@@ anc@@ y@@ _@@ c@@ ount@@ ", volum@@ e.get@@ R@@ ed@@ un@@ d@@ anc@@ y@@ Count@@ ()).addValue("@@ ar@@ b@@ it@@ er@@ _@@ c@@ ount@@ ", volum@@ e.get@@ Ar@@ b@@ it@@ er@@ Count@@ ()); }
public java.lang.Integ@@ er get@@ Ar@@ b@@ it@@ er@@ Count@@ () { return ar@@ b@@ it@@ er@@ Count@@ ; }
@java.lang.Override public org.ovirt.engine.core.dal.dbbroker.@@ MapSqlParameter@@ Map@@ per@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ > get@@ B@@ atch@@ Map@@ per@@ () { return new org.ovirt.engine.core.dal.dbbroker.@@ MapSqlParameter@@ Map@@ per@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ >() { @java.lang.Override public org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e map@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity entity@@ ) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e param@@ Valu@@ e = new org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e().@@ addValue("@@ volume@@ _id", entity.get@@ Volume@@ Id@@ ()).addValue("@@ server@@ _id", entity.get@@ Server@@ Id@@ ()).addValue("@@ brick@@ _@@ d@@ ir@@ ", entity.get@@ Brick@@ Direct@@ ory@@ ()).addValue("@@ status@@ ", entity.get@@ Status@@ ().@@ nam@@ e()@@ ).addValue("@@ id@@ ", entity.get@@ Id().@@ toString@@ ()).addValue("@@ brick@@ _@@ or@@ der@@ ", entity.get@@ Brick@@ Or@@ der@@ ()).addValue("@@ network@@ _id", entity.get@@ Network@@ Id@@ ()).@@ add@@ Value(@@ "@@ is@@ _@@ ar@@ b@@ it@@ er@@ ", entity.get@@ Is@@ Ar@@ b@@ it@@ er@@ ()).@@ add@@ Value(@@ "@@ task@@ _id", ((@@ entity.get@@ AsyncTask@@ ().get@@ Task@@ Id()) != null ? entity.get@@ AsyncTask@@ ().get@@ Task@@ Id().@@ toString@@ () : "@@ ")); return param@@ Value@@ ; } }; }
@java.lang.Override protected void execute@@ Command() { log.@@ info@@ ("@@ Image@@ Trans@@ f@@ er enti@@ ty for c@@ ommand '{}@@ ' org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er enti@@ ty = new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); entity.set@@ Command@@ Type(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Action@@ Typ@@ e()); entity.set@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ IN@@ I@@ TI@@ AL@@ I@@ Z@@ ING@@ ); entity.set@@ L@@ ast@@ Updat@@ ed@@ (@@ new java.util.@@ Dat@@ e()); entity.set@@ By@@ t@@ es@@ T@@ otal@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Siz@@ e()); image@@ Trans@@ fer@@ Dao@@ .@@ s@@ av@@ e(@@ entity@@ ); if (is@@ Image@@ Sup@@ pl@@ i@@ ed@@ ()) { handl@@ e@@ Image@@ Is@@ Read@@ y@@ For@@ Trans@@ f@@ er@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Image@@ Id@@ ())); } else { if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Trans@@ fer@@ Type.@@ Down@@ load@@ )) { fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ IM@@ AGE_@@ NOT_@@ SP@@ EC@@ I@@ FI@@ ED_@@ F@@ OR@@ _@@ DO@@ W@@ N@@ LO@@ AD@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ .set@@ Succeeded@@ (@@ false@@ ); return@@ ; } log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed {@@ } im@@ age get@@ Image@@ Typ@@ e()); create@@ Image@@ (); } setAction@@ Return@@ Value(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
protected boolean is@@ Image@@ Sup@@ pl@@ i@@ ed@@ () { return !@@ (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Image@@ Id@@ ())); }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > get@@ Permission@@ Check@@ Su@@ bject@@ s() { java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > list@@ Permission@@ Su@@ bject@@ s = new java.util.ArrayList<@@ >(); if (!(@@ is@@ Image@@ Sup@@ pl@@ i@@ ed@@ ())) { list@@ Permission@@ Su@@ bject@@ s.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ DiskImage@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ C@@ RE@@ AT@@ E_@@ DIS@@ K@@ )); } else { list@@ Permission@@ Su@@ bject@@ s.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ DiskImage@@ Command.getParameters().get@@ Image@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ C@@ RE@@ AT@@ E_@@ DIS@@ K@@ )); } return list@@ Permission@@ Su@@ bject@@ s@@ ; }
@java.lang.Override protected boolean validate(@@ ) { if (is@@ Image@@ Sup@@ pl@@ i@@ ed@@ ()) { return validate@@ Image@@ Trans@@ fer@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Image@@ Id()); } else { if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Trans@@ fer@@ Type.@@ Down@@ load@@ )) { return validate@@ Create@@ Image@@ (); } else { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ IM@@ AGE_@@ NOT_@@ SP@@ EC@@ I@@ FI@@ ED_@@ F@@ OR@@ _@@ DO@@ W@@ N@@ LO@@ AD@@ ); } }
@java.lang.Override protected boolean validate(@@ ) { if (!@@ (@@ super@@ .@@ valid@@ at@@ e())) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = get@@ Cluster@@ (); if (c@@ luster == null@@ ) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ LUSTER_@@ IS@@ _NOT_@@ VALID@@ ); return false@@ ; } if (!@@ (c@@ luster.@@ support@@ s@@ Gluster@@ Servic@@ e())) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ LUSTER_@@ DO@@ E@@ S_@@ NOT_@@ SUP@@ POR@@ T_@@ G@@ LUST@@ ER@@ ); return false@@ ; } if (@@ volum@@ e.get@@ Volume@@ Typ@@ e().@@ is@@ Dis@@ p@@ ers@@ ed@@ Type()) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ RE@@ A@@ TION_@@ O@@ F@@ _@@ DIS@@ P@@ ER@@ S@@ E_@@ V@@ O@@ LU@@ M@@ E_@@ NOT_@@ SUPPORT@@ ED); return false@@ ; } if (@@ volume@@ Name@@ Exist@@ s(@@ volum@@ e.get@@ Name()@@ )) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ NAM@@ E_@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ S@@ ); add@@ Validation@@ Message@@ Var@@ i@@ able(@@ "@@ volume@@ Name@@ ", volum@@ e.get@@ Name()); return false@@ ; } if (!(@@ validate(@@ create@@ Volume@@ Validator@@ ().is@@ For@@ ce@@ Create@@ Volume@@ Allow@@ ed@@ (get@@ Cluster@@ ().get@@ CompatibilityVersion@@ (), get@@ Parameters@@ ().is@@ For@@ c@@ e()@@ )))) { return false@@ ; } if (((@@ volum@@ e.get@@ Ar@@ b@@ it@@ er@@ Count@@ ()) != 0) && (!(@@ validate(@@ create@@ Volume@@ Validator@@ ().is@@ Ar@@ b@@ it@@ er@@ Volume@@ Supported@@ (get@@ Cluster@@ ().get@@ CompatibilityVersion@@ ())@@ )))) { return false@@ ; } if ((((@@ volum@@ e.get@@ Ar@@ b@@ it@@ er@@ Count@@ ()) != 0) && (!(@@ volum@@ e.get@@ Volume@@ Typ@@ e().@@ is@@ Re@@ pl@@ ic@@ ated@@ Typ@@ e()@@ ))) || ((@@ volum@@ e.get@@ Re@@ pl@@ ic@@ a@@ Count@@ ()) != 3@@ )) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ AR@@ B@@ I@@ T@@ ER_@@ V@@ O@@ LU@@ M@@ E_@@ S@@ HO@@ U@@ L@@ D@@ _@@ B@@ E_@@ RE@@ PL@@ IC@@ A@@ _@@ 3@@ _@@ V@@ O@@ LU@@ M@@ E); return false@@ ; } return validate@@ Brick@@ s(@@ volume@@ ); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volum@@ e = Create@@ GlusterVolume@@ VDS@@ Command.getParameters().get@@ Volum@@ e(); boolean is@@ For@@ c@@ e = Create@@ GlusterVolume@@ VDS@@ Command.get@@ Parameters@@ ().is@@ For@@ c@@ e(); boolean support@@ For@@ ce@@ Create@@ Volum@@ e = org.ovirt.engine.core.common.@@ gluster.Gluster@@ Feat@@ ure@@ Supported@@ .@@ gluster@@ For@@ ce@@ Create@@ Volume@@ Support@@ ed(@@ Create@@ GlusterVolume@@ VDS@@ Command.getParameters().get@@ Cluster@@ Version@@ ()); u@@ uid@@ Retur@@ n = (s@@ upport@@ For@@ ce@@ Create@@ Volume@@ ) ? Create@@ GlusterVolume@@ VDS@@ Command.get@@ Broker@@ ().@@ gluster@@ Volume@@ Cre@@ ate(@@ volum@@ e.get@@ Name(), volum@@ e.get@@ Brick@@ Direct@@ or@@ i@@ es@@ ().@@ to@@ Array@@ (@@ new java.lang.String@@ [@@ 0@@ ]@@ ), volum@@ e.get@@ Re@@ pl@@ ic@@ a@@ Count@@ (), volum@@ e.get@@ St@@ ri@@ p@@ e@@ Count@@ (), get@@ Trans@@ port@@ Type@@ Arr@@ (@@ volume@@ ), is@@ For@@ c@@ e.get@@ Ar@@ b@@ it@@ er@@ Count@@ (), Create@@ GlusterVolume@@ VDS@@ Command.get@@ Broker@@ ().@@ gluster@@ Volume@@ Cre@@ ate(@@ volum@@ e.get@@ Name(), volum@@ e.get@@ Brick@@ Direct@@ or@@ i@@ es@@ ().@@ to@@ Array@@ (@@ new java.lang.String@@ [@@ 0@@ ]@@ ), volum@@ e.get@@ Re@@ pl@@ ic@@ a@@ Count@@ (), volum@@ e.get@@ St@@ ri@@ p@@ e@@ Count@@ (), get@@ Trans@@ port@@ Type@@ Arr@@ (@@ volume@@ )); Create@@ GlusterVolume@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); if (@@ Create@@ GlusterVolume@@ VDS@@ Command.get@@ VDS@@ ReturnValue().get@@ Succeeded@@ ()) { volum@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ Default@@ Empty@@ (@@ u@@ uid@@ Return@@ .@@ u@@ uid@@ )); set@@ Return@@ Value(@@ volume@@ ); } }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ ReturnForXmlR@@ p@@ c gluster@@ Volume@@ Cre@@ ate(@@ java.lang.String volume@@ Name, java.lang.String@@ [@@ ] brick@@ List@@ , int re@@ pl@@ ic@@ a@@ Count@@ , int st@@ ri@@ p@@ e@@ Count@@ , java.lang.String@@ [@@ ] trans@@ port@@ List@@ , boolean for@@ c@@ e@@ Count@@ , int ar@@ b@@ it@@ er@@ C@@ oun@@ t@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Gluster@@ Volum@@ e.c@@ reate@@ ").@@ with@@ Parameter("@@ volume@@ Name@@ ", volume@@ Name@@ ).@@ with@@ Parameter("@@ brick@@ list@@ ", new java.util.Array@@ List(@@ java.util.Arrays.as@@ List(@@ brick@@ List@@ )@@ )).@@ with@@ Parameter("@@ re@@ pl@@ ic@@ a@@ Count@@ ", re@@ pl@@ ic@@ a@@ Count@@ ).@@ with@@ Parameter("@@ st@@ ri@@ p@@ e@@ Count@@ ", st@@ ri@@ p@@ e@@ Count@@ ).@@ with@@ Parameter("@@ trans@@ port@@ List@@ ", new java.util.Array@@ List(@@ java.util.Arrays.as@@ List(@@ trans@@ port@@ List@@ )@@ )).@@ with@@ Parameter@@ (@@ "@@ for@@ ce@@ ", for@@ ce@@ ).@@ with@@ Option@@ al@@ Parameter("@@ b@@ it@@ er@@ Count@@ ", ar@@ b@@ it@@ er@@ C@@ oun@@ t@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ).@@ with@@ I@@ g@@ n@@ ore@@ Respon@@ se@@ Key@@ (); return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
public java.util.Map<java.lang.String, java.lang.Object> gluster@@ Volume@@ Cre@@ ate(@@ java.lang.String volume@@ Name, java.lang.String@@ [@@ ] brick@@ List@@ , int re@@ pl@@ ic@@ a@@ Count@@ , int st@@ ri@@ p@@ e@@ Count@@ , java.lang.String@@ [@@ ] trans@@ port@@ List@@ , boolean for@@ ce@@ , int ar@@ b@@ it@@ er@@ Count@@ );
org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ ReturnForXmlR@@ p@@ c gluster@@ Volume@@ Cre@@ ate(@@ java.lang.String volume@@ Name, java.lang.String@@ [@@ ] brick@@ List@@ , int re@@ pl@@ ic@@ a@@ Count@@ , int st@@ ri@@ p@@ e@@ Count@@ , java.lang.String@@ [@@ ] trans@@ port@@ List@@ , boolean for@@ c@@ e@@ , int ar@@ b@@ it@@ er@@ C@@ oun@@ );
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ ReturnForXmlR@@ p@@ c gluster@@ Volume@@ Cre@@ ate(@@ java.lang.String volume@@ Name, java.lang.String@@ [@@ ] brick@@ List@@ , int re@@ pl@@ ic@@ a@@ Count@@ , int st@@ ri@@ p@@ e@@ Count@@ , java.lang.String@@ [@@ ] trans@@ port@@ List@@ , boolean for@@ c@@ e@@ , int ar@@ b@@ it@@ er@@ C@@ oun@@ t ) { try { if (@@ ar@@ b@@ it@@ er@@ C@@ oun@@ t == 0) { return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ ReturnForXmlR@@ pc@@ (@@ vds@@ Ser@@ v@@ er.@@ gluster@@ Volume@@ Cre@@ ate(@@ volume@@ Name, brick@@ List@@ , re@@ pl@@ ic@@ a@@ Count@@ , st@@ ri@@ p@@ e@@ Count@@ , trans@@ port@@ List@@ , for@@ ce@@ )); } else { return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ ReturnForXmlR@@ pc@@ (@@ vds@@ Ser@@ v@@ er.@@ gluster@@ Volume@@ Cre@@ ate(@@ volume@@ Name, brick@@ List@@ , re@@ pl@@ ic@@ a@@ Count@@ , st@@ ri@@ p@@ e@@ Count@@ , trans@@ port@@ List@@ , for@@ ce@@ , ar@@ b@@ it@@ er@@ Count@@ )); } catch (@@ java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Un@@ d@@ ec@@ l@@ ared@@ Th@@ row@@ able@@ Exception ut@@ e) { throw new org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ Run@@ Time@@ Exception@@ (@@ ut@@ e); } }
@java.lang.Override public void build@@ Vm@@ Vir@@ ti@@ o@@ S@@ csi@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Device@@ s = vm@@ Device@@ Dao@@ .get@@ VmDevice@@ By@@ Vm@@ Id@@ Type@@ And@@ Devic@@ e(@@ vm.get@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ CON@@ T@@ RO@@ L@@ ER@@ , VmDevice@@ Type.@@ V@@ I@@ R@@ TI@@ O@@ S@@ C@@ SI@@ .get@@ Name()); java.util.Map@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Interface@@ , java.lang.Integer@@ > cont@@ ro@@ ll@@ er@@ In@@ dex@@ Map = org.ovirt.engine.core.utils.@@ arch@@ str@@ ate@@ g@@ y@@ .@@ Ar@@ ch@@ St@@ r@@ ate@@ g@@ y@@ Fac@@ t@@ ory@@ .get@@ St@@ r@@ ate@@ g@@ y@@ (vm@@ .get@@ Cluster@@ Ar@@ ch@@ ()).@@ run@@ (@@ new org.ovirt.engine.core.vdsbroker.@@ arch@@ it@@ ect@@ ur@@ e.@@ Get@@ Cont@@ ro@@ ll@@ er@@ In@@ d@@ ic@@ es@@ ())@@ .@@ return@@ Valu@@ e(); int vi@@ r@@ ti@@ o@@ S@@ csi@@ In@@ de@@ x = cont@@ ro@@ ll@@ er@@ In@@ dex@@ Map@@ .get(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _@@ S@@ C@@ SI@@ ); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e vm@@ Devic@@ e : vm@@ Devic@@ es) { java.util.Map<java.lang.String, java.lang.Object> str@@ uc@@ t = new java.util.HashMap@@ <@@ >(); str@@ uc@@ t.@@ put(@@ Vds@@ Properties.@@ Type, VmDevice@@ Gener@@ al@@ Type.@@ CON@@ T@@ RO@@ L@@ L@@ ER@@ .get@@ Valu@@ e()); str@@ uc@@ t.@@ put(@@ Vds@@ Properties.@@ Device@@ , Vds@@ Properties.@@ S@@ csi@@ ); str@@ uc@@ t.@@ put(@@ Vds@@ Properties.@@ Model@@ , Vds@@ Properties.@@ Vir@@ ti@@ o@@ S@@ csi@@ ); str@@ uc@@ t.@@ put(@@ Vds@@ Properties.@@ In@@ dex@@ , java.lang.Integ@@ er.@@ toString@@ (@@ vi@@ r@@ ti@@ o@@ S@@ csi@@ In@@ dex@@ )); if ((@@ vm.get@@ NumOf@@ I@@ o@@ Th@@ rea@@ ds@@ ()) > 0) { str@@ uc@@ t.@@ put(@@ Vds@@ Properties.@@ i@@ o@@ Tr@@ h@@ ead@@ Id, java.lang.Integ@@ er.@@ toString@@ (@@ vi@@ r@@ ti@@ o@@ S@@ csi@@ In@@ dex@@ )); vi@@ r@@ ti@@ o@@ S@@ csi@@ In@@ dex@@ +@@ +@@ ; } vm@@ Info@@ Buil@@ d@@ Utils.@@ add@@ Address@@ (vm@@ Device@@ , str@@ uct@@ ); vi@@ r@@ ti@@ o@@ S@@ csi@@ In@@ dex@@ +@@ +@@ ; add@@ Devic@@ e(@@ str@@ uct@@ , vm@@ Device@@ , null@@ ); } }
public void update@@ Vm@@ Devic@@ es(@@ org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base param@@ s, org.ovirt.engine.core.common.businessentities.VM old@@ Vm@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Base old@@ Vm@@ Base = old@@ Vm@@ .get@@ StaticData@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Base new@@ Vm@@ Base = param@@ s.get@@ Vm@@ StaticData@@ (); if (@@ new@@ Vm@@ Base == null@@ ) { return@@ ; } update@@ C@@ d@@ Path@@ (@@ old@@ Vm@@ Base@@ , new@@ Vm@@ Bas@@ e); update@@ Boot@@ Or@@ der@@ (@@ old@@ Vm@@ Base@@ , new@@ Vm@@ Bas@@ e); update@@ V@@ id@@ eo@@ Devic@@ es(@@ old@@ Vm@@ Base@@ , new@@ Vm@@ Bas@@ e); update@@ Us@@ b@@ S@@ l@@ ot@@ s(@@ old@@ Vm@@ Base@@ , new@@ Vm@@ Bas@@ e); update@@ Memory@@ B@@ alloon@@ (@@ new@@ Vm@@ Base.get@@ Id(), param@@ s.@@ is@@ B@@ alloon@@ Enabled@@ ()); update@@ S@@ ound@@ Devic@@ e(@@ old@@ Vm@@ Base@@ , old@@ Vm@@ .get@@ CompatibilityVersion@@ (), param@@ s.@@ is@@ S@@ ound@@ Device@@ Enabled@@ ()); update@@ S@@ m@@ art@@ c@@ ard@@ Devic@@ e(@@ old@@ Vm@@ , new@@ Vm@@ Bas@@ e); update@@ Console@@ Device@@ (@@ new@@ Vm@@ Base.get@@ Id(), param@@ s.@@ is@@ Console@@ Enabled@@ ()); int s@@ csi@@ Cont@@ ro@@ ll@@ er@@ s = ((@@ (@@ new@@ Vm@@ Base.get@@ NumOf@@ I@@ o@@ Th@@ rea@@ ds@@ ()) > 1@@ ) && (@@ param@@ s.@@ is@@ Vir@@ ti@@ o@@ S@@ csi@@ Enabled@@ ())) ? new@@ Vm@@ Base.get@@ NumOf@@ I@@ o@@ Th@@ rea@@ ds@@ () : 1@@ ; for (@@ int i = 1@@ ; i <@@ = s@@ csi@@ Cont@@ ro@@ ll@@ ers@@ ; i@@ +@@ +@@ ) { update@@ Vir@@ ti@@ o@@ S@@ csi@@ Cont@@ ro@@ ll@@ er@@ (@@ new@@ Vm@@ Base.get@@ Id(), param@@ s.@@ is@@ Vir@@ ti@@ o@@ S@@ csi@@ Enabled@@ ()); } }
public boolean validate(@@ ) { get@@ Re@@ pl@@ ic@@ a@@ Count@@ ().setIs@@ Valid@@ (@@ true@@ ); get@@ St@@ ri@@ p@@ e@@ Count@@ ().setIs@@ Valid@@ (@@ true@@ ); if (get@@ Re@@ pl@@ ic@@ a@@ Count@@ ().get@@ Is@@ Avail@@ abl@@ e()) { org.ovirt.engine.ui.uicommonweb.validation.@@ Integ@@ er@@ Valid@@ ation re@@ pl@@ ic@@ a@@ Count@@ Valid@@ ation = new org.ovirt.engine.ui.uicommonweb.validation.@@ Integ@@ er@@ Validation@@ (); re@@ pl@@ ic@@ a@@ Count@@ Validation@@ .set@@ M@@ in@@ im@@ um@@ (@@ 2@@ ); re@@ pl@@ ic@@ a@@ Count@@ Validation@@ .set@@ Max@@ im@@ um@@ (@@ 1@@ 6@@ ); get@@ Re@@ pl@@ ic@@ a@@ Count@@ ().@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), re@@ pl@@ ic@@ a@@ Count@@ Valid@@ ation }); } if (get@@ St@@ ri@@ p@@ e@@ Count@@ ().get@@ Is@@ Avail@@ abl@@ e()) { org.ovirt.engine.ui.uicommonweb.validation.@@ Integ@@ er@@ Valid@@ ation st@@ ri@@ p@@ e@@ Count@@ Valid@@ ation = new org.ovirt.engine.ui.uicommonweb.validation.@@ Integ@@ er@@ Validation@@ (); st@@ ri@@ p@@ e@@ Count@@ Validation@@ .set@@ M@@ in@@ im@@ um@@ (@@ 4@@ ); st@@ ri@@ p@@ e@@ Count@@ Validation@@ .set@@ Max@@ im@@ um@@ (@@ 1@@ 6@@ ); get@@ Re@@ pl@@ ic@@ a@@ Count@@ ().@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), st@@ ri@@ p@@ e@@ Count@@ Valid@@ ation }); } return (get@@ Re@@ pl@@ ic@@ a@@ Count@@ ().get@@ Is@@ Valid@@ ()) && (get@@ St@@ ri@@ p@@ e@@ Count@@ ().get@@ Is@@ Valid@@ ())) && (get@@ Ar@@ b@@ it@@ er@@ Volum@@ e().get@@ Is@@ Valid@@ ()); }
@org.ovirt.engine.ui.uicompat.DefaultStringValue("@@ Ar@@ e m@@ i@@ t support@@ s for Vir@@ t Stor@@ e@@ ") java.lang.String num@@ a@@ Support@@ s@@ Vir@@ t@@ Stor@@ e@@ Titl@@ e();
public static boolean gluster@@ Ar@@ b@@ it@@ er@@ Volume@@ Support@@ ed(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion version@@ ) { return (@@ Version@@ .@@ v@@ 4@@ _@@ 0@@ .@@ comp@@ are@@ To@@ (@@ version@@ )) <@@ = 0@@ ; }
private void on@@ Add@@ Brick@@ s@@ Internal@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ Brick@@ Model volume@@ Brick@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ Brick@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); cancel@@ Confirmation@@ (); if (!(@@ volume@@ Brick@@ Model.@@ valid@@ at@@ e())) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Type selected@@ Volume@@ Type = get@@ Type@@ List@@ ().get@@ SelectedItem@@ (); if (s@@ elected@@ Volume@@ Type.@@ is@@ Re@@ pl@@ ic@@ ated@@ Type()) { get@@ Re@@ pl@@ ic@@ a@@ Count@@ ().set@@ Entity(@@ volume@@ Brick@@ Model.get@@ Re@@ pl@@ ic@@ a@@ Count@@ ().getEntity@@ ()); } if (s@@ elected@@ Volume@@ Type.@@ is@@ St@@ ri@@ p@@ ed@@ Type()) { get@@ St@@ ri@@ p@@ e@@ Count@@ ().set@@ Entity(@@ volume@@ Brick@@ Model.get@@ St@@ ri@@ p@@ e@@ Count@@ ().getEntity@@ ()); } java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ >> brick@@ List = new java.util.ArrayList<@@ >(); brick@@ Lis@@ t.@@ add@@ All@@ (@@ volume@@ Brick@@ Model.get@@ Brick@@ s().get@@ Item@@ s()); volume@@ Brick@@ Model.get@@ Brick@@ s@@ ().set@@ Item@@ s@@ (@@ null@@ ); org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ >> brick@@ ListModel = new org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ (); brick@@ ListModel@@ .set@@ Items(@@ brick@@ List@@ ); brick@@ ListModel@@ .set@@ SelectedItem@@ s(@@ brick@@ List@@ ); set@@ Brick@@ s(@@ brick@@ ListModel@@ ); set@@ For@@ ce@@ Add@@ Brick@@ s(@@ volume@@ Brick@@ Model.get@@ For@@ c@@ e().get@@ Entity@@ ()); set@@ Ar@@ b@@ it@@ er@@ Volum@@ e().set@@ Entity(@@ volume@@ Brick@@ Model.get@@ Ar@@ b@@ it@@ er@@ Volum@@ e().get@@ Entity@@ ()); set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); }
private void update@@ Ar@@ b@@ it@@ er@@ Avail@@ ab@@ ility@@ () { get@@ Cluster@@ Ar@@ b@@ it@@ er@@ Volum@@ e().set@@ Is@@ Available@@ ((@@ (get@@ Type@@ List@@ ().get@@ SelectedItem@@ ().is@@ Re@@ pl@@ ic@@ ated@@ Type()) && (@@ org.ovirt.engine.ui.uicommonweb.models.@@ gluster.Gluster@@ Feat@@ ur@@ es@@ Uti@@ l.@@ gluster@@ Ar@@ b@@ it@@ er@@ Volume@@ Supported@@ (get@@ Cluster@@ ().get@@ SelectedItem@@ ().get@@ CompatibilityVersion@@ ())@@ ))); }
protected void add@@ Sty@@ l@@ es@@ () { volume@@ Type@@ Editor@@ .@@ add@@ Cont@@ ent@@ Widget@@ Cont@@ ain@@ er@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.@@ edit@@ or@@ Cont@@ ent@@ Widget@@ ()); re@@ pl@@ ic@@ a@@ Count@@ Editor@@ .@@ add@@ Cont@@ ent@@ Widget@@ Cont@@ ain@@ er@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.@@ edit@@ or@@ Cont@@ ent@@ Widget@@ ()); st@@ ri@@ p@@ e@@ Count@@ Editor@@ .@@ add@@ Cont@@ ent@@ Widget@@ Cont@@ ain@@ er@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.@@ edit@@ or@@ Cont@@ ent@@ Widget@@ ()); ar@@ b@@ it@@ er@@ Volume@@ Editor@@ .@@ add@@ Cont@@ ent@@ Widget@@ Cont@@ ain@@ er@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.@@ edit@@ or@@ Cont@@ ent@@ Widget@@ ()); for@@ ce@@ Editor@@ .@@ add@@ Cont@@ ent@@ Widget@@ Cont@@ ain@@ er@@ Sty@@ le@@ Name(@@ st@@ y@@ le@@ .@@ for@@ ce@@ Editor@@ Widget@@ ()); }
private void cluster@@ SelectedItem@@ Changed@@ () { set@@ Brick@@ s@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ >@@ ()); if ((get@@ Cluster@@ ().get@@ SelectedItem@@ ()) != null@@ ) { final org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = get@@ Cluster@@ ().get@@ SelectedItem@@ (); update@@ Cluster@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().@@ is@@ An@@ y@@ Host@@ Up@@ In@@ Cluster@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ this@@ , new org.ovirt.engine.ui.frontend.@@ IN@@ ew@@ AsyncCallback@@ () { @java.lang.Override public void onSuccess(java.lang.Object model, java.lang.Object return@@ Value@@ ) { if (!@@ (get@@ Cluster@@ ().get@@ SelectedItem@@ ().get@@ Id().@@ equals(@@ cluster@@ .getId@@ ()))) { return@@ ; } if (((@@ java.lang.Boolean@@ ) (@@ return@@ Value@@ ))) { get@@ Add@@ Brick@@ s@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ true@@ ); set@@ Message@@ (@@ null@@ ); } else { get@@ Add@@ Brick@@ s@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ false@@ ); set@@ Message@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ volume@@ Empty@@ Cluster@@ Validation@@ M@@ s@@ g@@ ()); } }@@ ), cluster@@ .get@@ Name()); } else { get@@ Add@@ Brick@@ s@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ false@@ ); set@@ Message@@ (@@ null@@ ); } }
public boolean check@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ VDS host@@ ) { final int check@@ s = (org.ovirt.engine.core.bll.@@ host.@@ Host@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Check@@ er.@@ VDS@@ M@@ _@@ RE@@ SP@@ ON@@ SI@@ V@@ EN@@ E@@ S@@ S_@@ P@@ ER@@ I@@ OD@@ _@@ IN@@ _@@ SE@@ CON@@ D@@ S@@ ) / (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ SetupNetworks@@ P@@ oll@@ ing@@ Time@@ out@@ )); org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ Setup@@ Network@@ P@@ oll@@ er p@@ oll@@ er = new org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ Setup@@ Network@@ P@@ oll@@ er@@ (); for (@@ int i = 0@@ ; i < check@@ s@@ ; i@@ +@@ +@@ ) { if (p@@ oll@@ er.@@ p@@ oll@@ (@@ hos@@ t.get@@ Id@@ ())) { org.ovirt.engine.core.bll.@@ host.@@ Host@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Check@@ er.@@ log.@@ info@@ ("@@ Engin@@ e manage@@ d to c@@ omm@@ un@@ ic@@ at@@ e wit@@ h VDS@@ M ag@@ ent on hos@@ t '{}@@ ' (@@ '{}@@ '@@ )@@ ", hos@@ t.get@@ Name(), hos@@ t.get@@ Id()); return true@@ ; } } return false@@ ; }
public void set@@ Default@@ Interfac@@ e() { org.ovirt.engine.core.compat.Guid vm@@ Id = getVm@@ Id@@ (); if ((@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (vm@@ Id@@ )) || ((get@@ Disk@@ ()) == null@@ )) { get@@ Disk@@ Interfac@@ e().set@@ SelectedItem@@ (@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _@@ S@@ C@@ S@@ I@@ ); } else { get@@ Disk@@ Interfac@@ e().set@@ SelectedItem@@ (get@@ Disk@@ ().get@@ Disk@@ Vm@@ Element@@ For@@ Vm@@ (vm@@ Id@@ ).get@@ Disk@@ Interfac@@ e()); } }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if (@@ w@@ in@@ do@@ w@@ Property@@ Nam@@ es.@@ contains(@@ pro@@ p@@ Name@@ )) { handl@@ e@@ W@@ in@@ do@@ w@@ Model@@ Chang@@ e(@@ source@@ , w@@ in@@ do@@ w@@ P@@ o@@ pu@@ p@@ .get(@@ pro@@ p@@ Name@@ ), false@@ , pro@@ p@@ Name@@ ); } else if (@@ confi@@ rm@@ W@@ in@@ do@@ w@@ Property@@ Nam@@ es.@@ contains(@@ pro@@ p@@ Name@@ )) { handl@@ e@@ W@@ in@@ do@@ w@@ Model@@ Chang@@ e(@@ source@@ , confi@@ rm@@ W@@ in@@ do@@ w@@ Popup@@ , true@@ , pro@@ p@@ Name@@ ); } }
protected <@@ T extends org.ovirt.engine.ui.uicommonweb.models.@@ Model@@ > void re@@ ve@@ al@@ And@@ As@@ s@@ ign@@ Popup@@ (@@ T model, org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Model@@ B@@ ound@@ Popup@@ P@@ res@@ enter@@ Widget@@ <@@ T@@ , ?@@ > p@@ opup@@ , boolean is@@ Confi@@ r@@ m@@ , java.lang.String w@@ in@@ do@@ w@@ Property@@ Name@@ ) { re@@ ve@@ al@@ Popup@@ (@@ model, p@@ opup@@ ); if (is@@ Confirm@@ ) { confi@@ rm@@ W@@ in@@ do@@ w@@ P@@ o@@ pu@@ p = p@@ opup@@ ; } else { w@@ in@@ do@@ w@@ P@@ o@@ pu@@ p@@ .@@ put(@@ w@@ in@@ do@@ w@@ Property@@ ("@@ p@@ o@@ pu@@ p@@ o@@ pu@@ p@@ o@@ pu@@ p@@ opup@@ "); } }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") void handl@@ e@@ W@@ in@@ do@@ w@@ Model@@ Chang@@ e(@@ M source@@ Model@@ , org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Model@@ B@@ ound@@ Popup@@ P@@ res@@ enter@@ Widget@@ <?@@ , ?@@ > current@@ Popup@@ , boolean is@@ Confirmation@@ , java.lang.String proper@@ ty@@ Name@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ Model w@@ in@@ do@@ w@@ Model = (is@@ Confirmation@@ ) ? p@@ opup@@ Res@@ ol@@ ver@@ .get@@ Confirm@@ W@@ in@@ do@@ w@@ Model@@ (s@@ ource@@ Model@@ , proper@@ ty@@ Name@@ ) : p@@ opup@@ Res@@ ol@@ ver@@ .get@@ W@@ in@@ do@@ w@@ Model@@ (s@@ ource@@ Model@@ , proper@@ ty@@ Name@@ ); if ((@@ w@@ in@@ do@@ w@@ Model != null@@ ) && (c@@ urrent@@ P@@ o@@ pu@@ p == null@@ )) { org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Model@@ B@@ ound@@ Popup@@ P@@ res@@ enter@@ Widget@@ <?@@ , ?@@ > new@@ P@@ o@@ pu@@ p = null@@ ; org.ovirt.engine.ui.uicommonweb.UICommand l@@ ast@@ Execut@@ ed@@ C@@ ommand = source@@ Model.get@@ L@@ ast@@ Execut@@ ed@@ Command@@ (); if (@@ w@@ in@@ do@@ w@@ Model instanceof org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) { new@@ P@@ o@@ pu@@ p = p@@ opup@@ Res@@ ol@@ ver@@ .get@@ Confirm@@ Model@@ Popup@@ (s@@ ource@@ Model@@ , l@@ ast@@ Execut@@ ed@@ Command@@ ); if (@@ new@@ P@@ o@@ pu@@ p == null@@ ) && (@@ default@@ Confirm@@ Popup@@ Provider@@ ) != null@@ )) { new@@ P@@ o@@ pu@@ p = default@@ Confirm@@ Popup@@ Provider@@ .get@@ (); } } else { new@@ P@@ o@@ pu@@ p = p@@ opup@@ Res@@ ol@@ ver@@ .get@@ Model@@ Popup@@ (s@@ ource@@ Model@@ , l@@ ast@@ Execut@@ ed@@ Command@@ , w@@ in@@ do@@ w@@ Model@@ ); } if (@@ new@@ P@@ o@@ pu@@ p != null@@ ) { re@@ ve@@ al@@ And@@ As@@ s@@ ign@@ Popup@@ (@@ w@@ in@@ do@@ w@@ Model@@ , ((@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Model@@ B@@ ound@@ Popup@@ P@@ res@@ enter@@ Widget@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Model@@ , ?@@ >) (@@ new@@ Popup@@ )@@ ), is@@ Confirm@@ ation@@ , proper@@ ty@@ Name@@ ); } else { if (is@@ Confirmation@@ ) { p@@ opup@@ Res@@ ol@@ v@@ er.@@ cl@@ e@@ ar@@ Confirm@@ W@@ in@@ do@@ w@@ Model@@ (s@@ ource@@ Model@@ , proper@@ ty@@ Name@@ ); } else { p@@ opup@@ Res@@ ol@@ v@@ er.@@ cl@@ e@@ ar@@ W@@ in@@ do@@ w@@ Model@@ , proper@@ ty@@ Name@@ ); } } else { p@@ opup@@ Res@@ ol@@ ver@@ .get@@ Confirm@@ Model@@ Popup@@ (s@@ ource@@ Model@@ , proper@@ ty@@ Name@@ ); } } else { w@@ in@@ do@@ w@@ Model w@@ Model == null@@ ) { h@@ id@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ e@@ And@@ Cl@@ e@@ ar@@ Popup@@ (c@@ urrent@@ P@@ res@@ enter@@ Widget@@ , proper@@ ty@@ Name@@ ); } }
protected void h@@ id@@ e@@ And@@ Cl@@ e@@ ar@@ Popup@@ (@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Model@@ B@@ ound@@ Popup@@ P@@ res@@ enter@@ Widget@@ <?@@ , ?@@ > p@@ opup@@ , boolean is@@ Confi@@ r@@ m@@ , java.lang.String w@@ in@@ do@@ w@@ Property@@ Name@@ ) { p@@ opup@@ .@@ h@@ id@@ e@@ And@@ Un@@ b@@ in@@ d@@ (); if (is@@ Confirm@@ ) { confi@@ rm@@ W@@ in@@ do@@ w@@ P@@ o@@ pu@@ p = null@@ ; } else { w@@ in@@ do@@ w@@ P@@ o@@ pu@@ p@@ .@@ put(@@ w@@ in@@ do@@ w@@ Property@@ Path@@ ); } }
void h@@ id@@ e@@ And@@ Cl@@ e@@ ar@@ All@@ Popup@@ s() { if ((@@ confi@@ rm@@ W@@ in@@ do@@ w@@ Popup@@ ) != null@@ ) { h@@ id@@ e@@ And@@ Cl@@ e@@ ar@@ Popup@@ (@@ confi@@ rm@@ W@@ in@@ do@@ w@@ Popup@@ , true@@ , null@@ ); } for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Model@@ B@@ ound@@ Popup@@ P@@ res@@ enter@@ Widget@@ <?@@ , ?@@ >> p@@ opup@@ Pa@@ i@@ r : w@@ in@@ do@@ w@@ Popup@@ .@@ e@@ n@@ try@@ Set@@ ()) { if (@@ p@@ opup@@ Pair@@ .get@@ Value(@@ p@@ opup@@ Pair@@ .get@@ Key@@ ()); } }
public void add@@ D@@ ial@@ og@@ Model@@ Listener@@ (@@ final M source@@ ) { h@@ id@@ e@@ And@@ Cl@@ e@@ ar@@ All@@ Popup@@ s(); s@@ ourc@@ e.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if (@@ w@@ in@@ do@@ w@@ Property@@ Nam@@ es.@@ contains(@@ pro@@ p@@ Name@@ )) { handl@@ e@@ W@@ in@@ do@@ w@@ Model@@ Chang@@ e(@@ source@@ , w@@ in@@ do@@ w@@ P@@ o@@ pu@@ p@@ Name@@ ); } else if (@@ confi@@ rm@@ W@@ in@@ do@@ w@@ Property@@ Nam@@ es.@@ contains(@@ pro@@ p@@ Name@@ )) { handl@@ e@@ W@@ in@@ do@@ w@@ Model@@ Chang@@ e(@@ source@@ , confi@@ rm@@ W@@ in@@ do@@ w@@ Popup@@ , true@@ , pro@@ p@@ Name@@ ); } }); }
@org.junit.Test public void test@@ Empty@@ S@@ ign@@ Key@@ Val@@ () { java.util.Map<java.lang.String, java.lang.String> ma@@ p = org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ SS@@ H@@ D@@ ial@@ og@@ .@@ class@@ ; java.util.Map<java.lang.String, java.lang.String> ma@@ p = org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ SS@@ H@@ D@@ ial@@ og@@ .@@ class@@ .get@@ String@@ (@@ org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ SS@@ H@@ _@@ SI@@ G@@ N@@ _@@ K@@ E@@ Y_@@ VAL@@ ); assert@@ E@@ quals(@@ 1, map@@ .@@ siz@@ e()); }
@org.junit.Test public void test@@ O@@ ne@@ Key@@ Val@@ () { java.util.Map<java.lang.String, java.lang.String> ma@@ p = org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ String@@ Hel@@ per@@ Test.@@ S@@ ER@@ V@@ IC@@ E@@ _M@@ S@@ ER@@ SI@@ ON@@ S@@ ER@@ V@@ IC@@ E@@ .@@ nam@@ e(); assert@@ E@@ quals(@@ 1, map@@ .@@ siz@@ e()); }
private java.util.Map<java.lang.String, java.lang.String> get@@ Address@@ Map@@ For@@ S@@ csi@@ Disk@@ (java.lang.String add@@ ress@@ , java.util.Map@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ , java.lang.Integer@@ > vm@@ Device@@ Unit@@ Map@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e vm@@ Device@@ , int cont@@ ro@@ ll@@ er@@ In@@ dex@@ , boolean res@@ er@@ ve@@ F@@ ir@@ st@@ Address@@ ) { java.util.Map<java.lang.String, java.lang.String> add@@ ress@@ Map@@ ; int ava@@ il@@ able@@ Un@@ i@@ t = vm@@ Info@@ Buil@@ d@@ Util@@ s.get@@ Available@@ Unit@@ For@@ S@@ csi@@ Disk@@ (vm@@ Device@@ Unit@@ Map@@ , res@@ er@@ ve@@ F@@ ir@@ st@@ Address@@ ); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (@@ add@@ ress@@ )) { add@@ ress@@ Map = org.ovirt.engine.core.bll.@@ utils.@@ String@@ Helper.@@ st@@ ring@@ 2@@ Map@@ (@@ add@@ ress@@ ); int un@@ i@@ t = java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (@@ add@@ ress@@ Map@@ .get(@@ Vds@@ Properties.@@ Unit@@ )); if (vm@@ Device@@ Unit@@ Map@@ .@@ contain@@ s@@ Value(@@ un@@ it@@ )) { add@@ ress@@ Map = vm@@ Info@@ Buil@@ d@@ Utils.@@ create@@ Address@@ For@@ S@@ csi@@ Disk@@ (@@ cont@@ ro@@ ll@@ er@@ In@@ dex@@ , ava@@ il@@ able@@ Unit@@ ); } else { add@@ ress@@ Map = vm@@ Info@@ Buil@@ d@@ Utils.@@ create@@ Address@@ For@@ S@@ csi@@ Disk@@ (@@ cont@@ ro@@ ll@@ er@@ In@@ dex@@ , ava@@ il@@ able@@ Unit@@ ); } update@@ VmDevice@@ Address@@ (@@ add@@ ress@@ Map@@ .toString@@ (), vm@@ Device@@ ); return add@@ ress@@ Map@@ ; }
void add@@ Address@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e vm@@ Device@@ , java.util.Map<java.lang.String, java.lang.Object> str@@ uct@@ ) { java.util.Map<java.lang.String, java.lang.String> add@@ ress@@ Map = new java.util.HashMap@@ <java.lang.String, java.lang.Object@@ >(); str@@ uc@@ t.@@ put(@@ Vds@@ Properties.@@ Address@@ , add@@ ress@@ Map@@ ); }
public static org.ovirt.engine.core.vdsbroker.vdsbroker.@@ I@@ Vds@@ Ser@@ ve@@ r create@@ Vds@@ Server@@ (java.lang.String host@@ name@@ , int port@@ , int client@@ Time@@ Out@@ , int connection@@ Time@@ Out@@ , int client@@ R@@ et@@ ri@@ es@@ , int h@@ e@@ art@@ b@@ eat@@ ) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ .@@ do@@ m@@ ain@@ .@@ t@@ ab@@ .@@ host.@@ Host@@ C@@ al@@ l cli@@ ent = org.ovirt.engine.core.vdsbroker.@@ H@@ ttp@@ Util@@ s.get@@ Connection@@ (@@ client@@ Time@@ Out@@ , client@@ R@@ et@@ ri@@ es@@ , org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Vds@@ Max@@ Connection@@ s@@ Per@@ Host@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Max@@ T@@ otal@@ Connection@@ s@@ )); java.lang.String event@@ Qu@@ e@@ u@@ e@@ u@@ e@@ u@@ e@@ u@@ e@@ = org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Event@@ Qu@@ e@@ ue@@ Name@@ ); return new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ J@@ son@@ R@@ pc@@ Vds@@ Server@@ (@@ org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ J@@ son@@ R@@ pc@@ Utils.@@ create@@ St@@ omp@@ t@@ (@@ host@@ name@@ , port@@ , connection@@ Time@@ Out@@ , client@@ R@@ et@@ ri@@ es@@ , h@@ e@@ art@@ b@@ e@@ a@@ t@@ , org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ En@@ c@@ r@@ yp@@ t@@ Host@@ C@@ omm@@ un@@ ication@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Vds@@ m@@ SS@@ L@@ Protocol@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Event@@ Pro@@ cess@@ ing@@ Pool@@ Size@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Vds@@ Request@@ Qu@@ e@@ ue@@ Name@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Vds@@ Respon@@ se@@ Qu@@ e@@ ue@@ Name@@ ), client@@ ); }
@org.junit.Test public void test@@ Empty@@ Key@@ Val@@ () { java.util.Map<java.lang.String, java.lang.String> ma@@ p = org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ String@@ Hel@@ per@@ Test.@@ EM@@ P@@ TY@@ _@@ K@@ E@@ Y_@@ VAL@@ ); assert@@ E@@ quals(@@ 2@@ , map@@ .@@ siz@@ e()); }
public static org.apache.commons.@@ http@@ client.@@ H@@ ttp@@ Cli@@ ent get@@ Connection@@ (@@ int client@@ Time@@ Out@@ , int connection@@ Time@@ Out@@ , int client@@ R@@ et@@ ri@@ es@@ , int ma@@ x@@ Connection@@ s@@ Per@@ Host@@ , int ma@@ x@@ T@@ otal@@ Connection@@ s) { org.apache.commons.@@ http@@ client.@@ param@@ s.@@ H@@ ttp@@ Connection@@ Manager@@ Param@@ s param@@ s = new org.apache.commons.@@ http@@ client.@@ param@@ s.@@ H@@ ttp@@ Connection@@ Manager@@ Param@@ s(); params.set@@ Connection@@ Time@@ out@@ (@@ connection@@ Time@@ Out@@ ); params.set@@ Default@@ Max@@ Connection@@ s@@ Per@@ Host@@ (@@ ma@@ x@@ Connection@@ s@@ Per@@ Host@@ ); params.set@@ Max@@ T@@ otal@@ Connection@@ s(@@ ma@@ x@@ T@@ otal@@ Connection@@ s); org.apache.commons.@@ http@@ client.@@ Multi@@ Th@@ read@@ ed@@ H@@ ttp@@ Connection@@ Manage@@ r http@@ Connection@@ Manage@@ r = new org.apache.commons.@@ http@@ client.@@ Multi@@ Th@@ read@@ ed@@ H@@ ttp@@ Connection@@ Manager@@ (); http@@ Connection@@ Manager.@@ set@@ Param@@ s(@@ param@@ s); org.apache.commons.@@ http@@ client.@@ H@@ ttp@@ Cli@@ ent cli@@ ent = new org.apache.commons.@@ http@@ client.@@ H@@ ttp@@ Client@@ (@@ http@@ Connection@@ Manager@@ ); int ret@@ ri@@ es = org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ vds@@ R@@ et@@ ri@@ es@@ ); org.apache.commons.@@ http@@ client.@@ H@@ ttp@@ Method@@ R@@ e@@ try@@ Handl@@ er handl@@ er = new org.apache.commons.@@ http@@ client.@@ Default@@ H@@ ttp@@ Method@@ R@@ e@@ try@@ Handler@@ (@@ ret@@ ri@@ es@@ , false@@ ); org.apache.commons.@@ http@@ client.@@ param@@ s.@@ H@@ ttp@@ Client@@ Param@@ s parameter@@ s = client.@@ get@@ Param@@ s(); parameters.set@@ Parameter@@ (@@ H@@ ttp@@ Method@@ Param@@ s.@@ RE@@ T@@ R@@ Y_@@ H@@ AN@@ D@@ L@@ ER@@ , handl@@ er@@ ); return client@@ ; }
private void add@@ Address@@ (@@ java.util.Map<java.lang.String, java.lang.Object> map@@ , java.lang.String add@@ ress@@ ) { if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (@@ add@@ ress@@ )) { map@@ .@@ put(@@ Vds@@ Properties.@@ Address@@ , org.ovirt.engine.core.utils.@@ R@@ an@@ do@@ m@@ Utils.@@ instanc@@ e().@@ ne@@ xt@@ String@@ (@@ 1@@ )); } }
private java.util.Map<java.lang.String, java.lang.Object> build@@ Data@@ () { java.util.Map<java.lang.String, java.lang.Object> dat@@ a = new java.util.HashMap@@ <@@ >(); java.util.Map<java.lang.String, java.lang.Object> mem@@ Device@@ Data = new java.util.HashMap@@ <@@ >(); org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e vm@@ Devic@@ e = org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.getParameters().get@@ Memory@@ Devic@@ e(); data@@ .@@ put@@ ("@@ vm@@ Id@@ ", org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.getParameters().get@@ Vm@@ Id().@@ toString@@ ()); mem@@ Device@@ Data@@ .@@ put(@@ Vds@@ Properties.@@ Type, vm@@ Devic@@ e.get@@ Typ@@ e().get@@ Valu@@ e()); mem@@ Device@@ Data@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ , vm@@ Devic@@ e.get@@ Devic@@ e()); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (vm@@ Devic@@ e.get@@ Address@@ ())) { mem@@ Device@@ Data@@ .@@ put(@@ Vds@@ Properties.@@ Address@@ , org.ovirt.engine.core.utils.@@ String@@ Helper.@@ st@@ ring@@ 2@@ Map@@ (vm@@ Devic@@ e.get@@ Address@@ ())); } mem@@ Device@@ Data@@ .@@ put(@@ Vds@@ Properties.@@ Sp@@ ec@@ Param@@ s, vm@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s()); mem@@ Device@@ Data@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ Id, vm@@ Devic@@ e.get@@ Id@@ ().get@@ Device@@ Id().@@ toString@@ ()); mem@@ Device@@ Data@@ .@@ put@@ ("@@ s@@ ize@@ ", vm@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s().get@@ ("@@ s@@ ize@@ ")); mem@@ Device@@ Data@@ .@@ put@@ ("@@ n@@ ode@@ ", vm@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s().get@@ ("@@ n@@ ode@@ ")); data@@ .@@ put@@ ("@@ mem@@ ory@@ ", mem@@ Device@@ Data@@ ); return data@@ ; }
@org.junit.Test public void test@@ M@@ ul@@ Key@@ Val@@ () { java.util.Map<java.lang.String, java.lang.String> ma@@ p = org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ String@@ Hel@@ per@@ Test.@@ M@@ U@@ L@@ _@@ K@@ E@@ Y_@@ VAL@@ ); assert@@ E@@ quals(@@ 4@@ , map@@ .@@ siz@@ e()); }
@org.junit.Test public void test@@ Null@@ Key@@ Val@@ () { java.util.Map<java.lang.String, java.lang.String> ma@@ p = org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ SS@@ H@@ D@@ D@@ D@@ D@@ elet@@ e@@ Prot@@ ected@@ (@@ null@@ ); java.util.Map<java.lang.String, java.lang.String> ma@@ p = org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ SS@@ H@@ D@@ elet@@ e@@ Prot@@ ection@@ (@@ map@@ ); assert@@ E@@ quals(@@ 0@@ , map@@ .@@ siz@@ e()); }
protected org.ovirt.engine.core.bll.ValidationResult validate@@ M@@ ount@@ Option@@ s() { java.lang.String m@@ ount@@ Option@@ s = org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Conn@@ ect@@ Storage@@ To@@ Vds@@ Command.get@@ Connection@@ ().get@@ M@@ ount@@ Option@@ s(); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ B@@ lan@@ k@@ (@@ m@@ ount@@ Option@@ s@@ )) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } java.util.List<java.lang.String> dis@@ al@@ low@@ ed@@ Option@@ s = ((org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Conn@@ ect@@ Storage@@ To@@ Vds@@ Command.get@@ Connection@@ ().get@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ StorageType.@@ P@@ O@@ SI@@ X@@ FS@@ )) ? org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Conn@@ ect@@ Storage@@ To@@ Vds@@ Command.@@ P@@ O@@ SI@@ X@@ _M@@ AN@@ AG@@ ED_@@ O@@ P@@ TI@@ ON@@ S : org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Conn@@ ect@@ Storage@@ To@@ Vds@@ Command.@@ N@@ FS@@ _M@@ AN@@ AG@@ ED_@@ O@@ P@@ TI@@ ON@@ S@@ ; java.util.Map<java.lang.String, java.lang.String> o@@ ption@@ s@@ Map = org.ovirt.engine.core.bll.@@ utils.@@ String@@ Helper.@@ st@@ ring@@ 2@@ Map@@ (@@ m@@ ount@@ Option@@ s); java.util.Set@@ <java.lang.String@@ > o@@ ption@@ s@@ Key@@ s = new java.util.Hash@@ Set@@ <@@ >(); for (java.lang.String op@@ tion : o@@ ption@@ s@@ Map@@ .@@ key@@ Set@@ ()) { o@@ ption@@ s@@ Key@@ s.add(@@ o@@ ption@@ .@@ to@@ L@@ ower@@ C@@ as@@ e()); } o@@ ption@@ s@@ Key@@ s.@@ ret@@ ain@@ All@@ (@@ dis@@ al@@ low@@ ed@@ Option@@ s); if (!(@@ o@@ ption@@ s@@ Key@@ s.@@ isEmpty())) { add@@ Validation@@ Message@@ Var@@ i@@ able(@@ "@@ in@@ valid@@ Option@@ s", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ o@@ ption@@ s@@ Key@@ s, ", ")); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ VALID@@ A@@ TION_@@ STORAGE_@@ CON@@ N@@ EC@@ TI@@ ON@@ _M@@ O@@ UN@@ T_@@ O@@ P@@ TI@@ ON@@ S_@@ CON@@ T@@ AIN@@ S@@ _M@@ AN@@ AG@@ ED_@@ P@@ RO@@ P@@ ER@@ TY@@ ); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public static java.util.Map<java.lang.String, java.lang.String> st@@ ring@@ 2@@ Map@@ (java.lang.String str@@ ) { java.util.Map<java.lang.String, java.lang.String> ma@@ p = new java.util.HashMap@@ <@@ >(); if (@@ st@@ r != null@@ ) { st@@ r = str@@ .@@ t@@ ri@@ m@@ (); if (@@ str@@ .@@ st@@ art@@ sWith@@ ("@@ {@@ "@@ )) { st@@ r = str@@ .@@ sub@@ st@@ ring@@ (@@ 1, ((@@ str@@ .@@ l@@ ength@@ ()) - 1@@ )); } if (@@ str@@ .@@ en@@ ds@@ With@@ ("@@ }@@ "@@ )) { st@@ r = str@@ .@@ sub@@ st@@ ring@@ (0@@ , ((@@ str@@ .@@ l@@ ength@@ ()) - 1@@ )); } st@@ r = str@@ .@@ t@@ ri@@ m@@ (); if ((@@ str@@ .@@ l@@ ength@@ ()) > 0) { java.lang.String@@ [@@ ] key@@ Val@@ Pair@@ s = str@@ .@@ s@@ pl@@ it@@ (org.ovirt.engine.core.common.@@ utils.@@ String@@ Helper.@@ P@@ AI@@ R@@ S_@@ SE@@ P@@ AR@@ AT@@ OR@@ ); for (java.lang.String p@@ a@@ i@@ r : key@@ Val@@ Pair@@ s) { java.lang.String@@ [@@ ] key@@ va@@ l = p@@ a@@ ir@@ .@@ s@@ pl@@ it@@ (org.ovirt.engine.core.common.@@ utils.@@ String@@ Helper.@@ K@@ E@@ Y_@@ VAL@@ U@@ E_@@ SE@@ P@@ AR@@ AT@@ OR@@ ); if ((@@ key@@ va@@ l.@@ l@@ ength@@ ) == 2@@ ) { map@@ .@@ put(@@ key@@ val@@ [@@ 0@@ ]@@ .@@ t@@ ri@@ m@@ (), key@@ val@@ [@@ 1@@ ]@@ .@@ t@@ ri@@ m@@ ()); } else if ((@@ key@@ va@@ l.@@ l@@ ength@@ ) == 1@@ ) { map@@ .@@ put(@@ key@@ val@@ [@@ 0@@ ]@@ .@@ t@@ ri@@ m@@ (), "@@ "); } } return map@@ ; }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t protected final void p@@ ost@@ Con@@ str@@ uct@@ () { if (!(@@ is@@ Comp@@ en@@ s@@ ation@@ Context@@ ())) { init@@ Command@@ Bas@@ e(); } }
private boolean search@@ For@@ D@@ up@@ l@@ ic@@ at@@ es@@ With@@ Existing@@ Vm@@ Devic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e vm@@ Device@@ To@@ H@@ ot@@ p@@ lug@@ ) { java.lang.String devi@@ ce@@ Add@@ res@@ s = vm@@ Device@@ To@@ H@@ ot@@ p@@ lu@@ g.@@ get@@ Address@@ (); if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ devi@@ ce@@ Address@@ )) { return false@@ ; } java.util.Map<java.lang.String, java.lang.String> add@@ ress@@ Map@@ To@@ H@@ ot@@ p@@ lu@@ g = org.ovirt.engine.core.bll.@@ utils.@@ String@@ Util@@ s.get@@ Guid@@ Map@@ (@@ devi@@ ce@@ Address@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > all@@ VmDevice@@ s = vm@@ Device@@ Dao@@ .get@@ VmDevice@@ By@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Command.getVm@@ ().get@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e vm@@ Devic@@ e : all@@ Vm@@ Devic@@ es) { if (!(@@ vm@@ Device@@ To@@ H@@ ot@@ p@@ lu@@ g.@@ get@@ Id().@@ equals(@@ vm@@ Devic@@ e.get@@ Id@@ ()))) { java.util.Map<java.lang.String, java.lang.String> devi@@ ce@@ Address@@ Map = org.ovirt.engine.core.bll.@@ utils.@@ String@@ Helper.@@ st@@ ring@@ 2@@ Map@@ (vm@@ Devic@@ e.get@@ Address@@ ()); if (@@ devi@@ ce@@ Address@@ Map@@ .equals(@@ add@@ ress@@ Map@@ To@@ H@@ ot@@ p@@ lug@@ )) { return true@@ ; } } return false@@ ; }
protected void init@@ T@@ oolti@@ p@@ () { t@@ oolti@@ p = new org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ Widget@@ T@@ oolti@@ p@@ (get@@ Cont@@ ent@@ s()); t@@ oolti@@ p@@ .set@@ P@@ l@@ ac@@ ement@@ (@@ P@@ l@@ ac@@ em@@ ent.@@ B@@ O@@ T@@ O@@ M@@ ); java.lang.String t@@ oolti@@ p@@ Cont@@ ent = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ p@@ an@@ el@@ s.@@ Network@@ Item@@ Panel@@ .@@ info@@ Popup@@ .get@@ T@@ oolti@@ p@@ Cont@@ ent@@ (@@ item@@ , this@@ ); t@@ oolti@@ p@@ Cont@@ ent = t@@ oolti@@ p@@ Cont@@ ent@@ ; }
@org.junit.Test public void test@@ Create@@ D@@ ec@@ or@@ ated@@ T@@ w@@ o@@ Request@@ sTo@@ Get@@ D@@ if@@ fer@@ ent@@ ly@@ D@@ ec@@ or@@ ated@@ S@@ ame@@ Pool@@ Use@@ S@@ ame@@ Lock@@ () { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ or@@ y fac@@ t@@ or@@ y = new org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ ory@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ Sp@@ y@@ ); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool d@@ ec@@ or@@ ated@@ Pool@@ A = fac@@ t@@ ory@@ .@@ create@@ D@@ ec@@ or@@ ated@@ Pool@@ (@@ pool@@ Id, mac@@ Pool@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ )); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool d@@ ec@@ or@@ ated@@ Pool@@ B = fac@@ t@@ ory@@ .@@ create@@ D@@ ec@@ or@@ ated@@ Pool@@ (@@ pool@@ Id, mac@@ Pool@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ B@@ )); assert@@ That@@ (@@ d@@ ec@@ or@@ ated@@ Pool@@ A@@ , is@@ (@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ )); assert@@ That@@ (@@ d@@ ec@@ or@@ ated@@ Pool@@ B@@ , is@@ (@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ B@@ )); org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ <@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rit@@ e@@ Lock@@ > c@@ ap@@ t@@ or@@ 1 = org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ .@@ for@@ Cl@@ as@@ s(@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rit@@ e@@ Lock@@ .@@ class@@ ); ve@@ r@@ if@@ y@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ .@@ create@@ Lock@@ ing@@ Instanc@@ e(@@ e@@ q@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ Pool@@ .@@ class@@ ), e@@ q@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ .@@ class@@ ), an@@ y@@ ()); }
@org.junit.Test public void test@@ Create@@ D@@ ec@@ or@@ ated@@ T@@ w@@ o@@ Request@@ sTo@@ Get@@ E@@ qu@@ all@@ y@@ D@@ ec@@ or@@ ated@@ S@@ ame@@ Pool@@ Use@@ S@@ ame@@ Lock@@ () { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ or@@ y fac@@ t@@ or@@ y = new org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ ory@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ Sp@@ y@@ ); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool d@@ ec@@ or@@ ated@@ Pool@@ 1 = fac@@ t@@ ory@@ .@@ create@@ D@@ ec@@ or@@ ated@@ Pool@@ (@@ pool@@ Id, mac@@ Pool@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ )); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool d@@ ec@@ or@@ ated@@ Pool@@ 2 = fac@@ t@@ ory@@ .@@ create@@ D@@ ec@@ or@@ ated@@ Pool@@ (@@ pool@@ Id, mac@@ Pool@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ )); assert@@ That@@ (@@ d@@ ec@@ or@@ ated@@ Pool@@ 1, is@@ (@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ )); assert@@ That@@ (@@ d@@ ec@@ or@@ ated@@ Pool@@ 2@@ , is@@ (@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ )); ve@@ r@@ if@@ y@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ Sp@@ y@@ , tim@@ es(@@ 2@@ )).@@ create@@ Lock@@ ing@@ Instanc@@ e(@@ e@@ q@@ (@@ mac@@ Pool@@ ), e@@ q@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ .@@ class@@ ), any@@ ()); }
public void p@@ er@@ for@@ m@@ P@@ end@@ ing@@ Operation@@ s() { java.util.@@ Qu@@ e@@ ue@@ <@@ java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ <?@@ >> o@@ peration@@ s = p@@ end@@ ing@@ Operation@@ s@@ ; p@@ end@@ ing@@ Operation@@ s = new java.util.@@ con@@ c@@ urr@@ ent.@@ Con@@ current@@ Link@@ ed@@ Qu@@ e@@ ue@@ <@@ >(); o@@ peration@@ s@@ .@@ for@@ E@@ ac@@ h@@ (@@ t@@ as@@ k instanceof java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ Task@@ ) { ((@@ java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ Task@@ <?@@ >) (@@ task@@ )).@@ run@@ (); } else { org.ovirt.vdsm.jsonrpc.client.@@ uti@@ l@@ s@@ .@@ Re@@ act@@ or@@ Schedul@@ er.@@ LO@@ G@@ .@@ error@@ ((@@ t@@ as@@ k typ@@ e in@@ der the qu@@ e@@ u@@ e '{}@@ ' }); }
public void re@@ fresh@@ Vds@@ Stat@@ s() { if (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ D@@ ebug@@ Tim@@ er@@ Log@@ gin@@ g@@ )) { org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Host@@ M@@ onitor@@ ing.@@ log.@@ d@@ ebug@@ ("@@ vds@@ :@@ :@@ :@@ re@@ fresh@@ Vds@@ Stat@@ s@@ \@@ n@@ {}@@ ", vds.get@@ Name(), vds.get@@ Id()); } f@@ et@@ ch@@ Host@@ Interfaces@@ (); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue stat@@ s@@ ReturnValue = res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Stat@@ s, new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ Id@@ And@@ Vds@@ VDSCommand@@ Parameters@@ Bas@@ e(@@ vds@@ )); if ((!@@ (@@ stat@@ s@@ ReturnValu@@ e.get@@ Succeeded@@ ())) && ((@@ stat@@ s@@ ReturnValu@@ e.get@@ Exception@@ Object@@ ()) != null@@ )) { org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Host@@ M@@ onitor@@ ing.@@ log.error@@ ("@@ vds@@ :@@ :@@ :@@ re@@ fresh@@ Vds@@ Event@@ Listener@@ "); get@@ Vds@@ Event@@ Listener@@ ().@@ update@@ Schedul@@ ing@@ Stat@@ s(@@ vds@@ ); update@@ V@@ 2@@ V@@ Job@@ s(); s@@ ave@@ Vds@@ Dynam@@ ic = vds@@ Manager.@@ check@@ If@@ Dynamic@@ Data@@ Chang@@ ed(@@ vds.get@@ Dynamic@@ Data@@ ()); s@@ ave@@ Vds@@ Statistic@@ s = vds@@ Manager.@@ check@@ If@@ Statistic@@ Chang@@ ed(@@ vds.get@@ Statistic@@ s@@ Data@@ ()); al@@ er@@ t@@ If@@ L@@ ow@@ Disk@@ Space@@ On@@ Host@@ (); check@@ Vds@@ Interfaces@@ (); if (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ D@@ ebug@@ Tim@@ er@@ Log@@ gin@@ g@@ )) { org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ log.@@ d@@ ebug@@ ("@@ vds@@ :@@ :@@ :@@ :@@ :@@ :@@ re@@ fresh@@ Vds@@ Stat@@ s@@ \@@ n@@ {}@@ ", this@@ ); } }
public void update@@ Statistic@@ s@@ Data@@ (org.ovirt.engine.core.common.businessentities.@@ Vds@@ Statistic@@ s stati@@ stic@@ s@@ Data@@ ) { vds@@ Statistic@@ s@@ Dao@@ .@@ updat@@ e(@@ stati@@ stic@@ s@@ Data@@ ); c@@ ach@@ ed@@ V@@ d@@ s.set@@ Statistic@@ s@@ Data@@ (@@ stati@@ stic@@ s@@ Data@@ ); c@@ ach@@ ed@@ Statistic@@ s@@ Data = stati@@ stic@@ s@@ Data@@ ; }
public void re@@ fresh@@ () { try { re@@ fresh@@ Vds@@ Run@@ Time@@ Info@@ (); } final@@ l@@ y { try { if (((@@ fi@@ r@@ st@@ Status@@ ) != (@@ vds.get@@ Status@@ ())) && ((@@ vds.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ ))) { vds@@ Manager.@@ cancel@@ Rec@@ o@@ ver@@ y@@ Job@@ (); org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Host@@ M@@ onitor@@ ing.@@ log.@@ d@@ ebug@@ ("@@ vd@@ s '{}@@ ' (@@ {}@@ ) fi@@ rin@@ g u@@ p event@@ . vds.get@@ Name(), vds.get@@ Id()); vds@@ Manager.@@ set@@ Is@@ Set@@ Non@@ Operation@@ al@@ Execut@@ ed@@ ((!@@ (get@@ Vds@@ Event@@ Listener@@ ().@@ vds@@ Up@@ Event@@ (@@ vds@@ )@@ ))); } s@@ ave@@ Vds@@ Dynam@@ ic = vds@@ Manager.@@ check@@ If@@ Dynamic@@ Data@@ Chang@@ ed(@@ vds.get@@ Dynamic@@ Data@@ ()); s@@ ave@@ Vds@@ Statistic@@ s = vds@@ Manager.@@ check@@ If@@ Statistic@@ Chang@@ ed(@@ vds.get@@ Statistic@@ s@@ Data@@ ()); s@@ ave@@ Data@@ To@@ Db@@ (); } catch (@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ I@@ R@@ S@@ Error@@ Exception ex@@ ) { log@@ Fail@@ ure@@ Message@@ ("@@ Resource@@ Manager@@ :@@ :@@ :@@ re@@ fresh@@ Vds@@ Run@@ Time@@ Info@@ :@@ ", ex@@ ); org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } catch (@@ java.lang.@@ Run@@ time@@ Exception ex@@ ) { log@@ Fail@@ ure@@ Message@@ ("@@ Resource@@ Manager@@ :@@ :@@ :@@ :@@ :@@ re@@ fresh@@ Vds@@ Run@@ Time@@ Info@@ :@@ ", ex@@ ); org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Host@@ M@@ onitor@@ ing.@@ log.error@@ ("@@ Exception@@ ", ex@@ ); } }
private void m@@ ove@@ VD@@ ST@@ o@@ M@@ a@@ int@@ en@@ ance@@ If@@ N@@ e@@ ed@@ ed@@ () { if ((@@ vds.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Pre@@ par@@ ing@@ For@@ M@@ a@@ int@@ en@@ ance@@ )) { if (@@ m@@ onitor@@ ing@@ St@@ r@@ ate@@ g@@ y@@ .@@ can@@ Move@@ To@@ M@@ a@@ int@@ en@@ anc@@ e(@@ vds@@ )) { org.ovirt.engine.core.common.businessentities.@@ Vds@@ Dynam@@ ic db@@ V@@ d@@ s = get@@ DbFacad@@ e().get@@ Vds@@ Dynamic@@ Dao().get@@ (@@ vds.get@@ Id()); vd@@ s.set@@ M@@ a@@ int@@ en@@ ance@@ Reason@@ (@@ db@@ Vds@@ .get@@ M@@ a@@ int@@ en@@ ance@@ Reason@@ ()); vds@@ Manager.@@ set@@ Status(@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ , vds@@ ); s@@ ave@@ Vds@@ Dynam@@ ic = vds@@ Manager.@@ check@@ If@@ Dynamic@@ Data@@ Chang@@ ed(@@ vds.get@@ Dynamic@@ Data@@ ()); s@@ ave@@ Vds@@ Statistic@@ s = vds@@ Manager.@@ check@@ If@@ Statistic@@ Chang@@ ed(@@ vds.get@@ Statistic@@ s@@ Data@@ (); org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Host@@ M@@ onitor@@ ing.@@ log.@@ info@@ ("@@ Hos@@ t hos@@ t stat@@ u@@ s f@@ ro@@ m for M@@ a@@ int@@ en@@ anc@@ e to '@@ M@@ a@@ int@@ en@@ ance@@ ' in data@@ b@@ ase@@ , hos@@ t '{}@@ '@@ (@@ {}@@ )@@ ", vds.get@@ Name(), vds.get@@ Id()); } else { vds@@ M@@ a@@ int@@ en@@ ance@@ Time@@ out@@ O@@ c@@ ur@@ re@@ d = vds@@ Manager.@@ is@@ Time@@ To@@ R@@ e@@ try@@ M@@ a@@ int@@ en@@ anc@@ e(); } } }
private void b@@ e@@ for@@ e@@ F@@ ir@@ st@@ Refresh@@ T@@ re@@ at@@ ment@@ (@@ boolean is@@ Vds@@ Up@@ Or@@ G@@ o@@ ing@@ To@@ M@@ a@@ int@@ en@@ ance@@ ) { if (@@ vds@@ Manager@@ .get@@ b@@ e@@ for@@ e@@ F@@ ir@@ st@@ Refresh@@ ()) { boolean f@@ l@@ ag@@ s@@ Chang@@ ed = false@@ ; final java.util.@@ con@@ c@@ urr@@ ent.@@ at@@ om@@ ic@@ .@@ A@@ t@@ om@@ ic@@ B@@ oolean pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ ed@@ ed@@ ed@@ ed@@ Tem@@ p = new java.util.@@ con@@ c@@ urr@@ ent.@@ at@@ om@@ ic@@ .@@ A@@ t@@ om@@ ic@@ Boolean@@ (); vds@@ Manager.@@ re@@ fresh@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ (@@ pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ Tem@@ p@@ , vds@@ ); f@@ l@@ ag@@ s@@ Chang@@ ed = pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ ed@@ ed@@ ed@@ ed@@ ed@@ Tem@@ p@@ .get@@ (); vds@@ Manager.@@ set@@ b@@ e@@ for@@ e@@ F@@ ir@@ st@@ Refresh@@ (@@ false@@ ); re@@ fresh@@ ed@@ C@@ ap@@ ab@@ il@@ iti@@ es = true@@ ; s@@ ave@@ Vds@@ Dynam@@ ic = vds@@ Manager.@@ check@@ If@@ Dynamic@@ Data@@ Chang@@ ed(@@ vds.get@@ Dynamic@@ Data@@ ()); pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ ed@@ ed = (@@ pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ) ? pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ s@@ N@@ e@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed : f@@ l@@ ag@@ s@@ Changed@@ ; } else if (is@@ Vds@@ Up@@ Or@@ G@@ o@@ ing@@ To@@ M@@ a@@ int@@ en@@ anc@@ e || ((@@ vds.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Error@@ ))) { return@@ ; } if ((@@ vds.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = org.ovirt.engine.core.dao.@@ i.@@ In@@ j@@ ect@@ or.@@ in@@ j@@ ect@@ Mem@@ b@@ ers@@ (@@ new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(@@ vds.get@@ Id@@ ())); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ Host@@ Status@@ ", vds.get@@ Status@@ ().@@ toString@@ ()); a@@ uditLog@@ (@@ log@@ able@@ , AuditLogType.@@ VDS@@ _@@ D@@ ET@@ EC@@ T@@ ED); } }
public void update@@ Dynamic@@ Data@@ (org.ovirt.engine.core.common.businessentities.@@ Vds@@ Dynam@@ ic d@@ ynam@@ ic@@ Data@@ ) { vds@@ Dynamic@@ Dao@@ .@@ updat@@ e(@@ d@@ ynam@@ ic@@ Data@@ ); c@@ ach@@ ed@@ V@@ d@@ s.set@@ Dynamic@@ Data@@ (@@ d@@ ynam@@ ic@@ Data@@ ); }
private void s@@ ave@@ Data@@ To@@ Db@@ () { if (s@@ ave@@ Vds@@ Dynamic@@ ) { vds@@ Manager.@@ update@@ Dynamic@@ Data@@ (@@ vds.get@@ Dynamic@@ Data@@ ()); } if (@@ re@@ fresh@@ ed@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ ) { vds@@ Manager.@@ update@@ Numa@@ Data@@ (@@ vds@@ ); } if (s@@ ave@@ Vds@@ Statistic@@ s) { org.ovirt.engine.core.common.businessentities.@@ Vds@@ Statistic@@ s st@@ a@@ t = vds.get@@ Statistic@@ s@@ Data@@ (); vds@@ Manager.@@ update@@ Statistic@@ s@@ Data@@ (@@ stat@@ ); check@@ Vds@@ Memory@@ Th@@ resh@@ old@@ (@@ stat@@ ); check@@ Vds@@ Cpu@@ Th@@ resh@@ old@@ (@@ stat@@ ); check@@ Vds@@ Cpu@@ Th@@ resh@@ old@@ (@@ stat@@ ); check@@ Vds@@ S@@ w@@ ap@@ Th@@ resh@@ old@@ (@@ stat@@ ); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Statistic@@ s> stati@@ stic@@ s = new java.util.@@ Link@@ ed@@ List<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetworkInterface if@@ ac@@ e : vds.get@@ Interfaces@@ ()) { stati@@ stic@@ s.@@ add@@ (@@ if@@ ac@@ e.get@@ Statistic@@ s()); } if (!(@@ stati@@ stic@@ s.@@ isEmpty())) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Re@@ qui@@ red@@ , () -@@ > DbFacad@@ e().get@@ Interface@@ Dao().@@ m@@ ass@@ Update@@ Statistic@@ s@@ For@@ Vds@@ (@@ stati@@ stic@@ s); return null@@ ; } s@@ ave@@ Numa@@ Statistic@@ s@@ Data@@ To@@ Db@@ (); } }
public org.ovirt.engine.core.common.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ Result check@@ For@@ Updat@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ VDS host@@ ) { if (@@ up@@ g@@ r@@ ad@@ e@@ Check@@ In@@ Progress@@ Map@@ .get@@ Or@@ Default@@ (@@ hos@@ t.get@@ Id(), false@@ )) { java.lang.String er@@ ro@@ r = java.lang.String@@ .@@ for@@ mat@@ ("@@ Fail@@ ed to re@@ f@@ res@@ h hos@@ t '@@ %@@ s@@ ' package@@ s ava@@ il@@ ab@@ ility@@ , an@@ oth@@ er re@@ f@@ res@@ h pro@@ c@@ es@@ s is al@@ read@@ y run@@ ning@@ . hos@@ t.get@@ Name()); org.ovirt.engine.core.bll.@@ host.@@ Available@@ Updat@@ es@@ F@@ in@@ der.@@ log.@@ w@@ ar@@ n@@ ((@@ "@@ Hos@@ t re@@ f@@ res@@ h pro@@ c@@ es@@ s to re@@ f@@ res@@ h hos@@ t '{}@@ ' package@@ s ava@@ il@@ ab@@ ility@@ , an@@ oth@@ er re@@ f@@ res@@ h pro@@ c@@ es@@ s is al@@ read@@ y run@@ ning@@ . hos@@ t.get@@ Name()); org.ovirt.engine.core.bll.@@ host.@@ Available@@ Updat@@ es@@ F@@ in@@ der.@@ log@@ (@@ error@@ ); throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ error@@ ); } try { up@@ g@@ r@@ ad@@ e@@ Check@@ In@@ Progress@@ Map@@ .@@ put(@@ hos@@ t.get@@ Id(), true@@ ); return c@@ re@@ ate(@@ hos@@ t.get@@ Vds@@ Typ@@ e()@@ ).@@ check@@ For@@ Updat@@ es(@@ host@@ ); } final@@ l@@ y { up@@ g@@ r@@ ad@@ e@@ Check@@ In@@ Progress@@ Map@@ .@@ remov@@ e(@@ hos@@ t.get@@ Id()); } }
@java.lang.Override public void do@@ Filter@@ (@@ javax.@@ ser@@ vlet@@ .@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Respon@@ se respon@@ se@@ , javax.@@ ser@@ vlet@@ .@@ Filter@@ Ch@@ ain ch@@ ain@@ ) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception { log.@@ d@@ ebug@@ ("@@ Lo@@ gin@@ Fil@@ t@@ er javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ "); javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Request@@ ) (@@ re@@ quest@@ )); try { java.lang.String engin@@ e@@ Session@@ Id = ((@@ java.lang.String@@ ) (@@ re@@ q@@ .get@@ Att@@ rib@@ ut@@ e(@@ Session@@ Constant@@ s.@@ H@@ T@@ P@@ _@@ SE@@ S@@ SI@@ ON_@@ EN@@ G@@ IN@@ E_@@ SE@@ S@@ SI@@ ON_@@ ID@@ _@@ K@@ E@@ Y@@ ))); if ((@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ engin@@ e@@ Session@@ Id@@ )) && ((@@ re@@ q@@ .get@@ Session@@ (@@ false@@ )) != null@@ )) { engin@@ e@@ Session@@ Id = ((@@ java.lang.String@@ ) (@@ re@@ q@@ .get@@ Session@@ (@@ false@@ ).get@@ Att@@ rib@@ ut@@ e(@@ Session@@ Constant@@ s.@@ H@@ T@@ T@@ P@@ _@@ SE@@ S@@ SI@@ ON_@@ EN@@ G@@ IN@@ E_@@ SE@@ S@@ SI@@ ON_@@ ID@@ _@@ K@@ E@@ Y@@ ))); } if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ engin@@ e@@ Session@@ Id@@ )) { javax.@@ nam@@ ing.@@ In@@ itial@@ Cont@@ ex@@ t c@@ t@@ x = new javax.@@ nam@@ ing.@@ In@@ itial@@ Context@@ (); try { java.lang.String s@@ o@@ To@@ ke@@ n = ((@@ java.lang.String@@ ) (@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Engine@@ Session@@ Id@@ To@@ k@@ en@@ , engin@@ e@@ Session@@ Id, c@@ t@@ x@@ ))); log.@@ d@@ ebug@@ ("@@ Tr@@ y user@@ In@@ Use@@ r to s@@ ess@@ ion re@@ q@@ ", re@@ q@@ .get@@ Session@@ (@@ true@@ )); log.@@ d@@ ebug@@ ("@@ Session@@ s ex@@ ist@@ rib@@ ut@@ e {}@@ ", e.get@@ Message@@ ()); log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); } catch (@@ java.lang.Exception e) { log.error@@ ("@@ Fail@@ ed to s@@ ession@@ Id {}@@ ", e); throw e@@ ; } }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Init@@ > getVm@@ Init@@ By@@ Id@@ s(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > id@@ s) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Init@@ > al@@ l = vm@@ Init@@ Dao@@ .get@@ Vm@@ Init@@ By@@ Id@@ s(@@ id@@ s); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ In@@ i@@ t vm@@ In@@ i@@ t : all@@ ) { vm@@ In@@ it.@@ set@@ Password@@ Al@@ read@@ y@@ Stor@@ ed@@ ((!@@ (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (vm@@ In@@ it.@@ get@@ R@@ oot@@ Password@@ ())@@ ))); vm@@ In@@ it.@@ set@@ R@@ oot@@ Password@@ (@@ null@@ ); } return all@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { if ((org.ovirt.engine.core.bll.@@ Get@@ Vms@@ Init@@ Query.get@@ Parameters().get@@ Id@@ s()) != null@@ ) { org.ovirt.engine.core.bll.@@ Get@@ Vms@@ Init@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ vm@@ Handler@@ .get@@ Vm@@ Init@@ By@@ Id@@ s(@@ org.ovirt.engine.core.bll.@@ Get@@ Vms@@ Init@@ Query.get@@ Parameters().get@@ Id@@ s@@ ())); } }
@java.lang.Override public boolean test@@ Valid@@ ate(@@ ) { return (disk@@ Storage@@ Type@@ ) == (disk@@ .get@@ Disk@@ Storage@@ Typ@@ e()); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > get@@ Cinder@@ Disks@@ To@@ Be@@ Remov@@ ed@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > image@@ Disk@@ s = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ c@@ in@@ der.@@ Remove@@ All@@ Vm@@ Cinder@@ Disks@@ Command.get@@ Parameters@@ ().@@ c@@ inder@@ Disks@@ ; java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > c@@ inder@@ Disk@@ s = new java.util.ArrayList<@@ >(); if (@@ image@@ Disk@@ s == null@@ ) { c@@ inder@@ Disk@@ s = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Cinder@@ Disk@@ s(@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Disk@@ Dao().get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ c@@ in@@ der.@@ Remove@@ All@@ Vm@@ Cinder@@ Disks@@ Command.getVm@@ Id@@ ())); } else { for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage disk@@ Image : image@@ Disk@@ s) { c@@ inder@@ Disk@@ s.@@ add@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ ) (disk@@ Image@@ ))); } } return c@@ inder@@ Disks@@ ; }
@java.lang.Override protected void init@@ () { super@@ .@@ init@@ (); org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.bll.@@ AddVm@@ From@@ Snapshot@@ Command.getVm@@ Dao().get@@ (get@@ Vm@@ Id@@ From@@ Snapshot@@ ()); org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Disks@@ From@@ Db@@ (vm@@ ); boolean is@@ Cinder@@ Disks@@ Ex@@ is@@ t = !@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Cinder@@ Disk@@ s(@@ vm@@ .get@@ Disk@@ List@@ ()).@@ isEmpty@@ ()); org.ovirt.engine.core.bll.@@ AddVm@@ From@@ Snapshot@@ Command.get@@ Parameters@@ ().set@@ Use@@ Cinder@@ Command@@ Callback@@ (is@@ Cinder@@ Disks@@ Exist@@ ); }
public boolean validate@@ Cinder@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > c@@ inder@@ Disk@@ s = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Cinder@@ Disk@@ s(@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Disk@@ Dao().get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ VmCommand.getVm@@ Id@@ ())); if (!@@ (c@@ inder@@ Disk@@ s.@@ isEmpty())) { org.ovirt.engine.core.bll.validator.@@ storage.@@ Cinder@@ Disks@@ Validator c@@ inder@@ Disks@@ Validator = get@@ Cinder@@ Disks@@ Validator@@ (c@@ inder@@ Disks@@ ); return validate(@@ c@@ inder@@ Disks@@ Validator.@@ validate@@ Cinder@@ Disk@@ L@@ im@@ it@@ s()); } return true@@ ; }
public boolean validate@@ Cinder@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > c@@ inder@@ Disk@@ s = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Cinder@@ Disk@@ s(@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Disk@@ Dao().get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ VmCommand.getVm@@ Id@@ ())); if (!@@ (c@@ inder@@ Disk@@ s.@@ isEmpty())) { org.ovirt.engine.core.bll.validator.@@ storage.@@ Cinder@@ Disks@@ Validator c@@ inder@@ Disks@@ Validator = get@@ Cinder@@ Disks@@ Validator@@ (c@@ inder@@ Disks@@ ); return validate(@@ c@@ inder@@ Disks@@ Validator.@@ validate@@ Cinder@@ Disk@@ Snapshots@@ L@@ im@@ it@@ s()); } return true@@ ; }
private void add@@ R@@ ed@@ un@@ d@@ an@@ t@@ Cinder@@ Snapshot@@ s(@@ org.ovirt.engine.core.compat.Guid pre@@ view@@ ed@@ Snapshot@@ Id, java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > im@@ ages@@ From@@ Active@@ Snapshot@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > c@@ inder@@ Images@@ For@@ Pre@@ view@@ ed@@ S@@ napsho@@ t = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Cinder@@ Disk@@ s(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.get@@ DiskImage@@ Dao().get@@ All@@ Snapshots@@ For@@ Vm@@ Snapshot@@ (@@ pre@@ view@@ ed@@ Snapshot@@ Id@@ )); java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > cri@@ tic@@ al@@ Snapshots@@ Ch@@ ain = get@@ C@@ ri@@ tic@@ al@@ Snapshots@@ Ch@@ ain@@ (@@ im@@ ages@@ From@@ Active@@ Snapshot@@ , c@@ inder@@ Images@@ For@@ Pre@@ view@@ ed@@ Snapshot@@ ); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage im@@ age : c@@ inder@@ Images@@ For@@ Pre@@ view@@ ed@@ Snapshot@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > red@@ un@@ d@@ an@@ t@@ Snapshot@@ Id@@ sTo@@ D@@ elet@@ e = org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ C@@ IN@@ D@@ ER@@ Storage@@ Hel@@ per@@ .get@@ R@@ ed@@ un@@ d@@ an@@ t@@ Volum@@ es@@ To@@ D@@ elet@@ e@@ A@@ f@@ ter@@ C@@ omm@@ it@@ Snapshot@@ (@@ im@@ age.get@@ Id(), cri@@ tic@@ al@@ Snapshots@@ Ch@@ ain@@ ); snapshot@@ sTo@@ Remov@@ e.@@ add@@ All@@ (@@ red@@ un@@ d@@ an@@ t@@ Snapshot@@ Id@@ sTo@@ D@@ elet@@ e.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ " s@@ nap@@ Id@@ To@@ D@@ elet@@ e) -@@ > is@@ Snapshot@@ El@@ ig@@ i@@ bl@@ e@@ To@@ Be@@ D@@ elet@@ ed@@ (get@@ Snapshot@@ Dao().get@@ (s@@ nap@@ Id@@ To@@ D@@ elet@@ e@@ )@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ())); } }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > get@@ Images@@ To@@ Pre@@ view@@ () { if ((@@ im@@ ages@@ To@@ Pre@@ view@@ ) == null@@ ) { im@@ ages@@ To@@ Pre@@ vi@@ e@@ w = ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.getParameters().get@@ Disks@@ ()) != null@@ ) ? org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.getParameters().get@@ Disks@@ () : org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.get@@ DbFacad@@ e().get@@ DiskImage@@ Dao().get@@ All@@ Snapshots@@ For@@ Vm@@ Snapshot@@ (get@@ D@@ st@@ Snapshot@@ ().get@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > Cinder@@ Images@@ To@@ Pre@@ vi@@ e@@ w = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Cinder@@ Disk@@ s(@@ im@@ ages@@ To@@ Pre@@ view@@ ); im@@ ages@@ To@@ Pre@@ vi@@ e@@ w = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disk@@ s(@@ im@@ ages@@ To@@ Pre@@ view@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ ON@@ L@@ Y_@@ NOT_@@ S@@ H@@ AR@@ E@@ AB@@ LE@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ ON@@ L@@ Y_@@ S@@ NA@@ P@@ S@@ NA@@ P@@ S@@ HO@@ T@@ ); im@@ ages@@ To@@ Pre@@ view@@ .@@ add@@ All@@ (@@ Cinder@@ Images@@ To@@ Pre@@ view@@ ); } return im@@ ages@@ To@@ Pre@@ view@@ ; }
@org.junit.Test public void test@@ Import@@ VM@@ From@@ Configuration@@ X@@ M@@ L@@ C@@ oul@@ d@@ Not@@ Get@@ Par@@ s@@ ed@@ () { org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data o@@ vf@@ Entity = get@@ Ovf@@ Entity@@ Data@@ (); o@@ vf@@ Entity@@ .set@@ Ovf@@ Data@@ ("@@ Th@@ is not a val@@ id X@@ M@@ L init@@ Command(@@ o@@ vf@@ Entity@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ > o@@ vf@@ Entity@@ Data@@ List = new java.util.ArrayList<@@ >(); o@@ vf@@ Entity@@ Data@@ Lis@@ t.add(@@ o@@ vf@@ Entity@@ ); when(@@ un@@ re@@ g@@ ist@@ er@@ ed@@ OV@@ F@@ Data@@ Dao@@ .get@@ By@@ Entity@@ Id@@ And@@ StorageDomain@@ (vm@@ Id, org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VM@@ From@@ Configuration@@ Command@@ Test.@@ storageDomain@@ Id@@ )).@@ thenReturn(@@ o@@ vf@@ Entity@@ Data@@ List@@ ); when(@@ validator.@@ validate@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Entity(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ I@@ VdcQuery@@ able@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ .@@ class@@ ), any@@ List@@ Of@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ .@@ class@@ ), any@@ (@@ java.util.Map@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ OV@@ F@@ _C@@ ON@@ FI@@ G@@ UR@@ A@@ TION_@@ NOT_@@ SUPPORT@@ ED@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ cmd@@ , EngineMessage.ACTION_TYPE_FAILED_@@ OV@@ F@@ _C@@ ON@@ FI@@ G@@ UR@@ A@@ TION_@@ NOT_@@ SUPPORT@@ ED); }
protected boolean set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ () { if ((org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.getParameters().get@@ Vm@@ ().get@@ Disk@@ Map@@ ()) != null@@ ) { java.util.Map@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ , org.ovirt.engine.core.compat.Guid@@ > ma@@ p = new java.util.HashMap@@ <@@ >(); java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ s = org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.getParameters().get@@ Vm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ (); if (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.getParameters().get@@ Allow@@ Par@@ ti@@ al@@ Import@@ ()) { disk@@ s = disk@@ s.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( disk@@ ) -@@ > get@@ Images@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (@@ ("@@ <@@ d@@ i@@ v@@ >@@ im@@ age.get@@ Id().@@ equals(@@ disk@@ .getId@@ ())@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); } for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk dis@@ k : disk@@ s) { if ((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ )); map@@ .@@ put@@ (disk@@ Image@@ , image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ .get@@ (disk@@ Image.get@@ Id@@ ())); } } return validate(@@ disk@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Disk@@ Profil@@ es(@@ map@@ , org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ C@@ urrent@@ User@@ ())); } return true@@ ; }
@org.junit.Test public void test@@ Import@@ VM@@ From@@ Configuration@@ W@@ h@@ en@@ StorageDomain@@ Is@@ In@@ acti@@ v@@ e() { init@@ Command@@ (get@@ Ovf@@ Entity@@ Data@@ ()); org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ Domain = create@@ StorageDomain@@ (); storageDomain@@ .set@@ Status(@@ StorageDomain@@ Status.@@ In@@ acti@@ ve@@ ); when(@@ validator.@@ validate@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Entity(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ I@@ VdcQuery@@ able@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ .@@ class@@ ), any@@ List@@ Of@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ .@@ class@@ ), any@@ (@@ java.util.Map@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_DOMAIN@@ _@@ ST@@ AT@@ U@@ S_@@ I@@ L@@ LE@@ G@@ AL@@ 2@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ cmd@@ , EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_DOMAIN@@ _@@ ST@@ AT@@ U@@ S_@@ I@@ L@@ LE@@ G@@ AL@@ 2@@ ); }
@java.lang.Override protected boolean validate(@@ ) { if (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.@@ is@@ Images@@ Al@@ read@@ y@@ On@@ T@@ arget@@ ()) { if (!(@@ validate@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ ())) { return false@@ ; } org.ovirt.engine.core.bll.validator.@@ Import@@ Validator import@@ Validator = org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Import@@ Validator@@ (); if (!(@@ validate@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Entity@@ (vm@@ From@@ Configuration@@ , o@@ vf@@ Entity@@ Data@@ , org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ Vm@@ From@@ Configuration@@ Command.get@@ Images@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Allow@@ Par@@ ti@@ al@@ Import@@ (), image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ )))) { return false@@ ; } set@@ Images@@ With@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getVm@@ ().get@@ Images@@ ()); } return super@@ .@@ valid@@ at@@ e(); }
@org.junit.Test public void test@@ Import@@ VM@@ From@@ Configuration@@ W@@ h@@ en@@ StorageDomain@@ Is@@ In@@ M@@ a@@ int@@ en@@ anc@@ e() { init@@ Command@@ (get@@ Ovf@@ Entity@@ Data@@ ()); org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ Domain = create@@ StorageDomain@@ (); storageDomain@@ .set@@ Status(@@ StorageDomain@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ ); do@@ Return(@@ storageDomain@@ ).when@@ (c@@ md@@ ).get@@ StorageDomain@@ (); when(@@ validator.@@ validate@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Entity(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ I@@ VdcQuery@@ able@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ .@@ class@@ ), any@@ List@@ Of@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ .@@ class@@ ), any@@ (@@ java.lang.Boolean@@ .@@ class@@ ), any@@ (@@ java.util.Map@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_DOMAIN@@ _@@ ST@@ AT@@ U@@ S_@@ I@@ L@@ LE@@ G@@ AL@@ 2@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ cmd@@ , EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_DOMAIN@@ _@@ ST@@ AT@@ U@@ S_@@ I@@ L@@ LE@@ G@@ AL@@ 2@@ ); }
@org.junit.Test public void test@@ P@@ os@@ iti@@ ve@@ Import@@ Vm@@ From@@ Configuration@@ () { init@@ Command@@ (get@@ Ovf@@ Entity@@ Data@@ ()); do@@ Return(@@ storagePool@@ ).when@@ (c@@ md@@ ).get@@ StoragePool@@ (); do@@ Return(@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ ).when@@ (c@@ md@@ ).@@ validate@@ A@@ f@@ ter@@ Cl@@ one@@ Vm@@ (@@ any@@ Map@@ Of@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ , org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ .@@ class@@ )); do@@ Return(@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ ).when@@ (c@@ md@@ ).@@ validate@@ B@@ e@@ for@@ e@@ Cl@@ one@@ Vm@@ (@@ any@@ Map@@ Of@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ , org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ .@@ class@@ )); final org.ovirt.engine.core.common.businessentities.VM exp@@ ected@@ V@@ m = cmd@@ .get@@ Vm@@ (); when(@@ ex@@ ternal@@ Vm@@ Mac@@ s@@ F@@ in@@ der.@@ fin@@ d@@ External@@ Mac@@ Address@@ es(@@ e@@ q@@ (@@ exp@@ ected@@ Vm@@ ), any@@ (org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Context@@ .@@ class@@ )@@ )).@@ thenReturn(@@ java.util.Collections.@@ em@@ pty@@ Set@@ ()); when(@@ validator.@@ validate@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Entity(@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ I@@ VdcQuery@@ able@@ .@@ class@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ .@@ class@@ ), any@@ List@@ Of@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ .@@ class@@ ), any@@ (@@ java.lang.Boolean@@ .@@ class@@ ), any@@ (@@ java.util.Map@@ .@@ class@@ )@@ )).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Success@@ (c@@ md@@ ); }
public void p@@ er@@ for@@ m@@ P@@ end@@ ing@@ Operation@@ s() { java.util.@@ Qu@@ e@@ ue@@ <@@ java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ <?@@ >> o@@ peration@@ s = p@@ end@@ ing@@ Operation@@ s@@ ; p@@ end@@ ing@@ Operation@@ s = new java.util.@@ con@@ c@@ urr@@ ent.@@ Con@@ current@@ Link@@ ed@@ Qu@@ e@@ ue@@ <@@ >(); while (!@@ o@@ peration@@ s.@@ is@@ Em@@ p@@ ty = is@@ Em@@ p@@ ty ? ((@@ java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ Task@@ ) (@@ o@@ peration@@ s.@@ p@@ oll@@ ())); }
@org.junit.Test public void test@@ Updat@@ e() { d@@ ao.@@ s@@ av@@ e(@@ v@@ nic@@ Profil@@ e); v@@ nic@@ Profil@@ e.set@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ (@@ true@@ ); v@@ nic@@ Profil@@ e.set@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ (@@ true@@ ); v@@ nic@@ Profil@@ e.set@@ Migr@@ at@@ able@@ (@@ true@@ ); d@@ ao.@@ updat@@ e(@@ v@@ nic@@ Profil@@ e); org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e result = d@@ ao@@ .get(@@ v@@ nic@@ Profil@@ e.get@@ Id()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ E@@ quals(@@ v@@ nic@@ Profil@@ e.get@@ Id(), result.get@@ Id()); assert@@ Tr@@ ue(@@ res@@ ult.@@ is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ()); assert@@ Tr@@ ue(@@ res@@ ult.@@ is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()); assert@@ Tr@@ ue(@@ res@@ ult.@@ is@@ Migr@@ at@@ abl@@ e()); }
@org.junit.Test public void test@@ S@@ av@@ e() { d@@ ao.@@ s@@ av@@ e(@@ v@@ nic@@ Profil@@ e); org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e result = d@@ ao@@ .get(@@ v@@ nic@@ Profil@@ e.get@@ Id()); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ E@@ quals(@@ v@@ nic@@ Profil@@ e.get@@ Id(), result.get@@ Id()); assert@@ Fal@@ se(@@ res@@ ult.@@ is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ()); assert@@ Fal@@ se(@@ res@@ ult.@@ is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()); assert@@ Tr@@ ue(@@ res@@ ult.@@ is@@ Migr@@ at@@ abl@@ e()); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (c@@ ustom@@ Properties@@ , name@@ , network@@ Id, port@@ M@@ i@@ rr@@ or@@ ing@@ , p@@ as@@ st@@ h@@ rou@@ g@@ h@@ , m@@ igr@@ at@@ able@@ , d@@ escription@@ ); }
@org.junit.Test public void test@@ Get@@ With@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e result = d@@ ao@@ .get(@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ VM_@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E_@@ P@@ A@@ S@@ ST@@ H@@ RO@@ U@@ G@@ H@@ _P@@ RO@@ FI@@ LE@@ ); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ E@@ quals(@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ VM_@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E_@@ P@@ A@@ S@@ ST@@ H@@ RO@@ U@@ G@@ H@@ _P@@ RO@@ FI@@ LE@@ , result.get@@ Id()); assert@@ Tr@@ ue(@@ res@@ ult.@@ is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()); assert@@ Tr@@ ue(@@ res@@ ult.@@ is@@ Migr@@ at@@ abl@@ e()); }
@java.lang.Override public java.lang.String toString@@ () { return org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ .@@ for@@ In@@ stance@@ (@@ this@@ ).@@ append("@@ id@@ ", get@@ Id@@ ()).@@ append("@@ network@@ Id@@ ", get@@ Network@@ Id@@ ()).@@ append("@@ network@@ Qos@@ Id@@ ", get@@ Network@@ Qos@@ Id@@ ()).@@ append("@@ port@@ M@@ i@@ rr@@ or@@ ing@@ ", is@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ ()).@@ append("@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ ", is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()).@@ append@@ (@@ " m@@ igr@@ at@@ able@@ ", is@@ Migr@@ at@@ abl@@ e()@@ ).@@ append@@ (@@ "@@ c@@ ustom@@ Properties@@ ", getCustom@@ Properties@@ ()).@@ append("@@ d@@ escription@@ ", get@@ Description@@ ()).@@ build@@ (); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e oth@@ er = ((@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((@@ (@@ obj@@ ) == (@@ oth@@ er.@@ port@@ M@@ i@@ rr@@ or@@ ing@@ ))) && ((@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ ) == (@@ oth@@ er.@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ ))) && (@@ m@@ igr@@ at@@ able@@ ) == (@@ oth@@ er.@@ m@@ igr@@ at@@ able@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ d@@ escription@@ , oth@@ er.@@ d@@ escription@@ )); }
@java.lang.Override public void setUp@@ () throw@@ s java.lang.Exception { super@@ .set@@ Up@@ (); d@@ a@@ o = db@@ Facad@@ e.get@@ Vnic@@ Profile@@ Dao@@ (); v@@ nic@@ Profil@@ e = new org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e(); v@@ nic@@ Profil@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); v@@ nic@@ Profil@@ e.set@@ Name(@@ "@@ new@@ _@@ profil@@ e@@ "); v@@ nic@@ Profil@@ e.set@@ Network@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ NETWORK_@@ EN@@ G@@ IN@@ E); v@@ nic@@ Profil@@ e.set@@ Network@@ Qos@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ NETWORK_@@ Q@@ O@@ S@@ ); v@@ nic@@ Profil@@ e.set@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ (@@ false@@ ); v@@ nic@@ Profil@@ e.set@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ (@@ false@@ ); v@@ nic@@ Profil@@ e.set@@ Migr@@ at@@ able@@ (@@ true@@ ); }
private org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface mock@@ Vnic@@ (@@ boolean p@@ as@@ st@@ h@@ rou@@ g@@ h@@ , boolean m@@ igr@@ at@@ able@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface v@@ n@@ ic = mock@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ .@@ class@@ ); org.ovirt.engine.core.compat.Guid v@@ nic@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); when(@@ v@@ nic@@ .getId@@ ()).@@ thenReturn(@@ v@@ nic@@ Id); when(@@ v@@ nic@@ .is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()).@@ thenReturn(@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ ); org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e profil@@ e = mock@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vnic@@ Profile@@ .@@ class@@ ); when(@@ v@@ nic@@ Profile@@ Dao@@ .get(@@ v@@ nic@@ Id@@ )).@@ thenReturn(@@ profil@@ e); when(@@ profil@@ e.@@ is@@ Migr@@ at@@ abl@@ e()@@ ).@@ thenReturn(@@ m@@ igr@@ at@@ able@@ ); return v@@ nic@@ ; }
@org.junit.Test public void all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ No@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s() { all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ C@@ ommon@@ (vm@@ .get@@ Id(), 2@@ ); assert@@ That@@ All@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ (@@ true@@ ); }
public org.ovirt.engine.core.bll.ValidationResult all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ () { for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > v@@ nic@@ s = get@@ DbFacad@@ e().get@@ VmNetwork@@ Interface@@ Dao().get@@ AllFor@@ Vm@@ (vm@@ .getId()); java.util.List<java.lang.String> n@@ on@@ Migr@@ at@@ able@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ Name@@ s = v@@ nic@@ s.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ is@@ Vnic@@ Migr@@ at@@ able(@@ vm@@ ).@@ ne@@ g@@ ate(@@ ) ).@@ map@@ (@@ Vm@@ Nic@@ :@@ :@@ :@@ get@@ Name@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); if (!@@ n@@ on@@ Migr@@ at@@ able@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ Name@@ s@@ .@@ isEmpty())) { java.util.Collection@@ <java.lang.String@@ > re@@ plac@@ ement@@ s = org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ re@@ pl@@ ace@@ With@@ (@@ "@@ int@@ er@@ fac@@ es@@ ", n@@ on@@ Migr@@ at@@ able@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ Name@@ s); re@@ plac@@ ement@@ s.add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Vm@@ Name %@@ s", vm.get@@ Name()@@ )); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ ACTION_TYPE_@@ FAIL@@ ED@@ _M@@ I@@ G@@ R@@ A@@ TION_@@ O@@ F@@ _@@ N@@ ON@@ _M@@ I@@ G@@ R@@ AT@@ AB@@ L@@ E_@@ P@@ A@@ S@@ ST@@ H@@ RO@@ U@@ G@@ H@@ _@@ V@@ N@@ IC@@ S_@@ IS@@ _NOT_@@ SUPPORT@@ ED@@ , re@@ plac@@ ement@@ s); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
private java.util.@@ f@@ un@@ c@@ tion@@ .@@ P@@ red@@ ic@@ ate@@ <@@ ? super org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface@@ > is@@ Vnic@@ Migr@@ at@@ able(@@ org.ovirt.engine.core.common.businessentities.VM vm@@ ) { return v@@ nic@@ ) -@@ > (!(@@ v@@ nic@@ .is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ())) || ((@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ s@@ ri@@ o@@ v@@ H@@ ot@@ Plug@@ Support@@ ed(@@ vm.get@@ Cluster@@ CompatibilityVersion@@ ())) && (get@@ Vnic@@ Profil@@ e(@@ v@@ nic@@ ).@@ is@@ Migr@@ at@@ abl@@ e())); }
@org.junit.Test public void not@@ All@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ () { vm@@ Not@@ H@@ av@@ ing@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ C@@ ommon@@ (vm@@ .get@@ Id(), 2@@ , 3@@ ); assert@@ That@@ (@@ valid@@ ator@@ .@@ all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ ed(@@ org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ ACTION_TYPE_@@ FAIL@@ ED@@ _M@@ I@@ G@@ R@@ A@@ TION_@@ O@@ F@@ _@@ N@@ ON@@ _M@@ I@@ G@@ R@@ AT@@ AB@@ L@@ E_@@ P@@ A@@ S@@ ST@@ H@@ RO@@ U@@ G@@ H@@ _@@ V@@ N@@ IC@@ S_@@ IS@@ _NOT_@@ SUPPORT@@ E@@ D@@ )); }
@org.junit.Test public void all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ M@@ ul@@ it@@ ple@@ Vms@@ Not@@ Val@@ id@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ List = init@@ Validator@@ With@@ Multiple@@ Vm@@ s(@@ 3@@ ); all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ C@@ omm@@ on@@ (vm@@ Lis@@ t.get@@ (0@@ ).get@@ Id(), 2@@ ); vm@@ Not@@ H@@ av@@ ing@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ C@@ ommon@@ (vm@@ Lis@@ t.get@@ (@@ 1@@ ).get@@ Id(), 0@@ , 1@@ ); all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ C@@ omm@@ on@@ Vm@@ (vm@@ Lis@@ t.get@@ (@@ 2@@ ).get@@ Id(), 4@@ ); assert@@ That@@ (@@ valid@@ ator@@ .@@ all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ ACTION_TYPE_@@ FAIL@@ ED@@ _M@@ I@@ G@@ R@@ A@@ TION_@@ O@@ F@@ _@@ N@@ ON@@ _M@@ I@@ G@@ R@@ AT@@ AB@@ L@@ E_@@ P@@ A@@ S@@ ST@@ H@@ RO@@ U@@ G@@ H@@ _@@ V@@ N@@ IC@@ S_@@ IS@@ _NOT_@@ SUPPORT@@ ED@@ )); }
@org.junit.Test public void all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ M@@ ul@@ it@@ ple@@ Vms@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ List = init@@ Validator@@ With@@ Multiple@@ Vm@@ s(@@ 2@@ ); all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ C@@ omm@@ on@@ (vm@@ Lis@@ t.get@@ (0@@ ).get@@ Id(), 2@@ ); all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ C@@ omm@@ on@@ (vm@@ Lis@@ t.get@@ (@@ 1@@ ).get@@ 8@@ ); assert@@ That@@ (@@ valid@@ ator@@ .@@ all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ ()); }
@org.junit.Test public void all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ abl@@ e() { vm@@ Not@@ H@@ av@@ ing@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ C@@ ommon@@ (vm@@ .get@@ Id(), 0@@ , 0@@ ); assert@@ That@@ All@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ (@@ true@@ ); }
@org.junit.Test public void all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ No@@ Vnic@@ s() { all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ C@@ omm@@ on@@ (vm@@ .get@@ Id(), 0@@ ); assert@@ That@@ (@@ all@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s@@ Migr@@ at@@ able@@ (@@ true@@ ); }
private void p@@ op@@ ul@@ ate@@ In@@ vent@@ ory@@ C@@ ach@@ e() throw@@ s org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Exception { long st@@ art@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ In@@ vent@@ or@@ y in@@ vent@@ or@@ y = lo@@ o@@ k@@ up@@ In@@ vent@@ ory@@ (); long end@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ in@@ vent@@ ory@@ C@@ ach@@ e.@@ put(@@ org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ in@@ e@@ vent@@ ory@@ C@@ ach@@ e.@@ put(@@ org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ IN@@ V@@ EN@@ T@@ OR@@ Y_@@ K@@ E@@ Y@@ , in@@ vent@@ ory@@ , 1@@ 5@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ In@@ is@@ o@@ y c@@ ach@@ e update@@ d in {}@@ ", m@@ s", (@@ end@@ Tim@@ e - st@@ art@@ Time@@ )); }
@java.lang.Override public void run@@ () { log.@@ d@@ ebug@@ ("@@ A@@ t@@ temp@@ t@@ ing to updat@@ e the In@@ stance@@ : {}@@ ", e.get@@ Message@@ (), e.get@@ Message@@ ()); log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); }
@@@ javax.@@ an@@ not@@ ation@@ .@@ Pre@@ par@@ ing@@ For@@ Sing@@ le@@ Entity@@ (@@ final javax.@@ an@@ not@@ ation@@ .@@ Pre@@ view@@ S@@ c@@ op@@ e.@@ Command@@ Call@@ back call@@ () { d@@ ash@@ b@@ o@@ ard@@ C@@ ach@@ e@@ Updat@@ e.c@@ ancel@@ (@@ true@@ ); in@@ vent@@ ory@@ C@@ ach@@ e@@ Updat@@ e.c@@ ancel@@ (@@ true@@ ); }
private void p@@ op@@ ul@@ ate@@ D@@ ash@@ b@@ o@@ ard@@ C@@ ach@@ e() throw@@ s org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Exception { long st@@ art@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ar@@ d d@@ ash@@ b@@ o@@ ar@@ d d@@ ash@@ b@@ o@@ ar@@ d = get@@ D@@ ash@@ b@@ o@@ ard@@ (); long end@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ d@@ ash@@ b@@ o@@ ard@@ C@@ ach@@ e.@@ put(@@ org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ U@@ TI@@ L@@ I@@ Z@@ A@@ TION_@@ K@@ E@@ Y@@ , d@@ ash@@ b@@ o@@ ard@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ ); org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ D@@ ash@@ b@@ o@@ ar@@ d c@@ ach@@ e update@@ d in {}@@ ", m@@ onitor@@ s@@ ); }
private org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ D@@ ash@@ b@@ o@@ ard@@ From@@ C@@ ach@@ e() throw@@ s org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Exception { org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ar@@ d d@@ ash@@ b@@ o@@ ard@@ ; org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ In@@ vent@@ or@@ y in@@ vent@@ ory@@ ; synchronized@@ (@@ org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ U@@ TI@@ L@@ I@@ Z@@ A@@ TION_@@ LO@@ C@@ K@@ ) { d@@ ash@@ b@@ o@@ ar@@ d = org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ d@@ ash@@ b@@ o@@ ard@@ C@@ ach@@ e.get@@ (@@ org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ U@@ TI@@ L@@ I@@ Z@@ A@@ TION_@@ K@@ E@@ Y@@ ); if (@@ d@@ ash@@ b@@ o@@ ar@@ d == null@@ ) { org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ D@@ ash@@ b@@ o@@ ar@@ d c@@ ach@@ e is em@@ pty@@ , query@@ ing d@@ ash@@ b@@ o@@ ar@@ d dat@@ a d@@ irect@@ ly@@ "); d@@ ash@@ b@@ o@@ ar@@ d = get@@ D@@ ash@@ b@@ o@@ ard@@ (); } in@@ vent@@ or@@ y = org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ in@@ vent@@ ory@@ C@@ ach@@ e.get@@ (@@ org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ IN@@ V@@ EN@@ T@@ OR@@ Y_@@ K@@ E@@ Y@@ ); if (@@ in@@ y == null@@ ) { org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ "); c@@ ach@@ e is em@@ pty@@ , query@@ ing in@@ y dat@@ a d@@ irect@@ ly@@ "); in@@ e@@ y = lo@@ o@@ k@@ up@@ In@@ d@@ ash@@ (); } d@@ ash@@ b@@ o@@ ard@@ Data@@ (); } d@@ ash@@ b@@ o@@ ard@@ In@@ itial@@ iz@@ e(); return d@@ ash@@ b@@ o@@ ard@@ ; }
@java.lang.Override public void run@@ () { log.@@ d@@ ebug@@ ("@@ A@@ t@@ temp@@ t@@ ing to updat@@ e the D@@ ash@@ b@@ o@@ ar@@ d c@@ ach@@ e@@ "); try { p@@ op@@ ul@@ ate@@ D@@ ash@@ o@@ ard@@ C@@ ach@@ e(); } catch (@@ org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Exception e) { log.error@@ ("@@ C@@ oul@@ d not updat@@ e the D@@ ash@@ b@@ o@@ ar@@ d C@@ ach@@ e@@ : {}@@ ", e.get@@ Message@@ (), e); } }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { update@@ S@@ y@@ sp@@ re@@ p@@ Visi@@ bility@@ (@@ object@@ ); a@@ uto@@ Set@@ Vm@@ Host@@ nam@@ e(@@ object@@ ); }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { update@@ C@@ lo@@ u@@ d@@ Init@@ Visi@@ bility@@ (@@ object@@ ); a@@ uto@@ Set@@ Vm@@ Host@@ nam@@ e(@@ object@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.compat.Guid task@@ Id = p@@ ers@@ ist@@ AsyncTask@@ P@@ l@@ ace@@ H@@ ol@@ der@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command.getParameters().get@@ Parent@@ Command@@ ()); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Volume@@ Cont@@ ain@@ er@@ Command.get@@ Parameters@@ ().is@@ Create@@ Image@@ () ? org.ovirt.engine.core.common.@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ()) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command.get@@ Parameters@@ ().set@@ Vds@@ m@@ Task@@ Id@@ s@@ (@@ new java.util.Array@@ List@@ ()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command.getParameters().get@@ Vds@@ m@@ Task@@ Id@@ s().@@ add@@ (c@@ reate@@ Task@@ (@@ task@@ Id, vds@@ ReturnValu@@ e.get@@ Cre@@ ation@@ Info@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command.getParameters().get@@ Parent@@ Command@@ (), Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ())); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command.get@@ Task@@ Id@@ List@@ ().add@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command.getParameters().get@@ Vds@@ m@@ Task@@ Id@@ s().get@@ (0@@ )); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Create@@ Volume@@ Cont@@ ain@@ er@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override public org.ovirt.engine.core.bll.@@ task@@ s@@ .@@ int@@ er@@ fac@@ es.@@ Command@@ Call@@ back get@@ Callback@@ () { return org.ovirt.engine.core.bll.@@ AddVm@@ From@@ Template@@ Command.get@@ Parameters@@ ().is@@ Use@@ Cinder@@ Command@@ Callback@@ (); }
@java.lang.Override public org.ovirt.engine.core.bll.@@ task@@ s@@ .@@ int@@ er@@ fac@@ es.@@ Command@@ Call@@ back get@@ Callback@@ () { if (org.ovirt.engine.core.bll.@@ Create@@ Cl@@ one@@ Of@@ Template@@ Command.@@ is@@ Data@@ Operation@@ sBy@@ H@@ S@@ M@@ ()) { return new org.ovirt.engine.core.bll.@@ Con@@ current@@ Ch@@ il@@ d@@ Command@@ s@@ Execution@@ Callback@@ (); } return null@@ ; }
private void update@@ Vm@@ Statistic@@ s() { stati@@ stic@@ s = getVm@@ Manager@@ ().get@@ Statistic@@ s(); if (@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Statistic@@ s().get@@ Migr@@ ation@@ Progress@@ Per@@ cent@@ (); }
@java.lang.Override public void on@@ N@@ ext@@ (@@ java.util.Map<java.lang.String, java.lang.Object> map@@ ) { try { map@@ .@@ e@@ n@@ try@@ Set@@ ().@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( vm@@ Info@@ ) -@@ > { org.ovirt.engine.core.compat.Guid vm@@ Id = new org.ovirt.engine.core.compat.Guid@@ (vm@@ Info@@ .get@@ Key@@ ()); java.util.Map@@ <?@@ , ?@@ > proper@@ ti@@ es = ((@@ java.util.Map@@ <?@@ , ?@@ >) (vm@@ Info@@ .get@@ Valu@@ e())); int pro@@ g@@ res@@ s = java.lang.Integ@@ er.@@ value@@ Of@@ (@@ proper@@ ties@@ .get@@ ("@@ pro@@ gress@@ ").@@ toString@@ ()); org.ovirt.engine.core.common.businessentities.Vm@@ Statistic@@ s vm@@ Statistic@@ s = res@@ ource@@ Manager@@ .get@@ Vm@@ Manager@@ (vm@@ Id@@ ).get@@ Statistic@@ s(); vm@@ Statistic@@ s.set@@ Migr@@ ation@@ Progress@@ Per@@ cent@@ (@@ pro@@ gress@@ ); }); } final@@ l@@ y { sub@@ s@@ cription@@ .@@ re@@ quest@@ (@@ 1@@ ); } }
private void update@@ Static@@ Fi@@ el@@ ds@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Stati@@ c vm@@ Static@@ ) { nam@@ e = vm@@ Static@@ .get@@ Nam@@ e(); or@@ ig@@ in = vm@@ Static@@ .get@@ O@@ ri@@ gin@@ (); a@@ uto@@ St@@ ar@@ t = vm@@ Static@@ .is@@ A@@ uto@@ Start@@ up@@ (); mem@@ Size@@ M@@ b = vm@@ Static@@ .get@@ Mem@@ Size@@ M@@ b@@ (); min@@ Al@@ loc@@ ated@@ M@@ e@@ m = vm@@ Static@@ .get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (); num@@ Of@@ Cpu@@ s = vm@@ Static@@ .get@@ NumOf@@ C@@ p@@ us@@ (); cluster@@ Id = vm@@ Static@@ .get@@ Cluster@@ Id@@ (); }
public org.ovirt.engine.core.compat.@@ Vers@@ ion get@@ CompatibilityVersion@@ () { return cluster@@ CompatibilityVersion@@ ; }
@java.lang.Override public void on@@ B@@ row@@ ser@@ Event@@ (c@@ om@@ .google.gwt.@@ c@@ el@@ l.@@ client.@@ C@@ el@@ l.@@ Cont@@ ex@@ t cont@@ ext@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , java.lang.@@ B@@ oolean value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ Ht@@ m@@ l , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , com.google.gwt.@@ c@@ el@@ l.@@ client.@@ Value@@ Updat@@ er@@ <@@ java.lang.Boolean@@ > value@@ Updat@@ er@@ ) { java.lang.String t@@ oolti@@ p@@ ; if (@@ t@@ oolti@@ p@@ Ht@@ m@@ l == null@@ ) { t@@ oolti@@ p@@ Panel@@ .@@ add@@ T@@ oolti@@ p@@ (@@ valu@@ e); } else { t@@ oolti@@ p = t@@ oolti@@ p@@ Ht@@ ml.@@ as@@ String@@ (); } org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ M@@ i@@ x@@ in@@ .@@ add@@ T@@ oolti@@ p@@ To@@ Element@@ (@@ t@@ oolti@@ p@@ , par@@ ent@@ ); super@@ .@@ on@@ B@@ row@@ ser@@ Event@@ (@@ cont@@ ext@@ , parent@@ , valu@@ e); }
@java.lang.Override public void on@@ B@@ row@@ ser@@ Event@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Cont@@ ex@@ t cont@@ ext@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , C value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ Cont@@ ent@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , com.google.gwt.@@ c@@ el@@ l.@@ client.@@ Value@@ Updat@@ er@@ <@@ C@@ > value@@ Updat@@ er@@ ) { if (@@ t@@ oolti@@ p@@ Cont@@ ent == null@@ ) { t@@ oolti@@ p@@ Cont@@ ent = get@@ T@@ oolti@@ p@@ (@@ valu@@ e); } if (@@ B@@ row@@ ser@@ Event@@ s.@@ M@@ O@@ U@@ SE@@ OV@@ ER@@ .equals(@@ event.@@ get@@ Typ@@ e())) { org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ M@@ i@@ x@@ in@@ .@@ add@@ T@@ oolti@@ p@@ To@@ El@@ em@@ ent@@ (@@ t@@ oolti@@ p@@ Cont@@ ent.@@ as@@ String@@ (), event.@@ get@@ Typ@@ e()); } }
public void on@@ B@@ row@@ ser@@ Event@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Cont@@ ex@@ t cont@@ ext@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , C value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ Ht@@ m@@ l , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , com.google.gwt.@@ c@@ el@@ l.@@ client.@@ Value@@ Updat@@ er@@ <@@ C@@ > value@@ Updat@@ er@@ ) { java.lang.String t@@ oolti@@ p@@ ; if (@@ t@@ oolti@@ p@@ Ht@@ m@@ l == null@@ ) { t@@ oolti@@ p@@ Panel@@ .@@ add@@ T@@ oolti@@ p@@ Panel@@ (@@ t@@ oolti@@ p@@ Ht@@ ml@@ , parent@@ ); } super@@ .@@ on@@ B@@ row@@ ser@@ Event@@ (@@ cont@@ ext@@ , parent@@ , valu@@ e); }
private void update@@ Key@@ Title(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model object@@ ) { java.lang.String selected@@ K@@ e@@ y = ((@@ java.lang.String@@ ) (@@ object.get@@ Key@@ s().get@@ SelectedItem@@ ())); if (s@@ elected@@ K@@ e@@ y != null@@ ) { org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ M@@ i@@ x@@ in@@ .@@ add@@ T@@ oolti@@ p@@ To@@ Element@@ (s@@ elected@@ Key@@ , key@@ Fi@@ eld@@ .get@@ Element@@ ()); } }
void attach@@ Al@@ er@@ t@@ (@@ org.ovirt.engine.ui.common.widget.@@ p@@ an@@ el@@ .@@ Al@@ er@@ t@@ Pan@@ e@@ l al@@ er@@ t@@ Panel@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ oot@@ Panel@@ .get@@ ().@@ add(@@ al@@ er@@ t@@ Panel@@ ); com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent message@@ D@@ i@@ v@@ El@@ em@@ ent = al@@ er@@ t@@ Panel@@ .get@@ Message@@ A@@ t@@ (0@@ ).get@@ Element@@ (); if (@@ org.ovirt.engine.ui.common.@@ utils.@@ Element@@ Utils.@@ d@@ et@@ ect@@ O@@ ver@@ f@@ low@@ Us@@ ing@@ S@@ c@@ ro@@ ll@@ W@@ id@@ th@@ (@@ message@@ D@@ i@@ v@@ Element@@ )) { com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ Cont@@ ent = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (@@ message@@ D@@ i@@ v@@ El@@ em@@ ent.@@ get@@ In@@ n@@ er@@ Text@@ ()); org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ M@@ i@@ x@@ in@@ .@@ add@@ T@@ oolti@@ p@@ To@@ Element@@ (@@ t@@ oolti@@ p@@ Cont@@ ent@@ , al@@ er@@ t@@ Panel@@ .get@@ Element@@ ()); }
protected void dis@@ able@@ Element@@ (c@@ om@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent el@@ ement@@ ) { el@@ em@@ ent.@@ get@@ Sty@@ l@@ e().set@@ Property@@ ("@@ dis@@ abl@@ ed@@ ", "@@ true@@ "); el@@ em@@ ent.@@ get@@ Sty@@ l@@ e().set@@ C@@ ol@@ or@@ ("@@ #@@ 9@@ 9@@ 9@@ 9@@ 9@@ 9@@ "); if ((get@@ Node@@ Dis@@ abl@@ ed@@ T@@ oolti@@ p@@ ()) != null@@ ) { org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ M@@ i@@ x@@ in@@ .@@ add@@ T@@ oolti@@ p@@ To@@ Element@@ (get@@ Node@@ Dis@@ abl@@ ed@@ T@@ oolti@@ p@@ (), el@@ ement@@ ); } }
@java.lang.Override public void set@@ Value(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e t@@ oolti@@ p@@ ) { org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ M@@ i@@ x@@ in@@ .@@ add@@ T@@ oolti@@ p@@ To@@ Element@@ (@@ t@@ oolti@@ p@@ , get@@ Element@@ ()); }
protected void update@@ In@@ put@@ Title(@@ java.util.ArrayList<@@ java.lang.String> g@@ r@@ ay@@ Out@@ Reason@@ s, com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent in@@ put@@ ) { java.lang.String@@ Buil@@ der ti@@ t@@ l@@ e = new java.lang.String@@ Builder@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ storage.@@ Abstract@@ S@@ an@@ Storage@@ List@@ .@@ const@@ an@@ t@@ s.@@ em@@ pty@@ ()); for (java.lang.String re@@ as@@ on : g@@ r@@ ay@@ Out@@ Reason@@ s) { ti@@ t@@ l@@ e.@@ append@@ (@@ re@@ ason@@ ).@@ append@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ storage.@@ Abstract@@ S@@ an@@ Storage@@ List@@ .@@ const@@ an@@ t@@ s.@@ sp@@ ac@@ e()); } org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ M@@ i@@ x@@ in@@ .@@ add@@ T@@ oolti@@ p@@ To@@ Element@@ (@@ ti@@ t@@ l@@ e.@@ toString@@ (), in@@ put@@ ); }
public void set@@ Cont@@ ent@@ Widget@@ Cont@@ ain@@ er@@ T@@ oolti@@ p@@ (java.lang.String t@@ oolti@@ p@@ Text@@ ) { cont@@ ent@@ Widget@@ Cont@@ ain@@ er@@ Configur@@ ed@@ T@@ oolti@@ p = t@@ oolti@@ p@@ Text@@ ; cont@@ ent@@ Widget@@ Cont@@ ain@@ er@@ .@@ set@@ Text@@ (@@ t@@ oolti@@ p@@ Text@@ ); }
public void set@@ Text@@ (java.lang.String t@@ ext@@ ) { this@@ .@@ set@@ Titl@@ e(@@ t@@ ext@@ ); }
public void on@@ B@@ row@@ ser@@ Event@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Cont@@ ex@@ t cont@@ ext@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , C value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ Cont@@ ent@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , com.google.gwt.@@ c@@ el@@ l.@@ client.@@ Value@@ Updat@@ er@@ <@@ C@@ > value@@ Updat@@ er@@ ) { java.lang.String t@@ oolti@@ p = "@@ "@@ "@@ ; if (@@ t@@ oolti@@ p@@ Cont@@ ent == null@@ ) { t@@ oolti@@ p@@ Cont@@ ent = get@@ T@@ oolti@@ p@@ (@@ valu@@ e); } if (@@ t@@ oolti@@ p@@ Cont@@ ent != null@@ ) { t@@ oolti@@ p = t@@ oolti@@ p@@ Cont@@ ent.@@ as@@ String@@ (); } org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ M@@ i@@ x@@ in@@ .@@ add@@ T@@ oolti@@ p@@ To@@ Element@@ (@@ t@@ oolti@@ p@@ , par@@ ent@@ ); super@@ .@@ on@@ B@@ row@@ ser@@ Event@@ (@@ cont@@ ext@@ , parent@@ , valu@@ e); }
public void on@@ B@@ row@@ ser@@ Event@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Cont@@ ex@@ t cont@@ ext@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , java.lang.String value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ oolti@@ p@@ Cont@@ ent@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , com.google.gwt.@@ c@@ el@@ l.@@ client.@@ Value@@ Updat@@ er@@ <java.lang.String@@ > value@@ Updat@@ er@@ ) { if ((@@ t@@ oolti@@ p@@ Cont@@ ent == null@@ ) || (@@ t@@ oolti@@ p@@ Cont@@ ent.@@ as@@ String@@ ().@@ isEmpty())) { java.lang.String r@@ ender@@ ed@@ T@@ oolti@@ p@@ T@@ oolti@@ p@@ (@@ cont@@ ext@@ , parent@@ , valu@@ e); t@@ oolti@@ p@@ Cont@@ ent = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (@@ r@@ ender@@ ed@@ T@@ oolti@@ p@@ ); } super@@ .@@ on@@ B@@ row@@ ser@@ Event@@ (@@ cont@@ ext@@ , parent@@ , value@@ , t@@ oolti@@ p@@ Cont@@ ent@@ , event@@ , value@@ Updat@@ er@@ ); }
public void validate(@@ java.util.List<java.lang.String> error@@ s) { int row@@ C@@ oun@@ t = org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Row@@ Count@@ (); assert (@@ error@@ s != null@@ ) && ((@@ errors.@@ size()) == row@@ Count@@ ) : m@@ us@@ t b@@ e the s@@ am@@ e siz@@ e a@@ s the cont@@ ent@@ s of the t@@ able@@ !@@ for (@@ int i = 0@@ ; i < row@@ Count@@ ; +@@ +@@ i@@ ) { com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent el@@ em@@ ent = org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Element@@ (@@ i@@ ); assert el@@ em@@ ent != null : sh@@ oul@@ d@@ n b@@ e null if error@@ s is the s@@ am@@ e a@@ s the cont@@ ent@@ s of the t@@ able@@ !@@ ") java.lang.String er@@ ro@@ r = error@@ s.get@@ (@@ i@@ ); boolean val@@ id = org.ovirt.engine.ui.uicompat.@@ ex@@ ternal@@ .@@ StringUtils.@@ isEmpty@@ (@@ error@@ ); if (!@@ valid@@ ) { org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ M@@ i@@ x@@ in@@ .@@ add@@ T@@ oolti@@ p@@ To@@ Element@@ (@@ error@@ , el@@ ement@@ ); el@@ em@@ ent.@@ add@@ Class@@ Name(@@ st@@ y@@ l@@ e.@@ in@@ valid@@ Row@@ ()); } else { el@@ em@@ ent.@@ remove@@ Class@@ Name(@@ st@@ y@@ l@@ e.@@ in@@ valid@@ Row@@ ()); } }
public static boolean h@@ ave@@ Host@@ s@@ Avail@@ able@@ for@@ H@@ E@@ (@@ final org.ovirt.engine.core.dao.@@ Vds@@ D@@ a@@ o vds@@ Dao@@ , final org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , final java.lang.@@ I@@ ter@@ able@@ <org.ovirt.engine.core.compat.Guid@@ > vds@@ es@@ In@@ B@@ atch@@ ) { java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > vds@@ Id@@ s = new java.util.Hash@@ Set@@ <@@ >(); vds@@ es@@ In@@ B@@ atch@@ .@@ for@@ E@@ ach@@ (@@ vds@@ Id@@ s@@ :@@ add@@ ); return vds@@ Dao@@ .get@@ AllFor@@ Cluster@@ With@@ Status(@@ vds.get@@ Cluster@@ Id(), VDS@@ Status.@@ Up@@ ).@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( v@@ ) -@@ > !@@ (@@ v@@ .get@@ Id().@@ equals(@@ vds.get@@ Id@@ ())@@ )).@@ filter@@ (@@ ( v@@ ) -@@ > !@@ (@@ vds@@ Id@@ s.@@ contains(@@ v@@ )@@ )).@@ filter@@ (@@ VDS@@ :@@ :@@ :@@ get@@ H@@ ig@@ h@@ ly@@ Available@@ Is@@ Configur@@ ed@@ ).@@ filter@@ (@@ VDS@@ :@@ get@@ H@@ ig@@ h@@ ly@@ Available@@ Is@@ Active@@ ).@@ filter@@ (@@ ( v@@ ) -@@ > !@@ (@@ v@@ .get@@ H@@ ig@@ h@@ ly@@ Available@@ Local@@ M@@ a@@ int@@ en@@ anc@@ e()@@ )).@@ filter@@ (@@ ( v@@ ) -@@ > (@@ v@@ .get@@ H@@ ig@@ h@@ ly@@ Available@@ S@@ cor@@ e()) > 0@@ ).@@ fin@@ d@@ An@@ y@@ ().is@@ P@@ resent@@ (); }
@@@ org.ovirt.engine.ui.webadmin.@@ Sourc@@ e(@@ "@@ im@@ ages@@ /@@ host@@ _@@ ha@@ _@@ config@@ ur@@ ed@@ .@@ p@@ ng@@ ") com.google.gwt.@@ resourc@@ es.@@ client.@@ Image@@ Resourc@@ e ha@@ Configur@@ ed@@ ();
java.lang.String ha@@ Configur@@ ed@@ T@@ oolti@@ p@@ ();
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c am@@ end@@ Volum@@ e(@@ java.lang.String job@@ Id, java.util.Map<java.lang.String, java.lang.Object> im@@ g@@ Info@@ , java.util.Map<java.lang.String, java.lang.Object> v@@ ol@@ A@@ t@@ tr@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ S@@ D@@ M@@ .@@ am@@ end@@ _@@ volume@@ ").@@ with@@ Parameter("@@ job@@ _id", job@@ Id@@ ).@@ with@@ Parameter("@@ im@@ g@@ _@@ info@@ ", im@@ g@@ Info@@ ).@@ with@@ Parameter("@@ v@@ ol@@ _@@ at@@ tr@@ ", v@@ ol@@ A@@ t@@ tr@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Disk@@ Format@@ .@@ class@@ , to = java.lang.String@@ .@@ class@@ ) public static org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ c@@ ow@@ C@@ map@@ (@@ org.ovirt.engine.api.model.@@ Q@@ c@@ ow@@ Vers@@ ion q@@ c@@ ow@@ Version@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ c@@ ow@@ C@@ C@@ C@@ C@@ C@@ C@@ ompati@@ b@@ il@@ it@@ y version@@ ) { switch (@@ q@@ c@@ ow@@ Version@@ ) { case Q@@ C@@ O@@ W@@ 2@@ _@@ V@@ 2 : return org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ c@@ ow@@ C@@ O@@ W@@ 2@@ _@@ V@@ 3 : return org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ c@@ ow@@ C@@ O@@ W@@ 2@@ _@@ V@@ 3@@ ; default : return org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ c@@ ow@@ C@@ ompat.@@ Un@@ de@@ fin@@ ed@@ ; } }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Q@@ c@@ ow@@ Version@@ .@@ class@@ , to = java.lang.String@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Q@@ c@@ ow@@ Vers@@ ion map@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Q@@ c@@ ow@@ C@@ ompati@@ bl@@ e@@ , q@@ c@@ ow@@ Vers@@ ion template@@ ) { switch (@@ q@@ c@@ ow@@ Comp@@ at@@ ) { case Q@@ C@@ O@@ W@@ 2@@ _@@ V@@ 2 : return org.ovirt.engine.api.model.@@ Q@@ c@@ ow@@ Version@@ .@@ Q@@ C@@ O@@ W@@ 2@@ _@@ V@@ 2@@ ; case Q@@ C@@ O@@ W@@ 2@@ _@@ V@@ 3 : return org.ovirt.engine.api.model.@@ Q@@ c@@ ow@@ Version@@ .@@ Q@@ C@@ O@@ W@@ 2@@ _@@ V@@ 3@@ ; default : return null@@ ; } }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c am@@ end@@ Volum@@ e(@@ java.lang.String job@@ Id, java.util.Map<java.lang.String, java.lang.Object> im@@ g@@ Info@@ , java.util.Map<java.lang.String, java.lang.Object> v@@ ol@@ A@@ t@@ tr@@ );
@java.lang.Override protected org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters build@@ D@@ elet@@ e@@ Memory@@ Image@@ Param@@ s(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > g@@ ui@@ ds@@ ) { return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Action@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ g@@ ui@@ ds@@ .get(@@ 1@@ ), g@@ ui@@ ds@@ .get@@ (0@@ ), g@@ ui@@ ds@@ .get(@@ 2@@ ), is@@ P@@ ost@@ Z@@ er@@ o@@ (), false@@ )); }
protected org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue m@@ er@@ g@@ e@@ Snapshot@@ s(@@ org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid storageDomain@@ Id) { org.ovirt.engine.core.common.vdscommands.@@ M@@ er@@ g@@ e@@ Snapshots@@ VDSCommand@@ Parameters param@@ s = new org.ovirt.engine.core.common.vdscommands.@@ M@@ er@@ g@@ e@@ Snapshots@@ VDSCommand@@ Parameters(@@ storagePool@@ Id, storageDomain@@ Id, org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.getVm@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ DiskImage@@ ().get@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ DiskImage@@ ().get@@ Image@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Dest@@ ination@@ DiskImage@@ ().get@@ Image@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ DiskImage@@ ().is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()); return run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ M@@ er@@ g@@ e@@ Snapshot@@ s, org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Action@@ A@@ f@@ ter@@ D@@ elet@@ e@@ Handler.@@ fi@@ x@@ Parameters@@ (@@ param@@ s@@ )); }
@java.lang.Override protected org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters build@@ D@@ elet@@ e@@ Memory@@ Image@@ Param@@ s(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > g@@ ui@@ ds@@ ) { return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ P@@ ost@@ D@@ elet@@ e@@ Action@@ Handl@@ er.@@ d@@ elet@@ e@@ Action@@ Handler@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters(@@ g@@ ui@@ ds@@ .get(@@ 1@@ ), g@@ ui@@ ds@@ .get@@ (0@@ ), g@@ ui@@ ds@@ .get(@@ 2@@ ), is@@ P@@ ost@@ Z@@ er@@ o@@ (), false@@ )); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.compat.Guid task@@ Id = p@@ ers@@ ist@@ AsyncTask@@ P@@ l@@ ace@@ H@@ ol@@ der@@ (VdcActionType.@@ Remove@@ VmTemplate@@ ); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ D@@ elet@@ e@@ Image@@ Group@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Action@@ A@@ f@@ ter@@ D@@ elet@@ e@@ Handler.@@ fi@@ x@@ Parameters@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ (), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(), false@@ ))); if (@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ()) { org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.get@@ ReturnValue().get@@ Internal@@ Vds@@ m@@ Task@@ Id@@ List@@ ().add@@ (c@@ reate@@ Task@@ (@@ task@@ Id, vds@@ ReturnValu@@ e.get@@ Cre@@ ation@@ Info@@ (), Vdc@@ ActionType.@@ Remove@@ VmTemplate@@ , Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ())); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Template@@ Snapshot@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); } }
private org.ovirt.engine.core.common.vdscommands.@@ VDS@@ Parameters@@ Base create@@ VDS@@ Parameters@@ () { return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Action@@ A@@ f@@ ter@@ D@@ elet@@ e@@ Handler.@@ fi@@ x@@ Parameters@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ Dest@@ ro@@ y@@ Image@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Dest@@ ro@@ y@@ Image@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Dest@@ ro@@ y@@ Image@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Dest@@ ro@@ y@@ Image@@ Command.getParameters().get@@ Image@@ Group@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Dest@@ ro@@ y@@ Image@@ Command.getParameters().get@@ Image@@ List@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Dest@@ ro@@ y@@ Image@@ Command.get@@ Parameters@@ ().is@@ P@@ ost@@ Z@@ er@@ o@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Dest@@ ro@@ y@@ Image@@ Command.get@@ Parameters@@ ().is@@ For@@ c@@ e())); }
@java.lang.Override protected org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters build@@ D@@ elet@@ e@@ Memory@@ Con@@ f@@ Param@@ s(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > g@@ ui@@ ds@@ ) { return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ P@@ ost@@ D@@ elet@@ e@@ Action@@ Handl@@ er.@@ d@@ elet@@ e@@ Action@@ Handler@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters(@@ g@@ ui@@ ds@@ .get(@@ 1@@ ), g@@ ui@@ ds@@ .get@@ (0@@ ), g@@ ui@@ ds@@ .get(@@ 4@@ ), is@@ P@@ ost@@ Z@@ er@@ o@@ (), false@@ )); }
protected static <@@ T extends org.ovirt.engine.core.common.vdscommands.@@ StorageDomain@@ Id@@ Parameters@@ Base & org.ovirt.engine.core.common.@@ command@@ s@@ .@@ do@@ m@@ ain@@ .@@ t@@ l@@ v@@ .@@ t@@ l@@ v@@ .@@ comp@@ any@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ gwt@@ i@@ o@@ .@@ do@@ m@@ ain@@ .@@ t@@ ab@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ gwt@@ i@@ o@@ .@@ do@@ m@@ ain@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ gwt@@ i@@ o@@ .@@ do@@ m@@ ain@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ gwt@@ i@@ o@@ .@@ do@@ m@@ ain@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ l@@ ab@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ do@@ m@@ ain@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ com@@ .@@ gwt@@ pl@@
@java.lang.Override protected org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters build@@ D@@ elet@@ e@@ Memory@@ Con@@ f@@ Param@@ s(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > g@@ ui@@ ds@@ ) { return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Action@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ g@@ ui@@ ds@@ .get(@@ 1@@ ), g@@ ui@@ ds@@ .get@@ (0@@ ), g@@ ui@@ ds@@ .get(@@ 4@@ ), is@@ P@@ ost@@ Z@@ er@@ o@@ (), false@@ )); }
@java.lang.Override protected org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue p@@ er@@ for@@ m@@ Image@@ Vds@@ m@@ Operation@@ () { if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Remove@@ Image@@ Command.get@@ Parameters@@ ().is@@ Sh@@ oul@@ d@@ Lock@@ Image@@ ()) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ update@@ All@@ DiskImage@@ Snapshots@@ Status@@ With@@ Comp@@ en@@ s@@ ation@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Remove@@ Image@@ Command.get@@ R@@ el@@ ev@@ an@@ t@@ DiskImage@@ ().get@@ Id(), Image@@ Status.@@ LO@@ C@@ K@@ ED@@ , Image@@ Status.@@ I@@ L@@ LE@@ G@@ AL@@ , org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Remove@@ Image@@ Command.get@@ Comp@@ en@@ s@@ ation@@ Context@@ ()); } return run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ D@@ elet@@ e@@ Image@@ Group@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Action@@ A@@ f@@ ter@@ D@@ elet@@ e@@ Handler.@@ fi@@ x@@ Parameters@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Remove@@ Image@@ Command.get@@ DiskImage@@ ().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Remove@@ Image@@ Command.get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Remove@@ Image@@ Command.get@@ DiskImage@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Remove@@ Image@@ Command.get@@ DiskImage@@ ().is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Remove@@ Image@@ Command.getParameters().get@@ For@@ ce@@ D@@ elet@@ e()@@ ))); }
public static <@@ T extends org.ovirt.engine.core.common.vdscommands.@@ StorageDomain@@ Id@@ Parameters@@ Base & org.ovirt.engine.core.common.@@ command@@ s@@ .@@ do@@ m@@ ain@@ .@@ t@@ l@@ ast@@ Domain@@ (@@ T parameters@@ ) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ Stati@@ c = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StorageDomain@@ Static@@ Dao().get@@ (@@ parameters@@ .get@@ StorageDomain@@ Id()); return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Action@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ parameters@@ , storageDomain@@ Static@@ .get@@ Storage@@ Typ@@ e().@@ is@@ File@@ Domain@@ ()); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { java.util.Collection@@ <@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ > im@@ ages@@ To@@ T@@ ex@@ t = get@@ S@@ afe@@ Ht@@ ml@@ String@@ Map@@ (vm@@ ); if (@@ im@@ ages@@ To@@ T@@ ex@@ t == null@@ ) { return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Image@@ Column@@ .@@ const@@ an@@ t@@ s.@@ im@@ ages@@ To@@ T@@ ex@@ t = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Image@@ Column@@ .@@ const@@ an@@ t@@ s.@@ im@@ ages@@ To@@ T@@ ex@@ t ? org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Image@@ Column@@ .@@ const@@ an@@ t@@ s.@@ im@@ ages@@ To@@ T@@ ex@@ t : im@@ ages@@ To@@ T@@ ex@@ t = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Image@@ Column@@ .@@ const@@ an@@ t@@ s.@@ im@@ ages@@ To@@ T@@ ex@@ t im@@ ages@@ To@@ T@@ ex@@ t = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Image@@ Column@@ .@@ const@@ an@@ t@@ s.@@ im@@ ages@@ To@@ T@@ ex@@ t im@@ ages@@ To@@ T@@ ex@@ t ? org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Image@@ Column@@ .@@ const@@ an@@ t@@ s.@@ im@@ ages@@ To@@ T@@ ex@@ t : im@@ ages@@ To@@ T@@ ex@@ t = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Image@@ Column@@
private java.util.Map@@ <@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ , java.lang.String> get@@ S@@ afe@@ Ht@@ ml@@ String@@ Map@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { java.util.Map@@ <@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ , java.lang.String> re@@ s = new java.util.@@ Link@@ ed@@ Hash@@ Map@@ <@@ >(); if ((@@ vm.get@@ VmPool@@ Id()) == null@@ ) { org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Confi@@ g confi@@ g = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Config.@@ f@@ rom@@ (vm@@ .get@@ Vm@@ Typ@@ e(), vm@@ .is@@ Stat@@ el@@ ess@@ (), vm@@ .is@@ N@@ ext@@ Run@@ Configuration@@ Exist@@ s()); r@@ es.@@ put@@ (get@@ Image@@ S@@ afe@@ Ht@@ ml@@ (@@ config.@@ get@@ Image@@ Resourc@@ e()@@ ), config.@@ get@@ T@@ oolti@@ p@@ ()); } else { com.google.gwt.@@ resourc@@ es.@@ client.@@ Image@@ Resourc@@ e im@@ g = org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Column@@ .get@@ Pool@@ Vm@@ Image@@ Resourc@@ e(@@ vm.get@@ Vm@@ Typ@@ e(), vm@@ .is@@ N@@ ext@@ Run@@ Configuration@@ Exist@@ s()); r@@ es.@@ put@@ (get@@ Image@@ S@@ afe@@ Ht@@ ml@@ (@@ im@@ g@@ ), get@@ Pool@@ Vm@@ T@@ oolti@@ p@@ (vm@@ .get@@ Vm@@ Typ@@ e())); } if (vm@@ .is@@ Host@@ ed@@ Engin@@ e()) { r@@ es.@@ put@@ (get@@ Image@@ S@@ afe@@ Ht@@ ml@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Column@@ .@@ resourc@@ es.@@ m@@ g@@ m@@ g@@ m@@ t@@ Network@@ ()), org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Column@@ .@@ const@@ an@@ t@@ s.@@ is@@ Vm@@ Host@@ ed@@ Engine@@ T@@ oolti@@ p@@ ()); } return res@@ ; }
@java.lang.Override public com@@ .google.@@ gwt@@ .@@ do@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ storage.@@ Import@@ Vm@@ Data get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Vm@@ Data object@@ ) { return new org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Column@@ ().get@@ Value(@@ object.get@@ Vm@@ ()); }
private com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Image@@ S@@ afe@@ Ht@@ ml@@ (c@@ om@@ .google.gwt.@@ resourc@@ es.@@ client.@@ Image@@ Resourc@@ e image@@ Resource@@ ) { return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Pro@@ to@@ typ@@ e.c@@ re@@ ate(@@ image@@ Resource@@ ).get@@ H@@ T@@ M@@ L@@ ()); }
@java.lang.Override public com@@ .google.@@ gwt@@ .@@ do@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ storage.@@ back@@ up@@ .@@ Import@@ Vm@@ From@@ Export@@ Domain@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ cl@@ e@@ ar@@ S@@ afe@@ Ht@@ m@@ (); get@@ Value(@@ java.lang.Object object@@ ) { return new org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Vm@@ Type@@ Column@@ ().get@@ Value@@ (((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Vm@@ Data@@ ) (@@ object@@ )@@ ).get@@ Vm@@ ()); }
java.lang.String is@@ Vm@@ Host@@ ed@@ Engine@@ T@@ oolti@@ p@@ ();
@java.lang.Override public com@@ .google.@@ gwt@@ .@@ s@@ afe@@ ht@@ m@@ l get@@ Value(@@ org.ovirt.engine.core.common.businessentities.VM vm@@ ) { java.util.List<@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ > im@@ ages@@ Ht@@ m@@ l = new java.util.ArrayList<@@ >(); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.String> e@@ n@@ try : im@@ ages@@ List@@ ) { e@@ n@@ try@@ .get@@ Valu@@ e().@@ e@@ n@@ try@@ Set@@ ()) { e@@ n@@ try@@ .get@@ Valu@@ e().@@ add(@@ e@@ n@@ try@@ .get@@ Key@@ ()); } return null@@ ; }
public static java.util.Map<java.lang.String, java.lang.Object> auth@@ enti@@ c@@ ate(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ q@@ , java.lang.String s@@ c@@ op@@ e) { org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t re@@ quest@@ ; try { re@@ quest@@ ; try { re@@ quest@@ ; org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ create@@ P@@ os@@ t@@ ("@@ /@@ to@@ k@@ en@@ "); org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ set@@ Client@@ Id@@ Sec@@ ret@@ Bas@@ ic@@ Auth@@ H@@ ead@@ er@@ (@@ re@@ quest@@ ); java.lang.String@@ [@@ ] c@@ red@@ enti@@ al@@ s = org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s.get@@ User@@ C@@ red@@ enti@@ al@@ s@@ From@@ H@@ ead@@ er@@ (@@ re@@ q@@ ); java.util.List<@@ org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ > for@@ m = new java.util.ArrayList<@@ >@@ (@@ 4@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pa@@ i@@ r@@ an@@ t@@ _@@ type@@ ", "@@ p@@ assword@@ ")); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pa@@ i@@ r@@ int@@ ("@@ user@@ name@@ ", c@@ red@@ enti@@ al@@ s@@ [@@ 0@@ ]@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Pa@@ i@@ r@@ ("@@ p@@ assword@@ ", c@@ red@@ enti@@ al@@ s@@ [@@ 1@@ ]@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Exception@@ ("@@ s@@ c@@ op@@ e@@ ", s@@ c@@ op@@ e@@ )); re@@ ques@@ t.@@ set@@ Entity@@ (@@ new org.apach@@ e.@@ http@@ .client.@@ U@@ r@@ l@@ En@@ c@@ od@@ ed@@ For@@ m@@ Entity@@ (@@ for@@ m@@ )); return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s.get@@ Respon@@ se(@@ re@@ quest@@ ); } catch (@@ java.lang.Exception ex@@ ) { return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ O@@ O@@ O@@ O@@ O@@ Service@@ Utils.@@ build@@ Map@@ With@@ Error@@ ("@@ server@@ _@@ error@@ ", ex@@ .get@@ Message@@ ()); }
private static void set@@ H@@ ead@@ er@@ ("@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t create@@ P@@ os@@ t create@@ P@@ os@@ t re@@ quest@@ , java.lang.String p@@ at@@ h@@ ead@@ er@@ ) throw@@ s java.lang.Exception { org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Confi@@ g confi@@ g = org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instanc@@ e(); java.lang.String b@@ ase = confi@@ g@@ .get@@ Property@@ ("@@ EN@@ G@@ IN@@ E_@@ SS@@ O@@ _@@ S@@ ER@@ V@@ IC@@ E_@@ UR@@ L@@ "); org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t re@@ quest = new org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ ost@@ (@@ re@@ quest@@ ); re@@ quest@@ s.add(@@ java.@@ net@@ .@@ UR@@ I@@ .@@ UR@@ I@@ ((@@ b@@ ase + p@@ ath@@ )); re@@ quest@@ (@@ this@@ ); re@@ quest@@ H@@ ead@@ er@@ ("@@ Ac@@ ce@@ p@@ t@@ ", "@@ ap@@ plication@@ /@@ json@@ "); re@@ quest@@ .@@ set@@ H@@ ead@@ er@@ ("@@ Cont@@ ent@@ -@@ Type@@ ", "@@ ap@@ plication@@ /@@ x@@ -@@ w@@ w@@ -@@ for@@ m@@ -@@ ur@@ l@@ enc@@ od@@ ed@@ "); re@@ quest@@ .set@@ H@@ ead@@ er@@ ("@@ Cont@@ ent@@ -@@ L@@ ang@@ u@@ age@@ ", "@@ en@@ -@@ US@@ "); return re@@ quest@@ ; }
private static java.util.Map<java.lang.String, java.lang.Object> search@@ (java.lang.String to@@ k@@ en@@ , java.util.Map<java.lang.String, java.lang.Object> param@@ s, java.lang.String query@@ Type, java.lang.String s@@ c@@ op@@ e) { try { org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t re@@ quest@@ = org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ create@@ P@@ ost@@ ("@@ /@@ o@@ auth@@ /@@ to@@ k@@ en@@ -@@ info@@ "); org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ set@@ Client@@ Id@@ Sec@@ ret@@ Bas@@ ic@@ Auth@@ H@@ ead@@ er@@ (@@ re@@ quest@@ ); java.util.List<@@ org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ > for@@ m = new java.util.ArrayList<@@ >@@ (@@ 4@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ query@@ _@@ type@@ ", query@@ Type@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ s@@ c@@ op@@ e@@ ", s@@ c@@ op@@ e@@ )); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ to@@ k@@ en@@ )) { for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ to@@ k@@ en@@ ", to@@ k@@ en@@ )); } if (@@ param@@ s != null@@ ) { for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ param@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s@@ .@@ enc@@ ode@@ (@@ new org.ovirt.engine.core.utils.@@ ser@@ ial@@ iz@@ ation@@ .@@ json@@ .@@ J@@ son@@ Object@@ Ser@@ ial@@ iz@@ er@@ ().@@ ser@@ ial@@ iz@@ e(@@ param@@ s@@ )@@ ))); } re@@ ques@@ t.@@ set@@ Entity@@ (@@ new org.apach@@ e.@@ http@@ .client.@@ entity@@ .@@ U@@ r@@ l@@ En@@ c@@ od@@ ed@@ For@@ m@@ Entity@@ (@@ for@@ m@@ )); return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s.get@@ Respon@@ se(@@ re@@ quest@@ ); } catch (@@ java.lang.Exception e) { return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ build@@ Map@@ With@@ Error@@ ("@@ server@@ _@@ error@@ ", ex@@ .get@@ Message@@ ()); } }
public static java.util.Map<java.lang.String, java.lang.Object> get@@ To@@ k@@ en@@ Info@@ (java.lang.String to@@ k@@ en@@ , java.lang.String s@@ c@@ op@@ e) { try { org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t re@@ quest@@ ; org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ create@@ P@@ ost@@ ("@@ /@@ o@@ auth@@ /@@ to@@ k@@ en@@ -@@ info@@ "); org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ set@@ Client@@ Id@@ Sec@@ ret@@ Bas@@ ic@@ Auth@@ H@@ ead@@ er@@ (@@ re@@ quest@@ ); java.util.List<@@ org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ > for@@ m = new java.util.ArrayList<@@ >@@ (@@ 2@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ to@@ k@@ en@@ ", to@@ k@@ en@@ )); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (s@@ c@@ op@@ e@@ )) { for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ s@@ c@@ op@@ e@@ ", s@@ c@@ op@@ e@@ )); } re@@ ques@@ t.@@ set@@ Entity@@ (@@ new org.apach@@ e.@@ http@@ .client.@@ entity@@ .@@ U@@ r@@ l@@ En@@ c@@ od@@ ed@@ For@@ m@@ Entity@@ (@@ for@@ m@@ )); java.util.Map<java.lang.String, java.lang.Object> json@@ Data = org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s.get@@ Respon@@ se(@@ re@@ quest@@ ); java.util.Map<java.lang.String, java.lang.Object> ovir@@ t@@ Data = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ json@@ Data@@ .get@@ ("@@ ovir@@ t@@ "@@ ))); if (@@ ovir@@ t@@ Data != null@@ ) { java.util.Collection@@ <@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ > group@@ Id@@ s = ((@@ java.util.Collection@@ <@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ >) (@@ ovir@@ t@@ Data@@ .get@@ ("@@ group@@ _id@@ s@@ "@@ ))); if (@@ group@@ Id@@ s != null@@ ) { ovir@@ t@@ Data@@ .@@ put@@ ("@@ group@@ _id@@ s", org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Service@@ Util@@ s@@ .@@ pro@@ cess@@ Group@@ Mem@@ b@@ ers@@ From@@ J@@ son@@ (@@ group@@ Id@@ s@@ )); } } return json@@ Data@@ ; }
public static java.util.Map<java.lang.String, java.lang.Object> get@@ To@@ k@@ en@@ (java.lang.String g@@ r@@ an@@ t@@ Type, java.lang.String c@@ ode@@ , java.lang.String s@@ c@@ op@@ e@@ , java.lang.String red@@ irect@@ U@@ ri@@ ) { try { org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t re@@ quest@@ (@@ org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ create@@ P@@ ost@@ ("@@ /@@ o@@ auth@@ /@@ to@@ k@@ en@@ "); org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ set@@ Client@@ Id@@ Sec@@ ret@@ Bas@@ ic@@ Auth@@ H@@ ead@@ er@@ (@@ re@@ quest@@ ); java.util.List<@@ org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ > for@@ m = new java.util.ArrayList<@@ >@@ (@@ 4@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ g@@ r@@ an@@ t@@ _@@ type@@ ", g@@ r@@ an@@ t@@ Type@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ c@@ ode@@ ", c@@ ode@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ red@@ irect@@ _@@ ur@@ i@@ ", red@@ irect@@ U@@ ri@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ s@@ c@@ op@@ e@@ ", s@@ c@@ op@@ e@@ )); re@@ ques@@ t.@@ set@@ Entity@@ (@@ new org.apach@@ e.@@ http@@ .client.@@ entity@@ .@@ U@@ r@@ l@@ En@@ c@@ od@@ ed@@ For@@ m@@ Entity@@ (@@ for@@ m@@ )); return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s.get@@ Respon@@ se(@@ re@@ quest@@ ); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s.get@@ S@@ s@@ (), ex@@ .get@@ Message@@ ()); }
private static java.util.Map<java.lang.String, java.lang.Object> lo@@ gin@@ With@@ Password@@ Impl@@ (java.lang.String user@@ name@@ , java.lang.String p@@ assword@@ , java.lang.String s@@ c@@ op@@ e@@ , org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map auth@@ Rec@@ or@@ d@@ ) { try { org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t re@@ quest@@ ; org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ create@@ P@@ ost@@ ("@@ /@@ o@@ auth@@ /@@ to@@ k@@ en@@ "); org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ set@@ Client@@ Id@@ Sec@@ ret@@ Bas@@ ic@@ Auth@@ H@@ ead@@ er@@ (@@ re@@ quest@@ ); java.util.List<@@ org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ > for@@ m = new java.util.ArrayList<@@ >@@ (@@ 5@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ g@@ r@@ an@@ t@@ _@@ type@@ ", "@@ p@@ assword@@ ")); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ user@@ name@@ ", user@@ name@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ p@@ assword@@ ", p@@ assword@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ s@@ c@@ op@@ e@@ ", s@@ c@@ op@@ e@@ )); if (@@ auth@@ Rec@@ or@@ d != null@@ ) { for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Pair@@ ("@@ ovir@@ t@@ _@@ auth@@ _@@ r@@ ec@@ or@@ d@@ ", new org.apach@@ e.@@ http@@ .@@ utils.@@ ser@@ ial@@ iz@@ ation@@ .@@ json@@ .@@ J@@ son@@ Object@@ Ser@@ ial@@ iz@@ er@@ ().@@ ser@@ ial@@ iz@@ e(@@ auth@@ Rec@@ or@@ d@@ ))); } re@@ ques@@ t.@@ set@@ Entity@@ (@@ new org.apach@@ e.@@ http@@ .client.@@ U@@ r@@ l@@ En@@ c@@ od@@ ed@@ For@@ m@@ Entity@@ (@@ for@@ m@@ )); return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s.get@@ Respon@@ se(@@ re@@ quest@@ ); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ O@@ O@@ O@@ O@@ O@@ O@@ Auth@@ Service@@ Util@@ s.get@@ Service@@ Util@@ s(@@ ex@@ .get@@ Message@@ ()); }
private static org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t create@@ P@@ ost@@ (java.lang.String ur@@ l@@ ) throw@@ s java.lang.Exception { org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t re@@ quest = new org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ ost@@ (); re@@ ques@@ t.@@ set@@ UR@@ I@@ (@@ new java.@@ net@@ .@@ UR@@ I@@ (@@ ur@@ l@@ )); re@@ ques@@ t.@@ set@@ H@@ ead@@ er@@ ("@@ Ac@@ ce@@ p@@ t@@ ", "@@ ap@@ plication@@ /@@ json@@ "); re@@ ques@@ t.@@ set@@ H@@ ead@@ er@@ ("@@ Cont@@ ent@@ -@@ Type@@ ", "@@ ap@@ plication@@ /@@ x@@ -@@ w@@ w@@ w@@ -@@ for@@ m@@ -@@ ur@@ l@@ enc@@ od@@ ed@@ "); return re@@ quest@@ ; }
public static java.util.Map<java.lang.String, java.lang.Object> is@@ S@@ s@@ o@@ De@@ pl@@ o@@ y@@ ed@@ () { try { re@@ quest@@ ; try { re@@ quest@@ ; } catch (@@ java.io.@@ File@@ Not@@ F@@ ound@@ Exception ex@@ ) { return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ build@@ Map@@ With@@ Error@@ ("@@ server@@ _@@ error@@ ", Engin@@ e is initial@@ iz@@ ing@@ . } catch (@@ java.lang.Exception ex@@ ) { return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ build@@ Map@@ With@@ Error@@ ("@@ server@@ _@@ error@@ ", ex@@ .get@@ Message@@ ()); } }
private static void not@@ if@@ y@@ Client@@ Of@@ Log@@ out@@ Event@@ (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Cont@@ ex@@ t s@@ o@@ Context@@ , java.lang.String client@@ Id, java.lang.String to@@ k@@ en@@ ) throw@@ s java.lang.Exception { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Client@@ In@@ f@@ o client@@ In@@ f@@ o = s@@ s@@ o@@ Cont@@ ex@@ t.get@@ Cli@@ en@@ Info@@ (@@ client@@ Id); java.lang.String ur@@ l = client@@ Info@@ .get@@ Client@@ No@@ t@@ if@@ ication@@ Callback@@ (); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ ur@@ l@@ )) { org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t re@@ quest@@ (); org.ovirt.engine.core.@@ s@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ create@@ P@@ ost@@ (@@ ur@@ l@@ ); java.util.List<@@ org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ > for@@ m@@ m@@ m@@ ; try { new java.util.ArrayList<@@ >@@ (@@ 3@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ event@@ ", "@@ lo@@ go@@ ut@@ ")); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ to@@ k@@ en@@ ", to@@ k@@ en@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Pair@@ ("@@ to@@ k@@ en@@ _@@ type@@ ", "@@ b@@ e@@ ar@@ er@@ ")); re@@ ques@@ t.@@ set@@ Entity@@ (@@ new org.apach@@ e.@@ http@@ .client.@@ entity@@ .@@ U@@ r@@ l@@ En@@ c@@ od@@ ed@@ For@@ m@@ Entity@@ (@@ for@@ m@@ )); org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ execut@@ e(@@ re@@ quest@@ , client@@ ); } }
private static java.util.Map@@ <@@ java.lang.String@@ , java.lang.String@@ >> get@@ Respon@@ se(@@ org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ U@@ ri@@ Re@@ quest re@@ quest@@ ) throw@@ s java.lang.Exception { try (@@ org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ C@@ lo@@ se@@ able@@ H@@ ttp@@ Respon@@ se respon@@ se = org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ execut@@ e(@@ re@@ quest@@ )) { if ((@@ respon@@ s@@ e.get@@ Status@@ Lin@@ e().get@@ Status@@ Cod@@ e()) == (@@ org.apach@@ e.@@ http@@ .@@ H@@ ttp@@ Status.@@ S@@ C@@ _NOT_@@ F@@ O@@ UN@@ D@@ )) { throw new java.io.@@ File@@ Not@@ F@@ ound@@ Exception@@ (); } try (@@ java.io.@@ By@@ t@@ e@@ Array@@ Out@@ put@@ St@@ rea@@ m o@@ s = new java.io.@@ By@@ t@@ e@@ Array@@ Out@@ put@@ St@@ re@@ am@@ ()) { try (@@ java.io.@@ In@@ put@@ St@@ rea@@ m in@@ pu@@ t = respon@@ s@@ e.get@@ Entity@@ ().get@@ Cont@@ ent@@ ()) { org.ovirt.engine.core.@@ aaa.@@ filter@@ s.@@ Fil@@ t@@ ers@@ Helper.@@ c@@ opy@@ (@@ in@@ put@@ , os@@ ); } java.lang.@@ Class@@ Lo@@ ad@@ er load@@ er = java.lang.@@ Th@@ read@@ .@@ current@@ Th@@ read@@ ().get@@ Context@@ Class@@ Lo@@ ad@@ er@@ (); java.lang.@@ Th@@ read@@ .@@ current@@ Th@@ read@@ ().set@@ Context@@ Class@@ Lo@@ ad@@ er@@ (@@ org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s@@ .@@ class@@ .get@@ Class@@ Lo@@ ad@@ er@@ ()); try { return new org.ovirt.engine.core.utils.@@ ser@@ ial@@ iz@@ ation@@ .@@ json@@ .@@ J@@ son@@ Object@@ D@@ es@@ er@@ ial@@ iz@@ er@@ ial@@ iz@@ er@@ ().@@ d@@ es@@ er@@ ial@@ ize@@ (@@ new java.lang.String@@ (@@ o@@ s.@@ to@@ By@@ t@@ e@@ Array@@ (), java.@@ n@@ i@@ o@@ .@@ char@@ set@@ .@@ St@@ and@@ ard@@ Ch@@ ar@@ set@@ s.@@ U@@ T@@ F@@ _@@ 8@@ .@@ nam@@ e()@@ ), java.util.HashMap@@ .@@ class@@ ); } final@@ l@@ y { java.lang.@@ Th@@ read@@ .@@ current@@ Th@@ read@@ ().set@@ Context@@ Class@@ Lo@@ ad@@ er@@ (@@ load@@ er@@ ); } } }
public static java.util.Map<java.lang.String, java.lang.Object> re@@ vo@@ k@@ e(@@ java.lang.String to@@ k@@ en@@ , java.lang.String s@@ c@@ op@@ e) { try { org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t re@@ quest@@ ; org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ create@@ P@@ ost@@ ("@@ /@@ o@@ auth@@ /@@ re@@ vo@@ ke@@ "); org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ set@@ Client@@ Id@@ Sec@@ ret@@ Bas@@ ic@@ Auth@@ H@@ ead@@ er@@ (@@ re@@ quest@@ ); java.util.List<@@ org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ > for@@ m = new java.util.ArrayList<@@ >@@ (@@ 2@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ to@@ k@@ en@@ ", to@@ k@@ en@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ s@@ c@@ op@@ e@@ ", s@@ c@@ op@@ e@@ )); re@@ ques@@ t.@@ set@@ Entity@@ (@@ new org.apach@@ e.@@ http@@ .client.@@ entity@@ .@@ U@@ r@@ l@@ En@@ c@@ od@@ ed@@ For@@ m@@ Entity@@ (@@ for@@ m@@ )); return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s.get@@ Respon@@ se(@@ re@@ quest@@ ); } catch (@@ java.lang.Exception ex@@ ) { return org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Util@@ s.get@@ S@@ s@@ (@@ ex@@ ); } }
@java.lang.Override public void r@@ er@@ un@@ () { org.ovirt.engine.core.bll.@@ RunVm@@ Command@@ Bas@@ e.@@ cl@@ e@@ an@@ up@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s(); set@@ F@@ low@@ (@@ null@@ ); super@@ .@@ r@@ er@@ un@@ (); }
protected void cl@@ e@@ an@@ up@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s() { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.String> v@@ nic@@ To@@ V@@ f@@ Map = get@@ Vnic@@ To@@ V@@ f@@ Map@@ (); if (@@ v@@ nic@@ To@@ V@@ f@@ Map != null@@ ) { network@@ Device@@ Helper.@@ set@@ Vm@@ Id@@ On@@ V@@ f@@ s(@@ org.ovirt.engine.core.bll.@@ RunVm@@ CommandBase.get@@ Vds@@ Id(), null@@ , new java.util.Hash@@ Set@@ (@@ v@@ nic@@ To@@ V@@ f@@ Map@@ .@@ valu@@ es@@ ())); } vf@@ Schedul@@ er.@@ cl@@ e@@ an@@ Vm@@ Data@@ (org.ovirt.engine.core.bll.@@ RunVm@@ CommandBase.get@@ Vm@@ Id()); }
@java.lang.Override protected void run@@ ning@@ Fail@@ ed@@ () { org.ovirt.engine.core.bll.@@ RunVm@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@org.junit.Test public void sh@@ oul@@ d@@ Not@@ Tr@@ y@@ To@@ Migr@@ ate@@ W@@ h@@ en@@ Not@@ Schedul@@ e() { when@@ (s@@ chedul@@ ing@@ Manager.@@ can@@ Schedul@@ e(@@ e@@ q@@ (cluster@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ ), any@@ List@@ (), any@@ List@@ ())@@ ).@@ then@@ Return@@ (@@ false@@ ); af@@ fin@@ ity@@ Group@@ s.@@ add@@ (c@@ reate@@ A@@ f@@ fin@@ ity@@ Group@@ (cluster@@ , true@@ , vm@@ 1, vm@@ 2@@ , vm@@ 4@@ )); assert@@ That@@ (@@ e@@ n@@ for@@ c@@ er.@@ ch@@ oo@@ se@@ N@@ ext@@ Vm@@ To@@ Migr@@ ate(@@ cluster@@ )).@@ is@@ Null@@ (); }
@org.junit.Test public void sh@@ oul@@ d@@ Sel@@ ect@@ F@@ ir@@ st@@ Schedul@@ able@@ From@@ C@@ and@@ id@@ ate@@ Pool@@ () { af@@ fin@@ ity@@ Group@@ s.@@ add@@ (c@@ reate@@ A@@ f@@ fin@@ ity@@ Group@@ (cluster@@ , true@@ , vm@@ 1, vm@@ 2@@ , vm@@ 3@@ , vm@@ 5@@ , vm@@ 6@@ )); when@@ (s@@ chedul@@ ing@@ Manager.@@ can@@ Schedul@@ e(@@ e@@ q@@ (cluster@@ ), any@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ ), any@@ List@@ (), any@@ List@@ ())@@ ).@@ then@@ Return@@ (@@ false@@ , true@@ ); assert@@ That@@ (@@ e@@ n@@ for@@ c@@ er.@@ ch@@ oo@@ se@@ N@@ ext@@ Vm@@ To@@ Migr@@ ate(@@ cluster@@ )).@@ is@@ In@@ (vm@@ 5@@ , vm@@ 6@@ ); ve@@ r@@ if@@ y@@ (s@@ chedul@@ ing@@ Manager@@ ).@@ can@@ Schedul@@ e(@@ e@@ q@@ (cluster@@ ), e@@ q@@ (vm@@ 5@@ ), any@@ List@@ (), any@@ List@@ (), any@@ List@@ ()); ve@@ r@@ if@@ y@@ (s@@ chedul@@ ing@@ Manager@@ ).@@ can@@ Schedul@@ e(@@ e@@ q@@ (cluster@@ ), e@@ q@@ (vm@@ 6@@ ), any@@ List@@ (), any@@ List@@ ()); }
protected void init@@ Parameters@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s() { org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().set@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ To@@ V@@ f@@ Map@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ Id()); vf@@ Schedul@@ er.@@ cl@@ e@@ an@@ Vm@@ Data@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ Id()); }
protected java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.String> get@@ Vnic@@ To@@ V@@ f@@ Map@@ () { org.ovirt.engine.core.compat.Guid host@@ Id = org.ovirt.engine.core.bll.@@ RunVm@@ CommandBase.get@@ Vds@@ Id@@ (); return host@@ Id == null ? null : vf@@ Schedul@@ er@@ .get@@ Vnic@@ To@@ V@@ f@@ Map@@ (org.ovirt.engine.core.bll.@@ RunVm@@ CommandBase.get@@ Vm@@ Id(), host@@ Id); }
private void update@@ Met@@ ad@@ ata@@ Devic@@ e() { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().set@@ Met@@ ad@@ ata@@ Devic@@ e(@@ m@@ et@@ ad@@ ata@@ Device@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ Static@@ Dao().@@ updat@@ e(@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.@@ update@@ StaticData@@ Default@@ s(); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Met@@ ad@@ ata@@ Devic@@ e(); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().set@@ Met@@ ad@@ ata@@ Device@@ (@@ null@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.@@ add@@ StorageDomain@@ In@@ Db@@ (); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.@@ update@@ StorageDomain@@ Dynamic@@ From@@ I@@ r@@ s(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s = get@@ LUN@@ s@@ From@@ V@@ g@@ Info@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ ()); s@@ ave@@ LUN@@ s@@ In@@ D@@ B@@ (@@ lun@@ s); update@@ Met@@ ad@@ ata@@ Devic@@ e(); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private void handl@@ e@@ P@@ oll@@ ed@@ Job@@ Status@@ (org.ovirt.engine.core.bll.storage.@@ Storage@@ Job@@ Command@@ <?@@ > cmd@@ , org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ In@@ f@@ o job@@ Info@@ ) { if ((@@ job@@ Info@@ .get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Status.@@ fail@@ ed@@ )) { return@@ ; } if ((@@ job@@ Info@@ .get@@ Error@@ ()) != null@@ ) { job@@ Info@@ .set@@ Status@@ (c@@ md@@ .@@ in@@ sp@@ ect@@ Job@@ Error@@ (@@ job@@ Info@@ .get@@ Error@@ ().get@@ Cod@@ e())); if ((@@ job@@ Info@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Status@@ .@@ do@@ ne@@ )) { job@@ Info@@ .set@@ Progress@@ (@@ null@@ ); } }
public org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Statu@@ s in@@ sp@@ ect@@ Job@@ Error@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ E@@ r@@ ro@@ r error@@ ) { return org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Status.@@ fail@@ ed@@ ; }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c m@@ ove@@ P@@ V@@ (java.lang.String job@@ Id, java.lang.String sd@@ U@@ UID@@ , java.lang.String devi@@ ce@@ );
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c m@@ ove@@ P@@ V@@ (java.lang.String job@@ Id, java.lang.String sd@@ U@@ UID@@ , java.lang.String devi@@ ce@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ StorageDomain@@ .@@ m@@ ove@@ P@@ V@@ ").@@ with@@ Parameter("@@ job@@ ID@@ ", job@@ Id@@ ).@@ with@@ Parameter("@@ stor@@ age@@ do@@ m@@ ain@@ ID@@ ", sd@@ U@@ UID@@ ).@@ with@@ Parameter("@@ g@@ uid@@ ", devi@@ ce@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
public void set@@ Value(@@ T value@@ , boolean fi@@ re@@ Event@@ s, boolean f@@ rom@@ Cl@@ ick@@ ) { if (@@ ch@@ an@@ gin@@ g@@ ) { return@@ ; } else if (@@ valu@@ e == null@@ ) { update@@ C@@ urrent@@ Value@@ (@@ null@@ , fi@@ re@@ Event@@ s); } else { boolean fo@@ un@@ d = false@@ ; for (@@ T list@@ I@@ t@@ e@@ m : this@@ .@@ value@@ List@@ ) { if ((@@ list@@ I@@ t@@ e@@ m == value) || ((@@ list@@ I@@ t@@ e@@ m != null@@ ) && (@@ list@@ Item@@ .equals(@@ value@@ )))) { update@@ C@@ urrent@@ Value(@@ value@@ , fi@@ re@@ Event@@ s); fo@@ un@@ d = true@@ ; break@@ ; } } if (!@@ fo@@ un@@ d@@ ) { add@@ Value(@@ valu@@ e); update@@ C@@ urrent@@ Value(@@ value@@ , fi@@ re@@ Event@@ s); } }
@java.lang.Override public void set@@ Value(@@ java.util.List<@@ T@@ > valu@@ es@@ , boolean fi@@ re@@ Event@@ s) { if (((@@ value@@ s != null@@ ) && ((@@ l@@ ast@@ Valu@@ es) != null@@ )) && (@@ l@@ ast@@ Values.@@ equals(@@ valu@@ es@@ ))) { return@@ ; } if (@@ f@@ rom@@ Cl@@ ick@@ ) { T valu@@ e = valu@@ es@@ .get@@ (0@@ ); if (s@@ elected@@ Lis@@ t.@@ contains(@@ value@@ )) { selected@@ Lis@@ t.@@ remov@@ e(@@ valu@@ e); } else { if (@@ valu@@ e != null@@ ) { selected@@ Lis@@ t.add(@@ valu@@ e); } } else { selected@@ Lis@@ t.@@ cl@@ e@@ ar@@ (); for (@@ T valu@@ e : valu@@ es) { if (@@ valu@@ e != null@@ ) { selected@@ Lis@@ t.add(@@ valu@@ e); } } list@@ Panel@@ .set@@ Selected@@ (s@@ elected@@ List@@ ); update@@ C@@ urrent@@ Value(@@ selected@@ List@@ , fi@@ re@@ Event@@ s); }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c red@@ u@@ ce@@ StorageDomain@@ (java.lang.String job@@ Id, java.lang.String sd@@ U@@ UID@@ , java.lang.String devi@@ ce@@ );
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c red@@ u@@ ce@@ StorageDomain@@ (java.lang.String job@@ Id, java.lang.String sd@@ U@@ UID@@ , java.lang.String devi@@ ce@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ StorageDomain@@ .@@ red@@ u@@ ce@@ ").@@ with@@ Parameter("@@ job@@ ID@@ ", job@@ Id@@ ).@@ with@@ Parameter("@@ stor@@ age@@ do@@ m@@ ain@@ ID@@ ", sd@@ U@@ UID@@ ).@@ with@@ Parameter("@@ g@@ uid@@ ", devi@@ ce@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { log.@@ info@@ ("@@ S@@ y@@ sp@@ re@@ p@@ er of the s@@ napsho@@ t '{}@@ ' to the s@@ napsho@@ t '{}@@ '@@ ", org.ovirt.engine.core.vdsbroker.vdsbroker.@@ R@@ ed@@ u@@ ce@@ StorageDomain@@ VDS@@ Command.getParameters().get@@ StorageDomain@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ R@@ ed@@ u@@ ce@@ StorageDomain@@ VDS@@ Command.getParameters().get@@ Device@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ R@@ ed@@ u@@ ce@@ StorageDomain@@ VDS@@ Command.getParameters().get@@ StorageDomain@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ R@@ ed@@ u@@ ce@@ StorageDomain@@ VDS@@ Command.getParameters().get@@ Device@@ Id().@@ toString@@ ()); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ R@@ ed@@ u@@ ce@@ StorageDomain@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value(@@ ) { return (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Action@@ Stat@@ e()) == (org.ovirt.engine.core.bll.@@ Command@@ Action@@ Stat@@ e.@@ EX@@ EC@@ U@@ T@@ E@@ ) ? org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ ED@@ I@@ T_@@ DOMAIN@@ _@@ DE@@ V@@ IC@@ E@@ S_@@ START@@ E@@ D : org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ ED@@ I@@ T_@@ DOMAIN@@ _@@ DE@@ V@@ IC@@ E@@ S_@@ S@@ U@@ C@@ C@@ C@@ E@@ ED@@ E@@ D : org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ ED@@ I@@ T_@@ DOMAIN@@ _@@ DE@@ V@@ IC@@ E@@ S_@@ FAIL@@ ED@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private void end@@ Operation@@ () { try { dis@@ conn@@ ect@@ Host@@ From@@ Domain@@ (); } catch (@@ java.lang.Exception e) { log.error@@ ("@@ Fail@@ ed to dis@@ conn@@ ect the hos@@ t f@@ ro@@ m the do@@ ma@@ in stor@@ age server@@ s, ign@@ or@@ ing@@ ", e); } end@@ Action@@ On@@ Devic@@ es@@ (); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private void pre@@ par@@ e@@ For@@ Remov@@ e() { java.util.List<java.lang.String> devi@@ ce@@ s = lun@@ Dao@@ .get@@ AllFor@@ Volume@@ Group@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ ()).@@ st@@ re@@ am@@ ().@@ map@@ (@@ LUN@@ s@@ :@@ get@@ Id@@ ).@@ filter@@ (@@ ( x@@ ) -@@ > !@@ (get@@ Parameters().get@@ Devic@@ es@@ To@@ R@@ ed@@ uc@@ e().@@ contains(@@ x@@ )@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Parameters@@ ().set@@ D@@ st@@ Devic@@ es(@@ devi@@ c@@ es@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.@@ p@@ ers@@ ist@@ Command@@ If@@ N@@ e@@ ed@@ ed@@ ed@@ ed@@ ed@@ ed@@ (); }
private org.ovirt.engine.core.common.action.@@ Remove@@ Device@@ From@@ S@@ AN@@ StorageDomain@@ Command@@ Parameters create@@ Remove@@ Parameters(@@ java.lang.String devi@@ ce@@ Id) { org.ovirt.engine.core.common.action.@@ Remove@@ Device@@ From@@ S@@ AN@@ StorageDomain@@ Command@@ Parameters p = new org.ovirt.engine.core.common.action.@@ Remove@@ Device@@ From@@ S@@ AN@@ StorageDomain@@ Command@@ Parameters@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ StorageDomain@@ Id(), devi@@ ce@@ Id); p@@ .set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); p@@ .set@@ Vds@@ Id@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ Vds@@ Id()); p@@ .set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Action@@ Typ@@ e()); p@@ .set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Parameters@@ ()); p@@ .set@@ Dest@@ ination@@ Devic@@ es@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ D@@ st@@ Devic@@ es@@ ()); return p@@ ; }
private void dis@@ conn@@ ect@@ Host@@ From@@ Domain@@ () { org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Storage@@ Hel@@ per@@ Direct@@ or@@ .getInstance().get@@ Item@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ Typ@@ e()@@ ).@@ dis@@ conn@@ ect@@ Storage@@ From@@ Domain@@ By@@ Vds@@ Id@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ (), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Vds@@ Id()); }
protected void end@@ Action@@ On@@ Devic@@ es@@ () { for (@@ org.ovirt.engine.core.common.action.VdcActionParameters@@ Base p : org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ Images@@ Parameters@@ ()) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Backend@@ ().@@ end@@ Action@@ (p@@ .get@@ Command@@ Typ@@ e(), p@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Context@@ ().@@ cl@@ on@@ e().@@ with@@ out@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ with@@ out@@ Execution@@ Context@@ ().@@ with@@ out@@ Lock@@ ()); } }
java.lang.String STORAGE_DOMAIN@@ _@@ DE@@ V@@ IC@@ E@@ S_@@ AR@@ E_@@ B@@ E@@ ING@@ _@@ ED@@ I@@ T@@ ED@@ ();
@java.lang.Override public boolean p@@ er@@ for@@ m@@ N@@ ext@@ Operation@@ (@@ int comp@@ let@@ ed@@ Ch@@ il@@ d@@ Count@@ ) { if ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ Remove@@ In@@ dex@@ ()) == 0) { pre@@ par@@ e@@ For@@ Remov@@ e(); conn@@ ect@@ Host@@ To@@ Domain@@ (); } if ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ Remove@@ In@@ dex@@ ()) < (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ Devic@@ es@@ To@@ R@@ ed@@ uc@@ e().@@ siz@@ e())) { run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (VdcActionType.@@ Remove@@ Device@@ From@@ S@@ AN@@ StorageDomain@@ , create@@ Remove@@ Parameters@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ Devic@@ es@@ To@@ R@@ ed@@ uc@@ e().get@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ Remove@@ In@@ dex@@ ()))); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Parameters@@ ().set@@ Remove@@ In@@ dex@@ ((@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ Remove@@ In@@ dex@@ ()) + 1@@ )); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.@@ p@@ ers@@ ist@@ Command@@ If@@ N@@ e@@ ed@@ ed@@ ed@@ (); return true@@ ; } return false@@ ; }
@java.lang.Override protected boolean initial@@ ize@@ Vds@@ () { if (@@ super@@ .@@ initial@@ ize@@ Vds@@ ()) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Parameters@@ ().set@@ Vds@@ Id@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Vds@@ ().get@@ Id()); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.@@ p@@ ers@@ ist@@ Command@@ If@@ N@@ e@@ ed@@ ed@@ (); return true@@ ; } return false@@ ; }
private void conn@@ ect@@ Host@@ To@@ Domain@@ () { if (!@@ (org.ovirt.engine.core.bll.@@ stor@@ ag@@ e.c@@ on@@ nection@@ .@@ Storage@@ Hel@@ per@@ Direct@@ or@@ .getInstance().get@@ Item@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ Typ@@ e()@@ ).@@ conn@@ ect@@ Storage@@ To@@ Domain@@ By@@ Vds@@ Id@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ (), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Vds@@ Id@@ ()))) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ StorageServerConnection@@ Error@@ ); } }
private boolean validate@@ R@@ ed@@ u@@ ce@@ Device@@ Supported@@ () { if ((@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StoragePool@@ ()) != null@@ ) && (!(@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ red@@ u@@ ce@@ Device@@ From@@ StorageDomain@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StoragePool@@ ().get@@ CompatibilityVersion@@ ())@@ ))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ R@@ ED@@ U@@ C@@ E_@@ DOMAIN@@ _@@ DE@@ V@@ IC@@ E_@@ NOT_@@ SUPPORT@@ ED); } return true@@ ; }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { if ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ StorageDomain@@ Id()) != null@@ ) { return java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ StorageDomain@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ STOR@@ AG@@ E@@ , EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_DOMAIN@@ _@@ DE@@ V@@ IC@@ E@@ S_@@ AR@@ E_@@ B@@ E@@ ING@@ _@@ ED@@ I@@ T@@ ED@@ )); } return super@@ .get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s(); }
public org.ovirt.engine.core.bll.ValidationResult lun@@ s@@ In@@ Domain@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain storageDomain@@ , java.util.Set@@ <java.lang.String@@ > lun@@ s) { lun@@ s.@@ remove@@ All@@ (@@ lun@@ Dao@@ .get@@ AllFor@@ Volume@@ Group@@ (@@ storageDomain@@ .get@@ Storage@@ ()).@@ st@@ re@@ am@@ ().@@ map@@ (@@ LUN@@ s@@ :@@ get@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ())); if (@@ lun@@ s.@@ isEmpty@@ ()) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } java.util.Collection@@ <java.lang.String@@ > re@@ plac@@ ement@@ s = org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ re@@ pl@@ ace@@ With@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ B@@ lock@@ StorageDomain@@ Validator.@@ VAR@@ _@@ LUN@@ _@@ ID@@ S@@ , lun@@ s, "@@ ,@@ "); re@@ plac@@ ement@@ s.add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ storageDomain@@ Name %@@ s", storageDomain@@ .getName()@@ )); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ DE@@ V@@ IC@@ E_@@ NOT_@@ IN@@ _@@ STORAGE_DOMAIN@@ , re@@ plac@@ ement@@ s); }
private org.ovirt.engine.core.bll.ValidationResult validate@@ Devic@@ es@@ () { java.util.Set@@ <java.lang.String@@ > devi@@ ce@@ s = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ Devic@@ es@@ To@@ R@@ ed@@ uc@@ e().@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); if ((@@ devi@@ c@@ es.@@ size()) != (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ To@@ R@@ ed@@ uc@@ e().@@ siz@@ e())) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ D@@ UP@@ L@@ IC@@ AT@@ E_@@ DE@@ V@@ IC@@ E); } return bl@@ ock@@ S@@ D@@ Validator.@@ lun@@ s@@ In@@ Domain@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ (), devi@@ c@@ es@@ ); }
@java.lang.Override protected boolean validate(@@ ) { if (@@ org.apache.commons.@@ c@@ ollection@@ s.@@ Collection@@ Utils.@@ isEmpty@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.getParameters().get@@ Devic@@ es@@ To@@ R@@ ed@@ uc@@ e())) { fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ P@@ AR@@ A@@ M@@ ET@@ ER@@ S_@@ IN@@ VALID@@ ); } if (!@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.@@ check@@ StorageDomain@@ ())) { return false@@ ; } if (!(@@ validate@@ R@@ ed@@ u@@ ce@@ Device@@ Supported@@ ())) { return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Edit@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ Typ@@ e().@@ is@@ B@@ lock@@ Domain@@ ())) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_DOMAIN@@ _@@ TYPE_@@ I@@ L@@ LE@@ G@@ AL@@ ); } if (!(@@ validate(@@ validate@@ Devic@@ es@@ ()))) { return false@@ ; } if (!(@@ check@@ StorageDomain@@ Status(@@ StorageDomain@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ ))) { return false@@ ; } if (!(@@ initial@@ ize@@ Vds@@ ())) { return false@@ ; } return true@@ ; }
@java.lang.Override protected void ve@@ r@@ if@@ y@@ (@@ org.ovirt.engine.api.model.@@ A@@ f@@ fin@@ ity@@ Group model, org.ovirt.engine.api.model.@@ A@@ f@@ fin@@ ity@@ Group tr@@ an@@ s@@ for@@ m@@ ) { assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ ); assert@@ E@@ quals(@@ model.get@@ Name(), tr@@ an@@ s@@ for@@ m@@ .get@@ Name()); assert@@ E@@ quals(@@ model.get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .getId()); assert@@ E@@ quals(@@ model.get@@ Description@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Description@@ ()); assert@@ E@@ quals(@@ model.get@@ Cluster@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ Cluster@@ ().get@@ Id()); assert@@ E@@ quals(@@ model.@@ is@@ P@@ os@@ iti@@ v@@ e(), tr@@ an@@ s@@ for@@ m.@@ is@@ P@@ os@@ iti@@ v@@ e()); assert@@ E@@ quals(@@ model.@@ is@@ E@@ n@@ for@@ c@@ ing@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ E@@ n@@ for@@ c@@ ing@@ ()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Host@@ s@@ R@@ ul@@ e()); assert@@ E@@ quals(@@ model.get@@ Host@@ s@@ R@@ ul@@ e().@@ is@@ Enabled@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Host@@ s@@ R@@ ul@@ e().@@ is@@ Enabled@@ ()); assert@@ E@@ quals(@@ model.get@@ Host@@ s@@ R@@ ul@@ e().@@ is@@ E@@ n@@ for@@ c@@ ing@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Host@@ s@@ R@@ ul@@ e().@@ is@@ E@@ n@@ for@@ c@@ ing@@ ()); assert@@ E@@ quals(@@ model.get@@ Host@@ s@@ R@@ ul@@ e().@@ is@@ P@@ os@@ iti@@ v@@ e(), tr@@ an@@ s@@ for@@ m@@ .get@@ Host@@ s@@ R@@ ul@@ e().@@ is@@ P@@ os@@ iti@@ v@@ e()); assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ .get@@ Vms@@ R@@ ul@@ e()); assert@@ E@@ quals(@@ model.get@@ Vms@@ R@@ ul@@ e().@@ is@@ Enabled@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Vms@@ R@@ ul@@ e().@@ is@@ Enabled@@ ()); assert@@ E@@ quals(@@ model.get@@ Vms@@ R@@ ul@@ e().@@ is@@ E@@ n@@ for@@ c@@ ing@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Vms@@ R@@ ul@@ e().@@ is@@ P@@ os@@ iti@@ v@@ e()); assert@@ E@@ quals(@@ model.get@@ Vms@@ R@@ ul@@ e().@@ is@@ P@@ os@@ iti@@ v@@ e(), tr@@ an@@ s@@ for@@ m@@ .get@@ Vms@@ R@@ ul@@ e().@@ is@@ P@@ os@@ iti@@ v@@ e()); }
public org.ovirt.engine.core.common.businessentities.@@ L@@ e@@ ase@@ In@@ f@@ o get@@ L@@ e@@ ase@@ In@@ f@@ o get@@ L@@ e@@ ase@@ In@@ f@@ o () { return le@@ ase@@ In@@ f@@ o ; }
public void set@@ L@@ e@@ ase@@ In@@ f@@ o (org.ovirt.engine.core.common.businessentities.@@ L@@ e@@ ase@@ In@@ f@@ o l@@ ) { this@@ .@@ le@@ ase@@ In@@ f@@ o = le@@ ase@@ In@@ f@@ o = le@@ ase@@ In@@ f@@ o ; }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ St@@ ep@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ St@@ ep@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ St@@ e@@ p map@@ (@@ org.ovirt.engine.api.model.@@ St@@ e@@ p st@@ ep@@ , org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p entity@@ ) { org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p t@@ arg@@ e@@ t = (@@ enti@@ ty != null@@ ) ? enti@@ ty : new org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ (); target@@ .set@@ Id(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (@@ st@@ ep@@ .getId@@ ())); if (@@ st@@ ep@@ .is@@ Set@@ Parent@@ St@@ ep@@ ()) { target@@ .set@@ Parent@@ St@@ ep@@ Id(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (@@ st@@ ep@@ .get@@ Parent@@ St@@ ep@@ ().get@@ Id@@ ())); } target@@ .set@@ Job@@ Id(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (@@ st@@ ep@@ .get@@ Job@@ ().get@@ Id@@ ())); if (@@ st@@ ep@@ .is@@ Set@@ Type()) { target@@ .set@@ St@@ ep@@ Type(@@ org.ovirt.engine.api.restapi.@@ types.@@ St@@ ep@@ Mapper.@@ map@@ (@@ st@@ ep@@ .get@@ Typ@@ e())); } if (@@ st@@ ep@@ .is@@ Set@@ Description@@ ()) { target@@ .set@@ Description@@ (@@ st@@ ep@@ .get@@ Description@@ ()); } if (@@ st@@ ep@@ .is@@ Set@@ Num@@ ber@@ ()) { target@@ .set@@ St@@ ep@@ Num@@ ber@@ (@@ st@@ ep@@ .get@@ Num@@ ber@@ ()); } if (@@ st@@ ep@@ .is@@ Set@@ Status()) { target@@ .set@@ Status(@@ org.ovirt.engine.api.restapi.@@ types.@@ St@@ ep@@ Mapper.@@ map@@ St@@ ep@@ Status(@@ st@@ ep@@ .get@@ Status@@ ())); } target@@ .set@@ Progress@@ (@@ st@@ ep@@ .get@@ Progress@@ ()); target@@ .set@@ Start@@ Time@@ ((@@ st@@ ep@@ .is@@ Set@@ Start@@ Tim@@ e() ? st@@ ep@@ .get@@ Start@@ Tim@@ e().@@ to@@ G@@ re@@ g@@ or@@ i@@ an@@ C@@ al@@ end@@ ar@@ ().get@@ Tim@@ e() : new java.s@@ q@@ l.@@ D@@ ate(@@ java.util.@@ C@@ al@@ end@@ ar@@ .getInstance().get@@ Time@@ In@@ M@@ il@@ lis@@ ()))); target@@ .set@@ En@@ d@@ Time@@ ((@@ st@@ ep@@ .is@@ Set@@ En@@ d@@ Tim@@ e() ? st@@ ep@@ .get@@ En@@ d@@ Tim@@ e().@@ to@@ G@@ re@@ g@@ or@@ i@@ an@@ C@@ al@@ end@@ ar@@ ().get@@ Tim@@ e() : new java.s@@ q@@ l.@@ D@@ ate(@@ java.util.@@ C@@ al@@ end@@ ar@@ .getInstance().get@@ Time@@ In@@ M@@ il@@ lis@@ ()))); target@@ .set@@ External@@ ((@@ st@@ ep@@ .is@@ Set@@ External@@ () ? st@@ ep@@ .is@@ External@@ () : true@@ )); return target@@ ; }
private boolean p@@ er@@ for@@ m@@ () { org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Parameters@@ ().set@@ Start@@ Time@@ (@@ new java.util.@@ Dat@@ e()); all@@ Vm@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Nic@@ s = get@@ All@@ Vm@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Nic@@ s(); log.@@ d@@ ebug@@ ("@@ Migr@@ ation m@@ igr@@ ation wit@@ h f@@ ol@@ low@@ ing p@@ as@@ st@@ h@@ rou@@ g@@ h nic@@ s@@ : {@@ } all@@ Vm@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Nic@@ s@@ "); try { org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.@@ In@@ vo@@ c@@ ation@@ Result in@@ vo@@ c@@ ation@@ Result = p@@ lug@@ Or@@ Un@@ p@@ lug@@ Nic@@ s(@@ all@@ Vm@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Nic@@ s, Plug@@ Action@@ .@@ UN@@ P@@ LU@@ G@@ ); if (!(@@ in@@ vo@@ c@@ ation@@ Res@@ ult.@@ s@@ uc@@ cess@@ )) { in@@ vo@@ c@@ ation@@ Res@@ ult.@@ pro@@ d@@ uc@@ ed@@ Error@@ Messages@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ add@@ Validation@@ Message@@ ); return false@@ ; } if (@@ conn@@ ect@@ Lun@@ Disk@@ s(@@ get@@ Dest@@ ination@@ Vds@@ Id@@ ())) && (@@ m@@ igr@@ ate@@ Vm@@ ())) { org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ set@@ Async@@ Job@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Execution@@ Context@@ (), true@@ ); return true@@ ; } } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { } org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.@@ run@@ ning@@ Fail@@ ed@@ (); return false@@ ; }
private void log@@ Plug@@ Un@@ p@@ lug@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic nic@@ , org.ovirt.engine.core.common.action.@@ Plug@@ Ac@@ tion p@@ lug@@ Action@@ ) { switch (p@@ lug@@ Action@@ ) { case P@@ LU@@ G : log.@@ d@@ ebug@@ ("@@ Plug@@ gin@@ g n@@ ic id@@ =@@ '{}@@ '@@ ", nic@@ .getId()); break@@ ; case UN@@ P@@ LU@@ G : log.@@ d@@ ebug@@ ("@@ Un@@ p@@ lug@@ gin@@ g n@@ ic id@@ =@@ '{}@@ '@@ ", nic@@ .getId()); break@@ ; default : throw new java.lang.@@ Run@@ time@@ Exception@@ ("@@ Un@@ k@@ n@@ ow@@ n f@@ ro@@ m the new java.lang.@@ Run@@ time@@ Exception@@ ("@@ Un@@ k@@ n@@ ow@@ n with@@ o@@ f@@ f@@ res@@ h the VM '{}@@ '@@ ", nic@@ .getId()); } }
private org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.@@ In@@ vo@@ c@@ ation@@ Result p@@ lug@@ Or@@ Un@@ p@@ lug@@ Nic@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic nic@@ , org.ovirt.engine.core.common.action.@@ Plug@@ Ac@@ tion p@@ lug@@ Action@@ ) { org.ovirt.engine.core.common.action.@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Parameters(@@ nic@@ , p@@ lug@@ Action@@ , false@@ ); parameters.set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.getParameters().get@@ Vm@@ Id()); log@@ Plug@@ Un@@ p@@ lug@@ (@@ nic@@ , p@@ lug@@ Action@@ ); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Valu@@ e = run@@ Internal@@ Action(VdcActionType.@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ , parameters@@ ); return new org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.@@ In@@ vo@@ c@@ ation@@ Result@@ (@@ return@@ Valu@@ e.get@@ Succeeded@@ (), return@@ Valu@@ e.get@@ Validation@@ Messages@@ ()); }
@java.lang.Override public void run@@ ning@@ Suc@@ c@@ ed@@ () { try { get@@ Down@@ tim@@ e(); vm@@ Dynamic@@ Dao@@ .@@ cl@@ e@@ ar@@ Migr@@ at@@ ing@@ To@@ Vds@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ VmCommand.getVm@@ Id()); update@@ Vm@@ A@@ f@@ ter@@ Migr@@ ation@@ To@@ D@@ if@@ fer@@ ent@@ Cluster@@ (); } final@@ l@@ y { super@@ .@@ run@@ ning@@ Suc@@ c@@ ed@@ (); } }
public void set@@ Host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ ed@@ (@@ boolean value) { this@@ .@@ host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ ed = value@@ ; }
public void set@@ Host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ ed@@ (@@ boolean value) { vds@@ Dynamic@@ .set@@ Host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ ed(@@ valu@@ e); }
public boolean is@@ Host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ ed@@ () { return vds@@ Dynamic@@ .is@@ Host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ ed@@ (); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ id@@ , build@@ Name, cpu@@ C@@ or@@ es@@ , cpu@@ Th@@ rea@@ ds@@ , cpu@@ F@@ l@@ ag@@ s, cpu@@ Model@@ , cpu@@ S@@ ock@@ et@@ s, cpu@@ Sp@@ e@@ ed@@ M@@ h@@ , on@@ lin@@ e@@ C@@ p@@ us@@ , g@@ u@@ est@@ O@@ ver@@ h@@ ead@@ , h@@ ook@@ s@@ St@@ r@@ , host@@ O@@ s, i@@ S@@ csi@@ In@@ iti@@ ator@@ Name, if@@ T@@ otal@@ Sp@@ e@@ ed@@ , k@@ er@@ n@@ el@@ Version@@ , vm@@ Enabled@@ , k@@ vm@@ Version@@ , l@@ i@@ b@@ vi@@ r@@ t@@ Version@@ , r@@ p@@ m@@ Version@@ , mem@@ C@@ omm@@ it@@ ed@@ , net@@ Config@@ D@@ ir@@ ty@@ , n@@ on@@ Operation@@ al@@ Reason@@ , p@@ end@@ ing@@ V@@ c@@ p@@ us@@ Count@@ , p@@ end@@ ing@@ Vm@@ em@@ Size@@ , p@@ h@@ y@@ s@@ ical@@ Mem@@ M@@ b@@ , pre@@ vi@@ o@@ us@@ Status@@ , res@@ er@@ v@@ ed@@ Mem@@ , s@@ o@@ f@@ t@@ w@@ are@@ Version@@ , sp@@ ice@@ Version@@ , gluster@@ Version@@ , status@@ , support@@ ed@@ Cluster@@ L@@ ev@@ el@@ s, support@@ ed@@ Engin@@ es@@ , trans@@ parent@@ H@@ ug@@ e@@ P@@ ages@@ St@@ ate@@ , version@@ Name, vm@@ Active@@ , vm@@ Count@@ , support@@ ed@@ Rng@@ Sourc@@ es@@ , vm@@ Migr@@ at@@ ing@@ , in@@ com@@ ing@@ Migr@@ ation@@ s, out@@ go@@ ing@@ Migr@@ ation@@ s, vm@@ s@@ C@@ or@@ es@@ Count@@ , h@@ w@@ Man@@ u@@ fac@@ t@@ ur@@ er@@ , h@@ w@@ Pro@@ d@@ uct@@ Name, h@@ w@@ Ser@@ ial@@ Num@@ ber@@ , h@@ w@@ U@@ UID@@ , h@@ w@@ F@@ am@@ il@@ y@@ , H@@ B@@ As@@ , p@@ ower@@ Management@@ Cont@@ ro@@ ll@@ ed@@ By@@ Policy@@ , k@@ d@@ um@@ p@@ Status@@ , s@@ el@@ in@@ u@@ x@@ E@@ n@@ for@@ ce@@ M@@ ode@@ , a@@ uto@@ Numa@@ B@@ al@@ anc@@ ing@@ , num@@ a@@ Support@@ , num@@ a@@ Support@@ , add@@ ition@@ al@@ Feat@@ ur@@ es@@ , m@@ a@@ int@@ en@@ ance@@ Reason@@ , update@@ Available@@ , host@@ Device@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Enabled@@ , k@@ er@@ n@@ el@@ Arg@@ s, p@@ ret@@ ty@@ Name@@ ); }
public boolean is@@ Host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ ed@@ () { return host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ ed@@ ; }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vnic@@ Profile@@ View@@ > get@@ AllFor@@ Cluster@@ (org.ovirt.engine.core.compat.Guid id@@ , org.ovirt.engine.core.compat.Guid user@@ Id, boolean filter@@ ed@@ ) { return getCall@@ sHandler().execute@@ Read@@ List@@ ("@@ Get@@ Vnic@@ Profile@@ View@@ sBy@@ DataCenter@@ Id@@ ", org.ovirt.engine.core.dao.@@ network.@@ Vnic@@ Profile@@ View@@ Dao@@ Impl.@@ Vnic@@ Profile@@ View@@ Row@@ Mapper.@@ IN@@ ST@@ AN@@ C@@ E@@ , getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ id@@ ", id@@ ).addValue("@@ user@@ _id", user@@ Id@@ ).addValue("@@ is@@ _@@ filter@@ ed@@ ", filter@@ ed@@ )); }
org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n d@@ elet@@ e@@ Image@@ (java.lang.String sd@@ U@@ UID@@ , java.lang.String sp@@ U@@ UID@@ , java.lang.String im@@ g@@ G@@ UID@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , boolean dis@@ c@@ ard@@ , java.lang.String for@@ ce@@ );
org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n m@@ ove@@ Image@@ (java.lang.String sp@@ U@@ UID@@ , java.lang.String s@@ r@@ c@@ D@@ om@@ U@@ UID@@ , java.lang.String d@@ st@@ D@@ om@@ U@@ UID@@ , java.lang.String im@@ g@@ G@@ UID@@ , java.lang.String vm@@ G@@ UID@@ , int op@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , boolean dis@@ c@@ ard@@ , java.lang.String for@@ ce@@ );
org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n c@@ opy@@ Image@@ (java.lang.String sd@@ U@@ UID@@ , java.lang.String sp@@ U@@ UID@@ , java.lang.String vm@@ G@@ UID@@ , java.lang.String s@@ r@@ c@@ Im@@ g@@ G@@ UID@@ , java.lang.String s@@ r@@ c@@ V@@ ol@@ U@@ UID@@ , java.lang.String d@@ st@@ Im@@ g@@ G@@ UID@@ , java.lang.String d@@ st@@ V@@ ol@@ U@@ UID@@ , java.lang.String d@@ es@@ c@@ r@@ , java.lang.String d@@ st@@ S@@ d@@ U@@ UID@@ , int v@@ ol@@ Type, int v@@ ol@@ Format@@ , int pre@@ al@@ loc@@ ate@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , boolean dis@@ c@@ ard@@ , java.lang.String for@@ ce@@ );
@java.lang.Override protected org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters build@@ D@@ elet@@ e@@ Memory@@ Con@@ f@@ Param@@ s(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > g@@ ui@@ ds@@ ) { boolean dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e = get@@ StorageDomain@@ Dao().get@@ (@@ g@@ ui@@ ds@@ .get@@ (0@@ )).@@ is@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e(); return org.ovirt.engine.core.dao.@@ i.@@ In@@ j@@ ect@@ or@@ .get@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ P@@ ost@@ D@@ elet@@ e@@ Action@@ Handler@@ .@@ class@@ ).@@ fi@@ x@@ Parameters@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters(@@ g@@ ui@@ ds@@ .get(@@ 1@@ ), g@@ ui@@ ds@@ .get@@ (0@@ ), g@@ ui@@ ds@@ .get(@@ 4@@ ), is@@ P@@ ost@@ Z@@ er@@ o@@ (), dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ , false@@ )); }
protected boolean validate@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ L@@ eg@@ al@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator@@ ) { if (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().is@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e()) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ C@@ AR@@ D@@ _@@ A@@ F@@ T@@ ER_@@ DE@@ L@@ ET@@ E_@@ SUPPORT@@ ED_@@ ON@@ L@@ Y_@@ B@@ LO@@ C@@ K_@@ DOMAIN@@ S@@ ); } return true@@ ; }
@java.lang.Override @@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") protected boolean validate@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ L@@ eg@@ al@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator@@ ) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s = ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >) (@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Device@@ List@@ , new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Device@@ List@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ Vds@@ ().get@@ Id(), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ Typ@@ e(), false@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.getParameters().get@@ Lun@@ Id@@ s@@ ())@@ ).get@@ ReturnValu@@ e())); return validate(@@ storageDomain@@ Validator.@@ is@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ L@@ eg@@ al@@ For@@ New@@ B@@ lock@@ StorageDomain@@ (@@ lun@@ s@@ )); }
@java.lang.Override protected org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters build@@ D@@ elet@@ e@@ Memory@@ Image@@ Param@@ s(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > g@@ ui@@ ds@@ ) { boolean dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e = get@@ StorageDomain@@ Dao().get@@ (@@ g@@ ui@@ ds@@ .get@@ (0@@ )).@@ is@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e(); return org.ovirt.engine.core.dao.@@ i.@@ In@@ j@@ ect@@ or@@ .get@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ P@@ ost@@ D@@ elet@@ e@@ Action@@ Handler@@ .@@ class@@ ).@@ fi@@ x@@ Parameters@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ D@@ elet@@ e@@ Image@@ Group@@ VDSCommand@@ Parameters(@@ g@@ ui@@ ds@@ .get(@@ 1@@ ), g@@ ui@@ ds@@ .get@@ (0@@ ), g@@ ui@@ ds@@ .get(@@ 2@@ ), is@@ P@@ ost@@ Z@@ er@@ o@@ (), dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ , false@@ )); }
private boolean validate@@ Storage@@ Properties@@ Updat@@ e() { if (!(@@ check@@ StorageDomain@@ Status@@ Not@@ E@@ qual@@ (@@ StorageDomain@@ Status.@@ Lock@@ ed@@ ))) || (!(@@ validate@@ Storage@@ Name(@@ get@@ Storage@@ Name()@@ )))) { return false@@ ; } java.util.List<java.lang.String> pro@@ p@@ s = org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er@@ .get@@ Changed@@ Fi@@ el@@ ds@@ (@@ old@@ Domain@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); pro@@ p@@ s.@@ remov@@ e(@@ "@@ storage@@ Name@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ d@@ escription@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ c@@ omm@@ ent@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ "); pro@@ p@@ s.@@ remove@@ (@@ "@@ dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ "); pro@@ p@@ s.@@ remove@@ (@@ "@@ w@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ cri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ "); if (!(@@ pro@@ p@@ s.@@ isEmpty())) { log.@@ w@@ ar@@ n@@ ("@@ Th@@ e w@@ a@@ s an at@@ temp@@ t to updat@@ e the f@@ ol@@ low@@ ing fi@@ eld@@ s al@@ th@@ o@@ ug@@ h th@@ e@@ y ar@@ e not al@@ low@@ ed to b@@ e updat@@ ed@@ : {}@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ pro@@ p@@ s, "@@ ,@@ ")); return fail@@ Validation@@ (EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ C@@ H@@ AN@@ G@@ E_@@ STORAGE_DOMAIN@@ _@@ FI@@ E@@ L@@ D@@ S@@ ); } return true@@ ; }
private void mock@@ StorageDomain@@ Validator@@ () { do@@ Return(@@ storageDomain@@ Validator@@ ).when@@ (c@@ md@@ ).get@@ StorageDomain@@ Validator@@ (); when(@@ storageDomain@@ Validator.@@ is@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ L@@ eg@@ al@@ For@@ Existing@@ StorageDomain@@ ()).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); }
org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n d@@ elet@@ e@@ Volum@@ e(@@ java.lang.String sd@@ U@@ UID@@ , java.lang.String sp@@ U@@ UID@@ , java.lang.String im@@ g@@ G@@ UID@@ , java.lang.String@@ [@@ ] v@@ ol@@ U@@ UID@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , boolean dis@@ c@@ ard@@ , java.lang.String for@@ ce@@ );
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n m@@ ove@@ Image@@ (java.lang.String sp@@ U@@ UID@@ , java.lang.String s@@ r@@ c@@ D@@ om@@ U@@ UID@@ , java.lang.String d@@ st@@ D@@ om@@ U@@ UID@@ , java.lang.String im@@ g@@ G@@ UID@@ , java.lang.String vm@@ G@@ UID@@ , int op@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , boolean dis@@ c@@ ard@@ , java.lang.String for@@ ce@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Im@@ age.@@ m@@ ove@@ ").@@ with@@ Parameter("@@ image@@ ID@@ ", im@@ g@@ G@@ UID@@ ).@@ with@@ Parameter("@@ storage@@ pool@@ ID@@ ", sp@@ U@@ UID@@ ).@@ with@@ Parameter("@@ stor@@ age@@ do@@ m@@ ain@@ ID@@ ", s@@ r@@ c@@ D@@ om@@ U@@ UID@@ ).@@ with@@ Parameter("@@ d@@ st@@ S@@ d@@ U@@ UID@@ ", d@@ st@@ D@@ om@@ U@@ UID@@ ).@@ with@@ Parameter("@@ o@@ peration@@ ", op@@ ).@@ with@@ Parameter("@@ p@@ ost@@ Z@@ er@@ o@@ ", p@@ ost@@ Z@@ er@@ o@@ ).@@ with@@ Parameter("@@ dis@@ c@@ ard@@ ", dis@@ c@@ ard@@ ).@@ with@@ Parameter@@ (@@ "@@ for@@ ce@@ ", for@@ ce@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ).@@ with@@ Respon@@ se@@ Key@@ ("@@ u@@ uid@@ "); return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Return(@@ respon@@ se@@ ); }
org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n m@@ er@@ g@@ e@@ Snapshot@@ s(@@ java.lang.String sd@@ U@@ UID@@ , java.lang.String sp@@ U@@ UID@@ , java.lang.String vm@@ G@@ UID@@ , java.lang.String im@@ g@@ G@@ UID@@ , java.lang.String anc@@ est@@ or@@ U@@ UID@@ , java.lang.String s@@ uc@@ cess@@ or@@ U@@ UID@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , boolean dis@@ c@@ ard@@ );
private void update@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e() { if ((get@@ Available@@ Storage@@ Type@@ Item@@ s().get@@ SelectedItem@@ ()) != null@@ ) { boolean is@@ B@@ lock@@ Domain = get@@ Available@@ Storage@@ Type@@ Item@@ s().get@@ SelectedItem@@ ().is@@ B@@ lock@@ Domain@@ (); get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e().set@@ Is@@ Avail@@ able(@@ is@@ B@@ lock@@ Domain@@ ); if (is@@ B@@ lock@@ Domain@@ ) { if (is@@ New@@ Storage@@ ()) { get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e().set@@ Entity@@ (@@ false@@ ); } else { get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e().set@@ Entity@@ (get@@ Storage@@ ().is@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e()); } }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n m@@ er@@ g@@ e@@ Snapshot@@ s(@@ java.lang.String sd@@ U@@ UID@@ , java.lang.String sp@@ U@@ UID@@ , java.lang.String vm@@ G@@ UID@@ , java.lang.String im@@ g@@ G@@ UID@@ , java.lang.String anc@@ est@@ or@@ U@@ UID@@ , java.lang.String s@@ uc@@ cess@@ or@@ U@@ UID@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , boolean dis@@ c@@ ard@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Im@@ age.@@ m@@ er@@ g@@ e@@ Snapshots@@ ").@@ with@@ Parameter("@@ image@@ ID@@ ", im@@ g@@ G@@ UID@@ ).@@ with@@ Parameter("@@ storage@@ pool@@ ID@@ ", sp@@ U@@ UID@@ ).@@ with@@ Parameter("@@ stor@@ age@@ do@@ m@@ ain@@ ID@@ ", sd@@ U@@ UID@@ ).@@ with@@ Parameter("@@ anc@@ est@@ or@@ ", anc@@ est@@ or@@ U@@ UID@@ ).@@ with@@ Parameter("@@ s@@ uc@@ cess@@ or@@ ", s@@ uc@@ cess@@ or@@ U@@ UID@@ ).@@ with@@ Parameter("@@ p@@ ost@@ Z@@ er@@ o@@ ", p@@ ost@@ Z@@ er@@ o@@ ).@@ with@@ Parameter("@@ dis@@ c@@ ard@@ ", dis@@ c@@ ard@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ).@@ with@@ Respon@@ se@@ Key@@ ("@@ u@@ uid@@ "); return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Return(@@ respon@@ se@@ ); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n d@@ elet@@ e@@ Volum@@ e(@@ java.lang.String sd@@ U@@ UID@@ , java.lang.String sp@@ U@@ UID@@ , java.lang.String im@@ g@@ G@@ UID@@ , java.lang.String@@ [@@ ] v@@ ol@@ U@@ UID@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , boolean dis@@ c@@ ard@@ , java.lang.String for@@ ce@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Im@@ age.@@ d@@ elet@@ e@@ Volum@@ es@@ ").@@ with@@ Parameter("@@ image@@ ID@@ ", im@@ g@@ G@@ UID@@ ).@@ with@@ Parameter("@@ storage@@ pool@@ ID@@ ", sp@@ U@@ UID@@ ).@@ with@@ Parameter("@@ stor@@ age@@ do@@ m@@ ain@@ ID@@ ", sd@@ U@@ UID@@ ).@@ with@@ Parameter("@@ volume@@ List@@ ", new java.util.Array@@ List(@@ java.util.Arrays.as@@ List(@@ v@@ ol@@ U@@ UID@@ )@@ )).@@ with@@ Option@@ al@@ Parameter("@@ p@@ ost@@ Z@@ er@@ o@@ ", p@@ ost@@ Z@@ er@@ o@@ ).@@ with@@ Option@@ al@@ Parameter("@@ dis@@ c@@ ard@@ ", dis@@ c@@ ard@@ ).@@ with@@ Option@@ al@@ Parameter@@ (@@ "@@ for@@ ce@@ ", for@@ ce@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ).@@ with@@ Respon@@ se@@ Key@@ ("@@ u@@ uid@@ "); return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Return(@@ respon@@ se@@ ); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n d@@ elet@@ e@@ Image@@ (java.lang.String sd@@ U@@ UID@@ , java.lang.String sp@@ U@@ UID@@ , java.lang.String im@@ g@@ G@@ UID@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , boolean dis@@ c@@ ard@@ , java.lang.String for@@ ce@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Im@@ age.@@ d@@ elet@@ e@@ ").@@ with@@ Parameter("@@ image@@ ID@@ ", im@@ g@@ G@@ UID@@ ).@@ with@@ Parameter("@@ storage@@ pool@@ ID@@ ", sp@@ U@@ UID@@ ).@@ with@@ Parameter("@@ stor@@ age@@ do@@ m@@ ain@@ ID@@ ", sd@@ U@@ UID@@ ).@@ with@@ Parameter("@@ p@@ ost@@ Z@@ er@@ o@@ ", p@@ ost@@ Z@@ er@@ o@@ ).@@ with@@ Parameter("@@ dis@@ c@@ ard@@ ", dis@@ c@@ ard@@ ).@@ with@@ Parameter@@ (@@ "@@ for@@ ce@@ ", for@@ ce@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ).@@ with@@ Respon@@ se@@ Key@@ ("@@ u@@ uid@@ "); return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Return(@@ respon@@ se@@ ); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Retur@@ n c@@ opy@@ Image@@ (java.lang.String sd@@ U@@ UID@@ , java.lang.String sp@@ U@@ UID@@ , java.lang.String vm@@ G@@ UID@@ , java.lang.String s@@ r@@ c@@ Im@@ g@@ G@@ UID@@ , java.lang.String s@@ r@@ c@@ V@@ ol@@ U@@ UID@@ , java.lang.String d@@ st@@ Im@@ g@@ G@@ UID@@ , java.lang.String d@@ st@@ V@@ ol@@ U@@ UID@@ , java.lang.String d@@ es@@ c@@ r@@ , java.lang.String d@@ st@@ S@@ d@@ U@@ UID@@ , int v@@ ol@@ Type, int v@@ ol@@ Format@@ , int pre@@ al@@ loc@@ ate@@ , java.lang.String p@@ ost@@ Z@@ er@@ o@@ , boolean dis@@ c@@ ard@@ , java.lang.String for@@ ce@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Volum@@ e.c@@ opy@@ ").@@ with@@ Parameter("@@ volume@@ ID@@ ", s@@ r@@ c@@ V@@ ol@@ U@@ UID@@ ).@@ with@@ Parameter("@@ storage@@ pool@@ ID@@ ", sp@@ U@@ UID@@ ).@@ with@@ Parameter("@@ stor@@ age@@ do@@ m@@ ain@@ ID@@ ", sd@@ U@@ UID@@ ).@@ with@@ Parameter("@@ image@@ ID@@ ", s@@ r@@ c@@ Im@@ g@@ G@@ UID@@ ).@@ with@@ Parameter("@@ d@@ st@@ S@@ d@@ U@@ UID@@ ", d@@ st@@ S@@ d@@ U@@ UID@@ ).@@ with@@ Parameter("@@ d@@ st@@ Im@@ g@@ U@@ UID@@ ", d@@ st@@ Im@@ g@@ G@@ UID@@ ).@@ with@@ Parameter("@@ d@@ st@@ V@@ ol@@ U@@ UID@@ ", d@@ st@@ V@@ ol@@ U@@ UID@@ ).@@ with@@ Parameter("@@ d@@ es@@ c@@ ", d@@ es@@ c@@ r@@ ).@@ with@@ Parameter("@@ v@@ ol@@ Type@@ ", v@@ ol@@ Type@@ ).@@ with@@ Parameter("@@ v@@ ol@@ Format@@ ", v@@ ol@@ Format@@ ).@@ with@@ Parameter("@@ pre@@ al@@ loc@@ ate@@ ", pre@@ al@@ loc@@ ate@@ ).@@ with@@ Parameter("@@ p@@ ost@@ Z@@ er@@ o@@ ", p@@ ost@@ Z@@ er@@ o@@ ).@@ with@@ Parameter("@@ dis@@ c@@ ard@@ ", dis@@ c@@ ard@@ ).@@ with@@ Parameter@@ (@@ "@@ for@@ ce@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ).@@ with@@ Respon@@ se@@ Key@@ ("@@ u@@ uid@@ "); return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ O@@ ne@@ U@@ uid@@ Return(@@ respon@@ se@@ ); }
public org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Read@@ Only@@ Mac@@ Pool get@@ Mac@@ Pool@@ For@@ Cluster@@ (org.ovirt.engine.core.compat.Guid cluster@@ Id) { return get@@ Mac@@ Pool@@ By@@ Id@@ (get@@ Mac@@ Pool@@ Id@@ (cluster@@ Id@@ )); }
@java.lang.Override public java.lang.String toString@@ () { return ((((@@ ((((@@ ("@@ Sub@@ ch@@ ain@@ In@@ f@@ o [@@ " + "@@ storageDomain@@ Id@@ =@@ ") + (@@ storageDomain@@ Id@@ )) + ", image@@ Group@@ Id@@ =@@ ") + (@@ image@@ Group@@ Id@@ )) + ", b@@ ase@@ Image@@ Id@@ =@@ ") + (@@ b@@ ase@@ Image@@ Id@@ )) + ", t@@ op@@ Image@@ Id@@ =@@ ") + (@@ t@@ op@@ Image@@ Id@@ )) + '@@ ]@@ '@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.vdscommands.@@ C@@ old@@ M@@ er@@ g@@ e@@ I@@ R@@ S@@ Command@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ C@@ old@@ M@@ er@@ g@@ e@@ I@@ R@@ S@@ Command@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Pre@@ par@@ e@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Pre@@ par@@ e@@ M@@ er@@ g@@ e@@ Command.get@@ Job@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Pre@@ par@@ e@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ Sub@@ ch@@ ain@@ Info@@ ()); run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Pre@@ par@@ e@@ M@@ er@@ g@@ e@@ , parameters@@ ); }
private org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command@@ Parameters build@@ C@@ old@@ M@@ er@@ g@@ e@@ Parameters(@@ org.ovirt.engine.core.compat.Guid t@@ op@@ Volume@@ Id, org.ovirt.engine.core.compat.Guid b@@ ase@@ Volume@@ Id) { org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ In@@ f@@ o sub@@ ch@@ ain@@ In@@ f@@ o = new org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ Info@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ DiskImage@@ ().get@@ Storage@@ Id@@ s().get@@ (0@@ ), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Image@@ Group@@ Id(), b@@ ase@@ Volume@@ Id, t@@ op@@ Volume@@ Id); org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ DiskImage@@ ().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.getParameters().get@@ Job@@ Id(), sub@@ ch@@ ain@@ Info@@ ); parameters.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ Vdc@@ Action@@ Parameters@@ Bas@@ e.@@ En@@ d@@ Pro@@ c@@ ed@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); parameters.set@@ Parent@@ Command@@ (VdcActionType.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ ); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Parameters@@ ()); return parameters@@ ; }
@java.lang.Override protected org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ En@@ u@@ m get@@ Command@@ St@@ ep@@ () { return org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Enum@@ .@@ P@@ RE@@ P@@ AR@@ E@@ _M@@ ER@@ G@@ E@@ ; }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Status@@ ReturnForXmlR@@ p@@ c pre@@ par@@ e@@ M@@ er@@ g@@ e(@@ java.lang.String sp@@ U@@ UID@@ , java.lang.String job@@ U@@ UID@@ , java.util.Map<java.lang.String, java.lang.String> sub@@ ch@@ ain@@ Info@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ S@@ D@@ M@@ .@@ pre@@ par@@ e@@ _@@ m@@ er@@ g@@ e@@ ").@@ with@@ Parameter("@@ storage@@ pool@@ ID@@ ", sp@@ U@@ UID@@ ).@@ with@@ Parameter("@@ job@@ _id", job@@ U@@ UID@@ ).@@ with@@ Parameter("@@ sub@@ ch@@ ain@@ _@@ info@@ ", sub@@ ch@@ ain@@ Info@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Status@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Status@@ ReturnForXmlR@@ p@@ c pre@@ par@@ e@@ M@@ er@@ g@@ e(@@ java.lang.String sp@@ U@@ UID@@ , java.lang.String job@@ U@@ UID@@ , java.util.Map<java.lang.String, java.lang.String> sub@@ ch@@ ain@@ Info@@ );
@java.lang.Override protected void execute@@ I@@ r@@ s@@ Broker@@ Command() { org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Pre@@ par@@ e@@ M@@ er@@ g@@ e@@ VDS@@ Command.get@@ I@@ r@@ s@@ Proxy@@ ().@@ pre@@ par@@ e@@ M@@ er@@ g@@ e(@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Pre@@ par@@ e@@ M@@ er@@ g@@ e@@ VDS@@ Command.getParameters().get@@ StoragePool@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Pre@@ par@@ e@@ M@@ er@@ g@@ e@@ VDS@@ Command.getParameters().get@@ Storage@@ Job@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Pre@@ par@@ e@@ M@@ er@@ g@@ e@@ VDS@@ Command.getParameters().get@@ Sub@@ ch@@ ain@@ Info@@ ().@@ con@@ ver@@ t@@ To@@ Vds@@ m@@ M@@ er@@ g@@ e@@ Snapshots@@ Info@@ ()); }
@java.lang.Override protected org.ovirt.engine.core.common.utils.@@ To@@ String@@ Buil@@ der append@@ Att@@ rib@@ ut@@ es@@ (org.ovirt.engine.core.common.@@ utils.@@ To@@ String@@ Buil@@ der t@@ sb@@ ) { return super@@ .@@ append@@ Att@@ rib@@ ut@@ es(@@ t@@ sb@@ ).@@ append("@@ s@@ r@@ c@@ Info@@ ", get@@ S@@ r@@ c@@ Info@@ ()).@@ append("@@ d@@ st@@ Info@@ ", get@@ D@@ st@@ Info@@ ()).@@ append("@@ c@@ oll@@ ap@@ se@@ ", c@@ oll@@ ap@@ se@@ ); }
@java.lang.Override protected org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ En@@ u@@ m get@@ Command@@ St@@ ep@@ () { return org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Enum@@ .@@ C@@ OL@@ D@@ _M@@ ER@@ G@@ E@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.bll.storage.@@ utils.@@ Vds@@ Command@@ s@@ Helper.@@ run@@ Vds@@ Command@@ With@@ Fail@@ o@@ ver@@ (@@ VDSCommand@@ Type.@@ C@@ old@@ M@@ er@@ g@@ e@@ , new org.ovirt.engine.core.common.vdscommands.@@ C@@ old@@ M@@ er@@ g@@ e@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ Storage@@ Job@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ S@@ r@@ c@@ Info@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ D@@ st@@ Info@@ ()), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ StoragePool@@ Id(), this@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { log.@@ info@@ ("@@ S@@ k@@ ip@@ p@@ ing c@@ re@@ at@@ ing on '{}@@ '@@ ", c@@ re@@ at@@ ing@@ VDS@@ Command.getParameters().get@@ Vds@@ Id()); set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ p@@ c m@@ er@@ g@@ e(@@ java.lang.String job@@ Id, java.util.@@ Map t@@ op@@ Image@@ , java.util.@@ Map b@@ ase@@ Image@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ S@@ D@@ M@@ .@@ m@@ er@@ g@@ e@@ ").@@ with@@ Parameter("@@ t@@ op@@ ", t@@ op@@ Image@@ ).@@ with@@ Parameter("@@ b@@ ase@@ ", b@@ ase@@ Image@@ ).@@ with@@ Parameter("@@ job@@ _id", job@@ Id@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
private org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command@@ Parameters build@@ C@@ old@@ M@@ er@@ g@@ e@@ Parameters(@@ org.ovirt.engine.core.compat.Guid s@@ r@@ c@@ Image@@ Guid@@ , org.ovirt.engine.core.compat.Guid d@@ est@@ Image@@ D@@ uid@@ ) { org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ StoragePool@@ Id(), new org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ Info@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Image@@ Group@@ Id(), s@@ r@@ c@@ Image@@ Guid@@ ), new org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ Info@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Image@@ Group@@ Id(), d@@ est@@ Image@@ D@@ uid@@ )); parameters.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ Vdc@@ Action@@ Parameters@@ Bas@@ e.@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); parameters.set@@ Parent@@ Command@@ (VdcActionType.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ ); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Parameters@@ ()); return parameters@@ ; }
@java.lang.Override protected org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ En@@ u@@ m get@@ Command@@ St@@ ep@@ () { return org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Enum@@ .@@ F@@ IN@@ AL@@ I@@ Z@@ E@@ _M@@ ER@@ G@@ E@@ ; }
org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Status@@ ReturnForXmlR@@ p@@ c final@@ ize@@ M@@ er@@ g@@ e(@@ java.lang.String sp@@ U@@ UID@@ , java.lang.String job@@ U@@ UID@@ , java.util.Map<java.lang.String, java.lang.String> sub@@ ch@@ ain@@ Info@@ );
@java.lang.Override protected void execute@@ I@@ r@@ s@@ Broker@@ Command() { org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ F@@ in@@ al@@ ize@@ M@@ er@@ g@@ e@@ VDS@@ Command.get@@ I@@ r@@ s@@ Proxy@@ ().@@ pre@@ par@@ e@@ M@@ er@@ g@@ e(@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ F@@ in@@ al@@ M@@ er@@ g@@ e@@ VDS@@ Command.getParameters().get@@ StoragePool@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ F@@ in@@ al@@ ize@@ M@@ er@@ g@@ e@@ VDS@@ Command.getParameters().get@@ Storage@@ Job@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ F@@ in@@ al@@ ize@@ M@@ er@@ g@@ e@@ VDS@@ Command.getParameters().get@@ Sub@@ ch@@ ain@@ Info@@ ().@@ con@@ ver@@ t@@ To@@ Vds@@ m@@ M@@ er@@ g@@ e@@ Snapshots@@ Info@@ ()); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Status@@ ReturnForXmlR@@ p@@ c final@@ ize@@ M@@ er@@ g@@ e(@@ java.lang.String sp@@ U@@ UID@@ , java.lang.String job@@ U@@ UID@@ , java.util.Map<java.lang.String, java.lang.String> sub@@ ch@@ ain@@ Info@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ S@@ D@@ M@@ .@@ final@@ ize@@ _@@ m@@ er@@ g@@ e@@ ").@@ with@@ Parameter("@@ storage@@ pool@@ ID@@ ", sp@@ U@@ UID@@ ).@@ with@@ Parameter("@@ job@@ _id", job@@ U@@ UID@@ ).@@ with@@ Parameter("@@ sub@@ ch@@ ain@@ _@@ info@@ ", sub@@ ch@@ ain@@ Info@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ Status@@ ReturnForXmlR@@ pc@@ (@@ respon@@ se@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.vdscommands.@@ C@@ old@@ M@@ er@@ g@@ e@@ I@@ R@@ S@@ Command@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ C@@ old@@ M@@ er@@ g@@ e@@ I@@ R@@ S@@ Command@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ F@@ in@@ al@@ ize@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ F@@ in@@ al@@ ize@@ M@@ er@@ g@@ e@@ Command.get@@ Job@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ F@@ in@@ al@@ ize@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ Sub@@ ch@@ ain@@ Info@@ ()); run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ F@@ in@@ al@@ ize@@ M@@ er@@ g@@ e@@ , parameters@@ ); }
private void update@@ H@@ a@@ M@@ a@@ int@@ en@@ ance@@ Avail@@ ab@@ ility@@ (@@ java.util.@@ List item@@ s) { get@@ En@@ able@@ G@@ lo@@ b@@ al@@ H@@ a@@ M@@ a@@ int@@ en@@ ance@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ false@@ ); get@@ Dis@@ able@@ G@@ lo@@ b@@ al@@ H@@ a@@ M@@ a@@ int@@ en@@ ance@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ false@@ ); if ((@@ item@@ s == null@@ ) || ((@@ item@@ s.@@ size()) != 1@@ )) { return@@ ; } org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ .get@@ SelectedItem@@ (); if ((@@ vm == null@@ ) || (!(@@ vm@@ .is@@ Host@@ ed@@ Engin@@ e()@@ ))) { return@@ ; } org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Host@@ By@@ Id@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Callback@@ <org.ovirt.engine.core.common.businessentities.@@ VDS@@ >() { @java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { boolean is@@ M@@ a@@ int@@ en@@ anc@@ e = vds.get@@ H@@ ig@@ h@@ ly@@ Available@@ G@@ lo@@ b@@ al@@ M@@ a@@ int@@ en@@ anc@@ e(); get@@ En@@ able@@ G@@ lo@@ b@@ al@@ H@@ a@@ M@@ a@@ int@@ en@@ ance@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((!@@ is@@ M@@ a@@ int@@ en@@ ance@@ )); get@@ Dis@@ able@@ G@@ lo@@ b@@ al@@ H@@ a@@ M@@ a@@ int@@ en@@ ance@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ is@@ M@@ a@@ int@@ en@@ ance@@ ); } }@@ ), vm.get@@ Run@@ On@@ Vds@@ ()); }
@java.lang.Override public java.util.Map<java.lang.String, java.lang.String> get@@ Job@@ Message@@ Properties@@ () { java.util.Map<java.lang.String, java.lang.String> pro@@ p@@ s = super@@ .get@@ Job@@ Message@@ Properties@@ (); pro@@ p@@ s.@@ put@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ ST@@ E@@ P@@ _@@ DE@@ V@@ IC@@ E_@@ TYP@@ E@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Remove@@ Device@@ From@@ S@@ AN@@ StorageDomain@@ Command.getParameters().get@@ Device@@ Id()); return pro@@ p@@ s@@ ; }
@org.junit.Test public void test@@ F@@ in@@ d@@ External@@ Mac@@ Address@@ es@@ () { when(@@ mock@@ Mac@@ Poo@@ l.@@ is@@ Mac@@ In@@ R@@ ang@@ e(@@ org.ovirt.engine.core.bll.network.@@ vm@@ .@@ External@@ Vm@@ Mac@@ s@@ F@@ inder@@ Test.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ 1@@ )).@@ thenReturn(@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E); when(@@ mock@@ Mac@@ Poo@@ l.@@ is@@ Mac@@ In@@ R@@ ang@@ e(@@ org.ovirt.engine.core.bll.network.@@ vm@@ .@@ External@@ Vm@@ Mac@@ s@@ F@@ inder@@ Test.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ 2@@ )).@@ thenReturn(@@ java.lang.Boolean@@ .@@ F@@ AL@@ SE@@ ); vm@@ .set@@ Interfac@@ es(@@ java.util.Arrays.as@@ List(@@ v@@ Nic@@ 1, v@@ Nic@@ 2@@ )); final java.util.Set@@ <java.lang.String@@ > act@@ u@@ al = un@@ der@@ Test.@@ fin@@ d@@ External@@ Mac@@ Address@@ es@@ (vm@@ ); assert@@ That@@ (@@ act@@ u@@ al@@ , contains(@@ org.ovirt.engine.core.bll.network.@@ vm@@ .@@ External@@ Vm@@ Mac@@ s@@ F@@ inder@@ Test.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ 2@@ )); }
private static boolean is@@ Display@@ Type@@ Supported@@ (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type dis@@ play@@ Type, java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type, org.ovirt.engine.core.common.businessentities.@@ Display@@ Type@@ >> g@@ raphics@@ And@@ Display@@ s) { if (@@ dis@@ play@@ Type == (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ n@@ one@@ )) { return true@@ ; } for (org.ovirt.engine.core.common.@@ utils.@@ Pair@@ <org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type, org.ovirt.engine.core.common.businessentities.@@ Display@@ Type@@ > p@@ a@@ i@@ r : g@@ raphics@@ And@@ Display@@ s) { if (@@ dis@@ play@@ Type.@@ equals(@@ p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ())) { return true@@ ; } } return false@@ ; }
public void add@@ V@@ id@@ eo@@ Devic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ Base@@ , int num@@ ber@@ Of@@ V@@ id@@ eo@@ Devic@@ es) { for (@@ int i = 0@@ ; i < num@@ ber@@ Of@@ V@@ id@@ eo@@ Devic@@ es@@ ; i@@ +@@ ) { if ((@@ vm@@ Base.get@@ Default@@ Display@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ n@@ on@@ e) { add@@ Manage@@ d@@ Device@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), vm@@ Base.get@@ Id@@ ()), VmDevice@@ Gener@@ al@@ Type.@@ V@@ ID@@ E@@ O@@ , vm@@ Base.get@@ Default@@ Display@@ Typ@@ e().get@@ Default@@ VmDevice@@ Typ@@ e(), get@@ V@@ id@@ eo@@ Device@@ Sp@@ ec@@ Param@@ s(@@ vm@@ Base@@ ), true@@ , false@@ ); } }
@java.lang.Override protected boolean validate(@@ ) { boolean return@@ Valu@@ e = true@@ ; org.ovirt.engine.core.common.businessentities.@@ Per@@ mis@@ si@@ on p = per@@ mission@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.getParameters().get@@ Permission@@ ().get@@ Id()); if (org.ovirt.engine.core.bll.@@ Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ is@@ L@@ ast@@ Sup@@ er@@ User@@ Permission@@ (p@@ .get@@ Role@@ Id@@ ())) { org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ ().@@ add(@@ EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ L@@ A@@ ST@@ _@@ SUP@@ ER_@@ US@@ ER_@@ RO@@ LE@@ .toString@@ ()); return@@ Valu@@ e = false@@ ; } else if ((@@ p@@ .get@@ Role@@ Typ@@ e().@@ equals(@@ Role@@ Type.@@ AD@@ M@@ IN@@ )) && (!@@ (org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.@@ is@@ System@@ Sup@@ er@@ User@@ ()))) { add@@ Validation@@ Message@@ (EngineMessage.@@ P@@ ER@@ M@@ IS@@ SI@@ ON_@@ RE@@ M@@ OV@@ E_@@ FAILED_@@ ON@@ L@@ Y_@@ S@@ Y@@ ST@@ EM@@ _@@ SUP@@ ER_@@ US@@ ER_@@ C@@ AN@@ _@@ RE@@ M@@ OV@@ E_@@ AD@@ M@@ IN@@ _@@ RO@@ LE@@ S@@ ); return@@ Valu@@ e = false@@ ; } else if ((@@ p@@ .get@@ Object@@ Id(), Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ S@@ Y@@ ST@@ EM@@ _@@ O@@ B@@ J@@ EC@@ T_@@ ID@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ p@@ .get@@ Ad@@ Element@@ Id(), Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ E@@ V@@ ER@@ Y@@ ON@@ E_@@ O@@ B@@ J@@ EC@@ T_@@ ID@@ ))) { add@@ Validation@@ Message@@ (EngineMessage.@@ S@@ Y@@ ST@@ EM@@ _P@@ ER@@ M@@ IS@@ SI@@ ON@@ S_@@ C@@ AN@@ T_@@ B@@ E_@@ RE@@ M@@ OV@@ ED_@@ T@@ O@@ _@@ E@@ V@@ ER@@ Y@@ ON@@ E); return@@ Valu@@ e = false@@ ; } if (!(@@ java.util.@@ Object@@ s.@@ equals(@@ p@@ .get@@ Ad@@ Element@@ Id(), org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.getParameters().get@@ T@@ arget@@ Id@@ ()))) && ((@@ db@@ User@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ Remove@@ Permission@@ Command.getParameters().get@@ T@@ arget@@ Id@@ ())) != null@@ )) { add@@ Validation@@ Message@@ (EngineMessage.@@ IN@@ H@@ ER@@ I@@ T@@ ED_@@ P@@ ER@@ I@@ T@@ ED_@@ P@@ ER@@ M@@ IS@@ SI@@ ON_@@ C@@ AN@@ T_@@ B@@ E_@@ RE@@ M@@ OV@@ ED); return@@ Valu@@ e = false@@ ; } return return@@ Value@@ ; }
@org.junit.Test public void test@@ Get@@ Lun@@ s@@ That@@ B@@ reak@@ P@@ ass@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ F@@ ull@@ P@@ ass@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ B@@ () { create@@ Vm@@ Disk@@ On@@ S@@ d@@ (@@ false@@ , false@@ ); create@@ Vm@@ Disk@@ On@@ S@@ d@@ (@@ true@@ , true@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ That@@ B@@ reak@@ s@@ Dis@@ c@@ ard@@ Supp@@ or@@ t = create@@ Lun@@ With@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ (0@@ L@@ , false@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s lun@@ That@@ B@@ reak@@ s@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Th@@ e@@ Data@@ Supp@@ or@@ t = create@@ Lun@@ With@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ (@@ 1@@ 0@@ 2@@ 4@@ L@@ , false@@ ); assert@@ Get@@ Lun@@ s@@ That@@ B@@ reak@@ P@@ ass@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ Cont@@ ain@@ s@@ Exp@@ ected@@ Lun@@ (@@ java.util.Arrays.as@@ List@@ (c@@ reate@@ Lun@@ With@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ (@@ 1@@ 0@@ 2@@ 4@@ L@@ , true@@ ), lun@@ That@@ B@@ reak@@ s@@ Dis@@ c@@ ard@@ Support@@ , lun@@ B@@ reak@@ s@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ Data@@ Support@@ ), java.util.Arrays.as@@ List(@@ lun@@ That@@ B@@ reak@@ s@@ Dis@@ c@@ ard@@ Support@@ , lun@@ B@@ reak@@ s@@ Dis@@ c@@ ard@@ Support@@ , lun@@ B@@ reak@@ s@@ Dis@@ c@@ ard@@ Support@@ )); }
@org.junit.Test public void test@@ Get@@ Lun@@ s@@ That@@ B@@ reak@@ P@@ ass@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ P@@ ass@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ Do@@ es@@ n@@ t@@ B@@ rea@@ k@@ () { create@@ Vm@@ Disk@@ On@@ S@@ d@@ (@@ false@@ , false@@ ); create@@ Vm@@ Disk@@ On@@ S@@ d@@ (@@ true@@ , true@@ ); assert@@ Get@@ Lun@@ s@@ That@@ B@@ reak@@ P@@ ass@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ Cont@@ ain@@ s@@ Exp@@ ected@@ Lun@@ s(@@ java.util.Arrays.as@@ List@@ (c@@ reate@@ Lun@@ With@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ (@@ 1@@ 0@@ 2@@ 4@@ L@@ , true@@ ), create@@ Lun@@ With@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ (@@ 2@@ 0@@ 4@@ 8@@ L@@ , true@@ )@@ ), java.util.Collections.@@ em@@ pty@@ List@@ ()); }
private org.ovirt.engine.core.bll.ValidationResult host@@ Status@@ L@@ eg@@ al@@ For@@ SetupNetworks@@ () { boolean host@@ Status@@ L@@ eg@@ al@@ For@@ Setup@@ Network@@ s = (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Host@@ Validator.@@ LE@@ G@@ AL@@ _@@ ST@@ AT@@ U@@ SE@@ S@@ .@@ contains(@@ hos@@ t.get@@ Status@@ ())) || (((@@ hos@@ t.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ In@@ st@@ all@@ ing@@ )) && (@@ int@@ er@@ nal@@ Execution@@ )); if (!@@ host@@ Status@@ L@@ eg@@ al@@ For@@ Setup@@ Network@@ s) { org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ Validator.@@ log@@ g@@ er.@@ error@@ ((@@ "@@ Fail@@ ed to set@@ u@@ p network@@ : o@@ per@@ ation c@@ an on@@ l@@ y b@@ e do@@ n@@ '@@ t Hos@@ t stat@@ u@@ s is on@@ e o@@ f@@ : {}@@ ; " + c@@ urr@@ ent stat@@ u@@ s is {@@ } org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ Validator.@@ LE@@ G@@ AL@@ _@@ ST@@ AT@@ U@@ SE@@ S_@@ ST@@ R@@ , hos@@ t.get@@ Status@@ ()); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VDS@@ _@@ ST@@ AT@@ U@@ S_@@ I@@ L@@ LE@@ G@@ AL@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ re@@ pl@@ ace@@ With@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Host@@ Validator.@@ VAR@@ _@@ HOST@@ _@@ ST@@ AT@@ US@@ , org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ Validator.@@ LE@@ G@@ AL@@ _@@ ST@@ AT@@ U@@ SE@@ S@@ , "@@ ,@@ ", org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ Validator.@@ LE@@ G@@ AL@@ _@@ ST@@ AT@@ U@@ SE@@ S@@ .@@ siz@@ e())); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public void set@@ O@@ l@@ d@@ Cluster@@ Version@@ Of@@ Snapshot@@ With@@ Mem@@ or@@ y@@ (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <@@ java.lang.Boolean@@ , org.ovirt.engine.core.compat.@@ Version@@ >> e@@ n@@ try = e@@ n@@ try@@ .get@@ Valu@@ e(); if (@@ e@@ n@@ try@@ .get@@ Valu@@ e()) { org.ovirt.engine.core.compat.@@ Vers@@ ion or@@ i@@ gin@@ al@@ Cluster@@ Vers@@ ion = e@@ n@@ try@@ .get@@ Valu@@ e(); } else { this@@ .@@ old@@ Cluster@@ Version@@ Of@@ Snapshot@@ With@@ Mem@@ or@@ y = e@@ n@@ try@@ .get@@ Valu@@ e(); } }
@java.lang.Override protected void execute@@ I@@ r@@ s@@ Broker@@ Command() { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.@@ Remove@@ Vm@@ L@@ e@@ ase@@ VDS@@ Command.get@@ I@@ r@@ s@@ Proxy@@ ().@@ remove@@ Vm@@ L@@ e@@ as@@ e(@@ org.ovirt.engine.core.vdsbroker.@@ Remove@@ Vm@@ L@@ e@@ ase@@ VDS@@ Command.getParameters().get@@ L@@ e@@ ase@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ Remove@@ Vm@@ L@@ e@@ ase@@ VDS@@ Command.getParameters().get@@ StorageDomain@@ Id().@@ toString@@ ()); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n remove@@ Vm@@ L@@ e@@ as@@ e(@@ java.lang.String le@@ ase@@ U@@ UID@@ , java.lang.String sd@@ U@@ UID@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ L@@ e@@ as@@ e.@@ d@@ elet@@ e@@ ").@@ with@@ Parameter("@@ le@@ ase@@ _id", le@@ ase@@ U@@ UID@@ ).@@ with@@ Parameter("@@ sd@@ _id", sd@@ U@@ UID@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Return(@@ respon@@ se@@ ); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n add@@ Vm@@ L@@ e@@ as@@ e(@@ java.lang.String le@@ ase@@ U@@ UID@@ , java.lang.String sd@@ U@@ UID@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ L@@ e@@ as@@ e.c@@ reate@@ ").@@ with@@ Parameter("@@ le@@ ase@@ _id", le@@ ase@@ U@@ UID@@ ).@@ with@@ Parameter("@@ sd@@ _id", sd@@ U@@ UID@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Return(@@ respon@@ se@@ ); }
@java.lang.Override protected void execute@@ I@@ r@@ s@@ Broker@@ Command() { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.@@ AddVm@@ L@@ e@@ ase@@ VDS@@ Command.get@@ I@@ r@@ s@@ Proxy@@ ().add@@ Vm@@ L@@ e@@ as@@ e(@@ org.ovirt.engine.core.vdsbroker.@@ AddVm@@ L@@ e@@ ase@@ VDS@@ Command.getParameters().get@@ L@@ e@@ ase@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.@@ AddVm@@ L@@ e@@ ase@@ VDS@@ Command.getParameters().get@@ StorageDomain@@ Id().@@ toString@@ ()); }
@java.lang.Override protected void execute@@ Vm@@ Command() { vm@@ Handler.@@ w@@ ar@@ n@@ Memory@@ Size@@ L@@ eg@@ al@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm@@ ().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ ()); java.util.List<java.lang.String> error@@ Message@@ s = new java.util.ArrayList<@@ >(); if (!@@ (c@@ an@@ AddVm@@ (@@ error@@ Messages@@ , d@@ est@@ Stor@@ ages.@@ valu@@ es@@ ()))) { log.error@@ ("@@ Fail@@ ed to ad@@ d VM@@ . Th@@ e re@@ ason@@ s are@@ : {}@@ ", java.lang.String.@@ j@@ o@@ in@@ ("@@ ,@@ ", error@@ Messages@@ )); return@@ ; } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > add@@ Vm@@ Static@@ (); add@@ Vm@@ Dynamic@@ (); add@@ VmNetwork@@ (); add@@ Vm@@ Numa@@ Nod@@ es@@ (); add@@ Vm@@ Statistic@@ s(); add@@ Active@@ Snapshot@@ (); add@@ Vm@@ Permission@@ (); add@@ Vm@@ Init@@ (); add@@ Vm@@ Rng@@ Devic@@ e(); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; }); if (@@ add@@ Vm@@ Images@@ ()) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { c@@ opy@@ Disk@@ Vm@@ Devic@@ es@@ (); add@@ Disk@@ Permission@@ s(); add@@ Vm@@ P@@ ay@@ load@@ (); update@@ S@@ m@@ art@@ C@@ ard@@ Devic@@ es@@ (); add@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ (); add@@ Graphics@@ Devic@@ e(); setAction@@ Return@@ Value(@@ getVm@@ ().get@@ Id()); set@@ Succeeded@@ (@@ true@@ ); return null@@ ; } }); } if ((org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Pool@@ Id()) != null@@ ) { add@@ Vm@@ To@@ Pool@@ (); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ > get@@ Volum@@ es@@ Supported@@ As@@ StorageDomain@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ > volume@@ s = getCall@@ sHandler().execute@@ Read@@ List@@ ("@@ Get@@ Gluster@@ Volum@@ es@@ Supported@@ As@@ StorageDomain@@ ", org.ovirt.engine.core.dao.@@ gluster.GlusterVolume@@ Dao@@ Impl.@@ volume@@ Row@@ Map@@ per@@ , getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ re@@ pl@@ ic@@ a@@ _@@ c@@ ount@@ ", 3@@ )); return volum@@ es@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ All@@ Gluster@@ Volum@@ es@@ For@@ StorageDomain@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ All@@ Gluster@@ Volum@@ es@@ For@@ StorageDomain@@ Query.get@@ GlusterVolume@@ Dao().get@@ Volum@@ es@@ Supported@@ As@@ StorageDomain@@ ()); org.ovirt.engine.core.bll.@@ gluster.@@ Get@@ All@@ Gluster@@ Volum@@ es@@ For@@ StorageDomain@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Succeeded@@ (@@ true@@ ); }
public org.ovirt.engine.core.bll.ValidationResult is@@ Mac@@ As@@ s@@ ign@@ able@@ Validator@@ () { java.lang.@@ B@@ oolean al@@ low@@ D@@ up@@ Mac@@ s = mac@@ Poo@@ l.@@ is@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ Address@@ es@@ Allow@@ ed@@ (); boolean il@@ l@@ eg@@ al@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ Us@@ age@@ Mac@@ Us@@ age@@ Mac@@ Us@@ age@@ Mac@@ s = (!@@ al@@ low@@ D@@ up@@ Mac@@ s) && (@@ mac@@ Poo@@ l.@@ is@@ Mac@@ In@@ Us@@ e(@@ mac@@ Address@@ )); org.ovirt.engine.core.common.errors.@@ EngineMess@@ age fail@@ Mess@@ age = org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ NETWOR@@ K@@ _M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ IN@@ _@@ US@@ E@@ ; return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (@@ fail@@ Message@@ , EngineMessage.@@ NETWOR@@ K@@ _M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ IN@@ _@@ US@@ ED); }
private void get@@ Default@@ Configuration@@ Version@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ Lo@@ gin@@ Model lo@@ gin@@ Model) { org.ovirt.engine.ui.frontend.AsyncQuery call@@ back = new org.ovirt.engine.ui.frontend.Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Callback@@ <@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ >() { @java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { if (@@ return@@ Valu@@ e != null@@ ) { _@@ default@@ Configuration@@ Vers@@ ion = return@@ Valu@@ e.get@@ ReturnValu@@ e(); } else { _@@ default@@ Configuration@@ Vers@@ ion = org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider.@@ G@@ EN@@ ER@@ AL@@ ; } lo@@ gin@@ Model.get@@ Log@@ ged@@ In@@ Event@@ ().@@ r@@ a@@ is@@ e(@@ lo@@ gin@@ Model@@ , EventArg@@ s.@@ EM@@ P@@ TY@@ ); } }); callback@@ .set@@ Handl@@ e@@ Fail@@ ure@@ (@@ true@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Default@@ Configuration@@ Version@@ , new org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Bas@@ e(), callback@@ ); }
@java.lang.Override public boolean validate(@@ ) { get@@ Gluster@@ Volum@@ es@@ ().@@ validate@@ SelectedItem@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), new org.ovirt.engine.ui.uicommonweb.validation.@@ L@@ ength@@ Validation@@ (@@ 1@@ 2@@ 8@@ ) }); return (get@@ Gluster@@ Volum@@ es@@ ().get@@ Is@@ Valid@@ ()) && (@@ super@@ .@@ valid@@ at@@ e()); }
@java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { if (@@ return@@ Valu@@ e != null@@ ) { _@@ default@@ Configuration@@ Vers@@ ion = return@@ Valu@@ e.get@@ ReturnValu@@ e(); } else { _@@ default@@ Configuration@@ Vers@@ ion = org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider.@@ G@@ EN@@ ER@@ AL@@ ; } lo@@ gin@@ Model.get@@ Log@@ ged@@ In@@ Event@@ ().@@ r@@ a@@ is@@ e(@@ lo@@ gin@@ Model@@ , EventArg@@ s.@@ EM@@ P@@ TY@@ ); }
@java.lang.Override protected java.lang.String r@@ ender@@ Null@@ S@@ af@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity gluster@@ Volume@@ ) { return gluster@@ Volum@@ e.get@@ Nam@@ e(); }
@java.lang.Override public void edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Gluster@@ Storage@@ Model object@@ ) { d@@ ri@@ v@@ er.@@ edit@@ (@@ object@@ ); gluster@@ Volum@@ es@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); p@@ ath@@ Ex@@ am@@ ple@@ Label@@ .set@@ Visi@@ bl@@ e@@ (((@@ object.get@@ Path@@ ().get@@ Is@@ Avail@@ abl@@ e()) && (@@ object.get@@ Path@@ ().get@@ Is@@ Chang@@ abl@@ e()@@ ))); gluster@@ Storage@@ Model.get@@ Link@@ Gluster@@ Volum@@ e().get@@ Entity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if (@@ gluster@@ Storage@@ Model.get@@ Link@@ Gluster@@ Volum@@ e().get@@ Entity@@ ()) { gluster@@ Volum@@ es@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (@@ true@@ ); p@@ ath@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); } else { gluster@@ Volum@@ es@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); p@@ ath@@ Editor@@ .set@@ Visi@@ bl@@ e@@ (@@ true@@ ); } }); }
void init@@ Editor@@ s() { lin@@ k@@ GlusterVolume@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ gener@@ ic@@ .@@ EntityModel@@ Check@@ B@@ o@@ x@@ Editor@@ (@@ org.ovirt.engine.ui.common.widget.@@ Al@@ ign@@ .@@ R@@ I@@ G@@ H@@ T@@ ); gluster@@ Volum@@ es@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Null@@ S@@ afe@@ R@@ I@@ G@@ H@@ T@@ ); gluster@@ Volum@@ es@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Null@@ S@@ afe@@ R@@ I@@ G@@ H@@ T@@ ); gluster@@ Volum@@ es@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Null@@ S@@ afe@@ R@@ I@@ G@@ H@@ T@@ ); gluster@@ Volum@@ es@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Nam@@ e(); }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ >> s@@ cor@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ ) { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ > host@@ Vi@@ ol@@ ation@@ s = get@@ Host@@ s@@ Vi@@ ol@@ ation@@ s(@@ false@@ , host@@ s, vm@@ , new org.ovirt.engine.core.common.@@ scheduling.@@ Per@@ Host@@ Messages@@ ()); java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ >> ret@@ List = new java.util.ArrayList<@@ >(); int s@@ cor@@ e@@ ; for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { s@@ cor@@ e = (@@ host@@ Vi@@ ol@@ ation@@ s.@@ contain@@ s@@ Key@@ (@@ hos@@ t.get@@ Id@@ ())) ? host@@ Vi@@ ol@@ ation@@ s.get@@ (@@ hos@@ t.get@@ Id()) : org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Vm@@ To@@ Host@@ A@@ f@@ fin@@ ity@@ W@@ e@@ ig@@ ht@@ Policy@@ Un@@ it.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ S@@ C@@ OR@@ E@@ ; ret@@ Lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.common.utils.Pair@@ (@@ hos@@ t.get@@ Id(), s@@ cor@@ e@@ )); } return ret@@ List@@ ; }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > filter@@ (org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Per@@ Host@@ Message@@ s mess@@ ages@@ ) { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ > host@@ Vi@@ ol@@ ation@@ s = get@@ Host@@ s@@ Vi@@ ol@@ ation@@ s@@ (@@ true@@ , host@@ s, vm@@ , mess@@ ages@@ ); return host@@ s@@ ; }
public static void init@@ () { org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ os@@ Rep@@ os@@ itor@@ y = org.ovirt.engine.core.common.utils.@@ S@@ im@@ ple@@ De@@ p@@ end@@ enc@@ y@@ In@@ j@@ ect@@ or@@ .getInstance().get@@ (org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ class@@ ); org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ db@@ Facad@@ e = org.ovirt.engine.core.common.utils.@@ S@@ im@@ ple@@ De@@ p@@ end@@ enc@@ y@@ In@@ j@@ ect@@ or@@ .getInstance().get@@ (@@ org.ovirt.engine.core.dal.dbbroker.DbFacad@@ e@@ .@@ class@@ ); org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ db@@ Facad@@ e.get@@ VmDevice@@ Dao@@ (); org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ vm@@ D@@ a@@ o = org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ db@@ Facad@@ e.get@@ Vm@@ Dao@@ (); }
private static org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ Cont@@ ro@@ ll@@ er@@ Model get@@ Us@@ b@@ Cont@@ ro@@ ll@@ er@@ Model@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ Bas@@ e) { final org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ vm@@ Dao@@ .get@@ (vm@@ Base.get@@ Id()); return org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ Os@@ Us@@ b@@ Cont@@ ro@@ ll@@ er@@ Model@@ (vm@@ Base.get@@ Os@@ Id(), vm.get@@ CompatibilityVersion@@ ()); }
@java.lang.Override public java.lang.String r@@ ender@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain do@@ m@@ ain@@ ) { return do@@ ma@@ in != null ? do@@ m@@ ain@@ .get@@ Name(@@ ) : org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ Abstract@@ Vm@@ Popup@@ Widget@@ .@@ const@@ an@@ t@@ s.@@ em@@ pty@@ le@@ ase@@ StorageDomain@@ (); }
@java.lang.Override public void p@@ ost@@ DataCenter@@ With@@ Cluster@@ SelectedItem@@ Changed@@ () { de@@ acti@@ vate@@ In@@ stance@@ Type@@ Manager@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.vms.@@ instanc@@ et@@ yp@@ es.@@ In@@ stance@@ Type@@ Manager.@@ Acti@@ vat@@ ed@@ Listener@@ () { @java.lang.Override public void acti@@ vat@@ ed@@ () { get@@ In@@ stance@@ Type@@ Manager@@ ().@@ update@@ All@@ (); } }); update@@ Default@@ Host@@ (); update@@ Custom@@ Property@@ Sh@@ e@@ et@@ (); update@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ (); update@@ NumOf@@ S@@ ock@@ et@@ s(); if ((get@@ Model().get@@ Template@@ With@@ Version@@ ().get@@ SelectedItem@@ ()) != null@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e templat@@ e = getModel().get@@ Template@@ With@@ Version@@ ().get@@ SelectedItem@@ ().get@@ Template@@ Version@@ (); update@@ Quota@@ By@@ Cluster@@ (@@ templat@@ e.get@@ Quota@@ Id(), templat@@ e.get@@ Quota@@ Name()); } update@@ Cpu@@ P@@ in@@ ning@@ Visi@@ bility@@ (); update@@ Templat@@ e(); update@@ O@@ S@@ Valu@@ es@@ (); update@@ Memory@@ B@@ alloon@@ (); update@@ Cpu@@ Sh@@ ar@@ es@@ Avail@@ ab@@ ility@@ (); update@@ Vir@@ ti@@ o@@ S@@ csi@@ Avail@@ ab@@ ility@@ (); acti@@ vate@@ In@@ stance@@ Type@@ Manager@@ (); update@@ L@@ e@@ ase@@ StorageDomain@@ s(); }
java.lang.String em@@ pty@@ le@@ ase@@ StorageDomain@@ ();
public void build@@ Vm@@ L@@ e@@ as@@ e() { java.util.Map<java.lang.String, java.lang.Object> devi@@ c@@ e = new java.util.HashMap@@ <@@ >(); devi@@ c@@ e.@@ put(@@ Vds@@ Properties.@@ Type, Vds@@ Properties.@@ Vm@@ L@@ e@@ as@@ e); devi@@ c@@ e.@@ put(@@ Vds@@ Properties.@@ Device@@ , Vds@@ Properties.@@ Vm@@ L@@ e@@ as@@ e); devi@@ c@@ e.@@ put(@@ Vds@@ Properties.@@ Device@@ Id, org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); devi@@ c@@ e.@@ put(@@ Vds@@ Properties.@@ Vm@@ L@@ e@@ ase@@ S@@ d@@ Id, vm.get@@ L@@ e@@ ase@@ StorageDomain@@ Id()); devi@@ c@@ es.@@ add(@@ devi@@ ce@@ ); }
private boolean validate@@ Storage@@ Properties@@ Updat@@ e() { org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator = get@@ StorageDomain@@ Validator@@ (); if ((@@ (!(@@ check@@ StorageDomain@@ Status@@ Not@@ E@@ qual@@ (@@ StorageDomain@@ Status.@@ Lock@@ ed@@ ))) || (!(@@ validate@@ Storage@@ Name@@ Updat@@ e()@@ ))) || (!@@ ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.get@@ StoragePool@@ Id()) != null@@ ) && (@@ validate@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ L@@ eg@@ al@@ (@@ storageDomain@@ Validator@@ )))) { return false@@ ; } java.util.List<java.lang.String> pro@@ p@@ s = org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er@@ .get@@ Changed@@ Fi@@ el@@ ds@@ (@@ old@@ Domain@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); pro@@ p@@ s.@@ remov@@ e(@@ "@@ storage@@ Name@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ d@@ escription@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ c@@ omm@@ ent@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ w@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ cri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ "); if (!(@@ pro@@ p@@ s.@@ isEmpty())) { log.@@ w@@ ar@@ n@@ ("@@ Th@@ e w@@ a@@ s an at@@ temp@@ t to updat@@ e the f@@ ol@@ low@@ ing fi@@ eld@@ s al@@ th@@ o@@ ug@@ h th@@ e@@ y ar@@ e not al@@ low@@ ed to b@@ e updat@@ ed@@ : {}@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ pro@@ p@@ s, "@@ ,@@ ")); return fail@@ Validation@@ (EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ C@@ H@@ AN@@ G@@ E_@@ STORAGE_DOMAIN@@ _@@ FI@@ E@@ L@@ D@@ S@@ ); } return true@@ ; }
private void gener@@ ate@@ St@@ r@@ uct@@ Read@@ On@@ e(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ St@@ r@@ uct@@ Type typ@@ e) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ ava@@ Class@@ Name type@@ Name = java@@ Typ@@ es@@ .get@@ Interface@@ Name(@@ typ@@ e); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ ava@@ Class@@ Name contain@@ er@@ Name = java@@ Typ@@ es@@ .get@@ Cont@@ ain@@ er@@ Name(@@ typ@@ e); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ type@@ Name@@ ); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Import@@ (@@ contain@@ er@@ Name@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ javax.@@ json@@ .@@ st@@ re@@ am@@ .@@ J@@ son@@ Par@@ ser@@ .@@ class@@ ); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ S@@ im@@ ple@@ "); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(); java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ St@@ r@@ uct@@ Mem@@ ber@@ > mem@@ ber@@ s = new java.util.ArrayList<@@ >(); mem@@ ber@@ s.@@ add@@ All@@ (@@ typ@@ e.get@@ Att@@ rib@@ ut@@ es@@ ()); mem@@ ber@@ s.@@ add@@ All@@ (@@ typ@@ e.get@@ Link@@ s()); java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ %@@ 1@@ $@@ s read@@ On@@ e(@@ J@@ son@@ Read@@ er read@@ er@@ , boolean st@@ art@@ ed@@ ) { type@@ Nam@@ e.get@@ S@@ im@@ ple@@ Name()); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ S@@ im@@ ple@@ "); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ S@@ im@@ ple@@ "); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ "); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ read@@ er.@@ exp@@ ect@@ (@@ J@@ son@@ Par@@ s@@ er.@@ Ev@@ ent.@@ START@@ _@@ O@@ B@@ J@@ EC@@ T@@ )); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); java@@ B@@ u@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); java@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ %@@ 1@@ $@@ s(); contain@@ er@@ Nam@@ e.get@@ S@@ im@@ ple@@ Name()); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ ne@@ xt@@ () == J@@ son@@ Par@@ ser@@ .@@ J@@ son@@ Par@@ ser@@ .@@ K@@ E@@ Y_@@ NAM@@ E@@ Y_@@ NAM@@ E@@ Y_@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ s@@ k@@ ip@@ ()); java@@ B@@ u@@ f@@ er.@@ read@@ Lin@@ e(@@ "@@ default@@ Read@@ er@@ .get@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ default@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ default@@ B@@ u@@ f@@ f@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ er.@@ read@@ Lin@@ e(@@ "@@ default@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ er.@@ toString@@ (); java@@ B@@ u@@ f@@ er.@@ toString@@ (); java@@ B@@ u@@ f@@ er.@@ toString@@ (); java@@ B@@ u@@ f@@ er.@@ read@@ Lin@@ e(@@ "@@ }@@ "); java@@ B@@ u@@ f@@ er.@@ toString@@ (); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ Mem@@ B@@ u@@ f@@ er.@@ read@@ Lin@@ e(@@ "@@ s@@ ort@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ s@@ ort@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ read@@ Lin@@ e(@@ "@@ s@@ ort@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ s@@ ort@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ read@@ Lin@@ e(@@ "@@ default@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); java@@ B@@ u@@ f@@ er.@@ toString@@ ()); java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@
protected void remove@@ Snapshots@@ From@@ D@@ B@@ () { for (org.ovirt.engine.core.compat.Guid snapshot@@ Id : snapshot@@ sTo@@ Remove@@ ) { org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ n@@ a@@ p = snapshot@@ Dao@@ .get@@ (s@@ napshot@@ Id); if (s@@ n@@ a@@ p != null@@ ) { java.lang.String mem@@ ory@@ Volum@@ e = snapshot@@ Dao@@ .get@@ (s@@ napshot@@ Id@@ ).get@@ Memory@@ Volum@@ e(); if ((!@@ (@@ mem@@ ory@@ Volum@@ e.@@ isEmpty())) && ((@@ snapshot@@ Dao@@ .get@@ NumOf@@ Snapshots@@ By@@ Memory@@ (@@ mem@@ ory@@ Volume@@ )) == 1@@ )) { boolean s@@ uc@@ ce@@ ed = org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.@@ remove@@ Memory@@ Disk@@ s(@@ mem@@ ory@@ Volume@@ ); if (!@@ s@@ uc@@ ceed@@ ) { log.error@@ ("@@ Fail@@ ed to remov@@ e mem@@ or@@ y '{}@@ ' of s@@ napsho@@ t '{}@@ ' mem@@ ory@@ Volume@@ , snapshot@@ Id); } snapshot@@ Dao@@ .@@ remov@@ e(@@ snapshot@@ Id); } }
public static org.ovirt.engine.core.bll.ValidationResult snapshot@@ Vm@@ Configuration@@ Brok@@ en@@ (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t snapshot@@ , java.lang.String vm@@ Name@@ ) { return !@@ (s@@ napsho@@ t.@@ is@@ Vm@@ Configuration@@ Brok@@ en@@ ()) ? org.ovirt.engine.core.bll.ValidationResult.@@ VAL@@ I@@ D : new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ H@@ A@@ S_@@ NO@@ _C@@ ON@@ FI@@ G@@ UR@@ A@@ TI@@ ON@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Vm@@ Name %@@ 1@@ $@@ s", vm@@ Name@@ ), java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Snapshot@@ Name %@@ 1@@ $@@ s", s@@ napsho@@ t.get@@ Description@@ ())); }
private java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > fin@@ d@@ Snapshots@@ With@@ Only@@ I@@ ll@@ eg@@ al@@ Disks@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > new@@ er@@ Snapshot@@ s = get@@ New@@ er@@ Snapshot@@ s(@@ snapshot@@ ); java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > snapshot@@ sTo@@ Remov@@ e = new java.util.Hash@@ Set@@ <@@ >(); new@@ er@@ Snapshots@@ .@@ for@@ E@@ ach@@ (@@ ( snapshot@@ ) -@@ > { org.ovirt.engine.core.common.businessentities.VM vm = snapshot@@ Vm@@ Configuration@@ Hel@@ per@@ .get@@ Vm@@ From@@ Configuration@@ (s@@ napsho@@ t.get@@ Vm@@ Configuration@@ (), s@@ napsho@@ t.get@@ Vm@@ Id(), s@@ napsho@@ t.get@@ Id()); if (@@ vm != null@@ ) { boolean sh@@ oul@@ d@@ Remov@@ e = (!(@@ vm.get@@ Images@@ ().@@ st@@ re@@ am@@ ().@@ all@@ Match@@ (@@ ( disk@@ Image@@ ) -@@ > (disk@@ Image.get@@ Image@@ Status()) == Image@@ Status.@@ I@@ L@@ LE@@ G@@ AL@@ )); if (@@ sh@@ oul@@ d@@ Remove@@ ) { snapshot@@ sTo@@ Remov@@ e.@@ add(@@ s@@ napsho@@ t.get@@ Id()); } } }); return snapshot@@ sTo@@ Remove@@ ; }
public boolean validate(@@ ) { if ((@@ back@@ ing@@ Fil@@ e) == null@@ ) { get@@ In@@ valid@@ ity@@ Reason@@ s().add(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Image@@ Info@@ Model@@ .@@ const@@ an@@ t@@ s.@@ up@@ load@@ Image@@ File@@ Not@@ Exist@@ ()); return false@@ ; } if (@@ back@@ ing@@ Fil@@ e) { get@@ In@@ valid@@ ity@@ Reason@@ s().add(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Image@@ Info@@ Model@@ .@@ const@@ an@@ t@@ s.@@ up@@ load@@ Image@@ Back@@ ing@@ File@@ Un@@ support@@ ed@@ ()); return false@@ ; } return true@@ ; }
java.lang.String ex@@ ex@@ ex@@ t Image@@ File@@ Not@@ Exist@@ ();
private boolean is@@ Att@@ rib@@ ut@@ es@@ (c@@ om@@ .@@ th@@ o@@ ug@@ ht@@ wor@@ k@@ s.@@ q@@ do@@ x.@@ model.@@ J@@ ava@@ Met@@ h@@ o@@ d java@@ Method@@ ) { return (@@ java.util.@@ Object@@ s.@@ equals(@@ get@@ Entity@@ ().get@@ Id(), get@@ Entity@@ ().get@@ Id()); }
private void an@@ al@@ y@@ z@@ e@@ Method@@ (c@@ om@@ .@@ th@@ o@@ ug@@ ht@@ wor@@ k@@ s.@@ q@@ do@@ x.@@ model.@@ J@@ ava@@ Cl@@ as@@ s java@@ Class@@ , org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Servic@@ e ser@@ vi@@ ce@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ h@@ o@@ d = new org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ (); an@@ al@@ y@@ z@@ e@@ Name(@@ java@@ Class@@ , m@@ et@@ hod@@ ); an@@ al@@ y@@ z@@ e@@ An@@ not@@ ation@@ s(@@ java@@ Class@@ , m@@ et@@ hod@@ ); an@@ al@@ y@@ z@@ e@@ D@@ oc@@ um@@ ent@@ ation@@ (@@ java@@ Class@@ , m@@ et@@ hod@@ ); java@@ Class@@ .get@@ Method@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( x@@ ) -@@ > an@@ al@@ y@@ z@@ e@@ Method@@ Mem@@ ber@@ (@@ x@@ , m@@ et@@ hod@@ )); com@@ .@@ th@@ o@@ ug@@ ht@@ wor@@ k@@ s.@@ q@@ do@@ x.@@ J@@ ava@@ Met@@ h@@ o@@ d att@@ rib@@ ut@@ es@@ Met@@ h@@ o@@ d = java@@ Class@@ .get@@ Method@@ ("@@ att@@ rib@@ ut@@ es@@ ", null@@ , false@@ ); if (@@ att@@ rib@@ ut@@ es@@ Met@@ h@@ o@@ d != null@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ al@@ y@@ z@@ er.@@ Att@@ rib@@ ut@@ es@@ An@@ al@@ y@@ z@@ er att@@ rib@@ ut@@ es@@ An@@ al@@ y@@ z@@ er = new org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ al@@ y@@ z@@ er.@@ Att@@ rib@@ ut@@ es@@ An@@ al@@ y@@ z@@ er@@ (); att@@ rib@@ ut@@ es@@ An@@ al@@ y@@ z@@ er.@@ an@@ al@@ y@@ z@@ e@@ Att@@ rib@@ ut@@ es(@@ att@@ rib@@ ut@@ es@@ Method@@ .get@@ Source@@ Cod@@ e(), m@@ et@@ hod@@ .get@@ Parameters@@ ()); } m@@ et@@ hod@@ .set@@ D@@ ec@@ l@@ ar@@ ing@@ Servic@@ e(@@ ser@@ vi@@ ce@@ ); ser@@ vi@@ c@@ e.@@ add@@ Method@@ (@@ m@@ et@@ hod@@ ); }
public java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er.@@ Att@@ rib@@ ut@@ e@@ Node@@ > get@@ Nod@@ es@@ () { return n@@ od@@ es@@ ; }
public org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er.@@ Att@@ rib@@ ut@@ e@@ Nod@@ e get@@ Nod@@ e(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name nam@@ e) { for (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er.@@ Att@@ rib@@ ut@@ e@@ Nod@@ e n@@ od@@ e : n@@ od@@ es) { if (@@ n@@ od@@ e.get@@ Name()@@ .equals(@@ name@@ )) { return n@@ ode@@ ; } } return null@@ ; }
public org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er.@@ Att@@ rib@@ ut@@ e@@ Nod@@ e get@@ Att@@ rib@@ ut@@ es@@ () { return att@@ rib@@ ut@@ es@@ ; }
@org.junit.Test public void test@@ F@@ in@@ d@@ Mapp@@ ing@@ E@@ n@@ try@@ Empty@@ External@@ () { final java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > act@@ u@@ al = un@@ der@@ Test.@@ fin@@ d@@ Mapp@@ ing@@ E@@ n@@ try@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ F@@ inder@@ Test.@@ NETWORK_@@ NAM@@ E@@ , org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ F@@ inder@@ Test.@@ V@@ N@@ IC@@ _P@@ RO@@ FI@@ LE@@ 1@@ _@@ NAM@@ E@@ , java.util.Arrays.as@@ List(@@ em@@ pty@@ Source@@ Mapp@@ ing@@ )); assert@@ Fal@@ se(@@ act@@ u@@ al.@@ is@@ P@@ resent@@ ()); }
@org.junit.Test public void test@@ F@@ in@@ d@@ Mapp@@ ing@@ E@@ n@@ try@@ Empty@@ Source@@ Vnic@@ Profil@@ e() { final java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > act@@ u@@ al = un@@ der@@ Test.@@ fin@@ d@@ Mapp@@ ing@@ E@@ n@@ try@@ (@@ null@@ , java.util.Arrays.as@@ List(@@ em@@ pty@@ Source@@ Mapp@@ ing@@ )); assert@@ That@@ (@@ act@@ u@@ al@@ .get@@ (), s@@ ame@@ Instanc@@ e(@@ em@@ pty@@ Source@@ Mapp@@ ing@@ )); }
@java.lang.Override public <@@ U extends T@@ > javax.@@ enter@@ p@@ r@@ is@@ e.@@ in@@ j@@ ec@@ t.@@ In@@ stance@@ <@@ U@@ > s@@ el@@ ect@@ (@@ java.lang.@@ Class@@ <@@ U@@ > a@@ Class@@ , java.lang.@@ an@@ not@@ ation@@ .@@ An@@ not@@ ation@@ .@@ .@@ . an@@ not@@ ation@@ s) { return create@@ Mock@@ (@@ a@@ Class@@ ); }
private java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ it@@ y@@ > get@@ New@@ Vnic@@ Profile@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Entity@@ Data@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ Import@@ Entity@@ Data@@ , java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ > cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s) { final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ > result = new java.util.Hash@@ Set@@ <@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface v@@ n@@ ic : vm@@ Import@@ Entity@@ Data@@ .get@@ Entity@@ ().get@@ Interfaces@@ ()) { final org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ it@@ y new@@ Mapp@@ ing = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ (@@ v@@ nic@@ .get@@ Network@@ Name(), v@@ nic@@ .get@@ Vnic@@ Profile@@ Name(), null@@ ); if (!@@ (c@@ ach@@ ed@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ ())) { result@@ .@@ add@@ (@@ new@@ Mapp@@ ing@@ ); } } return result@@ ; }
private void update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ () { for (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Entity@@ Data@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ Import@@ Entity@@ Data : get@@ Enti@@ ties@@ ().get@@ Item@@ s()) { final org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = vm@@ Import@@ Entity@@ Data@@ .get@@ Cluster@@ ().get@@ SelectedItem@@ (); final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ it@@ y@@ > cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ ; if (@@ ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ C@@ luster.@@ contain@@ s@@ Key@@ (cluster@@ )) { cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s = ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ .get@@ (cluster@@ ); } else { cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s = new java.util.Hash@@ Set@@ (); ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ C@@ luster.@@ put@@ (cluster@@ , cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s); } final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ it@@ > vm@@ Vnic@@ Profile@@ s = get@@ New@@ Vnic@@ Profile@@ Mapp@@ ing@@ s(@@ vm@@ Import@@ Entity@@ Data@@ , cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s); cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s.@@ add@@ All@@ (vm@@ Vnic@@ Profil@@ es@@ ); } }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ Model model@@ ) { d@@ ri@@ v@@ er.@@ edit@@ (model@@ ); re@@ fresh@@ Mapp@@ ing@@ s@@ T@@ able(@@ model.get@@ Mapp@@ ing@@ Model@@ Row@@ s()); model.get@@ Mapp@@ ing@@ Model@@ Row@@ s().get@@ Item@@ s@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { re@@ fresh@@ Mapp@@ ing@@ s@@ T@@ able(@@ model.get@@ Mapp@@ ing@@ Model@@ Row@@ s()); } }); c@@ luster.@@ set@@ Label@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ View@@ .@@ const@@ an@@ t@@ s@@ .@@ import@@ Vm@@ _@@ d@@ est@@ Cluster@@ ()); }
private void re@@ fresh@@ Mapp@@ ing@@ s@@ T@@ able(@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Model@@ > m@@ app@@ ing@@ Model@@ Row@@ s) { v@@ nic@@ Profile@@ Mapp@@ ing@@ s@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (@@ m@@ app@@ ing@@ Model@@ Row@@ s); }
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ Model f@@ l@@ us@@ h@@ () { return d@@ ri@@ v@@ er.@@ f@@ l@@ us@@ h@@ (); }
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.models.@@ ListModel get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Model object@@ ) { return object.get@@ T@@ arget@@ Vnic@@ Profil@@ e(); }
public org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ View@@ > get@@ T@@ arget@@ Vnic@@ Profil@@ e() { return target@@ Vnic@@ Profile@@ ; }
private java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > get@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ ) { final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ > v@@ nic@@ Profile@@ Mapp@@ ing@@ En@@ iti@@ es = ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ .get@@ (cluster@@ ); final java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > result = new java.util.Array@@ List(@@ v@@ nic@@ Profile@@ Mapp@@ ing@@ En@@ i@@ ties.@@ siz@@ e()); for (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ it@@ y v@@ nic@@ Profile@@ Mapp@@ ing@@ En@@ it@@ y : v@@ nic@@ Profile@@ Mapp@@ ing@@ En@@ i@@ ties@@ ) { res@@ ult.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ (@@ v@@ nic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ )); } return result@@ ; }
private void create@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ Model@@ () { update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ (); v@@ nic@@ Profile@@ Mapp@@ ing@@ s@@ Model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ Model@@ (@@ this@@ , ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ ); v@@ nic@@ Profile@@ Mapp@@ ing@@ s@@ Model.@@ initial@@ iz@@ e(); }
private void s@@ el@@ ect@@ T@@ arget@@ Vnic@@ Profile@@ By@@ P@@ red@@ ic@@ ate(@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ I@@ P@@ red@@ ic@@ ate@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ View@@ > p@@ red@@ ic@@ ate@@ ) { final org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ Vi@@ e@@ w v@@ nic@@ Profil@@ e = org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ fi@@ r@@ st@@ Or@@ Default@@ (@@ target@@ Vnic@@ Profil@@ e.get@@ Item@@ s@@ (), p@@ red@@ ic@@ ate@@ , Vnic@@ Profile@@ View@@ .@@ EM@@ P@@ TY@@ ); target@@ Vnic@@ Profil@@ e.set@@ SelectedItem@@ (@@ v@@ nic@@ Profil@@ e); }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { get@@ Entity@@ ().set@@ Vnic@@ Profile@@ Id@@ (get@@ T@@ arget@@ Vnic@@ Profile@@ Id()); }
private void s@@ el@@ ect@@ In@@ itial@@ T@@ arget@@ Vnic@@ Profil@@ e() { final org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ I@@ P@@ red@@ ic@@ ate@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ View@@ > p@@ red@@ ic@@ ate@@ ; if ((get@@ Entity@@ ().get@@ Vnic@@ Profile@@ Id()) == null@@ ) { p@@ red@@ ic@@ at@@ e = new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ I@@ P@@ red@@ ic@@ ate@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ View@@ >() { @java.lang.Override public boolean mat@@ ch@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vnic@@ Profile@@ Vi@@ e@@ w v@@ nic@@ Profil@@ e) { return (@@ java.util.@@ Object@@ s.@@ equals(@@ get@@ Entity@@ ().get@@ External@@ Network@@ Name(), v@@ nic@@ Profil@@ e.get@@ Network@@ Name()@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ get@@ Entity@@ ().get@@ External@@ Network@@ Name(), v@@ nic@@ Profil@@ e.get@@ Name()@@ )); } }; } else { p@@ red@@ ic@@ at@@ e = new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ I@@ P@@ red@@ ic@@ ate@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ View@@ >() { @java.lang.Override public boolean mat@@ ch@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vnic@@ Profile@@ Vi@@ e@@ w v@@ nic@@ Profil@@ e) { return java.util.@@ Object@@ s.@@ equals(@@ get@@ Entity@@ ().get@@ Vnic@@ Profile@@ Id(), v@@ nic@@ Profil@@ e.get@@ Id()); } }; } s@@ el@@ ect@@ T@@ arget@@ Vnic@@ Profile@@ By@@ P@@ red@@ ic@@ ate(@@ p@@ red@@ ic@@ ate@@ ); }
private void s@@ el@@ ect@@ In@@ itial@@ T@@ arget@@ Vnic@@ Profil@@ e() { final org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ I@@ P@@ red@@ ic@@ ate@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ View@@ > p@@ red@@ ic@@ ate@@ ; if (get@@ Entity@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vnic@@ Profile@@ ) { p@@ red@@ ic@@ at@@ e = new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ I@@ P@@ red@@ ic@@ ate@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ View@@ >() { @java.lang.Override public boolean mat@@ ch@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vnic@@ Profile@@ Vi@@ e@@ w v@@ nic@@ Profil@@ e) { return java.util.@@ Object@@ s.@@ equals(@@ get@@ Entity@@ ().get@@ Vnic@@ Profile@@ Id(), v@@ nic@@ Profile@@ .get@@ Id@@ (), v@@ nic@@ Profile@@ .get@@ Id@@ ())); } }; } else { p@@ red@@ ic@@ at@@ e = new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ I@@ P@@ red@@ ic@@ ate@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ View@@ >() { @java.lang.Override public boolean mat@@ ch@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vnic@@ Profile@@ Vi@@ e@@ w v@@ nic@@ Profil@@ e) { return ((@@ java.util.@@ Object@@ s.@@ equals(@@ get@@ Entity@@ ().get@@ External@@ Network@@ Name(), v@@ nic@@ Profile@@ .get@@ Network@@ Name()@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ get@@ Entity@@ ().get@@ External@@ Network@@ Name(), v@@ nic@@ Profil@@ e.get@@ Name()@@ )); } }; } s@@ el@@ ect@@ T@@ arget@@ Vnic@@ Profile@@ By@@ P@@ red@@ ic@@ ate(@@ p@@ red@@ ic@@ ate@@ ); }
private org.ovirt.engine.core.compat.Guid get@@ T@@ arget@@ Vnic@@ Profile@@ Id@@ () { final org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ Vi@@ e@@ w selected@@ Vnic@@ Profil@@ e = target@@ Vnic@@ Profil@@ e.get@@ SelectedItem@@ (); if ((@@ selected@@ Vnic@@ Profil@@ e == null@@ ) || (s@@ elected@@ Vnic@@ Profil@@ e == (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vnic@@ Profile@@ View@@ .@@ EM@@ P@@ TY@@ ))) { return null@@ ; } else { return selected@@ Vnic@@ Profil@@ e.get@@ Id@@ (); }
private void on@@ Vnic@@ Profile@@ Map@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } create@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ Model@@ (); set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ v@@ nic@@ Profile@@ Mapp@@ ing@@ s@@ Model@@ ); }
@java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand command@@ ) { super@@ .@@ execute@@ Command@@ (command@@ ); if (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Re@@ g@@ ist@@ er@@ Vm@@ Model.@@ V@@ N@@ IC@@ _P@@ RO@@ FI@@ LE@@ _M@@ A@@ P@@ ING@@ _C@@ O@@ M@@ AN@@ D@@ .equals(@@ command@@ .getName()@@ )) { on@@ Vnic@@ Profile@@ Map@@ (); } }
@java.lang.Override public org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Model@@ B@@ ound@@ Popup@@ P@@ res@@ enter@@ Widget@@ <@@ ? extends org.ovirt.engine.ui.uicommonweb.models.@@ Model@@ , ?@@ > get@@ Model@@ Popup@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Re@@ g@@ ist@@ er@@ Vm@@ Model source@@ , org.ovirt.engine.ui.uicommonweb.UICommand l@@ ast@@ Execut@@ ed@@ Command@@ , org.ovirt.engine.ui.uicommonweb.models.@@ Model w@@ in@@ do@@ w@@ Model) { if (@@ l@@ ast@@ Execut@@ ed@@ C@@ ommand == (s@@ ourc@@ e.get@@ Vnic@@ Profile@@ Mapp@@ ing@@ Command@@ ())) { return v@@ nic@@ Profile@@ Mapp@@ ing@@ s@@ Popup@@ P@@ res@@ enter@@ Widget@@ Provider@@ .get@@ (); } return super@@ .get@@ Model@@ Popup@@ (s@@ ource@@ , l@@ ast@@ Execut@@ ed@@ Command@@ , w@@ in@@ do@@ w@@ Model@@ ); }
@java.lang.Override protected java.lang.String r@@ ender@@ Null@@ S@@ af@@ e(@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ Vi@@ e@@ w profil@@ e) { return profil@@ e == (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vnic@@ Profile@@ View@@ .@@ EM@@ P@@ TY@@ ) ? org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ View@@ .@@ mess@@ ages.@@ em@@ pty@@ Profil@@ e().@@ as@@ String@@ () : org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ View@@ .@@ mess@@ ages.@@ profil@@ e@@ And@@ Network@@ Selected@@ (@@ profil@@ e.get@@ Name(), profil@@ e.get@@ Network@@ Name()@@ ).@@ as@@ String@@ (); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er@@ Vm@@ Data re@@ g@@ ist@@ er@@ Vm@@ Data@@ ) { java.lang.String pro@@ bl@@ em@@ ; if ((@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Error@@ ()) != null@@ ) { pro@@ bl@@ e@@ m = re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Error@@ (); } else { pro@@ bl@@ e@@ m = re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ W@@ arning@@ (); } return pro@@ bl@@ e@@ m == null ? null : com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (@@ pro@@ bl@@ em@@ ); }
private void p@@ ost@@ C@@ lust@@ ers@@ Init@@ () { validate@@ All@@ Mac@@ s(); for (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Re@@ g@@ ist@@ er@@ Vm@@ Data re@@ g@@ ist@@ er@@ Vm@@ Data : get@@ Enti@@ ties@@ ().get@@ Item@@ s()) { final org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s> validate@@ Mac@@ s@@ List@@ en@@ er = new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { final java.lang.@@ B@@ oolean re@@ ass@@ ign@@ Mac@@ s = re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Re@@ ass@@ ign@@ Mac@@ s().get@@ Entity@@ (); if (@@ re@@ ass@@ ign@@ Mac@@ s) { cl@@ e@@ ar@@ Vm@@ Mac@@ s@@ W@@ arning@@ (@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ ); } else { validate@@ Vm@@ Mac@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ )); } } }; re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Re@@ ass@@ ign@@ Mac@@ s().get@@ Entity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ validate@@ Mac@@ s@@ Listener@@ ); re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Cluster@@ ().get@@ SelectedItem@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ validate@@ Mac@@ s@@ Listener@@ ); }
@java.lang.Override public void initial@@ iz@@ e() { get@@ Cluster@@ ().get@@ Item@@ s@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { p@@ ost@@ C@@ lust@@ ers@@ Init@@ (); } }); super@@ .@@ initial@@ iz@@ e(); vm@@ sBy@@ Id = map@@ Vms@@ By@@ Id@@ (get@@ Enti@@ ties@@ ().get@@ Item@@ s()); }
private void set@@ Vm@@ Mac@@ s@@ W@@ arning@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Re@@ g@@ ist@@ er@@ Vm@@ Data vm@@ Data@@ , java.lang.String message@@ , java.lang.@@ B@@ oolean a@@ Tr@@ ue@@ ) { vm@@ Data@@ .set@@ W@@ arning@@ (@@ message@@ ); vm@@ Data@@ .get@@ B@@ ad@@ Mac@@ s@@ Exist@@ ().set@@ Entity(@@ a@@ Tr@@ ue@@ ); }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { final java.lang.@@ B@@ oolean re@@ ass@@ ign@@ Mac@@ s = re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Re@@ ass@@ ign@@ Mac@@ s().get@@ Entity@@ (); if (@@ re@@ ass@@ ign@@ Mac@@ s) { cl@@ e@@ ar@@ Vm@@ Mac@@ s@@ W@@ arning@@ (@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ ); } else { validate@@ Vm@@ Mac@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ )); } }
private void update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ () { for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ vm@@ s.@@ Vnic@@ Profile@@ Mapp@@ ing@@ s re@@ g@@ ist@@ er@@ Vm@@ Data : get@@ Enti@@ ties@@ ().get@@ Item@@ s()) { final org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Cluster@@ ().get@@ SelectedItem@@ (); final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ > cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ ; if (@@ ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ C@@ luster.@@ contain@@ s@@ Key@@ (cluster@@ )) { cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s = ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ .get@@ (cluster@@ ); } else { cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s = new java.util.Hash@@ Set@@ (); ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ C@@ luster.@@ put@@ (cluster@@ , cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s); } final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ > vm@@ Vnic@@ Profile@@ s = get@@ New@@ Vnic@@ Profile@@ Mapp@@ ing@@ s(@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ , cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s); cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s.@@ add@@ All@@ (vm@@ Vnic@@ Profil@@ es@@ ); } }
private java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ > get@@ New@@ Vnic@@ Profile@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ vm@@ s@@ .@@ re@@ g@@ ist@@ er@@ Vm@@ Data re@@ g@@ ist@@ er@@ Vm@@ Data@@ , java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ > cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s) { final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ > result = new java.util.Hash@@ Set@@ <@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface v@@ n@@ ic : re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Entity@@ ().get@@ Interfaces@@ ()) { final org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ it@@ y new@@ Mapp@@ ing = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ (@@ v@@ nic@@ .get@@ Network@@ Name(), v@@ nic@@ .get@@ Vnic@@ Profile@@ Name(), null@@ ); if (!@@ (c@@ ach@@ ed@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ .@@ contain@@ s@@ (@@ new@@ Mapp@@ ing@@ ))) { result@@ .@@ add@@ (@@ new java.util.@@ Link@@ ed@@ Hash@@ Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ network.@@ VmNetwork@@ Interface v@@ n@@ ic : re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Entity@@ ().get@@ Interfaces@@ ()) { final org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ it@@ y new@@ Mapp@@ ing = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ En@@ ity@@ (@@ v@@ nic@@ .get@@ Network@@ Name(), v@@ nic@@ .get@@ Vnic@@ Profile@@ Name(), null@@ ); if (!@@ (c@@ ach@@ ed@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ (@@ new@@ Mapp@@ ing@@ ))) { result@@ ; } } return result@@ ; }
private java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ > map@@ Vms@@ By@@ Id(@@ java.util.Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ > vm@@ s) { final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ > result = new java.util.HashMap@@ <@@ >(); for (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Re@@ g@@ ist@@ er@@ Vm@@ Data vm : vm@@ s) { res@@ ult.@@ put@@ (vm@@ .get@@ Vm@@ ().get@@ Id(), vm@@ ); } return result@@ ; }
public long set@@ A@@ ri@@ k@@ (@@ long ar@@ i@@ k@@ ) { long result = this@@ .@@ ar@@ i@@ k@@ ; this@@ .@@ ar@@ i@@ k = ar@@ i@@ k@@ ; return result@@ ; }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t public void init@@ () { set@@ A@@ ri@@ k@@ (@@ java.lang.@@ System@@ .@@ n@@ an@@ o@@ Tim@@ e()); org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Stati@@ c = vm@@ Static@@ Dao@@ .get@@ (vm@@ Id); if (vm@@ Stati@@ c != null@@ ) { update@@ Static@@ Fi@@ el@@ ds@@ (vm@@ Static@@ ); } }
void pro@@ ceed@@ Down@@ Vm@@ () { if (((@@ java.lang.@@ System@@ .@@ n@@ an@@ o@@ Tim@@ e()) - (get@@ Vm@@ Manager@@ ().get@@ A@@ ri@@ k@@ ())) < 0) { cl@@ e@@ ar@@ Vm@@ (@@ Vm@@ Ex@@ it@@ Status.@@ N@@ or@@ m@@ al@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s sh@@ u@@ t@@ do@@ w@@ n comp@@ let@@ e getVm@@ Manager@@ ().get@@ Name()@@ ), Vm@@ Ex@@ it@@ Reason@@ .@@ Success@@ ); return@@ ; } d@@ est@@ ro@@ y@@ Vm@@ (); if (!(@@ is@@ Vm@@ Run@@ ning@@ In@@ Data@@ b@@ ase@@ On@@ M@@ onitor@@ ed@@ Host@@ ())) { return@@ ; } log@@ Vm@@ Status@@ Trans@@ ition@@ (); switch (@@ db@@ Vm@@ .get@@ Status()) { case S@@ av@@ ing@@ Stat@@ e : res@@ ource@@ Manager@@ .@@ int@@ er@@ nal@@ Set@@ Vm@@ Status(@@ db@@ Vm@@ , VM@@ Status.@@ S@@ us@@ p@@ end@@ ed@@ ); cl@@ e@@ ar@@ Vm@@ (@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Ex@@ it@@ Status@@ (), vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Ex@@ it@@ Message@@ (), vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Ex@@ it@@ Reason@@ ()); res@@ ource@@ Manager.@@ remove@@ Async@@ Run@@ ning@@ Vm@@ (@@ db@@ Vm@@ .getId()); audit@@ Vm@@ S@@ us@@ p@@ end@@ ed@@ (); break@@ ; case Migr@@ at@@ ing@@ F@@ ro@@ m : switch (@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Ex@@ it@@ Status()) { case N@@ or@@ m@@ al : h@@ and@@ O@@ ver@@ Vm@@ (); break@@ ; case E@@ r@@ ro@@ r : ab@@ ort@@ Vm@@ Migr@@ ation@@ (); if (get@@ Vm@@ Manager@@ ().is@@ A@@ uto@@ Start@@ ()) { set@@ A@@ uto@@ Run@@ F@@ l@@ ag@@ (); break@@ ; } } break@@ ; default : audit@@ Vm@@ On@@ Down@@ Event@@ (); cl@@ e@@ ar@@ Vm@@ (@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Ex@@ it@@ Status@@ (), vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Ex@@ it@@ Message@@ ()); switch (@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Ex@@ it@@ Status()) { case E@@ r@@ ro@@ r : if (@@ res@@ ource@@ Manager.@@ is@@ Vm@@ In@@ Async@@ Run@@ ning@@ List(@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Id@@ ())) { set@@ R@@ er@@ un@@ F@@ l@@ ag@@ (); break@@ ; } if (get@@ Vm@@ Manager@@ ().is@@ A@@ uto@@ Start@@ ()) { set@@ A@@ uto@@ Run@@ ning@@ (); break@@ ; } break@@ ; } break@@ ; } break@@ ; } }
private void pro@@ ceed@@ Dis@@ app@@ e@@ ared@@ Vm@@ () { if (((@@ java.lang.@@ System@@ .@@ n@@ an@@ o@@ Tim@@ e()) - (get@@ Vm@@ Manager@@ ().get@@ A@@ ri@@ k@@ ())) < 0) { cl@@ e@@ ar@@ Vm@@ (@@ Vm@@ Ex@@ it@@ Status.@@ N@@ or@@ m@@ al@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s sh@@ u@@ t@@ do@@ w@@ n comp@@ let@@ e getVm@@ Manager@@ ().get@@ Name()@@ ), Vm@@ Ex@@ it@@ Reason@@ .@@ Success@@ ); return@@ ; } switch (@@ db@@ Vm@@ .get@@ Status()) { case Migr@@ at@@ ing@@ F@@ ro@@ m@@ : h@@ and@@ O@@ ver@@ Vm@@ (); break@@ ; case P@@ ower@@ ing@@ Do@@ w@@ n : cl@@ e@@ ar@@ Vm@@ (@@ Vm@@ Ex@@ it@@ Status@@ .@@ N@@ or@@ m@@ al@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s sh@@ u@@ t@@ do@@ w@@ n comp@@ let@@ e getVm@@ Manager@@ ().get@@ Name()@@ ), Vm@@ Ex@@ it@@ Reason@@ .@@ Success@@ ); if (get@@ Vm@@ Manager@@ ().is@@ C@@ old@@ R@@ eb@@ oot@@ ()) { set@@ C@@ old@@ R@@ eb@@ oot@@ F@@ l@@ ag@@ (); } break@@ ; default : cl@@ e@@ ar@@ Vm@@ (@@ Vm@@ Ex@@ it@@ Status.@@ Error@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ C@@ oul@@ d not fin@@ d VM %@@ s on host@@ , ass@@ um@@ ing i@@ t w@@ ent do@@ w@@ n u@@ ne@@ x@@ p@@ ected@@ l@@ y getVm@@ Manager@@ ().get@@ Name()@@ ), Vm@@ Ex@@ it@@ Reason@@ .@@ Gener@@ ic@@ Error@@ ); if (@@ res@@ ource@@ Manager.@@ is@@ Vm@@ In@@ Async@@ Run@@ ning@@ List(@@ db@@ Vm@@ .getId@@ ())) { set@@ R@@ er@@ un@@ F@@ l@@ ag@@ (); break@@ ; } if (get@@ Vm@@ Manager@@ ().is@@ C@@ old@@ R@@ eb@@ oot@@ ()) { set@@ C@@ old@@ R@@ eb@@ oot@@ F@@ l@@ ag@@ (); break@@ ; } if (get@@ Vm@@ Manager@@ ().is@@ A@@ uto@@ Start@@ ()) { set@@ A@@ uto@@ Run@@ F@@ l@@ ag@@ (); break@@ ; } } }
public long get@@ A@@ ri@@ k@@ () { return ar@@ i@@ k@@ ; }
private void in@@ iti@@ ate@@ Res@@ um@@ e@@ U@@ pl@@ o@@ ad@@ Start@@ Trans@@ fer@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model) (@@ result.get@@ Stat@@ e())); if (((@@ result.get@@ ReturnValu@@ e()) != null@@ ) && (@@ result.get@@ ReturnValue().get@@ Succeeded@@ ())) { org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er r@@ v = result.get@@ ReturnValue().get@@ Action@@ ReturnValu@@ e(); set@@ Command@@ Id(@@ r@@ v@@ .getId()); set@@ By@@ t@@ es@@ S@@ ent@@ (@@ r@@ v@@ .get@@ By@@ t@@ es@@ S@@ ent@@ ()); st@@ art@@ Status@@ P@@ oll@@ ing@@ (); model.@@ st@@ op@@ Progress@@ (); model.get@@ Cancel@@ Command@@ ().@@ execut@@ e(); } else { set@@ Error@@ Message@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model.@@ mess@@ ages.@@ up@@ load@@ Image@@ Fail@@ ed@@ To@@ Res@@ um@@ e@@ Message@@ (@@ result.get@@ ReturnValue().get@@ Description@@ ())); model.@@ st@@ op@@ Progress@@ (); } }
private void in@@ iti@@ ate@@ Res@@ um@@ e@@ U@@ pl@@ o@@ ad@@ Check@@ Status(@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model) (@@ result.get@@ Stat@@ e())); if (((@@ result.get@@ ReturnValu@@ e()) != null@@ ) && (@@ result.get@@ ReturnValue().get@@ Succeeded@@ ())) { org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er r@@ v = result.get@@ ReturnValue().get@@ Action@@ ReturnValu@@ e(); if ((@@ r@@ v@@ .get@@ By@@ t@@ es@@ T@@ otal@@ ()) != (get@@ Image@@ Siz@@ e())) { if ((@@ r@@ v@@ .get@@ By@@ t@@ es@@ T@@ otal@@ ()) == 0) { set@@ Progress@@ St@@ r@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model.@@ mess@@ ages.@@ up@@ load@@ Image@@ Fail@@ ed@@ To@@ Res@@ um@@ e@@ U@@ pl@@ o@@ ad@@ O@@ ri@@ gin@@ ated@@ In@@ A@@ P@@ I@@ ()); } else { set@@ Progress@@ St@@ r@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model.@@ mess@@ ages.@@ up@@ load@@ Image@@ Fail@@ ed@@ To@@ Res@@ um@@ e@@ Size@@ Message@@ (@@ r@@ v@@ .get@@ By@@ t@@ es@@ T@@ otal@@ (), get@@ Image@@ Siz@@ e())); } model.@@ st@@ op@@ Progress@@ (); return@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er update@@ s = new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ (); updat@@ es.@@ set@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ RE@@ S@@ U@@ M@@ ING@@ ); final org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ Image@@ Status@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ Image@@ Status@@ Parameters(@@ r@@ v@@ .getId()); parameters.set@@ Updat@@ es(@@ updat@@ es@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action(VdcActionType.@@ Trans@@ fer@@ Image@@ Status@@ , parameters@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execut@@ ed(org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { in@@ iti@@ ate@@ Res@@ um@@ e@@ U@@ pl@@ o@@ ad@@ Start@@ Trans@@ fer@@ (@@ result@@ ); } }, model@@ ); } else { set@@ Error@@ Message@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model.@@ mess@@ ages.@@ up@@ load@@ Image@@ Fail@@ ed@@ To@@ Res@@ um@@ e@@ Message@@ (@@ result.get@@ ReturnValue().get@@ Description@@ ())); model.@@ st@@ op@@ Progress@@ (); } }
private boolean has@@ Boot@@ Protocol@@ (org.ovirt.engine.core.bll.@@ validator.@@ Ip@@ Configur@@ ation ip@@ Configuration@@ ) { return (@@ has@@ Ip@@ v@@ 4@@ Boot@@ Protocol@@ (@@ ip@@ Configuration@@ )) || (@@ has@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ (@@ ip@@ Configuration@@ )); }
private org.ovirt.engine.core.bll.validator.@@ Network@@ Cluster@@ Validator get@@ Network@@ Cluster@@ () { if ((@@ network@@ Cluster@@ ) == null@@ ) { org.ovirt.engine.core.bll.validator.@@ Network@@ Cluster@@ Validator network@@ Cluster@@ Id = new org.ovirt.engine.core.bll.validator.@@ Network@@ Cluster@@ Validator@@ (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Network@@ Cluster@@ Command.get@@ Network@@ Cluster@@ Id(), attach@@ m@@ ent.@@ get@@ Network@@ Id()); network@@ C@@ luster = network@@ Cluster@@ Dao@@ .get(@@ network@@ Cluster@@ Id); } return network@@ Cluster@@ ; }
private boolean has@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ (org.ovirt.engine.core.bll.@@ validator.@@ Ip@@ Configur@@ ation ip@@ Configuration@@ ) { return (@@ ip@@ Configuration@@ .@@ has@@ Ip@@ v@@ 6@@ P@@ ri@@ mar@@ y@@ Address@@ Set@@ ()) && ((@@ ip@@ Configuration@@ .get@@ Ip@@ v@@ 6@@ P@@ ri@@ mar@@ y@@ Address@@ ().get@@ Boot@@ Protocol@@ ()) != (@@ Ip@@ v@@ 6@@ Boot@@ Protoc@@ o@@ l.@@ N@@ ON@@ E@@ )); }
private boolean valid@@ Boot@@ Protocol@@ For@@ Role@@ Network@@ () { if (!(@@ is@@ Role@@ Network@@ ())) { return true@@ ; } org.ovirt.engine.core.bll.validator.@@ Ip@@ Configur@@ ation ip@@ Configur@@ ation = attach@@ m@@ ent.@@ get@@ Ip@@ Configuration@@ (); if (@@ ip@@ Configur@@ ation == null@@ ) { return false@@ ; } if (get@@ Network@@ Cluster@@ ().is@@ Migr@@ ation@@ ()) { return has@@ Boot@@ Protocol@@ (@@ ip@@ Configuration@@ ); } return has@@ Ip@@ v@@ 4@@ Boot@@ Protocol@@ (@@ ip@@ Configuration@@ ); }
public org.ovirt.engine.core.bll.ValidationResult existing@@ Attachment@@ Is@@ Re@@ us@@ ed(@@ java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.bll.@@ validator.@@ NetworkAttachment@@ > existing@@ Attachment@@ sBy@@ Network@@ Id) { org.ovirt.engine.core.common.businessentities.network.@@ Network existing@@ Attachment@@ sBy@@ Network@@ Id@@ .get(@@ attach@@ m@@ ent.@@ get@@ Network@@ Id()); if (@@ existing@@ Attachment@@ With@@ Th@@ e@@ S@@ ame@@ Network == null@@ ) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ AT@@ T@@ AC@@ H@@ M@@ EN@@ T_@@ IS@@ _NOT_@@ RE@@ US@@ ED@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ validator.@@ NetworkAttachment@@ Validator.@@ VAR@@ _@@ NETWORK_@@ AT@@ T@@ AC@@ H@@ M@@ EN@@ T_@@ ID@@ , existing@@ Attachment@@ With@@ Th@@ e@@ S@@ ame@@ Network@@ .getId@@ ()), org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ validator.@@ NetworkAttachment@@ Validator.@@ VAR@@ _@@ NETWORK_@@ NAM@@ E@@ , existing@@ Attachment@@ With@@ Th@@ e@@ S@@ ame@@ Network@@ .get@@ Id().@@ equals(@@ attach@@ m@@ ent.@@ get@@ Id@@ ())); }
public org.ovirt.engine.core.bll.ValidationResult network@@ Not@@ Chang@@ ed(@@ org.ovirt.engine.core.compat.Guid old@@ Attachment@@ Id) { org.ovirt.engine.core.compat.Guid old@@ Attachment@@ Id = (@@ old@@ Attachm@@ ent == null@@ ) ? null : old@@ Attachm@@ ent.@@ get@@ Id@@ (); boolean wh@@ e@@ n = (@@ old@@ Attachm@@ ent != null@@ ) && (!(@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ Attachm@@ ent.@@ get@@ Network@@ Id(), attach@@ m@@ ent.@@ get@@ Network@@ Id@@ ()))); return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ C@@ ANNOT_@@ C@@ H@@ AN@@ G@@ E_@@ AT@@ T@@ AC@@ H@@ ED_@@ NETWOR@@ K@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ validator.@@ NetworkAttachment@@ Validator.@@ VAR@@ _@@ NETWORK_@@ AT@@ T@@ AC@@ H@@ M@@ EN@@ T_@@ ID@@ , old@@ Attachment@@ Id@@ )).@@ when(@@ old@@ Attachment@@ Id@@ )).@@ when@@ ); }
private boolean has@@ Ip@@ v@@ 4@@ Boot@@ Protocol@@ (org.ovirt.engine.core.bll.@@ validator.@@ Ip@@ Configur@@ ation ip@@ Configuration@@ ) { return (@@ ip@@ Configuration@@ .@@ has@@ Ip@@ v@@ 4@@ P@@ ri@@ mar@@ y@@ Address@@ Set@@ ()) && ((@@ ip@@ Configuration@@ .get@@ Ip@@ v@@ 4@@ P@@ ri@@ mar@@ y@@ Address@@ ().get@@ Boot@@ Protocol@@ ()) != (@@ Ip@@ v@@ 4@@ Boot@@ Protoc@@ o@@ l.@@ N@@ ON@@ E@@ )); }
protected org.ovirt.engine.core.bll.validator.@@ Network get@@ Network@@ () { if ((@@ network@@ ) == null@@ ) { n@@ etwork = network@@ Dao@@ .get(@@ attach@@ m@@ ent.@@ get@@ Network@@ Id()); } return network@@ ; }
public void on@@ Fail@@ ed@@ () { update@@ Entity@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ F@@ IN@@ IS@@ H@@ ED_@@ FAIL@@ U@@ RE@@ ); log.@@ d@@ ebug@@ ("@@ Fail@@ ed Image@@ Trans@@ f@@ er id {@@ } org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); image@@ Trans@@ fer@@ Dao@@ .@@ remov@@ e(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.@@ end@@ With@@ Failur@@ e(); log.error@@ ("@@ Fail@@ ed to trans@@ f@@ er dis@@ k {}@@ ", (c@@ ommand id '{}@@ '@@ ) {}@@ ", get@@ Image@@ Id@@ Null@@ S@@ af@@ e.get@@ Image@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); }
public void on@@ Succeeded@@ () { update@@ Entity@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ F@@ IN@@ IS@@ H@@ ED_@@ S@@ U@@ C@@ C@@ C@@ E@@ SS@@ ); log.@@ d@@ ebug@@ ("@@ F@@ oun@@ d Image@@ Trans@@ f@@ er id {@@ } org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); image@@ Trans@@ fer@@ Dao@@ .@@ remov@@ e(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.@@ end@@ Success@@ f@@ ull@@ y@@ (); log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed trans@@ fer@@ re@@ d dis@@ k {}@@ ", (c@@ ommand id '{}@@ '@@ ) get@@ Image@@ Id@@ Null@@ S@@ af@@ e@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); }
@java.lang.Override public boolean run@@ In@@ Th@@ read@@ (@@ java.lang.@@ Run@@ n@@ able run@@ n@@ able@@ ) { try { execut@@ or@@ Servic@@ e.@@ sub@@ m@@ it@@ (@@ run@@ n@@ able@@ ); return true@@ ; } catch (@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Re@@ j@@ ected@@ Execution@@ Exception e) { log.error@@ ("@@ E@@ r@@ ro@@ r re@@ j@@ ected d@@ u@@ e to@@ : {}@@ ", e.get@@ Message@@ ()); return false@@ ; } }
@java.lang.Override public org.ovirt.engine.core.bll.@@ task@@ s@@ .@@ int@@ er@@ fac@@ es.@@ Command@@ Call@@ back get@@ Callback@@ () { return new org.ovirt.engine.core.bll.@@ task@@ s.@@ Gluster@@ Storage@@ Sync@@ Callback@@ (); }
private org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ S@@ ess@@ ion get@@ Session@@ () { return g@@ eoRep@@ Dao@@ .get@@ By@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.getParameters().get@@ GeoRep@@ Session@@ Id()); }
@@@ org.ovirt.engine.core.utils.@@ tim@@ er.@@ On@@ Tim@@ er@@ Method@@ An@@ not@@ ation@@ ("@@ s@@ ync@@ Data@@ ") public void s@@ ync@@ Data@@ (java.lang.String storageDomain@@ Id, java.lang.String g@@ eoRep@@ Session@@ Id) { try { org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ Domain = storageDomain@@ Dao@@ .get@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (@@ storageDomain@@ Id@@ )); if (@@ storage@@ Domain == null@@ ) { org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ StorageDomain@@ D@@ R@@ Sync@@ Job@@ .@@ log.error@@ ("@@ N@@ o stor@@ age do@@ ma@@ in fo@@ un@@ d@@ "); return@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ S@@ ess@@ ion s@@ ess@@ ion = g@@ eoRep@@ Dao@@ .get@@ By@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (@@ g@@ eoRep@@ Session@@ Id@@ )); if (s@@ ess@@ ion == null@@ ) { org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ StorageDomain@@ D@@ R@@ Sync@@ Job@@ .@@ log.error@@ ("@@ N@@ o g@@ eo@@ -@@ re@@ pl@@ ic@@ ation s@@ ess@@ ion fo@@ un@@ d@@ "); } back@@ end@@ .@@ run@@ Internal@@ Action(VdcActionType.@@ Gluster@@ Storage@@ Sync@@ , new org.ovirt.engine.core.common.action.@@ Gluster@@ Storage@@ Sync@@ Command@@ Parameters(@@ storageDomain@@ .get@@ Id(), s@@ ession@@ .getId@@ ()), org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ create@@ Internal@@ Job@@ Context@@ ()); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ StorageDomain@@ D@@ R@@ Sync@@ Job@@ .@@ log.error@@ ("@@ E@@ r@@ ro@@ r run@@ n@@ ing d@@ r@@ ro@@ r s@@ ync@@ ", e); } }
public void set@@ Snapshot@@ Id@@ s(@@ java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.compat.Guid@@ > snapshot@@ Id@@ s) { this@@ .@@ snapshot@@ Id@@ s = snapshot@@ Id@@ Vm@@ Id@@ s@@ ; }
public java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.compat.Guid@@ > get@@ Snapshot@@ Id@@ s() { return snapshot@@ Id@@ Vm@@ Id@@ s@@ ; }
private org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ F@@ ull@@ Parameters@@ Sourc@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ D@@ R storageDomain@@ D@@ R@@ ) { return getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ storage@@ _@@ do@@ m@@ ain@@ _id", storageDomain@@ D@@ R@@ .get@@ StorageDomain@@ Id@@ ()).addValue("@@ g@@ e@@ or@@ ep@@ _@@ s@@ ession@@ _id", storageDomain@@ D@@ R@@ .get@@ GeoRep@@ Session@@ Id@@ ()).addValue("@@ s@@ ync@@ _@@ schedul@@ e@@ ", storageDomain@@ D@@ R@@ .get@@ Sync@@ Schedul@@ e()@@ ).addValue("@@ q@@ r@@ t@@ z@@ _@@ job@@ _id", storageDomain@@ D@@ R@@ .get@@ Job@@ Id()); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Sync@@ Schedul@@ e@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Schedul@@ e oth@@ er = ((org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Schedul@@ e) (@@ obj@@ )); return (((@@ java.util.@@ Object@@ s.@@ equals(@@ f@@ re@@ qu@@ enc@@ y@@ , oth@@ er.@@ f@@ re@@ qu@@ enc@@ y@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ d@@ ay@@ s, oth@@ er.@@ d@@ ay@@ s@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ h@@ our@@ , oth@@ er.@@ h@@ our@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ min@@ s, oth@@ er.@@ min@@ s@@ )); }
public java.lang.String get@@ C@@ ron@@ Exp@@ ress@@ ion@@ () { java.lang.String c@@ ron@@ Exp@@ ress@@ ion = "@@ ; switch (@@ f@@ re@@ qu@@ enc@@ y@@ ) { case D@@ AIL@@ Y : c@@ ron@@ Exp@@ ress@@ ion = org.ovirt.engine.core.compat.@@ String@@ Format@@ .@@ for@@ mat@@ ("@@ 0 %@@ s %@@ s * ? *@@ ", min@@ s, h@@ our@@ ); break@@ ; case W@@ E@@ K@@ L@@ Y : c@@ ron@@ Exp@@ ress@@ ion = org.ovirt.engine.core.compat.@@ String@@ Format@@ .@@ for@@ mat@@ ("@@ 0 %@@ s %@@ s ? * %@@ s *@@ ", min@@ s, h@@ our@@ , get@@ D@@ ay@@ s@@ C@@ ron@@ ()); case N@@ ON@@ E : c@@ ron@@ Exp@@ ress@@ ion = "@@ ; } return c@@ ron@@ Exp@@ ress@@ ion@@ ; }
public org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Sync@@ Schedul@@ e get@@ (java.lang.String c@@ ron@@ Exp@@ ress@@ ion@@ ) { org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Sync@@ Schedul@@ e schedul@@ e = new org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Sync@@ Schedul@@ e(); if ((@@ (c@@ ron@@ Exp@@ ress@@ ion == null@@ ) || (c@@ ron@@ Exp@@ ress@@ ion@@ .@@ isEmpty())) || ((@@ c@@ ron@@ Exp@@ ress@@ ion@@ .@@ s@@ pl@@ it@@ (@@ " ").@@ l@@ ength@@ ) != 7@@ )) { schedul@@ e.set@@ F@@ re@@ qu@@ enc@@ y@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Sync@@ Schedul@@ e.@@ F@@ re@@ qu@@ enc@@ y@@ .@@ N@@ ON@@ E); return schedul@@ e@@ ; } java.lang.String@@ [@@ ] c@@ ron@@ P@@ art@@ s = c@@ ron@@ Exp@@ ress@@ ion@@ .@@ s@@ pl@@ it@@ (@@ " "); if (c@@ ron@@ P@@ art@@ s@@ [@@ 5@@ ]@@ .equals(@@ "@@ ?@@ "@@ )) { schedul@@ e.set@@ F@@ re@@ qu@@ enc@@ y@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Schedul@@ e.@@ F@@ re@@ qu@@ enc@@ y@@ .@@ D@@ AIL@@ Y@@ ); } else { schedul@@ e.set@@ F@@ re@@ qu@@ enc@@ y@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Sync@@ Schedul@@ e.@@ F@@ re@@ qu@@ enc@@ y@@ .@@ W@@ E@@ K@@ L@@ Y@@ ); } schedul@@ e.set@@ M@@ in@@ s(@@ java.lang.Integ@@ er.@@ value@@ Of@@ (c@@ ron@@ P@@ art@@ s@@ [@@ 1@@ ]@@ )); schedul@@ e.set@@ H@@ our@@ (@@ java.lang.Integ@@ er.@@ value@@ Of@@ (c@@ ron@@ P@@ art@@ s@@ [@@ 2@@ ]@@ )); return schedul@@ e@@ ; }
private java.lang.String get@@ D@@ ay@@ s@@ C@@ ron@@ () { java.lang.String@@ B@@ u@@ f@@ er s@@ b = new java.lang.String@@ B@@ u@@ f@@ fer@@ (); for (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Sync@@ Schedul@@ e.@@ D@@ a@@ y d@@ a@@ y : d@@ ay@@ s) { sb@@ .@@ append@@ (@@ d@@ ay@@ .@@ nam@@ e()@@ ).@@ append("@@ ,@@ "); } sb@@ .@@ d@@ elet@@ e@@ Ch@@ ar@@ A@@ t@@ (s@@ b@@ .@@ l@@ ength@@ ()); return sb@@ .toString@@ (); }
private boolean do@@ es@@ Nic@@ H@@ ave@@ Mac@@ Address@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic vm@@ Nic@@ ) { return (vm@@ Nic@@ .get@@ Mac@@ Address@@ ()) != null@@ ; }
public org.ovirt.engine.core.bll.ValidationResult validate@@ Th@@ er@@ e@@ Is@@ En@@ o@@ ug@@ h@@ Of@@ F@@ ree@@ Mac@@ s(@@ java.util.List<@@ ? extends org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Nic@@ > vm@@ Nic@@ s, org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool mac@@ Pool@@ ) { long re@@ qui@@ red@@ Mac@@ s = st@@ re@@ am@@ Of@@ Filter@@ ed@@ Nic@@ s(@@ vm@@ Nic@@ s, false@@ ).@@ c@@ ount@@ (); boolean not@@ En@@ o@@ ug@@ h@@ Of@@ Mac@@ s = (@@ re@@ qui@@ red@@ Mac@@ s > 0) && ((@@ mac@@ Pool@@ .get@@ Available@@ Mac@@ s@@ Count@@ ()) < re@@ qui@@ red@@ Mac@@ s); return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ M@@ AC@@ _P@@ O@@ OL@@ _NOT_@@ EN@@ O@@ U@@ G@@ H@@ _M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ SE@@ S@@ ).@@ when(@@ not@@ En@@ o@@ ug@@ h@@ Of@@ Mac@@ s); }
public org.ovirt.engine.core.bll.ValidationResult validate@@ Mac@@ Address@@ (@@ java.util.List<@@ ? extends org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Nic@@ > vm@@ Nic@@ s) { for (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic if@@ ac@@ e : vm@@ Nic@@ s) { java.lang.String st@@ r = if@@ ac@@ e.get@@ Mac@@ Address@@ (); if (@@ st@@ r != null@@ ) { if (!@@ (org.ovirt.engine.core.bll.@@ validator.@@ Vm@@ Nic@@ Mac@@ s@@ Utils.@@ VALID@@ AT@@ E@@ _M@@ AC@@ _@@ AD@@ D@@ RE@@ SS@@ .@@ mat@@ ch@@ er@@ (@@ if@@ ac@@ e.get@@ Mac@@ Address@@ ()).@@ mat@@ ch@@ es@@ ())) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ NETWORK_@@ IN@@ TER@@ F@@ AC@@ E@@ _M@@ AC@@ _@@ IN@@ VALID@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Vm@@ Name %@@ 1@@ $@@ s", if@@ ac@@ e.get@@ Name()@@ ), java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Vm@@ Name %@@ 1@@ $@@ s", if@@ ac@@ e.get@@ Mac@@ Address@@ ())); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
public void re@@ pl@@ ace@@ In@@ valid@@ Empty@@ String@@ Mac@@ Address@@ es@@ With@@ Null@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > vm@@ Network@@ Interfaces@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface vm@@ Network@@ Interface : vm@@ Network@@ Interfaces@@ ) { java.lang.String mac@@ Add@@ res@@ s = vm@@ Network@@ Interfac@@ e.get@@ Mac@@ Address@@ (); if ((@@ mac@@ Add@@ res@@ s != null@@ ) && (@@ mac@@ Address@@ .@@ isEmpty())) { vm@@ Network@@ Interfac@@ e.set@@ Mac@@ Address@@ (@@ null@@ ); } }
@java.lang.Override protected boolean validate(@@ ) { if (!@@ (@@ super@@ .@@ valid@@ at@@ e())) { return false@@ ; } mac@@ Pool = get@@ Mac@@ Pool@@ (); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s@@ Map = new java.util.HashMap@@ <@@ >(); if (!(@@ validate@@ B@@ e@@ for@@ e@@ Cl@@ one@@ Vm@@ (@@ do@@ m@@ ain@@ s@@ Map@@ ))) { return false@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > vm@@ Network@@ Interface@@ s = org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ VmCommand.getVm@@ ().get@@ Interfaces@@ (); vm@@ Nic@@ Mac@@ s@@ Utils.@@ re@@ pl@@ ace@@ In@@ valid@@ Empty@@ String@@ Mac@@ Address@@ es@@ With@@ Null@@ (vm@@ Network@@ Interfaces@@ ); if (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ()) { init@@ Import@@ Cl@@ on@@ ed@@ Vm@@ (); if ((org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ Interfaces@@ ().@@ size()) > (@@ mac@@ Pool@@ .get@@ Available@@ Mac@@ s@@ Count@@ ())) { return fail@@ Validation@@ (EngineMessage.@@ M@@ AC@@ _P@@ O@@ OL@@ _NOT_@@ EN@@ O@@ U@@ G@@ H@@ _M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ SE@@ S@@ ); } if (!@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.@@ validate@@ B@@ all@@ on@@ Devic@@ e())) { return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.@@ validate@@ S@@ ound@@ Devic@@ e())) { return false@@ ; } return validate@@ A@@ f@@ ter@@ Cl@@ one@@ Vm@@ (@@ do@@ m@@ ain@@ s@@ Map@@ ); }
protected boolean init@@ Vds@@ s() { set@@ Vds@@ Id@@ Re@@ f@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ VmCommand.getVm@@ ().get@@ Run@@ On@@ Vds@@ ()); java.util.@@ Option@@ al@@ <org.ovirt.engine.core.compat.Guid@@ > vds@@ To@@ Run@@ O@@ n = get@@ Vds@@ To@@ Run@@ On@@ (); set@@ Dest@@ ination@@ Vds@@ Id(@@ vds@@ To@@ Run@@ On@@ .@@ or@@ El@@ se@@ (@@ null@@ )); if (@@ vds@@ To@@ Run@@ On@@ .is@@ P@@ resent@@ ()) { org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Run@@ Vds@@ s@@ List@@ ().@@ add(@@ vds@@ To@@ Run@@ On@@ .get@@ ()); } vm@@ Handler.@@ update@@ Vm@@ G@@ u@@ est@@ Agent@@ Version@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ VmCommand.getVm@@ ()); if (!(@@ vds@@ To@@ Run@@ On@@ .is@@ P@@ resent@@ ())) { return false@@ ; } if (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ VmCommand.getVm@@ ().get@@ Run@@ On@@ Vds@@ ().@@ equals(@@ vds@@ To@@ Run@@ On@@ .get@@ ())) { return false@@ ; } if ((get@@ Dest@@ ination@@ Vds@@ ()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Vds@@ ()) == null@@ )) { return false@@ ; } return true@@ ; }
private java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > get@@ Vds@@ B@@ l@@ ack@@ List@@ () { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > bl@@ ack@@ List = new java.util.Array@@ List@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Run@@ Vds@@ s@@ List@@ ()); if ((@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Vds@@ Id()) != null@@ ) && (!@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.@@ is@@ Internal@@ Execution@@ ()))) { bl@@ ack@@ Lis@@ t.@@ add@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Vds@@ Id()); } return bl@@ ack@@ List@@ ; }
@java.lang.Override protected void pro@@ cess@@ In@@ com@@ ing@@ () throw@@ s java.io.@@ I@@ O@@ Exception@@ , org.ovirt.vdsm.jsonrpc.client.@@ Client@@ Connection@@ Exception { if (@@ (@@ this@@ .@@ i@@ b@@ u@@ f@@ f@@ ) == null@@ ) { int rea@@ d = read@@ (@@ h@@ ead@@ er@@ B@@ u@@ f@@ fer@@ ); if (@@ rea@@ d <@@ = 0) { return@@ ; } update@@ L@@ ast@@ In@@ com@@ ing@@ H@@ e@@ art@@ b@@ eat@@ (); this@@ .@@ mess@@ age = get@@ Message@@ (@@ h@@ ead@@ er@@ B@@ u@@ f@@ fer@@ , h@@ ead@@ er@@ B@@ u@@ f@@ f@@ f@@ er.@@ p@@ os@@ ition@@ ()); if (@@ (@@ this@@ .@@ message@@ ) == null@@ ) { this@@ .@@ i@@ b@@ u@@ f@@ f = null@@ ; this@@ .@@ mess@@ age = null@@ ; return@@ ; } int cont@@ ent@@ L@@ eng@@ t@@ h = this@@ .@@ mess@@ age.get@@ Cont@@ ent@@ L@@ ength@@ (); if (@@ cont@@ ent@@ L@@ eng@@ t@@ h == (@@ -@@ 1@@ )) { java.lang.String@@ [@@ ] message@@ s = new java.lang.String@@ (@@ h@@ ead@@ er@@ B@@ u@@ f@@ er.@@ ar@@ r@@ ay@@ (), U@@ T@@ F@@ 8@@ ).@@ s@@ pl@@ it@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ END@@ _@@ O@@ F@@ _M@@ E@@ SS@@ AG@@ E); for (java.lang.String mess@@ age : mess@@ ages@@ ) { mess@@ age = mess@@ age + (@@ END@@ _@@ O@@ F@@ _M@@ E@@ SS@@ AG@@ E); em@@ it@@ On@@ Message@@ Rec@@ e@@ i@@ v@@ ed(@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ im@@ p@@ l.@@ Mess@@ age.@@ par@@ se(@@ mess@@ age.get@@ By@@ t@@ es(@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ T@@ F@@ 8@@ ))); } return@@ ; } int l@@ eng@@ t@@ h = this@@ .@@ mess@@ age.get@@ Cont@@ ent@@ ().@@ l@@ ength@@ ; if (@@ cont@@ ent@@ L@@ eng@@ t@@ h == (@@ l@@ eng@@ t@@ h - 1@@ )) { em@@ it@@ On@@ Message@@ Rec@@ e@@ i@@ v@@ ed@@ (@@ this@@ .@@ message@@ ); return@@ ; } else if (@@ cont@@ ent@@ L@@ eng@@ t@@ h > l@@ ength@@ ) { this@@ .@@ i@@ b@@ u@@ f@@ f = java.@@ n@@ io.@@ By@@ t@@ e@@ B@@ u@@ f@@ f@@ er.@@ al@@ loc@@ ate@@ (((@@ cont@@ ent@@ L@@ eng@@ t@@ h - l@@ ength@@ ) + 1@@ )); } else { byte@@ [@@ ] cont@@ ent = this@@ .@@ mess@@ age.@@ with@@ Cont@@ ent@@ (); this@@ .@@ mess@@ age.@@ with@@ Cont@@ ent@@ (@@ java.util.Arrays.@@ c@@ opy@@ Of@@ R@@ ang@@ e(@@ cont@@ ent@@ , 0@@ , 0@@ , (@@ this@@ .@@ o@@ u@@ h + 1@@ ))); }
private void trans@@ l@@ ate@@ Volume@@ Type(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ Entity@@ ) { org.ovirt.engine.ui.uicompat.@@ Enum@@ Trans@@ l@@ ator trans@@ l@@ ator = org.ovirt.engine.ui.uicompat.@@ Enum@@ Trans@@ l@@ ator@@ .getInstanc@@ e(); if (@@ trans@@ l@@ ator.@@ contain@@ s@@ Key@@ (@@ volume@@ Entity@@ .get@@ Volume@@ Typ@@ e())) { trans@@ l@@ ator.@@ trans@@ l@@ ate(@@ volume@@ Entity@@ .get@@ Volume@@ Typ@@ e().@@ add@@ (@@ new org.ovirt.engine.ui.uicompat.@@ Enum@@ Trans@@ l@@ ator@@ .getInstanc@@ e()); } get@@ Detail@@ Model@@ ().set@@ Volume@@ Type@@ S@@ il@@ ent@@ ly@@ (@@ volume@@ Type@@ ); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity brick@@ ) { java.lang.String qu@@ al@@ if@@ i@@ ed@@ Name = brick@@ .get@@ Qu@@ al@@ if@@ i@@ ed@@ Nam@@ e(); if (@@ brick@@ .get@@ Is@@ Ar@@ b@@ it@@ er@@ ()) { qu@@ al@@ if@@ i@@ ed@@ Name +@@ = " + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ gluster.@@ Sub@@ Tab@@ Volume@@ Brick@@ View@@ .@@ const@@ an@@ t@@ s.@@ ar@@ b@@ it@@ er@@ ()); return qu@@ al@@ if@@ i@@ ed@@ Name@@ ; }
@java.lang.Override public void set@@ Vms@@ With@@ v@@ Numa@@ Node@@ List(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ sWith@@ v@@ Numa@@ Node@@ List@@ ) { super@@ .set@@ Vms@@ With@@ v@@ Numa@@ Node@@ List@@ (vm@@ sWith@@ v@@ Numa@@ Node@@ List@@ ); if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (vm@@ .getId@@ ())) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model) (@@ parent@@ Model@@ )); if ((@@ model.get@@ Vm@@ Numa@@ Nod@@ es@@ ()) != null@@ ) { this@@ .get@@ Vm@@ ().set@@ v@@ Numa@@ Node@@ List(@@ model.get@@ Vm@@ Numa@@ Nod@@ es@@ ()); } vm@@ sWith@@ v@@ Numa@@ Node@@ Lis@@ t.add(@@ vm@@ ); } else { for (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ From@@ D@@ b : vm@@ sWith@@ v@@ Numa@@ Node@@ List@@ ) { if (vm@@ From@@ Db@@ .get@@ Id().@@ equals(@@ vm.get@@ Id@@ ())) { vm@@ From@@ Db@@ .set@@ v@@ Numa@@ Node@@ List@@ (vm@@ .get@@ v@@ Numa@@ Node@@ List@@ ()); break@@ ; } } }
public org.ovirt.vdsm.jsonrpc.client.@@ Respon@@ se@@ Buil@@ der run@@ (@@ org.@@ c@@ ode@@ ha@@ u@@ s.@@ j@@ ack@@ son@@ .@@ J@@ son@@ Nod@@ e param@@ s, org.ovirt.vdsm.jsonrpc.client.@@ Respon@@ se@@ Buil@@ der buil@@ der@@ ) { java.lang.Object result = null@@ ; try { java.util.@@ Map ap@@ i@@ Result = acti@@ vate@@ Ap@@ i@@ (@@ param@@ s); if ((@@ fi@@ eld@@ Name()@@ ) != null@@ ) { result = ap@@ i@@ Res@@ ult.get@@ (@@ fi@@ eld@@ Name()); } else { result = ap@@ i@@ Result@@ ; } } catch (@@ java.lang.Exception e) { org.ovirt.vds@@ m@@ fa@@ k@@ e.@@ rpc@@ .@@ json@@ .@@ J@@ son@@ Command.@@ log.error@@ ("@@ E@@ r@@ u@@ n ap@@ i c@@ al@@ l e); java.util.Map<java.lang.String, java.lang.Object@@ >> er@@ ro@@ r = new java.util.HashMap@@ <@@ >(); error@@ .@@ put@@ ("@@ c@@ ode@@ ", 1@@ 00@@ ); error@@ .@@ put@@ ("@@ message@@ ", e.get@@ Message@@ ()); return buil@@ der.@@ with@@ Error@@ (@@ er@@ ro@@ r@@ ); } if (@@ result instanceof java.util.Map@@ ) { build@@ er = buil@@ der.@@ with@@ Result@@ (((@@ java.util.Map@@ ) (@@ result@@ ))); } else if (@@ result instanceof java.util.@@ List@@ ) { build@@ er = buil@@ der.@@ with@@ Result@@ (((@@ java.util.@@ List@@ ) (@@ result@@ ))); } else if (@@ result instanceof java.lang.String@@ ) { build@@ er = buil@@ der.@@ with@@ Result@@ (((@@ java.lang.String@@ ) (@@ result@@ ))); } else if ((@@ result != null@@ ) && (@@ result.get@@ Class@@ ().is@@ Array@@ ())) { java.util.@@ List temp@@ List = new java.util.Array@@ List@@ (); java.util.Collections.@@ add@@ All@@ (@@ temp@@ List@@ , ((@@ java.lang.Object@@ []@@ ) (@@ result@@ ))); build@@ er = buil@@ der.@@ with@@ Result@@ (@@ temp@@ List@@ ); } else { org.ovirt.vds@@ m@@ fa@@ k@@ e.@@ rpc@@ .@@ json@@ .@@ J@@ son@@ Command.@@ log.error@@ ((@@ "@@ E@@ r@@ ro@@ r respon@@ se dat@@ a -@@ -@@ -@@ -@@ > " + result@@ ), new java.lang.@@ Exception@@ ()); } return buil@@ der@@ ; }
@java.lang.Override public void execut@@ ed(org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Disk@@ ListModel loc@@ al@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Disk@@ ListModel@@ ) (@@ result.get@@ Stat@@ e())); loc@@ al@@ Model.@@ st@@ op@@ Progress@@ (); cancel@@ (); }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Get@@ StorageDomain@@ D@@ R@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ storageDomain@@ D@@ R@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Get@@ StorageDomain@@ D@@ R@@ Query.get@@ Parameters().get@@ Id(), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Get@@ StorageDomain@@ D@@ R@@ Query.get@@ Parameters().get@@ Id@@ ())); }
private void set@@ Detail@@ List@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Event@@ ListModel storage@@ Event@@ ListModel@@ , final org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Permission@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > per@@ mission@@ ListModel@@ ) { gener@@ al@@ Model@@ .setIs@@ Available@@ (@@ false@@ ); dc@@ ListModel@@ .setIs@@ Available@@ (@@ false@@ ); this@@ .@@ vm@@ Back@@ up@@ Model@@ .setIs@@ Available@@ (@@ false@@ ); this@@ .@@ template@@ Back@@ up@@ Model@@ .setIs@@ Available@@ (@@ false@@ ); vm@@ Re@@ g@@ ist@@ er@@ ListModel@@ .setIs@@ Available@@ (@@ false@@ ); template@@ Re@@ g@@ ist@@ er@@ ListModel@@ .setIs@@ Available@@ (@@ false@@ ); disk@@ Image@@ Re@@ g@@ ist@@ er@@ ListModel@@ .setIs@@ Available@@ (@@ false@@ ); vm@@ ListModel@@ .setIs@@ Available@@ (@@ false@@ ); is@@ o@@ ListModel@@ .setIs@@ Available@@ (@@ false@@ ); disk@@ ListModel@@ .setIs@@ Available@@ (@@ false@@ ); re@@ g@@ ist@@ er@@ Disk@@ ListModel@@ .setIs@@ Available@@ (@@ false@@ ); snapshot@@ ListModel@@ .setIs@@ Available@@ (@@ false@@ ); this@@ .@@ disk@@ Profile@@ ListModel@@ .setIs@@ Available@@ (@@ false@@ ); this@@ .@@ storage@@ D@@ R@@ Model@@ .setIs@@ Available@@ (@@ false@@ ); java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Entity@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >> lis@@ t = new java.util.ArrayList<@@ >(); lis@@ t.add(@@ gener@@ al@@ Model@@ ); lis@@ t.add(@@ vm@@ Back@@ up@@ Model@@ ); lis@@ t.add(@@ template@@ Back@@ up@@ Model@@ ); lis@@ t.add(@@ vm@@ Re@@ g@@ ist@@ er@@ ListModel@@ ); lis@@ t.add(@@ template@@ Re@@ g@@ ist@@ er@@ ListModel@@ ); lis@@ t.add(@@ template@@ Re@@ g@@ ist@@ er@@ ListModel@@ ); lis@@ t.add(@@ disk@@ Image@@ Re@@ g@@ ist@@ er@@ ListModel@@ ); lis@@ t.add(@@ vm@@ ListModel@@ ); lis@@ t.add(@@ template@@ ListModel@@ ); lis@@ t.add(@@ template@@ ListModel@@ ); lis@@ t.add(@@ is@@ o@@ ListModel@@ ); lis@@ t.add(@@ re@@ g@@ ist@@ er@@ Disk@@ ListModel@@ ); lis@@ t.add(@@ snapshot@@ ListModel@@ ); lis@@ t.add(@@ snapshot@@ ListModel@@ ); lis@@ t.add(@@ disk@@ Profile@@ ListModel@@ ); lis@@ t.add(@@ per@@ mission@@ ListModel@@ ); set@@ Detail@@ Model@@ s(@@ list@@ ); }
@java.lang.Override public org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Model@@ B@@ ound@@ Popup@@ P@@ res@@ enter@@ Widget@@ <@@ ? extends org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ , ?@@ > get@@ Confirm@@ Model@@ Popup@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ D@@ R@@ ListModel source@@ , org.ovirt.engine.ui.uicommonweb.UICommand l@@ ast@@ Execut@@ ed@@ Command@@ ) { if (@@ l@@ ast@@ Execut@@ ed@@ C@@ ommand == (get@@ Model().get@@ Remove@@ Command@@ ())) { return remove@@ Confirm@@ Popup@@ Provider@@ .get@@ (); } else { return super@@ .get@@ Confirm@@ Model@@ Popup@@ (s@@ ource@@ , l@@ ast@@ Execut@@ ed@@ Command@@ ); } }
private void on@@ Remov@@ e() { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Remove@@ Disk@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Remove@@ Disk@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcActionParameters@@ Base@@ > param@@ er@@ ter@@ List = new java.util.ArrayList<@@ >(); for (java.lang.Object it@@ e@@ m : get@@ SelectedItem@@ s()) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (@@ item@@ )); org.ovirt.engine.core.common.action.VdcActionParameters@@ Base parameter@@ s = new org.ovirt.engine.core.common.action.@@ Remove@@ Disk@@ Parameters(@@ disk@@ .get@@ Id(), get@@ Entity@@ ().get@@ Id()); param@@ er@@ ter@@ Lis@@ t.add(@@ parameters@@ ); } model.@@ st@@ art@@ Progress@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action(VdcActionType.@@ Remove@@ Disk@@ , param@@ er@@ ter@@ List@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Multiple@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execut@@ ed(org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Disk@@ ListModel loc@@ al@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Disk@@ ListModel@@ ) (@@ result.get@@ Stat@@ e())); loc@@ al@@ Model.@@ st@@ op@@ Progress@@ (); cancel@@ (); } }, this@@ ); }
private void update@@ Action@@ Avail@@ ab@@ ility@@ () { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ D@@ R@@ > do@@ m@@ ain@@ D@@ R@@ s = ((get@@ SelectedItem@@ s()) != null@@ ) ? org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ D@@ R@@ >@@ c@@ ast@@ (get@@ SelectedItem@@ s()) : new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ D@@ R@@ >(); get@@ Remove@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ (@@ do@@ m@@ ain@@ D@@ R@@ s.@@ size()) > 0@@ )); }
private void remov@@ e() { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.vms.@@ Remove@@ Disk@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Remove@@ Disk@@ Model@@ (); set@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ remove@@ Disks@@ Titl@@ e()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ remove@@ _@@ disk@@ ); model.set@@ Hash@@ Name("@@ remove@@ _@@ disk@@ "); model.get@@ L@@ atch@@ ().setIs@@ Available@@ (@@ false@@ ); java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ > item@@ s = new java.util.ArrayList<@@ >(); for (java.lang.Object it@@ e@@ m : get@@ SelectedItem@@ s()) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (@@ item@@ )); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model disk@@ Model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ (); disk@@ Model@@ .set@@ Disk@@ (disk@@ ); item@@ s.add(@@ disk@@ Model@@ ); } model.set@@ Items(@@ item@@ s); org.ovirt.engine.ui.uicommonweb.UICommand on@@ Remove@@ C@@ ommand = org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Default@@ O@@ k@@ U@@ i@@ Command@@ ("@@ On@@ Remove@@ ", this@@ ); model.get@@ Command@@ s().add(@@ on@@ Remove@@ Command@@ ); org.ovirt.engine.ui.uicommonweb.UICommand cancel@@ C@@ ommand = org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Cancel@@ U@@ i@@ Command@@ ("@@ Cancel@@ ", this@@ ); model.get@@ Command@@ s().@@ add@@ (c@@ ancel@@ Command@@ ); }
@java.lang.Override protected void s@@ ync@@ Search@@ () { if ((get@@ Entity@@ ()) == null@@ ) { return@@ ; } super@@ .@@ s@@ ync@@ Search@@ (); org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (get@@ Entity@@ ().get@@ Id()); parameters.set@@ Refresh@@ (get@@ Is@@ Query@@ F@@ ir@@ st@@ Tim@@ e()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ StorageDomain@@ D@@ R@@ , parameters@@ , new org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Set@@ Item@@ s@@ Async@@ Query@@ ()); }
private void on@@ S@@ av@@ e() { final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ D@@ R@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ D@@ R@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); if (!(@@ model.@@ valid@@ at@@ e())) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ Domain = get@@ Entity@@ (); final org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Sync@@ Schedul@@ e s@@ ync@@ Schedul@@ e = new org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Schedul@@ e(); s@@ ync@@ Schedul@@ e.set@@ F@@ re@@ qu@@ enc@@ y@@ (model.get@@ F@@ re@@ qu@@ enc@@ y@@ ().get@@ SelectedItem@@ ()); s@@ ync@@ Schedul@@ e.set@@ H@@ our@@ (model.get@@ H@@ our@@ ().getEntity@@ ()); s@@ ync@@ Schedul@@ e.set@@ M@@ in@@ s(@@ model.get@@ M@@ in@@ s().get@@ Entity@@ ()); org.ovirt.engine.core.compat.Guid g@@ e@@ or@@ ep@@ Id = ((@@ model.get@@ GeoRep@@ Session@@ ().get@@ SelectedItem@@ ()) != null@@ ) ? model.get@@ GeoRep@@ Session@@ ().get@@ SelectedItem@@ ().get@@ Id@@ () : null@@ ; org.ovirt.engine.core.common.action.@@ Storage@@ Schedul@@ e@@ Parameters paramet@@ er = new org.ovirt.engine.core.common.action.@@ Storage@@ Sync@@ Schedul@@ e@@ Parameters@@ (s@@ ync@@ Schedul@@ e@@ , storageDomain@@ .get@@ Id(), g@@ e@@ or@@ ep@@ Id); model.@@ st@@ art@@ Progress@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action(VdcActionType.@@ Schedul@@ e@@ Gluster@@ Storage@@ , parameter@@ , new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execut@@ ed(org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ D@@ R@@ ListModel loc@@ al@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ D@@ R@@ ListModel@@ ) (@@ result.get@@ Stat@@ e())); model.@@ st@@ op@@ Progress@@ (); loc@@ al@@ Model.@@ p@@ ost@@ S@@ ave@@ Action@@ (@@ result.get@@ ReturnValu@@ e()); } }, this@@ ); }
@java.lang.Override public void onSuccess@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ Session@@ > g@@ eoRep@@ Session@@ s) { model.get@@ GeoRep@@ Session@@ ().set@@ Items(@@ g@@ eoRep@@ Session@@ s); model.get@@ GeoRep@@ Session@@ ().set@@ SelectedItem@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ fi@@ r@@ st@@ Or@@ Null@@ (@@ g@@ eoRep@@ Session@@ s, new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ Id@@ P@@ red@@ ic@@ ate@@ <@@ >@@ (s@@ elected@@ D@@ R@@ .get@@ GeoRep@@ Session@@ Id@@ ()))); }
public boolean is@@ Qu@@ al@@ if@@ y@@ For@@ On@@ D@@ em@@ and@@ Check@@ Updat@@ es@@ () { return ((@@ (@@ this@@ ) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) || (@@ this@@ ) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Non@@ Operation@@ al@@ ))) || (@@ this@@ ) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ )); }
@@@ org.ovirt.engine.core.utils.@@ tim@@ er.@@ On@@ Tim@@ er@@ Method@@ An@@ not@@ ation@@ ("@@ ava@@ il@@ able@@ Updat@@ es@@ ") public void ava@@ il@@ able@@ Updat@@ es@@ () { for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ Dao@@ .get@@ All@@ ()) { if (!(@@ hos@@ t.get@@ Status@@ ().is@@ Qu@@ al@@ if@@ y@@ For@@ Check@@ Updat@@ es@@ ())) { org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Updat@@ es@@ Check@@ er@@ Servic@@ e.@@ log.@@ w@@ ar@@ n@@ ("@@ Ch@@ ec@@ k for ava@@ il@@ able update@@ s is s@@ k@@ ip@@ p@@ ed for hos@@ t '{}@@ ' d@@ u@@ e to un@@ support@@ ed hos@@ t stat@@ u@@ s '{}@@ ' ", hos@@ t.get@@ Name(), hos@@ t.get@@ Status@@ ()); continue@@ ; } org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Host@@ Updat@@ es@@ Check@@ er@@ Servic@@ e.@@ execut@@ or.@@ sub@@ m@@ it@@ ((@@ ) -@@ > host@@ Updat@@ es@@ Check@@ er.@@ check@@ For@@ Updat@@ es(@@ host@@ )); }
public boolean is@@ Qu@@ al@@ if@@ y@@ For@@ Check@@ Updat@@ es@@ () { return (@@ this@@ ) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) || (@@ this@@ ) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Non@@ Operation@@ al@@ )); }
public void set@@ Vds@@ Name@@ (@@ final java.lang.String value) { vds@@ Name = value@@ ; }
protected void execute@@ SP@@ M@@ er@@ g@@ e@@ Command@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ VDSCommand@@ Type vds@@ Command@@ Type@@ ) { org.ovirt.engine.core.bll.@@ task@@ s.@@ SP@@ M@@ er@@ g@@ e@@ SP@@ M@@ Base@@ Command.get@@ Parameters@@ ().set@@ Entity@@ Info@@ (@@ new org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ Entity@@ Info@@ (org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ M@@ er@@ g@@ e@@ SP@@ M@@ er@@ g@@ e@@ SP@@ M@@ Base@@ Command.getParameters().get@@ Sub@@ ch@@ ain@@ Info@@ ().get@@ Base@@ Image@@ Id@@ ())); org.ovirt.engine.core.bll.@@ SP@@ M@@ C@@ old@@ M@@ er@@ g@@ e@@ VDSCommand@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ SP@@ M@@ C@@ old@@ M@@ er@@ g@@ e@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ M@@ er@@ g@@ e@@ SP@@ M@@ er@@ g@@ e@@ SP@@ M@@ Base@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ M@@ er@@ g@@ e@@ SP@@ M@@ Base@@ Command.getParameters().get@@ Sub@@ ch@@ ain@@ Info@@ ()); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ vds@@ Command@@ Type, parameters@@ ); if (@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ()) { org.ovirt.engine.core.compat.Guid task@@ Id = p@@ ers@@ ist@@ AsyncTask@@ P@@ l@@ ace@@ H@@ ol@@ der@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ M@@ er@@ g@@ e@@ SP@@ M@@ Base@@ Command.getParameters().get@@ Parent@@ Command@@ ()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ M@@ er@@ g@@ e@@ SP@@ M@@ Base@@ Command.get@@ Task@@ Id@@ ().add@@ (c@@ reate@@ Task@@ (@@ task@@ Id, vds@@ ReturnValu@@ e.get@@ Cre@@ ation@@ Info@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ M@@ er@@ g@@ e@@ SP@@ M@@ Base@@ Command.getParameters().get@@ Parent@@ Command@@ (), Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ M@@ er@@ g@@ e@@ SP@@ M@@ Base@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ())); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ M@@ er@@ g@@ e@@ SP@@ M@@ Base@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); } }
private void mock@@ Snapshot@@ Validator@@ () { when@@ (s@@ napshot@@ s@@ Validator.@@ vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); when@@ (s@@ napshot@@ s@@ Validator.@@ vm@@ Not@@ In@@ Pre@@ view@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ thenReturn(@@ ValidationRes@@ ult.@@ VALID@@ ); }
@org.junit.@@ B@@ e@@ for@@ e public void initial@@ ize@@ Mock@@ s() { do@@ Not@@ h@@ ing@@ ().@@ when@@ (command@@ ).@@ update@@ Disks@@ From@@ Db@@ (); do@@ Return@@ (@@ true@@ ).when@@ (command@@ ).@@ check@@ Image@@ Configuration@@ (); do@@ Return@@ (@@ false@@ ).when@@ (command@@ ).@@ is@@ Vir@@ ti@@ o@@ S@@ csi@@ Cont@@ ro@@ ll@@ er@@ Attach@@ ed(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return@@ (@@ false@@ ).when@@ (command@@ ).@@ has@@ W@@ at@@ ch@@ do@@ g@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return@@ (@@ false@@ ).when@@ (command@@ ).@@ is@@ B@@ alloon@@ Enabl@@ ed(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return@@ (@@ false@@ ).when@@ (command@@ ).@@ is@@ S@@ ound@@ Device@@ Enabl@@ ed(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return@@ (@@ true@@ ).when@@ (command@@ )@@ .set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ (); do@@ Return@@ (@@ new java.util.Array@@ List@@ ()).@@ when(@@ disk@@ Vm@@ Element@@ Dao@@ ).get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Add@@ Disk@@ Command@@ Test.@@ vm@@ Id); do@@ Return@@ (@@ true@@ ).when@@ (command@@ ).@@ validate@@ Quota@@ (); mock@@ Snapshot@@ Validator@@ (); do@@ An@@ s@@ w@@ er@@ ("@@ C@@ in@@ vo@@ c@@ ation@@ ) -@@ > (@@ in@@ vo@@ c@@ ation@@ .get@@ Arg@@ um@@ ent@@ s@@ ()@@ [@@ 0@@ ]@@ ) != null ? in@@ vo@@ c@@ ation@@ .get@@ Arg@@ um@@ ent@@ s@@ ()@@ [@@ 0@@ ] : org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()).@@ when(@@ quota@@ Manager@@ ).get@@ Default@@ Quota@@ If@@ Null@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ ), any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).@@ when(@@ disk@@ Vm@@ Element@@ Validator@@ ).@@ is@@ P@@ ass@@ Dis@@ c@@ ard@@ Support@@ ed(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); org.ovirt.engine.core.common.utils.@@ S@@ im@@ ple@@ De@@ p@@ end@@ enc@@ y@@ In@@ j@@ ect@@ or@@ .getInstance().@@ b@@ in@@ d@@ (org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ class@@ , os@@ it@@ ory@@ ); in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Util@@ s@@ .@@ class@@ , vm@@ Device@@ Util@@ s); }
private void t@@ ag@@ ListModel@@ _@@ SelectedItem@@ s@@ Chang@@ ed(@@ java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s e) { boolean h@@ ad@@ Selected@@ Tag@@ s = get@@ H@@ as@@ Selected@@ Tag@@ s(); update@@ H@@ as@@ Selected@@ Tag@@ s(); if (get@@ H@@ as@@ Selected@@ Tag@@ s()) { set@@ All@@ ListModel@@ s@@ Un@@ ava@@ il@@ abl@@ e(); get@@ Host@@ List@@ ().setIs@@ Available@@ (@@ true@@ ); getVm@@ List@@ ().setIs@@ Available@@ (@@ true@@ ); get@@ User@@ List@@ ().setIs@@ Available@@ (@@ true@@ ); } else { update@@ Avail@@ ab@@ ility@@ (@@ System@@ T@@ ree@@ Item@@ Type.@@ System@@ , null@@ ); get@@ Host@@ List@@ ().set@@ Search@@ String("@@ Host@@ :@@ "); getVm@@ List@@ ().set@@ Search@@ String("@@ Vms@@ :@@ "); get@@ User@@ List@@ ().set@@ Search@@ String("@@ Us@@ ers@@ :@@ "); } org.ovirt.engine.ui.uicommonweb.models.@@ ListModel old@@ Selected@@ I@@ t@@ e@@ m = get@@ SelectedItem@@ (); if ((((@@ (get@@ H@@ as@@ Selected@@ Tag@@ s()) && (@@ old@@ Selected@@ I@@ t@@ e@@ m != (get@@ Host@@ List@@ ()))) && (@@ old@@ Selected@@ I@@ t@@ e@@ m != (get@@ Volume@@ List@@ ()))) && (@@ old@@ Selected@@ I@@ t@@ e@@ m != (get@@ Vm@@ List@@ ()))) && (@@ old@@ Selected@@ I@@ t@@ e@@ m != (get@@ User@@ List@@ ()))) { set@@ SelectedItem@@ (get@@ Vm@@ List@@ ()); } else if ((get@@ H@@ as@@ Selected@@ Tag@@ s()) || h@@ ad@@ Selected@@ Tag@@ s) { java.lang.String pre@@ fi@@ x = "@@ "@@ "@@ "@@ "@@ "@@ "@@ ; java.lang.String se@@ ar@@ ch = "@@ "@@ "@@ "@@ ; org.ovirt.engine.core.compat.@@ Re@@ f@@ Object@@ <java.lang.String@@ > temp@@ Re@@ f@@ _@@ pre@@ fi@@ x = new org.ovirt.engine.core.compat.@@ Re@@ f@@ Object@@ (@@ pre@@ fi@@ x@@ ); org.ovirt.engine.core.compat.@@ Re@@ f@@ Object@@ <java.lang.String@@ > temp@@ Re@@ f@@ _@@ se@@ ar@@ ch = new org.ovirt.engine.core.compat.@@ Re@@ f@@ Object@@ (@@ search@@ ); s@@ pl@@ it@@ Search@@ String@@ (), temp@@ Re@@ f@@ _@@ pre@@ fi@@ x@@ , temp@@ Re@@ f@@ _@@ search@@ ); pre@@ fi@@ x = temp@@ Re@@ f@@ _@@ fi@@ x.@@ arg@@ value@@ ; se@@ ar@@ ch = temp@@ Re@@ f@@ _@@ search@@ .@@ arg@@ value@@ ; set@@ Search@@ String@@ Pre@@ fi@@ x@@ (@@ pre@@ fi@@ x@@ ); set@@ Search@@ String@@ (@@ search@@ ); get@@ Search@@ Command@@ ().@@ execut@@ e(); search@@ String@@ Changed@@ (); } }
private void set@@ All@@ ListModel@@ s@@ Un@@ ava@@ il@@ abl@@ e() { for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel m : get@@ Item@@ s()) { if (!(@@ m instanceof org.ovirt.engine.ui.uicommonweb.models.@@ p@@ lu@@ gin@@ .@@ P@@ lu@@ gin@@ Model@@ )) { m@@ .setIs@@ Available@@ (@@ false@@ ); } }
private org.ovirt.engine.ui.uicommonweb.models.@@ t@@ ag@@ s.@@ Tag@@ Model fin@@ d@@ R@@ oot@@ Nod@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ t@@ ag@@ s.@@ Tag@@ Model t@@ ag@@ Model) { if ((@@ t@@ ag@@ Model.get@@ Parent@@ ()) != null@@ ) { return fin@@ d@@ R@@ oot@@ Nod@@ e(@@ t@@ ag@@ Model.get@@ Parent@@ ()); } return t@@ ag@@ Model@@ ; }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { if ("@@ SelectedItem@@ s@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { if ((get@@ Sel@@ ection@@ Model().get@@ Selected@@ Object@@ ()) != null@@ ) { org.ovirt.engine.ui.webadmin.@@ uic@@ ommon.@@ model.@@ Tag@@ Acti@@ vat@@ ed@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , fin@@ d@@ R@@ oot@@ Nod@@ e(@@ get@@ Sel@@ ection@@ Model().get@@ Selected@@ Object@@ ())); } }
public static org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ entity@@ .@@ Tag@@ O@@ bj@@ ect f@@ rom@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ t@@ ag@@ s.@@ Tag@@ Model model@@ ) { if (@@ model != null@@ ) { org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ entity@@ .@@ Tag@@ O@@ bj@@ ect result = com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ J@@ ava@@ S@@ cri@@ p@@ t@@ O@@ bj@@ ec@@ t.@@ create@@ Object@@ ().@@ c@@ ast@@ (); com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ J@@ s@@ Array@@ <@@ org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ entity@@ .@@ Tag@@ Object@@ > ch@@ il@@ d@@ re@@ n = com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ J@@ ava@@ S@@ cri@@ p@@ t@@ O@@ bj@@ ec@@ t.@@ create@@ Array@@ ().@@ c@@ ast@@ (); res@@ ult.@@ set@@ Value@@ As@@ String("@@ d@@ escription@@ ", model.get@@ Description@@ ().getEntity@@ ()); res@@ ult.@@ set@@ Value@@ As@@ String("@@ name@@ ", model.get@@ Nam@@ e().get@@ Entity@@ ()); res@@ ult.@@ set@@ Value@@ As@@ Boolean@@ ("@@ selected@@ ", model.get@@ Sel@@ ection@@ ()); if ((@@ model.get@@ Parent@@ ()) == null@@ ) { res@@ ult.@@ set@@ Value@@ As@@ Do@@ ubl@@ e(@@ "@@ selected@@ Tag@@ Count@@ ", org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ entity@@ .@@ Tag@@ O@@ bj@@ ec@@ t.@@ c@@ al@@ c@@ ul@@ ate@@ Selected@@ Tag@@ Count@@ (model@@ )); } for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ t@@ ag@@ s.@@ Tag@@ Model ch@@ il@@ d : model.get@@ Ch@@ il@@ d@@ r@@ en@@ ()) { ch@@ il@@ d@@ r@@ en@@ .@@ p@@ us@@ h@@ (@@ org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ entity@@ .@@ Tag@@ O@@ bj@@ ec@@ t.@@ f@@ rom@@ (@@ ch@@ il@@ d@@ )); } res@@ ult.@@ set@@ Value@@ As@@ J@@ ava@@ S@@ cri@@ p@@ t@@ Object@@ ("@@ ch@@ il@@ d@@ r@@ en@@ ", ch@@ il@@ d@@ r@@ en@@ ); return result@@ ; } else { return null@@ ; } }
private static java.lang.@@ Do@@ ubl@@ e c@@ al@@ c@@ ul@@ ate@@ Selected@@ Tag@@ Count@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ t@@ ag@@ s.@@ Tag@@ Model model@@ ) { do@@ ubl@@ e result = 0@@ ; for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ t@@ ag@@ s.@@ Tag@@ Model ch@@ il@@ d : model.get@@ Ch@@ il@@ d@@ r@@ en@@ ()) { result +@@ = org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ entity@@ .@@ Tag@@ O@@ bj@@ ec@@ t.@@ c@@ al@@ c@@ ul@@ ate@@ Selected@@ Tag@@ Count@@ (@@ ch@@ il@@ d@@ ); } if (model.get@@ Sel@@ ection@@ ()) { result@@ +@@ ; } return result@@ ; }
@java.lang.Override public void on@@ Tag@@ Acti@@ vat@@ ed(@@ org.ovirt.engine.ui.webadmin.@@ uic@@ ommon.@@ model.@@ Tag@@ Acti@@ vat@@ ed@@ Event event@@ ) { man@@ ag@@ er.@@ in@@ vo@@ ke@@ P@@ lu@@ gin@@ s@@ N@@ ow@@ ("@@ Tag@@ Acti@@ vat@@ ed@@ ", org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ j@@ s@@ n@@ i.@@ J@@ s@@ Array@@ Helper.@@ create@@ M@@ i@@ x@@ ed@@ Array@@ (@@ org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ entity@@ .@@ Tag@@ O@@ bj@@ ec@@ t.@@ f@@ rom@@ (@@ event.@@ get@@ R@@ oot@@ ()))); }
public void set@@ Task@@ s@@ M@@ onitor@@ ed@@ (@@ boolean task@@ s@@ M@@ onitor@@ ed@@ ) { is@@ Task@@ s@@ M@@ onitor@@ ed = task@@ s@@ M@@ onitor@@ ed@@ ; }
public boolean is@@ Task@@ s@@ M@@ onitor@@ ed@@ () { return is@@ Task@@ s@@ M@@ onitor@@ ed@@ ; }
public void set@@ M@@ onitor@@ ed@@ (@@ boolean m@@ onitor@@ ed@@ ) { this@@ .@@ m@@ onitor@@ ed = m@@ onitor@@ ed@@ ; }
public void set@@ Job@@ Re@@ qui@@ red@@ (@@ boolean job@@ Re@@ qui@@ red@@ ) { is@@ Job@@ Re@@ qui@@ re@@ d = job@@ Re@@ qui@@ red@@ ; }
public void set@@ Comp@@ let@@ ed@@ (@@ boolean comp@@ let@@ ed@@ ) { this@@ .@@ comp@@ let@@ ed = comp@@ let@@ ed@@ ; }
private org.ovirt.engine.core.common.utils.@@ P@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ex@@ t build@@ P@@ ers@@ ist@@ ed@@ Command@@ Context@@ () { org.ovirt.engine.core.common.utils.@@ P@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ex@@ t p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ex@@ t = new org.ovirt.engine.core.common.utils.@@ P@@ ers@@ ist@@ ed@@ Command@@ Context@@ (); p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ set@@ Job@@ Id@@ ((@@ ((get@@ Execution@@ Context@@ ()) == null@@ ) || ((get@@ Execution@@ Context@@ ().get@@ Job@@ ()) == null@@ ) ? org.ovirt.engine.core.compat.Guid.@@ Em@@ p@@ ty : get@@ Execution@@ Context@@ ().get@@ Job@@ ().get@@ Job@@ ().get@@ Id@@ ())); p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ set@@ St@@ ep@@ Id@@ ((@@ ((get@@ Execution@@ Context@@ ()) == null@@ ) || ((get@@ Execution@@ Context@@ ().get@@ St@@ ep@@ ()) == null@@ ) ? org.ovirt.engine.core.compat.Guid.@@ Em@@ p@@ ty : get@@ Execution@@ Context@@ ().get@@ St@@ ep@@ ().get@@ Id@@ ())); p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ set@@ Execution@@ Method@@ ((@@ (get@@ Execution@@ Context@@ ()) == null ? Execution@@ Cont@@ ext.@@ Execution@@ Method@@ .@@ As@@ St@@ ep@@ .toString@@ () : get@@ Execution@@ Context@@ ().get@@ Execution@@ Method@@ ().@@ toString@@ ())); if ((get@@ Execution@@ Context@@ ()) != null@@ ) { p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ set@@ Comp@@ let@@ ed@@ (get@@ Execution@@ Context@@ ().is@@ Comp@@ let@@ ed@@ ()); p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ set@@ M@@ onitor@@ ed@@ (get@@ Execution@@ Context@@ ().is@@ M@@ onitor@@ ed@@ ()); p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ set@@ Sh@@ oul@@ d@@ En@@ d@@ Job@@ (get@@ Execution@@ Context@@ ().@@ sh@@ oul@@ d@@ En@@ d@@ En@@ d@@ En@@ d@@ Job@@ ()); p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ set@@ Task@@ s@@ M@@ onitor@@ ed@@ (get@@ Execution@@ Context@@ ().is@@ Task@@ s@@ M@@ onitor@@ ed@@ ()); } return p@@ ers@@ ist@@ ed@@ Command@@ Context@@ ; }
private org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t build@@ Command@@ Context@@ (org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity@@ ) { org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Cont@@ ex@@ t ex@@ ecution@@ Cont@@ ex@@ t = new org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Context@@ (); if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (@@ p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ex@@ t = cmd@@ Entity@@ .get@@ Command@@ Context@@ ()))) { if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (@@ p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ is@@ Task@@ s@@ M@@ onitor@@ ed@@ ()); } if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ex@@ t.get@@ Execution@@ Method@@ ())) { ex@@ ecution@@ Cont@@ ext.@@ set@@ Execution@@ Method@@ (@@ Execution@@ Cont@@ ext.@@ Execution@@ Method@@ .@@ value@@ Of@@ (p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ex@@ t.get@@ Execution@@ Method@@ ())); } ex@@ ecution@@ Cont@@ ext.@@ set@@ Comp@@ let@@ ed(@@ p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ is@@ Comp@@ let@@ ed@@ ()); ex@@ ecution@@ Cont@@ ext.@@ set@@ Job@@ Re@@ qui@@ r@@ ed(@@ p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ is@@ Job@@ Re@@ qui@@ red@@ ()); ex@@ ecution@@ Cont@@ ext.@@ set@@ M@@ onitor@@ ed(@@ p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ is@@ M@@ onitor@@ ed@@ ()); ex@@ ecution@@ Cont@@ ext.@@ set@@ Task@@ s(@@ p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ is@@ Comp@@ let@@ ed@@ ()); ex@@ ecution@@ Cont@@ ext.@@ set@@ Task@@ s@@ M@@ onitor@@ ed(@@ p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ is@@ Job@@ (p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ is@@ Job@@ Re@@ qui@@ red@@ ()); ex@@ ecution@@ Cont@@ ext.@@ set@@ M@@ onitor@@ ed(@@ p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ is@@ Job@@ Re@@ qui@@ red@@ ()); ex@@ ecution@@ Cont@@ ext.@@ set@@ M@@ onitor@@ ed(@@ p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ is@@ M@@ onitor@@ ed@@ ()); ex@@ ecution@@ Cont@@ ext.@@ set@@ Sh@@ oul@@ d@@ En@@ d@@ Job@@ (p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ sh@@ oul@@ d@@ En@@ d@@ En@@ d@@ Job@@ ()); ex@@ ecution@@ Cont@@ ext.@@ set@@ Task@@ s@@ M@@ onitor@@ ed(@@ p@@ ers@@ ist@@ ed@@ Command@@ Cont@@ ext.@@ is@@ Task@@ s@@ M@@ onitor@@ ed@@ ()); return new org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Context@@ (@@ new org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Engine@@ Context@@ ()).@@ with@@ Execution@@ Context@@ ); }
public static org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity build@@ Command@@ Entity(@@ org.ovirt.engine.core.compat.Guid user@@ Id, long engin@@ e@@ Session@@ Se@@ q@@ Id, org.ovirt.engine.core.compat.Guid command@@ Id, org.ovirt.engine.core.compat.Guid parent@@ Command@@ Id, org.ovirt.engine.core.compat.Guid ro@@ ot@@ Command@@ Id, org.ovirt.engine.core.compat.Guid ro@@ ot@@ Command@@ Id, org.ovirt.engine.core.common.action.VdcAction@@ Type action@@ Type, org.ovirt.engine.core.common.action.VdcActionParameters@@ Base param@@ s, org.ovirt.engine.core.compat.@@ Command@@ Statu@@ s status@@ , boolean callback@@ Enabled@@ , org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Value@@ , java.util.Map<java.lang.String, java.io.@@ Ser@@ ial@@ iz@@ able@@ > data@@ ) { org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity enti@@ ty = new org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity@@ (); entity.set@@ Engine@@ Session@@ Se@@ q@@ Id(@@ engin@@ e@@ Session@@ Se@@ q@@ Id); entity.set@@ User@@ Id(@@ user@@ Id); entity.set@@ Parent@@ Command@@ Id(@@ parent@@ Command@@ Id); entity.set@@ R@@ oot@@ Command@@ Id(@@ ro@@ ot@@ Command@@ Id); entity.set@@ Command@@ Context@@ (command@@ Cont@@ ex@@ t = new java.util.@@ Link@@ ed@@ Hash@@ Map@@ <@@ org.ovirt.engine.core.common.action.VdcAction@@ Type@@ >@@ (@@ return@@ Value@@ ); entity.set@@ Command@@ Type(@@ action@@ Type@@ ); entity.set@@ Command@@ Type(@@ status@@ ); entity.set@@ Callback@@ Enabled@@ (c@@ all@@ back@@ Enabled@@ ); entity.set@@ ReturnValue@@ (@@ return@@ Value@@ ); entity.set@@ Data@@ (@@ data@@ ); return entity@@ ; }
public boolean is@@ Comp@@ let@@ ed@@ () { return is@@ Comp@@ let@@ ed@@ ; }
public java.lang.String get@@ Execution@@ Method@@ () { return get@@ Execution@@ Method@@ (); }
public void set@@ Execution@@ Method@@ (java.lang.String ex@@ ecution@@ Method@@ ) { this@@ .@@ ex@@ ecution@@ Met@@ h@@ o@@ d = ex@@ ecution@@ Method@@ ; }
public boolean is@@ Job@@ Re@@ qui@@ red@@ () { return is@@ Job@@ Re@@ qui@@ red@@ ; }
public boolean is@@ M@@ onitor@@ ed@@ () { return is@@ M@@ onitor@@ ed@@ ; }
@java.lang.Override public void s@@ av@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ A@@ udit@@ Lo@@ g event@@ ) { java.util.Map<java.lang.String, java.lang.Object> return@@ V@@ al = null@@ ; if (@@ event.@@ is@@ External@@ ()) { return@@ V@@ al = getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ In@@ sert@@ External@@ AuditLog@@ ", get@@ External@@ Event@@ Sql@@ Map@@ per@@ (@@ event@@ )); } else { return@@ V@@ al = getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ In@@ sert@@ AuditLog@@ ", get@@ Sql@@ (@@ event@@ )); } event.@@ set@@ AuditLog@@ Id@@ (((@@ java.lang.Integer@@ ) (@@ return@@ Val@@ .get@@ ("@@ audit@@ _@@ log@@ _id@@ "@@ )@@ ))); }
private static java.lang.String get@@ Message@@ To@@ Log@@ (java.lang.String log@@ g@@ er@@ String@@ , org.ovirt.engine.core.common.businessentities.@@ A@@ udit@@ Lo@@ g a@@ uditLog@@ ) { java.lang.String message@@ ; if (@@ log@@ g@@ er@@ Strin@@ g.@@ isEmpty@@ ()) { mess@@ age = audit@@ Lo@@ g.@@ toString@@ For@@ Log@@ gin@@ g@@ (); } else { mess@@ age = java.@@ t@@ ext.@@ Message@@ Format@@ .@@ for@@ mat@@ (@@ log@@ g@@ er@@ String@@ , audit@@ Lo@@ g.@@ get@@ Message@@ ()); } return java.@@ t@@ ext.@@ Message@@ Format@@ .@@ for@@ mat@@ ("@@ Lo@@ g ID@@ : {@@ 0@@ }@@ ", audit@@ Lo@@ g.@@ get@@ AuditLog@@ Id(), message@@ ); }
public static java.lang.String es@@ c@@ ap@@ e@@ Un@@ der@@ S@@ cor@@ e@@ (@@ final java.lang.String c@@ ustom@@ iz@@ ed@@ Value@@ , final java.lang.String c@@ ustom@@ iz@@ ed@@ R@@ el@@ ation@@ ) { java.lang.String es@@ c@@ ap@@ ed@@ Valu@@ e = c@@ ustom@@ iz@@ ed@@ Value@@ ; if ((@@ c@@ ustom@@ iz@@ ed@@ R@@ el@@ ation@@ .@@ e@@ qual@@ s@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ "@@ L@@ I@@ K@@ E@@ "@@ )) || (c@@ ustom@@ iz@@ ed@@ R@@ el@@ ation@@ .@@ e@@ qual@@ s@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ "@@ I@@ L@@ I@@ K@@ E@@ "@@ ))) { java.lang.String re@@ pl@@ ace@@ W@@ it@@ h = "@@ _@@ "@@ ; int p@@ g@@ Ma@@ j@@ or@@ R@@ el@@ e@@ ase = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ P@@ g@@ Ma@@ j@@ or@@ R@@ el@@ e@@ as@@ e); if (p@@ g@@ Ma@@ j@@ or@@ R@@ el@@ e@@ ase == (@@ org.ovirt.engine.core.@@ search@@ back@@ end@@ .S@@ yn@@ t@@ a@@ x@@ Check@@ er.@@ P@@ g@@ Ma@@ j@@ or@@ R@@ el@@ e@@ as@@ e.@@ P@@ G@@ 8@@ .get@@ Valu@@ e())) { re@@ pl@@ ace@@ W@@ it@@ h = "@@ \@@ \@@ \@@ \@@ \@@ \@@ _@@ "@@ ; } else if (p@@ g@@ Ma@@ j@@ or@@ R@@ el@@ e@@ ase == (@@ org.ovirt.engine.core.@@ search@@ back@@ end@@ .S@@ yn@@ t@@ a@@ x@@ Check@@ er.@@ P@@ g@@ Ma@@ j@@ or@@ R@@ el@@ e@@ as@@ e.@@ P@@ G@@ 9@@ .get@@ Valu@@ e())) { re@@ pl@@ ace@@ W@@ it@@ h = "@@ \@@ _@@ "@@ ; } es@@ c@@ ap@@ ed@@ Valu@@ e = c@@ ustom@@ iz@@ ed@@ Valu@@ e.@@ re@@ plac@@ e(@@ "@@ _@@ ", re@@ pl@@ ace@@ With@@ ); } return es@@ c@@ ap@@ ed@@ Value@@ ; }
private java.lang.String get@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e() { if ((org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Custom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e()) != null@@ ) { return org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Custom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e(); } java.lang.String r@@ ec@@ ent@@ De@@ fa@@ ult = org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Cluster@@ ().get@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e(); if ((@@ remove@@ Th@@ is@@ D@@ ebug@@ S@@ wit@@ ch@@ ) && ((org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Custom@@ CompatibilityVersion@@ ()) != null@@ )) { java.util.List<java.lang.String> old@@ Support@@ ed = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.util.List<@@ java.lang.String@@ >@@ get@@ Value(ConfigValues.@@ Cluster@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ es@@ , org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Custom@@ CompatibilityVersion@@ ().get@@ Valu@@ e()); java.util.@@ Option@@ al@@ <java.lang.String@@ > b@@ es@@ t = old@@ Supported@@ .@@ st@@ re@@ am@@ ().@@ ma@@ x@@ (@@ ( s@@ 1, s@@ 2@@ ) -@@ > (@@ org.apache.commons.lang.StringUtils.@@ dex@@ Of@@ D@@ if@@ fer@@ enc@@ e(@@ r@@ ec@@ ent@@ Default@@ , s@@ 1@@ )) - (@@ org.apache.commons.lang.StringUtils.@@ in@@ dex@@ Of@@ D@@ if@@ fer@@ enc@@ e(@@ r@@ ec@@ ent@@ Default@@ , s@@ 2@@ ))); org.ovirt.engine.core.bll.@@ RunVm@@ Command.@@ log.@@ info@@ ("@@ Em@@ ul@@ ate@@ d m@@ ach@@ in@@ e '{}@@ ' s@@ el@@ ected s@@ in@@ c@@ e C@@ ust@@ o@@ m C@@ ompati@@ b@@ il@@ it@@ y Vers@@ ion is se@@ t for the '{}@@ ' VM@@ ", b@@ es@@ t.@@ or@@ El@@ se(@@ r@@ ec@@ ent@@ Default@@ ), org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Name()); return b@@ es@@ t.@@ or@@ El@@ se(@@ r@@ ec@@ ent@@ Default@@ ); } return r@@ ec@@ ent@@ Default@@ ; }
public static java.util.Map<java.lang.String, java.lang.Object> pre@@ par@@ e@@ Loc@@ ation@@ Info@@ For@@ Vds@@ Command@@ (org.ovirt.engine.core.common.businessentities.@@ Loc@@ ation@@ In@@ f@@ o loc@@ ation@@ Info@@ ) { if (@@ loc@@ ation@@ In@@ f@@ o instanceof org.ovirt.engine.core.common.businessentities.@@ External@@ Loc@@ ation@@ Info@@ ) { org.ovirt.engine.core.common.businessentities.@@ External@@ Loc@@ ation@@ In@@ f@@ o in@@ f@@ o = ((org.ovirt.engine.core.common.businessentities.@@ External@@ Loc@@ ation@@ Info@@ ) (@@ loc@@ ation@@ Info@@ )); if (@@ Connection@@ Method@@ .@@ H@@ T@@ P@@ .equals(@@ info@@ .get@@ Connection@@ Method@@ ())) { org.ovirt.engine.core.common.businessentities.@@ H@@ ttp@@ Loc@@ ation@@ In@@ f@@ o http@@ In@@ f@@ o = ((org.ovirt.engine.core.common.businessentities.@@ H@@ ttp@@ Loc@@ ation@@ Info@@ ) (@@ info@@ )); java.util.Map<java.lang.String, java.lang.Object> info@@ Map = new java.util.HashMap@@ <@@ >(); info@@ Map@@ .@@ put@@ ("@@ m@@ et@@ hod@@ ", "@@ http@@ "); info@@ Map@@ .@@ put@@ ("@@ ur@@ l@@ ", http@@ Info@@ .get@@ U@@ r@@ l@@ ()); info@@ Map@@ .@@ put@@ ("@@ h@@ ead@@ ers@@ ", http@@ Info@@ .get@@ H@@ ead@@ ers@@ ()); return info@@ Map@@ ; } } if (@@ loc@@ ation@@ In@@ f@@ o instanceof org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ Info@@ ) { org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ In@@ f@@ o in@@ f@@ o = ((org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ Info@@ ) (@@ loc@@ ation@@ Info@@ )); java.util.Map<java.lang.String, java.lang.Object> info@@ Map = new java.util.HashMap@@ <@@ >(); info@@ Map@@ .@@ put@@ ("@@ end@@ p@@ o@@ int@@ _@@ type@@ ", "@@ d@@ i@@ v@@ "); info@@ Map@@ .@@ put@@ ("@@ sd@@ _id", info@@ .get@@ StorageDomain@@ Id().@@ toString@@ ()); info@@ Map@@ .@@ put@@ ("@@ im@@ g@@ _id", info@@ .get@@ Image@@ Group@@ Id().@@ toString@@ ()); info@@ Map@@ .@@ put@@ ("@@ v@@ ol@@ _id", info@@ .get@@ Image@@ Id().@@ toString@@ ()); info@@ Map@@ .@@ put@@ ("@@ gener@@ ation@@ ", info@@ .get@@ Gener@@ ation@@ ()); return info@@ Map@@ ; } throw new java.lang.@@ Run@@ time@@ Exception@@ ("@@ Time@@ o@@ u@@ t loc@@ ation in@@ f@@ o "); }
@java.lang.Override public org.ovirt.engine.api.model.@@ Image@@ Trans@@ f@@ er get@@ () { org.ovirt.engine.api.model.@@ Image@@ Trans@@ f@@ er image@@ Trans@@ f@@ er = p@@ er@@ for@@ m@@ Get@@ (Vdc@@ Query@@ Type.Get@@ Image@@ Trans@@ fer@@ By@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ g@@ uid@@ )); if (@@ image@@ Trans@@ f@@ er.@@ isSet@@ Image@@ ()) { image@@ Trans@@ fer@@ .get@@ Image@@ ().@@ un@@ set@@ Link@@ s(); } return image@@ Trans@@ fer@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p get@@ St@@ ep@@ (org.ovirt.engine.core.compat.Guid st@@ ep@@ Id) { return st@@ ep@@ Dao@@ .get(@@ st@@ ep@@ Id); }
org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p get@@ St@@ ep@@ (org.ovirt.engine.core.compat.Guid st@@ ep@@ Id, boolean in@@ c@@ lu@@ de@@ Su@@ bject@@ Enti@@ ti@@ es@@ );
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ DiskImage@@ > st@@ ep@@ s = st@@ ep@@ Dao@@ .get@@ St@@ ep@@ sBy@@ Job@@ Id@@ (org.ovirt.engine.core.bll.@@ Get@@ St@@ ep@@ sBy@@ Job@@ Id@@ Query.get@@ Parameters().get@@ Job@@ Id()); st@@ ep@@ s@@ .@@ for@@ E@@ ach@@ (@@ ( s) -@@ > Su@@ bject@@ Enti@@ ties@@ (@@ st@@ ep@@ Su@@ bject@@ Entity@@ Dao@@ .get@@ St@@ ep@@ Su@@ bject@@ Enti@@ ties@@ By@@ St@@ ep@@ Id(@@ s.get@@ Id@@ ()))); org.ovirt.engine.core.bll.@@ Get@@ St@@ ep@@ sBy@@ Job@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ st@@ ep@@ s); }
private org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t build@@ Command@@ Context@@ (org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity@@ ) { org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Cont@@ ex@@ t ex@@ ecution@@ Cont@@ ex@@ t = new org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Context@@ (); if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (c@@ md@@ Entity@@ .get@@ Job@@ Id@@ ()))) { ex@@ ecution@@ Cont@@ ext.@@ set@@ Job@@ (@@ job@@ Rep@@ os@@ it@@ ory@@ .get@@ Job@@ With@@ St@@ ep@@ s(@@ cmd@@ Entity@@ .get@@ Job@@ Id@@ ())); } else if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (c@@ md@@ Entity@@ .get@@ St@@ ep@@ Id@@ ()))) { ex@@ ecution@@ Cont@@ ext.@@ set@@ St@@ ep@@ (@@ job@@ Rep@@ os@@ it@@ ory@@ .get@@ St@@ ep@@ (c@@ md@@ Entity@@ .get@@ St@@ ep@@ Id@@ ())); } return new org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Context@@ (@@ new org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Engine@@ Context@@ ()).@@ with@@ Execution@@ Context@@ (@@ ex@@ ecution@@ Context@@ ); }
private void re@@ or@@ der@@ Nic@@ s() { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > vm@@ Interface@@ Device@@ s = getVm@@ Interface@@ Devic@@ es@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > nic@@ s = vm@@ Nic@@ Dao@@ .get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Re@@ or@@ der@@ Vm@@ Nic@@ s@@ Command.getParameters().get@@ Vm@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > nic@@ sTo@@ Re@@ or@@ der = new java.util.ArrayList<@@ >(); java.util.List<java.lang.String> mac@@ sTo@@ Re@@ or@@ der = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic n@@ ic : nic@@ s) { org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e nic@@ Devic@@ e = vm@@ Interface@@ Devic@@ es@@ .get(@@ nic@@ .getId()); if ((@@ nic@@ Devic@@ e == null@@ ) || (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ nic@@ Devic@@ e.get@@ Address@@ ()))) { nic@@ sTo@@ Re@@ or@@ der.@@ add(@@ nic@@ ); mac@@ sTo@@ Re@@ or@@ der.@@ add(@@ nic@@ .get@@ Mac@@ Address@@ ()); } java.util.Collections.@@ s@@ ort@@ (@@ nic@@ sTo@@ Re@@ or@@ der@@ , new org.ovirt.engine.core.bll.@@ common.@@ comp@@ ar@@ ator.@@ Num@@ er@@ ic@@ Su@@ f@@ fi@@ x@@ Name@@ able@@ Comp@@ ar@@ ator@@ ()); java.util.Collections.@@ s@@ ort@@ (@@ mac@@ sTo@@ Re@@ or@@ der@@ ); for (@@ int i = 0@@ ; i < (@@ nic@@ sTo@@ Re@@ or@@ der.@@ siz@@ e()); +@@ i@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic n@@ ic = nic@@ sTo@@ Re@@ or@@ der@@ .get(@@ i@@ ); nic@@ .set@@ Mac@@ Address@@ (@@ mac@@ sTo@@ Re@@ or@@ der@@ .get(@@ i@@ )); vm@@ Nic@@ Dao@@ .@@ updat@@ e(@@ nic@@ ); } }
@java.lang.Override public int comp@@ ar@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ Name@@ able name@@ able@@ 1, org.ovirt.engine.core.common.businessentities.@@ Name@@ able name@@ able@@ 2@@ ) { final java.lang.String name@@ 1 = name@@ able@@ 1@@ .get@@ Nam@@ e(); final java.lang.String name@@ 2 = name@@ able@@ 2@@ .get@@ Nam@@ e(); final org.ovirt.engine.core.bll.@@ Num@@ er@@ ic@@ Su@@ f@@ fi@@ x@@ N@@ or@@ m@@ al@@ iz@@ er num@@ er@@ ic@@ Su@@ f@@ fi@@ x@@ N@@ or@@ m@@ al@@ iz@@ er = new org.ovirt.engine.core.bll.@@ common.@@ Num@@ er@@ ic@@ Su@@ f@@ fi@@ x@@ N@@ or@@ m@@ al@@ iz@@ er@@ (); final java.util.List<java.lang.String> n@@ or@@ m@@ al@@ iz@@ ed@@ Name@@ s = num@@ er@@ ic@@ Su@@ f@@ fi@@ x@@ N@@ or@@ m@@ al@@ iz@@ er.@@ n@@ or@@ m@@ al@@ iz@@ e(@@ name@@ 1, name@@ 2@@ ); return org.apache.commons.lang.@@ Object@@ Utils.@@ comp@@ ar@@ e(@@ n@@ or@@ m@@ al@@ iz@@ ed@@ Names@@ .get@@ (0@@ ), n@@ or@@ m@@ al@@ iz@@ ed@@ Names@@ .get(@@ 1@@ )); }
private org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Statu@@ s handl@@ e@@ Un@@ d@@ et@@ er@@ min@@ ed@@ Job@@ Status(@@ org.ovirt.engine.core.bll.@@ storage.@@ Storage@@ Job@@ C@@ <?@@ > cmd@@ , boolean job@@ s@@ Re@@ port@@ ed@@ By@@ Host@@ ) { if (is@@ Entity@@ P@@ oll@@ ing@@ Supported@@ (c@@ md@@ )) { log.@@ info@@ ("@@ F@@ enc@@ ing {@@ } id@@ : '{}@@ '@@ : at@@ temp@@ t@@ ing to d@@ et@@ er@@ min@@ e the j@@ o@@ b stat@@ u@@ s b@@ y p@@ oll@@ ing the entity@@ .@@ "); cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id()); org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Statu@@ s stat@@ u@@ s = p@@ oll@@ Entity@@ (c@@ md@@ ); if (@@ stat@@ u@@ s != null@@ ) { return status@@ ; } org.ovirt.engine.core.bll.storage.@@ Entity@@ P@@ oll@@ ing@@ C@@ ommand entity@@ P@@ oll@@ ing@@ C@@ ommand = ((@@ org.ovirt.engine.core.bll.storage.@@ Entity@@ P@@ oll@@ ing@@ Command@@ ) (c@@ md@@ )); if (@@ entity@@ P@@ oll@@ ing@@ Command.@@ is@@ F@@ enc@@ ing@@ Supported@@ ()) && (!@@ (c@@ md@@ .get@@ Parameters().get@@ Job@@ Start@@ ed@@ ()))) { log.@@ info@@ ("@@ F@@ enc@@ ing {@@ } id@@ : '{}@@ '@@ : at@@ temp@@ t@@ ing to f@@ enc@@ e j@@ o@@ b {@@ } cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id(), cmd@@ .get@@ Job@@ Id()); entity@@ P@@ oll@@ ing@@ Command.@@ at@@ temp@@ t@@ To@@ Fence@@ Job@@ (); } return null@@ ; } if (@@ job@@ s@@ Re@@ port@@ ed@@ By@@ Host@@ ) { log.error@@ ((@@ "@@ F@@ enc@@ ing {@@ } id@@ : enti@@ ty p@@ oll@@ ing is@@ n support@@ ed and the j@@ o@@ b is@@ n re@@ port@@ ed b@@ y the host@@ , " + i@@ t fail@@ ed s@@ o th@@ a@@ t the c@@ ommand ex@@ ec@@ uti@@ on w@@ il@@ l end@@ .@@ "@@ ), cmd@@ .get@@ Command@@ Id()); return org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Status.@@ fail@@ ed@@ ; } if (c@@ md@@ .@@ fail@@ ed@@ Status()) { log.error@@ ("@@ Fail@@ ed d@@ et@@ er@@ min@@ e the act@@ u@@ al fail@@ ed a@@ s fail@@ ed a@@ s fail@@ ed@@ ", cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id()); return org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Status.@@ fail@@ ed@@ ; } if (c@@ md@@ .get@@ Job@@ Typ@@ e(), cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id()); return org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Status.@@ fail@@ ed@@ ; }
private void handl@@ e@@ P@@ oll@@ ed@@ Job@@ In@@ f@@ o (org.ovirt.engine.core.bll.storage.@@ Storage@@ Job@@ Command@@ <?@@ > cmd@@ , org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ In@@ f@@ o job@@ Info@@ ) { if ((@@ job@@ Info@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Status.@@ run@@ ning@@ )) && (!@@ (c@@ md@@ .get@@ Parameters().get@@ Job@@ Start@@ ed@@ ()))) { cmd@@ .get@@ Parameters@@ ().set@@ Job@@ Start@@ ed@@ (@@ true@@ ); cmd@@ .@@ p@@ ers@@ ist@@ Command@@ (c@@ md@@ .get@@ Parameters().get@@ Parent@@ Command@@ (), true@@ ); } if ((@@ job@@ Info@@ .get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Status.@@ fail@@ ed@@ )) { return@@ ; } if ((@@ job@@ Info@@ .get@@ Error@@ ()) != null@@ ) { job@@ Info@@ .set@@ Status@@ (c@@ md@@ .@@ handl@@ e@@ Job@@ Error@@ (@@ job@@ Info@@ .get@@ Error@@ ().get@@ Cod@@ e())); if ((@@ job@@ Info@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ do@@ ne@@ )) { job@@ Info@@ .set@@ Progress@@ (@@ null@@ ); } }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n set@@ Volume@@ Gener@@ ation@@ (java.lang.String job@@ Id, java.util.Map@@ <?@@ , ?@@ > volume@@ Info@@ );
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n set@@ Volume@@ Gener@@ ation@@ (java.lang.String job@@ Id, java.util.Map@@ <?@@ , ?@@ > volume@@ Info@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ S@@ D@@ M@@ .set@@ _@@ volume@@ _@@ gener@@ ation@@ ").@@ with@@ Parameter("@@ job@@ _id", job@@ Id@@ ).@@ with@@ Parameter("@@ v@@ ol@@ _@@ info@@ ", volume@@ Info@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Return(@@ respon@@ se@@ ); }
private org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Statu@@ s handl@@ e@@ Un@@ d@@ et@@ er@@ min@@ ed@@ Job@@ Status@@ (org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > cmd@@ , boolean job@@ s@@ Re@@ port@@ ed@@ By@@ Host@@ ) { if (is@@ Entity@@ P@@ oll@@ ing@@ Supported@@ (c@@ md@@ )) { log.@@ info@@ ("@@ A@@ t@@ temp@@ t@@ ing to d@@ et@@ er@@ min@@ e the j@@ o@@ b stat@@ u@@ s b@@ y p@@ oll@@ ing the entity@@ . cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id()); return p@@ oll@@ Entity@@ (c@@ md@@ ); } if (@@ job@@ s@@ Re@@ port@@ ed@@ By@@ Host@@ ) { log.error@@ ((@@ "@@ Hos@@ t {@@ } id@@ : '{}@@ '@@ : enti@@ ty p@@ oll@@ ing is@@ n support@@ ed and the j@@ o@@ b is@@ n@@ '@@ t re@@ port@@ ed b@@ y the host@@ , " + i@@ t fail@@ ed s@@ o th@@ a@@ t the c@@ ommand ex@@ ec@@ uti@@ on w@@ il@@ l end@@ . cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id()); return org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Status.@@ fail@@ ed@@ ; } if (c@@ md@@ .@@ fail@@ ed@@ Job@@ With@@ Un@@ d@@ et@@ er@@ min@@ ed@@ Status()) { log.error@@ ((@@ "@@ Hos@@ t {@@ } id@@ : '{}@@ '@@ : fail@@ ed@@ ", c@@ ommand to d@@ et@@ er@@ min@@ e the act@@ u@@ al@@ ", status@@ , con@@ s@@ id@@ er@@ ing a@@ s fail@@ ed@@ ", a@@ s p@@ er " + the c@@ ommand im@@ pl@@ ement@@ ation@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id()); return org.ovirt.engine.core.common.businessentities.@@ Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Info@@ .@@ fail@@ ed@@ ; }
@java.lang.Override public boolean is@@ Job@@ F@@ enc@@ ing@@ Supported@@ () { return is@@ D@@ st@@ Vds@@ m@@ Image@@ (); }
@java.lang.Override public void at@@ temp@@ t@@ To@@ Fence@@ Job@@ () { if (is@@ D@@ st@@ Vds@@ m@@ Image@@ ()) { org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ In@@ f@@ o in@@ f@@ o = ((org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ Info@@ ) (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Data@@ Command.getParameters().get@@ D@@ st@@ Info@@ ())); org.ovirt.engine.core.common.action.@@ Fence@@ Volume@@ Job@@ Command@@ Parameters p = new org.ovirt.engine.core.common.action.@@ Fence@@ Volume@@ Job@@ Command@@ Parameters(@@ info@@ ); p@@ .set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Data@@ Command.get@@ Action@@ Typ@@ e()); p@@ .set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Data@@ Command.get@@ Parameters@@ ()); p@@ .set@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Data@@ Command.getParameters().get@@ StoragePool@@ Id()); run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (VdcActionType.@@ Fence@@ Volume@@ Job@@ , p@@ ); } }
protected void init@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ () { org.ovirt.engine.core.compat.@@ Vers@@ ion e@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (); org.ovirt.engine.core.common.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Vm@@ Properties@@ Util@@ s@@ .getInstance().get@@ Supported@@ Cluster@@ L@@ ev@@ el@@ s().@@ contains(@@ org.ovirt.engine.core.bll.@@ Vm@@ Management@@ CommandBase.get@@ Parameters().get@@ Vm@@ StaticData@@ ().get@@ Custom@@ CompatibilityVersion@@ ())) ? org.ovirt.engine.core.common.utils.@@ CompatibilityVersion@@ Util@@ s.get@@ E@@ f@@ f@@ ec@@ ti@@ v@@ e(@@ org.ovirt.engine.core.bll.@@ Vm@@ Management@@ CommandBase.get@@ Parameters().get@@ Vm@@ StaticData@@ (), this@@ :@@ :@@ :@@ get@@ Cluster@@ CompatibilityVersion@@ (), org.ovirt.engine.core.common.utils.@@ CompatibilityVersion@@ Util@@ s.get@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (@@ this@@ :@@ :@@ :@@ get@@ Cluster@@ ); set@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (@@ e@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ ); }
public void check@@ In@@ valid@@ Address@@ () { assert@@ Fal@@ se(@@ un@@ der@@ Test.@@ test@@ (@@ gener@@ ate@@ VdsNetwork@@ Interfac@@ e(@@ org.ovirt.engine.core.utils.@@ network.@@ p@@ red@@ ic@@ at@@ e.@@ Abstract@@ VdsNetwork@@ Interface@@ P@@ red@@ ic@@ ate@@ Test.@@ IN@@ VALID@@ ))); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { log.@@ info@@ ("@@ S@@ r@@ c@@ ing execute@@ Vds@@ Broker@@ Command@@ : call@@ ing '@@ c@@ opy@@ Volume@@ Data@@ '@@ ", c@@ opy@@ Volume@@ Data@@ ()); if (@@ b@@ ) { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Copy@@ Volume@@ Data@@ VDS@@ Command.get@@ Broker@@ ().@@ c@@ opy@@ Data@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Copy@@ Volume@@ Data@@ VDS@@ Command.getParameters().get@@ Job@@ Id().@@ toString@@ (), build@@ Loc@@ ation@@ Info@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Copy@@ Volume@@ Data@@ VDS@@ Command.getParameters().get@@ S@@ r@@ c@@ Info@@ ()), build@@ Loc@@ ation@@ Info@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Copy@@ Volume@@ Data@@ VDS@@ Command.getParameters().get@@ D@@ st@@ Info@@ ())); } else { stat@@ u@@ s = create@@ Fail@@ Status@@ (); } org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Copy@@ Volume@@ Data@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); }
protected boolean validate@@ L@@ e@@ ase@@ StorageDomain@@ (org.ovirt.engine.core.compat.Guid le@@ ase@@ StorageDomain@@ Id) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain do@@ ma@@ in = storageDomain@@ Dao@@ .get(@@ le@@ ase@@ StorageDomain@@ Id); org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (@@ do@@ m@@ ain@@ ); if (!(@@ validate(@@ validator.@@ is@@ Domain@@ Exist@@ And@@ Acti@@ v@@ e()@@ ))) { return false@@ ; } if (get@@ StoragePool@@ Id().@@ e@@ qual@@ s@@ (@@ do@@ m@@ ain@@ .get@@ StoragePool@@ Id@@ ())) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ LE@@ A@@ S@@ E_@@ STORAGE_@@ IS@@ _NOT_@@ A@@ _P@@ ART@@ _@@ O@@ F@@ _P@@ O@@ OL@@ ); } return true@@ ; }
@java.lang.Override protected void execute@@ Vm@@ Command() { if (@@ sh@@ oul@@ d@@ Add@@ L@@ e@@ as@@ e(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ())) { if (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .is@@ Vm@@ L@@ e@@ as@@ es@@ Supported@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ ())) { if (@@ validate@@ L@@ e@@ ase@@ StorageDomain@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ L@@ e@@ ase@@ StorageDomain@@ Id@@ ())) { if (!(@@ add@@ Vm@@ L@@ e@@ as@@ e(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ Id@@ ()))) { org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().set@@ L@@ e@@ ase@@ StorageDomain@@ Id@@ (@@ null@@ ); } else { a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , AuditLogType.@@ C@@ ANNOT_@@ IM@@ POR@@ T_@@ VM_@@ W@@ I@@ TH@@ _@@ LE@@ A@@ S@@ E_@@ STORAGE_DOMAIN@@ _@@ ER@@ R@@ OR@@ ); } else { org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().set@@ L@@ e@@ ase@@ StorageDomain@@ Id@@ (@@ null@@ ); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , AuditLogType.@@ C@@ ANNOT_@@ IM@@ POR@@ T_@@ VM_@@ W@@ I@@ TH@@ _@@ LE@@ A@@ S@@ E_@@ C@@ O@@ M@@ P@@ A@@ T_@@ V@@ ER@@ SI@@ ON@@ ); } } super@@ .@@ execute@@ Vm@@ Command@@ (); }
public java.lang.String get@@ Configuration@@ Value(@@ java.lang.String m@@ i@@ im@@ on@@ Value@@ ) { java.lang.String ex@@ tr@@ a@@ O@@ ption = "@@ "@@ ; if (@@ valu@@ e.@@ equals(@@ org.ovirt.engine.core.common.businessentities.network.@@ Bond@@ Mod@@ e.@@ B@@ ON@@ D@@ 4@@ .@@ value@@ )) { ex@@ tr@@ a@@ O@@ ption = x@@ m@@ it@@ _@@ hash@@ _@@ p@@ olicy@@ =@@ 2 } return ((@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Bond@@ Mod@@ e.@@ M@@ OD@@ E@@ ) + (@@ value@@ )) + m@@ i@@ im@@ on@@ = ") + ex@@ tr@@ a@@ O@@ ption@@ ; }
void init@@ C@@ om@@ b@@ o@@ B@@ o@@ x@@ () { key@@ List@@ B@@ o@@ x@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ edit@@ or@@ .@@ ListModel@@ Type@@ A@@ h@@ ead@@ List@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.@@ widget@@ .@@ edit@@ or.@@ ListModel@@ Type@@ A@@ h@@ ead@@ List@@ B@@ o@@ x@@ Editor@@ .@@ Null@@ S@@ afe@@ Su@@ g@@ g@@ g@@ est@@ B@@ o@@ x@@ Editor@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Option@@ Info@@ >() { @java.lang.Override public java.lang.String get@@ Re@@ plac@@ ement@@ String@@ Null@@ S@@ af@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Option@@ In@@ f@@ o o@@ ption@@ ) { return o@@ ption@@ .get@@ Key@@ (); } @java.lang.Override public java.lang.String get@@ Display@@ String@@ Null@@ S@@ af@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Option@@ In@@ f@@ o data@@ ) { return templat@@ es.@@ type@@ A@@ h@@ ead@@ Name@@ Description@@ ((@@ dat@@ a == null@@ ) ? org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ gluster.@@ Volume@@ Parameter@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ em@@ pty@@ () : dat@@ a@@ .get@@ Key@@ ()), s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ gluster.@@ Volume@@ Parameter@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ em@@ pty@@ ()); } }@@ )); }
@java.lang.Override public java.lang.String get@@ Display@@ String@@ Null@@ S@@ af@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Option@@ In@@ f@@ o data@@ ) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ gluster.@@ Volume@@ Parameter@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ em@@ pty@@ () : data@@ .get@@ Key@@ ()), org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ gluster.@@ Volume@@ Parameter@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ em@@ pty@@ () ? org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ gluster.@@ Volume@@ Parameter@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ em@@ pty@@ () : org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ gluster.@@ Volume@@ Parameter@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ em@@ pty@@ () : data@@ .get@@ Key@@ ()), org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ gluster.@@ Volume@@ Parameter@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ em@@ pty@@ ()); }
private void handl@@ e@@ F@@ in@@ al@@ iz@@ ing@@ Success@@ (@@ final org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ <@@ T@@ >@@ .@@ St@@ ate@@ Cont@@ ex@@ t cont@@ ext@@ ) { log.@@ info@@ ("@@ S@@ uc@@ cess@@ f@@ u@@ l trans@@ f@@ er for {@@ } get@@ Trans@@ fer@@ Description@@ ()); if (@@ st@@ op@@ Image@@ Trans@@ fer@@ Session@@ (@@ cont@@ ext.@@ entity@@ )) { org.ovirt.engine.core.compat.Guid trans@@ fer@@ ing@@ Vds@@ Id = cont@@ ext.@@ entity.get@@ Vds@@ Id@@ (); if (@@ ve@@ r@@ if@@ y@@ Image@@ (@@ trans@@ fer@@ ing@@ Vds@@ Id@@ )) { set@@ Volume@@ L@@ eg@@ al@@ ity@@ In@@ Storage@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.@@ LE@@ G@@ AL@@ _@@ IM@@ AG@@ E); org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ update@@ Image@@ In@@ f@@ o q@@ em@@ u@@ Image@@ In@@ f@@ o = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ Q@@ em@@ u@@ Image@@ Info@@ From@@ Vds@@ m@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ StoragePool@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Disk@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Image@@ Id(), false@@ ); if (@@ q@@ em@@ u@@ Image@@ In@@ f@@ o != null@@ ) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().set@@ Q@@ c@@ ow@@ Comp@@ at@@ (@@ q@@ em@@ u@@ Image@@ Info@@ .get@@ Q@@ c@@ ow@@ Comp@@ at@@ ()); image@@ Dao@@ .@@ updat@@ e(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Image@@ ()); } org.ovirt.engine.core.bll.@@ storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.@@ un@@ Lock@@ Image@@ (); update@@ Entity@@ P@@ has@@ F@@ IN@@ IS@@ H@@ ED_@@ S@@ U@@ C@@ C@@ C@@ C@@ E@@ SS@@ ); } else { set@@ Image@@ Status(@@ Image@@ Status.@@ I@@ L@@ LE@@ G@@ AL@@ ); update@@ Entity@@ P@@ has@@ F@@ IN@@ AL@@ I@@ Z@@ ING@@ _@@ FAIL@@ U@@ RE@@ ); } t@@ e@@ ar@@ Down@@ Image@@ (@@ cont@@ ext.@@ Vds@@ Id()); } }
@java.lang.Override protected org.ovirt.engine.ui.common.widget.@@ Abstract@@ U@@ i@@ Command@@ B@@ utt@@ on create@@ Command@@ Button@@ (java.lang.String l@@ abel@@ , java.lang.String un@@ i@@ qu@@ e@@ Id) { if (@@ Vm@@ Bas@@ ed@@ Widget@@ S@@ wit@@ ch@@ M@@ ode@@ Command.@@ NAM@@ E@@ .equals(@@ un@@ i@@ qu@@ e@@ Id@@ )) { org.ovirt.engine.ui.common.widget.@@ L@@ e@@ f@@ t@@ Al@@ ign@@ ed@@ U@@ i@@ Command@@ B@@ utt@@ on le@@ f@@ t@@ Al@@ ign@@ ed@@ U@@ i@@ Command@@ B@@ utt@@ on = new org.ovirt.engine.ui.common.widget.@@ L@@ e@@ f@@ t@@ Al@@ ign@@ ed@@ U@@ i@@ Command@@ Button@@ (@@ l@@ abel@@ ); return le@@ f@@ t@@ Al@@ ign@@ ed@@ U@@ i@@ Command@@ Button@@ ; } return super@@ .@@ create@@ Command@@ Button@@ (@@ l@@ abel@@ , un@@ i@@ qu@@ e@@ Id); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ acti@@ vate@@ |@@ m@@ igr@@ ate@@ |@@ st@@ op@@ m@@ igr@@ ate@@ )@@ }@@ /@@ {@@ o@@ id@@ } public java.lang.@@ I@@ ter@@ able@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ >@@ get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ un@@ d@@ elet@@ e@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).get@@ Action@@ Status@@ (@@ action@@ , o@@ id@@ )); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : profil@@ est@@ ati@@ stic@@ s@@ |@@ re@@ b@@ al@@ ance@@ |@@ res@@ et@@ o@@ ption@@ |@@ set@@ o@@ ption@@ |@@ st@@ art@@ |@@ st@@ art@@ |@@ st@@ art@@ |@@ st@@ op@@ |@@ st@@ op@@ profil@@ e@@ |@@ st@@ op@@ re@@ b@@ al@@ ance@@ )@@ }@@ /@@ {@@ o@@ id@@ } public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).@@ build@@ (); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ acti@@ vate@@ |@@ de@@ acti@@ vate@@ |@@ ex@@ port@@ |@@ m@@ ove@@ )@@ }@@ /@@ {@@ o@@ id@@ } public java.lang.Object o@@ id@@ }@@ ") java.lang.String o@@ id@@ );
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ end@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ acti@@ vate@@ |@@ ap@@ pro@@ ve@@ |@@ c@@ omm@@ it@@ net@@ config@@ |@@ de@@ acti@@ vate@@ |@@ en@@ ro@@ ll@@ c@@ er@@ t@@ if@@ ic@@ ate@@ |@@ f@@ ence@@ |@@ for@@ c@@ es@@ el@@ ect@@ sp@@ m@@ |@@ in@@ st@@ all@@ |@@ is@@ c@@ s@@ id@@ is@@ c@@ o@@ ver@@ |@@ is@@ c@@ s@@ il@@ o@@ gin@@ |@@ re@@ fresh@@ |@@ set@@ up@@ network@@ s@@ |@@ un@@ re@@ g@@ ist@@ er@@ ed@@ stor@@ age@@ do@@ m@@ ain@@ s@@ dis@@ c@@ o@@ ver@@ |@@ up@@ g@@ r@@ ad@@ e@@ )@@ }@@ /@@ {@@ o@@ id@@ } public java.lang.@@ Th@@ row@@ able o@@ id@@ : {@@ o@@ id@@ }@@ ", @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()); }
@java.lang.Override public java.lang.String get@@ Action@@ Status@@ (java.lang.String action@@ , java.lang.String id@@ ) { return in@@ j@@ ect@@ (@@ new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Action@@ Resourc@@ e(@@ action@@ , id@@ )); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ dis@@ able@@ |@@ en@@ able@@ |@@ res@@ ol@@ ve@@ )@@ }@@ /@@ {@@ o@@ id@@ } public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s map@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()); }
public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ set@@ And@@ Stor@@ e@@ To@@ D@@ B@@ (@@ boolean is@@ Respon@@ se@@ ) { return get@@ Action@@ Status(@@ action@@ , java.lang.String o@@ id@@ ) { return get@@ Action@@ Typ@@ e().@@ build@@ (); }
public static java.util.List<@@ org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ ree@@ Node@@ > get@@ Sub@@ Servic@@ es(@@ java.lang.@@ Class@@ <?@@ > res@@ ource@@ ) { java.util.List<@@ org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ ree@@ Node@@ > res@@ ource@@ s = new java.util.ArrayList<@@ >(); for (@@ java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Met@@ h@@ o@@ d m@@ et@@ h@@ o@@ d : org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ re@@ e.get@@ Method@@ s(@@ res@@ ource@@ , org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ re@@ e.@@ S@@ U@@ B@@ _@@ RE@@ S@@ O@@ UR@@ C@@ E@@ S@@ )) { java.lang.String nam@@ e = m@@ et@@ hod@@ .get@@ Nam@@ e(); if ((!@@ ("@@ get@@ Action@@ Status@@ "@@ .equals(@@ name@@ ))) && (!@@ ("@@ get@@ Cre@@ ation@@ Resource@@ "@@ .equals(@@ name@@ )))) { java.lang.String p@@ at@@ h = m@@ et@@ hod@@ .get@@ An@@ not@@ ation@@ (@@ javax.ws.rs.@@ P@@ at@@ h ? m@@ et@@ hod@@ .get@@ An@@ not@@ ation@@ () : javax.ws.rs.@@ P@@ at@@ h source@@ Class@@ .@@ class@@ ).@@ valu@@ e(); java.lang.@@ Class@@ <?@@ > typ@@ e = m@@ et@@ hod@@ .get@@ Return@@ Typ@@ e(); resourc@@ es.@@ add(@@ org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ re@@ e.@@ build@@ Nod@@ e(@@ type@@ , p@@ at@@ h@@ h@@ ex@@ ); } return resourc@@ es@@ ; }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (is@@ attach@@ ed@@ |@@ re@@ fresh@@ lun@@ s@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ", public java.util.Map<java.lang.String, java.lang.Object> r@@ a@@ id@@ Param@@ s, java.lang.String o@@ id@@ ) { return javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ ex@@ port@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).@@ build@@ (); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ al@@ loc@@ ate@@ vm@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).get@@ Action@@ Status@@ (); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ attach@@ |@@ d@@ et@@ ach@@ |@@ update@@ vi@@ r@@ tu@@ al@@ f@@ un@@ c@@ tion@@ s@@ config@@ ur@@ ation@@ )@@ }@@ /@@ {@@ o@@ id@@ } public java.lang.@@ Class@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ w@@ id@@ > entity@@ ed@@ ") java.lang.String o@@ id@@ ) { return entity@@ ; }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ rest@@ ore@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).@@ build@@ (); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (c@@ opy@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ StorageDomain@@ Cont@@ ent@@ Resourc@@ e get@@ Action@@ Resourc@@ e(@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).@@ build@@ (); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (c@@ opy@@ |@@ ex@@ port@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ Action@@ Respon@@ se@@ Exception { return get@@ Action@@ Status(@@ action@@ , o@@ id@@ )); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ m@@ ove@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).@@ build@@ (); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (c@@ ancel@@ m@@ igr@@ ation@@ |@@ cl@@ one@@ |@@ cl@@ one@@ |@@ c@@ omm@@ it@@ _@@ snapshot@@ |@@ d@@ et@@ ach@@ |@@ ex@@ port@@ |@@ f@@ ree@@ z@@ e@@ fil@@ es@@ |@@ log@@ on@@ |@@ m@@ a@@ int@@ en@@ ance@@ |@@ m@@ igr@@ ate@@ |@@ m@@ ove@@ |@@ pre@@ view@@ _@@ snapshot@@ |@@ re@@ b@@ oot@@ |@@ re@@ or@@ der@@ mac@@ add@@ ress@@ es@@ |@@ sh@@ u@@ t@@ do@@ wn@@ |@@ st@@ art@@ |@@ st@@ op@@ |@@ s@@ us@@ p@@ end@@ |@@ th@@ a@@ w@@ fil@@ es@@ ystem@@ |@@ tic@@ k@@ et@@ |@@ u@@ n@@ do@@ _@@ snapshot@@ )@@ }@@ /@@ {@@ o@@ id@@ } public java.lang.@@ Th@@ row@@ able get@@ Action@@ Status(@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).@@ get@@ Action@@ Status@@ (@@ action@@ , o@@ id@@ )); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ pro@@ xy@@ tic@@ k@@ et@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).@@ build@@ (); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ re@@ pl@@ ace@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).@@ build@@ (); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (c@@ opy@@ |@@ ex@@ port@@ |@@ m@@ ove@@ )@@ }@@ /@@ {@@ o@@ id@@ } public java.lang.@@ Class@@ <@@ ? extends java.lang.@@ V@@ o@@ id@@ >() { @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ r@@ el@@ o@@ ad@@ config@@ ur@@ ation@@ s@@ )@@ }@@ /@@ {@@ o@@ id@@ } public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s status@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ res@@ et@@ em@@ ul@@ ated@@ m@@ ach@@ in@@ e@@ )@@ }@@ /@@ {@@ o@@ id@@ } public org.ovirt.engine.api.@@ r@@ yp@@ es.@@ Command@@ Call@@ back get@@ Action@@ Typ@@ e()); return get@@ Action@@ Typ@@ e(); }
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ import@@ c@@ er@@ t@@ if@@ ic@@ at@@ es@@ |@@ test@@ conn@@ ec@@ ti@@ vi@@ ty@@ )@@ }@@ /@@ {@@ o@@ id@@ } public java.lang.Object o@@ id@@ : {@@ o@@ id@@ }@@ ", o@@ id@@ );
@@@ javax.ws.rs.@@ Path@@ ("@@ {@@ action@@ : (@@ cl@@ e@@ ar@@ |@@ end@@ )@@ }@@ /@@ {@@ o@@ id@@ }@@ ") public org.ovirt.engine.api.@@ resource.@@ Action@@ Statu@@ s get@@ Action@@ Status@@ (@@ @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ action@@ ") java.lang.String action@@ , @@@ javax.ws.rs.@@ Path@@ Param@@ ("@@ o@@ id@@ ") java.lang.String o@@ id@@ ) { return ad@@ ap@@ t@@ Respon@@ se@@ (get@@ D@@ el@@ eg@@ at@@ e()@@ ).@@ build@@ (); }
public void add@@ Network@@ Fil@@ t@@ ers@@ To@@ Nic@@ (@@ java.util.Map<java.lang.String, java.lang.Object> str@@ uct@@ , org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic vm@@ Nic@@ ) { final org.ovirt.engine.core.common.businessentities.network.Network@@ Fil@@ t@@ er network@@ Fil@@ t@@ er = f@@ et@@ ch@@ Vnic@@ Profile@@ Network@@ Filter@@ (vm@@ Nic@@ ); if (network@@ Fil@@ t@@ er != null@@ ) { final java.lang.String network@@ Filter@@ Name = network@@ Filter@@ .get@@ Nam@@ e(); str@@ uc@@ t.@@ put(@@ Vds@@ Properties.@@ N@@ W@@ _@@ FI@@ L@@ TER@@ , network@@ Filter@@ Name@@ ); java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> parameter@@ s = new java.util.@@ Link@@ ed@@ List<@@ >(); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ Filter@@ Parameter@@ > vm@@ Nic@@ Filter@@ Parameters = vm@@ Nic@@ Filter@@ Parameter@@ Dao@@ .get@@ AllFor@@ Vm@@ Nic@@ (vm@@ Nic@@ .getId()); vm@@ Nic@@ Filter@@ Parameters@@ .@@ for@@ E@@ ach@@ (@@ ( nic@@ Filter@@ Parameter@@ ) -@@ > { Map@@ <java.lang.String, java.lang.Object> paramet@@ er = new org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ Hash@@ Map@@ <@@ >(); paramet@@ er.@@ put@@ ("@@ name@@ ", nic@@ Filter@@ .get@@ Name()); paramet@@ er.@@ put@@ ("@@ value@@ ", nic@@ Filter@@ Parameter@@ .get@@ Valu@@ e()); parameter@@ s.add(@@ parameter@@ ); }
@java.lang.Override protected void init@@ () { super@@ .@@ init@@ (); set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.getParameters().get@@ Cont@@ ain@@ er@@ Id()); set@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.getParameters().get@@ StoragePool@@ Id()); image@@ To@@ Dest@@ ination@@ Domain@@ Map = org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.getParameters().get@@ Image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ (); if ((@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.getParameters().get@@ Vm@@ ()) != null@@ ) && ((org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ Disk@@ Map@@ ()) != null@@ )) { image@@ List = new java.util.Array@@ List@@ (); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk dis@@ k : org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ()) { if ((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { image@@ Lis@@ t.@@ add@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ ))); } } en@@ s@@ ure@@ Domain@@ Map@@ (@@ image@@ List@@ , org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.getParameters().get@@ Dest@@ Domain@@ Id()); org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Max@@ Memory@@ Siz@@ e(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ ()); }
public static org.ovirt.vds@@ m@@ fa@@ k@@ e.@@ rpc@@ .@@ Ap@@ i get@@ Instanc@@ e() { return org.ovirt.vds@@ m@@ fa@@ k@@ e.@@ rpc@@ .@@ Ap@@ i.@@ sing@@ leton@@ ; }
public java.util.@@ Map@@ <java.lang.String, java.util.Map@@ > host@@ De@@ v@@ List@@ By@@ C@@ ap@@ s() { java.util.Map<java.lang.String, java.util.Map@@ > result@@ Map = get@@ D@@ one@@ Status@@ (); java.util.Map<java.lang.String, java.util.Map@@ > info@@ Map = new java.util.HashMap@@ <java.lang.String, java.lang.String@@ >(); try { info@@ Map@@ .@@ put@@ ("@@ com@@ pu@@ ter@@ ", get@@ C@@ ap@@ ab@@ ility@@ ()); info@@ Map@@ .@@ put@@ ("@@ pc@@ i@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 0@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 0@@ )); info@@ Map@@ .@@ put@@ ("@@ pc@@ i@@ _@@ 00@@ _@@ 1@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 1@@ )); info@@ Map@@ .@@ put@@ ("@@ pc@@ i@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 2@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 1@@ )); info@@ Map@@ .@@ put@@ ("@@ pc@@ i@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 2@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 2@@ )); info@@ Map@@ .@@ put@@ ("@@ pc@@ i@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 3@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 3@@ )); info@@ Map@@ .@@ put@@ ("@@ i@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 4@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 4@@ )); info@@ Map@@ .@@ put@@ ("@@ pc@@ i@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 5@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 5@@ )); info@@ Map@@ .@@ put@@ ("@@ pc@@ i@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 6@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 6@@ )); info@@ Map@@ .@@ put@@ ("@@ pc@@ i@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 1@@ b@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 1@@ b@@ _@@ 8@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 8@@ )); info@@ Map@@ .@@ put@@ ("@@ pc@@ i@@ _@@ 00@@ _@@ 1@@ b@@ _@@ 1@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 9@@ )); info@@ Map@@ .@@ put@@ ("@@ pc@@ i@@ _@@ 00@@ _@@ 1@@ 0@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 1@@ 0@@ )); } final@@ l@@ y { info@@ Map@@ .@@ put@@ ("@@ i@@ _@@ 00@@ _@@ 1@@ ", get@@ H@@ ard@@ w@@ ar@@ e(@@ 1@@ )); } }
public void sp@@ ar@@ s@@ if@@ y@@ Not@@ Supported@@ W@@ h@@ en@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ Is@@ On@@ () { create@@ StorageDomain@@ For@@ Disk@@ (@@ StorageType.@@ IS@@ C@@ SI@@ ); disk@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ (@@ true@@ ); assert@@ That@@ (@@ validator.@@ is@@ Sp@@ ar@@ s@@ if@@ y@@ Supported@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AR@@ SI@@ F@@ Y_@@ NOT_@@ SUPPORT@@ ED_@@ B@@ Y_@@ UN@@ D@@ ER@@ L@@ Y@@ ING@@ _@@ STORAGE_@@ W@@ H@@ EN@@ _@@ W@@ AD@@ _@@ IS@@ _@@ EN@@ AB@@ L@@ ED@@ )); }
private void set@@ up@@ Parameters@@ () { org.ovirt.engine.core.bll.storage.@@ re@@ p@@ o@@ im@@ age.@@ Import@@ Rep@@ o@@ Image@@ Command.get@@ Parameters@@ ().set@@ Image@@ Group@@ ID@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.bll.storage.@@ re@@ p@@ o@@ im@@ age.@@ Import@@ Rep@@ o@@ Image@@ Command.get@@ Parameters@@ ().set@@ Dest@@ ination@@ Image@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.bll.storage.@@ re@@ p@@ o@@ im@@ age.@@ Import@@ Rep@@ o@@ Image@@ Command.get@@ Parameters@@ ().set@@ Entity@@ Info@@ (@@ new org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ Entity@@ Info@@ (org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.bll.storage.@@ re@@ p@@ o@@ im@@ age.@@ Import@@ Rep@@ o@@ Image@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ ())); org.ovirt.engine.core.bll.storage.@@ re@@ p@@ o@@ im@@ age.@@ Import@@ Rep@@ o@@ Image@@ Command.get@@ Parameters@@ ().set@@ Vm@@ Snapshot@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); }
private void w@@ rit@@ e@@ C@@ d@@ R@@ om@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Text@@ W@@ rit@@ er w@@ rit@@ er@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > devi@@ c@@ es@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ ) { if (@@ devi@@ c@@ es.@@ isEmpty@@ ()) { return@@ ; } org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e devi@@ c@@ e = devi@@ c@@ es@@ .get@@ (0@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ disk@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ type@@ ", "@@ fil@@ e@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ devi@@ ce@@ ", "@@ c@@ d@@ rom@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ snapshot@@ ", "@@ no@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ source@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ fil@@ e@@ ", "@@ o@@ ption@@ al@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ String("@@ st@@ art@@ up@@ Policy@@ ", "@@ o@@ ption@@ al@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); java.lang.String c@@ d@@ Interface = os@@ Rep@@ os@@ itor@@ .get@@ C@@ d@@ Interfac@@ e(@@ vm.get@@ Os@@ (), vm.get@@ CompatibilityVersion@@ (), org.ovirt.engine.core.common.businessentities.@@ Ch@@ ip@@ set@@ Type.@@ f@@ rom@@ M@@ ach@@ in@@ e@@ Type(@@ vm.get@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e())); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ target@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ de@@ v@@ ", "@@ h@@ dc@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ b@@ us@@ ", c@@ d@@ Interface@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ re@@ a@@ do@@ n@@ ly@@ ", null@@ ); w@@ rit@@ e@@ Alias@@ And@@ Address@@ (@@ w@@ rit@@ er@@ , devi@@ ce@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
@java.lang.Override protected boolean validate(@@ ) { if (!@@ (@@ super@@ .@@ valid@@ at@@ e())) { return false@@ ; } mac@@ Pool = get@@ Mac@@ Pool@@ (); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s@@ Map = new java.util.HashMap@@ <@@ >(); if (!(@@ validate@@ B@@ e@@ for@@ e@@ Cl@@ one@@ Vm@@ (@@ do@@ m@@ ain@@ s@@ Map@@ ))) { return false@@ ; } org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Max@@ Memory@@ Siz@@ e(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ ()); if (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ()) { init@@ Import@@ Cl@@ on@@ ed@@ Vm@@ (); if ((org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ Interfaces@@ ().@@ size()) > (@@ mac@@ Pool@@ .get@@ Available@@ Mac@@ s@@ Count@@ ())) { return fail@@ Validation@@ (EngineMessage.@@ M@@ AC@@ _P@@ O@@ OL@@ _NOT_@@ EN@@ O@@ U@@ G@@ H@@ _M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ SE@@ S@@ ); } } if (!@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.@@ validate@@ B@@ all@@ on@@ Devic@@ e())) { return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.@@ validate@@ S@@ ound@@ Devic@@ e())) { return false@@ ; } if (!(@@ validate(@@ org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ validate@@ Max@@ Memory@@ Siz@@ e(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ Vm@@ ().get@@ Static@@ Data@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ ())@@ ))) { return false@@ ; } return validate@@ A@@ f@@ ter@@ Cl@@ one@@ Vm@@ (@@ do@@ m@@ ain@@ s@@ Map@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e g@@ raphics@@ De@@ v = get@@ Parameters().get@@ De@@ v@@ (); vm@@ Device@@ Dao@@ .@@ remov@@ e(@@ g@@ raphics@@ De@@ v@@ .getId()); if (@@ no@@ Graphics@@ Devic@@ es@@ L@@ e@@ f@@ t@@ ()) { get@@ VmDevice@@ Util@@ s().@@ remove@@ V@@ id@@ eo@@ Devic@@ es@@ (get@@ Parameters().get@@ De@@ v@@ ().get@@ Vm@@ Id()); set@@ Vm@@ To@@ H@@ ead@@ l@@ ess@@ Mod@@ e(); set@@ Template@@ To@@ H@@ ead@@ l@@ ess@@ Mod@@ e(); } set@@ Succeeded@@ (@@ true@@ ); }
private void set@@ Vm@@ To@@ H@@ ead@@ l@@ ess@@ Mod@@ e() { org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Stati@@ c = vm@@ Static@@ Dao@@ .get@@ (get@@ Parameters().get@@ De@@ v@@ ().get@@ Vm@@ Id()); if ((@@ vm@@ Stati@@ c != null@@ ) && ((@@ vm@@ Static@@ .get@@ Default@@ Display@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ n@@ one@@ ))) { vm@@ Static@@ .set@@ Default@@ Display@@ Type(@@ Display@@ Type.@@ n@@ on@@ e); vm@@ Static@@ .set@@ Sing@@ le@@ Q@@ x@@ l@@ P@@ c@@ i@@ (@@ false@@ ); vm@@ Static@@ Dao@@ .@@ updat@@ e(@@ vm@@ Static@@ ); } }
private boolean is@@ Graphics@@ Devic@@ es@@ L@@ e@@ f@@ t@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Device@@ > devi@@ ce@@ s = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Graphics@@ Devic@@ es@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (get@@ Parameters().get@@ De@@ v@@ ().get@@ Vm@@ Id@@ ())@@ ).get@@ ReturnValu@@ e(); return devi@@ c@@ es.@@ isEmpty@@ (); }
private void set@@ Template@@ To@@ Non@@ H@@ ead@@ l@@ ess@@ Mod@@ e() { org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e vm@@ Templat@@ e = vm@@ Template@@ Dao@@ .get@@ (get@@ Parameters().get@@ De@@ v@@ ().get@@ Vm@@ Id()); if ((@@ vm@@ Templat@@ e != null@@ ) && ((@@ vm@@ Templat@@ e.get@@ Default@@ Display@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ n@@ one@@ ))) { vm@@ Templat@@ e.set@@ Default@@ Display@@ Type(@@ Display@@ Type.@@ q@@ x@@ l@@ ); vm@@ Templat@@ e.set@@ Vm@@ Id@@ (get@@ Vm@@ Id()); } if (get@@ VmDevice@@ Util@@ s().get@@ V@@ id@@ eo@@ Devic@@ es@@ (get@@ Parameters().get@@ De@@ v@@ ().get@@ Vm@@ Id@@ ()).@@ isEmpty@@ ()) { get@@ VmDevice@@ Util@@ s().@@ add@@ V@@ id@@ eo@@ Devic@@ es@@ (vm@@ Template@@ , get@@ VmDevice@@ Util@@ s().get@@ N@@ e@@ ed@@ ed@@ ed@@ Num@@ ber@@ Of@@ V@@ id@@ eo@@ Devic@@ es@@ (vm@@ Template@@ )); }
private void set@@ Vm@@ To@@ Non@@ H@@ ead@@ l@@ ess@@ Mod@@ e() { org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Stati@@ c = vm@@ Static@@ Dao@@ .get@@ (get@@ Parameters().get@@ De@@ v@@ ().get@@ Vm@@ Id()); if ((@@ vm@@ Stati@@ c != null@@ ) && ((@@ vm@@ Static@@ .get@@ Default@@ Display@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ n@@ one@@ ))) { vm@@ Static@@ .set@@ Default@@ Display@@ Type(@@ Display@@ Type.@@ q@@ x@@ l@@ ); vm@@ Static@@ Dao@@ .@@ updat@@ e(@@ vm@@ Static@@ ); } if (get@@ VmDevice@@ Util@@ s().get@@ V@@ id@@ eo@@ Devic@@ es@@ (get@@ Parameters().get@@ De@@ v@@ ().get@@ Vm@@ Id@@ ()).@@ isEmpty@@ ()) { get@@ VmDevice@@ Util@@ s().@@ add@@ V@@ id@@ eo@@ Devic@@ es@@ (vm@@ Static@@ , get@@ VmDevice@@ Util@@ s().get@@ N@@ e@@ ed@@ ed@@ ed@@ Num@@ ber@@ Of@@ V@@ id@@ eo@@ Devic@@ es@@ (vm@@ Static@@ )); } }
@java.lang.Override protected boolean validate(@@ ) { if (!@@ (@@ super@@ .@@ valid@@ at@@ e())) { return false@@ ; } org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue re@@ s = run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Graphics@@ Devic@@ es@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (get@@ Parameters().get@@ De@@ v@@ ().get@@ Vm@@ Id@@ ())); if (@@ res@@ .get@@ Succeeded@@ ()) { pre@@ v@@ Device@@ s@@ ; for (org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Devic@@ e devi@@ c@@ e : pre@@ v@@ Device@@ s) { if (@@ devi@@ c@@ e.get@@ Graphics@@ Typ@@ e().@@ equals(@@ get@@ Parameters().get@@ De@@ v@@ ().get@@ Graphics@@ Typ@@ e())) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ ON@@ L@@ Y_@@ ON@@ E_@@ DE@@ V@@ IC@@ E_@@ W@@ I@@ TH@@ _@@ IS@@ _@@ G@@ R@@ A@@ P@@ H@@ IC@@ S_@@ AL@@ LO@@ W@@ ED); } } return true@@ ; }
public int get@@ N@@ e@@ ed@@ ed@@ ed@@ ed@@ Num@@ ber@@ Of@@ V@@ id@@ eo@@ Devic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ Bas@@ e) { int ma@@ x@@ M@@ onitor@@ s@@ Sp@@ ic@@ e = (vm@@ Base.get@@ Sing@@ le@@ Q@@ x@@ l@@ P@@ c@@ i@@ ()) ? org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ S@@ ING@@ L@@ E_@@ Q@@ X@@ L@@ _M@@ ON@@ I@@ T@@ OR@@ S : vm@@ Base.get@@ NumOf@@ M@@ onitor@@ s(); int ma@@ x@@ M@@ onitor@@ s@@ V@@ n@@ c = java.lang.@@ M@@ ath@@ .@@ ma@@ x@@ (org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Utils.@@ V@@ N@@ C@@ _M@@ IN@@ _M@@ ON@@ I@@ T@@ OR@@ S@@ , vm@@ Base.get@@ NumOf@@ M@@ onitor@@ s()); return java.lang.@@ M@@ ath@@ .@@ min@@ (@@ ma@@ x@@ M@@ onitor@@ s@@ Sp@@ ice@@ , ma@@ x@@ M@@ onitor@@ s@@ V@@ n@@ c@@ ); }
private void set@@ Template@@ To@@ H@@ ead@@ l@@ ess@@ Mod@@ e() { org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e vm@@ Templat@@ e = vm@@ Template@@ Dao@@ .get@@ (get@@ Parameters().get@@ De@@ v@@ ().get@@ Vm@@ Id()); if ((@@ vm@@ Templat@@ e != null@@ ) && ((@@ vm@@ Templat@@ e.get@@ Default@@ Display@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ n@@ one@@ ))) { vm@@ Templat@@ e.set@@ Default@@ Display@@ Type(@@ Display@@ Type.@@ n@@ on@@ e); vm@@ Templat@@ e.set@@ Sing@@ le@@ Q@@ x@@ l@@ P@@ c@@ i@@ (@@ false@@ ); vm@@ Template@@ Dao@@ .@@ updat@@ e(@@ vm@@ Template@@ ); } }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Device@@ > get@@ Pre@@ v@@ Devic@@ es@@ () { return pre@@ v@@ Devic@@ es@@ ; }
private void update@@ Q@@ c@@ ow@@ Comp@@ at@@ () { if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Volume@@ Format@@ ().@@ equals(@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ )) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().set@@ Q@@ c@@ ow@@ Comp@@ at@@ (@@ Q@@ c@@ ow@@ C@@ ompat.@@ Q@@ C@@ O@@ W@@ 2@@ _@@ V@@ 2@@ ); if (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ q@@ c@@ ow@@ Comp@@ at@@ Supported@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ StoragePool@@ ().get@@ CompatibilityVersion@@ ())) { org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o q@@ em@@ u@@ Image@@ In@@ f@@ o = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ Q@@ em@@ u@@ Image@@ Info@@ From@@ Vds@@ m@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ StoragePool@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Disk@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Image@@ Id(), false@@ ); if (@@ q@@ em@@ u@@ Image@@ In@@ f@@ o != null@@ ) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().set@@ Q@@ c@@ ow@@ Comp@@ at@@ (@@ q@@ em@@ u@@ Image@@ Info@@ .get@@ Q@@ c@@ ow@@ Comp@@ at@@ ()); } image@@ Dao@@ .@@ updat@@ e(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Image@@ ()); } }
private void comp@@ let@@ e@@ Gener@@ ation@@ Info@@ () { org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ update@@ Disks@@ In@@ f@@ o = org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ update@@ Disks@@ From@@ Vds@@ m@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ StoragePool@@ Id(), info@@ .get@@ Image@@ Group@@ Id(), info@@ .get@@ Base@@ Image@@ Id()); info@@ .set@@ Gener@@ ation@@ (@@ im@@ age.get@@ Image@@ ().get@@ Gener@@ ation@@ ()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.@@ p@@ ers@@ ist@@ Command@@ If@@ N@@ e@@ ed@@ (); }
public static java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object@@ >> pre@@ par@@ e@@ Sub@@ ch@@ ain@@ Info@@ For@@ Vds@@ Command@@ (org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ In@@ f@@ o sub@@ ch@@ ain@@ Info@@ ) { java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object@@ >> ma@@ p = new java.util.HashMap@@ <@@ >(); map@@ .@@ put@@ ("@@ sd@@ _id", sub@@ ch@@ ain@@ Info@@ .get@@ StorageDomain@@ Id().@@ toString@@ ()); map@@ .@@ put@@ ("@@ im@@ g@@ _id", sub@@ ch@@ ain@@ Info@@ .get@@ Image@@ Group@@ Id().@@ toString@@ ()); map@@ .@@ put@@ ("@@ b@@ ase@@ _id", sub@@ ch@@ ain@@ Info@@ .get@@ Base@@ Image@@ Id().@@ toString@@ ()); map@@ .@@ put@@ ("@@ t@@ op@@ _id", sub@@ ch@@ ain@@ Info@@ .get@@ To@@ p@@ Image@@ Id().@@ toString@@ ()); if ((@@ sub@@ ch@@ ain@@ Info@@ .get@@ Gener@@ ation@@ ()) != null@@ ) { map@@ .@@ put@@ ("@@ b@@ ase@@ _@@ gener@@ ation@@ ", sub@@ ch@@ ain@@ Info@@ .get@@ Gener@@ ation@@ ()); } return map@@ ; }
public java.lang.Integ@@ er get@@ Gener@@ ation@@ () { return gener@@ ation@@ ; }
@java.lang.Override public java.lang.String toString@@ () { return org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ .@@ for@@ In@@ stance@@ (@@ this@@ ).@@ append("@@ storageDomain@@ Id@@ ", storageDomain@@ Id@@ ).@@ append("@@ image@@ Group@@ Id@@ ", image@@ Group@@ Id@@ ).@@ append("@@ b@@ ase@@ Image@@ Id@@ ", b@@ ase@@ Image@@ Id@@ ).@@ append("@@ t@@ op@@ Image@@ Id@@ ", t@@ op@@ Image@@ Id@@ ).@@ append("@@ gener@@ ation@@ ", gener@@ ation@@ ).@@ build@@ (); }
public void set@@ Gener@@ ation@@ (@@ java.lang.Integ@@ er gener@@ ation@@ ) { this@@ .@@ gener@@ ation = gener@@ ation@@ ; }
@java.lang.Override public void update@@ Status@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { org.ovirt.engine.core.common.businessentities.@@ Vds@@ Dynam@@ ic vm@@ Dynam@@ ic = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.get@@ StoragePool@@ (); if (@@ vds@@ Group != null@@ ) { update@@ Status@@ (vm@@ Dynamic@@ .get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.get@@ Action@@ Typ@@ e()); } else { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.get@@ Action@@ Typ@@ e()); } }
@java.lang.Override public void at@@ temp@@ t@@ To@@ Fence@@ Job@@ () { org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ In@@ f@@ o in@@ f@@ o = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ Sub@@ ch@@ ain@@ Info@@ (); org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ In@@ f@@ o loc@@ ation@@ In@@ f@@ o = new org.ovirt.engine.core.common.businessentities.@@ Vds@@ m@@ Image@@ Loc@@ ation@@ Info@@ (@@ info@@ .get@@ StorageDomain@@ Id(), info@@ .get@@ Image@@ Group@@ Id(), info@@ .get@@ Base@@ Image@@ Id(), info@@ .get@@ Gener@@ ation@@ ()); org.ovirt.engine.core.common.action.@@ Fence@@ Volume@@ Job@@ Command@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Fence@@ Volume@@ Job@@ Command@@ Parameters(@@ loc@@ ation@@ Info@@ ); parameters.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.get@@ Action@@ Typ@@ e()); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.get@@ Parameters@@ ()); parameters.set@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command.getParameters().get@@ StoragePool@@ Id()); parameters.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ Vdc@@ Action@@ Parameters@@ Bas@@ e.@@ En@@ d@@ Pro@@ c@@ ed@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (VdcActionType.@@ Fence@@ Volume@@ Job@@ , parameters@@ ); }
@java.lang.Override public java.lang.String toString@@ () { return org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ .@@ for@@ In@@ stance@@ (@@ this@@ ).@@ append("@@ storageDomain@@ Id@@ ", storageDomain@@ Id@@ ).@@ append("@@ image@@ Group@@ Id@@ ", image@@ Group@@ Id@@ ).@@ append("@@ b@@ ase@@ Image@@ Id@@ ", b@@ ase@@ Image@@ Id@@ ).@@ append("@@ t@@ op@@ Image@@ Id@@ ", t@@ op@@ Image@@ Id@@ ).@@ append("@@ gener@@ ation@@ ", b@@ ase@@ Image@@ Gener@@ ation@@ ).@@ build@@ (); }
private void set@@ N@@ ext@@ Run@@ Messages@@ () { com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der ch@@ ang@@ ed@@ Fi@@ el@@ ds@@ Buil@@ der = new com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Builder@@ (); java.lang.String trans@@ l@@ ate@@ d = org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Widget@@ .@@ ne@@ xt@@ Run@@ Messages.@@ min@@ Al@@ loc@@ ated@@ Mem@@ (); try { trans@@ l@@ ate@@ d = org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Widget@@ .@@ ne@@ xt@@ Run@@ Messages@@ .get@@ String("@@ min@@ Al@@ loc@@ ated@@ Mem@@ "); } catch (@@ java.util.@@ M@@ is@@ sing@@ Resource@@ Exception e) { } java.lang.String es@@ c@@ ap@@ ed@@ Fi@@ el@@ d = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ ht@@ ml@@ E@@ s@@ c@@ ap@@ e(@@ trans@@ l@@ ated@@ ); ch@@ ang@@ ed@@ Fi@@ el@@ ds@@ Buil@@ der.@@ append@@ (@@ b@@ ull@@ et@@ ed@@ Item@@ (@@ es@@ c@@ ap@@ ed@@ Fi@@ eld@@ )); }
@java.lang.Override public void edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ Model object@@ ) { d@@ ri@@ v@@ er.@@ edit@@ (@@ object@@ ); set@@ N@@ ext@@ Run@@ Messages@@ (); if (@@ objec@@ t.@@ is@@ Vm@@ Un@@ p@@ in@@ n@@ ed@@ ()) { set@@ Visi@@ bility@@ To@@ Vm@@ Un@@ p@@ in@@ ning@@ W@@ ar@@ r@@ ning@@ Panel@@ (@@ true@@ ); } if ((@@ object.get@@ Changed@@ Fi@@ el@@ ds@@ ().@@ size()) > 0) { set@@ Visi@@ bility@@ To@@ Changed@@ Fi@@ el@@ ds@@ Exp@@ and@@ er@@ (@@ true@@ ); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der ch@@ ang@@ ed@@ Fi@@ el@@ ds@@ Buil@@ der = new com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Builder@@ (); for (java.lang.String fi@@ el@@ d : object.get@@ Changed@@ Fi@@ el@@ ds@@ ()) { java.lang.String es@@ c@@ ap@@ ed@@ Fi@@ el@@ d = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ ht@@ ml@@ E@@ s@@ c@@ ap@@ e(@@ fi@@ eld@@ ); ch@@ ang@@ ed@@ Fi@@ el@@ ds@@ Buil@@ der.@@ append@@ (@@ b@@ ull@@ et@@ ed@@ Item@@ (@@ es@@ c@@ ap@@ ed@@ Fi@@ eld@@ )); } ch@@ ang@@ ed@@ Fi@@ eld@@ s.set@@ H@@ T@@ M@@ L@@ (@@ ch@@ ang@@ ed@@ Fi@@ el@@ ds@@ Buil@@ der.@@ to@@ S@@ afe@@ Ht@@ ml@@ ()); } set@@ Visi@@ bility@@ To@@ H@@ ot@@ Chang@@ es(@@ object@@ ); }
@java.lang.Override public void update@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ VDS host@@ ) { java.util.Collection@@ <java.lang.String@@ > package@@ s = org.ovirt.engine.core.bll.@@ host.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ .get@@ P@@ ack@@ ages@@ For@@ Check@@ Updat@@ e(@@ hos@@ t.get@@ Vds@@ Typ@@ e(), hos@@ t.get@@ Cluster@@ CompatibilityVersion@@ ()); try (@@ final org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Vds@@ De@@ pl@@ o@@ y host@@ P@@ ack@@ ages@@ Manage@@ r = create@@ P@@ ack@@ ages@@ Manager@@ (@@ host@@ , true@@ )) { host@@ P@@ ack@@ ages@@ Manager.@@ add@@ Unit@@ (@@ new org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Vds@@ De@@ pl@@ o@@ y@@ P@@ ack@@ ages@@ Unit@@ (@@ package@@ s, false@@ )); host@@ P@@ ack@@ ages@@ Manager.@@ execut@@ e(); } catch (@@ final java.lang.Exception e) { org.ovirt.engine.core.bll.@@ host.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager.@@ log.error@@ ("@@ Fail@@ ed to updat@@ e hos@@ t '{}@@ ' package@@ s '{}@@ '@@ . hos@@ t.get@@ Name(), org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ package@@ s, org.ovirt.engine.core.bll.@@ host.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager.@@ log.error@@ ("@@ Exception@@ ", e); org.ovirt.engine.core.bll.@@ host.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ e); } }
@@@ org.ovirt.engine.core.utils.@@ tim@@ er.@@ On@@ Tim@@ er@@ Method@@ An@@ not@@ ation@@ ("@@ p@@ oll@@ ") public void p@@ oll@@ () { if (is@@ M@@ onitor@@ ing@@ N@@ e@@ ed@@ ed@@ ed@@ ed@@ ()) { org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vms@@ List@@ F@@ et@@ ch@@ er f@@ et@@ ch@@ er = new org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vms@@ Statistic@@ s@@ F@@ et@@ ch@@ er@@ (@@ vds@@ Manager@@ ); long f@@ et@@ ch@@ Tim@@ e = java.lang.@@ System@@ .@@ n@@ an@@ o@@ Tim@@ e(); if (@@ f@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ ()) { get@@ Vms@@ M@@ onitor@@ ing@@ ().@@ p@@ er@@ for@@ m@@ (@@ f@@ et@@ ch@@ er@@ .get@@ Changed@@ Vms@@ (), f@@ et@@ ch@@ Time@@ , vds@@ Manager@@ , true@@ ); pro@@ cess@@ Devic@@ es(@@ f@@ et@@ ch@@ er@@ .get@@ Vds@@ m@@ Vms@@ ().@@ st@@ re@@ am@@ (), f@@ et@@ ch@@ Tim@@ e); } else { org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ P@@ oll@@ Vm@@ Stat@@ s@@ Refresh@@ er.@@ log.@@ info@@ ("@@ Fail@@ ed to f@@ et@@ ch vm@@ s in@@ f@@ o for hos@@ t '{}@@ ' - s@@ k@@ ip@@ p@@ ing VM@@ s m@@ onitor@@ ing@@ . vds@@ Manager@@ .get@@ Vds@@ Name()); } }
public boolean is@@ M@@ onitor@@ ing@@ N@@ e@@ ed@@ ed@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Statu@@ s status@@ ) { return (@@ stat@@ u@@ s == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ )) || ((((@@ (((@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Un@@ ass@@ ign@@ ed@@ )) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ In@@ st@@ all@@ ing@@ ))) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ In@@ st@@ all@@ Fail@@ ed@@ ))) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ R@@ eb@@ oot@@ ))) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ ))) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ P@@ end@@ ing@@ Ap@@ pro@@ val@@ ))) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ In@@ st@@ all@@ ing@@ O@@ S@@ ))) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Down@@ ))) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ K@@ d@@ um@@ p@@ ing@@ ))); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ A@@ f@@ fin@@ ity@@ Label@@ .@@ class@@ , to = org.ovirt.engine.core.common.businessentities.@@ Label@@ .@@ class@@ ) public static org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l map@@ (@@ org.ovirt.engine.api.model.@@ A@@ f@@ fin@@ ity@@ L@@ ab@@ e@@ l model, org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l template@@ ) { org.ovirt.engine.core.common.businessentities.@@ Label@@ Buil@@ der enti@@ ty = (@@ templat@@ e != null@@ ) ? new org.ovirt.engine.core.common.businessentities.@@ Label@@ Builder@@ (@@ template@@ ) : new org.ovirt.engine.core.common.businessentities.@@ Label@@ Builder@@ (); if (@@ model.@@ isSet@@ Id()) { entity@@ .@@ id@@ (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (model.get@@ Id@@ ())); } if (@@ model.@@ isSet@@ Name()@@ ) { entity@@ .@@ nam@@ e(@@ model.get@@ Name()); } if (@@ model.@@ isSet@@ Read@@ Only@@ ()) { entity@@ .@@ read@@ Only@@ (model@@ .get@@ Read@@ Only@@ ()); } if ((@@ model.@@ isSet@@ Vms@@ ()) && (model.get@@ Vms@@ ().is@@ Set@@ Vms@@ ())) { model.get@@ Vms@@ ().get@@ Vms@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( vm@@ ) -@@ > entity@@ .@@ vm@@ (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (vm@@ .getId@@ ()))); } if ((@@ model.@@ isSet@@ Host@@ s()) && (model.get@@ Host@@ s().@@ isSet@@ Host@@ s@@ ())) { model.get@@ Host@@ s().get@@ Host@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ " -@@ > entity@@ .@@ host@@ (@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (@@ hos@@ t.get@@ Id@@ ()))); } return entity@@ .@@ build@@ (); }
@java.lang.Override protected void ve@@ r@@ if@@ y@@ (@@ org.ovirt.engine.api.model.@@ Disk model, org.ovirt.engine.api.model.@@ Disk tr@@ an@@ s@@ for@@ m@@ ) { assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ ); assert@@ E@@ quals(@@ model.get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .getId()); assert@@ E@@ quals(@@ model.get@@ Image@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ Image@@ Id()); assert@@ E@@ quals(@@ model.get@@ Format@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Format@@ ()); assert@@ E@@ quals(@@ model.get@@ Read@@ Only@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Read@@ On@@ l@@ y@@ ()); assert@@ E@@ quals(@@ model.get@@ Description@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Description@@ ()); assert@@ E@@ quals(@@ model.get@@ Log@@ ical@@ Name(), tr@@ an@@ s@@ for@@ m@@ .get@@ Log@@ ical@@ Name()); assert@@ E@@ quals(@@ model.get@@ Op@@ en@@ st@@ ack@@ Volume@@ Typ@@ e().get@@ Name(), tr@@ an@@ s@@ for@@ m@@ .get@@ Op@@ en@@ st@@ ack@@ Volume@@ Typ@@ e().get@@ Name()); assert@@ Not@@ Null@@ (model.get@@ Snapshot@@ ()); assert@@ E@@ quals(@@ model.get@@ Snapshot@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ Snapshot@@ ().get@@ Id()); assert@@ E@@ quals(@@ "@@ $@@ stat@@ u@@ s model.get@@ Status@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Status@@ ()); assert@@ E@@ quals(@@ "@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e sp@@ ar@@ se model.@@ is@@ Sp@@ ar@@ s@@ e(), tr@@ an@@ s@@ for@@ m.@@ is@@ Sp@@ ar@@ s@@ e()); assert@@ E@@ quals(@@ "@@ W@@ ip@@ e pro@@ p@@ ag@@ at@@ e error@@ s model.@@ is@@ Pro@@ p@@ ag@@ ate@@ Error@@ s@@ (), tr@@ an@@ s@@ for@@ m.@@ is@@ Pro@@ p@@ ag@@ ate@@ Error@@ s()); assert@@ E@@ quals(@@ "@@ W@@ ip@@ e af@@ t@@ er d@@ elet@@ e model.@@ is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(), tr@@ an@@ s@@ for@@ m.@@ is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()); assert@@ E@@ quals(@@ "@@ u@@ ne@@ x@@ p@@ ected sh@@ are@@ abl@@ e(), tr@@ an@@ s@@ for@@ m.@@ is@@ Sh@@ are@@ abl@@ e()); }
protected javax.ws.rs.@@ core.@@ Respon@@ se attach@@ Disk@@ To@@ Vm@@ (@@ org.ovirt.engine.api.restapi.resource.@@ Abstract@@ Backend@@ Collection@@ Resourc@@ e res@@ ource@@ , org.ovirt.engine.api.model.@@ Disk@@ Attachm@@ ent attach@@ ment@@ , org.ovirt.engine.api.restapi.resource.@@ I@@ Res@@ ol@@ ve@@ r entity@@ Res@@ ol@@ ver@@ ) { org.ovirt.engine.core.compat.Guid disk@@ Id = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ Default@@ Empty@@ (@@ attach@@ m@@ ent.@@ get@@ Disk@@ ().get@@ Id()); org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent d@@ v@@ e = map@@ (@@ attach@@ ment@@ ); d@@ v@@ e.get@@ Id@@ ().set@@ Vm@@ Id(@@ vm@@ Id); d@@ v@@ e.get@@ Id@@ ().set@@ Device@@ Id(@@ disk@@ Id); org.ovirt.engine.core.common.action.@@ Attach@@ Det@@ ach@@ Vm@@ Disk@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Attach@@ Det@@ ach@@ Vm@@ Disk@@ Parameters(@@ d@@ ve@@ ); org.ovirt.engine.api.model.@@ Disk dis@@ k = attach@@ m@@ ent.@@ get@@ Disk@@ (); boolean is@@ Disk@@ Acti@@ v@@ e = false@@ ; if (@@ attach@@ m@@ ent.@@ isSet@@ Acti@@ v@@ e()) { is@@ Disk@@ Acti@@ v@@ e = org.apache.commons.lang.@@ Boolean@@ Utils.@@ to@@ Boolean@@ (@@ attach@@ m@@ ent.@@ is@@ Acti@@ v@@ e()); } params.set@@ Plug@@ Un@@ Plug@@ (is@@ Disk@@ Active@@ ); boolean is@@ Disk@@ Read@@ Only@@ If@@ N@@ e@@ De@@ fin@@ ition@@ (disk@@ .is@@ Set@@ Read@@ Only@@ ()) { is@@ Disk@@ Read@@ Only@@ On@@ l@@ y = org.apache.commons.lang.@@ Boolean@@ Utils.@@ to@@ Boolean@@ (disk@@ .get@@ Read@@ Only@@ ()); } params.set@@ Read@@ Only@@ (is@@ Disk@@ Read@@ Only@@ ); if (disk@@ .is@@ Set@@ Snapshot@@ ()) { validate@@ Parameters(@@ disk@@ , "@@ s@@ napsho@@ t.@@ id@@ "); params.set@@ Snapshot@@ Id(@@ as@@ Guid@@ (disk@@ .get@@ Snapshot@@ ().get@@ Id@@ ())); } return resource.@@ p@@ er@@ for@@ m@@ Cre@@ ate(@@ Vdc@@ ActionType.@@ Attach@@ Disk@@ To@@ Vm@@ , param@@ s, entity@@ Res@@ ol@@ ver@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.action.VdcActionParameters@@ Base get@@ Parameters(@@ org.ovirt.engine.api.model.@@ A@@ f@@ fin@@ ity@@ L@@ ab@@ e@@ l model, org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l entity@@ ) { org.ovirt.engine.core.common.businessentities.@@ Label@@ Buil@@ der new@@ Entity = new org.ovirt.engine.core.common.businessentities.@@ Label@@ Builder@@ (@@ entity@@ ); if (@@ model.@@ isSet@@ Read@@ Only@@ ()) { new@@ Entity@@ .@@ read@@ Only@@ (model@@ .get@@ Read@@ Only@@ ()); } if (@@ model.@@ isSet@@ Name()@@ ) { new@@ Entity@@ .@@ nam@@ e(@@ model.get@@ Name()); } return new org.ovirt.engine.core.common.action.@@ Label@@ Action@@ Parameters@@ (@@ new@@ Entity@@ .@@ build@@ ()); }
@java.lang.Override protected void ve@@ r@@ if@@ y@@ (@@ org.ovirt.engine.api.model.@@ Disk@@ S@@ napsho@@ t model, org.ovirt.engine.api.model.@@ Disk@@ S@@ napsho@@ t tr@@ an@@ s@@ for@@ m@@ ) { assert@@ Not@@ Null@@ (@@ tr@@ an@@ s@@ for@@ m@@ ); assert@@ E@@ quals(@@ model.get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .getId()); assert@@ E@@ quals(@@ model.get@@ Format@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Format@@ ()); assert@@ E@@ quals(@@ model.get@@ Read@@ Only@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Read@@ On@@ l@@ y@@ ()); assert@@ E@@ quals(@@ model.get@@ Description@@ (), tr@@ an@@ s@@ for@@ m@@ .get@@ Description@@ ()); assert@@ Not@@ Null@@ (model.get@@ Snapshot@@ ()); assert@@ E@@ quals(@@ model.get@@ Snapshot@@ ().get@@ Id(), tr@@ an@@ s@@ for@@ m@@ .get@@ Snapshot@@ ().get@@ Id()); assert@@ E@@ quals(@@ "@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(), tr@@ an@@ s@@ for@@ m.@@ is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()); assert@@ E@@ quals(@@ "@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e sh@@ are@@ able is@@ Sh@@ are@@ abl@@ e(), tr@@ an@@ s@@ for@@ m.@@ is@@ Sh@@ are@@ abl@@ e()); }
public java.lang.String get@@ Fi@@ eld@@ Name(@@ ) { return fi@@ eld@@ Name@@ ; }
private static java.lang.String p@@ ret@@ ty@@ (java.lang.String x@@ ml@@ String@@ ) { try { javax.@@ x@@ ml.@@ par@@ ser@@ s.@@ D@@ oc@@ um@@ ent@@ Builder@@ Fac@@ t@@ or@@ y do@@ c@@ um@@ ent@@ Builder@@ Fac@@ t@@ or@@ y = javax.@@ x@@ ml.@@ par@@ ser@@ s.@@ D@@ oc@@ um@@ ent@@ Builder@@ Fac@@ t@@ ory@@ .@@ new@@ Instanc@@ e(); javax.@@ x@@ ml.@@ par@@ ser@@ s.@@ D@@ oc@@ um@@ ent@@ Buil@@ der do@@ c@@ um@@ ent@@ Buil@@ der = do@@ c@@ um@@ ent@@ Builder@@ Fac@@ t@@ ory@@ .@@ new@@ D@@ oc@@ um@@ ent@@ Builder@@ (); org.@@ w@@ 3@@ c@@ .@@ do@@ m.@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent = do@@ c@@ um@@ ent@@ Buil@@ der.@@ par@@ se@@ (@@ new org.@@ x@@ ml.@@ s@@ a@@ x.@@ In@@ put@@ Source@@ (@@ new java.io.@@ String@@ Read@@ er@@ (@@ x@@ ml@@ String@@ ))); javax.@@ x@@ ml.@@ tr@@ an@@ s@@ for@@ m.@@ Tr@@ an@@ s@@ for@@ m@@ er@@ Fac@@ t@@ or@@ y = javax.@@ x@@ ml.@@ tr@@ an@@ s@@ for@@ m.@@ Tr@@ an@@ s@@ for@@ m@@ er@@ Fac@@ t@@ ory@@ .@@ new@@ Instanc@@ e(); javax.@@ x@@ ml.@@ tr@@ an@@ s@@ for@@ m.@@ Tr@@ an@@ s@@ for@@ m@@ er tr@@ an@@ s@@ for@@ m@@ er = tr@@ an@@ s@@ for@@ m@@ er@@ Fac@@ t@@ ory@@ .@@ new@@ Tr@@ an@@ s@@ for@@ m@@ er@@ (); tr@@ an@@ s@@ for@@ m@@ er.@@ set@@ Out@@ put@@ Property@@ (@@ javax.@@ x@@ ml.@@ tr@@ an@@ s@@ for@@ m.@@ Out@@ put@@ Key@@ s.@@ EN@@ C@@ OD@@ ING@@ , "@@ U@@ T@@ F@@ -@@ 8@@ "); tr@@ an@@ s@@ for@@ m@@ er.@@ set@@ Out@@ put@@ Property@@ (@@ javax.@@ x@@ ml.@@ tr@@ an@@ s@@ for@@ m.@@ put@@ Key@@ s.@@ IN@@ D@@ EN@@ T@@ , "@@ y@@ es@@ "); tr@@ an@@ s@@ for@@ m@@ er.@@ set@@ Out@@ put@@ Property@@ ("@@ {@@ http@@ :@@ /@@ x@@ ml.@@ or@@ g@@ /@@ x@@ s@@ l@@ t@@ in@@ d@@ ent@@ -@@ ount@@ ", "@@ 2@@ "); javax.@@ x@@ ml.@@ tr@@ an@@ s@@ for@@ m.@@ st@@ re@@ am@@ .@@ for@@ m.@@ st@@ re@@ am@@ Result result = new javax.@@ x@@ ml.@@ tr@@ an@@ s@@ for@@ m.@@ st@@ re@@ am@@ .@@ St@@ re@@ am@@ .@@ W@@ rit@@ er@@ ()); javax.@@ x@@ ml.@@ tr@@ an@@ s@@ for@@ m.@@ e s@@ for@@ m.@@ e s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ for@@ m@@ er@@ Fac@@ t@@ ory@@ .@@ new@@ Instanc@@ e(); tr@@ an@@ s@@ for@@ m@@ er.@@ tr@@ an@@ s@@ for@@ m@@ er@@ Fac@@ t@@ ory@@ .@@ new@@ Instanc@@ e(); tr@@ an@@ s@@ for@@ m@@ er@@ ().@@ tr@@ an@@ s@@ for@@ m@@ er@@ Fac@@ t@@ ory@@ .@@ new@@ Instanc@@ e(); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ M@@ s@@ for@@ m.@@ st@@ re@@ am@@ (@@ java.lang.Exception e) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ C@@ ommon@@ Run@@ VDS@@ Command.@@ log.@@ info@@ ("@@ fail@@ ed@@ ", e); } return result@@ ; }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { build@@ Vm@@ Data@@ (); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ VDS@@ Command.@@ log.@@ info@@ ("@@ {@@ } {@@ } {@@ } create@@ Info@@ ", create@@ Info@@ ); if (@@ Version@@ .@@ v@@ 4@@ _@@ 1@@ .@@ l@@ ess@@ Or@@ E@@ quals(@@ vm.get@@ CompatibilityVersion@@ ())) { java.lang.String l@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l = org.ovirt.engine.core.dao.@@ i.@@ In@@ j@@ ect@@ or.@@ in@@ j@@ ect@@ Mem@@ b@@ ers@@ (@@ new org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Builder@@ ()).@@ build@@ (c@@ reate@@ Info@@ , vm@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ VDS@@ Command.get@@ Vds@@ ().get@@ Id()); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ VDS@@ Command.@@ log.@@ info@@ ("@@ {@@ } {@@ } {@@ c@@ c@@ re@@ ate(@@ create@@ Info@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ update@@ VM@@ Dynamic@@ Data@@ (vm@@ .get@@ Dynamic@@ Data@@ (), vm@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ VDS@@ Command.get@@ Vds@@ ()); }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t public void c@@ re@@ ate(@@ ) { log.@@ info@@ ("@@ In@@ itial@@ iz@@ er ser@@ vi@@ c@@ e st@@ art@@ ing int re@@ f@@ res@@ h = java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (@@ config@@ Provider.@@ load@@ ().get@@ Config@@ ().get@@ Property@@ (@@ Config@@ Provider.@@ S@@ OL@@ V@@ ER_@@ C@@ LUSTER_@@ RE@@ F@@ RE@@ S@@ H@@ )); execut@@ or@@ s.get@@ Schedul@@ er@@ ().@@ schedul@@ e@@ ((@@ -@@ -@@ -@@ -@@ > execut@@ or@@ s@@ : re@@ fresh@@ C@@ lust@@ ers@@ ), re@@ fresh@@ , this@@ ); }
private void re@@ fresh@@ C@@ lust@@ ers@@ () { log.@@ d@@ ebug@@ ("@@ St@@ ar@@ t cluster@@ s.@@ .@@ "); java.util.Set@@ <java.lang.String@@ > ava@@ il@@ able@@ Cluster@@ s = dis@@ c@@ o@@ ver@@ y@@ .get@@ C@@ lust@@ ers@@ (); if (@@ ava@@ il@@ able@@ Cluster@@ s == null@@ ) { log.error@@ ("@@ C@@ oul@@ d dis@@ c@@ o@@ ver@@ y fail@@ ed return@@ ; } ava@@ il@@ able@@ Cluster@@ s.@@ remove@@ All@@ (cluster@@ Op@@ tim@@ iz@@ er@@ s.@@ key@@ Set@@ ()); java.util.@@ Proper@@ ti@@ es confi@@ g = new org.ovirt.@@ op@@ tim@@ iz@@ er.@@ config.@@ Config@@ Provider@@ ().@@ load@@ ().get@@ Config@@ (); final int ma@@ x@@ St@@ ep@@ s = java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (@@ config.@@ get@@ Property@@ (@@ Config@@ Provider.@@ S@@ OL@@ V@@ ER_@@ ST@@ E@@ P@@ S@@ )); for (java.lang.String cluster@@ Id : ava@@ il@@ able@@ Cluster@@ s) { log@@ .@@ in@@ f@@ o (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ C@@ luster c@@ luster %@@ s d@@ et@@ ected cluster@@ Id@@ )); long tim@@ eo@@ u@@ t = (@@ java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (@@ config@@ Provider.@@ load@@ ().get@@ Config@@ ().get@@ Property@@ (@@ Config@@ Provider.@@ S@@ OL@@ V@@ ER_@@ TI@@ M@@ E@@ O@@ U@@ T@@ ))) * 1@@ 00@@ 0@@ ; int re@@ f@@ res@@ h = java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (@@ config@@ Provider.@@ load@@ ().get@@ Config@@ ().get@@ Property@@ (@@ Config@@ Provider.@@ S@@ OL@@ V@@ ER_@@ D@@ AT@@ A@@ _@@ RE@@ F@@ RE@@ S@@ H@@ )); org.ovirt.@@ op@@ tim@@ iz@@ er.@@ s@@ ol@@ v@@ er.@@ th@@ read@@ .@@ Cluster@@ Op@@ tim@@ iz@@ er op@@ tim@@ iz@@ er = new org.ovirt.@@ op@@ tim@@ iz@@ er.@@ s@@ ol@@ v@@ er.@@ th@@ read@@ .@@ Cluster@@ Op@@ tim@@ iz@@ er@@ (cluster@@ Id, ma@@ x@@ St@@ ep@@ s, config@@ Provider.@@ c@@ ustom@@ R@@ ul@@ e@@ Fil@@ es@@ ()); org.ovirt.@@ op@@ tim@@ iz@@ er.@@ s@@ ol@@ v@@ er.@@ th@@ read@@ .@@ Cluster@@ Info@@ Update@@ r update@@ r = new org.ovirt.@@ op@@ tim@@ iz@@ er.@@ s@@ ol@@ v@@ er.@@ th@@ read@@ .@@ Cluster@@ Info@@ Updat@@ er@@ (@@ client@@ , op@@ tim@@ iz@@ er@@ ); cluster@@ Op@@ tim@@ iz@@ er@@ s.@@ put@@ (cluster@@ Id, op@@ tim@@ iz@@ er@@ ); java.util.@@ con@@ c@@ urr@@ ent.@@ Comp@@ let@@ able@@ F@@ ut@@ ur@@ e.@@ sup@@ pl@@ y@@ Async@@ (@@ op@@ tim@@ iz@@ er@@ , execut@@ or@@ s.get@@ Th@@ read@@ Pool@@ ()).@@ then@@ Ap@@ pl@@ y@@ Op@@ tim@@ al@@ D@@ ist@@ rib@@ ution@@ St@@ ep@@ s@@ ol@@ ution@@ :@@ get@@ Schedul@@ ers@@ ().@@ execut@@ or@@ s.get@@ Schedul@@ er@@ ().@@ execut@@ or@@ it@@ er@@ ().@@ execut@@ or@@ it@@ (c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ )@@ ), c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); }
public java.util.List<@@ java.lang.@@ L@@ on@@ g@@ > get@@ Default@@ R@@ ul@@ e@@ Fil@@ es@@ () { return s@@ el@@ ect@@ File@@ From@@ S@@ c@@ op@@ e(@@ "@@ _@@ "); }
private void update@@ Import@@ ed@@ Vm@@ Devic@@ e(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Base vm@@ Base@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e vm@@ Device@@ , org.ovirt.engine.core.compat.Guid devi@@ ce@@ Id, java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Devic@@ es@@ To@@ Update@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e ex@@ port@@ ed@@ Devic@@ e = vm@@ Base.get@@ Manage@@ d@@ Device@@ Map@@ ().get@@ (@@ devi@@ ce@@ Id); if (@@ ex@@ port@@ ed@@ Devic@@ e != null@@ ) { vm@@ Devic@@ e.set@@ Address@@ (@@ ex@@ port@@ ed@@ Devic@@ e.get@@ Address@@ ()); vm@@ Devic@@ e.set@@ Is@@ Plug@@ g@@ ed(@@ ex@@ port@@ ed@@ Devic@@ e.get@@ Is@@ Plug@@ ged@@ ()); vm@@ Devic@@ e.set@@ Is@@ Read@@ Only@@ (@@ ex@@ port@@ ed@@ Devic@@ e.get@@ Is@@ Read@@ Only@@ ()); vm@@ Devic@@ es@@ To@@ Updat@@ e.@@ add(@@ vm@@ Device@@ ); } }
private void add@@ Disk@@ Vm@@ Element@@ s() { for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage dis@@ k : _@@ im@@ ages@@ ) { disk@@ .get@@ Disk@@ Vm@@ Element@@ s().@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( d@@ ve@@ ) -@@ > d@@ v@@ e.set@@ Id@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Id(@@ disk@@ .get@@ Id(), vm@@ Base.get@@ Id@@ ()))); disk@@ .set@@ Disk@@ Vm@@ Element@@ s(@@ disk@@ .get@@ Disk@@ Vm@@ Element@@ s()); } }
public static void d@@ es@@ er@@ ial@@ iz@@ e(@@ com.google.gwt.@@ user.@@ client.@@ rpc@@ .@@ Ser@@ ial@@ iz@@ ation@@ St@@ re@@ am@@ Read@@ er st@@ re@@ am@@ Read@@ er@@ , org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue instance@@ ) throw@@ s com.google.gwt.@@ user.@@ client.@@ rpc@@ .@@ Ser@@ ial@@ iz@@ ation@@ Exception { instanc@@ e.set@@ Succeeded(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Boolean@@ ()); instanc@@ e.set@@ Exception@@ String@@ (@@ st@@ re@@ am@@ Read@@ er.@@ read@@ String@@ ()); java.lang.String typ@@ e = st@@ re@@ am@@ Read@@ er.@@ read@@ String@@ (); if (@@ typ@@ e.@@ equals(@@ "@@ java.lang.String@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ String@@ ()); } else if (@@ typ@@ e.@@ equals(@@ "@@ java.lang.Integer@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Int@@ ()); } else if (@@ typ@@ e.@@ equals(@@ "@@ java.lang.Boolean@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Boolean@@ ()); } else if (@@ typ@@ e.@@ equals(@@ "@@ java.lang.@@ Do@@ ubl@@ e@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Do@@ ubl@@ e()); } else if (@@ typ@@ e.@@ equals(@@ "@@ java.lang.@@ F@@ lo@@ at@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ F@@ lo@@ at@@ ()); } else if (@@ typ@@ e.@@ equals(@@ "@@ java.lang.@@ Ch@@ ar@@ ac@@ ter@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Ch@@ ar@@ ()); } else if (@@ typ@@ e.@@ equals(@@ "@@ java.lang.@@ Sh@@ ort@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Sh@@ ort@@ ()); } else if (@@ typ@@ e.@@ equals(@@ "@@ java.lang.@@ By@@ t@@ e@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ By@@ t@@ e()); } else if (@@ typ@@ e.@@ equals(@@ "@@ java.util.@@ List@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Object@@ ()); } else if (@@ typ@@ e.@@ equals(@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Object@@ ()); } else if (@@ typ@@ e.@@ equals(@@ "@@ I@@ VdcQuery@@ able@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Object@@ ()); } else if (@@ typ@@ e.@@ equals(@@ "@@ I@@ VdcQuery@@ able@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Object@@ ()); } else if (@@ typ@@ e.@@ equals(@@ "@@ UN@@ K@@ NO@@ W@@ N@@ "@@ )) { instanc@@ e.set@@ Return@@ Value(@@ st@@ re@@ am@@ Read@@ er.@@ read@@ Object@@ ()); } }
public boolean p@@ oll@@ (org.ovirt.engine.core.compat.Guid host@@ Id) { w@@ a@@ it@@ B@@ et@@ w@@ e@@ en@@ P@@ oll@@ s(); org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ Setup@@ Network@@ P@@ oll@@ er.@@ LO@@ G@@ ER@@ .@@ tr@@ ace@@ ("@@ Fail@@ ed to do p@@ ol@@ l for hos@@ t {}@@ . host@@ Id); org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ F@@ ut@@ ure@@ VDS@@ Call@@ <@@ org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue@@ > t@@ as@@ k = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Resource@@ Manager@@ ().@@ run@@ F@@ ut@@ ure@@ Vds@@ Command(@@ F@@ ut@@ ure@@ VDSCommand@@ Type.@@ P@@ oll@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ Id@@ VDSCommand@@ Parameters@@ Bas@@ e(@@ host@@ Id@@ )); org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ Setup@@ Network@@ P@@ oll@@ er.@@ LO@@ G@@ ER@@ .@@ tr@@ ace@@ ("@@ execut@@ ed for host@@ {}@@ . host@@ Id); boolean s@@ uc@@ ceed@@ ed = get@@ Value(@@ t@@ as@@ k@@ (), host@@ Id); org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ Setup@@ Network@@ P@@ oll@@ er.@@ LO@@ G@@ ER@@ .@@ tr@@ ace@@ F@@ ut@@ ure@@ VDSCommand@@ Type.@@ P@@ ol@@ l for hos@@ t : {@@ } host@@ Id, s@@ uc@@ ceed@@ ed@@ ); tim@@ est@@ am@@ p@@ Of@@ En@@ d@@ Of@@ Pre@@ vi@@ o@@ us@@ In@@ vo@@ c@@ ation = current@@ Tim@@ est@@ am@@ p@@ (); return s@@ uc@@ ceed@@ ed@@ ; }
private boolean get@@ Value(@@ org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ F@@ ut@@ ure@@ VDS@@ Call@@ <@@ org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue@@ > t@@ as@@ k@@ , org.ovirt.engine.core.compat.Guid host@@ Id) { try { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = task@@ .get@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ SetupNetworks@@ P@@ oll@@ ing@@ Time@@ out@@ ), java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); return vds@@ ReturnValu@@ e.get@@ Succeeded@@ (); } catch (@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ out@@ Exception e) { return false@@ ; } catch (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Rec@@ o@@ ver@@ ing@@ Exception e) { org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ Setup@@ Network@@ P@@ oll@@ er.@@ LO@@ G@@ ER@@ .@@ tr@@ ace@@ ("@@ Fail@@ ed to p@@ ol@@ l hos@@ t {@@ } - i@@ t in r@@ ec@@ o@@ ver@@ y m@@ ode@@ . host@@ Id, e); return false@@ ; }
@org.junit.Test public void test@@ Get@@ Value(@@ ) { java.lang.@@ System@@ .@@ o@@ u@@ t.@@ p@@ r@@ int@@ l@@ n@@ ("@@ test@@ 1@@ "); assert@@ E@@ quals(@@ "@@ w@@ ron@@ g get@@ Value(@@ ) for " + (@@ value@@ )@@ ), valu@@ e.@@ or@@ d@@ in@@ al@@ (), valu@@ e.get@@ Valu@@ e()); }
@org.junit.Test public void test@@ For@@ Value(@@ ) { java.lang.@@ System@@ .@@ o@@ u@@ t.@@ p@@ r@@ int@@ l@@ n@@ ("@@ test@@ 2@@ "); assert@@ E@@ quals(@@ "@@ for@@ Value(@@ ) for " + (@@ value@@ )@@ ), value@@ , org.ovirt.engine.core.common.queries.@@ Configuration@@ Valu@@ es@@ .@@ for@@ Value(@@ valu@@ e.get@@ Valu@@ e())); }
private void update@@ P@@ ass@@ Dis@@ c@@ ard@@ Change@@ ab@@ ility@@ For@@ DiskImage@@ () { if (get@@ StorageDomain@@ ().get@@ SelectedItem@@ ().get@@ Storage@@ Typ@@ e().@@ is@@ File@@ Domain@@ ()) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able@@ (@@ true@@ ); } else if (get@@ StorageDomain@@ ().get@@ SelectedItem@@ ().get@@ Storage@@ Typ@@ e().@@ is@@ B@@ lock@@ Domain@@ ()) { if (!@@ (get@@ StorageDomain@@ ().get@@ SelectedItem@@ ().get@@ Support@@ s@@ Dis@@ c@@ ard@@ ())) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able@@ (@@ false@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model@@ .@@ const@@ an@@ t@@ s.@@ dis@@ c@@ ard@@ Is@@ Not@@ Supported@@ By@@ Un@@ der@@ ly@@ ing@@ Storage@@ ()); get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().set@@ Entity@@ (@@ false@@ ); } else { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able@@ ((@@ (!@@ (get@@ Is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e().get@@ Entity@@ ())) || (get@@ StorageDomain@@ ().get@@ SelectedItem@@ ().get@@ Support@@ s@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ())@@ ), org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model@@ .@@ const@@ an@@ t@@ s.@@ th@@ e@@ Un@@ der@@ ly@@ ing@@ Storage@@ Do@@ es@@ Not@@ Support@@ Dis@@ c@@ ard@@ W@@ h@@ en@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ Is@@ Enabled@@ ()); if (!@@ (get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().get@@ Is@@ Chang@@ abl@@ e())) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().set@@ Entity@@ (@@ false@@ ); } } }
private void update@@ P@@ ass@@ Dis@@ c@@ ard@@ Change@@ ab@@ ility@@ For@@ Direct@@ Lun@@ () { if ((@@ (get@@ S@@ an@@ Storage@@ Model@@ Bas@@ e()) != null@@ ) && ((get@@ S@@ an@@ Storage@@ Model@@ Bas@@ e().get@@ Add@@ ed@@ Lun@@ s()) != null@@ )) { if (get@@ S@@ an@@ Storage@@ Model@@ Bas@@ e().get@@ Add@@ ed@@ Lun@@ s().@@ isEmpty@@ ()) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able@@ (@@ false@@ , null@@ ); } else { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able(@@ is@@ Lun@@ Support@@ Dis@@ c@@ ard@@ (get@@ S@@ an@@ Storage@@ Model@@ Bas@@ e().get@@ Add@@ ed@@ Lun@@ s().get@@ (0@@ ).get@@ Entity@@ ()), org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model@@ .@@ const@@ an@@ t@@ s.@@ dis@@ c@@ ard@@ Is@@ Not@@ Supported@@ By@@ Un@@ der@@ ly@@ ing@@ Storage@@ ()); if (!@@ (get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().get@@ Is@@ Chang@@ abl@@ e())) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().set@@ Entity@@ (@@ false@@ ); } } else if ((get@@ Lun@@ Disk@@ ()) != null@@ ) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able(@@ is@@ Lun@@ Support@@ Dis@@ c@@ ard@@ (get@@ Lun@@ Disk@@ ().get@@ Lun@@ ()), org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model@@ .@@ const@@ an@@ t@@ s.@@ dis@@ c@@ ard@@ Is@@ Not@@ Supported@@ By@@ Un@@ der@@ ly@@ ing@@ Storage@@ ()); } }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.bll.storage.@@ re@@ p@@ o@@ im@@ age.@@ Get@@ Images@@ List@@ Query@@ Base.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ get@@ User@@ Request@@ For@@ StorageDomain@@ Rep@@ o@@ File@@ List@@ ()); }
public boolean is@@ R@@ eb@@ oot@@ Command@@ Execution@@ Allow@@ ed(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s) { if ((@@ vms.@@ isEmpty@@ ()) || (!(@@ org.ovirt.engine.core.common.@@ Vdc@@ Action@@ Utils.@@ can@@ Execut@@ e@@ Par@@ ti@@ all@@ y@@ (vm@@ s, VM@@ .@@ Vm@@ With@@ Status@@ For@@ Ex@@ cl@@ us@@ i@@ v@@ e.@@ class@@ , Vdc@@ ActionType.@@ R@@ eb@@ oot@@ Vm@@ )))) { return false@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { boolean g@@ u@@ est@@ Agent@@ P@@ res@@ ent = !@@ (@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Null@@ Or@@ Empty@@ (vm@@ .get@@ Ip@@ ())); boolean ac@@ p@@ i@@ Enabl@@ ed = java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .equals(@@ vm.get@@ Ac@@ p@@ i@@ Enabl@@ e()); if (!(@@ g@@ u@@ est@@ Agent@@ P@@ res@@ ent || ac@@ p@@ i@@ Enabled@@ )) { return false@@ ; } } return true@@ ; }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ Vm@@ With@@ Status@@ For@@ Ex@@ cl@@ us@@ ive@@ Lock@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ Vm@@ With@@ Status@@ For@@ Ex@@ cl@@ us@@ ive@@ Lock@@ > vm@@ sWith@@ Status@@ For@@ Ex@@ cl@@ us@@ i@@ v@@ e = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ .get@@ SelectedItem@@ s()) { vm@@ sWith@@ Status@@ For@@ Ex@@ cl@@ us@@ i@@ v@@ e.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ Vm@@ With@@ Status@@ For@@ Ex@@ cl@@ us@@ i@@ v@@ e(@@ vm@@ )); } return vm@@ sWith@@ Status@@ For@@ Ex@@ cl@@ us@@ ive@@ ; }
@java.lang.Override protected void pro@@ ceed@@ Proxy@@ Return@@ Value(@@ ) { try { super@@ .@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); } catch (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Network@@ Exception e) { handl@@ e@@ Exception@@ (@@ e@@ , w@@ a@@ s c@@ a@@ ug@@ h@@ t and ign@@ or@@ ed } catch (@@ org.ovirt.engine.core.vdsbroker.@@ vds@@ List@@ en@@ er.@@ log.error@@ ("@@ E@@ r@@ ro@@ r while VM '{}@@ ' to g@@ e@@ t in@@ val@@ id m@@ od@@ e {}@@ ", e.get@@ Name(), e.get@@ Message@@ ()); org.ovirt.engine.core.vdsbroker.@@ Vds@@ Update@@ Run@@ Time@@ Info@@ .@@ VDS@@ Rec@@ o@@ ver@@ ing@@ Exception e) { handl@@ e@@ Exception@@ (@@ e.get@@ Message@@ ()); } }
private void handl@@ e@@ Exception@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Exception@@ Base e@@ , java.lang.String re@@ ason@@ ) { final org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ oll@@ VDS@@ Command.get@@ VDS@@ ReturnValu@@ e(); vds@@ ReturnValu@@ e.set@@ Succeeded@@ (@@ false@@ ); vds@@ ReturnValu@@ e.set@@ Exception@@ String@@ (@@ e.@@ toString@@ ()); vds@@ ReturnValu@@ e.set@@ Exception@@ Object@@ (@@ e); vds@@ ReturnValu@@ e.set@@ Vds@@ Error@@ (@@ e.get@@ Vds@@ Error@@ ()); final java.lang.String m@@ s@@ g = org.@@ s@@ l@@ f@@ 4@@ j@@ .@@ h@@ el@@ per@@ s.@@ Message@@ Format@@ ter@@ .@@ for@@ mat@@ ("@@ Fail@@ ed to p@@ ol@@ l hos@@ t {@@ } - {}@@ .@@ ", org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ oll@@ VDS@@ Command.getParameters().get@@ Vds@@ Id(), re@@ ason@@ ).get@@ Message@@ (); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ oll@@ VDS@@ Command.@@ log.@@ d@@ ebug@@ (@@ m@@ s@@ g@@ , e); }
@org.junit.Test public void test@@ Create@@ D@@ ec@@ or@@ ated@@ T@@ w@@ o@@ Request@@ sTo@@ Get@@ D@@ if@@ fer@@ ent@@ ly@@ D@@ ec@@ or@@ ated@@ S@@ ame@@ Pool@@ Use@@ S@@ ame@@ Lock@@ () { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ or@@ y fac@@ t@@ or@@ y = new org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ ory@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ Sp@@ y@@ ); assert@@ That@@ (@@ fac@@ t@@ ory@@ .@@ create@@ D@@ ec@@ or@@ ated@@ Pool@@ (@@ mac@@ Pool@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ mac@@ Pool@@ D@@ ec@@ or@@ A@@ )@@ ), instance@@ Of@@ (@@ java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Proxy@@ .@@ class@@ )); assert@@ That@@ (@@ fac@@ t@@ ory@@ .@@ create@@ D@@ ec@@ or@@ ated@@ Pool@@ (@@ mac@@ Pool@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ B@@ )@@ ), instance@@ Of@@ (@@ java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Proxy@@ .@@ class@@ )); org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ <@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rit@@ e@@ Lock@@ > c@@ ap@@ t@@ or@@ 1 = org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ .@@ for@@ Cl@@ as@@ s(@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rit@@ e@@ Lock@@ .@@ class@@ ); ve@@ r@@ if@@ y@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ Sp@@ y@@ ).@@ create@@ Lock@@ ing@@ Instanc@@ e(@@ e@@ q@@ (@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ ), e@@ q@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ .@@ class@@ ), c@@ ap@@ t@@ or@@ 1@@ .@@ c@@ ap@@ t@@ ur@@ e()); org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ <@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rit@@ e@@ Lock@@ > c@@ ap@@ t@@ or@@ 2 = org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ .@@ for@@ Cl@@ as@@ s(@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rit@@ e@@ Lock@@ .@@ class@@ ); ve@@ r@@ if@@ y@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ Sp@@ y@@ ).@@ create@@ Lock@@ ing@@ Instanc@@ e(@@ e@@ q@@ (@@ e@@ q@@ (@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ B@@ ), e@@ q@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ Pool@@ .@@ class@@ ), c@@ ap@@ t@@ or@@ 2@@ .@@ class@@ ), c@@ ap@@ t@@ or@@ 2@@ .get@@ Valu@@ e(), c@@ ap@@ t@@ or@@ 2@@ .get@@ Valu@@ e()); }
@java.lang.Override public final java.lang.String toString@@ () { return org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ .@@ for@@ In@@ stance@@ (@@ this@@ ).@@ append("@@ mac@@ Pool@@ ", mac@@ Poo@@ l.@@ toString@@ ()).@@ build@@ (); }
@org.junit.Test public void test@@ Create@@ D@@ ec@@ or@@ ated@@ Pool@@ By@@ T@@ w@@ o@@ D@@ ec@@ or@@ ator@@ s() { do@@ An@@ s@@ w@@ er@@ (@@ "@@ c@@ er@@ e@@ ig@@ ne@@ d in@@ vo@@ c@@ ation@@ ) -@@ > in@@ vo@@ c@@ ation@@ .get@@ Arg@@ um@@ ent@@ s@@ ()@@ [@@ 0@@ ]@@ ).@@ when(@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ Mock@@ ).@@ create@@ Lock@@ ing@@ Instanc@@ e(@@ any@@ (), e@@ q@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ .@@ class@@ ), any@@ ()); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool d@@ ec@@ or@@ ated@@ Pool = d@@ ec@@ or@@ ate@@ Pool@@ W@@ h@@ il@@ e@@ Not@@ Us@@ ing@@ Lock@@ ing@@ (@@ java.util.Arrays.as@@ List(@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ , mac@@ Pool@@ D@@ ec@@ or@@ ator@@ B@@ )); assert@@ That@@ (@@ d@@ ec@@ or@@ ated@@ Pool@@ , is@@ (@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ B@@ )); java.lang.String mac@@ To@@ Pro@@ p@@ ag@@ at@@ e = "@@ mac@@ To@@ Pro@@ p@@ ag@@ ate@@ "@@ ; when(@@ mac@@ Poo@@ l.@@ al@@ loc@@ ate@@ New@@ Mac@@ ()).@@ thenReturn(@@ mac@@ To@@ Pro@@ p@@ ag@@ ate@@ ); java.lang.String pro@@ p@@ ag@@ ated@@ Ma@@ c = d@@ ec@@ or@@ ated@@ Poo@@ l.@@ al@@ loc@@ ate@@ New@@ Mac@@ (); assert@@ That@@ (@@ pro@@ p@@ ag@@ ated@@ Mac@@ , is@@ (@@ mac@@ To@@ Pro@@ p@@ ag@@ ate@@ )); ve@@ r@@ if@@ y@@ (@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ ).@@ al@@ loc@@ ate@@ New@@ Mac@@ (); ve@@ r@@ if@@ y@@ (@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ B@@ ).@@ al@@ loc@@ ate@@ New@@ Mac@@ (); ve@@ r@@ if@@ y@@ (@@ mac@@ Pool@@ ).@@ is@@ (@@ mac@@ Pool@@ ).@@ is@@ (@@ mac@@ Pool@@ )@@ ).get@@ Id@@ (); ve@@ r@@ if@@ y@@ (@@ mac@@ Pool@@ ).@@ al@@ loc@@ ate@@ New@@ Mac@@ (); ve@@ r@@ if@@ y@@ No@@ M@@ ore@@ Inter@@ action@@ s(@@ mac@@ Pool@@ ); ve@@ r@@ if@@ y@@ No@@ M@@ ore@@ Inter@@ action@@ s(@@ mac@@ Pool@@ ); }
public org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool create@@ D@@ ec@@ or@@ ated@@ Pool@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool mac@@ Pool@@ , java.util.List<@@ org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator@@ > d@@ ec@@ or@@ ator@@ s) { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool d@@ ec@@ or@@ ated@@ Pool = d@@ ec@@ or@@ ate@@ Pool@@ (@@ mac@@ Pool@@ , d@@ ec@@ or@@ ator@@ s); return lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ .@@ create@@ Lock@@ ing@@ Instanc@@ e(@@ d@@ ec@@ or@@ ated@@ Pool@@ , org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ .@@ class@@ , lock@@ For@@ Mac@@ Pool@@ (@@ mac@@ Pool@@ .getId@@ ())); }
@org.junit.Test public void test@@ Create@@ D@@ ec@@ or@@ ated@@ T@@ w@@ o@@ Request@@ sTo@@ Get@@ E@@ qu@@ all@@ y@@ D@@ ec@@ or@@ ated@@ S@@ ame@@ Pool@@ Use@@ S@@ ame@@ Lock@@ () { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ or@@ y fac@@ t@@ or@@ y = new org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ ory@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ Sp@@ y@@ ); assert@@ That@@ (@@ fac@@ t@@ ory@@ .@@ create@@ D@@ ec@@ or@@ ated@@ Pool@@ (@@ mac@@ Pool@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ )@@ ), instance@@ Of@@ (@@ java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Proxy@@ .@@ class@@ )); assert@@ That@@ (@@ fac@@ t@@ ory@@ .@@ create@@ D@@ ec@@ or@@ ated@@ Pool@@ (@@ mac@@ Pool@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ )@@ ), instance@@ Of@@ (@@ java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Proxy@@ .@@ class@@ )); org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ <@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rit@@ e@@ Lock@@ > c@@ ap@@ to@@ r = org.@@ mock@@ it@@ o.@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ .@@ for@@ Cl@@ as@@ s(@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rit@@ e@@ Lock@@ .@@ class@@ ); ve@@ r@@ if@@ y@@ (@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ Sp@@ y@@ , tim@@ es(@@ 2@@ )).@@ create@@ Lock@@ ing@@ Instanc@@ e(@@ e@@ q@@ (@@ mac@@ Pool@@ D@@ ec@@ or@@ ator@@ A@@ ), e@@ q@@ (org.ovirt.engine.core.bll.@@ network.@@ p@@ oo@@ l.@@ Mac@@ Pool@@ .@@ class@@ ), c@@ ap@@ t@@ ur@@ e()); java.util.List<@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rit@@ e@@ Lock@@ > c@@ ap@@ t@@ or@@ .get@@ All@@ Valu@@ es@@ (); assert@@ E@@ quals(@@ c@@ ap@@ t@@ ur@@ es@@ .get@@ (0@@ ), c@@ ap@@ t@@ ur@@ es@@ .get(@@ 1@@ )); }
public void m@@ o@@ d@@ if@@ y@@ Pool@@ (org.ovirt.engine.core.common.businessentities.@@ Mac@@ Pool mac@@ Pool@@ ) { try (@@ org.ovirt.engine.core.utils.@@ lock@@ .@@ A@@ uto@@ C@@ lo@@ se@@ able@@ Loc@@ k loc@@ k = w@@ rit@@ e@@ Lock@@ Resourc@@ e()) { if (!(@@ mac@@ Pool@@ s.@@ contain@@ s@@ Key@@ (@@ mac@@ Pool@@ .getId@@ ()))) { throw new java.lang.@@ I@@ ll@@ eg@@ al@@ St@@ ate@@ Exception@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Per@@ C@@ luster.@@ IN@@ EXIST@@ EN@@ T_@@ P@@ O@@ OL@@ _@@ EX@@ C@@ E@@ P@@ TI@@ ON@@ _M@@ E@@ SS@@ AG@@ E); } org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Per@@ C@@ luster.@@ log.@@ d@@ ebug@@ ("@@ M@@ o@@ d@@ if@@ i@@ ed p@@ oo@@ l {}@@ . (@@ ol@@ d w@@ il@@ l b@@ e d@@ elet@@ ed and new initial@@ iz@@ ed f@@ ro@@ m d@@ b entity@@ ) mac@@ Pool@@ "); remove@@ With@@ out@@ Lock@@ ing@@ (@@ mac@@ Pool@@ .getId()); initial@@ ize@@ Mac@@ Pool@@ (@@ mac@@ Pool@@ ); }
@java.lang.Override public final void f@@ ree@@ Mac@@ s(@@ java.util.List<java.lang.String> mac@@ s) { java.util.List<java.lang.String> mac@@ sTo@@ R@@ el@@ e@@ ase = filter@@ Out@@ Un@@ us@@ ed@@ Mac@@ s(@@ mac@@ s); if (@@ mac@@ sTo@@ R@@ el@@ e@@ as@@ e.@@ isEmpty@@ ()) { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Transaction@@ al@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator.@@ log.@@ w@@ ar@@ n@@ ("@@ Fail@@ ed to r@@ el@@ e@@ ase wit@@ h em@@ p@@ ty c@@ oll@@ ec@@ tion a@@ s parameter@@ . "); } else { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Transaction@@ al@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator.@@ Transaction@@ al@@ St@@ r@@ ate@@ g@@ y@@ Stat@@ e str@@ ate@@ g@@ y@@ For@@ Mac@@ R@@ el@@ e@@ ase =@@ get@@ St@@ r@@ ate@@ g@@ y@@ For@@ Mac@@ R@@ el@@ e@@ as@@ e()); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Transaction@@ al@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator.@@ log.@@ d@@ ebug@@ ("@@ F@@ oun@@ d {@@ } a@@ s r@@ el@@ e@@ ase str@@ ate@@ g@@ y str@@ ate@@ g@@ y@@ For@@ Mac@@ R@@ el@@ e@@ as@@ e); str@@ ate@@ g@@ y@@ For@@ Mac@@ R@@ el@@ e@@ ase@@ Mac@@ s@@ On@@ C@@ omm@@ it@@ (@@ mac@@ sTo@@ R@@ el@@ e@@ as@@ e); } }
@java.lang.Override public void r@@ el@@ e@@ ase@@ Mac@@ s@@ On@@ C@@ omm@@ it@@ (@@ java.util.List<java.lang.String> mac@@ s) { org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Comp@@ en@@ s@@ ation@@ Cont@@ ex@@ t comp@@ en@@ s@@ ation@@ Cont@@ ex@@ t = this@@ .@@ command@@ Cont@@ ex@@ t.get@@ Comp@@ en@@ s@@ ation@@ Context@@ (); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Transaction@@ al@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator.@@ Us@@ ing@@ Comp@@ en@@ s@@ ation@@ Stat@@ e.@@ R@@ el@@ e@@ ase@@ Mac@@ s@@ Comp@@ en@@ s@@ ation@@ List@@ en@@ er comp@@ en@@ s@@ ation@@ List@@ en@@ er = this@@ .@@ comp@@ en@@ s@@ ation@@ Listener@@ ; log.@@ d@@ ebug@@ ("@@ M@@ is@@ s@@ ing mac@@ s@@ : {@@ } to b@@ e r@@ el@@ e@@ as@@ ed in case of s@@ uc@@ cess@@ f@@ u@@ l ex@@ ec@@ uti@@ on java.util.Arrays.@@ toString@@ (@@ mac@@ s.@@ to@@ Array@@ ())); comp@@ en@@ s@@ ation@@ List@@ en@@ er.@@ mac@@ sTo@@ R@@ el@@ e@@ ase@@ On@@ C@@ omm@@ it.@@ add@@ All@@ (@@ mac@@ s); log.@@ d@@ ebug@@ ("@@ M@@ s@@ g@@ : comp@@ en@@ s@@ ation list@@ en@@ er {@@ } " + comp@@ en@@ s@@ ation@@ Listener@@ )); comp@@ en@@ s@@ ation@@ Cont@@ ext.@@ add@@ Listener@@ (c@@ omp@@ en@@ s@@ ation@@ Listener@@ ); }
public org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool get@@ Mac@@ Pool@@ By@@ Id(@@ org.ovirt.engine.core.compat.Guid mac@@ Pool@@ Id) { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool result = get@@ Mac@@ Pool@@ By@@ Id(@@ mac@@ Pool@@ Id, java.util.Collections.@@ em@@ pty@@ List@@ ()); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Per@@ C@@ luster.@@ log.@@ d@@ ebug@@ ("@@ Mac@@ Pool@@ : '{}@@ ' for us@@ e in comp@@ en@@ s@@ ation m@@ ec@@ h@@ an@@ is@@ m result@@ ); return result@@ ; }
@java.lang.Override public java.util.List<java.lang.String> al@@ loc@@ ate@@ Mac@@ Address@@ es@@ (@@ int num@@ ber@@ Of@@ Address@@ es) { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es.@@ log.@@ d@@ ebug@@ ("@@ Mac@@ Pool@@ : {}@@ ", num@@ ber@@ Of@@ Address@@ es@@ , this@@ ); java.util.List<@@ java.lang.@@ L@@ on@@ g@@ > mac@@ s = mac@@ s@@ Stor@@ age.@@ al@@ loc@@ ate@@ Available@@ Mac@@ s(@@ num@@ ber@@ Of@@ Address@@ es@@ ); java.util.List<@@ java.lang.@@ L@@ on@@ g@@ > mac@@ s = mac@@ s@@ Stor@@ age.@@ al@@ loc@@ ate@@ Available@@ Mac@@ s(@@ num@@ ber@@ Of@@ Address@@ es@@ ); java.util.List<java.lang.String> result = org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ mac@@ Address@@ es@@ To@@ String@@ s(@@ mac@@ s); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es.@@ log.@@ d@@ ebug@@ ("@@ Mac@@ Pool@@ : ma@@ c add@@ ress@@ es@@ : {}@@ ", f@@ ro@@ m {}@@ .@@ ", java.util.Arrays.@@ toString@@ (@@ res@@ ult.@@ to@@ Array@@ ()), this@@ ); java.util.List<java.lang.String> result = result@@ ; }
private void initial@@ ize@@ Mac@@ Pool@@ (org.ovirt.engine.core.common.businessentities.@@ Mac@@ Pool mac@@ Pool@@ ) { java.util.List<java.lang.String> mac@@ s@@ For@@ Mac@@ Pool = mac@@ Pool@@ Dao@@ .get@@ All@@ Mac@@ s@@ For@@ Mac@@ Pool@@ (@@ mac@@ Pool@@ .getId()); final org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool p@@ oo@@ l = create@@ Pool@@ Internal@@ (@@ mac@@ Pool@@ ); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Per@@ C@@ luster.@@ log.@@ d@@ ebug@@ ("@@ Mac@@ Pool@@ Per@@ C@@ anDo@@ Ac@@ tion {@@ } wit@@ h mac@@ s@@ : {@@ } pool@@ , java.util.Arrays.@@ toString@@ (@@ mac@@ s@@ For@@ Mac@@ Poo@@ l.@@ to@@ Array@@ ())); for (java.lang.String ma@@ c : mac@@ s@@ For@@ Mac@@ Pool@@ ) { pool@@ .@@ for@@ ce@@ Add@@ Mac@@ (@@ mac@@ ); } }
@java.lang.Override public void f@@ ree@@ Mac@@ s(@@ java.util.List<java.lang.String> mac@@ s) { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es.@@ log.@@ d@@ ebug@@ ("@@ Mac@@ Pool@@ : ma@@ c add@@ ress@@ es {@@ } back to {@@ } to@@ Array@@ ()), this@@ ); for (java.lang.String ma@@ c : mac@@ s) { mac@@ s@@ Stor@@ age.@@ f@@ ree@@ Mac@@ (@@ org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ mac@@ To@@ L@@ on@@ g@@ (@@ mac@@ )); } }
public org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool create@@ D@@ ec@@ or@@ ated@@ Pool@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool mac@@ Pool@@ , java.util.List<@@ org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator@@ > d@@ ec@@ or@@ ator@@ s) { org.ovirt.engine.core.bll.network.@@ mac@@ pool@@ .@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ ory@@ .@@ log.@@ d@@ ebug@@ ("@@ Mac@@ Pool@@ : d@@ ec@@ or@@ ate@@ d Mac@@ Pool for {@@ } mac@@ Pool@@ ); org.ovirt.engine.core.bll.network.@@ mac@@ pool@@ .@@ Mac@@ Pool d@@ ec@@ or@@ ated@@ Pool = d@@ ec@@ or@@ ate@@ Pool@@ (@@ mac@@ Pool@@ , d@@ ec@@ or@@ ator@@ s); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ ory@@ .@@ log.@@ d@@ ebug@@ ("@@ M@@ is@@ D@@ ec@@ or@@ ing {}@@ ", d@@ ec@@ or@@ ate@@ d a@@ s {}@@ . mac@@ Pool@@ , d@@ ec@@ or@@ ated@@ ", lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ .@@ create@@ Lock@@ ing@@ Instanc@@ e(@@ d@@ ec@@ or@@ ated@@ Pool@@ , org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ .@@ class@@ , lock@@ For@@ Mac@@ Pool@@ .getId@@ ())); }
@java.lang.Override public java.lang.String toString@@ () { return org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ .@@ for@@ In@@ stance@@ (@@ this@@ ).@@ append("@@ al@@ low@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ Address@@ es@@ ", al@@ low@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ Address@@ es@@ ).@@ append@@ (@@ "@@ default@@ Pool@@ ", default@@ Pool@@ ).@@ append("@@ d@@ escription@@ ", d@@ escription@@ ).@@ append("@@ id@@ ", id@@ ).@@ append("@@ name@@ ", name@@ ).@@ append("@@ r@@ ang@@ es@@ ", r@@ ang@@ es@@ ).@@ build@@ (); }
@java.lang.Override public void cl@@ e@@ an@@ ing@@ Comp@@ en@@ s@@ ation@@ Data@@ A@@ f@@ ter@@ Success@@ () { log.@@ d@@ ebug@@ ("@@ Cl@@ e@@ an@@ ing s@@ uc@@ cess@@ f@@ ull@@ y execut@@ ed@@ , r@@ el@@ e@@ as@@ ing mac@@ s@@ : {@@ } " + (@@ mac@@ sTo@@ R@@ el@@ e@@ ase@@ On@@ C@@ omm@@ it@@ ))); mac@@ sTo@@ R@@ el@@ e@@ ase@@ On@@ C@@ omm@@ it@@ .@@ for@@ E@@ ach@@ (@@ mac@@ Pool@@ :@@ f@@ ree@@ Mac@@ ); this@@ .@@ mac@@ sTo@@ R@@ el@@ e@@ ase@@ On@@ C@@ omm@@ it@@ (); }
@java.lang.Override public void onSuccess@@ () { log.@@ d@@ ebug@@ ("@@ Mac@@ s s@@ uc@@ ceed@@ ed@@ , r@@ el@@ e@@ as@@ ing mac@@ s {}@@ . java.util.Arrays.@@ toString@@ (@@ super@@ .@@ mac@@ s.@@ to@@ Array@@ ())); r@@ el@@ e@@ ase@@ Mac@@ s(); }
@java.lang.Override public void on@@ R@@ oll@@ back@@ () { log.@@ d@@ ebug@@ ("@@ R@@ oll@@ back@@ () oc@@ c@@ ur@@ ed@@ , r@@ el@@ e@@ as@@ ing mac@@ s {}@@ . java.util.Arrays.@@ toString@@ (@@ super@@ .@@ mac@@ s.@@ to@@ Array@@ ())); r@@ el@@ e@@ ase@@ Mac@@ s(); }
private java.util.List<@@ org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Transaction@@ al@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator.@@ Transaction@@ al@@ St@@ r@@ ate@@ g@@ y@@ St@@ ate@@ > get@@ St@@ r@@ ate@@ g@@ y@@ For@@ Mac@@ Al@@ loc@@ ation@@ () { java.util.List<@@ org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Transaction@@ al@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator.@@ Transaction@@ al@@ St@@ r@@ ate@@ g@@ y@@ St@@ ate@@ > st@@ ate@@ s = new java.util.ArrayList<@@ >(); if (@@ usin@@ g@@ Comp@@ en@@ s@@ ation@@ Stat@@ e.@@ sh@@ oul@@ d@@ Use@@ Comp@@ en@@ s@@ ation@@ ()) { stat@@ es.@@ add(@@ usin@@ g@@ Comp@@ en@@ s@@ ation@@ St@@ ate@@ ); } boolean sh@@ oul@@ d@@ Use@@ T@@ x@@ D@@ ec@@ or@@ ator = (@@ org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ current@@ ()) != null@@ ; if (@@ sh@@ oul@@ d@@ Use@@ T@@ x@@ D@@ ec@@ or@@ ator@@ ) { stat@@ es.@@ add(@@ usin@@ g@@ T@@ x@@ D@@ ec@@ or@@ ator@@ St@@ ate@@ ); } if (@@ stat@@ es.@@ isEmpty@@ ()) { stat@@ es.@@ add(@@ n@@ on@@ trans@@ action@@ al@@ St@@ ate@@ ); } org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Transaction@@ al@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator.@@ log.@@ d@@ ebug@@ ("@@ M@@ ar@@ k@@ ing {@@ } a@@ s al@@ loc@@ ation str@@ ate@@ g@@ i@@ es java.util.Arrays.@@ toString@@ (@@ stat@@ es.@@ to@@ Array@@ ())); return stat@@ es@@ ; }
private org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool d@@ ec@@ or@@ ate@@ Pool@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool mac@@ Pool@@ , java.util.List<@@ org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator@@ > d@@ ec@@ or@@ ator@@ s) { if ((@@ d@@ ec@@ or@@ ator@@ s == null@@ ) || (@@ d@@ ec@@ or@@ ator@@ s.@@ isEmpty())) { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ ory@@ .@@ log.@@ d@@ ebug@@ ("@@ Mac@@ Pool@@ D@@ ec@@ or@@ ator Mac@@ Pool p@@ as@@ se@@ d to d@@ ec@@ or@@ e p@@ oo@@ l {}@@ .@@ ", mac@@ Pool@@ ); return mac@@ Pool@@ ; } org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool result = mac@@ Pool@@ ; org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ D@@ ec@@ or@@ ated@@ Mac@@ Pool@@ Fac@@ t@@ ory@@ .@@ log.@@ d@@ ebug@@ ("@@ Mac@@ Pool {@@ } wit@@ h d@@ ec@@ or@@ ator {}@@ . er@@ ro@@ r {}@@ . I@@ D for d@@ ec@@ or@@ ator ator d@@ ec@@ or@@ ator ator ator ator ator ator ator ator ator ator ator ator ator ator ator@@ s) { d@@ ec@@ or@@ ator@@ .set@@ Mac@@ Pool@@ (@@ result@@ ); result = d@@ ec@@ or@@ ator@@ ; } return result@@ ; }
@java.lang.Override public void r@@ el@@ e@@ ase@@ Mac@@ s@@ On@@ C@@ omm@@ it@@ (@@ java.util.List<java.lang.String> mac@@ s) { log.@@ d@@ ebug@@ ("@@ M@@ o@@ v@@ n@@ on@@ -@@ comp@@ en@@ s@@ ation st@@ ate@@ , im@@ m@@ ed@@ i@@ at@@ el@@ y r@@ el@@ e@@ as@@ ing mac@@ s {}@@ .@@ ", java.util.Arrays.@@ toString@@ (@@ mac@@ s.@@ to@@ Array@@ ())); mac@@ s@@ .@@ for@@ E@@ ach@@ (@@ mac@@ Pool@@ :@@ f@@ ree@@ Mac@@ ); }
private void update@@ P@@ ass@@ Dis@@ c@@ ard@@ Change@@ ab@@ ility@@ For@@ Direct@@ Lun@@ () { if ((@@ (get@@ S@@ an@@ Storage@@ Model@@ Bas@@ e()) != null@@ ) && ((get@@ S@@ an@@ Storage@@ Model@@ Bas@@ e().get@@ Add@@ ed@@ Lun@@ s()) != null@@ )) { if (get@@ S@@ an@@ Storage@@ Model@@ Bas@@ e().get@@ Add@@ ed@@ Lun@@ s().@@ isEmpty@@ ()) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); } else { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able(@@ is@@ Lun@@ Support@@ Dis@@ c@@ ard@@ (get@@ S@@ an@@ Storage@@ Model@@ Bas@@ e().get@@ Add@@ ed@@ Lun@@ s().get@@ (0@@ ).get@@ Entity@@ ()), org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model@@ .@@ const@@ an@@ t@@ s.@@ dis@@ c@@ ard@@ Is@@ Not@@ Supported@@ By@@ Un@@ der@@ ly@@ ing@@ Storage@@ ()); if (!@@ (get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().get@@ Is@@ Chang@@ abl@@ e())) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().set@@ Entity@@ (@@ false@@ ); } } else if ((get@@ Lun@@ Disk@@ ()) != null@@ ) { get@@ P@@ ass@@ Dis@@ c@@ ard@@ ().setIs@@ Change@@ able(@@ is@@ Lun@@ Support@@ Dis@@ c@@ ard@@ (get@@ Lun@@ Disk@@ ().get@@ Lun@@ ()), org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model@@ .@@ const@@ an@@ t@@ s.@@ dis@@ c@@ ard@@ Is@@ Not@@ Supported@@ By@@ Un@@ der@@ ly@@ ing@@ Storage@@ ()); } }
private boolean is@@ Migr@@ ation@@ O@@ ri@@ gin@@ all@@ y@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Model cluster@@ Network@@ Model) { return ((@@ cluster@@ Network@@ Model.get@@ O@@ ri@@ gin@@ al@@ Network@@ Cluster@@ ()) != null@@ ) && (cluster@@ Network@@ Model.get@@ O@@ ri@@ gin@@ al@@ Network@@ ().is@@ Migr@@ ation@@ ()); }
private boolean is@@ Un@@ set@@ Role@@ Pro@@ h@@ i@@ b@@ it@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Model cluster@@ Network@@ Model) { return (is@@ Multiple@@ Sel@@ ection@@ Allow@@ ed@@ ()) && (is@@ Display@@ O@@ ri@@ gin@@ all@@ y@@ (cluster@@ Network@@ Model@@ )); }
private boolean is@@ Gluster@@ O@@ ri@@ gin@@ all@@ y@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Model cluster@@ Network@@ Model) { return ((@@ cluster@@ Network@@ Model.get@@ O@@ ri@@ gin@@ al@@ Network@@ Cluster@@ ()) != null@@ ) && (cluster@@ Network@@ Model.get@@ O@@ ri@@ gin@@ al@@ Network@@ Cluster@@ ().is@@ Gluster@@ ()); }
private boolean is@@ Display@@ O@@ ri@@ gin@@ all@@ y@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Model cluster@@ Network@@ Model) { return ((@@ cluster@@ Network@@ Model.get@@ O@@ ri@@ gin@@ al@@ Network@@ Cluster@@ ()) != null@@ ) && (cluster@@ Network@@ Model.get@@ O@@ ri@@ gin@@ al@@ Network@@ ().is@@ Display@@ ()); }
private boolean is@@ Un@@ set@@ Role@@ Pro@@ h@@ i@@ b@@ it@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Model cluster@@ Network@@ Model) { return (is@@ Multiple@@ Sel@@ ection@@ Allow@@ ed@@ ()) && (is@@ Management@@ O@@ ri@@ gin@@ all@@ y@@ (cluster@@ Network@@ Model@@ )); }
private void init@@ Create@@ Or@@ Update@@ Bond@@ Parameters@@ () { org.ovirt.engine.core.common.utils.@@ Network@@ C@@ ommon@@ Utils.@@ fil@@ l@@ Bond@@ S@@ l@@ av@@ es(@@ all@@ Existing@@ Nic@@ s); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetworkInterface n@@ ic : all@@ Existing@@ Nic@@ s) { if (@@ nic@@ .is@@ Bond@@ ()) { get@@ HostSetupNetworks@@ Parameters@@ Data@@ ().get@@ B@@ on@@ ds@@ ().@@ add(@@ org.ovirt.engine.core.common.action.@@ Create@@ Or@@ Update@@ Bond@@ .@@ f@@ rom@@ Bond@@ .@@ f@@ rom@@ Bond@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Bond@@ ) (@@ nic@@ )@@ ))); } }
public void add@@ Bond@@ To@@ Parameters(@@ org.ovirt.engine.core.common.action.@@ Create@@ Or@@ Update@@ B@@ on@@ d bond@@ ) { assert (@@ bond@@ .getId@@ ()) == null : "@@ W@@ h@@ e@@ n add@@ ing a b@@ on@@ d to the parameter@@ s id sh@@ oul@@ d b@@ e null@@ "@@ ; org.ovirt.engine.core.compat.Guid or@@ i@@ gin@@ al@@ Id@@ Of@@ Bond@@ With@@ Th@@ e@@ S@@ ame@@ Name = or@@ i@@ gin@@ al@@ Bond@@ Name@@ To@@ Id@@ .get(@@ bond@@ .get@@ Name()); bond@@ .set@@ Id(@@ or@@ i@@ gin@@ al@@ Id@@ Of@@ Bond@@ With@@ Th@@ e@@ S@@ ame@@ Name@@ ); if (@@ or@@ i@@ gin@@ al@@ Id@@ Of@@ Bond@@ With@@ Th@@ e@@ S@@ ame@@ Name != null@@ ) { remov@@ ed@@ Bond@@ s.@@ remov@@ e(@@ or@@ i@@ gin@@ al@@ Id@@ Of@@ Bond@@ With@@ Th@@ e@@ S@@ ame@@ Name@@ ); } bond@@ s.add(@@ bond@@ ); }
private void init@@ Or@@ gin@@ al@@ Bond@@ Name@@ To@@ Id@@ Map@@ (@@ org.ovirt.engine.core.common.action.@@ Create@@ Or@@ Update@@ Bond@@ .@@ . b@@ on@@ ds@@ ) { java.util.Map<java.lang.String, org.ovirt.engine.core.compat.Guid@@ > or@@ i@@ gin@@ al@@ Bond@@ Name@@ To@@ Id = new java.util.HashMap@@ <@@ >(); for (@@ org.ovirt.engine.core.common.action.@@ Create@@ Or@@ Update@@ B@@ on@@ d b@@ on@@ d : b@@ on@@ ds@@ ) { or@@ i@@ gin@@ al@@ Bond@@ Name@@ To@@ Id@@ .@@ put(@@ bond@@ .get@@ Name(), bond@@ .getId()); } data@@ From@@ HostSetupNetworks@@ Model@@ .set@@ O@@ ri@@ gin@@ al@@ Bond@@ Name@@ To@@ Id(@@ or@@ i@@ gin@@ al@@ Bond@@ Name@@ To@@ Id); }
public void set@@ O@@ ri@@ gin@@ al@@ Bond@@ Name@@ To@@ Id(@@ java.util.Map<java.lang.String, org.ovirt.engine.core.compat.Guid@@ > or@@ i@@ gin@@ al@@ Bond@@ Name@@ To@@ Id) { this@@ .@@ or@@ i@@ gin@@ al@@ Bond@@ Name@@ To@@ Id = or@@ i@@ gin@@ al@@ Bond@@ Name@@ To@@ Id@@ ; }
@org.junit.Test public void test@@ Bond@@ Not@@ Updat@@ ed@@ And@@ Remov@@ ed@@ S@@ im@@ ult@@ an@@ eo@@ us@@ ly@@ Not@@ Valid@@ () { org.ovirt.engine.core.common.action.@@ HostSetupNetworks@@ Parameters param@@ s = new org.ovirt.engine.core.bll.network.@@ host.@@ HostSetupNetworks@@ Validator@@ Test.@@ Parameters@@ Builder@@ ().add@@ B@@ on@@ ds@@ (@@ org.ovirt.engine.core.common.action.@@ Create@@ Bond@@ .@@ f@@ rom@@ Bond@@ (@@ bond@@ )).@@ add@@ Remov@@ ed@@ B@@ on@@ ds@@ (@@ bond@@ .getId@@ ()).@@ build@@ (); org.ovirt.engine.core.bll.network.@@ host.@@ HostSetupNetworks@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.network.@@ host.@@ HostSetupNetworks@@ Validator@@ Test.@@ HostSetupNetworks@@ Validator@@ Builder@@ ().set@@ Param@@ s(@@ param@@ s@@ ).@@ build@@ (); org.ovirt.engine.core.common.errors.@@ EngineMess@@ age engin@@ e@@ Mess@@ age = org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ B@@ ON@@ D@@ _@@ UP@@ D@@ AT@@ ED_@@ AN@@ D@@ _@@ RE@@ M@@ OV@@ ED_@@ SI@@ M@@ U@@ L@@ T@@ AN@@ E@@ O@@ US@@ L@@ Y@@ ; assert@@ That@@ (@@ validator.@@ bond@@ Not@@ Updat@@ ed@@ And@@ Remov@@ ed@@ S@@ im@@ ult@@ an@@ eo@@ us@@ ly@@ (), fail@@ sWith@@ (@@ engin@@ e@@ Message@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Util@@ s.get@@ List@@ Var@@ i@@ able@@ As@@ s@@ ign@@ ment@@ String@@ (@@ engin@@ e@@ Message@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ bond@@ .getName()@@ )@@ ))); }
public org.ovirt.engine.core.bll.ValidationResult bond@@ Not@@ Updat@@ ed@@ And@@ Remov@@ ed@@ S@@ im@@ ult@@ an@@ eo@@ us@@ ly@@ () { java.util.List<@@ org.ovirt.engine.core.common.action.@@ Create@@ Or@@ Update@@ Bond@@ > d@@ up@@ l@@ ic@@ ate@@ Bond@@ s = param@@ s.get@@ Create@@ Or@@ Update@@ B@@ on@@ ds@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ("@@ bond@@ "@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); if (@@ org.apache.commons.@@ c@@ ollection@@ s.@@ Collection@@ Utils.@@ is@@ Not@@ Empty@@ (@@ d@@ up@@ l@@ ic@@ ate@@ B@@ on@@ ds@@ )) { org.ovirt.engine.core.common.errors.@@ EngineMess@@ age engin@@ e@@ Mess@@ age = org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ B@@ ON@@ D@@ _@@ UP@@ D@@ AT@@ ED_@@ AN@@ D@@ _@@ RE@@ M@@ OV@@ ED_@@ SI@@ M@@ U@@ L@@ T@@ AN@@ E@@ O@@ US@@ L@@ Y@@ ; return new org.ovirt.engine.core.bll.ValidationResult@@ (@@ engin@@ e@@ Message@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Util@@ s.get@@ List@@ Var@@ i@@ able@@ As@@ s@@ ign@@ ment@@ String@@ (@@ engin@@ e@@ Message@@ , d@@ up@@ l@@ ic@@ ate@@ Bond@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ Create@@ Or@@ Update@@ Bond@@ :@@ :@@ get@@ Name@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()))); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
java.lang.String B@@ ON@@ D@@ _@@ UP@@ D@@ AT@@ ED_@@ AN@@ D@@ _@@ RE@@ M@@ OV@@ ED_@@ SI@@ M@@ U@@ L@@ T@@ AN@@ E@@ O@@ US@@ ();
@java.lang.Override protected void ch@@ il@@ d@@ Command@@ s@@ Execution@@ En@@ d@@ ed@@ (org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ , boolean any@@ Fail@@ ed@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > ch@@ il@@ d@@ C@@ md@@ Id@@ s, org.ovirt.engine.core.compat.@@ back@@ end@@ c@@ ompat.@@ Command@@ Execution@@ Statu@@ s status@@ , int comp@@ let@@ ed@@ Ch@@ il@@ d@@ r@@ en@@ ) { if (@@ stat@@ u@@ s == (@@ org.ovirt.engine.core.compat.@@ back@@ end@@ c@@ ompat.@@ Command@@ Execution@@ Status.@@ EX@@ EC@@ U@@ T@@ ED@@ )) { org.ovirt.engine.core.compat.Guid cmd@@ Id = command@@ .get@@ Command@@ Id@@ (); org.ovirt.engine.core.bll.@@ Ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ C@@ ommand ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ C@@ ommand = ((org.ovirt.engine.core.bll.@@ Ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ Command@@ ) (command@@ )); if ((!@@ any@@ Fail@@ ed@@ ) || (@@ ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ Command.@@ ign@@ ore@@ Ch@@ il@@ d@@ Command@@ Failur@@ e())) { try { boolean end@@ C@@ ommand = !@@ (@@ ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ Command.@@ p@@ er@@ for@@ m@@ N@@ ext@@ Operation@@ (c@@ omp@@ let@@ ed@@ Ch@@ il@@ d@@ r@@ en@@ )); if (!@@ end@@ Command@@ ) { return@@ ; } } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.@@ Ser@@ ial@@ Ch@@ il@@ d@@ Command@@ s@@ Execution@@ Callback@@ .@@ log.@@ info@@ ("@@ S@@ k@@ ing '{}@@ ' id@@ : '{}@@ ' fail@@ ed wh@@ e@@ n at@@ temp@@ t@@ ing to p@@ er@@ for@@ m the ne@@ x@@ t o@@ peration@@ , mar@@ k@@ ing a@@ s FAIL@@ E@@ D '{}@@ '@@ ", command@@ .get@@ Action@@ Typ@@ e(), cmd@@ Id, ch@@ il@@ d@@ C@@ md@@ Id@@ s, command@@ .get@@ Command@@ Status@@ ()); ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ Command.@@ handl@@ e@@ Failur@@ e(); any@@ Fail@@ ed = true@@ ; } } else { ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ Command.@@ handl@@ e@@ Failur@@ e(); } set@@ Command@@ En@@ d@@ Status@@ (command@@ , ch@@ il@@ d@@ C@@ md@@ Id@@ s); }
@org.junit.Test public void test@@ Execut@@ e@@ Query@@ With@@ Not@@ Existing@@ Is@@ csi@@ Bond@@ () { org.ovirt.engine.core.common.businessentities.@@ Is@@ csi@@ B@@ on@@ d is@@ csi@@ B@@ on@@ d = new org.ovirt.engine.core.common.businessentities.@@ Is@@ csi@@ Bond@@ (); is@@ csi@@ Bond@@ .set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); when@@ (get@@ Query@@ Parameters().get@@ Id@@ ()).@@ thenReturn(@@ is@@ csi@@ Bond@@ Id); get@@ Query@@ ().execute@@ Query@@ Command@@ (); org.ovirt.engine.core.common.businessentities.@@ Is@@ csi@@ B@@ on@@ d result = get@@ Query@@ ().get@@ Query@@ ReturnValue().get@@ ReturnValu@@ e(); assert@@ Null@@ (@@ result@@ ); }
@java.lang.Override protected void execute@@ Command() { T parameter@@ s = org.ovirt.engine.core.bll.@@ Add@@ De@@ p@@ r@@ ec@@ ated@@ Ap@@ i@@ Event@@ Command.get@@ Parameters@@ (); add@@ Custom@@ Value("@@ Ap@@ i@@ Version@@ ", parameters@@ .get@@ Ap@@ i@@ Version@@ ()); add@@ Custom@@ Value("@@ Client@@ Address@@ ", parameters@@ .get@@ Client@@ Address@@ ()); add@@ Custom@@ Value("@@ De@@ p@@ r@@ ec@@ at@@ ing@@ Version@@ ", parameters@@ .get@@ De@@ p@@ r@@ ec@@ at@@ ing@@ Version@@ ()); add@@ Custom@@ Value("@@ Remov@@ ing@@ Version@@ ", parameters@@ .get@@ Remov@@ ing@@ Version@@ ()); org.ovirt.engine.core.bll.@@ Add@@ De@@ p@@ r@@ ec@@ ated@@ Ap@@ i@@ Event@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override public void init@@ (@@ javax.@@ ser@@ vlet@@ .@@ Filter@@ Confi@@ g config@@ ) throw@@ s javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception { org.ovirt.engine.api.restapi.@@ Local@@ Confi@@ g loc@@ al@@ Confi@@ g = org.ovirt.engine.api.restapi.@@ Local@@ Config.@@ get@@ Instanc@@ e(); support@@ ed@@ Version@@ s = loc@@ al@@ Config.@@ get@@ Supported@@ Version@@ s(); default@@ Vers@@ ion = loc@@ al@@ Config.@@ get@@ Default@@ Version@@ (); java.util.Set@@ <@@ org.ovirt.engine.api.restapi.@@ De@@ p@@ r@@ ec@@ ated@@ Version@@ Info@@ > de@@ p@@ r@@ ec@@ ated@@ Version@@ Info@@ s = loc@@ al@@ Config.@@ get@@ De@@ p@@ r@@ ec@@ ated@@ Version@@ s(); de@@ p@@ r@@ ec@@ ated@@ Version@@ s@@ Se@@ t = de@@ p@@ r@@ ec@@ ated@@ Version@@ Info@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ De@@ p@@ r@@ ec@@ ated@@ Version@@ Info@@ :@@ get@@ Version@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); de@@ p@@ r@@ ec@@ ated@@ Version@@ s@@ Map = de@@ p@@ r@@ ec@@ ated@@ Version@@ Info@@ s.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ De@@ p@@ r@@ ec@@ ated@@ Version@@ Info@@ :@@ :@@ get@@ Version@@ , java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ ())); de@@ p@@ r@@ ec@@ ated@@ Messages@@ Tim@@ e = (@@ loc@@ al@@ Config.@@ get@@ De@@ p@@ r@@ ec@@ ated@@ Messages@@ F@@ re@@ qu@@ enc@@ y@@ ()) * 1@@ 00@@ 0@@ L@@ ; }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void init@@ () { org.ovirt.engine.core.bll.@@ DataCenter@@ C@@ ompatibility@@ Check@@ er.@@ log.@@ info@@ ("@@ St@@ ar@@ t initial@@ iz@@ ing {}@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); org.ovirt.engine.core.bll.@@ DataCenter@@ C@@ ompatibility@@ Check@@ er.@@ log.@@ info@@ ("@@ Set@@ t@@ ing dat@@ a cent@@ er c@@ ompati@@ b@@ il@@ it@@ y check@@ er manage@@ r to r@@ u@@ n e@@ ver@@ y d@@ ay@@ s@@ "); schedul@@ er@@ Uti@@ l.@@ schedul@@ e@@ A@@ Fi@@ x@@ ed@@ D@@ el@@ ay@@ Job@@ (@@ this@@ , "@@ on@@ Tim@@ er@@ ", new java.lang.@@ Class@@ []{ }, new java.lang.Object@@ []{ }, 0@@ , 7@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ DA@@ Y@@ S@@ ); org.ovirt.engine.core.bll.@@ DataCenter@@ C@@ ompatibility@@ Check@@ er.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing {}@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); }
@java.lang.Override public synchronized java.lang.String for@@ mat@@ (@@ java.util.@@ log@@ gin@@ g.@@ Log@@ Rec@@ or@@ d r@@ ec@@ or@@ d@@ ) { c@@ al@@ .set@@ Time@@ Z@@ on@@ e(@@ org.ovirt.engine.core.@@ u@@ utils.@@ log.@@ Time@@ Z@@ one@@ Bas@@ ed@@ Format@@ t@@ er.@@ time@@ Z@@ on@@ e); org.ovirt.engine.core.@@ u@@ utils.@@ log.@@ Time@@ Z@@ one@@ Bas@@ ed@@ Format@@ t@@ er.@@ date@@ Time@@ For@@ ma@@ t.@@ set@@ Time@@ Z@@ on@@ e(@@ org.ovirt.engine.core.@@ u@@ utils.@@ log.@@ Time@@ Z@@ one@@ Bas@@ ed@@ Format@@ t@@ er.@@ time@@ Z@@ on@@ e); c@@ al@@ .set@@ Time@@ In@@ M@@ il@@ lis@@ (@@ r@@ ec@@ or@@ d@@ .get@@ M@@ il@@ lis@@ ()); java.lang.String source@@ ; if ((@@ r@@ ec@@ or@@ d@@ .get@@ Source@@ Class@@ Name()@@ ) != null@@ ) { s@@ ourc@@ e = r@@ ec@@ or@@ d@@ .get@@ Source@@ Class@@ Nam@@ e(); if ((@@ r@@ ec@@ or@@ d@@ .get@@ Source@@ Method@@ Name()@@ ) != null@@ ) { s@@ ourc@@ e +@@ = " + (@@ r@@ ec@@ or@@ d@@ .get@@ Source@@ Method@@ Name()); } else { s@@ ourc@@ e = r@@ ec@@ or@@ d@@ .get@@ Log@@ g@@ er@@ Nam@@ e(); } java.lang.String mess@@ age = for@@ mat@@ Message@@ (@@ r@@ ec@@ or@@ d@@ ); java.lang.String throw@@ able = "@@ "@@ "@@ "@@ ; if ((@@ r@@ ec@@ or@@ d@@ .get@@ Th@@ ro@@ wn@@ ()) != null@@ ) { java.io.@@ String@@ W@@ rit@@ er s@@ w = new java.io.@@ String@@ W@@ rit@@ er@@ (); java.io.@@ P@@ r@@ int@@ W@@ rit@@ er p@@ w = new java.io.@@ P@@ r@@ int@@ W@@ rit@@ er@@ (s@@ w@@ ); p@@ r@@ int@@ l@@ n@@ (); r@@ ec@@ or@@ d@@ .get@@ Th@@ ro@@ wn@@ ().@@ p@@ r@@ int@@ St@@ ack@@ Tr@@ ac@@ e(@@ p@@ w@@ ); p@@ w@@ .@@ c@@ lo@@ s@@ e(); throw@@ able = s@@ w@@ .toString@@ (); } return java.lang.String@@ .@@ for@@ mat@@ (@@ org.ovirt.engine.core.@@ u@@ utils.@@ log.@@ Time@@ Z@@ one@@ Bas@@ ed@@ Format@@ , org.ovirt.engine.core.@@ u@@ utils.@@ Time@@ Z@@ one@@ Bas@@ ed@@ Format@@ .@@ for@@ mat@@ (c@@ al@@ .get@@ Tim@@ e()@@ ), source@@ , r@@ ec@@ or@@ d@@ .get@@ Log@@ g@@ er@@ Name(), r@@ ec@@ or@@ d@@ .get@@ L@@ ev@@ el@@ ().get@@ Name(), message@@ , throw@@ able@@ ); }
private static java.lang.String get@@ Log@@ gin@@ g@@ Property@@ (java.lang.String key@@ , java.lang.String default@@ Value@@ ) { java.lang.String valu@@ e = java.util.@@ log@@ gin@@ g.@@ Log@@ Manager@@ .get@@ Log@@ Manager@@ ().get@@ Property@@ (@@ key@@ ); return valu@@ e == null ? default@@ Valu@@ e : value@@ ; }
public static void m@@ ain@@ (@@ java.lang.String.@@ .@@ . args) { org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ C@@ L@@ I@@ Par@@ se@@ r par@@ se@@ r = null@@ ; try { par@@ se@@ r = new org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ C@@ L@@ I@@ Par@@ ser@@ (); par@@ s@@ er.@@ par@@ se(@@ arg@@ s); org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ Map arg@@ s@@ Map = par@@ ser@@ .get@@ Engine@@ Config@@ Map@@ (); if ((@@ arg@@ s@@ Map@@ .get@@ Log@@ Fil@@ e()) != null@@ ) { org.ovirt.engine.cor@@ e@@ .@@ log.@@ J@@ ava@@ Log@@ gin@@ g@@ Utils.@@ add@@ File@@ Handler@@ (@@ arg@@ s@@ Map@@ .get@@ Log@@ Fil@@ e()); } if ((@@ arg@@ s@@ Map@@ .get@@ Log@@ L@@ ev@@ el@@ ()) != null@@ ) { org.ovirt.engine.cor@@ e@@ .@@ log.@@ J@@ ava@@ Log@@ gin@@ g@@ Utils.@@ set@@ Log@@ L@@ ev@@ el@@ (@@ arg@@ s@@ Map@@ .get@@ Log@@ L@@ ev@@ el@@ ()); } } catch (@@ java.lang.@@ Th@@ row@@ able t@@ ) { java.lang.@@ System@@ .@@ o@@ u@@ t.@@ p@@ r@@ int@@ l@@ n@@ (@@ t.get@@ Message@@ ()); java.lang.@@ System@@ .@@ ex@@ it@@ (@@ 1@@ ); } try { org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config.@@ get@@ Instanc@@ e().set@@ Up@@ And@@ Execut@@ e(@@ par@@ ser@@ ); } catch (@@ java.lang.@@ Th@@ row@@ able t@@ ) { org.@@ s@@ l@@ f@@ 4@@ j@@ .@@ Log@@ g@@ er@@ Fac@@ t@@ ory@@ .get@@ Log@@ g@@ er@@ (@@ org.ovirt.engine.core.c@@ on@@ fi@@ g.@@ Engine@@ Config@@ Execut@@ or@@ .@@ class@@ ).@@ d@@ ebug@@ ("@@ Ex@@ it@@ ing wit@@ h error@@ : t@@ ); java.lang.@@ System@@ .@@ o@@ u@@ t.@@ p@@ r@@ int@@ l@@ n@@ (@@ t.get@@ Message@@ ()); java.lang.@@ System@@ .@@ ex@@ it@@ (@@ 1@@ ); } }
public static void m@@ ain@@ (@@ java.lang.String@@ [@@ ] args) { org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ No@@ t@@ if@@ ication@@ Proper@@ ti@@ es pro@@ p = null@@ ; org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ No@@ t@@ if@@ ication@@ Servic@@ e not@@ if@@ ication@@ Servic@@ e = null@@ ; org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ Engine@@ M@@ onitor@@ Servic@@ e engin@@ e@@ M@@ onitor@@ Servic@@ e = null@@ ; try { pro@@ p = org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ utils.@@ No@@ t@@ if@@ ication@@ Properties@@ .getInstanc@@ e(); org.ovirt.engine.core.utils.@@ log.@@ J@@ ava@@ Log@@ gin@@ g@@ Utils.@@ set@@ Log@@ L@@ ev@@ el@@ (@@ pro@@ p@@ .get@@ Property@@ (@@ org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ LO@@ G@@ _@@ LE@@ V@@ E@@ L@@ )); pro@@ p@@ .@@ valid@@ at@@ e(); not@@ if@@ ication@@ Servic@@ e = new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ No@@ t@@ if@@ ication@@ Servic@@ e(@@ pro@@ p@@ ); engin@@ e@@ M@@ onitor@@ Servic@@ e = new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ Engine@@ M@@ onitor@@ Servic@@ e(@@ pro@@ p@@ ); not@@ if@@ ication@@ Servic@@ e.@@ re@@ g@@ ist@@ er@@ Trans@@ port@@ (@@ new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ trans@@ p@@ or@@ t.@@ s@@ m@@ t@@ p@@ (@@ pro@@ p@@ )); not@@ if@@ ication@@ Servic@@ e.@@ re@@ g@@ ist@@ er@@ Trans@@ port@@ (@@ new org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ trans@@ p@@ or@@ t.@@ s@@ n@@ m@@ p@@ .S@@ n@@ m@@ p@@ (@@ pro@@ p@@ )); if (!(@@ not@@ if@@ ication@@ Servic@@ e.@@ has@@ Trans@@ port@@ s@@ ())) { throw new java.lang.@@ Run@@ time@@ Exception@@ ((@@ "@@ Fail@@ ed trans@@ p@@ or@@ t is en@@ abl@@ ed@@ , ple@@ ase en@@ able a@@ t le@@ as@@ t on@@ e of S@@ M@@ T@@ P (@@ usin@@ g M@@ AIL@@ _@@ S@@ ER@@ V@@ E@@ R o@@ ption@@ ) + " or S@@ N@@ M@@ P (@@ usin@@ g S@@ N@@ M@@ P@@ _M@@ AN@@ AG@@ ER@@ S o@@ ption@@ ) trans@@ port@@ s.@@ ")); } } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ No@@ t@@ if@@ i@@ er.@@ log.error@@ ("@@ Fail@@ ed to initial@@ iz@@ e ex@@ ); java.lang.@@ System@@ .@@ err@@ .@@ p@@ r@@ int@@ l@@ n@@ (@@ ex@@ .get@@ Message@@ ()); java.lang.@@ System@@ .@@ ex@@ .get@@ Message@@ ()); java.lang.@@ System@@ .@@ ex@@ it@@ (@@ 1@@ ); } if (((@@ arg@@ s != null@@ ) && ((@@ arg@@ s != null@@ )) && ((@@ arg@@ s.@@ l@@ ength@@ ) && (@@ org.ovirt.engine.core.@@ not@@ if@@ i@@ er.@@ No@@ t@@ if@@ i@@ er.@@ AR@@ G@@ _@@ VALID@@ AT@@ E@@ .equals(@@ arg@@ s@@ [@@ 0@@ ]@@ ))) { java.lang.@@ System@@ .@@ ex@@ it@@ (0@@ ); } }
public static void set@@ Log@@ L@@ ev@@ el@@ (java.lang.String l@@ ev@@ el@@ Name@@ ) { org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ log.@@ J@@ ava@@ Log@@ gin@@ g@@ Utils.@@ OV@@ I@@ R@@ T_@@ LO@@ G@@ ER@@ .set@@ L@@ ev@@ el@@ (@@ org.ovirt.engine.core.utils.@@ s@@ sh@@ .@@ log.@@ J@@ ava@@ Log@@ gin@@ g@@ Utils.@@ par@@ se@@ L@@ ev@@ el@@ (@@ l@@ ev@@ el@@ Name@@ )); }
private java.lang.Integ@@ er c@@ al@@ c@@ Max@@ V@@ Cpu@@ () { org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type arch@@ it@@ ect@@ ur@@ e = vm.get@@ Cluster@@ Ar@@ ch@@ ().get@@ F@@ am@@ il@@ y@@ (); return org.ovirt.engine.core.common.utils.@@ Vm@@ Cpu@@ Count@@ Helper.@@ c@@ al@@ c@@ Max@@ V@@ Cpu@@ (vm@@ .get@@ StaticData@@ (), vm.get@@ Cluster@@ CompatibilityVersion@@ (), arch@@ it@@ ect@@ ur@@ e); }
private static int b@@ it@@ W@@ id@@ th@@ (@@ int n@@ ) { return n == 0 ? 0 : 3@@ 2 - (@@ java.lang.Integ@@ er.@@ num@@ ber@@ Of@@ L@@ ead@@ ing@@ Z@@ er@@ o@@ s(@@ n@@ )); }
public static boolean validate@@ Cpu@@ Count@@ s(@@ org.ovirt.engine.core.common.businessentities.VM vm@@ ) { org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type arch@@ it@@ ect@@ ur@@ e = vm.get@@ Cluster@@ Ar@@ ch@@ ().get@@ F@@ am@@ il@@ y@@ (); if (@@ arch@@ it@@ ect@@ ur@@ e == (org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ x@@ 8@@ 6@@ )) { return (org.ovirt.engine.core.common.@@ utils.@@ Vm@@ Cpu@@ Count@@ Helper.@@ b@@ it@@ W@@ id@@ th@@ (((@@ org.ovirt.engine.core.common.utils.@@ Vm@@ Cpu@@ Count@@ Helper.@@ b@@ it@@ W@@ id@@ th@@ (vm@@ .get@@ Th@@ rea@@ ds@@ Per@@ Cpu@@ ())) + (org.ovirt.engine.core.common.@@ utils.@@ Vm@@ Cpu@@ Count@@ Helper.@@ b@@ it@@ W@@ id@@ th@@ (vm@@ .get@@ Cpu@@ Per@@ S@@ ock@@ et@@ ())@@ )))) <@@ = (org.ovirt.engine.core.common.@@ utils.@@ Vm@@ Cpu@@ Count@@ Helper.@@ ma@@ x@@ B@@ it@@ W@@ id@@ th@@ ); } return true@@ ; }
private void w@@ rit@@ ev@@ Cpu@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Text@@ W@@ rit@@ er w@@ rit@@ er@@ , java.util.Map<java.lang.String, java.lang.Object> create@@ Info@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ ) { w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ v@@ cpu@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ current@@ ", java.lang.String.@@ value@@ Of@@ (vm@@ .get@@ NumOf@@ C@@ p@@ us@@ ())); w@@ rit@@ er.@@ w@@ rit@@ e@@ Ra@@ w@@ ((@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ support@@ ed@@ In@@ Config@@ (@@ ConfigValues.@@ H@@ ot@@ Plug@@ Cpu@@ Supported@@ , vm.get@@ CompatibilityVersion@@ (), vm.get@@ Cluster@@ Ar@@ ch@@ ()) ? org.ovirt.engine.core.common.utils.@@ Vm@@ Cpu@@ Count@@ Helper.@@ c@@ al@@ c@@ Max@@ V@@ Cpu@@ (vm@@ .get@@ StaticData@@ (), vm.get@@ Cluster@@ CompatibilityVersion@@ (), vm.get@@ Cluster@@ Ar@@ ch@@ ().get@@ F@@ am@@ il@@ y@@ (), java.lang.String.@@ value@@ Of@@ (vm@@ .get@@ NumOf@@ C@@ p@@ us@@ ()))); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
public void update@@ Su@@ g@@ g@@ est@@ ed@@ Label@@ s() { s@@ ug@@ g@@ est@@ ed@@ Label@@ s = new java.util.@@ T@@ ree@@ Set@@ <@@ >@@ (s@@ ug@@ g@@ est@@ ed@@ Label@@ s@@ C@@ ach@@ e); s@@ ug@@ g@@ est@@ ed@@ Label@@ s.@@ remove@@ All@@ (c@@ om@@ put@@ e@@ Sel@@ ec@@ et@@ ed@@ Label@@ s()); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <java.lang.String@@ > l@@ abel@@ Model : get@@ Item@@ s()) { l@@ abel@@ Model@@ .set@@ Items(@@ s@@ ug@@ g@@ est@@ ed@@ Label@@ s, l@@ abel@@ Model.get@@ SelectedItem@@ ()); } }
@java.lang.Override protected void on@@ Add@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <java.lang.String@@ > value@@ , org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ Nic@@ Label@@ Edit@@ or widget@@ ) { super@@ .@@ on@@ Add@@ (@@ value@@ , widget@@ ); valu@@ e.get@@ SelectedItem@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { com.google.gwt.@@ event.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Ev@@ ent.@@ fi@@ r@@ e(@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ Vfs@@ Nic@@ Label@@ Widget@@ .@@ this@@ , null@@ ); model.@@ update@@ Su@@ g@@ g@@ g@@ est@@ ed@@ Label@@ s(); } }); }
@java.lang.Override protected void on@@ Remov@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <java.lang.String@@ > value@@ , org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ Nic@@ Label@@ Edit@@ or widget@@ ) { super@@ .@@ on@@ Remov@@ e(@@ value@@ , widget@@ ); com.google.gwt.@@ event.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , null@@ ); model.@@ update@@ Su@@ g@@ est@@ ed@@ Label@@ s(); }
@java.lang.Override protected void init@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Vfs@@ Nic@@ Label@@ Model model@@ ) { super@@ .@@ init@@ (model@@ ); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <java.lang.String@@ > l@@ abel@@ Model : model.get@@ Item@@ s()) { l@@ abel@@ Model.get@@ SelectedItem@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { com.google.gwt.@@ event.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Ev@@ ent.@@ fi@@ r@@ e(@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ Vfs@@ Nic@@ Label@@ Widget@@ .@@ this@@ , null@@ ); model.@@ update@@ Su@@ g@@ g@@ est@@ ed@@ Label@@ s(); } }); }
@java.lang.Override public void edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Vfs@@ Nic@@ Label@@ Model model@@ ) { super@@ .@@ edit@@ (model@@ ); }
@java.lang.Override protected org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <java.lang.String@@ > create@@ G@@ host@@ Value(@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <java.lang.String@@ > valu@@ e = new org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ (); valu@@ e.set@@ Item@@ s@@ (@@ f@@ l@@ us@@ h@@ ().get@@ Su@@ g@@ g@@ est@@ ed@@ Label@@ s); valu@@ e.set@@ SelectedItem@@ ("@@ "); return value@@ ; }
@org.junit.@@ B@@ e@@ for@@ e public void init@@ () { java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.String@@ >> initial@@ Hash@@ es = new java.util.ArrayList<@@ >(); initial@@ Hash@@ es.@@ add@@ (@@ new org.ovirt.engine.core.common.utils.Pair@@ (@@ org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vm@@ Devic@@ es@@ M@@ onitor@@ ing@@ Test.@@ VM_@@ ID@@ , org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vm@@ Devic@@ es@@ M@@ onitor@@ ing@@ Test.@@ IN@@ I@@ TI@@ AL@@ _@@ H@@ A@@ S@@ H@@ )); do@@ Return(@@ initial@@ Hash@@ es@@ ).when@@ (vm@@ Dynamic@@ Dao@@ ).get@@ All@@ Devic@@ es@@ Hash@@ es@@ (); }
protected void update@@ AuditLog@@ Event@@ () { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(); log@@ abl@@ e.set@@ Succeeded@@ (@@ true@@ ); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(); log@@ abl@@ e.set@@ Succeeded@@ (@@ true@@ ); }
protected boolean remove@@ Vm@@ L@@ e@@ as@@ e(@@ org.ovirt.engine.core.compat.Guid le@@ ase@@ StorageDomain@@ Id, org.ovirt.engine.core.compat.Guid vm@@ Id) { if (@@ le@@ ase@@ StorageDomain@@ Id == null@@ ) { return true@@ ; } return run@@ Internal@@ Action(VdcActionType.@@ Remove@@ Vm@@ L@@ e@@ ase@@ , new org.ovirt.engine.core.common.action.@@ Remove@@ Vm@@ L@@ e@@ ase@@ Parameters@@ (get@@ StoragePool@@ Id(), le@@ ase@@ StorageDomain@@ Id, vm@@ Id@@ )@@ ).get@@ Succeeded@@ (); }
protected boolean add@@ Vm@@ L@@ e@@ as@@ e(@@ org.ovirt.engine.core.compat.Guid le@@ ase@@ StorageDomain@@ Id, org.ovirt.engine.core.compat.Guid vm@@ Id) { if (@@ le@@ ase@@ StorageDomain@@ Id == null@@ ) { return true@@ ; } return run@@ Internal@@ Action(VdcActionType.@@ AddVm@@ L@@ e@@ ase@@ , new org.ovirt.engine.core.common.action.@@ Vm@@ L@@ e@@ ase@@ Parameters@@ (get@@ StoragePool@@ Id(), le@@ ase@@ StorageDomain@@ Id, vm@@ Id@@ )@@ ).get@@ Succeeded@@ (); }
protected void update@@ AuditLog@@ Type@@ Value(@@ ) { org.ovirt.engine.core.bll.@@ Remove@@ VmTemplate@@ From@@ Configuration@@ Command.@@ update@@ AuditLog@@ Type@@ And@@ Fail@@ ed@@ To@@ Remove@@ (@@ this@@ , AuditLogType.@@ Remove@@ Vm@@ From@@ L@@ e@@ ase@@ (@@ this@@ ); }
@java.lang.Override protected boolean validate(@@ ) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain do@@ ma@@ in = storageDomain@@ Dao@@ .get@@ For@@ StoragePool@@ (org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Parameters().get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Parameters().get@@ StoragePool@@ Id()); org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (@@ do@@ m@@ ain@@ ); return (@@ validate(@@ validator.@@ is@@ Domain@@ Exist@@ And@@ Acti@@ v@@ e())) && (@@ validate(@@ validator.@@ is@@ Data@@ Domain@@ ())); }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > get@@ Permission@@ Check@@ Su@@ bject@@ s() { java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > per@@ mission@@ Check@@ Su@@ bject@@ s = new java.util.ArrayList<@@ >(); per@@ mission@@ Check@@ Su@@ bject@@ s.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (@@ org.ovirt.engine.core.compat.Guid.@@ S@@ Y@@ N@@ E@@ S_@@ US@@ ED_@@ ED_@@ ()); per@@ mission@@ Check@@ Su@@ bject@@ s.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Parameters().get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Action@@ Typ@@ e().get@@ Action@@ Group@@ ())); return per@@ mission@@ Check@@ Su@@ bject@@ s@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.compat.Guid task@@ Id = p@@ ers@@ ist@@ AsyncTask@@ P@@ l@@ ace@@ H@@ ol@@ der@@ (org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Parameters().get@@ Parent@@ Command@@ ()); org.ovirt.engine.core.common.vdscommands.@@ Vm@@ L@@ e@@ ase@@ VDS@@ Parameters param@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Vm@@ L@@ e@@ ase@@ VDS@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Parameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Parameters().get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Parameters().get@@ Vm@@ Id()); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Valu@@ e = run@@ Vds@@ Command@@ (get@@ L@@ e@@ ase@@ Action@@ (), param@@ s); if (@@ return@@ Valu@@ e.get@@ Succeeded@@ ()) { org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Task@@ Id@@ List@@ ().add@@ (c@@ reate@@ Task@@ (@@ task@@ Id, return@@ Valu@@ e.get@@ Cre@@ ation@@ Info@@ (), org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Action@@ Typ@@ e(), Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.bll.storage.@@ le@@ as@@ e.@@ Vm@@ L@@ e@@ ase@@ CommandBase.get@@ Parameters().get@@ L@@ e@@ ase@@ StorageDomain@@ Id@@ ())); } set@@ Succeeded@@ (@@ return@@ Valu@@ e.get@@ Succeeded@@ ()); }
@org.junit.Test public void network@@ In@@ Use@@ By@@ Sing@@ le@@ Vm@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.VM vm = mock@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ ); when@@ (vm@@ .getName()@@ ).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ NAM@@ E@@ AB@@ L@@ E_@@ NAM@@ E); network@@ Not@@ Us@@ ed@@ By@@ Vms@@ Test@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ fail@@ sWith@@ O@@ ne@@ Network@@ In@@ Us@@ e(), java.util.Collections.@@ sing@@ leton@@ List@@ (vm@@ )); }
@org.junit.Test public void network@@ In@@ Use@@ By@@ Templat@@ es@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e templat@@ e = mock@@ (org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ .@@ class@@ ); when(@@ templat@@ e.get@@ Name()@@ ).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ NAM@@ E@@ AB@@ L@@ E_@@ NAM@@ E); network@@ Not@@ Us@@ ed@@ By@@ Templat@@ es@@ Test@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ fail@@ sWith@@ O@@ ne@@ Network@@ In@@ U@@ se@@ (), java.util.Collections.@@ sing@@ leton@@ List(@@ template@@ )); }
@org.junit.Test public void network@@ In@@ Use@@ By@@ Host@@ s() throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t = mock@@ (org.ovirt.engine.core.common.businessentities.@@ VDS@@ .@@ class@@ ); when(@@ hos@@ t.get@@ Name()@@ ).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ NAM@@ E@@ AB@@ L@@ E_@@ NAM@@ E); network@@ Not@@ Us@@ ed@@ By@@ Host@@ s@@ Test@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ fail@@ sWith@@ O@@ ne@@ Network@@ In@@ U@@ se@@ (), java.util.Collections.@@ sing@@ leton@@ List(@@ host@@ )); }
@java.lang.Override protected void execute@@ Command() { if ((org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Pool@@ Command.getVm@@ Pool@@ Id()) != null@@ ) { vm@@ Pool@@ Dao@@ .@@ remove@@ Vm@@ From@@ VmPool@@ (org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Pool@@ Command.getVm@@ Id()); if (org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Pool@@ Command.get@@ Parameters@@ ().is@@ Update@@ P@@ rest@@ art@@ ed@@ Vms@@ ()) { vm@@ Pool@@ Dao@@ .@@ b@@ ound@@ VmPool@@ P@@ rest@@ art@@ ed@@ Vm@@ s(@@ org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Pool@@ Command.getVm@@ Pool@@ Id()); } org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Pool@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
protected void remove@@ VmPool@@ () { try { lock@@ Manager.@@ ac@@ qui@@ re@@ Lock@@ W@@ a@@ it@@ (@@ new org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Lock@@ (get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ For@@ Pool@@ Det@@ ach@@ ())); if ((@@ vm@@ Pool@@ Dao@@ .get@@ VmPool@@ s@@ Map@@ By@@ VmPool@@ Id@@ (org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Pool@@ Command.getVm@@ Pool@@ Id@@ ()).@@ size()) == 0) { org.ovirt.engine.core.common.action.@@ VmPool@@ Parameters@@ Base remove@@ Pool@@ Par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ VmPool@@ Parameters@@ Bas@@ e(@@ org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Pool@@ Command.getVm@@ Pool@@ Id()); remove@@ Pool@@ Param@@ .set@@ Session@@ Id@@ (org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Pool@@ Command.getParameters().get@@ Session@@ Id()); if (org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Pool@@ Command.get@@ Parameters@@ ().is@@ Update@@ P@@ rest@@ art@@ ed@@ Vms@@ ()) { remove@@ Pool@@ Param@@ .set@@ Lock@@ Properties@@ (@@ org.ovirt.engine.core.common.action.@@ Lock@@ Properties.@@ c@@ re@@ ate(@@ Lock@@ Properties.@@ S@@ c@@ op@@ e.@@ N@@ one@@ )); } org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ run@@ Internal@@ Action(VdcActionType.@@ Remove@@ VmPool@@ , remove@@ Pool@@ Param@@ ); } final@@ l@@ y { lock@@ Manager.@@ r@@ el@@ e@@ ase@@ Lock@@ (@@ new org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Lock@@ (get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ For@@ Pool@@ Det@@ ach@@ ())); } org.ovirt.engine.core.bll.@@ Remove@@ Vm@@ From@@ Pool@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@org.junit.Test public void re@@ pl@@ ace@@ Pro@@ d@@ uct@@ Key@@ _@@ de@@ fin@@ ed@@ Key@@ Sh@@ oul@@ d@@ Be@@ Re@@ plac@@ ed@@ () { java.lang.String re@@ s = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ S@@ y@@ sp@@ re@@ p@@ Handler.@@ re@@ pl@@ ace@@ Pro@@ d@@ uct@@ Key@@ (s@@ y@@ sp@@ re@@ p@@ File@@ , "@@ s@@ om@@ e@@ Key@@ ", false@@ ); assert@@ That@@ (@@ res@@ , contain@@ s@@ String("@@ <@@ Key@@ >@@ <@@ !@@ [@@ C@@ D@@ AT@@ A@@ [@@ s@@ om@@ e@@ Key@@ ]@@ >@@ <@@ /@@ Key@@ >@@ ")); }
@org.junit.Test public void re@@ pl@@ ace@@ Pro@@ d@@ uct@@ Key@@ _@@ em@@ pty@@ Key@@ Sh@@ oul@@ d@@ Remove@@ Th@@ e@@ W@@ h@@ ole@@ S@@ ection@@ () { java.lang.String re@@ s = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ S@@ y@@ sp@@ re@@ p@@ Handler.@@ re@@ pl@@ ace@@ Pro@@ d@@ uct@@ Key@@ (s@@ y@@ sp@@ re@@ p@@ File@@ , "@@ ", false@@ ); assert@@ That@@ (@@ res@@ , not@@ (@@ contain@@ s@@ String("@@ <@@ Pro@@ d@@ uct@@ Key@@ >@@ "@@ ))); assert@@ That@@ (@@ res@@ , not@@ (@@ contain@@ s@@ String("@@ <@@ /@@ Pro@@ d@@ uct@@ Key@@ >@@ "@@ ))); }
@org.junit.Test public void re@@ pl@@ ace@@ Pro@@ d@@ uct@@ Key@@ _@@ em@@ pty@@ Key@@ Sh@@ oul@@ d@@ Not@@ Remove@@ Th@@ e@@ W@@ h@@ ole@@ S@@ ection@@ For@@ Custom@@ S@@ cri@@ p@@ t@@ () { java.lang.String re@@ s = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ S@@ y@@ sp@@ re@@ p@@ Handler.@@ re@@ pl@@ ace@@ Pro@@ d@@ uct@@ Key@@ (s@@ y@@ sp@@ re@@ p@@ File@@ , "@@ ", true@@ ); assert@@ That@@ (@@ res@@ , contain@@ s@@ String("@@ <@@ Pro@@ d@@ uct@@ Key@@ >@@ ")); assert@@ That@@ (@@ res@@ , contain@@ s@@ String("@@ <@@ /@@ Pro@@ d@@ uct@@ Key@@ >@@ ")); }
@org.junit.Test public void test@@ L@@ im@@ it@@ () { java.lang.Integ@@ er ma@@ x@@ V@@ C@@ p@@ u = org.ovirt.engine.core.common.utils.@@ Vm@@ Cpu@@ Count@@ Helper.@@ c@@ al@@ c@@ Max@@ V@@ Cpu@@ (@@ null@@ , new java.lang.Integer@@ (@@ 1@@ 6@@ ), new java.lang.Integer@@ (@@ 1@@ 00@@ ), 2@@ , 8@@ ); assert@@ E@@ qual@@ s@@ (@@ new java.lang.Integer@@ (@@ 1@@ 00@@ ), ma@@ x@@ V@@ Cpu@@ ); }
@@@ com.google.gwt.@@ ui@@ b@@ in@@ der.@@ client.@@ U@@ i@@ Handler@@ ("@@ contain@@ er@@ ") void on@@ Panel@@ D@@ r@@ ag@@ D@@ ro@@ p@@ (c@@ om@@ .google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ D@@ ro@@ p@@ Event event@@ ) { java.lang.String vm@@ G@@ id = event.@@ get@@ Data@@ ("@@ VM_@@ G@@ ID@@ "); if (!(@@ vm@@ G@@ id@@ .@@ isEmpty())) { org.ovirt.engine.core.compat.Guid vm@@ Gui@@ d = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (vm@@ G@@ id@@ ); boolean p@@ in@@ ne@@ d = java.lang.Boolean@@ .@@ value@@ Of@@ (@@ event.@@ get@@ Data@@ ()); int v@@ Numa@@ Node@@ In@@ de@@ x = java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (@@ event.@@ get@@ Data@@ ("@@ IN@@ D@@ EX@@ ")); contain@@ er.@@ remove@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.@@ d@@ r@@ ag@@ O@@ ver@@ ()); event.@@ pre@@ vent@@ Default@@ (); org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ p@@ opup@@ .@@ num@@ a.@@ Updat@@ ed@@ V@@ num@@ a@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , vm@@ Guid@@ , p@@ in@@ ne@@ d@@ , v@@ Numa@@ Node@@ In@@ dex@@ , p@@ Numa@@ Node@@ In@@ dex@@ ); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Entity@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ Storage@@ Pool object@@ ) { java.util.List<@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ > im@@ ages@@ Ht@@ m@@ l = new java.util.Array@@ List@@ (get@@ S@@ afe@@ Ht@@ ml@@ String@@ Map@@ (@@ object@@ ).@@ key@@ Set@@ ()); if (!(@@ im@@ ages@@ Ht@@ ml.@@ isEmpty())) { return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Multi@@ Image@@ Column@@ Hel@@ per@@ .get@@ Value(@@ im@@ ages@@ Ht@@ ml@@ ); } return null@@ ; }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Entity@@ T@@ oolti@@ p@@ (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Pool object@@ ) { java.util.Map@@ <@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ , java.lang.String> im@@ ages@@ To@@ T@@ ex@@ t = get@@ S@@ afe@@ Ht@@ ml@@ String@@ Map@@ (@@ object@@ ); if (!(@@ im@@ ages@@ To@@ T@@ ext.@@ isEmpty())) { return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Multi@@ Image@@ Column@@ Hel@@ per@@ .get@@ DataCenter@@ T@@ oolti@@ p@@ (@@ im@@ ages@@ To@@ Text@@ ); } return null@@ ; }
public boolean is@@ Cluster@@ C@@ ompatibility@@ L@@ ev@@ el@@ Up@@ g@@ r@@ ad@@ e@@ N@@ e@@ ed@@ () { return cluster@@ C@@ ompatibility@@ L@@ ev@@ el@@ Up@@ g@@ r@@ ad@@ e@@ N@@ e@@ ed@@ ; }
@@@ org.ovirt.engine.ui.webadmin.@@ Templ@@ ate(@@ "@@ <@@ sp@@ an st@@ y@@ le@@ =@@ '@@ p@@ os@@ ition@@ : r@@ el@@ ati@@ ve@@ ; mar@@ gin@@ -@@ le@@ f@@ t@@ : 3@@ p@@ x@@ ; mar@@ gin@@ -@@ ri@@ g@@ ht@@ : 3@@ p@@ x@@ ; wh@@ it@@ e@@ -@@ sp@@ ace@@ : n@@ ow@@ rap@@ ; h@@ e@@ ig@@ ht@@ : 1@@ 4@@ p@@ x@@ ; lin@@ e@@ -@@ h@@ e@@ ig@@ ht@@ : 1@@ 4@@ p@@ x@@ ;@@ '@@ >@@ {0@@ }@@ <@@ /@@ sp@@ an@@ >@@ <@@ /@@ sp@@ an@@ >@@ ") com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ ext@@ (java.lang.String t@@ ext@@ );
public void set@@ Cluster@@ CompatibilityVersion@@ (@@ boolean value) { this@@ .@@ cluster@@ C@@ ompatibility@@ Vers@@ ion = value@@ ; }
protected com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Image@@ S@@ afe@@ Ht@@ ml@@ (@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ I@@ con@@ Type ic@@ on@@ Type@@ ) { return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ ((@@ ("@@ <@@ i class@@ =@@ '@@ f@@ a " + (@@ ic@@ on@@ Typ@@ e.get@@ C@@ s@@ Name()@@ )) + "@@ ' st@@ y@@ le@@ =@@ '@@ f@@ on@@ t@@ -@@ s@@ ize@@ :@@ 1@@ 6@@ p@@ x@@ ;@@ c@@ ol@@ or@@ :@@ or@@ ang@@ e@@ '@@ >@@ <@@ /@@ i@@ >@@ ")); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Entity@@ T@@ oolti@@ p@@ (org.ovirt.engine.core.common.businessentities.@@ C@@ luster object@@ ) { java.util.Map@@ <@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ , java.lang.String> im@@ ages@@ To@@ T@@ ex@@ t = get@@ S@@ afe@@ Ht@@ ml@@ String@@ Map@@ (@@ object@@ ); if (!(@@ im@@ ages@@ To@@ T@@ ext.@@ isEmpty())) { return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Multi@@ Image@@ Column@@ Hel@@ per@@ .get@@ DataCenter@@ T@@ oolti@@ p@@ (@@ im@@ ages@@ To@@ Text@@ ); } return null@@ ; }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Entity@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ C@@ luster object@@ ) { java.util.List<@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ > im@@ ages@@ Ht@@ m@@ l = new java.util.Array@@ List@@ (get@@ S@@ afe@@ Ht@@ ml@@ String@@ Map@@ (@@ object@@ ).@@ key@@ Set@@ ()); if (!(@@ im@@ ages@@ Ht@@ ml.@@ isEmpty())) { return org.ovirt.engine.ui.webadmin.@@ widget.@@ tabl@@ e.c@@ olumn@@ .@@ Multi@@ Image@@ Column@@ Hel@@ per@@ .get@@ Value(@@ im@@ ages@@ Ht@@ ml@@ ); } return null@@ ; }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > search@@ StoragePool@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > dataCenter@@ s = new java.util.@@ Link@@ ed@@ Hash@@ Set@@ <@@ org.ovirt.engine.core.compat.@@ Version@@ >@@ get@@ Value(ConfigValues.@@ Supported@@ Cluster@@ L@@ ev@@ el@@ s@@ ).@@ st@@ re@@ am@@ ().@@ ma@@ x@@ (@@ ( v@@ 1, v@@ 2@@ ) -@@ > v@@ 1@@ .@@ comp@@ are@@ To@@ (@@ v@@ 2@@ )); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > dataCenter@@ s = gener@@ ic@@ Search@@ (@@ storagePool@@ Dao@@ , true@@ ); if (@@ ret@@ Val@@ .is@@ P@@ resent@@ ()) { org.ovirt.engine.core.compat.@@ Vers@@ ion ver@@ si@@ on = ret@@ Val@@ .get@@ (); dataCenter@@ s.@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( dataCenter@@ ) -@@ > data@@ Cent@@ er.@@ set@@ Cluster@@ C@@ ompatibility@@ L@@ ev@@ el@@ Up@@ g@@ r@@ ad@@ e@@ N@@ e@@ ed@@ ed@@ (((@@ version@@ .@@ comp@@ are@@ To@@ (@@ dataCenter@@ .get@@ CompatibilityVersion@@ ())) > 0@@ ))); } return data@@ Cent@@ ers@@ ; }
java.lang.String dc@@ Up@@ g@@ r@@ ad@@ e@@ N@@ e@@ ed@@ ed@@ ed@@ ();
protected org.ovirt.engine.core.common.businessentities.@@ VM@@ Statu@@ s create@@ Vm@@ () { init@@ Parameters@@ For@@ External@@ Networks@@ (); init@@ Parameters@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s(); org.ovirt.engine.core.common.businessentities.@@ VM@@ Statu@@ s vm@@ Statu@@ s = ((org.ovirt.engine.core.common.businessentities.@@ VM@@ Status@@ ) (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Vds@@ Broker@@ ().@@ run@@ Async@@ Command(@@ VDSCommand@@ Type.@@ Create@@ , build@@ Create@@ Vm@@ Parameters@@ (), this@@ ).get@@ ReturnValu@@ e())); mem@@ ory@@ From@@ Snapshot@@ Use@@ d = (vm@@ Status.@@ is@@ Run@@ ning@@ ()) || (vm@@ Statu@@ s == (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ Res@@ t@@ or@@ ing@@ St@@ ate@@ )); return vm@@ Status@@ ; }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.action.@@ RunVm@@ On@@ ce@@ Param@@ s@@ )) { return false@@ ; } org.ovirt.engine.core.common.action.@@ RunVm@@ On@@ ce@@ Param@@ s oth@@ er = ((@@ org.ovirt.engine.core.common.action.@@ RunVm@@ On@@ ce@@ Param@@ s) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((@@ (@@ super@@ .equals(@@ obj@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ s@@ y@@ s@@ Pre@@ p@@ Domain@@ Name, oth@@ er.@@ s@@ Pre@@ p@@ Domain@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ s@@ y@@ s@@ Pre@@ p@@ User@@ Name, oth@@ er.@@ s@@ Pre@@ p@@ User@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ s@@ y@@ s@@ Pre@@ p@@ Password@@ , oth@@ er.@@ s@@ Pre@@ p@@ Password@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Init@@ , oth@@ er.@@ vm@@ Init@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ d@@ est@@ ination@@ Vds@@ Id, oth@@ er.@@ d@@ est@@ ination@@ Vds@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ c@@ ustom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ , oth@@ er.@@ c@@ ustom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ c@@ ustom@@ Cpu@@ Name, oth@@ er.@@ c@@ ustom@@ Cpu@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ b@@ oot@@ M@@ en@@ u@@ Enabled@@ , oth@@ er.@@ b@@ oot@@ M@@ en@@ u@@ Enabled@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ sp@@ ice@@ File@@ Trans@@ fer@@ Enabled@@ , oth@@ er.@@ sp@@ ice@@ File@@ Trans@@ fer@@ Enabled@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ sp@@ ice@@ Copy@@ Pa@@ st@@ e@@ Enabled@@ , oth@@ er.@@ sp@@ ice@@ Copy@@ Pa@@ st@@ e@@ Enabled@@ )); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ super@@ .@@ hashCod@@ e(), s@@ y@@ s@@ Pre@@ p@@ Domain@@ Name, s@@ y@@ s@@ Pre@@ p@@ User@@ Name, s@@ y@@ s@@ Pre@@ p@@ Password@@ , vm@@ Init@@ , d@@ est@@ ination@@ Vds@@ Id, c@@ ustom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ , c@@ ustom@@ Cpu@@ Name, b@@ oot@@ M@@ en@@ u@@ Enabled@@ , sp@@ ice@@ File@@ Trans@@ fer@@ Enabled@@ , sp@@ ice@@ Copy@@ Pa@@ st@@ e@@ Enabled@@ ); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s@@ )) { return false@@ ; } org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s oth@@ er = ((@@ org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((@@ (@@ getVm@@ Id(), oth@@ er@@ .get@@ Vm@@ Id@@ ())) && ((@@ b@@ oot@@ Se@@ qu@@ ence@@ ) == (@@ oth@@ er.@@ b@@ oot@@ Se@@ qu@@ ence@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Path@@ , oth@@ er.@@ disk@@ Path@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ run@@ And@@ Pa@@ us@@ e@@ , oth@@ er.@@ run@@ And@@ Pa@@ us@@ e@@ ))) && ((@@ ac@@ p@@ i@@ En@@ able@@ ) == (@@ oth@@ er.@@ ac@@ p@@ i@@ En@@ able@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ w@@ in@@ 2@@ k@@ H@@ ack@@ En@@ able@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ c@@ ustom@@ Properties@@ , oth@@ er.@@ c@@ ustom@@ Properties@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ f@@ lo@@ p@@ y@@ Path@@ , oth@@ er.@@ f@@ lo@@ p@@ y@@ Path@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ client@@ Ip@@ , oth@@ er.@@ client@@ Ip@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ re@@ quest@@ ing@@ User@@ , oth@@ er.@@ re@@ quest@@ ing@@ User@@ ))) && ((@@ initial@@ iz@@ ation@@ Type@@ ) == (@@ oth@@ er.@@ initial@@ iz@@ ation@@ Type@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ run@@ As@@ Stat@@ el@@ ess@@ , oth@@ er.@@ run@@ As@@ Stat@@ el@@ ess@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ init@@ r@@ d@@ U@@ r@@ l@@ , oth@@ er.@@ init@@ r@@ l@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ k@@ er@@ n@@ el@@ U@@ r@@ l@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ k@@ er@@ n@@ el@@ Param@@ s, oth@@ er.@@ k@@ er@@ n@@ el@@ Param@@ s@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ p@@ ay@@ load@@ , oth@@ er.@@ p@@ ay@@ load@@ ))) && ((@@ b@@ alloon@@ Enabled@@ ))) && ((@@ cpu@@ Sh@@ ar@@ es) == (@@ oth@@ er.@@ cpu@@ Sh@@ ar@@ es) == (@@ oth@@ er.@@ cpu@@ Sh@@ ar@@ es@@ )); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (get@@ Vm@@ Id(), b@@ oot@@ Se@@ qu@@ ence@@ , disk@@ Path@@ , run@@ And@@ Pa@@ us@@ e@@ , ac@@ p@@ i@@ En@@ able@@ , w@@ in@@ 2@@ k@@ H@@ ack@@ En@@ able@@ , c@@ ustom@@ Properties@@ , f@@ lo@@ p@@ y@@ Path@@ , client@@ Ip@@ , re@@ quest@@ ing@@ User@@ , initial@@ iz@@ ation@@ Type, run@@ As@@ Stat@@ el@@ ess@@ , init@@ r@@ d@@ U@@ r@@ l@@ , k@@ er@@ n@@ el@@ U@@ r@@ l@@ , k@@ er@@ n@@ el@@ Param@@ s, p@@ ay@@ load@@ , b@@ alloon@@ Enabled@@ , cpu@@ Sh@@ ar@@ es@@ ); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.action.@@ RunVm@@ On@@ ce@@ Param@@ s@@ )) { return false@@ ; } org.ovirt.engine.core.common.action.@@ RunVm@@ On@@ ce@@ Param@@ s oth@@ er = ((@@ org.ovirt.engine.core.common.action.@@ RunVm@@ On@@ ce@@ Param@@ s) (@@ obj@@ )); return ((((@@ ((((@@ ((@@ (@@ super@@ .equals(@@ obj@@ )) && (@@ b@@ oot@@ Se@@ qu@@ ence@@ ) == (@@ oth@@ er.@@ b@@ oot@@ Se@@ qu@@ ence@@ ))) && ((@@ s@@ y@@ s@@ Pre@@ p@@ Domain@@ Name, oth@@ er.@@ s@@ Pre@@ p@@ Domain@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ s@@ y@@ s@@ Pre@@ p@@ User@@ Name, oth@@ er.@@ s@@ Pre@@ p@@ User@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ s@@ y@@ s@@ Pre@@ p@@ Password@@ , oth@@ er.@@ s@@ Pre@@ p@@ Password@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Init@@ , oth@@ er.@@ vm@@ Init@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ d@@ est@@ ination@@ Vds@@ Id, oth@@ er.@@ d@@ est@@ ination@@ Vds@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ c@@ ustom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ , oth@@ er.@@ c@@ ustom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ c@@ ustom@@ Cpu@@ Name, oth@@ er.@@ c@@ ustom@@ Cpu@@ Name@@ )); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ super@@ .@@ hashCod@@ e(), s@@ y@@ s@@ Pre@@ p@@ Domain@@ Name, s@@ y@@ s@@ Pre@@ p@@ User@@ Name, s@@ y@@ s@@ Pre@@ p@@ Password@@ , vm@@ Init@@ , d@@ est@@ ination@@ Vds@@ Id, c@@ ustom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ , c@@ ustom@@ Cpu@@ Name, b@@ oot@@ Se@@ qu@@ enc@@ e); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s@@ )) { return false@@ ; } org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s oth@@ er = ((@@ org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((@@ java.util.@@ Object@@ s.@@ equals(@@ getVm@@ Id(), oth@@ er@@ .get@@ Vm@@ Id@@ ())) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Path@@ , oth@@ er.@@ disk@@ Path@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ run@@ And@@ Pa@@ us@@ e@@ , oth@@ er.@@ run@@ And@@ Pa@@ us@@ e@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ c@@ ustom@@ Properties@@ , oth@@ er.@@ c@@ ustom@@ Properties@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ f@@ lo@@ p@@ y@@ Path@@ , oth@@ er.@@ f@@ lo@@ p@@ y@@ Path@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ client@@ Ip@@ , oth@@ er.@@ client@@ Ip@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ re@@ quest@@ ing@@ User@@ , oth@@ er.@@ re@@ quest@@ ing@@ User@@ ))) && ((@@ initial@@ iz@@ ation@@ Type@@ ) == (@@ oth@@ er.@@ initial@@ iz@@ ation@@ Type@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ run@@ As@@ Stat@@ el@@ ess@@ , oth@@ er.@@ run@@ As@@ Stat@@ el@@ ess@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ r@@ d@@ U@@ r@@ l@@ , oth@@ er.@@ init@@ r@@ d@@ U@@ r@@ l@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ k@@ er@@ n@@ el@@ U@@ r@@ l@@ , oth@@ er.@@ k@@ er@@ n@@ el@@ Param@@ s, oth@@ er.@@ k@@ er@@ n@@ el@@ Param@@ s@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ p@@ ay@@ load@@ ))) && ((@@ b@@ alloon@@ Enabled@@ ) == (@@ oth@@ er.@@ b@@ alloon@@ Enabled@@ ))) && ((@@ cpu@@ Sh@@ ar@@ es@@ )); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (get@@ Vm@@ Id(), disk@@ Path@@ , run@@ And@@ Pa@@ us@@ e@@ , c@@ ustom@@ Properties@@ , f@@ lo@@ p@@ y@@ Path@@ , client@@ Ip@@ , re@@ quest@@ ing@@ User@@ , initial@@ iz@@ ation@@ Type, run@@ As@@ Stat@@ el@@ ess@@ , init@@ r@@ d@@ U@@ r@@ l@@ , k@@ er@@ n@@ el@@ U@@ r@@ l@@ , k@@ er@@ n@@ el@@ Param@@ s, p@@ ay@@ load@@ , b@@ alloon@@ Enabled@@ , cpu@@ Sh@@ ar@@ es@@ ); }
private java.lang.String message@@ Format@@ ter@@ (java.lang.String m@@ s@@ g@@ , java.lang.String vm@@ , java.lang.String m@@ od@@ ul@@ e@@ , java.lang.String call@@ Type@@ ) { org.@@ c@@ ode@@ ha@@ u@@ s.@@ j@@ ack@@ son@@ .@@ n@@ od@@ e.@@ Object@@ Nod@@ e vm@@ Detail@@ Nod@@ e = new org.@@ c@@ ode@@ ha@@ u@@ s.@@ j@@ ack@@ son@@ .@@ map@@ .@@ Object@@ Map@@ per@@ ().@@ create@@ Object@@ Nod@@ e(); vm@@ Detail@@ Nod@@ e.@@ put@@ ("@@ status@@ ", m@@ s@@ g@@ ); vm@@ Detail@@ Nod@@ e.@@ put@@ ("@@ hash@@ ", java.lang.Integ@@ er.@@ toString@@ (vm@@ id@@ .@@ hashCod@@ e())); org.@@ c@@ ode@@ ha@@ u@@ s.@@ j@@ ack@@ son@@ .@@ n@@ od@@ e.@@ Object@@ Nod@@ e param@@ s@@ Nod@@ e = new org.@@ c@@ ode@@ ha@@ u@@ s.@@ j@@ ack@@ son@@ .@@ map@@ .@@ Object@@ Map@@ per@@ ().@@ create@@ Object@@ Nod@@ e(); param@@ s@@ Nod@@ e.@@ put@@ (vm@@ id@@ .toString@@ (), vm@@ Detail@@ Node@@ ); org.@@ c@@ ode@@ ha@@ u@@ s.@@ j@@ ack@@ son@@ .@@ n@@ od@@ e.@@ Object@@ Nod@@ e n@@ od@@ e = new org.@@ c@@ ode@@ ha@@ u@@ s.@@ j@@ ack@@ son@@ .@@ map@@ .@@ Object@@ Map@@ per@@ ().@@ create@@ Object@@ Nod@@ e(); n@@ od@@ e.@@ put@@ ("@@ param@@ s", param@@ s@@ Node@@ ); n@@ od@@ e.@@ put@@ ("@@ jsonrpc@@ ", "@@ 2@@ .@@ 0@@ "); n@@ od@@ e.@@ put@@ ("@@ m@@ et@@ hod@@ ", ((@@ ((((@@ "@@ |@@ " + m@@ od@@ ul@@ e) + "@@ |@@ ") + call@@ Type@@ ) + "@@ |@@ ")); }
private void vm@@ Update@@ Status@@ (@@ final org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ VM vm@@ , final org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ VM@@ Statu@@ s status@@ , final long d@@ el@@ ay@@ , final java.lang.String m@@ s@@ g@@ , final boolean remove@@ Client@@ ) throw@@ s java.lang.@@ Inter@@ r@@ up@@ t@@ ed@@ Exception { java.util.@@ con@@ c@@ urr@@ ent.@@ Execut@@ or@@ Servic@@ e execut@@ or = java.util.@@ con@@ c@@ urr@@ ent.@@ Execut@@ or@@ s@@ .@@ new@@ Fi@@ x@@ ed@@ Th@@ read@@ Pool@@ (@@ 5@@ ); java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ <@@ java.lang.@@ V@@ o@@ id@@ > f@@ ut@@ ur@@ e = ((@@ java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ <@@ java.lang.@@ V@@ o@@ id@@ >) (@@ execut@@ or.@@ sub@@ m@@ it@@ ((@@ -@@ > { try { java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ I@@ L@@ IS@@ EC@@ ON@@ D@@ S@@ .@@ s@@ le@@ ep@@ (@@ d@@ el@@ ay@@ ); vm@@ .set@@ Status(@@ status@@ ); s@@ end@@ No@@ t@@ if@@ ication@@ (@@ m@@ s@@ g@@ , vm.get@@ Id(), remove@@ Cli@@ ent.@@ Time@@ Un@@ it.@@ M@@ I@@ L@@ IS@@ EC@@ ON@@ D@@ S@@ .@@ s@@ le@@ ep@@ (@@ d@@ el@@ ay@@ ); vm@@ .set@@ Status(@@ status@@ ); s@@ end@@ No@@ t@@ if@@ ication@@ (@@ m@@ s@@ g@@ , vm.get@@ Id(), remove@@ Cli@@ ent.@@ is@@ vi@@ r@@ t@@ ", "@@ Vm@@ Status@@ ); org.ovirt.vds@@ m@@ fa@@ k@@ e.@@ rpc@@ .@@ json@@ .@@ J@@ son@@ R@@ pc@@ No@@ t@@ if@@ ication@@ .@@ log.@@ info@@ ("@@ Update@@ d {@@ } se@@ t to {@@ } vm.get@@ Id(), m@@ s@@ g@@ ); if (is@@ Update@@ Re@@ qui@@ r@@ ed(@@ status@@ )) { org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ Vds@@ m@@ Manager@@ .getInstance().@@ update@@ Host@@ (vm@@ .get@@ Host@@ ()); } } catch (@@ java.lang.Exception e) { e.@@ p@@ r@@ int@@ St@@ ack@@ Tr@@ ac@@ e(); } }
private boolean is@@ Update@@ Re@@ qui@@ r@@ ed(@@ org.ovirt.vds@@ m@@ fa@@ ke@@ .@@ do@@ m@@ ain@@ .@@ VM@@ Statu@@ s status@@ ) { if (@@ stat@@ u@@ s == (@@ VM@@ .@@ VM@@ Status.@@ Up@@ )) { return true@@ ; } return false@@ ; }
private void s@@ end@@ No@@ t@@ if@@ ication@@ (java.lang.String message@@ , java.lang.String vm@@ Id, boolean remove@@ Cli@@ ent@@ , java.lang.String m@@ od@@ ul@@ e@@ , java.lang.String call@@ Type@@ ) throw@@ s org.ovirt.vdsm.jsonrpc.client.@@ Client@@ Connection@@ Exception { if (@@ mess@@ age == null@@ ) { org.ovirt.vds@@ m@@ fa@@ k@@ e.@@ rpc@@ .@@ json@@ .@@ J@@ son@@ R@@ pc@@ No@@ t@@ if@@ ication@@ .@@ log.@@ w@@ ar@@ n@@ ("@@ R@@ pc@@ No@@ t@@ if@@ ication@@ "); } s@@ end@@ (@@ message@@ Format@@ ter@@ , vm@@ Id, m@@ od@@ ul@@ e@@ , call@@ Type@@ ), vm@@ Id, remove@@ Client@@ ); }
protected org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters build@@ Create@@ Vm@@ Parameters@@ () { org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Vds@@ Id(), org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ()); parameters.set@@ Run@@ In@@ Un@@ k@@ n@@ ow@@ n@@ Status@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Parameters@@ ().is@@ Run@@ In@@ Un@@ k@@ n@@ ow@@ n@@ Status@@ ()); parameters.set@@ In@@ itial@@ iz@@ ation@@ Type(@@ In@@ itial@@ iz@@ ation@@ Type.@@ Non@@ e); if (((@@ initial@@ iz@@ ation@@ Type@@ ) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ iz@@ ation@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ )) && (@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ W@@ in@@ do@@ w@@ s(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Vm@@ Os@@ Id@@ ()))) && ((@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ F@@ lo@@ p@@ y@@ Path@@ ()) == null@@ ) || ("@@ "@@ .equals(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ F@@ lo@@ p@@ y@@ Path@@ ())@@ ))) { parameters.set@@ In@@ itial@@ iz@@ ation@@ Type(@@ In@@ itial@@ iz@@ ation@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ ); } if (((@@ initial@@ iz@@ ation@@ Type@@ ) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ iz@@ ation@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ )) && (!(@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ W@@ in@@ do@@ w@@ s(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Vm@@ Os@@ Id@@ ())@@ ))) { parameters.set@@ In@@ itial@@ iz@@ ation@@ Type(@@ In@@ itial@@ iz@@ ation@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ ); } return parameters@@ ; }
protected org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters build@@ Create@@ Vm@@ Parameters@@ () { org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Vds@@ Id(), org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ()); parameters.set@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ To@@ V@@ f@@ Map@@ (@@ init@@ Parameters@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s()); parameters.set@@ Run@@ In@@ Un@@ k@@ n@@ ow@@ n@@ Status@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Parameters@@ ().is@@ Run@@ In@@ Un@@ k@@ n@@ ow@@ n@@ Status@@ ()); parameters.set@@ Vm@@ P@@ ay@@ load@@ (vm@@ P@@ ay@@ load@@ ); parameters.set@@ H@@ i@@ ber@@ n@@ ation@@ V@@ ol@@ Handl@@ e(@@ get@@ Memory@@ From@@ Active@@ Snapshot@@ ()); if ((((@@ initial@@ iz@@ ation@@ Type@@ ) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ iz@@ ation@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ )) && (@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ W@@ in@@ do@@ w@@ s(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Vm@@ Os@@ Id@@ ()))) && ((@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ F@@ lo@@ p@@ y@@ Path@@ ()) == null@@ ) || ("@@ "@@ .equals(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ F@@ lo@@ p@@ y@@ Path@@ ())@@ ))) { parameters.set@@ In@@ itial@@ iz@@ ation@@ Type(@@ In@@ itial@@ iz@@ ation@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ ); } if (((@@ initial@@ iz@@ ation@@ Type@@ ) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ iz@@ ation@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ )) && (!(@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ W@@ in@@ do@@ w@@ s(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Vm@@ Os@@ Id@@ ())@@ ))) { parameters.set@@ In@@ itial@@ iz@@ ation@@ Type(@@ In@@ itial@@ iz@@ ation@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ ); } return parameters@@ ; }
private void re@@ fresh@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > all@@ V@@ d@@ s = vds@@ Dao@@ .get@@ All@@ (org.ovirt.engine.core.bll.@@ aaa.@@ Get@@ Default@@ Allow@@ ed@@ O@@ ri@@ gin@@ s@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.@@ aaa.@@ Get@@ Default@@ Allow@@ ed@@ O@@ ri@@ gin@@ s@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ()); java.lang.String@@ Buil@@ der s@@ b = new java.lang.String@@ Builder@@ (); for (org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s : all@@ Vds@@ ) { if ((@@ sb@@ .@@ l@@ ength@@ ()) > 0) { sb@@ .@@ append@@ (@@ '@@ ,@@ '@@ ); } sb@@ .@@ append@@ (@@ H@@ T@@ P@@ S@@ ); sb@@ .@@ append@@ (@@ vds.get@@ Host@@ Name()); } c@@ ach@@ ed@@ Result = sb@@ .toString@@ (); org.ovirt.engine.core.bll.@@ aaa.@@ Get@@ Default@@ Allow@@ ed@@ O@@ ri@@ gin@@ s@@ Query@@ .@@ log.@@ d@@ ebug@@ ("@@ De@@ fa@@ ult lis@@ t of or@@ i@@ gin@@ s re@@ fresh@@ ed to@@ : {}@@ ", c@@ ach@@ ed@@ Result@@ ); }
private java.lang.String m@@ er@@ g@@ e@@ O@@ ri@@ gin@@ s(@@ java.lang.String f@@ rom@@ Config@@ , java.lang.String f@@ rom@@ Default@@ ) { if ("@@ *@@ "@@ .equals(@@ f@@ rom@@ Config@@ )) { return f@@ rom@@ Config@@ ; } if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ f@@ rom@@ Config@@ )) { return f@@ rom@@ Default@@ ; } return f@@ rom@@ Confi@@ g + "@@ ,@@ ") + f@@ rom@@ Default@@ ; }
private java.lang.String get@@ Default@@ Allow@@ ed@@ O@@ ri@@ gin@@ s() throw@@ s javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue valu@@ e = back@@ end@@ .@@ run@@ P@@ ubl@@ ic@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Default@@ Allow@@ ed@@ O@@ ri@@ gin@@ s, new org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Bas@@ e()); if (!(@@ valu@@ e.get@@ Succeeded@@ ())) { throw new javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception@@ ("@@ Can@@ '@@ t g@@ e@@ t lis@@ t of default or@@ i@@ gin@@ s@@ "); } return valu@@ e.get@@ ReturnValu@@ e(); }
private void re@@ fresh@@ If@@ N@@ e@@ ed@@ ed@@ () { long no@@ w = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); if (((@@ l@@ ast@@ Refresh@@ ) + (@@ DE@@ L@@ A@@ Y@@ )) < n@@ ow@@ ) { re@@ fresh@@ (); l@@ ast@@ Re@@ f@@ res@@ h = n@@ ow@@ ; } }
@java.lang.Override public org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue run@@ P@@ ubl@@ ic@@ Query@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type action@@ Type, org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base parameters@@ ) { parameters.set@@ Refresh@@ (@@ false@@ ); switch (@@ action@@ Type@@ ) { case Get@@ A@@ A@@ A@@ A@@ A@@ Profile@@ List : case Re@@ g@@ ist@@ er@@ V@@ d@@ s : case Check@@ D@@ B@@ Conn@@ ec@@ tion : case Get@@ Db@@ User@@ By@@ S@@ ess@@ ion : case Get@@ Engine@@ Session@@ Id@@ For@@ S@@ s@@ o@@ To@@ ke@@ n : case Validate@@ S@@ ess@@ ion : case Get@@ Default@@ Allow@@ ed@@ O@@ ri@@ gin@@ s : return run@@ Query@@ Impl@@ (@@ action@@ Type, parameters@@ , false@@ ); case Get@@ Configuration@@ Valu@@ e : org.ovirt.engine.core.common.queries.@@ Get@@ Configuration@@ Value@@ Parameters config@@ Parameters = ((@@ org.ovirt.engine.core.common.queries.@@ Get@@ Configuration@@ Value@@ Parameters@@ ) (@@ parameters@@ )); switch (@@ config@@ Parameters@@ .get@@ Config@@ Valu@@ e()) { case Vdc@@ Vers@@ ion : case Pro@@ d@@ uct@@ R@@ P@@ M@@ Vers@@ ion : case Application@@ Mod@@ e : case User@@ Session@@ Time@@ Out@@ Inter@@ va@@ l : case C@@ OR@@ SS@@ up@@ p@@ or@@ t : case C@@ OR@@ S@@ Allow@@ ed@@ O@@ ri@@ gin@@ s : return run@@ Query@@ Impl@@ (@@ action@@ Type, parameters@@ , false@@ ); default : break@@ ; } default : break@@ ; } return get@@ Error@@ Query@@ Return@@ Value(@@ EngineMessage.@@ US@@ ER_@@ C@@ ANNOT_@@ R@@ UN@@ _@@ Q@@ U@@ ER@@ Y_@@ NOT_@@ P@@ U@@ B@@ L@@ IC@@ ); }
@java.lang.Override protected void execute@@ Query@@ Command() { re@@ fresh@@ If@@ N@@ e@@ ed@@ ed@@ (); org.ovirt.engine.core.bll.@@ aaa.@@ Get@@ Default@@ Allow@@ ed@@ O@@ ri@@ gin@@ s@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ c@@ ach@@ ed@@ Result@@ ); }
protected java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.compat.@@ Key@@ Value@@ Pair@@ Comp@@ at@@ <java.lang.String, java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ >> result = get@@ Vnic@@ To@@ V@@ f@@ Map@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Vds@@ Id()); vf@@ Schedul@@ er.@@ cl@@ e@@ an@@ Vm@@ Data@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ Id()); return result@@ ; }
protected org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters build@@ Create@@ Vm@@ Parameters@@ () { org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Create@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Vds@@ Id(), org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ()); parameters@@ .set@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ To@@ V@@ f@@ Map@@ (@@ init@@ Parameters@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s()); parameters@@ .set@@ Run@@ In@@ Un@@ k@@ n@@ ow@@ n@@ Status@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Parameters@@ ().is@@ Run@@ In@@ Un@@ k@@ n@@ ow@@ n@@ Status@@ ()); parameters.set@@ Vm@@ P@@ ay@@ load@@ (vm@@ P@@ ay@@ load@@ ); if ((((@@ initial@@ iz@@ ation@@ Type@@ ) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ iz@@ ation@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ )) && (@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ W@@ in@@ do@@ w@@ s(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Vm@@ Os@@ Id@@ ()))) && ((@@ (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ F@@ lo@@ p@@ y@@ Path@@ ()) == null@@ ) || ("@@ "@@ .equals(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ F@@ lo@@ p@@ y@@ Path@@ ())@@ ))) { parameters.set@@ In@@ itial@@ iz@@ ation@@ Type(@@ In@@ itial@@ iz@@ ation@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ ); } if (((@@ initial@@ iz@@ ation@@ Type@@ ) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ iz@@ ation@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ )) && (!(@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ W@@ in@@ do@@ w@@ s(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Vm@@ Os@@ Id@@ ())@@ ))) { parameters.set@@ In@@ itial@@ iz@@ ation@@ Type(@@ In@@ itial@@ iz@@ ation@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ ); } return parameters@@ ; }
public int get@@ Cont@@ ro@@ ll@@ er@@ For@@ S@@ csi@@ Disk@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e disk@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ ) { java.util.Map<java.lang.String, java.lang.String> add@@ res@@ s = org.ovirt.engine.core.vdsbroker.@@ x@@ ml@@ rpc@@ .@@ XmlR@@ pc@@ StringUtils.@@ st@@ ring@@ 2@@ Map@@ (disk@@ .get@@ Address@@ ()); java.lang.String cont@@ ro@@ ll@@ er@@ St@@ r = add@@ ress@@ .get(@@ Vds@@ Properties.@@ Cont@@ ro@@ ll@@ er@@ ); int default@@ In@@ de@@ x = get@@ Default@@ Vir@@ ti@@ o@@ S@@ csi@@ In@@ dex@@ (vm@@ ); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ cont@@ ro@@ ll@@ er@@ St@@ r@@ )) { return java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (@@ cont@@ ro@@ ll@@ er@@ St@@ r@@ ); } if (((@@ vm.get@@ NumOf@@ I@@ o@@ Th@@ rea@@ ds@@ ()) > 0) && (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ vi@@ r@@ ti@@ o@@ S@@ csi@@ I@@ o@@ Th@@ read@@ (vm@@ .get@@ CompatibilityVersion@@ ()))) { int num@@ Of@@ Disk@@ s = ((@@ vm.get@@ Disk@@ Map@@ ()) != null@@ ) ? vm.get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ().@@ siz@@ e() : 0@@ ; return (@@ num@@ Of@@ Disk@@ s % (vm@@ .get@@ NumOf@@ I@@ o@@ Th@@ rea@@ ds@@ ())) + default@@ In@@ dex@@ ; } return default@@ In@@ dex@@ ; }
private java.util.Map@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ , java.lang.Integer@@ > vm@@ Device@@ Unit@@ Map@@ For@@ Cont@@ ro@@ ll@@ er@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e vm@@ Device@@ , java.util.Map@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ , java.lang.Integer@@ >> vm@@ Device@@ Unit@@ Map@@ ) { int cont@@ ro@@ ll@@ er@@ Id = vm@@ Info@@ Buil@@ d@@ Util@@ s.get@@ Cont@@ ro@@ ll@@ er@@ For@@ S@@ csi@@ Disk@@ (vm@@ Device@@ , org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Abstract@@ Disk@@ VmCommand.getVm@@ ()); if (!(@@ vm@@ Device@@ Unit@@ Map@@ .@@ contain@@ s@@ Key@@ (@@ cont@@ ro@@ ll@@ er@@ Id@@ ))) { return new java.util.HashMap@@ <@@ >(); } return vm@@ Device@@ Unit@@ Map@@ .get(@@ cont@@ ro@@ ll@@ er@@ Id); }
public org.ovirt.engine.core.bll.ValidationResult default@@ R@@ out@@ e@@ Network@@ Can@@ not@@ Be@@ External@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network network@@ ) { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DE@@ F@@ A@@ U@@ L@@ T_@@ RO@@ U@@ T@@ E_@@ NETWORK_@@ C@@ ANNOT_@@ B@@ E_@@ EX@@ TER@@ N@@ AL@@ , java.lang.String@@ .@@ for@@ mat@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Validator@@ Bas@@ e.@@ NETWORK_@@ NAM@@ E_@@ RE@@ PL@@ AC@@ EM@@ EN@@ T@@ , network@@ .getName()@@ )).@@ when@@ (((@@ network@@ C@@ luster.@@ is@@ Management@@ ()) && (@@ network.@@ is@@ External@@ ()))); }
private org.ovirt.engine.core.bll.ValidationResult check@@ Vm@@ Numa@@ Cpu@@ As@@ s@@ ign@@ ment@@ (@@ int cpu@@ C@@ or@@ es@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > vm@@ Numa@@ Nod@@ es) { java.util.ArrayList<@@ java.lang.Integer@@ > cpu@@ Id@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e n@@ od@@ e : vm@@ Numa@@ Nod@@ es) { cpu@@ Id@@ s.@@ add@@ All@@ (@@ n@@ od@@ e.get@@ Cpu@@ Id@@ s()); } if (c@@ pu@@ Id@@ s.@@ isEmpty@@ ()) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } int min@@ Id = java.util.Collections.@@ min@@ (c@@ pu@@ Id@@ s); int ma@@ x@@ Id = java.util.Collections.@@ ma@@ x@@ (c@@ pu@@ Id@@ s); if ((@@ min@@ Id < 0) || (@@ ma@@ x@@ Id >@@ = cpu@@ C@@ or@@ es@@ )) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ VM_@@ N@@ U@@ M@@ A@@ _@@ N@@ OD@@ E_@@ IN@@ VALID@@ _C@@ P@@ U@@ _@@ ID@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ cpu@@ In@@ de@@ x %@@ d@@ ", (@@ min@@ Id < 0 ? min@@ Id : ma@@ x@@ Id@@ )@@ ), java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ cpu@@ In@@ dex@@ Ma@@ x %@@ d@@ ", (c@@ pu@@ C@@ or@@ es - 1@@ ))); } java.util.Collections.@@ s@@ ort@@ (c@@ pu@@ Id@@ s); for (@@ int i = 0@@ ; i < ((@@ cpu@@ Id@@ s.@@ size()) - 1@@ ); +@@ +@@ i@@ ) { if (c@@ pu@@ Id@@ s.get@@ (@@ i@@ ).@@ equals(@@ cpu@@ Id@@ s.get@@ ((@@ i + 1@@ )))) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ VM_@@ N@@ U@@ M@@ A@@ _@@ N@@ OD@@ E_@@ D@@ UP@@ L@@ IC@@ AT@@ E_@@ C@@ P@@ U@@ _@@ ID@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ cpu@@ In@@ de@@ x %@@ d@@ ", cpu@@ Id@@ s.get@@ (@@ i@@ ))); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@org.junit.Test public void sh@@ oul@@ d@@ Det@@ ect@@ D@@ up@@ l@@ ic@@ it@@ e@@ Cpu@@ As@@ s@@ ign@@ ment@@ () { vm@@ Numa@@ Nod@@ es@@ .get@@ (0@@ )@@ .set@@ Cpu@@ Id@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (0@@ )); vm@@ Numa@@ Nod@@ es@@ .get(@@ 1@@ )@@ .set@@ Cpu@@ Id@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (0@@ )); assert@@ Validation@@ Failur@@ e(@@ un@@ der@@ Test.@@ check@@ Vm@@ Numa@@ Nod@@ es@@ Integ@@ r@@ ity@@ (vm@@ , vm.get@@ v@@ Numa@@ Node@@ List@@ ()), EngineMessage.@@ VM_@@ N@@ U@@ M@@ A@@ _@@ N@@ OD@@ E_@@ D@@ UP@@ L@@ IC@@ AT@@ E_@@ C@@ P@@ U@@ _@@ ID@@ ); }
private void stor@@ e@@ Ip@@ (@@ java.lang.String@@ Buil@@ der out@@ put@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler.@@ Ip@@ Info@@ F@@ et@@ ch@@ er ip@@ Info@@ F@@ et@@ ch@@ er@@ ) { out@@ pu@@ t.@@ append@@ (@@ java.lang.String@@ .@@ for@@ mat@@ (@@ "@@ if@@ ac@@ e %@@ s %@@ s@@ \@@ n@@ ", ip@@ Info@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ Name(), ip@@ Info@@ F@@ et@@ ch@@ er@@ .get@@ Ip@@ St@@ ack@@ Version@@ (), ip@@ Info@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ Boot@@ Protocol@@ ())); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ ip@@ Info@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ Ip@@ ())) { out@@ pu@@ t.@@ append@@ (@@ java.lang.String@@ .@@ for@@ mat@@ (@@ " add@@ res@@ s %@@ s@@ \@@ n@@ ", ip@@ Info@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ Ip@@ ())); } if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ ip@@ Info@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ N@@ et@@ ch@@ N@@ et@@ ch@@ N@@ et@@ ch@@ N@@ et@@ ch@@ N@@ et@@ ch@@ N@@ et@@ ch@@ N@@ et@@ ch@@ N@@ et@@ ch@@ N@@ et@@ ch@@ N@@ et@@ m@@ ask@@ ())); } if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ ip@@ Info@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ G@@ ate@@ w@@ ay@@ ())) { out@@ pu@@ t.@@ append@@ (@@ java.lang.String@@ .@@ for@@ mat@@ (@@ " g@@ ate@@ w@@ a@@ y %@@ s@@ \@@ n@@ ", ip@@ Info@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ G@@ ate@@ w@@ ay@@ ())); } }
private void stor@@ e@@ Ip@@ v@@ 4@@ (@@ java.lang.String@@ Buil@@ der out@@ put@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network if@@ ac@@ e) { stor@@ e@@ Ip@@ (@@ out@@ put@@ , new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler.@@ Ip@@ v@@ 4@@ Info@@ F@@ et@@ ch@@ er@@ (@@ if@@ ace@@ )); }
private void stor@@ e@@ Network@@ () throw@@ s java.io.@@ Un@@ support@@ ed@@ En@@ c@@ od@@ ing@@ Exception { java.lang.String@@ Buil@@ der out@@ pu@@ t = new java.lang.String@@ Builder@@ (); if ((@@ vm@@ In@@ it.@@ get@@ Networks@@ ()) != null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Init@@ Network@@ > network@@ s = vm@@ In@@ it.@@ get@@ Networks@@ (); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Init@@ Network if@@ ac@@ e : network@@ s) { if (@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .@@ e@@ qual@@ s@@ (@@ if@@ ac@@ e.get@@ Start@@ On@@ Boot@@ ())) { out@@ pu@@ t.@@ append@@ (@@ " } stor@@ e@@ Ip@@ v@@ 4@@ (@@ out@@ put@@ , if@@ ac@@ e); if ((@@ vm@@ In@@ it.@@ get@@ D@@ n@@ s@@ Server@@ s()) != null@@ ) { out@@ pu@@ t.@@ append("@@ , d@@ n@@ s@@ -@@ nam@@ es@@ ").@@ append@@ (@@ " out@@ pu@@ t.@@ append("@@ \@@ n@@ "); } if ((@@ vm@@ In@@ it.@@ get@@ D@@ n@@ s@@ Search@@ ()) != null@@ ) { out@@ pu@@ t.@@ append("@@ \@@ n@@ s@@ -@@ search@@ ").@@ append@@ (@@ " out@@ pu@@ t.@@ append("@@ \@@ n@@ "); } stor@@ e@@ Ip@@ v@@ 6@@ (@@ out@@ put@@ , if@@ ac@@ e); } } int@@ er@@ fac@@ es = out@@ pu@@ t.@@ toString@@ (); if (!@@ (@@ int@@ er@@ fac@@ es.@@ isEmpty())) { m@@ et@@ a@@ Data@@ .@@ put@@ ("@@ network@@ -@@ int@@ er@@ fac@@ es@@ ", int@@ er@@ fac@@ es@@ ); stor@@ e@@ N@@ ext@@ Fil@@ e(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler.@@ C@@ lo@@ u@@ d@@ Init@@ File@@ Mod@@ e.@@ NETWOR@@ K@@ , "@@ /@@ et@@ c@@ /@@ int@@ er@@ fac@@ es@@ ", int@@ er@@ fac@@ es@@ .get@@ By@@ t@@ es@@ ("@@ US@@ -@@ A@@ S@@ C@@ I@@ ")); } }
private void stor@@ e@@ Ip@@ v@@ 6@@ (@@ java.lang.String@@ Buil@@ der out@@ put@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network if@@ ac@@ e) { stor@@ e@@ Ip@@ (@@ out@@ put@@ , new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler.@@ Ip@@ v@@ 6@@ Info@@ F@@ et@@ ch@@ er@@ (@@ if@@ ace@@ )); }
private int c@@ al@@ c@@ ul@@ ate@@ Value(@@ org.ovirt.engine.core.common.businessentities.network.Network@@ C@@ luster network@@ Cluster@@ ) { int re@@ s = 0@@ ; if (network@@ C@@ luster != null@@ ) { if (network@@ C@@ luster.@@ is@@ Default@@ R@@ out@@ e()) { re@@ s +@@ = 1@@ 6@@ ; } if (network@@ C@@ luster.@@ is@@ Management@@ ()) { re@@ s +@@ = 1@@ 0@@ ; } if (network@@ C@@ luster.@@ is@@ Display@@ ()) { re@@ s +@@ = 4@@ ; } if (network@@ C@@ luster.@@ is@@ Migr@@ ation@@ ()) { re@@ s +@@ = 2@@ ; } if (network@@ C@@ luster.@@ is@@ Gluster@@ ()) { re@@ s +@@ = 1@@ ; } } return res@@ ; }
private Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Statu@@ s handl@@ e@@ Un@@ d@@ et@@ er@@ min@@ ed@@ Job@@ Status@@ (org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > cmd@@ , boolean job@@ s@@ Re@@ port@@ ed@@ By@@ Host@@ ) { if (is@@ Entity@@ P@@ oll@@ ing@@ Supported@@ (c@@ md@@ )) { log.@@ info@@ ("@@ C@@ ommand {@@ } id@@ : '{}@@ '@@ : at@@ temp@@ t@@ ing to d@@ et@@ er@@ min@@ e the j@@ o@@ b stat@@ u@@ s b@@ y p@@ oll@@ ing the entity@@ .@@ ", cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id()); return p@@ oll@@ Entity@@ (c@@ md@@ ); } if (@@ job@@ s@@ Re@@ port@@ ed@@ By@@ Host@@ ) { log.error@@ ((@@ "@@ C@@ ommand {@@ } id@@ : '{}@@ '@@ : enti@@ ty p@@ oll@@ ing is@@ n@@ '@@ t support@@ ed and the j@@ o@@ b is@@ n@@ '@@ t re@@ port@@ ed b@@ y the host@@ ,@@ " + "@@ ass@@ um@@ ing i@@ t fail@@ ed s@@ o th@@ a@@ t the c@@ ommand ex@@ ec@@ uti@@ on w@@ il@@ l end@@ .@@ "@@ ), cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id()); return Host@@ Job@@ Status.@@ fail@@ ed@@ ; } log.error@@ ("@@ C@@ ommand {@@ } id@@ : '{}@@ '@@ : enti@@ ty p@@ oll@@ ing is@@ n@@ '@@ t support@@ ed@@ , w@@ il@@ l r@@ e@@ try to p@@ ol@@ l the j@@ o@@ b s@@ o@@ on@@ ", cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id()); return null@@ ; }
@java.lang.Override public org.ovirt.engine.core.compat.Guid get@@ Host@@ Job@@ Id@@ () { return get@@ Storage@@ Job@@ Id@@ (); }
protected abstract Host@@ Job@@ Info@@ .@@ Host@@ Job@@ Type get@@ Host@@ Job@@ Typ@@ e();
protected org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > get@@ Command(@@ org.ovirt.engine.core.compat.Guid cmd@@ Id) { return org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ ret@@ ri@@ e@@ ve@@ Command@@ (c@@ md@@ Id); }
private void update@@ Job@@ Info@@ Info@@ Info@@ (org.ovirt.engine.core.compat.Guid cmd@@ Id) { org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > cmd@@ ; try { return ((@@ org.ovirt.engine.core.bll.storage.@@ Entity@@ P@@ oll@@ ing@@ Command@@ ) (c@@ md@@ )).@@ p@@ oll@@ (); } catch (@@ java.lang.Exception e) { log.error@@ ("@@ C@@ ommand {@@ } id@@ : '{}@@ '@@ : fail@@ ed to p@@ ol@@ l the c@@ ommand entity@@ ", cmd@@ .get@@ Action@@ Typ@@ e(), cmd@@ .get@@ Command@@ Id()); } return null@@ ; }
public static java.util.Map<java.lang.String, java.lang.Object> create@@ Vm@@ Memory@@ Device@@ Map@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e vm@@ Device@@ ) { java.util.Map<java.lang.String, java.lang.Object> dat@@ a = new java.util.HashMap@@ <@@ >(); java.util.Map<java.lang.String, java.lang.Object> mem@@ Device@@ Data = new java.util.HashMap@@ <@@ >(); data@@ .@@ put@@ ("@@ vm@@ Id@@ ", vm@@ Devic@@ e.get@@ Vm@@ Id().@@ toString@@ ()); mem@@ Device@@ Data@@ .@@ put(@@ Vds@@ Properties.@@ Type, vm@@ Devic@@ e.get@@ Typ@@ e().get@@ Valu@@ e()); mem@@ Device@@ Data@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ , vm@@ Devic@@ e.get@@ Devic@@ e()); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ B@@ lan@@ k@@ (vm@@ Devic@@ e.get@@ Address@@ ())) { mem@@ Device@@ Data@@ .@@ put(@@ Vds@@ Properties.@@ Address@@ , org.ovirt.engine.core.utils.@@ String@@ Map@@ Utils.@@ st@@ ring@@ 2@@ Map@@ (vm@@ Devic@@ e.get@@ Address@@ ())); } mem@@ Device@@ Data@@ .@@ put(@@ Vds@@ Properties.@@ Sp@@ ec@@ Param@@ s, vm@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s()); mem@@ Device@@ Data@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ Id, vm@@ Devic@@ e.get@@ Id@@ ().get@@ Device@@ Id().@@ toString@@ ()); mem@@ Device@@ Data@@ .@@ put@@ ("@@ s@@ ize@@ ", vm@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s().get@@ ("@@ s@@ ize@@ ")); mem@@ Device@@ Data@@ .@@ put@@ ("@@ n@@ ode@@ ", vm@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s().get@@ ("@@ n@@ ode@@ ")); data@@ .@@ put@@ ("@@ mem@@ ory@@ ", mem@@ ory@@ Device@@ Data@@ ); return data@@ ; }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { try { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Vds@@ Command.get@@ Broker@@ ().@@ h@@ ot@@ Un@@ p@@ lug@@ Memory@@ (@@ org.ovirt.engine.core.vdsbroker.@@ arch@@ it@@ ect@@ ur@@ e.@@ Memory@@ Utils.@@ create@@ Vm@@ Memory@@ Device@@ Map@@ (@@ org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Vds@@ Command.getParameters().get@@ Memory@@ Device@@ To@@ Un@@ p@@ lug@@ ())); org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Vds@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Vds@@ Command@@ .set@@ Vds@@ Run@@ time@@ Error@@ And@@ Re@@ port@@ (@@ e); org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Vds@@ Command.get@@ VDS@@ ReturnValu@@ e().set@@ Exception@@ String@@ (@@ null@@ ); } }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { try { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.get@@ Broker@@ ().@@ h@@ ot@@ p@@ lug@@ Memory@@ (@@ org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.getParameters().get@@ Memory@@ Devic@@ e()); org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDSCommand@@ .set@@ Vds@@ Run@@ time@@ Error@@ And@@ Re@@ port@@ (@@ e); org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.get@@ VDS@@ ReturnValu@@ e().set@@ Exception@@ String@@ (@@ null@@ ); } }
@org.junit.@@ B@@ e@@ for@@ e public void init@@ () { s@@ ync@@ Job@@ .set@@ Log@@ Util@@ (@@ log@@ Util@@ ); org.ovirt.engine.core.bll.@@ gluster.Gluster@@ GeoRep@@ Sync@@ Job@@ Test.@@ in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (@@ org.ovirt.engine.core.utils.@@ lock@@ .@@ Lock@@ Manager@@ .@@ class@@ , lock@@ Manager@@ ); do@@ Return@@ (cluster@@ Dao@@ ).when@@ (s@@ ync@@ Job@@ ).get@@ Cluster@@ Dao@@ (); do@@ Return(@@ vds@@ Dao@@ ).when@@ (s@@ ync@@ Job@@ ).get@@ Vds@@ Dao@@ (); do@@ Return(@@ g@@ eoRep@@ Dao@@ ).when@@ (s@@ ync@@ Job@@ ).get@@ GeoRep@@ Dao@@ (); do@@ Return(@@ volume@@ Dao@@ ).when@@ (s@@ ync@@ Job@@ ).get@@ Volume@@ Dao@@ (); do@@ Return@@ (get@@ C@@ lust@@ ers@@ ()).@@ when@@ (cluster@@ Dao@@ ).get@@ All@@ (); do@@ Return@@ (get@@ Volum@@ e()@@ ).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Name(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ ), any@@ String@@ ()); do@@ Return@@ (get@@ Volum@@ e()@@ ).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return@@ (get@@ Server@@ ()).@@ when(@@ gluster@@ Util@@ ).get@@ R@@ an@@ do@@ m@@ Up@@ Server@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return(@@ gluster@@ Util@@ ).when@@ (s@@ ync@@ Job@@ ).get@@ Gluster@@ Util@@ (); do@@ Return@@ (get@@ Session@@ s(@@ 2@@ , true@@ )).@@ when(@@ g@@ eoRep@@ Dao@@ ).get@@ GeoRep@@ Session@@ s@@ In@@ Cluster@@ (org.ovirt.engine.core.bll.@@ gluster.Gluster@@ GeoRep@@ Sync@@ Job@@ Test.@@ C@@ LUSTER_@@ G@@ UID@@ ); }
@org.junit.@@ B@@ e@@ for@@ e public void init@@ () { s@@ ync@@ Job@@ .set@@ Log@@ Util@@ (@@ log@@ Util@@ ); org.ovirt.engine.core.bll.@@ gluster.Gluster@@ GeoRep@@ Sync@@ Job@@ Test.@@ in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (@@ org.ovirt.engine.core.utils.@@ lock@@ .@@ Lock@@ Manager@@ .@@ class@@ , lock@@ Manager@@ ); do@@ Return@@ (get@@ C@@ lust@@ ers@@ ()).@@ when@@ (cluster@@ Dao@@ ).get@@ All@@ (); do@@ Return@@ (get@@ Volum@@ e()@@ ).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Name(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ ), any@@ String@@ ()); do@@ Return@@ (get@@ Volum@@ e()@@ ).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return@@ (get@@ Server@@ ()).@@ when(@@ gluster@@ Util@@ ).get@@ R@@ an@@ do@@ m@@ Up@@ Server@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )); do@@ Return(@@ gluster@@ Util@@ ).when@@ (s@@ ync@@ Job@@ ).get@@ Gluster@@ Util@@ (); do@@ Return@@ (get@@ Session@@ s(@@ 2@@ , true@@ )).@@ when(@@ g@@ eoRep@@ Dao@@ ).get@@ GeoRep@@ Session@@ s@@ In@@ Cluster@@ (org.ovirt.engine.core.bll.@@ gluster.Gluster@@ GeoRep@@ Sync@@ Job@@ Test.@@ C@@ LUSTER_@@ G@@ UID@@ ); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > search@@ StoragePool@@ () { java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.compat.@@ Version@@ > data@@ Cent@@ ers@@ ; try { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > dataCenter@@ s = gener@@ ic@@ Search@@ (@@ storagePool@@ Dao@@ , true@@ ); o@@ ption@@ al@@ Version@@ .@@ if@@ P@@ resent@@ (@@ ( version@@ ) -@@ > data@@ Cent@@ ers@@ .@@ for@@ E@@ ach@@ (@@ dataCenter@@ , data@@ Cent@@ er.@@ set@@ StoragePool@@ C@@ ompatibility@@ L@@ ev@@ el@@ Up@@ g@@ r@@ ad@@ e@@ N@@ e@@ ed@@ (((@@ version@@ .@@ comp@@ are@@ To@@ (@@ dataCenter@@ .get@@ CompatibilityVersion@@ ())) > 0@@ )); data@@ Cent@@ er.@@ set@@ Mac@@ Pool@@ Id(@@ dc@@ Sing@@ le@@ Mac@@ Pool@@ F@@ in@@ der.@@ fin@@ d@@ (@@ dataCenter@@ .getId@@ ())); } return data@@ Cent@@ ers@@ ; }
private static void p@@ op@@ ul@@ ate@@ Model@@ With@@ Ip@@ v@@ 6@@ Detail@@ s(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network entity@@ , org.ovirt.engine.api.model.@@ Nic@@ Configur@@ ation model@@ ) { if ((@@ entity.get@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ ()) != null@@ ) { model.set@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ Mapper.@@ map@@ (@@ entity.get@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ ())); } model.set@@ Ip@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ In@@ itial@@ iz@@ ation@@ Mapper.@@ create@@ Ip@@ Model@@ (@@ new org.ovirt.engine.core.common.@@ network.@@ vm@@ .@@ Vm@@ Init@@ Network@@ Ip@@ v@@ 6@@ Info@@ F@@ et@@ ch@@ er@@ (@@ entity@@ ))); }
private static void p@@ op@@ ul@@ ate@@ Model@@ With@@ Ip@@ v@@ 4@@ Detail@@ s(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network entity@@ , org.ovirt.engine.api.model.@@ Nic@@ Configur@@ ation model@@ ) { if ((@@ entity.get@@ Boot@@ Protocol@@ ()) != null@@ ) { model.set@@ Boot@@ Protocol@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ Ip@@ v@@ 4@@ Boot@@ Protocol@@ Mapper.@@ map@@ (@@ entity.get@@ Boot@@ Protocol@@ ())); } model.set@@ Ip@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ In@@ itial@@ iz@@ ation@@ Mapper.@@ create@@ Ip@@ Model@@ (@@ new org.ovirt.engine.core.common.@@ network.@@ vm@@ .@@ Vm@@ Init@@ Network@@ Ip@@ v@@ 4@@ Info@@ F@@ et@@ ch@@ er@@ (@@ entity@@ ))); }
private static org.ovirt.engine.api.model.@@ I@@ p create@@ Ip@@ Model@@ (org.ovirt.engine.core.common.@@ network.@@ vm@@ .@@ Vm@@ Init@@ Network@@ Ip@@ Info@@ F@@ et@@ ch@@ er ip@@ Info@@ F@@ et@@ ch@@ er@@ ) { org.ovirt.engine.api.model.@@ I@@ p i@@ p = new org.ovirt.engine.api.model.@@ Ip@@ (); ip@@ .set@@ Address@@ (@@ ip@@ Info@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ Ip@@ ()); ip@@ .set@@ N@@ et@@ m@@ ask@@ (@@ ip@@ Info@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ N@@ et@@ ch@@ N@@ et@@ m@@ ask@@ ()); ip@@ .set@@ G@@ ate@@ w@@ ay@@ (@@ ip@@ Info@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ G@@ ate@@ w@@ ay@@ ()); return ip@@ ; }
private java.lang.String get@@ Comp@@ at@@ Version@@ () { int ver@@ si@@ on = java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ StoragePool@@ ().get@@ StoragePool@@ Format@@ Typ@@ e().get@@ Valu@@ e()); if (@@ ver@@ si@@ on >@@ = 4@@ ) { return org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.@@ VDS@@ M@@ _C@@ O@@ M@@ P@@ A@@ T_@@ V@@ ER@@ SI@@ ON_@@ 1@@ _@@ 1@@ ; } return org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.@@ VDS@@ M@@ _C@@ O@@ M@@ P@@ A@@ T_@@ DE@@ F@@ A@@ U@@ L@@ T_@@ V@@ ER@@ SI@@ ON@@ ; }
private java.util.Map<java.lang.String, java.lang.Object> create@@ Vm@@ Properties@@ () { java.util.Map<java.lang.String, java.lang.Object> ma@@ p = new java.util.HashMap@@ <@@ >(); map@@ .@@ put(@@ Vds@@ Properties.@@ vm@@ _@@ name@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Convert@@ Vm@@ VDS@@ Command.getParameters().get@@ Vm@@ Name()); map@@ .@@ put(@@ Vds@@ Properties.@@ Pool@@ Id, org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Convert@@ Vm@@ VDS@@ Command.getParameters().get@@ StoragePool@@ Id().@@ toString@@ ()); map@@ .@@ put(@@ Vds@@ Properties.@@ Domain@@ Id, org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Convert@@ Vm@@ VDS@@ Command.getParameters().get@@ StorageDomain@@ Id().@@ toString@@ ()); map@@ .@@ put(@@ Vds@@ Properties.@@ put(@@ Vds@@ Properties.@@ M@@ _@@ version@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Convert@@ Vm@@ VDS@@ Command.getParameters().get@@ Comp@@ at@@ Version@@ ()); map@@ .@@ put(@@ Vds@@ Properties.@@ vm@@ _@@ disk@@ s, get@@ Disks@@ Properties@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage disk@@ Image : org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Convert@@ Vm@@ VDS@@ Command.getParameters().get@@ Disks@@ ()) { map@@ .@@ put(@@ Vds@@ Properties.@@ Format@@ , disk@@ Image.get@@ Volume@@ Format@@ ().@@ toString@@ ()); map@@ .@@ put(@@ Vds@@ Properties.@@ DIS@@ K_@@ AL@@ LO@@ C@@ A@@ TI@@ ON@@ , disk@@ Image.get@@ Volume@@ Typ@@ e().@@ toString@@ ()); break@@ ; } if ((@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Convert@@ Vm@@ VDS@@ Command.getParameters().get@@ Vir@@ ti@@ o@@ Iso@@ Path@@ ()) != null@@ ) { map@@ .@@ put(@@ Vds@@ Properties.@@ V@@ I@@ R@@ TI@@ O@@ _@@ IS@@ O@@ _P@@ AT@@ H@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Convert@@ Vm@@ VDS@@ Command.getParameters().get@@ Vir@@ ti@@ o@@ Iso@@ Path@@ ()); } return map@@ ; }
private void init@@ Command@@ Bas@@ e() { init@@ User@@ (); org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Cont@@ ex@@ t ex@@ ecution@@ Cont@@ ex@@ t = cont@@ ex@@ t.get@@ Execution@@ Context@@ (); if ((@@ ex@@ ecution@@ Cont@@ ex@@ t.get@@ Job@@ ()) != null@@ ) { set@@ Job@@ Id(@@ ex@@ ecution@@ Cont@@ ex@@ t.get@@ Job@@ ().get@@ Id()); } else if ((@@ ex@@ ecution@@ Cont@@ ex@@ t.get@@ St@@ ep@@ ()) != null@@ ) { set@@ Job@@ Id(@@ ex@@ ecution@@ Cont@@ ex@@ t.get@@ St@@ ep@@ ().get@@ Job@@ Id()); } else if ((@@ parameters@@ .get@@ Parent@@ Parameters@@ ()) != null@@ ) { parameters.set@@ C@@ or@@ r@@ el@@ ation@@ Id(@@ parameters@@ .get@@ Parent@@ Parameters().get@@ C@@ or@@ r@@ el@@ ation@@ Id()); } set@@ C@@ or@@ r@@ el@@ ation@@ Id(@@ parameters@@ .get@@ C@@ or@@ r@@ el@@ ation@@ Id()); }
public long get@@ M@@ in@@ im@@ um@@ () { return private@@ M@@ in@@ im@@ um@@ ; }
public void set@@ M@@ in@@ im@@ um@@ (@@ long value) { private@@ M@@ in@@ im@@ u@@ m = value@@ ; }
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult validate(@@ java.lang.Object value) { org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult result = new org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult@@ (); if ((@@ valu@@ e != null@@ ) && (((@@ valu@@ e instanceof java.lang.String@@ ) && (!@@ (((@@ java.lang.String@@ ) (@@ value@@ )).@@ equals(@@ "@@ "@@ "@@ )))) || (@@ valu@@ e instanceof java.lang.@@ L@@ on@@ g@@ ))) { java.lang.@@ L@@ on@@ g long@@ Valu@@ e = (@@ valu@@ e instanceof java.lang.String@@ ) ? org.ovirt.engine.core.compat.@@ L@@ on@@ g@@ Comp@@ at@@ .@@ try@@ Par@@ se@@ (((@@ java.lang.String@@ ) (@@ value@@ ))) : ((@@ java.lang.@@ L@@ on@@ g@@ ) (@@ value@@ )); java.lang.String m@@ s@@ g = "@@ "@@ ; java.lang.String pre@@ fi@@ x@@ M@@ s@@ g = org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Constants@@ ()@@ .@@ this@@ Fi@@ eld@@ M@@ ust@@ Cont@@ ain@@ Num@@ ber@@ In@@ valid@@ Reason@@ (); if (@@ long@@ Valu@@ e == null@@ ) { res@@ ult.@@ set@@ Success@@ (@@ false@@ ); m@@ s@@ g = org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ()@@ .@@ long@@ Validation@@ Num@@ ber@@ B@@ et@@ w@@ e@@ en@@ In@@ valid@@ Reason@@ (@@ pre@@ fi@@ x@@ M@@ s@@ g@@ , get@@ M@@ in@@ im@@ um@@ (), get@@ Max@@ im@@ um@@ ()); result.get@@ Reason@@ s().add(@@ m@@ s@@ g@@ ); } else if (@@ long@@ Valu@@ e < (get@@ M@@ in@@ im@@ um@@ ())) || (@@ long@@ Valu@@ e > (get@@ Max@@ im@@ um@@ ()))) { if ((@@ (get@@ M@@ in@@ im@@ um@@ ()) != (@@ java.lang.@@ L@@ on@@ g.@@ M@@ IN@@ _@@ VAL@@ U@@ E@@ )) && ((get@@ Max@@ im@@ um@@ ()) != (@@ java.lang.@@ L@@ on@@ g.@@ M@@ A@@ X@@ _@@ VAL@@ U@@ E@@ ))) { m@@ s@@ g = org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ()@@ .@@ long@@ Validation@@ Num@@ ber@@ B@@ et@@ w@@ e@@ en@@ In@@ valid@@ Reason@@ (@@ pre@@ fi@@ x@@ M@@ s@@ g@@ , get@@ M@@ in@@ im@@ um@@ (), get@@ Max@@ im@@ um@@ ()); } else if ((get@@ M@@ in@@ im@@ um@@ ()) != (@@ java.lang.@@ L@@ on@@ g.@@ M@@ IN@@ _@@ VAL@@ U@@ E@@ )) { m@@ s@@ g = org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ()@@ .@@ long@@ Validation@@ Num@@ ber@@ G@@ re@@ at@@ er@@ In@@ valid@@ Reason@@ (@@ pre@@ fi@@ x@@ M@@ s@@ g@@ , get@@ M@@ in@@ im@@ um@@ ()); } else if ((get@@ Max@@ im@@ um@@ ()) != (@@ java.lang.@@ L@@ on@@ g.@@ M@@ A@@ X@@ _@@ VAL@@ U@@ E@@ )) { m@@ s@@ g = org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ()@@ .@@ long@@ Validation@@ Num@@ ber@@ L@@ ess@@ In@@ valid@@ Reason@@ (@@ pre@@ fi@@ x@@ M@@ s@@ g@@ , get@@ Max@@ im@@ um@@ ()); } res@@ ult.@@ set@@ Success@@ (@@ false@@ ); result.get@@ Reason@@ s().add(@@ m@@ s@@ g@@ ); } return result@@ ; }
@org.junit.Test public void try@@ Par@@ s@@ e() { org.junit.@@ As@@ sert@@ .@@ assert@@ Null@@ (@@ org.ovirt.engine.core.compat.@@ L@@ on@@ g@@ Comp@@ at@@ .@@ try@@ Par@@ se(@@ "@@ ")); org.junit.@@ As@@ sert@@ .@@ assert@@ Null@@ (@@ org.ovirt.engine.core.compat.@@ L@@ on@@ g@@ Comp@@ at@@ .@@ try@@ Par@@ se(@@ "@@ n@@ o go@@ od@@ ")); org.junit.@@ As@@ sert@@ .@@ assert@@ Null@@ (@@ org.ovirt.engine.core.compat.@@ L@@ on@@ g@@ Comp@@ at@@ .@@ try@@ Par@@ se(@@ "@@ $@@ 1@@ ")); org.junit.@@ As@@ sert@@ .@@ assert@@ E@@ quals(@@ java.lang.@@ L@@ on@@ g.@@ value@@ Of@@ (@@ 1@@ ), org.ovirt.engine.core.compat.@@ L@@ on@@ g@@ Comp@@ at@@ .@@ try@@ Par@@ se(@@ "@@ 1@@ ")); org.junit.@@ As@@ sert@@ .@@ assert@@ E@@ quals(@@ java.lang.@@ L@@ on@@ g.@@ value@@ Of@@ ((@@ -@@ 1@@ )@@ ), org.ovirt.engine.core.compat.@@ L@@ on@@ g@@ Comp@@ at@@ .@@ try@@ Par@@ se(@@ "@@ -@@ 1@@ ")); org.junit.@@ As@@ sert@@ .@@ assert@@ E@@ quals(@@ java.lang.@@ L@@ on@@ g.@@ value@@ Of@@ (0@@ ), org.ovirt.engine.core.compat.@@ L@@ on@@ g@@ Comp@@ at@@ .@@ try@@ Par@@ se(@@ "@@ 0@@ ")); }
public void set@@ Max@@ im@@ um@@ (@@ long value) { ma@@ x@@ im@@ u@@ m = value@@ ; }
public long get@@ Max@@ im@@ um@@ () { return ma@@ x@@ im@@ um@@ ; }
@java.lang.Override protected boolean validate(@@ ) { org.ovirt.engine.core.bll.validator.@@ Vnic@@ Profile@@ Validator valid@@ ator = org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Add@@ Vnic@@ Profile@@ Command.@@ create@@ Vnic@@ Profile@@ Validator@@ (); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ (@@ validate(@@ validator.@@ network@@ Exist@@ s@@ ()))) && (@@ validate(@@ validator.@@ network@@ Qos@@ Exist@@ s@@ Or@@ Null@@ ()))) && (@@ validate(@@ validator.@@ v@@ nic@@ Profile@@ For@@ VmNetwork@@ Only@@ ()))) && (@@ validate(@@ validator.@@ v@@ nic@@ Profile@@ Name@@ Not@@ Us@@ ed@@ ()))) && (@@ validate(@@ validator.@@ port@@ M@@ i@@ rr@@ or@@ ing@@ Not@@ Set@@ If@@ External@@ Network@@ ()))) && (@@ validator.@@ validate@@ Custom@@ Properties@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Add@@ Vnic@@ Profile@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ ()))) && (@@ validate(@@ validator.@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profile@@ Cont@@ ain@@ s@@ Supported@@ Properties@@ ()))) && (@@ validate(@@ validator.@@ valid@@ Use@@ Default@@ Network@@ Filter@@ F@@ l@@ ag@@ (@@ us@@ e@@ Default@@ Network@@ Filter@@ Id@@ )))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ Id@@ ()))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profil@@ e(@@ us@@ e@@ Default@@ Network@@ Filter@@ Id@@ ))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ Id@@ ()))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profil@@ e(@@ us@@ e@@ Default@@ Network@@ Filter@@ Id@@ ))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ Id@@ ()))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profil@@ e(@@ us@@ e@@ Default@@ Network@@ Filter@@ Id@@ ))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ Id@@ ()))); }
java.lang.String get@@ P@@ ay@@ load@@ ();
public org.ovirt.engine.core.bll.ValidationResult valid@@ Network@@ Filter@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profile@@ (@@ boolean us@@ e@@ Default@@ Network@@ Filter@@ Id) { if (!(@@ v@@ nic@@ Profil@@ e.@@ is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ())) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } org.ovirt.engine.core.common.errors.@@ EngineMess@@ age engin@@ e@@ Mess@@ age = org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ IN@@ VALID@@ _@@ V@@ N@@ IC@@ _P@@ RO@@ FI@@ L@@ E_@@ NETWORK_@@ FI@@ L@@ T@@ ER_@@ C@@ ANNOT_@@ B@@ E_@@ US@@ ED_@@ W@@ I@@ TH@@ _P@@ A@@ S@@ ST@@ H@@ RO@@ U@@ G@@ H@@ ; boolean al@@ low@@ ed@@ Stat@@ e = ((@@ v@@ nic@@ Profil@@ e.get@@ Network@@ Filter@@ Id()) == null@@ ) && (!@@ us@@ e@@ Default@@ Network@@ Filter@@ Id); return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (@@ engin@@ e@@ Message@@ ).@@ un@@ l@@ ess@@ (@@ al@@ low@@ ed@@ St@@ ate@@ ); }
@java.lang.Override protected boolean validate(@@ ) { org.ovirt.engine.core.bll.validator.@@ Vnic@@ Profile@@ Validator valid@@ ator = org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Update@@ Vnic@@ Profile@@ Command.@@ create@@ Vnic@@ Profile@@ Validator@@ (); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ (@@ validate(@@ validator.@@ v@@ nic@@ Profile@@ Is@@ Set@@ ())) && (@@ validate(@@ validator.@@ v@@ nic@@ Profile@@ Name@@ Not@@ Us@@ ed@@ ()))) && (@@ validate(@@ validator.@@ network@@ Not@@ Changed@@ ()))) && (@@ validate(@@ validator.@@ network@@ Qos@@ Exist@@ s@@ Or@@ Null@@ ()))) && (@@ validate(@@ validator.@@ port@@ M@@ i@@ rr@@ or@@ ing@@ Not@@ Changed@@ If@@ Us@@ ed@@ By@@ Vms@@ ()))) && (@@ validate(@@ validator.@@ port@@ M@@ i@@ rr@@ or@@ ing@@ Not@@ Set@@ If@@ External@@ Network@@ ()))) && (@@ validator.@@ validate@@ Custom@@ Properties@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Update@@ Vnic@@ Profile@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ ()))) && (@@ validate(@@ validator.@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ Not@@ Changed@@ If@@ Us@@ ed@@ By@@ Vms@@ ()))) && (@@ validate(@@ validator.@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profile@@ Cont@@ ain@@ s@@ Supported@@ Properties@@ ()))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ Id@@ ()))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profile@@ (@@ false@@ ))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profile@@ (@@ false@@ ))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ For@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profile@@ (@@ false@@ ))) && (@@ validate(@@ validator.@@ ex@@ ternal@@ Network@@ Not@@ Changed@@ If@@ External@@ Network@@ ()))) && (@@ validate(@@ validator.@@ ex@@ ternal@@ Network@@ Not@@ Changed@@ If@@ External@@ Network@@ ()))) && (@@ validate(@@ validator.@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ Not@@ Changed@@ If@@ Us@@ ed@@ By@@ Vms@@ ()))) && (@@ validate(@@ validator.@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profile@@ Cont@@ ain@@ s@@ Supported@@ Properties@@ ()))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ Id@@ ()))) && (@@
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > search@@ StoragePool@@ () { java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.compat.@@ Version@@ > ret@@ V@@ al = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.util.Hash@@ Set@@ <@@ org.ovirt.engine.core.compat.@@ Version@@ >@@ get@@ Value(ConfigValues.@@ Supported@@ Cluster@@ L@@ ev@@ el@@ s@@ ).@@ st@@ re@@ am@@ ().@@ ma@@ x@@ (@@ java.util.@@ Comp@@ ar@@ ator.@@ n@@ at@@ ur@@ al@@ Or@@ der@@ ()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > dataCenter@@ s = gener@@ ic@@ Search@@ (@@ storagePool@@ Dao@@ , true@@ ); if (@@ ret@@ Val@@ .is@@ P@@ resent@@ ()) { data@@ Cent@@ ers@@ .@@ for@@ E@@ ach@@ (@@ ( dataCenter@@ ) -@@ > data@@ Cent@@ er.@@ set@@ StoragePool@@ C@@ ompatibility@@ L@@ ev@@ el@@ Up@@ g@@ r@@ ad@@ e@@ N@@ e@@ ed@@ (((@@ ret@@ Val@@ .get@@ ().@@ comp@@ are@@ To@@ (@@ dataCenter@@ .get@@ CompatibilityVersion@@ ())) > 0@@ ))); } return data@@ Cent@@ ers@@ ; }
public org.ovirt.engine.core.bll.ValidationResult mem@@ ory@@ Op@@ tim@@ iz@@ ation@@ Configuration@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ C@@ LUSTER_@@ T@@ O@@ _@@ AL@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ O@@ P@@ TI@@ M@@ I@@ Z@@ A@@ TION_@@ Y@@ O@@ U@@ _M@@ U@@ ST@@ _@@ AL@@ LO@@ W@@ _@@ K@@ S@@ M@@ _@@ AN@@ D@@ _@@ B@@ AL@@ LO@@ ON@@ ING@@ ).when@@ ((((@@ (cluster@@ .get@@ Max@@ Vds@@ Memory@@ O@@ ver@@ C@@ omm@@ it@@ ()) > 1@@ 00@@ ) || ((@@ cluster@@ .get@@ Max@@ Vds@@ Memory@@ O@@ ver@@ C@@ omm@@ it@@ ()) <@@ = 0@@ )) && (!@@ ((@@ c@@ luster.@@ is@@ En@@ able@@ K@@ s@@ m@@ ()) || (c@@ luster.@@ is@@ En@@ able@@ B@@ alloon@@ ing@@ ())@@ )@@ ))); }
@org.junit.Test public void mem@@ ory@@ Op@@ tim@@ iz@@ ation@@ L@@ ower@@ Th@@ en@@ Z@@ er@@ o@@ With@@ out@@ K@@ s@@ m@@ Or@@ B@@ alloon@@ ing@@ () { final org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command@@ Test.@@ create@@ Default@@ Cluster@@ (); c@@ luster.@@ set@@ Max@@ Vds@@ Memory@@ O@@ ver@@ C@@ omm@@ it@@ ((@@ -@@ 5@@ 2@@ )); c@@ luster.@@ set@@ En@@ able@@ K@@ s@@ m@@ (@@ false@@ ); c@@ luster.@@ set@@ En@@ able@@ B@@ alloon@@ ing@@ (@@ false@@ ); create@@ Command@@ (cluster@@ ); cpu@@ Exist@@ s(); validate@@ Fail@@ ed@@ With@@ Reason@@ (EngineMessage.@@ C@@ LUSTER_@@ T@@ O@@ _@@ AL@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ O@@ P@@ TI@@ M@@ I@@ Z@@ A@@ TION_@@ Y@@ O@@ U@@ ST@@ _@@ AL@@ LO@@ W@@ _@@ K@@ S@@ M@@ _@@ AN@@ D@@ _@@ B@@ AL@@ LO@@ ON@@ ING@@ ); }
java.lang.String C@@ LUSTER_@@ T@@ O@@ _@@ AL@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ O@@ P@@ TI@@ M@@ I@@ Z@@ A@@ TION_@@ Y@@ O@@ U@@ _M@@ U@@ ST@@ _@@ AL@@ LO@@ W@@ _@@ K@@ S@@ M@@ _@@ AN@@ D@@ _@@ B@@ AL@@ LO@@ ON@@ ING@@ ();
@org.junit.Test public void mem@@ ory@@ Op@@ tim@@ iz@@ ation@@ With@@ out@@ K@@ s@@ m@@ Or@@ B@@ alloon@@ ing@@ () { final org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command@@ Test.@@ create@@ Default@@ Cluster@@ (); c@@ luster.@@ set@@ Max@@ Vds@@ Memory@@ O@@ ver@@ C@@ omm@@ it@@ (@@ 1@@ 5@@ 0@@ ); c@@ luster.@@ set@@ En@@ able@@ K@@ s@@ m@@ (@@ false@@ ); c@@ luster.@@ set@@ En@@ able@@ B@@ alloon@@ ing@@ (@@ false@@ ); create@@ Command@@ (cluster@@ ); cpu@@ Exist@@ s(); validate@@ Fail@@ ed@@ With@@ Reason@@ (EngineMessage.@@ C@@ LUSTER_@@ T@@ O@@ _@@ AL@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ O@@ P@@ TI@@ M@@ I@@ Z@@ A@@ TION_@@ Y@@ O@@ U@@ _M@@ U@@ ST@@ _@@ AL@@ LO@@ W@@ _@@ K@@ S@@ M@@ _@@ AN@@ D@@ _@@ B@@ AL@@ LO@@ ON@@ ING@@ ); }
private void set@@ Disk@@ Profil@@ es@@ List(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ profil@@ es.@@ Disk@@ Profile@@ > disk@@ Profil@@ es) { if ((@@ disk@@ Profile@@ s != null@@ ) && (!(@@ disk@@ Profil@@ es.@@ isEmpty@@ ()))) { get@@ Disk@@ Profil@@ e().set@@ Items(@@ disk@@ Profil@@ es@@ ); } org.ovirt.engine.core.compat.Guid default@@ Profile@@ Id = ((@@ (get@@ Disk@@ ()) != null@@ ) && (is@@ Existing@@ Disk@@ ())) && (get@@ Disk@@ ().get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ ))) ? ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (get@@ Disk@@ ())@@ ).get@@ Disk@@ Profile@@ Id@@ () : null@@ ; if (@@ default@@ Profile@@ Id != null@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ profil@@ es.@@ Disk@@ Profil@@ e profil@@ e : disk@@ Profil@@ es) { if (@@ profil@@ e.get@@ Id().@@ e@@ qual@@ s@@ (@@ default@@ Profile@@ Id@@ )) { get@@ Disk@@ Profil@@ e().set@@ SelectedItem@@ (@@ profil@@ e); return@@ ; } } org.ovirt.engine.core.common.businessentities.@@ profil@@ es.@@ Disk@@ Profil@@ e disk@@ Profil@@ e = new org.ovirt.engine.core.common.businessentities.@@ profil@@ es.@@ Disk@@ Profil@@ e(); disk@@ Profil@@ e.set@@ Id@@ (@@ default@@ Profile@@ Id); if ((get@@ Disk@@ ()) != null@@ ) { disk@@ Profil@@ e.set@@ Name(@@ get@@ DiskImage@@ ().get@@ Disk@@ Profile@@ Name()); } disk@@ Profil@@ es.@@ add(@@ disk@@ Profil@@ e); get@@ Disk@@ Profil@@ e().set@@ Items(@@ disk@@ Profil@@ es@@ ); get@@ Disk@@ Profil@@ e().set@@ SelectedItem@@ (disk@@ Profil@@ e); } }
@java.lang.Override public org.ovirt.engine.api.model.@@ V@@ m updat@@ e(@@ org.ovirt.engine.api.model.@@ V@@ m in@@ com@@ ing@@ ) { validate@@ Parameters(@@ in@@ com@@ ing@@ ); if ((@@ in@@ com@@ ing.@@ isSet@@ Cluster@@ ()) && ((@@ in@@ com@@ ing.@@ get@@ Cluster@@ ().is@@ Set@@ Id()) || (@@ in@@ com@@ ing.@@ get@@ Cluster@@ ().is@@ Set@@ Name()@@ ))) { org.ovirt.engine.core.compat.Guid cluster@@ Id = lo@@ o@@ k@@ up@@ Cluster@@ Id(@@ in@@ com@@ ing@@ ); if (!@@ (cluster@@ Id@@ .toString@@ ().@@ equals(@@ get@@ ().get@@ Cluster@@ ().get@@ Id@@ ()))) { p@@ er@@ for@@ m@@ Action(VdcActionType.@@ Change@@ VM@@ Cluster@@ , new org.ovirt.engine.core.common.action.@@ Change@@ VM@@ Cluster@@ Parameters@@ (cluster@@ Id, g@@ uid@@ , null@@ )); } } if (!(@@ is@@ Filter@@ ed@@ ())) { if (@@ in@@ com@@ ing.@@ isSet@@ P@@ l@@ ac@@ ement@@ Policy@@ ()) { par@@ ent.@@ validate@@ And@@ Update@@ Host@@ s@@ In@@ P@@ l@@ ac@@ ement@@ Policy@@ (@@ in@@ com@@ ing.@@ get@@ P@@ l@@ ac@@ ement@@ Policy@@ ()); } else { in@@ com@@ ing.@@ set@@ P@@ l@@ ac@@ ement@@ Policy@@ (@@ null@@ ); } org.ovirt.engine.api.model.@@ V@@ m vm = p@@ er@@ for@@ m@@ Updat@@ e(@@ in@@ com@@ ing@@ , new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type.Get@@ Vm@@ By@@ Vm@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ ), Vdc@@ ActionType.@@ Update@@ Vm@@ , new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Resourc@@ e.@@ Update@@ Parameters@@ Provider@@ ()); if (is@@ N@@ ext@@ Run@@ Request@@ ed@@ ()) { org.ovirt.engine.core.common.businessentities.VM enti@@ ty = get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ , VdcQuery@@ Type.Get@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ g@@ uid@@ ), id@@ , true@@ ); } vm = add@@ Link@@ s(@@ p@@ op@@ ul@@ ate(@@ org.ovirt.engine.api.restapi.@@ types.@@ Vm@@ Mapper.@@ map@@ (@@ entity@@ , null@@ , false@@ ), entity@@ )); } if (@@ vm != null@@ ) { org.ovirt.engine.api.restapi.@@ util.@@ Display@@ Helper.@@ ad@@ j@@ ust@@ Display@@ Data@@ (@@ this@@ , vm@@ , false@@ ); remove@@ Res@@ tr@@ ic@@ t@@ ed@@ Info@@ (vm@@ ); } return vm@@ ; }
public void re@@ fresh@@ () { try { re@@ fresh@@ Vds@@ Run@@ Time@@ Info@@ (); } final@@ l@@ y { try { if (((@@ fi@@ r@@ st@@ Status@@ ) != (@@ vds.get@@ Status@@ ())) && ((@@ vds.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Up@@ ))) { vds@@ Manager.@@ cancel@@ Rec@@ o@@ ver@@ y@@ Job@@ (); org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Host@@ M@@ onitor@@ ing.@@ log.@@ d@@ ebug@@ ("@@ vd@@ s '{}@@ ' (@@ {}@@ ) fi@@ rin@@ g u@@ p event@@ . vds.get@@ Name(), vds.get@@ Id()); vds@@ Manager.@@ set@@ Is@@ Set@@ Non@@ Operation@@ al@@ Execut@@ ed@@ ((!@@ (get@@ Vds@@ Event@@ Listener@@ ().@@ vds@@ Up@@ Event@@ (@@ vds@@ )@@ ))); } s@@ ave@@ Data@@ To@@ Db@@ (); } catch (@@ org.ovirt.engine.core.vdsbroker.@@ ir@@ s@@ broker.@@ I@@ R@@ S@@ Error@@ Exception ex@@ ) { log@@ Fail@@ ure@@ Message@@ ("@@ Resource@@ Manager@@ :@@ :@@ re@@ fresh@@ Vds@@ Run@@ Time@@ Info@@ :@@ ", ex@@ ); org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Host@@ M@@ onitor@@ ing.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } catch (@@ java.lang.@@ Run@@ time@@ Exception ex@@ ) { log@@ Fail@@ ure@@ Message@@ ("@@ Resource@@ Manager@@ :@@ :@@ :@@ re@@ fresh@@ Vds@@ Run@@ Time@@ Info@@ :@@ ", ex@@ ); org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Host@@ M@@ onitor@@ ing.@@ log.error@@ ("@@ Exception@@ ", ex@@ ); } }
@org.junit.Test public void test@@ List@@ With@@ Custom@@ G@@ lo@@ b@@ al@@ H@@ ead@@ er@@ O@@ verrid@@ d@@ en@@ () { java.util.Map<java.lang.String, java.lang.String> h@@ ead@@ er@@ s = new java.util.HashMap@@ <@@ >@@ (@@ 1@@ ); h@@ ead@@ er@@ s.@@ put@@ ("@@ m@@ y@@ ", "@@ loc@@ al@@ "); c@@ lust@@ ers@@ Servic@@ e.@@ list@@ ().@@ h@@ ead@@ ers@@ (@@ h@@ ead@@ ers@@ ).@@ s@@ end@@ (); assert@@ E@@ quals(@@ "@@ loc@@ al@@ ", get@@ L@@ ast@@ Request@@ H@@ ead@@ ers@@ ().get@@ ("@@ m@@ y@@ "@@ ).get@@ F@@ ir@@ st@@ ()); }
public org.ovirt.engine.@@ sd@@ k@@ 4@@ .@@ Connection@@ Buil@@ der h@@ ead@@ ers@@ (@@ java.util.Map<java.lang.String, java.lang.String> h@@ ead@@ ers@@ ) { this@@ .@@ h@@ ead@@ er@@ s = h@@ ead@@ ers@@ ; return this@@ ; }
@org.junit.Test public void test@@ Add@@ With@@ Custom@@ G@@ lo@@ b@@ al@@ H@@ ead@@ er@@ () { c@@ lust@@ ers@@ Servic@@ e.@@ add@@ ().@@ cluster@@ (cluster@@ ()).@@ s@@ end@@ (); assert@@ E@@ quals(@@ get@@ L@@ ast@@ Request@@ H@@ ead@@ ers@@ ().get@@ ("@@ m@@ y@@ "@@ ).get@@ F@@ ir@@ st@@ (), "@@ value@@ "); }
@org.junit.Test public void test@@ L@@ ast@@ Request@@ H@@ ead@@ ers@@ () { assert@@ E@@ quals(@@ get@@ L@@ ast@@ Request@@ H@@ ead@@ ers@@ ().get@@ ("@@ m@@ y@@ "@@ ).get@@ F@@ ir@@ st@@ (), "@@ value@@ "); }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { java.util.Map<java.lang.String, java.lang.String> h@@ ead@@ er@@ s = new java.util.HashMap@@ <@@ >(); h@@ ead@@ er@@ s.@@ put@@ ("@@ m@@ y@@ ", "@@ value@@ "); set@@ X@@ ml@@ Respon@@ se(@@ "@@ c@@ lust@@ ers@@ ", 2@@ 00@@ , "@@ <@@ c@@ lust@@ ers@@ /@@ >@@ "); set@@ X@@ ml@@ Respon@@ se(@@ "@@ c@@ lust@@ ers@@ /@@ 1@@ 2@@ 3@@ ", 2@@ 00@@ , "@@ <@@ c@@ luster id@@ =@@ \@@ "@@ 1@@ 2@@ 3@@ \@@ "@@ >@@ <@@ name@@ >@@ <@@ /@@ name@@ >@@ <@@ /@@ cluster@@ >@@ "); st@@ art@@ Server@@ (); conn@@ ec@@ tion = ((@@ org.ovirt.engine.@@ sd@@ k@@ 4@@ .@@ int@@ er@@ nal@@ .@@ H@@ ttp@@ Connection@@ ) (@@ test@@ Connection@@ Builder@@ ().@@ h@@ ead@@ ers@@ (@@ h@@ ead@@ ers@@ ).@@ build@@ ())); c@@ lust@@ ers@@ Servic@@ e = connection@@ .@@ s@@ ystem@@ Servic@@ e().@@ c@@ lust@@ ers@@ Servic@@ e(); cluster@@ Servic@@ e = c@@ lust@@ ers@@ Servic@@ e.c@@ lust@@ ers@@ Servic@@ e(@@ "@@ 1@@ 2@@ 3@@ "); }
@org.junit.Test public void test@@ List@@ With@@ Custom@@ G@@ lo@@ b@@ al@@ H@@ ead@@ er@@ () { c@@ lust@@ ers@@ Servic@@ e.@@ list@@ ().@@ s@@ end@@ (); assert@@ E@@ quals(@@ get@@ L@@ ast@@ Request@@ H@@ ead@@ ers@@ ().get@@ ("@@ m@@ y@@ "@@ ).get@@ F@@ ir@@ st@@ (), "@@ value@@ "); }
@org.junit.Test public void test@@ Remove@@ With@@ Custom@@ G@@ lo@@ b@@ al@@ H@@ ead@@ er@@ () { cluster@@ Servic@@ e.@@ remov@@ e().@@ s@@ end@@ (); assert@@ E@@ quals(@@ get@@ L@@ ast@@ Request@@ H@@ ead@@ ers@@ ().get@@ ("@@ m@@ y@@ "@@ ).get@@ F@@ ir@@ st@@ (), "@@ value@@ "); }
@org.junit.Test public void test@@ Remove@@ With@@ Custom@@ G@@ lo@@ b@@ al@@ H@@ ead@@ er@@ O@@ verrid@@ d@@ en@@ () { java.util.Map<java.lang.String, java.lang.String> h@@ ead@@ er@@ s = new java.util.HashMap@@ <@@ >@@ (@@ 1@@ ); h@@ ead@@ er@@ s.@@ put@@ ("@@ m@@ y@@ ", "@@ loc@@ al@@ "); cluster@@ Servic@@ e.@@ remov@@ e().@@ h@@ ead@@ ers@@ (@@ h@@ ead@@ ers@@ ).@@ s@@ end@@ (); assert@@ E@@ quals(@@ "@@ loc@@ al@@ ", get@@ L@@ ast@@ Request@@ H@@ ead@@ ers@@ ().get@@ ("@@ m@@ y@@ "@@ ).get@@ F@@ ir@@ st@@ ()); }
private void gener@@ ate@@ Add@@ ition@@ al@@ H@@ ead@@ ers@@ Parameters@@ () { b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(); b@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ if (@@ h@@ ead@@ er@@ s != null@@ ) { b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ for (@@ Map@@ .@@ E@@ n@@ try@@ <@@ String@@ , String@@ > h@@ ead@@ er : h@@ ead@@ er@@ s.@@ e@@ n@@ try@@ Set@@ ()) { b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ re@@ ques@@ t.@@ set@@ H@@ ead@@ er@@ (@@ h@@ ead@@ er@@ .get@@ Key@@ (), h@@ ead@@ er@@ .get@@ Valu@@ e()@@ )@@ ;@@ "); b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); b@@ u@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(); } }
private void gener@@ ate@@ Add@@ ition@@ al@@ Query@@ Parameters@@ () { b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ fi@@ r@@ st@@ P@@ or@@ t query@@ Par@@ a@@ m : query@@ .@@ e@@ n@@ try@@ Set@@ ()) { b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ for (@@ Map@@ .@@ E@@ n@@ try@@ <@@ String@@ , String@@ > query@@ Par@@ a@@ m : query@@ .@@ e@@ n@@ try@@ Set@@ ()) { b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ ur@@ i@@ Buil@@ der.@@ add@@ Parameter@@ (@@ query@@ Param@@ .get@@ Key@@ (), query@@ Param@@ .get@@ Valu@@ e()@@ )@@ ;@@ "); b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); }
private void in@@ j@@ ect@@ H@@ ead@@ ers@@ (@@ org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ U@@ ri@@ Re@@ quest re@@ quest@@ ) { for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.String> h@@ ead@@ er : h@@ ead@@ er@@ s.@@ e@@ n@@ try@@ Set@@ ()) { re@@ quest@@ .@@ add@@ H@@ ead@@ er@@ (@@ h@@ ead@@ er@@ .get@@ Key@@ (), h@@ ead@@ er@@ .get@@ Valu@@ e()); } java.util.List<@@ org.apach@@ e.@@ http@@ .@@ H@@ ead@@ er@@ > update@@ d = ex@@ c@@ lu@@ de@@ Null@@ H@@ ead@@ ers@@ (@@ re@@ ques@@ t.get@@ All@@ H@@ ead@@ ers@@ ()); if ((@@ update@@ d != null@@ ) && (!(@@ updat@@ ed@@ .@@ isEmpty@@ ()))) { re@@ ques@@ t.@@ set@@ H@@ ead@@ ers@@ (@@ updat@@ ed@@ .@@ to@@ Array@@ (@@ new org.apach@@ e.@@ http@@ .@@ H@@ ead@@ er@@ [@@ updat@@ ed@@ .@@ siz@@ e()@@ ]@@ )); } for (@@ org.apach@@ e.@@ http@@ .@@ Name@@ Pa@@ i@@ r name@@ Value@@ Pa@@ i@@ r : org.apach@@ e.@@ http@@ .client.@@ utils.@@ UR@@ L@@ En@@ c@@ od@@ ed@@ Utils.@@ par@@ se(@@ re@@ ques@@ t.get@@ UR@@ I@@ (), H@@ T@@ P@@ .@@ U@@ T@@ F@@ _@@ 8@@ )) { if (@@ name@@ Value@@ Pair@@ .getName()@@ .@@ e@@ qual@@ s@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ "@@ all@@ _@@ cont@@ ent@@ "@@ )) { re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ All@@ -@@ Cont@@ ent@@ ", name@@ Value@@ Pair@@ .get@@ Valu@@ e()); } re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ Version@@ ", "@@ 4@@ "); re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ Cont@@ ent@@ -@@ type@@ ", "@@ ap@@ plication@@ /@@ x@@ ml@@ "); re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ User@@ -@@ Agent@@ ", "@@ J@@ ava@@ S@@ D@@ K@@ "); re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ Ac@@ ce@@ p@@ t@@ ", "@@ ap@@ plication@@ /@@ x@@ ml@@ "); re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ Auth@@ or@@ iz@@ ation@@ ", ((@@ " + (get@@ Ac@@ cess@@ To@@ k@@ en@@ ()))); }
@org.junit.Test public void test@@ Get@@ With@@ Custom@@ G@@ lo@@ b@@ al@@ H@@ ead@@ er@@ O@@ verrid@@ d@@ en@@ () { java.util.Map<java.lang.String, java.lang.String> h@@ ead@@ er@@ s = new java.util.HashMap@@ <@@ >@@ (@@ 1@@ ); h@@ ead@@ er@@ s.@@ put@@ ("@@ m@@ y@@ ", "@@ loc@@ al@@ "); cluster@@ Servic@@ e.get@@ ().@@ h@@ ead@@ ers@@ (@@ h@@ ead@@ ers@@ ).@@ s@@ end@@ (); assert@@ E@@ quals(@@ "@@ loc@@ al@@ ", get@@ L@@ ast@@ Request@@ H@@ ead@@ ers@@ ().get@@ ("@@ m@@ y@@ "@@ ).get@@ F@@ ir@@ st@@ ()); }
@org.junit.Test public void test@@ List@@ With@@ T@@ w@@ o@@ Custom@@ Query@@ Param@@ () { java.util.Map<java.lang.String, java.lang.String> quer@@ y = new java.util.HashMap@@ <@@ >@@ (@@ 2@@ ); query@@ .@@ put@@ ("@@ fi@@ r@@ st@@ ", "@@ value@@ 1@@ "); query@@ .@@ put@@ ("@@ s@@ ec@@ ond@@ ", "@@ value@@ 2@@ "); vm@@ s@@ Servic@@ e.@@ list@@ ().@@ query@@ (@@ query@@ ).@@ s@@ end@@ (); assert@@ E@@ quals(@@ "@@ fi@@ r@@ st@@ =@@ value@@ 1@@ &@@ s@@ ec@@ ond@@ =@@ value@@ 2@@ ", get@@ L@@ ast@@ Request@@ Query@@ ()); }
private void in@@ j@@ ect@@ H@@ ead@@ ers@@ (@@ org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ U@@ ri@@ Re@@ quest re@@ quest@@ ) { for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.String> h@@ ead@@ er : h@@ ead@@ er@@ s.@@ e@@ n@@ try@@ Set@@ ()) { re@@ ques@@ t.@@ set@@ H@@ ead@@ er@@ (@@ h@@ ead@@ er@@ .get@@ Key@@ (), h@@ ead@@ er@@ .get@@ Valu@@ e()); } java.util.List<@@ org.apach@@ e.@@ http@@ .@@ H@@ ead@@ er@@ > update@@ d = ex@@ c@@ lu@@ de@@ Null@@ H@@ ead@@ ers@@ (@@ re@@ ques@@ t.get@@ All@@ H@@ ead@@ ers@@ ()); if ((@@ update@@ d != null@@ ) && (!(@@ updat@@ ed@@ .@@ isEmpty@@ ()))) { re@@ ques@@ t.@@ set@@ H@@ ead@@ ers@@ (@@ updat@@ ed@@ .@@ to@@ Array@@ (@@ new org.apach@@ e.@@ http@@ .@@ H@@ ead@@ er@@ [@@ updat@@ ed@@ .@@ siz@@ e()@@ ]@@ )); } for (@@ org.apach@@ e.@@ http@@ .@@ Name@@ Pa@@ i@@ r name@@ Value@@ Pa@@ i@@ r : org.apach@@ e.@@ http@@ .client.@@ utils.@@ UR@@ L@@ En@@ c@@ od@@ ed@@ Utils.@@ par@@ se(@@ re@@ ques@@ t.get@@ UR@@ I@@ (), H@@ T@@ P@@ .@@ U@@ T@@ F@@ _@@ 8@@ )) { if (@@ name@@ Value@@ Pair@@ .getName()@@ .@@ e@@ qual@@ s@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ "@@ all@@ _@@ cont@@ ent@@ "@@ )) { re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ All@@ -@@ Cont@@ ent@@ ", name@@ Value@@ Pair@@ .get@@ Valu@@ e()); } re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ Version@@ ", "@@ 4@@ "); re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ Cont@@ ent@@ -@@ type@@ ", "@@ ap@@ plication@@ /@@ x@@ ml@@ "); re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ User@@ -@@ Agent@@ ", "@@ J@@ ava@@ S@@ D@@ K@@ "); re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ Ac@@ ce@@ p@@ t@@ ", "@@ ap@@ plication@@ /@@ x@@ ml@@ "); re@@ ques@@ t.@@ add@@ H@@ ead@@ er@@ ("@@ Auth@@ or@@ iz@@ ation@@ ", ((@@ " + (get@@ Ac@@ cess@@ To@@ k@@ en@@ ()))); } }
@org.junit.Test public void test@@ List@@ With@@ Custom@@ Query@@ Param@@ () { java.util.Map<java.lang.String, java.lang.String> quer@@ y = new java.util.HashMap@@ <@@ >@@ (@@ 1@@ ); query@@ .@@ put@@ ("@@ m@@ y@@ ", "@@ value@@ "); vm@@ s@@ Servic@@ e.@@ list@@ ().@@ query@@ (@@ query@@ ).@@ s@@ end@@ (); assert@@ E@@ quals(@@ "@@ m@@ y@@ =@@ value@@ ", get@@ L@@ ast@@ Request@@ Query@@ ()); }
private void gener@@ ate@@ Request@@ Interfac@@ e(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { gener@@ ate@@ D@@ oc@@ (@@ m@@ et@@ hod@@ ); java.lang.String re@@ quest = get@@ Request@@ Name(@@ m@@ et@@ hod@@ ); java.lang.String respon@@ se = get@@ Respon@@ se@@ Name(@@ m@@ et@@ hod@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ F@@ in@@ is@@ h@@ ead@@ er int@@ er@@ fac@@ e %@@ 1@@ $@@ s", extends Request@@ <@@ %@@ 1@@ $@@ s, %@@ 2@@ $@@ s> { re@@ quest@@ , respon@@ se@@ ); m@@ et@@ hod@@ .@@ parameters@@ ().@@ filter@@ (@@ Parameter@@ :@@ is@@ In@@ ).@@ s@@ ort@@ ed@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ gener@@ ate@@ Request@@ Parameter@@ Interface@@ ); java@@ B@@ u@@ f@@ fer@@ .@@ add@@ Import@@ (@@ java.util.Map@@ .@@ class@@ ); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ D@@ oc@@ C@@ omm@@ ent@@ (@@ " H@@ T@@ P h@@ ead@@ ers@@ . java@@ B@@ u@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ h@@ ead@@ ers@@ (@@ Map@@ <@@ String@@ , String@@ > h@@ ead@@ ers@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ D@@ oc@@ C@@ omm@@ ent@@ ("@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ )@@ "); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(); }
@org.junit.Test public void test@@ Add@@ With@@ Custom@@ G@@ lo@@ b@@ al@@ H@@ ead@@ er@@ O@@ verrid@@ d@@ en@@ () { java.util.Map<java.lang.String, java.lang.String> h@@ ead@@ er@@ s = new java.util.HashMap@@ <@@ >@@ (@@ 1@@ ); h@@ ead@@ er@@ s.@@ put@@ ("@@ m@@ y@@ ", "@@ loc@@ al@@ "); c@@ lust@@ ers@@ Servic@@ e.@@ add@@ ().@@ cluster@@ (cluster@@ ()).@@ h@@ ead@@ ers@@ (@@ h@@ ead@@ ers@@ ).@@ s@@ end@@ (); assert@@ E@@ quals(@@ "@@ loc@@ al@@ ", get@@ L@@ ast@@ Request@@ H@@ ead@@ ers@@ ().get@@ ("@@ m@@ y@@ "@@ ).get@@ F@@ ir@@ st@@ ()); }
private void gener@@ ate@@ Request@@ Impl@@ ement@@ ation@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name nam@@ e = m@@ et@@ hod@@ .get@@ Nam@@ e(); java.lang.String re@@ quest = get@@ Request@@ Name(@@ m@@ et@@ hod@@ ); java.lang.String re@@ quest@@ Imp@@ l = get@@ Request@@ Impl@@ Name(@@ m@@ et@@ hod@@ ); b@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ f@@ f@@ f@@ f@@ Parameters class %@@ 1@@ $@@ s implements %@@ 2@@ $@@ s", { re@@ quest@@ Impl@@ , re@@ quest@@ ); m@@ et@@ hod@@ .@@ parameters@@ ().@@ filter@@ (@@ Parameter@@ :@@ is@@ In@@ ).@@ s@@ ort@@ ed@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ gener@@ ate@@ Request@@ Parameter@@ Impl@@ ement@@ ation@@ ); b@@ u@@ f@@ fer@@ .@@ add@@ Import@@ (@@ java.util.Map@@ .@@ class@@ ); b@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ F@@ Map@@ <@@ String@@ , String@@ > h@@ ead@@ ers@@ ; b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ F@@ a@@ d %@@ 1@@ $@@ s", h@@ ead@@ ers@@ (@@ Map@@ <@@ String@@ , String@@ > h@@ ead@@ ers@@ ) { re@@ quest@@ ); b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); b@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); b@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ f@@ fer@@ , " "); b@@ u@@ f@@ fer@@ .@@ add@@ Lin@@ e@@ ("@@ f@@ f@@ f@@ fer@@ : %@@ 1@@ $@@ s", s@@ end@@ () { get@@ Respon@@ se@@ Name(@@ m@@ et@@ hod@@ )); if (@@ org.ovirt.@@ sd@@ k.@@ java.@@ Servic@@ es@@ Impl@@ ement@@ ation@@ .@@ class@@ )) { gener@@ ate@@ Add@@ Request@@ Impl@@ ement@@ ation@@ (@@ m@@ et@@ hod@@ ); } else if ((@@ org.ovirt.@@ sd@@ k.@@ java.@@ Servic@@ es@@ Impl@@ Gener@@ ator.@@ G@@ ET@@ .equals(@@ name@@ )) || (@@ org.ovirt.@@ sd@@ k.@@ k.@@ Servic@@ es@@ Impl@@ ement@@ ation@@ ))) { gener@@ ate@@ List@@ Request@@ Impl@@ ement@@ ation@@ (@@ m@@ et@@ hod@@ ); } else if (@@ m@@ et@@ hod@@ ); } else if (@@ org.ovirt.@@ sd@@ k.@@ Gener@@ ator.@@ G@@ ET@@ .equals(@@ name@@ )) { gener@@ ate@@ Request@@ Impl@@ ement@@ ation@@ (@@ m@@ et@@ hod@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se tic@@ k@@ et@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type g@@ raphics@@ Type = der@@ ive@@ Graphics@@ Typ@@ e(); if (@@ g@@ raphics@@ Type == null@@ ) { org.ovirt.engine.api.model.@@ F@@ a@@ ult fa@@ ult = new org.ovirt.engine.api.model.@@ F@@ a@@ ult@@ (); fa@@ ult.@@ set@@ Reason@@ ("@@ Fail@@ ed fa@@ ult.@@ set@@ Detail@@ (@@ loc@@ al@@ iz@@ e(@@ Messages.@@ C@@ ANNOT_@@ G@@ E@@ T_@@ TI@@ C@@ K@@ E@@ T_@@ F@@ OR@@ _@@ DO@@ W@@ N@@ _@@ VM@@ )); return javax.ws.rs.@@ core.@@ Respon@@ s@@ e.@@ status@@ (@@ Respon@@ s@@ e.@@ Status.@@ CON@@ F@@ L@@ IC@@ T@@ ).@@ entity@@ (@@ fault@@ ).@@ build@@ (); } java.lang.String con@@ s@@ ole@@ Id = org.ovirt.engine.api.restapi.resource.@@ Backend@@ Graphics@@ Console@@ Helper.@@ as@@ Console@@ Id(@@ g@@ raphics@@ Type@@ ); return get@@ Graphics@@ Cons@@ ol@@ es@@ Resourc@@ e().get@@ Console@@ Resourc@@ e(@@ con@@ s@@ ole@@ Id@@ ).@@ tic@@ k@@ et@@ (@@ action@@ ); }
public boolean is@@ Action@@ () { return (@@ java.util.Arrays.as@@ List@@ ("@@ add@@ ", "@@ list@@ ", "@@ update@@ ", "@@ remove@@ ")); }
private void gener@@ ate@@ Update@@ Method@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ h@@ o@@ d@@ , org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name h@@ el@@ per@@ Class@@ Name, boolean b@@ as@@ e) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er m@@ ain@@ Paramet@@ er = org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Util@@ s.get@@ Main@@ Update@@ Parameter@@ (@@ m@@ et@@ hod@@ ); if (@@ m@@ ain@@ Paramet@@ er == null@@ ) { java.lang.@@ System@@ .@@ err@@ .@@ p@@ r@@ int@@ l@@ n@@ ((@@ ("@@ Th@@ e " + m@@ et@@ hod@@ ) + do@@ es@@ n h@@ av@@ e an@@ y str@@ uc@@ t paramet@@ er return@@ ; } org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Type m@@ ain@@ Type = m@@ ain@@ Paramet@@ er.@@ .get@@ Typ@@ e(); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ ava@@ Type@@ Re@@ fer@@ enc@@ e m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e = s@@ ch@@ em@@ a@@ Names@@ .get@@ X@@ j@@ c@@ Type@@ Re@@ fer@@ enc@@ e(@@ m@@ ain@@ Type@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ Cons@@ um@@ es@@ .@@ class@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ P@@ U@@ T@@ .@@ class@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ s(@@ m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Import@@ s()); gener@@ ate@@ D@@ oc@@ (@@ m@@ et@@ hod@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ @@@ P@@ U@@ T@@ "); java@@ B@@ u@@ f@@ f@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ %@@ s }@@ )@@ "); gener@@ ate@@ M@@ ed@@ i@@ a@@ Typ@@ es@@ ()); java.lang.String parameter@@ Name = java@@ Names@@ .get@@ J@@ ava@@ Mem@@ ber@@ Sty@@ le@@ Name(@@ m@@ ain@@ Parameter@@ .get@@ Name()); if (@@ b@@ as@@ e) { java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ %@@ s %@@ s) { m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), parameter@@ Name@@ ); w@@ rit@@ e@@ Hel@@ per@@ In@@ vo@@ c@@ ation@@ (@@ h@@ el@@ per@@ Class@@ Name, parameter@@ Name, m@@ et@@ hod@@ .get@@ Name()); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); } else { java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e(@@ m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), parameter@@ Name@@ ); } }
private void gener@@ ate@@ Add@@ Method@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ h@@ o@@ d@@ , org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name h@@ el@@ per@@ Class@@ Name, boolean b@@ ase@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er m@@ ain@@ Paramet@@ er = org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Util@@ s.get@@ Main@@ Add@@ Parameter@@ (@@ m@@ et@@ hod@@ ); if (@@ m@@ ain@@ Paramet@@ er == null@@ ) { java.lang.@@ System@@ .@@ err@@ .@@ p@@ r@@ int@@ l@@ n@@ ((@@ ("@@ Th@@ e " + m@@ et@@ hod@@ ) + " do@@ es@@ n h@@ av@@ e an@@ y str@@ uc@@ t paramet@@ er return@@ ; } org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Type m@@ ain@@ Type = m@@ ain@@ Parameter@@ .get@@ Typ@@ e(); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ ava@@ Type@@ Re@@ fer@@ enc@@ e m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e = s@@ ch@@ em@@ a@@ Names@@ .get@@ X@@ j@@ c@@ Type@@ Re@@ fer@@ enc@@ e(@@ m@@ ain@@ Type@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ Cons@@ um@@ es@@ .@@ class@@ ); java@@ B@@ u@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ P@@ O@@ ST@@ .@@ class@@ ); java@@ B@@ u@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ core.@@ Respon@@ se@@ .@@ class@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ s(@@ m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Import@@ s()); gener@@ ate@@ D@@ oc@@ (@@ m@@ et@@ hod@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ @@@ P@@ O@@ ST@@ "); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ $@@ ma@@ i@@ a@@ Type %@@ s", gener@@ ate@@ M@@ ed@@ i@@ a@@ Typ@@ es@@ ()); java.lang.String parameter@@ Name = java@@ Names@@ .get@@ J@@ ava@@ Mem@@ ber@@ Sty@@ le@@ Name(@@ m@@ ain@@ Parameter@@ .get@@ Name()); if (@@ b@@ as@@ e) { java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ %@@ s@@ %@@ s) { m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), parameter@@ Name@@ ); w@@ rit@@ e@@ Hel@@ per@@ In@@ vo@@ c@@ ation@@ (@@ h@@ el@@ per@@ Class@@ Name, parameter@@ Name, m@@ et@@ hod@@ .get@@ Name()); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); } else { add@@ Lin@@ e(@@ m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), parameter@@ Name@@ ); } }
private void gener@@ ate@@ Get@@ Method@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er m@@ ain@@ Paramet@@ er = org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Util@@ s.get@@ Main@@ Update@@ Parameter@@ (@@ m@@ et@@ hod@@ ); if (@@ m@@ ain@@ Paramet@@ er == null@@ ) { java.lang.@@ System@@ .@@ err@@ .@@ p@@ r@@ int@@ l@@ n@@ ((@@ ("@@ par@@ at@@ ing " + m@@ et@@ hod@@ ) + " do@@ es@@ n@@ '@@ t h@@ av@@ e an@@ y str@@ uc@@ t paramet@@ er return@@ ; } org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Servic@@ e ser@@ vi@@ c@@ e = m@@ et@@ hod@@ .get@@ D@@ ec@@ l@@ ar@@ ing@@ Servic@@ e(); boolean is@@ R@@ oo@@ t = ser@@ vi@@ c@@ e.get@@ Model().get@@ R@@ oot@@ ()); gener@@ ate@@ D@@ oc@@ (@@ m@@ et@@ hod@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ G@@ ET@@ .@@ class@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ @@@ G@@ ET@@ "); if (is@@ R@@ oot@@ ) { java@@ B@@ u@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ core.@@ Respon@@ se@@ .@@ class@@ ); add@@ Respon@@ se@@ Return@@ Method@@ ("@@ get@@ ()@@ "); } else { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Type m@@ ain@@ Type = m@@ ain@@ Paramet@@ er.@@ ma@@ ke@@ Typ@@ e(); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ ava@@ Type@@ Re@@ fer@@ enc@@ e m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e = s@@ ch@@ em@@ a@@ Names@@ .get@@ X@@ j@@ c@@ Type@@ Re@@ fer@@ enc@@ e(@@ m@@ ain@@ Type@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ s(@@ m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Import@@ s()); add@@ Method@@ (@@ m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), "@@ get@@ Text@@ (), "@@ get@@ ()@@ ;@@ "); } java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(); }
private void gener@@ ate@@ Method@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ h@@ o@@ d@@ , org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name h@@ el@@ per@@ Class@@ Name, java.util.Map@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ , java.util.Set@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ >> b@@ ase@@ Method@@ s) { boolean b@@ ase@@ Method@@ s.@@ contain@@ s@@ Key@@ (@@ m@@ et@@ hod@@ ); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name nam@@ e = m@@ et@@ hod@@ .get@@ Nam@@ e(); if (@@ m@@ et@@ hod@@ ) == null@@ ) { gener@@ ate@@ Add@@ Method@@ (@@ m@@ et@@ hod@@ , h@@ el@@ per@@ Name, b@@ as@@ e); } else if (@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ G@@ ET@@ .equals(@@ name@@ )) { gener@@ ate@@ Get@@ Method@@ (@@ m@@ et@@ hod@@ ); } else if (@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ L@@ IST@@ .equals(@@ name@@ )) { gener@@ ate@@ List@@ Method@@ (@@ m@@ et@@ hod@@ ); } else if (@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ RE@@ M@@ OV@@ E@@ .equals(@@ name@@ )) { gener@@ ate@@ Remove@@ Method@@ (@@ m@@ et@@ hod@@ ); } else if (@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ RE@@ M@@ OV@@ E@@ .equals(@@ name@@ )) { gener@@ ate@@ Remove@@ Method@@ (@@ m@@ et@@ hod@@ ); } else if (@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ UP@@ D@@ AT@@ E@@ .equals(@@ name@@ )) { gener@@ ate@@ Update@@ Method@@ (@@ m@@ et@@ hod@@ , h@@ el@@ per@@ Name, b@@ as@@ e); } else if (@@ m@@ et@@ am@@ odel@@ .@@ t@@ ool@@ .@@ util.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ is@@ Add@@ S@@ ign@@ at@@ ur@@ e(@@ m@@ et@@ hod@@ )) { gener@@ ate@@ Add@@ S@@ ign@@ at@@ ur@@ e(@@ m@@ et@@ hod@@ ); } else if (@@ org.ovirt.@@ api.@@ m@@ et@@ hod@@ ); } else if (@@ org.ovirt.@@ api.@@ m@@ et@@ hod@@ ); } else if (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ t@@ ool@@ s.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ is@@ Update@@ S@@ ign@@ at@@ ur@@ e(@@ m@@ et@@ hod@@ )) { gener@@ ate@@ Update@@ S@@ ign@@ at@@ ur@@ e(@@ m@@ et@@ hod@@ ); } else if (@@ m@@ et@@ hod@@ ); } else if (@@ m@@ et@@ hod@@ ); } else if (@@ m@@ et@@ hod@@ ); }
private void gener@@ ate@@ Action@@ Method@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ h@@ o@@ d@@ , org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name h@@ el@@ per@@ Class@@ Name, boolean b@@ ase@@ ) { java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ Cons@@ um@@ es@@ .@@ class@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ P@@ O@@ ST@@ .@@ class@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ Path@@ .@@ class@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ javax.ws.rs.@@ core.@@ Respon@@ se@@ .@@ class@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ java@@ P@@ ack@@ ages@@ .get@@ X@@ j@@ c@@ P@@ ack@@ age@@ Name(), "@@ Action@@ "); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ java@@ P@@ ack@@ ages@@ .get@@ X@@ j@@ c@@ P@@ ack@@ age@@ Name(), "@@ Action@@ able@@ "); gener@@ ate@@ D@@ oc@@ (@@ m@@ et@@ hod@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ @@@ P@@ O@@ ST@@ "); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ %@@ s }@@ )@@ ", gener@@ ate@@ M@@ ed@@ i@@ a@@ Typ@@ es@@ ()); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ @@@ Action@@ able@@ "); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ @@@ Path@@ (@@ \@@ "@@ %@@ s@@ \@@ "@@ )@@ ", j@@ a@@ x@@ r@@ s@@ Names@@ .get@@ Action@@ Path@@ (@@ m@@ et@@ hod@@ .getName()@@ )); java.lang.String m@@ et@@ hod@@ Name = j@@ a@@ x@@ r@@ s@@ Names@@ .get@@ Method@@ Name(@@ m@@ et@@ hod@@ .get@@ Name()); if (@@ b@@ as@@ e) { java@@ B@@ u@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ("@@ fi@@ r@@ s@@ Names@@ ", action@@ .get@@ Name()); w@@ rit@@ e@@ Hel@@ per@@ In@@ vo@@ c@@ ation@@ (@@ h@@ el@@ per@@ Class@@ Name, "@@ action@@ ", m@@ et@@ hod@@ .get@@ Name()); java@@ B@@ u@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ "); } else { add@@ Respon@@ se@@ Return@@ Method@@ (((@@ j@@ a@@ x@@ r@@ s@@ Names@@ .get@@ Method@@ Name(@@ m@@ et@@ hod@@ .getName()@@ )) + action@@ ) }@@ )); java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e(); } }
private void gener@@ ate@@ Update@@ S@@ ign@@ at@@ ur@@ e(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { gener@@ ate@@ D@@ oc@@ (@@ m@@ et@@ hod@@ ); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er m@@ ain@@ Paramet@@ er = org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Util@@ s.get@@ Main@@ Update@@ Parameter@@ (@@ m@@ et@@ hod@@ ); if (@@ m@@ ain@@ Paramet@@ er == null@@ ) { java.lang.@@ System@@ .@@ err@@ .@@ p@@ r@@ int@@ l@@ n@@ ((@@ ("@@ Met@@ h@@ o@@ d \@@ "@@ " + m@@ et@@ hod@@ ) + "@@ \@@ " do@@ es@@ n@@ \@@ '@@ t h@@ av@@ e an@@ y str@@ uc@@ t parameter@@ ")); return@@ ; } org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Type m@@ ain@@ Type = m@@ ain@@ Parameter@@ .get@@ Typ@@ e(); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ ava@@ Type@@ Re@@ fer@@ enc@@ e m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e = s@@ ch@@ em@@ a@@ Names@@ .get@@ X@@ j@@ c@@ Type@@ Re@@ fer@@ enc@@ e(@@ m@@ ain@@ Type@@ ); java.lang.String m@@ et@@ hod@@ Name = con@@ cat@@ en@@ ate@@ Name(@@ m@@ et@@ hod@@ , m@@ et@@ hod@@ .get@@ Bas@@ e().get@@ Name()); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ (((@@ "@@ default %@@ s " + m@@ et@@ hod@@ Name@@ ) + "@@ (@@ %@@ s %@@ s) {@@ "@@ ), m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), java@@ Names@@ .get@@ J@@ ava@@ Mem@@ ber@@ Sty@@ le@@ Name(@@ m@@ ain@@ Parameter@@ .getName()@@ )); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ throw new Un@@ support@@ ed@@ Operation@@ ()); java@@ B@@ u@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); }
private void init@@ Var@@ i@@ abl@@ es(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Servic@@ e ser@@ vi@@ ce@@ ) { res@@ ource@@ Name = j@@ a@@ x@@ r@@ s@@ Names@@ .get@@ Interface@@ Name(@@ ser@@ vi@@ ce@@ ); h@@ el@@ per@@ Name = new org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ ava@@ Class@@ Name(@@ res@@ ource@@ Nam@@ e.get@@ P@@ ack@@ age@@ Name(), ((@@ res@@ ource@@ Nam@@ e.get@@ S@@ im@@ ple@@ Name()@@ ) + "@@ Hel@@ per@@ ")); ser@@ vi@@ ce@@ Method@@ s = ser@@ vi@@ c@@ e.get@@ D@@ ec@@ l@@ ared@@ Method@@ s(); b@@ ase@@ Method@@ s = org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ util.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Util@@ s.get@@ Base@@ Method@@ s@@ Map@@ (@@ ser@@ vi@@ ce@@ Method@@ s); java@@ B@@ u@@ f@@ f@@ er = new org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ ava@@ Class@@ B@@ u@@ f@@ fer@@ (); java@@ B@@ u@@ f@@ f@@ er.@@ set@@ Class@@ Name(@@ h@@ el@@ per@@ Name@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ (@@ res@@ ource@@ Name@@ ); }
private void w@@ rit@@ e@@ Hel@@ per@@ In@@ vo@@ c@@ ation@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name h@@ el@@ per@@ Class@@ Name, java.lang.String parameter@@ Name, org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name m@@ et@@ hod@@ Name@@ ) { java.lang.String h@@ el@@ per@@ Method@@ Name = ("@@ get@@ " + (@@ java@@ Names@@ .get@@ J@@ ava@@ Class@@ Sty@@ le@@ Name(@@ m@@ et@@ hod@@ Name@@ ))) + "@@ S@@ ign@@ at@@ ure@@ "@@ ; java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ try {@@ "); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ ((((@@ ((@@ (((@@ "@@ return (@@ Respon@@ se@@ )@@ " + (@@ java@@ Names@@ .get@@ J@@ ava@@ Class@@ Sty@@ le@@ Name(@@ h@@ el@@ per@@ Class@@ Name@@ ))) + "@@ .@@ ") + h@@ el@@ per@@ Method@@ Name@@ ) + "@@ ("@@ ) + " Name@@ ) + "@@ ]@@ "@@ ), ") + parameter@@ Name@@ ) + "@@ )@@ ;@@ ")); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ } (@@ Exception e) { java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ throw new I@@ ll@@ eg@@ al@@ St@@ ate@@ Exception@@ (@@ \@@ "@@ Fail@@ ed to fin@@ d or in@@ vo@@ k@@ e A@@ P@@ I m@@ et@@ hod@@ .@@ "@@ )) Th@@ e fail@@ ur@@ e is in a@@ uto@@ -@@ gener@@ ate@@ d c@@ od@@ e and in@@ d@@ ic@@ ate@@ s a b@@ u@@ g in the J@@ A@@ X@@ -@@ R@@ S int@@ r@@ a@@ fac@@ es gener@@ ation pro@@ cess@@ \@@ ", e@@ )@@ ;@@ "); java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); }
private void w@@ rit@@ e@@ Action@@ Validation@@ Method@@ Name(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ public static void validate@@ %@@ s(@@ action@@ ) { java@@ Names@@ .get@@ J@@ ava@@ Class@@ Sty@@ le@@ Name(@@ m@@ et@@ hod@@ .getName()@@ )); }
private static void update@@ Base@@ Method@@ s@@ Map@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ , java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ > m@@ et@@ hod@@ s, java.util.Map@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ , java.util.Set@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ >> b@@ ase@@ Method@@ s) { for (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d current@@ Met@@ h@@ o@@ d : m@@ et@@ hod@@ s) { if ((@@ (c@@ urrent@@ Method@@ .get@@ Bas@@ e()) != null@@ ) && (c@@ urrent@@ Method@@ .get@@ Bas@@ e().@@ equals(@@ m@@ et@@ hod@@ ))) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ add(@@ b@@ ase@@ Method@@ s, m@@ et@@ hod@@ , current@@ Method@@ ); } }
public static boolean is@@ Action@@ S@@ ign@@ at@@ ur@@ e(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { return (((@@ m@@ et@@ hod@@ .get@@ Bas@@ e()) != null@@ ) && (!(@@ m@@ et@@ hod@@ .get@@ Bas@@ e().get@@ Name()@@ .equals(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ AD@@ D@@ AT@@ E@@ ))) && (!(@@ m@@ et@@ hod@@ .get@@ Bas@@ e().get@@ Name()@@ .equals(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ UP@@ D@@ AT@@ E@@ ))); }
private static void add(@@ java.util.Map@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ , java.util.Set@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ >> b@@ ase@@ Method@@ s, org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ , org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d current@@ Method@@ ) { if (!(@@ b@@ ase@@ Method@@ s.@@ contain@@ s@@ Key@@ (@@ m@@ et@@ hod@@ ))) { b@@ ase@@ Method@@ s.@@ put(@@ m@@ et@@ hod@@ , new java.util.Hash@@ Set@@ ()); } java.util.Set@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ > s@@ ign@@ at@@ ure@@ s = ((@@ java.util.Set@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ >) (@@ b@@ ase@@ Method@@ s.get@@ (@@ m@@ et@@ hod@@ ))); s@@ ign@@ at@@ ur@@ es.@@ add@@ (c@@ urrent@@ Method@@ ); }
private void gener@@ ate@@ Validation@@ Method@@ Name(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er paramet@@ er = org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Util@@ s.get@@ Main@@ Add@@ Parameter@@ (@@ m@@ et@@ hod@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Import@@ s(@@ s@@ ch@@ em@@ a@@ Names@@ .get@@ X@@ j@@ c@@ Type@@ Re@@ fer@@ enc@@ e(@@ parameter@@ .get@@ Typ@@ e()@@ ).get@@ Import@@ s()); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ public static void validate@@ %@@ s(@@ %@@ s %@@ s) { ", java@@ Names@@ .get@@ J@@ ava@@ Class@@ Sty@@ le@@ Name(@@ m@@ et@@ hod@@ .getName()@@ ), java@@ Names@@ .get@@ J@@ ava@@ Class@@ Sty@@ le@@ Name(@@ parameter@@ .getName()@@ ), java@@ Names@@ .get@@ J@@ ava@@ Mem@@ ber@@ Sty@@ le@@ Name(@@ parameter@@ .getName()@@ )); }
public static org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er get@@ Main@@ Add@@ Parameter@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er m@@ ain@@ Paramet@@ er = m@@ et@@ hod@@ .get@@ Parameters@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( x@@ ) -@@ > ((@@ x@@ .get@@ Type()) instanceof org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ St@@ r@@ uct@@ Type@@ ) || ((@@ x@@ .get@@ Type()) instanceof org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ List@@ Type@@ )).@@ fin@@ d@@ F@@ ir@@ st@@ ().@@ or@@ El@@ se@@ (@@ null@@ ); return m@@ ain@@ Parameter@@ ; }
public static boolean is@@ Add@@ S@@ ign@@ at@@ ur@@ e(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { return ((@@ m@@ et@@ hod@@ .get@@ Bas@@ e()) != null@@ ) && (@@ m@@ et@@ hod@@ .get@@ Bas@@ e().get@@ Name()@@ .equals(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ AD@@ D@@ )); }
public static org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er get@@ Main@@ Update@@ Parameter@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er m@@ ain@@ Paramet@@ er = m@@ et@@ hod@@ .get@@ Parameters@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( x@@ ) -@@ > (@@ x@@ .get@@ Type()) instanceof org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ St@@ r@@ uct@@ Type@@ ).@@ fin@@ d@@ F@@ ir@@ st@@ ().@@ or@@ El@@ se@@ (@@ null@@ ); return m@@ ain@@ Parameter@@ ; }
public static boolean is@@ Update@@ S@@ ign@@ at@@ ur@@ e(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { return ((@@ m@@ et@@ hod@@ .get@@ Bas@@ e()) != null@@ ) && (@@ m@@ et@@ hod@@ .get@@ Bas@@ e().get@@ Name()@@ .equals(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ UP@@ D@@ AT@@ E@@ )); }
public static java.util.Map@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ , java.util.Set@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ >> get@@ Base@@ Method@@ s@@ Map@@ (@@ java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ > m@@ et@@ hod@@ s) { java.util.Map@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ , java.util.Set@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ >> b@@ ase@@ Method@@ s = new java.util.HashMap@@ <@@ >(); m@@ et@@ hod@@ s@@ .@@ for@@ E@@ ach@@ (@@ ( x@@ ) -@@ > update@@ Base@@ Method@@ s@@ Map@@ (@@ x@@ , m@@ et@@ hod@@ s, b@@ ase@@ Method@@ s@@ )); return b@@ ase@@ Method@@ s@@ ; }
private void c@@ lo@@ se@@ S@@ ign@@ at@@ ure@@ Det@@ ection@@ Method@@ () { java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ else { java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ return null@@ ; }
private void gener@@ ate@@ Add@@ S@@ ign@@ at@@ ur@@ e(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { gener@@ ate@@ D@@ oc@@ (@@ m@@ et@@ hod@@ ); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er m@@ ain@@ Paramet@@ er = org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Util@@ s.get@@ Main@@ Add@@ Parameter@@ (@@ m@@ et@@ hod@@ ); if (@@ m@@ ain@@ Paramet@@ er == null@@ ) { java.lang.@@ System@@ .@@ err@@ .@@ p@@ r@@ int@@ l@@ n@@ ((@@ ("@@ Met@@ h@@ o@@ d \@@ "@@ " + m@@ et@@ hod@@ ) + "@@ \@@ " do@@ es@@ n@@ \@@ '@@ t h@@ av@@ e an@@ y str@@ uc@@ t parameter@@ ")); return@@ ; } org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Type m@@ ain@@ Type = m@@ ain@@ Parameter@@ .get@@ Typ@@ e(); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ ava@@ Type@@ Re@@ fer@@ enc@@ e m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e = s@@ ch@@ em@@ a@@ Names@@ .get@@ X@@ j@@ c@@ Type@@ Re@@ fer@@ enc@@ e(@@ m@@ ain@@ Type@@ ); java.lang.String parameter@@ Name = java@@ Names@@ .get@@ J@@ ava@@ Mem@@ ber@@ Sty@@ le@@ Name(@@ m@@ ain@@ Parameter@@ .get@@ Name()); java.lang.String m@@ et@@ hod@@ Name = con@@ cat@@ en@@ ate@@ Name(@@ m@@ et@@ hod@@ .get@@ Bas@@ e().get@@ Name()); java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e@@ (((@@ "@@ default Respon@@ se " + m@@ et@@ hod@@ Name@@ ) + "@@ (@@ %@@ s %@@ s) {@@ "@@ ), m@@ ain@@ Type@@ Re@@ fer@@ enc@@ e.get@@ Text@@ (), parameter@@ Name@@ ); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ throw new Un@@ support@@ ed@@ Operation@@ Exception@@ ()@@ ;@@ "); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(); }
private static boolean is@@ Att@@ rib@@ ut@@ es@@ Cont@@ ain@@ ed(@@ java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ol@@ v@@ ement@@ T@@ ree@@ > m@@ and@@ ator@@ y@@ Att@@ rib@@ ut@@ es@@ 1, java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ement@@ T@@ ree@@ > m@@ and@@ ator@@ y@@ Att@@ rib@@ ut@@ es@@ 2@@ ) { return org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ Utils.@@ to@@ Nam@@ es(@@ m@@ and@@ ator@@ y@@ Att@@ rib@@ ut@@ es@@ 2@@ ).@@ contain@@ s@@ All@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ Gener@@ ator@@ Utils.@@ to@@ Nam@@ es(@@ m@@ and@@ ator@@ y@@ Att@@ rib@@ ut@@ es@@ 1@@ )); }
private static java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name@@ > to@@ Nam@@ es(@@ java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ol@@ v@@ ement@@ T@@ ree@@ > att@@ rib@@ ut@@ es) { java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name@@ > name@@ s = new java.util.ArrayList<@@ >(); for (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ement@@ T@@ re@@ e att@@ rib@@ ut@@ e : att@@ rib@@ ut@@ es) { nam@@ es.@@ add@@ (((@@ att@@ rib@@ ut@@ e.get@@ Al@@ er@@ native@@ ()) == null ? att@@ rib@@ ut@@ e.@@ sh@@ al@@ low@@ To@@ String@@ () : org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ Gener@@ ator@@ Utils.@@ com@@ b@@ in@@ e@@ Al@@ t@@ er@@ native@@ s(@@ att@@ rib@@ ut@@ e@@ ))); } return nam@@ es@@ ; }
private void gener@@ ate@@ Validation@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { gener@@ ate@@ Validation@@ Method@@ Name(@@ m@@ et@@ hod@@ ); for (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er paramet@@ er : m@@ et@@ hod@@ .get@@ Parameters@@ ()) { gener@@ ate@@ Parameter@@ Validation@@ (@@ parameter@@ ); } java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); }
private void gener@@ ate@@ Hel@@ per@@ Cod@@ e(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { boolean b@@ ase = b@@ ase@@ Method@@ s.@@ contain@@ s@@ Key@@ (@@ m@@ et@@ hod@@ ); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name nam@@ e = m@@ et@@ hod@@ .get@@ Nam@@ e(); if ((((@@ ((@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ G@@ ET@@ .equals(@@ name@@ )) || (@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ L@@ IST@@ .equals(@@ name@@ ))) || (@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ RE@@ M@@ OV@@ E@@ .equals(@@ name@@ ))) || (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ is@@ S@@ ign@@ at@@ ur@@ e(@@ m@@ et@@ hod@@ ))) || (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ is@@ Update@@ S@@ ign@@ at@@ ur@@ e(@@ m@@ et@@ hod@@ ))) || (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ is@@ Action@@ S@@ ign@@ at@@ ur@@ e(@@ m@@ et@@ hod@@ ))) { return@@ ; } if ((@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ AD@@ D@@ .equals(@@ name@@ )) || (@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ UP@@ D@@ AT@@ E@@ .equals(@@ name@@ ))) { if (@@ b@@ as@@ e) { gener@@ ate@@ S@@ ign@@ at@@ ure@@ Det@@ ection@@ (@@ m@@ et@@ hod@@ ); } else { if (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ is@@ M@@ and@@ ator@@ y@@ Parameters@@ Exist@@ (@@ m@@ et@@ hod@@ )) { gener@@ ate@@ Validation@@ (@@ m@@ et@@ hod@@ ); } else { if (@@ b@@ as@@ e) { gener@@ ate@@ Action@@ S@@ ign@@ at@@ ure@@ Det@@ ection@@ (@@ m@@ et@@ hod@@ , ser@@ vi@@ ce@@ Method@@ s); } else if (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ is@@ M@@ and@@ ator@@ y@@ Parameters@@ Exist@@ (@@ m@@ et@@ hod@@ )) { if (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Utils.@@ is@@ M@@ and@@ ator@@ y@@ Parameters@@ Exist@@ (@@ m@@ et@@ hod@@ )) { if (@@ m@@ et@@ hod@@ )) { if (@@ m@@ et@@ hod@@ ); } } else { gener@@ ate@@ Action@@ (); } }
private void gener@@ ate@@ Action@@ S@@ ign@@ at@@ ur@@ e(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { gener@@ ate@@ D@@ oc@@ (@@ m@@ et@@ hod@@ ); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name m@@ et@@ hod@@ Name = new org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name(@@ m@@ et@@ hod@@ .get@@ Bas@@ e().get@@ Name()); m@@ et@@ hod@@ Nam@@ e.@@ add@@ W@@ or@@ ds@@ (@@ m@@ et@@ hod@@ .get@@ Nam@@ e().get@@ W@@ or@@ ds@@ ()); java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ Respon@@ se %@@ s(@@ Ac@@ tion action@@ ) { j@@ a@@ x@@ r@@ s@@ Names@@ .get@@ Method@@ Name(@@ m@@ et@@ hod@@ Name@@ )); java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ throw new Un@@ support@@ ed@@ Operation@@ Exception@@ ()@@ ;@@ "); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); }
private void gener@@ ate@@ Parameter@@ Validation@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er parameter@@ ) { for (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ol@@ v@@ ement@@ T@@ re@@ e att@@ rib@@ ut@@ e : parameter@@ .get@@ M@@ and@@ ator@@ y@@ Att@@ rib@@ ut@@ es@@ ()) { java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ol@@ v@@ ement@@ T@@ ree@@ > lis@@ t = st@@ ack@@ Att@@ rib@@ ut@@ e@@ Comp@@ on@@ ent@@ s(@@ att@@ rib@@ ut@@ e); java.lang.String att@@ rib@@ ut@@ e@@ P@@ at@@ h = get@@ Att@@ rib@@ ut@@ e@@ Path@@ (@@ list@@ ); java.lang.String nam@@ e = java@@ Names@@ .get@@ J@@ ava@@ Mem@@ ber@@ Sty@@ le@@ Name(@@ parameter@@ .get@@ Name()); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e@@ (((@@ "@@ if (@@ " + nam@@ e) + "@@ == null@@ ")); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ get@@ F@@ ull@@ Att@@ rib@@ ut@@ e@@ Check@@ (@@ java@@ Names@@ .get@@ J@@ ava@@ Mem@@ ber@@ Sty@@ le@@ Name(@@ parameter@@ .getName()@@ ), list@@ , org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ Gener@@ ator.@@ O@@ per@@ ator.@@ OR@@ )); java@@ B@@ u@@ f@@ er.@@ add@@ Lin@@ e@@ ((((@@ "@@ throw new I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ (@@ \@@ "@@ In@@ val@@ id in@@ put@@ , " + nam@@ e) + " att@@ rib@@ ut@@ e@@ Path@@ ) + " is m@@ and@@ ator@@ y@@ \@@ "@@ )@@ ;@@ ")); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); java@@ B@@ u@@ f@@ f@@ f@@ f@@ er.@@ add@@ Lin@@ e(); } }
public static boolean is@@ Cont@@ ain@@ ed(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ , org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ 2@@ ) { if (@@ m@@ et@@ hod@@ .getName()@@ .equals(@@ m@@ et@@ hod@@ 2@@ .getName()@@ )) { return false@@ ; } if (((@@ m@@ et@@ hod@@ .get@@ Bas@@ e()) == null@@ ) || ((@@ m@@ et@@ hod@@ 2@@ .get@@ Bas@@ e()) == null@@ )) { return false@@ ; } if (!(@@ m@@ et@@ hod@@ .get@@ Bas@@ e().get@@ Name()@@ .equals(@@ m@@ et@@ hod@@ 2@@ .get@@ Bas@@ e().get@@ Name()@@ ))) { return false@@ ; } return (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ util.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ Gener@@ ator@@ Utils.@@ is@@ Parameters@@ Cont@@ ain@@ ed(@@ m@@ et@@ hod@@ .get@@ M@@ and@@ ator@@ y@@ Parameters@@ (), m@@ et@@ hod@@ .get@@ M@@ and@@ ator@@ y@@ Parameters@@ ())) && (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ Gener@@ ator@@ Utils.@@ is@@ Att@@ rib@@ ut@@ es@@ Cont@@ ain@@ ed(@@ m@@ et@@ hod@@ .get@@ M@@ and@@ ator@@ y@@ Att@@ rib@@ ut@@ es@@ (), m@@ et@@ hod@@ 2@@ .get@@ M@@ and@@ ator@@ y@@ Att@@ rib@@ ut@@ es@@ ())); }
private void gener@@ ate@@ S@@ ign@@ at@@ ure@@ Det@@ ection@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er paramet@@ er = org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ util.@@ J@@ a@@ x@@ r@@ s@@ Gener@@ ator@@ Util@@ s.get@@ Main@@ Add@@ Parameter@@ (@@ m@@ et@@ hod@@ ); java@@ B@@ u@@ f@@ f@@ f@@ er.@@ add@@ Import@@ s(@@ s@@ ch@@ em@@ a@@ Names@@ .get@@ X@@ j@@ c@@ Type@@ Re@@ fer@@ enc@@ e(@@ parameter@@ .get@@ Typ@@ e()@@ ).get@@ Import@@ s()); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name m@@ et@@ hod@@ Name = get@@ S@@ ign@@ at@@ ure@@ Det@@ ection@@ Method@@ Name(@@ m@@ et@@ hod@@ ); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name parameter@@ .get@@ Nam@@ e(); java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ public static Met@@ h@@ o@@ d %@@ s(@@ %@@ s %@@ s) throw@@ s No@@ Su@@ ch@@ Method@@ Exception@@ , Sec@@ ur@@ ity@@ Exception {@@ ", java@@ Names@@ .get@@ J@@ ava@@ Mem@@ ber@@ Sty@@ le@@ Name(@@ m@@ et@@ hod@@ Name@@ ), java@@ Names@@ .get@@ J@@ ava@@ Class@@ Sty@@ le@@ Name(@@ parameter@@ Name@@ ), java@@ Names@@ .get@@ J@@ ava@@ Mem@@ ber@@ Sty@@ le@@ Name(@@ parameter@@ Name@@ )); gener@@ ate@@ Parameter@@ Validation@@ (@@ parameter@@ ); java.util.Set@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ > s@@ ign@@ at@@ ure@@ s = b@@ ase@@ Method@@ s.get@@ (@@ m@@ et@@ hod@@ ); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ Gener@@ ator.@@ C@@ y@@ cl@@ ic@@ I@@ ter@@ ator = new org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ ator.@@ C@@ y@@ cl@@ ic@@ I@@ ter@@ ator@@ (s@@ ign@@ at@@ ur@@ es@@ ); while (@@ it@@ er@@ ator.@@ has@@ N@@ ext@@ ()) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d s@@ ign@@ at@@ ur@@ e = it@@ er@@ ator.@@ ne@@ xt@@ (); if (!(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ Utils.@@ is@@ Cont@@ ain@@ ed(@@ s@@ ign@@ at@@ ure@@ , s@@ ign@@ at@@ ure@@ , s@@ ign@@ at@@ ure@@ , s@@ ign@@ at@@ ure@@ , parameter@@ .get@@ Name(), s@@ ign@@ at@@ ure@@ , parameter@@ Name@@ ); } }
private java.lang.String get@@ F@@ ull@@ Att@@ rib@@ ut@@ e@@ Check@@ (java.lang.String param@@ Name, java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ement@@ T@@ ree@@ > list@@ , org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ Gener@@ ator.@@ O@@ per@@ ator o@@ per@@ ator@@ ) { java.lang.String@@ Buil@@ der build@@ er = new java.lang.String@@ Builder@@ (); for (@@ int i = 0@@ ; i < (@@ lis@@ t.@@ siz@@ e()); i@@ +@@ +@@ ) { buil@@ der.@@ append@@ (@@ o@@ per@@ ator@@ .get@@ P@@ add@@ ed@@ S@@ ign@@ ()).@@ append@@ (@@ param@@ Name@@ ).@@ append@@ (get@@ Att@@ rib@@ ut@@ e@@ Path@@ (@@ lis@@ t.@@ sub@@ List@@ (0@@ , (@@ i + 1@@ )@@ )).@@ append@@ (@@ o@@ per@@ ator.@@ com@@ ap@@ r@@ is@@ on@@ ).@@ append@@ (@@ "@@ null@@ "); } java.lang.String att@@ rib@@ ut@@ e@@ Ch@@ ec@@ k = buil@@ der.@@ toString@@ (); if (@@ att@@ rib@@ ut@@ e@@ Check@@ .@@ en@@ ds@@ With@@ ("@@ .@@ siz@@ e()@@ !@@ =@@ 0@@ != null@@ "@@ )) { att@@ rib@@ ut@@ e@@ Ch@@ ec@@ k = att@@ rib@@ ut@@ e@@ Check@@ .@@ sub@@ st@@ ring@@ (0@@ , ((@@ att@@ rib@@ ut@@ e@@ Check@@ .@@ l@@ ength@@ ()) - 6@@ )); } return att@@ rib@@ ut@@ e@@ Check@@ ; }
private void gener@@ ate@@ Action@@ Validation@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ ) { w@@ rit@@ e@@ Action@@ Method@@ Name(@@ m@@ et@@ hod@@ ); for (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er paramet@@ er : m@@ et@@ hod@@ .get@@ Parameters@@ ()) { gener@@ ate@@ Action@@ Parameter@@ Validation@@ (@@ parameter@@ ); } java@@ B@@ u@@ f@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ }@@ "); }
private java.lang.String get@@ Att@@ rib@@ ut@@ e@@ Path@@ (@@ java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ol@@ v@@ ol@@ v@@ ement@@ T@@ ree@@ > list@@ ) { java.lang.String@@ Buil@@ der att@@ rib@@ ut@@ e@@ P@@ at@@ h = new java.lang.String@@ Builder@@ (); for (@@ int i = 0@@ ; i < (@@ lis@@ t.@@ siz@@ e()); i@@ +@@ +@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ol@@ v@@ ement@@ T@@ re@@ e c@@ urr@@ ent = lis@@ t.get@@ (@@ i@@ ); att@@ rib@@ ut@@ e@@ Path@@ .@@ append("@@ .get@@ ").@@ append@@ (@@ java@@ Names@@ .get@@ J@@ ava@@ Class@@ Sty@@ le@@ Name(@@ c@@ urr@@ ent.@@ get@@ Name()@@ )).@@ append("@@ ()@@ "); if (c@@ urr@@ ent.@@ is@@ Collection@@ ()) { if (@@ i == ((@@ lis@@ t.@@ size()) - 1@@ )) { att@@ rib@@ ut@@ e@@ Path@@ .@@ append("@@ .get@@ ").@@ append@@ (@@ java@@ Names@@ .get@@ J@@ ava@@ Class@@ Sty@@ le@@ Name(@@ c@@ urr@@ ent.@@ get@@ Name()@@ )).@@ append("@@ ().@@ siz@@ e()@@ !@@ =@@ 0@@ "); } else { att@@ rib@@ ut@@ e@@ Path@@ .@@ append("@@ .get@@ ").@@ append@@ (@@ java@@ Names@@ .get@@ J@@ ava@@ Class@@ Sty@@ le@@ Name(@@ c@@ urr@@ ent.@@ get@@ Name()@@ )).@@ append("@@ ().get@@ (0@@ )@@ "); } } return att@@ rib@@ ut@@ e@@ Path@@ .toString@@ (); }
private void gener@@ ate@@ Hel@@ per@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Servic@@ e ser@@ vi@@ ce@@ ) { init@@ Var@@ i@@ abl@@ es(@@ ser@@ vi@@ ce@@ ); ser@@ vi@@ ce@@ Method@@ s@@ .@@ for@@ E@@ ach@@ (@@ ( x@@ ) -@@ > gener@@ ate@@ Hel@@ per@@ Cod@@ e(@@ x@@ )); try { java@@ B@@ u@@ f@@ f@@ er.@@ w@@ rit@@ e(@@ out@@ D@@ ir@@ ); } catch (@@ java.io.@@ I@@ O@@ Exception ex@@ ce@@ ption@@ ) { ex@@ ce@@ ption@@ .@@ p@@ r@@ int@@ St@@ ack@@ Tr@@ ac@@ e(); } }
public static boolean is@@ Cont@@ ain@@ ed(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ hod@@ , java.util.Collection@@ <@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ > m@@ et@@ hod@@ s) { for (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d current@@ Met@@ h@@ o@@ d : m@@ et@@ hod@@ s) { if (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ to@@ o@@ l.@@ J@@ a@@ x@@ r@@ s@@ Hel@@ per@@ Gener@@ ator@@ Utils.@@ is@@ Cont@@ ain@@ ed(@@ m@@ et@@ hod@@ , current@@ Method@@ )) { return true@@ ; } } return false@@ ; }
private static boolean is@@ Parameters@@ Cont@@ ain@@ ed(@@ java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Parameter@@ > m@@ and@@ ator@@ y@@ Parameters@@ 1, java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Parameter@@ > m@@ and@@ ator@@ y@@ Parameters@@ 2@@ ) { java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name@@ > nam@@ es@@ 1 = new java.util.ArrayList<@@ >(); java.util.List<@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name@@ > nam@@ es@@ 2 = new java.util.ArrayList<@@ >(); for (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er p : m@@ and@@ ator@@ y@@ Parameters@@ 1@@ ) { nam@@ es@@ 1@@ .@@ add(@@ p@@ .get@@ Name()); } for (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er p : m@@ and@@ ator@@ y@@ Parameters@@ 2@@ ) { nam@@ es@@ 2@@ .@@ add(@@ p@@ .get@@ Name()); } return m@@ and@@ ator@@ y@@ Parameters@@ 2@@ .@@ contain@@ s@@ All@@ (@@ m@@ and@@ ator@@ y@@ Parameters@@ 1@@ ); }
private static org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name com@@ b@@ in@@ e@@ Al@@ t@@ er@@ native@@ s(@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Mem@@ ber@@ In@@ v@@ ol@@ v@@ ement@@ T@@ re@@ e att@@ rib@@ ut@@ e) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name name@@ 1 = att@@ rib@@ ut@@ e.@@ sh@@ al@@ low@@ To@@ String@@ (); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name name@@ 2 = att@@ rib@@ ut@@ e.get@@ Al@@ t@@ er@@ native@@ ().@@ sh@@ al@@ low@@ To@@ String@@ (); if ((@@ name@@ 1@@ .toString@@ ().@@ comp@@ are@@ To@@ (@@ name@@ 2@@ .toString@@ ())) < 0) { name@@ 1@@ .@@ add@@ W@@ or@@ ds@@ (@@ name@@ 2@@ .get@@ W@@ or@@ ds@@ ()); return name@@ 1@@ ; } else { name@@ 2@@ .@@ add@@ W@@ or@@ ds@@ (@@ name@@ 1@@ .get@@ W@@ or@@ ds@@ ()); return name@@ 2@@ ; } }
public void update@@ In@@ itial@@ Run@@ Fi@@ el@@ ds@@ () { get@@ Is@@ S@@ y@@ sp@@ re@@ p@@ P@@ os@@ si@@ bl@@ e().set@@ Entity@@ (get@@ Is@@ W@@ in@@ do@@ w@@ s@@ O@@ S@@ ()); get@@ Is@@ S@@ y@@ sp@@ re@@ p@@ Enabled@@ ().set@@ Entity@@ ((@@ (get@@ In@@ itial@@ iz@@ ation@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ iz@@ ation@@ Type.@@ S@@ y@@ sp@@ re@@ p@@ ))); get@@ Is@@ C@@ lo@@ u@@ d@@ Init@@ P@@ os@@ si@@ bl@@ e().set@@ Entity@@ ((!@@ (get@@ Is@@ W@@ in@@ do@@ w@@ s@@ O@@ S@@ ()))); get@@ Is@@ C@@ lo@@ u@@ d@@ Init@@ Enabled@@ ().set@@ Entity@@ ((@@ (get@@ In@@ itial@@ iz@@ ation@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ In@@ itial@@ iz@@ ation@@ Type.@@ C@@ lo@@ u@@ d@@ Init@@ ))); get@@ Is@@ C@@ lo@@ u@@ d@@ Init@@ Enabled@@ ().setIs@@ Available@@ ((!@@ (get@@ Is@@ W@@ in@@ do@@ w@@ s@@ O@@ S@@ ()))); if ((get@@ Is@@ S@@ y@@ sp@@ re@@ p@@ P@@ os@@ si@@ bl@@ e().get@@ Entity@@ ()) && (get@@ Is@@ S@@ y@@ sp@@ re@@ p@@ Enabled@@ ().getEntity@@ ())) { getVm@@ Init@@ Model@@ ().@@ update@@ S@@ y@@ sp@@ re@@ p@@ Domain@@ (@@ null@@ ); } }
private void vm@@ Init@@ Enabled@@ Changed@@ () { if (!@@ (get@@ Vm@@ Init@@ Enabled@@ ().getEntity@@ ())) { get@@ S@@ y@@ sp@@ re@@ p@@ Enabled@@ ().set@@ Entity@@ (@@ false@@ ); get@@ C@@ lo@@ u@@ d@@ Init@@ Enabled@@ ().set@@ Entity@@ (@@ false@@ ); } else { get@@ S@@ y@@ sp@@ re@@ p@@ Enabled@@ ().set@@ Entity@@ (get@@ Is@@ W@@ in@@ do@@ w@@ s@@ O@@ S@@ ()); get@@ C@@ lo@@ u@@ d@@ Init@@ Enabled@@ ().set@@ Entity@@ ((!@@ (get@@ Is@@ W@@ in@@ do@@ w@@ s@@ O@@ S@@ ()))); a@@ uto@@ Set@@ Host@@ nam@@ e(); if (get@@ S@@ y@@ sp@@ re@@ p@@ Enabled@@ ().getEntity@@ ()) { getVm@@ Init@@ Model@@ ().@@ update@@ S@@ y@@ sp@@ re@@ p@@ Domain@@ (@@ null@@ ); } }
@java.lang.Override public java.util.List<java.lang.String> add@@ Mac@@ s(@@ java.util.List<java.lang.String> mac@@ s) { java.util.List<java.lang.String> not@@ Add@@ ed@@ Mac@@ s = new java.util.ArrayList<@@ >@@ (@@ mac@@ s.@@ siz@@ e()); for (java.lang.String ma@@ c : mac@@ s) { if (@@ add@@ Mac@@ (@@ mac@@ )) { not@@ Add@@ ed@@ Mac@@ s.add(@@ mac@@ ); } } return not@@ Add@@ ed@@ Mac@@ s@@ ; }
public void m@@ ove@@ Mac@@ s@@ Of@@ Updat@@ ed@@ Cluster@@ (org.ovirt.engine.core.compat.Guid source@@ Mac@@ Pool@@ Id, org.ovirt.engine.core.compat.Guid target@@ Mac@@ Pool@@ Id, org.ovirt.engine.core.compat.Guid mac@@ To@@ Migr@@ ate@@ Mac@@ Pool@@ Id, org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t command@@ Context@@ ) { java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (@@ source@@ Mac@@ Pool@@ Id); java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (@@ target@@ Mac@@ Pool@@ Id); if (@@ ne@@ ed@@ To@@ Migr@@ ate@@ Mac@@ s == null@@ ) { target@@ Mac@@ Pool@@ Id = target@@ Mac@@ Pool@@ Id@@ ; } else { end@@ Migr@@ ate@@ Mac@@ To@@ Migr@@ ate@@ Mac@@ (@@ mac@@ To@@ Migr@@ ate@@ Mac@@ Pool@@ ); } }
private void m@@ igr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ (org.ovirt.engine.core.compat.Guid source@@ Mac@@ Pool@@ Id, org.ovirt.engine.core.compat.Guid target@@ Mac@@ Pool@@ Id) , java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ >> mac@@ To@@ Migr@@ ate@@ , org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t command@@ Context@@ ) { java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (@@ mac@@ To@@ Migr@@ ate@@ ); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool source@@ Pool = pool@@ Per@@ Cluster@@ .get@@ Mac@@ Pool@@ By@@ Id(@@ source@@ Mac@@ Pool@@ Id, command@@ Context@@ ); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool target@@ Pool = pool@@ Per@@ Cluster@@ .get@@ Mac@@ Pool@@ By@@ Id@@ (@@ target@@ Mac@@ Pool@@ Id, command@@ Context@@ ); for (java.lang.String ma@@ c : mac@@ To@@ Migr@@ ate@@ ) { source@@ Poo@@ l.@@ f@@ ree@@ Mac@@ (@@ mac@@ ); target@@ Pool@@ .@@ for@@ ce@@ Add@@ Mac@@ (@@ mac@@ ); } }
private void update@@ All@@ C@@ lust@@ ers@@ Mac@@ Pool@@ () { final org.ovirt.engine.core.compat.Guid new@@ Mac@@ Pool@@ Id = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.getParameters().get@@ StoragePool@@ ().get@@ Mac@@ Pool@@ Id@@ (); final boolean sh@@ oul@@ d@@ Set@@ New@@ Mac@@ Pool@@ On@@ All@@ Cluster@@ s = new@@ Mac@@ Pool@@ Id != null@@ ; if (@@ sh@@ oul@@ d@@ Set@@ New@@ Mac@@ Pool@@ On@@ All@@ C@@ lust@@ ers@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Cluster@@ > cluster@@ s = cluster@@ Dao@@ .get@@ AllFor@@ StoragePool@@ (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.get@@ StoragePool@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster : c@@ lust@@ ers@@ ) { this@@ .@@ m@@ ove@@ Mac@@ s.@@ update@@ Cluster@@ And@@ Move@@ Mac@@ s(@@ cluster@@ , new@@ Mac@@ Pool@@ Id, org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.get@@ Context@@ ()); } }
public org.ovirt.engine.api.model.@@ Disk@@ s list@@ () { final org.ovirt.engine.api.model.@@ Disk@@ s disk@@ s = new org.ovirt.engine.api.model.@@ Disk@@ (); disk@@ .@@ .@@ .@@ isEmpty@@ ()); disk@@ .@@ set@@ Vm@@ Id(@@ disk@@ ); disk@@ .@@ set@@ Vm@@ Id(@@ disk@@ ); }
@java.lang.Override protected void execute@@ Vm@@ Command() { vm@@ Handler.@@ w@@ ar@@ n@@ Memory@@ Size@@ L@@ eg@@ al@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm@@ ().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ AddVm@@ Command.get@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ ()); java.util.List<java.lang.String> error@@ Message@@ s = new java.util.ArrayList<@@ >(); if (!@@ (c@@ an@@ AddVm@@ (@@ error@@ Messages@@ , d@@ est@@ Stor@@ ages.@@ valu@@ es@@ ()))) { log.error@@ ("@@ Fail@@ ed to ad@@ d VM@@ . Th@@ e re@@ ason@@ s are@@ : {}@@ ", java.lang.String.@@ j@@ o@@ in@@ ("@@ ,@@ ", error@@ Messages@@ )); return@@ ; } if (!(@@ add@@ Vm@@ L@@ e@@ as@@ e(@@ org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Vm@@ ().get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ AddVm@@ Command.getVm@@ Id@@ ()))) { return@@ ; } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > add@@ Vm@@ Static@@ (); add@@ Vm@@ Dynamic@@ (); add@@ VmNetwork@@ (); add@@ Vm@@ Numa@@ Nod@@ es@@ (); add@@ Vm@@ Statistic@@ s(); add@@ Active@@ Snapshot@@ (); add@@ Vm@@ Permission@@ (); add@@ Vm@@ Init@@ (); add@@ Vm@@ Rng@@ Devic@@ e(); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; }); if (@@ add@@ Vm@@ Images@@ ()) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { c@@ opy@@ Disk@@ Vm@@ Element@@ s(); c@@ opy@@ Vm@@ Devic@@ es@@ (); add@@ Disk@@ Permission@@ s(); add@@ Vm@@ P@@ ay@@ load@@ (); update@@ S@@ m@@ art@@ C@@ ard@@ Devic@@ es@@ (); add@@ Vm@@ W@@ at@@ ch@@ do@@ g@@ (); add@@ Graphics@@ Devic@@ e(); setAction@@ Return@@ Value(@@ getVm@@ ().get@@ Id()); get@@ VmDevice@@ Util@@ s().@@ update@@ Vir@@ ti@@ o@@ S@@ csi@@ Cont@@ ro@@ ll@@ er@@ (get@@ Vm@@ ().get@@ StaticData@@ (), get@@ Parameters@@ ().is@@ Vir@@ ti@@ o@@ S@@ csi@@ Enabled@@ ()); set@@ Succeeded@@ (@@ true@@ ); return null@@ ; } }); if ((org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ Pool@@ Id()) != null@@ ) { add@@ Vm@@ To@@ Pool@@ (); } dis@@ c@@ ard@@ Helper.@@ log@@ If@@ Disks@@ With@@ I@@ ll@@ eg@@ al@@ P@@ ass@@ Dis@@ c@@ ard@@ Exist@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getVm@@ Id()); }
@org.junit.Test public void status@@ Supported@@ For@@ Host@@ Up@@ g@@ r@@ ad@@ e() { assert@@ That@@ (@@ validator.@@ status@@ Supported@@ For@@ Host@@ Up@@ g@@ r@@ ad@@ e(), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ ()); }
private void remove@@ Image@@ () { org.ovirt.engine.core.common.action.@@ Remove@@ Image@@ Parameters remove@@ Image@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Remove@@ Image@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ From@@ Template@@ Command.getParameters().get@@ Dest@@ ination@@ Image@@ Id()); remove@@ Image@@ Param@@ s.set@@ StorageDomain@@ Id@@ (get@@ Dest@@ ination@@ StorageDomain@@ Id()); remove@@ Image@@ Param@@ s.set@@ Parent@@ Command@@ (VdcActionType.@@ Remove@@ Image@@ ); remove@@ Image@@ Param@@ s.set@@ Db@@ Operation@@ S@@ c@@ op@@ e(@@ Image@@ Db@@ Operation@@ S@@ c@@ op@@ e.@@ N@@ ON@@ E); remove@@ Image@@ Param@@ s.set@@ Sh@@ oul@@ d@@ Lock@@ Image@@ (@@ false@@ ); remove@@ Image@@ Param@@ s.set@@ C@@ or@@ r@@ el@@ ation@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ From@@ Template@@ Command.getParameters().get@@ C@@ or@@ r@@ el@@ ation@@ Id()); remove@@ Image@@ Param@@ s.set@@ Entity@@ Info@@ (@@ new org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ Entity@@ Info@@ (org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ())); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Valu@@ e = run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (VdcActionType.@@ Remove@@ Image@@ , remove@@ Image@@ Param@@ s); if (!@@ (@@ return@@ Valu@@ e.get@@ Succeeded@@ ())) { add@@ AuditLog@@ On@@ Remove@@ Failur@@ e(); } }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > filter@@ (@@ @@@ javax.@@ validation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Per@@ Host@@ Message@@ s mess@@ ages@@ ) { if ((@@ vm.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ Pa@@ us@@ ed@@ )) { return host@@ s@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > go@@ od@@ Host@@ s = new java.util.ArrayList<@@ >(); final int al@@ low@@ ed@@ S@@ w@@ ap@@ Us@@ age = org.apache.commons.lang.@@ mat@@ h@@ .@@ Num@@ ber@@ Utils.@@ to@@ Int@@ (@@ parameters@@ .get(@@ Policy@@ Unit@@ Paramet@@ er.@@ M@@ A@@ X@@ _@@ AL@@ LO@@ W@@ ED_@@ S@@ W@@ A@@ P@@ _@@ US@@ AG@@ E@@ .get@@ Db@@ Name()@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ B@@ lock@@ Migr@@ ation@@ On@@ S@@ w@@ ap@@ Us@@ age@@ Per@@ cent@@ age@@ )); for (org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s : host@@ s) { if (is@@ Host@@ S@@ w@@ app@@ ing@@ (@@ vds@@ , al@@ low@@ ed@@ S@@ w@@ ap@@ Us@@ age@@ )) { org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ S@@ w@@ ap@@ Filter@@ Policy@@ Un@@ it.@@ log.@@ d@@ ebug@@ ("@@ Hos@@ t '{}@@ ' is s@@ w@@ app@@ ing m@@ or@@ e th@@ an al@@ low@@ ed@@ .@@ ", I@@ g@@ n@@ or@@ ing it.@@ ", vds.get@@ Name()); mess@@ ages.@@ add@@ Message@@ (@@ vds.get@@ Id(), EngineMessage.@@ VAR__@@ D@@ ET@@ AIL@@ __@@ S@@ W@@ A@@ P@@ _@@ VAL@@ U@@ E_@@ I@@ L@@ LE@@ G@@ AL@@ .toString@@ ()); continue@@ ; } go@@ od@@ Host@@ s.add(@@ vds@@ ); } return go@@ od@@ Host@@ s@@ ; }
private boolean is@@ Host@@ S@@ w@@ app@@ ing@@ (@@ @@@ javax.@@ validation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull org.ovirt.engine.core.common.businessentities.@@ VDS host@@ , int al@@ low@@ ed@@ S@@ w@@ ap@@ Us@@ age@@ ) { if (!(@@ org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ En@@ able@@ S@@ w@@ ap@@ Check@@ ))) { return false@@ ; } if ((((@@ ((((@@ ((((@@ hos@@ t.get@@ S@@ w@@ ap@@ T@@ otal@@ ()) == null@@ ) || ((@@ hos@@ t.get@@ S@@ w@@ ap@@ F@@ re@@ e()) == null@@ )) || ((@@ hos@@ t.get@@ Mem@@ Avail@@ abl@@ e()) == null@@ )) || ((@@ hos@@ t.get@@ Mem@@ Avail@@ abl@@ e()) <@@ = 0@@ )) || ((@@ hos@@ t.get@@ P@@ h@@ y@@ s@@ ical@@ Mem@@ M@@ b@@ ()) == null@@ )) || ((@@ hos@@ t.get@@ P@@ h@@ y@@ s@@ ical@@ Mem@@ M@@ b@@ ()) <@@ = 0@@ )) { return false@@ ; } long s@@ w@@ ap@@ _@@ t@@ ot@@ al = hos@@ t.get@@ S@@ w@@ ap@@ T@@ otal@@ (); long s@@ w@@ ap@@ _@@ f@@ re@@ e = hos@@ t.get@@ S@@ w@@ ap@@ F@@ re@@ e(); long mem@@ _@@ ava@@ il@@ able = hos@@ t.get@@ Mem@@ Avail@@ abl@@ e(); long p@@ h@@ y@@ s@@ ical@@ _@@ mem@@ _@@ m@@ b = hos@@ t.get@@ P@@ h@@ y@@ s@@ ical@@ Mem@@ M@@ b@@ (); return ((((@@ s@@ w@@ ap@@ _@@ t@@ ot@@ al - s@@ w@@ ap@@ _@@ f@@ re@@ e) - mem@@ _@@ ava@@ il@@ able@@ ) * 1@@ 00@@ ) / p@@ h@@ y@@ s@@ ical@@ _@@ mem@@ _@@ m@@ b@@ ) > al@@ low@@ ed@@ S@@ w@@ ap@@ Us@@ age@@ ; }
@org.junit.Test public void ex@@ ternal@@ Network@@ Name@@ Changed@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ Network ex@@ ternal@@ Network = mock@@ External@@ Network@@ (); assert@@ That@@ (@@ validator.@@ ex@@ ternal@@ Network@@ Detail@@ s@@ Un@@ ch@@ ang@@ ed(@@ ex@@ ternal@@ Network@@ ), is@@ Valid@@ ()); }
@org.junit.Test public void ex@@ ternal@@ Network@@ Description@@ Changed@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.@@ Network ex@@ ternal@@ Network = mock@@ External@@ Network@@ (); assert@@ That@@ (@@ validator.@@ ex@@ ternal@@ Network@@ Detail@@ s@@ Un@@ ch@@ ang@@ ed(@@ ex@@ ternal@@ Network@@ ), is@@ Valid@@ ()); }
@java.lang.Override public void r@@ el@@ e@@ ase@@ Mac@@ s@@ On@@ C@@ omm@@ it@@ (@@ java.util.List<java.lang.String> mac@@ s) { log.@@ d@@ ebug@@ ("@@ M@@ A@@ C n@@ on@@ -@@ comp@@ en@@ s@@ ation st@@ ate@@ , im@@ m@@ ed@@ i@@ at@@ el@@ y r@@ el@@ e@@ as@@ ing mac@@ s@@ "); }
@java.lang.Override public void cl@@ e@@ an@@ ing@@ Comp@@ en@@ s@@ ation@@ Data@@ A@@ f@@ ter@@ Success@@ () { log.@@ d@@ ebug@@ ("@@ M@@ onitor@@ ing s@@ uc@@ cess@@ f@@ ull@@ y execut@@ ed@@ , r@@ el@@ e@@ as@@ ing mac@@ s@@ : {@@ } " + (@@ mac@@ sTo@@ R@@ el@@ e@@ ase@@ On@@ C@@ omm@@ i@@ t@@ ))); mac@@ Pool@@ .@@ f@@ ree@@ Mac@@ (@@ mac@@ sTo@@ R@@ el@@ e@@ ase@@ On@@ C@@ omm@@ i@@ t@@ ); }
private void mock@@ That@@ D@@ ur@@ ing@@ Add@@ ing@@ To@@ T@@ arget@@ Pool@@ Only@@ F@@ ir@@ st@@ Mac@@ W@@ il@@ l@@ Be@@ Add@@ ed@@ () { when(@@ target@@ Mac@@ Poo@@ l.@@ add@@ Mac@@ s(@@ any@@ List@@ ())@@ ).@@ then@@ An@@ s@@ w@@ er@@ (@@ ( in@@ vo@@ c@@ ation@@ ) -@@ > { List<@@ java.lang.String> mac@@ s = in@@ vo@@ c@@ ation@@ .get@@ Arg@@ um@@ ent@@ (0@@ ); return java.util.Collections.@@ sing@@ leton@@ List(@@ mac@@ s.get@@ (@@ 1@@ )); }
private void mock@@ Lock@@ Object@@ Fac@@ t@@ ory@@ To@@ Dis@@ able@@ Lock@@ ing@@ () { when(@@ lock@@ ed@@ Object@@ Fac@@ t@@ ory@@ .@@ create@@ Lock@@ ing@@ Instanc@@ e(@@ any@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ .@@ class@@ ), e@@ q@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ .@@ class@@ ), any@@ (@@ java.util.@@ con@@ c@@ urr@@ ent.@@ lock@@ s.@@ Re@@ ent@@ r@@ an@@ t@@ Read@@ W@@ rit@@ e@@ Lock@@ .@@ class@@ )@@ )).@@ then@@ An@@ s@@ w@@ er@@ (@@ org.@@ mock@@ it@@ o.@@ Add@@ ition@@ al@@ An@@ s@@ w@@ ers@@ .@@ return@@ s@@ Arg@@ A@@ t@@ (0@@ )); }
@java.lang.Override public java.lang.String toString@@ () { java.lang.String pre@@ fi@@ x = ((@@ T@@ otal@@ M@@ il@@ lis@@ ec@@ on@@ ds@@ ) < 0) ? "@@ " : "@@ "@@ "@@ "@@ ; return java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ %@@ d@@ .@@ %@@ 0@@ 2@@ d@@ :@@ %@@ 0@@ 2@@ d@@ :@@ %@@ 0@@ 2@@ d@@ :@@ %@@ 0@@ 2@@ d@@ .@@ %@@ 0@@ 3@@ d@@ ", pre@@ fi@@ x@@ , D@@ ay@@ s, H@@ our@@ s, M@@ in@@ ut@@ es@@ , Sec@@ on@@ ds@@ , M@@ il@@ lis@@ ec@@ on@@ ds@@ ); }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { org.ovirt.engine.core.compat.Guid or@@ i@@ gin@@ al@@ Host@@ Id = org.ovirt.engine.core.bll.@@ Migr@@ ate@@ VmCommand.getVm@@ ().get@@ Run@@ On@@ Vds@@ (); return host@@ Lock@@ ing.@@ get@@ SetupNetworks@@ Lock@@ (@@ or@@ i@@ gin@@ al@@ Host@@ Id); }
protected boolean p@@ er@@ for@@ m@@ () { try { org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Parameters@@ ().set@@ Start@@ Time@@ (@@ new java.util.@@ D@@ ate(@@ ); d@@ est@@ ination@@ Host@@ Loc@@ k = new org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Lock@@ (@@ host@@ Lock@@ ing.@@ get@@ SetupNetworks@@ Lock@@ (get@@ Dest@@ ination@@ Vds@@ Id@@ ())); lock@@ Manager.@@ ac@@ qui@@ re@@ Lock@@ W@@ a@@ it@@ (@@ d@@ est@@ ination@@ Host@@ ); if (((@@ un@@ p@@ lug@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Nic@@ s()) && (@@ conn@@ ect@@ Lun@@ Disk@@ s(@@ get@@ Dest@@ ination@@ Vds@@ Id@@ ()))) && (@@ m@@ igr@@ ate@@ Vm@@ ())) { org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ set@@ Async@@ Job@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Execution@@ Context@@ (), true@@ ); return true@@ ; } run@@ ning@@ Fail@@ ed@@ (); return false@@ ; } catch (@@ java.lang.Exception e) { run@@ ning@@ Fail@@ ed@@ (); throw e@@ ; } }
public java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> get@@ SetupNetworks@@ Lock@@ (org.ovirt.engine.core.compat.Guid host@@ Id) { return java.util.Collections.@@ sing@@ leton@@ Map@@ (((@@ Lock@@ ing@@ Group@@ .@@ HOST@@ _@@ NETWOR@@ K@@ .@@ nam@@ e()) + (@@ host@@ Id@@ .toString@@ ())@@ ), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ HOST@@ _@@ NETWOR@@ K@@ , EngineMessage.ACTION_TYPE_FAILED_@@ S@@ ET@@ UP@@ _@@ NETWOR@@ K@@ S_@@ OR@@ _@@ RE@@ F@@ RE@@ S@@ H@@ _@@ OR@@ _M@@ I@@ G@@ R@@ A@@ TION_@@ IN@@ _P@@ RO@@ G@@ RE@@ S@@ )); }
@java.lang.Override protected void run@@ ning@@ Fail@@ ed@@ () { try { cl@@ e@@ an@@ up@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Vnic@@ s(@@ get@@ Dest@@ ination@@ Vds@@ Id()); } final@@ l@@ y { super@@ .@@ run@@ ning@@ Fail@@ ed@@ (); } lock@@ Manager.@@ r@@ el@@ e@@ ase@@ Lock@@ (@@ d@@ est@@ ination@@ Host@@ Lock@@ ); }
java.lang.String get@@ S@@ ET@@ UP@@ _@@ NETWOR@@ K@@ S_@@ OR@@ _@@ RE@@ F@@ RE@@ S@@ H@@ _@@ OR@@ _M@@ I@@ G@@ R@@ A@@ TION_@@ IN@@ _P@@ RO@@ G@@ RE@@ S@@ ();
@java.lang.Override public void run@@ ning@@ Suc@@ c@@ ed@@ () { try { get@@ Down@@ tim@@ e(); vm@@ Dynamic@@ Dao@@ .@@ cl@@ e@@ ar@@ Migr@@ at@@ ing@@ To@@ Vds@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ VmCommand.getVm@@ Id()); update@@ Vm@@ A@@ f@@ ter@@ Migr@@ ation@@ To@@ D@@ if@@ fer@@ ent@@ Cluster@@ (); p@@ lug@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Nic@@ s(); } final@@ l@@ y { super@@ .@@ run@@ ning@@ Suc@@ c@@ ed@@ (); lock@@ Manager.@@ r@@ el@@ e@@ ase@@ Lock@@ (@@ d@@ est@@ ination@@ Host@@ Lock@@ ); } }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n se@@ al@@ Disk@@ s(@@ java.lang.String vm@@ Id, java.lang.String job@@ Id, java.util.List<@@ java.lang.String@@ >> volum@@ es@@ );
@java.lang.Override protected void execute@@ Command() { if (get@@ Disk@@ Images@@ ().@@ isEmpty@@ ()) { org.ovirt.engine.core.bll.@@ Se@@ al@@ VmTemplate@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); return@@ ; } org.ovirt.engine.core.common.vdscommands.@@ Se@@ al@@ Disks@@ VDSCommand@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Se@@ al@@ Disks@@ VDSCommand@@ Parameters@@ (); parameters.set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ Se@@ al@@ VmTemplate@@ Command.getParameters().get@@ VmTemplate@@ Id()); parameters.set@@ Job@@ Id@@ (org.ovirt.engine.core.bll.@@ Se@@ al@@ VmTemplate@@ Command.getParameters().get@@ Host@@ Job@@ Id()); get@@ Disk@@ Images@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( disk@@ Image@@ ) -@@ > parameter@@ s.@@ add@@ Volum@@ e(@@ disk@@ Image.get@@ Storage@@ Id@@ s().get@@ (0@@ ), disk@@ Image.get@@ Id(), disk@@ Image.get@@ Image@@ Id@@ ())); lock@@ Template@@ In@@ Db@@ (); lock@@ Disk@@ Images@@ In@@ Db@@ (); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = org.ovirt.engine.core.bll.storage.@@ utils.@@ Vds@@ Command@@ s@@ Helper.@@ run@@ Vds@@ Command@@ With@@ Fail@@ o@@ ver@@ (@@ VDSCommand@@ Type.@@ Se@@ al@@ Disk@@ s, parameters@@ , get@@ Disk@@ Images@@ ().get@@ (0@@ ).get@@ StoragePool@@ Id(), this@@ ); if (!(@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ())) { set@@ Command@@ Status(@@ Command@@ Status.@@ FAIL@@ ED); un@@ lock@@ Disk@@ Images@@ In@@ Db@@ (); un@@ lock@@ Template@@ In@@ Db@@ (); } set@@ Succeeded(@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ()); }
@java.lang.Override protected void end@@ Success@@ f@@ ull@@ y@@ () { set@@ VmTemplate@@ Id@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ VmTemplate@@ Id()); set@@ Vm@@ Id@@ (get@@ Vm@@ Id@@ From@@ Image@@ Parameters@@ ()); is@@ Vm@@ In@@ D@@ b = (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getVm@@ ()) != null@@ ; vm@@ Static@@ Dao@@ .@@ in@@ c@@ r@@ ement@@ Db@@ Gener@@ ation@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getVm@@ Template@@ Id()); for (@@ org.ovirt.engine.core.common.action.VdcActionParameters@@ Base p : org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ Images@@ Parameters@@ ()) { org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ end@@ Action@@ (p@@ .get@@ Command@@ Typ@@ e(), p@@ , org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); } if ((@@ r@@ el@@ o@@ ad@@ VmTemplate@@ From@@ D@@ B@@ ()) != null@@ ) { end@@ Default@@ Operation@@ s(); } check@@ Tr@@ ust@@ ed@@ Servic@@ e(); org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private void end@@ Success@@ f@@ ull@@ y@@ S@@ yn@@ ch@@ ron@@ o@@ us@@ () { if ((@@ r@@ el@@ o@@ ad@@ VmTemplate@@ From@@ D@@ B@@ ()) != null@@ ) { end@@ Default@@ Operation@@ s(); } org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private void se@@ al@@ Vm@@ Templ@@ ate(@@ ) { if (!@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Parameters@@ ().is@@ Se@@ al@@ Templat@@ e())) { return@@ ; } org.ovirt.engine.core.common.action.@@ Se@@ al@@ VmTemplate@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Se@@ al@@ VmTemplate@@ Parameters@@ (); parameters.set@@ VmTemplate@@ Id@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getVm@@ Template@@ Id()); org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ Se@@ al@@ VmTemplate@@ , parameters@@ , org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n se@@ al@@ Disk@@ s(@@ java.lang.String vm@@ Id, java.lang.String job@@ Id, java.util.List<@@ java.util.Map<java.lang.String, java.lang.String@@ >> volum@@ es) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ VM@@ .@@ se@@ al@@ ").@@ with@@ Parameter("@@ vm@@ ID@@ ", vm@@ Id@@ ).@@ with@@ Parameter("@@ job@@ _id", job@@ Id@@ ).@@ with@@ Option@@ al@@ Parameter@@ As@@ List@@ ("@@ volum@@ es@@ ", volum@@ es@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Return(@@ respon@@ se@@ ); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > get@@ Disk@@ Images@@ () { if ((@@ disk@@ Images@@ ) == null@@ ) { disk@@ Image@@ s = disk@@ Dao@@ .get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ Se@@ al@@ VmTemplate@@ Command.getVm@@ Template@@ Id@@ ()).@@ st@@ re@@ am@@ ().@@ map@@ (@@ ( disk@@ ) -@@ > ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ )@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); } return disk@@ Images@@ ; }
@java.lang.Override protected org.ovirt.engine.core.common.utils.@@ To@@ String@@ Buil@@ der append@@ Att@@ rib@@ ut@@ es@@ (org.ovirt.engine.core.common.@@ utils.@@ To@@ String@@ Buil@@ der t@@ sb@@ ) { return super@@ .@@ append@@ Att@@ rib@@ ut@@ es(@@ t@@ sb@@ ).@@ append("@@ vm@@ Id@@ ", vm@@ Id@@ ).@@ append("@@ job@@ Id@@ ", job@@ Id@@ ).@@ append("@@ volum@@ es@@ ", volum@@ es@@ ); }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> lock@@ s = new java.util.HashMap@@ <@@ >(); lock@@ s.@@ put@@ (org.ovirt.engine.core.bll.@@ Se@@ al@@ VmTemplate@@ Command.getVm@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ T@@ EM@@ PL@@ AT@@ E@@ , EngineMessage.@@ VM@@ T_@@ SE@@ AL@@ ING@@ )); get@@ Disk@@ Images@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( disk@@ Image@@ ) -@@ > lock@@ s.@@ put@@ (disk@@ Image.get@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ DIS@@ K@@ , EngineMessage.@@ VM@@ T_@@ SE@@ AL@@ ING@@ ))); return lock@@ s@@ ; }
public void add@@ Volum@@ e(@@ org.ovirt.engine.core.compat.Guid storageDomain@@ Id, org.ovirt.engine.core.compat.Guid image@@ Id, org.ovirt.engine.core.compat.Guid volume@@ Id) { volum@@ es.@@ add@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ Se@@ al@@ Disks@@ VDSCommand@@ Parameter@@ s.@@ Volume@@ Address@@ (@@ storageDomain@@ Id, image@@ Id, volume@@ Id@@ )); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { result = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Se@@ al@@ Disks@@ VDS@@ Command.get@@ Broker@@ ().@@ se@@ al@@ Disk@@ s(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Se@@ al@@ Disks@@ VDS@@ Command.getParameters().get@@ Vm@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Se@@ al@@ Disks@@ VDS@@ Command.getParameters().get@@ Job@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Se@@ al@@ Disks@@ VDS@@ Command.getParameters().get@@ Volum@@ es@@ ().@@ st@@ re@@ am@@ ().@@ map@@ (@@ this@@ :@@ :@@ :@@ map@@ To@@ En@@ d@@ p@@ o@@ int@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ())); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Se@@ al@@ Disks@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); }
@java.lang.Override protected void end@@ With@@ Failur@@ e() { super@@ .@@ end@@ With@@ Failur@@ e(); un@@ lock@@ Disk@@ Images@@ In@@ Db@@ (); un@@ lock@@ Template@@ In@@ Db@@ (); }
private void lock@@ Disk@@ Images@@ In@@ Db@@ () { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > get@@ Disk@@ Images@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( disk@@ Image@@ ) -@@ > { get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ Entity@@ Status@@ (disk@@ Image.get@@ Image@@ ()); disk@@ Im@@ age.@@ set@@ Image@@ Status(@@ Image@@ Status.@@ LO@@ C@@ K@@ ED); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ update@@ Image@@ Status@@ (disk@@ Image.get@@ Image@@ Id(), Image@@ Status.@@ LO@@ C@@ K@@ ED); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; }
private java.util.Map<java.lang.String, java.lang.String> map@@ To@@ En@@ d@@ p@@ o@@ int@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ Se@@ al@@ Disks@@ VDSCommand@@ Parameter@@ s.@@ Volume@@ Add@@ res@@ s volume@@ Address@@ ) { java.util.Map<java.lang.String, java.lang.String> end@@ p@@ o@@ int = new java.util.HashMap@@ <@@ >(); end@@ p@@ o@@ int@@ .@@ put@@ ("@@ sd@@ _id", volume@@ Address@@ .get@@ StorageDomain@@ Id().@@ toString@@ ()); end@@ p@@ o@@ int@@ .@@ put@@ ("@@ im@@ g@@ _id", volume@@ Address@@ .get@@ Image@@ Id().@@ toString@@ ()); end@@ p@@ o@@ int@@ .@@ put@@ ("@@ v@@ ol@@ _id", volume@@ Address@@ .get@@ Volume@@ Id().@@ toString@@ ()); return end@@ p@@ o@@ int@@ ; }
private void un@@ lock@@ Disk@@ Images@@ In@@ Db@@ () { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > get@@ Disk@@ Images@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( disk@@ Image@@ ) -@@ > disk@@ Im@@ age.@@ set@@ Image@@ Status(@@ Image@@ Status.@@ O@@ K@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ update@@ Image@@ Status@@ (disk@@ Image.get@@ Image@@ Id(), Image@@ Status.@@ O@@ K@@ ); return null@@ ; }
public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Gluster@@ Util@@ s@@ .@@ int@@ er@@ fac@@ es.@@ Command@@ Call@@ back get@@ Succeeded@@ () { return new org.ovirt.engine.core.bll.@@ utils.@@ Gluster@@ Util@@ s@@ .@@ int@@ er@@ fac@@ es@@ Command@@ (); }
@java.lang.Override protected void end@@ Success@@ f@@ ull@@ y@@ () { super@@ .@@ end@@ Success@@ f@@ ull@@ y@@ (); un@@ lock@@ Disk@@ Images@@ In@@ Db@@ (); un@@ lock@@ Template@@ In@@ Db@@ (); }
private void ass@@ ign@@ L@@ eg@@ al@@ And@@ Sh@@ ared@@ (@@ boolean l@@ eg@@ al@@ And@@ Sh@@ ared@@ ) { org.ovirt.engine.core.common.action.@@ Update@@ All@@ Template@@ Disks@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Update@@ All@@ Template@@ Disks@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getVm@@ Template@@ Id(), l@@ eg@@ al@@ And@@ Sh@@ ared@@ , (@@ l@@ eg@@ al@@ And@@ Sh@@ ar@@ ed ? org.ovirt.engine.core.common.businessentities.storage.@@ Copy@@ Volume@@ Type.@@ Sh@@ ared@@ V@@ o@@ l : null@@ )); parameters.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Action@@ Typ@@ e()); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Parameters@@ ()); parameters.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ Vdc@@ Action@@ Parameters@@ Bas@@ e.@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ Update@@ All@@ Template@@ Disk@@ s, parameters@@ , org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); }
@java.lang.Override public boolean p@@ er@@ for@@ m@@ N@@ ext@@ Operation@@ (@@ int comp@@ let@@ ed@@ Ch@@ il@@ d@@ Count@@ ) { if (c@@ omp@@ let@@ ed@@ Ch@@ il@@ d@@ C@@ oun@@ t < (org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Ch@@ il@@ d@@ Command@@ Id@@ s(@@ org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Command@@ Id@@ ()).@@ siz@@ e())) { return false@@ ; } switch (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ P@@ has@@ e()) { case C@@ RE@@ AT@@ E_@@ T@@ EM@@ PL@@ AT@@ E : if (!@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Parameters@@ ().is@@ Se@@ al@@ Templat@@ e())) { return true@@ ; } org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Parameters@@ ().set@@ P@@ has@@ e(@@ P@@ has@@ A@@ S@@ SI@@ G@@ N@@ _@@ I@@ L@@ LE@@ G@@ AL@@ ); break@@ ; case A@@ S@@ SI@@ G@@ N@@ _@@ I@@ L@@ LE@@ G@@ A@@ L : org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Parameters@@ ().set@@ P@@ has@@ e(@@ P@@ has@@ e.@@ SE@@ AL@@ ); break@@ ; case SE@@ A@@ L : org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Parameters@@ ().set@@ P@@ has@@ e(@@ P@@ has@@ P@@ has@@ A@@ S@@ SI@@ G@@ N@@ _@@ LE@@ G@@ AL@@ _@@ S@@ H@@ AR@@ ED); break@@ ; case A@@ S@@ SI@@ G@@ N@@ _@@ LE@@ G@@ AL@@ _@@ S@@ H@@ AR@@ E@@ D : return true@@ ; } org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.@@ p@@ ers@@ ist@@ Command@@ If@@ N@@ e@@ ed@@ (); execute@@ N@@ ext@@ Operation@@ (); return false@@ ; }
private void se@@ al@@ Vm@@ Templ@@ ate(@@ ) { org.ovirt.engine.core.common.action.@@ Se@@ al@@ VmTemplate@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Se@@ al@@ VmTemplate@@ Parameters@@ (); parameters.set@@ VmTemplate@@ Id@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getVm@@ Template@@ Id()); parameters.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Action@@ Typ@@ e()); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Parameters@@ ()); parameters.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ Vdc@@ Action@@ Parameters@@ Bas@@ e.@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Action(VdcActionType.@@ Se@@ al@@ VmTemplate@@ , parameters@@ , org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); }
private static void switch@@ Tab@@ (@@ java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name@@ > in@@ valid@@ Tab@@ s, java.util.Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, or@@ g@@ .@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ List@@ I@@ t@@ e@@ m@@ app@@ ing@@ , org.ovirt.engine.ui.common.@@ view@@ .@@ Tab@@ b@@ ed@@ Vi@@ e@@ w view@@ ) { int low@@ In@@ de@@ x = java.lang.Integ@@ er.@@ M@@ A@@ X@@ _@@ VAL@@ U@@ E@@ ; java.util.List<@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ List@@ I@@ t@@ e@@ m@@ > all@@ Tab@@ s = view@@ .get@@ Tab@@ Panel@@ ().get@@ Tab@@ s(); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name in@@ valid@@ Tab@@ Name : in@@ valid@@ Tab@@ s) { if ((@@ all@@ Tab@@ s.@@ in@@ dex@@ Of@@ (@@ m@@ app@@ ing.@@ get@@ (@@ in@@ valid@@ Tab@@ Name@@ ))) < low@@ In@@ dex@@ ) { low@@ In@@ de@@ x = all@@ Tab@@ s.@@ in@@ dex@@ Of@@ (@@ m@@ app@@ ing.@@ get@@ (@@ in@@ valid@@ Tab@@ Name@@ )); } } if (@@ low@@ In@@ de@@ x != (@@ java.lang.Integ@@ er.@@ M@@ A@@ X@@ _@@ VAL@@ U@@ E@@ )) { view@@ .get@@ Tab@@ Panel@@ ()@@ .@@ switch@@ Tab@@ (@@ all@@ Tab@@ s.get@@ (@@ low@@ est@@ In@@ dex@@ )); } }
@java.lang.Override public void on@@ Validation@@ Comp@@ let@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Validation@@ Comp@@ let@@ e@@ Event event@@ ) { if (((@@ event.@@ get@@ Model@@ ()) != null@@ ) && (@@ event.@@ get@@ Model@@ ().@@ equals(@@ p@@ res@@ enter@@ Widget@@ .get@@ Model@@ ()))) { java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name@@ > in@@ valid@@ Tab@@ s = p@@ res@@ enter@@ Widget@@ .get@@ Model().get@@ In@@ valid@@ Tab@@ s(); java.util.Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, or@@ g@@ .@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ Tab@@ List@@ Item@@ > m@@ app@@ ing = view@@ .get@@ Tab@@ Name@@ Mapp@@ ing@@ (); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name in@@ valid@@ Tab@@ Name : in@@ valid@@ Tab@@ s) { if (@@ view@@ .get@@ Tab@@ Panel@@ ().get@@ Active@@ Tab@@ ().@@ equals(@@ m@@ app@@ ing.@@ get@@ (@@ in@@ valid@@ Tab@@ Name@@ ))) { return@@ ; } org.ovirt.engine.ui.common.@@ utils.@@ Validation@@ Tab@@ S@@ wit@@ ch@@ Hel@@ per@@ .get@@ Tab@@ (@@ in@@ valid@@ Tab@@ s, m@@ app@@ ing@@ , vi@@ e@@ w@@ ); }
public static com.google.gwt.@@ event.@@ shared@@ .@@ Handler@@ Re@@ g@@ ist@@ r@@ ation re@@ g@@ ist@@ er@@ Validation@@ Handler@@ (@@ final com.google.gwt.@@ event.@@ shared@@ .@@ Event@@ B@@ u@@ s event@@ B@@ us@@ , final org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Model@@ B@@ ound@@ Popup@@ P@@ res@@ enter@@ Widget@@ <?@@ , ?@@ > p@@ res@@ enter@@ Widget@@ , final org.ovirt.engine.ui.common.@@ view@@ .@@ Tab@@ b@@ ed@@ Vi@@ e@@ w view@@ ) { return event@@ B@@ u@@ s.@@ add@@ Handler@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Validation@@ Comp@@ let@@ e@@ Ev@@ ent.@@ get@@ Typ@@ e(), new org.ovirt.engine.ui.uicommonweb.models.@@ Validation@@ Comp@@ let@@ e@@ Ev@@ ent.@@ Validation@@ Comp@@ let@@ e@@ Event@@ Handler@@ () { @java.lang.Override public void on@@ Validation@@ Comp@@ let@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Validation@@ Comp@@ let@@ e@@ Event event@@ ) { if (((@@ event.@@ get@@ Model@@ ()) != null@@ ) && (@@ event.@@ get@@ Model@@ ().@@ equals(@@ p@@ res@@ enter@@ Widget@@ .get@@ Model@@ ()))) { java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name@@ > in@@ valid@@ Tab@@ s = p@@ res@@ enter@@ Widget@@ .get@@ Model().get@@ In@@ valid@@ Tab@@ s(); java.util.Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, or@@ g@@ .@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ List@@ Item@@ > m@@ app@@ ing = view@@ .get@@ Tab@@ Name@@ Mapp@@ ing@@ (); or@@ g@@ .@@ ovirt.@@ engin@@ e.@@ ui.@@ c@@ ommon@@ .@@ utils.@@ Validation@@ Tab@@ S@@ wit@@ ch@@ Helper.@@ mar@@ k@@ Tab@@ s(@@ in@@ valid@@ Tab@@ s, m@@ app@@ ing@@ ); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name in@@ valid@@ Tab@@ Name : in@@ valid@@ Tab@@ s) { if (@@ view@@ .get@@ Tab@@ Panel@@ ().get@@ Active@@ Tab@@ ().@@ equals(@@ m@@ app@@ ing.@@ get@@ (@@ in@@ valid@@ Tab@@ Name@@ ))) { return@@ ; } } org.ovirt.engine.ui.common.@@ utils.@@ Validation@@ Tab@@ S@@ wit@@ ch@@ Hel@@ per@@ .@@ switch@@ T@@ a@@ b@@ (@@ in@@ valid@@ Tab@@ s, m@@ app@@ ing@@ , view@@ ); } }); }
private void update@@ Tab@@ Visi@@ b@@ il@@ i@@ ties@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ Snapshot@@ Model object@@ ) { gener@@ al@@ Tab@@ .set@@ Visi@@ bl@@ e(@@ objec@@ t.@@ is@@ Gener@@ al@@ Tab@@ Visi@@ bl@@ e()); schedul@@ e@@ Tab@@ .set@@ Visi@@ bl@@ e(@@ objec@@ t.@@ is@@ Schedul@@ e@@ Tab@@ Visi@@ bl@@ e()); if ((@@ object.get@@ Rec@@ urr@@ enc@@ e().get@@ SelectedItem@@ ()) != (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Snapshot@@ Schedul@@ e@@ Rec@@ urr@@ enc@@ e.@@ UN@@ K@@ NO@@ W@@ N@@ )) { } }
@java.lang.Override public java.util.Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, or@@ g@@ > get@@ Tab@@ Name@@ Mapp@@ ing@@ () { return ((@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ Abstract@@ Vm@@ Popup@@ Widget@@ ) (get@@ Cont@@ ent@@ Widget@@ ())@@ ).get@@ Tab@@ Name@@ Mapp@@ ing@@ (); }
@java.lang.Override public void init@@ (java.lang.String ti@@ t@@ le@@ , java.lang.String w@@ id@@ th@@ , java.lang.String h@@ e@@ ig@@ ht@@ , boolean c@@ lo@@ se@@ I@@ con@@ Visi@@ bl@@ e) { as@@ Widget@@ ().set@@ W@@ id@@ th@@ (@@ w@@ id@@ th@@ ); as@@ Widget@@ ().set@@ H@@ e@@ ig@@ ht@@ (@@ h@@ e@@ ig@@ ht@@ ); as@@ Widget@@ ().set@@ C@@ lo@@ se@@ I@@ con@@ Button@@ Visi@@ bl@@ e(@@ c@@ lo@@ se@@ I@@ con@@ Visi@@ bl@@ e); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Is@@ csi@@ Storage@@ Model object@@ ) { d@@ ri@@ v@@ er.@@ edit@@ (@@ object@@ ); init@@ List@@ s(@@ object@@ ); object.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if (@@ pro@@ p@@ Nam@@ e.@@ equals(@@ "@@ Is@@ Valid@@ "@@ )) { on@@ Is@@ Valid@@ Property@@ Chang@@ e(@@ object@@ ); } else if (@@ pro@@ p@@ Nam@@ e.@@ equals(@@ "@@ Is@@ Group@@ p@@ ed@@ By@@ T@@ arget@@ "@@ )) { update@@ List@@ By@@ G@@ ro@@ p@@ ing@@ (@@ object@@ ); } } }); is@@ csi@@ T@@ arget@@ To@@ Lun@@ View@@ .@@ edit@@ (@@ object@@ ); is@@ csi@@ Lun@@ To@@ T@@ arget@@ View@@ .@@ edit@@ (@@ object@@ ); d@@ ial@@ og@@ Tab@@ Panel@@ .@@ switch@@ Tab@@ ((@@ object.get@@ Is@@ Group@@ p@@ ed@@ By@@ T@@ arget@@ () ? target@@ sTo@@ Lun@@ T@@ a@@ g : lun@@ To@@ T@@ arget@@ s@@ Tab@@ )); update@@ List@@ By@@ G@@ ro@@ p@@ ing@@ (@@ object@@ ); }
@java.lang.Override public java.util.Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, or@@ g@@ > get@@ Tab@@ Name@@ Mapp@@ ing@@ () { return t@@ ab@@ Map@@ ; }
@java.lang.Override public void sh@@ ow@@ Confirmation@@ () { super@@ .@@ sh@@ ow@@ Confirmation@@ (); cont@@ ent@@ S@@ c@@ ro@@ ll@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ H@@ e@@ ig@@ ht@@ ((@@ (get@@ Of@@ f@@ set@@ H@@ e@@ ig@@ ht@@ ()); cont@@ ent@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ Property@@ ("@@ min@@ H@@ e@@ ig@@ ht@@ ", ((get@@ Of@@ f@@ set@@ H@@ e@@ ig@@ ht@@ ()) - 1@@ 00@@ ), Un@@ it.@@ P@@ X@@ ); }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") public void set@@ H@@ e@@ ig@@ h@@ ly@@ Avail@@ abl@@ e() { super@@ .@@ set@@ H@@ e@@ ig@@ h@@ ly@@ Avail@@ abl@@ e(); }
@java.lang.Override @@@ com.google.gwt.@@ ui@@ b@@ in@@ der.@@ client.@@ U@@ i@@ Ch@@ il@@ d@@ (@@ t@@ ag@@ nam@@ e = "@@ h@@ ead@@ er@@ ", l@@ im@@ i@@ t = 1@@ ) public void set@@ H@@ ead@@ er@@ (@@ java.lang.String h@@ ead@@ er@@ Titl@@ e) { com.google.gwt.@@ user.@@ client.@@ ui.@@ H@@ T@@ M@@ L@@ Pan@@ e@@ l h@@ ead@@ er@@ Tit@@ le@@ Pan@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ H@@ T@@ M@@ L@@ Panel@@ (); h@@ ead@@ er@@ Tit@@ le@@ Panel@@ .@@ add@@ Sty@@ le@@ Name(@@ h@@ ead@@ er@@ .get@@ Widget@@ Count@@ ()); h@@ ead@@ er@@ Tit@@ le@@ Panel@@ .@@ add(@@ h@@ ead@@ er@@ Tit@@ le@@ Panel@@ ); }
public java.util.List<@@ org.ovirt.engine.ui.common.widget.@@ action.@@ S@@ im@@ ple@@ De@@ p@@ end@@ ec@@ y@@ In@@ j@@ ect@@ or@@ .getInstance().get@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ S@@ im@@ ple@@ De@@ p@@ end@@ ec@@ y@@ .@@ const@@ an@@ t@@ s.@@ con@@ s@@ ole@@ Tab@@ List@@ I@@ t@@ e@@ m@@ ()); return t@@ ab@@ s@@ ; }
@java.lang.Override public void set@@ Help@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand command@@ ) { }
@java.lang.Override public final java.util.Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ Host@@ Nic@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ m@@ Tab@@ Name@@ Mapp@@ ing@@ () { return t@@ ab@@ Map@@ ; }
public org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ List@@ I@@ t@@ e@@ m get@@ Tab@@ List@@ I@@ t@@ e@@ m@@ () { return t@@ ab@@ List@@ I@@ t@@ e@@ m@@ ; }
java.util.Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, or@@ g@@ .@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .@@ cli@@ ent@@ ();
public void set@@ No@@ S@@ c@@ ro@@ l@@ (@@ boolean is@@ S@@ c@@ ro@@ ll@@ ) { this@@ .@@ s@@ c@@ ro@@ ll@@ Panel@@ .set@@ Sty@@ l@@ e(@@ is@@ S@@ c@@ ro@@ ll@@ ); }
private static void mar@@ k@@ Tab@@ s(@@ java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name@@ > in@@ valid@@ Tab@@ s, java.util.Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, or@@ g@@ .@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .@@ cli@@ ent@@ .@@ ui@@ Tab@@ List@@ I@@ t@@ e@@ m@@ app@@ ing@@ ) { for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Tab@@ Name, or@@ g@@ .@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .@@ cli@@ ent@@ (); } else { for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ Set@@ ()) { if (@@ in@@ valid@@ Tab@@ s.@@ contains(@@ e@@ n@@ try@@ .get@@ Key@@ ())) { } } }
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ scheduling.@@ Manage@@ Policy@@ Unit@@ Model f@@ l@@ us@@ h@@ () { return s@@ ; }
private void re@@ ve@@ al@@ Disk@@ Panel@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Abstract@@ Disk@@ Model disk@@ ) { boolean is@@ In@@ V@@ m = (disk@@ .get@@ Vm@@ ()) != null@@ ; r@@ ad@@ i@@ o@@ Button@@ .set@@ Visi@@ bl@@ e(@@ is@@ New@@ Lun@@ Disk@@ Enabled@@ ); ex@@ ternal@@ Disk@@ Panel@@ .set@@ Visi@@ bl@@ e@@ (((@@ is@@ New@@ Lun@@ Disk@@ Enabled@@ ) && ((@@ disk@@ .get@@ Disk@@ Storage@@ Typ@@ e().get@@ Entity@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ LUN@@ )@@ ))); al@@ ias@@ Editor@@ .set@@ F@@ oc@@ us@@ ((!@@ is@@ In@@ Vm@@ )); }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if ("@@ Is@@ Chang@@ able@@ "@@ .equals(@@ pro@@ p@@ Name@@ )) { if ((@@ disk@@ .get@@ Disk@@ Storage@@ Typ@@ e().get@@ Is@@ Chang@@ abl@@ e()) && (disk@@ .is@@ Edit@@ Enabled@@ ())) { en@@ able@@ Widget@@ (); } else { dis@@ able@@ Widget@@ (); } }
@java.lang.Override public void on@@ Value@@ Chang@@ e(@@ java.lang.@@ B@@ oolean is@@ Value@@ Chang@@ able@@ <@@ java.lang.Boolean@@ > event@@ ) { disk@@ .get@@ Disk@@ Storage@@ Typ@@ e().set@@ Entity(@@ Disk@@ StorageType.@@ LUN@@ ); re@@ ve@@ al@@ Storage@@ View@@ (disk@@ ); re@@ ve@@ al@@ Disk@@ Panel@@ (disk@@ ); }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if (disk@@ .get@@ Is@@ Model@@ Dis@@ abl@@ ed@@ ().getEntity@@ ()) { dis@@ able@@ Widget@@ (get@@ Widget@@ ()); en@@ able@@ Widget@@ (); en@@ able@@ Widget@@ (); en@@ able@@ Widget@@ (@@ dat@@ ac@@ enter@@ Editor@@ ); disk@@ .get@@ Default@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ false@@ ); disk@@ .setIs@@ Change@@ able@@ (@@ false@@ ); } else { en@@ able@@ Widget@@ (get@@ Widget@@ ()); disk@@ .get@@ Default@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ true@@ ); disk@@ .setIs@@ Change@@ able@@ (@@ true@@ ); d@@ ri@@ v@@ er.@@ edit@@ (disk@@ ); } }
@java.lang.Override public void on@@ Value@@ Chang@@ e(@@ java.lang.@@ B@@ oolean is@@ Value@@ Change@@ Event@@ <@@ java.lang.Boolean@@ > event@@ ) { disk@@ .get@@ Disk@@ Storage@@ Typ@@ e().set@@ Entity(@@ Disk@@ StorageType.@@ LUN@@ ); re@@ ve@@ al@@ Disk@@ Panel@@ (disk@@ ); }
@java.lang.Override public java.lang.String get@@ Ra@@ w@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model model@@ ) { return (@@ java.lang.String.@@ value@@ Of@@ (model.get@@ Siz@@ e())) + (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ storage.@@ S@@ an@@ Storage@@ T@@ arget@@ To@@ Lun@@ List@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); }
@java.lang.Override public java.lang.String get@@ Ra@@ w@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model model@@ ) { return (@@ java.lang.String.@@ value@@ Of@@ (model.get@@ Siz@@ e())) + (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ storage.@@ S@@ an@@ Storage@@ Lun@@ To@@ T@@ arget@@ List@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.VM object@@ ) { return ((@@ java.lang.String.@@ value@@ Of@@ (@@ object.get@@ Vm@@ Mem@@ Size@@ M@@ b@@ ())) + " ") + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ Vm@@ Back@@ up@@ View@@ .@@ const@@ an@@ t@@ s.@@ m@@ b@@ ()); }
private java.lang.String r@@ ender@@ Memory@@ (@@ do@@ ubl@@ e mem@@ ory@@ ) { if (@@ mem@@ or@@ y <@@ = 0) { return "@@ 0@@ "@@ ; } return mem@@ or@@ y > (@@ java.lang.@@ M@@ ath@@ .@@ ab@@ s@@ (((@@ org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ Quota@@ Memory@@ Progress@@ B@@ ar@@ .@@ M@@ B@@ _@@ G@@ B@@ _@@ TH@@ RE@@ S@@ HO@@ L@@ D@@ ) * (@@ org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ Quota@@ Memory@@ Progress@@ B@@ ar@@ .@@ G@@ I@@ G@@ A@@ )))) ? org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ Quota@@ Memory@@ Progress@@ B@@ ar@@ .@@ disk@@ Size@@ R@@ ender@@ er.@@ r@@ ender@@ ((@@ mem@@ or@@ y / (@@ org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ Quota@@ Memory@@ Progress@@ B@@ ar@@ .@@ G@@ I@@ G@@ A@@ ))) : (@@ (@@ int@@ ) (@@ mem@@ ory@@ )) + " (@@ org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ Quota@@ Memory@@ Progress@@ B@@ ar@@ .@@ const@@ an@@ t@@ s.@@ m@@ b@@ ())); }
private java.lang.String r@@ ender@@ H@@ um@@ an@@ Read@@ able@@ Size@@ (@@ long siz@@ e) { long s@@ ize@@ In@@ By@@ t@@ es = org.ovirt.engine.core.common.utils.@@ Size@@ Convert@@ er.@@ con@@ ver@@ t@@ (s@@ ize@@ , un@@ it@@ , Size@@ Un@@ it.@@ B@@ Y@@ T@@ E@@ S@@ )@@ .@@ long@@ Valu@@ e(); if (s@@ ize@@ In@@ By@@ t@@ es > (org.ovirt.engine.core.common.@@ utils.@@ Size@@ Convert@@ er.@@ B@@ Y@@ T@@ E@@ S_@@ IN@@ _@@ G@@ B@@ )) { return (org.ovirt.engine.core.common.@@ utils.@@ Size@@ Convert@@ er.@@ con@@ ver@@ t@@ (s@@ ize@@ In@@ By@@ t@@ es@@ , Size@@ Un@@ it.@@ B@@ Y@@ T@@ E@@ S@@ , Size@@ Un@@ it.@@ G@@ i@@ B@@ )@@ .@@ long@@ Valu@@ e()) + " ") + (@@ org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Disk@@ Size@@ R@@ ender@@ er@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); } else if (s@@ ize@@ In@@ By@@ t@@ es > (org.ovirt.engine.core.common.@@ utils.@@ Size@@ Convert@@ er.@@ B@@ Y@@ T@@ E@@ S_@@ IN@@ _M@@ B@@ )) { return (org.ovirt.engine.core.common.@@ utils.@@ Size@@ Convert@@ er.@@ con@@ ver@@ t@@ (s@@ ize@@ In@@ By@@ t@@ es@@ , Size@@ Un@@ it.@@ B@@ Y@@ T@@ E@@ S@@ , Size@@ Un@@ it.@@ M@@ i@@ B@@ )@@ .@@ long@@ Valu@@ e()) + " ") + (@@ org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Disk@@ Size@@ R@@ ender@@ er@@ .@@ const@@ an@@ t@@ s.@@ m@@ b@@ ()); } else if (s@@ ize@@ In@@ By@@ t@@ es > (org.ovirt.engine.core.common.@@ utils.@@ Size@@ Convert@@ er.@@ B@@ Y@@ T@@ E@@ S_@@ IN@@ _@@ K@@ B@@ )) { return ((@@ org.ovirt.engine.core.common.utils.@@ Size@@ Convert@@ er.@@ con@@ ver@@ t@@ (s@@ ize@@ In@@ By@@ t@@ es@@ , Size@@ Un@@ it.@@ B@@ Y@@ T@@ E@@ S@@ , Size@@ Un@@ it.@@ K@@ i@@ B@@ )@@ .@@ long@@ Valu@@ e()) + " ("@@ ) + (@@ org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Disk@@ Size@@ R@@ ender@@ er@@ .@@ .@@ const@@ an@@ t@@ s.@@ k@@ b@@ ()); } else { return (s@@ ize@@ In@@ By@@ t@@ es + (@@ org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Disk@@ Size@@ R@@ ender@@ er@@ .@@ const@@ an@@ t@@ s@@ .@@ byte@@ s@@ 2@@ ()); } }
@java.lang.Override public java.lang.String r@@ ender@@ (@@ T s@@ ize@@ In@@ M@@ B@@ ) { return s@@ ize@@ In@@ M@@ B != null ? s@@ ize@@ In@@ M@@ B@@ .toString@@ ()) + " ("@@ ) + (@@ org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Memory@@ Size@@ R@@ ender@@ er@@ .@@ const@@ an@@ t@@ s.@@ m@@ b@@ ())@@ : org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Memory@@ Size@@ R@@ ender@@ er@@ .@@ const@@ an@@ t@@ s.@@ un@@ Available@@ Property@@ Label@@ (); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Vm@@ Data object@@ ) { return ((@@ java.lang.String.@@ value@@ Of@@ (@@ object.get@@ Vm@@ ().get@@ Vm@@ Mem@@ Size@@ M@@ b@@ ())) + " ("@@ ; }
@java.lang.Override public java.lang.String get@@ Text@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ ) { if (((@@ storage.@@ get@@ Available@@ Disk@@ Siz@@ e()) == null@@ ) || ((@@ storage.@@ get@@ Available@@ Disk@@ Siz@@ e()) < 1@@ )) { return 1 " + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ dat@@ ac@@ ent@@ er.@@ Abstract@@ F@@ in@@ d@@ Storage@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); } return (@@ storage.@@ get@@ Available@@ Disk@@ Siz@@ e()) + " ("@@ ) + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ dat@@ ac@@ ent@@ er.@@ Abstract@@ F@@ in@@ d@@ Storage@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); }
private java.lang.String r@@ ender@@ G@@ ig@@ a@@ byte@@ Size@@ (@@ long siz@@ e) { long s@@ ize@@ In@@ G@@ B = ((@@ un@@ it@@ ) == (org.ovirt.engine.core.common.@@ utils.@@ Size@@ Convert@@ er.@@ Size@@ Un@@ it.@@ G@@ i@@ B@@ )) ? siz@@ e : org.ovirt.engine.core.common.utils.@@ Size@@ Convert@@ er.@@ con@@ ver@@ t@@ (s@@ ize@@ , un@@ it@@ , Size@@ Un@@ it.@@ G@@ i@@ B@@ )@@ .@@ long@@ Valu@@ e(); return s@@ ize@@ In@@ G@@ B >@@ = 1 ? s@@ ize@@ In@@ G@@ B : 1 + " ") + (@@ org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Disk@@ Size@@ R@@ ender@@ er@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er@@ Vm@@ Data re@@ g@@ ist@@ er@@ Vm@@ Data@@ ) { int siz@@ e = re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Vm@@ ().get@@ Vm@@ Mem@@ Size@@ M@@ b@@ (); return (@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ ) != null ? re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Vm@@ ().get@@ Vm@@ Mem@@ Size@@ M@@ b@@ () : "@@ "@@ "@@ "@@ ; }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.VM object@@ ) { return ((@@ java.lang.String.@@ value@@ Of@@ (@@ object.get@@ Vm@@ Mem@@ Size@@ M@@ b@@ ())) + " ") + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ Re@@ g@@ ist@@ er@@ Vm@@ View@@ .@@ const@@ an@@ t@@ s.@@ m@@ b@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ java.lang.Object object@@ ) { int siz@@ e = get@@ Entity(@@ object@@ ).get@@ Mem@@ Size@@ M@@ b@@ (); return ((@@ siz@@ e + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ storage.@@ Re@@ g@@ ist@@ er@@ Template@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ m@@ b@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ Qu@@ ot@@ a object@@ ) { do@@ ubl@@ e value@@ ; do@@ ubl@@ e al@@ loc@@ ate@@ d = 0@@ ; do@@ ubl@@ e us@@ ed = 0@@ ; if ((@@ object.get@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ ()) != null@@ ) { al@@ loc@@ ate@@ d = object.get@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ ().get@@ Storage@@ Size@@ G@@ B@@ (); us@@ ed = object.get@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ ().get@@ Storage@@ Size@@ G@@ B@@ Us@@ age@@ (); } else { for (org.ovirt.engine.core.common.businessentities.@@ Quota@@ Stor@@ age quota@@ Stor@@ age : object.get@@ Quota@@ Stor@@ ages@@ ()) { if (!(@@ Quota@@ Stor@@ age.@@ UN@@ L@@ IM@@ I@@ T@@ ED@@ .equals(@@ quota@@ Stor@@ age.get@@ Storage@@ Size@@ G@@ B@@ ()))) { al@@ loc@@ ate@@ d +@@ = quota@@ Stor@@ age.get@@ Storage@@ Size@@ G@@ B@@ (); us@@ ed +@@ = quota@@ Stor@@ age.get@@ Storage@@ Size@@ G@@ B@@ Us@@ age@@ (); } else { al@@ loc@@ ate@@ d = org.ovirt.engine.core.common.businessentities.@@ Quota@@ Stor@@ age.@@ UN@@ L@@ IM@@ I@@ T@@ ED@@ ; break@@ ; } } valu@@ e = al@@ loc@@ ate@@ d - us@@ ed@@ ; java.lang.String return@@ Val@@ ; if (@@ al@@ loc@@ ate@@ d < 0) { return@@ V@@ al = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ view@@ .@@ t@@ ab@@ .@@ Main@@ Tab@@ Quota@@ View@@ .@@ const@@ an@@ t@@ s.@@ un@@ l@@ im@@ it@@ ed@@ (); } else if (@@ valu@@ e <@@ = 0) { return@@ V@@ al = " + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Main@@ Tab@@ Quota@@ View@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); } else { return@@ V@@ al = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Quota@@ View@@ .@@ disk@@ Size@@ R@@ ender@@ er.@@ r@@ ender@@ (@@ valu@@ e); } return return@@ Val@@ ; }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e object@@ ) { return java.lang.String.@@ value@@ Of@@ (@@ object.get@@ Mem@@ Size@@ M@@ b@@ ())) + " ("@@ ; }
private void init@@ T@@ abl@@ e() { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ EntityModel@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > name@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ EntityModel@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >() { @java.lang.Override public java.lang.String get@@ Text@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ ) { return storage.@@ get@@ Storage@@ Nam@@ e(); } }; storageDomain@@ Item@@ s.set@@ Column@@ W@@ id@@ th@@ (@@ name@@ Column@@ , "@@ 2@@ 8@@ 0@@ p@@ x@@ "); storageDomain@@ Item@@ s.@@ add@@ Column@@ (@@ name@@ Column@@ , org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ dat@@ ac@@ ent@@ er.@@ Rec@@ o@@ ver@@ y@@ Storage@@ Confirmation@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ name@@ Storage@@ ()); org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ EntityModel@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > f@@ ree@@ Space@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ EntityModel@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >() { @java.lang.Override public java.lang.String get@@ Text@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ ) { if (((@@ storage.@@ get@@ Available@@ Disk@@ Siz@@ e()) == null@@ ) || ((@@ storage.@@ get@@ Available@@ Disk@@ Siz@@ e()) < 1@@ )) { return 1 + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ dat@@ ac@@ ent@@ er.@@ Rec@@ o@@ ver@@ y@@ Storage@@ Confirmation@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); } return ((@@ storage.@@ get@@ Available@@ Disk@@ Siz@@ e()) + " ") + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ dat@@ ac@@ ent@@ er.@@ Rec@@ o@@ ver@@ y@@ Storage@@ Confirmation@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); } }; storageDomain@@ Item@@ s.set@@ Column@@ W@@ id@@ th@@ (@@ f@@ ree@@ Space@@ Column@@ , "@@ 8@@ 0@@ p@@ x@@ "); storageDomain@@ Item@@ s.@@ add@@ Column@@ (@@ f@@ ree@@ Space@@ Column@@ , org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ dat@@ ac@@ ent@@ er.@@ Rec@@ o@@ ver@@ y@@ Storage@@ Confirmation@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ f@@ ree@@ Space@@ Storage@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ java.lang.Object object@@ ) { return ((@@ java.lang.String.@@ value@@ Of@@ (((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Vm@@ Data@@ ) (@@ object@@ )@@ ).get@@ Vm@@ ().get@@ Vm@@ Mem@@ Size@@ M@@ b@@ ())) + " ") + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ storage.@@ back@@ up@@ .@@ Import@@ Vm@@ From@@ Export@@ Domain@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ m@@ b@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ java.lang.Object object@@ ) { return ((@@ java.lang.String.@@ value@@ Of@@ (((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Import@@ Template@@ Data@@ ) (@@ object@@ )@@ ).get@@ Templat@@ e().get@@ Mem@@ Size@@ M@@ b@@ ())) + " ") + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ storage.@@ back@@ up@@ .@@ Import@@ Template@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ m@@ b@@ ()); }
java.lang.String byte@@ s@@ 2@@ ();
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ Qu@@ ot@@ a object@@ ) { int value@@ ; long al@@ loc@@ ate@@ d = 0@@ ; long us@@ ed = 0@@ ; if ((@@ object.get@@ G@@ lo@@ b@@ al@@ Quota@@ Cluster@@ ()) != null@@ ) { al@@ loc@@ ate@@ d = object.get@@ G@@ lo@@ b@@ al@@ Quota@@ Cluster@@ ().get@@ Mem@@ Size@@ M@@ B@@ (); us@@ ed = object.get@@ G@@ lo@@ b@@ al@@ Quota@@ Cluster@@ ().get@@ Mem@@ Size@@ M@@ B@@ Us@@ age@@ (); } else { for (org.ovirt.engine.core.common.businessentities.@@ Quota@@ C@@ luster quota@@ C@@ luster : object.get@@ Quota@@ C@@ lust@@ ers@@ ()) { if (!(@@ Quota@@ C@@ luster.@@ UN@@ L@@ IM@@ I@@ T@@ ED@@ _M@@ EM@@ .equals(@@ quota@@ Cluster@@ .get@@ Mem@@ Size@@ M@@ B@@ ()))) { al@@ loc@@ ate@@ d +@@ = ((@@ quota@@ Cluster@@ .get@@ Mem@@ Size@@ M@@ B@@ ()) != null@@ ) ? quota@@ Cluster@@ .get@@ Mem@@ Size@@ M@@ B@@ () : 0@@ ; us@@ ed +@@ = quota@@ Cluster@@ .get@@ Mem@@ Size@@ M@@ B@@ Us@@ age@@ (); } else { al@@ loc@@ ate@@ d = org.ovirt.engine.core.common.businessentities.@@ Quota@@ C@@ luster.@@ UN@@ L@@ IM@@ I@@ T@@ ED@@ _M@@ EM@@ ; break@@ ; } } valu@@ e = (@@ int@@ ) (@@ al@@ loc@@ ate@@ d - us@@ ed@@ )); java.lang.String return@@ Val@@ ; if (@@ al@@ loc@@ ate@@ d < 0) { return@@ V@@ al = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Main@@ Tab@@ Quota@@ View@@ .@@ const@@ an@@ t@@ s.@@ un@@ l@@ im@@ it@@ ed@@ (); } else if (@@ valu@@ e <@@ = 0) { return@@ V@@ al = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Main@@ Tab@@ Quota@@ View@@ .@@ const@@ an@@ t@@ s.@@ m@@ b@@ ()); } else if (@@ valu@@ e <@@ = (@@ 5 * 1@@ 0@@ 2@@ 4@@ )) { return@@ V@@ al = valu@@ e + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Main@@ Tab@@ Quota@@ View@@ .@@ const@@ an@@ t@@ s.@@ m@@ b@@ ()); } else { return@@ V@@ al = (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ d@@ ec@@ im@@ al@@ Format@@ .@@ for@@ mat@@ (((@@ (@@ do@@ ubl@@ e) (@@ value@@ )) / 1@@ 0@@ 2@@ 4@@ ))) + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ t@@ ab@@ .@@ Main@@ Tab@@ Quota@@ View@@ .@@ d@@ ec@@ im@@ al@@ Format@@ .@@ for@@ mat@@ (((@@ (@@ do@@ ubl@@ e) / 1@@ 0@@ 2@@ 4@@ ))) + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ m@@ ain@@ .@@ view@@ .@@ view@@ .@@ view@@ .@@ t@@ ab@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ view@@ .@@ t@@ ab@@ .@@ view@@ .@@ view@@ .@@ t@@ ab@@ .@@ t@@ ab@@ .@@ Sub@@ Tab@@ Quota@@ View@@ .@@ for@@ mat@@ (((@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ d@@ ec@@ im@@ it@@ ed@@ )); } return return@@ Val@@ ; }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model entity@@ ) { return (((@@ java.lang.@@ Do@@ ubl@@ e) (@@ as@@ Vm@@ (@@ entity@@ ).get@@ Ac@@ tu@@ al@@ Disk@@ With@@ Snapshots@@ Siz@@ e()@@ )@@ .@@ int@@ Valu@@ e()) + " ("@@ ) + (@@ as@@ Guid@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e object@@ ) { return java.lang.String.@@ value@@ Of@@ (@@ object.get@@ Mem@@ Size@@ M@@ b@@ ())) + " ("@@ ; }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model entity@@ ) { return (((@@ java.lang.@@ Do@@ ubl@@ e) (@@ as@@ Vm@@ (@@ entity@@ ).get@@ Disk@@ Siz@@ e()@@ )@@ .@@ int@@ Valu@@ e()) + " ("@@ ) (@@ org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ resourc@@ es.@@ Vm@@ T@@ able@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model entity@@ ) { return (((@@ java.lang.@@ Do@@ ubl@@ e) (@@ as@@ Disk@@ (@@ entity@@ ).get@@ Ac@@ tu@@ al@@ Disk@@ With@@ Snapshots@@ Siz@@ e()@@ )@@ .@@ int@@ Valu@@ e()) + " ("@@ ) + (@@ as@@ Disk@@ (@@ entity@@ ).get@@ Ac@@ tu@@ al@@ Disk@@ With@@ Snapshots@@ Siz@@ e()@@ ))); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Entity@@ Model entity@@ ) { return (@@ as@@ Disk@@ (@@ entity@@ ).get@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s()) + (@@ org.ovirt.engine.ui.@@ user@@ port@@ al.@@ widget.@@ resourc@@ es.@@ Vm@@ T@@ able@@ .@@ const@@ an@@ t@@ s.@@ g@@ ()); }
@java.lang.Override public java.lang.String get@@ Text@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ ) { if (((@@ storage.@@ get@@ Available@@ Disk@@ Siz@@ e()) == null@@ ) || ((@@ storage.@@ get@@ Available@@ Disk@@ Siz@@ e()) < 1@@ )) { return 1 " + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ dat@@ ac@@ ent@@ er.@@ Rec@@ o@@ ver@@ y@@ Storage@@ Confirmation@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); } return (@@ storage.@@ get@@ Available@@ Disk@@ Siz@@ e()) + " ("@@ ) + (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ dat@@ ac@@ ent@@ er.@@ Rec@@ o@@ ver@@ y@@ Storage@@ Confirmation@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage object@@ ) { return ((@@ java.lang.String.@@ value@@ Of@@ (@@ object.get@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s@@ ())) + " ("@@ ) + (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ templat@@ e.@@ Template@@ Disk@@ ListModel@@ T@@ able@@ .@@ const@@ an@@ t@@ s.@@ g@@ b@@ ()); }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { if (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ p@@ opup@@ .@@ p@@ rovider.@@ Provider@@ Popup@@ P@@ res@@ enter@@ Widget@@ .@@ IS@@ _@@ A@@ V@@ AIL@@ AB@@ LE@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { get@@ View@@ ().@@ update@@ Vm@@ w@@ are@@ Visi@@ bl@@ e(@@ model.get@@ Vm@@ w@@ are@@ Properties@@ Model().get@@ Is@@ Avail@@ abl@@ e()); } }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { if (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ p@@ opup@@ .@@ p@@ rovider.@@ Provider@@ Popup@@ P@@ res@@ enter@@ Widget@@ .@@ IS@@ _@@ A@@ V@@ AIL@@ AB@@ LE@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { get@@ View@@ ().@@ update@@ DataCenter@@ Visi@@ bl@@ e(@@ model.get@@ DataCenter@@ ().get@@ Is@@ Avail@@ abl@@ e()); } }
void update@@ DataCenter@@ Visi@@ bl@@ e@@ (@@ boolean is@@ Available@@ );
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { if (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ p@@ opup@@ .@@ p@@ rovider.@@ Provider@@ Popup@@ P@@ res@@ enter@@ Widget@@ .@@ IS@@ _@@ A@@ V@@ AIL@@ AB@@ LE@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { get@@ View@@ ().@@ update@@ K@@ vm@@ Visi@@ bl@@ e(@@ model.get@@ K@@ vm@@ Properties@@ Model().get@@ Is@@ Avail@@ abl@@ e()); } }
public void update@@ DataCenter@@ Visi@@ bl@@ e@@ (@@ boolean is@@ Available@@ ) { if (is@@ Available@@ ) { type@@ Editor@@ Row@@ .@@ remove@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.@@ h@@ ead@@ er@@ Se@@ par@@ ator@@ ()); dat@@ ac@@ enter@@ Editor@@ Row@@ .@@ add@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.@@ h@@ ead@@ er@@ Se@@ par@@ ator@@ ()); } else { type@@ Editor@@ Row@@ .@@ add@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.@@ h@@ ead@@ er@@ Se@@ par@@ ator@@ ()); dat@@ ac@@ enter@@ Editor@@ Row@@ .@@ remove@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.@@ h@@ ead@@ er@@ Se@@ par@@ ator@@ ()); } }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { if (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ p@@ opup@@ .@@ p@@ rovider.@@ Provider@@ Popup@@ P@@ res@@ enter@@ Widget@@ .@@ IS@@ _@@ A@@ V@@ AIL@@ AB@@ LE@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { get@@ View@@ ().@@ update@@ X@@ en@@ Visi@@ bl@@ e(@@ model.get@@ X@@ en@@ Properties@@ Model().get@@ Is@@ Avail@@ abl@@ e()); } }
@java.lang.Override protected boolean validate@@ Image@@ Trans@@ fer@@ (org.ovirt.engine.core.compat.Guid image@@ Id) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ Dao@@ .get(@@ image@@ Id@@ ))); org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator disk@@ Validator = get@@ Disk@@ Validator@@ (disk@@ Image@@ ); org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Images@@ Validator disk@@ Images@@ Validator = get@@ Disk@@ Images@@ Validator@@ (disk@@ Image@@ ); org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator StorageDomain@@ Validator = get@@ StorageDomain@@ Validator@@ (@@ storageDomain@@ Dao@@ .get@@ For@@ StoragePool@@ (disk@@ Image.get@@ Storage@@ Id@@ s().get@@ (0@@ ), disk@@ Image.get@@ StoragePool@@ Id@@ ())); return ((((@@ validate(@@ disk@@ Validator.@@ is@@ Disk@@ Exist@@ s@@ ())) && (@@ validate(@@ disk@@ Validator.@@ is@@ Disk@@ Attached@@ To@@ An@@ y@@ Vm@@ ()))) && (@@ validate(@@ disk@@ Images@@ Validator.@@ disk@@ Images@@ Not@@ I@@ ll@@ eg@@ al@@ ()))) && (@@ validate(@@ disk@@ Images@@ Validator.@@ disk@@ Images@@ Not@@ Lock@@ ed@@ ()))) && (@@ validate(@@ StorageDomain@@ Validator.@@ is@@ Domain@@ Exist@@ And@@ Acti@@ v@@ e()@@ ))) && ; }
protected void initial@@ ize@@ Sup@@ pl@@ i@@ ed@@ Image@@ () { super@@ .@@ init@@ Sup@@ pl@@ i@@ ed@@ Image@@ (@@ trans@@ fer@@ Image@@ Command@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ (); do@@ Return(@@ disk@@ Image@@ ).@@ when(@@ disk@@ Dao@@ ).get@@ (@@ any@@ ()); do@@ Return(@@ disk@@ Validator@@ ).when@@ (get@@ Command@@ ()@@ ).get@@ Disk@@ Validator@@ (@@ any@@ ()); do@@ Return(@@ disk@@ Images@@ Validator@@ ).when@@ (get@@ Command@@ ()@@ ).get@@ Disk@@ Images@@ Validator@@ (@@ any@@ ()); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).@@ when(@@ disk@@ Validator@@ ).@@ is@@ Disk@@ Attached@@ To@@ An@@ y@@ Vm@@ (); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).@@ when(@@ disk@@ Validator@@ ).@@ is@@ Disk@@ Exist@@ s(); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).@@ when(@@ disk@@ Images@@ Validator@@ ).@@ disk@@ Images@@ Not@@ Lock@@ ed@@ (); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).@@ when(@@ disk@@ Images@@ Validator@@ ).@@ disk@@ Images@@ Not@@ I@@ ll@@ eg@@ al@@ (); do@@ Return(@@ ValidationRes@@ ult.@@ VALID@@ ).@@ when(@@ storageDomain@@ Validator@@ ).@@ is@@ Domain@@ Exist@@ And@@ Acti@@ v@@ e(); }
private boolean update@@ Vms@@ () { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Stati@@ c vm : vm@@ s@@ Lock@@ ed@@ For@@ Update@@ ) { org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base update@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Bas@@ e(@@ vm@@ ); update@@ Param@@ s.set@@ Lock@@ Properties@@ (@@ org.ovirt.engine.core.common.action.@@ Lock@@ Properties.@@ c@@ re@@ ate(@@ Lock@@ Properties.@@ S@@ c@@ op@@ e.@@ N@@ one@@ )); update@@ Param@@ s.set@@ Cluster@@ L@@ ev@@ el@@ Change@@ From@@ Version@@ (@@ old@@ Cluster@@ .get@@ CompatibilityVersion@@ ()); up@@ g@@ r@@ ad@@ e@@ Graphics@@ Devic@@ es@@ (vm@@ , update@@ Param@@ s); update@@ Rng@@ Device@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (vm@@ .get@@ Id(), vm.get@@ Custom@@ CompatibilityVersion@@ (), update@@ Param@@ s); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base result = run@@ Internal@@ Action(VdcActionType.@@ Update@@ Vm@@ , update@@ Param@@ s, org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); if (!(@@ result.get@@ Succeeded@@ ())) { add@@ Custom@@ Value("@@ Vm@@ Name@@ ", vm.get@@ Name()); org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.@@ add@@ Custom@@ Value("@@ Message@@ ", "@@ to@@ do@@ "); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , AuditLogType.@@ C@@ LUSTER_@@ C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ VM@@ _C@@ O@@ M@@ P@@ A@@ TI@@ B@@ I@@ L@@ I@@ TY@@ _@@ V@@ ER@@ SI@@ ON@@ ); vm@@ .set@@ Custom@@ CompatibilityVersion@@ (@@ old@@ Cluster@@ .get@@ CompatibilityVersion@@ ()); vm@@ Static@@ Dao@@ .@@ updat@@ e(@@ vm@@ ); } } return true@@ ; }
private boolean update@@ Templat@@ es@@ () { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Templat@@ e templat@@ e : templat@@ es@@ Lock@@ ed@@ For@@ Update@@ ) { templat@@ e.set@@ Cluster@@ CompatibilityVersion@@ (org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ Cluster@@ ().get@@ CompatibilityVersion@@ ()); final org.ovirt.engine.core.common.action.@@ Update@@ VmTemplate@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Update@@ VmTemplate@@ Parameters(@@ template@@ ); parameters.set@@ Lock@@ Properties@@ (@@ org.ovirt.engine.core.common.action.@@ Lock@@ Properties.@@ c@@ re@@ ate(@@ Lock@@ Properties.@@ S@@ c@@ op@@ e.@@ N@@ one@@ )); parameters.set@@ Cluster@@ L@@ ev@@ el@@ Change@@ From@@ Version@@ (@@ old@@ Cluster@@ .get@@ CompatibilityVersion@@ ()); update@@ Rng@@ Device@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (@@ templat@@ e.get@@ Id(), templat@@ e.get@@ Custom@@ CompatibilityVersion@@ (), parameters@@ ); if (!(@@ parameter@@ s.@@ is@@ Update@@ Rng@@ Devic@@ e())) { continue@@ ; } final org.ovirt.engine.core.common.action.VdcReturnValue@@ Base result = run@@ Internal@@ Action(VdcActionType.@@ Update@@ VmTemplate@@ , parameters@@ , org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); if (!(@@ result.get@@ Succeeded@@ ())) { add@@ Custom@@ Value("@@ Template@@ Name@@ ", templat@@ e.get@@ Name()); org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.@@ add@@ Custom@@ Value("@@ Message@@ ", "@@ to@@ do@@ "); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , AuditLogType.@@ C@@ LUSTER_@@ C@@ ANNOT_@@ UP@@ D@@ AT@@ E_@@ T@@ EM@@ PL@@ AT@@ E_@@ C@@ O@@ M@@ P@@ A@@ TI@@ B@@ I@@ L@@ I@@ TY@@ _@@ V@@ ER@@ SI@@ ON@@ ); templat@@ e.set@@ Custom@@ CompatibilityVersion@@ (@@ old@@ Cluster@@ .get@@ CompatibilityVersion@@ ()); vm@@ Template@@ Dao@@ .@@ updat@@ e(@@ template@@ ); } return true@@ ; }
@java.lang.Override public void initial@@ iz@@ e() throw@@ s org.@@ qu@@ art@@ z@@ .S@@ chedul@@ er@@ Config@@ Exception { execut@@ or@@ Servic@@ e = new java.util.@@ con@@ c@@ urr@@ ent.@@ Th@@ read@@ Pool@@ Execut@@ or@@ (@@ 1@@ 0@@ , c@@ ount@@ , 6@@ 0@@ L@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ , new java.util.@@ con@@ c@@ urr@@ ent.@@ Array@@ B@@ lock@@ ing@@ Qu@@ e@@ ue@@ <@@ java.lang.@@ Run@@ n@@ able@@ >@@ (@@ qu@@ e@@ ue@@ Siz@@ e(@@ new org.ovirt.engine.core.utils.@@ tim@@ er.@@ Schedul@@ er@@ Th@@ read@@ Poo@@ l.@@ Schedul@@ er@@ Th@@ read@@ Fac@@ t@@ ory@@ (@@ this@@ )); }
private void gener@@ ate@@ Parameter@@ Sp@@ e@@ c@@ (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Paramet@@ er parameter@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Type typ@@ e = parameter@@ .get@@ Typ@@ e(); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Name nam@@ e = parameter@@ .get@@ Nam@@ e(); java.lang.String s@@ y@@ m@@ b@@ o@@ l = r@@ u@@ b@@ y@@ Names@@ .get@@ Mem@@ ber@@ Sty@@ le@@ Name(@@ nam@@ e); java.lang.String cl@@ a@@ z@@ z = null@@ ; if (@@ typ@@ e instanceof org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ P@@ ri@@ m@@ iti@@ ve@@ Type@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Model model = typ@@ e.get@@ Model@@ (); if (@@ typ@@ e == (model.get@@ String@@ Typ@@ e())) { cl@@ a@@ z@@ z = "@@ "@@ ; } else if (@@ typ@@ e == (model.get@@ Boolean@@ Typ@@ e())) { cl@@ a@@ z@@ z = "@@ Tr@@ ue@@ Class@@ "@@ ; } else if (@@ typ@@ e == (model.get@@ Integ@@ er@@ Typ@@ e())) { cl@@ a@@ z@@ z = "@@ Fi@@ x@@ num@@ "@@ ; } else if (@@ typ@@ e == (model.get@@ D@@ ec@@ im@@ al@@ Typ@@ e())) { cl@@ a@@ z@@ z = "@@ F@@ lo@@ at@@ "@@ ; } else if (@@ typ@@ e == (model.get@@ D@@ ate@@ Typ@@ e())) { cl@@ a@@ z@@ z = "@@ D@@ ate@@ Time@@ "@@ ; } else { throw new java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ ("@@ Th@@ e k@@ no@@ w h@@ o@@ w to gener@@ at@@ e the paramet@@ er sp@@ e@@ c for typ@@ e " + "@@ \@@ "@@ ")); } } else if (@@ typ@@ e instanceof org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ List@@ Type@@ ) { cl@@ a@@ z@@ z = "@@ List@@ "@@ ; } if (@@ cl@@ a@@ z@@ z != null@@ ) { b@@ u@@ f@@ er.@@ add@@ Lin@@ e(@@ "@@ %@@ s@@ ]@@ .@@ f@@ ree@@ z@@ e@@ , s@@ y@@ m@@ b@@ ol@@ , cl@@ a@@ z@@ ); } }
protected void set@@ Q@@ c@@ ow@@ Comp@@ at@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image disk@@ Image@@ , org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Group@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Id, org.ovirt.engine.core.compat.Guid new@@ StorageDomain@@ ID@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > host@@ s@@ For@@ Execution@@ , boolean sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { disk@@ Im@@ age.@@ set@@ Q@@ c@@ ow@@ Comp@@ at@@ (@@ Q@@ c@@ ow@@ C@@ ompat.@@ Q@@ C@@ O@@ W@@ 2@@ _@@ V@@ 2@@ ); if (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ q@@ c@@ ow@@ Comp@@ at@@ Supported@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Base@@ Images@@ Command.get@@ StoragePool@@ ().get@@ CompatibilityVersion@@ ())) { org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o q@@ em@@ u@@ Image@@ In@@ f@@ o = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ Q@@ em@@ u@@ Image@@ Info@@ From@@ Vds@@ m@@ (@@ storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ Image@@ Group@@ Id, new@@ Image@@ Id, host@@ s@@ For@@ Execution@@ , sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ); if (@@ q@@ em@@ u@@ Image@@ In@@ f@@ o != null@@ ) { disk@@ Im@@ age.@@ set@@ Q@@ c@@ ow@@ Comp@@ at@@ (@@ q@@ em@@ u@@ Image@@ Info@@ .get@@ Q@@ c@@ ow@@ Comp@@ at@@ ()); } }
private void handl@@ e@@ F@@ in@@ al@@ iz@@ ing@@ Success@@ (@@ final org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ <@@ T@@ >@@ .@@ St@@ ate@@ Cont@@ ex@@ t cont@@ ext@@ ) { log.@@ info@@ ("@@ S@@ uc@@ cess@@ f@@ u@@ l trans@@ f@@ er for {@@ } get@@ Trans@@ fer@@ Description@@ ()); if (@@ st@@ op@@ Image@@ Trans@@ fer@@ Session@@ (@@ cont@@ ext.@@ entity@@ )) { org.ovirt.engine.core.compat.Guid trans@@ fer@@ ing@@ Vds@@ Id = cont@@ ext.@@ entity.get@@ Vds@@ Id@@ (); if (@@ ve@@ r@@ if@@ y@@ Image@@ (@@ trans@@ fer@@ ing@@ Vds@@ Id@@ )) { set@@ Volume@@ L@@ eg@@ al@@ ity@@ In@@ Storage@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.@@ LE@@ G@@ AL@@ _@@ IM@@ AG@@ E); if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Volume@@ Format@@ ().@@ equals(@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ )) { set@@ Q@@ c@@ ow@@ Comp@@ at@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Image@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ StoragePool@@ ().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Disk@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Image@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ StorageDomain@@ Id(), null@@ ); image@@ Dao@@ .@@ updat@@ e(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Image@@ ().get@@ Image@@ ()); } org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.@@ un@@ Lock@@ Image@@ (); update@@ Entity@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ F@@ IN@@ IS@@ H@@ ED_@@ S@@ U@@ C@@ C@@ E@@ SS@@ ); } else { set@@ Image@@ Status(@@ Image@@ Status.@@ I@@ L@@ LE@@ G@@ AL@@ ); update@@ Entity@@ P@@ has@@ e.@@ F@@ IN@@ AL@@ I@@ Z@@ ING@@ _@@ FAIL@@ U@@ RE@@ ); } t@@ e@@ ar@@ Down@@ Image@@ (@@ cont@@ ext.@@ entity.get@@ Vds@@ Id()); } }
private void set@@ Q@@ c@@ ow@@ Comp@@ at@@ By@@ Q@@ em@@ u@@ Image@@ Info@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Group@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Id, org.ovirt.engine.core.compat.Guid new@@ StorageDomain@@ ID@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > host@@ Id@@ To@@ Execut@@ e@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o = java.util.Collections.@@ em@@ pty@@ List@@ (); java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ >> attach@@ ed@@ Vms@@ In@@ f@@ o = vm@@ Dao@@ .get@@ Vms@@ With@@ Plug@@ Info@@ (get@@ Dest@@ ination@@ DiskImage@@ ().get@@ Id()); for (org.ovirt.engine.core.common.@@ utils.@@ Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > p@@ a@@ i@@ r : attach@@ ed@@ Vms@@ Info@@ ) { org.ovirt.engine.core.common.businessentities.VM vm = p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ (); if (@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .equals(@@ p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ().is@@ Plug@@ ged@@ ())) { if (vm@@ .is@@ Start@@ ing@@ Or@@ Up@@ ()) { host@@ Id@@ To@@ Execut@@ e@@ Q@@ em@@ u@@ Image@@ Info@@ .@@ add(@@ vm.get@@ Run@@ On@@ Vds@@ ()); break@@ ; } } set@@ Q@@ c@@ ow@@ Comp@@ at@@ (get@@ Dest@@ ination@@ DiskImage@@ ().get@@ Image@@ (), storagePool@@ Id, new@@ Image@@ Group@@ Id, new@@ Image@@ Id, new@@ StorageDomain@@ ID@@ , host@@ Id@@ To@@ Execut@@ e@@ Q@@ em@@ u@@ Image@@ Info@@ , (@@ host@@ Id@@ To@@ Execut@@ e@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o == null@@ )); } }
private void sh@@ ow@@ Panel@@ Item@@ s@@ (@@ boolean sh@@ ow@@ ) { s@@ ec@@ ur@@ ity@@ Check@@ b@@ o@@ x@@ .set@@ Visi@@ bl@@ e(@@ sh@@ ow@@ ); b@@ ug@@ Check@@ b@@ o@@ x@@ .set@@ Visi@@ bl@@ e(@@ sh@@ ow@@ ); en@@ h@@ anc@@ ement@@ Check@@ b@@ o@@ x@@ .set@@ Visi@@ bl@@ e(@@ sh@@ ow@@ ); en@@ h@@ anc@@ ement@@ Check@@ b@@ o@@ x@@ .set@@ Visi@@ bl@@ e(@@ sh@@ ow@@ ); en@@ h@@ anc@@ ement@@ Check@@ b@@ o@@ x@@ .set@@ Visi@@ bl@@ e(@@ sh@@ ow@@ ); en@@ abl@@ ed@@ (@@ true@@ ); en@@ h@@ anc@@ ement@@ Check@@ b@@ o@@ x@@ .set@@ Visi@@ bl@@ e(@@ sh@@ ow@@ ); en@@ abl@@ ed@@ (@@ false@@ ); en@@ abl@@ ed@@ .set@@ Visi@@ bl@@ e(@@ sh@@ ow@@ ); }
@java.lang.Override public org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ I@@ con@@ Type get@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ Err@@ at@@ u@@ m err@@ at@@ um@@ ) { if ((@@ err@@ at@@ um@@ .get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Err@@ at@@ um@@ .@@ Err@@ ata@@ Type.@@ B@@ U@@ G@@ FI@@ X@@ )) { get@@ C@@ el@@ l@@ ().set@@ C@@ ol@@ or@@ (@@ com@@ .google.@@ gwt@@ .@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String("@@ OR@@ AN@@ G@@ ER@@ ED@@ ")); return org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ I@@ con@@ Type.@@ B@@ U@@ G@@ ; } else if ((@@ err@@ at@@ um@@ .get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Err@@ at@@ um@@ .@@ Err@@ ata@@ Type.@@ EN@@ H@@ AN@@ C@@ EM@@ EN@@ T@@ )) { get@@ C@@ el@@ l@@ ().set@@ C@@ ol@@ or@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String("@@ B@@ LU@@ E@@ ")); return org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ I@@ con@@ Type.@@ P@@ LU@@ S_@@ S@@ Q@@ U@@ AR@@ E@@ ; } else if ((@@ err@@ at@@ um@@ .get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Err@@ at@@ um@@ .@@ Err@@ ata@@ Type.@@ SE@@ C@@ UR@@ I@@ TY@@ )) { get@@ C@@ el@@ l@@ ().set@@ C@@ ol@@ or@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String("@@ D@@ AR@@ K@@ OR@@ AN@@ G@@ E@@ ")); return org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ .@@ const@@ an@@ t@@ s.@@ I@@ con@@ Type.@@ W@@ AR@@ N@@ IN@@ ; } return null@@ ; }
protected com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ R@@ ender@@ ed@@ Image@@ (@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ I@@ con@@ Type value@@ , java.lang.String c@@ ol@@ or@@ ) { return org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ I@@ con@@ Type@@ C@@ el@@ l.@@ T@@ EM@@ PL@@ AT@@ E@@ .@@ ic@@ on@@ (@@ valu@@ e.get@@ C@@ s@@ Name(), c@@ ol@@ or@@ ); }
@@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Templ@@ ate(@@ "@@ <@@ sp@@ an class@@ =@@ \@@ "@@ f@@ a {0@@ } in@@ lin@@ e@@ -@@ ic@@ on@@ \@@ " st@@ y@@ le@@ =@@ \@@ "@@ c@@ ol@@ or@@ : {@@ 1@@ }@@ \@@ "@@ /@@ >@@ ") com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l ic@@ on@@ (java.lang.String class@@ Name, java.lang.String c@@ ol@@ or@@ );
private void set@@ Q@@ c@@ ow@@ Comp@@ at@@ By@@ Q@@ em@@ u@@ Image@@ Info@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Group@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Id, org.ovirt.engine.core.compat.Guid new@@ StorageDomain@@ ID@@ ) { org.ovirt.engine.core.compat.Guid host@@ Id@@ To@@ Execut@@ e@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o = null@@ ; java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ >> attach@@ ed@@ Vms@@ In@@ f@@ o = vm@@ Dao@@ .get@@ Vms@@ With@@ Plug@@ Info@@ (get@@ Dest@@ ination@@ DiskImage@@ ().get@@ Id()); for (org.ovirt.engine.core.common.@@ utils.@@ Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > p@@ a@@ i@@ r : attach@@ ed@@ Vms@@ Info@@ ) { org.ovirt.engine.core.common.businessentities.VM vm = p@@ a@@ ir@@ .get@@ F@@ ir@@ st@@ (); if (@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .equals(@@ p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ().is@@ Plug@@ ged@@ ())) { if (vm@@ .is@@ Start@@ ing@@ Or@@ Up@@ ()) { host@@ Id@@ To@@ Execut@@ e@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o = vm.get@@ Run@@ On@@ Vds@@ (); break@@ ; } } set@@ Q@@ c@@ ow@@ Comp@@ at@@ (get@@ Dest@@ ination@@ DiskImage@@ ().get@@ Image@@ (), storagePool@@ Id, new@@ Image@@ Group@@ Id, new@@ Image@@ Id, new@@ StorageDomain@@ ID@@ , host@@ Id@@ To@@ Execut@@ e@@ Q@@ em@@ u@@ Image@@ Info@@ ); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { m@@ and@@ ator@@ y@@ (disk@@ ()@@ .@@ for@@ mat@@ ()); o@@ ption@@ al@@ (disk@@ ().@@ al@@ ias@@ ()); o@@ ption@@ al@@ (disk@@ ().@@ b@@ oot@@ abl@@ e()); o@@ ption@@ al@@ (disk@@ ().@@ d@@ escription@@ ()); o@@ ption@@ al@@ (disk@@ ().@@ pro@@ p@@ ag@@ ate@@ Error@@ s()); o@@ ption@@ al@@ (disk@@ ().@@ quota@@ ().@@ id@@ ()); o@@ ption@@ al@@ (disk@@ ().@@ sh@@ are@@ abl@@ e()); o@@ ption@@ al@@ (disk@@ ().@@ sp@@ ar@@ s@@ e()); o@@ ption@@ al@@ (disk@@ ().@@ w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { m@@ and@@ ator@@ y@@ (@@ attach@@ ment@@ ().@@ id@@ ()); o@@ ption@@ al@@ (@@ attach@@ ment@@ ().@@ acti@@ v@@ e()); o@@ ption@@ al@@ (@@ attach@@ ment@@ ().@@ disk@@ ().@@ read@@ Only@@ ()); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { m@@ and@@ ator@@ y@@ (@@ attach@@ ment@@ ().@@ id@@ ()); m@@ and@@ ator@@ y@@ (@@ attach@@ ment@@ ().@@ disk@@ ().@@ snapshot@@ ().@@ id@@ ()); o@@ ption@@ al@@ (@@ attach@@ ment@@ ().@@ acti@@ v@@ e()); }
public static int get@@ C@@ d@@ Device@@ In@@ dex@@ (java.lang.String c@@ d@@ Interface@@ ) { switch (c@@ d@@ Interface@@ ) { case "@@ s@@ csi@@ " : return 2@@ ; case "@@ s@@ ata@@ " : return 2@@ ; default : return -@@ 1@@ ; } }
public boolean has@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Th@@ e@@ Data@@ Support@@ () { return java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .equals(@@ get@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ()); }
public boolean support@@ s@@ Dis@@ c@@ ard@@ () { return ((get@@ Dis@@ c@@ ard@@ Max@@ Siz@@ e()) != null@@ ) && ((get@@ Dis@@ c@@ ard@@ Max@@ Siz@@ e()) > 0@@ ); }
private java.util.Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ > get@@ Add@@ ed@@ Lun@@ s(@@ java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ > lun@@ Model@@ s) { java.util.Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ > lun@@ s = new java.util.@@ Link@@ ed@@ List<@@ >(); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model lu@@ n : lun@@ Model@@ s) { if ((@@ selected@@ Lun@@ s && (@@ lun@@ .get@@ Is@@ Selected@@ ())) || ((@@ in@@ c@@ lu@@ d@@ ed@@ Lun@@ s@@ ) && (@@ lun@@ .get@@ Is@@ In@@ c@@ lu@@ d@@ ed@@ ())) && ((@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ fi@@ r@@ st@@ Or@@ Null@@ (@@ lun@@ s, new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ Lun@@ P@@ red@@ ic@@ ate(@@ lun@@ ))) == null@@ )) { lun@@ s.add(@@ lun@@ ); } } return lun@@ s@@ ; }
private boolean is@@ StorageDomain@@ Support@@ Dis@@ c@@ ard@@ (@@ java.util.Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ > lun@@ s) { for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model lu@@ n : lun@@ s) { java.lang.@@ L@@ on@@ g dis@@ c@@ ard@@ Max@@ Siz@@ e = lun@@ .get@@ Entity@@ ().get@@ Dis@@ c@@ ard@@ Max@@ Siz@@ e(); if ((@@ dis@@ c@@ ard@@ Max@@ Siz@@ e != null@@ ) && (@@ dis@@ c@@ ard@@ Max@@ Siz@@ e == 0@@ )) { return false@@ ; } } return true@@ ; }
private void validate@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e() { if ((get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e().get@@ Is@@ Avail@@ abl@@ e()) && (get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e().get@@ Entity@@ ())) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Base s@@ an@@ Storage@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Bas@@ e) (get@@ C@@ urrent@@ Storage@@ Item@@ ())); java.util.Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ > lun@@ s = s@@ an@@ Storage@@ Model.get@@ Add@@ ed@@ Lun@@ s(); if ((@@ lun@@ s != null@@ ) && (!(@@ is@@ StorageDomain@@ Support@@ Dis@@ c@@ ard@@ (@@ lun@@ s@@ )))) { get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e().set@@ Is@@ Valid@@ (@@ false@@ ); get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e().get@@ In@@ valid@@ ity@@ Reason@@ s().add(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model@@ .@@ const@@ an@@ t@@ s.@@ dis@@ c@@ ard@@ Is@@ Not@@ Supported@@ By@@ Un@@ der@@ ly@@ ing@@ Storage@@ ()); return@@ ; } } get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e().set@@ Is@@ Valid@@ (@@ true@@ ); }
public void update@@ Lun@@ W@@ arning@@ For@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e() { if (get@@ Cont@@ ain@@ er@@ ().get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e().get@@ Entity@@ ()) { for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model lun@@ Model : get@@ Add@@ ed@@ Lun@@ s()) { if (!(@@ lun@@ Support@@ s@@ Dis@@ c@@ ard@@ (@@ lun@@ Model.get@@ Entity@@ ()))) { set@@ Selected@@ Lun@@ W@@ arning@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Bas@@ e.@@ ui@@ Constant@@ s.@@ dis@@ c@@ ard@@ Is@@ Not@@ Supported@@ By@@ Un@@ der@@ ly@@ ing@@ Storage@@ ()); return@@ ; } } set@@ Selected@@ Lun@@ W@@ arning@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Bas@@ e.@@ ui@@ Constant@@ s.@@ em@@ pty@@ String@@ ()); }
private boolean lun@@ Support@@ s@@ Dis@@ c@@ ard@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s lun@@ ) { return ((@@ lun@@ .get@@ Dis@@ c@@ ard@@ Max@@ Siz@@ e()) != null@@ ) && ((@@ lun@@ .get@@ Dis@@ c@@ ard@@ Max@@ Siz@@ e()) > 0@@ ); }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Cont@@ ex@@ t cont@@ ext@@ , T value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der sb@@ , java.lang.String id@@ ) { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ I@@ c@@ on ic@@ on = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ I@@ con@@ (); org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ b@@ as@@ e.@@ h@@ el@@ p@@ er.@@ Sty@@ le@@ Name(@@ ic@@ on@@ , ic@@ on@@ Type@@ ); if (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Abstract@@ I@@ con@@ Button@@ C@@ el@@ l.@@ is@@ Enabl@@ ed(@@ value@@ )) { ic@@ on@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ Property@@ ("@@ c@@ ol@@ or@@ ", en@@ abl@@ ed@@ C@@ ol@@ or@@ ); ic@@ on@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ Property@@ ("@@ c@@ ur@@ s@@ or@@ ", "@@ p@@ o@@ int@@ er@@ "); } else { ic@@ on@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ Property@@ ("@@ c@@ ol@@ or@@ ", dis@@ abl@@ ed@@ C@@ ol@@ or@@ ); ic@@ on@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ Property@@ ("@@ c@@ ur@@ s@@ or@@ ", "@@ default@@ "); } sb@@ .@@ append@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (@@ ic@@ on@@ .toString@@ ())); }
@java.lang.Override public void set@@ In@@ S@@ l@@ ot@@ (java.lang.Object s@@ l@@ ot@@ , com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ P@@ res@@ enter@@ Widget@@ <?@@ > cont@@ ent@@ ) { super@@ .set@@ In@@ S@@ l@@ ot@@ (s@@ l@@ ot@@ , cont@@ ent@@ ); if (s@@ lo@@ t == (@@ t@@ ab@@ Cont@@ ent@@ S@@ l@@ ot@@ )) { try { com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ P@@ res@@ enter@@ <?@@ , ?@@ > p@@ resent@@ er = ((@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ P@@ res@@ enter@@ <?@@ , ?@@ >) (@@ cont@@ ent@@ )); com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ pro@@ xy@@ .@@ Tab@@ Cont@@ ent@@ Proxy@@ <?@@ > pro@@ x@@ y = ((@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ pro@@ xy@@ .@@ Tab@@ Cont@@ ent@@ Proxy@@ <?@@ >) (p@@ res@@ enter@@ .get@@ Proxy@@ ())); org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Dynamic@@ Tab@@ Cont@@ ain@@ er@@ P@@ res@@ enter@@ .get@@ View@@ ().set@@ Active@@ Tab@@ H@@ ist@@ ory@@ To@@ k@@ en@@ (@@ pro@@ xy@@ .get@@ T@@ arget@@ H@@ ist@@ ory@@ To@@ k@@ en@@ ()); org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Dynamic@@ Tab@@ Cont@@ ain@@ er@@ P@@ res@@ enter@@ .get@@ View@@ ().set@@ Active@@ Tab@@ (@@ pro@@ xy@@ .get@@ Tab@@ ()); } catch (@@ java.lang.Exception e) { org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Dynamic@@ Tab@@ Cont@@ ain@@ er@@ P@@ resent@@ er.@@ log@@ g@@ er.@@ log@@ (@@ java.util.@@ log@@ gin@@ g.@@ L@@ ev@@ el@@ .@@ SE@@ V@@ ER@@ E@@ , "@@ E@@ r@@ ro@@ r while updat@@ ing t@@ a@@ b vi@@ e@@ w e); } }
@org.junit.Test public void test@@ Set@@ Status@@ For@@ Re@@ qui@@ red@@ Networks@@ Ab@@ s@@ ent@@ On@@ Host@@ () { network@@ C@@ luster.@@ set@@ Status(@@ Network@@ Status.@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ AL@@ ); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > network@@ s = java.util.Arrays.as@@ List@@ (c@@ reate@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ ID@@ 1, org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ NAM@@ E@@ 1@@ ), create@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ ID@@ 2@@ , org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ NAM@@ E@@ 2@@ )); when(@@ vds@@ Static@@ Dao@@ .@@ c@@ ount@@ Host@@ s@@ In@@ Cluster@@ That@@ M@@ is@@ s@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ , org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ NAM@@ E@@ 1, VDS@@ Status.@@ Up@@ )).@@ thenReturn(@@ 6@@ 6@@ 6@@ ); un@@ der@@ Test.@@ set@@ Status@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ , network@@ s); ve@@ r@@ if@@ y@@ (network@@ Cluster@@ Dao@@ ).@@ update@@ Status@@ (s@@ am@@ e(@@ network@@ Cluster@@ )); assert@@ That@@ (network@@ Cluster@@ .get@@ Status@@ (), is@@ (@@ Network@@ Status.@@ N@@ ON_@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ AL@@ )); }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { network@@ C@@ luster = create@@ Network@@ Cluster@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ , org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ ID@@ 1@@ ); when(@@ network@@ Cluster@@ Dao@@ .get(@@ network@@ Cluster@@ .getId@@ ())@@ ).@@ thenReturn(@@ network@@ Cluster@@ ); manage@@ ment@@ Network@@ C@@ luster = create@@ Network@@ Cluster@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ , org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ ID@@ ); manage@@ ment@@ Network = create@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ ID@@ , org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ NAM@@ E); when(@@ manage@@ ment@@ Network@@ Util@@ .get@@ Management@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ )).@@ thenReturn(@@ manage@@ ment@@ Network@@ ); when(@@ network@@ Cluster@@ Dao@@ .get@@ (@@ new org.ovirt.engine.core.common.businessentities.network.Network@@ Cluster@@ Id@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ , org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ ID@@ )@@ )).@@ thenReturn(@@ manage@@ ment@@ Network@@ Cluster@@ ); when(@@ vds@@ Dynamic@@ Dao@@ .@@ c@@ ount@@ Host@@ s@@ In@@ Cluster@@ With@@ Status@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ , VDS@@ Status.@@ Up@@ )).@@ thenReturn(@@ 6@@ ); }
@org.junit.Test public void test@@ Set@@ Status@@ For@@ Re@@ qui@@ red@@ Network@@ Ab@@ s@@ ent@@ On@@ Host@@ () { network@@ C@@ luster.@@ set@@ Status(@@ Network@@ Status.@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ AL@@ ); when(@@ vds@@ Static@@ Dao@@ .@@ c@@ ount@@ Host@@ s@@ In@@ Cluster@@ That@@ M@@ is@@ s@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ , org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ NAM@@ E@@ 1, VDS@@ Status.@@ Up@@ )).@@ thenReturn(@@ 6@@ 6@@ ); un@@ der@@ Test.@@ set@@ Status@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ , java.util.Collections.@@ sing@@ leton@@ List@@ (c@@ reate@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ ID@@ 1, org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ NAM@@ E@@ 1@@ )); ve@@ r@@ if@@ y@@ (network@@ Cluster@@ Dao@@ ).@@ update@@ Status@@ (s@@ am@@ e(@@ network@@ Cluster@@ )); assert@@ That@@ (network@@ Cluster@@ .get@@ Status@@ (), is@@ (@@ Network@@ Status.@@ N@@ ON_@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ AL@@ )); }
@org.junit.Test public void test@@ Set@@ Status@@ For@@ Re@@ qui@@ red@@ Network@@ P@@ resent@@ On@@ Host@@ () { network@@ C@@ luster.@@ set@@ Status(@@ Network@@ Status.@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ AL@@ ); un@@ der@@ Test.@@ set@@ Status@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ , java.util.Collections.@@ sing@@ leton@@ List@@ (c@@ reate@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ ID@@ 1, org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ NAM@@ E@@ 1@@ )); ve@@ r@@ if@@ y@@ (@@ vds@@ Static@@ Dao@@ ).@@ c@@ ount@@ Host@@ s@@ In@@ Cluster@@ That@@ M@@ is@@ s@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ C@@ LUSTER_@@ ID@@ , org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Cluster@@ Hel@@ per@@ Test.@@ NETWORK_@@ NAM@@ E@@ 1@@ , VDS@@ Status.@@ U@@ p@@ ); ve@@ r@@ if@@ y@@ (network@@ Cluster@@ Dao@@ , ne@@ ver@@ ()).@@ update@@ Status@@ (s@@ am@@ e(@@ network@@ Cluster@@ )); assert@@ That@@ (network@@ Cluster@@ .get@@ Status@@ (), is@@ (@@ Network@@ Status.@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ AL@@ )); }
public void set@@ Status@@ (org.ovirt.engine.core.compat.Guid cluster@@ Id, final java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ > network@@ s) { for (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network n@@ etwork : network@@ s) { org.ovirt.engine.core.common.businessentities.network.Network@@ C@@ luster network@@ C@@ luster = network@@ Cluster@@ Dao@@ .get@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Cluster@@ Id@@ (cluster@@ Id@@ , network@@ .getId@@ ())); boolean do@@ Update@@ Network@@ Cluster@@ Statu@@ s = network@@ C@@ luster != null@@ ; if (@@ do@@ Update@@ Network@@ Cluster@@ Statu@@ s && (network@@ C@@ luster.@@ is@@ Re@@ qui@@ red@@ ()) { update@@ Status@@ Of@@ Re@@ qui@@ red@@ Network@@ C@@ luster.@@ (network@@ Cluster@@ , network@@ .get@@ Name()); } else { update@@ Network@@ Cluster@@ (network@@ Cluster@@ , Network@@ Status.@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ AL@@ ); } }
public static java.lang.@@ L@@ on@@ g d@@ et@@ er@@ min@@ e@@ Image@@ In@@ itial@@ Siz@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ Image source@@ Image@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Volume@@ For@@ ma@@ t d@@ est@@ Format@@ , org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid s@@ r@@ c@@ Domain@@ , org.ovirt.engine.core.compat.Guid d@@ st@@ Domain@@ , org.ovirt.engine.core.compat.Guid image@@ Group@@ ID@@ ) { if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ is@@ In@@ itial@@ Size@@ Supported@@ For@@ Format@@ (@@ d@@ est@@ Format@@ , d@@ st@@ Domain@@ )) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage image@@ Info@@ From@@ Stor@@ age = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ Volume@@ Info@@ From@@ Vds@@ m@@ (@@ storagePool@@ Id, s@@ r@@ c@@ Domain@@ , image@@ Group@@ ID@@ , source@@ Image.get@@ Id()); return (s@@ ource@@ Image.get@@ Volume@@ Format@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ ) ? org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ com@@ put@@ e@@ C@@ ow@@ Image@@ N@@ e@@ ed@@ Siz@@ e(@@ image@@ Info@@ From@@ Stor@@ age.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ()) : image@@ Info@@ From@@ Stor@@ age.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ (); } return null@@ ; }
public static void red@@ irect@@ To@@ Mod@@ ul@@ e(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ ) throw@@ s java.io.@@ I@@ O@@ Exception { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ log.@@ d@@ ebug@@ ("@@ Lo@@ gin@@ ing red@@ irect@@ To@@ Mod@@ ul@@ e try { org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ ess@@ ion s@@ o@@ S@@ ess@@ ion = org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Util@@ s.get@@ S@@ s@@ o@@ Session@@ (@@ re@@ quest@@ ); org.ovirt.engine.core.@@ u@@ utils.@@ net@@ .@@ UR@@ L@@ Buil@@ der red@@ irect@@ U@@ r@@ l = new org.ovirt.engine.core.@@ u@@ utils.@@ net@@ .@@ UR@@ L@@ Builder@@ (@@ org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ o@@ utils.@@ S@@ s@@ o@@ Util@@ s.get@@ R@@ ed@@ irect@@ U@@ r@@ l@@ (@@ re@@ quest@@ ).@@ toString@@ ()).@@ add@@ Parameter("@@ c@@ ode@@ ", s@@ o@@ Session@@ .get@@ Auth@@ or@@ iz@@ ation@@ Cod@@ e()); java.lang.String app@@ U@@ r@@ l = s@@ o@@ Session@@ .get@@ Ap@@ p@@ U@@ r@@ l@@ (); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ app@@ U@@ r@@ l@@ )) { red@@ irect@@ U@@ r@@ l.@@ add@@ Parameter("@@ app@@ _@@ ur@@ l@@ ", app@@ U@@ r@@ l@@ ); } java.lang.String stat@@ e = s@@ o@@ Session@@ .get@@ Stat@@ e(); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ st@@ ate@@ )) { red@@ irect@@ U@@ r@@ l.@@ add@@ Parameter("@@ st@@ ate@@ ", st@@ ate@@ ); } respon@@ s@@ e.@@ s@@ end@@ R@@ ed@@ irect@@ (@@ red@@ irect@@ U@@ r@@ l.@@ build@@ ()); org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ log.@@ d@@ ebug@@ ("@@ Tr@@ ue(@@ "@@ Fail@@ ed to m@@ od@@ ul@@ e@@ : {}@@ ", red@@ irect@@ U@@ r@@ l@@ ); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ log.error@@ ("@@ Fail@@ ed red@@ irect@@ ing to m@@ od@@ ul@@ e@@ : {}@@ ", ex@@ .get@@ Message@@ ()); org.ovirt.engine.core.@@ s@@ o@@ utils.@@ S@@ s@@ o@@ Utils.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ ex@@ ); } final@@ l@@ y { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ s@@ o@@ Util@@ s.get@@ S@@ s@@ o@@ Session@@ (@@ re@@ quest@@ ).@@ cl@@ e@@ an@@ up@@ (); }
private static java.lang.String create@@ T@@ m@@ p@@ S@@ s@@ o@@ Client@@ Con@@ f@@ Fil@@ e(@@ java.lang.String client@@ Id, java.lang.String client@@ Sec@@ ret@@ , java.lang.String c@@ er@@ t@@ if@@ ic@@ ate@@ File@@ , java.lang.String callback@@ Pre@@ fi@@ x@@ ) throw@@ s java.io.@@ File@@ Not@@ F@@ ound@@ Exception { if (!(@@ org.ovirt.engine.@@ s@@ g.@@ core.@@ S@@ s@@ o@@ Local@@ Config.@@ get@@ Instance().get@@ T@@ m@@ p@@ D@@ ir@@ ().@@ ex@@ ist@@ s@@ ())) { org.ovirt.engine.@@ s@@ ore@@ g.@@ core.@@ S@@ s@@ o@@ Local@@ Config.@@ get@@ Instance().get@@ T@@ m@@ p@@ D@@ ir@@ ().@@ m@@ k@@ d@@ ir@@ s(); } java.io.@@ Fil@@ e t@@ m@@ p@@ Fil@@ e = new java.io.@@ Fil@@ e(@@ org.ovirt.engine.@@ s@@ s@@ ore@@ g.@@ core.@@ S@@ s@@ o@@ Local@@ Config.@@ get@@ Instance().get@@ T@@ m@@ p@@ D@@ ir@@ (), java.lang.String@@ .@@ for@@ mat@@ ("@@ 9@@ _@@ s@@ o@@ _@@ client@@ _@@ %@@ s.@@ con@@ f@@ ", java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ ())); try (@@ java.io.@@ P@@ r@@ int@@ W@@ rit@@ er p@@ w = new java.io.@@ P@@ r@@ int@@ W@@ rit@@ er@@ (@@ new java.io.@@ File@@ Out@@ put@@ St@@ re@@ am@@ (@@ t@@ m@@ p@@ File@@ ))) { p@@ w@@ .@@ p@@ r@@ int@@ l@@ n@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ SS@@ O@@ _C@@ L@@ I@@ EN@@ T_@@ ID@@ =@@ %@@ s", client@@ Id@@ )); p@@ w@@ .@@ p@@ r@@ int@@ l@@ n@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ SS@@ O@@ _C@@ L@@ I@@ EN@@ T_@@ SE@@ C@@ RE@@ T@@ =@@ %@@ s", client@@ Sec@@ ret@@ )); p@@ r@@ int@@ l@@ n@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ SS@@ O@@ _C@@ L@@ I@@ EN@@ T_@@ C@@ ER@@ TI@@ F@@ IC@@ AT@@ E_@@ FI@@ LE@@ =@@ %@@ s", c@@ er@@ t@@ if@@ ic@@ ate@@ File@@ )); p@@ r@@ int@@ l@@ n@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ SS@@ O@@ _C@@ L@@ I@@ EN@@ T_@@ C@@ RE@@ FI@@ X@@ =@@ %@@ s", callback@@ Pre@@ fi@@ x@@ )); } return t@@ m@@ p@@ Fil@@ e.get@@ Ab@@ s@@ ol@@ ut@@ e@@ Path@@ (); }
public static java.lang.String create@@ J@@ W@@ T@@ (@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , org.ovirt.engine.core.@@ s@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ ess@@ ion s@@ o@@ Session@@ , java.lang.String client@@ Id) throw@@ s java.s@@ ec@@ ur@@ ity@@ .@@ No@@ Su@@ ch@@ Al@@ g@@ or@@ ith@@ m@@ Exception { java.lang.String server@@ Name = re@@ ques@@ t.get@@ Server@@ Nam@@ e(); java.lang.String is@@ s@@ ue@@ r = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ :@@ /@@ %@@ s@@ :@@ %@@ s", re@@ ques@@ t.get@@ S@@ ch@@ em@@ e(), (@@ org.apach@@ e.@@ http@@ .@@ conn@@ .@@ conn@@ .@@ util.@@ In@@ et@@ Address@@ Utils.@@ is@@ I@@ P@@ v@@ 6@@ Address@@ (@@ server@@ Name@@ ) ? java.lang.String@@ .@@ for@@ mat@@ ("@@ [@@ %@@ s@@ ]@@ ", server@@ Name@@ ) : server@@ Name@@ ), re@@ ques@@ t.get@@ Server@@ Port@@ ()); io.@@ json@@ web@@ .@@ J@@ w@@ t@@ Buil@@ der build@@ er = json@@ web@@ web@@ web@@ web@@ web@@ web@@ .@@ J@@ w@@ t@@ s.@@ buil@@ der@@ ().set@@ Id(@@ s@@ o@@ Session@@ .get@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ ().@@ <java.lang.String@@ >@@ get@@ (@@ Auth@@ z@@ .@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ ID@@ )@@ )@@ .setIs@@ su@@ ed@@ A@@ t@@ (@@ new java.util.@@ D@@ ate(@@ java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ ())@@ )@@ .setIs@@ su@@ er@@ (is@@ su@@ er@@ )@@ .set@@ Su@@ bject@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ @@@ %@@ s", s@@ o@@ Session@@ .get@@ User@@ Id(), s@@ o@@ Session@@ .get@@ Profil@@ e()@@ )@@ )@@ .set@@ A@@ u@@ d@@ i@@ enc@@ e(@@ client@@ Id@@ ).@@ s@@ ign@@ With@@ (@@ S@@ ign@@ at@@ ure@@ Al@@ g@@ or@@ ith@@ m.@@ H@@ S@@ 2@@ 5@@ 6@@ , org.ovirt.engine.core.@@ s@@ o@@ Utils.@@ b@@ ase@@ 6@@ 4@@ Sec@@ ret@@ By@@ t@@ es@@ ); io.@@ io.@@ to@@ k@@ en@@ .@@ Cl@@ a@@ im@@ s cl@@ a@@ s = io.@@ to@@ k@@ en@@ .@@ J@@ w@@ t@@ s.@@ cl@@ a@@ im@@ s(); cl@@ a@@ im@@ im@@ im@@ s.@@ put@@ ("@@ sub@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ @@@ %@@ s", s@@ o@@ Session@@ .get@@ User@@ Id(), s@@ o@@ Session@@ .get@@ User@@ Name(), s@@ o@@ Session@@ .get@@ Profil@@ e())); cl@@ a@@ im@@ s.@@ put@@ ("@@ pre@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ Session@@ .get@@ User@@ Id(), s@@ o@@ Session@@ .get@@ User@@ Name(), s@@ o@@ Session@@ .get@@ User@@ Name(), s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ @@@ %@@ s", s@@ o@@ Session@@ .get@@ User@@ Name(), s@@ o@@ Session@@ .get@@ User@@ Id@@ ())); cl@@ a@@ im@@ ail@@ s.@@ cl@@ a@@ im@@ al@@ Rec@@ or@@ d@@ ().@@ cl@@ a@@ w@@ a@@ w@@ a@@ w@@ a@@ w@@ t@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ put@@ ("@@ cl@@ a@@ d im@@ al@@ Rec@@ or@@ d@@ .@@ for@@ mat@@ ("@@ cl@@ a@@ d %@@ s", cl@@ a@@ im@@ al@@ Rec@@ or@@ d@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ o@@ f@@ err@@ ed@@ _@@ user@@ name@@
protected java.lang.String fin@@ d@@ B@@ est@@ Match@@ For@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e(@@ java.lang.String current@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ , java.util.List<java.lang.String> c@@ and@@ id@@ ate@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ es) { if (c@@ and@@ id@@ ate@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ es.@@ contains(@@ current@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ )) { return current@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ ; } return c@@ and@@ id@@ ate@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ es.@@ st@@ re@@ am@@ ().@@ ma@@ x@@ (org.ovirt.engine.core.bll.@@ Comp@@ ar@@ ator.@@ comp@@ ar@@ ing@@ Int@@ (@@ ( s) -@@ > org.apache.commons.lang.StringUtils.@@ in@@ dex@@ Of@@ D@@ if@@ fer@@ enc@@ e(@@ current@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ , s@@ )@@ )).@@ or@@ El@@ se(@@ current@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e); }
private void set@@ Q@@ c@@ ow@@ Comp@@ at@@ For@@ Snapshot@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage snapshot@@ ) { try { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage new@@ Image@@ I@@ R@@ S = get@@ Volume@@ Info@@ (s@@ napsho@@ t.get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Command.getParameters().get@@ StorageDomain@@ Id(), s@@ napsho@@ t.get@@ Id(), s@@ napsho@@ t.get@@ Image@@ Id()); if (@@ new@@ Image@@ I@@ R@@ S != null@@ ) && (@@ new@@ Image@@ I@@ R@@ S@@ .get@@ Volume@@ Format@@ ().@@ equals(@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ ))) { set@@ Q@@ c@@ ow@@ Comp@@ at@@ By@@ Q@@ em@@ u@@ Image@@ Info@@ (s@@ napsho@@ t.get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Command.getParameters().get@@ StorageDomain@@ Id(), s@@ napsho@@ t.get@@ Image@@ Id()); } } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { log.error@@ ("@@ Un@@ able to updat@@ e the im@@ age in@@ f@@ o for im@@ age '{}@@ ' (@@ im@@ age group@@ : '{}@@ '@@ ) on do@@ ma@@ in '{}@@ '@@ ", s@@ napsho@@ t.get@@ Image@@ Id(), s@@ napsho@@ t.get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Command.getParameters().get@@ StorageDomain@@ Id()); } }
@java.lang.Override protected void end@@ Success@@ f@@ ull@@ y@@ () { if (@@ sh@@ oul@@ d@@ Update@@ Storage@@ Disk@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > snapshot@@ s = disk@@ Image@@ Dao@@ .get@@ All@@ Snapshots@@ For@@ Image@@ Group@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Command.getParameters().get@@ Dest@@ Image@@ Group@@ Id()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Command@@ .set@@ Snapshot@@ For@@ Sh@@ are@@ able@@ Disk@@ (s@@ napshot@@ s); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage s@@ napsho@@ t : snapshot@@ s) { image@@ StorageDomain@@ Map@@ Dao@@ .@@ remove@@ (@@ new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ StorageDomain@@ Map@@ Id(@@ s@@ napsho@@ t.get@@ Image@@ Id(), s@@ napsho@@ t.get@@ Storage@@ Id@@ s().get@@ (0@@ ))); image@@ StorageDomain@@ Map@@ Dao@@ .@@ s@@ ave@@ (@@ new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ StorageDomain@@ Map@@ (s@@ napsho@@ t.get@@ Image@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Command.getParameters().get@@ Quota@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Copy@@ Image@@ Group@@ Command.getParameters().get@@ Disk@@ Profile@@ Id@@ ())); set@@ Q@@ c@@ ow@@ Comp@@ at@@ For@@ Snapshot@@ (s@@ napshot@@ ); } super@@ .@@ end@@ Success@@ f@@ ull@@ y@@ (); }
@org.junit.Test public void test@@ B@@ ad@@ Guid@@ () throw@@ s java.lang.Exception { try { new org.ovirt.engine.api.restapi.resource.@@ Backend@@ DataCenter@@ Network@@ Resource@@ (@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ DataCenter@@ Network@@ Resource@@ Test.@@ D@@ AT@@ A@@ _C@@ EN@@ T@@ ER_@@ ID@@ , "@@ fo@@ o@@ "); fail@@ ("@@ exp@@ ected W@@ eb@@ Application@@ Exception@@ "); } catch (@@ javax.ws.rs.@@ W@@ eb@@ Application@@ Exception w@@ a@@ e) { ve@@ r@@ if@@ y@@ Not@@ F@@ ound@@ Exception@@ (@@ w@@ a@@ e); } }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Network network@@ ) { validate@@ Parameters(@@ network@@ , "@@ id@@ |@@ name@@ "); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > network@@ s = get@@ Networks@@ (); if (@@ network.@@ isSet@@ Id()) { ne@@ t = get@@ Network@@ By@@ Id(@@ network@@ .get@@ Id(), network@@ s); if (@@ ne@@ t == null@@ ) { not@@ F@@ ound@@ (@@ org.ovirt.engine.api.model.@@ Network@@ .@@ class@@ ); } else if (@@ network.@@ isSet@@ Name()@@ ) { ne@@ t = get@@ Network@@ By@@ Name(@@ network@@ .get@@ Name(), network@@ s); if (@@ ne@@ t == null@@ ) { not@@ F@@ ound@@ (@@ org.ovirt.engine.api.model.@@ Network@@ .@@ class@@ ); } } return p@@ er@@ for@@ m@@ Cre@@ ate(@@ Vdc@@ ActionType.@@ Attach@@ Network@@ To@@ Cluster@@ , new org.ovirt.engine.core.common.action.@@ Attach@@ Network@@ To@@ Cluster@@ Parameters(@@ network@@ ), new org.ovirt.engine.core.common.action.@@ Attach@@ Network@@ To@@ Cluster@@ Parameter@@ (get@@ Cluster@@ (), net@@ ), new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Cluster@@ Networks@@ Resourc@@ e.@@ Attached@@ Network@@ Res@@ ol@@ ver@@ (@@ ne@@ t@@ .getId@@ ())); }
@java.lang.Override public org.ovirt.engine.api.@@ resource.@@ DataCenter@@ Network@@ Resourc@@ e get@@ Network@@ Resourc@@ e(@@ java.lang.String id@@ ) { return in@@ j@@ ect@@ (@@ new org.ovirt.engine.api.restapi.resource.@@ Backend@@ DataCenter@@ Network@@ Resourc@@ e(@@ dataCenter@@ Id, id@@ )); }
protected boolean set@@ And@@ Validate@@ Cpu@@ Profil@@ e() { getVm@@ ().get@@ StaticData@@ ().set@@ Cluster@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ .@@ Import@@ Vm@@ CommandBase.get@@ Cluster@@ Id()); getVm@@ ().get@@ StaticData@@ ().set@@ Cpu@@ Profile@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ CommandBase.get@@ Parameters().get@@ Cpu@@ Profile@@ Id()); return validate(@@ cpu@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Cpu@@ Profil@@ e(@@ getVm@@ ().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ User@@ Id@@ If@@ Ex@@ ter@@ n@@ al@@ ())); }
protected boolean set@@ And@@ Validate@@ Cpu@@ Profil@@ e() { if ((@@ is@@ In@@ stance@@ Type()) || (org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.@@ is@@ B@@ lan@@ k@@ Templat@@ e())) { return true@@ ; } return validate(@@ cpu@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Cpu@@ Profil@@ e(@@ org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.getVm@@ Templat@@ e(), org.ovirt.engine.core.bll.@@ Update@@ VmTemplate@@ Command.get@@ User@@ Id@@ If@@ Ex@@ ter@@ n@@ al@@ ())); }
protected boolean set@@ And@@ Validate@@ Cpu@@ Profil@@ e() { getVm@@ Templat@@ e().set@@ Cluster@@ Id@@ (get@@ Cluster@@ Id()); getVm@@ Templat@@ e().set@@ Cpu@@ Profile@@ Id@@ (get@@ Parameters().get@@ Cpu@@ Profile@@ Id()); return validate(@@ cpu@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Cpu@@ Profil@@ e(@@ getVm@@ Templat@@ e(), get@@ User@@ Id@@ If@@ Ex@@ ter@@ n@@ al@@ ())); }
protected boolean set@@ And@@ Validate@@ Cpu@@ Profil@@ e() { return validate(@@ cpu@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Cpu@@ Profil@@ e(@@ org.ovirt.engine.core.bll.@@ C@@ ommon@@ VmPool@@ Command.getParameters().get@@ Vm@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ C@@ ommon@@ VmPool@@ Command.get@@ User@@ Id@@ If@@ Ex@@ ter@@ n@@ al@@ ())); }
protected boolean set@@ And@@ Validate@@ Cpu@@ Profil@@ e() { return validate(@@ cpu@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Cpu@@ Profil@@ e(@@ org.ovirt.engine.core.bll.@@ Vm@@ Management@@ CommandBase.get@@ Parameters().get@@ Vm@@ ().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ Vm@@ Management@@ Command.get@@ User@@ Id@@ If@@ Ex@@ ter@@ n@@ al@@ ())); }
public org.ovirt.engine.core.compat.Guid get@@ User@@ Id@@ If@@ External@@ () { return get@@ User@@ Id@@ (); }
protected boolean set@@ And@@ Validate@@ Cpu@@ Profil@@ e() { if ((org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ Template@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Entity@@ Type.@@ IN@@ ST@@ AN@@ C@@ E_@@ TYP@@ E@@ )) { return true@@ ; } return validate(@@ cpu@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Cpu@@ Profil@@ e(@@ org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ Ma@@ ster@@ Vm@@ (), org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ User@@ Id@@ If@@ Ex@@ ter@@ n@@ al@@ ())); }
@@@ javax.ws.rs.@@ P@@ U@@ T @@@ javax.ws.rs.@@ Cons@@ um@@ es(@@ { "@@ ap@@ plication@@ /@@ x@@ ml@@ ", "@@ ap@@ plication@@ /@@ json@@ " }@@ ) public org.ovirt.engine.api.@@ v@@ 3@@ .@@ types.@@ V@@ 3@@ Hos@@ t updat@@ e(@@ org.ovirt.engine.api.@@ v@@ 3@@ .@@ types.@@ V@@ 3@@ Hos@@ t host@@ ) { return host@@ ; }
private void re@@ g@@ ist@@ er@@ External@@ Provi@@ d@@ ers@@ Tr@@ ust@@ Stor@@ e(@@ org.apach@@ e.@@ http@@ .@@ im@@ p@@ l.@@ client.@@ Default@@ H@@ ttp@@ Cli@@ ent http@@ Client@@ ) { try { java.s@@ ec@@ ur@@ ity@@ .@@ Key@@ Stor@@ e tr@@ ust@@ Stor@@ e = java.s@@ ec@@ ur@@ ity@@ .@@ Key@@ Stor@@ e.get@@ Instanc@@ e(@@ java.s@@ ec@@ ur@@ ity@@ .@@ Key@@ Stor@@ e.get@@ Default@@ Typ@@ e()); java.io.@@ File@@ In@@ put@@ St@@ rea@@ m in@@ put@@ St@@ rea@@ m = new java.io.@@ File@@ In@@ put@@ St@@ re@@ am@@ (@@ new java.io.@@ Fil@@ e(@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ External@@ Provi@@ d@@ ers@@ Tr@@ ust@@ Stor@@ e().get@@ Ab@@ s@@ ol@@ ut@@ e@@ Path@@ ())); try { tr@@ ust@@ Stor@@ e.@@ load@@ (@@ in@@ put@@ St@@ re@@ am@@ , org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ External@@ Provi@@ d@@ ers@@ Tr@@ ust@@ Stor@@ e@@ Password@@ ().@@ to@@ Ch@@ ar@@ Array@@ ()); } final@@ l@@ y { in@@ put@@ St@@ re@@ am@@ .@@ c@@ lo@@ s@@ e(); } org.apach@@ e.@@ http@@ .@@ s@@ l.@@ SS@@ L@@ S@@ ock@@ et@@ Fac@@ t@@ or@@ y s@@ ock@@ et@@ Fac@@ t@@ or@@ y = new org.apach@@ e.@@ http@@ .@@ conn@@ .@@ conn@@ .@@ s@@ l.@@ SS@@ L@@ S@@ ock@@ et@@ Fac@@ t@@ ory@@ (@@ tr@@ ust@@ Stor@@ e); org.apach@@ e.@@ http@@ .@@ conn@@ .@@ s@@ ch@@ em@@ e.@@ S@@ ch@@ em@@ e s@@ ch = new org.apach@@ e.@@ http@@ .@@ conn@@ .@@ conn@@ .@@ s@@ ch@@ em@@ e.@@ S@@ ch@@ em@@ e(@@ "@@ http@@ s", 4@@ 3@@ , s@@ ock@@ et@@ Fac@@ t@@ ory@@ ); http@@ Cli@@ ent.@@ get@@ Connection@@ Manager@@ ().get@@ S@@ ch@@ em@@ e@@ Re@@ g@@ is@@ try@@ ().@@ re@@ g@@ ist@@ er@@ (s@@ ch@@ ); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ op@@ en@@ st@@ ack@@ .@@ Custom@@ iz@@ ed@@ RE@@ ST@@ E@@ as@@ y@@ Conn@@ ect@@ or.@@ log.@@ w@@ ar@@ n@@ ("@@ Can@@ not re@@ g@@ ist@@ er ex@@ ter@@ n@@ al p@@ rovider@@ s tr@@ us@@ t stor@@ e@@ : ", ex@@ ); } }
private void re@@ g@@ ist@@ er@@ External@@ Provi@@ d@@ ers@@ Tr@@ ust@@ Stor@@ e(@@ org.apach@@ e.@@ http@@ .@@ im@@ p@@ l.@@ client.@@ Default@@ H@@ ttp@@ Cli@@ ent http@@ Client@@ ) { try { java.s@@ ec@@ ur@@ ity@@ .@@ Key@@ Stor@@ e tr@@ ust@@ Stor@@ e = java.s@@ ec@@ ur@@ ity@@ .@@ Key@@ Stor@@ e.get@@ Instanc@@ e(@@ java.s@@ ec@@ ur@@ ity@@ .@@ Key@@ Stor@@ e.get@@ Default@@ Typ@@ e()); java.io.@@ File@@ In@@ put@@ St@@ rea@@ m in@@ put@@ St@@ rea@@ m = new java.io.@@ File@@ In@@ put@@ St@@ re@@ am@@ (@@ new java.io.@@ Fil@@ e(@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ External@@ Provi@@ d@@ ers@@ Tr@@ ust@@ Stor@@ e().get@@ Ab@@ s@@ ol@@ ut@@ e@@ Path@@ ())); try { tr@@ ust@@ Stor@@ e.@@ load@@ (@@ in@@ put@@ St@@ re@@ am@@ , org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ External@@ Provi@@ d@@ ers@@ Tr@@ ust@@ Stor@@ e@@ Password@@ ().@@ to@@ Ch@@ ar@@ Array@@ ()); } final@@ l@@ y { in@@ put@@ St@@ re@@ am@@ .@@ c@@ lo@@ s@@ e(); } org.apach@@ e.@@ http@@ .@@ s@@ l.@@ SS@@ L@@ S@@ ock@@ et@@ Fac@@ t@@ or@@ y s@@ ock@@ et@@ Fac@@ t@@ or@@ y = new org.apach@@ e.@@ http@@ .@@ conn@@ .@@ conn@@ .@@ s@@ l.@@ SS@@ L@@ S@@ ock@@ et@@ Fac@@ t@@ ory@@ (@@ tr@@ ust@@ Stor@@ e); org.apach@@ e.@@ http@@ .@@ conn@@ .@@ s@@ ch@@ em@@ e.@@ S@@ ch@@ em@@ e s@@ ch = new org.apach@@ e.@@ http@@ .@@ conn@@ .@@ conn@@ .@@ s@@ ch@@ em@@ e.@@ S@@ ch@@ em@@ e(@@ "@@ http@@ s", 4@@ 3@@ , s@@ ock@@ et@@ Fac@@ t@@ ory@@ ); http@@ Cli@@ ent.@@ get@@ Connection@@ Manager@@ ().get@@ S@@ ch@@ em@@ e@@ Re@@ g@@ is@@ try@@ ().@@ re@@ g@@ ist@@ er@@ (s@@ ch@@ ); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ op@@ en@@ st@@ ack@@ .@@ Base@@ Network@@ Provider@@ Proxy@@ .@@ log.@@ w@@ ar@@ n@@ ("@@ Can@@ not re@@ g@@ ist@@ er ex@@ ter@@ n@@ al p@@ rovider@@ s tr@@ us@@ t stor@@ e@@ : ", ex@@ ); } }
@java.lang.Override public boolean p@@ er@@ for@@ m@@ N@@ ext@@ Operation@@ (@@ int comp@@ let@@ ed@@ Ch@@ il@@ d@@ Count@@ ) { if ((@@ org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.getParameters().get@@ N@@ ext@@ St@@ ep@@ ()) == null@@ ) { return false@@ ; } switch (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.getParameters().get@@ N@@ ext@@ St@@ ep@@ ()) { case G@@ E@@ O@@ _@@ RE@@ P : org.ovirt.engine.core.common.action.@@ gluster.GlusterVolume@@ GeoRep@@ Session@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ gluster.GlusterVolume@@ GeoRep@@ Session@@ Parameters@@ (get@@ Session@@ ().get@@ Ma@@ ster@@ Volume@@ Id(), get@@ Session@@ ().get@@ Id()); parameters.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); parameters.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.get@@ Action@@ Typ@@ e()); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.get@@ Parameters@@ ()); org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.get@@ Parameters@@ ().set@@ N@@ ext@@ St@@ ep@@ (@@ D@@ R@@ St@@ ep@@ .@@ RE@@ M@@ OV@@ E_@@ T@@ M@@ P@@ _@@ S@@ NA@@ P@@ S@@ HO@@ T@@ S@@ ); org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ execute@@ Async@@ Command@@ (VdcActionType.@@ Gluster@@ Storage@@ GeoRep@@ Sync@@ Internal@@ , parameters@@ , org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.@@ p@@ ers@@ ist@@ Command@@ If@@ N@@ e@@ ed@@ (); break@@ ; case RE@@ M@@ OV@@ E_@@ T@@ M@@ P@@ _@@ S@@ NA@@ P@@ S@@ HO@@ T@@ S : remove@@ D@@ R@@ Snapshot@@ s(); org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Command.get@@ Parameters@@ ().set@@ N@@ ext@@ St@@ ep@@ (@@ null@@ ); org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.@@ p@@ ers@@ ist@@ Command@@ If@@ N@@ e@@ ed@@ (); break@@ ; } return true@@ ; }
public static boolean is@@ Valid@@ C@@ red@@ enti@@ al@@ s(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ C@@ red@@ enti@@ al@@ s c@@ red@@ enti@@ al@@ s) throw@@ s org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception { return org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ is@@ Valid@@ C@@ red@@ enti@@ al@@ s(@@ re@@ quest@@ , c@@ red@@ enti@@ al@@ s, false@@ ); }
public static boolean is@@ Valid@@ C@@ red@@ enti@@ al@@ s(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ C@@ red@@ enti@@ al@@ s c@@ red@@ enti@@ al@@ s, boolean is@@ Inter@@ acti@@ ve@@ Auth@@ ) throw@@ s org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Cont@@ ex@@ t s@@ o@@ Cont@@ ex@@ t = org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Util@@ s.get@@ S@@ s@@ o@@ Context@@ (@@ re@@ quest@@ ); if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (c@@ red@@ enti@@ al@@ s.get@@ User@@ nam@@ e())) { throw new org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception@@ (s@@ s@@ o@@ Cont@@ ex@@ t.get@@ Local@@ iz@@ ation@@ Util@@ s().@@ loc@@ al@@ ize@@ ((@@ is@@ Inter@@ acti@@ ve@@ A@@ ut@@ h ? S@@ s@@ o@@ Constant@@ s.@@ A@@ P@@ P@@ P@@ P@@ P@@ P@@ _@@ ER@@ R@@ OR@@ _@@ NO@@ _@@ US@@ ER_@@ NAM@@ E_@@ IN@@ _C@@ R@@ ED@@ EN@@ TI@@ AL@@ S_@@ IN@@ TER@@ AC@@ TI@@ V@@ E_@@ A@@ U@@ T@@ H S@@ s@@ Constant@@ s.@@ A@@ P@@ P@@ P@@ P@@ P@@ P@@ P@@ _@@ ER@@ R@@ OR@@ _@@ NO@@ _@@ US@@ ER_@@ NAM@@ E_@@ IN@@ _C@@ R@@ ED@@ EN@@ TI@@ AL@@ S@@ ), ((@@ java.util.@@ Local@@ e) (@@ re@@ ques@@ t.get@@ Att@@ rib@@ ut@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ LO@@ C@@ AL@@ E@@ )@@ )@@ ))); } if (!@@ (c@@ red@@ enti@@ al@@ s.@@ is@@ Profile@@ Valid@@ ())) { throw new org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception@@ (s@@ s@@ o@@ Cont@@ ex@@ t.get@@ Local@@ iz@@ ation@@ Util@@ s().@@ loc@@ al@@ iz@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ A@@ P@@ P@@ P@@ P@@ P@@ _@@ NO@@ _@@ VALID@@ _P@@ RO@@ FI@@ L@@ E_@@ IN@@ _C@@ R@@ ED@@ EN@@ TI@@ AL@@ S@@ , ((@@ java.util.@@ Local@@ e) (@@ re@@ ques@@ t.get@@ Att@@ rib@@ ut@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ LO@@ C@@ AL@@ E@@ )@@ ))); } if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (c@@ red@@ enti@@ al@@ s.get@@ Profil@@ e())) { throw new org.ovirt.engine.core.@@ s@@ o.@@ Auth@@ enti@@ c@@ ation@@ Exception@@ (s@@ s@@ o@@ Cont@@ ex@@ t.get@@ Local@@ iz@@ ation@@ Util@@ s().@@ loc@@ al@@ iz@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ A@@ P@@ P@@ P@@ P@@ P@@ P@@ _@@ ER@@ R@@ OR@@ _@@ NO@@ _P@@ RO@@ FI@@ L@@ E_@@ IN@@ _C@@ R@@ ED@@ EN@@ TI@@ AL@@ S@@ , ((@@ java.util.@@ Local@@ e) (@@ re@@ ques@@ t.get@@ Att@@ rib@@ ut@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ LO@@ C@@ AL@@ E@@ )@@ ))); } return true@@ ; }
private java.lang.String auth@@ enti@@ c@@ ate@@ User@@ (@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ , org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ C@@ red@@ enti@@ al@@ s user@@ C@@ red@@ enti@@ al@@ s) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception@@ , org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception { if ((@@ user@@ C@@ red@@ enti@@ al@@ s == null@@ ) || (!@@ org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ is@@ Valid@@ C@@ red@@ enti@@ al@@ s(@@ re@@ quest@@ , user@@ C@@ red@@ enti@@ al@@ s@@ ))) { throw new org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception@@ (s@@ s@@ o@@ Cont@@ ex@@ t.get@@ Local@@ iz@@ ation@@ Util@@ s().@@ loc@@ al@@ iz@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ A@@ P@@ P@@ P@@ P@@ P@@ _@@ ER@@ R@@ OR@@ _@@ IN@@ VALID@@ _C@@ R@@ ED@@ EN@@ TI@@ AL@@ S@@ , ((@@ java.util.@@ Local@@ e) (@@ re@@ ques@@ t.get@@ Att@@ rib@@ ut@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ LO@@ C@@ AL@@ E@@ )@@ ))); } try { org.ovirt.engine.core.@@ s@@ s@@ o.@@ ser@@ vlet@@ s.@@ Inter@@ acti@@ ve@@ Auth@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ Lo@@ us@@ er usin@@ g c@@ red@@ enti@@ al@@ s respon@@ s@@ e.@@ add@@ C@@ ook@@ i@@ e@@ (@@ new javax.@@ ser@@ vlet@@ .@@ http@@ .@@ C@@ ook@@ i@@ e(@@ "@@ profil@@ e@@ ", user@@ C@@ red@@ enti@@ al@@ s.get@@ Profil@@ e())); org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Utils.@@ handl@@ e@@ C@@ red@@ enti@@ al@@ s(@@ s@@ o@@ Context@@ , re@@ quest@@ , user@@ C@@ red@@ enti@@ al@@ s); return (@@ re@@ ques@@ t.get@@ Context@@ Path@@ ()) + (@@ org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ s@@ s@@ o@@ Constant@@ s.@@ IN@@ TER@@ AC@@ TI@@ V@@ E_@@ R@@ ED@@ I@@ RE@@ C@@ T_@@ T@@ O@@ _MOD@@ I@@ L@@ E_@@ UR@@ I@@ ); } catch (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception ex@@ ) { throw ex@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ .@@ log.error@@ ("@@ E@@ r@@ ro@@ r Ser@@ ve@@ r Error@@ : {}@@ ", ex@@ .get@@ Message@@ ()); org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ .@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ ex@@ .get@@ Message@@ (), ex@@ .get@@ Message@@ (), ex@@ .get@@ Message@@ (), ex@@ ); } }
@java.lang.Override public org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ Auth@@ Result do@@ Auth@@ (@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ ) throw@@ s java.lang.Exception { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Non@@ Inter@@ acti@@ ve@@ Auth@@ .@@ log.@@ d@@ ebug@@ ("@@ F@@ oun@@ d Bas@@ ic A@@ ut@@ h org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ C@@ red@@ enti@@ al@@ s c@@ red@@ enti@@ al@@ s = org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Util@@ s.get@@ User@@ C@@ red@@ enti@@ al@@ s@@ From@@ H@@ ead@@ er@@ (@@ re@@ quest@@ ); org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Auth@@ Result ret@@ V@@ al = new org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Auth@@ Result@@ (); if ((@@ c@@ red@@ enti@@ al@@ s == null@@ ) || (!@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ is@@ Valid@@ C@@ red@@ enti@@ al@@ s(@@ re@@ quest@@ , c@@ red@@ enti@@ al@@ s@@ )))) { ret@@ Val@@ .set@@ Status(@@ Auth@@ n@@ .@@ Auth@@ Res@@ ult.@@ C@@ R@@ ED@@ EN@@ TI@@ AL@@ S_@@ IN@@ VALID@@ ); } else { ret@@ Val@@ .set@@ C@@ red@@ enti@@ al@@ s(@@ c@@ red@@ enti@@ al@@ s); org.ovirt.engine.core.@@ s@@ s@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Utils.@@ handl@@ e@@ C@@ red@@ enti@@ al@@ s(@@ org.ovirt.engine.core.@@ s@@ s@@ s@@ o@@ Util@@ s.get@@ S@@ s@@ o@@ Context@@ (@@ re@@ quest@@ ), re@@ quest@@ , c@@ red@@ enti@@ al@@ s); ret@@ Val@@ .set@@ To@@ k@@ en@@ (((@@ java.lang.String@@ ) (@@ re@@ ques@@ t.get@@ Att@@ rib@@ ut@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ H@@ T@@ T@@ P@@ _@@ RE@@ Q@@ _@@ AT@@ T@@ R@@ _@@ AC@@ C@@ E@@ S@@ S_@@ T@@ O@@ K@@ EN@@ )@@ ))); if ((@@ ret@@ Val@@ .get@@ To@@ k@@ en@@ ()) != null@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Non@@ Inter@@ acti@@ ve@@ Auth@@ .@@ log.@@ d@@ ebug@@ ("@@ F@@ oun@@ d auth@@ enti@@ c@@ ation s@@ uc@@ ceed@@ ed ret@@ Val@@ .set@@ Status(@@ Auth@@ n@@ .@@ Auth@@ Res@@ ult.@@ S@@ U@@ C@@ C@@ C@@ C@@ E@@ SS@@ ); } else { ret@@ Val@@ .set@@ Status(@@ Auth@@ n@@ .@@ Auth@@ Res@@ ult.@@ C@@ R@@ ED@@ EN@@ TI@@ AL@@ S_@@ IN@@ VALID@@ ); } return ret@@ Val@@ ; }
@java.lang.Override protected void ser@@ vi@@ c@@ e(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ ) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception { org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ s.@@ Inter@@ acti@@ ve@@ Bas@@ ic@@ Auth@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ H@@ as@@ ic b@@ as@@ ic a@@ ut@@ h c@@ red@@ enti@@ al@@ s f@@ ro@@ m h@@ ead@@ er org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ C@@ red@@ enti@@ al@@ s c@@ red@@ enti@@ al@@ s = org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Util@@ s.get@@ User@@ C@@ red@@ enti@@ al@@ s@@ From@@ H@@ ead@@ er@@ (@@ re@@ quest@@ ); boolean c@@ red@@ enti@@ al@@ s@@ Val@@ id = false@@ ; try { c@@ red@@ enti@@ al@@ s@@ Val@@ id = (c@@ red@@ enti@@ al@@ s != null@@ ) && (c@@ red@@ enti@@ al@@ s@@ Utils.@@ is@@ Valid@@ C@@ red@@ enti@@ al@@ s(@@ re@@ quest@@ , c@@ red@@ enti@@ al@@ s@@ )); } catch (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception ex@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ s.@@ Inter@@ acti@@ ve@@ Bas@@ ic@@ Auth@@ Servlet@@ .@@ log.error@@ ("@@ Fail@@ ed valid@@ at@@ ing c@@ red@@ enti@@ al@@ s@@ : {}@@ ", ex@@ .get@@ Message@@ ()); org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ s.@@ Inter@@ acti@@ ve@@ Bas@@ ic@@ Auth@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } if (c@@ red@@ enti@@ al@@ s@@ Valid@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ s.@@ Inter@@ acti@@ ve@@ Bas@@ ic@@ Auth@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ F@@ oun@@ d id red@@ irect@@ ing to ur@@ l@@ : {}@@ ", S@@ s@@ o@@ Constant@@ s.@@ IN@@ TER@@ AC@@ TI@@ V@@ E_@@ LO@@ G@@ IN@@ _@@ UR@@ I@@ ); org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Util@@ s.get@@ S@@ s@@ o@@ Session@@ (@@ re@@ quest@@ )@@ .set@@ Tem@@ p@@ C@@ red@@ enti@@ al@@ s(@@ c@@ red@@ enti@@ al@@ s); respon@@ s@@ e.@@ s@@ end@@ R@@ ed@@ irect@@ (((@@ re@@ ques@@ t.get@@ Context@@ Path@@ ()) + (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ s@@ o@@ Constant@@ s.@@ IN@@ TER@@ AC@@ TI@@ V@@ E_@@ LO@@ G@@ IN@@ _@@ UR@@ I@@ ))); } else { org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ o.@@ ser@@ vlet@@ .@@ log.@@ d@@ ebug@@ ("@@ Fail@@ ed to ur@@ l@@ : {}@@ ", s@@ o@@ Constant@@ s.@@ IN@@ TER@@ S@@ s@@ o@@ Constant@@ s.@@ IN@@ TER@@ S@@ s@@ o@@ Path@@ ); }
public org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ u@@ Image@@ In@@ f@@ o get@@ Q@@ em@@ u@@ Image@@ Info@@ From@@ Vds@@ m@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid new@@ StorageDomain@@ ID@@ , org.ovirt.engine.core.compat.Guid new@@ Image@@ Group@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Id, org.ovirt.engine.core.compat.Guid vds@@ Id, boolean sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { if (@@ vds@@ Id == null@@ ) { vds@@ Id = org.ovirt.engine.core.bll.storage.@@ utils.@@ Vds@@ Command@@ s@@ Hel@@ per@@ .get@@ Host@@ For@@ Execution@@ (@@ storagePool@@ Id, java.util.Collections.@@ em@@ pty@@ List@@ ()); } org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o q@@ em@@ u@@ Image@@ In@@ f@@ o = null@@ ; if (@@ sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { pre@@ par@@ e@@ Image@@ (@@ storagePool@@ Id, new@@ Image@@ Group@@ Id, new@@ Image@@ Group@@ Id, new@@ Image@@ Id, new@@ Image@@ Id); } try { q@@ em@@ u@@ Image@@ In@@ f@@ o = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ Q@@ em@@ u@@ Image@@ Info@@ ) (@@ res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Q@@ em@@ u@@ Image@@ Info@@ , new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Volume@@ Info@@ VDSCommand@@ Parameters(@@ vds@@ Id, storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ Image@@ Group@@ Id, new@@ Image@@ Id@@ )@@ ).get@@ ReturnValu@@ e())); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .@@ log.error@@ ("@@ Fail@@ ed to g@@ e@@ t im@@ age in@@ f@@ o stor@@ age e); } final@@ l@@ y { if (@@ sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { t@@ e@@ a@@ r@@ do@@ wn@@ Image@@ (@@ storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ Image@@ Group@@ Id, vds@@ Id); } } return q@@ em@@ u@@ Image@@ Info@@ ; }
public java.lang.@@ L@@ on@@ g d@@ et@@ er@@ min@@ e@@ Image@@ In@@ itial@@ Siz@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ Image source@@ Image@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Volume@@ For@@ ma@@ t d@@ est@@ Format@@ , org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid s@@ r@@ c@@ Domain@@ , org.ovirt.engine.core.compat.Guid d@@ st@@ Domain@@ , org.ovirt.engine.core.compat.Guid image@@ Group@@ ID@@ ) { if (is@@ In@@ itial@@ Size@@ Supported@@ For@@ Format@@ (@@ d@@ est@@ Format@@ , d@@ st@@ Domain@@ )) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage image@@ Info@@ From@@ Stor@@ age = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ Volume@@ Info@@ From@@ Vds@@ m@@ (@@ storagePool@@ Id, s@@ r@@ c@@ Domain@@ , image@@ Group@@ ID@@ , source@@ Image.get@@ Id()); return org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ com@@ put@@ e@@ C@@ ow@@ Image@@ N@@ e@@ ed@@ Siz@@ e(@@ image@@ Info@@ From@@ Stor@@ age.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ()); } return null@@ ; }
public java.lang.@@ L@@ on@@ g d@@ et@@ er@@ min@@ e@@ T@@ otal@@ Image@@ In@@ itial@@ Siz@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage source@@ Image@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Volume@@ For@@ ma@@ t d@@ est@@ Format@@ , org.ovirt.engine.core.compat.Guid d@@ st@@ Domain@@ ) { if (is@@ In@@ itial@@ Size@@ Supported@@ For@@ Format@@ (@@ d@@ est@@ Format@@ , d@@ st@@ Domain@@ )) { do@@ ubl@@ e t@@ otal@@ Size@@ For@@ Cl@@ on@@ ed@@ Disk = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ T@@ otal@@ Ac@@ tu@@ al@@ Size@@ Of@@ Disk@@ (s@@ ource@@ Image@@ , storageDomain@@ D@@ a@@ o .get(@@ d@@ st@@ Domain@@ ).get@@ Storage@@ StaticData@@ ()); return org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ com@@ put@@ e@@ C@@ ow@@ Image@@ N@@ e@@ ed@@ Siz@@ e(@@ java.lang.@@ Do@@ ubl@@ e.@@ value@@ Of@@ (@@ t@@ otal@@ Size@@ For@@ Cl@@ on@@ ed@@ Disk@@ )@@ .@@ long@@ Valu@@ e()); } return null@@ ; }
public static java.lang.@@ L@@ on@@ g d@@ et@@ er@@ min@@ e@@ T@@ otal@@ Image@@ In@@ itial@@ Siz@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage source@@ Image@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Volume@@ For@@ ma@@ t d@@ est@@ Format@@ , org.ovirt.engine.core.compat.Guid s@@ r@@ c@@ Domain@@ ) { if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ is@@ In@@ itial@@ Size@@ Supported@@ For@@ Format@@ (@@ d@@ est@@ Format@@ , s@@ r@@ c@@ Domain@@ )) { do@@ ubl@@ e t@@ otal@@ Size@@ For@@ Cl@@ on@@ ed@@ Disk = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ T@@ otal@@ Ac@@ tu@@ al@@ Size@@ Of@@ Disk@@ (s@@ ource@@ Image@@ , org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ StorageDomain@@ Dao().get@@ (@@ s@@ r@@ c@@ Domain@@ Domain@@ ).get@@ Storage@@ StaticData@@ ()); return org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ com@@ put@@ e@@ C@@ ow@@ Image@@ N@@ e@@ ed@@ Siz@@ e(@@ source@@ Image.get@@ Volume@@ Format@@ (), java.lang.@@ Do@@ ubl@@ e.@@ value@@ Of@@ (@@ t@@ otal@@ Size@@ For@@ Cl@@ on@@ ed@@ Disk@@ )@@ .@@ long@@ Valu@@ e()); } return null@@ ; }
private org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base create@@ Event@@ () { final org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base ev@@ ent = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(); event.@@ set@@ Vds@@ (@@ host@@ ); return event@@ ; }
private void ve@@ r@@ if@@ y@@ AuditLog@@ g@@ able@@ Base@@ Fil@@ l@@ ed@@ Proper@@ ly@@ (org.ovirt.engine.core.bll.@@ network.Network@@ Configur@@ ator un@@ der@@ Test@@ , org.ovirt.engine.core.common.@@ AuditLog@@ Type a@@ uditLog@@ Type@@ ) { try { un@@ der@@ Test.@@ create@@ Management@@ Network@@ If@@ Re@@ qui@@ red@@ (); } catch (org.ovirt.engine.core.bll.@@ network.Network@@ Configur@@ ator.@@ Network@@ Configur@@ ator@@ Exception e) { ve@@ r@@ if@@ y@@ (@@ a@@ uditLog@@ Direct@@ or@@ ).@@ log@@ (@@ a@@ uditLog@@ able@@ Base@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or.@@ c@@ ap@@ t@@ ur@@ e(), e@@ q@@ (@@ a@@ uditLog@@ Type@@ ), any@@ String@@ ()); final org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base c@@ ap@@ t@@ ur@@ ed@@ Event = a@@ uditLog@@ able@@ Base@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ .get@@ Valu@@ e(); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Ev@@ ent.@@ get@@ Vds@@ Name(), is@@ (org.ovirt.engine.core.bll.@@ network.Network@@ Configur@@ ator@@ Test.@@ HOST@@ _@@ NAM@@ E@@ )); return@@ ; } fail@@ ("@@ Th@@ e t@@ es@@ t sh@@ oul@@ d le@@ a@@ d to Configur@@ ator@@ Exception@@ "); }
@org.junit.Test public void test@@ Create@@ Management@@ Network@@ If@@ Re@@ qui@@ red@@ Fail@@ s@@ On@@ D@@ if@@ fer@@ ent@@ V@@ lan@@ Id@@ () { host.@@ set@@ Active@@ Nic@@ (org.ovirt.engine.core.bll.@@ network.Network@@ Configur@@ ator@@ Test.@@ N@@ IC@@ _@@ NAM@@ E); nic@@ .set@@ V@@ lan@@ Id@@ (org.ovirt.engine.core.bll.@@ network.Network@@ Configur@@ ator@@ Test.@@ N@@ IC@@ _@@ V@@ L@@ AN@@ _@@ ID@@ ); manage@@ ment@@ Network@@ .set@@ V@@ lan@@ Id@@ (org.ovirt.engine.core.bll.@@ network.Network@@ Configur@@ ator@@ Test.@@ M@@ AN@@ AG@@ M@@ EN@@ T_@@ NETWORK_@@ V@@ L@@ AN@@ _@@ ID@@ ); try { un@@ der@@ Test.@@ create@@ Management@@ Network@@ If@@ Re@@ qui@@ red@@ (); } catch (org.ovirt.engine.core.bll.@@ network.Network@@ Configur@@ ator.@@ Network@@ Configur@@ ator@@ Exception e) { ve@@ r@@ if@@ y@@ (@@ a@@ uditLog@@ Direct@@ or@@ ).@@ log@@ (@@ a@@ uditLog@@ able@@ Base@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ ur@@ e(), s@@ am@@ e(@@ AuditLogType.@@ V@@ L@@ AN@@ _@@ ID@@ _M@@ IS@@ M@@ AT@@ C@@ H@@ _@@ F@@ OR@@ _M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ CON@@ FI@@ G@@ UR@@ A@@ TI@@ ON@@ ), any@@ String@@ ()); final org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base c@@ ap@@ t@@ ur@@ ed@@ Event = a@@ uditLog@@ able@@ Base@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ .get@@ Valu@@ e(); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Ev@@ ent.@@ get@@ Vds@@ Name(), is@@ (org.ovirt.engine.core.bll.@@ network.Network@@ Configur@@ ator@@ Test.@@ HOST@@ _@@ NAM@@ E@@ )); final java.util.Map<java.lang.String, java.lang.String> c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Value@@ s = c@@ ap@@ t@@ ur@@ ed@@ Ev@@ ent.@@ getCustom@@ Valu@@ es@@ (); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Valu@@ es@@ , has@@ E@@ n@@ try@@ ("@@ v@@ lan@@ id@@ ", java.lang.String.@@ value@@ Of@@ (org.ovirt.engine.core.bll.@@ network.Network@@ Configur@@ ator@@ Test.@@ N@@ IC@@ _@@ V@@ L@@ AN@@ _@@ ID@@ ))); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Valu@@ es@@ , has@@ E@@ n@@ try@@ ("@@ m@@ g@@ m@@ t@@ v@@ lan@@ id@@ ", java.lang.String.@@ value@@ Of@@ (org.ovirt.engine.core.bll.@@ network.Network@@ Configur@@ ator@@ Test.@@ M@@ AN@@ AG@@ M@@ EN@@ T_@@ NETWORK_@@ V@@ L@@ AN@@ _@@ ID@@ ))); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Valu@@ es@@ , has@@ E@@ n@@ try@@ (@@ "@@ int@@ er@@ fac@@ en@@ ame@@ ", org.ovirt.engine.core.bll.network.@@ Network@@ Configur@@ ator@@ Test.@@ N@@ IC@@ _@@ NAM@@ E@@ )); return@@ ; } fail@@ ("@@ Th@@ e t@@ es@@ t sh@@ oul@@ d a@@ d to Configur@@ ator@@ Exception@@ "); }
public static <@@ T@@ > java.util.List<java.lang.String> validate@@ In@@ put@@ s(@@ java.util.List<@@ java.lang.@@ Class@@ <?@@ >> validation@@ Group@@ List@@ , T parameters@@ ) { java.util.List<java.lang.String> message@@ s = java.util.Collections.@@ em@@ pty@@ List@@ (); java.util.Set@@ <@@ javax.@@ validation.@@ Con@@ str@@ a@@ int@@ Vi@@ ol@@ ation@@ <@@ T@@ >> vi@@ ol@@ ation@@ s = org.ovirt.engine.core.common.utils.@@ Validation@@ Util@@ s.get@@ Validator@@ ().@@ validate(@@ parameters@@ , validation@@ Group@@ Lis@@ t.@@ to@@ Array@@ (@@ new java.lang.@@ Class@@ <?@@ >@@ [@@ validation@@ Group@@ Lis@@ t.@@ siz@@ e()@@ ]@@ )); if (!(@@ vi@@ ol@@ ation@@ s.@@ isEmpty())) { message@@ s = new java.util.Array@@ List(@@ vi@@ ol@@ ation@@ s.@@ siz@@ e()); for (@@ javax.@@ validation.@@ Con@@ str@@ a@@ int@@ Vi@@ ol@@ ation@@ <@@ T@@ > const@@ r@@ a@@ int@@ Vi@@ ol@@ ation : vi@@ ol@@ ation@@ s) { mess@@ ages.@@ add@@ (@@ const@@ r@@ a@@ int@@ Vi@@ ol@@ ation@@ .get@@ Message@@ ()); javax.@@ m@@ et@@ ad@@ ata@@ .@@ Con@@ str@@ a@@ int@@ D@@ es@@ cri@@ p@@ t@@ or@@ <?@@ > const@@ r@@ a@@ int@@ D@@ es@@ cri@@ p@@ to@@ r = const@@ r@@ a@@ int@@ Vi@@ ol@@ ation@@ .get@@ Con@@ str@@ a@@ int@@ D@@ es@@ cri@@ p@@ t@@ or@@ (); if (@@ const@@ r@@ a@@ int@@ D@@ es@@ cri@@ p@@ to@@ r != null@@ ) { java.util.Map<java.lang.String, java.lang.Object> vi@@ ol@@ ation@@ Att@@ rib@@ ut@@ es = const@@ r@@ a@@ int@@ D@@ es@@ cri@@ p@@ t@@ or@@ .get@@ Att@@ rib@@ ut@@ es@@ (); for (@@ java.util.Map@@ .@@ E@@ n@@ try vi@@ ol@@ ation@@ Att@@ rib@@ ut@@ e : vi@@ ol@@ ation@@ Att@@ rib@@ ut@@ es.@@ e@@ n@@ try@@ Set@@ ()) { java.lang.String mess@@ age = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s vi@@ ol@@ ation@@ Att@@ rib@@ ut@@ e.get@@ Key@@ (), vi@@ ol@@ ation@@ Att@@ rib@@ ut@@ e.get@@ Valu@@ e()); mess@@ ages.@@ add(@@ message@@ ); } } if (@@ const@@ r@@ a@@ int@@ Vi@@ ol@@ ation@@ .get@@ Property@@ Path@@ ()) != null@@ ) { mess@@ ages.@@ add(@@ EngineMessage.ACTION_TYPE_FAILED_@@ AT@@ T@@ R@@ I@@ B@@ U@@ T@@ E_@@ P@@ AT@@ H@@ .@@ nam@@ e()); mess@@ ages.@@ add@@ ((@@ org.ovirt.engine.core.common.utils.@@ Validation@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String("@@ p@@ ath@@ ", const@@ r@@ a@@ int@@ Vi@@ ol@@ ation@@ .get@@ Property@@ Path@@ ())); } mess@@ ages.@@ add(@@ org.ovirt.engine.core.common.utils.@@ Validation@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String("@@ valid@@ ated@@ Value@@ ", const@@ r@@ a@@ int@@ Vi@@ ol@@ ation@@ .get@@ In@@ valid@@ Valu@@ e())); } return mess@@ ages@@ ; }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { set@@ Is@@ F@@ ing@@ er@@ p@@ r@@ int@@ V@@ er@@ if@@ i@@ ed@@ (@@ false@@ ); if ((@@ (get@@ Gluster@@ Host@@ Address@@ ().getEntity@@ ()) == null@@ ) || ((get@@ Gluster@@ Host@@ Address@@ ().getEntity@@ ().@@ t@@ ri@@ m@@ ().@@ l@@ ength@@ ()) == 0@@ )) { get@@ Gluster@@ Host@@ F@@ ing@@ er@@ p@@ r@@ int@@ ().set@@ Entity@@ ("@@ "); return@@ ; } f@@ et@@ ch@@ F@@ ing@@ er@@ p@@ r@@ int@@ (get@@ Gluster@@ Host@@ Address@@ ().getEntity@@ ()); }
@java.lang.Override public void s@@ end@@ Message@@ (@@ byte@@ [@@ ] message@@ ) throw@@ s org.ovirt.vdsm.jsonrpc.client.@@ Client@@ Connection@@ Exception { try { w@@ a@@ it@@ For@@ Conn@@ ect@@ (); } final@@ l@@ y { org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ im@@ p@@ l.@@ Mess@@ age m@@ s@@ g = new org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ im@@ p@@ l.@@ Message@@ ().@@ s@@ end@@ ().@@ with@@ H@@ ead@@ er@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ H@@ E@@ AD@@ ER_@@ DE@@ ST@@ IN@@ A@@ TI@@ ON@@ , this@@ .get@@ Request@@ Qu@@ e@@ u@@ e()@@ ).@@ with@@ H@@ ead@@ er@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ H@@ E@@ AD@@ ER_@@ RE@@ PL@@ Y_@@ T@@ O@@ , get@@ Respon@@ se@@ Qu@@ e@@ u@@ e()@@ ).@@ with@@ Cont@@ ent@@ (@@ message@@ ); s@@ end@@ (@@ add@@ C@@ or@@ r@@ el@@ ation@@ Id(@@ m@@ s@@ g@@ ).@@ build@@ ()); } }
@java.lang.Override public void s@@ end@@ Message@@ (@@ byte@@ [@@ ] message@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ im@@ p@@ l.@@ Mess@@ age m@@ s@@ g = new org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ im@@ p@@ l.@@ Message@@ ().@@ s@@ end@@ ().@@ with@@ H@@ ead@@ er@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ H@@ E@@ AD@@ ER_@@ DE@@ ST@@ IN@@ A@@ TI@@ ON@@ , this@@ .get@@ Request@@ Qu@@ e@@ u@@ e()@@ ).@@ with@@ H@@ ead@@ er@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ st@@ omp@@ .@@ H@@ E@@ AD@@ ER_@@ RE@@ PL@@ Y_@@ T@@ O@@ , get@@ Respon@@ se@@ Qu@@ e@@ u@@ e()@@ ).@@ with@@ Cont@@ ent@@ (@@ message@@ ); s@@ end@@ (@@ add@@ C@@ or@@ r@@ el@@ ation@@ Id(@@ m@@ s@@ g@@ ).@@ build@@ ()); }
@java.lang.Override protected void execute@@ Command() { add@@ Custom@@ Value(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ VM_@@ NAM@@ E@@ , org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ Name()); add@@ Custom@@ Value(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ VAR@@ _M@@ EM@@ OR@@ Y_@@ SI@@ Z@@ E@@ _M@@ B@@ , java.lang.String.@@ value@@ Of@@ (org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getParameters().get@@ Memory@@ Size@@ M@@ b@@ ())); final org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ , new org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Vds@@ Command.@@ Param@@ s(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ ().get@@ Run@@ On@@ Vds@@ (), get@@ Device@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ ())); if (!(@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ())) { add@@ Custom@@ Value(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ VAR@@ _@@ ER@@ R@@ OR@@ _M@@ E@@ SS@@ AG@@ E@@ , vds@@ ReturnValu@@ e.get@@ Vds@@ Error@@ ().get@@ Message@@ ()); set@@ ReturnValue@@ ); return@@ ; } final org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c ne@@ xt@@ Run@@ Configuration@@ Stati@@ c = run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vm@@ N@@ ext@@ Run@@ Configuration@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ Id@@ ())@@ ).@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ >@@ get@@ ReturnValue().get@@ StaticData@@ (); final int final@@ Memory@@ Siz@@ e = (@@ ne@@ xt@@ Run@@ Configuration@@ Static@@ .get@@ Mem@@ Size@@ M@@ b@@ ()) - (org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getParameters().get@@ Memory@@ Size@@ M@@ b@@ ()); if (@@ final@@ Memory@@ Siz@@ e > 0) { update@@ Vm@@ (@@ ne@@ xt@@ Run@@ Configuration@@ Static@@ , final@@ Memory@@ Size@@ ); } org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override protected boolean validate(@@ ) { if (!@@ (@@ super@@ .@@ valid@@ at@@ e())) { return false@@ ; } if ((org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ ().get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ Up@@ )) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ N@@ E@@ ED@@ S_@@ T@@ O@@ _@@ B@@ E_@@ UP@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String("@@ vm@@ Id@@ ", org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ Id@@ ()), org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String("@@ vm@@ Name@@ ", org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ ().get@@ Name()@@ ), org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String("@@ current@@ Vm@@ St@@ ate@@ ", org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ ().get@@ Status@@ ())); } if ((get@@ Device@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ ()) == null@@ ) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM@@ _M@@ EM@@ OR@@ Y_@@ DE@@ V@@ IC@@ E_@@ NOT_@@ F@@ O@@ UN@@ D@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String("@@ mem@@ ory@@ Size@@ ", org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getParameters().get@@ Memory@@ Size@@ M@@ b@@ ()), org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String("@@ vm@@ Id@@ ", org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ Id@@ ()), org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String("@@ vm@@ Name@@ ", org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ ().get@@ Name()@@ )); } return true@@ ; }
private void update@@ Vm@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Stati@@ c ne@@ xt@@ Run@@ Configuration@@ Static@@ , int final@@ Memory@@ Siz@@ e) { ne@@ xt@@ Run@@ Configuration@@ Static@@ .set@@ Mem@@ Size@@ M@@ b@@ (@@ final@@ Memory@@ Size@@ ); final org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base update@@ Vm@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Bas@@ e(@@ ne@@ xt@@ Run@@ Configuration@@ Static@@ ); update@@ Vm@@ Param@@ s.set@@ Lock@@ Properties@@ (@@ org.ovirt.engine.core.common.action.@@ Lock@@ Properties.@@ c@@ re@@ ate(@@ Lock@@ Properties.@@ S@@ c@@ op@@ e.@@ N@@ one@@ )); run@@ Internal@@ Action(VdcActionType.@@ Update@@ Vm@@ , update@@ Vm@@ Param@@ s); }
public void set@@ ReturnValue@@ Failur@@ e(@@ org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Value@@ Failur@@ e) { org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command@@ .set@@ Succeeded@@ (@@ false@@ ); final org.ovirt.engine.core.common.errors.@@ Engine@@ F@@ a@@ ult engin@@ e@@ F@@ a@@ ult = new org.ovirt.engine.core.common.errors.@@ Engine@@ F@@ a@@ ult@@ (); engin@@ e@@ F@@ a@@ ult.@@ set@@ Error@@ (@@ return@@ Value@@ Failur@@ e.get@@ Vds@@ Error@@ ().get@@ Cod@@ e()); engin@@ e@@ F@@ a@@ ult.@@ set@@ Message@@ (@@ return@@ Value@@ Failur@@ e.get@@ Vds@@ Error@@ ().get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.get@@ ReturnValu@@ e().set@@ F@@ a@@ ult@@ (@@ engin@@ e@@ F@@ a@@ ult@@ ); }
java.lang.String VM_@@ N@@ E@@ ED@@ S_@@ T@@ O@@ _@@ B@@ E_@@ UP@@ ();
java.lang.String VM@@ _M@@ EM@@ OR@@ Y_@@ DE@@ V@@ IC@@ E_@@ NOT_@@ F@@ O@@ UN@@ D@@ ();
public static java.lang.Integ@@ er get@@ Size@@ Of@@ Memory@@ Device@@ M@@ b@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e mem@@ ory@@ Device@@ ) { if ((@@ mem@@ ory@@ Devic@@ e.get@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ Gener@@ al@@ Type.@@ M@@ EM@@ OR@@ Y@@ )) { throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ Mem@@ or@@ y devi@@ c@@ e exp@@ ected b@@ u@@ t devi@@ c@@ e %@@ s p@@ as@@ se@@ d of typ@@ e %@@ s", mem@@ ory@@ Device@@ , mem@@ ory@@ Devic@@ e.get@@ Typ@@ e())); } return ((@@ java.lang.Integer@@ ) (@@ mem@@ ory@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s().get@@ (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ C@@ ommon@@ Utils.@@ SP@@ EC@@ _P@@ AR@@ A@@ M@@ _@@ SI@@ Z@@ E@@ ))); }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > get@@ Permission@@ Check@@ Su@@ bject@@ s() { return java.util.Collections.@@ sing@@ leton@@ List@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getParameters().get@@ Vm@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ VM@@ , org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.get@@ Action@@ Typ@@ e().get@@ Action@@ Group@@ ())); }
protected org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e get@@ Device@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ () { if ((@@ devi@@ ce@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ ) == null@@ ) { devi@@ ce@@ To@@ H@@ ot@@ Un@@ p@@ lu@@ g = com@@ put@@ e@@ Device@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ (); } return devi@@ ce@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ ; }
@java.lang.Override protected void init@@ () { super@@ .@@ init@@ (); set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getParameters().get@@ Vm@@ Id()); }
private org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e com@@ put@@ e@@ Device@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ () { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > mem@@ ory@@ Device@@ s = vm@@ Device@@ Dao@@ .get@@ VmDevice@@ By@@ Vm@@ Id@@ And@@ Type(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ M@@ EM@@ OR@@ Y@@ ); final java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > re@@ ver@@ s@@ ed@@ Memory@@ Device@@ s = new java.util.Array@@ List(@@ mem@@ ory@@ Devic@@ es@@ ); java.util.Collections.@@ re@@ ver@@ se(@@ re@@ ver@@ s@@ ed@@ Memory@@ Devic@@ es@@ ); return mem@@ ory@@ Devic@@ es.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( devi@@ ce@@ ) -@@ > java.util.@@ Object@@ s.@@ equals(@@ get@@ Parameters().get@@ Memory@@ Size@@ M@@ b@@ (), org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ Size@@ Of@@ Memory@@ Device@@ M@@ b@@ (@@ devi@@ ce@@ )@@ )).@@ fin@@ d@@ F@@ ir@@ st@@ ().@@ or@@ El@@ se@@ (@@ null@@ ); }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> get@@ Sh@@ ared@@ Lock@@ s() { final java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> result = new java.util.HashMap@@ (@@ super@@ .get@@ Sh@@ ared@@ Lock@@ s()); res@@ ult.@@ put@@ (org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VM@@ , new org.ovirt.engine.core.bll.@@ Lock@@ Message@@ (org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ C@@ LUSTER_@@ IS@@ _@@ B@@ E@@ ING@@ _@@ UP@@ D@@ AT@@ ED@@ ).@@ with@@ ("@@ vm@@ Name@@ ", org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ Name()@@ ))); return result@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value(@@ ) { return org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.get@@ ReturnValue().get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ M@@ EM@@ OR@@ Y_@@ HO@@ T_@@ UN@@ P@@ LU@@ G@@ E@@ D : org.ovirt.engine.core.common.@@ AuditLogType.@@ M@@ EM@@ OR@@ Y_@@ HO@@ T_@@ UN@@ P@@ LU@@ G@@ _@@ FAIL@@ ED@@ ; }
private void set@@ Q@@ c@@ ow@@ Comp@@ at@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid storageDomain@@ Id, org.ovirt.engine.core.compat.Guid disk@@ Id, org.ovirt.engine.core.compat.Guid volume@@ Id, org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage new@@ DiskImage@@ ) { if (@@ new@@ Disk@@ Image.get@@ Volume@@ Format@@ ().@@ equals(@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ )) { new@@ Disk@@ Im@@ age.@@ set@@ Q@@ c@@ ow@@ Comp@@ at@@ (@@ Q@@ c@@ ow@@ C@@ ompat.@@ Q@@ C@@ O@@ W@@ 2@@ _@@ V@@ 2@@ ); org.ovirt.engine.core.common.businessentities.@@ Storage@@ Pool s@@ p = storagePool@@ Dao@@ .get(@@ storagePool@@ Id); if ((@@ s@@ p != null@@ ) && (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ q@@ c@@ ow@@ Comp@@ at@@ Support@@ ed(@@ sp@@ .get@@ CompatibilityVersion@@ ()))) { org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o q@@ em@@ u@@ Image@@ In@@ f@@ o = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ Q@@ em@@ u@@ Image@@ Info@@ From@@ Vds@@ m@@ (@@ storagePool@@ Id, storageDomain@@ Id, disk@@ Id, volume@@ Id, null@@ , true@@ ); if (@@ q@@ em@@ u@@ Image@@ In@@ f@@ o != null@@ ) { new@@ Disk@@ Im@@ age.@@ set@@ Q@@ c@@ ow@@ Comp@@ at@@ (@@ q@@ em@@ u@@ Image@@ Info@@ .get@@ Q@@ c@@ ow@@ Comp@@ at@@ ()); } } }
private void set@@ Q@@ c@@ ow@@ Comp@@ at@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage new@@ DiskImage@@ ) { if (@@ new@@ Disk@@ Image.get@@ Volume@@ Format@@ ().@@ equals(@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ )) { try { set@@ Q@@ c@@ ow@@ Comp@@ at@@ By@@ Q@@ em@@ u@@ Image@@ Info@@ (@@ new@@ Disk@@ Image.get@@ StoragePool@@ Id(), new@@ Disk@@ Image.get@@ Id(), new@@ Disk@@ Image.get@@ Image@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Re@@ g@@ ist@@ er@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id(), new@@ DiskImage@@ ); image@@ Dao@@ .@@ update@@ (@@ new@@ Disk@@ Image.get@@ Image@@ ()); } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { log.error@@ ("@@ Un@@ able to updat@@ e the im@@ age in@@ f@@ o for im@@ age '{}@@ ' (@@ im@@ age group@@ : '{}@@ '@@ ) on do@@ ma@@ in '{}@@ '@@ ", new@@ Disk@@ Image.get@@ Image@@ Id(), new@@ Disk@@ Image.get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Re@@ g@@ ist@@ er@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id()); } }
protected org.ovirt.engine.core.common.businessentities.VM setUp@@ Vm@@ (org.ovirt.engine.core.compat.Guid id@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Stati@@ c = cont@@ ro@@ l.@@ create@@ Mock@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Static@@ .@@ class@@ ); exp@@ ect@@ (vm@@ Static@@ .getId@@ ()).@@ and@@ Return(@@ id@@ ).@@ any@@ Tim@@ es@@ (); org.ovirt.engine.core.common.businessentities.VM vm = cont@@ ro@@ l.@@ create@@ Mock@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ ); exp@@ ect@@ (vm@@ .getId@@ ()).@@ and@@ Return(@@ id@@ ).@@ any@@ Tim@@ es@@ (); return vm@@ ; }
private org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ar@@ d p@@ op@@ ul@@ ate@@ Util@@ iz@@ ation@@ C@@ ach@@ e() throw@@ s org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Exception { long st@@ art@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ar@@ d d@@ ash@@ b@@ o@@ ar@@ d = get@@ D@@ ash@@ b@@ o@@ ard@@ (); long end@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); d@@ ash@@ b@@ o@@ ard@@ C@@ ach@@ e.@@ put(@@ org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ U@@ TI@@ L@@ I@@ Z@@ A@@ TION_@@ K@@ E@@ Y@@ , d@@ ash@@ b@@ o@@ ard@@ , org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ U@@ TI@@ L@@ I@@ Z@@ A@@ TION_@@ C@@ AC@@ H@@ E_@@ UP@@ D@@ AT@@ E_@@ IN@@ TER@@ VAL@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ D@@ elet@@ e uti@@ l@@ iz@@ ation c@@ ach@@ e update@@ d in {}@@ ", (@@ end@@ Tim@@ e - st@@ art@@ Time@@ )); return d@@ ash@@ b@@ o@@ ard@@ ; }
private org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ In@@ vent@@ or@@ y p@@ op@@ ul@@ ate@@ In@@ vent@@ ory@@ C@@ ach@@ e() throw@@ s org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Exception { long st@@ art@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ .@@ In@@ vent@@ or@@ y in@@ vent@@ or@@ y = lo@@ o@@ k@@ up@@ In@@ vent@@ ory@@ (); long end@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); in@@ vent@@ ory@@ C@@ ach@@ e.@@ put(@@ org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ .@@ D@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ IN@@ V@@ EN@@ T@@ OR@@ Y_@@ K@@ E@@ Y@@ , in@@ vent@@ ory@@ , org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ IN@@ V@@ EN@@ T@@ OR@@ Y@@ _C@@ AC@@ H@@ E_@@ UP@@ D@@ AT@@ E_@@ IN@@ TER@@ VAL@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); org.ovirt.engine.ui.frontend.@@ ser@@ v@@ er.@@ d@@ ash@@ b@@ o@@ ard@@ Data@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ St@@ ar@@ t in@@ vent@@ o@@ y c@@ ach@@ e update@@ d in {}@@ ", m@@ s (@@ end@@ Tim@@ e - st@@ art@@ Time@@ )); return in@@ vent@@ ory@@ ; }
private org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base create@@ AuditLog@@ (@@ final org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic if@@ ac@@ e) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(); log@@ abl@@ e.set@@ Vm@@ Id@@ (@@ if@@ ac@@ e.get@@ Vm@@ Id()); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ M@@ AC@@ Add@@ r@@ ", if@@ ac@@ e.get@@ Mac@@ Address@@ ()); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ I@@ fac@@ e@@ Name@@ ", if@@ ac@@ e.get@@ Name()); return log@@ able@@ ; }
@java.lang.Override public void init@@ (@@ final T model@@ ) { super@@ .@@ init@@ (model@@ ); model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { if ("@@ Is@@ Available@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { get@@ View@@ ().set@@ Message@@ Label@@ (model@@ 1@@ .get@@ Message@@ ()); } }); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ p@@ opup@@ .@@ Abstract@@ Network@@ Popup@@ P@@ res@@ enter@@ Widget@@ .get@@ View@@ ().@@ t@@ og@@ g@@ le@@ Sub@@ net@@ Visi@@ bility@@ (model.get@@ Export@@ ().getEntity@@ ()); model.get@@ Export@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { get@@ View@@ ().@@ t@@ og@@ g@@ le@@ Sub@@ net@@ Visi@@ bility@@ (model.get@@ Export@@ ().getEntity@@ ())); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ p@@ opup@@ .@@ Abstract@@ Network@@ Popup@@ P@@ res@@ enter@@ Widget@@ .get@@ View@@ ().@@ t@@ og@@ g@@ le@@ Profil@@ es@@ Visi@@ bility@@ (model.get@@ Profil@@ es@@ ().get@@ Is@@ Avail@@ abl@@ e()); model.get@@ Profil@@ es@@ ().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ ("@@ Is@@ Available@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { get@@ View@@ ().@@ t@@ og@@ g@@ le@@ Profil@@ es@@ Visi@@ bility@@ (model.get@@ Profil@@ es@@ ().get@@ Is@@ Avail@@ abl@@ e()); } }); }
public void add@@ M@@ en@@ u@@ Item@@ (@@ final org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > b@@ utton@@ De@@ f@@ ) { final com.google.gwt.@@ user.@@ client.@@ ui.@@ M@@ en@@ u@@ I@@ t@@ e@@ m m@@ en@@ u@@ I@@ t@@ e@@ m = new com.google.gwt.@@ user.@@ client.@@ ui.@@ M@@ en@@ u@@ Item@@ (@@ b@@ utton@@ De@@ f@@ .get@@ Text@@ (), b@@ utton@@ De@@ f@@ .get@@ Text@@ (), b@@ utton@@ De@@ f@@ .is@@ Enabled@@ ()); b@@ utton@@ De@@ f@@ .@@ add@@ In@@ itial@@ ize@@ Handler@@ (@@ null@@ ); b@@ utton@@ De@@ f@@ .is@@ Enabled@@ ()); b@@ utton@@ De@@ f@@ .@@ add@@ In@@ itial@@ ize@@ Handler@@ (@@ null@@ ); }
public boolean in@@ vo@@ ke@@ As@@ String@@ (c@@ om@@ .google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ J@@ s@@ Array@@ <?@@ > arg@@ s, org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ j@@ s@@ n@@ i.@@ J@@ s@@ F@@ un@@ c@@ tion@@ .@@ Error@@ Handl@@ er error@@ Handler@@ ) { cl@@ e@@ ar@@ Result@@ I@@ n@@ for@@ m@@ ation@@ (); return f@@ un@@ c@@ tion@@ .@@ in@@ vo@@ k@@ e(@@ arg@@ s, J@@ s@@ F@@ un@@ c@@ tion@@ .@@ RE@@ S@@ U@@ L@@ T_@@ TYPE_@@ ST@@ R@@ ING@@ , org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ j@@ s@@ n@@ i.@@ J@@ s@@ F@@ un@@ c@@ tion@@ .@@ Result@@ Handler@@ <java.lang.String@@ >) (@@ result@@ ); }
public boolean in@@ vo@@ ke@@ As@@ Boolean@@ (c@@ om@@ .google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ J@@ s@@ Array@@ <?@@ > arg@@ s, org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ j@@ s@@ n@@ i.@@ J@@ s@@ F@@ un@@ c@@ tion@@ .@@ Error@@ Handl@@ er error@@ Handler@@ ) { cl@@ e@@ ar@@ Result@@ I@@ n@@ for@@ m@@ ation@@ (); return f@@ un@@ c@@ tion@@ .@@ in@@ vo@@ k@@ e(@@ arg@@ s, J@@ s@@ F@@ un@@ c@@ tion@@ .@@ RE@@ S@@ U@@ L@@ T_@@ TYPE_@@ B@@ O@@ LE@@ AN@@ , org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ j@@ s@@ n@@ i.@@ J@@ s@@ F@@ un@@ c@@ tion@@ .@@ Result@@ Handler@@ <@@ java.lang.Boolean@@ >) (@@ result@@ )); }
public boolean in@@ vo@@ ke@@ As@@ Num@@ ber@@ (c@@ om@@ .google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ J@@ s@@ Array@@ <?@@ > arg@@ s, org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ j@@ s@@ n@@ i.@@ J@@ s@@ F@@ un@@ c@@ tion@@ .@@ Error@@ Handl@@ er error@@ Handler@@ ) { cl@@ e@@ ar@@ Result@@ I@@ n@@ for@@ m@@ ation@@ (); return f@@ un@@ c@@ tion@@ .@@ in@@ vo@@ k@@ e(@@ arg@@ s, J@@ s@@ F@@ un@@ c@@ tion@@ .@@ RE@@ S@@ U@@ L@@ T_@@ TYPE_@@ N@@ U@@ M@@ B@@ ER@@ , org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ j@@ s@@ n@@ i.@@ J@@ s@@ F@@ un@@ c@@ tion@@ .@@ Result@@ Handler@@ <@@ java.lang.@@ Do@@ ubl@@ e@@ >) (@@ result) -@@ > this@@ .@@ result@@ Valu@@ e = result@@ ; this@@ .@@ result@@ Type = J@@ s@@ F@@ un@@ c@@ tion@@ .@@ RE@@ S@@ U@@ L@@ T_@@ TYPE_@@ N@@ U@@ M@@ B@@ ER@@ ; }
@java.lang.Override protected void fil@@ l@@ M@@ en@@ u@@ B@@ ar@@ (@@ org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ a@@ r m@@ en@@ u@@ B@@ ar@@ ) { if (@@ us@@ ed@@ ) { m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Item@@ ("@@ {@@ } F@@ un@@ c@@ tion (@@ com.google.gwt.@@ user.@@ client.@@ C@@ Command@@ ) ((@@ -@@ > { org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ model.@@ remove@@ F@@ un@@ c@@ tion@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ p@@ an@@ el@@ s@@ .@@ p@@ olicy@@ Unit@@ ); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ m@@ en@@ u@@ Popup@@ .@@ h@@ id@@ e(); } else { m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Item@@ ("@@ F@@ un@@ c@@ tion F@@ un@@ c@@ tion (@@ com.google.gwt.@@ user.@@ client.@@ C@@ L@@ ev@@ el@@ ) ((@@ ) -@@ > { org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ model.@@ add@@ F@@ un@@ c@@ tion@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ ); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ m@@ en@@ u@@ Popup@@ .@@ h@@ id@@ e(); } }
private org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ a@@ r m@@ en@@ u@@ For@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > item@@ ) { org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ a@@ r m@@ en@@ u = ro@@ ot@@ M@@ en@@ u@@ (@@ item@@ ); java.util.Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Operation@@ , java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Command@@ >> o@@ peration@@ Map = item@@ .get@@ Setup@@ Model@@ ().@@ command@@ s@@ For@@ (@@ item@@ ); for (@@ final java.util.Map@@ .@@ E@@ n@@ try@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Operation@@ , java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Command@@ >> e@@ n@@ try : o@@ peration@@ Map@@ .@@ e@@ n@@ try@@ Set@@ ()) { final java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Command@@ > command@@ s = e@@ n@@ try@@ .get@@ Valu@@ e(); if (@@ e@@ n@@ try@@ .get@@ Key@@ ().is@@ Un@@ ar@@ y@@ ()) { assert (command@@ s.@@ size()) == 1 : a Network@@ C@@ ommand wit@@ h m@@ or@@ e th@@ an on@@ e Un@@ ar@@ y O@@ per@@ ation m@@ en@@ u@@ .@@ add@@ Item@@ (@@ e@@ n@@ try@@ .get@@ Key@@ ().get@@ V@@ er@@ b@@ (@@ item@@ ), com.google.gwt.@@ user.@@ client.@@ ui.@@ L@@ ab@@ e@@ n@@ try@@ .get@@ Key@@ (), command@@ s.get@@ (0@@ )); } else { java.util.Collections.@@ s@@ ort@@ (command@@ s, java.util.@@ Comp@@ ar@@ ator.@@ comp@@ ar@@ ing@@ (@@ Network@@ Command@@ :@@ :@@ get@@ Name, new org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ ator@@ s.@@ L@@ ex@@ o@@ Num@@ er@@ ic@@ Comp@@ ar@@ ator@@ ())); org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ a@@ r sub@@ M@@ en@@ u = sub@@ M@@ en@@ u@@ (); for (@@ final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ C@@ ommand c@@ ommand : command@@ s) { sub@@ M@@ en@@ u@@ .@@ add@@ Item@@ (@@ new com.google.gwt.@@ user.@@ client.@@ ui.@@ M@@ en@@ u@@ Item@@ (command@@ .get@@ Name(), com.google.gwt.@@ user.@@ client.@@ C@@ ommand execute@@ Command(@@ e@@ n@@ try@@ .get@@ Key@@ (), command@@ )); } m@@ en@@ u@@ .@@ add@@ Item@@ (@@ e@@ n@@ try@@ .get@@ Key@@ ().get@@ V@@ er@@ b@@ (@@ item@@ ), sub@@ M@@ en@@ u@@ ); } return m@@ en@@ u@@ ; }
protected void fil@@ l@@ M@@ en@@ u@@ B@@ ar@@ (@@ org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ a@@ r m@@ en@@ u@@ B@@ ar@@ ) { if (@@ us@@ ed@@ ) { m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Item@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ remove@@ Filter@@ (), com.google.gwt.@@ user.@@ client.@@ C@@ ommand m@@ en@@ u@@ B@@ ar@@ t = new org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ m@@ en@@ u@@ Popup@@ .@@ h@@ id@@ e(); } else { m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Item@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ m@@ en@@ u@@ Popup@@ .@@ const@@ an@@ t@@ s.@@ add@@ Filter@@ (), ((@@ com.google.gwt.@@ user.@@ client.@@ C@@ ommand -@@ -@@ -@@ -@@ -@@ -@@ -@@ 1@@ ) -@@ -@@ >@@ = 2@@ ; model.@@ add@@ Filter@@ (p@@ olicy@@ Unit@@ , us@@ ed@@ , 0@@ ); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ m@@ en@@ u@@ Popup@@ .@@ h@@ id@@ e(); } }
protected void add@@ Sub@@ M@@ en@@ u@@ (@@ org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ a@@ r m@@ en@@ u@@ B@@ ar@@ ) { org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ a@@ r sub@@ M@@ en@@ u = new org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ ar@@ (@@ true@@ ); if ((@@ p@@ os@@ ition@@ ) != 0) { sub@@ M@@ en@@ u@@ .@@ add@@ Item@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ no@@ P@@ os@@ ition@@ Filter@@ (), p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ p@@ os@@ ition@@ (), p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ m@@ en@@ u@@ Popup@@ .@@ h@@ id@@ e(); } if ((@@ p@@ os@@ ition@@ ) >@@ = 0) { sub@@ M@@ en@@ u@@ .@@ add@@ Item@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ fi@@ r@@ st@@ Filter@@ (), ((@@ com.google.gwt.@@ user.@@ client.@@ C@@ ommand o@@ u ? org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ p@@ os@@ ition@@ (), p@@ os@@ ition@@ , org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ l@@ ast@@ Filter@@ (), ((@@ com.google.gwt.@@ user.@@ client.@@ ui.@@ G@@ r@@ en@@ u@@ t o@@ ption@@ s) ? org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ l@@ ast@@ Filter@@ (), ((@@ ) -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ 1@@ ) (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ m@@ en@@ u@@ Popup@@ .@@ h@@ id@@ e(); } m@@ en@@ u@@ B@@ ar@@ ); m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Item@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ scheduling.@@ p@@ an@@ el@@ s.@@ Policy@@ Unit@@ Panel@@ .@@ m@@ en@@ u@@ Panel@@ ); }
private com.google.gwt.@@ user.@@ client.@@ ui.@@ P@@ us@@ h@@ B@@ utt@@ on create@@ Button@@ (c@@ om@@ .google.gwt.@@ resourc@@ es.@@ client.@@ Image@@ Resourc@@ e image@@ Resource@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ P@@ us@@ h@@ B@@ utt@@ on result = new com.google.gwt.@@ user.@@ client.@@ ui.@@ P@@ us@@ h@@ Button@@ (@@ new com.google.gwt.@@ user.@@ client.@@ ui.@@ Image@@ (@@ image@@ Resource@@ ), ((@@ com.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Handler@@ ) (@@ event@@ )@@ ), t@@ og@@ g@@ le@@ Visi@@ bl@@ e@@ W@@ est@@ Panel@@ ())); res@@ ult.@@ set@@ Visi@@ bl@@ e@@ (@@ false@@ ); res@@ ult.@@ add@@ Sty@@ le@@ Name(@@ st@@ y@@ l@@ e.@@ s@@ l@@ id@@ er@@ Button@@ ()); res@@ ult.@@ add@@ Sty@@ le@@ Name("@@ t@@ s@@ l@@ p@@ _@@ s@@ l@@ id@@ er@@ Button@@ _@@ p@@ f@@ ly@@ _@@ fi@@ x@@ "); return result@@ ; }
@java.lang.Override public void on@@ F@@ oc@@ us@@ (c@@ om@@ .google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ F@@ oc@@ us@@ Event event@@ ) { event@@ Handl@@ er = com.google.gwt.@@ user.@@ client.@@ Ev@@ ent.@@ add@@ N@@ ati@@ ve@@ Pre@@ view@@ Handler@@ (@@ this@@ , "@@ t@@ es@@ t event@@ 1@@ ) -@@ > com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event native@@ Event = event@@ 1@@ .get@@ N@@ ati@@ ve@@ Event@@ (); if (((@@ native@@ Ev@@ ent.@@ get@@ Key@@ Cod@@ e()) == Key@@ Cod@@ es.@@ K@@ E@@ Y_@@ EN@@ TER@@ ) && ((@@ event@@ 1@@ .get@@ Type@@ Int@@ ()) == Ev@@ ent.@@ ON@@ K@@ E@@ Y@@ P@@ RE@@ SS@@ ) || (@@ event@@ 1@@ .get@@ Type@@ Int@@ ()) == Ev@@ ent.@@ ON@@ K@@ E@@ Y@@ DO@@ W@@ N@@ ))) && (!@@ (@@ event@@ 1@@ .is@@ Cancel@@ ed@@ ()))) { native@@ Ev@@ ent.@@ pre@@ vent@@ Default@@ (); native@@ Ev@@ ent.@@ st@@ op@@ Pro@@ p@@ ag@@ ation@@ (); event@@ 1@@ .@@ cancel@@ (); if (@@ event@@ 1@@ .get@@ Type@@ Int@@ ()) == Ev@@ ent.@@ ON@@ K@@ E@@ Y@@ DO@@ W@@ N@@ ) { enter@@ P@@ ress@@ ed@@ (); } }
private org.ovirt.engine.ui.common.widget.@@ re@@ fresh@@ .@@ Base@@ Refresh@@ Panel@@ .@@ Refresh@@ R@@ ate@@ Option@@ s@@ M@@ en@@ u get@@ Refresh@@ Option@@ s@@ M@@ en@@ u@@ () { org.ovirt.engine.ui.common.widget.@@ re@@ fresh@@ .@@ Base@@ Refresh@@ Panel@@ .@@ Refresh@@ R@@ ate@@ Option@@ s@@ M@@ en@@ u re@@ fresh@@ Option@@ s@@ M@@ en@@ u = new org.ovirt.engine.ui.common.widget.@@ re@@ fresh@@ .@@ Base@@ Refresh@@ Panel@@ .@@ Refresh@@ R@@ ate@@ Option@@ s@@ M@@ en@@ u@@ (@@ true@@ ); re@@ fresh@@ Option@@ s@@ M@@ en@@ u@@ .set@@ Sty@@ le@@ P@@ ri@@ mar@@ y@@ Name(@@ st@@ y@@ l@@ e.@@ re@@ fresh@@ R@@ ate@@ M@@ en@@ u@@ ()); com.google.gwt.@@ user.@@ client.@@ ui.@@ M@@ en@@ u@@ I@@ t@@ e@@ m ti@@ t@@ l@@ e = new com.google.gwt.@@ user.@@ client.@@ ui.@@ M@@ en@@ u@@ Item@@ (@@ org.ovirt.engine.ui.common.widget.@@ re@@ fresh@@ .@@ Base@@ Refresh@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ re@@ fresh@@ R@@ at@@ e(), ((@@ com.google.gwt.@@ user.@@ client.@@ ui.@@ G@@ r@@ ate@@ ) -@@ > { ti@@ t@@ l@@ e.set@@ Enabled@@ (@@ false@@ ); ti@@ t@@ l@@ e.set@@ Sty@@ le@@ P@@ ri@@ mar@@ y@@ Name(@@ st@@ y@@ l@@ e.@@ re@@ fresh@@ M@@ en@@ u@@ Titl@@ e()); re@@ fresh@@ Option@@ s@@ M@@ en@@ u@@ .@@ add@@ Item@@ (@@ ti@@ t@@ l@@ e); java.util.Set@@ <@@ java.lang.Integer@@ > re@@ fresh@@ R@@ ate@@ s = org.ovirt.engine.ui.common.widget.@@ re@@ fresh@@ .@@ Abstract@@ Refresh@@ Manager@@ .get@@ Refresh@@ R@@ at@@ es@@ (); int item@@ In@@ de@@ x = 0@@ ; for (@@ java.lang.Integ@@ er re@@ fresh@@ R@@ at@@ e : re@@ fresh@@ R@@ at@@ es) { org.ovirt.engine.ui.common.widget.@@ re@@ fresh@@ .@@ Base@@ Refresh@@ R@@ ate@@ Option@@ C@@ ommand c@@ ommand = new org.ovirt.engine.ui.common.widget.@@ re@@ fresh@@ .@@ Base@@ Refresh@@ R@@ ate@@ Option@@ Command@@ (); org.ovirt.engine.ui.common.widget.@@ re@@ fresh@@ .@@ Refresh@@ R@@ ate@@ Option@@ s@@ Refresh@@ R@@ ate@@ Option@@ s@@ Refresh@@ R@@ ate@@ Option@@ s@@ Event@@ Event@@ Event@@ Event@@ Event@@ (@@ re@@ fresh@@ R@@ ate@@ , command@@ ); re@@ fresh@@ R@@ ate@@ Option@@ .set@@ Sty@@ le@@ P@@ ri@@ mar@@ y@@ Name(@@ st@@ y@@ l@@ e.@@ re@@ fresh@@ R@@ ate@@ Option@@ ()); command@@ .set@@ M@@ en@@ u@@ Item@@ (@@ re@@ fresh@@ R@@ ate@@ Option@@ s@@ M@@ en@@ u@@ .@@ add@@ Item@@ (@@ re@@ fresh@@ R@@ ate@@ Option@@ ); re@@ fresh@@ R@@ ate@@ Option@@ s@@ M@@ en@@ u@@ .@@ add@@ Item@@ (@@ re@@ fresh@@ R@@ ate@@ Option@@ ); if (@@ re@@ fresh@@ R@@ ate@@ Option@@ s@@ M@@ en@@ u@@ t != (@@ re@@ fresh@@ R@@ ate@@ Option@@ s@@ M@@ en@@ u@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ M@@ en@@ u@@ Item@@ (@@ re@@ fresh@@ R@@ ate@@ Option@@ s@@ M@@ en@@ u@@ Item@@ ); } } return re@@ fresh@@ R@@ ate@@ Option@@ s@@ ; }
@@@ com.google.gwt.@@ ui@@ b@@ in@@ der.@@ client.@@ U@@ i@@ Handler@@ ("@@ up@@ load@@ Button@@ ") void on@@ U@@ pl@@ o@@ ad@@ I@@ con@@ Button@@ (c@@ om@@ .google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { h@@ id@@ d@@ en@@ Panel@@ .@@ cl@@ e@@ ar@@ (); final com.google.gwt.@@ user.@@ client.@@ ui.@@ File@@ U@@ pl@@ o@@ a@@ d in@@ put@@ File@@ W@@ id@@ g@@ e@@ t = new com.google.gwt.@@ user.@@ client.@@ ui.@@ File@@ U@@ pl@@ o@@ ad@@ (); in@@ put@@ File@@ Widget@@ .get@@ Element@@ ().set@@ Att@@ rib@@ ut@@ e(@@ "@@ ac@@ ce@@ p@@ t@@ ", "@@ image@@ /@@ g@@ if@@ ,@@ image@@ /@@ j@@ eg@@ ,@@ image@@ /@@ p@@ ng@@ "); in@@ put@@ File@@ Widget@@ .@@ add@@ Change@@ Handler@@ (@@ this@@ , event@@ 1@@ ) { in@@ put@@ File@@ Widget@@ .get@@ Element@@ ().set@@ Tab@@ In@@ dex@@ ((@@ -@@ 1@@ )); h@@ id@@ d@@ en@@ Panel@@ .@@ add(@@ in@@ put@@ File@@ Widget@@ ); in@@ put@@ File@@ Widget@@ .@@ cl@@ ick@@ (); }
private void init@@ M@@ en@@ u@@ Popup@@ (@@ java.util.List<@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ >> action@@ s) { m@@ en@@ u@@ P@@ o@@ pu@@ p = new org.ovirt.engine.ui.common.widget.@@ action.@@ M@@ en@@ u@@ Panel@@ Popup@@ (@@ true@@ ); for (@@ final org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > b@@ utton@@ De@@ f : action@@ s) { com.google.gwt.@@ user.@@ client.@@ ui.@@ M@@ en@@ u@@ I@@ t@@ e@@ m m@@ en@@ u@@ I@@ t@@ e@@ m = new com.google.gwt.@@ user.@@ client.@@ ui.@@ M@@ en@@ u@@ Item@@ (@@ b@@ utton@@ De@@ f@@ .get@@ Text@@ (), ((@@ com.google.gwt.@@ user.@@ client.@@ Command@@ ) ((@@ ) -@@ > m@@ en@@ u@@ Popup@@ .@@ as@@ Popup@@ Panel@@ ().@@ h@@ id@@ e(); b@@ utton@@ De@@ f@@ .@@ on@@ Cl@@ ick@@ (s@@ elected@@ Item@@ s@@ Provider@@ .get@@ SelectedItem@@ s()); }
private void create@@ M@@ en@@ u@@ (@@ final java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Node@@ > num@@ a@@ Node@@ List@@ , int in@@ dex@@ To@@ S@@ k@@ ip@@ ) { m@@ en@@ u@@ B@@ a@@ r = new org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ ar@@ (@@ true@@ ); for (@@ final org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Nod@@ e num@@ a@@ Nod@@ e : num@@ a@@ Node@@ List@@ ) { final int n@@ ode@@ In@@ de@@ x = num@@ a@@ Nod@@ e.get@@ In@@ dex@@ (); m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Item@@ (@@ org.ovirt.engine.ui.common.@@ view@@ .@@ p@@ opup@@ .@@ num@@ a.@@ D@@ r@@ ag@@ g@@ able@@ Vir@@ tu@@ al@@ Panel@@ .@@ mess@@ ages.@@ num@@ a@@ Nod@@ e(@@ n@@ ode@@ In@@ dex@@ ), com.google.gwt.@@ user.@@ client.@@ C@@ ommon@@ Command@@ ) { org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ p@@ opup@@ .@@ num@@ a.@@ Updat@@ ed@@ V@@ num@@ a@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , n@@ ode@@ Model.get@@ Vm@@ ().get@@ Id(), true@@ , n@@ ode@@ Model.get@@ In@@ dex@@ (), n@@ ode@@ In@@ dex@@ ); org.ovirt.engine.ui.common.@@ view@@ .@@ p@@ opup@@ .@@ num@@ a.@@ D@@ r@@ ag@@ g@@ able@@ Vir@@ tu@@ al@@ Numa@@ Panel@@ .@@ m@@ en@@ u@@ Popup@@ .@@ h@@ id@@ e(); } if (@@ n@@ ode@@ Model@@ .is@@ P@@ in@@ n@@ ed@@ ()) { m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Se@@ par@@ ator@@ (); m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Se@@ par@@ ator@@ (); m@@ en@@ u@@ B@@ ar@@ .@@ add@@ Item@@ (@@ org.ovirt.engine.ui.common.@@ view@@ .@@ p@@ opup@@ .@@ num@@ a.@@ D@@ r@@ ag@@ g@@ able@@ Vir@@ tu@@ al@@ Numa@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ un@@ P@@ in@@ Nod@@ e(), get@@ Typ@@ e()); } }
@java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand command@@ ) { super@@ .@@ execute@@ Command@@ (command@@ ); if (c@@ ommand == (@@ mem@@ ory@@ H@@ ot@@ Un@@ p@@ lug@@ Command@@ )) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ es@@ ListModel@@ .set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ null@@ ); on@@ Memory@@ H@@ ot@@ Un@@ p@@ lug@@ Confirm@@ ed@@ (); } else if (c@@ ommand == (c@@ ancel@@ Memory@@ H@@ ot@@ Un@@ p@@ lug@@ Command@@ )) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ es@@ ListModel@@ .set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ null@@ ); } }
private void on@@ Memory@@ H@@ ot@@ Un@@ p@@ lug@@ Confirm@@ ed@@ () { final org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e vm@@ Devic@@ e = org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ es@@ ListModel@@ .get@@ SelectedItem@@ (); if ((@@ vm@@ Devic@@ e == null@@ ) || ((@@ vm@@ Devic@@ e.get@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ Gener@@ al@@ Type.@@ M@@ EM@@ OR@@ Y@@ ))) { return@@ ; } log@@ ((@@ "@@ c@@ al@@ l Memory@@ H@@ ot@@ Un@@ p@@ lug@@ C@@ ommand " + vm@@ Device@@ )); }
@java.lang.Override public void initial@@ ize@@ Handl@@ ers@@ () { super@@ .@@ initial@@ ize@@ Handl@@ ers@@ (); get@@ View@@ ().get@@ H@@ ot@@ Un@@ p@@ lug@@ Column@@ ().add@@ Handler@@ (@@ new org.ovirt.engine.ui.common.widget.@@ C@@ el@@ l@@ Cl@@ ick@@ Handler@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ >() { @java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e vm@@ Device@@ ) { get@@ Model@@ Provider@@ ().get@@ Model@@ ().@@ on@@ H@@ ot@@ Un@@ p@@ lug@@ (vm@@ Device@@ ); } }); }
@@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Templ@@ ate(@@ "@@ <@@ b@@ utt@@ on class@@ =@@ \@@ "@@ b@@ t@@ n b@@ t@@ n@@ -@@ default@@ \@@ " id@@ =@@ \@@ "@@ {0@@ }@@ \@@ "@@ >@@ <@@ /@@ sp@@ an@@ >@@ {@@ 1@@ }@@ <@@ /@@ b@@ utton@@ >@@ ") com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l b@@ utton@@ (java.lang.String id@@ , java.lang.String h@@ ot@@ Un@@ p@@ lug@@ Label@@ );
java.lang.String remov@@ e();
@@@ org.ovirt.engine.core.utils.@@ tim@@ er.@@ On@@ Tim@@ er@@ Method@@ An@@ not@@ ation@@ (org.ovirt.engine.core.bll.@@ d@@ wh@@ .@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t.@@ D@@ W@@ H@@ _@@ H@@ E@@ ART@@ _@@ B@@ E@@ AT@@ _M@@ ET@@ H@@ OD@@ ) public void engin@@ e@@ Is@@ Run@@ ning@@ No@@ t@@ if@@ ication@@ () { try { org.ovirt.engine.core.bll.@@ d@@ wh@@ .@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t.@@ log.@@ d@@ ebug@@ ("@@ F@@ in@@ is@@ h@@ ed H@@ e@@ ar@@ t Be@@ a@@ t - St@@ ar@@ t p@@ e@@ art@@ b@@ e@@ a@@ t - St@@ ar@@ t is not b@@ e@@ a@@ t a@@ t to lo@@ go@@ ing the VM w@@ a@@ t is p@@ e@@ a@@ t a@@ t is p@@ e@@ a@@ t a@@ t to lo@@ a@@ t th@@ a@@ t a@@ t a@@ t a@@ t is p@@ e@@ a@@ t a@@ t to lo@@ a@@ t b@@ e@@ a@@ t c@@ op@@ e@@ ", ex@@ .get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ d@@ wh@@ .@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t.@@ log.@@ d@@ ebug@@ ("@@ F@@ in@@ is@@ h@@ ed updat@@ ing D@@ W@@ H H@@ e@@ ar@@ t B@@ eat@@ : {}@@ ", ex@@ .get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ d@@ wh@@ .@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } }
@java.lang.Override protected void t@@ e@@ a@@ r@@ do@@ wn@@ () { org.ovirt.engine.core.bll.@@ p@@ m.@@ log.@@ info@@ ("@@ A@@ t@@ temp@@ t {}@@ . s@@ le@@ ep@@ Time@@ In@@ Se@@ c = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Server@@ R@@ eb@@ oot@@ Time@@ out@@ ); org.ovirt.engine.core.bll.@@ p@@ m.@@ log.@@ info@@ ("@@ A@@ t@@ temp@@ t@@ ing {}@@ ", s@@ ec@@ on@@ ds@@ , for ser@@ ve@@ r to fin@@ is@@ h b@@ oo@@ t pro@@ cess@@ .@@ "); s@@ le@@ ep@@ Time@@ In@@ Sec@@ ); org.ovirt.engine.core.utils.@@ Th@@ read@@ Utils.@@ s@@ le@@ ep@@ (@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ .@@ to@@ M@@ il@@ lis@@ (s@@ le@@ ep@@ Time@@ In@@ Sec@@ )); if (get@@ Parameters@@ ().is@@ Change@@ Host@@ To@@ M@@ a@@ int@@ en@@ ance@@ On@@ Start@@ ()) { set@@ Status(@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ ); } else { set@@ Status(@@ VDS@@ Status.@@ Non@@ Respon@@ si@@ ve@@ ); } }); }
private void set@@ Session@@ User@@ (@@ org.ovirt.engine.api.model.@@ S@@ ess@@ ion s@@ ession@@ ) { org.ovirt.engine.api.model.@@ Use@@ r us@@ er = get@@ User@@ Resourc@@ e().get@@ User@@ By@@ Name@@ And@@ Domain@@ (s@@ ession@@ .get@@ User@@ ().get@@ User@@ Name(), s@@ ession@@ .get@@ User@@ ().get@@ Domain@@ ().get@@ Name()); if (@@ us@@ er != null@@ ) { s@@ ession@@ .get@@ User@@ ().set@@ Id(@@ user@@ .getId()); s@@ ession@@ .get@@ User@@ ().set@@ H@@ re@@ f@@ (@@ user@@ .get@@ H@@ re@@ f@@ ()); s@@ ession@@ .get@@ User@@ ().get@@ Domain@@ ().set@@ Id(@@ user@@ .get@@ Domain@@ ().get@@ Id()); s@@ ession@@ .get@@ User@@ ().get@@ Domain@@ ().set@@ H@@ re@@ f@@ (@@ user@@ .get@@ Domain@@ ().get@@ H@@ re@@ f@@ ()); } catch (@@ javax.ws.rs.@@ W@@ eb@@ Application@@ Exception ex@@ ) { } }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ devi@@ ce@@ ) { return devi@@ c@@ e.get@@ Address@@ (); }
private void add@@ Plug@@ ged@@ Column@@ () { final org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Check@@ b@@ o@@ x@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ > p@@ lug@@ ged@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Check@@ b@@ o@@ x@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ >() { @java.lang.Override public java.lang.@@ B@@ oolean get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ .@@ class@@ ) { return objec@@ t.@@ is@@ Plug@@ ged@@ (); } @java.lang.Override protected boolean can@@ Edit@@ (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ F@@ e@@ Entity@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ > object@@ ) { return false@@ ; } }; p@@ lug@@ ged@@ Column@@ .@@ ma@@ ke@@ S@@ ort@@ abl@@ e(); get@@ T@@ abl@@ e().@@ add@@ Column@@ (p@@ lug@@ ged@@ Column@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Devic@@ es@@ ListModel@@ T@@ able@@ .@@ const@@ an@@ t@@ s.@@ devi@@ ce@@ Plug@@ ged@@ Alias@@ (), "@@ 7@@ 0@@ p@@ x@@ "); }
@java.lang.Override public void initial@@ ize@@ Handl@@ ers@@ () { super@@ .@@ initial@@ ize@@ Handl@@ ers@@ (); get@@ View@@ ().get@@ H@@ ot@@ Un@@ p@@ lug@@ Column@@ ().add@@ Handler@@ (@@ new org.ovirt.engine.ui.common.widget.@@ C@@ el@@ l@@ Cl@@ ick@@ Handler@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ >() { @java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ <@@ java.lang.@@ V@@ o@@ id@@ >() { @java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ > vm@@ Device@@ ) { get@@ Model@@ ().@@ on@@ H@@ ot@@ Un@@ p@@ lug@@ (vm@@ Device@@ ); } }); }
@java.lang.Override public void on@@ B@@ row@@ ser@@ Event@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Cont@@ ex@@ t cont@@ ext@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ devi@@ ce@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ , com.google.gwt.@@ c@@ el@@ l.@@ client.@@ Value@@ Updat@@ er@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ > value@@ Updat@@ er@@ ) { super@@ .@@ on@@ B@@ row@@ ser@@ Event@@ (@@ cont@@ ext@@ , parent@@ , devi@@ ce@@ , event@@ , value@@ Updat@@ er@@ ); if (!(@@ B@@ row@@ ser@@ Event@@ s.@@ C@@ L@@ IC@@ K@@ .equals(@@ event.@@ get@@ Typ@@ e()@@ ))) { return@@ ; } if (((@@ par@@ ent.@@ get@@ F@@ ir@@ st@@ Ch@@ il@@ d@@ Element@@ ()) == null@@ ) || (!(@@ par@@ ent.@@ get@@ F@@ ir@@ st@@ Ch@@ il@@ d@@ Element@@ ().is@@ Or@@ H@@ as@@ Ch@@ il@@ d@@ (c@@ om@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent.@@ as@@ (@@ event.@@ get@@ Event@@ T@@ arget@@ ())@@ )))) { return@@ ; } for (@@ org.ovirt.engine.ui.common.widget.@@ C@@ el@@ l@@ Cl@@ ick@@ Handler@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ > cl@@ ick@@ Handl@@ er : cl@@ ick@@ Handl@@ ers@@ ) { cl@@ ick@@ Handler.@@ on@@ Cl@@ ick@@ (@@ event@@ , devi@@ ce@@ ); } }
@@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Templ@@ ate(@@ "@@ <@@ b@@ utt@@ on class@@ =@@ \@@ "@@ b@@ t@@ n b@@ t@@ n@@ -@@ default@@ \@@ " id@@ =@@ \@@ "@@ {0@@ }@@ \@@ " dis@@ abl@@ ed@@ >@@ <@@ /@@ sp@@ an@@ >@@ {@@ 1@@ }@@ <@@ /@@ b@@ utton@@ >@@ ") com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l dis@@ abl@@ ed@@ Button@@ (java.lang.String id@@ , java.lang.String h@@ ot@@ Un@@ p@@ lug@@ Label@@ );
@java.lang.Override public java.lang.String toString@@ () { return get@@ To@@ String@@ Buil@@ der.@@ build@@ (); }
public boolean is@@ Be@@ ing@@ Un@@ p@@ lug@@ ged@@ () { return is@@ Be@@ ing@@ Un@@ p@@ lug@@ ged@@ ; }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") private java.util.Collection@@ <@@ T@@ > con@@ ver@@ t@@ Quer@@ i@@ ed@@ Data@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue query@@ ReturnValue@@ ) { return ((@@ java.util.Collection@@ <@@ T@@ >) (@@ query@@ ReturnValu@@ e.get@@ ReturnValu@@ e())); }
private void on@@ Memory@@ H@@ ot@@ Un@@ p@@ lug@@ Confirm@@ ed@@ () { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ es@@ ListModel@@ .set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ null@@ ); final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ es@@ ListModel@@ .get@@ SelectedItem@@ (); if ((@@ vm@@ Device@@ F@@ e@@ Entity == null@@ ) || ((@@ vm@@ Device@@ F@@ e@@ Entity@@ .get@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ Gener@@ al@@ Type.@@ M@@ EM@@ OR@@ Y@@ ))) { return@@ ; } devi@@ c@@ es@@ Be@@ ing@@ H@@ ot@@ Un@@ p@@ lug@@ ged@@ .@@ add(@@ vm@@ Device@@ F@@ e@@ Entity@@ , new org.ovirt.engine.ui.uicommonweb.models.@@ utils.@@ Exp@@ i@@ ring@@ Set@@ .@@ R@@ emo@@ val@@ Action@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ >() { @java.lang.Override public void item@@ Remov@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity item@@ ) { update@@ Item@@ s(); } }); update@@ Item@@ s(); log@@ (@@ ("@@ Memory@@ H@@ ot@@ Un@@ p@@ lug@@ C@@ ommand " + vm@@ Device@@ F@@ e@@ Entity@@ )); }
@java.lang.Override protected org.ovirt.engine.core.common.utils.@@ To@@ String@@ Buil@@ der get@@ To@@ String@@ Builder@@ () { return super@@ .get@@ To@@ String@@ Builder@@ ().@@ append("@@ is@@ Be@@ ing@@ Un@@ p@@ lug@@ ged@@ ", is@@ Be@@ ing@@ Un@@ p@@ lug@@ ged@@ ); }
public void set@@ Be@@ ing@@ Un@@ p@@ lug@@ ged@@ (@@ boolean b@@ e@@ ing@@ Un@@ p@@ lug@@ ged@@ ) { is@@ Be@@ ing@@ Un@@ p@@ lug@@ g@@ ed = b@@ e@@ ing@@ Un@@ p@@ lug@@ ged@@ ; }
@java.lang.Override public java.lang.@@ B@@ oolean get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ Model object@@ ) { return objec@@ t.@@ is@@ Manage@@ d@@ (); }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") @java.lang.Override public void onSuccess@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ ReturnValue return@@ Value@@ ) { set@@ Item@@ s@@ (@@ return@@ Value@@ )); }
private void add@@ Device@@ Type@@ Column@@ () { final org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ > devi@@ ce@@ Type@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ .@@ class@@ ); } }; devi@@ ce@@ Type@@ Column@@ .@@ ma@@ ke@@ S@@ ort@@ abl@@ e(); get@@ T@@ abl@@ e().@@ add@@ Column@@ (@@ devi@@ ce@@ Type@@ Column@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Devic@@ es@@ ListModel@@ T@@ able@@ .@@ const@@ an@@ t@@ s.@@ devi@@ ce@@ Typ@@ e(), "@@ 7@@ 0@@ p@@ x@@ "); }
private void update@@ Item@@ s() { java.util.Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ > item@@ s = org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ es@@ ListModel@@ .get@@ Item@@ s(); for (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity vm@@ Device@@ F@@ e@@ Entity : item@@ s) { vm@@ Device@@ F@@ e@@ Entity@@ .set@@ Be@@ ing@@ Un@@ p@@ lug@@ g@@ ed(@@ devi@@ c@@ es@@ Be@@ ing@@ H@@ ot@@ Un@@ p@@ lug@@ ged@@ .@@ contains(@@ vm@@ Device@@ F@@ e@@ Entity@@ )); } set@@ Items(@@ item@@ s); }
private int to@@ S@@ ort@@ ing@@ In@@ dex@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ C@@ luster vm@@ Device@@ ) { return (vm@@ Devic@@ e == null@@ ) || (!(@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ H@@ ot@@ Un@@ p@@ lug@@ C@@ el@@ l.@@ is@@ H@@ ot@@ Un@@ p@@ lug@@ g@@ able(@@ vm@@ Device@@ ))) ? 0 : 1@@ ; }
@java.lang.Override public java.lang.@@ B@@ oolean get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ w object@@ ) { return object.get@@ Read@@ Only@@ (); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ devi@@ ce@@ ) { return devi@@ c@@ e.get@@ Sp@@ ec@@ Param@@ s().@@ toString@@ (); }
public void on@@ H@@ ot@@ Un@@ p@@ lug@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ es@@ ListModel@@ .get@@ Entity@@ ()) == null@@ ) { return@@ ; } if ((@@ vm@@ Device@@ F@@ e@@ Entity == null@@ ) || ((@@ vm@@ Device@@ F@@ e@@ Entity@@ .get@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ Gener@@ al@@ Type.@@ M@@ EM@@ OR@@ Y@@ )) { return@@ ; } final java.lang.Integ@@ er mem@@ ory@@ Size@@ M@@ b = ((@@ java.lang.Integer@@ ) (vm@@ Device@@ F@@ e@@ Entity@@ .get@@ Sp@@ ec@@ Param@@ s().get@@ ("@@ s@@ ize@@ "@@ ))); if (@@ mem@@ ory@@ Size@@ M@@ b@@ == null@@ ) { return@@ ; } set@@ SelectedItem@@ (@@ vm@@ Device@@ F@@ e@@ Entity@@ ); org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model confi@@ rm@@ ation@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); confi@@ rm@@ ation@@ Model@@ .set@@ Title(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ es@@ ListModel@@ .@@ const@@ an@@ t@@ s.@@ mem@@ ory@@ H@@ ot@@ Un@@ p@@ lug@@ ()); confi@@ rm@@ ation@@ Model@@ .set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ template@@ _@@ fo@@ un@@ d@@ _@@ on@@ _@@ ex@@ port@@ _@@ do@@ m@@ ain@@ ); confi@@ rm@@ ation@@ Model@@ .set@@ Message@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ es@@ ListModel@@ .@@ mess@@ ages.@@ mem@@ ory@@ H@@ ot@@ Un@@ p@@ lug@@ Confirmation@@ (@@ mem@@ ory@@ Size@@ M@@ b@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ es@@ ListModel@@ .get@@ Entity@@ ().get@@ Name()@@ )); confi@@ rm@@ ation@@ Model.get@@ Command@@ s().add(@@ mem@@ ory@@ H@@ ot@@ Un@@ p@@ lug@@ Command@@ ); confi@@ rm@@ ation@@ Model.get@@ Command@@ s().@@ add@@ (c@@ ancel@@ Memory@@ H@@ ot@@ Un@@ p@@ lug@@ Command@@ ); set@@ Confirm@@ W@@ in@@ do@@ w@@ (@@ confi@@ rm@@ ation@@ Model@@ ); }
@java.lang.Override public java.lang.@@ B@@ oolean get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ w object@@ ) { return objec@@ t.@@ is@@ Plug@@ ged@@ (); }
@java.lang.Override public void item@@ Remov@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity item@@ ) { update@@ Item@@ s(); }
private void add@@ Address@@ Column@@ () { final org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ > devi@@ ce@@ Address@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ .@@ const@@ an@@ t@@ s.@@ devi@@ ce@@ Address@@ (); return devi@@ c@@ e.get@@ Address@@ (); } }; devi@@ ce@@ Address@@ Column@@ .@@ ma@@ ke@@ S@@ ort@@ abl@@ e(); get@@ T@@ abl@@ e().@@ add@@ Column@@ (@@ devi@@ ce@@ Address@@ Column@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Devic@@ es@@ ListModel@@ T@@ able@@ .@@ const@@ an@@ t@@ s.@@ devi@@ ce@@ Address@@ (), "@@ 3@@ 9@@ 5@@ p@@ x@@ "); }
private void add@@ Manage@@ d@@ Column@@ () { final org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Check@@ b@@ o@@ x@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ > manage@@ d@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Check@@ b@@ o@@ x@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ >() { @java.lang.Override public java.lang.@@ B@@ oolean get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ .@@ class@@ ) { return objec@@ t.@@ is@@ Manage@@ d@@ (); } @java.lang.Override protected boolean can@@ Edit@@ (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ C@@ olum@@ n object@@ ) { return false@@ ; } }; manage@@ d@@ Column@@ .@@ ma@@ ke@@ S@@ ort@@ abl@@ e(); get@@ T@@ abl@@ e().@@ add@@ Column@@ (@@ manage@@ d@@ Column@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Devic@@ es@@ ListModel@@ T@@ able@@ .@@ const@@ an@@ t@@ s.@@ devi@@ ce@@ Manage@@ d@@ Alias@@ (), "@@ 7@@ 0@@ p@@ x@@ "); }
private void add@@ Sp@@ ec@@ Param@@ s@@ Column@@ () { final org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ > sp@@ ec@@ Param@@ s@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Devic@@ e.@@ Vir@@ t@@ I@@ o@@ S@@ csi@@ Cont@@ ro@@ ll@@ er@@ ()); } }; sp@@ ec@@ Param@@ s@@ Column@@ .@@ ma@@ ke@@ S@@ ort@@ abl@@ e(); get@@ T@@ abl@@ e().@@ add@@ Column@@ (s@@ p@@ ec@@ Param@@ s@@ Column@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Devic@@ es@@ ListModel@@ T@@ able@@ .@@ const@@ an@@ t@@ s.@@ devi@@ ce@@ Sp@@ ec@@ Param@@ s@@ Alias@@ (), "@@ 3@@ 00@@ p@@ x@@ "); }
private void add@@ Read@@ Only@@ Column@@ () { final org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Check@@ b@@ o@@ x@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ > re@@ a@@ do@@ n@@ ly@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Check@@ b@@ o@@ x@@ Column@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ >() { @java.lang.Override public java.lang.@@ B@@ oolean get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ .@@ .@@ .@@ .@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ object@@ ) { return object.get@@ Read@@ Only@@ (); } @java.lang.Override protected boolean can@@ Edit@@ (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ F@@ e@@ Entity@@ Data@@ ) { return false@@ ; } }; re@@ a@@ do@@ n@@ ly@@ Column@@ .@@ ma@@ ke@@ S@@ ort@@ abl@@ e(); get@@ T@@ abl@@ e().@@ add@@ Column@@ (@@ re@@ a@@ do@@ n@@ ly@@ Column@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Devic@@ es@@ ListModel@@ T@@ able@@ .@@ const@@ an@@ t@@ s.@@ devi@@ ce@@ Read@@ Only@@ (), "@@ 7@@ 0@@ p@@ x@@ "); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ VmDevice@@ F@@ e@@ Entity@@ devi@@ ce@@ ) { return devi@@ c@@ e.get@@ Devic@@ e(); }
private void validate@@ Update@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ VM@@ Statu@@ s status@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = create@@ DiskImage@@ (); disk@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ false@@ ); when(@@ disk@@ Dao@@ .get@@ (disk@@ Image@@ Guid@@ )).@@ thenReturn(@@ disk@@ ); command@@ .get@@ Parameters().get@@ Disk@@ Info@@ ().set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ (@@ true@@ ); initial@@ ize@@ Command@@ (c@@ reate@@ Vm@@ (@@ status@@ )); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Success@@ (command@@ ); }
private java.lang.String comp@@ o@@ se@@ Object@@ Id@@ () { return new org.ovirt.engine.core.dal.dbbroker.@@ audit@@ .@@ Event@@ Key@@ Comp@@ o@@ se@@ r@@ (@@ event@@ , log@@ Type@@ ); }
private void comp@@ os@@ e(@@ java.lang.String@@ Buil@@ der buil@@ der@@ , java.lang.String key@@ , java.lang.String value) { if ((@@ buil@@ der.@@ l@@ ength@@ ()) > 0) { buil@@ der.@@ append@@ (@@ key@@ ).@@ append@@ (@@ NAM@@ E_@@ VAL@@ U@@ E_@@ SE@@ P@@ AR@@ AT@@ OR@@ ).@@ append@@ (@@ valu@@ e); } buil@@ der.@@ append@@ (@@ key@@ ).@@ append@@ (@@ NAM@@ E_@@ VAL@@ U@@ E_@@ SE@@ P@@ AR@@ AT@@ OR@@ ).@@ append@@ (@@ valu@@ e); }
private boolean has@@ Host@@ External@@ Status@@ () { return ((get@@ Event@@ ().get@@ Vds@@ Id()) != null@@ ) && ((org.ovirt.engine.core.bll.@@ Add@@ External@@ Event@@ Command.getParameters().get@@ External@@ Status()) != null@@ ); }
@java.lang.Override protected boolean validate(@@ ) { if ((@@ (get@@ Event@@ ()) == null@@ ) || (@@ A@@ udit@@ Lo@@ g@@ n@@ .@@ OV@@ I@@ R@@ T_@@ OR@@ I@@ G@@ I@@ G@@ AL@@ _@@ OV@@ I@@ R@@ T_@@ OR@@ I@@ G@@ I@@ G@@ AL@@ _@@ E@@ V@@ EN@@ T_@@ I@@ L@@ LE@@ G@@ AL@@ _@@ OR@@ I@@ G@@ IN@@ ); } return true@@ ; }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > get@@ Permission@@ Check@@ Su@@ bject@@ s() { java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > per@@ mission@@ List = get@@ Permission@@ List@@ (get@@ Event@@ ()); if (@@ has@@ Host@@ External@@ Status()) { per@@ mission@@ Lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (get@@ Event@@ ().get@@ Vds@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ VDS@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ ED@@ I@@ T_@@ HOST@@ _C@@ ON@@ FI@@ G@@ UR@@ A@@ TI@@ ON@@ )); } if (@@ has@@ StorageDomain@@ External@@ Status()) { per@@ mission@@ Lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (get@@ Event@@ ().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ ED@@ I@@ T_@@ STORAGE_DOMAIN@@ _C@@ ON@@ FI@@ G@@ UR@@ A@@ TI@@ ON@@ )); } return per@@ mission@@ List@@ ; }
private boolean has@@ StorageDomain@@ External@@ Status@@ () { return ((get@@ Event@@ ().get@@ StorageDomain@@ Id()) != null@@ ) && ((org.ovirt.engine.core.bll.@@ Add@@ External@@ Event@@ Command.getParameters().get@@ External@@ Status()) != null@@ ); }
protected void add@@ StorageDomain@@ In@@ Db@@ () { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Dynamic@@ (@@ null@@ , get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ (); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ storageDomain@@ Static@@ Dao@@ .@@ s@@ av@@ e(@@ storage@@ StaticData@@ ); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity(@@ storage@@ StaticData@@ ); org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Dynam@@ ic new@@ Storage@@ Dynam@@ ic = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Dynamic@@ (@@ null@@ , get@@ StorageDomain@@ ().get@@ Id(), null@@ ); get@@ ReturnValu@@ e().set@@ Action@@ Return@@ Value(@@ get@@ StorageDomain@@ ().get@@ Id()); storageDomain@@ Dynamic@@ Dao@@ .@@ s@@ ave@@ (@@ new@@ Storage@@ Dynamic@@ ); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ New@@ Entity@@ (@@ new@@ Storage@@ Dynamic@@ ); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; }); if (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ StorageDomain@@ Typ@@ e().@@ is@@ Data@@ Domain@@ ()) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ StorageDomain@@ Command.@@ create@@ Default@@ Disk@@ Profil@@ e(); } }
private void do@@ Back@@ up@@ Check@@ () { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base al@@ er@@ t = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(); org.ovirt.engine.core.common.businessentities.@@ Engine@@ Back@@ up@@ Lo@@ g l@@ ast@@ Db@@ Back@@ u@@ p = get@@ L@@ ast@@ Back@@ up@@ By@@ S@@ c@@ op@@ e(@@ org.ovirt.engine.core.bll.@@ Engine@@ Back@@ up@@ A@@ w@@ ar@@ en@@ ess@@ Manager.@@ Back@@ up@@ S@@ c@@ op@@ e.@@ D@@ B@@ ); org.ovirt.engine.core.common.businessentities.@@ Engine@@ Back@@ up@@ Lo@@ g l@@ ast@@ Fil@@ es@@ Back@@ u@@ p = get@@ L@@ ast@@ Back@@ up@@ By@@ S@@ c@@ op@@ e(@@ org.ovirt.engine.core.bll.@@ Engine@@ Back@@ up@@ A@@ w@@ ar@@ en@@ ess@@ Manager.@@ Back@@ up@@ S@@ c@@ op@@ e.@@ FI@@ LE@@ S@@ ); if ((@@ l@@ ast@@ Db@@ Back@@ u@@ p == null@@ ) || (@@ l@@ ast@@ Fil@@ es@@ Back@@ u@@ p == null@@ )) { a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ al@@ er@@ t@@ , AuditLogType.@@ EN@@ G@@ IN@@ E_@@ NO@@ _@@ F@@ U@@ L@@ L@@ _@@ B@@ AC@@ K@@ UP@@ ); } else { java.lang.Integ@@ er back@@ up@@ Al@@ er@@ t@@ Per@@ i@@ od@@ In@@ D@@ ay@@ s = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Back@@ up@@ Al@@ er@@ t@@ Per@@ i@@ od@@ In@@ D@@ ay@@ s); java.util.@@ Dat@@ e l@@ ast@@ Db@@ Back@@ up@@ Dat@@ e = l@@ ast@@ Db@@ Back@@ up@@ .get@@ D@@ one@@ A@@ t@@ (); java.util.@@ Dat@@ e l@@ ast@@ Fil@@ es@@ Back@@ up@@ Dat@@ e = l@@ ast@@ Fil@@ es@@ Back@@ up@@ .get@@ D@@ one@@ A@@ t@@ (); java.util.@@ Dat@@ e l@@ ast@@ F@@ ull@@ Back@@ up@@ Dat@@ e = ((@@ l@@ ast@@ Db@@ Back@@ up@@ Dat@@ e.c@@ omp@@ are@@ To@@ (@@ l@@ ast@@ Fil@@ es@@ Back@@ up@@ D@@ ate@@ )) < 0) ? l@@ ast@@ Db@@ Back@@ up@@ Dat@@ e : l@@ ast@@ Fil@@ es@@ Back@@ up@@ D@@ ate@@ ; long d@@ if@@ f@@ In@@ D@@ ay@@ s = ((@@ java.util.@@ C@@ al@@ end@@ ar@@ .getInstance().get@@ Time@@ In@@ M@@ il@@ lis@@ ()) - (@@ l@@ ast@@ F@@ ull@@ Back@@ up@@ Dat@@ e.get@@ Tim@@ e())) / (@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ DA@@ Y@@ S@@ .@@ to@@ M@@ il@@ lis@@ (@@ 1@@ )); if (@@ d@@ if@@ f@@ In@@ D@@ ay@@ s > back@@ up@@ Al@@ er@@ t@@ Per@@ i@@ od@@ In@@ D@@ ay@@ s) { al@@ er@@ t.@@ add@@ Custom@@ Value("@@ D@@ ate@@ ", l@@ ast@@ F@@ ull@@ Back@@ up@@ Dat@@ e.@@ toString@@ ()); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ al@@ er@@ t@@ , AuditLogType.@@ EN@@ G@@ IN@@ E_@@ NO@@ _@@ W@@ AR@@ M@@ _@@ B@@ AC@@ K@@ UP@@ ); } }
private static java.lang.String get@@ Message@@ Or@@ Null@@ (org.ovirt.engine.core.common.@@ AuditLog@@ Type log@@ Type@@ ) { final java.lang.String ke@@ y = log@@ Type.@@ nam@@ e(); try { return org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ res@@ ource@@ B@@ un@@ d@@ l@@ e.get@@ String@@ (@@ key@@ ); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or.@@ log.error@@ ("@@ C@@ oul@@ d not trans@@ l@@ ate@@ d in '{}@@ ' key@@ , org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ .get@@ Resource@@ B@@ un@@ d@@ le@@ Name()); return null@@ ; } }
@java.lang.Override public void s@@ av@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ A@@ udit@@ Lo@@ g event@@ ) { getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ In@@ sert@@ AuditLog@@ ", event.@@ is@@ External@@ () ? get@@ External@@ Event@@ Map@@ per@@ (@@ event@@ ) : get@@ Sql@@ Map@@ per@@ (@@ event@@ )); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base ev@@ ent = org.ovirt.engine.core.dao.@@ i.@@ In@@ j@@ ect@@ or.@@ in@@ j@@ ect@@ Mem@@ b@@ ers@@ (@@ new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(@@ org.ovirt.engine.core.bll.@@ Add@@ External@@ Event@@ Command.getParameters().get@@ Event@@ ())); event.@@ set@@ External@@ (@@ true@@ ); java.lang.String mess@@ age = tr@@ un@@ c@@ ate@@ Message@@ (get@@ Event@@ ().get@@ Message@@ ()); switch (get@@ Event@@ ().get@@ Se@@ ver@@ ity@@ ()) { case N@@ OR@@ M@@ A@@ L : a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ event@@ , AuditLogType.@@ EX@@ TER@@ N@@ AL@@ _@@ E@@ V@@ EN@@ T_@@ N@@ OR@@ M@@ AL@@ , message@@ ); break@@ ; case W@@ AR@@ N@@ IN@@ G : a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ event@@ , AuditLogType.@@ EX@@ TER@@ N@@ AL@@ _@@ E@@ V@@ EN@@ T_@@ W@@ AR@@ N@@ ING@@ , message@@ ); break@@ ; case ER@@ RO@@ R : a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ event@@ , AuditLogType.@@ EX@@ TER@@ N@@ AL@@ _@@ E@@ V@@ EN@@ T_@@ ER@@ R@@ OR@@ , message@@ ); break@@ ; case AL@@ ER@@ T : org.ovirt.engine.core.dal.dbbroker.auditloghandling.@@ Al@@ er@@ t@@ Direct@@ or.@@ al@@ er@@ t@@ (@@ event@@ , AuditLogType.@@ EX@@ TER@@ N@@ AL@@ _@@ AL@@ ER@@ T@@ , a@@ uditLog@@ Direct@@ or@@ , message@@ ); break@@ ; } org.ovirt.engine.core.common.businessentities.@@ A@@ udit@@ Lo@@ g audit@@ Lo@@ g = a@@ uditLog@@ Dao@@ .get@@ By@@ O@@ ri@@ gin@@ And@@ Custom@@ Event@@ Id@@ (get@@ Event@@ ().get@@ O@@ ri@@ gin@@ (), get@@ Event@@ ().get@@ Custom@@ Event@@ Id()); if (@@ audit@@ Lo@@ g != null@@ ) { setAction@@ Return@@ Value(@@ audit@@ Lo@@ g.@@ get@@ AuditLog@@ Id()); org.ovirt.engine.core.bll.@@ Add@@ External@@ Event@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); } if (@@ has@@ Host@@ External@@ Status()) { vds@@ Dynamic@@ Dao@@ .@@ update@@ External@@ Status@@ (get@@ Event@@ ().get@@ Vds@@ Id(), org.ovirt.engine.core.bll.@@ Add@@ External@@ Event@@ Command.getParameters().get@@ External@@ Event@@ Command.getParameters().get@@ External@@ Status@@ ()); } if (@@ has@@ StorageDomain@@ External@@ Status()) { storageDomain@@ Dynamic@@ Dao@@ .@@ update@@ Status@@ (get@@ Event@@ ().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.@@ Add@@ External@@ Event@@ Command.getParameters().get@@ External@@ Status@@ ()); } }
private void a@@ uditLog@@ Fail@@ ed@@ To@@ Conn@@ ect@@ () { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ g@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(); new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ ().@@ log@@ (@@ log@@ g@@ able@@ , AuditLogType.@@ FAILED_@@ T@@ O@@ _C@@ ON@@ N@@ EC@@ T_@@ T@@ O@@ _@@ S@@ C@@ H@@ ED@@ U@@ L@@ ER_@@ P@@ RO@@ X@@ Y@@ ); }
public boolean dis@@ c@@ o@@ ver@@ () { boolean db@@ Update@@ d = false@@ ; java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Dis@@ c@@ o@@ ver@@ y@@ Result@@ > dis@@ c@@ o@@ ver@@ y@@ Result = broker.@@ run@@ Dis@@ c@@ o@@ ver@@ (); if (@@ dis@@ c@@ o@@ ver@@ y@@ Res@@ ult.@@ is@@ P@@ resent@@ ()) { update@@ D@@ B@@ (@@ dis@@ c@@ o@@ ver@@ y@@ Res@@ ult.get@@ ()); org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Dis@@ c@@ o@@ ver@@ y@@ .@@ log.@@ d@@ ebug@@ ("@@ F@@ oun@@ d update@@ d for ex@@ ter@@ n@@ al brok@@ er@@ . db@@ Update@@ d = true@@ ; } else { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ g@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(); new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ ().@@ log@@ (@@ log@@ g@@ able@@ , AuditLogType.@@ FAILED_@@ T@@ O@@ _C@@ ON@@ N@@ EC@@ T_@@ T@@ O@@ _@@ S@@ C@@ H@@ ED@@ U@@ L@@ ER_@@ P@@ RO@@ X@@ Y@@ ); org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Dis@@ c@@ o@@ ver@@ y@@ .@@ log.@@ w@@ ar@@ n@@ ("@@ C@@ oul@@ d return@@ ed em@@ p@@ ty wh@@ e@@ n t@@ al@@ k@@ ing to brok@@ er@@ . Dis@@ abl@@ ing ex@@ ter@@ n@@ al un@@ it@@ s java.util.List<@@ org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ > fail@@ ing@@ Policy@@ Unit@@ s = p@@ olicy@@ Unit@@ Dao@@ .get@@ All@@ ().@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); mar@@ k@@ External@@ P@@ olic@@ i@@ es@@ As@@ Dis@@ abl@@ ed(@@ fail@@ ing@@ Policy@@ Unit@@ s); db@@ Update@@ d = true@@ ; } return db@@ Updat@@ ed@@ ; }
private void h@@ ot@@ Set@@ Memory@@ (@@ int current@@ Memory@@ M@@ b@@ , int new@@ A@@ m@@ ount@@ Of@@ Memory@@ ) { final int min@@ im@@ al@@ H@@ ot@@ Plug@@ Device@@ Size@@ M@@ b = H@@ ot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.@@ HO@@ T@@ P@@ LU@@ G@@ _M@@ EM@@ OR@@ Y_@@ SI@@ Z@@ E_@@ F@@ AC@@ T@@ OR@@ _M@@ B@@ ; final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > mem@@ ory@@ Device@@ s = org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ Device@@ Util@@ s().get@@ Memory@@ Devic@@ es@@ (get@@ Vm@@ Id()); final boolean min@@ im@@ al@@ Memory@@ Device@@ P@@ res@@ ent = mem@@ ory@@ Devic@@ es.@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (@@ ("@@ devi@@ ce@@ ) -@@ > (org.ovirt.engine.core.bll.@@ Pro@@ cess@@ Ovf@@ Update@@ VmCommand.getVm@@ Device@@ Siz@@ e(@@ org.ovirt.engine.core.bll.@@ Pro@@ cess@@ Ovf@@ Update@@ VmCommand.getVm@@ Device@@ Size@@ M@@ b@@ ); final int s@@ ec@@ ond@@ P@@ art@@ Size@@ M@@ b = (@@ new@@ A@@ m@@ ount@@ Of@@ Memory@@ M@@ b - current@@ Memory@@ M@@ b@@ ) - min@@ im@@ al@@ H@@ ot@@ Plug@@ Device@@ Size@@ M@@ b@@ ; if (@@ min@@ im@@ al@@ Memory@@ Device@@ P@@ res@@ ent || (s@@ ec@@ ond@@ P@@ art@@ Size@@ M@@ b == 0@@ )) { h@@ ot@@ Plug@@ Memory@@ Devic@@ e(@@ current@@ Memory@@ M@@ b@@ , new@@ A@@ m@@ ount@@ Of@@ Memory@@ M@@ b@@ ); return@@ ; } h@@ ot@@ Plug@@ Memory@@ Devic@@ e(@@ current@@ Memory@@ M@@ b@@ , (c@@ urrent@@ Memory@@ M@@ b + min@@ im@@ al@@ H@@ ot@@ Plug@@ Device@@ Size@@ M@@ b@@ )); h@@ ot@@ Plug@@ Memory@@ Device@@ ((@@ current@@ Memory@@ M@@ b + min@@ im@@ al@@ H@@ ot@@ Plug@@ Device@@ Size@@ M@@ b@@ ), current@@ Memory@@ ); }
private void h@@ ot@@ Plug@@ Memory@@ Device@@ (@@ int current@@ Memory@@ M@@ b@@ , int new@@ A@@ m@@ ount@@ Of@@ Memory@@ M@@ b@@ ) { org.ovirt.engine.core.common.action.@@ H@@ ot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ H@@ ot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Parameters@@ (@@ new@@ Vm@@ Static@@ , org.ovirt.engine.core.common.action.@@ Plug@@ Action@@ .@@ P@@ LU@@ G@@ , 0@@ , (@@ new@@ A@@ m@@ ount@@ Of@@ Memory@@ M@@ b - current@@ Memory@@ M@@ b@@ )); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base set@@ A@@ m@@ ount@@ Of@@ Memory@@ Result = run@@ Internal@@ Action(VdcActionType.@@ H@@ ot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ , param@@ s, org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); if (!@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().is@@ Host@@ ed@@ Engin@@ e())) { new@@ Vm@@ Static@@ .set@@ Mem@@ Size@@ M@@ b@@ ((@@ set@@ A@@ m@@ ount@@ Of@@ Memory@@ Res@@ ult.get@@ Succeeded@@ () ? new@@ A@@ m@@ ount@@ Of@@ Memory@@ M@@ b : current@@ Memory@@ M@@ b@@ )); } h@@ ot@@ Set@@ Mem@@ log@@ (@@ param@@ s, set@@ A@@ m@@ ount@@ Of@@ Memory@@ Result@@ ); }
private void update@@ Default@@ Network@@ Filter@@ If@@ Re@@ qui@@ red@@ () { if (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Add@@ Vnic@@ Profile@@ Command.get@@ Parameters@@ ().is@@ Use@@ Default@@ Network@@ Filter@@ Id@@ ())) { if (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Add@@ Vnic@@ Profile@@ Command.get@@ Vnic@@ Profil@@ e().@@ is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ ()) { org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Add@@ Vnic@@ Profile@@ Command@@ .set@@ Network@@ Filter@@ Id@@ (@@ null@@ ); } else { final org.ovirt.engine.core.common.businessentities.network.Network@@ Fil@@ t@@ er network@@ Fil@@ t@@ er = org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Network@@ Helper.@@ res@@ ol@@ ve@@ Vnic@@ Profile@@ Default@@ Network@@ Filter@@ (network@@ Filter@@ Dao@@ ); if (network@@ Fil@@ t@@ er != null@@ ) { final org.ovirt.engine.core.compat.Guid network@@ Filter@@ Id = network@@ Filter@@ .getId@@ (); set@@ Network@@ Filter@@ Id(@@ network@@ Filter@@ Id); } } }
@java.lang.Override protected boolean validate(@@ ) { org.ovirt.engine.core.bll.validator.@@ Vnic@@ Profile@@ Validator valid@@ ator = org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Add@@ Vnic@@ Profile@@ Command.@@ create@@ Vnic@@ Profile@@ Validator@@ (); boolean us@@ e@@ Default@@ Network@@ Filter@@ Id = org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Add@@ Vnic@@ Profile@@ Command.get@@ Parameters@@ ().is@@ Use@@ Default@@ Network@@ Filter@@ (); return ((((@@ ((@@ (((@@ validate(@@ validator.@@ v@@ nic@@ Profile@@ Is@@ Set@@ ())) && (@@ validate(@@ validator.@@ network@@ Exist@@ s@@ ()))) && (@@ validate(@@ validator.@@ network@@ Qos@@ Exist@@ s@@ Or@@ Null@@ ()))) && (@@ validate(@@ validator.@@ v@@ nic@@ Profile@@ For@@ VmNetwork@@ Only@@ ()))) && (@@ validate(@@ validator.@@ v@@ nic@@ Profile@@ Name@@ Not@@ Us@@ ed@@ ()))) && (@@ validate(@@ validator.@@ port@@ M@@ i@@ rr@@ or@@ ing@@ Not@@ Set@@ If@@ External@@ Network@@ ()))) && (@@ validator.@@ validate@@ Custom@@ Properties@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Add@@ Vnic@@ Profile@@ Command.get@@ ReturnValue().get@@ Validation@@ Messages@@ ()))) && (@@ validate(@@ validator.@@ p@@ as@@ st@@ h@@ rou@@ g@@ h@@ Profile@@ Cont@@ ain@@ s@@ Supported@@ Properties@@ (@@ us@@ e@@ Default@@ Network@@ Filter@@ Id@@ )))) && (@@ validate(@@ validator.@@ valid@@ Use@@ Default@@ Network@@ Filter@@ F@@ l@@ ag@@ (@@ us@@ e@@ Default@@ Network@@ Filter@@ Id@@ )))) && (@@ validate(@@ validator.@@ valid@@ Network@@ Filter@@ Id@@ ())); }
public boolean is@@ Use@@ Default@@ Network@@ Filter@@ () { return us@@ e@@ Default@@ Network@@ F@@ it@@ er@@ Id@@ ; }
public java.lang.String get@@ CompatibilityVersion@@ () { return c@@ ompatibilityVersion@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.action.VdcAction@@ Type action@@ To@@ Execut@@ e = org.ovirt.engine.core.bll.@@ Run@@ Async@@ Action@@ Command.getParameters().get@@ Action@@ (); org.ovirt.engine.core.common.action.VdcActionParameters@@ Base action@@ Parameters = org.ovirt.engine.core.bll.@@ Run@@ Async@@ Action@@ Command.getParameters().get@@ Action@@ Parameters@@ (); action@@ Parameters@@ .set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ Vdc@@ Action@@ Parameters@@ Bas@@ e.@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); set@@ Parent@@ Command@@ (VdcActionType.@@ Run@@ Async@@ Action@@ ); action@@ Parameter@@ s.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Run@@ Async@@ Action@@ Command.get@@ Parameters@@ ()); org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ execute@@ Async@@ Command(@@ action@@ To@@ Execut@@ e@@ , action@@ Parameters@@ , org.ovirt.engine.core.bll.@@ Run@@ Async@@ Action@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); org.ovirt.engine.core.bll.@@ Run@@ Async@@ Action@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
public boolean is@@ L@@ eg@@ al@@ () { if (@@ us@@ e@@ Time@@ out@@ ) { java.lang.String key@@ For@@ Ch@@ ec@@ k = ("@@ "@@ .equals(@@ tim@@ eo@@ ut@@ Object@@ Id@@ )) ? log@@ Type.@@ toString@@ () : tim@@ eo@@ ut@@ Object@@ Id@@ ; java.lang.String key@@ For@@ Ch@@ ec@@ k = ("@@ "@@ .equals(@@ tim@@ eo@@ ut@@ Object@@ Id@@ )) ? log@@ Type.@@ toString@@ () : tim@@ eo@@ ut@@ Object@@ Id@@ ; java.lang.String key@@ For@@ Check@@ .@@ put@@ If@@ Ab@@ s@@ ent@@ (@@ key@@ For@@ Check@@ , key@@ For@@ Check@@ , end@@ Time@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ I@@ L@@ IS@@ EC@@ ON@@ D@@ S@@ ); return valu@@ e == null@@ ; } return true@@ ; }
private boolean validate@@ Management@@ Network@@ Attachm@@ ent@@ () { final org.ovirt.engine.core.common.businessentities.network.@@ Network manage@@ ment@@ Network@@ ; final org.ovirt.engine.core.compat.Guid manage@@ ment@@ Network@@ Id = org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.getParameters().get@@ Management@@ Network@@ Id@@ (); if (@@ manage@@ ment@@ Network@@ Id == null@@ ) { manage@@ ment@@ Network = get@@ Default@@ Management@@ Network@@ F@@ inder@@ ().@@ fin@@ d@@ Default@@ Management@@ Network@@ (org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ Cluster@@ ().get@@ StoragePool@@ Id()); if (@@ manage@@ ment@@ Network == null@@ ) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DE@@ F@@ A@@ U@@ L@@ T@@ _M@@ AN@@ AG@@ EM@@ EN@@ T_@@ NETWORK_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); return false@@ ; } else { manage@@ ment@@ Network = network@@ Dao@@ .get(@@ manage@@ ment@@ Network@@ Id); if (@@ manage@@ ment@@ Network == null@@ ) { add@@ Validation@@ Message@@ (EngineMessage.@@ NETWORK_@@ NOT_@@ EXIST@@ S@@ ); return false@@ ; } } manage@@ ment@@ Network@@ C@@ luster = create@@ Management@@ Network@@ Cluster@@ (@@ manage@@ ment@@ Network@@ ); final org.ovirt.engine.core.bll.network.@@ c@@ luster.@@ Update@@ Cluster@@ Network@@ Cluster@@ Validator network@@ Cluster@@ Validator = create@@ Management@@ Network@@ Cluster@@ Validator@@ (); return validate(@@ network@@ Cluster@@ Validator.@@ manage@@ ment@@ Network@@ Chang@@ e()); }
private org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command@@ Parameters build@@ C@@ old@@ M@@ er@@ g@@ e@@ Parameters(@@ org.ovirt.engine.core.compat.Guid g@@ e@@ StorageDomain@@ Id) { org.ovirt.engine.core.common.businessentities.@@ DiskImage ch@@ ain@@ In@@ f@@ o sub@@ ch@@ ain@@ In@@ f@@ o = new org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ Info@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ DiskImage@@ ().get@@ Storage@@ Id@@ s().get@@ (0@@ ), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Image@@ Group@@ Id(), b@@ ase@@ Volume@@ , t@@ op@@ Volum@@ e.get@@ Id()); org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ C@@ old@@ M@@ er@@ g@@ e@@ Command@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ DiskImage@@ ().get@@ StoragePool@@ Id(), sub@@ ch@@ ain@@ Info@@ ); parameters.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ Vdc@@ Action@@ Parameters@@ Bas@@ e.@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); parameters.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Action@@ Typ@@ e()); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ Command.get@@ Parameters@@ ()); return parameters@@ ; }
@java.lang.Override public boolean equals(@@ java.lang.Object o@@ ) { if (@@ (@@ this@@ ) == o@@ ) { return true@@ ; } if ((@@ o == null@@ ) || ((get@@ Class@@ ()) != (@@ o@@ .get@@ Class@@ ()))) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ In@@ f@@ o th@@ a@@ t = ((org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ Info@@ ) (@@ o@@ )); return ((((@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id, th@@ a@@ t.@@ storageDomain@@ Id@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ image@@ Group@@ Id, th@@ a@@ t.@@ image@@ Group@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ b@@ ase@@ Image@@ Gener@@ ation@@ , th@@ a@@ t.@@ b@@ ase@@ Image@@ Gener@@ ation@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ b@@ ase@@ Image@@ , th@@ a@@ t.@@ b@@ ase@@ Image@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ t@@ op@@ Image@@ , th@@ a@@ t.@@ t@@ op@@ Image@@ )); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ storageDomain@@ Id, image@@ Group@@ Id, b@@ ase@@ Image@@ Gener@@ ation@@ , b@@ ase@@ Image@@ , t@@ op@@ Image@@ ); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > get@@ Disks@@ List@@ For@@ Storage@@ Al@@ loc@@ ation@@ s() { return org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ Snapshots@@ D@@ um@@ m@@ i@@ es@@ For@@ Storage@@ Al@@ loc@@ ation@@ s(@@ get@@ Source@@ Images@@ ()); }
@java.lang.Override public java.lang.String toString@@ () { return org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ .@@ for@@ In@@ stance@@ (@@ this@@ ).@@ append("@@ storageDomain@@ Id@@ ", storageDomain@@ Id@@ ).@@ append("@@ image@@ Group@@ Id@@ ", image@@ Group@@ Id@@ ).@@ append("@@ b@@ ase@@ Image@@ ", b@@ ase@@ Image@@ ).@@ append("@@ b@@ ase@@ Image@@ ).@@ append("@@ b@@ ase@@ Image@@ ).@@ append("@@ b@@ ase@@ Image@@ Gener@@ ation@@ ", b@@ ase@@ Image@@ Gener@@ ation@@ ).@@ build@@ (); }
private void update@@ VmDevice@@ With@@ Data@@ Return@@ ed@@ From@@ Host@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue@@ ) { if ((@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ()) && ((@@ org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Command.getParameters().get@@ Action@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ Plug@@ Action@@ .@@ P@@ LU@@ G@@ ))) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Retur@@ n vm@@ Info@@ Retur@@ n = ((@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Return@@ ) (@@ vds@@ ReturnValu@@ e.get@@ ReturnValu@@ e())); if ((@@ vm@@ Info@@ Return@@ .get@@ Vm@@ Info@@ ()) != null@@ ) { java.util.Map<java.lang.String, java.lang.Object> vm@@ In@@ f@@ o = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (vm@@ Info@@ Return@@ .get@@ Vm@@ Info@@ ())); for (java.lang.Object o : ((@@ java.lang.Object@@ []@@ ) (vm@@ Info@@ .get(@@ Vds@@ Properties.@@ Devic@@ es@@ )))) { java.util.Map<java.lang.String, java.lang.Object> vds@@ m@@ Devic@@ e = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ o@@ )); if (vm@@ Devic@@ e.get@@ Id@@ ().get@@ Device@@ Id().@@ toString@@ ().@@ e@@ qual@@ s@@ (((@@ java.lang.String@@ ) (@@ vds@@ m@@ Devic@@ e.get@@ (@@ Vds@@ Properties.@@ Device@@ Id@@ )@@ )))) { vm@@ Devic@@ e.set@@ Address@@ (@@ vds@@ m@@ Devic@@ e.get@@ (@@ Vds@@ Properties.@@ Address@@ ).@@ toString@@ ()); vm@@ Devic@@ e.set@@ Alias@@ (@@ org.apache.commons.lang.@@ String@@ Util@@ s@@ .@@ default@@ String@@ (((@@ java.lang.String@@ ) (@@ vds@@ m@@ Devic@@ e.get@@ (@@ Vds@@ Properties.@@ Alias@@ )@@ )@@ ))); } } } }
private void update@@ VmDevice@@ With@@ Data@@ Return@@ ed@@ From@@ Host@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue@@ ) { if ((@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ()) && ((@@ org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Command.getParameters().get@@ Action@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ Plug@@ Action@@ .@@ P@@ LU@@ G@@ ))) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Retur@@ n vm@@ Info@@ Retur@@ n = ((@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Info@@ Return@@ ) (@@ vds@@ ReturnValu@@ e.get@@ ReturnValu@@ e())); if ((@@ vm@@ Info@@ Return@@ .get@@ Vm@@ Info@@ ()) != null@@ ) { java.util.Map<java.lang.String, java.lang.Object> vm@@ In@@ f@@ o = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (vm@@ Info@@ Return@@ .get@@ Vm@@ Info@@ ())); for (java.lang.Object o : ((@@ java.lang.Object@@ []@@ ) (vm@@ Info@@ .get(@@ Vds@@ Properties.@@ Devic@@ es@@ )))) { java.util.Map<java.lang.String, java.lang.Object> vds@@ m@@ Devic@@ e = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ o@@ )); if (vm@@ Devic@@ e.get@@ Id@@ ().get@@ Device@@ Id().@@ toString@@ ().@@ equals(@@ vds@@ m@@ Devic@@ e.get@@ (@@ Vds@@ Properties.@@ Device@@ Id@@ ))) { vm@@ Devic@@ e.set@@ Address@@ (@@ vds@@ m@@ Devic@@ e.get@@ (@@ Vds@@ Properties.@@ Address@@ ).@@ toString@@ ()); vm@@ Devic@@ e.set@@ Alias@@ (@@ org.apache.commons.lang.@@ String@@ Util@@ s@@ .@@ default@@ String@@ (((@@ java.lang.String@@ ) (@@ vds@@ m@@ Devic@@ e.get@@ (@@ Vds@@ Properties.@@ Alias@@ )@@ )@@ ))); } } } }
@java.lang.Override protected boolean validate@@ In@@ put@@ Management@@ Network@@ () { return !@@ (org.ovirt.engine.core.bll.@@ Add@@ Cluster@@ Command.@@ fin@@ d@@ In@@ put@@ Management@@ Network@@ ())) && (@@ validate(@@ network@@ Cluster@@ Validator.@@ network@@ B@@ e@@ long@@ sTo@@ Cluster@@ DataCenter@@ (org.ovirt.engine.core.bll.@@ Add@@ Cluster@@ Command.get@@ Cluster@@ (), manage@@ ment@@ Network@@ ))) && (@@ validate(@@ network@@ Cluster@@ Validator.@@ manage@@ ment@@ Network@@ Re@@ qui@@ red@@ (get@@ Network@@ Name()@@ ))) && (@@ validate(@@ network@@ Cluster@@ Validator.@@ manage@@ ment@@ Network@@ Not@@ External@@ ()))) && (@@ validate(@@ network@@ Cluster@@ Validator.@@ manage@@ ment@@ Network@@ Re@@ qui@@ red@@ ()))); }
protected boolean validate@@ Space@@ Re@@ qui@@ r@@ ement@@ s() { if (is@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disk@@ Exist@@ s@@ For@@ Copy@@ Templat@@ e()) { return true@@ ; } org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator = create@@ StorageDomain@@ Validator@@ (); if (@@ validate(@@ storageDomain@@ Validator.@@ is@@ Domain@@ With@@ in@@ Th@@ resh@@ ol@@ ds@@ ())) { if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Vm@@ Entity@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Entity@@ Type.@@ T@@ EM@@ PL@@ AT@@ E@@ )) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Snapshot@@ s().@@ add@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Snapshot@@ s().@@ add@@ All@@ (disk@@ Image@@ Dao@@ .get@@ All@@ Snapshots@@ For@@ L@@ e@@ af@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Image@@ Id@@ ())); } return validate(@@ storageDomain@@ Validator.@@ has@@ Space@@ For@@ Disk@@ Snapshots@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ())); } return false@@ ; }
protected java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ >> get@@ Vms@@ With@@ VmDevice@@ Info@@ For@@ Disk@@ Id@@ () { if ((@@ c@@ ach@@ ed@@ Vms@@ Device@@ Info@@ ) == null@@ ) { c@@ ach@@ ed@@ Vms@@ Device@@ In@@ f@@ o = vm@@ Dao@@ .get@@ Vms@@ With@@ Plug@@ Info@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Id()); } return c@@ ach@@ ed@@ Vms@@ Device@@ Info@@ ; }
@java.lang.Override protected void init@@ () { c@@ ach@@ ed@@ Param@@ sTo@@ Disk@@ s = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disks@@ Command.getParameters().get@@ Parameters@@ List@@ ().@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ (), ("@@ $@@ p@@ ected p@@ )@@ "); }
private boolean is@@ Templ@@ ate(@@ ) { return !@@ (@@ new org.ovirt.engine.core.bll.validator.@@ Move@@ Or@@ Copy@@ Disk@@ Command@@ Bas@@ e(@@ get@@ Image@@ ().get@@ Vm@@ Entity@@ Typ@@ e()@@ ))); }
protected boolean check@@ Template@@ In@@ Dest@@ StorageDomain@@ () { if ((@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Operation@@ .@@ Move@@ )) && (!(@@ Guid@@ .@@ Empty@@ .@@ e@@ qual@@ s@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Image@@ Template@@ Id@@ ())@@ ))) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage template@@ Image = disk@@ Image@@ Dao@@ .get@@ (@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Image@@ Template@@ Id()); if (!(@@ template@@ Image.get@@ Storage@@ Id@@ s().@@ contains(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ()))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ T@@ EM@@ PL@@ AT@@ E_@@ NOT_@@ F@@ O@@ UN@@ D@@ _@@ ON_@@ DE@@ ST@@ IN@@ A@@ TION_@@ DOMAIN@@ ); } return true@@ ; }
protected boolean is@@ Image@@ Exist@@ () { if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ()) == null@@ ) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ NOT_@@ EXIST@@ ); } return true@@ ; }
protected org.ovirt.engine.core.bll.validator.@@ Multiple@@ Disk@@ Vm@@ Element@@ Validator create@@ Multiple@@ Disk@@ Vm@@ Element@@ Validator@@ () { return new org.ovirt.engine.core.bll.validator.@@ storage.@@ Multiple@@ Disk@@ Vm@@ Element@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ (), disk@@ Vm@@ Element@@ Dao@@ .get@@ All@@ Disk@@ Vm@@ Element@@ sBy@@ Disk@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ ())); }
private java.lang.String get@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Message@@ () { if ((@@ c@@ ach@@ ed@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Message@@ ) == null@@ ) { c@@ ach@@ ed@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Mess@@ age = new org.ovirt.engine.core.bll.@@ Lock@@ Message@@ (org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ IS@@ _@@ B@@ E@@ ING@@ _M@@ I@@ G@@ R@@ AT@@ ED@@ ).@@ with@@ Option@@ al@@ ("@@ Disk@@ Name@@ ", org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ()) != null ? get@@ Disk@@ Alias@@ () : null@@ )).@@ toString@@ (); } return c@@ ach@@ ed@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Message@@ ; }
protected boolean check@@ Operation@@ Is@@ C@@ or@@ r@@ ect@@ () { if ((((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Operation@@ .@@ Move@@ )) && (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Vm@@ Entity@@ Type()) != null@@ )) && (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Vm@@ Entity@@ Typ@@ e().@@ is@@ Template@@ Typ@@ e())) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ IS@@ _NOT_@@ VM_@@ DIS@@ K@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Vm@@ Name %@@ 2@@ $@@ s", "@@ disk@@ Alias@@ es@@ ", org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Disk@@ Alias@@ ())); } return true@@ ; }
protected org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator create@@ Disk@@ Validator@@ () { return new org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ()); }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { return java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ()) != null ? org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Id@@ () : org.ovirt.engine.core.compat.Guid.@@ Empty@@ ).@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ DIS@@ K@@ , get@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Message@@ ())); }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Cons@@ um@@ ption@@ Parameter@@ > get@@ Quota@@ Storage@@ Cons@@ um@@ ption@@ Parameters@@ () { java.util.List<@@ org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Cons@@ um@@ ption@@ Parameter@@ > lis@@ t = new java.util.ArrayList<@@ >(); lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Storage@@ Cons@@ um@@ ption@@ Parameter@@ (get@@ Dest@@ ination@@ Quota@@ Id(), null@@ , Quota@@ Cons@@ um@@ ption@@ Paramet@@ er.@@ Quota@@ Action@@ .@@ CON@@ S@@ U@@ M@@ E@@ , org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id(), (@@ do@@ ubl@@ e) (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Image@@ ().get@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s@@ ())@@ ))); if ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Operation@@ .@@ Move@@ ) == (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ())) { if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Quota@@ Id()) != null@@ ) && (!(@@ Guid@@ .@@ Empty@@ .@@ Empty@@ .@@ Empty@@ .equals(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Quota@@ Id@@ ())@@ ))) { lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ quota@@ .@@ Quota@@ Storage@@ Cons@@ um@@ ption@@ Parameter@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Quota@@ Id(), null@@ , Quota@@ Cons@@ um@@ ption@@ Paramet@@ er.@@ Quota@@ Action@@ .@@ RE@@ LE@@ A@@ SE@@ , org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Source@@ Domain@@ Id(), (@@ do@@ ubl@@ e) (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s@@ ())@@ ))); } } return list@@ ; }
protected boolean set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ () { return validate(@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().set@@ Disk@@ Profile@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Disk@@ Profile@@ Id()); return validate(@@ disk@@ Profile@@ Helper.@@ set@@ And@@ Validate@@ Disk@@ Profil@@ es(@@ java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ()), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ C@@ urrent@@ User@@ ())); }
protected boolean is@@ Image@@ Not@@ Lock@@ ed@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ (); if ((@@ disk@@ Image.get@@ Image@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Status.@@ LO@@ C@@ K@@ ED@@ )) { if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Operation@@ .@@ Move@@ )) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K@@ S_@@ LO@@ C@@ K@@ ED@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ disk@@ Alias@@ es@@ ", disk@@ Image.get@@ Disk@@ Alias@@ ())); } else { return fail@@ Validation@@ (EngineMessage.@@ VM_@@ T@@ EM@@ PL@@ AT@@ E_@@ IM@@ AGE_@@ IS@@ _@@ LO@@ C@@ K@@ ED); } return true@@ ; }
protected boolean validate@@ Dest@@ Storage@@ () { org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ StorageDomain@@ ()); if ((!@@ (@@ validate(@@ validator.@@ is@@ Domain@@ Exist@@ And@@ Acti@@ v@@ e()@@ ))) || (!(@@ validate(@@ valid@@ ator@@ .@@ do@@ m@@ ain@@ Is@@ Valid@@ Dest@@ ination@@ ())@@ ))) { return false@@ ; } boolean m@@ ove@@ Or@@ C@@ op@@ y = ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Operation@@ .@@ Move@@ )) || ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Operation@@ .@@ Copy@@ )); if ((@@ m@@ ove@@ Or@@ C@@ op@@ y && (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().is@@ Sh@@ are@@ abl@@ e())) && ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ StorageType.@@ G@@ LUST@@ ER@@ FS@@ ))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ AN@@ T@@ _M@@ OV@@ E_@@ S@@ H@@ AR@@ E@@ AB@@ L@@ E_@@ DIS@@ K_@@ T@@ O@@ _@@ G@@ LUST@@ ER@@ FS@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ %@@ 1@@ $@@ s %@@ 2@@ $@@ s", "@@ disk@@ Alias@@ ", org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Disk@@ Alias@@ ())); } return true@@ ; }
@java.lang.Override protected void execute@@ Command() { if (is@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disk@@ Exist@@ s@@ For@@ Copy@@ Templat@@ e()) { add@@ Disk@@ Mapp@@ ing@@ (); return@@ ; } org.ovirt.engine.core.common.action.@@ Move@@ Or@@ Copy@@ Image@@ Group@@ Parameters p = pre@@ par@@ e@@ Ch@@ il@@ d@@ Parameters@@ (); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base v@@ dc@@ R@@ et@@ Valu@@ e = run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (get@@ Images@@ Action@@ Typ@@ e(), p@@ ); if (!(@@ v@@ dc@@ R@@ et@@ Valu@@ e.get@@ Succeeded@@ ())) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command@@ .set@@ Succeeded@@ (@@ false@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ ReturnValu@@ e().set@@ F@@ a@@ ult@@ (@@ v@@ dc@@ R@@ et@@ Valu@@ e.get@@ F@@ a@@ ult@@ ()); } else { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); if ((@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Operation@@ .@@ Copy@@ )) && (!(@@ is@@ Templat@@ e()@@ ))) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ add@@ DiskImage@@ With@@ No@@ VmDevice@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Image@@ ()); } }
protected org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e get@@ Template@@ For@@ Image@@ () { if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ()) == null@@ ) { return null@@ ; } java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ > template@@ s = vm@@ Template@@ Dao@@ .get@@ AllFor@@ Image@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Image@@ Id@@ ()).@@ valu@@ es@@ (); return !@@ (@@ templat@@ es.@@ isEmpty@@ ()) ? templat@@ es.@@ it@@ er@@ ator@@ ().@@ ne@@ xt@@ () : null@@ ; }
protected boolean check@@ If@@ N@@ e@@ ed@@ To@@ Be@@ O@@ verrid@@ e() { if ((((@@ is@@ Templat@@ e()) && ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Operation@@ .@@ Copy@@ ))) && (!@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ For@@ ce@@ O@@ verrid@@ e()@@ ))) && ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Storage@@ Id@@ s().@@ contains(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ StorageDomain@@ ().get@@ Id@@ ()))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ IM@@ AGE_@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ S@@ ); } return true@@ ; }
protected boolean validate@@ Source@@ StorageDomain@@ () { org.ovirt.engine.core.compat.Guid source@@ Domain@@ Id = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Source@@ Domain@@ Id@@ (); if ((@@ source@@ Domain@@ Id == null@@ ) || (@@ Guid@@ .@@ Empty@@ .equals(@@ source@@ Domain@@ Id@@ ))) { source@@ Domain@@ Id = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Storage@@ Id@@ s().get@@ (0@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Parameters@@ ().set@@ Source@@ Domain@@ Id(@@ source@@ Domain@@ Id); } org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (@@ storageDomain@@ Dao@@ .get@@ For@@ StoragePool@@ (s@@ ource@@ Domain@@ Id, org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ StoragePool@@ Id@@ ())); return validate(@@ validator.@@ is@@ Domain@@ Exist@@ And@@ Acti@@ v@@ e()); }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > get@@ Permission@@ Check@@ Su@@ bject@@ s() { if ((@@ c@@ ach@@ ed@@ Per@@ m@@ s@@ List@@ ) == null@@ ) { c@@ ach@@ ed@@ Per@@ m@@ s@@ List = new java.util.Array@@ List@@ (); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage im@@ age = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ (); org.ovirt.engine.core.compat.Guid disk@@ Id = (@@ im@@ age == null@@ ) ? org.ovirt.engine.core.compat.Guid.@@ Em@@ p@@ ty : im@@ age.get@@ Id@@ (); c@@ ach@@ ed@@ Per@@ m@@ s@@ Lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (disk@@ Id, org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ CON@@ FI@@ G@@ UR@@ E_@@ DIS@@ K_@@ STOR@@ AG@@ E@@ )); c@@ ach@@ ed@@ Per@@ m@@ s@@ Lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Storage@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ C@@ RE@@ AT@@ E_@@ DIS@@ K@@ )); } return c@@ ach@@ ed@@ Per@@ m@@ s@@ List@@ ; }
protected boolean is@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disk@@ Exist@@ s@@ For@@ Copy@@ Templ@@ ate(@@ ) { if ((@@ is@@ Templat@@ e()) && ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Operation@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Operation@@ .@@ Copy@@ ))) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disk@@ > un@@ re@@ g@@ ist@@ er@@ ed@@ Disk@@ s = un@@ re@@ g@@ ist@@ er@@ ed@@ Disks@@ Dao@@ .get@@ By@@ Disk@@ Id@@ And@@ StorageDomain@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id()); if (!(@@ un@@ re@@ g@@ ist@@ er@@ ed@@ Disk@@ s.@@ isEmpty())) { return true@@ ; } return false@@ ; }
private void pre@@ par@@ e@@ Copy@@ Not@@ Templ@@ ate(@@ org.ovirt.engine.core.common.action.@@ Move@@ Or@@ Copy@@ Image@@ Group@@ Parameters parameters@@ ) { parameters.set@@ Add@@ Image@@ Domain@@ Mapp@@ ing@@ (@@ false@@ ); org.ovirt.engine.core.compat.Guid new@@ Image@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); org.ovirt.engine.core.compat.Guid new@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage im@@ age = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ (); im@@ age.@@ set@@ Id@@ (@@ new@@ Id); im@@ age.@@ set@@ Image@@ Id@@ (@@ new@@ Image@@ Id); im@@ age.@@ set@@ Disk@@ Alias@@ (get@@ Disk@@ Alias@@ ()); im@@ age.@@ set@@ Storage@@ Id@@ s@@ (@@ new java.util.Array@@ List@@ ()); im@@ age.get@@ Storage@@ Id@@ s().@@ add@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id()); im@@ age.@@ set@@ Quota@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Quota@@ Id()); im@@ age.@@ set@@ Disk@@ Profile@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Disk@@ Profile@@ Id()); im@@ age.@@ set@@ Image@@ Status(@@ Image@@ Status.@@ LO@@ C@@ K@@ ED); im@@ age.@@ set@@ Vm@@ Snapshot@@ Id@@ (@@ null@@ ); im@@ age.@@ set@@ Parent@@ Id(@@ Guid@@ .@@ Empty@@ ); im@@ age.@@ set@@ Image@@ Template@@ Id(@@ Guid@@ .@@ Empty@@ ); parameters.set@@ Dest@@ ination@@ Image@@ Id@@ (@@ new@@ Image@@ Id); parameters.set@@ Dest@@ Image@@ Group@@ Id@@ (@@ new@@ Id); }
private void add@@ StorageDomain@@ Map@@ For@@ C@@ op@@ i@@ ed@@ Template@@ Disk@@ () { image@@ StorageDomain@@ Map@@ Dao@@ .@@ s@@ ave@@ (@@ new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ StorageDomain@@ Map@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Image@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ StorageDomain@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Quota@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Image@@ ().get@@ Disk@@ Profile@@ Id@@ ())); }
protected void log@@ () { final javax.@@ trans@@ action.@@ Trans@@ ac@@ tion trans@@ ac@@ tion = org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ s@@ us@@ p@@ end@@ (); try { a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , org.ovirt.engine.core.bll.@@ CommandBase.get@@ AuditLog@@ Type@@ Valu@@ e()); } catch (@@ final java.lang.@@ Run@@ time@@ Exception ex@@ ) { log.error@@ ("@@ E@@ r@@ ro@@ r d@@ ur@@ ing lo@@ g command@@ : {}@@ . Exception {}@@ ", get@@ Class@@ ().get@@ Name(), ex@@ .get@@ Message@@ ()); log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } final@@ l@@ y { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ res@@ um@@ e(@@ trans@@ action@@ ); } }
java.lang.String message@@ () default "@@ ;
protected static org.@@ db@@ unit.@@ data@@ b@@ as@@ e.@@ I@@ Data@@ b@@ ase@@ Conn@@ ec@@ tion get@@ Connection@@ () throw@@ s java.lang.Exception { java.s@@ q@@ l.@@ Conn@@ ec@@ tion c@@ on = org.ovirt.engine.core.dao.@@ Base@@ Dao@@ Test@@ C@@ as@@ e.@@ data@@ Sourc@@ e.get@@ Connection@@ (); org.@@ db@@ unit.@@ data@@ b@@ as@@ e.@@ I@@ Data@@ b@@ ase@@ Conn@@ ec@@ tion conn@@ ec@@ tion = new org.@@ db@@ unit.@@ data@@ b@@ as@@ e.@@ Data@@ b@@ ase@@ Connection@@ (c@@ on@@ ); connection@@ .get@@ Config@@ ().set@@ Property@@ (@@ Data@@ b@@ ase@@ Config.@@ F@@ E@@ AT@@ UR@@ E_@@ AL@@ LO@@ W@@ _@@ EM@@ P@@ TY@@ _@@ FI@@ E@@ L@@ D@@ S@@ , true@@ ); connection@@ .get@@ Config@@ ().set@@ Property@@ (@@ Data@@ b@@ ase@@ Config.@@ P@@ RO@@ P@@ ER@@ TY@@ _@@ D@@ AT@@ A@@ TYPE_@@ F@@ AC@@ T@@ OR@@ Y@@ , org.ovirt.engine.core.dao.@@ Base@@ Dao@@ Test@@ C@@ as@@ e.@@ data@@ Fac@@ t@@ ory@@ ); if (@@ org.ovirt.engine.core.dao.@@ Base@@ Dao@@ Test@@ C@@ as@@ e.@@ ne@@ ed@@ In@@ itial@@ iz@@ ation@@ Sql@@ ) { try (@@ java.s@@ q@@ l.@@ Stat@@ em@@ ent st@@ m@@ t = con@@ .@@ create@@ Stat@@ ement@@ ()) { st@@ m@@ t.@@ execute@@ Updat@@ e(@@ org.ovirt.engine.core.dao.@@ Base@@ Dao@@ Test@@ C@@ as@@ e.@@ init@@ Sql@@ ); } } return connection@@ ; }
public void set@@ C@@ omm@@ ent@@ (java.lang.String value) { c@@ omm@@ ent = value@@ ; }
@java.lang.Override public T map@@ Row@@ (@@ java.s@@ q@@ l.@@ Result@@ Se@@ t r@@ s, int row@@ Num@@ ) throw@@ s java.s@@ q@@ l.@@ S@@ Q@@ L@@ Exception { T enti@@ ty = create@@ Network@@ Entity@@ (); entity.set@@ Id(@@ org.ovirt.engine.core.dao.@@ network.Network@@ Dao@@ Impl.@@ Network@@ Row@@ Map@@ per@@ Base.get@@ Guid@@ Default@@ Empty@@ (@@ r@@ s, "@@ id@@ ")); entity.set@@ Name(@@ rs.get@@ String("@@ name@@ ")); entity.set@@ Description@@ (@@ rs.get@@ String("@@ d@@ escription@@ ")); entity.set@@ C@@ omm@@ ent@@ (@@ rs.get@@ String("@@ f@@ ree@@ _@@ t@@ ext@@ _@@ c@@ omm@@ ent@@ ")); entity.set@@ Type@@ (((@@ java.lang.Integer@@ ) (@@ rs.get@@ Object@@ ("@@ type@@ "@@ )@@ ))); entity.set@@ Add@@ r@@ (@@ rs.get@@ String("@@ add@@ r@@ ")); entity.set@@ Sub@@ net@@ (@@ rs.get@@ String("@@ sub@@ net@@ ")); entity.set@@ G@@ ate@@ w@@ ay@@ (@@ rs.get@@ String("@@ g@@ ate@@ w@@ ay@@ ")); entity.set@@ V@@ lan@@ Id@@ (((@@ java.lang.Integer@@ ) (@@ rs.get@@ Object@@ ("@@ v@@ lan@@ _id@@ "@@ )@@ ))); entity.set@@ St@@ p@@ (@@ rs.get@@ Boolean@@ ("@@ st@@ p@@ ")); entity.set@@ DataCenter@@ Id(@@ org.ovirt.engine.core.dao.@@ network.Network@@ Dao@@ Impl.@@ Network@@ Row@@ Map@@ per@@ Base.get@@ Guid@@ Default@@ Empty@@ (@@ r@@ s, "@@ storage_@@ pool@@ _id@@ ")); entity.set@@ M@@ tu@@ (@@ rs.get@@ Int@@ ("@@ m@@ tu@@ ")); entity.set@@ VmNetwork@@ (@@ rs.get@@ Boolean@@ ("@@ vm@@ _@@ network@@ ")); org.ovirt.engine.core.compat.Guid p@@ rovider@@ Id = org.ovirt.engine.core.dao.@@ network.Network@@ Dao@@ Impl.@@ Network@@ Row@@ Map@@ per@@ Base.get@@ Guid@@ (@@ r@@ s, "@@ p@@ rovider@@ _@@ network@@ _@@ p@@ rovider@@ _id@@ "); if (p@@ rovider@@ Id != null@@ ) { entity.set@@ Provi@@ d@@ ed@@ By@@ (@@ new org.ovirt.engine.core.common.businessentities.network.@@ Provider@@ Network@@ (p@@ rovider@@ Id, rs.get@@ String("@@ p@@ rovider@@ _@@ network@@ _@@ ex@@ ternal@@ _id@@ "@@ ))); } entity.set@@ Qos@@ Id(@@ org.ovirt.engine.core.dao.@@ network.Network@@ Dao@@ Impl.@@ Network@@ Row@@ Map@@ per@@ Base.get@@ Guid@@ (@@ r@@ s, "@@ qos@@ _id@@ ")); entity.set@@ Label@@ (@@ rs.get@@ String("@@ l@@ abel@@ ")); entity.set@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (@@ new org.ovirt.engine.core.dao.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Map@@ per@@ ().@@ par@@ se@@ Name@@ Server@@ s@@ String@@ (@@ rs.get@@ String("@@ name@@ _@@ server@@ s@@ "@@ ))); return entity@@ ; }
@java.lang.Override protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Attachm@@ ent network@@ Attachment@@ ) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e m@@ app@@ er = create@@ Id@@ Parameter@@ Map@@ per@@ (network@@ Attachm@@ ent.@@ get@@ Id@@ ()).addValue("@@ network@@ _id", network@@ Attachm@@ ent.@@ get@@ Network@@ Id@@ ()).addValue("@@ nic@@ _id", network@@ Attachm@@ ent.@@ get@@ Nic@@ Id@@ ()).addValue("@@ c@@ ustom@@ _@@ proper@@ ties@@ ", org.ovirt.engine.core.utils.@@ Ser@@ ial@@ iz@@ ation@@ Fac@@ t@@ ory@@ .get@@ Ser@@ ial@@ iz@@ er@@ ().@@ ser@@ ial@@ iz@@ e(@@ network@@ Attachm@@ ent.@@ get@@ Properties@@ ())); map@@ Ip@@ Configuration@@ (network@@ Attachment@@ , map@@ per@@ ); m@@ app@@ er.@@ addValue("@@ name@@ _@@ server@@ s", new org.ovirt.engine.core.dao.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Map@@ per@@ ().get@@ Name@@ Server@@ s@@ String@@ (network@@ Attachm@@ ent.@@ get@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ())); return map@@ per@@ ; }
@java.lang.Override protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network network@@ ) { return getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ add@@ r@@ ", network@@ .get@@ Add@@ r@@ ()).addValue("@@ d@@ escription@@ ", network@@ .get@@ Description@@ ()).addValue("@@ f@@ ree@@ _@@ t@@ ext@@ _@@ c@@ omm@@ ent@@ ", network@@ .get@@ C@@ omm@@ ent@@ ()).addValue("@@ id@@ ", network@@ .getId@@ ()).addValue("@@ name@@ ", network@@ .getName()@@ ).addValue("@@ sub@@ net@@ ", network@@ .get@@ Sub@@ net@@ ()).addValue("@@ g@@ ate@@ w@@ ay@@ ", network@@ .get@@ G@@ ate@@ w@@ ay@@ ()).addValue("@@ type@@ ", network@@ .get@@ Typ@@ e()@@ ).addValue("@@ v@@ lan@@ _id", network@@ .get@@ V@@ lan@@ Id@@ ()).addValue("@@ st@@ p@@ ", network@@ .get@@ St@@ p@@ ()).addValue("@@ storage_@@ pool@@ _id", network@@ .get@@ DataCenter@@ Id@@ ()).addValue("@@ m@@ tu@@ ", network@@ .get@@ M@@ tu@@ ()).addValue("@@ vm@@ _@@ network@@ ", network.@@ is@@ VmNetwork@@ ()).addValue("@@ p@@ rovider@@ _@@ network@@ _@@ p@@ rovider@@ _id", ((@@ network@@ .get@@ Provi@@ d@@ ed@@ By@@ ()) == null ? null : network@@ .get@@ Provi@@ d@@ ed@@ By@@ ().get@@ Provider@@ Id@@ ())@@ ).addValue("@@ p@@ rovider@@ _@@ network@@ _@@ ex@@ ternal@@ _id", ((@@ network@@ .get@@ Provi@@ d@@ ed@@ By@@ ()) == null ? null : network@@ .get@@ Provi@@ d@@ ed@@ By@@ ().get@@ External@@ Id@@ ())@@ ).addValue("@@ qos@@ _id", network@@ .get@@ Qos@@ Id@@ ()).addValue("@@ l@@ abel@@ ", network@@ .get@@ Label@@ ()); }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Devic@@ es@@ List@@ Retur@@ n list@@ Vm@@ Devic@@ es(@@ java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ >> vm@@ Device@@ List@@ ) { return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Devic@@ es@@ List@@ (vm@@ Device@@ List@@ ); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { vm@@ Devic@@ es@@ List@@ Retur@@ n = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ List@@ Vm@@ Devic@@ es@@ VDS@@ Command.get@@ Broker@@ ().@@ list@@ Vm@@ Devic@@ es(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ List@@ Vm@@ Devic@@ es@@ VDS@@ Command.getParameters().get@@ Vm@@ Id@@ s()); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ List@@ Vm@@ Devic@@ es@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); set@@ Return@@ Value(@@ vm@@ Devic@@ es@@ List@@ Return@@ .get@@ Devic@@ es@@ List@@ ()); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Devic@@ es@@ List@@ Retur@@ n list@@ Vm@@ Devic@@ es(@@ java.util.List<java.lang.String> vm@@ Id@@ s) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Hos@@ t.get@@ VM@@ Devic@@ es@@ ").@@ with@@ Option@@ al@@ Parameter@@ As@@ List@@ ("@@ vm@@ List@@ ", vm@@ Id@@ s@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ).@@ with@@ Respon@@ se@@ Key@@ ("@@ vm@@ Devic@@ es@@ ").@@ with@@ Respon@@ se@@ Type(@@ java.lang.Object@@ []@@ .@@ class@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vm@@ Devic@@ es@@ List@@ Return(@@ respon@@ se@@ ); }
org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Static@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ L@@ e@@ ase@@ ListModel@@ > get@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ Model@@ Provider@@ ();
@java.lang.Override public org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c get@@ Value(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Static@@ ) { return vm@@ Static@@ ; }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ storage.@@ Storage@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Static@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ L@@ e@@ ase@@ ListModel@@ > model@@ Provider@@ ) { return new org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Model@@ B@@ ound@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ storage@@ L@@ e@@ ase@@ Sub@@ Tab@@ Label@@ (), 8@@ , model@@ Provider@@ ); }
void init@@ T@@ able(@@ org.ovirt.engine.core.common.businessentities.@@ StorageDomain storageDomain@@ ) { if (@@ storage@@ Domain == null@@ ) { return@@ ; } get@@ T@@ abl@@ e().@@ en@@ able@@ Column@@ Res@@ iz@@ ing@@ (); get@@ T@@ abl@@ e().@@ en@@ s@@ ure@@ Column@@ Visi@@ bl@@ e(@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ type@@ Column@@ , "@@ ", true@@ , "@@ 3@@ 0@@ p@@ x@@ "); get@@ T@@ abl@@ e().@@ en@@ s@@ ure@@ Column@@ Visi@@ bl@@ e(@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ al@@ ias@@ Column@@ , org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ const@@ an@@ t@@ s.@@ al@@ ias@@ Disk@@ (), true@@ , "@@ 1@@ 2@@ 0@@ p@@ x@@ "); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Stati@@ c vm@@ Static@@ ) { return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Stati@@ c vm@@ Static@@ ) { }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Static@@ ) { return vm@@ Static@@ .get@@ Nam@@ e(); }
void init@@ T@@ able@@ Column@@ s() { get@@ T@@ abl@@ e().@@ en@@ able@@ Column@@ Res@@ iz@@ ing@@ (); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ type@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Static@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Static@@ >@@ (@@ new org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ Vm@@ Type@@ C@@ el@@ l@@ ()) { @java.lang.Override public org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c get@@ Value(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Static@@ ) { return vm@@ Static@@ ; } @java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Stati@@ c vm@@ Static@@ ) { } }; org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ al@@ ias@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Static@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Static@@ ) { return vm@@ Static@@ .get@@ Nam@@ e(); } }; }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Cont@@ ex@@ t cont@@ ext@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der sb@@ , java.lang.String id@@ ) { com.google.gwt.@@ resourc@@ es.@@ client.@@ Image@@ Resourc@@ e im@@ age = (@@ Guid@@ .@@ Empty@@ .equals(@@ vm.get@@ Vm@@ t@@ Guid@@ ())) ? org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ resourc@@ es.@@ vm@@ Image@@ () : org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ resourc@@ es.@@ templat@@ es@@ Image@@ (); sb@@ .@@ append@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Pro@@ to@@ typ@@ e.c@@ re@@ ate(@@ image@@ ).get@@ H@@ T@@ M@@ L@@ ())); }
@java.lang.Override protected void s@@ ync@@ Search@@ () { if ((get@@ Entity@@ ()) == null@@ ) { set@@ Item@@ s@@ (@@ null@@ ); return@@ ; } super@@ .@@ s@@ ync@@ Search@@ (); org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ Domain = get@@ Entity@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Vms@@ With@@ L@@ e@@ ase@@ By@@ Storage@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ storageDomain@@ .getId@@ ()), new org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Set@@ Item@@ s@@ Async@@ Query@@ ()); }
private boolean is@@ Management@@ Network@@ Changed@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Network manage@@ ment@@ Network@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > network@@ sTo@@ Configur@@ e) { java.util.Map<java.lang.String, java.lang.String> nic@@ s@@ On@@ N@@ ic = get@@ Existing@@ Nic@@ s@@ B@@ usiness@@ Entity@@ Map@@ ().get@@ (c@@ reate@@ Or@@ Update@@ Bond@@ ()); if (@@ nic@@ To@@ Configur@@ e != null@@ ) && (@@ m@@ g@@ m@@ t@@ Network@@ Nam@@ e.@@ equals(@@ network@@ .get@@ Network@@ Name()@@ )) { return true@@ ; } for (@@ org.ovirt.engine.core.common.action.@@ Create@@ Or@@ Update@@ B@@ on@@ d create@@ Or@@ Update@@ B@@ on@@ d : org.ovirt.engine.core.bll.network.@@ host.@@ HostSetupNetworks@@ Command.getParameters().get@@ Create@@ Or@@ Update@@ B@@ on@@ ds@@ ()) { org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface bond@@ N@@ ic = get@@ Existing@@ Nic@@ s@@ B@@ usiness@@ Entity@@ Map@@ ().get@@ (c@@ reate@@ Or@@ Update@@ Bond@@ ()); if (@@ bond@@ N@@ ic != null@@ ) && (@@ m@@ g@@ m@@ t@@ Network@@ Nam@@ e.@@ equals(@@ bond@@ N@@ ic == null@@ )) { return true@@ ; } } return false@@ ; }
private org.ovirt.engine.core.common.vdscommands.@@ HostSetupNetworks@@ Vds@@ Command@@ Parameters create@@ SetupNetworks@@ Parameters@@ (@@ int tim@@ eo@@ ut@@ ) { org.ovirt.engine.core.common.@@ network.@@ S@@ wit@@ ch@@ Type cluster@@ S@@ wit@@ ch@@ Type = org.ovirt.engine.core.bll.network.@@ host.@@ HostSetupNetworks@@ Command.get@@ Cluster@@ ().get@@ Re@@ qui@@ red@@ S@@ wit@@ ch@@ Type@@ For@@ Cluster@@ (); org.ovirt.engine.core.common.businessentities.network.@@ Network manage@@ ment@@ Network@@ Of@@ Th@@ is@@ C@@ luster = manage@@ ment@@ Network@@ Util@@ .get@@ Management@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ HostSetupNetworks@@ Command.get@@ Vds@@ ().get@@ Cluster@@ Id()); java.util.List<@@ org.ovirt.engine.core.common.vdscommands.@@ Host@@ Network@@ > network@@ sTo@@ Configur@@ e = c@@ al@@ c@@ ul@@ ate@@ Networks@@ To@@ Configur@@ e(@@ manage@@ ment@@ Network@@ Of@@ Th@@ is@@ Cluster@@ ); boolean manage@@ ment@@ Network@@ Chang@@ ed = is@@ Management@@ Network@@ Chang@@ ed(@@ manage@@ ment@@ Network@@ Of@@ Th@@ is@@ Cluster@@ , network@@ sTo@@ Configur@@ e); final org.ovirt.engine.core.common.vdscommands.@@ HostSetupNetworks@@ Vds@@ Command@@ Parameters host@@ C@@ md@@ Param@@ s = new org.ovirt.engine.core.common.vdscommands.@@ HostSetupNetworks@@ Vds@@ Command@@ Parameters@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ HostSetupNetworks@@ Command.get@@ Vds@@ (), network@@ sTo@@ Configur@@ e); return host@@ C@@ md@@ Param@@ s@@ ; }
private void test@@ Fil@@ l@@ Re@@ port@@ ed@@ Configuration@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network network@@ , org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface nic@@ , org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Network@@ Qo@@ s network@@ Qos@@ ) { nic@@ .set@@ Network@@ Name(@@ network@@ .get@@ Name()); when@@ (@@ int@@ er@@ fac@@ e@@ Dao@@ .get@@ All@@ Interfaces@@ For@@ Vds@@ (@@ e@@ q@@ (@@ host@@ Id@@ )@@ )).@@ thenReturn(@@ java.util.Arrays.as@@ List(@@ b@@ ase@@ Nic@@ , v@@ lan@@ Nic@@ )); when(@@ network@@ Dao@@ .get@@ AllFor@@ Cluster@@ (@@ e@@ q@@ (cluster@@ Id@@ )@@ )).@@ thenReturn(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ network@@ )); org.ovirt.engine.core.common.businessentities.network.Network@@ Attachm@@ ent network@@ Attachm@@ ent = new org.ovirt.engine.core.common.businessentities.network.@@ NetworkAttachment@@ (); network@@ Attachm@@ ent.@@ set@@ Nic@@ Id(@@ b@@ ase@@ Nic@@ .getId()); network@@ Attachm@@ ent.@@ set@@ Nic@@ Name(@@ b@@ ase@@ Nic@@ .get@@ Name()); network@@ Attachm@@ ent.@@ set@@ Network@@ Id(@@ network@@ .getId()); when(@@ e@@ f@@ ec@@ ti@@ ve@@ Host@@ Network@@ Qos@@ .get@@ Qo@@ s(@@ network@@ Attachment@@ , network@@ Attachment@@ )).@@ thenReturn(@@ network@@ Qos@@ ); fil@@ l@@ er.@@ fil@@ l@@ Re@@ port@@ ed@@ Configuration@@ (network@@ Attachment@@ , host@@ Id); ve@@ r@@ if@@ y@@ (@@ fil@@ l@@ er@@ ).@@ create@@ Network@@ In@@ Sync@@ With@@ VdsNetwork@@ Interfac@@ e(@@ network@@ Attachment@@ , nic@@ , vds@@ , cluster@@ ); }
java.lang.String set@@ D@@ n@@ s@@ Configuration@@ Label@@ ();
private void init@@ Valu@@ es@@ () { if ((@@ network@@ Attachment@@ ) == null@@ ) { return@@ ; } boolean new@@ Attachm@@ ent = (network@@ Attachm@@ ent.@@ get@@ Id()) == null@@ ; boolean attach@@ ment@@ Not@@ Re@@ port@@ ed@@ By@@ Th@@ e@@ Engin@@ e = (network@@ Attachm@@ ent.@@ get@@ Re@@ port@@ ed@@ Configuration@@ s()) == null@@ ; boolean s@@ ync@@ ed@@ Network = attach@@ ment@@ Not@@ Re@@ port@@ ed@@ By@@ Th@@ e@@ Engin@@ e || (network@@ Attachm@@ ent.@@ get@@ Re@@ port@@ ed@@ Configuration@@ s().@@ is@@ Network@@ In@@ Sync@@ ()); boolean s@@ ync@@ Request@@ ed@@ By@@ Use@@ r = (!@@ s@@ ync@@ ed@@ Network@@ ) && (@@ java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .equals(@@ get@@ Is@@ To@@ Sync@@ ().getEntity@@ ())); if (@@ new@@ Attachm@@ ent || s@@ ync@@ ed@@ Network@@ ) || s@@ ync@@ Request@@ ed@@ By@@ User@@ ) { s@@ ync@@ With@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Interface@@ Properties@@ Ac@@ cess@@ or.@@ From@@ NetworkAttachment@@ , network@@ Qos@@ , nic@@ )); } else { s@@ ync@@ With@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Interface@@ Properties@@ Ac@@ cess@@ or.@@ From@@ Nic@@ (@@ nic@@ )); } if ((@@ network@@ Attachm@@ ent.@@ get@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ()) == null@@ ) { network@@ Attachm@@ ent.@@ set@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (@@ new org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ()); } this@@ .get@@ D@@ n@@ s@@ Configuration@@ Model@@ ().set@@ Entity(@@ network@@ Attachm@@ ent.@@ get@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ()); }
@java.lang.Override public void edit@@ (@@ T model@@ ) { profil@@ es@@ Editor@@ .@@ edit@@ (model.get@@ Profil@@ es@@ ()); sub@@ net@@ Widget@@ .@@ edit@@ (model.get@@ Sub@@ net@@ Model@@ ()); name@@ Server@@ Widget@@ .@@ edit@@ (model.get@@ D@@ n@@ s@@ Configuration@@ Model().get@@ Name@@ Server@@ Model@@ ListModel@@ ()); }
@java.lang.Override public T f@@ l@@ us@@ h@@ () { profil@@ es@@ Editor@@ .@@ f@@ l@@ us@@ h@@ (); sub@@ net@@ Widget@@ .@@ f@@ l@@ us@@ h@@ (); return get@@ Map@@ per@@ ().@@ f@@ l@@ us@@ h@@ (); }
@java.lang.Override protected void p@@ op@@ ul@@ ate@@ Tab@@ Map@@ () { get@@ Tab@@ Name@@ Mapp@@ ing@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ I@@ P@@ V@@ 4@@ _@@ T@@ AB@@ , this@@ .@@ ip@@ v@@ 4@@ Tab@@ ); get@@ Tab@@ Name@@ Mapp@@ ing@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ I@@ P@@ V@@ 6@@ _@@ T@@ AB@@ , this@@ .@@ ip@@ v@@ 6@@ Tab@@ ); get@@ Tab@@ Name@@ Mapp@@ ing@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ Q@@ O@@ S_@@ T@@ AB@@ , this@@ .@@ qos@@ Tab@@ ); get@@ Tab@@ Name@@ Mapp@@ ing@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ C@@ U@@ ST@@ O@@ M@@ _P@@ RO@@ P@@ ER@@ TI@@ E@@ S_@@ T@@ AB@@ , this@@ .@@ c@@ ustom@@ Properties@@ Tab@@ ); get@@ Tab@@ Name@@ Mapp@@ ing@@ ().@@ put(@@ Tab@@ Nam@@ e.@@ D@@ N@@ S_@@ CON@@ FI@@ G@@ UR@@ A@@ TION_@@ T@@ AB@@ , this@@ .@@ d@@ n@@ s@@ Configuration@@ Tab@@ ); }
public void init@@ () { list@@ en@@ To@@ Set@@ D@@ n@@ s@@ Configuration@@ Check@@ b@@ o@@ x@@ Chang@@ es@@ (); boolean sh@@ oul@@ d@@ Set@@ D@@ n@@ s@@ Configur@@ ation = sh@@ oul@@ d@@ Set@@ D@@ n@@ s@@ Configuration@@ (); set@@ D@@ n@@ s@@ Configuration@@ .set@@ Entity(@@ sh@@ oul@@ d@@ Set@@ D@@ n@@ s@@ Configuration@@ ); java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ d@@ n@@ s@@ config@@ ur@@ ation@@ .@@ Name@@ Server@@ Model@@ > name@@ Server@@ Model@@ s = new java.util.ArrayList<@@ >(); if (@@ sh@@ oul@@ d@@ Set@@ D@@ n@@ s@@ Configuration@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Ser@@ ve@@ r name@@ Ser@@ ve@@ r : get@@ Entity@@ ().get@@ Name@@ Server@@ s()) { name@@ Server@@ Model@@ s.@@ add@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ d@@ n@@ s@@ config@@ ur@@ ation@@ .@@ Name@@ Server@@ Model@@ (@@ name@@ Server@@ )); } name@@ Server@@ Model@@ ListModel@@ .set@@ Items(@@ name@@ Server@@ Model@@ s); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ NetworkAttachment@@ Model object@@ ) { d@@ ri@@ v@@ er.@@ edit@@ (@@ object@@ ); qos@@ Widget@@ .@@ edit@@ (@@ object.get@@ Qos@@ Model@@ ()); en@@ able@@ Dis@@ able@@ By@@ Boot@@ Protocol@@ (@@ object@@ ); object.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ NetworkAttachment@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ NetworkAttachment@@ Model) (s@@ ender@@ )); java.lang.String proper@@ ty@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if ("@@ Boot@@ Protocol@@ s@@ Available@@ "@@ .equals(@@ proper@@ ty@@ Name@@ )) { en@@ able@@ By@@ Boot@@ Protocol@@ (model@@ ); } } }); if (@@ object.get@@ Is@@ To@@ Sync@@ ().get@@ Is@@ Chang@@ abl@@ e()) { is@@ To@@ Sync@@ Info@@ .set@@ Visi@@ bl@@ e@@ (@@ true@@ ); } c@@ ustom@@ Properties@@ Tab@@ .set@@ Visi@@ bl@@ e(@@ object.get@@ Custom@@ Properties@@ Model().get@@ Is@@ Avail@@ abl@@ e()); c@@ ustom@@ Properties@@ Widget@@ .@@ edit@@ (@@ object.get@@ Custom@@ Properties@@ Model@@ ()); c@@ ustom@@ Properties@@ Label@@ .set@@ Enabl@@ ed(@@ object.get@@ Custom@@ Properties@@ Model().get@@ Is@@ Chang@@ abl@@ e()); d@@ n@@ s@@ Configuration@@ Tab@@ .set@@ Visi@@ bl@@ e@@ (@@ true@@ ); d@@ n@@ s@@ Configuration@@ Widget@@ .@@ edit@@ (@@ object.get@@ D@@ n@@ s@@ Configuration@@ Model@@ ()); }
private void list@@ en@@ To@@ Set@@ D@@ n@@ s@@ Configuration@@ Check@@ b@@ o@@ x@@ Chang@@ es@@ () { org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s> entity@@ Changed@@ Event = set@@ D@@ n@@ s@@ Configuration@@ .get@@ Entity@@ Changed@@ Event@@ (); entity@@ Changed@@ Ev@@ ent.@@ cl@@ e@@ ar@@ List@@ en@@ ers@@ (); entity@@ Changed@@ Ev@@ ent.@@ add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { name@@ Server@@ Model@@ ListModel@@ .setIs@@ Change@@ able(@@ set@@ D@@ n@@ s@@ Configuration@@ .get@@ Entity@@ ()); } }); }
public boolean validate(@@ ) { if (!@@ (@@ this@@ .get@@ Set@@ D@@ n@@ s@@ Configuration@@ ().getEntity@@ ())) { set@@ Is@@ Valid@@ (@@ true@@ ); return true@@ ; } boolean is@@ Val@@ id = true@@ ; for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ d@@ n@@ s@@ config@@ ur@@ ation@@ .@@ Name@@ Server@@ Model name@@ Server@@ Model : this@@ .@@ name@@ Server@@ Model@@ ListModel@@ .get@@ Item@@ s()) { if (!(@@ name@@ Server@@ Model.@@ valid@@ at@@ e())) { is@@ Val@@ id = false@@ ; } } set@@ Is@@ Valid@@ (is@@ Valid@@ ); return is@@ Valid@@ ; }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { if ("@@ Is@@ Chang@@ able@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { boolean valu@@ e = get@@ Is@@ Chang@@ abl@@ e(); set@@ D@@ n@@ s@@ Configuration@@ .setIs@@ Change@@ able(@@ valu@@ e); name@@ Server@@ Model@@ ListModel@@ .setIs@@ Change@@ able(@@ valu@@ e); } }
public org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation f@@ l@@ us@@ h@@ () { java.lang.@@ B@@ oolean sh@@ oul@@ d@@ Set@@ D@@ n@@ s@@ Configur@@ ation = this@@ .set@@ D@@ n@@ s@@ Configuration@@ .get@@ Entity@@ (); if (!@@ sh@@ oul@@ d@@ Set@@ D@@ n@@ s@@ Configuration@@ ) { return null@@ ; } org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation d@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation = new org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > name@@ Server@@ s = new java.util.ArrayList<@@ >(); d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .set@@ Name@@ Server@@ s(@@ name@@ Server@@ s); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ d@@ n@@ s@@ config@@ ur@@ ation@@ .@@ Name@@ Server@@ Model name@@ Server@@ Model : this@@ .@@ name@@ Server@@ Model@@ ListModel@@ .get@@ Item@@ s()) { name@@ Server@@ s.add(@@ name@@ Server@@ Model.@@ f@@ l@@ us@@ h@@ ()); } return d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ; }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { init@@ (); }
public org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.Boolean@@ > get@@ Set@@ D@@ n@@ s@@ Configuration@@ () { return s@@ Configuration@@ ; }
public boolean validate(@@ ) { name@@ Server@@ Entity@@ .@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Ip@@ v@@ 4@@ Or@@ Ip@@ v@@ 6@@ Address@@ Validation@@ () }); set@@ Is@@ Valid@@ (@@ name@@ Server@@ Entity@@ .get@@ Is@@ Valid@@ ()); return get@@ Is@@ Valid@@ (); }
public org.ovirt.engine.core.common.businessentities.network.@@ Name@@ Ser@@ ve@@ r f@@ l@@ us@@ h@@ () { return new org.ovirt.engine.core.common.businessentities.network.@@ Name@@ Server@@ (@@ this@@ .@@ name@@ Server@@ Entity@@ .get@@ Entity@@ ()); }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { name@@ Server@@ Model@@ ListModel@@ .setIs@@ Change@@ able(@@ set@@ D@@ n@@ s@@ Configuration@@ .get@@ Entity@@ ()); }
void init@@ T@@ able(@@ org.ovirt.engine.core.common.businessentities.@@ StorageDomain storageDomain@@ ) { if (@@ storage@@ Domain == null@@ ) { return@@ ; } get@@ T@@ abl@@ e().@@ en@@ able@@ Column@@ Res@@ iz@@ ing@@ (); get@@ T@@ abl@@ e().@@ en@@ s@@ ure@@ Column@@ Visi@@ bl@@ e(@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ type@@ Column@@ , org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ const@@ an@@ t@@ s.@@ em@@ pty@@ (), true@@ , "@@ 3@@ 0@@ p@@ x@@ "); get@@ T@@ abl@@ e().@@ en@@ s@@ ure@@ Column@@ Visi@@ bl@@ e(@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ al@@ ias@@ Column@@ , org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ const@@ an@@ t@@ s.@@ al@@ ias@@ Disk@@ (), true@@ , "@@ 1@@ 2@@ 0@@ p@@ x@@ "); }
void init@@ T@@ able@@ Column@@ s() { get@@ T@@ abl@@ e().@@ en@@ able@@ Column@@ Res@@ iz@@ ing@@ (); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ type@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Base@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Base@@ >@@ (@@ new org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ Vm@@ Type@@ C@@ el@@ l@@ ()) { @java.lang.Override public org.ovirt.engine.core.common.businessentities.Vm@@ Base get@@ Value(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Base vm@@ Bas@@ e) { return vm@@ Base@@ ; } @java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ Bas@@ e) { return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ ((@@ vm@@ Base instanceof org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c ? org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ const@@ an@@ t@@ s.@@ vm@@ () : org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ view@@ .@@ view@@ .@@ view@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ const@@ an@@ t@@ s.@@ templat@@ e())); } }; org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ L@@ e@@ ase@@ View@@ .@@ al@@ ias@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Base@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Base vm@@ Bas@@ e) { return vm@@ Base.get@@ Nam@@ e(); } }; }
public org.ovirt.engine.core.bll.ValidationResult validate@@ Us@@ b@@ Devic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ ) { if ((@@ vm.get@@ Us@@ b@@ Policy@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ Policy@@ .@@ DIS@@ AB@@ L@@ ED@@ )) { final java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > us@@ b@@ Cont@@ ro@@ ll@@ er@@ s = get@@ VmDevice@@ Util@@ s().get@@ Us@@ b@@ Cont@@ ro@@ ll@@ ers@@ (vm@@ .getId()); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > un@@ manage@@ d@@ Cont@@ ro@@ ll@@ er@@ s = us@@ b@@ Cont@@ ro@@ ll@@ er@@ s.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > !@@ (@@ d@@ .is@@ Manage@@ d@@ ())@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); if ((@@ un@@ manage@@ d@@ Cont@@ ro@@ ll@@ er@@ s.@@ size()) > 1@@ ) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ US@@ B@@ _@@ UN@@ M@@ AN@@ AG@@ ED_@@ DE@@ V@@ _@@ EX@@ C@@ E@@ ED@@ ED_@@ L@@ IM@@ I@@ T@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Vm@@ Name %@@ 1@@ $@@ s", vm.get@@ Name()@@ ), java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Un@@ manage@@ d@@ Us@@ b@@ Device@@ s %@@ 1@@ $@@ s", un@@ manage@@ d@@ Cont@@ ro@@ ll@@ ers@@ )); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
private void set@@ Vm@@ L@@ e@@ as@@ es@@ Avail@@ ab@@ ility@@ () { T@@ Model model = get@@ Model@@ (); org.ovirt.engine.core.compat.@@ Vers@@ ion comp@@ V@@ er = model.get@@ Selected@@ Cluster@@ ().get@@ CompatibilityVersion@@ (); if ((@@ model.get@@ Custom@@ CompatibilityVersion@@ ().get@@ SelectedItem@@ ()) != null@@ ) { comp@@ V@@ er = model.get@@ Custom@@ CompatibilityVersion@@ ().get@@ SelectedItem@@ (); } vm@@ L@@ e@@ as@@ es@@ Support@@ ed = org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().@@ is@@ Vm@@ L@@ e@@ as@@ es@@ Feat@@ ure@@ Supported@@ (c@@ omp@@ V@@ er@@ ); if (!(@@ vm@@ L@@ e@@ as@@ es@@ Supported@@ )) { model.get@@ L@@ e@@ as@@ e().set@@ Is@@ Change@@ able@@ (@@ false@@ , const@@ an@@ t@@ s.@@ vm@@ L@@ e@@ as@@ es@@ Supported@@ ()); } else { model.get@@ L@@ e@@ as@@ e().set@@ Is@@ Change@@ able(@@ model.get@@ Is@@ H@@ ig@@ h@@ ly@@ Avail@@ abl@@ e().get@@ Entity@@ ()); } }
protected void c@@ ommon@@ In@@ itial@@ iz@@ e() { pri@@ or@@ ity@@ Uti@@ l = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ P@@ ri@@ or@@ ity@@ Util@@ (get@@ Model@@ ()); vi@@ r@@ ti@@ o@@ S@@ csi@@ Uti@@ l = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vir@@ ti@@ o@@ S@@ csi@@ Util@@ (get@@ Model@@ ()); getModel().get@@ Vm@@ Id@@ ().setIs@@ Available@@ (@@ false@@ ); getModel().get@@ L@@ e@@ as@@ e().set@@ Is@@ Change@@ able@@ (@@ false@@ ); getModel().get@@ Is@@ H@@ ig@@ h@@ ly@@ Avail@@ abl@@ e().get@@ Entity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { boolean a = getModel().get@@ Is@@ H@@ ig@@ h@@ ly@@ Avail@@ abl@@ e().get@@ Entity@@ (); getModel().get@@ L@@ e@@ as@@ e().set@@ Is@@ Change@@ able(@@ vm@@ L@@ e@@ as@@ es@@ Supported@@ ) && h@@ a@@ ); if (!@@ ha@@ ) { getModel().get@@ L@@ e@@ as@@ e().set@@ SelectedItem@@ (@@ null@@ ); } }); getModel().get@@ Migr@@ ation@@ P@@ olic@@ i@@ es@@ ().set@@ Items(@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Migr@@ ation@@ P@@ olic@@ i@@ es(@@ org.ovirt.engine.core.compat.@@ Version@@ .get@@ L@@ ast@@ ())); }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { boolean h@@ a = getModel().get@@ Is@@ H@@ ig@@ h@@ ly@@ Avail@@ abl@@ e().get@@ Entity@@ (); getModel().get@@ L@@ e@@ as@@ e().set@@ Is@@ Change@@ able@@ ((@@ vm@@ L@@ e@@ as@@ es@@ Supported@@ ) && h@@ a@@ a@@ )); if (!@@ ha@@ ) { getModel().get@@ L@@ e@@ as@@ e().set@@ SelectedItem@@ (@@ null@@ ); } }
private org.ovirt.engine.core.common.action.@@ Attach@@ Det@@ ach@@ Vm@@ Disk@@ Parameters create@@ Parameters@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent d@@ v@@ e = new org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ Element@@ (disk@@ Id, vm@@ Id); d@@ v@@ e.set@@ Read@@ Only@@ (@@ true@@ ); org.ovirt.engine.core.common.action.@@ Attach@@ Det@@ ach@@ Vm@@ Disk@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Attach@@ Det@@ ach@@ Vm@@ Disk@@ Parameters@@ (); return parameters@@ ; }
@org.junit.Test public void test@@ In@@ acti@@ ve@@ Domain@@ In@@ List@@ () { org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Bas@@ e(); org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base@@ > c@@ m@@ d = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command@@ Test.@@ create@@ Command(@@ param@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s@@ List = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.common.businessentities.@@ StorageDomain temp@@ StorageDomain@@ s = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ (); temp@@ StorageDomain@@ s.set@@ Status(@@ StorageDomain@@ Status.@@ In@@ acti@@ ve@@ ); do@@ m@@ ain@@ s@@ Lis@@ t.add(@@ temp@@ StorageDomain@@ s); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > list@@ Retur@@ ne@@ d = cmd@@ .get@@ M@@ onitor@@ ed@@ Or@@ Lock@@ ed@@ Domain@@ List@@ (@@ do@@ m@@ ain@@ s@@ List@@ ); assert@@ Fal@@ se(@@ list@@ Return@@ ed@@ .@@ isEmpty@@ ()); }
private void test@@ B@@ us@@ y@@ And@@ Active@@ Domain@@ In@@ List@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Statu@@ s status@@ ) { org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Bas@@ e(); org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base@@ > c@@ m@@ d = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command@@ Test.@@ create@@ Command(@@ param@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s@@ List = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.common.businessentities.@@ StorageDomain temp@@ StorageDomain@@ s = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ (); temp@@ StorageDomain@@ s.set@@ Status(@@ status@@ ); do@@ m@@ ain@@ s@@ Lis@@ t.add(@@ temp@@ StorageDomain@@ s); temp@@ StorageDomain@@ s.set@@ Status(@@ StorageDomain@@ Status.@@ Active@@ ); do@@ m@@ ain@@ s@@ Lis@@ t.add(@@ temp@@ StorageDomain@@ s); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > list@@ Retur@@ ne@@ d = cmd@@ .get@@ M@@ onitor@@ ed@@ Or@@ Lock@@ ed@@ Domain@@ List@@ (@@ do@@ m@@ ain@@ s@@ List@@ ); assert@@ E@@ quals(@@ 2@@ , list@@ Return@@ ed@@ .@@ siz@@ e()); }
@org.junit.Test public void test@@ Active@@ Domain@@ In@@ List@@ () { org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Bas@@ e(); org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base@@ > c@@ m@@ d = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command@@ Test.@@ create@@ Command(@@ param@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s@@ List = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.common.businessentities.@@ StorageDomain temp@@ StorageDomain@@ s = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ (); temp@@ StorageDomain@@ s.set@@ Status(@@ StorageDomain@@ Status.@@ Active@@ ); do@@ m@@ ain@@ s@@ Lis@@ t.add(@@ temp@@ StorageDomain@@ s); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > list@@ Retur@@ ne@@ d = cmd@@ .get@@ M@@ onitor@@ ed@@ Or@@ Lock@@ ed@@ Domain@@ List@@ (@@ do@@ m@@ ain@@ s@@ List@@ ); assert@@ Tr@@ ue@@ ((!@@ (@@ list@@ Return@@ ed@@ .@@ isEmpty@@ ()))); }
protected boolean check@@ StorageDomain@@ Status@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ .@@ . status@@ es) { return check@@ StorageDomain@@ Status@@ (@@ new@@ status@@ ); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > get@@ M@@ onitor@@ ed@@ Or@@ Lock@@ ed@@ Domain@@ List@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s@@ List@@ ) { return do@@ m@@ ain@@ s@@ Lis@@ t.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > (@@ Storage@@ Constant@@ s.@@ m@@ onitor@@ ed@@ Domain@@ Status@@ es.@@ contain@@ s@@ (@@ d@@ .get@@ Status@@ ())) || (@@ d@@ .get@@ Status@@ ().is@@ StorageDomain@@ In@@ Pro@@ cess@@ ())@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); }
@org.junit.Test public void test@@ Empty@@ Domain@@ List@@ () { org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Bas@@ e(); org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base@@ > c@@ m@@ d = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command@@ Test.@@ create@@ Command(@@ param@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s@@ List = new java.util.ArrayList<@@ >(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > list@@ Retur@@ ne@@ d = cmd@@ .get@@ M@@ onitor@@ ed@@ Or@@ Lock@@ ed@@ Or@@ Lock@@ (@@ do@@ m@@ ain@@ s@@ List@@ ); assert@@ Tr@@ ue(@@ list@@ Return@@ ed@@ .@@ isEmpty@@ ()); }
private void test@@ B@@ us@@ y@@ Domain@@ In@@ List@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Statu@@ s status@@ ) { org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Bas@@ e(); org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command@@ <@@ org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base@@ > c@@ m@@ d = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command@@ Test.@@ create@@ Command(@@ param@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s@@ List = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.common.businessentities.@@ StorageDomain temp@@ StorageDomain@@ s = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ (); temp@@ StorageDomain@@ s.set@@ Status(@@ status@@ ); do@@ m@@ ain@@ s@@ Lis@@ t.add(@@ temp@@ StorageDomain@@ s); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > list@@ Retur@@ ne@@ d = cmd@@ .get@@ M@@ onitor@@ ed@@ Or@@ Lock@@ ed@@ Domain@@ List@@ (@@ do@@ m@@ ain@@ s@@ List@@ ); assert@@ Tr@@ ue@@ ((!@@ (@@ list@@ Return@@ ed@@ .@@ isEmpty@@ ()))); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > get@@ Disks@@ List@@ () { if ((@@ c@@ ach@@ ed@@ Selected@@ Active@@ Disk@@ s) == null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > im@@ ages@@ And@@ Cinder@@ For@@ V@@ m = get@@ Disk@@ Images@@ For@@ Vm@@ (); if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command.getParameters().get@@ Disks@@ ()) == null@@ ) { c@@ ach@@ ed@@ Selected@@ Active@@ Disk@@ s = im@@ ages@@ And@@ Cinder@@ For@@ Vm@@ ; } else { c@@ ach@@ ed@@ Selected@@ Active@@ Disk@@ s = im@@ ages@@ And@@ Cinder@@ For@@ Vm@@ ; } else { c@@ ach@@ ed@@ Selected@@ Active@@ Disk@@ s = get@@ Disk@@ Images@@ For@@ Vm@@ (); } return c@@ ach@@ ed@@ Selected@@ Active@@ Disks@@ ; }
@org.junit.Test public void test@@ Images@@ Do@@ es@@ Not@@ Exist@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image@@ 1 = org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command@@ Tes@@ t.get@@ New@@ DiskImage@@ (); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image@@ 2 = org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command@@ Tes@@ t.get@@ New@@ DiskImage@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ Images@@ From@@ Param@@ s = new java.util.ArrayList<@@ >(); disk@@ Images@@ From@@ Param@@ s.@@ add@@ All@@ (@@ java.util.Arrays.as@@ List@@ (disk@@ Image@@ 1, disk@@ Image@@ 2@@ )); java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > g@@ ui@@ ds@@ For@@ DiskImage@@ s = disk@@ Images@@ From@@ Param@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ DiskImage@@ :@@ get@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); cmd@@ .get@@ Parameters@@ ().set@@ Disks@@ (@@ g@@ ui@@ ds@@ For@@ DiskImage@@ ); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K@@ S_@@ NOT_@@ EXIST@@ )).@@ when(@@ disk@@ Images@@ Validator@@ ).@@ disk@@ Images@@ Not@@ Exist@@ (@@ g@@ ui@@ ds@@ For@@ DiskImage@@ ); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ cmd@@ , EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K@@ S_@@ NOT_@@ EXIST@@ ); }
protected org.ovirt.engine.core.common.action.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Parameters get@@ Create@@ Snapshot@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > disk@@ Id@@ s = vm.get@@ Disk@@ List@@ ().@@ st@@ re@@ am@@ ().@@ map@@ (@@ Base@@ Disk@@ :@@ get@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); org.ovirt.engine.core.common.action.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Parameters@@ (vm@@ .get@@ Id(), (((@@ vm.get@@ Name()@@ ) + (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.get@@ StorageDomain@@ ().get@@ Name()@@ )) + (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.@@ D@@ R@@ _@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ NAM@@ E_@@ S@@ U@@ F@@ FI@@ X@@ )@@ ), false@@ ); params.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.get@@ Action@@ Typ@@ e()); params.set@@ Snapshot@@ Type(@@ Snapshot@@ Type.@@ RE@@ G@@ U@@ L@@ AR@@ ); params.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.get@@ Parameters@@ ()); params.set@@ Disks@@ (@@ true@@ ); params.set@@ N@@ e@@ ed@@ s@@ Lock@@ ing@@ (@@ false@@ ); params.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); return param@@ s@@ ; }
private void fa@@ st@@ For@@ w@@ ard@@ Disks@@ To@@ Active@@ Snapshot@@ () { if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command.getParameters().get@@ Disks@@ ()) != null@@ ) { get@@ Disk@@ Images@@ For@@ Vm@@ (); } else { get@@ Disk@@ Images@@ For@@ Vm@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > !@@ (get@@ Parameters().get@@ Disks@@ ().@@ contains(@@ d@@ .getId@@ ())@@ )@@ )@@ .@@ for@@ E@@ ach@@ (@@ ( d@@ ) -@@ > org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ image@@ Dao@@ .@@ update@@ Image@@ Vm@@ Snapshot@@ Id@@ (get@@ Image@@ Id(), new@@ Active@@ Snapshot@@ )); } }
private boolean is@@ Sp@@ e@@ c@@ if@@ i@@ ed@@ Disks@@ Exist@@ (@@ java.util.Set@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ > disk@@ s) { if ((@@ disk@@ s == null@@ ) || (disk@@ s.@@ isEmpty())) { return true@@ ; } org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Images@@ Validator disk@@ Images@@ Validator = create@@ DiskImage@@ Validator@@ (@@ new java.util.ArrayList<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ >@@ (@@ validate(@@ disk@@ Images@@ Validator.@@ disk@@ Images@@ Not@@ Exist@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ Tr@@ ust@@ ed@@ String@@ (@@ disk@@ Images@@ Validator.@@ disk@@ Images@@ Not@@ Exist@@ (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Pro@@ to@@ typ@@ e.c@@ re@@ ate(@@ disk@@ Images@@ Not@@ Exist@@ (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Pro@@ to@@ typ@@ e.c@@ re@@ ate(@@ disk@@ Images@@ Not@@ Exist@@ (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Pro@@ cess@@ ed@@ Images@@ .@@ for@@ m.@@ Ev@@ ent.@@ get@@ Image@@ Template@@ Guid@@ (), disk@@ Images@@ Not@@ Exist@@ (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ Abstract@@ Image@@ Pro@@ h@@ i@@ b@@ ition@@ .@@ for@@ m.@@ L@@ ab@@ e@@ l disk@@ Images@@ Not@@ Exist@@ C@@ ommon@@ Run@@ And@@ Det@@ ach@@ in@@ e@@ , disk@@ Images@@ )); return false@@ ; } return true@@ ; }
@org.junit.Test public void valid@@ Provider@@ Typ@@ e() { when(@@ p@@ rovider@@ .get@@ Typ@@ e()@@ ).@@ thenReturn(@@ Provider@@ Type.@@ O@@ P@@ EN@@ ST@@ AC@@ K_@@ NETWOR@@ K@@ ); assert@@ That@@ (@@ valid@@ ator@@ .get@@ p@@ rovider@@ Type@@ Is@@ Op@@ en@@ st@@ ack@@ (), is@@ Valid@@ ()); }
private void log@@ Brick@@ Status@@ Chang@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ , final org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity brick@@ , final org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Statu@@ s f@@ et@@ ched@@ Status@@ ) { org.ovirt.engine.core.bll.@@ gluster.Gluster@@ Sync@@ Job@@ .@@ log.@@ d@@ ebug@@ ("@@ St@@ ar@@ t th@@ a@@ t stat@@ u@@ s of b@@ r@@ ic@@ k '{}@@ ' in volum@@ e '{}@@ ' ch@@ ang@@ ed f@@ ro@@ m '{}@@ ' to '{}@@ ' brick@@ .get@@ Qu@@ al@@ if@@ i@@ ed@@ Name(), volum@@ e.get@@ Name(), brick@@ .get@@ Status@@ (), f@@ et@@ ched@@ Status@@ ); java.util.Map<java.lang.String, java.lang.String> c@@ ustom@@ Value@@ s = new java.util.HashMap@@ <@@ >(); c@@ ustom@@ Values.@@ put(@@ Gluster@@ Constant@@ s.@@ B@@ R@@ IC@@ K_@@ P@@ AT@@ H@@ , brick@@ .get@@ Qu@@ al@@ if@@ i@@ ed@@ Name()); c@@ ustom@@ Values.@@ put(@@ Gluster@@ Constant@@ s.@@ O@@ P@@ TION_@@ OL@@ D@@ _@@ VAL@@ U@@ E@@ , brick@@ .get@@ Status@@ ().@@ toString@@ ()); c@@ ustom@@ Values.@@ put(@@ Gluster@@ Constant@@ s.@@ O@@ P@@ TION_@@ N@@ E@@ W@@ _@@ VAL@@ U@@ E@@ , f@@ et@@ ched@@ Status.@@ toString@@ ()); log@@ Uti@@ l.@@ log@@ A@@ udit@@ Message@@ (@@ volum@@ e.get@@ Cluster@@ Id(), volum@@ e.get@@ Cluster@@ Name(), null@@ , AuditLogType.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ ST@@ AT@@ U@@ S_@@ C@@ H@@ AN@@ G@@ ED@@ , c@@ ustom@@ Valu@@ es@@ ); if (@@ f@@ et@@ ched@@ Statu@@ s == (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Status.@@ DO@@ W@@ N@@ )) { log@@ Uti@@ l.@@ log@@ A@@ udit@@ Message@@ (@@ volum@@ e.get@@ Cluster@@ Id(), volume@@ , null@@ , AuditLogType.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ ST@@ AT@@ U@@ S_@@ DO@@ W@@ N@@ , brick@@ .get@@ Id(), brick@@ .get@@ Qu@@ al@@ if@@ i@@ ed@@ Name()); } else if (@@ f@@ et@@ ched@@ Statu@@ s == (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Status.@@ UP@@ )) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.@@ Al@@ er@@ t@@ sBy@@ Brick@@ Id@@ Type(@@ brick@@ .get@@ Id(), AuditLogType.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ ST@@ AT@@ U@@ S_@@ DO@@ W@@ N@@ ); } }
public void log@@ Server@@ Message@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ VDS server@@ , final org.ovirt.engine.core.common.@@ AuditLog@@ Type log@@ Type@@ ) { log@@ A@@ udit@@ Message@@ ((@@ ser@@ ve@@ r == null ? org.ovirt.engine.core.compat.Guid.@@ Em@@ p@@ ty : server@@ .get@@ Cluster@@ Id@@ ()), null@@ , server@@ , log@@ Type, java.util.Collections.@@ em@@ pty@@ Map@@ ()); }
public void log@@ A@@ udit@@ Message@@ (@@ final org.ovirt.engine.core.compat.Guid cluster@@ Id, final org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ , final org.ovirt.engine.core.common.businessentities.@@ VDS server@@ , final org.ovirt.engine.core.common.@@ AuditLog@@ Type log@@ Type, final org.ovirt.engine.core.compat.Guid brick@@ Id, final java.lang.String brick@@ Path@@ ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able log@@ able = create@@ Event@@ (@@ volum@@ e.get@@ Id(), server@@ , cluster@@ Id, server@@ .get@@ Cluster@@ Name()); log@@ abl@@ e.set@@ Brick@@ Id(@@ brick@@ Id); log@@ abl@@ e.set@@ Brick@@ Id(@@ brick@@ Id); log@@ abl@@ e.set@@ Brick@@ Path@@ (@@ brick@@ Path@@ ); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , log@@ Type@@ ); }
public void log@@ A@@ udit@@ Message@@ (@@ final org.ovirt.engine.core.compat.Guid cluster@@ Id, final java.lang.String cluster@@ Name, final org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ , final org.ovirt.engine.core.common.businessentities.@@ VDS server@@ , final org.ovirt.engine.core.common.@@ AuditLog@@ Type log@@ Type, final java.util.Map<java.lang.String, java.lang.String> c@@ ustom@@ Valu@@ es) { org.ovirt.engine.core.dal.dbbroker.@@ audit@@ .@@ AuditLog@@ able@@ AuditLog@@ able@@ AuditLog@@ able@@ AuditLog@@ able@@ Base log@@ able = create@@ Event@@ (@@ volume@@ , ser@@ ve@@ r@@ , cluster@@ Id, cluster@@ Name, null@@ ); if (c@@ ustom@@ Value@@ s != null@@ ) { for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.String> e@@ n@@ try : c@@ ustom@@ Values.@@ e@@ n@@ try@@ Set@@ ()) { log@@ abl@@ e.@@ add@@ Custom@@ Value(@@ e@@ n@@ try@@ .get@@ Key@@ (), e@@ n@@ try@@ .get@@ Valu@@ e()); } a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , log@@ Type@@ ); }
private java.util.Map@@ <@@ org.ovirt.engine.cor@@ e@@ .@@ E@@ n@@ try@@ <java.lang.String, java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >> get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (org.ovirt.engine.core.compat.Guid lun@@ From@@ V@@ g@@ Lun@@ Id, org.ovirt.engine.core.compat.Guid lun@@ From@@ Db@@ Lun@@ Id, org.ovirt.engine.core.compat.Guid lun@@ From@@ Db@@ Lun@@ Id, org.ovirt.engine.core.compat.Guid lun@@ From@@ Db@@ Lun@@ Id, org.ovirt.engine.core.compat.Guid lun@@ From@@ Db@@ Lun@@ Id, org.ovirt.engine.core.compat.Guid lun@@ From@@ Db@@ Lun@@ Id, org.ovirt.engine.core.compat.Guid lun@@ From@@ Db@@ P@@ v@@ Id) { set@@ Lun@@ s@@ Id@@ s(@@ lun@@ From@@ V@@ g@@ Lun@@ Id, lun@@ From@@ Db@@ Lun@@ Id, lun@@ From@@ V@@ g@@ P@@ v@@ Id, lun@@ From@@ Db@@ P@@ v@@ Id); return get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (); }
private java.util.Map@@ <@@ org.ovirt.engine.cor@@ e@@ .@@ E@@ n@@ try@@ <java.lang.String, java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >> get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ V@@ g@@ In@@ f@@ o = java.util.Collections.@@ sing@@ leton@@ List(@@ lun@@ From@@ V@@ g@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ D@@ b = java.util.Collections.@@ sing@@ leton@@ List(@@ lun@@ From@@ Db@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ D@@ b = java.util.Collections.@@ sing@@ leton@@ List(@@ lun@@ From@@ Db@@ ); return command@@ .get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (@@ lun@@ s@@ From@@ V@@ g@@ Info@@ , lun@@ s@@ From@@ Db@@ ); }
@java.lang.Override protected void execute@@ Command() { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ V@@ g@@ In@@ f@@ o = get@@ Lun@@ s@@ From@@ V@@ g@@ Info@@ (); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ D@@ b = lun@@ Dao@@ .get@@ AllFor@@ Volume@@ Group@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ ()); java.util.Map@@ <@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.@@ Lun@@ Update@@ Handler@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ s@@ s@@ s@@ s@@ s@@ From@@ Db@@ ); lun@@ sTo@@ Update@@ In@@ D@@ b = get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (@@ lun@@ s@@ From@@ V@@ g@@ In@@ f@@ o , lun@@ s@@ From@@ Db@@ ); boolean db@@ Sh@@ oul@@ d@@ Be@@ Update@@ d = lun@@ sTo@@ Update@@ In@@ D@@ b@@ .@@ key@@ Set@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.@@ Lun@@ Update@@ Handler@@ :@@ re@@ qui@@ res@@ Db@@ Update@@ ); if (@@ db@@ Sh@@ oul@@ d@@ Be@@ Updat@@ ed@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { update@@ Lun@@ s@@ In@@ Db@@ (@@ lun@@ sTo@@ Update@@ In@@ Db@@ ); re@@ fresh@@ Lun@@ s@@ Connection@@ s(@@ lun@@ s@@ From@@ V@@ g@@ Info@@ ); cl@@ e@@ an@@ up@@ Lun@@ s@@ From@@ D@@ b@@ (@@ lun@@ s@@ From@@ V@@ g@@ Info@@ , lun@@ s@@ From@@ Db@@ ); return null@@ ; } org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
protected java.util.Map@@ <@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.@@ Lun@@ Update@@ Handler@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >> get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ From@@ V@@ g@@ Info@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ Db@@ ) { java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s> lun@@ s@@ From@@ Db@@ Map = lun@@ s@@ From@@ Db@@ .@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ LUN@@ s@@ :@@ get@@ LUN@@ Id, java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ ())); return lun@@ s@@ From@@ V@@ g@@ Info@@ .@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ group@@ ing@@ By@@ (@@ ( lun@@ From@@ V@@ g@@ Info@@ ) -@@ > lun@@ From@@ D@@ b = lun@@ s@@ From@@ Db@@ Map@@ .get(@@ lun@@ From@@ V@@ g@@ Info@@ .get@@ LUN@@ Id()); if (@@ lun@@ From@@ D@@ b == null@@ ) { return s@@ ave@@ New@@ Lun@@ s@@ ; } boolean lun@@ From@@ Db@@ H@@ as@@ S@@ ame@@ P@@ v@@ Id = java.util.@@ Object@@ s.@@ equals(@@ lun@@ From@@ Db@@ .get@@ P@@ h@@ y@@ s@@ ical@@ Volume@@ Id(), lun@@ From@@ V@@ g@@ Info@@ .get@@ P@@ h@@ y@@ s@@ ical@@ Volume@@ Id()); if (@@ lun@@ From@@ Db@@ H@@ as@@ S@@ ame@@ P@@ v@@ Id) { if ((((@@ lun@@ From@@ Db@@ .get@@ Device@@ Siz@@ e()) != (@@ lun@@ From@@ V@@ g@@ Info@@ .get@@ Device@@ Siz@@ e())) || (!(@@ java.util.@@ Object@@ s.@@ equals(@@ lun@@ From@@ Db@@ .get@@ Dis@@ c@@ ard@@ Max@@ Siz@@ e(), lun@@ From@@ V@@ g@@ Info@@ .get@@ Dis@@ c@@ ard@@ Max@@ Siz@@ e()@@ )))) || (!(@@ java.util.@@ Object@@ s.@@ equals(@@ lun@@ From@@ Db@@ .get@@ Dis@@ c@@ ard@@ Data@@ (), lun@@ From@@ V@@ g@@ Info@@ .get@@ Dis@@ c@@ ard@@ Z@@ er@@ o@@ es@@ Data@@ ())@@ ))) { return update@@ Existing@@ Lun@@ s@@ ; } } return no@@ Op@@ ; }
protected void update@@ Lun@@ s@@ In@@ Db@@ (@@ java.util.Map@@ <@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.@@ Lun@@ Update@@ Handler@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >> lun@@ sTo@@ Update@@ In@@ Db@@ Map@@ ) { lun@@ sTo@@ Update@@ In@@ Db@@ Map@@ .@@ e@@ n@@ try@@ Set@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( e@@ n@@ try@@ ) -@@ > e@@ n@@ try@@ .get@@ Key@@ ().@@ ac@@ ce@@ p@@ t@@ (@@ e@@ n@@ try@@ .get@@ Valu@@ e())); if (@@ lun@@ sTo@@ Update@@ In@@ Db@@ Map@@ .@@ key@@ Set@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.@@ Lun@@ Update@@ Handler@@ :@@ af@@ f@@ ect@@ s@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ )) { java.util.@@ C@@ oll@@ ec@@ tion@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ > lun@@ sTo@@ Update@@ In@@ Db@@ Map@@ .@@ e@@ n@@ try@@ Set@@ (); st@@ re@@ am@@ ().@@ fil@@ t@@ er@@ (@@ ( e@@ n@@ try@@ ) -@@ > e@@ n@@ try@@ .get@@ Key@@ (), af@@ f@@ ect@@ s@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ (@@ java.util.Map@@ .@@ E@@ n@@ try@@ :@@ :@@ :@@ :@@ get@@ Value@@ ).@@ f@@ l@@ at@@ Map@@ (@@ java.util.@@ List@@ :@@ st@@ re@@ am@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); dis@@ c@@ ard@@ Helper.@@ log@@ If@@ Lun@@ s@@ B@@ reak@@ StorageDomain@@ Dis@@ c@@ ard@@ F@@ un@@ c@@ tion@@ al@@ ity@@ (@@ lun@@ sTo@@ Update@@ In@@ Db@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ Id()); } }
@org.junit.Test public void test@@ Get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ Lun@@ Exist@@ s@@ In@@ Db@@ B@@ ut@@ No@@ In@@ V@@ g@@ Info@@ () { org.ovirt.engine.core.compat.Guid lun@@ From@@ Db@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ sTo@@ Remove@@ From@@ D@@ b = get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), lun@@ From@@ Db@@ Id, org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()@@ ).get@@ (command@@ .@@ remove@@ Lun@@ s); assert@@ Lun@@ Id@@ In@@ List(@@ lun@@ sTo@@ Remove@@ From@@ Db@@ , lun@@ From@@ Db@@ Id); }
@java.lang.Override protected void execute@@ Command() { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ V@@ g@@ In@@ f@@ o = get@@ Lun@@ s@@ From@@ V@@ g@@ Info@@ (); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ D@@ b = lun@@ Dao@@ .get@@ AllFor@@ Volume@@ Group@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ ()); java.util.Map@@ <@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.@@ Lun@@ Update@@ Handler@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >> lun@@ sTo@@ Update@@ In@@ D@@ b = get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (@@ lun@@ s@@ From@@ V@@ g@@ Info@@ , lun@@ s@@ From@@ Db@@ ); boolean db@@ Sh@@ oul@@ d@@ Be@@ Update@@ d = lun@@ sTo@@ Update@@ In@@ Db@@ .@@ key@@ Set@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.@@ Update@@ Handler@@ :@@ re@@ qui@@ res@@ Db@@ Update@@ ); if (@@ db@@ Sh@@ oul@@ d@@ Be@@ Updat@@ ed@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { update@@ Lun@@ s@@ In@@ Db@@ (@@ lun@@ sTo@@ Update@@ In@@ Db@@ ); re@@ fresh@@ Lun@@ s@@ Connection@@ s(@@ lun@@ s@@ From@@ V@@ g@@ Info@@ ); return null@@ ; } org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@org.junit.Test public void test@@ Get@@ Lun@@ sTo@@ Remove@@ From@@ Db@@ () { lun@@ From@@ V@@ g.@@ set@@ LUN@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ().@@ toString@@ ()); lun@@ From@@ Db@@ .set@@ LUN@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ().@@ toString@@ ()); org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s d@@ um@@ m@@ y@@ L@@ u@@ n = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); d@@ um@@ m@@ y@@ Lun@@ .set@@ Id@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Enti@@ ties@@ De@@ fin@@ ition@@ s.@@ D@@ U@@ M@@ Y_@@ LUN@@ _@@ ID@@ _P@@ RE@@ FI@@ X@@ ) + (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ().@@ toString@@ ()))); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ V@@ g@@ In@@ f@@ o = java.util.Collections.@@ sing@@ leton@@ List(@@ lun@@ From@@ V@@ g@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ D@@ b = java.util.Arrays.as@@ List(@@ lun@@ From@@ Db@@ , d@@ um@@ m@@ y@@ Lun@@ ); assert@@ Tr@@ ue(@@ is@@ E@@ qual@@ Collection@@ (command@@ .get@@ Lun@@ sTo@@ Remove@@ From@@ Db@@ (@@ lun@@ s@@ From@@ V@@ g@@ Info@@ , lun@@ s@@ From@@ Db@@ ), java.util.Collections.@@ sing@@ leton@@ List(@@ lun@@ From@@ Db@@ ))); }
public org.ovirt.engine.core.bll.ValidationResult all@@ Domains@@ H@@ ave@@ Space@@ For@@ M@@ er@@ g@@ e(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ Info@@ > snapshot@@ s, org.ovirt.engine.core.common.action.VdcAction@@ Type snapshot@@ Action@@ Type@@ ) { final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ Info@@ > storage@@ To@@ Snapshot@@ s = get@@ Domain@@ sTo@@ Snapshots@@ Map@@ (s@@ napshot@@ s); return valid@@ Or@@ F@@ ir@@ st@@ Failur@@ e(@@ "@@ s@@ el@@ ected e@@ n@@ try@@ ) -@@ > { org.ovirt.engine.core.compat.Guid sd@@ Id = e@@ n@@ try@@ .get@@ Key@@ (); org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ In@@ f@@ o sub@@ ch@@ ain = storage@@ To@@ Snapshot@@ s.get@@ (s@@ d@@ Id); return get@@ StorageDomain@@ Validator@@ (@@ e@@ n@@ try@@ ).@@ has@@ Space@@ For@@ M@@ er@@ g@@ e(@@ sub@@ ch@@ ain@@ , snapshot@@ Action@@ Type@@ ); }
public org.ovirt.engine.core.bll.ValidationResult has@@ Space@@ For@@ M@@ er@@ g@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ In@@ f@@ o sub@@ ch@@ ain@@ , org.ovirt.engine.core.common.action.VdcAction@@ Type snapshot@@ Action@@ Type@@ ) { if (@@ storageDomain@@ .get@@ Storage@@ Typ@@ e().@@ is@@ Cinder@@ Domain@@ ()) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } java.lang.@@ L@@ on@@ g ava@@ il@@ able@@ Siz@@ e = storageDomain@@ .get@@ Available@@ Disk@@ Size@@ In@@ By@@ t@@ es@@ (); do@@ ubl@@ e t@@ otal@@ Size@@ For@@ Disk@@ s = get@@ Re@@ qui@@ red@@ Size@@ For@@ M@@ er@@ g@@ e(@@ sub@@ ch@@ ain@@ , snapshot@@ Action@@ Type@@ ); return validate@@ Re@@ qui@@ red@@ Sp@@ ac@@ e(@@ ava@@ il@@ able@@ Size@@ , t@@ otal@@ Size@@ For@@ Disks@@ ); }
private do@@ ubl@@ e get@@ Re@@ qui@@ red@@ Size@@ For@@ M@@ er@@ g@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ In@@ f@@ o sub@@ ch@@ ain@@ , org.ovirt.engine.core.common.action.VdcAction@@ Type snapshot@@ Action@@ Type@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage b@@ ase@@ S@@ napsho@@ t = sub@@ ch@@ ain@@ .get@@ Base@@ Image@@ (); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage t@@ op@@ S@@ napsho@@ t = sub@@ ch@@ ain@@ .get@@ To@@ p@@ Image@@ (); if (s@@ napshot@@ Action@@ Type == (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ )) { return (@@ java.lang.@@ M@@ ath@@ .@@ min@@ (((@@ b@@ ase@@ S@@ napsho@@ t.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ()) + (@@ t@@ op@@ S@@ napsho@@ t.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ())@@ ), b@@ ase@@ S@@ napsho@@ t.get@@ Siz@@ e())) * (@@ org.ovirt.engine.core.c@@ ommon@@ .@@ const@@ an@@ t@@ s.@@ Storage@@ Constant@@ s.@@ Q@@ C@@ O@@ W@@ _@@ OV@@ ER@@ H@@ E@@ AD@@ _@@ F@@ AC@@ T@@ OR@@ ); } org.ovirt.engine.core.common.businessentities.storage.@@ Volume@@ Type volume@@ Type = (s@@ napshot@@ Action@@ Type == (@@ org.ovirt.engine.core.common.action.Vdc@@ ActionType.@@ C@@ old@@ M@@ er@@ g@@ e@@ Snapshot@@ Sing@@ le@@ Disk@@ )) ? b@@ ase@@ S@@ napsho@@ t.get@@ Volume@@ Typ@@ e() : t@@ op@@ S@@ napsho@@ t.get@@ Volume@@ Typ@@ e(); if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (@@ b@@ ase@@ S@@ napsho@@ t.get@@ Parent@@ Id@@ ())) { if ((@@ b@@ ase@@ S@@ napsho@@ t.get@@ Volume@@ Format@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Volume@@ For@@ ma@@ t.@@ R@@ A@@ W@@ )) { if (@@ volume@@ Type == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Volume@@ Type.@@ Pre@@ al@@ loc@@ ated@@ )) { return 0@@ ; } } return java.lang.@@ M@@ ath@@ .@@ min@@ (((@@ t@@ op@@ S@@ napsho@@ t.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ()) / (@@ org.ovirt.engine.core.c@@ ommon@@ .@@ const@@ an@@ t@@ s.@@ Storage@@ Constant@@ s.@@ Q@@ C@@ O@@ W@@ _@@ OV@@ ER@@ H@@ E@@ AD@@ _@@ F@@ AC@@ T@@ OR@@ )@@ ), ((@@ b@@ ase@@ S@@ napsho@@ t.get@@ Siz@@ e()) - (@@ b@@ ase@@ S@@ napsho@@ t.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ()))); } return java.lang.@@ M@@ ath@@ .@@ min@@ ((((@@ t@@ op@@ S@@ napsho@@ t.get@@ Siz@@ e()) * (@@ org.ovirt.engine.core.c@@ ommon@@ .@@ const@@ an@@ t@@ s.@@ Storage@@ Constant@@ s.@@ Storage@@ Constant@@ s.@@ Storage@@ Constant@@ s.@@ Q@@ C@@ O@@ W@@ _@@ OV@@ ER@@ H@@ E@@ AD@@ _@@ F@@ AC@@ T@@ OR@@ )) - (@@ b@@ ase@@ S@@ napsho@@ t.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ())@@ ), t@@ es@@ ()); }
private java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ Info@@ > get@@ Domain@@ sTo@@ Snapshots@@ Map@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Sub@@ ch@@ ain@@ Info@@ > snapshot@@ s) { return snapshot@@ s.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ Sub@@ ch@@ ain@@ Info@@ :@@ :@@ get@@ StorageDomain@@ Id, java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ ())); }
protected javax.ws.rs.@@ core.@@ Respon@@ se do@@ Action@@ (@@ final org.ovirt.engine.core.common.action.VdcAction@@ Type task@@ , final org.ovirt.engine.core.common.action.VdcActionParameters@@ Base param@@ s, final org.ovirt.engine.api.model.@@ Ac@@ tion action@@ , org.ovirt.engine.api.restapi.resource.@@ Abstract@@ Backend@@ Resourc@@ e.@@ P@@ oll@@ ing@@ Type p@@ oll@@ ing@@ Type@@ ) { a@@ w@@ a@@ it@@ G@@ r@@ ac@@ e(@@ action@@ ); try { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base action@@ Result = do@@ Action@@ (@@ task@@ , param@@ s); if ((@@ action@@ Res@@ ult.get@@ Job@@ Id()) != null@@ ) { set@@ Job@@ Link@@ (@@ action@@ , action@@ Result@@ ); } if (@@ action@@ Res@@ ult.get@@ H@@ as@@ AsyncTask@@ s()) { if (@@ exp@@ ect@@ B@@ lock@@ ing@@ (@@ action@@ )) { org.ovirt.engine.api.model.@@ Cre@@ ation@@ Statu@@ s stat@@ u@@ s = a@@ w@@ a@@ it@@ Comp@@ let@@ ion@@ (@@ action@@ Result@@ , p@@ oll@@ ing@@ Type@@ ); return action@@ Status(@@ status@@ , action@@ , add@@ Link@@ s@@ (@@ new@@ Model@@ (@@ id@@ ))); } else { return action@@ Success@@ (@@ action@@ Success@@ (@@ action@@ , add@@ Link@@ s@@ (@@ id@@ ))); } } catch (@@ java.lang.Exception e) { return handl@@ e@@ Error@@ (@@ e@@ , action@@ ); } }
private void cancel@@ () { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model w@@ in@@ do@@ w@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model@@ > current@@ Model@@ s = w@@ in@@ do@@ w@@ Model.get@@ C@@ urrent@@ Pro@@ x@@ i@@ es@@ (); java.util.Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model@@ > item@@ s = current@@ Model@@ s.get@@ Item@@ s(); item@@ s.@@ remove@@ (@@ this@@ ); current@@ Model@@ s.set@@ Item@@ s(@@ null@@ ); current@@ Model@@ s.set@@ Item@@ s(@@ item@@ s); }
private void on@@ O@@ k@@ () { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model w@@ in@@ do@@ w@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model@@ > current@@ Model@@ s = w@@ in@@ do@@ w@@ Model.get@@ C@@ urrent@@ Pro@@ x@@ i@@ es@@ (); org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model selected@@ Model = w@@ in@@ do@@ w@@ Model.get@@ Available@@ Pro@@ x@@ i@@ es@@ ().get@@ SelectedItem@@ (); set@@ Entity@@ (s@@ elected@@ Model.get@@ Entity@@ ()); java.util.Collection@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model@@ > item@@ s = current@@ Model@@ s.get@@ Item@@ s(); current@@ Model@@ s.set@@ Item@@ s@@ (@@ null@@ ); current@@ Model@@ s.set@@ Items(@@ item@@ s); }
public boolean check@@ Domain@@ Met@@ ad@@ ata@@ Devic@@ es(@@ org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able@@ , org.ovirt.engine.core.common.businessentities.@@ StorageDomain do@@ m@@ ain@@ ) { if ((@@ (@@ do@@ m@@ ain@@ .get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()) == null@@ ) || (@@ do@@ m@@ ain@@ .get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()) == null@@ )) { a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , AuditLogType.@@ FAILED_@@ D@@ ET@@ ER@@ M@@ IN@@ E_@@ STORAGE_DOMAIN@@ _M@@ ET@@ AD@@ AT@@ A@@ _@@ DE@@ V@@ IC@@ E@@ S@@ ); return false@@ ; } return true@@ ; }
public void fil@@ l@@ Met@@ ad@@ ata@@ Devic@@ es@@ Info@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ Static@@ , org.ovirt.engine.core.compat.Guid vds@@ Id) { try { @@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c do@@ m@@ ain@@ From@@ I@@ r@@ s = ((@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ , org.ovirt.engine.core.compat.Guid@@ >) (@@ res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ Info@@ , new org.ovirt.engine.core.common.vdscommands.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ Info@@ VDSCommand@@ Parameters(@@ vds@@ Id, storageDomain@@ Static@@ .getId@@ ())@@ ).get@@ ReturnValu@@ e()@@ )@@ ).get@@ F@@ ir@@ st@@ (); storageDomain@@ Static@@ .set@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Device@@ (@@ do@@ m@@ ain@@ From@@ I@@ rs.get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()); storageDomain@@ Static@@ .set@@ V@@ g@@ Met@@ ad@@ ata@@ Device@@ (@@ do@@ m@@ ain@@ From@@ I@@ rs.get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()); } catch (@@ java.lang.Exception e) { storageDomain@@ Static@@ .set@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Device@@ (@@ null@@ ); storageDomain@@ Static@@ .set@@ V@@ g@@ Met@@ ad@@ ata@@ Device@@ (@@ null@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ B@@ lock@@ StorageDomain@@ Helper.@@ log.@@ info@@ ("@@ Fail@@ ed to g@@ e@@ t the do@@ ma@@ in info@@ , ign@@ or@@ ing } }
private void validate@@ R@@ et@@ ri@@ ev@@ ed@@ Met@@ ad@@ ata@@ Devic@@ es@@ () { if (!(@@ is@@ Valid@@ ())) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ ()))) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ Gener@@ al@@ Exception@@ , d@@ et@@ er@@ min@@ e the do@@ ma@@ in m@@ et@@ ad@@ at@@ ad@@ at@@ a devi@@ ce@@ s } }
private void re@@ fresh@@ Met@@ ad@@ ata@@ Devic@@ es@@ Info@@ () { java.lang.String old@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e(); java.lang.String old@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e(); bl@@ ock@@ StorageDomain@@ Helper.@@ fil@@ l@@ Met@@ ad@@ ata@@ Devic@@ es@@ Info@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.getParameters().get@@ Vds@@ Id()); if ((!@@ (@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ V@@ g@@ Met@@ ad@@ ata@@ Device@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()@@ ))) || (!(@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Device@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()@@ )))) { storageDomain@@ Static@@ Dao@@ .@@ updat@@ e(@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); } bl@@ ock@@ StorageDomain@@ Helper.@@ check@@ Domain@@ Met@@ ad@@ ata@@ Devic@@ es@@ (@@ this@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ()); }
@java.lang.Override protected void execute@@ Command() { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ V@@ g@@ In@@ f@@ o = get@@ Lun@@ s@@ From@@ V@@ g@@ Info@@ (); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ D@@ b = lun@@ Dao@@ .get@@ AllFor@@ Volume@@ Group@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ ()); java.util.Map@@ <@@ java.util.@@ f@@ un@@ c@@ tion@@ .@@ Cons@@ um@@ er@@ <@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >> lun@@ sTo@@ Update@@ In@@ D@@ b = get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ (@@ lun@@ s@@ From@@ V@@ g@@ Info@@ , lun@@ s@@ From@@ Db@@ ); boolean db@@ Sh@@ oul@@ d@@ Be@@ Update@@ d = (@@ lun@@ sTo@@ Update@@ In@@ Db@@ .@@ contain@@ s@@ Key@@ (@@ update@@ Existing@@ Lun@@ s@@ )) || (@@ lun@@ sTo@@ Update@@ In@@ Db@@ .@@ contain@@ s@@ Key@@ (s@@ ave@@ New@@ Lun@@ s@@ )); if (@@ db@@ Sh@@ oul@@ d@@ Be@@ Updat@@ ed@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { update@@ Lun@@ s@@ In@@ Db@@ (@@ lun@@ sTo@@ Update@@ In@@ Db@@ ); re@@ fresh@@ Lun@@ s@@ Connection@@ s(@@ lun@@ s@@ From@@ V@@ g@@ Info@@ ); cl@@ e@@ an@@ up@@ Lun@@ s@@ From@@ Db@@ (@@ lun@@ s@@ From@@ V@@ g@@ Info@@ , lun@@ s@@ From@@ Db@@ ); return null@@ ; } re@@ fresh@@ Met@@ ad@@ ata@@ Devic@@ es@@ Info@@ (); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
public boolean check@@ Domain@@ Met@@ ad@@ ata@@ Devic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain do@@ m@@ ain@@ ) { if ((@@ (@@ do@@ m@@ ain@@ .get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()) == null@@ ) || (@@ do@@ m@@ ain@@ .get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()) == null@@ )) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Impl@@ (); log@@ abl@@ e.set@@ StorageDomain@@ Name@@ (@@ do@@ m@@ ain@@ .get@@ Name()); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , AuditLogType.@@ FAILED_@@ D@@ ET@@ ER@@ M@@ IN@@ E_@@ STORAGE_DOMAIN@@ _M@@ ET@@ AD@@ AT@@ A@@ _@@ DE@@ V@@ IC@@ E@@ S@@ ); return false@@ ; } return true@@ ; }
@@@ javax.@@ validation@@ .@@ const@@ r@@ a@@ int@@ s.@@ Not@@ N@@ ull private static org.ovirt.engine.api.model.@@ Ip@@ Vers@@ ion get@@ Ip@@ Version@@ (java.lang.String add@@ ress@@ ) { if (@@ add@@ res@@ s == null@@ ) { throw new java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ "@@ Un@@ able to fi@@ g@@ ur@@ e o@@ u@@ t i@@ p ver@@ si@@ on for add@@ ress@@ : " + add@@ ress@@ )); } return add@@ ress@@ .@@ contains(@@ "@@ :@@ ") ? org.ovirt.engine.api.model.@@ Ip@@ Version@@ .@@ V@@ 4 : org.ovirt.engine.api.model.@@ Ip@@ Version@@ .@@ V@@ 6@@ ; }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation map@@ (@@ org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation model, org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation template@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation t@@ arg@@ e@@ t = new org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (); if (@@ model.@@ isSet@@ Name@@ Server@@ s()) { org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ Name@@ Server@@ s@@ List name@@ Server@@ s@@ List = model.get@@ Name@@ Server@@ s(); if (@@ name@@ Server@@ s@@ Lis@@ t.@@ isSet@@ Name@@ Server@@ s()) { java.util.List<java.lang.String> name@@ Server@@ s = name@@ Server@@ s@@ Lis@@ t.get@@ Name@@ Server@@ s(); target@@ .set@@ Name@@ Server@@ s(@@ name@@ Server@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Map@@ per@@ :@@ map@@ Name@@ Server@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ())); } } return target@@ ; }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation map@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation entity@@ , org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation template@@ ) { if (@@ enti@@ ty == null@@ ) { return null@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > name@@ Server@@ s = entity.get@@ Name@@ Server@@ s(); if (@@ name@@ Server@@ s == null@@ ) { return null@@ ; } java.util.List<java.lang.String> name@@ Server@@ List = name@@ Server@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ Name@@ Server@@ :@@ :@@ get@@ Address@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ Name@@ Server@@ s@@ List = new org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .@@ Name@@ Server@@ s@@ List@@ (); name@@ Server@@ s@@ Lis@@ t.get@@ Name@@ Server@@ s().@@ add@@ All@@ (@@ name@@ Server@@ List@@ ); org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation d@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation = new org.ovirt.engine.api.model.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (); d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .set@@ Name@@ Server@@ s(@@ name@@ Server@@ s@@ List@@ ); return d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ; }
private static org.ovirt.engine.core.common.businessentities.network.@@ Name@@ Ser@@ ve@@ r map@@ Name@@ Server@@ (java.lang.String add@@ ress@@ ) { switch (@@ org.ovirt.engine.api.restapi.@@ types.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Map@@ per@@ .get@@ Ip@@ Version@@ (@@ add@@ ress@@ )) { case V@@ 4 : return new org.ovirt.engine.core.common.businessentities.network.@@ Name@@ Ser@@ v@@ er.@@ Name@@ Server@@ Ip@@ v@@ 4@@ (@@ add@@ ress@@ ); case V@@ 6 : return new org.ovirt.engine.core.common.businessentities.network.@@ Name@@ Ser@@ v@@ er.@@ Server@@ Name@@ v@@ er.@@ Server@@ Ip@@ v@@ 6@@ (@@ add@@ ress@@ ); default : throw new java.lang.@@ Run@@ time@@ Exception@@ ("@@ Cod@@ ing error@@ , this sh@@ oul@@ d b@@ e un@@ re@@ ach@@ abl@@ e.@@ "); } }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er filter@@ ed@@ Get@@ (org.ovirt.engine.core.compat.Guid id@@ , org.ovirt.engine.core.compat.Guid user@@ Id, boolean is@@ Filter@@ ed@@ ) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e s@@ ql@@ Param@@ s = create@@ Id@@ Parameter@@ Map@@ per@@ (@@ id@@ ); s@@ ql@@ Param@@ s.@@ addValue("@@ user@@ _id", user@@ Id); s@@ ql@@ Param@@ s.@@ addValue("@@ is@@ _@@ filter@@ ed@@ ", is@@ Filter@@ ed@@ ); return getCall@@ sHandler().execute@@ Read@@ ("@@ Get@@ Image@@ U@@ pl@@ o@@ a@@ ds@@ By@@ Command@@ Id@@ ", create@@ Entity@@ Row@@ Map@@ per@@ (), s@@ ql@@ Param@@ s); }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Image@@ Trans@@ fer@@ By@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ image@@ Trans@@ fer@@ Dao@@ .@@ filter@@ ed@@ G@@ e@@ t@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Image@@ Trans@@ fer@@ By@@ Id@@ Query.get@@ Parameters().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Image@@ Trans@@ fer@@ By@@ Id@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Image@@ Trans@@ fer@@ By@@ Id@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ()); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er get@@ (org.ovirt.engine.core.compat.Guid id@@ ) { return filter@@ ed@@ Get@@ (@@ id@@ , null@@ , false@@ ); }
org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er filter@@ ed@@ Get@@ (org.ovirt.engine.core.compat.Guid disk@@ Id, org.ovirt.engine.core.compat.Guid user@@ Id, boolean is@@ Filter@@ ed@@ );
@org.junit.Test public void test@@ Default@@ R@@ out@@ e@@ W@@ h@@ en@@ Out@@ Of@@ Sync@@ () { if@@ ac@@ e.set@@ Ip@@ v@@ 4@@ Default@@ R@@ out@@ e@@ (@@ false@@ ); network@@ .set@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (s@@ am@@ ple@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ); assert@@ That@@ (c@@ reate@@ Test@@ ed@@ In@@ stance@@ (@@ true@@ , s@@ am@@ ple@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ).@@ is@@ Network@@ In@@ Sync@@ (), is@@ (@@ true@@ )); }
private void add@@ D@@ n@@ s@@ Configuration@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Re@@ port@@ ed@@ Configuration@@ s result) { boolean d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Support@@ ed = org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ support@@ ed@@ In@@ Config@@ (@@ ConfigValues.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Supported@@ , this@@ .@@ cluster@@ .get@@ CompatibilityVersion@@ ()); if ((!@@ (is@@ Default@@ R@@ out@@ e@@ Network@@ )) || (!@@ d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Supported@@ )) { return@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > name@@ Server@@ s@@ Of@@ Network@@ Attachm@@ ent = get@@ Name@@ Server@@ s(@@ network@@ Attachm@@ ent.@@ get@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > name@@ Server@@ s@@ Of@@ Network = get@@ Name@@ Server@@ s(@@ network@@ .get@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > name@@ Server@@ s@@ Of@@ Hos@@ t = get@@ Name@@ Server@@ s(@@ re@@ port@@ ed@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ); boolean sh@@ oul@@ d@@ Set@@ Default@@ R@@ out@@ e = new org.ovirt.engine.core.bll.network.@@ host.@@ Sh@@ oul@@ d@@ Set@@ Default@@ R@@ out@@ e@@ F@@ l@@ ag@@ And@@ D@@ n@@ s@@ Data@@ ().@@ test@@ (@@ true@@ , network@@ Attachment@@ ); boolean engin@@ e@@ De@@ fin@@ e@@ D@@ n@@ s@@ Configur@@ ation = sh@@ oul@@ d@@ Set@@ Default@@ R@@ out@@ e && ((@@ name@@ Server@@ s@@ Of@@ Network@@ Attachm@@ ent != null@@ ) || (@@ name@@ Server@@ s@@ Of@@ Network != null@@ )); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > exp@@ ected@@ Name@@ Server@@ s = (@@ name@@ Server@@ s@@ Of@@ Network@@ Attachm@@ ent != null@@ ) ? name@@ Server@@ s@@ Of@@ Network@@ Attachm@@ ent : name@@ Server@@ s@@ Of@@ Network@@ ; res@@ ult.@@ add(@@ org.ovirt.engine.core.utils.@@ D@@ N@@ S_@@ CON@@ FI@@ G@@ UR@@ A@@ TI@@ ON@@ , add@@ ress@@ es@@ As@@ String@@ (@@ name@@ Server@@ s@@ Of@@ Host@@ ), (@@ engin@@ e@@ De@@ fin@@ e@@ De@@ fin@@ e@@ D@@ n@@ s@@ Configur@@ ation ? add@@ ress@@ es@@ As@@ String@@ (@@ exp@@ ected@@ Name@@ Server@@ s) : "@@ ), (!(@@ engin@@ e@@ De@@ fin@@ e@@ D@@ n@@ s@@ Configur@@ ation && (!(@@ java.util.@@ Object@@ s.@@ equals(@@ name@@ Server@@ s@@ Of@@ Host@@ , exp@@ ected@@ Server@@ s@@ ))); res@@ ult.@@ add(@@ org.ovirt.engine.core.utils.@@ F@@ A@@ U@@ L@@ T_@@ RO@@ U@@ T@@ E@@ , if@@ ac@@ e.@@ is@@ Ip@@ v@@ 4@@ Default@@ R@@ out@@ e(), is@@ Default@@ R@@ out@@ e@@ Network@@ , (!(@@ sh@@ oul@@ d@@ Set@@ Default@@ R@@ out@@ e@@ Network@@ R@@ out@@ e@@ qual@@ s@@ (@@ if@@ ac@@ e.@@ is@@ Ip@@ R@@ out@@ e(), is@@ Ip@@ R@@ out@@ e@@ qual@@ s@@ (@@ if@@ ac@@ e.get@@ Ip@@ R@@ out@@ e@@ qual@@ s@@ Of@@ Network@@ ()))); }
@java.lang.Override protected boolean is@@ G@@ host@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ d@@ n@@ s@@ config@@ ur@@ ation@@ .@@ Name@@ Server@@ Model value) { return org.ovirt.engine.ui.uicompat.@@ ex@@ ternal@@ .@@ StringUtils.@@ isEmpty@@ (@@ valu@@ e.get@@ Entity@@ ()); }
private boolean can@@ Vm@@ Numa@@ P@@ in@@ n@@ ed@@ To@@ Vds@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Node@@ > n@@ od@@ es@@ , org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Node@@ > p@@ Node@@ s = vds@@ Numa@@ Node@@ .get@@ All@@ Vds@@ Numa@@ Node@@ By@@ Vds@@ Id(@@ vds.get@@ Id()); if ((@@ p@@ Node@@ s == null@@ ) || (p@@ Nod@@ es.@@ isEmpty())) { return false@@ ; } java.util.Map@@ <@@ java.lang.Integer@@ , org.ovirt.engine.core.common.businessentities.@@ Vds@@ Numa@@ Node@@ > in@@ dex@@ Map = to@@ Map@@ (p@@ Nod@@ es@@ ); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Numa@@ Nod@@ e v@@ Nod@@ e : n@@ od@@ es) { for (@@ java.lang.Integ@@ er p@@ in@@ n@@ ed@@ In@@ de@@ x : v@@ Nod@@ e.get@@ Vds@@ Numa@@ Node@@ List@@ ()) { if ((@@ v@@ Nod@@ e.get@@ Mem@@ T@@ otal@@ ()) > (@@ in@@ dex@@ Map@@ .get(@@ p@@ in@@ n@@ ed@@ In@@ dex@@ ).get@@ Numa@@ Node@@ Statistic@@ s().get@@ Mem@@ F@@ re@@ e())) { return false@@ ; } } return true@@ ; }
public <@@ T extends org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ Resource@@ > java.lang.@@ I@@ ter@@ able@@ <@@ T@@ > p@@ end@@ ing@@ Resourc@@ es(@@ java.lang.@@ Class@@ <@@ T@@ > typ@@ e) { java.util.List<@@ T@@ > lis@@ t = new java.util.ArrayList<@@ >(); synchronized@@ (@@ this@@ ) { for (org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ Resourc@@ e resourc@@ e : p@@ end@@ ing@@ Resourc@@ es.@@ valu@@ es@@ ()) { if (@@ resourc@@ e.get@@ Class@@ ().@@ equals(@@ type@@ )) { lis@@ t.@@ add@@ (((@@ T@@ ) (@@ res@@ ource@@ ))); } } return list@@ ; }
public <@@ T extends org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ Resource@@ > java.lang.@@ I@@ ter@@ able@@ <@@ T@@ > p@@ end@@ ing@@ Host@@ Resourc@@ es(@@ org.ovirt.engine.core.compat.Guid host@@ , java.lang.@@ Class@@ <@@ T@@ > typ@@ e) { if (!(@@ resourc@@ es@@ By@@ Hos@@ t.@@ contain@@ s@@ Key@@ (@@ host@@ ))) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.List<@@ T@@ > lis@@ t = new java.util.ArrayList<@@ >(); synchronized@@ (@@ this@@ ) { for (org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ Resourc@@ e resourc@@ e : resourc@@ es@@ By@@ Hos@@ t.get@@ (@@ host@@ )) { if (@@ resourc@@ e.get@@ Class@@ ().@@ equals(@@ type@@ )) { lis@@ t.@@ add@@ (((@@ T@@ ) (@@ res@@ ource@@ ))); } } return list@@ ; }
public <@@ T extends org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ Resource@@ > java.lang.@@ I@@ ter@@ able@@ <@@ T@@ > p@@ end@@ ing@@ Vm@@ Resourc@@ es(@@ org.ovirt.engine.core.compat.Guid vm@@ , java.lang.@@ Class@@ <@@ T@@ > typ@@ e) { if (!(@@ resourc@@ es@@ By@@ Vm@@ .@@ contain@@ s@@ Key@@ (vm@@ ))) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.List<@@ T@@ > lis@@ t = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ Resourc@@ e resourc@@ e : resourc@@ es@@ By@@ Vm@@ .get@@ (vm@@ )) { if (@@ resourc@@ e.get@@ Class@@ ().@@ equals(@@ type@@ )) { lis@@ t.@@ add@@ (((@@ T@@ ) (@@ res@@ ource@@ ))); } } return list@@ ; }
@java.lang.Override public void d@@ el@@ ay@@ (@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > vds@@ Id@@ s) { if (@@ vds@@ Id@@ s.@@ isEmpty@@ ()) { return@@ ; } org.ovirt.engine.core.bll.@@ RunVm@@ Command@@ Bas@@ e.@@ log.@@ d@@ ebug@@ ("@@ Tr@@ y to w@@ a@@ i@@ t for the engin@@ e updat@@ e the host@@ s mem@@ or@@ y and c@@ p@@ u stat@@ s@@ "); long ma@@ x@@ Update@@ El@@ ap@@ se@@ d = vds@@ Id@@ s.@@ st@@ re@@ am@@ ().@@ map@@ To@@ L@@ on@@ g@@ (@@ " vds@@ Id) -@@ > res@@ ource@@ Manager@@ .get@@ Vds@@ Manager@@ (@@ vds@@ Id@@ ).get@@ L@@ ast@@ Update@@ El@@ ap@@ s@@ ed@@ ()).@@ ma@@ x@@ ().get@@ As@@ L@@ on@@ g@@ (); long ma@@ x@@ W@@ a@@ it@@ Tim@@ e = java.lang.@@ M@@ ath@@ .@@ min@@ (@@ java.lang.@@ M@@ ath@@ .@@ ma@@ x@@ (@@ ma@@ x@@ Update@@ El@@ ap@@ s@@ ed@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ .@@ to@@ M@@ il@@ lis@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(@@ org.ovirt.engine.core.bll.@@ Vds@@ Refresh@@ R@@ ate@@ )@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Th@@ ro@@ tt@@ l@@ er@@ Max@@ W@@ a@@ it@@ For@@ Vds@@ Update@@ In@@ M@@ il@@ lis@@ )); long end@@ Tim@@ e = (@@ java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ ()) + ma@@ x@@ W@@ a@@ it@@ Time@@ ; for (org.ovirt.engine.core.compat.Guid vds@@ Id : vds@@ Id@@ s) { long current@@ Tim@@ e = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); if (c@@ urrent@@ Tim@@ e >@@ = end@@ Tim@@ e) { break@@ ; } try { get@@ B@@ lock@@ ing@@ Qu@@ e@@ ue(@@ vds@@ Id@@ ).@@ p@@ oll@@ ((@@ end@@ Tim@@ e - current@@ Time@@ ), java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ I@@ L@@ IS@@ EC@@ ON@@ D@@ S@@ ); } catch (@@ java.lang.@@ Inter@@ r@@ up@@ t@@ ed@@ Exception e) { } }
@org.junit.Test public void test@@ No@@ A@@ f@@ fin@@ ity@@ Group@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = java.util.Arrays.as@@ List(@@ host@@ 1, host@@ 2@@ ); assert@@ That@@ (p@@ olicy@@ Un@@ it.@@ filter@@ (cluster@@ , host@@ s, new@@ Vm@@ , null@@ , new org.ovirt.engine.core.common.@@ scheduling.@@ Per@@ Host@@ Messages@@ ())@@ ).@@ contain@@ s@@ Ex@@ act@@ ly@@ Element@@ s@@ Of@@ (@@ host@@ s); }
private boolean is@@ Vm@@ Migr@@ at@@ able(@@ org.ovirt.engine.core.common.businessentities.VM vm@@ ) { return (vm@@ .is@@ Migr@@ ation@@ Support@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ Migr@@ ation@@ Supp@@ or@@ t.@@ M@@ I@@ G@@ R@@ AT@@ AB@@ LE@@ )) && (!(@@ vm@@ .is@@ Host@@ ed@@ Engin@@ e())); }
@org.junit.Test public void test@@ F@@ ir@@ st@@ Vm@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = java.util.Arrays.as@@ List(@@ host@@ 1, host@@ 2@@ ); org.ovirt.engine.core.common.businessentities.VM vm@@ 1 = create@@ VM@@ Down@@ (cluster@@ ); org.ovirt.engine.core.common.businessentities.VM vm@@ 2 = create@@ VM@@ Down@@ (cluster@@ ); af@@ fin@@ ity@@ Group@@ s.@@ add@@ (c@@ reate@@ A@@ f@@ fin@@ ity@@ Group@@ (cluster@@ , Entity@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e.@@ P@@ O@@ SI@@ TI@@ V@@ E@@ , true@@ , vm@@ 1, vm@@ 2@@ , new@@ Vm@@ )); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ > s@@ cor@@ es = c@@ oll@@ ect@@ S@@ cor@@ es(@@ p@@ olicy@@ Un@@ it.@@ s@@ cor@@ e(@@ cluster@@ , host@@ s, new@@ Vm@@ , null@@ )); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 1@@ .getId@@ ())); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 2@@ .getId@@ ())); af@@ fin@@ ity@@ Group@@ s.@@ add@@ (c@@ reate@@ A@@ f@@ fin@@ ity@@ Group@@ (cluster@@ , Entity@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e.@@ P@@ O@@ SI@@ TI@@ V@@ E@@ , false@@ , vm@@ 1, vm@@ 2@@ , new@@ Vm@@ )); s@@ cor@@ es = c@@ oll@@ ect@@ S@@ cor@@ es(@@ p@@ olicy@@ Un@@ it.@@ s@@ cor@@ e(@@ cluster@@ , host@@ s, new@@ Vm@@ , null@@ )); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 1@@ .getId@@ ())); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 2@@ .getId@@ ())); }
@org.junit.Test public void test@@ P@@ os@@ iti@@ ve@@ A@@ f@@ fin@@ ity@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = java.util.Arrays.as@@ List(@@ host@@ 1, host@@ 2@@ ); org.ovirt.engine.core.common.businessentities.VM vm@@ 1 = create@@ Vm@@ Run@@ ning@@ (@@ host@@ 2@@ ); org.ovirt.engine.core.common.businessentities.VM vm@@ 2 = create@@ Vm@@ Run@@ ning@@ (@@ host@@ 2@@ ); af@@ fin@@ ity@@ Group@@ s.@@ add@@ (c@@ reate@@ A@@ f@@ fin@@ ity@@ Group@@ (cluster@@ , Entity@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e.@@ P@@ O@@ SI@@ TI@@ V@@ E@@ , true@@ , vm@@ 1, vm@@ 2@@ , new@@ Vm@@ )); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ > s@@ cor@@ es = c@@ oll@@ ect@@ S@@ cor@@ es(@@ p@@ olicy@@ Un@@ it.@@ s@@ cor@@ e(@@ cluster@@ , host@@ s, new@@ Vm@@ , null@@ )); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ 00@@ 0@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 1@@ .getId@@ ())); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 2@@ .getId@@ ())); af@@ fin@@ ity@@ Group@@ s.@@ cl@@ e@@ ar@@ (); af@@ fin@@ ity@@ Group@@ s.@@ add@@ (c@@ reate@@ A@@ f@@ fin@@ ity@@ Group@@ (cluster@@ , Entity@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e.@@ P@@ O@@ SI@@ TI@@ V@@ E@@ , false@@ , vm@@ 1, vm@@ 2@@ , new@@ Vm@@ )); s@@ cor@@ es = c@@ oll@@ ect@@ S@@ cor@@ es(@@ p@@ olicy@@ Un@@ it.@@ s@@ cor@@ e(@@ cluster@@ , host@@ s, new@@ Vm@@ , null@@ )); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ 00@@ 0@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 1@@ .getId@@ ())); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 2@@ .getId@@ ())); }
@org.junit.Test public void test@@ No@@ A@@ f@@ fin@@ ity@@ Group@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = java.util.Arrays.as@@ List(@@ host@@ 1, host@@ 2@@ ); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ > s@@ cor@@ es = c@@ oll@@ ect@@ S@@ cor@@ es(@@ p@@ olicy@@ Un@@ it.@@ s@@ cor@@ e(@@ cluster@@ , host@@ s, new@@ Vm@@ , null@@ )); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 1@@ .getId@@ ())); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 2@@ .getId@@ ())); }
@org.junit.Test public void test@@ N@@ eg@@ ati@@ ve@@ A@@ f@@ fin@@ ity@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = java.util.Arrays.as@@ List(@@ host@@ 1, host@@ 2@@ , host@@ 3@@ ); org.ovirt.engine.core.common.businessentities.VM vm@@ 1 = create@@ Vm@@ Run@@ ning@@ (@@ host@@ 1@@ ); org.ovirt.engine.core.common.businessentities.VM vm@@ 2 = create@@ Vm@@ Run@@ ning@@ (@@ host@@ 3@@ ); af@@ fin@@ ity@@ Group@@ s.@@ add@@ (c@@ reate@@ A@@ f@@ fin@@ ity@@ Group@@ (cluster@@ , Entity@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e.@@ N@@ E@@ G@@ A@@ TI@@ V@@ E@@ , true@@ , vm@@ 1, vm@@ 2@@ , new@@ Vm@@ )); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ > s@@ cor@@ es = c@@ oll@@ ect@@ S@@ cor@@ es(@@ p@@ olicy@@ Un@@ it.@@ s@@ cor@@ e(@@ cluster@@ , host@@ s, new@@ Vm@@ , null@@ )); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ 00@@ 0@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 1@@ .getId@@ ())); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 2@@ .getId@@ ())); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ 00@@ 0@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 3@@ .getId@@ ())); af@@ fin@@ ity@@ Group@@ s.@@ cl@@ e@@ ar@@ (); af@@ fin@@ ity@@ Group@@ s.@@ add@@ (c@@ reate@@ A@@ f@@ fin@@ ity@@ Group@@ (cluster@@ , Entity@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e.@@ N@@ E@@ G@@ A@@ TI@@ V@@ E@@ , false@@ , vm@@ 1, vm@@ 2@@ , new@@ Vm@@ )); s@@ cor@@ es = c@@ oll@@ ect@@ S@@ cor@@ es(@@ p@@ olicy@@ Un@@ it.@@ s@@ cor@@ e(@@ cluster@@ , host@@ s, new@@ Vm@@ , null@@ )); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ 00@@ 0@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 1@@ .getId@@ ())); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 2@@ .getId@@ ())); assert@@ E@@ qual@@ s@@ (((@@ java.lang.Integer@@ ) (@@ 1@@ 00@@ 0@@ )@@ ), s@@ cor@@ es@@ .get(@@ host@@ 3@@ .getId@@ ())); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Network@@ Filter@@ Paramet@@ er parameter@@ ) { validate@@ Parameters(@@ parameter@@ , "@@ value@@ "); org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Nic@@ Filter@@ Paramet@@ er vm@@ Nic@@ Filter@@ Paramet@@ er = map@@ (@@ parameter@@ ); vm@@ Nic@@ Filter@@ Paramet@@ er.@@ set@@ Vm@@ Interface@@ Id(@@ nic@@ Id); return p@@ er@@ for@@ m@@ Cre@@ ate(@@ Vdc@@ ActionType.@@ AddVm@@ Nic@@ Filter@@ Parameter@@ , new org.ovirt.engine.core.common.action.@@ Vm@@ Nic@@ Filter@@ Parameter@@ Parameters@@ (vm@@ Id, vm@@ Nic@@ Filter@@ Parameter@@ ), new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Nic@@ Filter@@ Parameters@@ Resourc@@ e.@@ Network@@ Filter@@ Parameter@@ Res@@ ol@@ ver@@ (@@ parameter@@ .getName()@@ )); }
@java.lang.Override public org.ovirt.engine.api.@@ resource.@@ Network@@ Filter@@ Parameter@@ Resourc@@ e get@@ Parameter@@ Resourc@@ e(@@ java.lang.String parameter@@ Id) { return in@@ j@@ ect@@ (@@ new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vm@@ Nic@@ Filter@@ Parameter@@ Resourc@@ e(@@ vm@@ Id, nic@@ Id, parameter@@ Id@@ )); }
private java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Auth@@ z@@ Group@@ > get@@ Direct@@ ory@@ User@@ (org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r db@@ User@@ ) { java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Auth@@ z@@ Group@@ > group@@ s = new java.util.ArrayList<@@ >(); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = org.ovirt.engine.core.@@ aaa.@@ S@@ s@@ o@@ O@@ Auth@@ Service@@ Utils.@@ fin@@ d@@ P@@ rin@@ c@@ ip@@ al@@ sBy@@ Id@@ s(@@ org.ovirt.engine.core.bll.@@ Get@@ Auth@@ z@@ Group@@ sBy@@ User@@ Id@@ Query.get@@ Session@@ Data@@ Cont@@ ain@@ er@@ ().get@@ S@@ s@@ o@@ Ac@@ cess@@ To@@ k@@ en@@ (org.ovirt.engine.core.bll.@@ Get@@ Auth@@ z@@ Group@@ sBy@@ User@@ Id@@ Query.get@@ Parameters().get@@ Session@@ Id@@ ()), db@@ User@@ .get@@ Domain@@ (), db@@ User@@ .get@@ Names@@ p@@ ac@@ e(), java.util.Arrays.as@@ List(@@ db@@ User@@ .get@@ External@@ Id@@ ()), true@@ , true@@ ); java.util.Collection@@ <@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ > p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ s = java.util.Collections.@@ em@@ pty@@ List@@ (); if (@@ respon@@ s@@ e.c@@ on@@ t@@ ain@@ s@@ Key@@ ("@@ result@@ "@@ )) { p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ s = ((@@ java.util.Collection@@ <@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ >) (@@ respon@@ s@@ e.get@@ ("@@ result@@ "@@ ))); } if (!(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ s.@@ isEmpty())) { org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d = p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ s.@@ it@@ er@@ ator@@ ().@@ ne@@ xt@@ (); d@@ irect@@ ory@@ Utils.@@ f@@ l@@ at@@ Group@@ s(@@ p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ ); for (@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map g@@ roup : p@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ <@@ java.util.Collection@@ <@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ >@@ get@@ (@@ P@@ rin@@ c@@ ip@@ al@@ Rec@@ or@@ d@@ .@@ G@@ RO@@ UP@@ S@@ , java.util.Collections.@@ <@@ org.ovirt.engine.api.@@ extension@@ s.@@ Ex@@ t@@ Map@@ >@@ em@@ pty@@ List@@ ())) { group@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Auth@@ z@@ Group@@ (@@ db@@ User@@ .get@@ Domain@@ (), group@@ .get(@@ Group@@ Rec@@ or@@ d@@ .@@ NAM@@ E@@ SP@@ AC@@ E@@ ), group@@ .get(@@ Group@@ Rec@@ or@@ d@@ .@@ NAM@@ E@@ ), group@@ .get(@@ Group@@ Rec@@ or@@ d@@ .@@ NAM@@ E@@ ), group@@ .get(@@ Group@@ Rec@@ or@@ d@@ .@@ NAM@@ E@@ ), group@@ .get(@@ Group@@ Rec@@ or@@ d@@ .@@ NAM@@ E@@ ), group@@ .get(@@ Group@@ Rec@@ or@@ d@@ .@@ NAM@@ E@@ )); } } return group@@ s@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue return@@ Valu@@ e = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ run@@ Internal@@ Query@@ (Vdc@@ Query@@ Type.Get@@ Auth@@ z@@ Group@@ sBy@@ User@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Parameters().get@@ Id@@ ())); java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Auth@@ z@@ Group@@ > auth@@ z@@ Group@@ s = return@@ Valu@@ e.get@@ ReturnValu@@ e(); java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > group@@ s@@ Id@@ s = auth@@ z@@ Group@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ ( g@@ ) -@@ > db@@ Group@@ Dao@@ .get@@ By@@ External@@ Id(@@ g.@@ get@@ Auth@@ z@@ (), g.@@ get@@ Id@@ ())@@ ).@@ filter@@ (@@ java.util.@@ Object@@ s@@ :@@ n@@ on@@ Null@@ ).@@ map@@ (@@ ( g@@ ) -@@ > g.@@ get@@ Id@@ ()).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ per@@ mission@@ Dao@@ .get@@ AllFor@@ Ad@@ Element@@ And@@ Group@@ s(@@ org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Parameters().get@@ Id(), group@@ s@@ Id@@ s, org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ())); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ > get@@ AllFor@@ Ad@@ Element@@ And@@ Group@@ s(@@ org.ovirt.engine.core.compat.Guid id@@ , java.util.Collection@@ <org.ovirt.engine.core.compat.Guid@@ > group@@ Id@@ s, boolean is@@ Filter@@ ed@@ ) { int app@@ Mod@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Application@@ M@@ ode@@ ); org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ ad@@ _@@ el@@ ement@@ _id", id@@ ).addValue("@@ user@@ _@@ group@@ s", group@@ Id@@ s@@ ).addValue("@@ is@@ _@@ filter@@ ed@@ ", is@@ Filter@@ ed@@ ).addValue("@@ app@@ _@@ m@@ ode@@ ", app@@ M@@ ode@@ ); return getCall@@ sHandler().execute@@ Read@@ List@@ ("@@ Get@@ Permission@@ sBy@@ Ad@@ Element@@ Id@@ And@@ Group@@ Id@@ s", org.ovirt.engine.core.dao.@@ Permission@@ Dao@@ Impl.@@ per@@ mission@@ Row@@ Map@@ per@@ , parameter@@ Source@@ ); }
@org.junit.Test public void test@@ De@@ al@@ loc@@ ate@@ If@@ External@@ Th@@ row@@ Exception@@ () { nic@@ .set@@ Name(@@ org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ Test.@@ N@@ IC@@ _@@ NAM@@ E); nic@@ .set@@ Id@@ (org.ovirt.engine.core.bll.@@ network.@@ External@@ Network@@ Manager@@ Test.@@ N@@ IC@@ _@@ ID@@ ); p@@ rovider.@@ set@@ Name(@@ org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ Test.@@ P@@ RO@@ V@@ ID@@ ER_@@ NAM@@ E); do@@ Th@@ row@@ (@@ new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ ()).@@ when(@@ network@@ Provider@@ Proxy@@ ).@@ de@@ al@@ loc@@ ate(@@ nic@@ ); un@@ der@@ Test.@@ de@@ al@@ loc@@ ate@@ If@@ External@@ (); ve@@ r@@ if@@ y@@ (@@ a@@ uditLog@@ Direct@@ or@@ ).@@ log@@ (@@ a@@ uditLog@@ able@@ C@@ ap@@ to@@ r@@ .@@ c@@ ap@@ t@@ ur@@ e(), s@@ am@@ e(@@ AuditLogType.@@ RE@@ M@@ OV@@ E_@@ POR@@ T_@@ F@@ RO@@ M@@ _@@ EX@@ TER@@ N@@ AL@@ _P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ ED@@ )); final java.util.Map<java.lang.String, java.lang.String> c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Value@@ s = a@@ uditLog@@ able@@ C@@ ap@@ to@@ r@@ .get@@ Valu@@ e().get@@ Custom@@ Valu@@ es@@ (); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Valu@@ es@@ , has@@ E@@ n@@ try@@ ("@@ nic@@ name@@ ", org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ Test.@@ N@@ IC@@ _@@ NAM@@ E@@ )); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Valu@@ es@@ , has@@ E@@ n@@ try@@ ("@@ nic@@ id@@ ", org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ Test.@@ N@@ IC@@ _@@ ID@@ .toString@@ ())); assert@@ That@@ (c@@ ap@@ t@@ ur@@ ed@@ Custom@@ Valu@@ es@@ , has@@ E@@ n@@ try@@ ("@@ nic@@ id@@ ", org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ Test.@@ P@@ RO@@ V@@ ID@@ ER_@@ NAM@@ E@@ )); }
@java.lang.Override protected void end@@ Success@@ f@@ ull@@ y@@ () { f@@ ree@@ Vm@@ Snapshots@@ With@@ W@@ a@@ it@@ (); vm@@ Device@@ Dao@@ .@@ remove@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ c@@ in@@ der.@@ Remove@@ Cinder@@ Disk@@ Command.getParameters().get@@ Remov@@ ed@@ Volum@@ e().get@@ Id(), null@@ )); b@@ ase@@ Disk@@ Dao@@ .@@ remov@@ e(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ c@@ in@@ der.@@ Remove@@ Cinder@@ Disk@@ Command.getParameters().get@@ Remov@@ ed@@ Volum@@ e().get@@ Id()); if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ c@@ in@@ der.@@ Remove@@ Cinder@@ Disk@@ Command.getParameters().get@@ Sh@@ oul@@ d@@ Be@@ Log@@ ged@@ ()) { org.ovirt.engine.core.dao.@@ Vm@@ From@@ j@@ ect@@ or@@ .get@@ (@@ org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ .@@ class@@ ).@@ log@@ (@@ this@@ , AuditLogType.@@ US@@ ER_@@ F@@ IN@@ IS@@ H@@ ED_@@ RE@@ M@@ OV@@ E_@@ DIS@@ K@@ ); } org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ c@@ in@@ der.@@ Remove@@ Cinder@@ Disk@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private void a@@ uditLog@@ Fail@@ ed@@ To@@ Conn@@ ect@@ () { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able log@@ g@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Impl@@ (); a@@ uditLog@@ Fail@@ ed@@ To@@ Conn@@ ect@@ (@@ org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ ).@@ log@@ (@@ log@@ g@@ able@@ , AuditLogType.@@ FAILED_@@ T@@ O@@ _C@@ ON@@ N@@ EC@@ T_@@ T@@ O@@ _@@ S@@ C@@ H@@ ED@@ U@@ L@@ ER_@@ P@@ RO@@ X@@ Y@@ ); }
private void update@@ AuditLog@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ c@@ in@@ der.@@ Ex@@ tend@@ Cinder@@ Disk@@ C@@ ommand command@@ , org.ovirt.engine.core.common.@@ AuditLog@@ Type a@@ uditLog@@ Type, java.lang.@@ L@@ on@@ g image@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s) { command@@ .@@ add@@ Custom@@ Value("@@ Disk@@ Alias@@ ", get@@ Disk@@ (command@@ ).get@@ Disk@@ Alias@@ ()); command@@ .@@ add@@ Custom@@ Value("@@ New@@ Size@@ ", java.lang.String.@@ value@@ Of@@ (@@ image@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s@@ )); org.ovirt.engine.core.dao.@@ i.@@ In@@ j@@ ect@@ or@@ .get@@ (@@ org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ ).@@ log@@ (command@@ , a@@ uditLog@@ Type@@ ); }
public boolean dis@@ c@@ o@@ ver@@ () { boolean db@@ Updat@@ ed@@ ; java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Dis@@ c@@ o@@ ver@@ y@@ Result@@ > dis@@ c@@ o@@ ver@@ y@@ Result = broker.@@ run@@ Dis@@ c@@ o@@ ver@@ (); if (@@ dis@@ c@@ o@@ ver@@ y@@ Res@@ ult.@@ is@@ P@@ resent@@ ()) { update@@ D@@ B@@ (@@ dis@@ c@@ o@@ ver@@ y@@ Res@@ ult.get@@ ()); org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Dis@@ c@@ o@@ ver@@ y@@ .@@ log.@@ d@@ ebug@@ ("@@ F@@ in@@ is@@ h@@ ed update@@ d for ex@@ ter@@ n@@ al brok@@ er@@ . Update@@ d = true@@ ; } else { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able log@@ g@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Impl@@ (); org.ovirt.engine.core.dao.@@ i.@@ In@@ j@@ ect@@ or@@ .get@@ (@@ org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ .@@ class@@ ).@@ log@@ (@@ log@@ g@@ able@@ , AuditLogType.@@ FAILED_@@ T@@ O@@ _C@@ ON@@ N@@ EC@@ T_@@ T@@ O@@ _@@ S@@ C@@ H@@ ED@@ U@@ L@@ ER_@@ P@@ RO@@ X@@ Y@@ ); org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ External@@ Schedul@@ er@@ Dis@@ c@@ o@@ ver@@ y@@ .@@ log.@@ w@@ ar@@ n@@ ("@@ F@@ in@@ is@@ h@@ ed return@@ ed em@@ p@@ ty result wh@@ e@@ n t@@ al@@ k@@ ing to brok@@ er@@ . Dis@@ abl@@ ing ex@@ ter@@ n@@ al un@@ it@@ s java.util.List<@@ org.ovirt.engine.core.common.@@ scheduling.@@ Policy@@ Unit@@ > fail@@ ing@@ Policy@@ Unit@@ s = p@@ olicy@@ Unit@@ Dao@@ .get@@ All@@ ().@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); mar@@ k@@ External@@ P@@ olic@@ i@@ es@@ As@@ Dis@@ abl@@ ed(@@ fail@@ ing@@ Policy@@ Unit@@ s); db@@ Update@@ d = true@@ ; } return db@@ Updat@@ ed@@ ; }
private void pro@@ cess@@ Sing@@ le@@ Cluster@@ Chang@@ es(@@ org.ovirt.engine.core.common.action.@@ Manage@@ Network@@ C@@ lust@@ ers@@ Parameters param@@ ) { final java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcActionParameters@@ Base@@ > set@@ up@@ Networks@@ Param@@ s = new java.util.Array@@ List@@ (c@@ reate@@ Network@@ C@@ lust@@ ers@@ To@@ SetupNetworks@@ Parameters@@ Tr@@ an@@ s@@ for@@ m@@ er@@ ().@@ tr@@ an@@ s@@ for@@ m@@ (@@ param@@ .get@@ Attachment@@ s@@ (), param@@ .get@@ Det@@ ach@@ ment@@ s@@ ())); org.ovirt.engine.core.bll.network.@@ HostSetupNetworks@@ Parameters@@ Buil@@ der.@@ update@@ Parameters@@ Se@@ qu@@ enc@@ ing@@ (@@ set@@ up@@ Networks@@ Param@@ s); run@@ Internal@@ Multiple@@ Action@@ s(@@ Vdc@@ ActionType.@@ P@@ ers@@ ist@@ ent@@ Host@@ Setup@@ Network@@ s, set@@ up@@ Networks@@ Param@@ s); }
private java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.action.@@ Manage@@ Network@@ C@@ lust@@ ers@@ Parameters@@ > map@@ Parameters@@ By@@ Cluster@@ Id@@ () { final org.ovirt.engine.core.common.action.@@ Manage@@ Network@@ C@@ lust@@ ers@@ Parameters parameter@@ s = get@@ Parameters@@ (); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Cluster@@ >> attach@@ ment@@ By@@ Cluster@@ Id = group@@ By@@ Cluster@@ Id(@@ parameters@@ .get@@ Attachment@@ s()); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Cluster@@ >> d@@ et@@ ach@@ ment@@ By@@ Cluster@@ Id = group@@ By@@ Cluster@@ Id(@@ parameters@@ .get@@ Det@@ ach@@ ment@@ s()); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ Cluster@@ >> updat@@ es@@ By@@ Cluster@@ Id = group@@ By@@ Cluster@@ Id(@@ parameters@@ .get@@ Updat@@ es@@ ()); final java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > cluster@@ Id@@ s = java.util.@@ st@@ re@@ am@@ .@@ St@@ re@@ am@@ .@@ o@@ f@@ (@@ attach@@ ment@@ By@@ Cluster@@ Id, d@@ et@@ ach@@ ment@@ By@@ Cluster@@ Id, updat@@ es@@ By@@ Cluster@@ Id@@ ).@@ f@@ l@@ at@@ Map@@ (@@ ( -@@ > e.@@ key@@ Set@@ ().@@ st@@ re@@ am@@ ()).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); return cluster@@ Id@@ s.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ (), "@@ P@@ le@@ ase cluster@@ Id) -@@ > new org.ovirt.engine.core.common.action.@@ Manage@@ Network@@ C@@ lust@@ ers@@ Parameters@@ (@@ null@@ To@@ Empty@@ List@@ (@@ attach@@ ment@@ By@@ Cluster@@ Id@@ .get@@ (cluster@@ Id@@ )@@ ), null@@ To@@ Empty@@ List(@@ d@@ et@@ ach@@ ment@@ By@@ Cluster@@ Id@@ ), null@@ To@@ Empty@@ List(@@ cluster@@ Id@@ )); }
private void update@@ Rng@@ Device@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (org.ovirt.engine.core.compat.Guid vm@@ Base@@ Id, org.ovirt.engine.core.compat.@@ Vers@@ ion c@@ ustom@@ C@@ ompatibility@@ L@@ ev@@ el@@ , org.ovirt.engine.core.common.action.@@ H@@ as@@ Rng@@ Devic@@ e update@@ Parameters@@ ) { final org.ovirt.engine.core.compat.@@ Vers@@ ion old@@ E@@ f@@ ec@@ ti@@ ve@@ Vers@@ ion = org.ovirt.engine.core.common.utils.@@ CompatibilityVersion@@ Util@@ s.get@@ E@@ f@@ f@@ ec@@ ti@@ v@@ e(@@ c@@ ustom@@ C@@ ompatibility@@ L@@ ev@@ el@@ , () -@@ > old@@ Cluster@@ .get@@ CompatibilityVersion@@ ()); final org.ovirt.engine.core.compat.@@ Vers@@ ion new@@ E@@ f@@ ec@@ ti@@ ve@@ Vers@@ ion = org.ovirt.engine.core.common.utils.@@ CompatibilityVersion@@ Util@@ s.get@@ E@@ f@@ f@@ ec@@ ti@@ v@@ e(@@ c@@ ustom@@ C@@ ompatibility@@ L@@ ev@@ el@@ , () -@@ > get@@ Cluster@@ CompatibilityVersion@@ ()); vm@@ Update@@ Util@@ s.get@@ E@@ f@@ f@@ ec@@ ti@@ v@@ e(@@ c@@ ustom@@ C@@ ompatibility@@ L@@ ev@@ el@@ , () -@@ > get@@ Cluster@@ CompatibilityVersion@@ ()); vm@@ Update@@ Util@@ s.get@@ E@@ f@@ f@@ f@@ f@@ ec@@ ti@@ ve@@ Version@@ (@@ old@@ E@@ f@@ ec@@ ti@@ ve@@ Version@@ , new@@ E@@ f@@ ec@@ ti@@ ve@@ Version@@ , vm@@ Base@@ Id, org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.@@ cl@@ one@@ Context@@ (), update@@ Parameters@@ ); }
private boolean update@@ Vm@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Stati@@ c vm@@ , org.ovirt.engine.core.compat.@@ Vers@@ ion old@@ Cluster@@ Version@@ , boolean dis@@ able@@ Lock@@ ) { org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base update@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Bas@@ e(@@ vm@@ ); update@@ Param@@ s.set@@ Cluster@@ L@@ ev@@ el@@ Change@@ From@@ Version@@ (@@ old@@ Cluster@@ Version@@ ); return update@@ Vm@@ (@@ update@@ Param@@ s, dis@@ able@@ Lock@@ ); }
private boolean update@@ Cluster@@ CompatibilityVersion@@ To@@ O@@ l@@ d@@ Cluster@@ (@@ boolean dis@@ able@@ Lock@@ ) { org.ovirt.engine.core.compat.@@ Vers@@ ion old@@ Cluster@@ Vers@@ ion = org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ VmCommand.getVm@@ ().get@@ Cluster@@ CompatibilityVersion@@ O@@ ri@@ gin@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ From@@ D@@ b = vm@@ Static@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ VmCommand.getVm@@ Id()); if (((@@ is@@ Res@@ t@@ ore@@ Memory@@ ()) && ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ VmCommand.getVm@@ ().get@@ Custom@@ CompatibilityVersion@@ ()) == null@@ )) && (@@ old@@ Cluster@@ Version@@ .@@ l@@ ess@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ VmCommand.getVm@@ ().get@@ Cluster@@ CompatibilityVersion@@ ()))) { return update@@ Vm@@ (vm@@ From@@ Db@@ , old@@ Cluster@@ Version@@ , dis@@ able@@ Lock@@ ); } else if ((!@@ (is@@ Res@@ t@@ ore@@ Memory@@ ())) && ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ VmCommand.getVm@@ ().get@@ Custom@@ CompatibilityVersion@@ ()) == null@@ )) { org.ovirt.engine.core.common.businessentities.@@ action.@@ Vm@@ Management@@ Parameters@@ Base update@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Bas@@ e(@@ vm@@ From@@ D@@ b@@ ); boolean re@@ qui@@ res@@ Rng@@ Updat@@ e = vm@@ Update@@ Utils.@@ up@@ g@@ r@@ ad@@ e@@ Rng@@ Devic@@ es(@@ old@@ Cluster@@ Version@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ VmCommand.getVm@@ ().get@@ CompatibilityVersion@@ (), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ VmCommand.getVm@@ ().get@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.@@ cl@@ one@@ Context@@ (), update@@ Param@@ s); boolean re@@ qui@@ res@@ Graphics@@ Updat@@ e = vm@@ Update@@ Utils.@@ up@@ g@@ r@@ ad@@ e@@ Graphics@@ Devic@@ es@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ VmCommand.getVm@@ ().get@@ StaticData@@ (), update@@ Param@@ s, old@@ Cluster@@ Version@@ ); if (@@ re@@ qui@@ res@@ Rng@@ Updat@@ e || re@@ qui@@ res@@ Graphics@@ ) { return update@@ Vm@@ (@@ update@@ Param@@ s, dis@@ able@@ Lock@@ ); } } return true@@ ; }
private boolean update@@ Vms@@ () { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Stati@@ c vm : vm@@ s@@ Lock@@ ed@@ For@@ Update@@ ) { org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Base update@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Vm@@ Management@@ Parameters@@ Bas@@ e(@@ vm@@ ); update@@ Param@@ s.set@@ Lock@@ Properties@@ (@@ org.ovirt.engine.core.common.action.@@ Lock@@ Properties.@@ c@@ re@@ ate(@@ Lock@@ Properties.@@ S@@ c@@ op@@ e.@@ N@@ one@@ )); update@@ Param@@ s.set@@ Cluster@@ L@@ ev@@ el@@ Change@@ From@@ Version@@ (@@ old@@ Cluster@@ .get@@ CompatibilityVersion@@ ()); update@@ Rng@@ Device@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (vm@@ .get@@ Id(), vm.get@@ Custom@@ CompatibilityVersion@@ (), update@@ Param@@ s); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base result = run@@ Internal@@ Action(VdcActionType.@@ Update@@ Vm@@ , update@@ Param@@ s, org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); if (!(@@ result.get@@ Succeeded@@ ())) { java.util.List<java.lang.String> param@@ s = new java.util.ArrayList<@@ >(); param@@ s.@@ add@@ ("@@ Updat@@ e VM param@@ s.add(@@ par@@ se@@ Error@@ Message@@ (@@ result.get@@ Validation@@ Messages@@ ())); java.util.List<java.lang.String> message@@ s = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().get@@ Error@@ s@@ Trans@@ l@@ ator@@ ().@@ trans@@ l@@ ate@@ Error@@ Text@@ (@@ param@@ s); fail@@ ed@@ Up@@ g@@ r@@ ad@@ e@@ Enti@@ ties.@@ put@@ (vm@@ .get@@ Name(), get@@ Fail@@ ed@@ Message@@ (@@ mess@@ ages@@ )); } } return true@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { if (org.ovirt.engine.core.bll.@@ Multi@@ L@@ ev@@ el@@ Ad@@ min@@ ist@@ r@@ ation@@ Handler.@@ is@@ Ad@@ min@@ User@@ (org.ovirt.engine.core.bll.@@ Get@@ Vm@@ P@@ ay@@ load@@ Query.get@@ User@@ ())) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > disk@@ s = d@@ ao@@ .get@@ VmDevice@@ By@@ Vm@@ Id@@ And@@ Type(@@ org.ovirt.engine.core.bll.@@ Get@@ Vm@@ P@@ ay@@ load@@ Query.get@@ Parameters().get@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ DIS@@ K@@ ); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e dis@@ k : disk@@ s) { if (disk@@ .is@@ Manage@@ d@@ ()) { org.ovirt.engine.core.common.businessentities.Vm@@ P@@ ay@@ load@@ .is@@ P@@ ay@@ load@@ (disk@@ .get@@ Sp@@ ec@@ Param@@ s(@@ org.ovirt.engine.core.bll.@@ Get@@ Vm@@ P@@ ay@@ lo@@ a@@ d p@@ ay@@ lo@@ a@@ d = new org.ovirt.engine.core.common.businessentities.Vm@@ P@@ ay@@ load@@ (disk@@ ); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.String> e@@ n@@ try : p@@ ay@@ load@@ .get@@ Fil@@ es@@ ().@@ e@@ n@@ try@@ Set@@ ()) { e@@ n@@ try@@ .set@@ Value@@ (@@ new java.lang.String@@ (@@ org.apache.commons.@@ c@@ od@@ ec@@ .@@ b@@ in@@ ar@@ y@@ .@@ Base@@ 6@@ 4@@ .@@ d@@ ec@@ ode@@ Base@@ 6@@ 4@@ (@@ e@@ n@@ try@@ .get@@ Valu@@ e()@@ ))); } org.ovirt.engine.core.bll.@@ Get@@ Vm@@ P@@ ay@@ load@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ p@@ ay@@ load@@ ); } }
@org.junit.@@ run@@ n@@ er@@ s.@@ Parameter@@ iz@@ ed@@ .@@ Parameters public static java.lang.Object@@ []@@ [@@ ] comp@@ ar@@ is@@ Parameters@@ () { return new java.lang.Object@@ []@@ []{ new java.lang.Object@@ []{ "@@ null@@ , false }, new java.lang.Object@@ []{ "@@ ", false }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ ", false }, new java.lang.Object@@ []{ "@@ w@@ .@@ red@@ ha@@ t.@@ com@@ ", new java.lang.Object@@ []{ "@@ 1@@ 9@@ 2@@ .@@ 1@@ 6@@ 8@@ .@@ 0@@ .@@ 1@@ ", false }, new java.lang.Object@@ []{ "@@ f@@ t@@ p@@ :@@ /@@ w@@ w@@ w@@ .@@ red@@ ha@@ t.@@ com@@ ", false }, new java.lang.Object@@ []{ "@@ f@@ t@@ p@@ :@@ /@@ 1@@ 9@@ 2@@ .@@ 1@@ 6@@ 8@@ .@@ 0@@ .@@ 1@@ ", false }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ w@@ w@@ w@@ .@@ ht@@ :@@ /@@ m@@ ain@@ ", false }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 1@@ 2@@ 3@@ 4@@ 5@@ 6@@ /@@ m@@ ain@@ ", false }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ w@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 9@@ /@@ m@@ ain@@ ", false }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ 1@@ .@@ 2@@ .@@ 3@@ .@@ 4@@ :@@ 6@@ 6@@ 6@@ ", true }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ 1@@ .@@ 2@@ .@@ 2@@ .@@ 3@@ .@@ 4@@ ", true }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ 1@@ :@@ 2@@ :@@ 3@@ :@@ 4@@ :@@ 5@@ :@@ 6@@ :@@ 7@@ :@@ 8@@ ]@@ ", true }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ [@@ 1@@ :@@ 2@@ :@@ 3@@ :@@ 4@@ :@@ 6@@ :@@ 8@@ ]@@ :@@ 6@@ 6@@ 6@@ ", true }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ /@@ w@@ .@@ com@@ :@@ /@@ w@@ .@@ com@@ /@@ w@@ .@@ ht@@ ml@@ ", new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ w@@ .@@ ht@@ ml@@ ", "@@ http@@ :@@ 8@@ .@@ ht@@ ml@@ ", true }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ w@@ .@@ ht@@ ml@@ ", true }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ w@@ .@@ ht@@ ml@@ ", true }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ w@@ .@@ ht@@ ml@@ :@@ 8@@ 0@@ ", true@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ ", true@@ , true }, new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ ", new java.lang.Object@@ []{ "@@ http@@ :@@ 8@@ 0@@ ", new java.lang.Object@@ []{ "@@ http@@ :@@ /@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ /@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ /@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ /@@ w@@ .@@ red@@ ha@@ ha@@ ha@@ ha@@ ha@@ ha@@ ha@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ /@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ /@@ w@@ .@@ red@@ ha@@ ha@@ ha@@ ha@@ ha@@ ha@@ ha@@ ha@@ ha@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ /@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ /@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ /@@ w@@ .@@ red@@ ha@@ t.@@ com@@ :@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ ", new java.lang.Object@@ []{ "@@ http@@ :@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ , true@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ ", new java.lang.Object@@ []{ "@@ http@@ :@@ 8@@ 0@@ /@@ in@@ dex@@ , true@@ /@@ w@@ .@@ ht@@ ml@@ ", new java.lang.Object@@ []{ "@@ http@@ :@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ , true@@ /@@ w@@ .@@ ht@@ ml@@ , true@@ /@@ w@@ .@@ ht@@ ml@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ 2@@ .@@ ht@@ ml@@ :@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ :@@ 8@@ 0@@ /@@ m@@ ain@@ /@@ m@@ ain@@ /@@ m@@ ain@@ /@@ w@@ .@@ ht@@ ml@@ :@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ :@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ :@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ :@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ :@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ :@@ 8@@ 0@@ /@@ w@@ .@@ ht@@ ml@@ :@@ 8@@ 0@@ /@@ w@@
@org.junit.Test public void test@@ To@@ B@@ ig@@ Port@@ () { final org.ovirt.engine.ui.uicommonweb.U@@ ri@@ Auth@@ or@@ it@@ y un@@ der@@ Test = new org.ovirt.engine.ui.uicommonweb.U@@ ri@@ Auth@@ or@@ ity@@ ((((@@ org.ovirt.engine.ui.uicommonweb.U@@ ri@@ Auth@@ or@@ ity@@ Test.@@ I@@ P@@ V@@ 6@@ _@@ AD@@ D@@ RE@@ SS@@ ) + (@@ org.ovirt.engine.ui.uicommonweb.U@@ ri@@ Auth@@ or@@ ity@@ Test.@@ C@@ OL@@ ON@@ )) + (@@ org.ovirt.engine.ui.uicommonweb.U@@ ri@@ Auth@@ or@@ ity@@ Test.@@ T@@ O@@ _@@ B@@ I@@ G@@ _@@ PORT@@ ))); assert@@ That@@ (@@ un@@ der@@ Test.@@ is@@ Valid@@ (), is@@ (@@ false@@ )); }
@org.junit.Test public void validate@@ Disk@@ Is@@ Ovf@@ Stor@@ e() { initial@@ ize@@ Command@@ (@@ new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ()); init@@ Vm@@ DiskImage@@ (@@ false@@ ); command@@ .get@@ Image@@ ().set@@ Cont@@ ent@@ Type(@@ Disk@@ Cont@@ ent@@ Type.@@ OV@@ F@@ _@@ STOR@@ E); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ CON@@ T@@ EN@@ T_@@ TYPE_@@ NOT_@@ SUPPORT@@ ED_@@ F@@ OR@@ _@@ O@@ P@@ ER@@ A@@ TI@@ O@@ N@@ ); }
@org.junit.Test public void test@@ Move@@ Or@@ Copy@@ Memory@@ Disk@@ Fail@@ s() { initial@@ ize@@ Command@@ (@@ new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ()); init@@ Vm@@ DiskImage@@ (@@ false@@ ); command@@ .get@@ Image@@ ().set@@ Cont@@ ent@@ Type(@@ Disk@@ Cont@@ ent@@ Type.@@ M@@ EM@@ OR@@ Y_@@ D@@ U@@ M@@ P@@ _@@ V@@ O@@ LU@@ M@@ E); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ CON@@ T@@ EN@@ T_@@ TYPE_@@ NOT_@@ SUPPORT@@ ED_@@ F@@ OR@@ _@@ O@@ P@@ ER@@ A@@ TI@@ ON@@ ); }
private static boolean is@@ External@@ VM@@ (java.lang.String o@@ vf@@ Data@@ ) { org.ovirt.engine.core.common.businessentities.@@ O@@ ri@@ gin@@ Type or@@ ig@@ in = org.ovirt.engine.core.utils.@@ Ovf@@ Util@@ s.get@@ Vm@@ O@@ ri@@ gin@@ (@@ o@@ vf@@ Data@@ ); if (@@ or@@ ig@@ in == (org.ovirt.engine.core.common.businessentities.@@ O@@ ri@@ gin@@ Type.@@ EX@@ TER@@ N@@ AL@@ )) { return true@@ ; } return false@@ ; }
public org.ovirt.engine.core.common.businessentities.@@ VDS@@ Group get@@ Host@@ () { return get@@ Host@@ (); }
private void set@@ Q@@ c@@ ow@@ Comp@@ at@@ For@@ Q@@ c@@ ow@@ Image@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Image im@@ age = image@@ Dao@@ .get@@ (get@@ DiskImage@@ ().get@@ Image@@ Id()); if ((@@ (get@@ DiskImage@@ ().get@@ Disk@@ Storage@@ Type()) == (@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) && (get@@ DiskImage@@ ().get@@ Volume@@ Format@@ ().@@ equals(@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ ))) { set@@ Q@@ c@@ ow@@ Comp@@ at@@ (@@ image@@ , get@@ DiskImage@@ ().get@@ StoragePool@@ Id(), get@@ DiskImage@@ ().get@@ Image@@ Id(), get@@ StorageDomain@@ Id(), null@@ ); image@@ Dao@@ .@@ updat@@ e(@@ image@@ ); } }
@java.lang.Override public void end@@ Success@@ f@@ ull@@ y@@ () { end@@ Ch@@ il@@ d@@ Command@@ s(); if (org.ovirt.engine.core.bll.storage.@@ re@@ p@@ o@@ im@@ age.@@ Import@@ Rep@@ o@@ Image@@ Command.getParameters().get@@ Import@@ As@@ Templat@@ e()) { org.ovirt.engine.core.compat.Guid new@@ Template@@ Id = create@@ Templat@@ e(); if (@@ new@@ Template@@ Id != null@@ ) { attach@@ Disk@@ To@@ Template@@ (@@ new@@ Template@@ Id); } update@@ Disk@@ Status(@@ Image@@ Status.@@ O@@ K@@ ); org.ovirt.engine.core.bll.storage.@@ re@@ p@@ o@@ im@@ age.@@ Import@@ Rep@@ o@@ Image@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { n@@ ic = new org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Nic@@ (); n@@ etwork = create@@ Network@@ (); un@@ der@@ Test = sp@@ y@@ (@@ new org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ (@@ nic@@ , network@@ )); in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (@@ org.ovirt.engine.core.dao.@@ p@@ rovider.@@ Provider@@ Dao@@ .@@ class@@ , p@@ rovider@@ Dao@@ ); in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (@@ org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ .@@ class@@ , a@@ uditLog@@ Direct@@ or@@ ); p@@ rovi@@ der = new org.ovirt.engine.core.common.businessentities.@@ Provider@@ (); when(@@ p@@ rovider@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ network.@@ External@@ Network@@ Manager@@ Test.@@ P@@ RO@@ V@@ ID@@ ER_@@ ID@@ ER_@@ ID@@ )).@@ thenReturn(@@ p@@ rovider@@ ); wh@@ e@@ n@@ el@@ ect@@ (p@@ rovider@@ Proxy@@ Fac@@ t@@ ory@@ .@@ c@@ re@@ ate(@@ p@@ rovider@@ )).@@ thenReturn(@@ network@@ Provider@@ Proxy@@ ); }
public static org.ovirt.engine.core.bll.@@ p@@ rovider.@@ storage.@@ Op@@ en@@ St@@ ack@@ Volume@@ Provider@@ Pro@@ x@@ y get@@ From@@ StorageDomain@@ Id(@@ org.ovirt.engine.core.compat.Guid storageDomain@@ Id, org.ovirt.engine.core.compat.Guid user@@ ID@@ , boolean is@@ Filter@@ ed@@ ) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ Domain = get@@ DbFacad@@ e().get@@ StorageDomain@@ Dao().get@@ (@@ storageDomain@@ Id, user@@ ID@@ , is@@ Filter@@ ed@@ ); if (@@ storage@@ Domain != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ Provi@@ der p@@ rovi@@ der = get@@ DbFacad@@ e().get@@ Provider@@ Dao().get@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (@@ storageDomain@@ .get@@ Storage@@ ())); return org.ovirt.engine.core.bll.@@ p@@ rovider@@ .@@ for@@ em@@ an@@ .@@ For@@ em@@ an@@ Host@@ Provider@@ Proxy@@ .@@ p@@ rovider@@ Proxy@@ Fac@@ t@@ or@@ y@@ .@@ c@@ re@@ ate(@@ p@@ rovider@@ ); } return null@@ ; }
public static org.ovirt.engine.core.bll.@@ p@@ rovider.@@ storage.@@ Op@@ en@@ St@@ ack@@ Image@@ Provider@@ Pro@@ x@@ y get@@ From@@ StorageDomain@@ Id(@@ org.ovirt.engine.core.compat.Guid storageDomain@@ Id) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ Stati@@ c = get@@ DbFacad@@ e().get@@ StorageDomain@@ Static@@ Dao().get@@ (@@ storageDomain@@ Id); if (@@ storageDomain@@ Stati@@ c != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ Provider@@ <?@@ > p@@ rovi@@ der = get@@ DbFacad@@ e().get@@ Provider@@ Dao().get@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (@@ storageDomain@@ Static@@ .get@@ Storage@@ ())); return org.ovirt.engine.core.bll.@@ p@@ rovider@@ .@@ Op@@ en@@ St@@ ack@@ Image@@ Provider@@ Proxy@@ .@@ p@@ rovider@@ Proxy@@ Fac@@ t@@ or@@ y@@ .@@ c@@ re@@ ate(@@ p@@ rovider@@ ); } return null@@ ; }
private static org.ovirt.engine.core.bll.@@ p@@ rovider.@@ storage.@@ Op@@ en@@ St@@ ack@@ Volume@@ Provider@@ Pro@@ x@@ y get@@ Provider@@ From@@ StorageDomain@@ Static@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ Static@@ ) { org.ovirt.engine.core.common.businessentities.@@ Provi@@ der p@@ rovi@@ der = get@@ DbFacad@@ e().get@@ Provider@@ Dao().get@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (@@ storageDomain@@ Static@@ .get@@ Storage@@ ())); return org.ovirt.engine.core.bll.@@ p@@ rovider@@ .@@ Op@@ en@@ St@@ ack@@ Volume@@ Provider@@ Proxy@@ .@@ p@@ rovider@@ Proxy@@ .@@ c@@ re@@ ate(@@ p@@ rovider@@ ); }
public void de@@ al@@ loc@@ ate@@ If@@ External@@ () { if ((@@ (get@@ Network@@ ()) != null@@ ) && (get@@ Network@@ ().is@@ External@@ ())) { org.ovirt.engine.core.common.businessentities.@@ Provider@@ <?@@ > p@@ rovi@@ der = get@@ Provider@@ Dao().get@@ (get@@ Network@@ ().get@@ Provi@@ d@@ ed@@ By@@ ().get@@ Provider@@ Id()); org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.Network@@ Provider@@ Pro@@ x@@ y p@@ rovider@@ Pro@@ x@@ y = p@@ rovider@@ Proxy@@ Fac@@ t@@ or@@ y@@ .@@ c@@ re@@ ate(@@ p@@ rovider@@ ); try { p@@ rovider@@ Proxy@@ .@@ de@@ al@@ loc@@ ate(@@ nic@@ ); } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base remove@@ Port@@ Fail@@ ure@@ Event = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(); remove@@ Port@@ Fail@@ ure@@ Ev@@ ent.@@ add@@ Custom@@ Value("@@ Nic@@ Name@@ ", nic@@ .get@@ Name()); remove@@ Port@@ Fail@@ ure@@ Ev@@ ent.@@ add@@ Custom@@ Value("@@ Nic@@ Id@@ ", nic@@ .get@@ Id().@@ toString@@ ()); remove@@ Port@@ Fail@@ ure@@ Ev@@ ent.@@ add@@ Custom@@ Value("@@ Provider@@ Name@@ ", p@@ rovider@@ .get@@ Name()); get@@ AuditLog@@ Direct@@ or@@ ().@@ log@@ (@@ remove@@ Port@@ Fail@@ ure@@ Event@@ , AuditLogType.@@ RE@@ M@@ OV@@ E_@@ F@@ RO@@ M@@ _@@ EX@@ TER@@ N@@ AL@@ _P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ ED); } }
@java.lang.Override protected void update@@ StorageDomain@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion c@@ ompatibilityVersion@@ ) { if ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ StorageDomain@@ C@@ ommon@@ .get@@ StorageDomain@@ ().get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e()) == null@@ ) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ StorageDomain@@ C@@ ommon@@ .get@@ StorageDomain@@ ().set@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ (@@ false@@ ); } }
@java.lang.Override protected void update@@ StorageDomain@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion c@@ ompatibilityVersion@@ ) { if ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e()) == null@@ ) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().set@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ Supported@@ (c@@ ompatibilityVersion@@ )); } }
@java.lang.Override public void init@@ () { super@@ .@@ init@@ (); update@@ StorageDomain@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ get@@ T@@ arget@@ StoragePool@@ ().get@@ CompatibilityVersion@@ ()); }
protected abstract void update@@ StorageDomain@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion c@@ ompatibilityVersion@@ );
protected boolean validate@@ Attached@@ Direct@@ Lun@@ s() { if ((@@ org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Sync@@ Attached@@ Direct@@ Lun@@ s@@ Command.getParameters().get@@ Attached@@ Direct@@ Lun@@ s@@ Id@@ s()) == null@@ ) { return true@@ ; } java.util.Set@@ <java.lang.String@@ > id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool = get@@ Id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ (); java.util.Collection@@ <java.lang.String@@ > d@@ irect@@ Lun@@ s@@ Not@@ Attached@@ To@@ Vm@@ In@@ Pool = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Sync@@ Attached@@ Direct@@ Lun@@ s@@ Command.getParameters().get@@ Attached@@ Direct@@ Lun@@ s@@ Id@@ s().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( lun@@ Id) -@@ > !@@ (@@ id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Poo@@ l.@@ contains(@@ lun@@ Id@@ )@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); return (@@ d@@ irect@@ Lun@@ s@@ Not@@ Attached@@ To@@ Vm@@ In@@ Poo@@ l.@@ isEmpty@@ ()) || (@@ fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ S@@ Y@@ N@@ C@@ _@@ D@@ I@@ RE@@ C@@ T_@@ LUN@@ S_@@ NOT_@@ AT@@ T@@ AC@@ H@@ ED_@@ T@@ O@@ _@@ VM_@@ IN@@ _P@@ O@@ OL@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ lun@@ Id@@ s %@@ s", d@@ irect@@ Lun@@ s@@ Not@@ Attached@@ To@@ Vm@@ In@@ Poo@@ l.@@ st@@ re@@ am@@ ().@@ s@@ ort@@ ed@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ ,@@ "@@ )@@ ), java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ storagePool@@ Id %@@ s", org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Sync@@ Attached@@ Direct@@ Lun@@ s@@ Command.getParameters().get@@ StoragePool@@ Id@@ ()))); }
private void mock@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ (@@ java.lang.String.@@ .@@ . Lun@@ s@@ Id@@ s) { do@@ Return@@ (@@ new java.util.Hash@@ Set@@ (@@ java.util.Arrays.as@@ List(@@ Lun@@ s@@ Id@@ s@@ Id@@ s@@ )@@ )).@@ when@@ (command@@ ).get@@ Id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ (); }
@org.junit.Test public void test@@ Get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ () { command@@ .get@@ Parameters@@ ().set@@ Device@@ List(@@ java.util.Arrays.as@@ List(@@ lun@@ 1, lun@@ 2@@ , lun@@ 3@@ )); mock@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ ("@@ lun@@ 1@@ ", "@@ lun@@ 2@@ "); assert@@ E@@ quals(@@ java.util.Arrays.as@@ List(@@ lun@@ 1, lun@@ 2@@ ), command@@ .get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ ()); }
protected java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> get@@ Lun@@ sTo@@ Update@@ In@@ Db@@ () { java.util.Set@@ <java.lang.String@@ > id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool = get@@ Id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ (); java.util.List<java.lang.String> lun@@ s@@ Id@@ s = java.util.@@ Option@@ al.@@ o@@ f@@ Null@@ able(@@ org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Sync@@ Attached@@ Direct@@ Lun@@ s@@ Command.getParameters().get@@ Attached@@ Direct@@ Lun@@ s@@ Id@@ s@@ ()).@@ map@@ (@@ java.util.Array@@ List@@ :@@ new@@ ).@@ or@@ El@@ se@@ (@@ null@@ ); return org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Sync@@ Attached@@ Direct@@ Lun@@ s@@ Command.get@@ Device@@ List(@@ lun@@ s@@ Id@@ s@@ ).@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( lun@@ ) -@@ > id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Poo@@ l.@@ contains(@@ lun@@ .getId@@ ())@@ ).@@ p@@ e@@ k@@ (@@ ( lun@@ ) -@@ > lun@@ .set@@ Volume@@ Group@@ Id@@ ("@@ "@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); }
@org.junit.Test public void validate@@ Attached@@ Direct@@ Lun@@ sWith@@ Lun@@ s@@ That@@ A@@ re@@ Not@@ Attached@@ To@@ Vm@@ In@@ Pool@@ () { command@@ .get@@ Parameters@@ ().set@@ Attached@@ Direct@@ Lun@@ s@@ Id@@ s(@@ java.util.Arrays.as@@ List@@ ("@@ lun@@ 1@@ ", "@@ lun@@ 3@@ ")); mock@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ ("@@ lun@@ 2@@ ", "@@ lun@@ 3@@ "); assert@@ Fal@@ se(@@ command@@ .@@ validate@@ Attached@@ Direct@@ Lun@@ s()); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Util@@ s@@ .@@ assert@@ Validation@@ Messages@@ ("@@ lun@@ 2 is not attach@@ ed to a vm in the dat@@ ac@@ ent@@ er.@@ ", command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ S@@ Y@@ N@@ C@@ _@@ D@@ I@@ RE@@ C@@ T_@@ LUN@@ S_@@ NOT_@@ AT@@ T@@ AC@@ H@@ ED_@@ T@@ O@@ _@@ VM_@@ IN@@ _P@@ O@@ OL@@ ); }
public java.util.Collection@@ <java.lang.String@@ > get@@ Attached@@ Direct@@ Lun@@ s@@ Id@@ s() { return attach@@ ed@@ Direct@@ Lun@@ s@@ Id@@ s@@ ; }
public void set@@ Attached@@ Direct@@ Lun@@ s(@@ java.util.Collection@@ <java.lang.String@@ > attach@@ ed@@ Direct@@ Lun@@ s@@ Id@@ s) { this@@ .@@ attach@@ ed@@ Direct@@ Lun@@ s@@ Id@@ s = attach@@ ed@@ Direct@@ Lun@@ s@@ Id@@ s@@ ; }
java.lang.String ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ S@@ Y@@ N@@ C@@ _@@ D@@ I@@ RE@@ C@@ T_@@ LUN@@ S_@@ NOT_@@ AT@@ T@@ AC@@ H@@ ED_@@ T@@ O@@ _@@ VM_@@ IN@@ _P@@ O@@ OL@@ ();
protected java.util.Set@@ <java.lang.String@@ > get@@ Id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ () { if ((@@ id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ ) == null@@ ) { id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool = disk@@ Lun@@ Map@@ Dao@@ .get@@ Disk@@ Lun@@ Map@@ s@@ For@@ Vms@@ In@@ Pool@@ (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Sync@@ Attached@@ Direct@@ Lun@@ s@@ Command.getParameters().get@@ StoragePool@@ Id@@ ()).@@ st@@ re@@ am@@ ().@@ map@@ (@@ Disk@@ Lun@@ Map@@ :@@ :@@ get@@ Lun@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); } return id@@ s@@ Of@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ ; }
@org.junit.Test public void validate@@ Attached@@ Direct@@ Lun@@ s@@ All@@ Lun@@ s@@ Attached@@ To@@ Vm@@ In@@ Pool@@ () { command@@ .get@@ Parameters@@ ().set@@ Attached@@ Direct@@ Lun@@ s@@ Id@@ s(@@ java.util.Arrays.as@@ List@@ ("@@ lun@@ 1@@ ", "@@ lun@@ 3@@ ")); mock@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ ("@@ lun@@ 1@@ ", "@@ lun@@ 2@@ ", "@@ lun@@ 3@@ "); assert@@ Tr@@ ue(@@ command@@ .@@ validate@@ Attached@@ Direct@@ Lun@@ s()); }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { lun@@ 1 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 1@@ .set@@ Id@@ ("@@ lun@@ 1@@ "); lun@@ 2 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 2@@ .set@@ Id@@ ("@@ lun@@ 2@@ "); lun@@ 3 = new org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s(); lun@@ 3@@ .set@@ Id@@ ("@@ lun@@ 3@@ "); }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") private java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> get@@ Lun@@ s@@ From@@ V@@ g@@ Info@@ () { if ((@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.getParameters().get@@ Lun@@ s@@ From@@ V@@ g@@ Info@@ ()) != null@@ ) { return Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.getParameters().get@@ Lun@@ s@@ From@@ V@@ g@@ Info@@ (); } org.ovirt.engine.core.common.vdscommands.@@ Get@@ V@@ G@@ Info@@ VDSCommand@@ Parameters param@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Get@@ V@@ G@@ Info@@ VDSCommand@@ Parameters(@@ VDSCommand@@ Parameters(@@ VDSCommand@@ Type.Get@@ V@@ G@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.getParameters().get@@ Vds@@ Id(), Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ ()); if ((@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.getParameters().get@@ Vds@@ Id()) == null@@ ) { return ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >) (org.ovirt.engine.core.bll.storage.@@ utils.@@ Vds@@ Command@@ s@@ Helper.@@ run@@ Vds@@ Command@@ With@@ out@@ Fail@@ o@@ ver@@ (@@ VDSCommand@@ Type.Get@@ V@@ G@@ Info@@ , param@@ s, Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StoragePool@@ Id(), null@@ ).get@@ ReturnValu@@ e())); } return ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >) (@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ V@@ G@@ Info@@ , param@@ s@@ ).get@@ ReturnValu@@ e())); }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> get@@ Lun@@ s@@ From@@ V@@ g@@ Info@@ () { return lun@@ s@@ From@@ V@@ g@@ Info@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Sync@@ Attached@@ Direct@@ Lun@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
public static int get@@ Size@@ Of@@ Memory@@ Device@@ M@@ b@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e mem@@ ory@@ Device@@ ) { if ((@@ mem@@ ory@@ Devic@@ e.get@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ Gener@@ al@@ Type.@@ M@@ EM@@ OR@@ Y@@ )) { throw new java.lang.@@ Run@@ time@@ Exception@@ ((((@@ "@@ E@@ r@@ ro@@ r devi@@ c@@ e exp@@ ected b@@ u@@ t devi@@ c@@ e " + mem@@ ory@@ Device@@ ) + " p@@ as@@ se@@ d of typ@@ e ") + (@@ mem@@ ory@@ Devic@@ e.get@@ Typ@@ e()@@ ))); } final java.lang.String s@@ ize@@ T@@ ex@@ t = ((@@ java.lang.String@@ ) (@@ mem@@ ory@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s().get@@ (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ C@@ ommon@@ Utils.@@ SP@@ EC@@ _P@@ AR@@ A@@ M@@ _@@ SI@@ Z@@ E@@ ))); return java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (s@@ ize@@ Text@@ ); }
private void add@@ Import@@ ed@@ O@@ th@@ er@@ Devic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ Base@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Device@@ To@@ Add@@ ) { boolean has@@ C@@ d = false@@ ; for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e vm@@ Devic@@ e : vm@@ Base.get@@ Manage@@ d@@ Device@@ Map@@ ().@@ valu@@ es@@ ()) { switch (vm@@ Devic@@ e.get@@ Type()) { case DIS@@ K : if (@@ VmDevice@@ Type.@@ C@@ D@@ RO@@ M@@ .getName()@@ .equals(@@ vm@@ Devic@@ e.get@@ Devic@@ e())) { has@@ C@@ d = true@@ ; } else { continue@@ ; } break@@ ; case IN@@ TER@@ F@@ AC@@ E : continue@@ ; case V@@ ID@@ E@@ O : vm@@ Devic@@ e.set@@ Sp@@ ec@@ Param@@ s(@@ get@@ V@@ id@@ eo@@ Device@@ Sp@@ ec@@ Param@@ s(@@ vm@@ Base@@ )); break@@ ; case HOST@@ DE@@ V : continue@@ ; } vm@@ Devic@@ e.set@@ Manage@@ d@@ (@@ true@@ ); vm@@ Device@@ To@@ Add@@ .@@ add(@@ vm@@ Device@@ ); } if (!@@ has@@ C@@ d@@ ) { add@@ C@@ d@@ Devic@@ e(@@ vm@@ Base.get@@ Id()); } final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > un@@ manage@@ d@@ Devic@@ es@@ To@@ Ad@@ d = vm@@ Base.get@@ Un@@ manage@@ d@@ Device@@ List@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Util@@ s@@ :@@ remove@@ M@@ al@@ for@@ m@@ ed@@ Memory@@ Devic@@ es@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); vm@@ Device@@ To@@ Add@@ .@@ add@@ All@@ (org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Util@@ s@@ :@@ remove@@ M@@ al@@ for@@ m@@ ed@@ Memory@@ Devic@@ es@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); vm@@ Device@@ To@@ Add@@ .@@ add@@ All@@ (org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Util@@ s@@ :@@ remove@@ M@@ al@@ for@@ m@@ ed@@ Memory@@ Devic@@ es@@ To@@ Add@@ ); }
private static boolean remove@@ M@@ al@@ for@@ m@@ ed@@ Memory@@ Devic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e vm@@ Device@@ ) { if ((((@@ vm@@ Devic@@ e.get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ Gener@@ al@@ Type.@@ M@@ EM@@ OR@@ Y@@ )) && (@@ VmDevice@@ Type.@@ M@@ EM@@ OR@@ Y@@ .getName()@@ .equals(@@ vm@@ Devic@@ e.get@@ Devic@@ e()@@ ))) && (((@@ vm@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s().get@@ (@@ VmDevice@@ C@@ ommon@@ Utils.@@ SP@@ EC@@ _P@@ AR@@ A@@ M@@ _@@ SI@@ Z@@ E@@ )) == null@@ ) || ((@@ vm@@ Devic@@ e.get@@ Sp@@ ec@@ Param@@ s().get@@ (@@ VmDevice@@ C@@ ommon@@ Utils.@@ SP@@ EC@@ _P@@ AR@@ A@@ M@@ _@@ N@@ OD@@ E@@ )) == null@@ )) { return false@@ ; } return true@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se update@@ Ovf@@ Stor@@ e(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { org.ovirt.engine.core.common.action.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StorageDomain@@ Command@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StorageDomain@@ Command@@ Parameters@@ (); params.set@@ StorageDomain@@ Id(@@ g@@ uid@@ ); params.set@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StoragePool@@ (@@ true@@ ); return p@@ er@@ for@@ m@@ Action(VdcActionType.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StorageDomain@@ , param@@ s); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map ma@@ p = load@@ StoragePool@@ Iso@@ Map@@ (); ch@@ ang@@ e@@ Domain@@ Status@@ With@@ Comp@@ en@@ s@@ ation@@ (@@ map@@ , StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ , StorageDomain@@ Status.@@ Lock@@ ed@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Comp@@ en@@ s@@ ation@@ Context@@ ()); if (@@ sh@@ oul@@ d@@ P@@ er@@ for@@ m@@ Ovf@@ Updat@@ e()) { org.ovirt.engine.core.common.action.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StoragePool@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StoragePool@@ Parameters@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ StoragePool@@ Id()); run@@ Internal@@ Action(VdcActionType.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StoragePool@@ , parameter@@ s, null@@ ); run@@ Internal@@ Action@@ With@@ Task@@ s@@ Cont@@ ex@@ t (Vdc@@ Action@@ Type, create@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ Domain@@ Param@@ s@@ , null@@ ); } if (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.@@ no@@ Async@@ Operation@@ s()) { execute@@ De@@ acti@@ vate@@ Command@@ (); } org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override protected void execute@@ Command() { if (org.ovirt.engine.core.bll.storage.@@ o@@ vf@@ stor@@ e.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StorageDomain@@ Command.get@@ Parameters@@ ().is@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StoragePool@@ ()) { s@@ ync@@ Ovf@@ For@@ StoragePool@@ (); } int mis@@ sing@@ Disk@@ C@@ oun@@ t = get@@ M@@ is@@ sing@@ Disk@@ Count@@ (); if (@@ mis@@ sing@@ Disk@@ C@@ oun@@ t == 0) { set@@ Ovf@@ Update@@ St@@ ep@@ (@@ Ovf@@ Update@@ St@@ ep@@ .@@ OV@@ F@@ _@@ UP@@ LO@@ AD@@ ); update@@ Ovf@@ Stor@@ e@@ Cont@@ ent@@ (); } else { set@@ Ovf@@ Update@@ St@@ ep@@ (@@ Ovf@@ Update@@ St@@ ep@@ .@@ OV@@ F@@ _@@ STOR@@ E@@ S_@@ C@@ RE@@ A@@ TI@@ ON@@ ); create@@ Ovf@@ Stor@@ e@@ Disk@@ s(@@ get@@ M@@ is@@ sing@@ Disk@@ Count@@ ()); } org.ovirt.engine.core.bll.storage.@@ o@@ vf@@ stor@@ e.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StorageDomain@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private org.ovirt.engine.core.common.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Vm@@ Properties@@ Util@@ s mock@@ Vm@@ Properties@@ Util@@ s() throw@@ s org.ovirt.engine.core.common.utils.@@ ex@@ ce@@ ption@@ s.@@ In@@ itial@@ iz@@ ation@@ Exception { org.ovirt.engine.core.common.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Vm@@ Properties@@ Util@@ s uti@@ l@@ s = sp@@ y@@ (@@ new org.ovirt.engine.core.common.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Vm@@ Properties@@ Util@@ s()); do@@ Return@@ ((@@ "@@ s@@ ap@@ _@@ ag@@ ent@@ =@@ ^@@ (@@ true@@ |@@ false@@ )@@ $@@ ;@@ s@@ n@@ db@@ u@@ f@@ =@@ ^@@ [@@ 0@@ -@@ 9@@ ]@@ +@@ $@@ ;@@ " + (@@ " + ("@@ v@@ host@@ =@@ ^@@ ((@@ [@@ a@@ -@@ z@@ A@@ -@@ Z@@ 0@@ -@@ 9@@ _@@ ]@@ *@@ )@@ :@@ (@@ true@@ |@@ false@@ )@@ (@@ ,@@ ((@@ [@@ a@@ -@@ z@@ A@@ -@@ Z@@ 0@@ -@@ 9@@ _@@ ]@@ *@@ )@@ :@@ (@@ true@@ |@@ false@@ )@@ )@@ *@@ $@@ ;@@ " + "@@ vi@@ od@@ isk@@ c@@ ach@@ e@@ =@@ ^@@ (@@ n@@ one@@ |@@ w@@ rit@@ et@@ h@@ rou@@ g@@ h@@ )@@ $@@ "@@ )) + "@@ m@@ de@@ v@@ _@@ type@@ =@@ ^@@ .@@ *@@ $@@ "@@ )@@ )).@@ when(@@ uti@@ l@@ s@@ ).get@@ P@@ red@@ e@@ fin@@ ed@@ VM@@ Properties@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )); do@@ Return@@ ("@@ ").@@ when(@@ uti@@ l@@ s@@ ).get@@ User@@ de@@ fin@@ ed@@ VM@@ Properties@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )); do@@ Return@@ (@@ new java.util.Hash@@ Set@@ (@@ java.util.Arrays.as@@ List(@@ Version@@ .@@ v@@ 3@@ _@@ 6@@ , Version@@ .@@ v@@ 4@@ _@@ 0@@ )@@ )).@@ when(@@ uti@@ l@@ s@@ ).get@@ Supported@@ Cluster@@ L@@ ev@@ el@@ s(); do@@ Return(@@ uti@@ l@@ s@@ ).@@ when(@@ run@@ Vm@@ Validator@@ ).get@@ Vm@@ Properties@@ Util@@ s(); utils.@@ init@@ (); return uti@@ l@@ s@@ ; }
public void set@@ Sing@@ le@@ Sel@@ ection@@ Only@@ () { sing@@ le@@ Sel@@ ection@@ On@@ l@@ y = true@@ ; }
public com.google.gwt.@@ view@@ .client.@@ Sel@@ ection@@ Model@@ <@@ T@@ > get@@ Sel@@ ection@@ Model@@ () { if ((@@ s@@ el@@ ection@@ Model) == null@@ ) { if (s@@ ing@@ le@@ Sel@@ ection@@ Only@@ ) { s@@ el@@ ection@@ Model = new com.google.gwt.@@ view@@ .client.@@ Sing@@ le@@ Sel@@ ection@@ Model@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ Query@@ able@@ Entity@@ Key@@ Provider@@ ()); } else { s@@ el@@ ection@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ Or@@ der@@ ed@@ Multi@@ Sel@@ ection@@ Model@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ Query@@ able@@ Entity@@ Key@@ Provider@@ ()); } return s@@ el@@ ection@@ Model@@ ; }
protected com.google.gwt.@@ view@@ .client.@@ Provider@@ <@@ T@@ > get@@ Data@@ Provider@@ () { if (@@ data@@ Provider@@ )) { data@@ Provi@@ der = new com.google.gwt.@@ view@@ .client.@@ AsyncData@@ Provider@@ <@@ T@@ >@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Data@@ B@@ ound@@ Tab@@ Model@@ Provider@@ .get@@ Model().get@@ Sel@@ ection@@ Model@@ ()) { @java.lang.Override protected void on@@ R@@ ang@@ e@@ Changed@@ (c@@ om@@ .google.gwt.@@ view@@ .client.@@ H@@ as@@ Data@@ <@@ T@@ > dis@@ play@@ ) { update@@ Data@@ (); } }; } return data@@ Provider@@ ; }
@java.lang.Override public java.util.List<@@ T@@ > get@@ SelectedItem@@ s() { com.google.gwt.@@ view@@ .client.@@ Sel@@ ection@@ Model@@ <@@ T@@ > s@@ el@@ ection@@ Model = org.ovirt.engine.ui.common.widget.@@ action.@@ S@@ im@@ ple@@ Action@@ Panel@@ .get@@ Data@@ Provider@@ ().get@@ Model().get@@ Sel@@ ection@@ Model@@ (); if (s@@ el@@ ection@@ Model instanceof org.ovirt.engine.ui.uicommonweb.models.@@ Or@@ der@@ ed@@ Multi@@ Sel@@ ection@@ Model) { return ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Or@@ der@@ ed@@ Multi@@ Sel@@ ection@@ Model@@ <@@ T@@ >) (s@@ el@@ ection@@ Model@@ )@@ ).get@@ Selected@@ List@@ (); } else if (s@@ el@@ ection@@ Model instanceof com.google.gwt.@@ view@@ .client.@@ Sing@@ le@@ Sel@@ ection@@ Model) { return uti@@ l@@ .@@ Array@@ s.@@ as@@ List@@ ((@@ (c@@ om@@ .google.gwt.@@ view@@ .client.@@ Sing@@ le@@ Sel@@ ection@@ Model@@ <@@ T@@ >) (s@@ el@@ ection@@ Model@@ )@@ ).get@@ Selected@@ Object@@ ()); } return java.util.Arrays.as@@ List@@ (c@@ om@@ .google.gwt.@@ view@@ .client.@@ Sing@@ le@@ Sel@@ ection@@ Model@@ <@@ T@@ >) (s@@ el@@ ection@@ Model@@ )@@ ).get@@ Selected@@ Object@@ ()); }
@java.lang.Override protected void initial@@ ize@@ Model@@ Handl@@ ers@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ b@@ ook@@ mar@@ k@@ s.@@ B@@ ook@@ mar@@ k@@ ListModel model@@ ) { super@@ .@@ initial@@ ize@@ Model@@ Handl@@ ers@@ (model@@ ); model.get@@ Item@@ S@@ av@@ ed@@ Event@@ ().add@@ Listener@@ (@@ ( sender, args) -@@ > cl@@ e@@ ar@@ Sel@@ ection@@ ()); getModel().get@@ Sel@@ ection@@ Model@@ ().add@@ Sel@@ ection@@ Change@@ Handler@@ (@@ this@@ , event@@ ) -@@ > { this@@ .set@@ SelectedItem@@ s(@@ java.util.Arrays.as@@ List@@ (((@@ Sing@@ le@@ Sel@@ ection@@ Model@@ <org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k@@ >) (get@@ Model().get@@ Sel@@ ection@@ Model@@ ())@@ ).get@@ Selected@@ Object@@ ())); }
@java.lang.Override public java.util.List<@@ T@@ > get@@ SelectedItem@@ s() { if (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ S@@ im@@ ple@@ Action@@ Panel@@ .get@@ Data@@ Provider@@ ().get@@ Model@@ ().is@@ Sing@@ le@@ Sel@@ ection@@ Only@@ ()) { return ((@@ java.util.List<@@ T@@ >) (@@ java.util.Collections.@@ sing@@ leton@@ List@@ ((@@ com.google.gwt.@@ view@@ .client.@@ Sing@@ le@@ Sel@@ ection@@ Model@@ <@@ T@@ >) (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ S@@ im@@ ple@@ Action@@ Panel@@ .get@@ Data@@ Provider@@ ().get@@ Model@@ ().@@ add(@@ org.ovirt.engine.ui.common.widget.@@ action.@@ S@@ im@@ ple@@ Action@@ Panel@@ .get@@ Selected@@ Object@@ ()))); } else { return ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Or@@ der@@ ed@@ Multi@@ Sel@@ ection@@ Model@@ <@@ T@@ >) (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ S@@ im@@ ple@@ Action@@ Panel@@ .get@@ Data@@ Provider@@ ().get@@ Model@@ ().@@ s@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ S@@ im@@ ple@@ Action@@ Panel@@ .get@@ Data@@ Provider@@ ().get@@ Model@@ ())@@ ).get@@ Selected@@ List@@ (); } }
private org.ovirt.engine.core.common.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Vm@@ Properties@@ Util@@ s mock@@ Vm@@ Properties@@ Util@@ s() throw@@ s org.ovirt.engine.core.common.utils.@@ ex@@ ce@@ ption@@ s.@@ In@@ itial@@ iz@@ ation@@ Exception { org.ovirt.engine.core.common.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Vm@@ Properties@@ Util@@ s uti@@ l@@ s = sp@@ y@@ (@@ new org.ovirt.engine.core.common.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Vm@@ Properties@@ Util@@ s()); do@@ Return@@ ((@@ "@@ s@@ ap@@ _@@ ag@@ ent@@ =@@ ^@@ (@@ true@@ |@@ false@@ )@@ $@@ ;@@ s@@ n@@ db@@ u@@ f@@ =@@ ^@@ [@@ 0@@ -@@ 9@@ ]@@ +@@ $@@ ;@@ " + ((@@ "@@ v@@ host@@ =@@ ^@@ ((@@ [@@ a@@ -@@ z@@ A@@ -@@ Z@@ 0@@ -@@ 9@@ _@@ ]@@ *@@ )@@ :@@ (@@ true@@ |@@ false@@ )@@ (@@ ,@@ ((@@ [@@ a@@ -@@ z@@ A@@ -@@ Z@@ 0@@ -@@ 9@@ _@@ ]@@ *@@ )@@ :@@ (@@ true@@ |@@ false@@ )@@ )@@ *@@ $@@ ;@@ " + "@@ vi@@ od@@ isk@@ c@@ ach@@ e@@ =@@ ^@@ (@@ n@@ one@@ |@@ w@@ rit@@ et@@ h@@ rou@@ g@@ h@@ )@@ $@@ ;@@ ") + "@@ m@@ de@@ v@@ _@@ type@@ =@@ ^@@ .@@ *@@ $@@ ;@@ h@@ ug@@ ep@@ ages@@ =@@ ^@@ (@@ true@@ |@@ false@@ )@@ |@@ (@@ [@@ 0@@ -@@ 9@@ ]@@ +@@ )@@ $@@ ;@@ h@@ ug@@ ep@@ ages@@ z@@ =@@ ^@@ [@@ 0@@ -@@ 9@@ ]@@ +@@ $@@ "@@ )@@ )).@@ when(@@ uti@@ l@@ s@@ ).get@@ P@@ red@@ e@@ fin@@ ed@@ VM@@ Properties@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )); do@@ Return@@ ("@@ ").@@ when(@@ uti@@ l@@ s@@ ).get@@ User@@ de@@ fin@@ ed@@ VM@@ Properties@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )); do@@ Return@@ (@@ new java.util.Hash@@ Set@@ (@@ java.util.Arrays.as@@ List(@@ Version@@ .@@ v@@ 3@@ _@@ 6@@ , Version@@ .@@ v@@ 4@@ _@@ 0@@ )@@ )).@@ when(@@ uti@@ l@@ s@@ ).get@@ Supported@@ Cluster@@ L@@ ev@@ el@@ s(); do@@ Return(@@ uti@@ l@@ s@@ ).@@ when(@@ run@@ Vm@@ Validator@@ ).get@@ Vm@@ Properties@@ Util@@ s(); utils.@@ init@@ (); return uti@@ l@@ s@@ ; }
public void set@@ H@@ ead@@ er@@ Title(@@ java.lang.String ti@@ t@@ l@@ e) { this@@ .@@ ti@@ t@@ l@@ e = ti@@ t@@ le@@ ; this@@ .@@ m@@ y@@ Id = ti@@ t@@ l@@ e.get@@ String@@ (); }
public void set@@ Data@@ T@@ og@@ g@@ le@@ Info@@ (@@ final gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .@@ client@@ .@@ ui@@ E@@ n@@ try@@ Set@@ ()) { t@@ og@@ g@@ le@@ Panel@@ .@@ add@@ Cont@@ ent@@ Widget@@ (@@ this@@ , t@@ og@@ g@@ le@@ ); }
public void add@@ No@@ t@@ if@@ ication@@ List@@ W@@ id@@ g@@ e(@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ al@@ er@@ t.@@ No@@ t@@ if@@ ication@@ List@@ W@@ id@@ g@@ e@@ t widget@@ ) { widget@@ .set@@ Data@@ T@@ og@@ g@@ le@@ Info@@ (@@ T@@ og@@ g@@ l@@ e.@@ C@@ OL@@ L@@ A@@ P@@ S@@ E@@ , org.ovirt.engine.ui.webadmin.@@ widget.@@ al@@ er@@ t@@ .@@ Event@@ s@@ List@@ P@@ op@@ o@@ v@@ er.@@ E@@ V@@ EN@@ T_@@ AC@@ C@@ OR@@ D@@ I@@ ON@@ ); cont@@ ent@@ Panel@@ .@@ add(@@ org.ovirt.engine.ui.common.widget.@@ action.@@ W@@ id@@ g@@ e@@ t@@ if@@ ication@@ .@@ Abstract@@ M@@ o@@ v@@ .@@ No@@ t@@ if@@ ication@@ Method@@ .@@ const@@ an@@ t@@ s.@@ d@@ es@@ k@@ ().@@ fin@@ d@@ (@@ event@@ ), get@@ Widget@@ (), get@@ Widget@@ (), get@@ Widget@@ Widget@@ (), event.@@ get@@ Widget@@ ()); }
private boolean check@@ If@@ C@@ oll@@ ap@@ s@@ ed@@ () { boolean result = false@@ ; if ((@@ ti@@ t@@ le@@ An@@ ch@@ or@@ ) != null@@ ) { java.lang.String st@@ y@@ le@@ Strin@@ g = ti@@ t@@ le@@ An@@ ch@@ or@@ .get@@ Sty@@ le@@ Nam@@ e(); if (@@ st@@ y@@ le@@ Strin@@ g != null@@ ) { java.lang.String@@ [@@ ] st@@ y@@ le@@ s = st@@ y@@ le@@ Strin@@ g.@@ s@@ pl@@ it@@ (@@ " "); for (java.lang.String st@@ y@@ l@@ e : st@@ y@@ l@@ es) { if (@@ st@@ y@@ l@@ e.@@ equals(@@ P@@ at@@ ter@@ n@@ f@@ ly@@ Constant@@ s.@@ C@@ OL@@ L@@ A@@ P@@ S@@ ED@@ )) { result = true@@ ; break@@ ; } } } else { result = st@@ art@@ C@@ oll@@ ap@@ s@@ ed@@ ; } return result@@ ; }
private void update@@ Permission@@ Panel@@ () { final org.ovirt.engine.core.common.businessentities.@@ profil@@ es.@@ Cpu@@ Profil@@ e cpu@@ Profil@@ e = getModel().get@@ SelectedItem@@ (); final org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ S@@ im@@ ple@@ Action@@ T@@ able@@ <org.ovirt.engine.core.common.businessentities.@@ profil@@ es.@@ Cpu@@ Profile@@ > tabl@@ e = get@@ T@@ abl@@ e(); com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ f@@ err@@ ed@@ ((@@ ) -@@ > { if ((@@ per@@ mission@@ Panel@@ Visi@@ bl@@ e) && (c@@ pu@@ Profil@@ e == null@@ )) { t@@ able@@ Cont@@ ain@@ er.@@ cl@@ e@@ ar@@ (); t@@ able@@ Cont@@ ain@@ er.@@ add@@ (get@@ Cont@@ ain@@ er@@ ()); per@@ mission@@ Panel@@ Visi@@ bl@@ e = false@@ ; } else if ((!@@ (@@ per@@ mission@@ Panel@@ Visi@@ bl@@ e@@ )) && (c@@ pu@@ Profil@@ e != null@@ )) { t@@ able@@ Cont@@ ain@@ er.@@ cl@@ e@@ ar@@ (); t@@ able@@ Cont@@ ain@@ er.@@ add@@ (get@@ Cont@@ ain@@ er@@ ()); t@@ able@@ Cont@@ ain@@ er.@@ add(@@ per@@ mission@@ Cont@@ ain@@ er@@ ); per@@ mission@@ Panel@@ Visi@@ bl@@ e = true@@ ; } }); }
public java.lang.String get@@ Search@@ String@@ (java.lang.String pre@@ fi@@ x@@ ) { java.lang.String result = null@@ ; if (@@ pre@@ fi@@ x != null@@ ) { result = search@@ String@@ Map@@ .get(@@ pre@@ fi@@ x@@ ); search@@ String@@ Map@@ .@@ remov@@ e(@@ pre@@ fi@@ x@@ ); } return result@@ ; }
@java.lang.Override public void set@@ Search@@ Panel@@ (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t search@@ Panel@@ ) { action@@ Panel@@ .set@@ Search@@ Panel@@ (@@ search@@ Panel@@ ); }
@java.lang.Override protected void on@@ B@@ in@@ d@@ () { super@@ .@@ on@@ B@@ in@@ d@@ (); re@@ g@@ ist@@ er@@ Handler@@ (get@@ T@@ abl@@ e().get@@ Sel@@ ection@@ Model@@ ().add@@ Sel@@ ection@@ Change@@ Handler@@ (@@ "@@ get@@ Event@@ B@@ us@@ ().add@@ Handler@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Ap@@ pl@@ y@@ Search@@ String@@ Ev@@ ent.@@ get@@ Typ@@ e(), "@@ event@@ ) -@@ > "); ap@@ pl@@ y@@ Search@@ String@@ (@@ event.@@ get@@ Search@@ String@@ ()); }
@org.junit.Test public void test@@ Command@@ Class@@ Exist@@ enc@@ e() { org.ovirt.engine.core.bll.@@ Command@@ Enum@@ Test@@ Utils.@@ test@@ Command@@ s@@ Exist@@ (@@ org.ovirt.engine.core.common.action.@@ Action@@ Type@@ .@@ class@@ , "@@ c@@ anDo@@ Ac@@ tion d@@ id not ex@@ ist@@ s@@ "); }
@org.junit.Test public void test@@ AuditLog@@ Type@@ Value@@ Un@@ i@@ qu@@ en@@ ess@@ () { java.util.@@ B@@ it@@ Se@@ t b@@ it@@ se@@ t = new java.util.@@ B@@ it@@ Set@@ (org.ovirt.engine.core.bll.@@ Action@@ Type@@ Test.@@ b@@ it@@ Set@@ Size@@ ); java.util.Set@@ <@@ java.lang.Integer@@ > n@@ on@@ Un@@ i@@ qu@@ e@@ Value@@ s = new java.util.@@ T@@ ree@@ Set@@ <@@ >(); for (@@ org.ovirt.engine.core.common.action.@@ Action@@ Type va@@ t : org.ovirt.engine.core.common.action.@@ ActionType.@@ valu@@ es@@ ()) { if (@@ b@@ it@@ set@@ .get(@@ va@@ t.get@@ Valu@@ e())) { n@@ on@@ Un@@ i@@ qu@@ e@@ Values.@@ add(@@ va@@ t.get@@ Valu@@ e()); } else { b@@ it@@ set@@ (@@ va@@ t.get@@ Valu@@ e()); } } assert@@ Tr@@ ue@@ ((@@ "@@ Action@@ Type contain@@ s the f@@ ol@@ low@@ ing n@@ on un@@ i@@ qu@@ e valu@@ es@@ : " + n@@ on@@ Un@@ i@@ qu@@ e@@ Valu@@ es@@ ), n@@ on@@ Un@@ i@@ qu@@ e@@ Values.@@ isEmpty@@ ()); }
private java.util.Map<java.lang.String, java.lang.Object> par@@ se@@ B@@ alloon@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > devi@@ c@@ es) { java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > d@@ b = devi@@ c@@ es.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ("@@ f@@ ro@@ m de@@ v@@ ) -@@ > (@@ de@@ v@@ .get@@ Type()) == VmDevice@@ Gener@@ al@@ Type.@@ B@@ AL@@ LO@@ ON@@ ).@@ fin@@ d@@ F@@ ir@@ st@@ (); if (!(@@ db@@ .is@@ P@@ resent@@ ())) { return java.util.Collections.@@ em@@ pty@@ Map@@ (); } org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e devi@@ c@@ e = db@@ .get@@ (); org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ od@@ e = do@@ c@@ um@@ ent.@@ s@@ el@@ ect@@ Sing@@ le@@ Nod@@ e(@@ "@@ /@@ mem@@ b@@ alloon@@ "); java.util.Map<java.lang.String, java.lang.Object> result = new java.util.HashMap@@ <@@ >(); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Device@@ , "@@ mem@@ b@@ alloon@@ "); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Device@@ Id, devi@@ c@@ e.get@@ Id@@ ().get@@ Device@@ Id().@@ toString@@ ()); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Address@@ , par@@ se@@ Address@@ (@@ n@@ ode@@ )); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Alias@@ , par@@ se@@ Alias@@ (@@ n@@ ode@@ )); return result@@ ; }
private java.util.Map<java.lang.String, java.lang.Object> par@@ se@@ W@@ at@@ ch@@ do@@ g@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > devi@@ c@@ es) { java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > d@@ b = devi@@ c@@ es.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ("@@ de@@ v@@ ) -@@ > (@@ de@@ v@@ .get@@ Type()) == VmDevice@@ Gener@@ al@@ Type.@@ W@@ AT@@ C@@ H@@ DO@@ G@@ ).@@ fin@@ d@@ F@@ ir@@ st@@ (); if (!(@@ db@@ .is@@ P@@ resent@@ ())) { return java.util.Collections.@@ em@@ pty@@ Map@@ (); } org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e devi@@ c@@ e = db@@ .get@@ (); org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ od@@ e = do@@ c@@ um@@ ent.@@ s@@ el@@ ect@@ Sing@@ le@@ Nod@@ e(@@ "@@ /@@ *@@ /@@ w@@ at@@ ch@@ do@@ g@@ "); java.util.Map<java.lang.String, java.lang.Object> result = new java.util.HashMap@@ <@@ >(); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Device@@ , "@@ w@@ at@@ ch@@ do@@ g@@ "); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Device@@ Id, devi@@ c@@ e.get@@ Id@@ ().get@@ Device@@ Id().@@ toString@@ ()); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Address@@ , par@@ se@@ Address@@ (@@ n@@ ode@@ )); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Alias@@ , par@@ se@@ Alias@@ (@@ n@@ ode@@ )); return result@@ ; }
private java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> par@@ se@@ V@@ id@@ eo@@ s(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > devi@@ c@@ es) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > d@@ b = devi@@ c@@ es.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ("@@ f@@ ro@@ m d@@ ) -@@ > (@@ d@@ .get@@ Type()) == VmDevice@@ Gener@@ al@@ Type.@@ V@@ ID@@ E@@ O@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); if (@@ db@@ .@@ isEmpty@@ ()) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> result = new java.util.ArrayList<@@ >(); for (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ od@@ e : do@@ c@@ um@@ ent.@@ s@@ el@@ ect@@ Nod@@ es@@ ("@@ /@@ *@@ /@@ vi@@ de@@ o@@ "@@ )) { java.util.Map<java.lang.String, java.lang.Object> de@@ v = new java.util.HashMap@@ <@@ >(); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ , "@@ vi@@ de@@ "); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Address@@ , par@@ se@@ Address@@ (@@ n@@ ode@@ )); java.lang.String al@@ i@@ a@@ s = par@@ se@@ Alias@@ (@@ n@@ ode@@ ); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Alias@@ , al@@ ias@@ ); java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > db@@ De@@ v = db@@ .@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > d@@ .get@@ Alias@@ ().@@ equals(@@ al@@ ias@@ )).@@ fin@@ d@@ F@@ ir@@ st@@ (); if (@@ db@@ De@@ v@@ .is@@ P@@ resent@@ ()) { de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ Id, db@@ De@@ v@@ .get@@ Id@@ ().get@@ Device@@ Id().@@ toString@@ ()); } else { db@@ De@@ v = db@@ .@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > d@@ .get@@ Alias@@ ().@@ isEmpty@@ (); db@@ De@@ v@@ .get@@ Alias@@ (@@ al@@ ias@@ ); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ Id, db@@ De@@ v@@ .get@@ ().get@@ Id@@ ().get@@ Device@@ Id().@@ toString@@ ()); } res@@ ult.@@ add(@@ de@@ v@@ ); } return result@@ ; }
public java.util.Map<java.lang.String, java.lang.Object> con@@ ver@@ t@@ (org.ovirt.engine.core.compat.Guid vm@@ Id, java.lang.String x@@ ml@@ ) { java.util.Map<java.lang.String, java.lang.Object> result = new java.util.HashMap@@ <@@ >(); res@@ ult.@@ put(@@ Vds@@ Properties.@@ vm@@ _@@ g@@ uid@@ , vm@@ Id); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Devic@@ es@@ , par@@ se@@ Devic@@ es(@@ x@@ ml@@ , vm@@ Device@@ Dao@@ .get@@ VmDevice@@ By@@ Vm@@ Id(@@ vm@@ Id@@ ))); return result@@ ; }
private java.lang.String par@@ se@@ Mac@@ Address@@ (@@ X@@ ml@@ Nod@@ e n@@ ode@@ ) { X@@ ml@@ Nod@@ e al@@ ias@@ Nod@@ e = s@@ el@@ ect@@ Sing@@ le@@ Nod@@ e(@@ "@@ mac@@ "); return al@@ ias@@ Nod@@ e.@@ att@@ rib@@ ut@@ es@@ .get@@ ("@@ add@@ ress@@ "@@ ).get@@ Valu@@ e(); }
private java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> par@@ se@@ Interfac@@ es(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > devi@@ c@@ es) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > d@@ b = devi@@ c@@ es.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ("@@ f@@ ro@@ m d@@ )@@ "); db@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ Id, db@@ TER@@ F@@ AC@@ E@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); if (@@ db@@ .@@ isEmpty@@ ()) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> result = new java.util.ArrayList<@@ >(); for (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ od@@ e : do@@ c@@ um@@ ent.@@ s@@ el@@ ect@@ Nod@@ es@@ ("@@ /@@ *@@ /@@ int@@ er@@ fac@@ e@@ "@@ )) { java.util.Map<java.lang.String, java.lang.Object> de@@ v = new java.util.HashMap@@ <@@ >(); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ , "@@ int@@ er@@ fac@@ e@@ "); java.lang.String ma@@ c = par@@ se@@ Mac@@ Address@@ (@@ n@@ ode@@ ); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Address@@ , par@@ se@@ Address@@ (@@ n@@ ode@@ )); java.lang.String al@@ i@@ a@@ s = par@@ se@@ Alias@@ (@@ n@@ ode@@ ); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Alias@@ , al@@ ias@@ ); java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > db@@ De@@ v = db@@ .@@ st@@ re@@ am@@ ().@@ filter@@ (@@ " d@@ ) -@@ > d@@ .get@@ Alias@@ ().@@ equals(@@ al@@ ias@@ )).@@ fin@@ d@@ F@@ ir@@ st@@ (); if (@@ db@@ De@@ v@@ .is@@ P@@ resent@@ ()) { de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ Id, db@@ De@@ v@@ .get@@ ().get@@ Device@@ Id().@@ toString@@ ()); } else { db@@ De@@ v = db@@ .@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > d@@ .get@@ Alias@@ ().@@ isEmpty@@ ()); db@@ De@@ v@@ .get@@ ().set@@ Alias@@ (@@ al@@ ias@@ ); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ Id, db@@ De@@ v@@ .get@@ ().get@@ Id@@ ().get@@ Device@@ Id().@@ toString@@ ()); } res@@ ult.@@ add(@@ de@@ v@@ ); } return result@@ ; }
private java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> par@@ se@@ Ch@@ an@@ n@@ el@@ s(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > devi@@ c@@ es) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > d@@ b = devi@@ c@@ es.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > (@@ d@@ .get@@ Type()) == VmDevice@@ Gener@@ al@@ Type.@@ C@@ H@@ AN@@ N@@ E@@ L@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); if (@@ db@@ .@@ isEmpty@@ ()) { return java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> result = new java.util.ArrayList<@@ >(); for (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ od@@ e : do@@ c@@ um@@ ent.@@ s@@ el@@ ect@@ Nod@@ es@@ ("@@ /@@ *@@ /@@ ch@@ an@@ n@@ el@@ "@@ )) { java.util.Map<java.lang.String, java.lang.Object> de@@ v = new java.util.HashMap@@ <@@ >(); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ , "@@ ch@@ an@@ n@@ el@@ "); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Address@@ , par@@ se@@ Address@@ (@@ n@@ ode@@ )); java.lang.String al@@ i@@ a@@ s = par@@ se@@ Alias@@ (@@ n@@ ode@@ ); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Alias@@ , al@@ ias@@ ); java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > db@@ De@@ v = db@@ .@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > d@@ .get@@ Alias@@ ().@@ equals(@@ al@@ ias@@ )).@@ fin@@ d@@ F@@ ir@@ st@@ (); if (@@ db@@ De@@ v@@ .is@@ P@@ resent@@ ()) { de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ Id, db@@ De@@ v@@ .get@@ ().get@@ Device@@ Id().@@ toString@@ ()); } else { db@@ De@@ v = db@@ .@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > d@@ .get@@ Alias@@ ().@@ isEmpty@@ ()).@@ fin@@ d@@ F@@ ir@@ st@@ (); db@@ De@@ v@@ .get@@ ().set@@ Alias@@ (@@ al@@ ias@@ ); de@@ v@@ .@@ put(@@ Vds@@ Properties.@@ Device@@ Id, db@@ De@@ v@@ .get@@ ().get@@ Device@@ Id().@@ toString@@ ()); } res@@ ult.@@ add(@@ de@@ v@@ ); } return result@@ ; }
private java.util.Map<java.lang.String, java.lang.Object@@ >@@ [@@ ] getVm@@ Info@@ (org.ovirt.engine.core.compat.Guid vds@@ Id, java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > vm@@ s) { if ((@@ vds@@ Id == null@@ ) || (vm@@ s.@@ isEmpty())) { return null@@ ; } java.util.Map<java.lang.String, java.lang.Object@@ >@@ [@@ ] result = new java.util.Map@@ [@@ 0@@ ]@@ ; java.util.List<java.lang.String> vm@@ Id@@ s = vms.@@ st@@ re@@ am@@ ().@@ map@@ (@@ Guid@@ :@@ :@@ toString@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); get@@ Resource@@ Manager@@ ().@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ List@@ Vm@@ Devic@@ es@@ , new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ List@@ Vm@@ Devic@@ es@@ VDS@@ Command.@@ Param@@ s(@@ vds@@ Id, vm@@ s@@ )); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = get@@ Resource@@ Manager@@ ().@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ F@@ ull@@ List@@ , new org.ovirt.engine.core.common.vdscommands.@@ F@@ ull@@ List@@ VDSCommand@@ Parameters(@@ vds@@ Id, vm@@ Id@@ s@@ )); if (@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ()) { result = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >@@ []@@ ) (@@ vds@@ ReturnValu@@ e.get@@ ReturnValu@@ e())); } return result@@ ; }
private java.util.Map<java.lang.String, java.lang.Object@@ >@@ [@@ ] par@@ se@@ Devic@@ es@@ (java.lang.String x@@ ml@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > devi@@ c@@ es) { org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent@@ ; try { do@@ c@@ um@@ ent = new org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent@@ (@@ x@@ ml@@ ); } catch (@@ java.lang.Exception e) { return new java.util.Map@@ [@@ 0@@ ]@@ ; } java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> result = new java.util.ArrayList<@@ >(); res@@ ult.@@ add(@@ par@@ se@@ B@@ alloon@@ (@@ do@@ c@@ um@@ ent@@ , devi@@ c@@ es@@ )); res@@ ult.@@ add(@@ par@@ se@@ Rng@@ (@@ do@@ c@@ um@@ ent@@ , devi@@ c@@ es@@ )); res@@ ult.@@ add@@ All@@ (@@ par@@ se@@ V@@ id@@ e@@ os@@ (@@ do@@ c@@ um@@ ent@@ , devi@@ c@@ es@@ )); res@@ ult.@@ add(@@ par@@ se@@ W@@ at@@ ch@@ do@@ g@@ (@@ do@@ c@@ um@@ ent@@ , devi@@ c@@ es@@ )); res@@ ult.@@ add@@ All@@ (@@ par@@ se@@ Cont@@ ro@@ ll@@ ers@@ (@@ do@@ c@@ um@@ ent@@ , devi@@ c@@ es@@ )); res@@ ult.@@ add@@ All@@ (@@ par@@ se@@ Interfaces@@ (@@ do@@ c@@ um@@ ent@@ , devi@@ c@@ es@@ )); res@@ ult.@@ add@@ All@@ (@@ par@@ se@@ Ch@@ an@@ n@@ el@@ s@@ (@@ do@@ c@@ um@@ ent@@ , devi@@ c@@ es@@ )); return res@@ ult.@@ to@@ Array@@ (@@ new java.util.Map@@ [@@ 0@@ ]@@ ); }
private java.util.Map<java.lang.String, java.lang.Object> par@@ se@@ Rng@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent do@@ c@@ um@@ ent@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > devi@@ c@@ es) { java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > d@@ b = devi@@ c@@ es.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ("@@ f@@ ro@@ m de@@ v@@ ) -@@ > (@@ de@@ v@@ .get@@ Type()) == VmDevice@@ Gener@@ al@@ Type.@@ R@@ N@@ G@@ ).@@ fin@@ d@@ F@@ ir@@ st@@ (); if (!(@@ db@@ .is@@ P@@ resent@@ ())) { return java.util.Collections.@@ em@@ pty@@ Map@@ (); } org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e devi@@ c@@ e = db@@ .get@@ (); org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ od@@ e = do@@ c@@ um@@ ent.@@ s@@ el@@ ect@@ Sing@@ le@@ Nod@@ e(@@ "@@ /@@ r@@ ng@@ "); java.util.Map<java.lang.String, java.lang.Object> result = new java.util.HashMap@@ <@@ >(); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Device@@ , "@@ r@@ ng@@ "); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Device@@ Id, devi@@ c@@ e.get@@ Id@@ ().get@@ Device@@ Id().@@ toString@@ ()); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Address@@ , par@@ se@@ Address@@ (@@ n@@ ode@@ )); res@@ ult.@@ put(@@ Vds@@ Properties.@@ Alias@@ , par@@ se@@ Alias@@ (@@ n@@ ode@@ )); return result@@ ; }
private boolean update@@ Vm@@ L@@ e@@ as@@ e() { if (@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ Vm@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), new@@ Vm@@ Static@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id@@ ())) { return true@@ ; } if (!(@@ add@@ Vm@@ L@@ e@@ ase@@ (@@ new@@ Vm@@ Static@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), new@@ Vm@@ Static@@ .getId@@ ()))) { return false@@ ; } remove@@ Vm@@ L@@ e@@ as@@ e(@@ old@@ Vm@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), old@@ Vm@@ .getId()); } else { if ((@@ old@@ Vm@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id()) != null@@ ) { run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ H@@ ot@@ Un@@ p@@ lug@@ L@@ e@@ ase@@ , new org.ovirt.engine.core.common.vdscommands.@@ L@@ e@@ ase@@ VDS@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Run@@ On@@ Vds@@ (), old@@ Vm@@ .get@@ Id(), old@@ Vm@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id@@ ())); remove@@ Vm@@ L@@ e@@ as@@ e(@@ old@@ Vm@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), old@@ Vm@@ .getId()); } else { org.ovirt.engine.core.common.action.@@ Vm@@ L@@ e@@ ase@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Vm@@ L@@ e@@ ase@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.get@@ StoragePool@@ Id(), new@@ Vm@@ Static@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), new@@ Vm@@ Static@@ .getId()); params.set@@ Vds@@ Id@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Run@@ On@@ Vds@@ ()); return run@@ Internal@@ Action(VdcActionType.@@ H@@ ot@@ Plug@@ L@@ e@@ ase@@ , param@@ s@@ ).get@@ Succeeded@@ (); } } return true@@ ; }
public boolean is@@ Fi@@ eld@@ Updat@@ able(@@ java.lang.@@ Enum@@ <?@@ > status@@ , java.lang.String name@@ , java.lang.Object fi@@ eld@@ Cont@@ ain@@ er@@ , boolean h@@ ot@@ set@@ Enabled@@ ) { boolean return@@ Valu@@ e = true@@ ; if (!(@@ is@@ Fi@@ eld@@ Updat@@ able(@@ name@@ ))) { if (((@@ fi@@ eld@@ Cont@@ ain@@ er != null@@ ) && ((@@ contain@@ er@@ ) != null@@ )) && (!(@@ contain@@ er.@@ can@@ Update@@ Fi@@ eld@@ (@@ fi@@ eld@@ Cont@@ ain@@ er@@ , name@@ , status@@ )))) { return@@ Valu@@ e = false@@ ; } else { java.util.Set@@ <java.lang.String@@ > value@@ s = d@@ ic@@ tion@@ ar@@ y@@ .get(@@ status@@ ); return@@ Valu@@ e = (@@ value@@ s != null@@ ) ? valu@@ es.@@ contains(@@ nam@@ e) : false@@ ; if ((@@ !@@ return@@ Value@@ ) && h@@ ot@@ set@@ Enabled@@ ) { return@@ Valu@@ e = is@@ H@@ ot@@ Set@@ Fi@@ eld@@ (@@ nam@@ e); } if (@@ !@@ return@@ Value@@ ) { org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er.@@ log.@@ w@@ ar@@ n@@ ("@@ Check@@ er.@@ log.@@ w@@ ar@@ n@@ ("@@ C@@ an not b@@ e update@@ d wh@@ e@@ n stat@@ u@@ s is '{}@@ '@@ ", name@@ , status@@ ); } } return return@@ Value@@ ; }
private boolean update@@ Vm@@ L@@ e@@ as@@ e() { if (@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ Vm@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), new@@ Vm@@ Static@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id@@ ())) { return true@@ ; } if (!(@@ add@@ Vm@@ L@@ e@@ ase@@ (@@ new@@ Vm@@ Static@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), new@@ Vm@@ Static@@ .getId@@ ()))) { return false@@ ; } else { if ((@@ old@@ Vm@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id()) == null@@ ) { org.ovirt.engine.core.common.action.@@ Vm@@ L@@ e@@ ase@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Vm@@ L@@ e@@ ase@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.get@@ StoragePool@@ Id(), new@@ Vm@@ Static@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), new@@ Vm@@ Static@@ .getId()); params.set@@ Vds@@ Id@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Run@@ On@@ Vds@@ ()); params.set@@ H@@ ot@@ Plug@@ L@@ e@@ ase@@ (@@ true@@ ); return run@@ Internal@@ Action@@ (@@ ActionType.@@ AddVm@@ L@@ e@@ ase@@ , param@@ s@@ ).get@@ Succeeded@@ (); } boolean h@@ ot@@ Un@@ p@@ lug@@ Succeed@@ ed = false@@ ; try { h@@ ot@@ Un@@ p@@ lug@@ Succeed@@ ed = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ H@@ ot@@ Un@@ p@@ lug@@ L@@ e@@ ase@@ , new org.ovirt.engine.core.common.vdscommands.@@ L@@ e@@ ase@@ VDS@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Run@@ On@@ Vds@@ (), old@@ Vm@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id@@ ())@@ ).get@@ Succeeded@@ (); } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { log.error@@ ("@@ Fail@@ ed in h@@ o@@ t un@@ p@@ lug@@ gin@@ g a le@@ ase to VM '{}@@ '@@ : {}@@ ", old@@ Vm@@ .get@@ Id(), e.get@@ Message@@ ()); } if (!@@ h@@ ot@@ Un@@ p@@ lug@@ Succeeded@@ ) { a@@ uditLog@@ (@@ this@@ , AuditLogType.@@ HO@@ T_@@ UN@@ P@@ LU@@ G@@ _@@ LE@@ A@@ S@@ E_@@ FAIL@@ ED); } } remove@@ Vm@@ L@@ e@@ ase@@ StorageDomain@@ Id(), old@@ Vm@@ .getId()); return true@@ ; }
@java.lang.Override public void end@@ With@@ Failur@@ e() { org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Vm@@ Disks@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler.@@ update@@ All@@ Disk@@ Images@@ Snapshots@@ Status@@ In@@ Transaction@@ With@@ Comp@@ en@@ s@@ ation@@ (get@@ M@@ o@@ v@@ ed@@ Disk@@ Id@@ s@@ (), Image@@ Status.@@ O@@ K@@ , Image@@ Status.@@ O@@ K@@ , org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Vm@@ Disks@@ Command.get@@ Comp@@ en@@ s@@ ation@@ Context@@ ()); }
private void add@@ A@@ f@@ fin@@ ity@@ Label@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > af@@ fin@@ ity@@ Label@@ s = org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ A@@ f@@ fin@@ ity@@ Label@@ s(); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ ab@@ e@@ l : af@@ fin@@ ity@@ Label@@ s) { l@@ abel@@ .@@ add@@ Vm@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Command.getVm@@ ()); l@@ abel@@ Dao@@ .@@ updat@@ e(@@ l@@ abel@@ ); } }
private void update@@ A@@ f@@ fin@@ ity@@ Label@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > selected@@ Label@@ s = org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Update@@ Vds@@ Command.getParameters().get@@ A@@ f@@ fin@@ ity@@ Label@@ s(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > pre@@ vi@@ o@@ us@@ ly@@ Selected@@ Label@@ s = l@@ abel@@ Dao@@ .get@@ All@@ By@@ Entity@@ Id@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Update@@ Vds@@ Command.get@@ Vds@@ Id@@ ())); java.util.Set@@ <org.ovirt.engine.core.common.businessentities.@@ Label@@ > l@@ abel@@ sTo@@ Ad@@ d = new java.util.Hash@@ Set@@ (s@@ elected@@ Label@@ s); l@@ abel@@ sTo@@ Add@@ .@@ remove@@ All@@ (@@ pre@@ vi@@ o@@ us@@ ly@@ Selected@@ Label@@ s); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ ab@@ e@@ l : l@@ abel@@ sTo@@ Add@@ ) { l@@ abel@@ .@@ add@@ Host@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Update@@ Vds@@ Command.get@@ Vds@@ ()); l@@ abel@@ Dao@@ .@@ updat@@ e(@@ l@@ abel@@ ); } java.util.Set@@ <org.ovirt.engine.core.common.businessentities.@@ Label@@ > l@@ abel@@ sTo@@ Remov@@ e = new java.util.Hash@@ Set@@ (@@ pre@@ vi@@ o@@ us@@ ly@@ Selected@@ Label@@ s); l@@ abel@@ sTo@@ Remov@@ e.@@ remove@@ All@@ (s@@ elected@@ Label@@ s); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ ab@@ e@@ l : l@@ abel@@ sTo@@ Remove@@ ) { l@@ abel@@ .@@ remove@@ Host@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Update@@ Vds@@ Command.get@@ Vds@@ ()); l@@ abel@@ Dao@@ .@@ updat@@ e(@@ l@@ abel@@ ); } }
@java.lang.Override protected void execute@@ Command() { if ((@@ is@@ Gluster@@ Enabled@@ ()) && ((@@ up@@ Server@@ ) != null@@ )) { gluster@@ Host@@ Remov@@ e(); if (!@@ (org.ovirt.engine.core.bll.@@ Remove@@ Vds@@ Command.get@@ Succeeded@@ ())) { return@@ ; } } if (!@@ (cluster@@ H@@ as@@ Multiple@@ Host@@ s@@ ())) { remove@@ Gluster@@ Volum@@ es@@ From@@ Db@@ (); remove@@ Gluster@@ Hook@@ s@@ From@@ Db@@ (); } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > remove@@ Vds@@ Statistic@@ s@@ From@@ Db@@ (); remove@@ Vds@@ Dynamic@@ From@@ Db@@ (); remove@@ Vds@@ Static@@ From@@ Db@@ (); remove@@ A@@ f@@ fin@@ ity@@ Label@@ s@@ From@@ Db@@ (); return null@@ ; }
private void add@@ A@@ f@@ fin@@ ity@@ Label@@ sTo@@ Db@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > af@@ fin@@ ity@@ Label@@ s = org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Add@@ Vds@@ Command.getParameters().get@@ A@@ f@@ fin@@ ity@@ Label@@ s(); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ ab@@ e@@ l : af@@ fin@@ ity@@ Label@@ s) { l@@ abel@@ .@@ add@@ Host@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Add@@ Vds@@ Command.get@@ Vds@@ ()); l@@ abel@@ Dao@@ .@@ updat@@ e(@@ l@@ abel@@ ); } }
private void update@@ A@@ f@@ fin@@ ity@@ Label@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > selected@@ Label@@ s = org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ A@@ f@@ fin@@ ity@@ Label@@ s(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > pre@@ vi@@ o@@ us@@ ly@@ Selected@@ Label@@ s = l@@ abel@@ Dao@@ .get@@ All@@ By@@ Entity@@ Id@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (get@@ Vm@@ Id@@ ())); java.util.Set@@ <org.ovirt.engine.core.common.businessentities.@@ Label@@ > l@@ abel@@ sTo@@ Ad@@ d = new java.util.Hash@@ Set@@ (s@@ elected@@ Label@@ s); l@@ abel@@ sTo@@ Add@@ .@@ remove@@ All@@ (@@ pre@@ vi@@ o@@ us@@ ly@@ Selected@@ Label@@ s); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ ab@@ e@@ l : l@@ abel@@ sTo@@ Add@@ ) { l@@ abel@@ .@@ add@@ Vm@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ()); l@@ abel@@ Dao@@ .@@ updat@@ e(@@ l@@ abel@@ ); } java.util.Set@@ <org.ovirt.engine.core.common.businessentities.@@ Label@@ > l@@ abel@@ sTo@@ Remov@@ e = new java.util.Hash@@ Set@@ (@@ pre@@ vi@@ o@@ us@@ ly@@ Selected@@ Label@@ s); l@@ abel@@ sTo@@ Remov@@ e.@@ remove@@ All@@ (s@@ elected@@ Label@@ s); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l : l@@ abel@@ sTo@@ Remove@@ ) { l@@ abel@@ .@@ remove@@ Vm@@ (org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ()); l@@ abel@@ Dao@@ .@@ updat@@ e(@@ l@@ abel@@ ); } }
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model create@@ New@@ Lin@@ e@@ Model@@ (java.lang.String key@@ ) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model key@@ Value@@ Lin@@ e@@ Model = super@@ .@@ create@@ New@@ Lin@@ e@@ Model@@ (@@ key@@ ); key@@ Value@@ Lin@@ e@@ Model.get@@ Valu@@ e().set@@ Is@@ Available@@ (@@ false@@ ); key@@ Value@@ Lin@@ e@@ Model.get@@ Valu@@ es@@ ().setIs@@ Available@@ (@@ false@@ ); return key@@ Value@@ Lin@@ e@@ Model@@ ; }
public void init@@ () { st@@ art@@ Progress@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Vm@@ List@@ By@@ Cluster@@ Name@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ scheduling.@@ af@@ fin@@ ity@@ _@@ group@@ s.@@ model.@@ Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Callback@@ <@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ >@@ >() { @java.lang.Override public void onSuccess@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ List@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > vm@@ Id@@ s = get@@ A@@ f@@ fin@@ ity@@ Group@@ ().get@@ Vm@@ Id@@ s(); get@@ Vms@@ Sel@@ ection@@ Model@@ ().@@ init@@ (vm@@ List@@ , (vm@@ Id@@ s != null ? vm@@ Id@@ s : new java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid@@ >@@ ())); st@@ op@@ Progress@@ (); } }@@ ), cluster@@ Name@@ ); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Host@@ List@@ By@@ Cluster@@ Id@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ scheduling.@@ af@@ fin@@ ity@@ _@@ group@@ s.@@ model.@@ Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Callback@@ <@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >@@ >() { @java.lang.Override public void onSuccess@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ List@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > host@@ Id@@ s = get@@ A@@ f@@ fin@@ ity@@ Group@@ ().get@@ Vds@@ Id@@ s(); java.util.Collections.@@ s@@ ort@@ (@@ host@@ List@@ , new org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ ator@@ s.@@ Name@@ able@@ Comp@@ ar@@ ator@@ ()); get@@ Host@@ s@@ Sel@@ ection@@ Model@@ ().@@ init@@ (@@ host@@ List@@ , (@@ host@@ Id@@ s != null ? host@@ Id@@ s : new java.util.Array@@ List@@ ())); st@@ op@@ Progress@@ (); } }@@ ), cluster@@ Id); }
void on@@ S@@ av@@ e() { if (!(@@ valid@@ at@@ e())) { return@@ ; } if ((get@@ Progress@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.core.common.@@ scheduling.@@ A@@ f@@ fin@@ ity@@ Group g@@ roup = get@@ A@@ f@@ fin@@ ity@@ Group@@ (); group@@ .set@@ Name(@@ get@@ Nam@@ e().get@@ Entity@@ ()); group@@ .set@@ Description@@ (get@@ Description@@ ().getEntity@@ ()); group@@ .set@@ Cluster@@ Id@@ (cluster@@ Id); group@@ .set@@ Vm@@ E@@ n@@ for@@ c@@ ing@@ (get@@ E@@ n@@ for@@ c@@ ing@@ ().getEntity@@ ()); group@@ .set@@ Vm@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e(@@ getVm@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e().get@@ SelectedItem@@ ()); group@@ .set@@ Vm@@ Id@@ s(@@ get@@ Vms@@ Sel@@ ection@@ Model().get@@ Selected@@ Vm@@ Id@@ s@@ ()); group@@ .set@@ Vds@@ E@@ n@@ for@@ c@@ ing@@ (get@@ Host@@ A@@ f@@ fin@@ ity@@ E@@ n@@ for@@ c@@ ing@@ ().getEntity@@ ()); group@@ .set@@ Vds@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e(@@ get@@ Host@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e().get@@ SelectedItem@@ ()); group@@ .set@@ Vds@@ Id@@ s(@@ get@@ Host@@ s@@ Sel@@ ection@@ Model().get@@ Selected@@ Host@@ ()); st@@ art@@ Progress@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ (s@@ ave@@ Action@@ Type, new org.ovirt.engine.core.common.@@ scheduling.@@ parameter@@ s.@@ A@@ f@@ fin@@ ity@@ Group@@ C@@ R@@ U@@ D@@ Parameters(@@ group@@ .get@@ Id(), group@@ .get@@ Id(), group@@ .get@@ I@@ Frontend@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execut@@ ed(org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { st@@ op@@ Progress@@ (); if (((@@ result != null@@ ) && ((@@ result.get@@ ReturnValu@@ e()) != null@@ )) && (@@ result.get@@ ReturnValue().get@@ Succeeded@@ ())) { cancel@@ (); } }, this@@ ); }
@java.lang.Override protected void set@@ Value@@ By@@ Key@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model lin@@ e@@ Model@@ , java.lang.String key@@ ) { }
@java.lang.Override protected void init@@ Lin@@ e@@ Model@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model key@@ Value@@ Lin@@ e@@ Model@@ , java.lang.String key@@ ) { }
@java.lang.Override protected boolean is@@ G@@ host@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model value) { return !@@ (@@ model.@@ is@@ Key@@ Valid@@ (@@ valu@@ e.get@@ Key@@ s().get@@ SelectedItem@@ ())); }
public java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > get@@ Selected@@ Vm@@ Id@@ s() { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > lis@@ t = new java.util.ArrayList<@@ >(); for (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model key@@ Model : get@@ Item@@ s()) { java.lang.String selected@@ I@@ t@@ e@@ m = key@@ Model.get@@ Key@@ s().get@@ SelectedItem@@ (); if (is@@ Key@@ Valid@@ (s@@ elected@@ Item@@ )) { lis@@ t.@@ add@@ (@@ all@@ Vm@@ Names@@ Map@@ .get@@ (s@@ elected@@ Item@@ ).get@@ Id()); } } return list@@ ; }
@java.lang.Override protected void set@@ Value@@ By@@ Key@@ Value@@ Lin@@ e@@ Model create@@ G@@ host@@ Value(@@ ) { }
public void init@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s, java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > us@@ ed@@ Vm@@ s) { if ((@@ vm@@ s == null@@ ) || (@@ us@@ ed@@ Vm@@ s == null@@ )) { return@@ ; } all@@ Vm@@ Names@@ Map = new java.util.HashMap@@ (); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s@@ Map@@ = new java.util.HashMap@@ <@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s) { all@@ Vm@@ Names@@ Map@@ .@@ put@@ (vm@@ .get@@ Name(), vm@@ ); } java.util.Set@@ <java.lang.String@@ > us@@ ed@@ Vm@@ Name@@ s = us@@ ed@@ Vm@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ g@@ ui@@ d@@ uid@@ ); -@@ > vm@@ s@@ Map@@ .get(@@ g@@ uid@@ ).get@@ Name()@@ ).@@ s@@ ort@@ ed@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); init@@ (@@ all@@ Vm@@ Names@@ Map@@ .@@ key@@ Set@@ (), us@@ ed@@ Vm@@ Names@@ ); }
@java.lang.Override public T f@@ l@@ us@@ h@@ () { super@@ .@@ f@@ l@@ us@@ h@@ (); for (@@ org.ovirt.engine.ui.common.@@ widget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ W@@ id@@ g@@ e@@ t lin@@ e@@ W@@ id@@ g@@ e@@ t : widget@@ s) { lin@@ e@@ Widget@@ .@@ f@@ l@@ us@@ h@@ (); } return model@@ ; }
java.lang.String get@@ Entity@@ Typ@@ e();
public java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > get@@ Selected@@ Host@@ Id@@ s() { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > lis@@ t = new java.util.ArrayList<@@ >(); for (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model key@@ Model : get@@ Item@@ s()) { java.lang.String selected@@ I@@ t@@ e@@ m = key@@ Model.get@@ Key@@ s().get@@ SelectedItem@@ (); if (is@@ Key@@ Valid@@ (s@@ elected@@ Item@@ )) { lis@@ t.add(@@ all@@ Host@@ Names@@ Map@@ .get@@ (s@@ elected@@ Item@@ ).get@@ Id()); } } return list@@ ; }
java.lang.String get@@ Entity@@ Typ@@ e();
public void set@@ Use@@ P@@ at@@ ter@@ n@@ F@@ ly@@ (@@ boolean us@@ e) { key@@ Fi@@ eld@@ .set@@ Use@@ P@@ at@@ ter@@ n@@ F@@ ly@@ (@@ us@@ e); value@@ Fi@@ eld@@ .set@@ Use@@ P@@ at@@ ter@@ n@@ F@@ ly@@ (@@ us@@ e); valu@@ es@@ Fi@@ eld@@ .set@@ Use@@ P@@ at@@ ter@@ n@@ F@@ ly@@ (@@ us@@ e); }
@java.lang.Override protected void t@@ og@@ g@@ le@@ G@@ host@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model value@@ , org.ovirt.engine.ui.common.@@ widget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ W@@ id@@ g@@ e@@ t widget@@ , boolean b@@ ec@@ om@@ ing@@ G@@ host@@ ) { if (!(@@ widget.@@ is@@ Enabled@@ ())) { return@@ ; } super@@ .@@ t@@ og@@ g@@ le@@ G@@ host@@ (@@ value@@ , widget@@ , b@@ ec@@ om@@ ing@@ G@@ host@@ ); }
@java.lang.Override protected void on@@ Remov@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model value@@ , org.ovirt.engine.ui.common.@@ widget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ W@@ id@@ g@@ e@@ t widget@@ ) { super@@ .@@ on@@ Remov@@ e(@@ value@@ , widget@@ ); model.@@ update@@ Key@@ s(); widget@@ s.@@ remov@@ e(@@ widget@@ ); }
@java.lang.Override protected org.ovirt.engine.ui.common.@@ widget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ W@@ id@@ g@@ e@@ t create@@ Widget@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model value) { org.ovirt.engine.ui.common.@@ widget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ W@@ id@@ g@@ e@@ t key@@ Lin@@ e@@ W@@ id@@ g@@ e@@ t = new org.ovirt.engine.ui.common.@@ widget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ Widget@@ (); key@@ Lin@@ e@@ Widget@@ .@@ edit@@ (@@ valu@@ e); key@@ Lin@@ e@@ Widget@@ .set@@ Use@@ P@@ at@@ ter@@ n@@ F@@ ly@@ (@@ us@@ e@@ P@@ at@@ ter@@ n@@ F@@ ly@@ ); widget@@ s.add(@@ key@@ Lin@@ e@@ Widget@@ ); return key@@ Lin@@ e@@ Widget@@ ; }
protected void init@@ () { init@@ Widget@@ (@@ org.ovirt.engine.ui.common.@@ widget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ Widget@@ .@@ Widget@@ U@@ i@@ B@@ in@@ der.@@ create@@ And@@ B@@ in@@ d@@ U@@ i@@ (@@ this@@ )); d@@ ri@@ v@@ er.@@ initial@@ ize@@ (@@ this@@ ); h@@ id@@ e@@ Label@@ s(); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ key@@ _@@ valu@@ e.@@ Key@@ Value@@ Lin@@ e@@ Model object@@ ) { update@@ Key@@ Title(@@ object@@ ); object.get@@ Key@@ s().get@@ SelectedItem@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { com.google.gwt.@@ event.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Ev@@ ent.@@ fi@@ r@@ e(@@ org.ovirt.engine.ui.common.@@ widget@@ .@@ for@@ m.@@ key@@ _@@ valu@@ e.@@ Key@@ Lin@@ e@@ Widget@@ .@@ this@@ , object@@ ); update@@ Key@@ Title(@@ object@@ ); } }); d@@ ri@@ v@@ er.@@ edit@@ (@@ object@@ ); }
java.lang.String selected@@ A@@ f@@ fin@@ ity@@ Label@@ ();
private org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Model get@@ Model@@ () { return host@@ Model@@ ; }
public void sh@@ ow@@ Active@@ Label@@ s() { acti@@ ve@@ Label@@ Lis@@ t.@@ add@@ Sty@@ le@@ Name(@@ Sty@@ l@@ es.@@ L@@ IST@@ _@@ IN@@ L@@ IN@@ E); acti@@ ve@@ Label@@ D@@ i@@ v@@ .@@ add(@@ acti@@ ve@@ Label@@ List@@ ); acti@@ ve@@ Label@@ Lis@@ t.@@ cl@@ e@@ ar@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > l@@ abel@@ s = getModel().get@@ Label@@ List@@ ().get@@ SelectedItem@@ s(); java.util.Collections.@@ s@@ ort@@ (@@ l@@ abel@@ s, new org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ L@@ ab@@ e@@ l l@@ abel@@ s) { acti@@ ve@@ Label@@ Lis@@ t.@@ add@@ (c@@ reate@@ Active@@ Label@@ Item@@ (@@ l@@ abel@@ )); } }
@java.lang.Override protected void init@@ () { init@@ W@@ id@@ g@@ e@@ t = get@@ Map@@ (); }
public void init@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > us@@ ed@@ Host@@ s) { if ((@@ host@@ s == null@@ ) || (@@ us@@ ed@@ Host@@ s == null@@ )) { return@@ ; } all@@ Host@@ Names@@ Map = new java.util.HashMap@@ (); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s@@ Map = new java.util.HashMap@@ <@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { all@@ Host@@ Names@@ Map@@ .@@ put(@@ hos@@ t.get@@ Name(), host@@ ); host@@ s@@ Map@@ .@@ put(@@ hos@@ t.get@@ Id(), host@@ ); } java.util.Set@@ <java.lang.String@@ > us@@ ed@@ Host@@ Name@@ s = us@@ ed@@ Host@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ ( g@@ uid@@ ) -@@ > host@@ s@@ Map@@ .get(@@ g@@ uid@@ ).get@@ Name()@@ ).@@ s@@ ort@@ ed@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); init@@ (@@ all@@ Host@@ Names@@ Map@@ .@@ key@@ Set@@ (), us@@ ed@@ Host@@ Names@@ ); }
@java.lang.Override protected void update@@ Detail@@ s@@ Avail@@ ab@@ ility@@ () { super@@ .@@ update@@ Detail@@ s@@ Avail@@ ab@@ ility@@ (); org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ ListModel@@ .get@@ SelectedItem@@ (); get@@ Cluster@@ Vm@@ ListModel@@ ().setIs@@ Available@@ ((@@ (c@@ luster != null@@ ) && (c@@ luster.@@ support@@ s@@ Vir@@ t@@ Servic@@ e()@@ ))); get@@ Cluster@@ Service@@ Model@@ ().setIs@@ Available@@ ((@@ (c@@ luster != null@@ ) && (c@@ luster.@@ support@@ s@@ Gluster@@ Servic@@ e()@@ ))); get@@ Cluster@@ Gluster@@ Hook@@ ListModel@@ ().setIs@@ Available@@ ((@@ (c@@ luster != null@@ ) && (c@@ luster.@@ support@@ s@@ Gluster@@ Servic@@ e()@@ ))); get@@ A@@ f@@ fin@@ ity@@ Group@@ ListModel@@ ().setIs@@ Available@@ ((@@ (c@@ luster != null@@ ) && (c@@ luster.@@ support@@ s@@ Vir@@ t@@ Servic@@ e()@@ ))); get@@ Cpu@@ Profile@@ ListModel@@ ().setIs@@ Available@@ ((@@ (c@@ luster != null@@ ) && (c@@ luster.@@ support@@ s@@ Vir@@ t@@ Servic@@ e()@@ ))); get@@ A@@ f@@ fin@@ ity@@ Label@@ ListModel@@ ().setIs@@ Available@@ ((@@ (c@@ luster != null@@ ) && (c@@ luster.@@ support@@ s@@ Vir@@ t@@ Servic@@ e()@@ ))); }
public void init@@ () { st@@ art@@ Progress@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Vm@@ List@@ By@@ Cluster@@ Name@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ model.@@ Async@@ Query@@ (@@ ( vm@@ List@@ ) -@@ > { Set@@ <org.ovirt.engine.core.compat.Guid@@ > vm@@ Id@@ s = get@@ A@@ f@@ fin@@ ity@@ Label@@ ().get@@ Vm@@ s(); get@@ Vms@@ Sel@@ ection@@ Model@@ ().@@ init@@ (vm@@ List@@ , (vm@@ Id@@ s != null ? new org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ model.@@ Array@@ List<@@ >@@ (vm@@ Id@@ s) : new org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ model.@@ Array@@ List<@@ >@@ ())); st@@ op@@ Progress@@ (); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l object@@ ) { java.lang.String j@@ o@@ in = j@@ o@@ in@@ (get@@ Vm@@ Nam@@ es(@@ object@@ ), ", "); if (@@ j@@ o@@ in@@ .@@ isEmpty@@ ()) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Abstract@@ Sub@@ Tab@@ A@@ f@@ fin@@ ity@@ Label@@ s@@ View@@ .@@ const@@ an@@ t@@ s.@@ af@@ fin@@ ity@@ Label@@ s@@ No@@ Mem@@ b@@ ers@@ (); } return j@@ o@@ in@@ ; }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l object@@ ) { return object.get@@ Nam@@ e(); }
protected java.lang.String j@@ o@@ in@@ (@@ java.util.List<java.lang.String> st@@ ring@@ s, java.lang.String se@@ par@@ ator@@ ) { java.lang.String@@ Buil@@ der result = new java.lang.String@@ Builder@@ (); if (@@ st@@ ring@@ s == null@@ ) { return res@@ ult.@@ toString@@ (); } for (java.lang.String s : st@@ ring@@ s) { if ((@@ res@@ ult.@@ l@@ ength@@ ()) != 0) { res@@ ult.@@ append@@ (@@ se@@ par@@ ator@@ ); } res@@ ult.@@ append@@ (s@@ ); } return res@@ ult.@@ toString@@ (); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l object@@ ) { java.lang.String j@@ o@@ in = j@@ o@@ in@@ (get@@ Host@@ Nam@@ es(@@ object@@ ), ", "); if (@@ j@@ o@@ in@@ .@@ isEmpty@@ ()) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Abstract@@ Sub@@ Tab@@ A@@ f@@ fin@@ ity@@ Label@@ s@@ View@@ .@@ const@@ an@@ t@@ s.@@ af@@ fin@@ ity@@ Label@@ s@@ No@@ Mem@@ b@@ ers@@ (); } return j@@ o@@ in@@ ; }
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ model.@@ A@@ f@@ fin@@ ity@@ Label@@ Model f@@ l@@ us@@ h@@ () { return d@@ ri@@ v@@ er.@@ f@@ l@@ us@@ h@@ (); }
protected java.util.List<java.lang.String> getVm@@ Names@@ (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ abel@@ ) { return new java.util.Array@@ List(@@ l@@ abel@@ .get@@ Vm@@ Names@@ ()); }
protected java.util.List<java.lang.String> get@@ Host@@ Names@@ (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ abel@@ ) { return new java.util.Array@@ List(@@ l@@ abel@@ .get@@ Host@@ Names@@ ()); }
private void update@@ Action@@ Avail@@ ab@@ ility@@ () { get@@ New@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ true@@ ); boolean has@@ SelectedItem@@ s = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ lis@@ t.@@ A@@ f@@ fin@@ ity@@ Label@@ ListModel@@ .get@@ SelectedItem@@ s()) != null@@ ) && ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ lis@@ t.@@ A@@ f@@ fin@@ ity@@ Label@@ ListModel@@ .get@@ SelectedItem@@ s().@@ size()) > 0@@ ); get@@ Edit@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ has@@ SelectedItem@@ s && ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ lis@@ t.@@ A@@ f@@ fin@@ ity@@ Label@@ ListModel@@ .get@@ SelectedItem@@ s().@@ size()) == 1@@ ))); get@@ Remove@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ has@@ SelectedItem@@ s); }
protected void add@@ Command@@ s() { org.ovirt.engine.ui.uicommonweb.UICommand c@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ On@@ S@@ ave@@ ", this@@ ); get@@ Command@@ s().@@ add@@ (command@@ ); get@@ Command@@ s().add(@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Cancel@@ U@@ i@@ Command@@ ("@@ Cancel@@ ", this@@ )); }
@java.lang.Override protected void on@@ Entity@@ Changed@@ () { super@@ .@@ on@@ Entity@@ Changed@@ (); org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ lis@@ t.@@ A@@ f@@ fin@@ ity@@ Label@@ ListModel@@ .get@@ Search@@ Command@@ ().@@ execut@@ e(); }
private void on@@ Remov@@ e() { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ lis@@ t.@@ A@@ f@@ fin@@ ity@@ Label@@ ListModel@@ .get@@ Confirm@@ W@@ in@@ do@@ w@@ ())); if ((@@ model.get@@ Progress@@ ()) != null@@ ) { return@@ ; } java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcActionParameters@@ Base@@ > parameter@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l af@@ fin@@ ity@@ L@@ ab@@ e@@ l : org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ lis@@ t.@@ A@@ f@@ fin@@ ity@@ Label@@ ListModel@@ .get@@ SelectedItem@@ s()) { parameter@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.action.@@ Label@@ Action@@ Parameters(@@ af@@ fin@@ ity@@ Label@@ )); } model.@@ st@@ art@@ Progress@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action(VdcActionType.@@ Remove@@ Label@@ , parameters@@ , ("@@ M@@ o@@ d@@ if@@ ic@@ at@@ able@@ "); loc@@ al@@ Model.@@ st@@ op@@ Progress@@ (); cancel@@ (); }
private void remov@@ e() { if ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ lis@@ t.@@ A@@ f@@ fin@@ ity@@ Label@@ ListModel@@ .get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model@@ (); set@@ Confirm@@ W@@ in@@ do@@ w@@ (model@@ ); model.set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ remove@@ A@@ f@@ fin@@ ity@@ Label@@ s@@ Titl@@ e()); model.set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ remove@@ _@@ af@@ fin@@ ity@@ _@@ group@@ s); model.set@@ Hash@@ Name("@@ remove@@ _@@ af@@ fin@@ ity@@ _@@ l@@ abel@@ s@@ "); java.util.ArrayList<@@ java.lang.String> lis@@ t = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l af@@ fin@@ ity@@ L@@ ab@@ e@@ l : org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ lis@@ t.@@ A@@ f@@ fin@@ ity@@ Label@@ ListModel@@ .get@@ SelectedItem@@ s()) { lis@@ t.add(@@ af@@ fin@@ ity@@ Label@@ .get@@ Name()); } model.set@@ Items(@@ list@@ ); org.ovirt.engine.ui.uicommonweb.UICommand c@@ ommand = org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Default@@ O@@ k@@ U@@ i@@ Command@@ ("@@ On@@ Remove@@ ", this@@ ); model.get@@ Command@@ s().@@ add@@ (command@@ ); model.get@@ Command@@ s().add(@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Cancel@@ U@@ i@@ Command@@ ("@@ Cancel@@ ", this@@ )); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ vi@@ r@@ tu@@ al@@ M@@ ach@@ in@@ e.@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ AuditLog@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ <@@ java.lang.@@ V@@ o@@ id@@ >@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Event@@ ListModel@@ > model@@ Provider@@ ) { return new org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Model@@ B@@ ound@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ vi@@ r@@ tu@@ al@@ M@@ ach@@ in@@ e.@@ Sub@@ Tab@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Event@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ vi@@ r@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Event@@ Sub@@ Tab@@ Label@@ (), model@@ Provider@@ , org.ovirt.engine.ui.common.widget.@@ Al@@ ign@@ .@@ R@@ I@@ G@@ H@@ T@@ ); }
public void acti@@ vate@@ Detail@@ Model@@ () { get@@ Main@@ Model@@ ().add@@ Active@@ Detail@@ Model@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Detail@@ Tab@@ Model@@ Provider@@ .get@@ Model@@ ()); }
private void acti@@ ve@@ Detail@@ Model@@ Ch@@ an@@ gin@@ g@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Entity@@ <@@ D@@ > new@@ Value@@ , boolean st@@ op@@ Refresh@@ ) { for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Entity@@ <@@ D@@ > old@@ Valu@@ e : acti@@ ve@@ Detail@@ Model@@ s) { if ((@@ old@@ Valu@@ e != null@@ ) && st@@ op@@ Refresh@@ ) { old@@ Valu@@ e.set@@ Entity@@ (@@ null@@ ); if (@@ old@@ Valu@@ e instanceof org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ ListModel@@ ) { ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ ListModel@@ ) (@@ old@@ Value@@ )).@@ st@@ op@@ Refresh@@ (); } } if (@@ new@@ Valu@@ e != null@@ ) { new@@ Valu@@ e.set@@ Entity(@@ p@@ rovi@@ de@@ Detail@@ Model@@ Entity(@@ org.ovirt.engine.ui.uicommonweb.models.@@ List@@ With@@ Detail@@ s@@ Model.get@@ SelectedItem@@ ())); } }
public void set@@ Active@@ Detail@@ Model@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Entity@@ <@@ D@@ > value) { if (@@ valu@@ e == null@@ ) { acti@@ ve@@ Detail@@ Model@@ Ch@@ an@@ gin@@ g@@ (@@ valu@@ e); acti@@ ve@@ Detail@@ Model@@ s.@@ cl@@ e@@ ar@@ (); acti@@ ve@@ Detail@@ Model@@ s.@@ add@@ (@@ valu@@ e); acti@@ ve@@ Detail@@ Model@@ Changed@@ (); on@@ PropertyChanged@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ List@@ With@@ Detail@@ s@@ Model.@@ AC@@ TI@@ V@@ E_@@ D@@ ET@@ AIL@@ _MOD@@ E@@ L@@ )); } }
public void add@@ Active@@ Detail@@ s(@@ org.ovirt.engine.ui.uicommonweb.models.@@ H@@ as@@ Entity@@ <@@ D@@ > value) { if (!(@@ acti@@ ve@@ Detail@@ Model@@ s.@@ contains(@@ value@@ ))) { acti@@ ve@@ Detail@@ Model@@ Ch@@ an@@ gin@@ g@@ (@@ valu@@ e); acti@@ ve@@ Detail@@ Model@@ Changed@@ (); on@@ PropertyChanged@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s(@@ "@@ PropertyChanged@@ ")); } }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ I@@ n java.lang.@@ B@@ oolean get@@ ();
public static java.lang.String enc@@ r@@ yp@@ t@@ (@@ javax.@@ ser@@ vlet@@ .@@ Servlet@@ Cont@@ ex@@ t c@@ t@@ x@@ , java.lang.String r@@ a@@ w@@ Text@@ ) throw@@ s java.lang.Exception { org.ovirt.engine.core.@@ s@@ o.@@ uti@@ l@@ s@@ o@@ Local@@ Confi@@ g confi@@ g = org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Util@@ s.get@@ S@@ s@@ o@@ Context@@ (c@@ t@@ x@@ ); try (@@ java.io.@@ In@@ put@@ St@@ rea@@ m in = new java.io.@@ File@@ In@@ put@@ St@@ re@@ am@@ (@@ confi@@ g@@ .get@@ P@@ K@@ I@@ Engine@@ C@@ er@@ t@@ ().get@@ Ab@@ s@@ ol@@ ut@@ e@@ Fil@@ e())) { return org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ En@@ v@@ el@@ op@@ e@@ En@@ c@@ r@@ yp@@ t@@ D@@ ec@@ r@@ yp@@ t.@@ enc@@ r@@ yp@@ t@@ ("@@ A@@ E@@ S@@ /@@ O@@ F@@ B@@ /@@ P@@ K@@ C@@ S@@ 5@@ P@@ add@@ ing@@ ", 2@@ 5@@ 6@@ , java.s@@ ec@@ ur@@ ity@@ .@@ c@@ er@@ t.@@ C@@ er@@ t@@ if@@ ic@@ ate@@ Fac@@ t@@ ory@@ .getInstanc@@ e(@@ "@@ X@@ .@@ 5@@ 0@@ 9@@ ").@@ gener@@ ate@@ C@@ er@@ t@@ if@@ ic@@ ate(@@ in@@ ), 1@@ 00@@ , r@@ a@@ w@@ T@@ ex@@ t.get@@ By@@ t@@ es(@@ java.@@ n@@ i@@ o@@ .@@ char@@ set@@ .@@ St@@ and@@ ard@@ Ch@@ ar@@ set@@ s.@@ U@@ T@@ F@@ _@@ 8@@ )); } }
protected java.util.Map<java.lang.String, java.lang.Object> build@@ Respon@@ se(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ s@@ o@@ S@@ ess@@ ion s@@ o@@ Session@@ , java.lang.String client@@ Sec@@ ret@@ ) throw@@ s java.lang.Exception { java.util.Map<java.lang.String, java.lang.Object> p@@ ay@@ lo@@ a@@ d = build@@ Respon@@ se(@@ s@@ o@@ Session@@ ); p@@ ay@@ load@@ .@@ put@@ ("@@ id@@ _@@ to@@ k@@ en@@ ", org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ create@@ J@@ W@@ T@@ (@@ re@@ quest@@ , s@@ s@@ s@@ s@@ o@@ Session@@ , client@@ Id, client@@ Sec@@ ret@@ )); return p@@ ay@@ load@@ ; }
public static java.lang.String create@@ J@@ W@@ T@@ (@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ ess@@ ion s@@ o@@ Session@@ , java.lang.String client@@ Sec@@ ret@@ ) throw@@ s com@@ .@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ os@@ e.@@ J@@ O@@ SE@@ Exception@@ , java.s@@ ec@@ ur@@ ity@@ .@@ No@@ Su@@ ch@@ Al@@ g@@ or@@ ith@@ m@@ Exception { com@@ .@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ os@@ e.@@ J@@ W@@ SS@@ ig@@ ne@@ r s@@ ig@@ ne@@ r = new com@@ .@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ os@@ e.c@@ r@@ yp@@ to@@ .@@ M@@ AC@@ S@@ ign@@ er@@ (@@ client@@ Sec@@ ret@@ ); com@@ .@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ w@@ t.@@ S@@ ign@@ ed@@ J@@ W@@ T s@@ ign@@ ed@@ J@@ W@@ T = new com@@ .@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ w@@ t.@@ S@@ ign@@ ed@@ J@@ W@@ T@@ (@@ new com@@ .@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ os@@ e.@@ J@@ W@@ S@@ H@@ ead@@ er@@ (c@@ om@@ .@@ n@@ im@@ b@@ us@@ d@@ s.@@ j@@ os@@ e.@@ J@@ W@@ S@@ Al@@ g@@ or@@ ith@@ m.@@ H@@ S@@ 2@@ 5@@ 6@@ ), org.ovirt.engine.core.@@ s@@ o@@ Utils.@@ create@@ J@@ W@@ T@@ Cl@@ a@@ im@@ Set@@ (@@ re@@ quest@@ , s@@ s@@ o@@ Session@@ , client@@ Id@@ )); s@@ ign@@ ed@@ J@@ W@@ T@@ .@@ s@@ ign@@ er@@ ); return s@@ ign@@ ed@@ J@@ W@@ T@@ .@@ ser@@ ial@@ iz@@ e(); }
public static void s@@ end@@ J@@ son@@ Data@@ (@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ , java.lang.String json@@ P@@ ay@@ load@@ ) throw@@ s java.io.@@ I@@ O@@ Exception { try (@@ java.io.@@ Out@@ put@@ St@@ rea@@ m o@@ s = respon@@ s@@ e.get@@ Out@@ put@@ St@@ re@@ am@@ ()) { respon@@ s@@ e.set@@ Cont@@ ent@@ Type(@@ "@@ ap@@ plication@@ /@@ json@@ "); byte@@ [@@ ] json@@ P@@ ay@@ load@@ By@@ t@@ es = json@@ P@@ ay@@ load@@ .get@@ By@@ t@@ es(@@ java.@@ n@@ i@@ o@@ .@@ char@@ set@@ .@@ St@@ and@@ ard@@ Ch@@ ar@@ set@@ s.@@ U@@ T@@ F@@ _@@ 8@@ .@@ nam@@ e()); respon@@ s@@ e.set@@ Cont@@ ent@@ L@@ ength@@ (@@ json@@ P@@ ay@@ load@@ By@@ t@@ es.@@ l@@ ength@@ ); o@@ s.@@ w@@ rit@@ e(@@ json@@ P@@ ay@@ load@@ By@@ t@@ es@@ ); org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ log.@@ tr@@ ac@@ e(@@ "@@ S@@ end@@ ing j@@ s@@ on dat@@ a {}@@ ", json@@ P@@ ay@@ load@@ ); } }
@java.lang.Override protected void ser@@ vi@@ c@@ e(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ ) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception { try { org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ s.@@ O@@ Auth@@ or@@ ize@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ A@@ t@@ temp@@ t Auth@@ or@@ ize@@ Ser@@ v@@ le@@ t Query@@ String@@ : {@@ }, Parameters : {@@ } re@@ ques@@ t.get@@ Query@@ String@@ (), org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Util@@ s.get@@ Request@@ Parameters(@@ re@@ quest@@ )); java.lang.String respon@@ se@@ Type@@ ; java.lang.String s@@ o@@ Util@@ s.get@@ Request@@ Parameter@@ (@@ re@@ quest@@ , S@@ s@@ o@@ Constants@@ J@@ S@@ ON_@@ RE@@ SP@@ ON@@ S@@ E_@@ TYP@@ E); if (!(@@ respon@@ se@@ Type.@@ equals(@@ "@@ c@@ ode@@ "@@ ))) { throw new org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ O@@ Auth@@ Exception@@ (@@ org.ovirt.engine.core.@@ s@@ o@@ Constant@@ s.@@ ER@@ R@@ _C@@ OD@@ E_@@ IN@@ VALID@@ _@@ RE@@ Q@@ U@@ E@@ ST@@ , java.lang.String@@ .@@ for@@ mat@@ (s@@ s@@ o@@ Cont@@ ex@@ t.get@@ Local@@ iz@@ ation@@ Util@@ s().@@ loc@@ al@@ iz@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ A@@ P@@ P@@ P@@ P@@ P@@ P@@ P@@ P@@ P@@ _@@ ER@@ R@@ OR@@ _@@ UN@@ SUPPORT@@ ED_@@ P@@ AR@@ A@@ M@@ ET@@ ER_@@ IN@@ _@@ RE@@ Q@@ U@@ E@@ ST@@ , ((@@ java.util.@@ Local@@ e) (@@ re@@ ques@@ t.get@@ Att@@ rib@@ ut@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ LO@@ C@@ AL@@ E@@ )@@ )@@ ), respon@@ se@@ Type@@ , "@@ S@@ s@@ o@@ Constant@@ s.@@ J@@ S@@ ON_@@ RE@@ SP@@ ON@@ S@@ E_@@ TYP@@ E@@ )); } lo@@ gin@@ (@@ re@@ quest@@ , respon@@ se@@ , build@@ S@@ s@@ o@@ Session@@ (@@ re@@ quest@@ )); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ ess@@ ion s@@ o@@ S@@ ess@@ ion = org.ovirt.engine.core.@@ s@@ o@@ S@@ ess@@ ion = org.ovirt.engine.core.@@ s@@ o@@ S@@ s@@ o@@ Session@@ Utils.@@ s@@ c@@ op@@ e(@@ re@@ quest@@ , true@@ ); if ((@@ s@@ o@@ Session@@ .is@@ Op@@ en@@ Id@@ S@@ c@@ op@@ e()) || (@@ org.ovirt.engine.core.@@ s@@ o@@ Utils.@@ s@@ o@@ Utils.@@ s@@ c@@ op@@ e@@ As@@ List@@ (@@ org.ovirt.engine.core.@@ s@@ o@@ Utils.@@ s@@ o@@ Session@@ (@@ org.ovirt.engine.core.@@ s@@ o@@ Utils.@@ s@@ o@@ Session@@ Utils.@@ S@@ s@@ o@@ Session@@ (@@ re@@ quest@@ , "@@ s@@ o@@ Session@@ .get@@ S@@ s@@ o@@ Session@@ (@@ re@@ quest@@ ), "@@ "); }
private java.util.Map<java.lang.String, java.lang.Object> build@@ Respon@@ se(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ ess@@ ion s@@ o@@ Session@@ , java.lang.String client@@ Sec@@ re@@ t@@ ) throw@@ s java.lang.Exception { java.util.Map<java.lang.String, java.lang.Object> p@@ ay@@ lo@@ a@@ d = build@@ Respon@@ se(@@ s@@ o@@ Session@@ ); if (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ s@@ c@@ op@@ e@@ As@@ List@@ (s@@ s@@ o@@ Session@@ .get@@ S@@ c@@ op@@ e()@@ ).@@ contains(@@ S@@ s@@ o@@ Constant@@ s.@@ O@@ P@@ EN@@ ID@@ _@@ S@@ C@@ O@@ P@@ E@@ )) { p@@ ay@@ load@@ .@@ put@@ ("@@ id@@ _@@ to@@ k@@ en@@ ", org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ o@@ Utils.@@ create@@ J@@ W@@ T@@ (@@ re@@ quest@@ , s@@ o@@ Session@@ , client@@ Sec@@ re@@ t@@ )); } return p@@ ay@@ load@@ ; }
private java.lang.String get@@ To@@ k@@ en@@ From@@ H@@ ead@@ er@@ (@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ ) { java.lang.String to@@ ke@@ n = null@@ ; java.lang.String h@@ ead@@ er@@ Valu@@ e = re@@ ques@@ t.get@@ H@@ ead@@ er@@ (@@ S@@ s@@ o@@ Constant@@ s.@@ H@@ E@@ AD@@ ER_@@ A@@ U@@ TH@@ OR@@ I@@ Z@@ A@@ TI@@ ON@@ ); if ((@@ h@@ ead@@ er@@ Valu@@ e != null@@ ) && (@@ h@@ ead@@ er@@ Valu@@ e.@@ st@@ art@@ sWith@@ (@@ org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ s.@@ Op@@ en@@ Id@@ User@@ Info@@ Servlet@@ .@@ B@@ E@@ AR@@ ER@@ ))) { to@@ ke@@ n = h@@ ead@@ er@@ Valu@@ e.@@ sub@@ st@@ ring@@ ("@@ Be@@ ar@@ er@@ "@@ .@@ l@@ ength@@ ()).@@ t@@ ri@@ m@@ (); } return to@@ k@@ en@@ ; }
@java.lang.Override protected void ser@@ vi@@ c@@ e(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ ) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception { try { org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ s.@@ Op@@ en@@ Id@@ User@@ Info@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ En@@ ter@@ ed Op@@ en@@ Id@@ User@@ Info@@ Ser@@ v@@ le@@ t Query String@@ : {@@ }, Parameters : {}@@ ", re@@ ques@@ t.get@@ Query@@ String@@ (), org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Util@@ s.get@@ Request@@ Parameters(@@ re@@ quest@@ )); java.lang.String to@@ ke@@ n = re@@ ques@@ t.get@@ Parameter@@ (@@ S@@ s@@ o@@ Constant@@ s.@@ H@@ T@@ P@@ _@@ RE@@ Q@@ _@@ AT@@ T@@ R@@ _@@ AC@@ C@@ E@@ S@@ S_@@ T@@ O@@ K@@ EN@@ ); if (@@ to@@ ke@@ n == null@@ ) { to@@ ke@@ n = get@@ To@@ k@@ en@@ From@@ H@@ ead@@ er@@ (@@ re@@ quest@@ ); } if (@@ to@@ ke@@ n == null@@ ) { throw new org.ovirt.engine.core.@@ s@@ s@@ s@@ o.@@ utils.@@ O@@ Exception@@ (@@ org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ o.@@ utils.@@ Constant@@ s.@@ ER@@ R@@ OR@@ _C@@ OD@@ E@@ , org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Constant@@ s.@@ ER@@ R@@ _C@@ OD@@ E_@@ IN@@ VALID@@ _@@ RE@@ Q@@ U@@ E@@ ST@@ ); } org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ ess@@ ion s@@ o@@ S@@ ess@@ ion = org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Session@@ Util@@ s.get@@ S@@ s@@ o@@ Session@@ From@@ Request@@ (@@ re@@ quest@@ , to@@ k@@ en@@ ); org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ s.@@ Op@@ en@@ Id@@ User@@ Info@@ Servlet@@ .@@ s@@ end@@ J@@ son@@ Data@@ (@@ respon@@ se@@ , build@@ Respon@@ se(@@ re@@ quest@@ , s@@ o@@ Session@@ )); } catch (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ O@@ Exception ex@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ end@@ Utils.@@ s@@ end@@ J@@ son@@ Data@@ With@@ Message@@ (@@ respon@@ se@@ , ex@@ ); } catch (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception ex@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ end@@ Utils.@@ s@@ end@@ J@@ son@@ Data@@ With@@ Message@@ (@@ respon@@ se@@ , S@@ s@@ o@@ Constant@@ s.@@ ER@@ R@@ OD@@ E_@@ AC@@ C@@ E@@ S@@ S_@@ D@@ EN@@ I@@ ED@@ , ex@@ ); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ s@@ end@@ Utils.@@ s@@ end@@ J@@ son@@ Data@@ With@@ Message@@ (@@ respon@@ se@@ , ex@@ ); }
private java.lang.String build@@ Respon@@ se(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ s@@ o@@ S@@ ess@@ ion s@@ o@@ Session@@ ) throw@@ s java.lang.Exception { return org.ovirt.engine.core.@@ s@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ create@@ J@@ W@@ T@@ (@@ re@@ quest@@ , s@@ o@@ Session@@ , s@@ o@@ Session@@ .get@@ Client@@ Id@@ ()).@@ toString@@ (); }
protected org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ ess@@ ion handl@@ e@@ Is@@ s@@ ue@@ To@@ k@@ en@@ For@@ Auth@@ Cod@@ e(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , java.lang.String client@@ Id, java.lang.String s@@ c@@ op@@ e) throw@@ s java.lang.Exception { org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ s.@@ O@@ Auth@@ To@@ k@@ en@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ En@@ ter@@ ed is@@ s@@ ue@@ To@@ k@@ en@@ For@@ Auth@@ C@@ ode@@ "); java.lang.String auth@@ Cod@@ e = org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Util@@ s.get@@ Request@@ Parameter@@ (@@ re@@ quest@@ , S@@ s@@ o@@ Constant@@ s.@@ H@@ T@@ P@@ _P@@ AR@@ A@@ M@@ _@@ A@@ U@@ TH@@ OR@@ I@@ Z@@ A@@ TION_@@ C@@ OD@@ E@@ , S@@ s@@ o@@ Constant@@ s.@@ H@@ T@@ T@@ T@@ P@@ _P@@ AR@@ A@@ M@@ _@@ A@@ U@@ TH@@ OR@@ I@@ Z@@ A@@ TION_@@ C@@ OD@@ E); java.lang.String ac@@ cess@@ To@@ ke@@ n = get@@ To@@ k@@ en@@ For@@ Auth@@ Cod@@ e(@@ auth@@ C@@ ode@@ ); if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ ac@@ cess@@ To@@ k@@ en@@ )) { throw new org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ O@@ Auth@@ Exception@@ (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Constant@@ s.@@ ER@@ R@@ _C@@ OD@@ E_@@ IN@@ VALID@@ _@@ G@@ R@@ AN@@ T@@ , org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Constant@@ s.@@ ER@@ R@@ _C@@ OD@@ E_@@ IN@@ VALID@@ _C@@ OD@@ E@@ _M@@ S@@ G@@ ); } org.ovirt.engine.core.@@ s@@ o@@ utils.@@ S@@ s@@ o@@ Utils.@@ validate@@ Request@@ S@@ c@@ op@@ e(@@ re@@ quest@@ , ac@@ cess@@ To@@ k@@ en@@ , s@@ c@@ op@@ e); org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ ess@@ ion s@@ o@@ S@@ ess@@ ion s@@ o@@ S@@ ess@@ ion = org.ovirt.engine.core.@@ s@@ o@@ Util@@ s.get@@ S@@ s@@ o@@ Session@@ (@@ re@@ quest@@ , client@@ Id, ac@@ cess@@ To@@ k@@ en@@ , true@@ ); validate@@ Client@@ Ac@@ ce@@ p@@ t@@ H@@ ead@@ er@@ (s@@ s@@ o@@ Session@@ , re@@ quest@@ ); return s@@ o@@ Session@@ ; }
@java.lang.Override protected void initial@@ ize@@ Model@@ Handl@@ ers@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ b@@ ook@@ mar@@ k@@ s.@@ B@@ ook@@ mar@@ k@@ ListModel model@@ ) { super@@ .@@ initial@@ ize@@ Model@@ Handl@@ ers@@ (model@@ ); model.get@@ Item@@ S@@ av@@ ed@@ Event@@ ().add@@ Listener@@ (@@ ( sender, args) -@@ > cl@@ e@@ ar@@ Sel@@ ection@@ ()); getModel().get@@ Sel@@ ection@@ Model@@ ().add@@ Sel@@ ection@@ Change@@ Handler@@ (@@ this@@ , event@@ ) -@@ > { if (@@ !@@ (get@@ Model().get@@ Selected@@ Object@@ s().@@ is@@ Em@@ p@@ ty == null@@ ) { this@@ .@@ get@@ Model@@ ().set@@ SelectedItem@@ (@@ null@@ ); } else { this@@ .get@@ Model@@ ().set@@ SelectedItem@@ (@@ null@@ ); } }); }
private static void ex@@ tr@@ act@@ Interface@@ Statistic@@ s(@@ java.util.Map<java.lang.String, java.lang.Object> d@@ ic@@ t@@ , org.ovirt.engine.core.common.businessentities.network.Network@@ Interface@@ <?@@ > if@@ ac@@ e) { org.ovirt.engine.core.common.businessentities.network.Network@@ Statistic@@ s stat@@ s = if@@ ac@@ e.get@@ Statistic@@ s(); stat@@ s.set@@ Rec@@ e@@ ive@@ D@@ ro@@ p@@ R@@ ate(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ass@@ ign@@ Do@@ ubl@@ e@@ Value@@ With@@ Null@@ Prot@@ ection@@ (@@ d@@ ic@@ t@@ , Vds@@ Properties.@@ r@@ x@@ _@@ d@@ ro@@ p@@ ed@@ )); stat@@ s.set@@ Rec@@ e@@ i@@ v@@ ed@@ By@@ t@@ es(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ass@@ ign@@ L@@ on@@ g@@ Value(@@ d@@ ic@@ t@@ , Vds@@ Properties.@@ r@@ x@@ _@@ t@@ otal@@ )); stat@@ s.set@@ Trans@@ m@@ it@@ D@@ ro@@ p@@ R@@ ate(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ass@@ ign@@ Do@@ ubl@@ e@@ Value@@ With@@ Null@@ Prot@@ ection@@ (@@ d@@ ic@@ t@@ , Vds@@ Properties.@@ t@@ x@@ _@@ d@@ ro@@ p@@ ed@@ )); stat@@ s.set@@ Trans@@ m@@ it@@ t@@ ed@@ By@@ t@@ es(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ass@@ ign@@ L@@ on@@ g@@ Value(@@ d@@ ic@@ t@@ , Vds@@ Properties.@@ t@@ x@@ _@@ t@@ otal@@ )); stat@@ s.set@@ S@@ am@@ ple@@ Tim@@ e(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ass@@ ign@@ Do@@ ubl@@ e@@ Value(@@ d@@ ic@@ t@@ , Vds@@ Properties.@@ s@@ am@@ ple@@ _@@ time@@ )); if (@@ d@@ ic@@ t.@@ contain@@ s@@ Key@@ (@@ Vds@@ Properties.@@ IN@@ TER@@ F@@ AC@@ E_@@ SP@@ E@@ ED@@ )) { if@@ ac@@ e.set@@ Sp@@ e@@ ed(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ass@@ ign@@ Int@@ Value(@@ d@@ ic@@ t@@ , Vds@@ Properties.@@ IN@@ TER@@ F@@ AC@@ E_@@ SP@@ E@@ ED@@ )); } }
private void w@@ rit@@ e@@ Vm@@ Met@@ ad@@ ata@@ () { w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ OV@@ I@@ R@@ T_@@ VM_@@ P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ OV@@ I@@ R@@ T_@@ VM_@@ UR@@ I@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ (@@ org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ OV@@ I@@ R@@ T_@@ VM_@@ UR@@ I@@ , "@@ vm@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ OV@@ I@@ R@@ T_@@ VM_@@ P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ OV@@ I@@ R@@ T_@@ VM_@@ UR@@ I@@ ); if (vm@@ .is@@ Run@@ On@@ c@@ e()) { w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ (@@ org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ OV@@ I@@ R@@ T_@@ VM_@@ UR@@ I@@ , "@@ d@@ est@@ ro@@ y@@ _@@ on@@ _@@ re@@ b@@ oot@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ type@@ ", "@@ b@@ ool@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Ra@@ w@@ ("@@ Tr@@ ue@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); } w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
java.lang.String C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ STORAGE_@@ HOST@@ _@@ IN@@ _M@@ AIN@@ T@@ EN@@ AN@@ C@@ E@@ ();
@java.lang.Override public void set@@ H@@ as@@ Selected@@ Tag@@ s@@ (@@ boolean has@@ Selected@@ Tag@@ s) { }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") @java.lang.Override protected void sh@@ ow@@ Su@@ g@@ es@@ tion@@ s@@ (@@ final com.google.gwt.@@ user.@@ client.@@ ui.@@ Su@@ g@@ g@@ g@@ g@@ est@@ B@@ o@@ x s@@ ug@@ g@@ est@@ B@@ o@@ x@@ , java.util.Collection@@ <@@ ? extends com.google.gwt.@@ user.@@ client.@@ ui.@@ Su@@ g@@ g@@ g@@ g@@ g@@ est@@ Or@@ ac@@ l@@ e.@@ Su@@ g@@ es@@ tion@@ > s@@ ug@@ g@@ es@@ tion@@ s, boolean is@@ Display@@ String@@ H@@ T@@ M@@ L@@ , boolean is@@ A@@ uto@@ Sel@@ ect@@ Enabled@@ , org.ovirt.engine.ui.webadmin.@@ widget.@@ a@@ ut@@ oc@@ omp@@ let@@ e.@@ Su@@ g@@ es@@ tion@@ Call@@ back callback@@ ) { boolean any@@ Su@@ g@@ es@@ tion@@ s = (s@@ ug@@ g@@ es@@ tion@@ s != null@@ ) && ((@@ s@@ ug@@ g@@ es@@ tion@@ s.@@ size()) > 0@@ ); if (!@@ any@@ Su@@ g@@ es@@ tion@@ s) { h@@ id@@ e@@ Su@@ g@@ es@@ tion@@ s(); return@@ ; } if ((@@ s@@ ug@@ g@@ es@@ tion@@ Popup@@ ) == null@@ ) { s@@ ug@@ g@@ es@@ tion@@ P@@ o@@ pu@@ p = create@@ Popup@@ (); } if (s@@ ug@@ g@@ es@@ tion@@ Popup@@ .is@@ Attached@@ ()) { s@@ ug@@ g@@ es@@ tion@@ Popup@@ .@@ h@@ id@@ e(); } if (s@@ ug@@ g@@ est@@ B@@ o@@ x != null@@ ) { s@@ ug@@ g@@ es@@ tion@@ Popup@@ .@@ remove@@ A@@ uto@@ H@@ id@@ e@@ P@@ art@@ n@@ er@@ (s@@ ug@@ g@@ est@@ B@@ o@@ x@@ .get@@ Element@@ ()); s@@ ug@@ g@@ es@@ tion@@ Popup@@ .@@ add@@ A@@ uto@@ H@@ id@@ e@@ P@@ art@@ n@@ er@@ (s@@ ug@@ g@@ est@@ B@@ o@@ x@@ .get@@ Element@@ ()); } s@@ ug@@ g@@ es@@ tion@@ s@@ T@@ able = get@@ Su@@ g@@ es@@ tion@@ C@@ el@@ l@@ List@@ (((@@ java.util.Collection@@ <@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ a@@ ut@@ oc@@ omp@@ let@@ e.@@ Search@@ Su@@ g@@ es@@ tion@@ s@@ )@@ ), s@@ ug@@ g@@ est@@ B@@ o@@ x@@ , s@@ ug@@ g@@ es@@ tion@@ Popup@@ ); s@@ ug@@ g@@ es@@ tion@@ Popup@@ .set@@ Widget@@ (s@@ ug@@ g@@ es@@ tion@@ s@@ T@@ able@@ ); s@@ ug@@ g@@ es@@ tion@@ Popup@@ .@@ sh@@ ow@@ R@@ el@@ ati@@ ve@@ To@@ (s@@ ug@@ g@@ est@@ B@@ o@@ x@@ ); }
private java.lang.String@@ [@@ ] get@@ Search@@ Object@@ Filter@@ () { java.util.List<java.lang.String> fil@@ t@@ er = new java.util.ArrayList<@@ >(); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ ListModel@@ <?@@ , ?@@ > lis@@ t : c@@ ommon@@ Model.get@@ Item@@ s()) { if ((@@ lis@@ t != null@@ ) && (!(@@ lis@@ t.get@@ Is@@ Avail@@ abl@@ e()@@ ))) { java.lang.String@@ [@@ ] search@@ Object@@ s = lis@@ t.get@@ Search@@ Object@@ s(); if (@@ search@@ Object@@ s != null@@ ) { fil@@ t@@ er.@@ add@@ All@@ (@@ java.util.Arrays.as@@ List(@@ search@@ Object@@ s@@ )); } } return fil@@ t@@ er.@@ to@@ Array@@ (@@ new java.lang.String@@ [@@ 0@@ ]@@ ); }
private void s@@ ync@@ Direct@@ Lun@@ s@@ Attached@@ To@@ Vms@@ In@@ Pool@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> devi@@ ce@@ List@@ ) { org.ovirt.engine.core.common.action.@@ Sync@@ Lun@@ s@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Sync@@ Lun@@ s@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Sync@@ All@@ Us@@ ed@@ Lun@@ s@@ Command.getParameters().get@@ StoragePool@@ Id()); parameters.set@@ Device@@ List(@@ devi@@ ce@@ List@@ ); run@@ Internal@@ Action@@ (Vdc@@ Action@@ Type, parameters@@ ); }
@java.lang.Override protected boolean validate(@@ ) { return validate(@@ ) (@@ validate(@@ org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Abstract@@ Sync@@ Lun@@ s@@ Command.@@ check@@ StoragePool@@ (); }
private void validate@@ Remov@@ e() { if ((@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ ().get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ ().get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()) == null@@ )) { bl@@ ock@@ StorageDomain@@ Helper.@@ fil@@ l@@ Met@@ ad@@ ata@@ Devic@@ es@@ Info@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ Vds@@ ().get@@ StoragePool@@ Id@@ ()); validate@@ R@@ et@@ ri@@ ev@@ ed@@ Met@@ ad@@ ata@@ Devic@@ es@@ (); storageDomain@@ Static@@ Dao@@ .@@ updat@@ e(@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); java.util.List<java.lang.String> m@@ et@@ ad@@ ata@@ Device@@ s = bl@@ ock@@ StorageDomain@@ Helper.@@ fin@@ d@@ Met@@ ad@@ ata@@ Devic@@ es@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command.get@@ StorageDomain@@ (), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ To@@ R@@ ed@@ uc@@ e()); if (!(@@ m@@ et@@ ad@@ ata@@ Devic@@ es.@@ isEmpty())) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ R@@ ed@@ u@@ ce@@ S@@ AN@@ StorageDomain@@ Devic@@ es@@ Command@@ .set@@ Custom@@ C@@ omm@@ a@@ Se@@ par@@ ated@@ Valu@@ es@@ ("@@ devi@@ ce@@ Id@@ s", m@@ et@@ ad@@ ata@@ Devic@@ es@@ ); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , AuditLogType.@@ US@@ ER_@@ R@@ ED@@ U@@ C@@ E_@@ DOMAIN@@ _@@ DE@@ V@@ IC@@ E@@ S_@@ FAIL@@ ED@@ _M@@ ET@@ AD@@ AT@@ A@@ _@@ DE@@ V@@ IC@@ E@@ S@@ ); throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ Gener@@ al@@ Exception@@ , p@@ er@@ for@@ m on m@@ et@@ ad@@ at@@ a devi@@ ce@@ s } } validate@@ F@@ ree@@ Sp@@ ac@@ e(); }
public void fil@@ l@@ Met@@ ad@@ ata@@ Devic@@ es@@ Info@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ Static@@ , org.ovirt.engine.core.compat.Guid storagePool@@ Id) { try { @@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c do@@ m@@ ain@@ From@@ I@@ r@@ s = ((@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ , org.ovirt.engine.core.compat.Guid@@ >) (@@ org.ovirt.engine.core.bll.storage.@@ utils.@@ Vds@@ Command@@ s@@ Helper.@@ run@@ Vds@@ Command@@ With@@ out@@ Fail@@ ed(@@ VDSCommand@@ Type.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ Info@@ , new org.ovirt.engine.core.common.vdscommands.@@ H@@ S@@ M@@ Get@@ StorageDomain@@ Info@@ VDSCommand@@ Parameters@@ (@@ null@@ , storageDomain@@ Static@@ .getId@@ ()), storagePool@@ Id, null@@ ).get@@ ReturnValu@@ e()@@ )@@ ).get@@ F@@ ir@@ st@@ (); storageDomain@@ Static@@ .set@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Device@@ (@@ do@@ m@@ ain@@ From@@ I@@ rs.get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()); storageDomain@@ Static@@ .set@@ V@@ g@@ Met@@ ad@@ ata@@ Device@@ (@@ do@@ m@@ ain@@ From@@ I@@ rs.get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()); } catch (@@ java.lang.Exception e) { storageDomain@@ Static@@ .set@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Device@@ (@@ null@@ ); storageDomain@@ Static@@ .set@@ V@@ g@@ Met@@ ad@@ ata@@ Device@@ (@@ null@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ B@@ lock@@ StorageDomain@@ Helper.@@ log.@@ info@@ ("@@ Fail@@ ed to g@@ e@@ t the do@@ ma@@ in in@@ f@@ o "); } }
protected void update@@ Met@@ ad@@ ata@@ Devic@@ es@@ () { if ((@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()) == null@@ )) { bl@@ ock@@ StorageDomain@@ Helper.@@ fil@@ l@@ Met@@ ad@@ ata@@ Devic@@ es@@ Info@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ Vds@@ ().get@@ StoragePool@@ Id()); storageDomain@@ Static@@ Dao@@ .@@ updat@@ e(@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ Existing@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); } }
private void re@@ fresh@@ Met@@ ad@@ ata@@ Devic@@ es@@ Info@@ If@@ N@@ e@@ ed@@ () { java.lang.String old@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e(); java.lang.String old@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e(); bl@@ ock@@ StorageDomain@@ Helper.@@ fil@@ l@@ Met@@ ad@@ ata@@ Devic@@ es@@ Info@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StoragePool@@ Id()); if ((!@@ (@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ V@@ g@@ Met@@ ad@@ ata@@ Device@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()@@ ))) || (!(@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Device@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()@@ )))) { storageDomain@@ Static@@ Dao@@ .@@ updat@@ e(@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); } bl@@ ock@@ StorageDomain@@ Helper.@@ check@@ Domain@@ Met@@ ad@@ ata@@ Devic@@ es@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ()); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.@@ initial@@ ize@@ StorageDomain@@ (); java.lang.String stor@@ age = ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ ()) != null@@ ) ? org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ () : "@@ "@@ "@@ "@@ "@@ ; org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().set@@ Storage@@ ("@@ "); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.@@ add@@ StorageDomain@@ In@@ Db@@ (); if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ storage@@ )) { stor@@ age = create@@ V@@ G@@ (); } org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().set@@ Storage@@ (@@ storage@@ ); if ((@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ ())) && (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.@@ add@@ StorageDomain@@ In@@ I@@ r@@ s@@ ())) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.@@ update@@ StorageDomain@@ Dynamic@@ From@@ I@@ r@@ s(); pro@@ ceed@@ V@@ G@@ Lun@@ s@@ In@@ Db@@ (); bl@@ ock@@ StorageDomain@@ Helper.@@ fil@@ l@@ Met@@ ad@@ ata@@ Devic@@ es@@ Info@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ Vds@@ ().get@@ Storage@@ StaticData@@ ()); storageDomain@@ Static@@ Dao@@ .@@ updat@@ e(@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ S@@ AN@@ StorageDomain@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); } }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> get@@ Device@@ List(@@ java.util.Map<java.lang.String, java.lang.Object> lun@@ s@@ Id@@ s) { if ((@@ Abstract@@ Sync@@ Lun@@ s@@ Command.getParameters().get@@ Device@@ List@@ ()) == null@@ ) { return run@@ Get@@ Device@@ List(@@ lun@@ s@@ Id@@ s); } if (@@ lun@@ s@@ Id@@ s == null@@ ) { return Abstract@@ Sync@@ Lun@@ s@@ Command.getParameters().get@@ Device@@ List@@ (); } java.util.Set@@ <java.lang.String@@ > lun@@ s@@ Id@@ s@@ Se@@ t = new java.util.Hash@@ Set@@ <@@ >@@ (@@ lun@@ s@@ Id@@ s); return Abstract@@ Sync@@ Lun@@ s@@ Command.getParameters().get@@ Device@@ List@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( lun@@ ) -@@ > lun@@ s@@ Id@@ s@@ Set@@ .@@ contains(@@ lun@@ .getId@@ ())@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); }
private org.ovirt.engine.core.common.action.@@ Ex@@ tend@@ S@@ AN@@ StorageDomain@@ Parameters create@@ Parameters(@@ org.ovirt.engine.core.compat.Guid storageDomain@@ Id, java.util.List<@@ org.ovirt.engine.api.model.@@ Log@@ ical@@ Unit@@ > new@@ Lun@@ s, boolean for@@ ce@@ ) { org.ovirt.engine.core.common.action.@@ Ex@@ tend@@ S@@ AN@@ StorageDomain@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Ex@@ tend@@ S@@ AN@@ StorageDomain@@ Parameters@@ (); params.set@@ StorageDomain@@ Id(@@ storageDomain@@ Id); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > lun@@ Id@@ s = new@@ Lun@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ Log@@ ical@@ Unit@@ :@@ :@@ :@@ get@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Collection@@ (@@ java.util.Collections.@@ sing@@ leton@@ List(@@ lun@@ Id@@ )); params.set@@ For@@ ce@@ (@@ for@@ ce@@ ); return param@@ s@@ ; }
@java.lang.Override protected void w@@ rit@@ e@@ Gener@@ al@@ Data@@ () { super@@ .@@ w@@ rit@@ e@@ Gener@@ al@@ Data@@ (); _@@ w@@ rit@@ er@@ .@@ w@@ rit@@ e@@ Element@@ (@@ Ovf@@ Properties.@@ T@@ EM@@ PL@@ AT@@ E_@@ ID@@ , _@@ vm@@ Templat@@ e.get@@ Id().@@ toString@@ ()); org.ovirt.engine.core.common.businessentities.@@ O@@ ri@@ gin@@ Type or@@ i@@ gin@@ Type = _@@ vm@@ Templat@@ e.get@@ O@@ ri@@ gin@@ (); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ (@@ Ovf@@ Properties.@@ OR@@ I@@ G@@ IN@@ , (@@ or@@ i@@ gin@@ Type == null ? "@@ " : java.lang.String.@@ value@@ Of@@ (@@ or@@ i@@ gin@@ Typ@@ e.get@@ Valu@@ e()@@ ))); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ (@@ Ovf@@ Properties.@@ T@@ EM@@ PL@@ AT@@ E_@@ DE@@ F@@ A@@ U@@ L@@ T_@@ DIS@@ PL@@ A@@ Y_@@ TYP@@ E@@ , java.lang.String.@@ value@@ Of@@ (@@ _@@ vm@@ Templat@@ e.get@@ Default@@ Display@@ Typ@@ e().get@@ Valu@@ e())); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ (@@ Ovf@@ Properties.@@ IS@@ _@@ DIS@@ AB@@ L@@ ED@@ , java.lang.String.@@ value@@ Of@@ (@@ _@@ vm@@ Templat@@ e.@@ is@@ Dis@@ abl@@ ed@@ ())); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ (@@ Ovf@@ Properties.@@ T@@ R@@ U@@ ST@@ ED_@@ S@@ ER@@ V@@ IC@@ E@@ , java.lang.String.@@ value@@ Of@@ (@@ _@@ vm@@ Templat@@ e.@@ is@@ Tr@@ ust@@ ed@@ Servic@@ e())); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ (@@ Ovf@@ Properties.@@ T@@ EM@@ PL@@ AT@@ E_@@ TYP@@ E@@ , _@@ vm@@ Templat@@ e.get@@ Template@@ Typ@@ e().@@ nam@@ e()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ (@@ Ovf@@ Properties.@@ B@@ A@@ S@@ E_@@ T@@ EM@@ PL@@ AT@@ E_@@ ID@@ , _@@ vm@@ Templat@@ e.get@@ Base@@ Template@@ Id().@@ toString@@ ()); _@@ w@@ rit@@ e@@ Element@@ (@@ Ovf@@ Properties.@@ T@@ EM@@ PL@@ AT@@ E_@@ V@@ ER@@ SI@@ ON_@@ N@@ U@@ M@@ B@@ ER@@ , java.lang.String.@@ value@@ Of@@ (@@ _@@ vm@@ Templat@@ e.get@@ Template@@ Version@@ Num@@ ber@@ ())); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ (@@ Ovf@@ Properties.@@ T@@ EM@@ PL@@ AT@@ E_@@ V@@ ER@@ SI@@ ON_@@ NAM@@ E@@ , _@@ vm@@ Templat@@ e.get@@ Template@@ Version@@ Name()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
private void update@@ Action@@ Avail@@ ab@@ ility@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k = get@@ SelectedItem@@ (); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ s = ((get@@ SelectedItem@@ s()) != null@@ ) ? ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ >) (get@@ SelectedItem@@ s@@ ())) : null@@ ; boolean sh@@ oul@@ d@@ Allow@@ E@@ d@@ i@@ t = true@@ ; if (@@ dis@@ k != null@@ ) { sh@@ oul@@ d@@ Allow@@ E@@ d@@ i@@ t = (!(@@ disk@@ .is@@ Ovf@@ Stor@@ e())) && (!(@@ is@@ Disk@@ Lock@@ ed(@@ disk@@ ))); } get@@ New@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ true@@ ); get@@ Edit@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ (((@@ dis@@ k != null@@ ) && (disk@@ s != null@@ )) && ((@@ disk@@ s.@@ size()) == 1@@ )) && sh@@ oul@@ d@@ Allow@@ Edit@@ )); get@@ Remove@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((((@@ disk@@ s != null@@ ) && ((@@ disk@@ s.@@ size()) > 0@@ )) && (is@@ Remove@@ Command@@ Avail@@ abl@@ e()@@ ))); get@@ S@@ can@@ Al@@ ign@@ ment@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((((@@ disk@@ s != null@@ ) && ((@@ disk@@ s.@@ size()) > 0@@ )) && (is@@ S@@ can@@ Al@@ ign@@ ment@@ Command@@ Avail@@ abl@@ e()@@ ))); get@@ Export@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ is@@ Export@@ Command@@ Avail@@ abl@@ e()); update@@ Copy@@ And@@ Move@@ Command@@ Avail@@ ab@@ ility@@ (disk@@ s); org.ovirt.engine.ui.uicommonweb.models.@@ quota@@ .@@ Change@@ Quota@@ Model.@@ update@@ Change@@ Quota@@ Action@@ Avail@@ ab@@ ility@@ ((@@ (get@@ Item@@ s()) != null ? get@@ Item@@ s() : null@@ ), ((get@@ SelectedItem@@ s()) != null ? get@@ SelectedItem@@ s() : null@@ ), get@@ Change@@ Quota@@ Command@@ ()); get@@ Cancel@@ U@@ pl@@ o@@ ad@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model@@ .is@@ Cancel@@ Allow@@ ed(@@ disk@@ s@@ )); get@@ Pa@@ us@@ e@@ U@@ pl@@ o@@ ad@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Image@@ Model@@ .is@@ Pa@@ us@@ e@@ Allow@@ ed(@@ disk@@ s@@ )); get@@ Res@@ um@@ e@@ U@@ pl@@ o@@ ad@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model@@ .is@@ Res@@ um@@ e@@ Allow@@ ed(@@ disk@@ s@@ )); }
protected void update@@ Default@@ Host@@ () { org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = getModel().get@@ Selected@@ Cluster@@ (); final org.ovirt.engine.ui.uicompat.@@ U@@ I@@ Constant@@ s const@@ an@@ t@@ s = org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Constants@@ (); if (c@@ luster == null@@ ) { getModel().get@@ Default@@ Host@@ ().set@@ Item@@ s@@ (@@ new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >@@ ()); getModel().get@@ Default@@ Host@@ ().set@@ SelectedItem@@ s@@ (@@ new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VDS@@ >@@ ()); return@@ ; } get@@ Host@@ List@@ By@@ Cluster@@ (cluster@@ , asyncQuery@@ (@@ ( host@@ s) -@@ > old@@ Default@@ Host@@ s = getModel().get@@ Default@@ Host@@ ().get@@ SelectedItem@@ s(); getModel().get@@ Default@@ Host@@ ().set@@ Items(@@ host@@ s); if (@@ old@@ Default@@ Host@@ s != null@@ ) && (!(@@ old@@ Default@@ Host@@ s.@@ isEmpty@@ ()))) { set@@ Is@@ Host@@ s(@@ old@@ Default@@ Host@@ s); } else { set@@ up@@ Host@@ s(@@ old@@ Default@@ Host@@ s); } }
private void update@@ Action@@ Avail@@ ab@@ ility@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > item@@ s = ((get@@ SelectedItem@@ s()) != null@@ ) ? get@@ SelectedItem@@ s() : new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >(); org.ovirt.engine.core.common.businessentities.@@ StorageDomain it@@ e@@ m = get@@ SelectedItem@@ (); get@@ New@@ Domain@@ Command@@ ().setIs@@ Available@@ (@@ true@@ ); get@@ Edit@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((((@@ item@@ s.@@ size()) == 1@@ ) && (is@@ Edit@@ Avail@@ able(@@ item@@ )@@ ))); get@@ Remove@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ (((@@ item@@ s.@@ size()) == 1@@ ) && (!(@@ item@@ s.get@@ (0@@ ).get@@ Storage@@ Typ@@ e().@@ is@@ Op@@ en@@ St@@ ack@@ Domain@@ ()))) && ((@@ item@@ s.get@@ (0@@ ).get@@ StorageDomain@@ Sh@@ ared@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Sh@@ ared@@ Status.@@ Un@@ attach@@ ed@@ )@@ ))); get@@ Dest@@ ro@@ y@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ (((@@ it@@ e@@ m != null@@ ) && ((@@ item@@ s.@@ size()) == 1@@ )) && (!(@@ item@@ s.get@@ (0@@ ).get@@ Storage@@ Typ@@ e().@@ is@@ Op@@ en@@ St@@ ack@@ Domain@@ ()))) && ((@@ item@@ .get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Active@@ )@@ ))); get@@ S@@ can@@ Disks@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((((@@ ((@@ it@@ e@@ m != null@@ ) && ((@@ item@@ s.@@ size()) == 1@@ )) && (!(@@ item@@ s.get@@ (0@@ ).get@@ Storage@@ Typ@@ e().@@ is@@ Op@@ en@@ St@@ ack@@ Domain@@ ()))) && ((@@ item@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Active@@ ))) && (@@ item@@ .get@@ StorageDomain@@ Typ@@ e().@@ is@@ Data@@ Domain@@ ()))); get@@ Update@@ Ovf@@ s@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ (((@@ it@@ e@@ m != null@@ ) && ((@@ item@@ s.@@ size()) == 1@@ )) && (@@ item@@ .get@@ StorageDomain@@ Typ@@ e().@@ is@@ Data@@ Domain@@ ())) && ((@@ item@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Active@@ )@@ ))); }
private void update@@ Action@@ Avail@@ ab@@ ility@@ () { get@@ Copy@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((((@@ (get@@ SelectedItem@@ s()) != null@@ ) && ((get@@ SelectedItem@@ s().@@ size()) > 0@@ )) && (is@@ Copy@@ Command@@ Avail@@ abl@@ e()@@ ))); org.ovirt.engine.ui.uicommonweb.models.@@ quota@@ .@@ Change@@ Quota@@ Model.@@ update@@ Change@@ Quota@@ Action@@ Avail@@ ab@@ ility@@ ((@@ (get@@ Item@@ s()) != null ? get@@ Item@@ s() : null@@ ), ((get@@ SelectedItem@@ s()) != null ? get@@ SelectedItem@@ s() : null@@ ), get@@ Change@@ Quota@@ Command@@ ()); }
private void update@@ Action@@ Avail@@ ab@@ ility@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k = get@@ SelectedItem@@ (); get@@ New@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ true@@ ); get@@ Attach@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ true@@ ); get@@ Edit@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ (((@@ dis@@ k != null@@ ) && (is@@ Sing@@ le@@ Disk@@ Selected@@ ())) && (!(@@ is@@ Disk@@ Lock@@ ed(@@ disk@@ )))) && (((@@ is@@ Vm@@ Down@@ ()) || (!(@@ disk@@ .get@@ Plug@@ ged@@ ()))) || (is@@ Ex@@ tend@@ Image@@ Size@@ Enabled@@ ())@@ ))); get@@ Remove@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (((@@ at@@ L@@ e@@ ast@@ O@@ ne@@ Disk@@ Selected@@ ()) && (is@@ Remove@@ Command@@ Avail@@ abl@@ e()@@ ))); get@@ Sp@@ ar@@ s@@ if@@ y@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (((@@ at@@ L@@ e@@ ast@@ O@@ ne@@ Disk@@ Selected@@ ()) && (is@@ Sp@@ ar@@ s@@ if@@ y@@ Command@@ Avail@@ abl@@ e()@@ ))); get@@ Move@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (((@@ at@@ L@@ e@@ ast@@ O@@ ne@@ Disk@@ Selected@@ ()) && ((@@ is@@ Move@@ Command@@ Avail@@ abl@@ e()) || (is@@ L@@ ive@@ Move@@ Command@@ Avail@@ abl@@ e()@@ )@@ ))); update@@ S@@ can@@ Al@@ ign@@ ment@@ Command@@ Avail@@ ab@@ ility@@ (); get@@ Plug@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ is@@ Plug@@ Command@@ Available@@ (@@ false@@ )); org.ovirt.engine.ui.uicommonweb.models.@@ quota@@ .@@ Change@@ Quota@@ Model.@@ update@@ Change@@ Quota@@ Action@@ Avail@@ ab@@ ility@@ ((@@ (get@@ Item@@ s()) != null ? ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ >) (get@@ Item@@ s@@ ())) : null@@ ), ((get@@ SelectedItem@@ s()) != null ? get@@ SelectedItem@@ s() : null@@ ), get@@ Change@@ Quota@@ Command@@ ()); }
@java.lang.Override public void set@@ In@@ S@@ l@@ ot@@ (java.lang.Object s@@ l@@ ot@@ , com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t cont@@ ent@@ ) { if (s@@ lo@@ t == (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Main@@ S@@ ection@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ H@@ ead@@ er@@ )) { set@@ Panel@@ Cont@@ ent@@ (@@ h@@ ead@@ er@@ Panel@@ , cont@@ ent@@ ); } else if (s@@ lo@@ t == (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Main@@ S@@ ection@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Main@@ Cont@@ ent@@ )) { if (!(@@ pl@@ ace@@ h@@ ol@@ der@@ Remov@@ ed@@ )) { remove@@ Host@@ P@@ age@@ P@@ l@@ ace@@ h@@ ol@@ der@@ (); pl@@ ace@@ h@@ ol@@ der@@ Remove@@ d = true@@ ; } set@@ Panel@@ Cont@@ ent@@ (@@ m@@ ain@@ Cont@@ ent@@ Panel@@ , cont@@ ent@@ ); } else { super@@ .set@@ In@@ S@@ l@@ ot@@ (s@@ l@@ ot@@ , cont@@ ent@@ ); } }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> get@@ Log@@ ical@@ Unit@@ s() { boolean re@@ port@@ Statu@@ s = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Boolean@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ Host@@ Storage@@ Resourc@@ e.@@ RE@@ POR@@ T_@@ ST@@ AT@@ US@@ , true@@ , true@@ ); return get@@ Backend@@ Collection@@ (Vdc@@ Query@@ Type.Get@@ Device@@ List@@ , param@@ s); }
private void get@@ M@@ en@@ u@@ L@@ ay@@ out@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ Item@@ [@@ ] item@@ s, org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .S@@ ec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ Item@@ [@@ ] s@@ ec@@ ond@@ ar@@ y@@ Item@@ s) { l@@ ay@@ out@@ Map@@ .@@ cl@@ e@@ ar@@ (); for (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ I@@ t@@ e@@ m l@@ ay@@ o@@ u@@ t : item@@ s) { if ((@@ l@@ ay@@ o@@ u@@ t.get@@ H@@ re@@ f@@ ()) != null@@ ) { org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ M@@ en@@ u@@ L@@ ay@@ out@@ M@@ en@@ u@@ Detail@@ s d@@ et@@ ail@@ s = new org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ M@@ en@@ u@@ L@@ ay@@ out@@ M@@ en@@ u@@ Detail@@ s(); d@@ et@@ ail@@ s.set@@ P@@ ri@@ mar@@ y@@ P@@ ri@@ or@@ ity@@ (@@ l@@ ay@@ o@@ u@@ t.get@@ In@@ dex@@ ()); d@@ et@@ ail@@ s.set@@ Sec@@ ond@@ ar@@ y@@ Title(@@ l@@ ay@@ o@@ u@@ t.get@@ Titl@@ e()); d@@ et@@ ail@@ s.set@@ I@@ con@@ (@@ l@@ ay@@ o@@ u@@ t.get@@ I@@ con@@ ()); l@@ ay@@ out@@ Map@@ .@@ put(@@ l@@ ay@@ o@@ u@@ t.get@@ H@@ re@@ f@@ (), d@@ et@@ ail@@ s); } } for (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .S@@ ec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ I@@ t@@ e@@ m sub@@ M@@ en@@ u : s@@ ec@@ ond@@ ar@@ y@@ Item@@ s) { org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ M@@ en@@ u@@ L@@ ay@@ out@@ M@@ en@@ u@@ Detail@@ s d@@ et@@ ail@@ s = new org.ovirt.engine.ui.webadmin.@@ widget.@@ t@@ ab@@ .@@ M@@ en@@ u@@ L@@ ay@@ out@@ M@@ en@@ u@@ Detail@@ s(); d@@ et@@ ail@@ s.set@@ P@@ ri@@ mar@@ y@@ P@@ ri@@ mar@@ y@@ (s@@ u@@ b@@ M@@ en@@ u@@ .get@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ .get@@ P@@ ri@@ mar@@ y@@ ().get@@ Titl@@ e()); d@@ et@@ ail@@ s.set@@ Sec@@ ond@@ ar@@ y@@ P@@ ri@@ mar@@ y@@ (s@@ u@@ b@@ M@@ en@@ u@@ .get@@ P@@ ri@@ or@@ ity@@ ()); d@@ et@@ ail@@ s.set@@ Sec@@ ond@@ ar@@ y@@ Title(@@ sub@@ M@@ en@@ u@@ .get@@ Titl@@ e()); d@@ et@@ ail@@ s.set@@ Sec@@ ond@@ ar@@ y@@ (s@@ u@@ .get@@ Titl@@ e()); d@@ et@@ ail@@ s.set@@ I@@ con@@ (s@@ u@@ b@@ M@@ en@@ u@@ b@@ M@@ en@@ u@@ .get@@ I@@ con@@ ()); l@@ ay@@ out@@ Map@@ .@@ put@@ (s@@ u@@ b@@ M@@ en@@ u@@ .get@@ H@@ re@@ f@@ (), d@@ et@@ ail@@ s); } }
protected void s@@ ync@@ Search@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type v@@ dc@@ Query@@ Type, final java.util.@@ Comp@@ ar@@ ator@@ <@@ ? super T@@ > comp@@ ar@@ ator@@ ) { if ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Re@@ g@@ ist@@ er@@ Entity@@ ListModel@@ .get@@ Entity@@ ()) == null@@ ) { return@@ ; } org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Re@@ g@@ ist@@ er@@ Entity@@ ListModel@@ .get@@ Entity@@ ().get@@ Id()); parameters.set@@ Refresh@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Re@@ g@@ ist@@ er@@ Entity@@ ListModel@@ .get@@ Is@@ Query@@ F@@ ir@@ st@@ Tim@@ e()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (@@ v@@ dc@@ Query@@ Type, parameters@@ , new org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Set@@ S@@ ort@@ ed@@ Item@@ s@@ Async@@ Query@@ (c@@ omp@@ ar@@ ator@@ )); }
protected void s@@ ync@@ Search@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type v@@ dc@@ Query@@ Type, org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base v@@ dc@@ Query@@ Parameters@@ Base@@ , org.ovirt.engine.ui.uicommonweb.models.@@ Async@@ Query@@ <@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ > async@@ Callback@@ ) { v@@ dc@@ Query@@ Parameters@@ Bas@@ e.set@@ Refresh@@ (get@@ Is@@ Query@@ F@@ ir@@ st@@ Tim@@ e()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (@@ v@@ dc@@ Query@@ Type, v@@ dc@@ Query@@ Parameters@@ Base@@ , async@@ Callback@@ ); set@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ (@@ false@@ ); }
protected void s@@ ync@@ Search@@ (org.ovirt.engine.core.common.@@ queries.@@ VdcQuery@@ Type v@@ dc@@ Query@@ Type, org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base v@@ dc@@ Query@@ Parameters@@ Bas@@ e) { s@@ ync@@ Search@@ (@@ v@@ dc@@ Query@@ Type, v@@ dc@@ Query@@ Parameters@@ Base@@ , new Set@@ Item@@ s@@ Async@@ Query@@ ()); }
protected void s@@ ync@@ Search@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type v@@ dc@@ Query@@ Type, org.ovirt.engine.core.common.queries.@@ Get@@ Entity@@ Query@@ Parameters@@ Base@@ , org.ovirt.engine.ui.uicommonweb.models.@@ Async@@ Query@@ Parameters@@ Base@@ , org.ovirt.engine.ui.uicommonweb.models.@@ Async@@ Query@@ <@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ > async@@ Callback@@ ) { query@@ .set@@ Refresh@@ (get@@ Is@@ Query@@ F@@ ir@@ st@@ Tim@@ e()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (@@ v@@ dc@@ Query@@ Type, query@@ Parameters@@ Base@@ , async@@ Callback@@ ); set@@ Is@@ Query@@ F@@ ir@@ st@@ Time@@ (@@ false@@ ); }
protected void s@@ ync@@ Search@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type v@@ dc@@ Query@@ Type, org.ovirt.engine.core.common.queries.@@ Search@@ Parameters@@ Base@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ ()); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> get@@ Log@@ ical@@ Unit@@ s() { boolean re@@ port@@ Statu@@ s = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Boolean@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ Host@@ Storage@@ Resourc@@ e.@@ RE@@ POR@@ T_@@ ST@@ AT@@ US@@ , true@@ , true@@ ); return get@@ Backend@@ Collection@@ (@@ this@@ , false@@ ); }
java.util.ArrayList<@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ > run@@ Multiple@@ Quer@@ i@@ es(@@ java.util.ArrayList<@@ org.ovirt.engine.core.common.queries.VdcQuery@@ ReturnValue@@ > v@@ dc@@ Query@@ Type@@ List@@ , java.util.ArrayList<@@ org.ovirt.engine.core.common.queries.VdcQuery@@ Parameters@@ Base@@ > param@@ s@@ List@@ );
protected org.ovirt.engine.core.vdsbroker.vdsbroker.@@ I@@ Vds@@ Ser@@ ve@@ r initial@@ ize@@ Vds@@ Broker@@ (org.ovirt.engine.core.compat.Guid vds@@ Id) { org.ovirt.engine.core.vdsbroker.@@ Vds@@ Manage@@ r vds@@ manage@@ r = org.ovirt.engine.core.vdsbroker.@@ Vds@@ In@@ j@@ ect@@ or@@ .get(@@ org.ovirt.engine.core.vdsbroker.@@ Resource@@ Manager@@ .@@ class@@ ).get@@ Vds@@ Manager@@ (@@ vds@@ Id); if (@@ vds@@ manage@@ r == null@@ ) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ RE@@ S@@ O@@ UR@@ C@@ E@@ _M@@ AN@@ AG@@ ER_@@ VDS@@ _NOT_@@ F@@ O@@ UN@@ D@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ In@@ val@@ id wit@@ h id@@ : %@@ 1@@ $@@ s", w@@ a@@ s not fo@@ un@@ d vds@@ Id@@ )); } set@@ Vds@@ And@@ Vds@@ Static@@ (@@ vds@@ man@@ ag@@ er@@ .get@@ Copy@@ Vds@@ ()); return vds@@ man@@ ag@@ er@@ .get@@ Vds@@ Proxy@@ (); }
@java.lang.Override protected void initial@@ ize@@ Model@@ Handl@@ ers@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ b@@ ook@@ mar@@ k@@ s.@@ B@@ ook@@ mar@@ k@@ ListModel model@@ ) { super@@ .@@ initial@@ ize@@ Model@@ Handl@@ ers@@ (model@@ ); model.get@@ Item@@ S@@ av@@ ed@@ Event@@ ().add@@ Listener@@ (@@ ( sender, args) -@@ > cl@@ e@@ ar@@ Sel@@ ection@@ ()); getModel().get@@ Sel@@ ection@@ Model@@ ().add@@ Sel@@ ection@@ Change@@ Handler@@ (@@ this@@ , event@@ ) -@@ > { this@@ .set@@ SelectedItem@@ s(@@ getModel().get@@ Sel@@ ection@@ Model@@ ()); }
private void w@@ rit@@ e@@ Host@@ Devic@@ e(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Host@@ Devic@@ e devi@@ ce@@ ) { java.lang.String devi@@ ce@@ Name = devi@@ c@@ e.get@@ Devic@@ e(); java.lang.String typ@@ e = devi@@ ce@@ Nam@@ e.@@ sub@@ st@@ ring@@ (0@@ , devi@@ ce@@ Nam@@ e.@@ in@@ dex@@ Of@@ (@@ '@@ _@@ '@@ )); switch (@@ typ@@ e) { case "@@ pc@@ i@@ " : w@@ rit@@ e@@ P@@ c@@ i@@ Host@@ Devic@@ e(@@ devi@@ ce@@ ); break@@ ; } }
private void w@@ rit@@ e@@ P@@ c@@ i@@ Host@@ Devic@@ e(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Host@@ Devic@@ e devi@@ ce@@ ) { if (@@ devi@@ c@@ e.@@ is@@ I@@ omm@@ u@@ P@@ l@@ ace@@ h@@ ol@@ der@@ ()) { return@@ ; } w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ host@@ de@@ v@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ manage@@ d@@ ", "@@ no@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ m@@ ode@@ ", "@@ sub@@ s@@ ystem@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ type@@ ", "@@ pc@@ i@@ "); java.lang.String@@ [@@ ] name@@ Element@@ s = devi@@ c@@ e.get@@ Devic@@ e().@@ s@@ pl@@ it@@ ("@@ _@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ source@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ add@@ ress@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ "@@ do@@ m@@ ain@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ 0@@ x@@ %@@ s", name@@ Element@@ s@@ [@@ 1@@ ]@@ )); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ b@@ us@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ 0@@ x@@ %@@ s", name@@ Element@@ s@@ [@@ 2@@ ]@@ )); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ s@@ l@@ ot@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ 0@@ x@@ %@@ s", name@@ Element@@ s@@ [@@ 3@@ ]@@ )); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ f@@ un@@ c@@ tion@@ ", java.lang.String@@ .@@ for@@ mat@@ ("@@ 0@@ x@@ %@@ s", name@@ Element@@ s@@ [@@ 4@@ ]@@ )); w@@ rit@@ e@@ En@@ d@@ Element@@ (); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); w@@ rit@@ e@@ Address@@ (@@ devi@@ ce@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
private void init@@ StorageDomain@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e() { if ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e()) == null@@ ) { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Add@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().set@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ get@@ Default@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e()); } }
protected boolean validate@@ Vm@@ Not@@ D@@ ur@@ ing@@ Snapshot@@ () { java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > m@@ er@@ ged@@ Snapshot@@ Disk@@ s = get@@ Snapshot@@ Disk@@ s(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Snapshot@@ Command.getParameters().get@@ Snapshot@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > vm@@ Lock@@ ed@@ Snapshot@@ s = get@@ All@@ Vm@@ Lock@@ ed@@ Snapshot@@ s(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Snapshot@@ Command.getVm@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t : vm@@ Lock@@ ed@@ Snapshot@@ s) { java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > snapshot@@ Disk@@ s = get@@ Snapshot@@ Disk@@ s(@@ s@@ napsho@@ t.get@@ Id()); if (s@@ napshot@@ Disk@@ s.@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (@@ m@@ er@@ ged@@ Snapshot@@ Disks@@ :@@ contain@@ s@@ )) { return validate(@@ org.ovirt.engine.core.bll.@@ ValidationRes@@ ult.@@ VALID@@ ); } return validate(@@ ValidationRes@@ ult.@@ VALID@@ ); }
private static boolean is@@ Res@@ t@@ Ap@@ i@@ S@@ c@@ op@@ e(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ ) { boolean is@@ Res@@ t@@ Ap@@ i@@ S@@ c@@ op@@ e = S@@ s@@ o@@ Util@@ s.get@@ S@@ s@@ o@@ Session@@ (@@ re@@ quest@@ ).@@ is@@ Res@@ t@@ Ap@@ i@@ S@@ c@@ op@@ e(); }
private void con@@ ver@@ t@@ Custom@@ Properties@@ St@@ r@@ To@@ Map@@ s(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion version@@ , java.lang.String proper@@ ties@@ Value@@ , java.util.Map<java.lang.String, java.lang.String> p@@ red@@ e@@ fin@@ ed@@ Properties@@ Map@@ , java.util.Map<java.lang.String, java.lang.String> user@@ De@@ fin@@ ed@@ Properties@@ Map@@ ) { java.util.Map<java.lang.String, java.lang.String> proper@@ ties@@ Map = con@@ ver@@ t@@ Properties@@ (@@ proper@@ ties@@ Value@@ , all@@ Vm@@ Properties@@ .get(@@ version@@ )); java.util.Set@@ <@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.String@@ >> proper@@ ties@@ En@@ t@@ ri@@ es = proper@@ ties@@ Map@@ .@@ e@@ n@@ try@@ Set@@ (); java.util.Set@@ <java.lang.String@@ > p@@ red@@ e@@ fin@@ ed@@ Properties@@ Key@@ s = p@@ red@@ e@@ fin@@ ed@@ Properties@@ .get(@@ version@@ ).@@ key@@ Set@@ (); java.util.Set@@ <java.lang.String@@ > user@@ de@@ fin@@ ed@@ Properties@@ Key@@ s = user@@ de@@ fin@@ ed@@ Properties@@ .get(@@ version@@ ).@@ key@@ Set@@ (); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.String> proper@@ ties@@ E@@ n@@ try : proper@@ ties@@ En@@ t@@ ri@@ es) { java.lang.String proper@@ ty@@ K@@ e@@ y = proper@@ ties@@ E@@ n@@ try@@ .get@@ Key@@ (); java.lang.String proper@@ ty@@ Valu@@ e = java.util.@@ Option@@ al.@@ o@@ f@@ Null@@ able@@ (@@ proper@@ ties@@ E@@ n@@ try@@ .get@@ Valu@@ e()); if (p@@ red@@ e@@ fin@@ ed@@ Properties@@ Key@@ s.@@ contains(@@ proper@@ ty@@ Key@@ )) { p@@ red@@ e@@ fin@@ ed@@ Properties@@ Map@@ .@@ put(@@ proper@@ ty@@ Key@@ , proper@@ ty@@ Value@@ ); } if (@@ user@@ de@@ fin@@ ed@@ Properties@@ Key@@ s.@@ contains(@@ proper@@ ty@@ Key@@ )) { user@@ De@@ fin@@ ed@@ Properties@@ Map@@ .@@ put(@@ proper@@ ty@@ Key@@ , proper@@ ty@@ Value@@ ); } }
public boolean s@@ yn@@ t@@ a@@ x@@ Error@@ In@@ Properties@@ (@@ java.util.Map<java.lang.String, java.lang.String> proper@@ ties@@ ) { boolean er@@ ro@@ r = false@@ ; if ((@@ proper@@ ti@@ es != null@@ ) && (!(@@ proper@@ ties.@@ isEmpty@@ ()))) { for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.String> e : proper@@ ties.@@ e@@ n@@ try@@ Set@@ ()) { java.lang.String ke@@ y = e.get@@ Key@@ (); if ((@@ ke@@ y == null@@ ) || (!(@@ key@@ .@@ mat@@ ch@@ es@@ (org.ovirt.engine.core.common.@@ utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Custom@@ Properties@@ Utils.@@ K@@ E@@ Y_@@ RE@@ G@@ EX@@ )))) { er@@ ro@@ r = true@@ ; break@@ ; } if (!@@ (c@@ ust@@ omp@@ ro@@ p@@ .@@ Custom@@ Properties@@ Utils.@@ VAL@@ U@@ E_@@ RE@@ G@@ EX@@ ))) { er@@ ro@@ r = true@@ ; break@@ ; } } return error@@ ; }
public java.lang.String con@@ ver@@ t@@ Properties@@ (@@ java.util.Map<java.lang.String, java.lang.String> proper@@ ties@@ ) { java.lang.String@@ Buil@@ der s@@ b = new java.lang.String@@ Builder@@ (); if ((@@ proper@@ ti@@ es != null@@ ) && (!(@@ proper@@ ties.@@ isEmpty@@ ()))) { for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.String> e : proper@@ ties.@@ e@@ n@@ try@@ Set@@ ()) { sb@@ .@@ append@@ (@@ e.get@@ Key@@ ()); sb@@ .@@ append@@ (org.ovirt.engine.core.common.@@ utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Custom@@ Properties@@ Utils.@@ K@@ E@@ Y_@@ VAL@@ U@@ E_@@ DE@@ L@@ IM@@ ET@@ ER@@ ); sb@@ .@@ append@@ (@@ java.util.@@ Option@@ al.@@ o@@ f@@ Null@@ able(@@ e.get@@ Valu@@ e()@@ ).@@ or@@ El@@ se(@@ "@@ ")); sb@@ .@@ append@@ (@@ org.ovirt.engine.core.common.utils.@@ c@@ ust@@ omp@@ ro@@ p@@ .@@ Custom@@ Properties@@ Utils.@@ P@@ RO@@ P@@ ER@@ TI@@ E@@ S_@@ DE@@ L@@ IM@@ ET@@ ER@@ ); } sb@@ .@@ d@@ elet@@ e@@ Ch@@ ar@@ A@@ t@@ (((@@ sb@@ .@@ l@@ ength@@ ()) - 1@@ )); } return sb@@ .toString@@ (); }
public void validate@@ With@@ Direct@@ Lun@@ Id@@ And@@ In@@ valid@@ Vds@@ () { command@@ .get@@ Parameters@@ ().set@@ Direct@@ Lun@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); do@@ Return@@ (@@ false@@ ).@@ when@@ (command@@ ).@@ validate@@ V@@ d@@ s(); assert@@ Fal@@ se(@@ command@@ .@@ valid@@ at@@ e()); }
public boolean validate@@ P@@ M@@ Agent@@ Port@@ () { java.lang.Integ@@ er p@@ or@@ t = get@@ Parameters().get@@ Agent@@ ().get@@ Port@@ (); java.lang.String port@@ St@@ r = null@@ ; if (p@@ or@@ t == null@@ ) { if (get@@ Parameters().get@@ Agent@@ ().get@@ Option@@ s@@ Map@@ ().@@ contain@@ s@@ Key@@ (@@ PORT@@ )) { port@@ St@@ r = get@@ Parameters().get@@ Agent@@ ().get@@ Option@@ s@@ Map@@ ().get@@ (@@ PORT@@ ); } else { return true@@ ; } } port@@ St@@ r = (@@ port@@ St@@ r == null@@ ) ? p@@ or@@ t.@@ toString@@ () : port@@ St@@ r@@ ; return (@@ port@@ St@@ r@@ .equals(@@ "@@ )) || (@@ port@@ St@@ r@@ .@@ mat@@ ch@@ es@@ ("@@ \@@ d@@ +@@ ")); }
@java.lang.Override protected void create@@ Item@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > selected@@ Label@@ s = getModel().get@@ SelectedItem@@ s(); boolean no@@ Label@@ s@@ Sel@@ ected = (s@@ elected@@ Label@@ s == null@@ ) || (s@@ elected@@ Label@@ s.@@ isEmpty@@ ()); if (@@ no@@ Label@@ s@@ Selected@@ ) { add@@ No@@ Label@@ s@@ Message@@ (); return@@ ; } item@@ Lis@@ t.@@ cl@@ e@@ ar@@ (); java.util.Collections.@@ s@@ ort@@ (s@@ elected@@ Label@@ s, new org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ ator@@ s.@@ Name@@ able@@ Comp@@ ar@@ ator@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ ab@@ e@@ l : selected@@ Label@@ s) { final org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l selected@@ L@@ ab@@ e@@ l = l@@ abel@@ ; org.ovirt.engine.ui.common.widget.@@ Item@@ List@@ I@@ t@@ e@@ m l@@ abel@@ List@@ I@@ t@@ e@@ m = new org.ovirt.engine.ui.common.widget.@@ Item@@ List@@ Item@@ (); l@@ abel@@ List@@ Item@@ .@@ init@@ (s@@ elected@@ Label@@ .get@@ Name()); l@@ abel@@ List@@ Item@@ .get@@ De@@ acti@@ va@@ tion@@ An@@ ch@@ or@@ ().add@@ Cl@@ ick@@ Handler@@ (@@ new com.google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Handler@@ () { @java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om@@ .google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { org.ovirt.engine.ui.common.widget.@@ A@@ f@@ fin@@ ity@@ Label@@ List@@ Widget@@ .@@ this@@ .get@@ Model().get@@ SelectedItem@@ s().@@ remov@@ e(@@ selected@@ Label@@ ); org.ovirt.engine.ui.common.widget.@@ A@@ f@@ fin@@ ity@@ Label@@ List@@ Widget@@ .@@ this@@ .@@ re@@ fresh@@ Item@@ s(); } }); item@@ Lis@@ t.add(@@ l@@ abel@@ List@@ Item@@ ); } item@@ List@@ Panel@@ .@@ add(@@ item@@ List@@ ); }
@java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om@@ .google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { this@@ .get@@ Model().get@@ SelectedItem@@ s().@@ remov@@ e(@@ selected@@ Label@@ ); }
private void add@@ A@@ f@@ fin@@ ity@@ Label@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > af@@ fin@@ ity@@ Label@@ s = org.ovirt.engine.core.bll.@@ AddVm@@ Command.getParameters().get@@ A@@ f@@ fin@@ ity@@ Label@@ s(); java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > l@@ abel@@ Id@@ s = af@@ fin@@ ity@@ Label@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ Label@@ :@@ get@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); l@@ abel@@ Dao@@ .@@ add@@ Vm@@ To@@ Label@@ s(@@ org.ovirt.engine.core.bll.@@ AddVm@@ Command.getVm@@ Id(), l@@ abel@@ Id@@ s); }
java.lang.String get@@ String@@ ();
@java.lang.Override protected void init@@ T@@ abl@@ e() { super@@ .@@ init@@ T@@ abl@@ e(); get@@ T@@ abl@@ e().@@ add@@ Action@@ Button@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ action.@@ W@@ eb@@ Ad@@ min@@ Button@@ De@@ fin@@ ition@@ <org.ovirt.engine.core.common.businessentities.@@ Label@@ >@@ (@@ const@@ an@@ t@@ s.@@ af@@ fin@@ ity@@ Label@@ s@@ Sub@@ Tab@@ D@@ elet@@ e@@ Button@@ ()) { @java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return get@@ Detail@@ Model().get@@ Remove@@ Command@@ (); } }); }
@java.lang.Override public void onSuccess@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ List@@ ) { java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > host@@ Id@@ s = this@@ .get@@ A@@ f@@ fin@@ ity@@ Label@@ ().get@@ Host@@ s(); java.util.Collections.@@ s@@ ort@@ (@@ host@@ List@@ , new org.ovirt.engine.core.common.businessentities.@@ comp@@ ar@@ ator@@ s.@@ Name@@ able@@ Comp@@ ar@@ ator@@ ()); this@@ .get@@ Host@@ s@@ Sel@@ ection@@ Model@@ ().@@ init@@ (@@ host@@ List@@ , (@@ host@@ Id@@ s != null ? new java.util.Array@@ List(@@ host@@ Id@@ s) : new java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid@@ >@@ ())); this@@ .@@ st@@ op@@ Progress@@ On@@ Vms@@ And@@ Host@@ s@@ Init@@ (); }
public void load@@ Enti@@ ties@@ Name@@ Map@@ () { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Enti@@ ties@@ Name@@ Map@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ lis@@ t.@@ Async@@ Query@@ (@@ new org.ovirt.engine.ui.frontend.Async@@ Callback@@ <@@ java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.String@@ >@@ >() { @java.lang.Override public void onSuccess@@ (@@ java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.String> name@@ Map@@ ) { enti@@ ties@@ Name@@ Map@@ .get@@ Entity@@ ().@@ cl@@ e@@ ar@@ (); enti@@ ties@@ Name@@ Map@@ .get@@ Entity@@ ().@@ put@@ All@@ (@@ name@@ Map@@ ); enti@@ ties@@ Name@@ Map@@ .get@@ Entity@@ Changed@@ Event@@ ().@@ r@@ a@@ is@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ lis@@ t.@@ A@@ f@@ fin@@ ity@@ Label@@ ListModel@@ .@@ this@@ , EventArg@@ s.@@ EM@@ P@@ TY@@ ); } }@@ )); }
@java.lang.Override public void onSuccess@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ List@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > host@@ Id@@ s = this@@ .get@@ A@@ f@@ fin@@ ity@@ Group@@ ().get@@ Vds@@ Id@@ s(); this@@ .get@@ Host@@ s@@ Sel@@ ection@@ Model@@ ().@@ init@@ (@@ host@@ List@@ , (@@ host@@ Id@@ s != null ? host@@ Id@@ s : new java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid@@ >@@ ())); this@@ .@@ st@@ op@@ Progress@@ On@@ Vms@@ And@@ Host@@ s@@ Init@@ (); }
@java.lang.Override public void execut@@ ed(org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { this@@ .@@ st@@ op@@ Progress@@ (); if (((@@ result != null@@ ) && ((@@ result.get@@ ReturnValu@@ e()) != null@@ )) && (@@ result.get@@ ReturnValue().get@@ Succeeded@@ ())) { this@@ .@@ cancel@@ (); } }
@java.lang.Override public void onSuccess@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ List@@ ) { java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > vm@@ Id@@ s = this@@ .get@@ A@@ f@@ fin@@ ity@@ Label@@ ().get@@ Vm@@ s(); this@@ .get@@ Vms@@ Sel@@ ection@@ Model@@ ().@@ init@@ (vm@@ List@@ , (vm@@ Id@@ s != null ? new java.util.Array@@ List@@ (vm@@ Id@@ s) : new java.util.ArrayList<@@ org.ovirt.engine.core.compat.Guid@@ >@@ ())); this@@ .@@ st@@ op@@ Progress@@ On@@ Vms@@ And@@ Host@@ s@@ Init@@ (); }
private void add@@ A@@ f@@ fin@@ ity@@ Label@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > af@@ fin@@ ity@@ Label@@ s = org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Add@@ Vds@@ Command.getParameters().get@@ A@@ f@@ fin@@ ity@@ Label@@ s(); java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > l@@ abel@@ Id@@ s = af@@ fin@@ ity@@ Label@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ Label@@ :@@ :@@ get@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); l@@ abel@@ Dao@@ .@@ add@@ Host@@ To@@ Label@@ s(@@ org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Add@@ Vds@@ Command.get@@ Vds@@ Id(), l@@ abel@@ Id@@ s); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ vi@@ r@@ tu@@ al@@ M@@ ach@@ in@@ e.@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ AuditLog@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ <@@ java.lang.@@ V@@ o@@ id@@ >@@ , org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Event@@ ListModel@@ > model@@ Provider@@ ) { return new org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Model@@ B@@ ound@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ vi@@ r@@ tu@@ al@@ M@@ ach@@ in@@ e.@@ Sub@@ Tab@@ Vir@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Event@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ vi@@ r@@ tu@@ al@@ M@@ ach@@ in@@ e@@ Event@@ Sub@@ Tab@@ Label@@ (), model@@ Provider@@ ); }
void on@@ S@@ av@@ e() { if ((!@@ (@@ valid@@ at@@ e())) || ((get@@ Progress@@ ()) != null@@ )) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ ab@@ e@@ l = get@@ A@@ f@@ fin@@ ity@@ Label@@ (); l@@ abel@@ .set@@ Name(@@ get@@ Nam@@ e().get@@ Entity@@ ()); l@@ abel@@ .set@@ Vms@@ (@@ new java.util.Hash@@ Set@@ (get@@ Vms@@ Sel@@ ection@@ Model().get@@ Selected@@ Vm@@ Id@@ s@@ ())); l@@ abel@@ .set@@ Host@@ s@@ (@@ new java.util.Hash@@ Set@@ (get@@ Host@@ s@@ Sel@@ ection@@ Model().get@@ Selected@@ Host@@ Id@@ s@@ ())); st@@ art@@ Progress@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ (s@@ ave@@ Action@@ Type, new org.ovirt.engine.core.common.action.@@ Label@@ Action@@ Parameters(@@ l@@ abel@@ ), new org.ovirt.engine.ui.uicompat.@@ I@@ Frontend@@ Action@@ AsyncCallback@@ () { @java.lang.Override public void execut@@ ed(org.ovirt.engine.ui.uicompat.@@ Frontend@@ Action@@ Async@@ Result result) { org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ model.@@ A@@ f@@ fin@@ ity@@ Label@@ Model@@ .@@ this@@ .@@ st@@ op@@ Progress@@ (); if (((@@ result != null@@ ) && ((@@ result.get@@ ReturnValu@@ e()) != null@@ )) && (@@ result.get@@ ReturnValue().get@@ Succeeded@@ ())) { org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ l@@ abel@@ s.@@ model.@@ A@@ f@@ fin@@ ity@@ Label@@ Model@@ .@@ cancel@@ (); } }, this@@ ); }
@java.lang.Override protected void execute@@ Command() { im@@ ages@@ Handl@@ er.@@ update@@ All@@ Disk@@ Images@@ Snapshots@@ Status@@ In@@ Transaction@@ With@@ Comp@@ en@@ s@@ ation@@ (get@@ M@@ o@@ v@@ ed@@ Disk@@ Id@@ s@@ (), Image@@ Status.@@ LO@@ C@@ K@@ ED@@ , Image@@ Status.@@ O@@ K@@ , org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Vm@@ Disks@@ Command.get@@ Comp@@ en@@ s@@ ation@@ Context@@ ()); org.ovirt.engine.core.common.action.VdcReturnValue@@ Base v@@ dc@@ ReturnValue = run@@ Internal@@ Action@@ (@@ ActionType.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ , get@@ Create@@ Snapshot@@ Parameters@@ (), org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ create@@ Internal@@ Job@@ Context@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Vm@@ Disks@@ Command.get@@ Context@@ ())); org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Vm@@ Disks@@ Command.get@@ Parameters@@ ().set@@ A@@ uto@@ Gener@@ ated@@ Snapshot@@ Id(@@ v@@ dc@@ ReturnValu@@ e.get@@ Action@@ ReturnValu@@ e()); p@@ ers@@ ist@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Vm@@ Disks@@ Command.getParameters().get@@ Parent@@ Command@@ (), ((get@@ Callback@@ ()) != null@@ )); org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Vm@@ Disks@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
protected boolean check@@ Can@@ Be@@ Move@@ In@@ Vm@@ () { return validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator@@ (get@@ Image@@ (), get@@ Image@@ (), get@@ Image@@ (), false@@ )); }
protected void initial@@ ize@@ Command@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk disk@@ ) { when(@@ disk@@ Dao@@ .get(@@ any@@ ())@@ ).@@ thenReturn(@@ disk@@ ); org.ovirt.engine.core.common.businessentities.VM vm = new org.ovirt.engine.core.common.businessentities.@@ VM@@ (); vm@@ .set@@ Status(@@ VM@@ Status.@@ Down@@ ); when@@ (vm@@ Dao@@ .get(@@ any@@ ())@@ ).@@ then@@ Return@@ (vm@@ ); do@@ Return(@@ storageDomain@@ Validator@@ ).when@@ (command@@ ).@@ create@@ StorageDomain@@ Validator@@ (); do@@ Return(@@ m@@ ulti@@ ple@@ Disk@@ Vm@@ Element@@ Validator@@ ).when@@ (command@@ ).@@ create@@ Multiple@@ Disk@@ Vm@@ Element@@ Validator@@ (); do@@ Return(@@ disk@@ Validator@@ ).when@@ (command@@ ).@@ create@@ Disk@@ Validator@@ (disk@@ ); do@@ Return@@ (@@ true@@ ).when@@ (command@@ )@@ .set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ (); do@@ Return(@@ disk@@ .getId@@ ()).@@ when@@ (command@@ ).get@@ Image@@ Group@@ Id@@ (); do@@ Return(@@ ActionType.@@ Move@@ Or@@ Copy@@ Disk@@ ).when@@ (command@@ ).get@@ Action@@ Typ@@ e(); command@@ .set@@ Storage@@ StaticData@@ (disk@@ .getId()); }
@java.lang.Override protected void execute@@ Vm@@ Command() { this@@ .set@@ Vm@@ Name(@@ vm@@ Static@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Remove@@ Vm@@ Interface@@ Command.getParameters().get@@ Vm@@ Id@@ ()@@ ).get@@ Name()); org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic if@@ ac@@ e = vm@@ Nic@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Remove@@ Vm@@ Interface@@ Command.getParameters().get@@ Interface@@ Id()); if (@@ if@@ ac@@ e != null@@ ) { int@@ er@@ fac@@ e@@ Name = if@@ ac@@ e.get@@ Nam@@ e(); java.lang.String int@@ er@@ Type = org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Interface@@ Type@@ .@@ for@@ Value@@ (@@ if@@ ac@@ e.get@@ Typ@@ e()@@ ).get@@ Description@@ (); if (@@ int@@ er@@ Type != null@@ ) { org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Remove@@ Vm@@ Interface@@ Command.@@ add@@ Custom@@ Value("@@ Interface@@ Type@@ ", int@@ er@@ Type@@ ); } org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager.@@ create@@ (@@ if@@ ace@@ ).@@ de@@ al@@ loc@@ ate@@ If@@ External@@ (); org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Remove@@ Vm@@ Interface@@ Command.get@@ Mac@@ Pool@@ ().@@ f@@ ree@@ Mac@@ (@@ if@@ ac@@ e.get@@ Mac@@ Address@@ ()); } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ -@@ > org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Static@@ Dao@@ .@@ in@@ c@@ r@@ ement@@ Db@@ Gener@@ ation@@ (get@@ Parameters().get@@ Vm@@ Id()); org.ovirt.engine.core.bll.network.@@ vm@@ .@@ remov@@ e(@@ get@@ Parameters().get@@ Interface@@ Id()); org.ovirt.engine.core.bll.network.@@ vm@@ .@@ remov@@ e(@@ get@@ Parameters().get@@ Interface@@ Id()); org.ovirt.engine.core.bll.network.@@ vm@@ .@@ vm@@ .@@ remove@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ VmDevice@@ Id@@ (get@@ Parameters().get@@ Interface@@ Id(), get@@ Parameters().get@@ Vm@@ Id@@ ())); set@@ Succeeded@@ (@@ true@@ ); return null@@ ; }
private void remove@@ Networks@@ () { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > network@@ s = network@@ Dao@@ .get@@ AllFor@@ DataCenter@@ (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Remove@@ StoragePool@@ Command.get@@ StoragePool@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network n@@ etwork : network@@ s) { if (@@ network.@@ is@@ External@@ ()) { for (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic n@@ ic : vm@@ Nic@@ Dao@@ .get@@ AllFor@@ Network@@ (network@@ .getId@@ ())) { org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager.@@ c@@ re@@ at@@ e(@@ nic@@ , network@@ ).@@ de@@ al@@ loc@@ ate@@ If@@ External@@ (); } } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { for (@@ final org.ovirt.engine.core.common.businessentities.network.@@ Network ne@@ t : network@@ s) { List<@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ > profil@@ es = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ v@@ nic@@ Profile@@ Dao@@ .get@@ AllFor@@ Network@@ (@@ net@@ .getId()); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vnic@@ Profil@@ e v@@ nic@@ Profil@@ e : profil@@ es) { get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ Entity(@@ v@@ nic@@ Profil@@ e); org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ v@@ nic@@ Profile@@ Dao@@ .@@ remov@@ e(@@ v@@ nic@@ Profil@@ e.get@@ Id()); } get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ Entity(@@ net@@ ); org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ network@@ Dao@@ .@@ remov@@ e(@@ net@@ .getId()); } get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; } }); }
private void un@@ p@@ lug@@ From@@ External@@ Network@@ () { org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager.@@ r@@ ec@@ ate@@ If@@ External@@ Network@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Command.getParameters().get@@ Nic@@ (), get@@ Network@@ ()).@@ de@@ al@@ loc@@ ate@@ If@@ External@@ (); }
protected void remove@@ From@@ External@@ Network@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > int@@ er@@ fac@@ es) { javax.@@ trans@@ action.@@ Trans@@ ac@@ tion trans@@ ac@@ tion = org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ s@@ us@@ p@@ end@@ (); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic if@@ ac@@ e : int@@ er@@ fac@@ es) { org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager.@@ c@@ re@@ ate(@@ trans@@ action@@ , if@@ ace@@ ).@@ de@@ al@@ loc@@ ate@@ If@@ External@@ (); } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ res@@ um@@ e(@@ trans@@ action@@ ); }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (@@ org.ovirt.engine.core.dao.@@ p@@ rovider.@@ Provider@@ Dao@@ .@@ class@@ , p@@ rovider@@ Dao@@ ); in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (@@ org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ .@@ class@@ , a@@ uditLog@@ Direct@@ or@@ ); p@@ rovi@@ der = new org.ovirt.engine.core.common.businessentities.@@ Provider@@ (); when(@@ p@@ rovider@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ network.@@ External@@ Network@@ Manager@@ Test.@@ P@@ RO@@ V@@ ID@@ ER_@@ ID@@ ER_@@ ID@@ )).@@ thenReturn(@@ p@@ rovider@@ ); do@@ Return(@@ p@@ rovider@@ Proxy@@ Fac@@ t@@ ory@@ ).@@ when(@@ un@@ der@@ Test@@ ).get@@ Provider@@ Proxy@@ Fac@@ t@@ ory@@ (); when(@@ p@@ rovider@@ Proxy@@ Fac@@ t@@ ory@@ .@@ c@@ re@@ ate(@@ p@@ rovider@@ )).@@ thenReturn(@@ network@@ Provider@@ Proxy@@ ); }
public org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ u@@ Image@@ In@@ f@@ o get@@ Q@@ em@@ u@@ Image@@ Info@@ From@@ Vds@@ m@@ (org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.compat.Guid new@@ StorageDomain@@ ID@@ , org.ovirt.engine.core.compat.Guid new@@ Image@@ Group@@ Id, org.ovirt.engine.core.compat.Guid new@@ Image@@ Id, org.ovirt.engine.core.compat.Guid vds@@ Id, boolean sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { if (@@ vds@@ Id == null@@ ) { vds@@ Id = vds@@ Command@@ s@@ Hel@@ per@@ .get@@ Host@@ For@@ Execution@@ (@@ storagePool@@ Id, java.util.Collections.@@ em@@ pty@@ List@@ ()); } org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ em@@ u@@ Image@@ In@@ f@@ o q@@ em@@ u@@ Image@@ In@@ f@@ o = null@@ ; if (@@ sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { pre@@ par@@ e@@ Image@@ (@@ storagePool@@ Id, new@@ Image@@ Group@@ Id, new@@ Image@@ Id); } try { q@@ em@@ u@@ Image@@ In@@ f@@ o = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ Q@@ em@@ u@@ Image@@ Info@@ ) (@@ res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Q@@ em@@ u@@ Image@@ Info@@ , new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Volume@@ Info@@ VDSCommand@@ Parameters(@@ vds@@ Id, storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ Image@@ Group@@ Id, new@@ Image@@ Id@@ )@@ ).get@@ ReturnValu@@ e())); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.@@ storage@@ .@@ im@@ age.@@ Images@@ Handler.@@ log.error@@ ("@@ Fail@@ ed to g@@ e@@ t im@@ age in@@ f@@ o stor@@ age e); } final@@ l@@ y { if (@@ sh@@ oul@@ d@@ Pre@@ par@@ e@@ And@@ T@@ e@@ a@@ r@@ do@@ wn@@ ) { t@@ e@@ a@@ r@@ do@@ wn@@ Image@@ (@@ storagePool@@ Id, new@@ StorageDomain@@ ID@@ , new@@ Image@@ Group@@ Id, vds@@ Id); } } return u@@ Image@@ In@@ f@@ o ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Add@@ Network@@ Command.get@@ Network@@ ().set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { org.ovirt.engine.core.bll.network.@@ dc@@ .@@ network@@ Dao@@ .@@ s@@ av@@ e(@@ get@@ Network@@ ()); if ((get@@ Network@@ ().is@@ VmNetwork@@ ()) && (get@@ Parameters@@ ().is@@ Vnic@@ Profile@@ Re@@ qui@@ red@@ ())) { org.ovirt.engine.core.bll.network.@@ dc@@ .@@ v@@ nic@@ Profile@@ Dao@@ .@@ s@@ av@@ e(@@ org.ovirt.engine.core.bll.@@ network@@ .@@ dc@@ .@@ Vnic@@ Profile@@ Helper.@@ create@@ Vnic@@ Profil@@ e(@@ get@@ Network@@ ()); } org.ovirt.engine.core.bll.network.@@ dc@@ .@@ network@@ Helper.@@ add@@ Permission@@ s@@ On@@ Network@@ (get@@ C@@ urrent@@ User@@ ().get@@ Id@@ (), get@@ Network@@ ().get@@ Id()); return null@@ ; }
private void ch@@ oo@@ se@@ Host@@ For@@ Execution@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ Vds@@ Id@@ VDSCommand@@ Parameters@@ Base parameters@@ Base@@ , org.ovirt.engine.core.compat.Guid storagePool@@ Id, org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > cmd@@ , java.util.Collection@@ <org.ovirt.engine.core.compat.Guid@@ > execut@@ ed@@ Host@@ s) { org.ovirt.engine.core.compat.Guid vds@@ For@@ Ex@@ ec@@ uti@@ on = get@@ Host@@ For@@ Execution@@ (@@ storagePool@@ Id, execut@@ ed@@ Host@@ s); parameters@@ Bas@@ e.set@@ Vds@@ Id(@@ vds@@ For@@ Execution@@ ); if (c@@ m@@ d != null@@ ) { if ((@@ (c@@ md@@ .get@@ Command@@ St@@ ep@@ ()) != null@@ ) && ((@@ cmd@@ .get@@ Execution@@ Context@@ ().get@@ St@@ ep@@ ()) != null@@ )) { org.ovirt.engine.core.compat.Guid st@@ ep@@ Id = cmd@@ .get@@ Execution@@ Context@@ ().get@@ St@@ ep@@ ().get@@ Id@@ (); if ((@@ cmd@@ .get@@ Parameters().get@@ Vds@@ Run@@ ning@@ On@@ ()) != null@@ ) { st@@ ep@@ Su@@ bject@@ Entity@@ D@@ a@@ o@@ .@@ remov@@ e(@@ cmd@@ .get@@ Parameters().get@@ Vds@@ Run@@ ning@@ On@@ (), st@@ ep@@ Id); } if (@@ vds@@ For@@ Ex@@ ec@@ uti@@ on != null@@ ) { st@@ ep@@ Su@@ bject@@ Entity@@ D@@ a@@ o .@@ s@@ ave@@ All@@ (@@ java.util.Collections.@@ sing@@ leton@@ List@@ (@@ new org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ Su@@ bject@@ Entity(@@ st@@ ep@@ Id, org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ EX@@ EC@@ U@@ TION_@@ HOST@@ , vds@@ For@@ Execution@@ ))); } } cmd@@ .get@@ Parameters@@ ().set@@ Vds@@ Run@@ ning@@ On@@ (@@ vds@@ For@@ Execution@@ ); cmd@@ .@@ p@@ ers@@ ist@@ Command@@ (c@@ md@@ .get@@ Parameters().get@@ Parent@@ Command@@ (), ((@@ cmd@@ .get@@ Callback@@ ()) != null@@ )); } }
private void remove@@ Network@@ From@@ Host@@ s(@@ org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ , org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t cont@@ ext@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > nic@@ s) { java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcActionParameters@@ Base@@ > parameter@@ s = remove@@ Network@@ Parameters@@ Buil@@ der.@@ build@@ Parameters(@@ network@@ , nic@@ s); if (!(@@ parameter@@ s.@@ isEmpty())) { org.ovirt.engine.core.bll.network.@@ HostSetupNetworks@@ Parameters@@ Buil@@ der.@@ update@@ Parameters@@ Se@@ qu@@ enc@@ ing@@ (@@ parameters@@ ); back@@ en@@ .@@ run@@ Internal@@ Multiple@@ Action@@ s(@@ Vdc@@ ActionType.@@ P@@ ers@@ ist@@ ent@@ Host@@ Setup@@ Network@@ s, parameters@@ , cont@@ ext@@ ); } }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") private java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> get@@ Lun@@ s@@ From@@ V@@ g@@ Info@@ () { org.ovirt.engine.core.common.vdscommands.@@ Get@@ V@@ G@@ Info@@ VDSCommand@@ Parameters param@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Get@@ V@@ G@@ Info@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.getParameters().get@@ Vds@@ Id(), org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ ()); if ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.getParameters().get@@ Vds@@ Id()) == null@@ ) { return ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >) (@@ vds@@ Command@@ s.@@ run@@ Vds@@ Command@@ With@@ out@@ Fail@@ o@@ ver@@ (@@ VDSCommand@@ Type.Get@@ V@@ G@@ Info@@ , param@@ s, org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Sync@@ Lun@@ s@@ Info@@ For@@ B@@ lock@@ StorageDomain@@ Command.get@@ StoragePool@@ Id(), null@@ ).get@@ ReturnValu@@ e())); } return ((@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s@@ >) (@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ V@@ G@@ Info@@ , param@@ s@@ ).get@@ ReturnValu@@ e())); }
public void de@@ al@@ loc@@ ate@@ If@@ External@@ () { if ((@@ (get@@ Network@@ ()) != null@@ ) && (get@@ Network@@ ().is@@ External@@ ())) { org.ovirt.engine.core.common.businessentities.@@ Provider@@ <?@@ > p@@ rovi@@ der = p@@ rovider@@ Dao@@ .get@@ (get@@ Network@@ ().get@@ Provi@@ d@@ ed@@ By@@ ().get@@ Provider@@ Id()); org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.Network@@ Provider@@ Pro@@ x@@ y p@@ rovider@@ Pro@@ x@@ y = get@@ Provider@@ Proxy@@ Fac@@ t@@ ory@@ ().@@ c@@ re@@ ate(@@ p@@ rovider@@ ); try { p@@ rovider@@ Proxy@@ .@@ de@@ al@@ loc@@ ate(@@ nic@@ ); } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { org.ovirt.engine.core.dal.dbbroker.@@ audit@@ .@@ AuditLog@@ able@@ Base remove@@ Port@@ Fail@@ ure@@ Event = new org.ovirt.engine.core.dal.dbbroker.@@ audit@@ audit@@ audit@@ AuditLog@@ able@@ Bas@@ e(); remove@@ Port@@ Fail@@ ure@@ Ev@@ ent.@@ add@@ Custom@@ Value("@@ Nic@@ Name@@ ", nic@@ .get@@ Name()); remove@@ Port@@ Fail@@ ure@@ Ev@@ ent.@@ add@@ Custom@@ Value("@@ Nic@@ Id@@ ", nic@@ .get@@ Id().@@ toString@@ ()); remove@@ Port@@ Fail@@ ure@@ Ev@@ ent.@@ add@@ Custom@@ Value("@@ Provider@@ Name@@ ", p@@ rovider@@ .get@@ Name()); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ remove@@ Port@@ Fail@@ ure@@ Event@@ , AuditLogType.@@ RE@@ M@@ OV@@ E_@@ POR@@ T_@@ F@@ RO@@ M@@ _@@ EX@@ TER@@ N@@ AL@@ _P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ ED); } }
protected boolean validate@@ P@@ M@@ Agent@@ Port@@ () { java.lang.Integ@@ er p@@ or@@ t = get@@ Parameters().get@@ Agent@@ ().get@@ Port@@ (); if (p@@ or@@ t == null@@ ) { java.util.HashMap@@ <java.lang.String, java.lang.String> o@@ ption@@ s@@ Map = get@@ Parameters().get@@ Agent@@ ().get@@ Option@@ s@@ Map@@ (); if ((@@ o@@ ption@@ s@@ Map != null@@ ) && (@@ o@@ ption@@ s@@ Map@@ .@@ contain@@ s@@ Key@@ (org.ovirt.engine.core.bll.@@ Fence@@ Agent@@ Command@@ Bas@@ e.@@ PORT@@ ))) { java.lang.String port@@ St@@ r = get@@ Parameters().get@@ Agent@@ ().get@@ Option@@ s@@ Map@@ (); } else { return false@@ ; } } return (p@@ or@@ t == null@@ ) || (org.ovirt.engine.core.common.@@ utils.@@ Validation@@ Utils.@@ validate@@ Port@@ (@@ port@@ )); }
private void add@@ D@@ n@@ s@@ Configuration@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Re@@ port@@ ed@@ Configuration@@ s result) { boolean d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Support@@ ed = org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ support@@ ed@@ In@@ Config@@ (@@ ConfigValues.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Supported@@ , this@@ .@@ cluster@@ .get@@ CompatibilityVersion@@ ()); if (!@@ d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Supported@@ ) { return@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > name@@ Server@@ s@@ Of@@ Network@@ Attachm@@ ent = get@@ Name@@ Server@@ s(@@ network@@ Attachm@@ ent.@@ get@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > name@@ Server@@ s@@ Of@@ Network = get@@ Name@@ Server@@ s(@@ network@@ .get@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > name@@ Server@@ s@@ Of@@ Hos@@ t = get@@ Name@@ Server@@ s(@@ re@@ port@@ ed@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ); boolean engin@@ e@@ De@@ fin@@ e@@ D@@ n@@ s@@ Configur@@ ation = (@@ name@@ Server@@ s@@ Of@@ Network@@ Attachm@@ ent != null@@ ) || (@@ name@@ Server@@ s@@ Of@@ Network != null@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > exp@@ ected@@ Name@@ Server@@ s = (@@ name@@ Server@@ s@@ Of@@ Network@@ Attachm@@ ent != null@@ ) ? name@@ Server@@ s@@ Of@@ Network@@ Attachm@@ ent : name@@ Server@@ s@@ Of@@ Network@@ ; res@@ ult.@@ add(@@ org.ovirt.engine.core.utils.@@ D@@ N@@ S_@@ CON@@ FI@@ G@@ UR@@ A@@ TI@@ ON@@ , add@@ ress@@ es@@ As@@ String@@ (@@ name@@ Server@@ s@@ Of@@ Host@@ ), (@@ engin@@ e@@ De@@ fin@@ e@@ D@@ n@@ s@@ Configur@@ ation ? add@@ ress@@ es@@ As@@ String@@ (@@ exp@@ ected@@ Name@@ Server@@ s) : "@@ "@@ "@@ "@@ "@@ "@@ "@@ "@@ ), (!(@@ engin@@ e@@ De@@ fin@@ e@@ D@@ n@@ s@@ Configur@@ ation && (!(@@ java.util.@@ Object@@ s.@@ equals(@@ name@@ Server@@ s@@ )@@ )@@ ))); boolean in@@ S@@ yn@@ c = (!(@@ is@@ Default@@ R@@ out@@ e@@ Network@@ )) || (@@ if@@ ac@@ e.@@ is@@ Ip@@ v@@ 4@@ Default@@ R@@ out@@ e()); java.lang.String exp@@ ected = (is@@ Default@@ R@@ out@@ e@@ Network@@ ) ? java.lang.Boolean@@ .toString@@ (is@@ Default@@ R@@ out@@ e@@ Network@@ ) : "@@ "@@ "@@ "@@ "@@ "@@ "@@ "@@ "@@ "@@ "@@ ; res@@ ult.@@ add(@@ org.ovirt.engine.core.utils.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ RO@@ U@@ T@@ E@@ , java.lang.String.@@ value@@ Of@@ (@@ if@@ ac@@ e.@@ is@@ Ip@@ v@@ 4@@ Default@@ R@@ out@@ e()); }
private void pro@@ cess@@ Sing@@ le@@ Cluster@@ Chang@@ es(@@ org.ovirt.engine.core.common.action.@@ Manage@@ Network@@ C@@ lust@@ ers@@ Parameters param@@ ) { final java.util.ArrayList<@@ org.ovirt.engine.core.common.action.VdcActionParameters@@ Base@@ > set@@ up@@ Networks@@ Param@@ s = new java.util.Array@@ List@@ (c@@ reate@@ Network@@ C@@ lust@@ ers@@ To@@ SetupNetworks@@ Parameters@@ Tr@@ an@@ s@@ for@@ m@@ er@@ ().@@ tr@@ an@@ s@@ for@@ m@@ (@@ param@@ .get@@ Attachment@@ s@@ (), param@@ .get@@ Det@@ ach@@ ment@@ s@@ (), param@@ .get@@ Updat@@ es@@ ())); org.ovirt.engine.core.bll.network.@@ HostSetupNetworks@@ Parameters@@ Buil@@ der.@@ update@@ Parameters@@ Se@@ qu@@ enc@@ ing@@ (@@ set@@ up@@ Networks@@ Param@@ s); run@@ Internal@@ Multiple@@ Action@@ s(@@ Vdc@@ ActionType.@@ P@@ ers@@ ist@@ ent@@ Host@@ Setup@@ Network@@ s, set@@ up@@ Networks@@ Param@@ s); }
org.ovirt.engine.core.common.action.@@ P@@ ers@@ ist@@ ent@@ HostSetupNetworks@@ Parameters build@@ Parameters(@@ org.ovirt.engine.core.compat.Guid vds@@ Id, java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > l@@ abel@@ ed@@ Networks@@ To@@ Be@@ Add@@ ed@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > l@@ abel@@ ed@@ Networks@@ To@@ Be@@ Remov@@ ed@@ , java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ > nic@@ sBy@@ L@@ ab@@ e@@ l = new java.util.ArrayList<@@ org.ovirt.engine.core.common.utils.Pair@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ , org.ovirt.engine.core.common.businessentities.network.Network@@ >> updat@@ ed@@ Network@@ s); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > l@@ abel@@ ed@@ Networks@@ To@@ Be@@ Add@@ ed(@@ network@@ Attachment@@ s); return un@@ l@@ abel@@ ed@@ Networks@@ ; }
@java.lang.Override @org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () throw@@ s java.lang.Exception { super@@ .set@@ Up@@ (); d@@ a@@ o = db@@ Facad@@ e.get@@ User@@ Profile@@ Dao@@ (); existing@@ Profil@@ e = d@@ ao@@ .get@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ("@@ 3@@ 8@@ c@@ b@@ 5@@ 6@@ 3@@ -@@ 9@@ 6@@ b@@ c@@ -@@ 4@@ 8@@ 5@@ c@@ -@@ 8@@ 3@@ 4@@ a@@ -@@ c@@ b@@ b@@ c@@ 0@@ 3@@ ac@@ c@@ 8@@ 2@@ 0@@ ")); d@@ elet@@ able@@ Profil@@ e = d@@ ao@@ .get@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ("@@ 3@@ 8@@ c@@ b@@ 5@@ 6@@ 3@@ -@@ 9@@ 6@@ b@@ c@@ -@@ 4@@ 8@@ 5@@ c@@ -@@ 8@@ 3@@ 4@@ a@@ -@@ c@@ b@@ c@@ 0@@ 3@@ ac@@ c@@ 8@@ 2@@ 1@@ ")); new@@ Profil@@ e = new org.ovirt.engine.core.common.businessentities.@@ User@@ Profil@@ e(); new@@ Profil@@ e.set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); new@@ Profil@@ e.set@@ User@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ("@@ 8@@ 1@@ 9@@ 4@@ 0@@ 4@@ 5@@ 9@@ -@@ 2@@ ec@@ 4@@ -@@ 4@@ a@@ fa@@ -@@ b@@ b@@ b@@ b@@ b@@ b@@ b@@ b@@ b@@ b@@ 6@@ 5@@ 4@@ 9@@ 5@@ 5@@ 5@@ 2@@ 9@@ 3@@ c@@ ")); new@@ Profil@@ e.set@@ S@@ sh@@ P@@ ubl@@ ic@@ Key@@ Id@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ("@@ 6@@ 7@@ b@@ c@@ 5@@ 4@@ 8@@ 4@@ -@@ d@@ 4@@ 7@@ ce@@ -@@ 8@@ b@@ 6@@ a@@ -@@ e@@ 9@@ 6@@ 2@@ 4@@ b@@ 7@@ 0@@ b@@ 6@@ 7@@ 6@@ ")); new@@ Profil@@ e.set@@ S@@ sh@@ P@@ ubl@@ ic@@ Key@@ ("@@ key@@ 3@@ "); new@@ Profil@@ e.set@@ Lo@@ gin@@ Name(@@ "@@ user@@ 4@@ @@@ test@@ port@@ al.@@ red@@ ha@@ t.@@ com@@ @@@ test@@ port@@ al.@@ red@@ ha@@ t.@@ com@@ .@@ do@@ m@@ ain@@ .@@ t@@ p@@ .@@ do@@ m@@ ain@@ .@@ t@@ p@@ .@@ t@@ p@@ .@@ ad@@ er@@ ged@@ .@@ 4@@ 8@@ 4@@ 8@@ 4@@ -@@ 4@@ 7@@ ce@@ -@@ 8@@ b@@ 6@@ a@@ -@@ e@@ 9@@ 6@@ 4@@ b@@ 6@@ 7@@ 0@@ b@@ 6@@ 7@@ 6@@ ")); new@@ Profil@@ e.set@@ S@@ sh@@ P@@ ubl@@ ic@@ Key@@ ("@@ key@@ 3@@ "); new@@ Profil@@ e.set@@ S@@ sh@@ P@@ ubl@@ ic@@ Key@@ ("@@ key@@ 3@@ "); new@@ Profil@@ e.set@@ Lo@@ gin@@ Name(@@ "@@ user@@ 4@@ @@@ test@@ port@@ al.@@ red@@ ha@@ t.@@ com@@ @@@ test@@ port@@ al.@@ red@@ ha@@ t.@@ com@@ e()); }
@org.junit.Test public void test@@ Update@@ L@@ ast@@ Ad@@ min@@ Check@@ Status@@ () { org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r n@@ on@@ Ad@@ min@@ Use@@ r = db@@ Facad@@ e.get@@ Db@@ User@@ Dao().get@@ By@@ User@@ name@@ And@@ Domain@@ (@@ "@@ user@@ 2@@ @@@ test@@ port@@ al.@@ red@@ ha@@ t.@@ com@@ "@@ , "@@ test@@ port@@ al.@@ red@@ ha@@ t.@@ com@@ "); assert@@ Not@@ Null@@ (@@ n@@ on@@ Ad@@ min@@ User@@ ); assert@@ Fal@@ se(@@ n@@ on@@ Ad@@ min@@ Us@@ er.@@ is@@ Ad@@ min@@ ()); d@@ ao.@@ update@@ L@@ ast@@ Ad@@ min@@ Check@@ Status(@@ n@@ on@@ Ad@@ min@@ User@@ .getId()); n@@ on@@ Ad@@ min@@ Use@@ r = db@@ Facad@@ e.get@@ Db@@ User@@ Dao().get@@ (@@ n@@ on@@ Ad@@ min@@ User@@ .getId()); assert@@ Fal@@ se(@@ n@@ on@@ Ad@@ min@@ Us@@ er.@@ is@@ Ad@@ min@@ ()); org.ovirt.engine.core.common.businessentities.@@ Per@@ mis@@ si@@ on per@@ m@@ s = new org.ovirt.engine.core.common.businessentities.@@ Permission@@ (); per@@ m@@ s.set@@ Role@@ Type(@@ Role@@ Type.@@ AD@@ M@@ IN@@ ); per@@ m@@ s.set@@ Role@@ Id(@@ org.ovirt.engine.core.dao.@@ Db@@ User@@ Dao@@ Test.@@ AD@@ M@@ IN@@ _@@ RO@@ L@@ E_@@ TYPE_@@ F@@ RO@@ M@@ _@@ FI@@ X@@ T@@ UR@@ E_@@ ID@@ ); per@@ m@@ s.set@@ Ad@@ Element@@ Id(@@ n@@ on@@ Ad@@ min@@ User@@ .getId()); per@@ m@@ s.set@@ Object@@ Id(@@ org.ovirt.engine.core.dao.@@ Db@@ User@@ Dao@@ Test.@@ S@@ Y@@ ST@@ EM@@ _@@ O@@ B@@ J@@ EC@@ T_@@ ID@@ ); per@@ m@@ s.set@@ Object@@ Type(@@ Vdc@@ Object@@ Type.@@ System@@ ); db@@ Facad@@ e.get@@ Permission@@ Dao().@@ s@@ av@@ e(@@ per@@ m@@ s); assert@@ Not@@ Null@@ (@@ db@@ Facad@@ e.get@@ Permission@@ Dao().get@@ (@@ per@@ m@@ s.get@@ Id@@ ())); d@@ ao.@@ update@@ L@@ ast@@ Ad@@ min@@ Check@@ Status(@@ n@@ on@@ Ad@@ min@@ User@@ .getId()); n@@ on@@ Ad@@ min@@ Use@@ r = db@@ Facad@@ e.get@@ Db@@ User@@ Dao().get@@ (@@ n@@ on@@ Ad@@ min@@ User@@ .getId()); assert@@ Tr@@ ue(@@ n@@ on@@ Ad@@ min@@ Us@@ er.@@ is@@ Ad@@ min@@ ()); }
@java.lang.Override public void do@@ Filter@@ (@@ javax.@@ ser@@ vlet@@ .@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Respon@@ se respon@@ se@@ , javax.@@ ser@@ vlet@@ .@@ Filter@@ Ch@@ ain ch@@ ain@@ ) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception { javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ d = ((@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Request@@ ) (@@ re@@ quest@@ )); javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se re@@ s = ((@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se@@ ) (@@ respon@@ se@@ )); if (@@ org.ovirt.engine.core.@@ aaa.@@ filter@@ s.@@ Fil@@ t@@ ers@@ Helper.@@ is@@ Auth@@ enti@@ cat@@ ed(@@ re@@ q@@ )) { ch@@ ain@@ .@@ do@@ Filter@@ (@@ re@@ quest@@ , respon@@ se@@ ); } else { @@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") java.util.List<java.lang.String> s@@ ch@@ em@@ es = ((@@ java.util.List<@@ java.lang.String@@ >) (@@ re@@ q@@ .get@@ Att@@ rib@@ ut@@ e(@@ Fil@@ t@@ ers@@ Helper.@@ Constant@@ s.@@ RE@@ Q@@ U@@ E@@ ST@@ _@@ S@@ C@@ H@@ EM@@ E@@ S_@@ K@@ E@@ Y@@ ))); if (s@@ ch@@ em@@ es == null@@ ) { s@@ ch@@ em@@ es = java.util.Collections.@@ em@@ pty@@ List@@ (); } java.util.Set@@ <java.lang.String@@ > all@@ S@@ ch@@ em@@ es = new java.util.Hash@@ Set@@ <@@ >@@ (s@@ ch@@ em@@ es@@ ); if ((@@ add@@ ition@@ al@@ S@@ ch@@ em@@ es) != null@@ ) { all@@ S@@ ch@@ em@@ es.@@ add@@ All@@ (@@ add@@ ition@@ al@@ S@@ ch@@ em@@ es@@ ); } for (java.lang.String s@@ ch@@ em@@ e : all@@ S@@ ch@@ em@@ es) { r@@ es.@@ set@@ H@@ ead@@ er@@ (@@ Fil@@ t@@ ers@@ Helper.@@ Constant@@ s.@@ H@@ E@@ AD@@ ER_@@ W@@ _@@ A@@ U@@ TH@@ EN@@ TI@@ C@@ AT@@ E@@ , s@@ ch@@ em@@ e); } if (@@ re@@ q@@ .get@@ Context@@ Path@@ ().@@ en@@ ds@@ With@@ ("@@ /@@ ap@@ i@@ "@@ )) { re@@ q@@ .get@@ Request@@ Dis@@ p@@ atch@@ er@@ (@@ java.lang.String@@ .@@ for@@ mat@@ (@@ ER@@ R@@ OR@@ _@@ UR@@ L@@ _@@ F@@ OR@@ M@@ AT@@ , default@@ Version@@ , re@@ q@@ .get@@ Att@@ rib@@ ut@@ e(@@ Session@@ Constant@@ s.@@ SS@@ O@@ _@@ A@@ U@@ TH@@ EN@@ TI@@ C@@ A@@ TION_@@ ER@@ R@@ S@@ G@@ )@@ )@@ )@@ )@@ )@@ .@@ for@@ w@@ ard@@ (@@ re@@ q@@ , re@@ q@@ ); } else { re@@ e.@@ s@@ end@@ Error@@ (@@ H@@ ttp@@ Servlet@@ Respon@@ s@@ e.@@ S@@ C@@ _@@ UN@@ A@@ U@@ TH@@ _@@ UN@@ A@@ U@@ TH@@ _@@ UN@@ A@@ U@@ TH@@ _@@ UN@@ A@@ U@@ TH@@ _@@ UN@@ A@@ U@@ TH@@ _@@ S@@ C@@ A@@ U@@ TH@@ _@@ ER@@ R@@ OR@@ _@@ UR@@ L@@ _@@ UR@@ L@@ _@@ F@@ OR@@ M@@ AT@@ , re@@ q@@ .get@@ Att@@ rib@@ ut@@ e(@@ Session@@ Constant@@ s.@@ SS@@ O@@ _@@ A@@ U@@ TH@@ EN@@ TI@@ C@@ A@@ TION_@@ ER@@ R@@ OR@@ M@@ AT@@ E@@ S@@ G@@ E@@ S@@ G@@ E@@ S@@ G@@ ); } }
@java.lang.Override public void init@@ (@@ javax.@@ ser@@ vlet@@ .@@ Filter@@ Confi@@ g filter@@ Config@@ ) throw@@ s javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception { for (java.lang.String param@@ Name : java.util.Collections.@@ list@@ (@@ filter@@ Config.@@ get@@ Init@@ Parameter@@ Names@@ ())) { if (@@ param@@ Nam@@ e.@@ st@@ art@@ sWith@@ ("@@ s@@ ch@@ em@@ e@@ "@@ )) { add@@ ition@@ al@@ S@@ ch@@ em@@ es.@@ add(@@ filter@@ Config.@@ get@@ Init@@ Parameter@@ (@@ param@@ Name@@ )); } } default@@ Vers@@ ion = org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Property@@ ("@@ EN@@ G@@ IN@@ E_@@ A@@ P@@ I@@ _@@ DE@@ F@@ A@@ U@@ L@@ T_@@ V@@ ER@@ SI@@ ON@@ "); }
public static boolean is@@ Back@@ ed@@ By@@ H@@ ug@@ ep@@ age@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ ) { if (((@@ vm.get@@ Custom@@ Properties@@ ()) == null@@ ) || (vm@@ .get@@ Custom@@ Properties@@ ().@@ isEmpty())) { return false@@ ; } java.lang.String h@@ ug@@ e@@ P@@ age = org.ovirt.engine.core.common.utils.@@ H@@ ug@@ e@@ P@@ age@@ Util@@ s.get@@ H@@ ug@@ e@@ P@@ age@@ Siz@@ e(@@ vm@@ ); if (@@ h@@ ug@@ e@@ P@@ age == null@@ ) { return false@@ ; } try { java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (@@ h@@ ug@@ e@@ P@@ age@@ ); return true@@ ; } catch (@@ java.lang.@@ Num@@ ber@@ Format@@ Exception e) { return false@@ ; } }
public static java.util.Map@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > get@@ H@@ ug@@ e@@ P@@ ages@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ ) { if (!(@@ org.ovirt.engine.core.common.utils.@@ H@@ ug@@ e@@ P@@ age@@ Utils.@@ is@@ Back@@ ed@@ By@@ H@@ ug@@ ep@@ age@@ s(@@ vm@@ ))) { return java.util.Collection@@ ; } int h@@ ug@@ e@@ P@@ age@@ Siz@@ e = java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (@@ org.ovirt.engine.core.common.utils.@@ H@@ ug@@ e@@ P@@ age@@ Util@@ s.get@@ H@@ ug@@ e@@ P@@ age@@ Siz@@ e(@@ vm@@ )); int f@@ ull@@ P@@ age@@ s = (vm@@ .get@@ Mem@@ Size@@ M@@ b@@ ()) / h@@ ug@@ e@@ P@@ age@@ Size@@ ; int l@@ ast@@ P@@ age = java.lang.@@ M@@ ath@@ .@@ min@@ (@@ 1, ((@@ vm.get@@ Mem@@ Size@@ M@@ b@@ ()) % h@@ ug@@ e@@ P@@ age@@ Size@@ )); return java.util.Collections.@@ sing@@ leton@@ Map@@ (@@ h@@ ug@@ e@@ P@@ age@@ Size@@ , (@@ f@@ ull@@ P@@ age@@ s + l@@ ast@@ P@@ age@@ )); }
@org.junit.Test public void get@@ H@@ ug@@ e@@ Memory@@ F@@ it@@ s@@ In@@ to@@ O@@ ne@@ H@@ ug@@ e@@ P@@ age@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Base b@@ ase = new org.ovirt.engine.core.common.businessentities.Vm@@ Bas@@ e(); b@@ as@@ e.set@@ Custom@@ Properties@@ ("@@ h@@ ug@@ ep@@ ages@@ =@@ 1@@ 0@@ 2@@ 4@@ "); b@@ as@@ e.set@@ Mem@@ Size@@ M@@ b@@ (@@ 1@@ 0@@ 2@@ 4@@ ); assert@@ That@@ (@@ b@@ ase@@ ).@@ siz@@ e(), is@@ (@@ 1@@ )); assert@@ That@@ (@@ b@@ ase@@ P@@ age@@ Or@@ M@@ o@@ ug@@ e@@ P@@ age@@ Util@@ s.get@@ H@@ ug@@ e@@ P@@ ages@@ (@@ b@@ ase@@ ).get@@ (@@ 1@@ 0@@ 2@@ 4@@ ), is@@ (@@ 1@@ )); }
@org.junit.Test public void get@@ H@@ ug@@ e@@ P@@ ages@@ No@@ H@@ ug@@ e@@ P@@ ages@@ De@@ fin@@ ed@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Base b@@ ase = new org.ovirt.engine.core.common.businessentities.Vm@@ Bas@@ e(); b@@ as@@ e.set@@ Mem@@ Size@@ M@@ b@@ (@@ 1@@ 0@@ 2@@ 5@@ ); assert@@ That@@ (@@ b@@ ase@@ ).@@ siz@@ e(), is@@ (0@@ )); }
@org.junit.Test public void get@@ H@@ ug@@ e@@ P@@ ages@@ Memory@@ Do@@ es@@ Not@@ F@@ it@@ In@@ to@@ On@@ e() { org.ovirt.engine.core.common.businessentities.Vm@@ Base b@@ ase = new org.ovirt.engine.core.common.businessentities.Vm@@ Bas@@ e(); b@@ as@@ e.set@@ Custom@@ Properties@@ ("@@ h@@ ug@@ ep@@ ages@@ =@@ 1@@ 0@@ 2@@ 4@@ "); b@@ as@@ e.set@@ Mem@@ Size@@ M@@ b@@ (@@ 1@@ 0@@ 2@@ 5@@ ); assert@@ That@@ (@@ b@@ ase@@ ).@@ siz@@ e(), is@@ (@@ 1@@ )); assert@@ That@@ (@@ b@@ ase@@ P@@ age@@ H@@ ug@@ e@@ P@@ age@@ Util@@ s@@ .get@@ H@@ ug@@ e@@ P@@ age@@ Util@@ s@@ (), is@@ (@@ 2@@ 4@@ ), is@@ (@@ 2@@ )); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ gluster.@@ Volume@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ Permission@@ , org.ovirt.engine.ui.uicommonweb.models.@@ volum@@ es.@@ Volume@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Permission@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity@@ >> model@@ Provider@@ ) { return new org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ uic@@ ommon.@@ model.@@ Permission@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ gluster.@@ Sub@@ Tab@@ Volume@@ Permission@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ volume@@ Permission@@ Sub@@ Tab@@ Label@@ (), 3@@ ); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ disk@@ .@@ Disk@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ Permission@@ , org.ovirt.engine.ui.uicommonweb.models.@@ disk@@ s.@@ Disk@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Permission@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ >> model@@ Provider@@ ) { return new org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ disk@@ .@@ Sub@@ Tab@@ Disk@@ Permission@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ disk@@ Permission@@ Sub@@ Tab@@ Label@@ (), 4@@ ); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ err@@ ata@@ .@@ Err@@ ata@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Detail@@ Tab@@ Model@@ Provider@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ Engine@@ Err@@ ata@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <org.ovirt.engine.core.common.businessentities.@@ Err@@ at@@ um@@ >> model@@ Provider@@ ) { return new org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ err@@ ata@@ .@@ Sub@@ Tab@@ Engine@@ Err@@ ata@@ Detail@@ s@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ err@@ ata@@ Detail@@ s@@ Sub@@ Tab@@ Label@@ (), 1@@ ); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ p@@ oo@@ l.@@ Pool@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ Permission@@ , org.ovirt.engine.ui.uicommonweb.models.@@ pool@@ s.@@ Pool@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Permission@@ ListModel@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ >> model@@ Provider@@ ) { return new org.ovirt.engine.ui.webadmin.@@ c@@ ommon@@ .@@ uic@@ ommon.@@ model.@@ Permission@@ ListModel@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Pool@@ >> model@@ Provider@@ ) { return new org.ovirt.engine.ui.webadmin.@@ uic@@ ommon.@@ model.@@ Permission@@ Model@@ Provider@@ <@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ p@@ oo@@ l.@@ Sub@@ Tab@@ Pool@@ Permission@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ pool@@ Permission@@ Sub@@ Tab@@ Label@@ (), 2@@ ); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ gluster.@@ Volume@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ Session@@ , org.ovirt.engine.ui.uicommonweb.models.@@ volum@@ es.@@ Volume@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Volume@@ GeoRep@@ ListModel@@ > model@@ Provider@@ ) { return new org.ovirt.engine.ui.webadmin.@@ c@@ ommon@@ .@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ gluster.@@ Sub@@ Tab@@ Volume@@ GeoRep@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ volume@@ GeoRep@@ Sub@@ Tab@@ Label@@ (), 4@@ ); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ storage.@@ Storage@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Re@@ g@@ ist@@ er@@ Template@@ ListModel@@ > model@@ Provider@@ ) { return new org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ Re@@ g@@ ist@@ er@@ Template@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Template@@ Back@@ up@@ Sub@@ Tab@@ Label@@ (), 3@@ ); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ storage.@@ Storage@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ Permission@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Permission@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ >> model@@ Provider@@ ) { return new org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ Permission@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Permission@@ Sub@@ Tab@@ Label@@ (), 3@@ ); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ storage.@@ Storage@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ D@@ R@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ D@@ R@@ ListModel@@ > model@@ Provider@@ ) { return new org.ovirt.engine.ui.webadmin.@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ storage.@@ Sub@@ Tab@@ Storage@@ D@@ R@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ storage@@ D@@ R@@ Sub@@ Tab@@ Label@@ (), 1@@ 2@@ ); }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ dat@@ ac@@ ent@@ er.@@ DataCenter@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ Permission@@ , org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ DataCenter@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Permission@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ >> model@@ Provider@@ ) { return new org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ uic@@ ommon.@@ model.@@ Permission@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ >> model@@ Provider@@ ) { return new org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ dat@@ ac@@ ent@@ er.@@ Sub@@ Tab@@ DataCenter@@ Permission@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ dataCenter@@ Permission@@ Sub@@ Tab@@ Label@@ (), 5@@ ); }
java.lang.String get@@ Pre@@ fi@@ x@@ ed@@ Key@@ (java.lang.String key@@ ) { return (@@ org.ovirt.engine.ui.common.@@ s@@ ystem@@ .@@ Client@@ Storage@@ Impl.@@ C@@ L@@ I@@ EN@@ T_@@ STORAGE_@@ K@@ E@@ Y_@@ P@@ RE@@ FI@@ X@@ ) + "@@ _@@ ") + key@@ ; }
@@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ an@@ not@@ ation@@ s.@@ Tab@@ Info@@ (@@ contain@@ er = org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ templat@@ e.@@ Template@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .@@ class@@ ) static com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data get@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Search@@ able@@ Detail@@ Model@@ Provider@@ <org.ovirt.engine.core.common.businessentities.@@ Permission@@ , org.ovirt.engine.ui.uicommonweb.models.@@ templat@@ es.@@ Template@@ ListModel@@ , org.ovirt.engine.ui.uicommonweb.models.@@ config@@ ur@@ e.@@ Permission@@ ListModel@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ >> model@@ Provider@@ ) { return new org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ t@@ ab@@ .@@ templat@@ e.@@ Sub@@ Tab@@ Template@@ Permission@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ template@@ Permission@@ Sub@@ Tab@@ Label@@ (), 5@@ ); }
private java.util.Map@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > sub@@ Map@@ s(@@ java.util.Map@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > f@@ rom@@ , java.util.Map@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > am@@ ount@@ ) { java.util.Map@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > result = new java.util.HashMap@@ <@@ >@@ (@@ f@@ rom@@ ); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > sub@@ s : am@@ oun@@ t.@@ e@@ n@@ try@@ Set@@ ()) { res@@ ult.@@ com@@ put@@ e(@@ sub@@ s.get@@ Key@@ (), ("@@ value@@ : key@@ , val@@ ) -@@ > (@@ va@@ l == null ? 0 : val@@ ) - (s@@ u@@ b@@ s.get@@ Valu@@ e())); } return java.util.Collections.@@ un@@ m@@ o@@ d@@ if@@ i@@ able@@ Map@@ (@@ result@@ ); }
public static java.util.Map@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > c@@ oll@@ ect@@ For@@ Host@@ (org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ Resource@@ Manage@@ r man@@ ag@@ er@@ , org.ovirt.engine.core.compat.Guid host@@ ) { java.util.Map@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > p@@ age@@ C@@ oun@@ t = new java.util.HashMap@@ <@@ >(); for (org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ H@@ ug@@ e@@ P@@ age@@ s resourc@@ e : man@@ ag@@ er.@@ p@@ end@@ ing@@ Host@@ Resourc@@ es(@@ host@@ , org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ H@@ ug@@ e@@ P@@ ages@@ .@@ class@@ )) { p@@ age@@ C@@ oun@@ t.@@ com@@ put@@ e(@@ resourc@@ e.get@@ P@@ age@@ Siz@@ e(), ("@@ $@@ c@@ ount@@ ) -@@ > (c@@ oun@@ t == null ? 0 : resourc@@ e.get@@ Count@@ ()) + (@@ resourc@@ e.get@@ Count@@ ())); } return java.util.Collections.@@ un@@ m@@ o@@ d@@ if@@ i@@ able@@ Map@@ (p@@ age@@ Count@@ ); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (get@@ Host@@ (), p@@ age@@ Size@@ ); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > filter@@ (org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ , org.ovirt.engine.core.common.@@ scheduling.@@ Per@@ Host@@ Message@@ s mess@@ ages@@ ) { if (!(@@ org.ovirt.engine.core.common.utils.@@ H@@ ug@@ e@@ P@@ age@@ Utils.@@ is@@ Back@@ ed@@ By@@ H@@ ug@@ ep@@ ages@@ (vm@@ .get@@ StaticData@@ ()))) { return new java.util.Array@@ List(@@ host@@ s); } java.util.Map@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > re@@ qui@@ red@@ P@@ age@@ s = org.ovirt.engine.core.common.utils.@@ H@@ ug@@ e@@ P@@ age@@ Util@@ s.get@@ H@@ ug@@ e@@ P@@ ages@@ (vm@@ .get@@ StaticData@@ ()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > new@@ Host@@ s = new java.util.Array@@ List(@@ hosts.@@ siz@@ e()); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { java.util.Map@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > ava@@ il@@ able@@ P@@ age@@ s = sub@@ Map@@ s(@@ pre@@ par@@ e@@ H@@ ug@@ e@@ P@@ age@@ Map@@ (@@ host@@ ), org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ H@@ ug@@ e@@ P@@ ages.@@ c@@ oll@@ ect@@ For@@ Host@@ (get@@ P@@ end@@ ing@@ Resource@@ Manager@@ (), hos@@ t.get@@ Id@@ ())); if (!(@@ re@@ qui@@ red@@ P@@ e@@ n@@ try@@ Set@@ ().@@ st@@ re@@ am@@ ().@@ all@@ Match@@ (@@ ( p@@ g@@ ) -@@ > (@@ ava@@ il@@ able@@ P@@ ages@@ .get@@ Or@@ Default@@ (p@@ g.@@ get@@ Key@@ (), 0@@ )) >@@ = (p@@ g.@@ get@@ Valu@@ e()@@ )))) { org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ H@@ ug@@ e@@ P@@ ages@@ Filter@@ Policy@@ Un@@ it.@@ log.@@ d@@ ebug@@ ("@@ Hos@@ t {@@ } do@@ es not h@@ av@@ e en@@ o@@ ug@@ h f@@ re@@ e h@@ ug@@ ep@@ age@@ s for VM {}@@ ", hos@@ t.get@@ Id(), vm.get@@ Id()); mess@@ ages.@@ add@@ Message@@ (@@ hos@@ t.get@@ Id(), EngineMessage.@@ VAR__@@ D@@ ET@@ AIL@@ __@@ NOT_@@ EN@@ O@@ U@@ G@@ H@@ _@@ H@@ _@@ H@@ AG@@ E@@ S@@ .@@ nam@@ e()); } else { new@@ Host@@ s.add(@@ host@@ ); } return new@@ Host@@ s@@ ; }
@java.lang.Override public boolean equals(@@ java.lang.Object o@@ ) { if (@@ (@@ this@@ ) == o@@ ) { return true@@ ; } if ((@@ o == null@@ ) || ((get@@ Class@@ ()) != (@@ o@@ .get@@ Class@@ ()))) { return false@@ ; } org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ H@@ ug@@ e@@ P@@ age@@ s th@@ a@@ t = ((org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ end@@ ing.@@ P@@ end@@ ing@@ H@@ ug@@ e@@ P@@ ages@@ ) (@@ o@@ )); return ((@@ p@@ age@@ Siz@@ e) == (@@ th@@ a@@ t.@@ p@@ age@@ Size@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ get@@ Host@@ (), th@@ a@@ t.get@@ Host@@ ())); }
private org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ An@@ ch@@ or@@ List@@ I@@ t@@ e@@ m create@@ Sel@@ ection@@ D@@ ro@@ p@@ Down@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l current@@ Name@@ ) { org.ovirt.engine.ui.common.@@ view@@ .@@ O@@ vi@@ r@@ t@@ B@@ read@@ C@@ r@@ um@@ b@@ s@@ View@@ .@@ O@@ vi@@ r@@ t@@ An@@ ch@@ or@@ List@@ I@@ t@@ e@@ m d@@ ro@@ p@@ Do@@ w@@ n = new org.ovirt.engine.ui.common.@@ view@@ .@@ O@@ vi@@ r@@ t@@ B@@ read@@ C@@ r@@ um@@ b@@ s@@ View@@ .@@ O@@ vi@@ r@@ t@@ An@@ ch@@ or@@ List@@ Item@@ (); org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ B@@ utt@@ on ex@@ ch@@ ang@@ e@@ B@@ utt@@ on = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Button@@ (); ex@@ ch@@ ang@@ e@@ Button@@ .set@@ I@@ con@@ (@@ I@@ con@@ Type.@@ EX@@ C@@ H@@ AN@@ G@@ E); ex@@ ch@@ ang@@ e@@ Button@@ .@@ add@@ Sty@@ le@@ Name(@@ org.ovirt.engine.ui.common.@@ view@@ .@@ O@@ vi@@ r@@ t@@ B@@ read@@ C@@ r@@ um@@ b@@ s@@ View@@ .@@ Q@@ U@@ IC@@ K_@@ S@@ W@@ I@@ T@@ C@@ H@@ ); org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ An@@ ch@@ or an@@ ch@@ or = d@@ ro@@ p@@ Down@@ .get@@ An@@ ch@@ or@@ (); an@@ ch@@ or@@ .set@@ Text@@ (c@@ urrent@@ Nam@@ e.@@ as@@ String@@ ()); an@@ ch@@ or@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ F@@ on@@ t@@ Siz@@ e(@@ 2@@ 8@@ , Un@@ it.@@ P@@ X@@ ); an@@ ch@@ or.@@ add@@ Cl@@ ick@@ Handler@@ (@@ "@@ F@@ on@@ t@@ Siz@@ e(@@ 2@@ 8@@ , Un@@ it.@@ P@@ X@@ ); an@@ ch@@ or.@@ add@@ Cl@@ ick@@ Handler@@ (@@ "@@ F@@ -@@ > { if (p@@ op@@ o@@ v@@ er.@@ is@@ Visi@@ bl@@ e()) { p@@ op@@ o@@ v@@ er.@@ h@@ id@@ e(); } else { p@@ op@@ o@@ v@@ er.@@ sh@@ ow@@ (); } }); an@@ ch@@ or.@@ add(@@ ex@@ ch@@ ang@@ e@@ Button@@ ); create@@ P@@ op@@ o@@ ver@@ (@@ an@@ ch@@ or@@ ); d@@ ro@@ p@@ Down@@ .@@ add(@@ an@@ ch@@ or@@ ); return d@@ ro@@ p@@ Down@@ ; }
public void set@@ C@@ urrent@@ Selected@@ Name(@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l nam@@ e) { current@@ SelectedItem@@ W@@ id@@ g@@ e@@ t = create@@ Sel@@ ection@@ D@@ ro@@ p@@ Down@@ (@@ nam@@ e); }
void set@@ C@@ urrent@@ Selected@@ Name(@@ com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l nam@@ e);
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Name(@@ T item@@ ) { java.lang.String result = "@@ "@@ "@@ ; if (@@ it@@ e@@ m instanceof org.ovirt.engine.core.common.businessentities.@@ Name@@ able@@ ) { result = ((org.ovirt.engine.core.common.businessentities.@@ Name@@ able@@ ) (@@ item@@ )@@ ).get@@ Nam@@ e(); } return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (@@ result@@ ); }
private java.util.List<@@ T@@ > get@@ Item@@ s@@ As@@ List(@@ M search@@ able@@ ListModel@@ ) { return new java.util.Array@@ List(@@ search@@ able@@ ListModel@@ .get@@ Item@@ s()); }
public void pre@@ vi@@ o@@ us@@ Entity@@ () { M search@@ able@@ ListModel = list@@ Model@@ Provider@@ .get@@ Model@@ (); T enti@@ ty = ((@@ T@@ ) (@@ search@@ able@@ ListModel@@ .get@@ SelectedItem@@ ())); java.util.List<@@ T@@ > item@@ s@@ As@@ List = get@@ Item@@ s@@ As@@ List(@@ search@@ able@@ ListModel@@ ); int current@@ In@@ de@@ x = item@@ s@@ As@@ Lis@@ t.@@ in@@ dex@@ Of@@ (@@ entity@@ ); int new@@ In@@ de@@ x = current@@ In@@ de@@ x - 1@@ ; if (@@ new@@ In@@ de@@ x < 0) { if ((@@ search@@ able@@ ListModel@@ .get@@ Search@@ Pre@@ vi@@ o@@ us@@ P@@ age@@ Command@@ ().get@@ Is@@ Execution@@ Allow@@ ed@@ ()) && (@@ search@@ able@@ ListModel@@ .get@@ Search@@ Pre@@ vi@@ o@@ us@@ P@@ age@@ Command@@ ().get@@ Is@@ Avail@@ abl@@ e())) { search@@ able@@ ListModel@@ .@@ execute@@ Command(@@ search@@ able@@ ListModel@@ .get@@ Search@@ Pre@@ vi@@ o@@ us@@ P@@ age@@ Command@@ ()); update@@ To@@ L@@ ast@@ R@@ o@@ w = true@@ ; } else { s@@ el@@ ection@@ Model@@ .set@@ Selected@@ (@@ item@@ s@@ As@@ Lis@@ t.get@@ (@@ new@@ In@@ dex@@ ), true@@ ); } }
public void ne@@ xt@@ Entity@@ () { M search@@ able@@ ListModel = list@@ Model@@ Provider@@ .get@@ Model@@ (); T enti@@ ty = ((@@ T@@ ) (@@ search@@ able@@ ListModel@@ .get@@ SelectedItem@@ ())); java.util.List<@@ T@@ > item@@ s@@ As@@ List = get@@ Item@@ s@@ As@@ List(@@ search@@ able@@ ListModel@@ ); int current@@ In@@ de@@ x = item@@ s@@ As@@ Lis@@ t.@@ in@@ dex@@ Of@@ (@@ entity@@ ); int new@@ In@@ de@@ x = current@@ In@@ de@@ x + 1@@ ; if (@@ new@@ In@@ de@@ x >@@ = (@@ item@@ s@@ As@@ Lis@@ t.@@ siz@@ e())) { if ((@@ search@@ able@@ ListModel@@ .get@@ Search@@ N@@ ext@@ P@@ age@@ Command@@ ().get@@ Is@@ Execution@@ Allow@@ ed@@ ()) && (@@ search@@ able@@ ListModel@@ .get@@ Search@@ N@@ ext@@ P@@ age@@ Command@@ ().get@@ Is@@ Avail@@ abl@@ e())) { search@@ able@@ ListModel@@ .@@ execute@@ Command(@@ search@@ able@@ ListModel@@ .get@@ Search@@ N@@ ext@@ P@@ age@@ Command@@ ()); update@@ To@@ F@@ ir@@ st@@ R@@ o@@ w = true@@ ; } else { s@@ el@@ ection@@ Model@@ .set@@ Selected@@ (@@ item@@ s@@ As@@ Lis@@ t.get@@ (@@ new@@ In@@ dex@@ ), true@@ ); } }
@java.lang.Override public void set@@ Value(@@ ) { this@@ .@@ model@@ Provider@@ .get@@ Valu@@ e().set@@ Is@@ Avail@@ able(@@ model@@ ); }
private void update@@ Selected@@ Row@@ s() { if (@@ update@@ To@@ F@@ ir@@ st@@ Row@@ ) { update@@ To@@ F@@ ir@@ st@@ R@@ o@@ w = false@@ ; java.util.Collection@@ <@@ T@@ > item@@ s = list@@ Model@@ Provider@@ .get@@ Model().get@@ Item@@ s(); if (@@ item@@ s instanceof java.util.@@ List@@ ) { final java.util.List<@@ T@@ > item@@ s@@ As@@ List = ((@@ java.util.List<@@ T@@ >) (@@ item@@ s@@ )); if (!(@@ item@@ s@@ As@@ Lis@@ t.@@ isEmpty())) { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ f@@ err@@ ed@@ ((@@ ) -@@ > { org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ T fi@@ r@@ st@@ I@@ t@@ e@@ m = item@@ s@@ As@@ Lis@@ t.get@@ (0@@ ); s@@ el@@ ection@@ Model@@ .set@@ Selected@@ (@@ fi@@ r@@ st@@ Item@@ , true@@ ); list@@ Model@@ Provider@@ .get@@ Model@@ ().set@@ SelectedItem@@ (@@ fi@@ r@@ st@@ Item@@ ); get@@ View@@ ().set@@ C@@ urrent@@ Selected@@ Name(@@ get@@ View@@ ().get@@ Name(@@ fi@@ r@@ st@@ Item@@ )); } } else if (@@ update@@ To@@ L@@ ast@@ Row@@ ) { update@@ To@@ L@@ ast@@ R@@ o@@ w = false@@ ; java.util.Collection@@ <@@ T@@ > item@@ s = list@@ Model@@ Provider@@ .get@@ Model().get@@ Item@@ s(); if (@@ item@@ s instanceof java.util.@@ List@@ ) { final java.util.List<@@ T@@ > item@@ s@@ As@@ List = ((@@ java.util.List<@@ T@@ >) (@@ item@@ s@@ )); if (!(@@ item@@ s@@ As@@ Lis@@ t.@@ isEmpty())) { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ f@@ err@@ ed@@ ((@@ ) -@@ > { org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ T l@@ ast@@ I@@ t@@ e@@ m = item@@ s@@ As@@ Lis@@ t.get@@ (((@@ item@@ s@@ As@@ Lis@@ t.@@ size()) - 1@@ )); s@@ el@@ ection@@ Model@@ .set@@ Selected@@ (@@ l@@ ast@@ Item@@ , true@@ ); list@@ Model@@ Provider@@ .get@@ Model@@ ().set@@ SelectedItem@@ (@@ l@@ ast@@ Item@@ ); get@@ View@@ ().set@@ C@@ urrent@@ Selected@@ Name(@@ l@@ ast@@ Item@@ )); } } if (((@@ list@@ Model@@ Provider@@ .get@@ Model().get@@ SelectedItem@@ ()) != null@@ ) && (@@ sh@@ ow@@ Selected@@ Name@@ )) { org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ O@@ vi@@ r@@ t@@ B@@ read@@ C@@ r@@ t@@ B@@ read@@ C@@ r@@ um@@ b@@ s@@ P@@ res@@ enter@@ Widget@@ .get@@ View@@ ().set@@ C@@ urrent@@ Selected@@ Name(@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ O@@ vi@@ r@@ t@@ B@@ read@@ C@@ r@@ um@@ b@@ s@@ P@@ res@@ enter@@ Widget@@ .get@@ View@@ ().get@@ Name@@ (((@@ T@@ ) (@@ list@@ Model@@ Provider@@ .get@@ Model().get@@ SelectedItem@@ ())@@ ))); } org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ O@@ vi@@ r@@ t@@ B@@ read@@ C@@ r@@ t@@ B@@ read@@ C@@ r@@ um@@ b@@ s@@ P@@ res@@ enter@@ Widget@@ .get@@ View@@ ().get@@ Name@@ (((@@ list@@ Model@@ Provider@@ .get@@ Model().get@@ SelectedItem@@ ())@@ ))); } org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ O@@ vi@@ r@@ t@@ B@@ read@@ C@@ r@@ t@@ B@@ R@@ um@@ b@@ s@@ P@@ res@@ enter@@ Widget@@ .get@@ View@@ ().get@@ Titl@@ e(), list@@ Model@@ Provider@@ .get@@ View@@ ().get@@ Titl@@ e(), list@@ Model@@ Provider@@ .get@@ View@@ ().get@@ Titl@@ e()); }
@java.lang.Override protected void on@@ B@@ in@@ d@@ () { super@@ .@@ on@@ B@@ in@@ d@@ (); M list@@ Model = list@@ Model@@ Provider@@ .get@@ Model@@ (); list@@ Model.get@@ SelectedItem@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new "@@ on@@ B@@ in@@ d@@ (); M list@@ Model = list@@ Model@@ Provider@@ .get@@ Model@@ (); list@@ Model.get@@ SelectedItem@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ action.@@ W@@ in@@ do@@ w@@ s@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ V@@ L@@ an@@ el@@ s.@@ Network@@ P@@ res@@ ol@@ ve@@ Command() { @java.lang.Override protected void on@@ B@@ in@@ d@@ () { get@@ W@@ in@@ do@@ w@@ ().get@@ Item@@ s@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ action.@@ W@@ eb@@ Ad@@ min@@ Button@@ De@@ fin@@ ition@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ w@@ o@@ id@@ >() { @java.lang.Override protected void on@@ B@@ in@@ d@@ () { get@@ W@@ in@@ do@@ w@@ ().get@@ Item@@ s@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ V@@ L@@ an@@ el@@ .@@ const@@ an@@ t@@ s.@@ remove@@ All@@ (@@ list@@
private void create@@ P@@ op@@ o@@ ver@@ (@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ An@@ ch@@ or an@@ ch@@ or@@ ) { p@@ op@@ ove@@ r = new org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ O@@ vi@@ r@@ t@@ P@@ op@@ o@@ ver@@ (@@ an@@ ch@@ or@@ ); p@@ op@@ o@@ v@@ er.@@ set@@ T@@ ri@@ g@@ er@@ (@@ T@@ ri@@ g@@ er.@@ M@@ AN@@ U@@ AL@@ ); p@@ op@@ o@@ v@@ er.@@ set@@ P@@ l@@ ac@@ ement@@ (@@ P@@ l@@ ac@@ em@@ ent.@@ B@@ O@@ T@@ O@@ M@@ ); p@@ op@@ o@@ v@@ er.@@ set@@ Cont@@ ain@@ er@@ (@@ an@@ ch@@ or@@ ); if ((@@ search@@ B@@ o@@ x@@ ) == null@@ ) { search@@ B@@ o@@ x = create@@ Search@@ B@@ o@@ x@@ (); search@@ B@@ o@@ x.@@ add@@ Model@@ Selected@@ Callback@@ (s@@ el@@ ection@@ Callback@@ ); } p@@ op@@ o@@ v@@ er.@@ add@@ Cont@@ ent@@ (@@ search@@ B@@ o@@ x@@ , "@@ search@@ Panel@@ "); }
@java.lang.Override public void set@@ In@@ S@@ l@@ ot@@ (java.lang.Object s@@ l@@ ot@@ , com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t cont@@ ent@@ ) { if (s@@ lo@@ t == (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Search@@ Panel@@ )) { if (@@ cont@@ ent != null@@ ) { action@@ Panel@@ .set@@ Search@@ Panel@@ (@@ cont@@ ent@@ ); action@@ Panel@@ .set@@ Visi@@ bl@@ e@@ (@@ true@@ ); } else { if (s@@ lo@@ t == (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ B@@ read@@ C@@ r@@ um@@ b@@ s@@ )) { if (@@ cont@@ ent != null@@ ) { b@@ read@@ C@@ r@@ um@@ b@@ s@@ Column@@ .@@ cl@@ e@@ ar@@ (); b@@ read@@ C@@ r@@ um@@ b@@ s@@ Column@@ .@@ add(@@ cont@@ ent@@ ); } else { super@@ .set@@ In@@ S@@ l@@ ot@@ (s@@ l@@ ot@@ , cont@@ ent@@ ); } }
@java.lang.Override public void on@@ Lo@@ ad@@ () { super@@ .@@ on@@ Lo@@ ad@@ (); key@@ Handl@@ er = com.google.gwt.@@ user.@@ client.@@ Ev@@ ent.@@ add@@ N@@ ati@@ ve@@ Pre@@ view@@ Handler@@ (@@ "@@ event@@ ) -@@ > { com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event native@@ Event = event.@@ get@@ N@@ ati@@ ve@@ Event@@ (); if ((@@ b@@ read@@ C@@ r@@ um@@ b@@ s) != null@@ ) { if ((@@ event.@@ get@@ Type@@ Int@@ ()) == Ev@@ ent.@@ ON@@ K@@ E@@ Y@@ DO@@ W@@ N@@ ) { if ((@@ (@@ native@@ Ev@@ ent.@@ get@@ Ch@@ ar@@ Cod@@ e()) == '@@ s@@ '@@ ) || (@@ native@@ Ev@@ ent.@@ get@@ Key@@ Cod@@ e()) == Key@@ Cod@@ es.@@ K@@ E@@ Y_@@ S@@ )) { if (@@ native@@ Ev@@ ent.@@ get@@ C@@ tr@@ l@@ Key@@ ()) && (@@ native@@ Ev@@ ent.@@ get@@ Al@@ t@@ Key@@ ())) { native@@ Ev@@ ent.@@ pre@@ vent@@ Default@@ (); native@@ Ev@@ ent.@@ st@@ op@@ Pro@@ p@@ ag@@ ation@@ (); this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ s@@ .get@@ View@@ ().@@ t@@ og@@ g@@ le@@ Search@@ Widget@@ (); event.@@ cancel@@ (); } else if ((!@@ (@@ this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ s@@ .get@@ View@@ ().is@@ Search@@ Visi@@ bl@@ e())) && (@@ native@@ Ev@@ ent.@@ get@@ Key@@ Cod@@ e()) == Key@@ Cod@@ es.@@ K@@ E@@ Y_@@ DO@@ W@@ N@@ )) { native@@ Ev@@ ent.@@ pre@@ vent@@ Default@@ (); native@@ Ev@@ ent.@@ st@@ op@@ Pro@@ p@@ ag@@ ation@@ (); this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ read@@ C@@ r@@ um@@ b@@ s.@@ ne@@ xt@@ Entity@@ (); event.@@ cancel@@ (); } else if ((!@@ (@@ this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ s@@ .get@@ View@@ ().is@@ Search@@ Visi@@ bl@@ e())) && (@@ native@@ Ev@@ ent.@@ get@@ Key@@ Cod@@ e()) == Key@@ Cod@@ es.@@ K@@ E@@ Y_@@ UP@@ )) { native@@ Ev@@ ent.@@ st@@ op@@ Pro@@ p@@ ag@@ ation@@ (); this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ s.@@ pre@@ vi@@ o@@ us@@ Entity@@ (); event.@@ cancel@@ (); } } }); if ((@@ b@@ s) != null@@ ) { if ((@@ b@@ read@@ C@@ r@@ um@@ b@@ s@@ Cont@@ ain@@ er@@ .get@@ Count@@ ()) == 0) { b@@ s@@ Cont@@ ain@@ er.@@ add(@@ b@@ read@@ C@@ r@@ um@@ b@@ s); } } }
public void build@@ C@@ r@@ um@@ b@@ s(@@ java.lang.String model@@ Tit@@ le@@ , java.lang.String model@@ H@@ re@@ f@@ ) { b@@ read@@ C@@ r@@ um@@ b@@ s.@@ cl@@ e@@ ar@@ (); b@@ read@@ C@@ r@@ um@@ b@@ s.@@ add@@ (@@ new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ An@@ ch@@ or@@ List@@ Item@@ ("@@ ")); java.lang.String pri@@ mar@@ y@@ L@@ ab@@ e@@ l = m@@ en@@ u@@ L@@ ay@@ o@@ u@@ t.get@@ P@@ ri@@ mar@@ y@@ Group@@ Title(@@ model@@ Titl@@ e); if (@@ pri@@ mar@@ y@@ L@@ ab@@ e@@ l != null@@ ) { b@@ read@@ C@@ r@@ um@@ b@@ s.@@ add@@ (@@ new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ List@@ Item@@ (@@ pri@@ mar@@ y@@ Label@@ )); } org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ An@@ ch@@ or@@ List@@ I@@ t@@ e@@ m m@@ ain@@ Model@@ An@@ ch@@ or = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ An@@ ch@@ or@@ List@@ Item@@ (model@@ Titl@@ e); m@@ ain@@ Model@@ An@@ ch@@ or@@ .set@@ H@@ re@@ f@@ ((@@ "@@ #@@ " + model@@ H@@ re@@ f@@ )); b@@ read@@ C@@ r@@ um@@ b@@ s.add(@@ m@@ ain@@ Model@@ An@@ ch@@ or@@ ); if ((@@ current@@ SelectedItem@@ Widget@@ ) != null@@ ) { b@@ read@@ C@@ r@@ um@@ b@@ s.@@ add@@ (c@@ urrent@@ SelectedItem@@ Widget@@ ); } }
public boolean has@@ Action@@ Panel@@ P@@ res@@ enter@@ Widget@@ () { return (get@@ Action@@ Panel@@ P@@ res@@ enter@@ Widget@@ ()) != null@@ ; }
@java.lang.Override protected void on@@ Re@@ ve@@ al@@ () { super@@ .@@ on@@ Re@@ ve@@ al@@ (); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ P@@ resent@@ er.@@ set@@ Sub@@ Tab@@ Panel@@ Visi@@ bl@@ e@@ (@@ false@@ ); get@@ B@@ read@@ C@@ r@@ um@@ b@@ s().@@ cl@@ e@@ ar@@ Active@@ Sub@@ Tab@@ (); get@@ T@@ abl@@ e().@@ res@@ et@@ S@@ c@@ ro@@ ll@@ P@@ os@@ ition@@ (); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ P@@ res@@ enter@@ .get@@ View@@ ().set@@ B@@ read@@ C@@ r@@ um@@ b@@ s(@@ get@@ B@@ read@@ C@@ r@@ um@@ b@@ s()); }
@java.lang.Override public void set@@ In@@ S@@ l@@ ot@@ (java.lang.Object s@@ l@@ ot@@ , com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t cont@@ ent@@ ) { if (s@@ lo@@ t == (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Search@@ Panel@@ )) { if (@@ cont@@ ent != null@@ ) { if ((@@ action@@ Panel@@ ) == null@@ ) { search@@ Pan@@ e@@ l = cont@@ ent@@ ; } else { action@@ Panel@@ .set@@ Search@@ Panel@@ ((@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ P@@ res@@ enter@@ Widget@@ <?@@ >) (@@ cont@@ ent@@ ))); } } else if (s@@ lo@@ t == (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Action@@ Panel@@ )) { if (@@ cont@@ ent != null@@ ) { action@@ Search@@ Panel@@ .@@ add(@@ cont@@ ent@@ ); this@@ .@@ action@@ Pan@@ e@@ l = ((@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Action@@ Panel@@ P@@ res@@ enter@@ Widget@@ <@@ T@@ , M@@ >) (@@ cont@@ ent@@ )); if ((@@ search@@ Panel@@ ) != null@@ ) { action@@ Panel@@ .set@@ Search@@ Panel@@ ((@@ (c@@ om@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ P@@ res@@ enter@@ Widget@@ <?@@ >) (@@ search@@ Panel@@ ))); } add@@ Result@@ Panel@@ (@@ action@@ ); } else { super@@ .set@@ In@@ S@@ l@@ ot@@ (s@@ l@@ ot@@ , cont@@ ent@@ ); } } else { super@@ .set@@ In@@ S@@ l@@ ot@@ (s@@ l@@ ot@@ , cont@@ ent@@ ); } }
private void add@@ P@@ lu@@ gin@@ Action@@ Button@@ s(@@ java.util.List<@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <?@@ >> p@@ lu@@ gin@@ Action@@ Button@@ List@@ ) { }
public void set@@ In@@ S@@ l@@ ot@@ (java.lang.Object s@@ l@@ ot@@ , com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t cont@@ ent@@ ) { if (s@@ lo@@ t == (@@ org.ovirt.engine.@@ ui@@ .@@ do@@ m@@ ain@@ .@@ t@@ p@@ resent@@ er.@@ Main@@ Cont@@ ent@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Main@@ Tab@@ Panel@@ Cont@@ ent@@ )) { action@@ Panel@@ Cont@@ ain@@ er.@@ add(@@ cont@@ ent@@ ); } else if (s@@ lo@@ t == (@@ org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ p@@ resent@@ er.@@ Abstract@@ Sub@@ Tab@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Action@@ Panel@@ )) { if (@@ cont@@ ent@@ ) != null@@ ) { action@@ Panel@@ Cont@@ ain@@ er@@ .@@ add(@@ ad@@ d@@ ); } else { super@@ .set@@ In@@ S@@ l@@ ot@@ (s@@ l@@ ot@@ , cont@@ ent@@ ); } }
@java.lang.Override protected void on@@ B@@ in@@ d@@ () { super@@ .@@ on@@ B@@ in@@ d@@ (); org.ovirt.engine.ui.uicommonweb.models.@@ Or@@ der@@ ed@@ Multi@@ Sel@@ ection@@ Model@@ <?@@ > t@@ able@@ Sel@@ ection@@ Model = ((get@@ T@@ abl@@ e()) != null@@ ) ? get@@ T@@ abl@@ e().get@@ Sel@@ ection@@ Model@@ () : null@@ ; if (@@ t@@ able@@ Sel@@ ection@@ Model != null@@ ) { re@@ g@@ ist@@ er@@ Handler@@ (@@ t@@ able@@ Sel@@ ection@@ Model.@@ add@@ Sel@@ ection@@ Change@@ Handler@@ (@@ ( event@@ ) -@@ > { update@@ Detail@@ Model@@ Sel@@ ection@@ (); } initial@@ ize@@ Handl@@ ers@@ (); get@@ Selected@@ Main@@ Item@@ s().@@ re@@ g@@ ist@@ er@@ Listener@@ (@@ this@@ ); item@@ Changed@@ (get@@ Selected@@ Main@@ Item@@ s().get@@ SelectedItem@@ ()); set@@ In@@ S@@ l@@ ot@@ (@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Sub@@ Tab@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Action@@ Panel@@ , action@@ Panel@@ P@@ res@@ enter@@ Widget@@ ); }
@java.lang.Override public void set@@ In@@ S@@ l@@ ot@@ (java.lang.Object s@@ l@@ ot@@ , com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t cont@@ ent@@ ) { if (s@@ lo@@ t == (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Main@@ Cont@@ ent@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Main@@ Tab@@ Panel@@ Cont@@ ent@@ )) { contain@@ er.@@ in@@ sert@@ (@@ cont@@ ent@@ , 0@@ ); } else if (s@@ lo@@ t == (@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Abstract@@ Sub@@ Tab@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Action@@ Panel@@ )) { if (@@ cont@@ ent != null@@ ) { contain@@ er.@@ in@@ sert@@ (@@ cont@@ ent@@ , 0@@ ); } else { super@@ .set@@ In@@ S@@ l@@ ot@@ (s@@ l@@ ot@@ , cont@@ ent@@ ); } }
@java.lang.Override protected void on@@ B@@ in@@ d@@ () { super@@ .@@ on@@ B@@ in@@ d@@ (); re@@ g@@ ist@@ er@@ Handler@@ (get@@ T@@ abl@@ e().get@@ Sel@@ ection@@ Model@@ ().add@@ Sel@@ ection@@ Change@@ Handler@@ (@@ "@@ event@@ ) -@@ > { org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ model@@ Provider.@@ set@@ SelectedItem@@ s(@@ get@@ SelectedItem@@ s()); fi@@ re@@ T@@ able@@ Sel@@ ection@@ Change@@ Event@@ (); if (!(@@ is@@ Visi@@ bl@@ e())) { handl@@ e@@ P@@ l@@ ace@@ Trans@@ ition@@ (); } re@@ g@@ ist@@ er@@ Handler@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ P@@ res@@ enter@@ .get@@ Event@@ B@@ us@@ ().add@@ Handler@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ Ap@@ pl@@ y@@ Search@@ String@@ Ev@@ ent.@@ get@@ Typ@@ e(), "@@ -@@ > { ap@@ pl@@ y@@ Search@@ String@@ (@@ event.@@ get@@ Search@@ String@@ ()); } org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ P@@ res@@ enter@@ .get@@ View@@ ().set@@ Detail@@ P@@ l@@ ace@@ Trans@@ ition@@ Handler@@ (@@ this@@ ); java.lang.String search@@ Strin@@ g = search@@ String@@ C@@ oll@@ ect@@ or@@ .get@@ Search@@ String@@ Pre@@ fi@@ x@@ (model@@ Provider@@ .get@@ Model().get@@ Search@@ String@@ ()); if (@@ search@@ Strin@@ g != null@@ ) { ap@@ pl@@ y@@ Search@@ String@@ (@@ search@@ String@@ ); } if (@@ has@@ Search@@ Panel@@ P@@ res@@ enter@@ Widget@@ ()) { set@@ In@@ S@@ l@@ ot@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Search@@ Panel@@ , search@@ Panel@@ P@@ res@@ enter@@ Widget@@ ); } if (@@ has@@ Action@@ Panel@@ P@@ res@@ enter@@ Widget@@ ()) { set@@ In@@ S@@ l@@ ot@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ Tab@@ With@@ Detail@@ s@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Action@@ Panel@@ , action@@ Panel@@ P@@ res@@ enter@@ Widget@@ ); } }
@java.lang.Override protected void initial@@ ize@@ Button@@ s() { org.ovirt.engine.ui.common.widget.@@ action.@@ Permission@@ Action@@ Panel@@ P@@ resent@@ er.@@ add@@ Action@@ Button@@ (@@ new org.ovirt.engine.ui.common.widget.@@ action.@@ U@@ i@@ Command@@ Button@@ De@@ fin@@ ition@@ <org.ovirt.engine.core.common.businessentities.@@ Permission@@ >@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Permission@@ Action@@ Panel@@ P@@ res@@ enter@@ .get@@ Sh@@ ared@@ Event@@ B@@ us@@ (), org.ovirt.engine.ui.common.widget.@@ action.@@ Permission@@ Action@@ Panel@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ add@@ Permission@@ ()) { @java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return getModel().get@@ Add@@ Command@@ (); } }); org.ovirt.engine.ui.common.widget.@@ action.@@ Permission@@ Action@@ Panel@@ P@@ resent@@ er.@@ add@@ Action@@ Button@@ (@@ new org.ovirt.engine.ui.common.widget.@@ action.@@ U@@ i@@ Command@@ Button@@ De@@ fin@@ ition@@ <org.ovirt.engine.core.common.businessentities.@@ Permission@@ >@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Permission@@ Action@@ Panel@@ P@@ res@@ enter@@ .get@@ Sh@@ ared@@ Event@@ B@@ us@@ (), org.ovirt.engine.ui.common.widget.@@ action.@@ Permission@@ Action@@ Panel@@ P@@ res@@ enter@@ .@@ const@@ an@@ t@@ s.@@ remove@@ Permission@@ ()) { @java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return getModel().get@@ Remove@@ Command@@ (); } }); }
@org.junit.Test public void test@@ Updat@@ e() { existing@@ Domain@@ .set@@ Storage@@ Updat@@ ed@@ Name@@ "); existing@@ Domain@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ (@@ true@@ ); existing@@ Domain@@ .set@@ W@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ (@@ 4@@ ); existing@@ Domain@@ .set@@ C@@ ri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ (@@ 8@@ ); existing@@ Domain@@ .set@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e(@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ LUN@@ _@@ ID@@ 1@@ ); existing@@ Domain@@ .set@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e(@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ LUN@@ _@@ ID@@ 1@@ ); existing@@ Domain@@ .set@@ Use@@ For@@ Back@@ up@@ (@@ true@@ ); d@@ ao.@@ updat@@ e(@@ existing@@ Domain@@ ); org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c af@@ t@@ er = d@@ ao@@ .get(@@ existing@@ Domain@@ .getId()); assert@@ E@@ quals(@@ af@@ ter@@ , existing@@ Domain@@ ); }
@java.lang.Override public void setUp@@ () throw@@ s java.lang.Exception { super@@ .set@@ Up@@ (); d@@ a@@ o = db@@ Facad@@ e.get@@ StorageDomain@@ Static@@ Dao@@ (); d@@ ynam@@ ic@@ D@@ a@@ o = db@@ Facad@@ e.get@@ StorageDomain@@ Dynamic@@ Dao@@ (); disk@@ Image@@ D@@ a@@ o = db@@ Facad@@ e.get@@ DiskImage@@ Dao@@ (); image@@ D@@ a@@ o = db@@ Facad@@ e.get@@ Image@@ Dao@@ (); existing@@ Domain = d@@ ao@@ .get@@ (@@ new org.ovirt.engine.core.compat.Guid@@ ("@@ 7@@ 2@@ e@@ 3@@ a@@ 6@@ 6@@ 6@@ -@@ 8@@ 9@@ e@@ 1@@ -@@ 4@@ 00@@ 5@@ -@@ a@@ 7@@ c@@ a@@ -@@ f@@ 7@@ 5@@ 4@@ 8@@ 00@@ 4@@ a@@ 9@@ ab@@ ")); new@@ Static@@ Domain@@ .set@@ Storage@@ Name("@@ New@@ StorageDomain@@ "); new@@ Static@@ Domain@@ .set@@ Storage@@ ("@@ f@@ D@@ M@@ z@@ h@@ E@@ -@@ w@@ x@@ 3@@ s@@ -@@ z@@ o@@ 3@@ q@@ -@@ Q@@ c@@ x@@ d@@ -@@ T@@ 0@@ l@@ i@@ -@@ y@@ o@@ Y@@ U@@ -@@ Q@@ v@@ V@@ e@@ P@@ l@@ "); new@@ Static@@ Domain@@ .set@@ Storage@@ Format@@ (@@ Storage@@ Format@@ Type.@@ V@@ 1@@ ); new@@ Static@@ Domain@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ (@@ true@@ ); new@@ Static@@ Domain@@ .set@@ W@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ (@@ 3@@ ); new@@ Static@@ Domain@@ .set@@ C@@ ri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ (@@ 9@@ ); new@@ Static@@ Domain@@ .set@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e(@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ LUN@@ _@@ ID@@ 2@@ ); new@@ Static@@ Domain@@ .set@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e(@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ LUN@@ _@@ ID@@ 2@@ ); new@@ Static@@ Domain@@ .set@@ Use@@ For@@ Back@@ up@@ (@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ US@@ E_@@ F@@ OR@@ _@@ B@@ AC@@ K@@ UP@@ _@@ F@@ L@@ AG@@ ); }
public void set@@ Use@@ For@@ Back@@ up@@ (@@ boolean us@@ e@@ For@@ Back@@ up@@ ) { get@@ Storage@@ StaticData@@ ().set@@ Use@@ For@@ Back@@ up@@ (@@ us@@ e@@ For@@ Back@@ up@@ ); }
public java.lang.@@ B@@ oolean get@@ Storage@@ StaticData@@ ().get@@ Use@@ For@@ Back@@ up@@ () { return get@@ Storage@@ StaticData@@ ().get@@ Use@@ For@@ Back@@ up@@ (); }
private static org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c cl@@ one@@ StorageDomain@@ Static@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c instance@@ ) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c ob@@ j = new org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ (); obj@@ .set@@ Connection@@ (@@ instanc@@ e.get@@ Connection@@ ()); obj@@ .set@@ Id(@@ instanc@@ e.get@@ Id()); obj@@ .set@@ Storage@@ (@@ instanc@@ e.get@@ Storage@@ ()); obj@@ .set@@ StorageDomain@@ Type(@@ instanc@@ e.get@@ StorageDomain@@ Typ@@ e()); obj@@ .set@@ Storage@@ Type(@@ instanc@@ e.get@@ Storage@@ Typ@@ e()); obj@@ .set@@ Storage@@ Name(@@ instanc@@ e.get@@ Storage@@ Name()); obj@@ .set@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e(@@ instanc@@ e.get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()); obj@@ .set@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e(@@ instanc@@ e.get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()); obj@@ .set@@ Description@@ (@@ instanc@@ e.get@@ Description@@ ()); obj@@ .set@@ C@@ omm@@ ent@@ (@@ instanc@@ e.get@@ C@@ omm@@ ent@@ ()); obj@@ .set@@ Storage@@ Format@@ (@@ instanc@@ e.get@@ Storage@@ Format@@ ()); obj@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ instanc@@ e.get@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()); obj@@ .set@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ instanc@@ e.@@ is@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e()); obj@@ .set@@ W@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ (@@ instanc@@ e.get@@ W@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ ()); obj@@ .set@@ C@@ ri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ (@@ instanc@@ e.get@@ C@@ ri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ ()); obj@@ .set@@ Use@@ For@@ Back@@ up@@ (@@ instanc@@ e.get@@ Use@@ For@@ Back@@ up@@ ()); return obj@@ ; }
private void assert@@ Get@@ Result@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain result) { assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ E@@ quals(@@ existing@@ Domain@@ , result@@ ); assert@@ E@@ quals(@@ "@@ Th@@ e c@@ omm@@ it@@ t@@ ed dis@@ k siz@@ e 8@@ , result.get@@ C@@ omm@@ it@@ t@@ ed@@ Disk@@ Siz@@ e()); assert@@ E@@ quals(@@ "@@ Th@@ e act@@ u@@ al dis@@ k siz@@ e 4@@ , result.get@@ Ac@@ tu@@ al@@ Images@@ Siz@@ e()); assert@@ E@@ quals(@@ "@@ Th@@ e fi@@ r@@ s@@ t m@@ et@@ ad@@ at@@ a devi@@ c@@ e Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ LUN@@ _@@ ID@@ _@@ O@@ F@@ _@@ DOMAIN@@ _M@@ ET@@ AD@@ AT@@ A@@ , result.get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()); assert@@ E@@ quals(@@ "@@ Th@@ e v@@ g m@@ et@@ ad@@ at@@ a devi@@ c@@ e Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ LUN@@ _@@ ID@@ _@@ O@@ F@@ _@@ DOMAIN@@ _@@ V@@ G@@ _M@@ ET@@ AD@@ AT@@ A@@ , result.get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()); assert@@ E@@ quals(@@ "@@ Th@@ e sh@@ ar@@ ed stat@@ u@@ s StorageDomain@@ Sh@@ ared@@ Status.@@ Active@@ , result.get@@ StorageDomain@@ Sh@@ ared@@ Status@@ ()); assert@@ E@@ quals(@@ "@@ Th@@ e back@@ u@@ p f@@ l@@ a@@ g stat@@ u@@ s Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ US@@ E_@@ F@@ OR@@ _@@ B@@ AC@@ K@@ UP@@ _@@ F@@ L@@ AG@@ , result.get@@ Use@@ For@@ Back@@ up@@ ()); }
@java.lang.Override protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c do@@ m@@ ain@@ ) { return getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ id@@ ", do@@ m@@ ain@@ .getId@@ ()).addValue("@@ storage@@ ", do@@ m@@ ain@@ .get@@ Storage@@ ()).addValue("@@ storage_@@ name@@ ", do@@ m@@ ain@@ .get@@ Storage@@ Name()@@ ).addValue("@@ storage_@@ d@@ escription@@ ", do@@ m@@ ain@@ .get@@ Description@@ ()).addValue("@@ storage_@@ c@@ omm@@ ent@@ ", do@@ m@@ ain@@ .get@@ C@@ omm@@ ent@@ ()).addValue("@@ storage_@@ type@@ ", do@@ m@@ ain@@ .get@@ Storage@@ Typ@@ e()@@ ).addValue("@@ storage@@ _@@ do@@ m@@ ain@@ _@@ type@@ ", do@@ m@@ ain@@ .get@@ StorageDomain@@ Typ@@ e()@@ ).addValue("@@ storage@@ _@@ do@@ m@@ ain@@ _@@ for@@ mat@@ _@@ type@@ ", do@@ m@@ ain@@ .get@@ Storage@@ Format@@ ()).addValue("@@ l@@ ast@@ _@@ time@@ _@@ as@@ _@@ ma@@ ster@@ ", do@@ m@@ ain@@ .get@@ L@@ ast@@ Time@@ Us@@ ed@@ As@@ Ma@@ ster@@ ()).addValue("@@ w@@ ip@@ e@@ _@@ af@@ ter@@ _@@ d@@ elet@@ e@@ ", do@@ m@@ ain@@ .get@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()@@ ).addValue("@@ dis@@ c@@ ard@@ _@@ af@@ ter@@ _@@ d@@ elet@@ e@@ ", do@@ m@@ ain@@ .is@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e()@@ ).addValue("@@ fi@@ r@@ st@@ _@@ m@@ et@@ ad@@ ata@@ _@@ devi@@ ce@@ ", do@@ m@@ ain@@ .get@@ F@@ ir@@ st@@ Met@@ ad@@ ata@@ Devic@@ e()@@ ).addValue("@@ v@@ g@@ _@@ m@@ et@@ ad@@ ata@@ _@@ devi@@ ce@@ ", do@@ m@@ ain@@ .get@@ V@@ g@@ Met@@ ad@@ ata@@ Devic@@ e()@@ ).addValue("@@ w@@ arning@@ _@@ sp@@ ace@@ _@@ in@@ d@@ ic@@ ator@@ ", do@@ m@@ ain@@ .get@@ W@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ ()).addValue("@@ cri@@ tic@@ al@@ _@@ sp@@ ace@@ _@@ action@@ _@@ bl@@ ock@@ er@@ ", do@@ m@@ ain@@ .get@@ C@@ ri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ ())@@ .@@ addValue("@@ us@@ e@@ _@@ for@@ _@@ back@@ up@@ ", do@@ m@@ ain@@ .get@@ Use@@ For@@ Back@@ up@@ ()); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ id@@ , a@@ uto@@ Rec@@ o@@ ver@@ able@@ , connection@@ , name@@ , storage@@ , storage@@ Format@@ , storagePool@@ Type, storage@@ Type, d@@ escription@@ , s@@ an@@ St@@ ate@@ , w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ , dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ , fi@@ r@@ st@@ Met@@ ad@@ ata@@ Device@@ , v@@ g@@ Met@@ ad@@ ata@@ Device@@ , w@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ , cri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ , us@@ e@@ For@@ Back@@ u@@ p@@ ); }
public void set@@ Use@@ For@@ Back@@ up@@ (@@ boolean us@@ e@@ For@@ Back@@ up@@ ) { this@@ .@@ us@@ e@@ For@@ Back@@ u@@ p = us@@ e@@ For@@ Back@@ up@@ ; }
public java.lang.@@ B@@ oolean get@@ Use@@ For@@ Back@@ up@@ () { return us@@ e@@ For@@ Back@@ up@@ ; }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c oth@@ er = ((org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Static@@ ) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((@@ a@@ uto@@ Rec@@ o@@ ver@@ able@@ ) == (@@ oth@@ er.@@ a@@ uto@@ Rec@@ o@@ ver@@ able@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ connection@@ , oth@@ er.@@ connection@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ name@@ , oth@@ er.@@ name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storage@@ , oth@@ er.@@ storage@@ ))) && ((@@ storage@@ Format@@ ) == (@@ oth@@ er.@@ storage@@ Format@@ ))) && ((@@ storagePool@@ Type@@ ) == (@@ oth@@ er.@@ s@@ an@@ St@@ ate@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ , oth@@ er.@@ w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ ))) && ((@@ dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e) == (@@ oth@@ er.@@ dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ fi@@ r@@ st@@ Met@@ ad@@ ata@@ Device@@ , oth@@ er.@@ fi@@ r@@ st@@ Met@@ ad@@ ata@@ Device@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ v@@ g@@ Met@@ ad@@ ata@@ Device@@ , oth@@ er.@@ v@@ g@@ Met@@ ad@@ ata@@ Device@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ d@@ escription@@ , oth@@ er.@@ d@@ escription@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ w@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ , oth@@ er.@@ w@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ cri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ , oth@@ er.@@ cri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ )); }
private boolean is@@ Feat@@ ure@@ Supported@@ As@@ Add@@ ition@@ al@@ Feat@@ ur@@ e(@@ org.ovirt.engine.core.compat.Guid cluster@@ Id, java.lang.String f@@ eat@@ ure@@ Name@@ ) { java.util.Set@@ <org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ure@@ > add@@ tion@@ al@@ Feat@@ ur@@ es@@ Support@@ ed = cluster@@ Feat@@ ure@@ Dao@@ .get@@ Supported@@ Feat@@ ur@@ es@@ By@@ Cluster@@ Id@@ (cluster@@ Id); for (org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ur@@ e support@@ ed@@ Feat@@ ur@@ e : add@@ tion@@ al@@ Feat@@ ur@@ es@@ Supported@@ ) { if (s@@ upport@@ ed@@ Feat@@ ur@@ e.get@@ Feat@@ ur@@ e().get@@ Name()@@ .@@ e@@ qual@@ s@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ f@@ eat@@ ure@@ Name@@ )) { return support@@ ed@@ Feat@@ ur@@ e.@@ is@@ Enabled@@ (); } } return false@@ ; }
@java.lang.Override public org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ ree@@ Nod@@ e ne@@ xt@@ () { current@@ Path@@ S@@ eg@@ m@@ ent = p@@ ath@@ I@@ ter@@ ator.@@ ne@@ xt@@ (); if (is@@ ID@@ (c@@ urrent@@ Path@@ S@@ eg@@ ment@@ , n@@ ode@@ )) { n@@ od@@ e = n@@ od@@ e.get@@ Sub@@ Servic@@ e(@@ "@@ {@@ id@@ }@@ "); } else if (@@ n@@ od@@ e.c@@ on@@ t@@ ain@@ s@@ Sub@@ Servic@@ e(@@ current@@ Path@@ S@@ eg@@ ment@@ )) { n@@ od@@ e = n@@ od@@ e.get@@ Sub@@ Servic@@ e(@@ current@@ Path@@ S@@ eg@@ ment@@ ); } else { throw new java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ ("@@ se@@ g@@ m@@ ent '@@ " + (c@@ urrent@@ Path@@ S@@ eg@@ ment@@ )) + "@@ ' of p@@ at@@ h do@@ es not ex@@ ist@@ ")); } return n@@ ode@@ ; }
public org.ovirt.engine.api.restapi.resource.@@ Base@@ Backend@@ Resourc@@ e loc@@ ate@@ Resourc@@ e(@@ java.lang.String h@@ re@@ f@@ ) throw@@ s java.lang.@@ I@@ ll@@ eg@@ al@@ Ac@@ cess@@ Exception@@ , java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ , java.lang.@@ No@@ Su@@ ch@@ Method@@ Exception@@ , java.lang.@@ Sec@@ ur@@ ity@@ Exception@@ , java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ In@@ vo@@ c@@ ation@@ T@@ arget@@ Exception { h@@ re@@ f = remove@@ Pre@@ fi@@ x@@ (@@ h@@ re@@ f@@ ); org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ ree@@ C@@ r@@ a@@ w@@ l@@ er c@@ r@@ a@@ w@@ l@@ er = new org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ ree@@ C@@ r@@ a@@ w@@ l@@ er@@ (@@ java.util.Arrays.as@@ List(@@ h@@ re@@ f@@ .@@ s@@ pl@@ it@@ ("@@ /@@ "@@ ))); org.ovirt.engine.api.restapi.resource.@@ Base@@ Resourc@@ e resourc@@ e = org.ovirt.engine.api.restapi.resource.@@ Backend@@ Ap@@ i@@ Resourc@@ e.get@@ Instanc@@ e(); org.ovirt.engine.api.@@ r@@ sd@@ l.@@ Service@@ T@@ ree@@ Nod@@ e n@@ od@@ e = null@@ ; while (c@@ r@@ a@@ w@@ l@@ er.@@ has@@ N@@ ext@@ ()) { n@@ od@@ e = c@@ r@@ a@@ w@@ l@@ er.@@ ne@@ xt@@ (); if (@@ n@@ od@@ e.@@ is@@ Collection@@ ()) { java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Met@@ h@@ o@@ d m@@ et@@ h@@ o@@ d = resourc@@ e.get@@ Class@@ ().get@@ Method@@ (@@ n@@ od@@ e.get@@ Get@@ ter@@ ()); resourc@@ e = ((@@ org.ovirt.engine.api.restapi.resource.@@ Base@@ Backend@@ Resource@@ ) (@@ m@@ et@@ hod@@ .@@ in@@ vo@@ k@@ e(@@ res@@ ource@@ ))); } else { java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Met@@ h@@ o@@ d m@@ et@@ h@@ o@@ d = resourc@@ e.get@@ Class@@ ().get@@ Method@@ (@@ n@@ od@@ e.get@@ Get@@ ter@@ (), java.lang.String@@ .@@ class@@ ); resourc@@ e = ((@@ org.ovirt.engine.api.restapi.resource.@@ Base@@ Resource@@ ) (@@ m@@ et@@ hod@@ .@@ in@@ vo@@ k@@ e(@@ res@@ ource@@ , c@@ r@@ a@@ w@@ er@@ .get@@ C@@ urrent@@ Path@@ S@@ eg@@ ment@@ ()))); } return res@@ ource@@ ; }
org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Domain@@ X@@ ml@@ List@@ Retur@@ n getVm@@ L@@ e@@ ase@@ Info@@ (java.lang.String le@@ ase@@ U@@ UID@@ , java.lang.String sd@@ U@@ UID@@ );
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Domain@@ X@@ ml@@ List@@ Retur@@ n getVm@@ L@@ e@@ ase@@ Info@@ (java.lang.String le@@ ase@@ U@@ UID@@ , java.lang.String sd@@ U@@ UID@@ ) { java.util.HashMap@@ <java.lang.String, java.lang.Object> le@@ ase@@ D@@ ic@@ t = new java.util.HashMap@@ <@@ >(); le@@ ase@@ D@@ ic@@ t.@@ put@@ ("@@ le@@ ase@@ _id", le@@ ase@@ U@@ UID@@ ); le@@ ase@@ D@@ ic@@ t.@@ put@@ ("@@ sd@@ _id", sd@@ U@@ UID@@ ); org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ L@@ e@@ as@@ e.@@ ").@@ with@@ Parameter("@@ le@@ ase@@ ", le@@ ase@@ D@@ ic@@ t@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Domain@@ X@@ ml@@ List@@ Return(@@ respon@@ se@@ ); }
@java.lang.Override public java.lang.Object get@@ Return@@ Value(@@ ) { return do@@ m@@ ain@@ X@@ ml@@ List@@ Return@@ ; }
@java.lang.Override protected org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ s get@@ Return@@ Status@@ () { return do@@ m@@ ain@@ X@@ ml@@ List@@ Return@@ .get@@ Status@@ (); }
@java.lang.Override protected void execute@@ I@@ r@@ s@@ Broker@@ Command() { do@@ m@@ ain@@ X@@ ml@@ List@@ Retur@@ n = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Vm@@ L@@ e@@ ase@@ Info@@ VDS@@ Command.get@@ I@@ r@@ s@@ Proxy@@ ().get@@ Vm@@ L@@ e@@ ase@@ Info@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Vm@@ L@@ e@@ ase@@ Info@@ VDS@@ Command.getParameters().get@@ L@@ e@@ ase@@ Id().@@ toString@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Vm@@ L@@ e@@ ase@@ Info@@ VDS@@ Command.getParameters().get@@ StorageDomain@@ Id().@@ toString@@ ()); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Vm@@ L@@ e@@ ase@@ Info@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); }
public static void cl@@ e@@ an@@ up@@ S@@ s@@ o@@ Session@@ (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Cont@@ ex@@ t s@@ s@@ o@@ Context@@ , org.ovirt.engine.core.@@ s@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ ess@@ ion s@@ o@@ Session@@ , java.util.Set@@ <java.lang.String@@ > ass@@ oc@@ i@@ ate@@ Client@@ Id@@ s) { try { s@@ s@@ o@@ Cont@@ ext.@@ remove@@ S@@ s@@ o@@ Session@@ (s@@ s@@ o@@ Session@@ .get@@ Ac@@ cess@@ To@@ k@@ en@@ ()); javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ S@@ ess@@ ion existing@@ S@@ ess@@ ion = s@@ s@@ o@@ Session@@ .get@@ H@@ ttp@@ Session@@ (); if (@@ existing@@ S@@ ess@@ ion == null@@ ) { org.ovirt.engine.core.@@ s@@ s@@ s@@ o.@@ utils.@@ To@@ k@@ en@@ Cl@@ e@@ an@@ up@@ Util@@ ity@@ .@@ log.@@ d@@ ebug@@ ("@@ A@@ t@@ temp@@ t@@ ing ex@@ ist@@ ing S@@ ess@@ ion fo@@ un@@ d for to@@ k@@ en@@ : {@@ }, can@@ not in@@ valid@@ at@@ e s@@ ess@@ ion s@@ o@@ Session@@ .get@@ Ac@@ cess@@ To@@ k@@ en@@ ()); } else { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ To@@ k@@ en@@ Cl@@ e@@ an@@ up@@ Util@@ ity@@ .@@ log.@@ d@@ ebug@@ ("@@ S@@ ess@@ ion S@@ ess@@ ion fo@@ un@@ d for to@@ k@@ en@@ : {@@ }, in@@ valid@@ at@@ ing s@@ ess@@ ion s@@ o@@ Session@@ .get@@ Ac@@ cess@@ To@@ k@@ en@@ ()); existing@@ Session@@ .@@ in@@ valid@@ at@@ e(); } org.ovirt.engine.core.@@ s@@ s@@ s@@ o.@@ utils.@@ To@@ k@@ en@@ Cl@@ e@@ an@@ up@@ Util@@ ity@@ .@@ in@@ vo@@ ke@@ Auth@@ n@@ Log@@ out@@ (s@@ s@@ o@@ Context@@ , s@@ s@@ o@@ Session@@ ); org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ s@@ o@@ Utils.@@ not@@ if@@ y@@ Client@@ s@@ Of@@ Log@@ out@@ Event@@ (s@@ s@@ o@@ Context@@ , ass@@ oc@@ i@@ ate@@ Client@@ Id@@ s, s@@ o@@ Session@@ .get@@ Ac@@ cess@@ To@@ k@@ en@@ ()); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ To@@ k@@ en@@ Cl@@ e@@ an@@ up@@ Util@@ ity@@ .@@ log@@ ("@@ Fail@@ ed to cl@@ e@@ an@@ u@@ p S@@ s@@ o@@ Session@@ : {}@@ ", ex@@ .get@@ Message@@ ()); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ To@@ k@@ en@@ Cl@@ e@@ an@@ up@@ Util@@ ity@@ .@@ log.error@@ ("@@ Fail@@ ed to cl@@ e@@ an@@ up@@ Util@@ : {}@@ ", ex@@ .get@@ Message@@ ()); org.ovirt.engine.core.@@ s@@ o@@ Session@@ .get@@ Message@@ ()); org.ovirt.engine.core.@@ s@@ o@@ Session@@ Utils.@@ s@@ o@@ Session@@ .get@@ Message@@ ()); org.ovirt.engine.core.@@ s@@ o@@ Session@@ Utils.@@ s@@ o@@ Session@@ To@@ k@@ en@@ Cl@@ e@@ an@@ up@@ Util@@ s.get@@ Message@@ ()); org.ovirt.engine.core.@@ s@@ o@@ Session@@ .get@@ Message@@ ()); org.ovirt.engine.core.@@ s@@ o@@ Session@@ Utils.@@ d@@ ebug@@ ("@@ Exception@@ ("@@ Fail@@ ed ex@@ ); }
public static void set@@ Network@@ Vds@@ m@@ Name(@@ org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ ) { java.lang.String network@@ Name = network@@ .get@@ Nam@@ e(); org.ovirt.engine.core.compat.Guid network@@ Id = network@@ .getId@@ (); if (((@@ network@@ Nam@@ e.@@ l@@ ength@@ ()) <@@ = (org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Enti@@ ties@@ De@@ fin@@ ition@@ s.@@ HOST@@ _@@ N@@ IC@@ _@@ NAM@@ E_@@ L@@ EN@@ G@@ TH@@ )) || (network@@ Id == null@@ )) { network@@ .set@@ Vds@@ m@@ Name(@@ network@@ Name@@ ); } network@@ .set@@ Vds@@ m@@ Name@@ ((@@ "@@ on@@ " + (network@@ Id@@ .toString@@ ().@@ re@@ pl@@ ace@@ All@@ ("@@ [@@ ^@@ a@@ -@@ z@@ A@@ -@@ Z@@ 0@@ -@@ 9@@ ]@@ +@@ ", "@@ ").@@ sub@@ st@@ ring@@ (0@@ , ((org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Enti@@ ties@@ De@@ fin@@ ition@@ s.@@ HOST@@ _@@ N@@ IC@@ _@@ NAM@@ E_@@ L@@ EN@@ G@@ TH@@ ) - 2@@ )@@ )@@ ))); }
public java.lang.String toString@@ () { return org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ .@@ for@@ In@@ stance@@ (@@ this@@ ).@@ append("@@ l@@ abel@@ ", get@@ Label@@ ()).@@ append("@@ pri@@ or@@ ity@@ ", get@@ P@@ ri@@ or@@ ity@@ ()); }
@java.lang.Override public com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ T@@ a@@ b add@@ Tab@@ (c@@ om@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data t@@ ab@@ Data@@ , java.lang.String h@@ ist@@ ory@@ To@@ k@@ en@@ ) { com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ T@@ a@@ b = add@@ Tab@@ Impl@@ (@@ t@@ ab@@ Data@@ , h@@ ist@@ ory@@ To@@ k@@ en@@ ); all@@ Tab@@ s.@@ put(@@ t@@ ab@@ Data@@ , t@@ ab@@ ); return t@@ ab@@ ; }
@java.lang.Override public com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ T@@ a@@ b add@@ Tab@@ Impl@@ (c@@ om@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data t@@ ab@@ Data@@ , java.lang.String h@@ ist@@ ory@@ To@@ k@@ en@@ ) { org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Tab@@ De@@ fin@@ i@@ tion new@@ T@@ a@@ b = create@@ New@@ Tab@@ (@@ t@@ ab@@ Data@@ ); if (@@ t@@ ab@@ Data instanceof org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ ) { m@@ en@@ u@@ L@@ ay@@ o@@ u@@ t.@@ add@@ M@@ en@@ u@@ Item@@ (((@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ ) (@@ t@@ ab@@ Data@@ ))); new@@ Tab@@ .set@@ T@@ arget@@ H@@ ist@@ ory@@ To@@ k@@ en@@ (@@ h@@ ist@@ ory@@ To@@ k@@ en@@ ); new@@ Tab@@ .set@@ Id@@ (((@@ Tab@@ De@@ fin@@ ition@@ .@@ T@@ AB@@ _@@ ID@@ _P@@ RE@@ FI@@ X@@ ) + h@@ ist@@ ory@@ To@@ k@@ en@@ )); new@@ Tab@@ .set@@ Text@@ (@@ t@@ ab@@ Data@@ .get@@ Label@@ ()); add@@ Tab@@ De@@ fin@@ ition@@ (@@ new@@ Tab@@ , m@@ en@@ u@@ L@@ ay@@ o@@ u@@ t.get@@ M@@ en@@ u@@ In@@ dex@@ (((@@ org.ovirt.engine.ui.common.@@ uic@@ ommon.@@ model.@@ Group@@ ed@@ Tab@@ Data@@ ) (@@ t@@ ab@@ Data@@ )@@ ))); } else { throw new java.lang.@@ Run@@ time@@ Exception@@ ("@@ I@@ g@@ n@@ on on Group@@ ed@@ Tab@@ Data } update@@ Tab@@ (@@ new@@ Tab@@ ); if ((@@ (get@@ Active@@ Tab@@ H@@ ist@@ ory@@ To@@ k@@ en@@ ()) != null@@ ) && (get@@ Active@@ Tab@@ H@@ ist@@ ory@@ To@@ k@@ en@@ ().@@ equals(@@ h@@ ist@@ ory@@ To@@ k@@ en@@ ))) { set@@ Active@@ Tab@@ (@@ new@@ Tab@@ ); } return new@@ Tab@@ ; }
@java.lang.Override protected void on@@ B@@ in@@ d@@ () { super@@ .@@ on@@ B@@ in@@ d@@ (); re@@ g@@ ist@@ er@@ Handler@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .get@@ Event@@ B@@ us@@ ().add@@ Handler@@ (@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Set@@ Tab@@ Visi@@ bl@@ e@@ Ev@@ ent.@@ get@@ Typ@@ e(), org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .get@@ Event@@ B@@ us@@ ().add@@ Handler@@ (@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Set@@ Tab@@ Visi@@ bl@@ e@@ Ev@@ ent.@@ get@@ Typ@@ e(), org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .get@@ Event@@ B@@ us@@ ().add@@ Handler@@ (@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Set@@ Tab@@ Visi@@ bl@@ e@@ Ev@@ ent.@@ get@@ Typ@@ e(), org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Sub@@ Tab@@ Panel@@ P@@ res@@ enter@@ .get@@ Event@@ B@@ us@@ ().add@@ Handler@@ (@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Set@@ Tab@@ Visi@@ bl@@ e@@ Ev@@ ent.@@ get@@ Typ@@ e(), org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Sub@@ Tab@@ Panel@@ .@@ p@@
@java.lang.Override public com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ T@@ a@@ b add@@ Tab@@ Impl@@ (c@@ om@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data t@@ ab@@ Data@@ , java.lang.String h@@ ist@@ ory@@ To@@ k@@ en@@ ) { org.ovirt.engine.ui.common.widget.@@ t@@ ab@@ .@@ Tab@@ De@@ fin@@ i@@ tion new@@ T@@ a@@ b = create@@ New@@ Tab@@ (@@ t@@ ab@@ Data@@ ); new@@ Tab@@ .set@@ T@@ arget@@ H@@ ist@@ ory@@ To@@ k@@ en@@ (@@ h@@ ist@@ ory@@ To@@ k@@ en@@ ); new@@ Tab@@ .set@@ Text@@ (@@ t@@ ab@@ Data@@ .get@@ Label@@ ()); int in@@ de@@ x = t@@ ab@@ L@@ ay@@ o@@ u@@ t.@@ add@@ Group@@ ed@@ Tab@@ Data@@ (@@ t@@ ab@@ Data@@ ); add@@ Tab@@ De@@ fin@@ ition@@ (@@ new@@ Tab@@ , in@@ dex@@ ); update@@ Tab@@ (@@ new@@ Tab@@ ); return new@@ Tab@@ ; }
@java.lang.Override public void set@@ Tab@@ Visi@@ bl@@ e(@@ com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data t@@ ab@@ Data@@ , boolean vi@@ si@@ bl@@ e) { get@@ Tab@@ Panel@@ ().get@@ Tab@@ Widget@@ (@@ t@@ ab@@ Data@@ ).@@ as@@ Widget@@ ().set@@ Visi@@ bl@@ e(@@ vi@@ si@@ bl@@ e); }
public void initial@@ ize@@ Handl@@ ers@@ () { model@@ Provider@@ .get@@ Model().get@@ Entity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ ( ev, sender, -@@ > { java.lang.Object enti@@ ty = model@@ Provider@@ .get@@ Model().get@@ Entity@@ (); if (@@ enti@@ ty != null@@ ) { on@@ Detail@@ Model@@ Entity@@ Chang@@ e(@@ entity@@ ); } }); model@@ Provider@@ .get@@ Model().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s@@ Changed@@ Event@@ Listener@@ () { if (@@ PropertyChangedEventArg@@ s.@@ P@@ RO@@ G@@ RE@@ SS@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { if ((@@ model@@ Provider@@ .get@@ Model().get@@ Progress@@ ()) != null@@ ) { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ f@@ err@@ ed@@ ((@@ ) -@@ > { if ((get@@ T@@ abl@@ e()) != null@@ ) { get@@ T@@ abl@@ e().set@@ Lo@@ ad@@ ing@@ Stat@@ e(@@ Lo@@ ad@@ ing@@ Stat@@ e.@@ LO@@ AD@@ ING@@ ); } } }); } else if ("@@ Is@@ Available@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ D d@@ et@@ ail@@ Model = model@@ Provider@@ .get@@ Model@@ (); org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ Set@@ Tab@@ Visi@@ bl@@ e@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , res@@ ol@@ ve@@ Tab@@ Data@@ (), d@@ et@@ ail@@ Model.get@@ Is@@ Avail@@ abl@@ e()); } }); }
protected abstract com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ T@@ a@@ b add@@ Tab@@ Impl@@ (c@@ om@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .client.@@ Tab@@ Data t@@ ab@@ Data@@ , java.lang.String h@@ ist@@ ory@@ To@@ k@@ en@@ );
private void init@@ Selected@@ Sp@@ ice@@ Impl@@ () { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Sp@@ ice@@ Console@@ Model sp@@ ice@@ Model = model.get@@ Vm@@ Cons@@ ol@@ es@@ ().get@@ Console@@ Model@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Sp@@ ice@@ Console@@ Model@@ .@@ class@@ ); if (s@@ p@@ ice@@ Model == null@@ ) { return@@ ; } sp@@ ice@@ Model = sp@@ ice@@ Model@@ .get@@ (); init@@ Cons@@ ol@@ e(@@ sp@@ ice@@ Console@@ Model@@ ); sp@@ ice@@ Model@@ .@@ init@@ Cons@@ ol@@ e(); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { build@@ Vm@@ Data@@ (); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ Broker@@ VDS@@ Command.@@ log.@@ info@@ ("@@ {@@ } {@@ } {@@ "); create@@ Info@@ ); if ((@@ (@@ boolean@@ ) (org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Domain@@ X@@ M@@ L@@ , vm.get@@ CompatibilityVersion@@ ().get@@ Value(@@ )@@ )))) { org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der build@@ er = org.ovirt.engine.core.dao.@@ i.@@ In@@ j@@ ect@@ or.@@ in@@ j@@ ect@@ Mem@@ b@@ ers@@ (@@ new org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Builder@@ (c@@ reate@@ Info@@ , vm@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ Broker@@ VDS@@ Command.get@@ Vds@@ ().get@@ Id(), get@@ Run@@ On@@ ce@@ P@@ ay@@ load@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ Broker@@ VDS@@ Command.get@@ Parameters@@ ().is@@ V@@ ol@@ ati@@ le@@ Run@@ ())); java.lang.String l@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l = buil@@ der.@@ build@@ (); java.lang.String p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ Broker@@ VDS@@ Command.@@ p@@ ret@@ t@@ if@@ y@@ (@@ l@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ); if (p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l != null@@ ) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ Broker@@ VDS@@ Command.@@ log.@@ info@@ ("@@ {@@ } p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ); } create@@ Info@@ .@@ put@@ ("@@ x@@ ml@@ ", l@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ); } vm@@ Retur@@ n = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ Broker@@ VDS@@ Command.get@@ Broker@@ ().@@ c@@ re@@ ate(@@ create@@ Info@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ Broker@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ update@@ VM@@ Dynamic@@ Data@@ (vm@@ .get@@ Dynamic@@ Data@@ (), vm@@ Return@@ .@@ vm@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Create@@ Broker@@ VDS@@ Command.get@@ Vds@@ ()); }
@@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Templ@@ ate(@@ "@@ <@@ d@@ i@@ v@@ >@@ {0@@ }@@ ' st@@ y@@ le@@ =@@ '@@ {@@ 1@@ }@@ '@@ {@@ 2@@ }@@ '@@ {@@ 3@@ }@@ <@@ /@@ a@@ >@@ {@@ 3@@ }@@ <@@ /@@ a@@ >@@ "@@ <@@ /@@ d@@ i@@ v@@ >@@ "@@ )) com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l contain@@ er@@ And@@ Lin@@ e(@@ c@@ el@@ l@@ Sty@@ le@@ , java.lang.String c@@ el@@ l@@ Id, java.lang.String lin@@ k@@ Id, com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ ex@@ t ex@@ t = null@@ ; t@@ ex@@ t = '@@ {@@ 2@@ }@@ '@@ {@@ 3@@ }@@ <@@ /@@ a@@ >@@ {@@ 3@@ }@@ <@@ /@@ a@@ >@@ "@@ <@@ /@@ d@@ i@@ v@@ >@@ "@@ )) com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l contain@@ er@@ And@@ Lin@@ e(@@ c@@ el@@ l@@ Sty@@ le@@ , java.lang.String c@@ el@@ l@@ Id, java.lang.String lin@@ k@@ Id, com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ ex@@ t ? com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l : t@@ ex@@ t ? com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l t@@ ex@@ t : c@@ el@@ l@@ Element@@ Id@@ )); }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ Cont@@ ex@@ t cont@@ ext@@ , java.lang.String value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der sb@@ , java.lang.String id@@ ) { if (@@ valu@@ e != null@@ ) { com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l s@@ afe@@ Valu@@ e = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (@@ valu@@ e); sb@@ .@@ append@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ c@@ luster.@@ Cluster@@ Status@@ Column@@ .@@ const@@ an@@ t@@ s.@@ name@@ M@@ AC@@ C@@ el@@ l.@@ templat@@ es@@ (), id@@ ); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { m@@ and@@ ator@@ y@@ (cluster@@ ().@@ nam@@ e()); or@@ (@@ m@@ and@@ ator@@ y@@ (cluster@@ ().@@ dataCenter@@ ().@@ id@@ ()), m@@ and@@ ator@@ y@@ (cluster@@ ().@@ dataCenter@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (cluster@@ ().@@ cpu@@ ().@@ typ@@ e()); o@@ ption@@ al@@ (cluster@@ ().@@ b@@ alloon@@ ing@@ Enabled@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ c@@ omm@@ ent@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ cpu@@ ().@@ arch@@ it@@ ect@@ ur@@ e()); o@@ ption@@ al@@ (cluster@@ ().@@ d@@ escription@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ dis@@ play@@ ().@@ pro@@ xy@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ error@@ Handl@@ ing@@ ().@@ on@@ Error@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ f@@ enc@@ ing@@ Policy@@ ().@@ en@@ abl@@ ed@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ f@@ enc@@ ing@@ Policy@@ ().@@ s@@ k@@ ip@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ ().@@ en@@ abl@@ ed@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ f@@ enc@@ ing@@ Policy@@ ().@@ s@@ k@@ ip@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ ().@@ th@@ resh@@ old@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ f@@ enc@@ ing@@ Policy@@ ().@@ s@@ k@@ ip@@ If@@ S@@ d@@ Acti@@ v@@ e().@@ en@@ abl@@ ed@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ gluster@@ Servic@@ e()); o@@ ption@@ al@@ (cluster@@ ().@@ ha@@ Res@@ er@@ va@@ tion@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ en@@ abl@@ ed@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ m@@ er@@ g@@ e@@ Ac@@ ro@@ s@@ Nod@@ es@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ m@@ a@@ int@@ en@@ ance@@ Reason@@ Re@@ qui@@ red@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ mem@@ ory@@ C@@ omm@@ it@@ ().@@ per@@ cent@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ mem@@ ory@@ Policy@@ ().@@ trans@@ parent@@ H@@ ug@@ e@@ P@@ ages@@ ().@@ en@@ abl@@ ed@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ th@@ rea@@ ds@@ As@@ C@@ or@@ es@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ tr@@ ust@@ ed@@ Servic@@ e()); o@@ ption@@ al@@ (cluster@@ ().@@ manage@@ ment@@ Network@@ ().@@ manage@@ ment@@ Network@@ ().@@ manage@@ ment@@ Network@@ (cluster@@ ().@@ manage@@ ment@@ Network@@ (), o@@ ption@@ al@@ (cluster@@ ().@@ manage@@ ment@@ Network@@ ()), o@@ ption@@ al@@ (cluster@@ ().@@ manage@@ ment@@ Network@@ ()), o@@ ption@@ al@@ (cluster@@ ().@@ manage@@ ment@@ Network@@ Util@@ s.get@@ Entity@@ (), o@@ ption@@ al@@ Cluster@@ ().get@@ nam@@ e())); o@@ ption@@ al@@ (cluster@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (cluster@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (cluster@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (cluster@@ ().@@ nam@@ e(); }
@java.lang.Override public void on@@ Lo@@ ad@@ () { super@@ .@@ on@@ Lo@@ ad@@ (); key@@ Handl@@ er = com.google.gwt.@@ user.@@ client.@@ Ev@@ ent.@@ add@@ N@@ ati@@ ve@@ Pre@@ view@@ Handler@@ (@@ "@@ event@@ ) -@@ > { com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event native@@ Event = event.@@ get@@ N@@ ati@@ ve@@ Event@@ (); if ((@@ b@@ read@@ C@@ r@@ um@@ b@@ s) != null@@ ) { if ((@@ event.@@ get@@ Type@@ Int@@ ()) == Ev@@ ent.@@ ON@@ K@@ E@@ Y@@ DO@@ W@@ N@@ ) { if ((@@ (@@ native@@ Ev@@ ent.@@ get@@ Ch@@ ar@@ Cod@@ e()) == '@@ s@@ '@@ ) || (@@ native@@ Ev@@ ent.@@ get@@ Key@@ Cod@@ e()) == Key@@ Cod@@ es.@@ K@@ E@@ Y_@@ S@@ )) { if (@@ native@@ Ev@@ ent.@@ get@@ C@@ tr@@ l@@ Key@@ ()) && (@@ native@@ Ev@@ ent.@@ get@@ Al@@ t@@ Key@@ ())) { native@@ Ev@@ ent.@@ pre@@ vent@@ Default@@ (); native@@ Ev@@ ent.@@ st@@ op@@ Pro@@ p@@ ag@@ ation@@ (); this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ s.@@ t@@ og@@ g@@ le@@ Search@@ (); event.@@ cancel@@ (); } else if ((!@@ (@@ this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ s.@@ is@@ Search@@ Visi@@ bl@@ e())) && (@@ native@@ Ev@@ ent.@@ get@@ Key@@ Cod@@ e()) == Key@@ Cod@@ es.@@ K@@ E@@ Y_@@ DO@@ W@@ N@@ )) { native@@ Ev@@ ent.@@ pre@@ vent@@ Default@@ (); native@@ Ev@@ ent.@@ st@@ op@@ Pro@@ p@@ ag@@ ation@@ (); this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ s.@@ ne@@ xt@@ Entity@@ (); event.@@ cancel@@ (); } else if ((!@@ (@@ this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ s.@@ is@@ Search@@ Visi@@ bl@@ e())) && (@@ native@@ Ev@@ ent.@@ get@@ Key@@ Cod@@ e()) == Key@@ Cod@@ )) { native@@ Ev@@ ent.@@ pre@@ vent@@ Default@@ (); native@@ Ev@@ ent.@@ st@@ op@@ Pro@@ p@@ ag@@ ation@@ (); this@@ .@@ b@@ read@@ C@@ r@@ um@@ b@@ s.@@ pre@@ vi@@ o@@ us@@ Entity@@ (); event.@@ cancel@@ (); event.@@ cancel@@ (); } } }); if ((@@ b@@ read@@ C@@ r@@ um@@ b@@ s) != null@@ ) && ((@@ b@@ s@@ Cont@@ ain@@ er@@ .get@@ Widget@@ Count@@ ()) == 0@@ )) { b@@ read@@ C@@ r@@ um@@ b@@ s.@@ as@@ Widget@@ ().get@@ Element@@ ().get@@ Element@@ ().get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ H@@ e@@ ig@@ ht@@ (@@ 8@@ 3@@ , Un@@ it.@@ P@@ X@@ ); b@@ read@@ C@@ r@@ um@@ b@@ s@@ Cont@@ ain@@ er.@@ add(@@ b@@ s); } b@@ s); }
private void re@@ fresh@@ Rep@@ os@@ If@@ N@@ e@@ ed@@ ed(@@ org.ovirt.engine.core.compat.Guid storageDomain@@ Id, org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ File@@ Type image@@ Type, java.lang.@@ B@@ oolean for@@ ce@@ Refresh@@ ) { org.apache.commons.lang.@@ m@@ ut@@ abl@@ e.@@ M@@ ut@@ able@@ L@@ on@@ g l@@ ast@@ Refresh@@ ed = do@@ m@@ ain@@ s@@ L@@ ast@@ Refresh@@ ed@@ Tim@@ e.c@@ om@@ put@@ e@@ If@@ Ab@@ s@@ ent@@ (@@ storageDomain@@ Id, ("@@ k@@ ) -@@ > new org.apache.commons.lang.@@ m@@ ut@@ abl@@ e.@@ M@@ ut@@ able@@ L@@ on@@ g@@ ((@@ -@@ 1@@ ))); if (@@ sh@@ oul@@ d@@ For@@ ce@@ Refresh@@ (@@ for@@ ce@@ Re@@ f@@ res@@ h@@ )) || (@@ sh@@ oul@@ d@@ In@@ validate@@ C@@ ach@@ e(@@ l@@ ast@@ Refresh@@ ed@@ .@@ long@@ Valu@@ e()@@ ))) { synchronized@@ (@@ l@@ ast@@ Refresh@@ ed@@ ) { if (@@ for@@ ce@@ Re@@ f@@ res@@ h || (@@ sh@@ oul@@ d@@ In@@ validate@@ C@@ ach@@ e(@@ l@@ ast@@ Refresh@@ ed@@ .@@ long@@ Valu@@ e()@@ ))) { boolean re@@ fresh@@ Succeed@@ ed = re@@ fresh@@ Rep@@ o@@ s(@@ storageDomain@@ Id, image@@ Type@@ ); l@@ ast@@ Refresh@@ ed@@ .set@@ Value(@@ java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ ()); if (!@@ re@@ fresh@@ Succeeded@@ ) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ IM@@ AG@@ E@@ S_@@ NOT_@@ SUPPORT@@ ED_@@ ER@@ R@@ OR@@ ); } } } }
@java.lang.Override public int comp@@ ar@@ e(@@ java.lang.@@ Comp@@ ar@@ able a@@ , java.lang.@@ Comp@@ ar@@ able b@@ ) { if (@@ a == null@@ ) { return b == null ? 0 : null@@ F@@ ir@@ s@@ t ? -@@ 1 : 1@@ ; } else if (@@ b == null@@ ) { return null@@ F@@ ir@@ s@@ t ? 1 : -@@ 1@@ ; } else { return a.@@ comp@@ are@@ To@@ (@@ b@@ ); } }
private void update@@ Move@@ W@@ arning@@ (@@ java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ > disk@@ s) { java.util.List<java.lang.String> l@@ ive@@ Migr@@ ate@@ Disk@@ s = new java.util.ArrayList<@@ >(); for (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model disk@@ Model : disk@@ s) { if (disk@@ Model@@ .is@@ Plug@@ ged@@ To@@ Run@@ ning@@ Vm@@ ()) { l@@ ive@@ Migr@@ ate@@ Disk@@ s.add(@@ disk@@ Model.get@@ Alias@@ ().getEntity@@ ()); } } if (!(@@ l@@ ive@@ Migr@@ ate@@ Disk@@ s.@@ isEmpty())) { set@@ Message@@ (@@ mess@@ ages.@@ m@@ ove@@ Disks@@ W@@ h@@ il@@ e@@ Vm@@ Run@@ ning@@ (@@ l@@ ive@@ Migr@@ ate@@ Disk@@ s, disk@@ Model.get@@ Is@@ Plug@@ ged@@ To@@ Run@@ ning@@ Vm@@ (), disk@@ Model.get@@ Is@@ Plug@@ ged@@ To@@ Run@@ ning@@ Vm@@ ()); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Snapshot@@ Model model@@ ) { d@@ ri@@ v@@ er.@@ edit@@ (model@@ ); if ((@@ model.@@ is@@ Sh@@ ow@@ Memory@@ Snapshot@@ W@@ arning@@ ()) && (!(@@ model.@@ is@@ Sh@@ ow@@ Par@@ ti@@ al@@ Snapshot@@ W@@ arning@@ ()))) { com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ Sty@@ l@@ e d@@ ial@@ og@@ Sty@@ l@@ e = get@@ Parent@@ ().get@@ Parent@@ ().get@@ Element@@ ().get@@ Sty@@ l@@ e(); d@@ ial@@ og@@ Sty@@ l@@ e.set@@ W@@ id@@ th@@ (@@ 4@@ 5@@ 0@@ , Sty@@ l@@ e.@@ Un@@ it.@@ P@@ X@@ ); d@@ ial@@ og@@ Sty@@ l@@ e.set@@ H@@ e@@ ig@@ ht@@ (@@ 2@@ 4@@ 0@@ , Sty@@ l@@ e.@@ Un@@ it.@@ P@@ X@@ ); } par@@ ti@@ al@@ Snapshot@@ W@@ arning@@ Panel@@ .set@@ Visi@@ bl@@ e(@@ model.@@ is@@ Sh@@ ow@@ Par@@ ti@@ al@@ Snapshot@@ W@@ arning@@ ()); mem@@ ory@@ W@@ arning@@ Panel@@ .set@@ Visi@@ bl@@ e(@@ model.@@ is@@ Sh@@ ow@@ Memory@@ Snapshot@@ W@@ arning@@ ()); if ((@@ model.get@@ O@@ l@@ d@@ Cluster@@ Version@@ Of@@ Snapshot@@ With@@ Memory@@ ()) != null@@ ) { message@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Vm@@ Snapshot@@ Pre@@ view@@ Popup@@ Widget@@ .@@ mess@@ ages.@@ snapshot@@ Cont@@ ain@@ s@@ Memory@@ In@@ c@@ ompati@@ bl@@ e@@ Cluster@@ (model.get@@ O@@ l@@ d@@ Cluster@@ Version@@ Of@@ Snapshot@@ Memory@@ ().@@ toString@@ ())); model.get@@ Memory@@ ().set@@ Entity@@ (@@ false@@ ); } h@@ or@@ iz@@ on@@ t@@ al@@ Se@@ par@@ ator@@ .set@@ Visi@@ bl@@ e@@ (((@@ model.@@ is@@ Sh@@ ow@@ Par@@ ti@@ al@@ Snapshot@@ W@@ arning@@ ()) && (@@ model.@@ is@@ Sh@@ ow@@ Memory@@ Snapshot@@ W@@ arning@@ ()))); vm@@ Disks@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ vm@@ .@@ Vm@@ Snapshot@@ Pre@@ view@@ Popup@@ Widget@@ .@@ mess@@ ages.@@ vm@@ Disks@@ Label@@ (model.get@@ Vm@@ Disks@@ ().@@ siz@@ e(), org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q@@ .get@@ Disk@@ Alias@@ es(@@ model.get@@ Vm@@ Disks@@ ())); }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk object@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (@@ object@@ )); return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (disk@@ Image.get@@ Stor@@ ages@@ Names@@ (), get@@ T@@ oolti@@ p@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ abel@@ ) { java.lang.String host@@ Name@@ s = get@@ Host@@ Nam@@ es(@@ l@@ abel@@ ).@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ if (@@ host@@ Nam@@ es.@@ isEmpty@@ ()) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Abstract@@ Sub@@ Tab@@ A@@ f@@ fin@@ ity@@ Label@@ s@@ View@@ .@@ const@@ an@@ t@@ s.@@ af@@ fin@@ ity@@ Label@@ s@@ No@@ Mem@@ b@@ ers@@ (); } return host@@ Names@@ ; }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l l@@ abel@@ ) { java.lang.String vm@@ Name@@ s = getVm@@ Nam@@ es(@@ l@@ abel@@ ).@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ if (vm@@ Nam@@ es.@@ isEmpty@@ ()) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Abstract@@ Sub@@ Tab@@ A@@ f@@ fin@@ ity@@ Label@@ s@@ View@@ .@@ const@@ an@@ t@@ s.@@ af@@ fin@@ ity@@ Label@@ s@@ No@@ Mem@@ b@@ ers@@ (); } return vm@@ Names@@ ; }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk object@@ ) { if ((@@ object.get@@ Num@@ ber@@ Of@@ Vms@@ ()) < 2@@ ) { return null@@ ; } return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (@@ object.get@@ Vm@@ Names@@ (), object.get@@ Vm@@ Names@@ (), object.get@@ Vm@@ Names@@ ()); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.@@ scheduling.@@ A@@ f@@ fin@@ ity@@ Group group@@ ) { java.lang.String vm@@ Name@@ s = getVm@@ Nam@@ es(@@ group@@ )); java.lang.String st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ st@@ re@@ am@@ .@@ isEmpty@@ ()) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Abstract@@ Sub@@ Tab@@ A@@ f@@ fin@@ ity@@ Group@@ s@@ View@@ .@@ const@@ an@@ t@@ s.@@ no@@ Mem@@ b@@ ers@@ A@@ f@@ fin@@ ity@@ Group@@ (); } return vm@@ Names@@ ; }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.@@ scheduling.@@ A@@ f@@ fin@@ ity@@ Group group@@ ) { java.lang.String host@@ Name@@ s = get@@ Host@@ Nam@@ es(@@ group@@ ).@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ host@@ Nam@@ es.@@ isEmpty@@ ()) { return org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ Abstract@@ Sub@@ Tab@@ A@@ f@@ fin@@ ity@@ Group@@ s@@ View@@ .@@ const@@ an@@ t@@ s.@@ no@@ Mem@@ b@@ ers@@ A@@ f@@ fin@@ ity@@ Group@@ (); } return host@@ Names@@ ; }
private void volume@@ SelectedItem@@ Changed@@ () { org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volum@@ e = get@@ Gluster@@ Volum@@ es@@ ().get@@ SelectedItem@@ (); java.lang.@@ B@@ oolean us@@ e@@ Link@@ Gluster@@ Volum@@ e = get@@ Link@@ Gluster@@ Volum@@ e().get@@ Entity@@ (); java.lang.String m@@ ount@@ Option@@ s = "@@ ; if ((@@ volum@@ e == null@@ ) || (!@@ us@@ e@@ Link@@ GlusterVolume@@ )) { return@@ ; } java.util.Set@@ <java.lang.String@@ > add@@ ress@@ Se@@ t = new java.util.@@ Link@@ ed@@ Hash@@ Set@@ <@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity b@@ r@@ ic@@ k : volum@@ e.get@@ Brick@@ s()) { add@@ ress@@ Set@@ .@@ add@@ ((((@@ brick@@ .get@@ Network@@ Id()) != null@@ ) && (!(@@ brick@@ .get@@ Network@@ Address@@ ().@@ isEmpty())) ? brick@@ .get@@ Network@@ Address@@ () : brick@@ .get@@ Server@@ Name()@@ )); } java.util.List<java.lang.String> add@@ ress@@ List = new java.util.ArrayList<@@ >(); add@@ ress@@ Lis@@ t.@@ add@@ All@@ (@@ add@@ ress@@ Set@@ ); if ((@@ add@@ ress@@ Lis@@ t.@@ size()) >@@ = 1@@ ) { add@@ ress@@ Lis@@ t.@@ remov@@ e(@@ 0@@ ); } if ((@@ add@@ ress@@ Lis@@ t.@@ size()) > 0) { m@@ ount@@ Option@@ s = ((@@ org.ovirt.engine.core.c@@ ommon@@ .@@ const@@ an@@ t@@ s.@@ Storage@@ Constant@@ s.@@ GLUSTER_@@ B@@ AC@@ K@@ UP@@ _@@ S@@ ER@@ V@@ ER@@ S@@ _M@@ N@@ T_@@ O@@ P@@ TI@@ ON@@ ) + "@@ =@@ ") + (@@ add@@ ress@@ Lis@@ t.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ "@@ :@@ "@@ )@@ ))); } get@@ M@@ ount@@ Option@@ s@@ ().set@@ Entity(@@ m@@ ount@@ Option@@ s); }
private java.lang.String create@@ Active@@ Bond@@ T@@ oolti@@ p@@ Message@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ B@@ on@@ d bond@@ , org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ Lin@@ e@@ Model lin@@ e@@ Model) { java.util.List<java.lang.String> bond@@ Proper@@ ti@@ es = new java.util.ArrayList<@@ >(); java.lang.String ad@@ P@@ art@@ n@@ er@@ Ma@@ c = java.util.@@ Object@@ s.@@ toString@@ (@@ bond@@ .get@@ Ad@@ P@@ art@@ n@@ er@@ Mac@@ (), "@@ "); bond@@ Properties.@@ add(@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Bond@@ Panel@@ .@@ mess@@ ages.@@ bond@@ Ad@@ P@@ art@@ n@@ er@@ Mac@@ (@@ ad@@ P@@ art@@ n@@ er@@ Mac@@ )); java.lang.String ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id = java.util.@@ Object@@ s.@@ toString@@ (@@ bond@@ .get@@ Ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id(), "@@ "); bond@@ Properties.@@ add(@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Bond@@ Panel@@ .@@ mess@@ ages.@@ bond@@ Ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id(@@ ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id@@ )); for (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface n@@ ic : lin@@ e@@ Model.get@@ Interfaces@@ ()) { java.lang.String nic@@ Name = nic@@ .get@@ Nam@@ e(); java.lang.String nic@@ Ag@@ g@@ re@@ g@@ ator@@ Id = java.util.@@ Object@@ s.@@ toString@@ (@@ nic@@ .get@@ Interfac@@ e().get@@ Ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id(), "@@ "); bond@@ Properties.@@ add(@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Bond@@ Panel@@ .@@ mess@@ ages.@@ bond@@ S@@ lave@@ Ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id(@@ nic@@ Name, nic@@ Ag@@ g@@ re@@ g@@ ator@@ Id@@ )); } return bond@@ Properties.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ "@@ \@@ n@@ "); }
@java.lang.Override protected java.lang.String get@@ W@@ arning@@ (@@ java.util.List<java.lang.String> disk@@ s) { return mess@@ ages.@@ can@@ not@@ Move@@ Disks@@ (@@ disk@@ s, st@@ re@@ am@@ ().@@ st@@ re@@ am@@ ().@@ or@@ El@@ se@@ (@@ false@@ , true@@ ); }
public static org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > get@@ Q@@ out@@ a@@ Column@@ (java.lang.String s@@ ort@@ By@@ ) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > c@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk object@@ ) { java.lang.String valu@@ e = "@@ "@@ ; if ((@@ object.get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (@@ object@@ )); java.util.ArrayList<@@ java.lang.String> quota@@ Names@@ Ar@@ r = disk@@ Image.get@@ Quota@@ Names@@ (); if (@@ quota@@ Names@@ Ar@@ r != null@@ ) { valu@@ e = quota@@ Names@@ Arr@@ .@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ , "); } } return value@@ ; } }; return org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ disk@@ s.@@ Disks@@ View@@ Column@@ s.@@ ma@@ ke@@ S@@ ort@@ able(@@ c@@ olumn@@ , s@@ ort@@ By@@ ); }
private void sh@@ ow@@ Remove@@ Template@@ With@@ De@@ p@@ end@@ ent@@ VM@@ Confirmation@@ W@@ in@@ do@@ w@@ (@@ java.util.Map<java.lang.String, java.util.List<@@ java.lang.String@@ >> pro@@ bl@@ em@@ ati@@ c@@ Vm@@ Names@@ ) { java.util.List<java.lang.String> mis@@ sing@@ Templat@@ es@@ From@@ Vm@@ s = pro@@ bl@@ em@@ ati@@ c@@ Vm@@ Nam@@ es.@@ e@@ n@@ try@@ Set@@ ().@@ st@@ re@@ am@@ ().@@ map@@ (@@ ( e) -@@ > org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Template@@ Back@@ up@@ Model.@@ mess@@ ages.@@ templat@@ es@@ With@@ De@@ p@@ end@@ ent@@ VM@@ s(@@ e.get@@ Key@@ (), e.get@@ Value(@@ ), get@@ Hash@@ Name("@@ remove@@ _@@ back@@ ed@@ _@@ template@@ "); confi@@ rm@@ Model@@ .set@@ Message@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Template@@ Back@@ up@@ Model@@ .@@ const@@ an@@ t@@ s.@@ th@@ e@@ F@@ ol@@ low@@ ing@@ Templat@@ es@@ H@@ ave@@ De@@ p@@ end@@ ent@@ Vms@@ On@@ Export@@ Domain@@ M@@ s@@ g@@ ()); confi@@ rm@@ Model@@ .set@@ Items(@@ mis@@ sing@@ Templat@@ es@@ From@@ Vm@@ s); confi@@ rm@@ Model.get@@ Command@@ s().add(@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Default@@ O@@ k@@ U@@ i@@ Command@@ ("@@ Remove@@ Vm@@ Templat@@ es@@ ", this@@ )); confi@@ rm@@ Model.get@@ Command@@ s().add(@@ org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command.@@ create@@ Cancel@@ U@@ i@@ Command(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ C@@ AN@@ C@@ E@@ L@@ _C@@ ON@@ FI@@ R@@ M@@ A@@ TION_@@ C@@ O@@ M@@ AN@@ D@@ , this@@ )); }
public static java.lang.String get@@ Disk@@ Label@@ List(@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ s) { if (disk@@ s.@@ isEmpty@@ ()) { return null@@ ; } final java.util.List<java.lang.String> l@@ abel@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk dis@@ k : disk@@ s) { l@@ abel@@ s.add(@@ disk@@ .get@@ Disk@@ Alias@@ ()); } return l@@ abel@@ s@@ ; }
private void update@@ Properties@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k = get@@ Entity@@ (); set@@ Image@@ (disk@@ .get@@ Disk@@ Storage@@ Typ@@ e().@@ is@@ Internal@@ ()); set@@ Lun@@ (((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ LUN@@ ))); set@@ Alias@@ (disk@@ .get@@ Disk@@ Alias@@ ()); set@@ Description@@ (disk@@ .get@@ Disk@@ Description@@ ()); set@@ Disk@@ Id(@@ disk@@ .get@@ Id().@@ toString@@ ()); if ((@@ disk@@ .get@@ L@@ ast@@ Al@@ ign@@ ment@@ S@@ can@@ ()) != null@@ ) { java.lang.String l@@ ast@@ S@@ can@@ Dat@@ e = com.google.gwt.@@ i18n@@ .client.@@ D@@ ate@@ Time@@ For@@ ma@@ t.get@@ Format@@ ("@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ (disk@@ (disk@@ .get@@ L@@ ast@@ Al@@ ign@@ ment@@ S@@ can@@ ()); } else { set@@ Al@@ ign@@ ment@@ (disk@@ .get@@ Al@@ ign@@ ment@@ ().@@ toString@@ ()); } set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ disk@@ .is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()); if (is@@ Image@@ ()) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ )); set@@ Disk@@ Profile@@ Name(@@ disk@@ Image.get@@ Disk@@ Profile@@ Names@@ ().@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ disk@@ Image.get@@ Quota@@ Names@@ (), disk@@ Image.get@@ Quota@@ Names@@ (), l@@ ast@@ S@@ can@@ D@@ ate@@ )); } else { set@@ Al@@ ign@@ ment@@ (disk@@ .get@@ Al@@ ign@@ ment@@ ().@@ toString@@ ()); } set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ disk@@ .is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()); if (is@@ Image@@ ()) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ )); set@@ Disk@@ Profile@@ Name(@@ disk@@ Image.get@@ Disk@@ Profile@@ Names@@ ().@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ l@@ abel@@ )); set@@ Quota@@ Name(@@ disk@@ Image.get@@ Quota@@ E@@ n@@ for@@ c@@ ement@@ Typ@@ e().@@ equals(@@ Quota@@ E@@ n@@ for@@ c@@ ement@@ Type@@ Enum@@ .@@ DIS@@ AB@@ L@@ ED@@ )@@ ))); } else if (is@@ Lun@@ ()) { org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk lun@@ Disk = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ Lun@@ Disk@@ ) (disk@@ )); set@@ Lun@@ Id(@@ lun@@ Disk@@ .get@@ Lun@@ ().get@@ LUN@@ Id()); } }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.storage.@@ Disk object@@ ) { java.lang.String valu@@ e = "@@ "@@ ; if ((@@ object.get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (@@ object@@ )); java.util.ArrayList<@@ java.lang.String> quota@@ Names@@ Ar@@ r = disk@@ Image.get@@ Quota@@ Names@@ (); if (@@ quota@@ Names@@ Ar@@ r != null@@ ) { valu@@ e = quota@@ Names@@ Arr@@ .@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ , "); } } return value@@ ; }
private void update@@ C@@ urrent@@ Value@@ (@@ final java.util.List<@@ T@@ > value@@ , boolean fi@@ re@@ Event@@ s) { l@@ ast@@ Value@@ s = value@@ ; java.util.List<java.lang.String> r@@ ender@@ ed@@ Value@@ s = new java.util.ArrayList<@@ >(); for (@@ T va@@ l : value) { r@@ ender@@ ed@@ Values.@@ add(@@ org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ ListModel@@ Multiple@@ Sel@@ ect@@ List@@ B@@ o@@ x@@ .get@@ R@@ ender@@ er@@ ().@@ r@@ ender@@ (@@ java.util.Arrays.as@@ List(@@ val@@ ))); } java.lang.String r@@ ender@@ ed@@ Valu@@ e = r@@ ender@@ ed@@ Value@@ s.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ "@@ ,@@ "); if (@@ org.ovirt.engine.ui.uicompat.@@ ex@@ ternal@@ .@@ StringUtils.@@ isEmpty@@ (@@ r@@ ender@@ ed@@ Value@@ )) { r@@ ender@@ ed@@ Valu@@ e = N@@ B@@ SP@@ ; } else { r@@ ender@@ ed@@ Valu@@ e = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ ht@@ ml@@ E@@ s@@ c@@ ap@@ e(@@ r@@ ender@@ ed@@ Value@@ ); } ((@@ com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ Element@@ ) (@@ d@@ ro@@ p@@ do@@ wn@@ Button@@ .get@@ Element@@ ().get@@ Ch@@ il@@ d@@ (0@@ )@@ )@@ .set@@ In@@ n@@ er@@ H@@ T@@ M@@ L@@ (@@ r@@ ender@@ ed@@ Value@@ ); d@@ ro@@ p@@ do@@ wn@@ Button@@ .set@@ Title(@@ r@@ ender@@ ed@@ Value@@ ); com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ f@@ err@@ ed@@ ((@@ ) -@@ > org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ list@@ Panel@@ .set@@ Selected@@ (@@ value@@ )); if (@@ fi@@ re@@ Event@@ s) { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ f@@ err@@ ed@@ ((@@ -@@ > { com.google.gwt.@@ event.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , selected@@ Item@@ s()); l@@ ast@@ Value@@ s = null@@ ; } else { l@@ ast@@ Value@@ s = null@@ ; } }
protected void handl@@ e@@ Set@@ Message@@ Query@@ Result@@ (@@ org.ovirt.engine.ui.uicompat.@@ Frontend@@ Multiple@@ Query@@ Async@@ Result result) { set@@ Help@@ Tag@@ (get@@ Remove@@ Qos@@ Help@@ Tag@@ ()); set@@ Hash@@ Name(@@ get@@ Remove@@ Qos@@ Hash@@ Name()); int in@@ de@@ x = 0@@ ; int num@@ ber@@ Of@@ Tim@@ es@@ Us@@ ed@@ By@@ Disk@@ Profile@@ s = 0@@ ; java.util.ArrayList<@@ java.lang.String> lis@@ t = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.@@ queries.@@ Query@@ ReturnValue return@@ Valu@@ e : result.get@@ ReturnValu@@ es@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Name@@ able@@ > disk@@ Profile@@ Enti@@ ti@@ es = return@@ Valu@@ e.get@@ ReturnValu@@ e(); java.lang.String qos@@ Name = source@@ ListModel@@ .get@@ SelectedItem@@ s().get@@ (@@ in@@ dex@@ ).get@@ Nam@@ e(); if ((@@ disk@@ Profile@@ Enti@@ ties.@@ size()) == 0) { lis@@ t.add(@@ qos@@ Name@@ ); } else { num@@ ber@@ Of@@ Tim@@ es@@ Us@@ ed@@ By@@ Disk@@ Profile@@ s +@@ = disk@@ Profile@@ Enti@@ ties.@@ siz@@ e(); java.util.List<java.lang.String> disk@@ Profile@@ Name@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Name@@ able disk@@ Profile@@ Entity : disk@@ Profile@@ Enti@@ ties@@ ) { java.lang.String disk@@ Profile@@ Name = disk@@ Profile@@ Entity@@ .get@@ Nam@@ e(); disk@@ Profile@@ Nam@@ es.@@ add(@@ disk@@ Profile@@ Name@@ ); } java.lang.String disk@@ Profile@@ Names@@ As@@ Strin@@ g = disk@@ Profile@@ Name@@ s.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ lis@@ t.add(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().get@@ Messages@@ ().@@ remove@@ Storage@@ QoS@@ Item@@ (@@ qos@@ Name, disk@@ Profile@@ Names@@ As@@ String@@ )); } in@@ dex@@ +@@ +@@ ; } set@@ Message@@ (get@@ Remove@@ Qos@@ Message@@ (@@ num@@ ber@@ Of@@ Tim@@ es@@ Us@@ ed@@ By@@ Disk@@ Profil@@ es@@ )); set@@ Items(@@ list@@ ); }
@java.lang.Override public org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult validate(@@ java.lang.Object value) { org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult result = new org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult@@ (); if (!(@@ org.ovirt.engine.core.common.utils.@@ Object@@ Utils.@@ object@@ s@@ E@@ qual@@ (@@ value@@ ))) { org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult result = new org.ovirt.engine.ui.uicommonweb.validation.@@ ValidationRes@@ ult@@ (); res@@ ult.@@ set@@ Success@@ (@@ false@@ ); result.get@@ Reason@@ s().add(@@ org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ in@@ valid@@ Em@@ ail@@ Address@@ In@@ valid@@ Reason@@ ()); } return result@@ ; }
@java.lang.Override protected java.lang.String get@@ W@@ arning@@ (@@ java.util.List<java.lang.String> disk@@ s) { return mess@@ ages.@@ can@@ not@@ Copy@@ Disks@@ (@@ disk@@ s, st@@ re@@ am@@ ().@@ st@@ re@@ am@@ ().@@ or@@ El@@ se@@ (@@ false@@ , true@@ ); }
private java.lang.String get@@ O@@ u@@ ter@@ Class@@ Names@@ () { java.util.Set@@ <java.lang.String@@ > class@@ Name@@ s = new java.util.@@ Link@@ ed@@ Hash@@ Set@@ <@@ >(); class@@ Nam@@ es.@@ add(@@ org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ T@@ oolti@@ p@@ Config.@@ Default@@ s.@@ T@@ EM@@ PL@@ AT@@ E_@@ C@@ L@@ A@@ S@@ S_@@ O@@ U@@ TER@@ ); class@@ Nam@@ es.@@ add@@ All@@ (@@ ex@@ tr@@ a@@ T@@ oolti@@ p@@ Class@@ Names@@ ); return get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); }
private void update@@ Disks@@ W@@ arning@@ By@@ Image@@ Status(@@ java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model@@ > disk@@ s, org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Statu@@ s image@@ Status@@ ) { java.util.ArrayList<@@ java.lang.String> disk@@ s@@ Alias@@ es = get@@ Disks@@ Alias@@ es@@ By@@ Image@@ Status@@ (disk@@ s, image@@ Status@@ ); if (!(@@ disk@@ s@@ Alias@@ es.@@ isEmpty())) { gener@@ al@@ W@@ arning@@ Mess@@ age.@@ set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ Abstract@@ Vm@@ Popup@@ Widget@@ .@@ mess@@ ages.@@ disk@@ s@@ Status@@ W@@ arning@@ (@@ org.ovirt.engine.ui.uicompat.@@ Enum@@ Trans@@ l@@ ator@@ .getInstance().@@ trans@@ l@@ ate(@@ image@@ Status@@ ), disk@@ s@@ Alias@@ es@@ Alias@@ es@@ , st@@ re@@ am@@ (), get@@ C@@ oll@@ ect@@ (@@ j@@ av@@ a@@ .@@ uti@@ l@@ ator@@ ); }
private void update@@ Pro@@ bl@@ em@@ ati@@ c@@ Disk@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Disk@@ Model disk@@ Model) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ Domain = disk@@ Model.get@@ StorageDomain@@ ().get@@ SelectedItem@@ (); if (@@ storage@@ Domain == null@@ ) { return@@ ; } java.lang.String disk@@ Al@@ i@@ a@@ s = disk@@ Model.get@@ Disk@@ ().get@@ Disk@@ Alias@@ (); if (@@ storageDomain@@ .get@@ Storage@@ Typ@@ e().@@ is@@ B@@ lock@@ Domain@@ ()) { if (!(@@ pro@@ bl@@ em@@ ati@@ c@@ Disks@@ For@@ W@@ ar@@ n@@ ing.@@ contains(@@ disk@@ Alias@@ ))) { pro@@ bl@@ em@@ ati@@ c@@ Disks@@ For@@ W@@ ar@@ n@@ ing.@@ add(@@ disk@@ Alias@@ ); } else { pro@@ bl@@ em@@ ati@@ c@@ Disks@@ For@@ W@@ ar@@ n@@ ing.@@ remov@@ e(@@ disk@@ Alias@@ ); } if (!(@@ pro@@ bl@@ em@@ ati@@ c@@ Disks@@ For@@ W@@ ar@@ n@@ ing.@@ isEmpty())) { get@@ Dynamic@@ W@@ arning@@ ().set@@ Entity(@@ mess@@ ages.@@ m@@ ove@@ Disks@@ Pre@@ al@@ loc@@ ated@@ W@@ arning@@ (@@ pro@@ bl@@ em@@ ati@@ c@@ Disks@@ For@@ W@@ ar@@ n@@ ing.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ $@@ c@@ inder@@ Disks@@ W@@ arning@@ ().setIs@@ Available@@ (@@ true@@ ); } else { get@@ Dynamic@@ W@@ arning@@ ().setIs@@ Available@@ (@@ false@@ ); } }
public java.lang.String trans@@ l@@ ate@@ Error@@ Text@@ Sing@@ l@@ e(@@ java.lang.String error@@ M@@ s@@ g@@ , java.lang.@@ B@@ oolean ch@@ ang@@ e@@ If@@ Not@@ F@@ ound@@ ) { java.lang.String re@@ t = "@@ "@@ ; try { if ((@@ error@@ M@@ s@@ g != null@@ ) && ((@@ error@@ M@@ s@@ g.@@ l@@ ength@@ ()) > 0@@ )) { java.lang.String err@@ M@@ s@@ g@@ C@@ op@@ y = error@@ M@@ s@@ g@@ ; if (!(@@ is@@ Dynamic@@ Var@@ i@@ able(@@ error@@ M@@ s@@ g@@ ))) { error@@ M@@ s@@ g = error@@ M@@ s@@ g.@@ re@@ plac@@ e(@@ '@@ .@@ '@@ , '@@ _@@ '@@ ); } java.lang.String error@@ s@@ Strin@@ g = error@@ s.get@@ String@@ (@@ error@@ M@@ s@@ g@@ ); if (@@ error@@ s@@ Strin@@ g != null@@ ) { re@@ t = error@@ s@@ g.@@ re@@ plac@@ e(@@ "@@ \@@ n@@ ", "@@ <@@ b@@ r@@ /@@ >@@ "); } else { if ((@@ is@@ Dynamic@@ Var@@ i@@ able(@@ error@@ M@@ s@@ g@@ )) || (!@@ ch@@ ang@@ e@@ If@@ Not@@ F@@ ound@@ )) { re@@ t = error@@ M@@ s@@ g@@ ; } else { error@@ M@@ s@@ g = err@@ M@@ s@@ g@@ Copy@@ ; java.lang.String@@ [@@ ] s@@ pl@@ it@@ t@@ ed = error@@ M@@ s@@ g.@@ to@@ L@@ ower@@ C@@ as@@ e().@@ s@@ pl@@ it@@ ("@@ _@@ "); re@@ t = java.util.Arrays.@@ st@@ re@@ am@@ (@@ s@@ pl@@ it@@ t@@ ed@@ )@@ .@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ _@@ "); } } } catch (@@ java.util.@@ M@@ is@@ sing@@ Resource@@ Exception e) { re@@ t = error@@ M@@ s@@ g@@ ; } return ret@@ ; }
private java.lang.String comp@@ o@@ se@@ Existing@@ Vms@@ W@@ arning@@ Message@@ (@@ java.util.List<@@ T@@ > existing@@ Vm@@ s) { final java.util.List<java.lang.String> lis@@ t = new java.util.ArrayList<@@ >(); for (@@ T t : existing@@ Vm@@ s) { lis@@ t.add(@@ ex@@ tr@@ act@@ Name@@ From@@ Entity(@@ t@@ )); } return org.ovirt.engine.ui.uicompat.@@ ex@@ ternal@@ .@@ StringUtils.@@ j@@ o@@ in@@ (@@ list@@ , ", "); }
public static java.lang.String r@@ ender@@ Vm@@ Names@@ List(@@ java.util.List<java.lang.String> nam@@ es) { return name@@ ; }
@java.lang.Override protected void on@@ SelectedItem@@ Changed@@ () { super@@ .@@ on@@ SelectedItem@@ Changed@@ (); java.util.@@ List selected@@ I@@ t@@ e@@ m = ((@@ java.util.@@ List@@ ) (get@@ SelectedItem@@ ())); if (s@@ elected@@ I@@ t@@ e@@ m != null@@ ) { java.util.ArrayList<@@ java.lang.String> item@@ s = new java.util.ArrayList<@@ >(); for (java.lang.Object it@@ e@@ m : selected@@ Item@@ ) { org.ovirt.engine.ui.uicommonweb.models.@@ a@@ ut@@ oc@@ omp@@ let@@ e.@@ Su@@ g@@ g@@ est@@ Item@@ P@@ art@@ Model i = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ a@@ ut@@ oc@@ omp@@ let@@ e.@@ Su@@ g@@ g@@ g@@ g@@ g@@ g@@ est@@ Item@@ P@@ art@@ Model) (@@ item@@ )); item@@ s.add(@@ i@@ .get@@ P@@ art@@ String@@ ()); } java.lang.String search@@ Strin@@ g = item@@ s.get@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ list@@ )); if ((get@@ Pre@@ fi@@ x@@ ()) != null@@ ) { search@@ Strin@@ g = search@@ Strin@@ g.@@ sub@@ st@@ ring@@ (get@@ Pre@@ fi@@ x@@ ().@@ l@@ ength@@ ()); } set@@ Search@@ String@@ (@@ search@@ String@@ ); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Sub@@ ne@@ t object@@ ) { return object.get@@ D@@ n@@ s@@ Server@@ s().get@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ (@@ object@@ ); }
private void update@@ All@@ C@@ lust@@ ers@@ Mac@@ Pool@@ () { final org.ovirt.engine.core.compat.Guid new@@ Mac@@ Pool@@ Id = org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.getParameters().get@@ StoragePool@@ ().get@@ Mac@@ Pool@@ Id@@ (); final boolean sh@@ oul@@ d@@ Set@@ New@@ Mac@@ Pool@@ On@@ All@@ Cluster@@ s = new@@ Mac@@ Pool@@ Id != null@@ ; if (@@ sh@@ oul@@ d@@ Set@@ New@@ Mac@@ Pool@@ On@@ All@@ C@@ lust@@ ers@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Cluster@@ > cluster@@ s = cluster@@ Dao@@ .get@@ AllFor@@ StoragePool@@ (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.get@@ StoragePool@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster : c@@ lust@@ ers@@ ) { if (@@ m@@ ove@@ Mac@@ s.@@ m@@ igr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ If@@ N@@ e@@ ed@@ ed@@ ed@@ ed@@ (cluster@@ , new@@ Mac@@ Pool@@ Id, org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.get@@ Context@@ ()); c@@ luster.@@ set@@ Mac@@ Pool@@ Id@@ (@@ new@@ Mac@@ Pool@@ Id); cluster@@ Dao@@ .@@ updat@@ e(@@ cluster@@ ); } }
public boolean m@@ igr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ If@@ N@@ e@@ ed@@ ed@@ (org.ovirt.engine.core.common.businessentities.@@ C@@ luster source@@ Cluster@@ , org.ovirt.engine.core.compat.Guid target@@ Mac@@ Pool@@ Id, org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t command@@ Context@@ ) { java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (s@@ ource@@ Cluster@@ ); java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (@@ target@@ Mac@@ Pool@@ Id); java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (command@@ Context@@ ); org.ovirt.engine.core.compat.Guid source@@ Mac@@ Pool@@ Id = source@@ Mac@@ Pool@@ Id@@ ; org.ovirt.engine.core.compat.Guid cluster@@ Id = source@@ Cluster@@ .get@@ Mac@@ Pool@@ Id@@ (); org.ovirt.engine.core.compat.Guid cluster@@ Id = source@@ Non@@ Null@@ (@@ source@@ Cluster@@ .getId@@ ()); boolean mac@@ Pool@@ Chang@@ ed = !@@ (s@@ ource@@ Mac@@ Pool@@ Id@@ .equals(@@ target@@ Mac@@ Pool@@ Id@@ ))) && (@@ mac@@ Pool@@ Changed@@ ) { java.util.List<java.lang.String> mac@@ sTo@@ Migr@@ at@@ e = vm@@ Nic@@ Dao@@ .get@@ All@@ Mac@@ sBy@@ Cluster@@ Id@@ (cluster@@ Id); m@@ igr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ Id, target@@ Mac@@ Pool@@ Id, mac@@ sTo@@ Migr@@ ate@@ , false@@ , command@@ Context@@ ); } return mac@@ Pool@@ Changed@@ ; }
private org.ovirt.engine.core.bll.ValidationResult can@@ Migr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ (@@ org.ovirt.engine.core.compat.Guid target@@ Mac@@ Pool@@ Id, java.util.List<java.lang.String> mac@@ sTo@@ Migr@@ at@@ e) { java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (@@ target@@ Mac@@ Pool@@ Id); java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (@@ mac@@ sTo@@ Migr@@ ate@@ ); org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool target@@ Pool = pool@@ Per@@ Cluster@@ .get@@ Mac@@ Pool@@ By@@ Id(@@ target@@ Mac@@ Pool@@ Id); if (@@ target@@ Poo@@ l.@@ is@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ Address@@ es@@ Allow@@ ed@@ ()) { return ValidationRes@@ ult.@@ VALID@@ ; } java.util.Map<java.lang.String, java.lang.@@ L@@ on@@ g@@ > oc@@ c@@ urr@@ ence@@ C@@ oun@@ t = mac@@ sTo@@ Migr@@ at@@ e.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ group@@ ing@@ By@@ (@@ java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ (), java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ c@@ ount@@ ing@@ ())); java.util.List<java.lang.String> pro@@ bl@@ em@@ ati@@ c@@ Mac@@ s = mac@@ sTo@@ Migr@@ at@@ e.@@ st@@ re@@ am@@ ().@@ d@@ ist@@ in@@ c@@ t@@ ().@@ filter@@ (@@ ( mac@@ ) -@@ > (@@ target@@ Pool@@ .get@@ Mac@@ In@@ Us@@ e(@@ mac@@ )) || ((@@ oc@@ c@@ urr@@ ence@@ C@@ oun@@ t.get@@ (@@ mac@@ )) > 1@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); org.ovirt.engine.core.common.errors.@@ EngineMess@@ age engin@@ e@@ Mess@@ age = ACTION_TYPE_FAILED_@@ C@@ AN@@ NO@@ T@@ _M@@ AC@@ S_@@ D@@ U@@ E_@@ T@@ O@@ _@@ D@@ UP@@ L@@ IC@@ AT@@ E@@ S@@ ; java.util.Collection@@ <java.lang.String@@ > re@@ plac@@ ement@@ s = org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Util@@ s.get@@ List@@ Var@@ i@@ able@@ As@@ s@@ ign@@ ment@@ String@@ (@@ engin@@ e@@ Message@@ , pro@@ bl@@ em@@ ati@@ c@@ Mac@@ s); return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (@@ engin@@ e@@ Message@@ , re@@ plac@@ ement@@ s@@ ).when@@ ((!@@ (@@ pro@@ bl@@ em@@ ati@@ c@@ Mac@@ s.@@ isEmpty@@ ()))); }
@org.junit.Test public void can@@ Migr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ W@@ h@@ en@@ Th@@ er@@ e@@ A@@ re@@ Th@@ er@@ e@@ W@@ on@@ t@@ Be@@ D@@ up@@ l@@ ic@@ at@@ es@@ () { when@@ (vm@@ Nic@@ Dao@@ .get@@ All@@ Mac@@ sBy@@ Cluster@@ Id@@ (cluster@@ .getId@@ ())@@ ).@@ thenReturn(@@ mac@@ sTo@@ Migr@@ ate@@ ); assert@@ That@@ (@@ un@@ der@@ Test.@@ can@@ Migr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ (cluster@@ , target@@ Mac@@ Pool@@ Id@@ ), is@@ Valid@@ ()); }
private void update@@ All@@ C@@ lust@@ ers@@ Mac@@ Pool@@ () { final org.ovirt.engine.core.compat.Guid new@@ Mac@@ Pool@@ Id = get@@ New@@ Mac@@ Pool@@ Id@@ (); if (@@ sh@@ oul@@ d@@ Set@@ New@@ Mac@@ Pool@@ On@@ All@@ Cluster@@ s(@@ new@@ Mac@@ Pool@@ Id@@ )) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Cluster@@ > cluster@@ s = cluster@@ Dao@@ .get@@ AllFor@@ StoragePool@@ (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.get@@ StoragePool@@ Id()); for (org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster : c@@ lust@@ ers@@ ) { m@@ ove@@ Mac@@ s.@@ m@@ igr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ If@@ N@@ e@@ ed@@ (cluster@@ , new@@ Mac@@ Pool@@ Id, org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Update@@ StoragePool@@ Command.get@@ Context@@ ()); c@@ luster.@@ set@@ Mac@@ Pool@@ Id@@ (@@ new@@ Mac@@ Pool@@ Id); cluster@@ Dao@@ .@@ updat@@ e(@@ cluster@@ ); } }
public void m@@ igr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ If@@ N@@ e@@ ed@@ ed@@ (org.ovirt.engine.core.common.businessentities.@@ C@@ luster source@@ Cluster@@ , org.ovirt.engine.core.compat.Guid target@@ Mac@@ Pool@@ Id, org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t command@@ Context@@ ) { java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (s@@ ource@@ Cluster@@ ); java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (@@ target@@ Mac@@ Pool@@ Id); java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (command@@ Context@@ ); org.ovirt.engine.core.compat.Guid source@@ Mac@@ Pool@@ Id = java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (s@@ ource@@ Cluster@@ .get@@ Mac@@ Pool@@ Id()); org.ovirt.engine.core.compat.Guid cluster@@ Id = java.util.@@ Object@@ s.@@ re@@ qui@@ re@@ Non@@ Null@@ (s@@ ource@@ Cluster@@ .getId()); boolean mac@@ Pool@@ Chang@@ ed = !@@ (s@@ ource@@ Mac@@ Pool@@ Id@@ .equals(@@ target@@ Mac@@ Pool@@ Id@@ )); if (@@ mac@@ Pool@@ Changed@@ ) { java.util.List<java.lang.String> mac@@ sTo@@ Migr@@ at@@ e = get@@ Mac@@ s@@ For@@ Cluster@@ Id@@ (cluster@@ Id); m@@ igr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ (s@@ ource@@ Mac@@ Pool@@ Id, target@@ Mac@@ Pool@@ Id, mac@@ sTo@@ Migr@@ ate@@ , command@@ Context@@ ); } }
@org.junit.Test public void test@@ Get@@ Mac@@ s@@ From@@ All@@ C@@ lust@@ ers@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Cluster@@ > cluster@@ s = java.util.Arrays.as@@ List@@ (c@@ reate@@ Cluster@@ And@@ Mock@@ s(@@ source@@ Mac@@ Pool@@ Id, java.util.Collections.@@ sing@@ leton@@ List@@ ("@@ mac@@ 1@@ "@@ )@@ ), create@@ Cluster@@ And@@ Mock@@ Mac@@ s(@@ target@@ Mac@@ Pool@@ Id, java.util.Collections.@@ sing@@ leton@@ List@@ ("@@ mac@@ 2@@ "@@ )@@ ), create@@ Cluster@@ And@@ Mock@@ Mac@@ s(@@ source@@ Mac@@ Pool@@ Id, java.util.Collections.@@ sing@@ leton@@ List@@ ("@@ mac@@ 1@@ "@@ )@@ ), create@@ Cluster@@ And@@ Mock@@ Mac@@ s(@@ target@@ Mac@@ Pool@@ Id, java.util.Collections.@@ sing@@ leton@@ List@@ ("@@ mac@@ 2@@ "@@ ))); org.ovirt.engine.core.common.errors.@@ EngineMess@@ age engin@@ e@@ Mess@@ age = ACTION_TYPE_FAILED_@@ C@@ AN@@ NO@@ T@@ _M@@ I@@ G@@ R@@ AT@@ E@@ _M@@ AC@@ S_@@ D@@ U@@ E_@@ T@@ O@@ _@@ D@@ UP@@ L@@ IC@@ AT@@ E@@ S@@ ; java.util.Collection@@ <java.lang.String@@ > re@@ plac@@ ement@@ s = org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Util@@ s.get@@ List@@ Var@@ i@@ able@@ As@@ s@@ ign@@ ment@@ String@@ (@@ engin@@ e@@ Message@@ , java.util.Collections.@@ sing@@ leton@@ ("@@ mac@@ 1@@ ")); assert@@ That@@ (@@ un@@ der@@ Test.@@ can@@ Migr@@ ate@@ Mac@@ sTo@@ An@@ oth@@ er@@ Mac@@ Pool@@ (c@@ lust@@ ers@@ , target@@ Mac@@ Pool@@ Id@@ ), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (@@ engin@@ e@@ Message@@ , re@@ plac@@ ement@@ s@@ )); }
private void init@@ Network@@ List(@@ org.ovirt.engine.core.compat.Guid dataCenter@@ Id) { st@@ art@@ Progress@@ (); org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters query@@ Param@@ s = new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ dataCenter@@ Id); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (@@ Query@@ Type.Get@@ All@@ Network@@ s, query@@ Param@@ s, new org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ Async@@ Query@@ <@@ org.ovirt.engine.core.common.queries.@@ Query@@ ReturnValue@@ >@@ (@@ ( return@@ Value@@ ) -@@ > { network@@ s = return@@ Valu@@ e.get@@ ReturnValu@@ e(); }
protected void create@@ Add@@ ition@@ al@@ Info@@ Panel@@ () { add@@ ition@@ al@@ Info@@ Panel@@ .@@ add@@ (c@@ reate@@ Detail@@ al@@ Info@@ ()); add@@ ition@@ al@@ Info@@ Panel@@ .@@ add@@ (c@@ reate@@ Statistic@@ s@@ Add@@ ition@@ al@@ Info@@ ()); }
@java.lang.Override public void rest@@ ore@@ St@@ ate@@ From@@ View@@ Item@@ (@@ org.ovirt.engine.ui.common.widget.@@ list@@ group@@ .@@ P@@ at@@ ter@@ n@@ f@@ ly@@ List@@ View@@ Item@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ Lin@@ e@@ Model@@ > or@@ i@@ gin@@ al@@ View@@ Item@@ ) { org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Host@@ Network@@ Interface@@ List@@ View@@ I@@ t@@ e@@ m or@@ i@@ gin@@ al = ((@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Host@@ Network@@ Interface@@ List@@ View@@ Item@@ ) (@@ or@@ i@@ gin@@ al@@ View@@ Item@@ )); set@@ V@@ lan@@ Exp@@ and@@ ed(@@ or@@ i@@ gin@@ al@@ .get@@ V@@ lan@@ Stat@@ e()); set@@ Statistic@@ s@@ Exp@@ and@@ ed(@@ or@@ i@@ gin@@ al@@ .get@@ Statistic@@ s@@ Stat@@ e()); }
@java.lang.Override protected com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ B@@ od@@ y@@ Panel@@ (java.lang.String h@@ ead@@ er@@ , org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ Lin@@ e@@ Model entity@@ ) { d@@ escription@@ H@@ ead@@ er@@ Panel@@ .get@@ Element@@ ().set@@ In@@ n@@ er@@ H@@ T@@ M@@ L@@ (@@ h@@ ead@@ er@@ ); d@@ escription@@ H@@ ead@@ er@@ Panel@@ .@@ add@@ (c@@ reate@@ Link@@ Status@@ Panel@@ (is@@ Interface@@ Up@@ ())); create@@ Add@@ ition@@ al@@ Info@@ Panel@@ (); return b@@ od@@ y@@ Panel@@ ; }
@java.lang.Override protected void h@@ id@@ e@@ All@@ Detail@@ s() { d@@ et@@ ail@@ Exp@@ and@@ .@@ t@@ og@@ g@@ le@@ Exp@@ and@@ ed@@ (@@ false@@ ); stati@@ stic@@ s@@ Exp@@ and@@ .@@ t@@ og@@ g@@ le@@ Exp@@ and@@ ed@@ (@@ false@@ ); }
public boolean is@@ Stat@@ e() { return stati@@ stic@@ s@@ Exp@@ and@@ .is@@ Acti@@ v@@ e(); }
protected org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ Lin@@ e@@ Model create@@ B@@ od@@ y@@ Panel@@ (@@ j@@ av@@ e) { return s@@ el@@ ect@@ Interface@@ Names@@ ; }
private com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ Statistic@@ s@@ Add@@ ition@@ al@@ Info@@ () { com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Pan@@ e@@ l p@@ an@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ (); p@@ an@@ el@@ .@@ add@@ Sty@@ le@@ Name(@@ P@@ at@@ ter@@ n@@ f@@ ly@@ Constant@@ s.@@ P@@ F@@ _@@ L@@ IST@@ _@@ V@@ I@@ E@@ W@@ _@@ AD@@ D@@ I@@ TI@@ ON@@ AL@@ _@@ IN@@ F@@ O@@ _@@ I@@ T@@ EM@@ ); stati@@ stic@@ s@@ Exp@@ and@@ and = new org.ovirt.engine.ui.common.widget.@@ list@@ group@@ .@@ Exp@@ and@@ able@@ List@@ View@@ Item@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Host@@ Network@@ Interface@@ List@@ View@@ Item@@ .@@ const@@ an@@ t@@ s.@@ stati@@ stic@@ s@@ (), null@@ ); get@@ Cl@@ ick@@ Handler@@ Re@@ g@@ ist@@ r@@ ation@@ s().add(@@ stati@@ stic@@ s@@ Exp@@ and@@ .@@ add@@ Cl@@ ick@@ Handler@@ (@@ this@@ )); p@@ an@@ el@@ .@@ add(@@ stati@@ stic@@ s@@ Exp@@ and@@ ); return p@@ an@@ el@@ ; }
private java.lang.String create@@ Active@@ Bond@@ T@@ oolti@@ p@@ Message@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ B@@ on@@ d bond@@ , org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ Lin@@ e@@ Model lin@@ e@@ Model) { java.util.List<java.lang.String> bond@@ Proper@@ ti@@ es = new java.util.ArrayList<@@ >(); java.lang.String ad@@ P@@ art@@ n@@ er@@ Ma@@ c = java.util.@@ Object@@ s.@@ toString@@ (@@ bond@@ .get@@ Ad@@ P@@ art@@ n@@ er@@ Mac@@ (), "@@ "); bond@@ Properties.@@ add(@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ Host@@ Network@@ Interface@@ Bond@@ ed@@ List@@ View@@ I@@ t@@ e@@ m@@ .@@ mess@@ ages.@@ bond@@ Ad@@ P@@ art@@ n@@ er@@ Mac@@ (@@ ad@@ P@@ art@@ n@@ er@@ Mac@@ )); java.lang.String ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id = java.util.@@ Object@@ s.@@ toString@@ (@@ bond@@ .get@@ Ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id(), "@@ "); bond@@ Properties.@@ add(@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ Host@@ Network@@ Interface@@ Bond@@ ed@@ List@@ View@@ I@@ t@@ e@@ m@@ .@@ mess@@ ages.@@ bond@@ Ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id(@@ ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id@@ )); for (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface n@@ ic : lin@@ e@@ Model.get@@ Interfaces@@ ()) { java.lang.String nic@@ Name = nic@@ .get@@ Nam@@ e(); java.lang.String nic@@ Ag@@ g@@ re@@ g@@ ator@@ Id = java.util.@@ Object@@ s.@@ toString@@ (@@ nic@@ .get@@ Interfac@@ e().get@@ Ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id(), "@@ "); bond@@ Properties.@@ add(@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ Host@@ Network@@ Interface@@ Bond@@ ed@@ List@@ View@@ I@@ t@@ e@@ m@@ .@@ mess@@ ages.@@ bond@@ S@@ lave@@ Ad@@ Ag@@ g@@ re@@ g@@ ator@@ Id(@@ nic@@ Name, nic@@ Ag@@ g@@ re@@ g@@ ator@@ Id@@ )); } return org.ovirt.engine.ui.uicompat.@@ ex@@ ternal@@ .@@ StringUtils.@@ j@@ o@@ in@@ (@@ bond@@ Properties@@ , "@@ \@@ n@@ "); }
private boolean is@@ Ad@@ P@@ art@@ n@@ er@@ Mac@@ Valid@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ B@@ on@@ d bond@@ , org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { java.lang.String p@@ art@@ n@@ er@@ Ma@@ c = bond@@ .get@@ Ad@@ P@@ art@@ n@@ er@@ Mac@@ (); boolean is@@ Ad@@ P@@ art@@ n@@ er@@ Mac@@ Em@@ p@@ ty = ((@@ p@@ art@@ n@@ er@@ Ma@@ c == null@@ ) || (p@@ art@@ n@@ er@@ Mac@@ .@@ isEmpty())) || (p@@ art@@ n@@ er@@ Mac@@ .equals(@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host@@ .@@ Host@@ Network@@ Interface@@ Bond@@ ed@@ List@@ View@@ I@@ t@@ e@@ m@@ .@@ IN@@ VALID@@ _@@ AD@@ _P@@ ART@@ N@@ ER@@ _M@@ AC@@ )); boolean is@@ If@@ c@@ U@@ p = Interface@@ Status.@@ UP@@ .equals(@@ bond@@ .get@@ Statistic@@ s().get@@ Status@@ ()); boolean is@@ Bond@@ 4 = Bond@@ Mod@@ e.@@ B@@ ON@@ D@@ 4@@ .equals(@@ org.ovirt.engine.core.common.businessentities.network.@@ Bond@@ Mod@@ e.@@ par@@ se@@ Bond@@ Mod@@ e(@@ bond@@ .get@@ Bond@@ Option@@ s@@ ())); boolean is@@ Ad@@ P@@ art@@ n@@ er@@ Supported@@ For@@ C@@ luster = ((@@ java.lang.Boolean@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Config@@ Value@@ Pre@@ Convert@@ ed(@@ Configuration@@ Values.@@ Ad@@ P@@ art@@ n@@ er@@ Mac@@ Supported@@ , vds.get@@ Cluster@@ CompatibilityVersion@@ ().get@@ Valu@@ e()@@ ))); return ((@@ (!@@ is@@ Ad@@ P@@ art@@ n@@ er@@ Mac@@ Empty@@ ) || (!@@ is@@ Bond@@ 4@@ )) || (!@@ is@@ Ad@@ P@@ art@@ n@@ er@@ Supported@@ For@@ Cluster@@ ); }
@java.lang.Override protected com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ I@@ con@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Interface@@ Statu@@ s int@@ er@@ fac@@ e@@ Statu@@ s = get@@ Entity@@ ().get@@ Interfac@@ e().get@@ Statistic@@ s().get@@ Status@@ (); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l bond@@ Properties@@ Mess@@ age = create@@ Bond@@ T@@ oolti@@ p@@ Message@@ (get@@ Entity@@ (), int@@ er@@ fac@@ e@@ Status@@ ); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l bond@@ Mess@@ age = org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Host@@ Network@@ Interface@@ Bond@@ ed@@ List@@ View@@ Item@@ .@@ templat@@ es.@@ it@@ al@@ ic@@ W@@ or@@ d@@ W@@ rap@@ Max@@ W@@ id@@ th@@ With@@ B@@ old@@ Title(@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Host@@ Network@@ Interface@@ Bond@@ ed@@ List@@ View@@ Item@@ .@@ const@@ an@@ t@@ s.@@ bond@@ Properties@@ (), bond@@ Properties@@ Message@@ ); org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ Widget@@ T@@ oolti@@ p ic@@ on@@ T@@ oolti@@ p = new org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ Widget@@ T@@ oolti@@ p@@ (@@ new org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ network.@@ Bond@@ ed@@ Network@@ I@@ con@@ (get@@ Entity@@ ())); ic@@ on@@ T@@ oolti@@ p@@ .set@@ Ht@@ ml@@ (@@ bond@@ Message@@ ); ic@@ on@@ Panel@@ .@@ add(@@ ic@@ on@@ T@@ oolti@@ p@@ ); return ic@@ on@@ Panel@@ ; }
protected java.util.Map<java.lang.String, java.lang.Object> const@@ an@@ t@@ s.@@ y@@ Storage@@ Device@@ List@@ () { java.util.Map<java.lang.String, java.lang.Object> item@@ s = new java.util.HashMap@@ <java.lang.String, java.lang.Object@@ >(); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.util.Map<java.lang.String, java.lang.Object@@ >> e@@ n@@ try : item@@ s.@@ e@@ n@@ try@@ Set@@ ()) { if ((@@ item@@ C@@ oun@@ t % 4@@ ) == 3@@ ) { return e@@ n@@ try@@ .get@@ Valu@@ e(); } return item@@ s@@ ; }
void init@@ T@@ abl@@ e() { p@@ f@@ Action@@ Panel@@ .@@ add@@ Button@@ To@@ Action@@ Group@@ (@@ tabl@@ e.@@ add@@ Action@@ Button@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ action.@@ W@@ eb@@ Ad@@ min@@ Button@@ De@@ fin@@ ition@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ Lin@@ e@@ Model@@ >@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ host.@@ Sub@@ Tab@@ Host@@ Interface@@ View@@ .@@ const@@ an@@ t@@ s.set@@ up@@ Host@@ Networks@@ Interfac@@ e()) { @java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return get@@ Detail@@ Model().get@@ SetupNetworks@@ Command@@ (); } }@@ )); p@@ f@@ Action@@ Panel@@ .@@ add@@ Button@@ To@@ Action@@ Group@@ (@@ tabl@@ e.@@ add@@ Action@@ Button@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ action.@@ W@@ eb@@ Ad@@ min@@ Button@@ De@@ fin@@ ition@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ Lin@@ e@@ Model@@ >@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ host.@@ Sub@@ Tab@@ Host@@ Interface@@ View@@ .@@ const@@ an@@ t@@ s.@@ s@@ ave@@ N@@ et@@ Config@@ Interfac@@ e()) { @java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return get@@ Detail@@ Model().get@@ S@@ ave@@ Network@@ Config@@ Command@@ (); } }@@ )); p@@ f@@ Action@@ Panel@@ .@@ add@@ Button@@ To@@ Action@@ Group@@ (@@ tabl@@ e.@@ add@@ Action@@ Button@@ (@@ new org.ovirt.engine.ui.webadmin.@@ widget.@@ action.@@ W@@ eb@@ Ad@@ min@@ Button@@ De@@ fin@@ ition@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ Lin@@ e@@ Model@@ >@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ t@@ ab@@ .@@ host.@@ Sub@@ Tab@@ Host@@ Interface@@ View@@ .@@ const@@ an@@ t@@ s.@@ s@@ ync@@ All@@ Host@@ Networks@@ ()) { @java.lang.Override protected org.ovirt.engine.ui.uicommonweb.UICommand res@@ ol@@ ve@@ Command() { return get@@ Detail@@ Model().get@@ Sync@@ All@@ Host@@ Networks@@ Command@@ (); } }@@ )); }
@java.lang.Override protected com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ B@@ od@@ y@@ Panel@@ (java.lang.String h@@ ead@@ er@@ , org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface network@@ Interface@@ ) { d@@ escription@@ H@@ ead@@ er@@ Panel@@ .get@@ Element@@ ().set@@ In@@ n@@ er@@ H@@ T@@ M@@ L@@ (@@ h@@ ead@@ er@@ ); status@@ Panel@@ .@@ add@@ (c@@ reate@@ Link@@ Status@@ Panel@@ ((@@ network@@ Interface != null ? network@@ Interfac@@ e.@@ is@@ Link@@ ed@@ () : false@@ ))); status@@ Panel@@ .@@ add@@ (c@@ reate@@ C@@ ard@@ Plug@@ ged@@ Status@@ Panel@@ ((@@ network@@ Interface != null ? network@@ Interfac@@ e.@@ is@@ Plug@@ ged@@ () : false@@ ))); create@@ Add@@ ition@@ al@@ Info@@ Panel@@ (); return b@@ od@@ y@@ Panel@@ ; }
private void update@@ Info@@ Panel@@ () { if ((get@@ Model().get@@ Item@@ s()) instanceof java.util.@@ List@@ ) { cl@@ e@@ ar@@ Cl@@ ick@@ Handl@@ ers@@ (); s@@ el@@ ection@@ Model.@@ cl@@ e@@ ar@@ (); org.ovirt.engine.ui.common.widget.@@ list@@ group@@ .@@ P@@ at@@ ter@@ n@@ f@@ ly@@ List@@ View@@ .@@ cl@@ e@@ ar@@ (); int i = 0@@ ; java.util.@@ List list@@ group@@ .@@ P@@ at@@ ter@@ n@@ f@@ ly@@ List@@ View@@ Item@@ <@@ T@@ > new@@ C@@ urrent@@ Stat@@ e = new java.util.ArrayList<@@ >(); for (@@ T it@@ e@@ m : getModel().get@@ Item@@ s()) { org.ovirt.engine.ui.common.widget.@@ list@@ group@@ .@@ P@@ at@@ ter@@ n@@ f@@ ly@@ List@@ View@@ Item@@ <@@ T@@ >@@ new@@ I@@ t@@ e@@ m = c@@ re@@ ator.@@ create@@ List@@ View@@ Item@@ (@@ item@@ ); handl@@ er@@ Re@@ g@@ ist@@ r@@ ation@@ s.@@ add@@ (@@ new@@ Item@@ .@@ add@@ Cl@@ ick@@ Handler@@ (@@ this@@ )); if (@@ i < (c@@ urrent@@ Stat@@ e.@@ siz@@ e())) { rest@@ ore@@ Stat@@ e(@@ current@@ Stat@@ e.get@@ (@@ i@@ ), new@@ Item@@ ); if (@@ i == (s@@ elected@@ In@@ dex@@ )) { new@@ Item@@ .@@ add@@ Sty@@ le@@ Name(@@ Sty@@ l@@ es.@@ AC@@ TI@@ V@@ E); } } new@@ C@@ urrent@@ St@@ ate@@ .@@ add@@ (@@ new@@ Item@@ ); add@@ (@@ new@@ Item@@ .@@ as@@ List@@ Group@@ Item@@ ()); i@@ +@@ ; } current@@ Stat@@ e.c@@ le@@ ar@@ (); current@@ Stat@@ e = new@@ C@@ urrent@@ St@@ ate@@ ; if ((@@ org.ovirt.engine.ui.common.widget.@@ list@@ group@@ .@@ P@@ at@@ ter@@ n@@ f@@ ly@@ List@@ View@@ .get@@ Widget@@ Count@@ ()) == 0) { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ List@@ Group@@ I@@ t@@ e@@ m no@@ Item@@ s = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ List@@ Group@@ (); no@@ Item@@ s.@@ add@@ Sty@@ le@@ Name(@@ Sty@@ l@@ es.@@ L@@ IST@@ _@@ G@@ RO@@ UP@@ _@@ I@@ T@@ EM@@ _@@ H@@ E@@ AD@@ ING@@ ); no@@ Item@@ s.set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ list@@ group@@ .@@ P@@ at@@ ter@@ n@@ f@@ ly@@ List@@ View@@ .@@ const@@ an@@ t@@ s.@@ no@@ Item@@ sTo@@ Display@@ ()); } rest@@ ore@@ Sel@@ ection@@ (s@@ elected@@ In@@ dex@@ ); }
public void set@@ Statistic@@ s@@ Exp@@ and@@ ed@@ (@@ boolean value) { stati@@ stic@@ s@@ Exp@@ and@@ .@@ t@@ og@@ g@@ le@@ Exp@@ and@@ ed(@@ valu@@ e); t@@ og@@ g@@ le@@ Exp@@ and@@ ed@@ (); }
private boolean is@@ In@@ Sync@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interfac@@ e.@@ Network@@ Impl@@ ement@@ ation@@ Detail@@ s network@@ Impl@@ ement@@ ation@@ Detail@@ s) { boolean manage@@ d = false@@ ; boolean s@@ yn@@ c = false@@ ; if (network@@ Impl@@ ement@@ ation@@ Detail@@ s != null@@ ) { manage@@ d = network@@ Impl@@ ement@@ ation@@ Detail@@ s.@@ is@@ Manage@@ d@@ (); s@@ yn@@ c = network@@ Impl@@ ement@@ ation@@ Detail@@ s.@@ is@@ In@@ Sync@@ (); } return manage@@ d && (!@@ s@@ ync@@ ); }
public boolean get@@ V@@ lan@@ Stat@@ e() { return d@@ et@@ ail@@ Exp@@ and@@ .is@@ Acti@@ v@@ e(); }
protected com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ Link@@ Status@@ Panel@@ (@@ boolean is@@ Link@@ ed@@ ) { return new org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Link@@ Status@@ Panel@@ (is@@ Link@@ ed@@ ); }
private com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ Detail@@ Add@@ ition@@ al@@ Info@@ () { com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Pan@@ e@@ l p@@ an@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ (); p@@ an@@ el@@ .@@ add@@ Sty@@ le@@ Name(@@ P@@ at@@ ter@@ n@@ f@@ ly@@ Constant@@ s.@@ P@@ F@@ _@@ L@@ IST@@ _@@ V@@ I@@ E@@ W@@ _@@ AD@@ D@@ I@@ TI@@ ON@@ AL@@ _@@ IN@@ F@@ O@@ _@@ I@@ T@@ EM@@ ); d@@ et@@ ail@@ Exp@@ and@@ and = new org.ovirt.engine.ui.common.widget.@@ list@@ group@@ .@@ Exp@@ and@@ able@@ List@@ View@@ Item@@ (@@ org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Host@@ Network@@ Interface@@ List@@ View@@ Item@@ .@@ const@@ an@@ t@@ s.@@ d@@ et@@ ail@@ s@@ (), null@@ ); get@@ Cl@@ ick@@ Handler@@ Re@@ g@@ ist@@ r@@ ation@@ s().add(@@ d@@ et@@ ail@@ Exp@@ and@@ .@@ add@@ Cl@@ ick@@ Handler@@ (@@ this@@ )); p@@ an@@ el@@ .@@ add(@@ d@@ et@@ ail@@ Exp@@ and@@ ); return p@@ an@@ el@@ ; }
private void set@@ I@@ con@@ (java.lang.String ic@@ on@@ C@@ s@@ ol@@ e() { if (!(@@ org.ovirt.engine.ui.uicompat.@@ ex@@ ternal@@ .@@ StringUtils.@@ isEmpty@@ (@@ ic@@ on@@ C@@ s@@ s@@ s@@ s@@ ))) { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ ht@@ ml.@@ Sp@@ an ic@@ on@@ Pan@@ e@@ l = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ ht@@ ml.@@ Sp@@ an@@ (); ic@@ on@@ Panel@@ .@@ add@@ Sty@@ le@@ Name(@@ get@@ Base@@ Sty@@ l@@ e(@@ ic@@ on@@ C@@ s@@ s@@ s@@ )); ic@@ on@@ Panel@@ .@@ add@@ Sty@@ le@@ Name(@@ ic@@ on@@ C@@ s@@ s); } }
public void set@@ V@@ lan@@ Exp@@ and@@ ed@@ (@@ boolean value) { d@@ et@@ ail@@ Exp@@ and@@ .@@ t@@ og@@ g@@ le@@ Exp@@ and@@ ed(@@ valu@@ e); t@@ og@@ g@@ le@@ Exp@@ and@@ ed@@ (); }
private com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ Link@@ Status@@ Panel@@ (@@ boolean is@@ Link@@ ed@@ ) { return new org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Link@@ ed@@ Link@@ Status@@ Panel@@ (is@@ Link@@ ed@@ ); }
private com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t get@@ Interface@@ Names@@ Panel@@ (@@ java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface@@ > bond@@ Interfaces@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Pan@@ e@@ l int@@ er@@ fac@@ e@@ Names@@ Pan@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ (); int@@ er@@ fac@@ e@@ Names@@ Panel@@ .@@ add@@ Sty@@ le@@ Name(@@ P@@ at@@ ter@@ n@@ f@@ ly@@ Constant@@ s.@@ P@@ F@@ _@@ L@@ IST@@ _@@ V@@ I@@ E@@ W@@ _@@ DE@@ S@@ C@@ R@@ I@@ P@@ TI@@ ON@@ ); for (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface host@@ Interface : bond@@ Interfaces@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Pan@@ e@@ l host@@ Interface@@ Pan@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ (); host@@ Interface@@ Panel@@ .get@@ Element@@ ().set@@ In@@ n@@ er@@ S@@ afe@@ Ht@@ ml@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (@@ host@@ Interfac@@ e.get@@ Name()@@ )); host@@ Interface@@ Panel@@ .@@ add@@ (c@@ reate@@ Link@@ Status@@ Panel@@ (((@@ host@@ Interfac@@ e.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ network.@@ Interface@@ Status.@@ UP@@ )@@ ))); int@@ er@@ fac@@ e@@ Names@@ Panel@@ .@@ add(@@ host@@ Interface@@ Panel@@ ); } return int@@ er@@ fac@@ e@@ Names@@ Panel@@ ; }
private void update@@ Properties@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k = get@@ Entity@@ (); set@@ Image@@ (disk@@ .get@@ Disk@@ Storage@@ Typ@@ e().@@ is@@ Internal@@ ()); set@@ Lun@@ (((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ LUN@@ ))); set@@ Alias@@ (disk@@ .get@@ Disk@@ Alias@@ ()); set@@ Description@@ (disk@@ .get@@ Disk@@ Description@@ ()); set@@ Disk@@ Id(@@ disk@@ .get@@ Id().@@ toString@@ ()); if ((@@ disk@@ .get@@ L@@ ast@@ Al@@ ign@@ ment@@ S@@ can@@ ()) != null@@ ) { java.lang.String l@@ ast@@ S@@ can@@ Dat@@ e = com.google.gwt.@@ i18n@@ .client.@@ D@@ ate@@ Time@@ For@@ ma@@ t.get@@ Format@@ ("@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ (disk@@ (disk@@ (disk@@ .get@@ L@@ ast@@ Al@@ ign@@ ment@@ S@@ can@@ ()); } else { set@@ Al@@ ign@@ ment@@ (disk@@ .get@@ Al@@ ign@@ ment@@ ().@@ toString@@ ()); } set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ disk@@ .is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()); if (is@@ Image@@ ()) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ )); set@@ Disk@@ Profile@@ Name(@@ s@@ afe@@ J@@ o@@ in@@ (disk@@ Image.get@@ Disk@@ Profile@@ Names@@ ())); set@@ Quota@@ Name(@@ s@@ afe@@ J@@ o@@ in@@ (disk@@ Image.get@@ Quota@@ Names@@ ())); set@@ Quota@@ Available@@ ((!@@ (disk@@ Image.get@@ Quota@@ E@@ n@@ for@@ c@@ ement@@ Typ@@ e().@@ equals(@@ Quota@@ E@@ n@@ for@@ c@@ ement@@ Type@@ Enum@@ .@@ DIS@@ AB@@ L@@ ED@@ )@@ ))); } else if (is@@ Lun@@ ()) { org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk lun@@ Disk = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ Lun@@ Disk@@ ) (disk@@ )); set@@ Lun@@ Id(@@ lun@@ Disk@@ .get@@ Lun@@ ().get@@ LUN@@ Id()); } }
@java.lang.Override public java.util.Map<java.lang.String, org.ovirt.engine.ui.uicommonweb.models.@@ Model@@ > get@@ W@@ in@@ do@@ w@@ Properties@@ () { java.util.Map<java.lang.String, org.ovirt.engine.ui.uicommonweb.models.@@ Model@@ > ma@@ p = super@@ .get@@ W@@ in@@ do@@ w@@ Properties@@ (); map@@ .@@ put(@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ .@@ DIS@@ K_@@ W@@ IN@@ DO@@ W@@ , get@@ Disk@@ W@@ in@@ do@@ w@@ ()); return map@@ ; }
private void re@@ g@@ ist@@ er@@ Handl@@ ers@@ () { model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if (@@ pro@@ p@@ Name@@ )) && ((@@ model.get@@ W@@ in@@ do@@ w@@ ()) == null@@ )) { if (model.get@@ Sp@@ e@@ c@@ if@@ ic@@ Cluster@@ Quota@@ ().getEntity@@ ()) { quota@@ Cluster@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (model.get@@ All@@ DataCenter@@ C@@ lust@@ ers@@ ()); } else { quota@@ Cluster@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (model.get@@ Quota@@ C@@ lust@@ ers@@ ()); } if (model.get@@ Sp@@ e@@ c@@ if@@ ic@@ Storage@@ Quota@@ ().getEntity@@ ()) { quota@@ Storage@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (model.get@@ All@@ DataCenter@@ Stor@@ ages@@ ()); } else { quota@@ Storage@@ T@@ abl@@ e.@@ as@@ Editor@@ ().@@ edit@@ (model.get@@ Quota@@ Stor@@ ages@@ ()); } } }); model.get@@ Sp@@ e@@ c@@ if@@ ic@@ Cluster@@ Quota@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (cluster@@ Listener@@ ); model.get@@ Sp@@ e@@ c@@ if@@ ic@@ Storage@@ Quota@@ ().getEntity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ storage@@ Listener@@ ); }
@java.lang.Override public void set@@ W@@ in@@ do@@ w@@ Property@@ (java.lang.String pro@@ p@@ Name, org.ovirt.engine.ui.uicommonweb.models.@@ Model value) { if (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ .@@ DIS@@ K_@@ W@@ IN@@ DO@@ W@@ .equals(@@ pro@@ p@@ Name@@ )) { set@@ Disk@@ W@@ in@@ do@@ w@@ (@@ valu@@ e); } else { super@@ .set@@ W@@ in@@ do@@ w@@ Property@@ (@@ pro@@ p@@ Name, valu@@ e); } }
public void add@@ D@@ ial@@ og@@ Model@@ Listener@@ (@@ final M model@@ ) { init@@ (@@ model@@ ); model.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if (@@ w@@ in@@ do@@ w@@ Property@@ Nam@@ es.@@ contains(@@ pro@@ p@@ Name@@ )) { handl@@ e@@ W@@ in@@ do@@ w@@ Model@@ Chang@@ e(@@ model, pro@@ p@@ Name, w@@ in@@ do@@ w@@ Popup@@ Instanc@@ es@@ .get(@@ pro@@ p@@ Name@@ ), false@@ ); } else if (@@ confi@@ rm@@ W@@ in@@ do@@ w@@ Property@@ Nam@@ es.@@ contains(@@ pro@@ p@@ Name@@ )) { handl@@ e@@ W@@ in@@ do@@ w@@ Model@@ Chang@@ e(@@ model, pro@@ p@@ Name, confi@@ rm@@ W@@ in@@ do@@ w@@ Popup@@ Instanc@@ es@@ .get(@@ pro@@ p@@ Name@@ ), true@@ ); } }); }
@java.lang.Override protected void on@@ Re@@ ve@@ al@@ () { org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s> entity@@ Changed@@ Event = getModel().get@@ Disk@@ View@@ Typ@@ e().get@@ Entity@@ Changed@@ Event@@ (); if (!(@@ entity@@ Changed@@ Ev@@ ent.@@ get@@ List@@ en@@ ers@@ ().@@ contains(@@ get@@ View@@ ().get@@ Disk@@ Type@@ Changed@@ Event@@ Listener@@ ()))) { entity@@ Changed@@ Ev@@ ent.@@ add@@ Listener@@ (get@@ View@@ ().get@@ Disk@@ Type@@ Changed@@ Event@@ Listener@@ ()); } org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ org.ovirt.engine.ui.uicompat.EventArg@@ s> disk@@ Cont@@ ent@@ Type@@ Entity@@ Changed@@ Event = getModel().get@@ Disk@@ Cont@@ ent@@ Typ@@ e().get@@ Entity@@ Changed@@ Event@@ (); if (!(@@ disk@@ Cont@@ ent@@ Type@@ Entity@@ Changed@@ Ev@@ ent.@@ get@@ List@@ en@@ ers@@ ().@@ contains(@@ get@@ View@@ ().get@@ Disk@@ Type@@ Changed@@ Event@@ Listener@@ ()))) { disk@@ Cont@@ ent@@ Type@@ Entity@@ Changed@@ Ev@@ ent.@@ add@@ Listener@@ (get@@ View@@ ().get@@ Disk@@ Cont@@ ent@@ Type@@ Changed@@ Event@@ Listener@@ ()); } super@@ .@@ on@@ Re@@ ve@@ al@@ (); get@@ View@@ ().@@ handl@@ e@@ Quota@@ Column@@ Visi@@ bility@@ (); }
void init@@ T@@ able@@ O@@ ver@@ h@@ ead@@ () { disk@@ s@@ View@@ R@@ ad@@ i@@ o@@ Group = new org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ disk@@ s.@@ Disks@@ View@@ R@@ ad@@ i@@ o@@ Group@@ (); disk@@ s@@ View@@ R@@ ad@@ i@@ o@@ Group@@ .set@@ Cl@@ ick@@ Handler@@ (@@ cl@@ ick@@ Handler@@ ); disk@@ s@@ Cont@@ ent@@ Type@@ R@@ ad@@ i@@ o@@ Group = new org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ disk@@ s.@@ Disks@@ Cont@@ ent@@ Type@@ R@@ ad@@ i@@ o@@ Group@@ (); disk@@ s@@ Cont@@ ent@@ Type@@ R@@ ad@@ i@@ o@@ Group@@ .set@@ Cl@@ ick@@ Handler@@ (@@ ( event@@ ) -@@ > { if ((@@ (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ ) (@@ event.@@ get@@ Sourc@@ e()@@ )@@ ).get@@ Valu@@ e()) { get@@ Main@@ Model().get@@ Disk@@ Cont@@ ent@@ Typ@@ e().set@@ Entity@@ (disk@@ s@@ Cont@@ ent@@ Type@@ R@@ ad@@ i@@ o@@ Group@@ .get@@ Disk@@ Cont@@ ent@@ Typ@@ e()); } }); com.google.gwt.@@ user.@@ client.@@ ui.@@ H@@ or@@ iz@@ on@@ t@@ al@@ Pan@@ e@@ l o@@ ver@@ h@@ ead@@ Pan@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ H@@ or@@ iz@@ on@@ t@@ al@@ Panel@@ (); o@@ ver@@ h@@ ead@@ Panel@@ .@@ add(@@ disk@@ s@@ View@@ R@@ ad@@ i@@ o@@ Group@@ ); o@@ ver@@ h@@ ead@@ Panel@@ .@@ add(@@ disk@@ s@@ Cont@@ ent@@ Type@@ R@@ ad@@ i@@ o@@ Group@@ ); get@@ T@@ abl@@ e().set@@ T@@ able@@ O@@ ver@@ h@@ ead@@ (@@ o@@ ver@@ h@@ ead@@ ); }
public void set@@ Cl@@ ick@@ Handler@@ (c@@ om@@ .google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Handl@@ er cl@@ ick@@ Handler@@ ) { for (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ B@@ utt@@ on b@@ utt@@ on : b@@ utton@@ To@@ Type.@@ key@@ Set@@ ()) { b@@ utton@@ .@@ add@@ Cl@@ ick@@ Handler@@ (@@ cl@@ ick@@ Handler@@ ); } }
private com.google.gwt.@@ user.@@ client.@@ ui.@@ W@@ id@@ g@@ e@@ t get@@ R@@ ad@@ i@@ o@@ Group@@ Panel@@ () { b@@ utton@@ To@@ Type = new java.util.@@ Link@@ ed@@ Hash@@ Map@@ (); com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ B@@ utt@@ on all@@ B@@ utt@@ on = new com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ ("@@ disk@@ Cont@@ ent@@ Type@@ View@@ "); b@@ utton@@ To@@ Type.@@ put(@@ all@@ Button@@ , null@@ ); all@@ Button@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ disk@@ s.@@ Disks@@ Cont@@ ent@@ Type@@ R@@ ad@@ i@@ o@@ Group@@ .@@ const@@ an@@ t@@ s.@@ all@@ Disks@@ Label@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Cont@@ ent@@ Type cont@@ ent@@ Type : org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Cont@@ ent@@ Type.@@ valu@@ es@@ ()) { com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ B@@ utt@@ on b@@ utt@@ on = new com.google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ ("@@ disk@@ Cont@@ ent@@ Type@@ View@@ "); b@@ utton@@ To@@ Type.@@ put(@@ b@@ utton@@ , cont@@ ent@@ Type@@ ); } com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Pan@@ e@@ l b@@ utton@@ s@@ Pan@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ (); b@@ utton@@ s@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ Property@@ ("@@ mar@@ gin@@ L@@ e@@ f@@ t@@ ", "@@ a@@ uto@@ "); b@@ utton@@ s@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ Property@@ ("@@ mar@@ gin@@ R@@ ig@@ ht@@ ", "@@ a@@ uto@@ "); for (c@@ om@@ .google.gwt.@@ user.@@ client.@@ ui.@@ R@@ ad@@ i@@ o@@ B@@ utt@@ on b@@ utton@@ To@@ Map@@ .@@ key@@ Set@@ ()) { b@@ utton@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ M@@ ar@@ gin@@ R@@ ig@@ ht@@ (@@ 2@@ 0@@ , Sty@@ l@@ e.@@ Un@@ it.@@ P@@ X@@ ); b@@ utton@@ s@@ Panel@@ .@@ add(@@ b@@ utton@@ ); } set@@ Disk@@ Cont@@ ent@@ Type@@ (@@ null@@ ); loc@@ al@@ iz@@ e(); return b@@ utton@@ s@@ Panel@@ ; }
private void update@@ Action@@ Avail@@ ab@@ ility@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ Disk dis@@ k = get@@ SelectedItem@@ (); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ s = ((get@@ SelectedItem@@ s()) != null@@ ) ? ((@@ java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ >) (get@@ SelectedItem@@ s@@ ())) : null@@ ; boolean sh@@ oul@@ d@@ Allow@@ E@@ d@@ i@@ t = true@@ ; if (@@ dis@@ k != null@@ ) { sh@@ oul@@ d@@ Allow@@ E@@ d@@ i@@ t = (!(@@ disk@@ .is@@ Ovf@@ Stor@@ e())) && (!(@@ is@@ Disk@@ Lock@@ ed(@@ disk@@ ))); } get@@ New@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (@@ true@@ ); get@@ Edit@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((@@ (((@@ dis@@ k != null@@ ) && (disk@@ s != null@@ )) && ((@@ disk@@ s.@@ size()) == 1@@ )) && sh@@ oul@@ d@@ Allow@@ Edit@@ )); get@@ Remove@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((((@@ disk@@ s != null@@ ) && ((@@ disk@@ s.@@ size()) > 0@@ )) && (is@@ Remove@@ Command@@ Avail@@ abl@@ e()@@ ))); get@@ S@@ can@@ Al@@ ign@@ ment@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((((@@ disk@@ s != null@@ ) && ((@@ disk@@ s.@@ size()) > 0@@ )) && (is@@ S@@ can@@ Al@@ ign@@ ment@@ Command@@ Avail@@ abl@@ e()@@ ))); get@@ Export@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ is@@ Export@@ Command@@ Avail@@ abl@@ e()); update@@ Copy@@ And@@ Move@@ Command@@ Avail@@ ab@@ ility@@ (disk@@ s); get@@ Cancel@@ U@@ pl@@ o@@ ad@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model@@ .is@@ Cancel@@ Allow@@ ed(@@ disk@@ s@@ )); get@@ Pa@@ us@@ e@@ U@@ pl@@ o@@ ad@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model@@ .is@@ Pa@@ us@@ e@@ Allow@@ ed(@@ disk@@ s@@ )); get@@ Res@@ um@@ e@@ U@@ pl@@ o@@ ad@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ U@@ pl@@ o@@ ad@@ Image@@ Model@@ .is@@ Res@@ um@@ e@@ Allow@@ ed(@@ disk@@ s@@ )); get@@ Down@@ load@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Down@@ load@@ Image@@ Model@@ .is@@ Down@@ load@@ Image@@ Model@@ ())); }
@java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand command@@ ) { super@@ .@@ execute@@ Command@@ (command@@ ); if (c@@ ommand == (get@@ New@@ Command@@ ())) { new@@ Entity@@ (); } else if (c@@ ommand == (get@@ Edit@@ Command@@ ())) { edit@@ (); } else if (c@@ ommand == (get@@ Remove@@ Command@@ ())) { remov@@ e(); } else if (c@@ ommand == (get@@ Move@@ Command@@ ())) { m@@ o@@ v@@ e(); } else if (c@@ ommand == (get@@ Copy@@ Command@@ ())) { c@@ opy@@ (); } else if (c@@ ommand == (get@@ S@@ can@@ Al@@ ign@@ ment@@ Command@@ ())) { s@@ can@@ Al@@ ign@@ ment@@ (); } else if (c@@ ommand == (get@@ Export@@ Command@@ ())) { ex@@ port@@ (); } else if ((@@ Remove@@ Disk@@ Model.@@ C@@ AN@@ C@@ E@@ L@@ _@@ RE@@ M@@ OV@@ E@@ .equals(@@ command@@ .getName()@@ )) || ("@@ Cancel@@ "@@ .equals(@@ command@@ .getName()@@ ))) { cancel@@ (); } else if ("@@ Cancel@@ Confirm@@ "@@ .equals(@@ command@@ .getName()@@ )) { cancel@@ Confirm@@ (); } else if (@@ Remove@@ Disk@@ Model.@@ ON_@@ RE@@ M@@ OV@@ E@@ .equals(@@ command@@ .getName()@@ )) { on@@ Remov@@ e(); } else if (c@@ ommand == (get@@ Change@@ Quota@@ Command@@ ())) { ch@@ ang@@ e@@ Quota@@ (); } else if (command@@ .getName()@@ .equals(@@ "@@ on@@ Change@@ Quota@@ "@@ )) { on@@ Change@@ Quota@@ (); } else if (c@@ ommand == (get@@ U@@ pl@@ o@@ ad@@ Command@@ ())) { up@@ load@@ (); } else if (c@@ ommand == (get@@ Cancel@@ U@@ pl@@ o@@ ad@@ Command@@ ())) { cancel@@ U@@ pl@@ o@@ ad@@ (); } else if ("@@ On@@ Cancel@@ U@@ pl@@ o@@ ad@@ "@@ .equals(@@ command@@ .getName()@@ )) { on@@ Cancel@@ U@@ pl@@ o@@ ad@@ (); } else if (c@@ ommand == (get@@ Pa@@ us@@ e@@ U@@ pl@@ o@@ ad@@ Command@@ ())) { p@@ a@@ us@@ e@@ U@@ pl@@ o@@ ad@@ (); } else if (c@@ ommand == (get@@ Res@@ um@@ e@@ U@@ pl@@ o@@ ad@@ Command@@ ())) { res@@ um@@ e@@ U@@ pl@@ o@@ ad@@ (); } else if (c@@ ommand == (get@@ Down@@ load@@ Command@@ ())) { do@@ wn@@ load@@ (); } }
private void do@@ wn@@ load@@ () { if ((@@ (get@@ SelectedItem@@ ()) == null@@ ) || (!@@ ((get@@ SelectedItem@@ ()) instanceof org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ ))) { return@@ ; } org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Down@@ load@@ Image@@ Model model = new org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Down@@ load@@ Image@@ Model@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (get@@ SelectedItem@@ ()))); model.@@ st@@ art@@ (); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se remov@@ e() { org.ovirt.engine.core.common.businessentities.@@ Provi@@ der p@@ rovi@@ der = org.ovirt.engine.api.restapi.resource.@@ Backend@@ External@@ Provider@@ Hel@@ per@@ .get@@ Provider@@ (@@ this@@ , id@@ ); org.ovirt.engine.core.common.action.@@ Provider@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Provider@@ Parameters(@@ p@@ rovider@@ ); parameters.set@@ For@@ c@@ e(@@ is@@ For@@ c@@ e()); return p@@ er@@ for@@ m@@ Action@@ (@@ ActionType.@@ Remove@@ Provider@@ , parameters@@ ); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ > get@@ Brick@@ s(@@ org.ovirt.engine.core.compat.Guid volume@@ Id) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ > brick@@ s = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity brick@@ 1 = new org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ (); brick@@ 1@@ .set@@ Volume@@ Id(@@ volume@@ Id); brick@@ 1@@ .set@@ Id@@ (@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ U@@ UID@@ 1@@ ); brick@@ 1@@ .set@@ Brick@@ Direct@@ ory@@ ("@@ /@@ t@@ m@@ p@@ /@@ test@@ -@@ v@@ ol@@ 0@@ "); brick@@ 1@@ .set@@ Server@@ Id(@@ S@@ ER@@ V@@ ER_@@ ID@@ ); brick@@ 1@@ .set@@ Status(@@ Gluster@@ Status.@@ UP@@ ); brick@@ s.add(@@ brick@@ 1@@ ); org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity brick@@ 2 = new org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ (); brick@@ 2@@ .set@@ Volume@@ Id(@@ volume@@ Id); brick@@ 2@@ .set@@ Id@@ (@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ U@@ UID@@ 1@@ ); brick@@ 2@@ .set@@ Brick@@ Direct@@ ory@@ ("@@ /@@ t@@ m@@ p@@ /@@ test@@ -@@ v@@ ol@@ 1@@ "); brick@@ 2@@ .set@@ Server@@ Id(@@ S@@ ER@@ V@@ ER_@@ ID@@ ); brick@@ 2@@ .set@@ Status(@@ Gluster@@ Status.@@ UP@@ ); brick@@ s.add(@@ brick@@ 2@@ ); return brick@@ s@@ ; }
private void on@@ Remove@@ (@@ boolean for@@ c@@ e) { java.util.List<@@ org.ovirt.engine.core.common.action.@@ Action@@ Parameters@@ Base@@ > parameter@@ List = new java.util.@@ Link@@ ed@@ List<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Provi@@ der p@@ rovi@@ der : p@@ rovi@@ d@@ ers@@ ) { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action@@ s(@@ ActionType.@@ Remove@@ Provider@@ , parameter@@ List@@ , parameter@@ -@@ > source@@ ListModel@@ .get@@ Search@@ Command@@ ().@@ execut@@ e()); cancel@@ (); }
private void update@@ Action@@ Avail@@ ab@@ ility@@ () { java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ Provider@@ > temp@@ V@@ a@@ r = get@@ SelectedItem@@ s(); java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ Provider@@ > selected@@ Item@@ s = (@@ temp@@ V@@ a@@ r != null@@ ) ? temp@@ V@@ a@@ r : new java.util.Array@@ List@@ (); get@@ Edit@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (((@@ selected@@ Item@@ s.@@ size()) == 1@@ )); get@@ Remove@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (((@@ selected@@ Item@@ s.@@ size()) > 0@@ )); get@@ For@@ ce@@ Remove@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ (((@@ selected@@ Item@@ s.@@ size()) > 0@@ )); get@@ Add@@ Command@@ ().setIs@@ Available@@ (@@ true@@ ); get@@ Remove@@ Command@@ ().setIs@@ Available@@ (@@ true@@ ); get@@ For@@ ce@@ Remove@@ Command@@ ().setIs@@ Avail@@ able(@@ is@@ Selected@@ Provi@@ d@@ ers@@ Of@@ Type(@@ Provider@@ Type.@@ O@@ P@@ EN@@ ST@@ AC@@ K_@@ V@@ O@@ LU@@ M@@ E@@ )); }
private boolean is@@ Selected@@ Provi@@ d@@ ers@@ Of@@ Type(@@ org.ovirt.engine.core.common.businessentities.@@ Provider@@ Type p@@ rovider@@ Type@@ ) { return ((get@@ SelectedItem@@ s()) != null@@ ) && (get@@ SelectedItem@@ s().@@ st@@ re@@ am@@ ().@@ all@@ Match@@ (@@ ("@@ p@@ rovider@@ -@@ > (p@@ rovider@@ .get@@ Type()) == p@@ rovider@@ Type@@ )); }
@java.lang.Override protected void execute@@ Command() { set@@ StoragePool@@ Id@@ (get@@ Network@@ ().get@@ DataCenter@@ Id()); org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > remove@@ Vnic@@ Profil@@ es@@ (); remove@@ From@@ C@@ lust@@ ers@@ (); set@@ Vds@@ m@@ Names@@ In@@ Vds@@ (get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ snapshot@@ Entity@@ (get@@ Network@@ ()); network@@ Dao@@ .@@ remov@@ e(@@ get@@ Network@@ ().get@@ Id()); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); return null@@ ; }); if (get@@ Network@@ ().is@@ External@@ ()) { if (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Remove@@ Network@@ Command.get@@ Parameters@@ ().is@@ Remove@@ From@@ Network@@ Provider@@ ()) { remove@@ External@@ Network@@ (); } } if (org.ovirt.engine.core.bll.@@ network.@@ c@@ luster.@@ Network@@ Helper.@@ sh@@ oul@@ d@@ Remove@@ Network@@ From@@ Host@@ Up@@ on@@ Network@@ R@@ emo@@ val@@ (get@@ Network@@ ())) { remove@@ Network@@ From@@ Host@@ s(); } org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Remove@@ Network@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private void set@@ Vds@@ m@@ Names@@ In@@ Vds@@ Interfaces@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network network@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > int@@ er@@ fac@@ es) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > int@@ er@@ fac@@ es@@ To@@ Updat@@ e = new java.util.@@ Link@@ ed@@ List<@@ >(); int@@ er@@ fac@@ es.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ("@@ if@@ ac@@ e) -@@ > java.util.@@ Object@@ s.@@ e@@ qual@@ s@@ (@@ if@@ ac@@ e.get@@ Network@@ Name(), network@@ .getName()@@ )@@ )@@ .@@ for@@ E@@ ach@@ (@@ if@@ ac@@ e) -@@ > { if@@ ac@@ e.set@@ Network@@ Name(@@ network@@ .get@@ Vds@@ m@@ Name()); int@@ er@@ fac@@ es@@ To@@ Updat@@ e.@@ add@@ (@@ if@@ ac@@ e); int@@ er@@ fac@@ e@@ Dao@@ .@@ m@@ ass@@ Update@@ Interfaces@@ For@@ Vds@@ (@@ int@@ er@@ fac@@ es@@ To@@ Update@@ ); }
public void set@@ Vds@@ m@@ Names@@ In@@ Vds@@ Interfaces@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network network@@ , org.ovirt.engine.core.compat.Guid cluster@@ Id) { set@@ Vds@@ m@@ Names@@ In@@ Vds@@ Interfac@@ es(@@ network@@ , int@@ er@@ fac@@ e@@ Dao@@ .get@@ All@@ Interfaces@@ By@@ Cluster@@ Id@@ (cluster@@ Id@@ )); }
public void set@@ Vds@@ m@@ Names@@ In@@ Vds@@ Interfaces@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network network@@ ) { set@@ Vds@@ m@@ Names@@ In@@ Vds@@ Interfac@@ es(@@ network@@ , int@@ er@@ fac@@ e@@ Dao@@ .get@@ All@@ Interfaces@@ By@@ DataCenter@@ Id(@@ network@@ .get@@ DataCenter@@ Id@@ ())); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ Vms@@ Only@@ On@@ StorageDomain@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > all@@ Vms@@ R@@ el@@ ated@@ To@@ S@@ D = vm@@ Dao@@ .get@@ AllFor@@ StorageDomain@@ (get@@ StorageDomain@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ sWith@@ Disks@@ On@@ Multiple@@ StorageDomain = vm@@ Dao@@ .get@@ All@@ VM@@ sWith@@ Disks@@ On@@ O@@ th@@ er@@ StorageDomain@@ (get@@ StorageDomain@@ Id()); all@@ Vms@@ R@@ el@@ ated@@ To@@ S@@ D@@ .@@ remove@@ All@@ (vm@@ sWith@@ Disks@@ On@@ Multiple@@ StorageDomain@@ ); return all@@ Vms@@ R@@ el@@ ated@@ To@@ S@@ D@@ ; }
private java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > fin@@ d@@ Non@@ Respon@@ si@@ ve@@ Host@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s) { final java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > n@@ on@@ Respon@@ si@@ ve@@ Host@@ s = new java.util.Hash@@ Set@@ <@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { if ((@@ hos@@ t.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Non@@ Respon@@ si@@ ve@@ )) { n@@ on@@ Respon@@ si@@ ve@@ Host@@ s.add(@@ hos@@ t.get@@ Id()); } if ((((@@ hos@@ t.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ Down@@ )) || ((@@ hos@@ t.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ R@@ eb@@ oot@@ ))) && (@@ host.@@ is@@ In@@ Fence@@ F@@ low@@ ())) { host.@@ set@@ Status(@@ VDS@@ Status.@@ Non@@ Respon@@ si@@ ve@@ ); n@@ on@@ Respon@@ si@@ ve@@ Host@@ s.add(@@ hos@@ t.get@@ Id()); } return n@@ on@@ Respon@@ si@@ ve@@ Host@@ s@@ ; }
public void set@@ In@@ Fence@@ F@@ low@@ (@@ boolean is@@ In@@ Fence@@ F@@ low@@ ) { this@@ .is@@ In@@ Fence@@ F@@ lo@@ w = is@@ In@@ Fence@@ F@@ low@@ ; }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ id@@ , build@@ Name, cpu@@ C@@ or@@ es@@ , cpu@@ Th@@ rea@@ ds@@ , cpu@@ F@@ l@@ ag@@ s, cpu@@ Model@@ , cpu@@ S@@ ock@@ et@@ s, cpu@@ Sp@@ e@@ ed@@ M@@ h@@ , on@@ lin@@ e@@ C@@ p@@ us@@ , g@@ u@@ est@@ O@@ ver@@ h@@ ead@@ , h@@ ook@@ s@@ St@@ r@@ , host@@ O@@ s, i@@ S@@ csi@@ In@@ iti@@ ator@@ Name, if@@ T@@ otal@@ Sp@@ e@@ ed@@ , k@@ er@@ n@@ el@@ Version@@ , vm@@ Enabled@@ , k@@ vm@@ Version@@ , l@@ i@@ b@@ vi@@ r@@ t@@ Version@@ , r@@ p@@ m@@ Version@@ , mem@@ C@@ omm@@ it@@ ed@@ , net@@ Config@@ D@@ ir@@ ty@@ , n@@ on@@ Operation@@ al@@ Reason@@ , p@@ end@@ ing@@ V@@ c@@ p@@ us@@ Count@@ , p@@ end@@ ing@@ Vm@@ em@@ Size@@ , p@@ h@@ y@@ s@@ ical@@ Mem@@ M@@ b@@ , pre@@ vi@@ o@@ us@@ Status@@ , res@@ er@@ v@@ ed@@ Mem@@ , s@@ o@@ f@@ t@@ w@@ are@@ Version@@ , sp@@ ice@@ Version@@ , gluster@@ Version@@ , status@@ , support@@ ed@@ Cluster@@ L@@ ev@@ el@@ s, support@@ ed@@ Engin@@ es@@ , trans@@ parent@@ H@@ ug@@ e@@ P@@ ages@@ St@@ ate@@ , version@@ Name, vm@@ Active@@ , vm@@ Count@@ , support@@ ed@@ Rng@@ Sourc@@ es@@ , vm@@ Migr@@ at@@ ing@@ , in@@ com@@ ing@@ Migr@@ ation@@ s, out@@ go@@ ing@@ Migr@@ ation@@ s, vm@@ s@@ C@@ or@@ es@@ Count@@ , h@@ w@@ Man@@ u@@ fac@@ t@@ ur@@ er@@ , h@@ w@@ Pro@@ d@@ uct@@ Name, h@@ w@@ Ser@@ ial@@ Num@@ ber@@ , h@@ w@@ U@@ UID@@ , h@@ w@@ F@@ am@@ il@@ y@@ , H@@ B@@ As@@ , p@@ ower@@ Management@@ Cont@@ ro@@ ll@@ ed@@ By@@ Policy@@ , k@@ d@@ um@@ p@@ Status@@ , s@@ el@@ in@@ u@@ x@@ E@@ n@@ for@@ ce@@ M@@ ode@@ , a@@ uto@@ Numa@@ B@@ al@@ anc@@ ing@@ , num@@ a@@ Support@@ , num@@ a@@ Support@@ , add@@ ition@@ al@@ Feat@@ ur@@ es@@ , m@@ a@@ int@@ en@@ ance@@ Reason@@ , update@@ Available@@ , host@@ Device@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Enabled@@ , k@@ er@@ n@@ el@@ Arg@@ s, p@@ ret@@ ty@@ Name, host@@ ed@@ Engine@@ Configur@@ ed@@ Engine@@ Configur@@ ed@@ Engine@@ Configur@@ ed@@ Engine@@ Configur@@ ed@@ , re@@ port@@ ed@@ , F@@ lo@@ s@@ ); }
public boolean is@@ In@@ Fence@@ F@@ low@@ () { return is@@ In@@ Fence@@ F@@ low@@ ; }
private void set@@ In@@ Fence@@ F@@ low@@ (org.ovirt.engine.core.compat.Guid host@@ Id, boolean is@@ In@@ Fence@@ F@@ low@@ ) { org.ovirt.engine.core.common.businessentities.@@ Vds@@ Dynam@@ ic vds@@ Dynam@@ ic = vds@@ Dynamic@@ Dao@@ .get(@@ host@@ Id); vds@@ Dynamic@@ .set@@ In@@ Fence@@ F@@ low@@ (is@@ In@@ Fence@@ F@@ low@@ ); vds@@ Dynamic@@ Dao@@ .@@ updat@@ e(@@ vds@@ Dynamic@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.@@ A@@ udit@@ Lo@@ g audit@@ Lo@@ g = get@@ AuditLog@@ (); a@@ uditLog@@ Dao@@ .@@ remov@@ e(@@ org.ovirt.engine.core.bll.@@ Remove@@ AuditLog@@ By@@ Id@@ Command.getParameters().get@@ AuditLog@@ Id()); set@@ AuditLog@@ Detail@@ s(@@ a@@ uditLog@@ ); audit@@ Lo@@ g.@@ set@@ User@@ Id(@@ Guid@@ .@@ Empty@@ ); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Base log@@ able@@ To@@ Cl@@ e@@ a@@ r = org.ovirt.engine.core.dao.@@ i.@@ In@@ j@@ ect@@ or.@@ in@@ j@@ ect@@ Mem@@ b@@ ers@@ (@@ new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Bas@@ e(@@ audit@@ Lo@@ g.@@ get@@ Log@@ Typ@@ e()); event@@ F@@ lo@@ od@@ Re@@ g@@ ul@@ ator.@@ e@@ vi@@ c@@ t@@ (); org.ovirt.engine.core.bll.@@ Remove@@ AuditLog@@ By@@ Id@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
public static org.ovirt.engine.core.common.@@ network.@@ Fi@@ re@@ w@@ all@@ Type get@@ Default@@ Fi@@ re@@ w@@ all@@ Type(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion cluster@@ CompatibilityVersion@@ ) { return cluster@@ CompatibilityVersion@@ .@@ l@@ ess@@ (@@ Version@@ .@@ v@@ 4@@ _@@ 2@@ ) ? Fi@@ re@@ w@@ all@@ Type.@@ I@@ P@@ T@@ AB@@ LE@@ S : Fi@@ re@@ w@@ all@@ Type.@@ FI@@ RE@@ W@@ AL@@ L@@ D@@ ; }
public static org.ovirt.engine.core.common.@@ network.@@ Fi@@ re@@ w@@ all@@ Type value@@ Of@@ (@@ int value) { return value@@ ; }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ Lin@@ k types.@@ Disk@@ S@@ napsho@@ t disk@@ Snapshot@@ ();
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { m@@ and@@ ator@@ y@@ (@@ image@@ Trans@@ fer@@ ().@@ disk@@ Snapshot@@ ().@@ id@@ ()); }
protected boolean check@@ Disks@@ Not@@ In@@ Back@@ up@@ Storage@@ () { for (org.ovirt.engine.core.bll.@@ Disk dis@@ k : org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ()) { if ((@@ disk@@ .get@@ Disk@@ Storage@@ Type()) == (@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c d@@ est@@ Domain = storageDomain@@ Static@@ Dao@@ .get@@ ((@@ (org.ovirt.engine.core.bll.@@ DiskImage@@ ) (disk@@ )@@ ).get@@ Storage@@ Id@@ s().get@@ (0@@ )); if (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (@@ d@@ est@@ Domain@@ .is@@ Back@@ up@@ ())) { return false@@ ; } } return true@@ ; }
protected void update@@ StaticData@@ Default@@ s() { update@@ StorageDomain@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(); update@@ Space@@ Th@@ resh@@ ol@@ ds@@ (); update@@ StorageDomain@@ Back@@ up@@ (); }
private void w@@ ar@@ n@@ If@@ Not@@ All@@ Disks@@ Per@@ m@@ it@@ Snapshot@@ s() { for (@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ()) { if (!(@@ disk@@ .is@@ Allow@@ Snapshot@@ ())) { a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , AuditLogType.@@ US@@ ER_@@ R@@ UN@@ _@@ VM_@@ A@@ S_@@ ST@@ AT@@ E@@ LE@@ S@@ S_@@ W@@ I@@ TH@@ _@@ DIS@@ K@@ S_@@ NOT_@@ AL@@ LO@@ W@@ ING@@ _@@ S@@ NA@@ P@@ S@@ HO@@ T@@ ); break@@ ; } } }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.@@ AuditLog@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.@@ A@@ udit@@ Lo@@ g oth@@ er = ((org.ovirt.engine.core.common.businessentities.@@ AuditLog@@ ) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((@@ a@@ uditLog@@ Id) == (@@ oth@@ er.@@ a@@ uditLog@@ Id@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ log@@ Time@@ , oth@@ er.@@ log@@ Time@@ ))) && ((@@ log@@ Type@@ ) == (@@ oth@@ er.@@ log@@ Type@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ message@@ , oth@@ er.@@ message@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storageDomain@@ Id, oth@@ er.@@ storageDomain@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ storagePool@@ Id, oth@@ er.@@ storagePool@@ Id@@ ))) && ((@@ se@@ ver@@ ity@@ ) == (@@ oth@@ er.@@ se@@ ver@@ ity@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ user@@ Id, oth@@ er.@@ user@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vds@@ Id, oth@@ er.@@ vds@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ quota@@ Id, oth@@ er.@@ quota@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Id, oth@@ er.@@ vm@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Id@@ ))) && ((@@ pro@@ cess@@ ed@@ ) == (@@ oth@@ er.@@ pro@@ cess@@ ed@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ cor@@ r@@ el@@ ation@@ Id, oth@@ er.@@ cor@@ r@@ el@@ ation@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ job@@ Id, oth@@ er.@@ job@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ or@@ i@@ gin@@ , oth@@ er.@@ or@@ i@@ gin@@ ))) && ((@@ c@@ ustom@@ Id) == (@@ oth@@ er.@@ c@@ ustom@@ Event@@ Id@@ ))) && ((@@ event@@ F@@ lo@@ od@@ In@@ Sec@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ c@@ ustom@@ Data@@ , oth@@ er.@@ c@@ ustom@@ Data@@ ))) && ((@@ ex@@ ternal@@ ) == (@@ oth@@ er.@@ ex@@ ternal@@ ))) && ((@@ d@@ elet@@ ed@@ ) == (@@ oth@@ er.@@ d@@ elet@@ ed@@ ))) && (@@ oth@@ er.@@ d@@ elet@@ ed@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ call@@ St@@ ack@@ , oth@@ er.@@ call@@ St@@ ack@@ )); }
@java.lang.Override public org.ovirt.engine.api.@@ resource.@@ Host@@ Nic@@ N@@ e@@ ig@@ h@@ b@@ or@@ Resourc@@ e get@@ N@@ e@@ ig@@ h@@ b@@ or@@ Resourc@@ e() { return in@@ j@@ ect@@ (@@ new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Host@@ Nic@@ N@@ e@@ ig@@ h@@ b@@ or@@ Service@@ Resourc@@ e(@@ g@@ uid@@ , par@@ ent.@@ get@@ Host@@ Id@@ ())); }
@org.junit.@@ B@@ e@@ for@@ e public void set@@ up@@ En@@ vi@@ ron@@ ment@@ () { org.ovirt.engine.core.utils.@@ C@@ or@@ r@@ el@@ ation@@ Id@@ Tr@@ ack@@ er.@@ cl@@ e@@ an@@ (); org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r us@@ er = mock@@ (org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ User@@ .@@ class@@ ); when(@@ engin@@ e@@ Session@@ Dao@@ .@@ remov@@ e(@@ any@@ L@@ on@@ g@@ ())@@ ).@@ thenReturn(@@ 1@@ ); org.ovirt.engine.core.bll.@@ Command@@ Base@@ Test.@@ m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ User@@ Session@@ Time@@ Out@@ Inter@@ val@@ , 3@@ 0@@ ); s@@ ession@@ Data@@ Cont@@ ain@@ er.@@ set@@ User@@ (s@@ ession@@ , user@@ ); }
@org.junit.Test public void test@@ B@@ lock@@ Use@@ Host@@ Cpu@@ With@@ P@@ P@@ C@@ Ar@@ ch@@ () { when@@ (c@@ pu@@ F@@ l@@ ag@@ s@@ Manager@@ Handler@@ .get@@ Cpu@@ Id(@@ any@@ String@@ (), any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ C@@ P@@ U@@ _@@ ID@@ ); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ Cpu@@ Support@@ ed(@@ any@@ Int@@ (), any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ ), any@@ String@@ ())@@ ).@@ then@@ Return@@ (@@ true@@ ); do@@ Not@@ h@@ ing@@ ().@@ when@@ (c@@ md@@ ).@@ init@@ Template@@ Disks@@ (); set@@ up@@ Can@@ Add@@ P@@ pc@@ Test@@ (); cmd@@ .set@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (@@ Version@@ .@@ v@@ 4@@ _@@ 0@@ ); do@@ Return(@@ java.util.Collections.@@ em@@ pty@@ List@@ ()).@@ when@@ (c@@ md@@ ).get@@ Images@@ To@@ Check@@ Dest@@ ination@@ StorageDomain@@ s(); init@@ P@@ pc@@ Cluster@@ (); do@@ Return@@ (@@ true@@ ).when@@ (c@@ md@@ ).@@ validate@@ AddVm@@ Command@@ (); do@@ Return@@ (@@ true@@ ).when@@ (c@@ md@@ ).@@ is@@ Vm@@ Name@@ Valid@@ L@@ ength@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ .@@ class@@ )); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .get@@ Ar@@ ch@@ it@@ ect@@ ure@@ From@@ O@@ S@@ (@@ any@@ Int@@ ())@@ ).@@ thenReturn(@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ p@@ pc@@ 6@@ 4@@ ); cmd@@ .get@@ Parameters().get@@ Vm@@ ().set@@ Cluster@@ Ar@@ ch@@ (@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ p@@ pc@@ 6@@ 4@@ ); cmd@@ .get@@ Parameters().get@@ Vm@@ ().set@@ Use@@ Host@@ Cpu@@ F@@ l@@ ag@@ s@@ (@@ true@@ ); cmd@@ .get@@ Parameters().get@@ Vm@@ ().set@@ Migr@@ ation@@ Support@@ (@@ Migr@@ ation@@ Supp@@ or@@ t.@@ P@@ IN@@ N@@ ED_@@ T@@ O@@ _@@ HOST@@ ); cmd@@ .get@@ Parameters().get@@ Vm@@ ().set@@ Id@@ (cluster@@ .getId()); cmd@@ .get@@ Parameters().get@@ Vm@@ ().set@@ Vm@@ O@@ s(@@ Os@@ Type.@@ O@@ th@@ er.@@ or@@ d@@ in@@ al@@ ()); cmd@@ .@@ init@@ (); java.util.Map<java.lang.String, java.lang.String> m@@ igr@@ ation@@ Map = new java.util.HashMap@@ <java.lang.String, java.lang.String@@ >() { { { { { { { { put@@ ("@@ un@@ de@@ fin@@ ed@@ ", "@@ true@@ "); put@@ ("@@ x@@ 8@@ 6@@ ", "@@ true@@ "); } }; m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Is@@ Migr@@ ation@@ Supported@@ , cmd@@ .get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (), m@@ igr@@ ation@@ Map@@ ); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ cmd@@ , EngineMessage.@@ US@@ E_@@ HOST@@ _C@@ P@@ U@@ E@@ ST@@ ED_@@ ON_@@ UN@@ SUPPORT@@ ED_@@ AR@@ C@@ H@@ ); }
@java.lang.Override public void setUp@@ () { super@@ .set@@ Up@@ (); gener@@ ate@@ Storage@@ To@@ Disks@@ Map@@ (); init@@ Dest@@ S@@ D@@ s(); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Max@@ I@@ o@@ Th@@ rea@@ ds@@ Per@@ Vm@@ , 1@@ 2@@ 7@@ ); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Max@@ Vm@@ Name@@ L@@ ength@@ , 6@@ 4@@ ); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Supported@@ Cluster@@ L@@ ev@@ el@@ s, new java.util.Hash@@ Set@@ (@@ java.util.Arrays.as@@ List@@ (@@ new org.ovirt.engine.core.compat.@@ Version@@ (@@ 2@@ , 2@@ ), new org.ovirt.engine.core.compat.@@ Version@@ (@@ 3@@ , 0@@ )@@ ))); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Valid@@ NumOf@@ M@@ onitor@@ s, java.util.Arrays.as@@ List@@ ("@@ 1@@ ", "@@ 2@@ ", "@@ 4@@ ")); }
@java.lang.Override public void setUp@@ () throw@@ s java.lang.Exception { super@@ .set@@ Up@@ (); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Console@@ T@@ og@@ g@@ le@@ F@@ ull@@ S@@ c@@ re@@ en@@ Key@@ s, "@@ s@@ h@@ if@@ t@@ +@@ f@@ 1@@ "); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Console@@ R@@ el@@ e@@ ase@@ C@@ ur@@ s@@ or@@ Key@@ s, "@@ s@@ h@@ if@@ t@@ +@@ f@@ 1@@ 2@@ "); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ R@@ em@@ ap@@ C@@ tr@@ l@@ Al@@ t@@ D@@ el@@ Default@@ , true@@ ); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ F@@ ull@@ S@@ c@@ re@@ en@@ W@@ eb@@ admin@@ Default@@ , false@@ ); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ En@@ able@@ Sp@@ ice@@ R@@ oot@@ C@@ er@@ t@@ if@@ ic@@ ate@@ Validation@@ , true@@ ); }
@org.junit.Test public void test@@ Name@@ Not@@ Changed@@ () { pre@@ par@@ e@@ Vm@@ To@@ P@@ ass@@ Valid@@ at@@ e(); vm@@ .set@@ Name("@@ vm@@ 1@@ "); mock@@ S@@ ame@@ Name@@ Query@@ (@@ true@@ ); mock@@ Vm@@ Validator@@ (); command@@ .@@ init@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (); java.util.Map<java.lang.String, java.lang.String> m@@ igr@@ ation@@ Map = new java.util.HashMap@@ <java.lang.String, java.lang.String@@ >() { { { put@@ ("@@ un@@ de@@ fin@@ ed@@ ", "@@ true@@ "); put@@ ("@@ x@@ 8@@ 6@@ ", "@@ true@@ "); put@@ ("@@ p@@ pc@@ ", "@@ true@@ "); } }; org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command@@ Test.@@ m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Is@@ Migr@@ ation@@ Supported@@ , command@@ .get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (), m@@ igr@@ ation@@ Map@@ ); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command@@ Test.@@ m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Max@@ NumOf@@ Cpu@@ Per@@ S@@ ock@@ et@@ , command@@ .get@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (), 1@@ 6@@ ); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command@@ Test.@@ m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Max@@ NumOf@@ Th@@ rea@@ ds@@ Per@@ Cpu@@ , command@@ .get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (), 8@@ ); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command@@ Test.@@ m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Max@@ NumOf@@ Vm@@ C@@ p@@ us@@ , command@@ .get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (), 1@@ 6@@ ); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command@@ Test.@@ m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Max@@ NumOf@@ Vm@@ S@@ ock@@ et@@ s, command@@ .get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (), 1@@ 6@@ ); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command@@ Test.@@ m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ VM@@ 3@@ 2@@ B@@ it@@ Max@@ Memory@@ Size@@ In@@ M@@ B@@ , command@@ .get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (), 2@@ 0@@ 4@@ 8@@ 0@@ 4@@ 8@@ 0@@ 4@@ ); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command@@ Test.@@ m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ VM@@ 6@@ 4@@ B@@ it@@ Max@@ Memory@@ Size@@ In@@ M@@ B@@ , command@@ .get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (), 4@@ 9@@ 4@@ 0@@ 4@@ ); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command@@ Test.@@ m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ VM@@ P@@ pc@@ 6@@ 4@@ B@@ it@@ Max@@ Memory@@ Size@@ In@@ M@@ B@@ , command@@ .get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ (), 1@@ 0@@ 4@@ 8@@ 5@@ 7@@ 6@@ ); assert@@ Tr@@ ue(@@ "@@ c@@ r@@ .@@ p@@ ass@@ ed@@ .@@ p@@ ass@@ ed@@ .@@ valid@@ at@@ e()); }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { when@@ (vm@@ Dao@@ .get@@ (vm@@ .getId@@ ())@@ ).@@ then@@ Return@@ (vm@@ ); org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = new org.ovirt.engine.core.common.businessentities.@@ Cluster@@ (); c@@ luster.@@ set@@ Cpu@@ Name@@ ("@@ C@@ luster Con@@ ro@@ e F@@ am@@ il@@ y c@@ luster.@@ set@@ Ar@@ ch@@ it@@ ect@@ ur@@ e(@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ x@@ 8@@ 6@@ _@@ 6@@ 4@@ ); c@@ luster.@@ set@@ Id(@@ vm.get@@ Cluster@@ Id()); c@@ luster.@@ set@@ StoragePool@@ Id(@@ vm.get@@ StoragePool@@ Id()); c@@ luster.@@ set@@ CompatibilityVersion@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .get@@ L@@ ast@@ ()); when@@ (cluster@@ Dao@@ .get@@ (vm@@ .get@@ Cluster@@ Id@@ ())@@ ).@@ then@@ Return@@ (cluster@@ ); mock@@ Os@@ Rep@@ os@@ it@@ ory@@ (); do@@ Not@@ h@@ ing@@ ().@@ when@@ (c@@ md@@ ).@@ se@@ par@@ ate@@ Custom@@ Properties@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Static@@ .@@ class@@ )); do@@ Return@@ (get@@ Disks@@ List@@ (vm@@ .get@@ StoragePool@@ Id@@ ())@@ ).when@@ (c@@ md@@ ).get@@ Vm@@ Disks@@ From@@ D@@ B@@ (); do@@ Return@@ (vm@@ Device@@ Util@@ s@@ ).when@@ (c@@ md@@ ).get@@ VmDevice@@ Util@@ s(); org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command@@ Test.@@ m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Vm@@ P@@ ri@@ or@@ ity@@ Max@@ Value@@ , 1@@ 00@@ ); cmd@@ .@@ init@@ (); }
@java.lang.Override public void setUp@@ () throw@@ s java.lang.Exception { super@@ .set@@ Up@@ (); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ O@@ vi@@ r@@ t@@ In@@ itial@@ Supported@@ Iso@@ Version@@ , "@@ 5@@ .@@ 8@@ "); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ O@@ vi@@ r@@ t@@ Iso@@ Pre@@ fi@@ x@@ , "@@ r@@ h@@ ev@@ h@@ ev@@ h@@ "); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ O@@ vi@@ r@@ t@@ Node@@ O@@ S@@ , "@@ ^@@ *@@ $@@ "); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ Data@@ D@@ ir@@ , "@@ /@@ us@@ r@@ /@@ sh@@ are@@ /@@ ovir@@ t@@ -@@ engin@@ e@@ "); m@@ c@@ r@@ .@@ mock@@ Config@@ Value(ConfigValues.@@ o@@ Vir@@ t@@ IS@@ Os@@ Rep@@ os@@ it@@ ory@@ Path@@ , "@@ /@@ us@@ r@@ /@@ h@@ ev@@ -@@ h@@ ev@@ -@@ h@@ yp@@ er@@ vi@@ s@@ or@@ "); }
private java.lang.String r@@ ender@@ Port@@ M@@ i@@ rr@@ or@@ ing@@ (@@ boolean port@@ M@@ i@@ rr@@ or@@ ing@@ ) { return org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ Item@@ .@@ const@@ an@@ t@@ s.@@ y@@ es@@ (); }
@java.lang.Override public void set@@ Enabled@@ (@@ boolean en@@ abl@@ ed@@ ) { this@@ .@@ en@@ abl@@ ed = en@@ abl@@ ed@@ ; name@@ Editor@@ .set@@ Enabl@@ ed(@@ en@@ abl@@ ed@@ ); value@@ Editor@@ .set@@ Enabl@@ ed(@@ en@@ abl@@ ed@@ ); }
@java.lang.Override protected void init@@ () { set@@ Network@@ Filter@@ Parameter@@ Widget@@ Visi@@ bl@@ e@@ (@@ true@@ ); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Nic@@ Type@@ List@@ (get@@ Vm@@ ().get@@ Os@@ Id(), get@@ Cluster@@ CompatibilityVersion@@ (), new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Async@@ Query@@ (@@ ("@@ v@@ return@@ Value@@ ) -@@ > { set@@ Supported@@ Typ@@ es@@ (@@ return@@ Value@@ ); p@@ ost@@ Nic@@ (); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Interface@@ Model if@@ ac@@ e) { d@@ ri@@ v@@ er.@@ edit@@ (@@ if@@ ac@@ e); if@@ ac@@ e.get@@ Network@@ Filter@@ Parameter@@ Widget@@ .@@ edit@@ (@@ if@@ ac@@ e.get@@ Network@@ Filter@@ Parameter@@ ListModel@@ ()); network@@ Filter@@ Parameter@@ Widget@@ .set@@ Enabled@@ (@@ if@@ ac@@ e.@@ is@@ Network@@ Filter@@ Parameter@@ Widget@@ Visi@@ bl@@ e()); network@@ Filter@@ Parameter@@ Widget@@ .set@@ Visi@@ bl@@ e@@ (@@ if@@ ac@@ e.@@ is@@ Network@@ Filter@@ Parameter@@ Widget@@ Visi@@ bl@@ e()); h@@ id@@ e@@ Mac@@ W@@ h@@ en@@ Not@@ Enabled@@ (@@ if@@ ac@@ e); if@@ ac@@ e.get@@ M@@ AC@@ ().get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new ("@@ Is@@ Available@@ "@@ .equals(@@ arg@@ s.@@ proper@@ ty@@ Name@@ )) { h@@ id@@ e@@ Mac@@ W@@ h@@ en@@ Not@@ Enabled@@ (@@ if@@ ac@@ e); } }); }
protected void p@@ ost@@ On@@ S@@ av@@ e() { cancel@@ (); }
protected void on@@ S@@ av@@ e() { org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface n@@ ic = create@@ Base@@ Nic@@ (); if ((get@@ Progress@@ ()) != null@@ ) { return@@ ; } if (!(@@ valid@@ at@@ e())) { return@@ ; } nic@@ .set@@ Name(@@ get@@ Nam@@ e().get@@ Entity@@ ()); org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ Vi@@ e@@ w profil@@ e = get@@ Profil@@ e().get@@ SelectedItem@@ (); nic@@ .set@@ Vnic@@ Profile@@ Id(@@ profil@@ e.get@@ Id()); nic@@ .set@@ Network@@ Name(@@ profil@@ e.get@@ Network@@ Name()); nic@@ .set@@ Link@@ ed@@ (get@@ Link@@ ed@@ ().getEntity@@ ()); if ((get@@ Nic@@ Typ@@ e().get@@ SelectedItem@@ ()) == null@@ ) { nic@@ .set@@ Type@@ (@@ null@@ ); } else { nic@@ .set@@ Type(@@ get@@ Nic@@ Typ@@ e().get@@ SelectedItem@@ ().get@@ Valu@@ e()); } on@@ S@@ ave@@ M@@ AC@@ (@@ nic@@ ); nic@@ .set@@ Plug@@ ged@@ (get@@ Plug@@ ged@@ ().getEntity@@ ()); st@@ art@@ Progress@@ (); s@@ ave@@ Su@@ ceed@@ ed = false@@ ; org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ (get@@ Action@@ Typ@@ e(), create@@ Vdc@@ Action@@ Parameters(@@ nic@@ ), ("@@ On@@ -@@ > { org.ovirt.engine.core.common.action.VdcReturnValue@@ Base return@@ Valu@@ e = result.get@@ ReturnValu@@ e(); if (@@ return@@ Valu@@ e != null@@ ) && (@@ return@@ Valu@@ e.get@@ Succeeded@@ ())) { java.lang.Object action@@ ReturnValue = return@@ Valu@@ e.get@@ Action@@ ReturnValu@@ e(); s@@ ave@@ Su@@ ceed@@ ed = true@@ ; if ((@@ action@@ ReturnValue != null@@ ) && (@@ action@@ ReturnValue instanceof org.ovirt.engine.core.compat.Guid@@ )) { s@@ ave@@ Nic@@ Parameters@@ (((@@ org.ovirt.engine.core.compat.Guid@@ ) (@@ action@@ ReturnValue@@ ))); } else { p@@ ost@@ On@@ S@@ av@@ e(); } }
@java.lang.Override protected void init@@ () { super@@ .@@ init@@ (); }
private void p@@ ost@@ Nic@@ Init@@ () { get@@ Name()@@ .set@@ Entity@@ (get@@ Nic@@ ().get@@ Name()); init@@ M@@ AC@@ (); init@@ Link@@ ed@@ (); init@@ Link@@ ed@@ (); init@@ Network@@ Filter@@ Parameters@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Async@@ Query@@ (@@ ("@@ nic@@ Value@@ ) -@@ > { if (@@ return@@ Valu@@ e != null@@ ) { get@@ Network@@ Filter@@ ListModel@@ ().set@@ Item@@ s@@ (@@ return@@ Value@@ ); } }
public org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Nic@@ Filter@@ Paramet@@ er f@@ l@@ us@@ h@@ () { get@@ Entity@@ ().set@@ Name(@@ nam@@ e.get@@ Entity@@ ()); get@@ Entity@@ ().set@@ Value(@@ valu@@ e.get@@ Entity@@ ()); return get@@ Entity@@ (); }
protected java.util.Map<java.lang.String, java.lang.String> create@@ Port@@ Al@@ loc@@ ation@@ Run@@ time@@ Properties@@ (c@@ om@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .@@ model.@@ P@@ or@@ t port@@ ) { java.util.Map<java.lang.String, java.lang.String> run@@ time@@ Proper@@ ti@@ es = new java.util.HashMap@@ <@@ >(); run@@ time@@ Properties.@@ put@@ ("@@ v@@ nic@@ _id", p@@ or@@ t.get@@ Id()); java.lang.String p@@ rovider@@ Type = get@@ Provider@@ ().get@@ Typ@@ e().@@ nam@@ e(); run@@ time@@ Properties.@@ put@@ ("@@ p@@ rovider@@ _@@ type@@ ", p@@ rovider@@ Type@@ ); if (((@@ p@@ or@@ t.get@@ Sec@@ ur@@ ity@@ Group@@ s()) != null@@ ) && (!(@@ p@@ or@@ t.get@@ Sec@@ ur@@ ity@@ Group@@ s().@@ isEmpty@@ ()))) { run@@ time@@ Properties.@@ put@@ ("@@ s@@ ec@@ ur@@ ity@@ _@@ group@@ s", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (p@@ or@@ t.get@@ Sec@@ ur@@ ity@@ Group@@ s@@ (), '@@ ,@@ '@@ )); } java.lang.String p@@ lu@@ gin@@ Type = get@@ Provider@@ ().get@@ Add@@ ition@@ al@@ Properties@@ ().get@@ P@@ lu@@ gin@@ Typ@@ e(); if (p@@ lu@@ gin@@ Type == null@@ ) { p@@ lu@@ gin@@ Type = "@@ "@@ "@@ "@@ "@@ "@@ ; } run@@ time@@ Properties.@@ put@@ ("@@ p@@ lu@@ gin@@ _@@ type@@ ", p@@ lu@@ gin@@ Type@@ ); return run@@ time@@ Properties@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se remov@@ e() { org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = org.ovirt.engine.api.restapi.resource.@@ Backend@@ Cluster@@ Feat@@ ure@@ Hel@@ per@@ .get@@ Cluster@@ With@@ Feat@@ ure@@ Dis@@ abl@@ ed@@ (@@ this@@ , cluster@@ Id, g@@ uid@@ ); org.ovirt.engine.core.common.action.@@ Management@@ Network@@ On@@ Cluster@@ Operation@@ Parameters par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ Management@@ Network@@ On@@ Cluster@@ Operation@@ Parameters@@ (cluster@@ ); return p@@ er@@ for@@ m@@ Action@@ (@@ ActionType.@@ Update@@ Cluster@@ , param@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Cluster@@ Feat@@ ur@@ e f@@ eat@@ ur@@ e) { validate@@ Parameters(@@ f@@ eat@@ ur@@ e); org.ovirt.engine.core.common.businessentities.@@ Add@@ ition@@ al@@ Feat@@ ur@@ e f@@ eat@@ ure@@ Entity = map@@ (@@ f@@ eat@@ ure@@ , null@@ ); org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = org.ovirt.engine.api.restapi.resource.@@ Backend@@ Cluster@@ Feat@@ ure@@ Hel@@ per@@ .get@@ Cluster@@ Entity@@ (@@ this@@ , cluster@@ Id); org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ur@@ e support@@ ed@@ Feat@@ ur@@ e = new org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ur@@ e(); support@@ ed@@ Feat@@ ur@@ e.set@@ Feat@@ ur@@ e(@@ f@@ eat@@ ure@@ Entity@@ ); support@@ ed@@ Feat@@ ur@@ e.set@@ Enabled@@ (@@ true@@ ); support@@ ed@@ Feat@@ ur@@ e.set@@ Cluster@@ Id@@ (cluster@@ Id); cluster@@ .get@@ Add@@ tion@@ al@@ Feat@@ ur@@ es@@ Supported@@ ().@@ add(@@ support@@ ed@@ Feat@@ ur@@ e); org.ovirt.engine.core.common.action.@@ Management@@ Network@@ On@@ Cluster@@ Operation@@ Parameters par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ Management@@ Network@@ On@@ Cluster@@ Operation@@ Parameters@@ (cluster@@ ); return p@@ er@@ for@@ m@@ Cre@@ ate(@@ ActionType.@@ Update@@ Cluster@@ , param@@ , new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Cluster@@ Enabled@@ Feat@@ ur@@ es@@ Resourc@@ e.@@ Cluster@@ Feat@@ ure@@ Id@@ Res@@ ol@@ ver@@ (cluster@@ Id, f@@ eat@@ ure@@ Entity@@ .getId@@ ())); }
@java.lang.Override public org.ovirt.engine.api.model.@@ Cluster@@ Feat@@ ure@@ s list@@ () { org.ovirt.engine.api.model.@@ Cluster@@ Feat@@ ure@@ s f@@ eat@@ ure@@ s = new org.ovirt.engine.api.model.@@ Cluster@@ Feat@@ ur@@ es@@ (); java.util.Set@@ <org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ure@@ > add@@ Feat@@ ure@@ s = get@@ Option@@ al@@ Entity(@@ java.util.Set@@ .@@ class@@ , Query@@ Type.Get@@ Cluster@@ Feat@@ ur@@ es@@ By@@ Cluster@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (cluster@@ Id@@ ), cluster@@ Id@@ .toString@@ (), false@@ ); if (@@ add@@ Feat@@ ure@@ s != null@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ur@@ e enti@@ ty : add@@ l@@ Feat@@ ur@@ es) { if (@@ entity@@ .is@@ Enabled@@ ()) { f@@ eat@@ ur@@ es@@ .get@@ Cluster@@ Feat@@ ur@@ es@@ ().@@ add(@@ add@@ Link@@ s(@@ map@@ (@@ entity.get@@ Feat@@ ur@@ e(), null@@ ))); } } return f@@ eat@@ ur@@ es@@ ; }
public static org.ovirt.engine.core.common.businessentities.@@ C@@ luster get@@ Cluster@@ Entity(@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Resourc@@ e res@@ ource@@ , org.ovirt.engine.core.compat.Guid cluster@@ Id) { org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = resourc@@ e.get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ Cluster@@ .@@ class@@ , Query@@ Type.Get@@ Cluster@@ By@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (cluster@@ Id@@ ), null@@ , true@@ ); return cluster@@ ; }
public static org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ur@@ e get@@ Enabled@@ Feat@@ ur@@ e(@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Resourc@@ e res@@ ource@@ , org.ovirt.engine.core.compat.Guid cluster@@ Id, org.ovirt.engine.core.compat.Guid id@@ ) { java.util.Set@@ <org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ure@@ > add@@ Feat@@ ure@@ s = resourc@@ e.get@@ Option@@ al@@ Entity(@@ java.util.Set@@ .@@ class@@ , Query@@ Type.Get@@ Cluster@@ Feat@@ ur@@ es@@ By@@ Cluster@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (cluster@@ Id@@ ), cluster@@ Id@@ .toString@@ (), false@@ ); org.ovirt.engine.core.common.businessentities.@@ Supported@@ Add@@ ition@@ al@@ Cluster@@ Feat@@ ur@@ e f@@ eat@@ ur@@ e = add@@ l@@ Feat@@ ur@@ es.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( f@@ ) -@@ > (@@ f@@ .get@@ Feat@@ ur@@ e().get@@ Id().@@ equals(@@ id@@ )) && (@@ f@@ .is@@ Enabled@@ ())@@ ).@@ fin@@ d@@ F@@ ir@@ st@@ ().@@ or@@ El@@ se@@ (@@ null@@ ); return f@@ eat@@ ure@@ ; }
public static java.util.Set@@ <org.ovirt.engine.core.common.businessentities.@@ Add@@ ition@@ al@@ Feat@@ ure@@ > get@@ Cluster@@ Feat@@ ur@@ es(@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Resourc@@ e res@@ ource@@ , java.lang.String version@@ ) { java.util.Set@@ <org.ovirt.engine.core.common.businessentities.@@ Add@@ ition@@ al@@ Feat@@ ure@@ > add@@ l@@ Feat@@ ure@@ s = new java.util.Hash@@ Set@@ <@@ >(); add@@ Feat@@ ure@@ s = resourc@@ e.get@@ Entity(@@ java.util.Set@@ .@@ class@@ , Query@@ Type.Get@@ Cluster@@ Feat@@ ur@@ es@@ By@@ Version@@ And@@ C@@ ate@@ g@@ ory@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Cluster@@ Feat@@ ur@@ es@@ By@@ Version@@ And@@ C@@ ate@@ g@@ ory@@ Parameters@@ (@@ new org.ovirt.engine.core.compat.@@ Version@@ (@@ version@@ ), resourc@@ e.get@@ C@@ urrent@@ ().get@@ Application@@ Mod@@ e()@@ ), ("@@ f@@ eat@@ ure@@ s for version@@ :@@ " + version@@ )); return add@@ Feat@@ ur@@ es@@ ; }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Image@@ File@@ Type@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Image@@ File@@ Type@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Image@@ File@@ Type map@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ File@@ Type image@@ File@@ Type, org.ovirt.engine.api.model.@@ Image@@ File@@ Type template@@ ) { switch (@@ image@@ File@@ Type@@ ) { case Un@@ k@@ n@@ ow@@ n : return org.ovirt.engine.api.model.@@ Image@@ File@@ Type.@@ UN@@ K@@ NO@@ W@@ N@@ ; case IS@@ O : return org.ovirt.engine.api.model.@@ Image@@ File@@ Type.@@ IS@@ O@@ ; case F@@ lo@@ p@@ y : return org.ovirt.engine.api.model.@@ Image@@ File@@ Type.@@ F@@ LO@@ P@@ Y@@ ; case Disk : return org.ovirt.engine.api.model.@@ Image@@ File@@ Type.@@ DIS@@ K@@ ; case Al@@ l : return org.ovirt.engine.api.model.@@ Image@@ File@@ Type.@@ AL@@ L@@ ; default : return null@@ ; } }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.core.common.businessentities.storage.@@ Rep@@ o@@ Image@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Image@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Image map@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Rep@@ o@@ Image entity@@ , org.ovirt.engine.api.model.@@ Image template@@ ) { org.ovirt.engine.api.model.@@ Image model = (@@ templat@@ e != null@@ ) ? templat@@ e : new org.ovirt.engine.api.model.@@ Image@@ (); model.set@@ Id(@@ entity.get@@ Rep@@ o@@ Image@@ Id()); model.set@@ Name(@@ entity.get@@ Rep@@ o@@ Image@@ Name()); if ((@@ entity.get@@ Siz@@ e()) != null@@ ) { model.set@@ Siz@@ e(@@ entity.get@@ Siz@@ e()@@ .@@ int@@ Valu@@ e()); } if ((@@ entity.get@@ File@@ Type()) != null@@ ) { model.set@@ File@@ Type(@@ org.ovirt.engine.api.restapi.@@ types.@@ Image@@ Mapper.@@ map@@ (@@ entity.get@@ File@@ Typ@@ e(), null@@ )); } return model@@ ; }
@java.lang.Override protected boolean validate@@ Image@@ Trans@@ fer@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = get@@ DiskImage@@ (); org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator disk@@ Validator = get@@ Disk@@ Validator@@ (disk@@ Image@@ ); org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Images@@ Validator disk@@ Images@@ Validator = get@@ Disk@@ Images@@ Validator@@ (disk@@ Image@@ ); org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator = get@@ StorageDomain@@ Validator@@ (@@ storageDomain@@ Dao@@ .get@@ For@@ StoragePool@@ (disk@@ Image.get@@ Storage@@ Id@@ s().get@@ (@@ validate(@@ disk@@ Image.get@@ StoragePool@@ Id@@ ())); return ((((@@ validate@@ (@@ disk@@ Images@@ Validator.@@ is@@ Disk@@ Plug@@ ged@@ To@@ An@@ y@@ Non@@ Down@@ Vm@@ (@@ false@@ )))) && (@@ validate(@@ disk@@ Images@@ Validator.@@ disk@@ Images@@ Not@@ I@@ ll@@ eg@@ al@@ ()))) && (@@ validate(@@ disk@@ Images@@ Validator.@@ disk@@ Images@@ Not@@ Lock@@ ed@@ ()))) && (@@ validate(@@ disk@@ Images@@ Validator.@@ storageDomain@@ Domain@@ Exist@@ And@@ Acti@@ v@@ e())); }
protected org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage get@@ DiskImage@@ () { if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ DiskImage@@ Command.getParameters().get@@ Image@@ Id@@ ()))) { return super@@ .get@@ DiskImage@@ (); } return ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ DiskImage@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ ()))); }
@java.lang.Override public void init@@ () { super@@ .@@ init@@ (); set@@ Image@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Image@@ Id()); set@@ Image@@ Group@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ ()); }
public void pro@@ ceed@@ Command@@ Execution@@ (org.ovirt.engine.core.compat.Guid ch@@ il@@ d@@ C@@ md@@ Id) { org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er enti@@ ty = image@@ Trans@@ fer@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); if ((@@ enti@@ ty == null@@ ) || ((@@ entity.get@@ P@@ has@@ e()) == null@@ )) { log.error@@ ((@@ "@@ H@@ ig@@ h@@ t trans@@ f@@ er stat@@ u@@ s enti@@ ty cor@@ r@@ up@@ t or mis@@ s@@ ing f@@ ro@@ m data@@ b@@ ase " + for im@@ age trans@@ f@@ er c@@ ommand '{}@@ ' org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); set@@ Command@@ Status(@@ Command@@ Status.@@ FAIL@@ ED); return@@ ; } if ((@@ entity.get@@ Disk@@ Id()) != null@@ ) { set@@ Image@@ Id(@@ entity.get@@ Disk@@ Id()); } long t@@ s = (@@ java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ ()) / 1@@ 00@@ 0@@ ; if (p@@ a@@ us@@ e@@ Trans@@ fer@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (@@ entity@@ , t@@ s@@ )) { return@@ ; } execute@@ St@@ ate@@ Handler@@ (@@ entity@@ , t@@ s, ch@@ il@@ d@@ C@@ md@@ Id); }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > get@@ Permission@@ Check@@ Su@@ bject@@ s() { java.util.List<@@ org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ > list@@ Permission@@ Su@@ bject@@ s = new java.util.ArrayList<@@ >(); if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ DiskImage@@ Command.@@ is@@ Image@@ Provi@@ d@@ ed@@ ()) { list@@ Permission@@ Su@@ bject@@ s.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ DiskImage@@ Command.get@@ Image@@ Group@@ Id(), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ ED@@ I@@ T_@@ DIS@@ K_@@ P@@ RO@@ P@@ ER@@ TI@@ E@@ S@@ )); } else { list@@ Permission@@ Su@@ bject@@ s.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ DiskImage@@ Command.get@@ Parameters@@ (), org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Stor@@ age Action@@ Group@@ , org.ovirt.engine.core.common.businessentities.@@ Action@@ Group@@ .@@ C@@ RE@@ AT@@ E_@@ DIS@@ K@@ )); } return list@@ Permission@@ Su@@ bject@@ s@@ ; }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> get@@ Sh@@ ared@@ Lock@@ s() { java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> lock@@ s = new java.util.HashMap@@ <@@ >(); lock@@ s.@@ put@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ DiskImage@@ Command.get@@ Image@@ Group@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ DIS@@ K@@ , EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ IS@@ _@@ LO@@ C@@ K@@ ED@@ )); if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ DiskImage@@ Command.getParameters().get@@ Image@@ Id@@ ()))) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = vm@@ Dao@@ .get@@ Vms@@ List@@ For@@ Disk@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ DiskImage@@ Command.get@@ Image@@ Group@@ Id(), true@@ ); vm@@ s@@ .@@ for@@ E@@ ach@@ (@@ ( vm@@ ) -@@ > lock@@ s.@@ put@@ (vm@@ .get@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VM@@ , EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ IS@@ _@@ LO@@ C@@ K@@ ED@@ ))); } return lock@@ s@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add@@ For@@ Snapshot@@ (@@ org.ovirt.engine.api.model.@@ Image@@ Trans@@ f@@ er image@@ Trans@@ fer@@ ) { org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ DiskImage@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ DiskImage@@ Parameters@@ (); params.set@@ Image@@ Id(@@ org.ovirt.engine.api.restapi.@@ utils.@@ Guid@@ Utils.@@ as@@ Guid@@ (@@ image@@ Trans@@ fer@@ .get@@ Disk@@ Snapshot@@ ().get@@ Id@@ ())); return p@@ er@@ for@@ m@@ Cre@@ ate(@@ image@@ Trans@@ fer@@ , param@@ s); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se to@@ Respon@@ se(@@ org.ovirt.engine.api.restapi.@@ utils.@@ M@@ al@@ for@@ m@@ ed@@ Id@@ Exception ex@@ ce@@ ption@@ ) { org.ovirt.engine.api.restapi.resource.@@ validation.@@ M@@ al@@ for@@ m@@ ed@@ Id@@ Exception@@ Mapper.@@ log.error@@ ("@@ M@@ al@@ for@@ m@@ ed@@ Id@@ Exception@@ "); return javax.ws.rs.@@ core.@@ Respon@@ s@@ e.@@ status@@ (@@ Status.@@ B@@ AD@@ _@@ RE@@ Q@@ U@@ E@@ ST@@ ).@@ entity@@ (@@ ex@@ ce@@ ption@@ ).@@ build@@ (); }
private void dis@@ able@@ An@@ y@@ Us@@ b@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base old@@ Vm@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Base new@@ Vm@@ ) { final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > us@@ b@@ Cont@@ ro@@ ll@@ ers@@ ; if ((((@@ ((org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ Policy@@ .@@ DIS@@ AB@@ L@@ ED@@ ) == (@@ old@@ Vm@@ .get@@ Us@@ b@@ Policy@@ ())) && ((@@ org.ovirt.engine.core.common.businessentities.Vm@@ Type.@@ H@@ ig@@ h@@ P@@ er@@ for@@ m@@ ance@@ ) == (@@ old@@ Vm@@ .get@@ Vm@@ Typ@@ e()@@ ))) && ((@@ us@@ b@@ Cont@@ ro@@ ll@@ er@@ s = get@@ Us@@ b@@ Cont@@ ro@@ ll@@ ers@@ (@@ new@@ Vm@@ .getId@@ ())) != null@@ )) && ((@@ us@@ b@@ Cont@@ ro@@ ll@@ er@@ s.@@ size()) == 1@@ )) && (@@ Us@@ b@@ Cont@@ ro@@ ll@@ er@@ Model.@@ N@@ ON@@ E@@ .@@ l@@ i@@ b@@ vi@@ r@@ t@@ Nam@@ e.@@ equals(@@ get@@ Us@@ b@@ Cont@@ ro@@ ll@@ er@@ Model@@ Name(@@ us@@ b@@ Cont@@ ro@@ ll@@ ers@@ .get@@ (0@@ )@@ )))) { return@@ ; } if ((org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ Policy@@ .@@ EN@@ AB@@ L@@ ED_@@ NA@@ TI@@ V@@ E@@ ) == (@@ old@@ Vm@@ .get@@ Us@@ b@@ Policy@@ ())) { dis@@ able@@ Sp@@ ice@@ Us@@ b@@ (@@ new@@ Vm@@ .getId()); } else if ((org.ovirt.engine.core.common.businessentities.@@ Us@@ b@@ Policy@@ .@@ DIS@@ AB@@ L@@ ED@@ ) == (@@ old@@ Vm@@ .get@@ Us@@ b@@ Policy@@ ())) { dis@@ able@@ N@@ or@@ m@@ al@@ Us@@ b@@ (@@ new@@ Vm@@ .getId()); } add@@ Manage@@ d@@ Device@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), new@@ Guid@@ ()), VmDevice@@ Gener@@ al@@ Type.@@ CON@@ T@@ RO@@ L@@ ER@@ , VmDevice@@ Type.@@ US@@ B@@ , create@@ Us@@ b@@ Cont@@ ro@@ ll@@ er@@ Sp@@ ec@@ Param@@ s(@@ Us@@ b@@ Cont@@ ro@@ ll@@ er@@ Model.@@ N@@ ON@@ E@@ .@@ l@@ i@@ b@@ vi@@ r@@ t@@ Name, 0@@ ), true@@ , false@@ ); }
public org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e getVm@@ Devic@@ e() { java.util.Map<java.lang.String, java.lang.Object> sp@@ ec@@ Param@@ s = new java.util.HashMap@@ <@@ >(); sp@@ ec@@ Param@@ s.@@ put@@ ("@@ action@@ ", action.@@ nam@@ e()); sp@@ ec@@ Param@@ s.@@ put@@ ("@@ model@@ ", model.@@ nam@@ e()); return new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ (@@ new org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), id@@ ), VmDevice@@ Gener@@ al@@ Type.@@ W@@ AT@@ C@@ H@@ DO@@ G@@ , VmDevice@@ Type.@@ W@@ AT@@ C@@ H@@ DO@@ G@@ .get@@ Name(), "@@ ", sp@@ ec@@ Param@@ s, true@@ , true@@ , false@@ , "@@ ", null@@ , null@@ , null@@ ); }
public void vm@@ Type@@ Changed@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Type vm@@ Type@@ ) { if (@@ b@@ as@@ ed@@ On@@ Custom@@ In@@ stance@@ Type()) { getModel().get@@ Is@@ S@@ oun@@ dc@@ ard@@ Enabled@@ ().set@@ Entity@@ ((@@ vm@@ Type == (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Type.@@ D@@ es@@ k@@ t@@ op@@ ))); } getModel().get@@ Allow@@ Console@@ Rec@@ on@@ n@@ ect@@ ().set@@ Entity@@ ((@@ vm@@ Type == (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Type.@@ Server@@ ))); if (vm@@ Type == (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Type.@@ H@@ ig@@ h@@ P@@ er@@ for@@ m@@ ance@@ )) { getModel().get@@ Is@@ H@@ ead@@ l@@ ess@@ M@@ ode@@ Enabled@@ ().set@@ Entity@@ (@@ true@@ ); getModel().get@@ Is@@ Console@@ Device@@ Enabled@@ ().set@@ Entity@@ (@@ true@@ ); getModel().get@@ Us@@ b@@ Policy@@ ().set@@ SelectedItem@@ (@@ Us@@ b@@ Policy@@ .@@ DIS@@ AB@@ L@@ ED); getModel().get@@ W@@ at@@ ch@@ do@@ g@@ Model@@ ().set@@ SelectedItem@@ (@@ null@@ ); getModel().get@@ W@@ at@@ ch@@ do@@ g@@ Action@@ ().set@@ SelectedItem@@ (get@@ Model().get@@ W@@ at@@ ch@@ do@@ g@@ Action@@ ().get@@ Item@@ s().@@ it@@ er@@ ator@@ ().@@ ne@@ xt@@ ()); getModel().get@@ Is@@ H@@ ig@@ h@@ ly@@ Avail@@ abl@@ e().set@@ Entity@@ (@@ false@@ ); } }
private void on@@ Dest@@ ro@@ y@@ () { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); if ((@@ model.get@@ Progress@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ Domain = get@@ SelectedItem@@ (); model.@@ st@@ art@@ Progress@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action@@ (@@ ActionType.@@ For@@ ce@@ Remove@@ StorageDomain@@ , new java.util.Array@@ List(@@ java.util.Arrays.as@@ List@@ (@@ new org.ovirt.engine.core.common.action.@@ Action@@ Parameters@@ Base@@ []{ new org.ovirt.engine.core.common.action.@@ For@@ ce@@ Remove@@ StorageDomain@@ Parameters@@ (@@ storageDomain@@ .getId@@ ()) }@@ )@@ ), ("@@ $@@ storage@@ -@@ > { org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model loc@@ al@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (@@ result.get@@ Stat@@ e())); loc@@ al@@ Model.@@ st@@ op@@ Progress@@ (); cancel@@ (); }
@org.junit.Test public void test@@ Remove@@ With@@ Dest@@ ro@@ y@@ () throw@@ s java.lang.Exception { setUp@@ Get@@ Entity@@ Expectation@@ s(); javax.ws.rs.@@ core.@@ U@@ ri@@ In@@ f@@ o ur@@ i@@ In@@ f@@ o = setUp@@ Action@@ Expectations(@@ ActionType.@@ For@@ ce@@ Remove@@ StorageDomain@@ , org.ovirt.engine.core.common.action.@@ For@@ ce@@ Remove@@ StorageDomain@@ Parameters@@ .@@ class@@ , new java.lang.String@@ []{ "@@ StorageDomain@@ Id@@ ", "@@ Vds@@ Id@@ " }, new java.lang.Object@@ []{ G@@ UID@@ S[@@ 0@@ ]@@ , G@@ UID@@ S[@@ 1@@ ] }, true@@ , true@@ , true@@ , false@@ ); java.util.Map<java.lang.String, java.lang.String> parameter@@ s = new java.util.HashMap@@ <@@ >(); parameter@@ s.@@ put(@@ Backend@@ StorageDomain@@ Resourc@@ e.@@ HOST@@ , G@@ UID@@ S[@@ 1@@ ]@@ .toString@@ ()); parameter@@ s.@@ put(@@ Backend@@ StorageDomain@@ Resourc@@ e.@@ DE@@ ST@@ RO@@ Y@@ , java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .toString@@ ()); ur@@ i@@ In@@ f@@ o = add@@ M@@ at@@ ri@@ x@@ Parameter@@ Expectations(@@ ur@@ i@@ Info@@ , parameters@@ ); set@@ U@@ ri@@ Info@@ (@@ ur@@ i@@ Info@@ ); ve@@ r@@ if@@ y@@ Remov@@ e(@@ resource.@@ remov@@ e()); }
@java.lang.Override protected boolean validate(@@ ) { boolean return@@ Valu@@ e = (@@ (@@ super@@ .@@ valid@@ at@@ e()) && (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ For@@ ce@@ Remove@@ StorageDomain@@ Command.@@ check@@ StorageDomain@@ ())) && ((@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ For@@ ce@@ Remove@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ StorageDomain@@ Sh@@ ared@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Sh@@ ared@@ Status.@@ Un@@ attach@@ ed@@ )) || (@@ check@@ StorageDomain@@ Status@@ Not@@ E@@ qual@@ (@@ StorageDomain@@ Status.@@ Active@@ ))); if (@@ return@@ Valu@@ e && ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ For@@ ce@@ Remove@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ StorageDomain@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Ma@@ ster@@ ))) && ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ For@@ ce@@ Remove@@ StorageDomain@@ Command.get@@ StoragePool@@ ()) != null@@ )) { if ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ For@@ ce@@ Remove@@ StorageDomain@@ Command.@@ el@@ ect@@ New@@ Ma@@ ster@@ ()) == null@@ ) && (!@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ For@@ ce@@ Remove@@ StorageDomain@@ Command.get@@ Parameters@@ ().is@@ For@@ ce@@ Remove@@ L@@ ast@@ Ma@@ ster@@ ()))) { return@@ Valu@@ e = false@@ ; add@@ Validation@@ Message@@ (EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ DE@@ ST@@ RO@@ Y_@@ L@@ A@@ ST@@ _@@ STORAGE_DOMAIN@@ ); } else if (!(@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ For@@ ce@@ Remove@@ StorageDomain@@ Command.@@ initial@@ ize@@ Vds@@ ())) && (!@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ For@@ ce@@ Remove@@ StorageDomain@@ Command.get@@ Parameters@@ ().is@@ For@@ ce@@ Remove@@ L@@ ast@@ Ma@@ ster@@ ()))) { return@@ Valu@@ e = false@@ ; add@@ Validation@@ Message@@ (EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ DE@@ ST@@ RO@@ Y_@@ L@@ A@@ ST@@ _@@ STORAGE_DOMAIN@@ _@@ HOST@@ _NOT_@@ AC@@ TI@@ V@@ E); } } if (@@ return@@ Valu@@ e && ((org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ For@@ ce@@ Remove@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ StorageType.@@ G@@ L@@ AN@@ C@@ E@@ ))) { add@@ Validation@@ Message@@ (EngineMessage.@@ ER@@ R@@ OR@@ _C@@ AN@@ NO@@ T@@ _M@@ AN@@ AGE_@@ STORAGE_DOMAIN@@ ); return@@ Valu@@ e = false@@ ; } return return@@ Value@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se remov@@ e() { java.lang.String hos@@ t = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Resourc@@ e.@@ HOST@@ ); if (@@ hos@@ t == null@@ ) { org.ovirt.engine.api.model.@@ F@@ a@@ ult fa@@ ult = new org.ovirt.engine.api.model.@@ F@@ a@@ ult@@ (); fa@@ ult.@@ set@@ Reason@@ ("@@ Th@@ e paramet@@ er is mis@@ s@@ ing throw new javax.ws.rs.@@ W@@ eb@@ Application@@ Exception@@ (@@ javax.ws.rs.@@ core.@@ Respon@@ s@@ e.@@ status@@ (@@ Status.@@ B@@ AD@@ _@@ RE@@ Q@@ U@@ E@@ ST@@ ).@@ entity@@ (@@ fault@@ ).@@ build@@ ()); } get@@ (); org.ovirt.engine.core.compat.Guid host@@ Id = get@@ Host@@ Id(@@ host@@ ); boolean d@@ est@@ ro@@ y = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Boolean@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Resourc@@ e.@@ DE@@ ST@@ RO@@ Y@@ , true@@ , false@@ ); boolean for@@ ma@@ t = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Boolean@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Resourc@@ e.@@ F@@ OR@@ M@@ AT@@ , true@@ , false@@ ); if (@@ d@@ est@@ ro@@ y@@ ) { org.ovirt.engine.core.common.action.@@ For@@ ce@@ Remove@@ StorageDomain@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Remove@@ StorageDomain@@ Parameters(@@ g@@ uid@@ ); parameters.set@@ Vds@@ Id(@@ host@@ Id); return p@@ er@@ for@@ m@@ Action@@ (@@ ActionType.@@ For@@ ce@@ Remove@@ StorageDomain@@ , parameters@@ ); } else { org.ovirt.engine.core.common.action.@@ Remove@@ StorageDomain@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Remove@@ StorageDomain@@ Parameters(@@ g@@ uid@@ ); parameters.set@@ Vds@@ Id(@@ host@@ Id); parameters.set@@ Do@@ Format@@ (@@ for@@ mat@@ ); return p@@ er@@ for@@ m@@ Action@@ (@@ ActionType.@@ Remove@@ StorageDomain@@ , parameters@@ ); } }
protected boolean is@@ Det@@ ach@@ Allow@@ ed@@ () { if ((get@@ StoragePool@@ Iso@@ Map@@ ()) == null@@ ) { return fail@@ Validation@@ (EngineMessage.@@ STORAGE_DOMAIN@@ _NOT_@@ AT@@ T@@ AC@@ H@@ ED_@@ T@@ O@@ _@@ STORAGE_@@ P@@ O@@ OL@@ ); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > storageDomain@@ s = storageDomain@@ Dao@@ .get@@ AllFor@@ StoragePool@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ StorageDomain@@ CommandBase.get@@ StoragePool@@ ().get@@ Id()); if (@@ storageDomain@@ s.@@ size()) > 1@@ ) && (is@@ Ma@@ ster@@ ())) { return fail@@ Validation@@ (EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ D@@ ET@@ AC@@ H@@ _@@ L@@ A@@ ST@@ _@@ STORAGE_DOMAIN@@ ); } return true@@ ; }
private void d@@ et@@ ach@@ StorageDomain@@ (org.ovirt.engine.core.compat.Guid storageDomain@@ Id) { log.@@ info@@ ("@@ C@@ oul@@ d '{}@@ ' is al@@ read@@ y attach@@ ed to a d@@ if@@ fer@@ ent stor@@ age pool@@ , cl@@ e@@ an the stor@@ age do@@ ma@@ in m@@ et@@ ad@@ ata@@ . storageDomain@@ Id); org.ovirt.engine.core.common.vdscommands.@@ StorageDomain@@ Vds@@ Command@@ Parameters param@@ s = new org.ovirt.engine.core.common.vdscommands.@@ StorageDomain@@ Vds@@ Command@@ Parameters(@@ storageDomain@@ Id, org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Add@@ StoragePool@@ With@@ Stor@@ ages@@ Command.get@@ Vds@@ ().get@@ Id()); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue re@@ t = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Cl@@ e@@ an@@ StorageDomain@@ Met@@ a@@ Data@@ , param@@ s); if (@@ ret@@ .get@@ Succeeded@@ ()) { log.@@ info@@ ("@@ C@@ oul@@ d cl@@ e@@ an@@ ed m@@ et@@ ad@@ at@@ a for stor@@ age do@@ ma@@ in '{}@@ '@@ . storageDomain@@ Id); } else { log.@@ w@@ ar@@ n@@ ("@@ Fail@@ ed to cl@@ e@@ an m@@ et@@ ad@@ at@@ a for stor@@ age do@@ ma@@ in '{}@@ '@@ . storageDomain@@ Id@@ ", storageDomain@@ Id); } }
private void cl@@ e@@ an@@ D@@ ir@@ ty@@ Met@@ a@@ Data@@ If@@ N@@ e@@ ed@@ ed@@ () { if ((@@ org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Add@@ StoragePool@@ With@@ Stor@@ ages@@ Command.get@@ StoragePool@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ )) { for (org.ovirt.engine.core.compat.Guid storageDomain@@ Id : org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Add@@ StoragePool@@ With@@ Stor@@ ages@@ Command.getParameters().get@@ Stor@@ ages@@ ()) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain do@@ ma@@ in = storageDomain@@ Dao@@ .get(@@ storageDomain@@ Id); if (@@ do@@ m@@ ain@@ .get@@ StorageDomain@@ Typ@@ e().@@ is@@ Data@@ Domain@@ ()) && (is@@ StorageDomain@@ Attached@@ To@@ StoragePool@@ (@@ do@@ m@@ ain@@ ))) { d@@ et@@ ach@@ StorageDomain@@ (@@ storageDomain@@ Id); } } }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se remov@@ e() { boolean d@@ est@@ ro@@ y = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Boolean@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Resourc@@ e.@@ DE@@ ST@@ RO@@ Y@@ , true@@ , false@@ ); if (@@ d@@ est@@ ro@@ y@@ ) { org.ovirt.engine.core.common.action.@@ StorageDomain@@ Parameters@@ Base parameter@@ s = new org.ovirt.engine.core.common.action.@@ StorageDomain@@ Parameters@@ Bas@@ e(@@ g@@ uid@@ ); return p@@ er@@ for@@ m@@ Action@@ (@@ ActionType.@@ For@@ ce@@ Remove@@ StorageDomain@@ , parameters@@ ); } else { java.lang.String hos@@ t = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Resourc@@ e.@@ HOST@@ ); if (@@ hos@@ t == null@@ ) { org.ovirt.engine.api.model.@@ F@@ a@@ ult fa@@ ult = new org.ovirt.engine.api.model.@@ F@@ a@@ ult@@ (); fa@@ ult.@@ set@@ Reason@@ ("@@ Th@@ e paramet@@ er is mis@@ s@@ ing throw new javax.ws.rs.@@ W@@ eb@@ Application@@ Exception@@ (@@ javax.ws.rs.@@ core.@@ Respon@@ s@@ e.@@ status@@ (@@ Status.@@ B@@ AD@@ _@@ RE@@ Q@@ U@@ E@@ ST@@ ).@@ entity@@ (@@ fault@@ ).@@ build@@ ()); } get@@ (); boolean for@@ ma@@ t = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Boolean@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Resourc@@ e.@@ F@@ OR@@ M@@ AT@@ , true@@ , false@@ ); org.ovirt.engine.core.compat.Guid host@@ Id = get@@ Host@@ Id(@@ host@@ ); org.ovirt.engine.core.common.action.@@ Remove@@ StorageDomain@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Remove@@ StorageDomain@@ Parameters(@@ g@@ uid@@ ); parameters.set@@ Vds@@ Id(@@ host@@ Id); parameters.set@@ Do@@ Format@@ (@@ for@@ mat@@ ); return p@@ er@@ for@@ m@@ Action@@ (@@ Action@@ Type, parameters@@ ); } }
public void set@@ Widget@@ C@@ ol@@ Siz@@ e(@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ Column@@ Siz@@ e siz@@ e) { if ((@@ s@@ ize@@ Cont@@ ain@@ er@@ ) != null@@ ) { s@@ ize@@ Cont@@ ain@@ er.@@ add@@ Sty@@ le@@ Name(@@ siz@@ e.get@@ C@@ s@@ Name()); } else { s@@ ize@@ Cont@@ ain@@ er.@@ remove@@ Sty@@ le@@ Name(@@ widget@@ C@@ ol@@ Siz@@ e.get@@ C@@ s@@ Name()); s@@ ize@@ Cont@@ ain@@ er.@@ add@@ Sty@@ le@@ Name(@@ siz@@ e.get@@ C@@ s@@ Name()); } widget@@ C@@ ol@@ Siz@@ e = s@@ ize@@ ; }
public void set@@ Label@@ C@@ ol@@ Siz@@ e(@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ Column@@ Siz@@ e siz@@ e) { if ((@@ l@@ abel@@ C@@ ol@@ Siz@@ e) == null@@ ) { get@@ For@@ m@@ Label@@ ().set@@ Add@@ Sty@@ le@@ Names@@ (s@@ iz@@ e.get@@ C@@ s@@ Name()); } else { get@@ For@@ m@@ Label@@ ().@@ remove@@ Sty@@ le@@ Name(@@ l@@ abel@@ C@@ ol@@ Siz@@ e.get@@ C@@ s@@ Name()); get@@ For@@ m@@ Label@@ ().set@@ Add@@ Sty@@ le@@ Names@@ (s@@ iz@@ e.get@@ C@@ s@@ Name()); } l@@ abel@@ C@@ ol@@ Siz@@ e = s@@ ize@@ ; }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { or@@ (@@ m@@ and@@ ator@@ y@@ (@@ storageDomain@@ ().@@ id@@ ()), m@@ and@@ ator@@ y@@ (@@ storageDomain@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (@@ storageDomain@@ ().is@@ External@@ ()); }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void init@@ () { int quota@@ C@@ ach@@ e@@ Inter@@ val@@ In@@ M@@ in@@ ut@@ es = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Quota@@ C@@ ach@@ e@@ Inter@@ val@@ In@@ M@@ in@@ ut@@ es@@ ); schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ a@@ y@@ (@@ new javax.@@ quota@@ .@@ Quota@@ C@@ ach@@ e@@ Inter@@ val@@ In@@ M@@ in@@ ut@@ es@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ ); }
public void p@@ er@@ for@@ m@@ Lo@@ ad@@ B@@ al@@ anc@@ ing@@ () { org.ovirt.engine.core.bll.@@ scheduling.@@ Schedul@@ ing@@ Manager.@@ log.@@ d@@ ebug@@ ("@@ P@@ olic@@ y B@@ al@@ ance@@ r tim@@ er enter@@ ed@@ .@@ "); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Cluster@@ > cluster@@ s = get@@ Cluster@@ Dao().get@@ All@@ (); for (org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster : c@@ lust@@ ers@@ ) { org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ P@@ olic@@ y p@@ olic@@ y p@@ olic@@ y = p@@ olicy@@ Map@@ .get@@ (cluster@@ .get@@ Cluster@@ Policy@@ Id()); org.ovirt.engine.core.bll.@@ scheduling.@@ Policy@@ Unit@@ Imp@@ l p@@ olicy@@ Un@@ i@@ t = p@@ olicy@@ Unit@@ s.get@@ (p@@ olicy@@ .get@@ B@@ al@@ anc@@ e()); java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.bll.@@ scheduling.@@ ex@@ ternal@@ .@@ B@@ al@@ ance@@ Result@@ > b@@ al@@ ance@@ Result = java.util.@@ Option@@ al.@@ em@@ pty@@ (); if (p@@ olicy@@ Un@@ it.@@ get@@ Policy@@ Unit@@ ().is@@ Enabled@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = get@@ Vds@@ Dao().get@@ AllFor@@ Cluster@@ With@@ out@@ Migr@@ at@@ ing@@ (cluster@@ .getId()); if (p@@ olicy@@ Un@@ it.@@ get@@ Policy@@ Unit@@ ().is@@ Internal@@ ()) { b@@ al@@ ance@@ Result = int@@ er@@ nal@@ Run@@ B@@ al@@ anc@@ e(@@ p@@ olicy@@ Unit@@ , cluster@@ , host@@ s); } else if (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ External@@ Schedul@@ er@@ Enabled@@ )) { b@@ al@@ ance@@ Result = ex@@ ternal@@ Run@@ B@@ al@@ anc@@ e(@@ p@@ olicy@@ Unit@@ , cluster@@ , host@@ s); } } if ((@@ b@@ al@@ ance@@ Res@@ ult.@@ is@@ P@@ resent@@ ()) && (@@ b@@ al@@ ance@@ Res@@ ult.get@@ ().is@@ Valid@@ ())) { m@@ igr@@ ation@@ Handler.@@ m@@ igr@@ ate@@ VM@@ (@@ b@@ al@@ ance@@ Res@@ ult.get@@ ().get@@ C@@ and@@ id@@ ate@@ Host@@ s@@ (), b@@ al@@ ance@@ Res@@ ult.get@@ ().get@@ Vm@@ To@@ Migr@@ at@@ e(), org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ .get@@ Message@@ (@@ AuditLogType.@@ M@@ I@@ G@@ R@@ A@@ TION_@@ RE@@ A@@ S@@ ON_@@ LO@@ AD@@ _@@ B@@ AL@@ AN@@ C@@ ING@@ )); } }
private void en@@ able@@ Lo@@ ad@@ B@@ al@@ anc@@ er@@ () { if (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ En@@ able@@ Vds@@ Lo@@ ad@@ B@@ al@@ anc@@ ing@@ )) { org.ovirt.engine.core.bll.@@ scheduling.@@ Schedul@@ ing@@ Manager.@@ log.@@ info@@ ("@@ St@@ ar@@ t schedul@@ ing to en@@ able vd@@ s lo@@ a@@ d b@@ al@@ ance@@ r execut@@ or.@@ "); schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ a@@ y@@ (@@ this@@ , -@@ > p@@ er@@ for@@ m@@ Lo@@ ad@@ B@@ al@@ anc@@ ing@@ Inter@@ val@@ In@@ M@@ in@@ ut@@ es@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Vds@@ Lo@@ ad@@ B@@ al@@ anc@@ ing@@ Inter@@ val@@ In@@ M@@ in@@ ut@@ es@@ ), org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Vds@@ Lo@@ ad@@ B@@ al@@ anc@@ ing@@ Inter@@ val@@ In@@ M@@ in@@ ut@@ es@@ ), java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ ); org.ovirt.engine.core.bll.@@ scheduling.@@ Schedul@@ ing@@ Manager.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed schedul@@ ing to en@@ able vd@@ s lo@@ a@@ d b@@ al@@ ance@@ r "); } }
private void update@@ Vm@@ Version@@ () { for (org.ovirt.engine.core.compat.Guid vm@@ Id : vm@@ Dao@@ .get@@ Vm@@ Id@@ s@@ For@@ Version@@ Updat@@ e(@@ org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ Base@@ Template@@ Id@@ ())) { if (!@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.@@ update@@ Vms@@ Job@@ Map@@ .@@ contain@@ s@@ Key@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ Base@@ Template@@ Id@@ ()))) { break@@ ; } org.ovirt.engine.core.common.action.@@ Update@@ Vm@@ Version@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Update@@ Vm@@ Version@@ Parameters@@ (vm@@ Id); params.set@@ Session@@ Id@@ (org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ Session@@ Id()); org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.get@@ Backend@@ ().@@ run@@ Internal@@ Action@@ (@@ ActionType.@@ Update@@ Vm@@ Version@@ , param@@ s, org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); } org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.@@ update@@ Vms@@ Job@@ Map@@ .@@ remov@@ e(@@ org.ovirt.engine.core.bll.@@ Add@@ VmTemplate@@ Command.getParameters().get@@ Base@@ Template@@ Id()); }
public void schedul@@ e@@ Job@@ s() { int re@@ fresh@@ R@@ at@@ e = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Vds@@ Refresh@@ R@@ ate@@ )) * 1@@ 00@@ 0@@ ; re@@ g@@ ist@@ er@@ ed@@ Job@@ s.@@ add@@ (@@ this@@ , schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ a@@ y@@ (@@ this@@ , res@@ ource@@ Manager@@ ); host@@ Refresh@@ er.@@ st@@ art@@ (); }
public void re@@ fresh@@ () { log.@@ d@@ ebug@@ ("@@ R@@ ul@@ es E@@ n@@ for@@ c@@ em@@ ent Manage@@ r int@@ er@@ va@@ l re@@ ach@@ ed@@ . final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ C@@ and@@ id@@ ate@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster : cluster@@ Dao@@ .get@@ With@@ out@@ Migr@@ at@@ ing@@ Vms@@ ()) { if (!@@ (c@@ luster.@@ is@@ In@@ Up@@ g@@ r@@ ad@@ e@@ Mod@@ e())) { final org.ovirt.engine.core.common.businessentities.VM c@@ and@@ id@@ at@@ e = r@@ ul@@ es@@ E@@ n@@ for@@ c@@ er.@@ ch@@ oo@@ se@@ N@@ ext@@ Vm@@ To@@ Migr@@ ate(@@ cluster@@ ); if (c@@ and@@ id@@ at@@ e != null@@ ) { vm@@ C@@ and@@ id@@ at@@ es.@@ add@@ (c@@ and@@ id@@ ate@@ ); } } for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ C@@ and@@ id@@ at@@ es) { m@@ igr@@ ate@@ VM@@ (vm@@ ); } }
public void back@@ up@@ Check@@ () { if (@@ lock@@ .@@ try@@ Lock@@ ()) { try { org.ovirt.engine.core.bll.@@ Engine@@ Back@@ up@@ A@@ w@@ ar@@ en@@ ess@@ Manager.@@ log.@@ info@@ ("@@ Engine@@ Back@@ up@@ Check@@ (); org.ovirt.engine.core.bll.@@ Engine@@ Back@@ up@@ A@@ w@@ ar@@ en@@ ess@@ Manager.@@ log.@@ info@@ ("@@ Engine@@ Back@@ up@@ Check@@ "); ch@@ ec@@ k comp@@ let@@ ed@@ . } final@@ l@@ y { lock@@ .@@ un@@ lock@@ (); } }
@org.junit.@@ B@@ e@@ for@@ e public void set@@ up@@ () { cluster@@ 1 = create@@ Cluster@@ (); cluster@@ 2 = create@@ Cluster@@ (); when@@ (cluster@@ Dao@@ .get@@ With@@ out@@ Migr@@ at@@ ing@@ Vms@@ ()).@@ thenReturn(@@ java.util.Arrays.as@@ List@@ (cluster@@ 1, cluster@@ 2@@ )); when(@@ r@@ ul@@ es@@ E@@ n@@ for@@ c@@ er.@@ ch@@ oo@@ se@@ N@@ ext@@ Vm@@ To@@ Migr@@ ate(@@ e@@ q@@ (cluster@@ 1@@ )@@ )).@@ then@@ Return@@ (vm@@ 1@@ ); when(@@ r@@ ul@@ es@@ E@@ n@@ for@@ c@@ er.@@ ch@@ oo@@ se@@ N@@ ext@@ Vm@@ To@@ Migr@@ ate(@@ e@@ q@@ (cluster@@ 2@@ )@@ )).@@ then@@ Return@@ (vm@@ 2@@ ); when(@@ ar@@ em@@ .get@@ Execut@@ or@@ ()).@@ thenReturn(@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Execut@@ or@@ s@@ .@@ new@@ Schedul@@ ed@@ Th@@ read@@ Pool@@ (@@ 1@@ )); ar@@ em@@ .@@ w@@ a@@ ke@@ up@@ (); }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void initial@@ iz@@ e() { if (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ P@@ M@@ H@@ e@@ al@@ th@@ Check@@ Enabled@@ )) { org.ovirt.engine.core.bll.@@ p@@ m.@@ P@@ m@@ H@@ e@@ al@@ th@@ Check@@ Manager.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing {@@ } get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); java.lang.Integ@@ er p@@ m@@ H@@ e@@ al@@ th@@ Check@@ Inter@@ va@@ l = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ P@@ M@@ H@@ e@@ al@@ th@@ Check@@ Inter@@ val@@ In@@ Sec@@ ); execut@@ or.@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ ay@@ ((@@ ) -@@ > p@@ m@@ H@@ e@@ al@@ th@@ Check@@ (), p@@ m@@ H@@ e@@ al@@ th@@ Check@@ Inter@@ val@@ , p@@ m@@ H@@ e@@ al@@ th@@ Check@@ Inter@@ val@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); } r@@ ec@@ o@@ ver@@ (@@ vds@@ Dao@@ .get@@ All@@ ()); org.ovirt.engine.core.bll.@@ p@@ m.@@ P@@ m@@ H@@ e@@ al@@ th@@ Check@@ Manager.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing {@@ } get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); }
public void p@@ m@@ H@@ e@@ al@@ th@@ Check@@ () { if (@@ lock@@ .@@ try@@ Lock@@ ()) { try { org.ovirt.engine.core.bll.@@ p@@ m.@@ P@@ m@@ H@@ e@@ al@@ th@@ Check@@ Manager.@@ log.@@ info@@ ("@@ P@@ le@@ ase Manage@@ m@@ ent H@@ e@@ al@@ t@@ h Ch@@ ec@@ k st@@ art@@ ed@@ . java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vds@@ Dao().get@@ All@@ (); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { if (@@ host.@@ is@@ P@@ m@@ Enabled@@ ()) { p@@ m@@ H@@ e@@ al@@ th@@ Check@@ (@@ host@@ ); } } org.ovirt.engine.core.bll.@@ p@@ m.@@ P@@ m@@ H@@ e@@ al@@ th@@ Check@@ Manager.@@ log.@@ info@@ ("@@ P@@ le@@ ase Manage@@ m@@ ent H@@ e@@ al@@ t@@ h Ch@@ ec@@ k comp@@ let@@ ed@@ .@@ "); } final@@ l@@ y { lock@@ .@@ un@@ lock@@ (); } }
private void end@@ Default@@ Operation@@ s() { end@@ Un@@ lock@@ Op@@ s(); if (is@@ Template@@ Version@@ ()) { org.ovirt.engine.core.utils.@@ con@@ c@@ urr@@ ent.@@ Schedul@@ ed@@ F@@ ut@@ ur@@ e(@@ java.lang.@@ Class@@ <@@ ? extends java.lang.@@ V@@ o@@ id@@ > schedul@@ ed@@ Servic@@ es@@ , schedul@@ ing@@ Vms@@ ); }
public void t@@ ri@@ g@@ er@@ Pool@@ M@@ onitor@@ ing@@ Job@@ () { try { pool@@ M@@ onitor@@ ing@@ J@@ o@@ b@@ .@@ c@@ ance@@ l c@@ ance@@ l = org.ovirt.engine.core.bll.@@ VmPool@@ M@@ on@@ it@@ or.@@ log.@@ d@@ ebug@@ ("@@ R@@ et@@ ri@@ g@@ er@@ Pool@@ : {}@@ ", org.apache.commons.lang.@@ ex@@ ce@@ ption@@ .@@ Exception@@ Util@@ s.get@@ R@@ oot@@ C@@ a@@ us@@ e@@ Message@@ (@@ t@@ )); } pool@@ M@@ onitor@@ ing@@ J@@ o@@ b = schedul@@ er@@ Servic@@ e.@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ ay@@ (@@ this@@ :@@ :@@ manage@@ P@@ rest@@ art@@ ed@@ Vms@@ In@@ All@@ VmPool@@ s, 0@@ , vm@@ Pool@@ M@@ onitor@@ Inter@@ val@@ In@@ M@@ in@@ ut@@ es@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ ); }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t public void schedul@@ e@@ Job@@ () { do@@ ubl@@ e int@@ er@@ va@@ l = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.@@ Do@@ ubl@@ e@@ >@@ get@@ Value(ConfigValues.@@ C@@ er@@ t@@ if@@ ication@@ Valid@@ ity@@ Check@@ Time@@ In@@ H@@ our@@ s); final int HO@@ UR@@ S_@@ T@@ O@@ _M@@ IN@@ U@@ T@@ E@@ S = 6@@ 0@@ ; long int@@ er@@ val@@ In@@ M@@ in@@ ut@@ es = java.lang.@@ M@@ ath@@ .@@ ro@@ un@@ d@@ (@@ int@@ er@@ va@@ l * HO@@ UR@@ S_@@ T@@ O@@ _M@@ IN@@ U@@ T@@ E@@ S@@ )); execut@@ or.@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ a@@ y@@ (@@ -@@ 1@@ 0@@ , int@@ er@@ val@@ In@@ M@@ in@@ ut@@ es@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ ); }
public void check@@ C@@ er@@ t@@ if@@ ication@@ Valid@@ ity@@ () { try { if ((!@@ (@@ check@@ C@@ er@@ t@@ if@@ ic@@ ate(@@ org.ovirt.engine.core.utils.@@ c@@ r@@ yp@@ t.@@ Engine@@ En@@ c@@ r@@ yp@@ tion@@ Util@@ s.get@@ C@@ er@@ t@@ if@@ ic@@ ate(@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ P@@ K@@ IC@@ AC@@ er@@ t@@ ()), AuditLogType.@@ EN@@ G@@ IN@@ E_@@ C@@ A@@ _C@@ ER@@ TI@@ F@@ IC@@ A@@ TION_@@ H@@ A@@ S_@@ EX@@ P@@ I@@ R@@ ED@@ , AuditLogType.@@ EN@@ G@@ IN@@ E_@@ C@@ A@@ _C@@ ER@@ TI@@ F@@ IC@@ A@@ TION_@@ IS@@ _@@ IS@@ _@@ AB@@ O@@ U@@ T_@@ T@@ O@@ _@@ EX@@ P@@ I@@ R@@ E_@@ AL@@ ER@@ T@@ , AuditLogType.@@ EN@@ G@@ IN@@ E_@@ C@@ A@@ _C@@ ER@@ TI@@ F@@ IC@@ A@@ TION_@@ IS@@ _@@ IS@@ _@@ AB@@ O@@ U@@ T_@@ T@@ O@@ _@@ EX@@ P@@ I@@ RE@@ , null@@ ))) ^ (!(@@ check@@ C@@ er@@ t@@ if@@ ic@@ ate@@ (((@@ java.s@@ ec@@ ur@@ ity@@ .@@ c@@ er@@ t.@@ X@@ 5@@ 0@@ 9@@ C@@ er@@ t@@ if@@ ic@@ ate@@ ) (@@ org.ovirt.engine.core.utils.@@ c@@ r@@ yp@@ t.@@ Engine@@ En@@ c@@ r@@ yp@@ tion@@ Util@@ s.get@@ C@@ er@@ t@@ if@@ ic@@ at@@ e()@@ )@@ ), AuditLogType.@@ EN@@ G@@ IN@@ E_@@ C@@ ER@@ TI@@ F@@ IC@@ A@@ TION_@@ H@@ A@@ S_@@ EX@@ P@@ I@@ R@@ ED@@ , AuditLogType.@@ EN@@ G@@ IN@@ E_@@ C@@ ER@@ TI@@ F@@ IC@@ A@@ TION_@@ IS@@ _@@ AB@@ O@@ U@@ T_@@ T@@ O@@ _@@ EX@@ P@@ I@@ R@@ E_@@ AL@@ ER@@ T@@ , AuditLogType.@@ EN@@ G@@ IN@@ E_@@ C@@ ER@@ TI@@ F@@ IC@@ A@@ TION_@@ IS@@ _@@ AB@@ O@@ U@@ T_@@ T@@ O@@ _@@ EX@@ P@@ I@@ RE@@ , null@@ )))) { return@@ ; } if (!(@@ org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Boolean@@ >@@ get@@ Value(ConfigValues.@@ En@@ c@@ r@@ yp@@ t@@ Host@@ C@@ omm@@ un@@ ication@@ ))) { return@@ ; } host@@ Dao@@ .get@@ All@@ ().@@ re@@ am@@ ().@@ filter@@ (@@ " t.get@@ Status()) == VDS@@ Status.@@ Up@@ ) || ((@@ hos@@ t.get@@ Status()) == VDS@@ Status.@@ Non@@ Operation@@ al@@ )@@ )@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ :@@ :@@ :@@ :@@ :@@ :@@ :@@ :@@ check@@ Host@@ C@@ er@@ t@@ if@@ ic@@ ate@@ Valid@@ ity@@ ); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.@@ C@@ er@@ t@@ if@@ ication@@ Valid@@ ity@@ Check@@ er.@@ log.error@@ ("@@ Fail@@ ed to ch@@ ec@@ k c@@ er@@ t@@ if@@ ic@@ ation valid@@ ity@@ : {}@@ ", e.get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ C@@ er@@ t@@ if@@ ication@@ Valid@@ ity@@ Check@@ er.@@ log.error@@ ("@@ Exception@@ ", e); } }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void init@@ () { org.ovirt.engine.core.bll.@@ d@@ wh@@ .@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t.@@ log.@@ info@@ ("@@ In@@ itial@@ iz@@ ing D@@ W@@ H H@@ e@@ ar@@ t Be@@ a@@ t h@@ e@@ art@@ B@@ eat@@ V@@ a@@ r = new org.ovirt.engine.core.common.businessentities.@@ D@@ wh@@ H@@ ist@@ ory@@ Time@@ ke@@ ep@@ ing@@ (); h@@ e@@ art@@ B@@ eat@@ Var@@ .set@@ Var@@ i@@ able(@@ D@@ wh@@ H@@ ist@@ ory@@ Time@@ ke@@ ep@@ ing@@ Var@@ i@@ abl@@ e.@@ H@@ E@@ ART@@ _@@ B@@ E@@ AT@@ ); execut@@ or.@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ a@@ y@@ (@@ new java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); org.ovirt.engine.core.bll.@@ d@@ wh@@ .@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed H@@ e@@ art@@ b@@ eat@@ "); }
public synchronized void f@@ et@@ ch@@ Iso@@ Domain@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Rep@@ o@@ Image@@ > re@@ p@@ o@@ fil@@ e@@ List = re@@ p@@ o@@ File@@ Met@@ a@@ Data@@ Dao@@ .get@@ All@@ Rep@@ o@@ Fil@@ es@@ For@@ All@@ StoragePool@@ s(@@ StorageDomain@@ Type.@@ IS@@ O@@ , StoragePool@@ Status.@@ Up@@ , StorageDomain@@ Status.@@ Active@@ , VDS@@ Status.@@ Up@@ ); res@@ et@@ Pro@@ bl@@ em@@ ati@@ c@@ List@@ (); java.util.List<@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Call@@ able@@ <@@ java.lang.@@ V@@ o@@ id@@ >> task@@ s = new java.util.ArrayList<@@ >(); for (@@ final org.ovirt.engine.core.common.businessentities.storage.@@ Rep@@ o@@ Image re@@ p@@ o@@ Image : re@@ p@@ o@@ fil@@ e@@ List@@ ) { if (@@ sh@@ oul@@ d@@ Refresh@@ Iso@@ Domain@@ (@@ re@@ p@@ o@@ Image.get@@ L@@ ast@@ Refresh@@ ed@@ ())) { task@@ s.@@ add@@ ((@@ ) -@@ > { update@@ C@@ ach@@ ed@@ Iso@@ File@@ List@@ From@@ Vds@@ m@@ (@@ re@@ p@@ o@@ Image@@ ); return null@@ ; }); } else { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Iso@@ Domain@@ List@@ S@@ yn@@ ch@@ ron@@ iz@@ er.@@ log.@@ d@@ ebug@@ ((@@ "@@ Hos@@ t re@@ f@@ res@@ h pro@@ c@@ es@@ s for '{}@@ ' fil@@ e typ@@ e in stor@@ age do@@ ma@@ in id '{}@@ ' w@@ a@@ s not p@@ er@@ for@@ m@@ ed " + " s@@ in@@ c@@ e re@@ f@@ res@@ h tim@@ e o@@ u@@ t d@@ id not p@@ as@@ se@@ d y@@ et@@ . re@@ p@@ o@@ Image.get@@ File@@ Typ@@ e(), re@@ p@@ o@@ Image.get@@ Rep@@ o@@ Domain@@ Id()); } } org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ in@@ vo@@ ke@@ All@@ (@@ task@@ s); handl@@ e@@ Error@@ Log@@ (@@ new java.util.Array@@ List(@@ pro@@ bl@@ em@@ ati@@ c@@ Rep@@ o@@ File@@ List@@ )); }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t public void schedul@@ e@@ Job@@ () { do@@ ubl@@ e ava@@ il@@ able@@ Updat@@ es@@ Refresh@@ R@@ at@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.@@ Do@@ ubl@@ e@@ >@@ get@@ Value(ConfigValues.@@ Host@@ P@@ ack@@ ages@@ Update@@ Time@@ In@@ H@@ our@@ s); if (@@ ava@@ il@@ able@@ Updat@@ es@@ Refresh@@ R@@ at@@ e > 0) { final int HO@@ UR@@ S_@@ T@@ O@@ _M@@ IN@@ U@@ T@@ E@@ S = 6@@ 0@@ ; long r@@ ate@@ In@@ M@@ in@@ ut@@ es = java.lang.@@ M@@ ath@@ .@@ ro@@ un@@ d@@ ((@@ ava@@ il@@ able@@ Updat@@ es@@ Refresh@@ R@@ at@@ e * HO@@ UR@@ S_@@ T@@ O@@ _M@@ IN@@ U@@ T@@ E@@ S@@ )); schedul@@ ed@@ Execut@@ or.@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ a@@ y@@ (@@ ava@@ il@@ able@@ Updat@@ es@@ , r@@ ate@@ In@@ M@@ in@@ ut@@ es@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ ); } }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void init@@ () { org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Iso@@ Domain@@ List@@ S@@ yn@@ ch@@ ron@@ iz@@ er.@@ log.@@ info@@ ("@@ S@@ yn@@ ch@@ ron@@ iz@@ ing initial@@ iz@@ ing {@@ } initial@@ iz@@ ing {@@ } get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); is@@ o@@ Domain@@ Refresh@@ R@@ at@@ e = (org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ A@@ uto@@ Rep@@ o@@ Domain@@ Refresh@@ Time@@ )) * (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Iso@@ Domain@@ List@@ S@@ yn@@ ch@@ ron@@ iz@@ er.@@ M@@ IN@@ _@@ T@@ O@@ _M@@ I@@ L@@ L@@ IS@@ EC@@ ON@@ D@@ S@@ ); execut@@ or.@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ y@@ (@@ this@@ , o@@ Domain@@ Refresh@@ R@@ ate@@ , 3@@ 00@@ 0@@ , is@@ o@@ Domain@@ Refresh@@ R@@ ate@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ I@@ L@@ IS@@ EC@@ ON@@ D@@ S@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Iso@@ Domain@@ List@@ S@@ yn@@ ch@@ ron@@ iz@@ er.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing {@@ } ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); }
private void schedul@@ e@@ Job@@ s@@ (@@ long re@@ g@@ ul@@ ar@@ Inter@@ val@@ , long initial@@ Inter@@ val@@ ) { schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ l.@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ ess@@ (@@ this@@ , "@@ Inter@@ val@@ , re@@ g@@ ul@@ ar@@ Inter@@ val@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ ); }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void initial@@ iz@@ e() { org.ovirt.engine.core.bll.@@ Engine@@ Back@@ up@@ A@@ w@@ ar@@ en@@ ess@@ Manager.@@ log.@@ info@@ ("@@ S@@ im@@ ple@@ "); java.lang.Integ@@ er back@@ up@@ Check@@ Per@@ i@@ od@@ In@@ H@@ our@@ s = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Back@@ up@@ Check@@ Per@@ i@@ od@@ In@@ H@@ our@@ s); if (@@ back@@ up@@ Check@@ Per@@ i@@ od@@ In@@ H@@ our@@ s > 0) { if (@@ back@@ up@@ .@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ a@@ y@@ (@@ back@@ up@@ Check@@ Per@@ i@@ od@@ In@@ H@@ our@@ s, back@@ up@@ Check@@ Per@@ i@@ od@@ In@@ H@@ our@@ s, back@@ up@@ Check@@ Per@@ i@@ od@@ In@@ H@@ our@@ s, back@@ up@@ Check@@ Per@@ i@@ od@@ In@@ H@@ our@@ s, java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ HO@@ UR@@ S@@ ); org.ovirt.engine.core.bll.@@ Engine@@ Back@@ up@@ A@@ w@@ ar@@ en@@ ess@@ Manager.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing {@@ } ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); } }
public synchronized void update@@ Quota@@ C@@ ach@@ e() { if (!(@@ is@@ C@@ ach@@ e@@ Update@@ N@@ e@@ ed@@ ())) { return@@ ; } log.@@ d@@ ebug@@ ("@@ Qu@@ ot@@ a C@@ ach@@ e.@@ .@@ . long time@@ St@@ ar@@ t = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Quota@@ > all@@ Quota@@ In@@ c@@ lu@@ d@@ ing@@ Cons@@ um@@ ption = get@@ Quota@@ Dao().get@@ All@@ Quota@@ In@@ c@@ lu@@ d@@ ing@@ Cons@@ um@@ ption@@ (); if (@@ all@@ Quota@@ In@@ c@@ lu@@ d@@ ing@@ Cons@@ um@@ ption@@ .@@ isEmpty@@ ()) { return@@ ; } java.util.HashMap@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ Quota@@ >> new@@ StoragePool@@ Quota@@ Map = new java.util.HashMap@@ <@@ >(); java.util.HashMap@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.compat.Guid@@ > new@@ Default@@ Quota@@ Id@@ Map = new java.util.HashMap@@ <@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Qu@@ ot@@ a qu@@ ot@@ a : all@@ Quota@@ In@@ c@@ lu@@ d@@ ing@@ Cons@@ um@@ ption@@ ) { if (!@@ (@@ new@@ StoragePool@@ Quota@@ Map@@ .@@ contain@@ s@@ Key@@ (@@ quota@@ .get@@ StoragePool@@ Id@@ ()))) { new@@ StoragePool@@ Quota@@ Map@@ .@@ put(@@ quota@@ .get@@ StoragePool@@ Id(), new java.util.HashMap@@ ()); } new@@ StoragePool@@ Quota@@ Map@@ .get(@@ quota@@ .get@@ StoragePool@@ Id@@ ()).@@ put(@@ quota@@ .get@@ Id(), quota@@ ); if (@@ quota@@ .is@@ Default@@ Quota@@ Id@@ Map@@ .@@ put(@@ quota@@ .get@@ StoragePool@@ Id(), quota@@ .getId()); } lock@@ .@@ w@@ rit@@ e@@ Lock@@ ().@@ lock@@ (); try { storagePool@@ Quota@@ Map = new@@ StoragePool@@ Quota@@ Map@@ ; storagePool@@ Default@@ Quota@@ Id@@ Map = new@@ Default@@ Quota@@ Id@@ Map@@ ; } final@@ l@@ y { lock@@ .@@ w@@ rit@@ e@@ Lock@@ ().@@ un@@ lock@@ (); } long time@@ En@@ d = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); log.@@ info@@ ("@@ Qu@@ ot@@ a C@@ ach@@ e updat@@ ed@@ . (@@ {}@@ )@@ "); m@@ s@@ ec@@ ) (@@ time@@ En@@ d - Start@@ )); }
public void ava@@ il@@ able@@ Updat@@ es@@ () { host@@ Dao@@ .get@@ All@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( h@@ ) -@@ > h@@ .get@@ Status@@ ().is@@ El@@ ig@@ i@@ bl@@ e@@ For@@ Check@@ Updat@@ es@@ ())@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ sub@@ m@@ it@@ Check@@ Updat@@ es@@ For@@ Host@@ ); }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void init@@ () { org.ovirt.engine.core.bll.@@ DataCenter@@ C@@ ompatibility@@ Check@@ er.@@ log.@@ info@@ ("@@ St@@ ar@@ t initial@@ iz@@ ing {@@ } get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); org.ovirt.engine.core.bll.@@ DataCenter@@ C@@ ompatibility@@ _@@ log.@@ info@@ ("@@ St@@ ar@@ t initial@@ iz@@ ing {@@ } {@@ 1@@ }@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); org.ovirt.engine.core.bll.@@ DataCenter@@ C@@ ompatibility@@ Check@@ er.@@ log.@@ info@@ ("@@ St@@ ar@@ t initial@@ iz@@ ing {@@ } fail@@ ed@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); }
public void t@@ ri@@ g@@ er@@ N@@ ow@@ () { if (@@ update@@ Tim@@ er@@ J@@ o@@ b != null@@ ) { try { update@@ Tim@@ er@@ J@@ o@@ b = get@@ C@@ ance@@ (@@ true@@ ); } catch (@@ java.lang.@@ Th@@ row@@ able t@@ ) { org.ovirt.engine.core.bll.storage.@@ o@@ vf@@ stor@@ e.@@ Ovf@@ Data@@ Updat@@ er.@@ log.@@ d@@ ebug@@ ("@@ R@@ oot@@ C@@ ommand cancel@@ l@@ ing ex@@ ist@@ ing job@@ : {}@@ ", org.apache.commons.lang.@@ ex@@ ce@@ ption@@ .@@ Exception@@ Util@@ s.get@@ R@@ oot@@ C@@ a@@ us@@ e@@ Message@@ (@@ t@@ )); } update@@ Tim@@ er@@ J@@ o@@ b = schedul@@ er@@ Servic@@ e.@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ ay@@ (@@ this@@ :@@ o@@ vf@@ Update@@ , 0@@ , org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Ovf@@ Update@@ Inter@@ val@@ In@@ M@@ in@@ ut@@ es@@ ), java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ ); }
public void on@@ Tim@@ er@@ () { java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.compat.@@ Version@@ > ret@@ V@@ al = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.util.Hash@@ Set@@ <@@ org.ovirt.engine.core.compat.@@ Version@@ >@@ get@@ Value(ConfigValues.@@ Supported@@ Cluster@@ L@@ ev@@ el@@ s@@ ).@@ st@@ re@@ am@@ ().@@ ma@@ x@@ (@@ java.util.@@ Comp@@ ar@@ ator.@@ n@@ at@@ ur@@ al@@ Or@@ der@@ ()); if (@@ ret@@ Val@@ .is@@ P@@ resent@@ ()) { org.ovirt.engine.core.compat.@@ Vers@@ ion ver@@ si@@ on = ret@@ Val@@ .get@@ (); storagePool@@ Dao@@ .get@@ All@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( storagePool@@ ) -@@ > (@@ version@@ .@@ comp@@ are@@ To@@ (@@ storagePool@@ .get@@ CompatibilityVersion@@ ())) > 0@@ )@@ .@@ for@@ E@@ ach@@ (@@ ( storagePool@@ ) -@@ > log@@ Al@@ er@@ t@@ (@@ version@@ , storagePool@@ )); } }
@java.lang.Override public java.util.@@ Dat@@ e get@@ N@@ ext@@ Run@@ Tim@@ e(@@ javax.@@ enter@@ p@@ r@@ is@@ e.c@@ on@@ c@@ urr@@ ent.@@ L@@ ast@@ Ex@@ ec@@ uti@@ on l@@ ast@@ Execution@@ , java.util.@@ Dat@@ e l@@ ast@@ ) { java.util.@@ Dat@@ e ne@@ xt@@ Execution@@ Dat@@ e = gener@@ ator.@@ ne@@ xt@@ (@@ new java.util.@@ Dat@@ e()); return ne@@ xt@@ Execution@@ D@@ ate@@ ; }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t public void initial@@ iz@@ e() { org.ovirt.engine.core.bll.@@ job@@ .@@ Job@@ Rep@@ os@@ it@@ ory@@ Cl@@ e@@ an@@ up@@ Manager.@@ log.@@ info@@ ("@@ St@@ ar@@ t initial@@ iz@@ ing {@@ } ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); s@@ uc@@ ceed@@ ed@@ Job@@ Tim@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Succeeded@@ Job@@ Cl@@ e@@ an@@ up@@ Time@@ In@@ M@@ in@@ ut@@ es@@ ); fail@@ ed@@ Job@@ Tim@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Fail@@ ed@@ Job@@ Cl@@ e@@ an@@ up@@ Time@@ In@@ M@@ in@@ ut@@ es@@ ); java.lang.Integ@@ er cl@@ e@@ an@@ up@@ F@@ re@@ qu@@ enc@@ y = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Job@@ Cl@@ e@@ an@@ up@@ R@@ ate@@ In@@ M@@ in@@ ut@@ es@@ ); if (@@ cl@@ e@@ an@@ up@@ F@@ re@@ qu@@ enc@@ y@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ )) org.ovirt.engine.core.bll.@@ job@@ .@@ Job@@ Rep@@ os@@ it@@ ory@@ Cl@@ e@@ an@@ up@@ Manager.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing {@@ } ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); }
private void manage@@ P@@ rest@@ art@@ ed@@ Vms@@ In@@ All@@ VmPool@@ s() { try { vm@@ Pool@@ Dao@@ .get@@ All@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ pool@@ ) -@@ > (@@ pool@@ .get@@ P@@ rest@@ art@@ ed@@ Vms@@ ()) > 0@@ )@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ :@@ manage@@ P@@ rest@@ art@@ ed@@ Vms@@ In@@ Pool@@ ); } catch (@@ java.lang.@@ Th@@ row@@ able t@@ ) { org.ovirt.engine.core.bll.@@ VmPool@@ M@@ on@@ it@@ or.@@ log.error@@ ("@@ C@@ an man@@ a@@ gin@@ g p@@ rest@@ art@@ ed VM@@ s in al@@ l VM pool@@ s@@ : {}@@ ", org.apache.commons.lang.@@ ex@@ ce@@ ption@@ .@@ Exception@@ Util@@ s.get@@ R@@ oot@@ C@@ a@@ us@@ e@@ Message@@ (@@ t@@ )); org.ovirt.engine.core.bll.@@ VmPool@@ M@@ on@@ it@@ or.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", t@@ ); } }
public void engin@@ e@@ Is@@ Run@@ ning@@ No@@ t@@ if@@ ication@@ () { try { org.ovirt.engine.core.bll.@@ d@@ wh@@ .@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t.@@ log.@@ d@@ ebug@@ ("@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t - St@@ ar@@ t h@@ e@@ art@@ B@@ eat@@ Var@@ .set@@ D@@ ate@@ Time@@ (@@ new java.util.@@ Dat@@ e()); d@@ wh@@ H@@ ist@@ ory@@ Time@@ ke@@ ep@@ ing@@ Dao@@ .@@ s@@ av@@ e(@@ h@@ e@@ art@@ B@@ eat@@ Var@@ ); org.ovirt.engine.core.bll.@@ d@@ wh@@ .@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t.@@ log.@@ d@@ ebug@@ ("@@ D@@ ec@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ y@@ N@@ e@@ art@@ b@@ eat@@ "); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.bll.@@ d@@ wh@@ .@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t.@@ log.error@@ ("@@ D@@ elet@@ ing updat@@ ing D@@ W@@ H H@@ e@@ ar@@ t B@@ eat@@ : {}@@ ", ex@@ .get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ d@@ wh@@ .@@ D@@ wh@@ H@@ e@@ art@@ Be@@ a@@ t.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void init@@ () { org.ovirt.engine.core.bll.@@ Command@@ Entity@@ Cl@@ e@@ an@@ up@@ Manager.@@ log.@@ info@@ ("@@ St@@ ar@@ ing initial@@ iz@@ ing {@@ } {@@ } {@@ c@@ al@@ end@@ a@@ r c@@ al@@ end@@ a@@ r = new java.util.@@ G@@ re@@ g@@ or@@ i@@ an@@ C@@ al@@ end@@ ar@@ (); java.util.@@ Dat@@ e command@@ Entity@@ Cl@@ e@@ an@@ up@@ Tim@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ org.ovirt.engine.core.compat.@@ D@@ ate@@ Time@@ >@@ get@@ Value(ConfigValues.@@ Command@@ Entity@@ Cl@@ e@@ an@@ up@@ Tim@@ e); c@@ al@@ end@@ ar@@ .set@@ Time@@ In@@ M@@ il@@ lis@@ (command@@ Entity@@ Cl@@ e@@ an@@ up@@ Tim@@ e.get@@ Tim@@ e()); java.lang.String c@@ ron@@ Exp@@ ress@@ ion = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ d * ? c@@ al@@ end@@ ar@@ .get(@@ java.util.@@ C@@ al@@ end@@ ar@@ .@@ SE@@ CON@@ D@@ ), c@@ al@@ end@@ ar@@ .get(@@ java.util.@@ C@@ al@@ end@@ ar@@ .@@ M@@ IN@@ U@@ T@@ E@@ ), c@@ al@@ end@@ ar@@ .get(@@ java.util.@@ C@@ al@@ end@@ ar@@ .@@ HO@@ UR@@ _@@ O@@ F@@ _@@ DA@@ Y@@ )); org.ovirt.engine.core.bll.@@ Command@@ Entity@@ Cl@@ e@@ an@@ up@@ Manager.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed c@@ ommand enti@@ ty cl@@ e@@ an@@ u@@ p manage@@ r to r@@ u@@ n at@@ : {}@@ ", c@@ ron@@ Exp@@ ress@@ ion@@ ); execut@@ or.@@ schedul@@ e@@ ((@@ ) -@@ > do@@ Cl@@ e@@ an@@ up@@ (), new org.ovirt.engine.core.common.utils.@@ Engine@@ C@@ ron@@ T@@ ri@@ g@@ er@@ (@@ c@@ ron@@ Exp@@ ress@@ ion@@ )); org.ovirt.engine.core.bll.@@ Command@@ Entity@@ Cl@@ e@@ an@@ up@@ Manager.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing {}@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void init@@ () { org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ Callback@@ s@@ P@@ oll@@ er.@@ log.@@ info@@ ("@@ St@@ ar@@ t initial@@ iz@@ ing {@@ } {@@ } {@@ c@@ re@@ at@@ e {}@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); p@@ oll@@ ing@@ R@@ at@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Async@@ Command@@ P@@ oll@@ ing@@ Lo@@ op@@ In@@ Sec@@ on@@ ds@@ ); init@@ Command@@ Execut@@ or@@ (); }
public void update@@ Status@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ ) { try { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ > storagePool@@ s = storagePool@@ Dao@@ .get@@ All@@ By@@ Status(@@ StoragePool@@ Status.@@ Up@@ ); update@@ Ovf@@ Data@@ (@@ storagePool@@ s); } catch (@@ java.lang.@@ Th@@ row@@ able t@@ ) { org.ovirt.engine.core.bll.storage.@@ o@@ vf@@ stor@@ e.@@ Ovf@@ Data@@ Updat@@ er.@@ log.error@@ ("@@ E@@ r@@ ro@@ r updat@@ ing o@@ v@@ f data@@ : {}@@ ", org.apache.commons.lang.@@ ex@@ ce@@ ption@@ .@@ Exception@@ Util@@ s.get@@ R@@ oot@@ C@@ a@@ us@@ e@@ Message@@ (@@ t@@ )); org.ovirt.engine.core.bll.storage.@@ o@@ vf@@ stor@@ e.@@ Ovf@@ Data@@ Updat@@ er.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", t@@ ); } }
private void do@@ Cl@@ e@@ an@@ () { try { org.ovirt.engine.core.bll.@@ Command@@ Entity@@ Cl@@ e@@ an@@ up@@ Manager.@@ log.@@ info@@ ("@@ M@@ er@@ g@@ e@@ t d@@ elet@@ e@@ Ag@@ ed@@ Out@@ Command@@ Enti@@ ti@@ es org.ovirt.engine.core.compat.@@ D@@ ate@@ Tim@@ e l@@ at@@ est@@ Time@@ To@@ K@@ e@@ p = org.ovirt.engine.core.compat.@@ D@@ ate@@ Tim@@ e.get@@ N@@ ow@@ ().add@@ D@@ ay@@ s@@ (((@@ org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Command@@ Entity@@ A@@ gin@@ g@@ Th@@ resh@@ old@@ )) * (@@ -@@ 1@@ ))); org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ remove@@ All@@ Command@@ s@@ B@@ e@@ for@@ e@@ D@@ ate(@@ l@@ at@@ est@@ Time@@ To@@ K@@ e@@ ep@@ ); org.ovirt.engine.core.bll.@@ Command@@ Entity@@ Cl@@ e@@ an@@ up@@ Manager.@@ log.@@ info@@ ("@@ M@@ is@@ h@@ ed d@@ elet@@ e@@ Ag@@ ed@@ Out@@ Command@@ Enti@@ ti@@ es "); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.bll.@@ Command@@ Entity@@ Cl@@ e@@ an@@ up@@ Manager.@@ log.error@@ ("@@ C@@ ommand fail@@ ed wit@@ h ex@@ ce@@ ption e); } }
public void cl@@ e@@ an@@ Comp@@ let@@ ed@@ Job@@ () { java.util.@@ Dat@@ e s@@ uc@@ ceed@@ ed@@ Job@@ s@@ D@@ elet@@ e@@ Tim@@ e = new java.util.@@ D@@ ate@@ (((@@ java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ ()) - (@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ I@@ L@@ IS@@ EC@@ ON@@ D@@ S@@ .@@ con@@ ver@@ t@@ (s@@ uc@@ ceed@@ ed@@ Job@@ Time@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ )@@ ))); java.util.@@ Dat@@ e fail@@ ed@@ Job@@ s@@ D@@ elet@@ e@@ Tim@@ e = new java.util.@@ D@@ ate@@ (((@@ java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ ()) - (@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ I@@ L@@ IS@@ EC@@ ON@@ D@@ S@@ .@@ con@@ ver@@ t@@ (@@ fail@@ ed@@ Job@@ Time@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ )@@ ))); try { job@@ Dao@@ .@@ d@@ elet@@ e@@ Comp@@ let@@ ed@@ Job@@ s(@@ s@@ uc@@ ceed@@ ed@@ Job@@ s@@ D@@ elet@@ e@@ Time@@ , fail@@ ed@@ Job@@ s@@ D@@ elet@@ e@@ Tim@@ e); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.bll.@@ job@@ .@@ Job@@ Rep@@ os@@ it@@ ory@@ Cl@@ e@@ an@@ up@@ Manager.@@ log.error@@ ("@@ Fail@@ ed to d@@ elet@@ e comp@@ let@@ ed job@@ s@@ : {}@@ ", e.get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ job@@ .@@ Job@@ Rep@@ os@@ it@@ ory@@ Cl@@ e@@ an@@ up@@ Manager.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); } }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void init@@ () { a@@ uto@@ Start@@ Vms@@ To@@ Res@@ t@@ ar@@ t = new java.util.@@ con@@ c@@ urr@@ ent.@@ Copy@@ On@@ W@@ rit@@ e@@ Array@@ Set@@ <@@ >@@ (get@@ In@@ itial@@ Vms@@ To@@ Start@@ ()); int a@@ uto@@ Start@@ Vms@@ Run@@ n@@ er@@ Inter@@ val@@ In@@ Sec@@ ond@@ s = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ A@@ uto@@ Start@@ Vms@@ Run@@ n@@ er@@ Inter@@ val@@ In@@ Sec@@ on@@ ds@@ ); schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ a@@ y@@ (@@ new java.util.@@ con@@ c@@ urr@@ ent.@@ Fail@@ ed@@ A@@ uto@@ Start@@ Vms@@ Run@@ , a@@ uto@@ Start@@ Vms@@ Run@@ n@@ er@@ Inter@@ val@@ In@@ Sec@@ on@@ ds@@ , a@@ uto@@ Start@@ Vms@@ Run@@ n@@ er@@ Inter@@ val@@ In@@ Sec@@ on@@ ds@@ , a@@ uto@@ Start@@ Vms@@ Run@@ n@@ er@@ Inter@@ val@@ In@@ Sec@@ on@@ ds@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); }
public org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d create@@ Method@@ (c@@ om@@ .@@ th@@ o@@ ug@@ ht@@ wor@@ k@@ s.@@ q@@ do@@ x.@@ model.@@ J@@ ava@@ Cl@@ as@@ s java@@ Class@@ , org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Servic@@ e ser@@ vi@@ ce@@ ) { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Met@@ h@@ o@@ d m@@ et@@ h@@ o@@ d = new org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ con@@ ce@@ p@@ t@@ s.@@ Method@@ (); an@@ al@@ y@@ z@@ e@@ Name(@@ java@@ Class@@ , m@@ et@@ hod@@ ); if ((@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ al@@ y@@ z@@ er.@@ Model@@ An@@ al@@ y@@ z@@ er.@@ G@@ ET@@ _M@@ ET@@ H@@ OD@@ _@@ NAM@@ E@@ .equals(@@ m@@ et@@ hod@@ .getName()@@ )) || (@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ al@@ y@@ z@@ er.@@ L@@ IST@@ _M@@ ET@@ H@@ OD@@ _@@ NAM@@ E@@ .equals(@@ m@@ et@@ hod@@ .getName()@@ ))) { add@@ F@@ ol@@ low@@ Parameter@@ (@@ m@@ et@@ hod@@ ); } an@@ al@@ y@@ z@@ e@@ An@@ not@@ ation@@ s(@@ java@@ Class@@ , m@@ et@@ hod@@ ); an@@ al@@ y@@ z@@ e@@ D@@ oc@@ um@@ ent@@ ation@@ (@@ java@@ Class@@ , m@@ et@@ hod@@ ); java@@ Class@@ .get@@ Method@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ " x@@ ) -@@ > an@@ al@@ y@@ z@@ e@@ Method@@ Mem@@ ber@@ (@@ x@@ , m@@ et@@ hod@@ )); m@@ et@@ hod@@ .set@@ D@@ ec@@ l@@ ar@@ ing@@ Servic@@ e(@@ ser@@ vi@@ ce@@ ); create@@ S@@ ign@@ at@@ ur@@ es(@@ java@@ Class@@ , ser@@ vi@@ ce@@ , m@@ et@@ hod@@ ); return m@@ et@@ hod@@ ; }
private void re@@ g@@ ist@@ er@@ I@@ fac@@ e@@ In@@ Mac@@ Pool@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic if@@ ace@@ , boolean re@@ ass@@ ign@@ Mac@@ ) { if (@@ re@@ ass@@ ign@@ Mac@@ ) { if@@ ac@@ e.set@@ Mac@@ Address@@ (@@ mac@@ Poo@@ l.@@ al@@ loc@@ ate@@ New@@ Mac@@ ()); } else { if (!(@@ mac@@ Poo@@ l.@@ add@@ Mac@@ (@@ if@@ ac@@ e.get@@ Mac@@ Address@@ ()))) { a@@ uditLog@@ Mac@@ In@@ Use@@ (@@ if@@ ac@@ e); throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ IS@@ _@@ IN@@ _@@ U@@ SE@@ ); } }
@org.junit.Test public void add@@ () { run@@ Add@@ And@@ V@@ er@@ if@@ y@@ (org.ovirt.engine.core.bll.@@ network.@@ Vm@@ Interface@@ Manager@@ Test.@@ create@@ New@@ Interfac@@ e(), false@@ , tim@@ es@@ (0@@ )); }
@org.junit.Test public void add@@ With@@ Existing@@ Mac@@ Address@@ Succeed@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic if@@ ac@@ e = org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manager@@ Test.@@ create@@ New@@ Interfac@@ e(); run@@ Add@@ And@@ V@@ er@@ if@@ y@@ (@@ if@@ ace@@ , true@@ , tim@@ es(@@ 1@@ )); }
@org.junit.Test public void remove@@ All@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > int@@ er@@ fac@@ es = java.util.Arrays.as@@ List@@ (org.ovirt.engine.core.bll.@@ network.@@ Vm@@ Interface@@ Manager@@ Test.@@ create@@ New@@ Interfac@@ e(), org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manager@@ Test.@@ create@@ New@@ Interfac@@ e()); when@@ (vm@@ Nic@@ Dao@@ .get@@ AllFor@@ Vm@@ (@@ any@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ int@@ er@@ fac@@ es@@ ); vm@@ Interface@@ Manager.@@ remove@@ All@@ And@@ R@@ el@@ e@@ ase@@ Mac@@ Address@@ es@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic if@@ ac@@ e : int@@ er@@ fac@@ es) { ve@@ r@@ if@@ y@@ Remove@@ All@@ D@@ el@@ eg@@ ated@@ C@@ or@@ r@@ ect@@ ly@@ (@@ if@@ ac@@ e); } }
public org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool create@@ Mac@@ Pool@@ (org.ovirt.engine.core.common.businessentities.@@ Mac@@ Pool mac@@ Pool@@ , boolean engin@@ e@@ Start@@ up@@ ) { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es = new org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es(@@ mac@@ Pool@@ .get@@ Id(), org.ovirt.engine.core.utils.@@ Mac@@ Address@@ R@@ ang@@ e@@ Utils.@@ mac@@ Pool@@ To@@ R@@ ang@@ es(@@ mac@@ Pool@@ ), mac@@ Poo@@ l.@@ is@@ Allow@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ Address@@ es@@ (), a@@ uditLog@@ Direct@@ or@@ ); mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es.@@ initial@@ iz@@ e(@@ engin@@ e@@ Start@@ up@@ , mac@@ sTo@@ Al@@ loc@@ at@@ e()); return mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es@@ ; }
protected void remove@@ From@@ External@@ Network@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ Nic@@ > int@@ er@@ fac@@ es) { javax.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ s@@ us@@ p@@ end@@ (); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic if@@ ac@@ e : int@@ er@@ fac@@ es) { new org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ (@@ if@@ ace@@ ).@@ de@@ al@@ loc@@ ate@@ If@@ External@@ (); } org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ res@@ um@@ e(@@ trans@@ action@@ ); }
protected void add@@ Vm@@ Interfaces@@ () { org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manage@@ r vm@@ Interface@@ Manage@@ r = new org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manager@@ (@@ mac@@ Pool@@ ); org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Vnic@@ Profile@@ Help@@ er v@@ nic@@ Profile@@ Help@@ er = new org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Vnic@@ Profile@@ Hel@@ per@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ CommandBase.get@@ Cluster@@ Id(), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ CommandBase.get@@ StoragePool@@ Id(), org.ovirt.engine.core.common.@@ AuditLogType.@@ IM@@ PORT@@ EX@@ POR@@ T_@@ IM@@ POR@@ T_@@ VM_@@ IN@@ VALID@@ _@@ IN@@ TER@@ F@@ AC@@ E@@ S@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > nic@@ s = getVm@@ ().get@@ Interfaces@@ (); vm@@ Interface@@ Manager.@@ s@@ ort@@ Vm@@ Nic@@ s(@@ nic@@ s, getVm@@ ().get@@ StaticData@@ ().get@@ Manage@@ d@@ Device@@ Map@@ ()); if ((!@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ CommandBase.get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ())) && (is@@ External@@ Mac@@ sTo@@ Be@@ Re@@ port@@ ed@@ ())) { re@@ port@@ External@@ Mac@@ s(); } for (org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface if@@ ac@@ e : getVm@@ ().get@@ Interfaces@@ ()) { init@@ Interface@@ (@@ if@@ ac@@ e); v@@ nic@@ Profile@@ Helper.@@ update@@ Nic@@ With@@ Vnic@@ Profile@@ For@@ User@@ (@@ if@@ ace@@ , org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ CommandBase.get@@ C@@ urrent@@ User@@ ()); boolean re@@ ass@@ ign@@ Ma@@ c = (@@ sh@@ oul@@ d@@ Mac@@ Be@@ Re@@ ass@@ ign@@ ed@@ (@@ if@@ ace@@ )) || (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ CommandBase.get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ()); vm@@ Interface@@ Manager.@@ add@@ (@@ if@@ ace@@ , org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ CommandBase.get@@ Comp@@ en@@ s@@ ation@@ Context@@ (), re@@ ass@@ ign@@ Mac@@ ); mac@@ s@@ Add@@ ed@@ .@@ add@@ (@@ if@@ ac@@ e.get@@ Mac@@ Address@@ ()); } v@@ nic@@ Profile@@ Helper.@@ audit@@ In@@ valid@@ Interfaces@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ CommandBase.get@@ Vm@@ Name()); }
private void al@@ loc@@ ate@@ Mac@@ s@@ M@@ is@@ sing@@ In@@ Mac@@ Pool@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool mac@@ Pool@@ , java.util.Map<java.lang.String, java.lang.@@ L@@ on@@ g@@ > pre@@ existing@@ Mac@@ s@@ Us@@ age@@ F@@ re@@ qu@@ enc@@ y@@ , java.util.Map<java.lang.String, java.lang.@@ L@@ on@@ g@@ > mac@@ s@@ From@@ Request@@ Us@@ age@@ F@@ re@@ qu@@ enc@@ y@@ ) { java.util.List<java.lang.String> mac@@ sTo@@ Ac@@ qui@@ r@@ e = new java.util.@@ Link@@ ed@@ List<@@ >(); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.@@ L@@ on@@ g@@ > e@@ n@@ try : mac@@ s@@ From@@ Request@@ Us@@ age@@ F@@ re@@ qu@@ enc@@ y@@ .@@ e@@ n@@ try@@ Set@@ ()) { java.lang.String ma@@ c = e@@ n@@ try@@ .get@@ Key@@ (); java.lang.@@ L@@ on@@ g target@@ Us@@ age = e@@ n@@ try@@ .get@@ Valu@@ e(); java.lang.@@ L@@ on@@ g current@@ Us@@ age = pre@@ Mac@@ s@@ Us@@ age@@ F@@ re@@ qu@@ enc@@ y@@ .get(@@ mac@@ ); long mac@@ To@@ Ac@@ qui@@ r@@ e = (c@@ urrent@@ Us@@ age == null@@ ) ? target@@ Us@@ age : target@@ Us@@ age - current@@ Us@@ age@@ ; java.util.@@ st@@ re@@ am@@ .@@ L@@ on@@ g@@ St@@ re@@ am@@ .@@ r@@ ang@@ e(@@ 0@@ , mac@@ To@@ Ac@@ qui@@ re@@ )@@ .@@ for@@ E@@ ach@@ (@@ ("@@ mac@@ sTo@@ Ac@@ qui@@ r@@ e.@@ add(@@ mac@@ )); } mac@@ Poo@@ l.@@ add@@ Mac@@ s(@@ mac@@ sTo@@ Ac@@ qui@@ re@@ ); }
protected void run@@ Add@@ And@@ V@@ er@@ if@@ y@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Vm@@ N@@ ic if@@ ace@@ , boolean res@@ er@@ ve@@ Existing@@ Mac@@ , org.@@ mock@@ it@@ o.@@ ve@@ r@@ if@@ ication@@ .@@ V@@ er@@ if@@ ication@@ Mod@@ e add@@ Mac@@ V@@ er@@ if@@ ication@@ ) { org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ itor@@ y os@@ itor@@ y = mock@@ (org.ovirt.engine.core.common.@@ os@@ info@@ .@@ Os@@ Rep@@ os@@ it@@ ory@@ .@@ class@@ ); when@@ (vm@@ Interface@@ Manager@@ .get@@ Os@@ Rep@@ os@@ it@@ ory@@ ()).@@ thenReturn(@@ os@@ Rep@@ os@@ it@@ ory@@ ); when(@@ os@@ Rep@@ os@@ it@@ ory@@ .@@ has@@ Nic@@ H@@ ot@@ p@@ lug@@ Support@@ (@@ any@@ Int@@ (), any@@ (@@ org.ovirt.engine.core.compat.@@ Version@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (@@ true@@ ); vm@@ Interface@@ Manager.@@ add@@ (@@ if@@ ace@@ , org.ovirt.engine.core.bll.@@ cont@@ ext.@@ No@@ Op@@ Comp@@ en@@ s@@ ation@@ Cont@@ ex@@ t.get@@ Instanc@@ e(), res@@ er@@ ve@@ Existing@@ Mac@@ ); if (@@ res@@ er@@ ve@@ Existing@@ Mac@@ ) { ve@@ r@@ if@@ y@@ (@@ mac@@ Pool@@ , tim@@ es(@@ 1@@ )@@ )@@ .@@ for@@ ce@@ Add@@ Mac@@ (@@ if@@ ac@@ e.get@@ Mac@@ Address@@ ()); } else { ve@@ r@@ if@@ y@@ Z@@ er@@ o@@ Inter@@ action@@ s(@@ mac@@ Pool@@ ); } ve@@ r@@ if@@ y@@ Add@@ D@@ el@@ eg@@ ated@@ C@@ or@@ r@@ ect@@ ly@@ (@@ if@@ ace@@ , add@@ Mac@@ V@@ er@@ if@@ ication@@ ); }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ d@@ In@@ vo@@ k@@ e public java.lang.Object manage@@ Transaction@@ (@@ java@@ x@@ .@@ int@@ er@@ ce@@ p@@ t@@ or.@@ In@@ vo@@ c@@ ation@@ Cont@@ ex@@ t c@@ t@@ x@@ ) throw@@ s java.lang.Exception { long st@@ ar@@ t = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); try { return c@@ t@@ x.@@ pro@@ ceed@@ (); } catch (@@ java.lang.Exception e) { throw e@@ ; } final@@ l@@ y { org.ovirt.engine.core.common.@@ d@@ i@@ .@@ int@@ er@@ ce@@ p@@ t@@ or@@ .@@ Log@@ gin@@ g@@ Inter@@ ce@@ p@@ t@@ or.@@ log.error@@ ("@@ {@@ } {@@ } , param@@ s@@ : {}@@ ", el@@ ap@@ s@@ ed@@ : {}@@ m@@ s c@@ t@@ x@@ .get@@ Met@@ h@@ o@@ d@@ ().get@@ Name(), c@@ t@@ x@@ .get@@ Parameters@@ (), ((@@ java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ ()) - st@@ art@@ )); }
@@@ org.ovirt.engine.core.common.queries.@@ Query@@ Parameters@@ Base parameters@@ ) { return run@@ Query@@ Impl@@ (@@ action@@ Type, parameters@@ , true@@ , null@@ ); }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") public org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue run@@ Action@@ (@@ org.ovirt.engine.core.common.action.@@ Action@@ Type action@@ Type, org.ovirt.engine.core.common.action.@@ Action@@ Parameters@@ Base parameters@@ ) { org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue return@@ Valu@@ e = not@@ Allow@@ To@@ Run@@ Action@@ (@@ action@@ Type@@ ); if (@@ return@@ Valu@@ e != null@@ ) { return return@@ Value@@ ; } return run@@ Action@@ Impl@@ (@@ action@@ Type, parameters@@ , false@@ , null@@ ); }
private void ch@@ ang@@ e@@ S@@ csi@@ Device@@ To@@ Vir@@ ti@@ o@@ S@@ csi@@ (@@ java.util.Map<java.lang.String, java.lang.Object> vm@@ St@@ r@@ uct@@ ) { @@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") java.util.Map<java.lang.String, java.lang.Object@@ >@@ [@@ ] devi@@ ce@@ s = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >@@ []@@ ) (vm@@ St@@ r@@ uc@@ t.get@@ (@@ Vds@@ Properties.@@ Devic@@ es@@ ))); java.util.Arrays.@@ st@@ re@@ am@@ (@@ devi@@ c@@ es@@ ).@@ filter@@ (@@ ( devi@@ ce@@ ) -@@ > Vds@@ Properties.@@ Cont@@ ro@@ ll@@ er.@@ equals(@@ devi@@ c@@ e.get@@ (@@ Vds@@ Properties.@@ Type@@ )@@ )).@@ filter@@ (@@ ( devi@@ ce@@ ) -@@ > Vds@@ Properties.@@ S@@ c@@ s@@ i.@@ equals(@@ devi@@ c@@ e.get@@ (@@ Vds@@ Properties.@@ Device@@ )@@ )).@@ filter@@ (@@ ("@@ devi@@ ce@@ -@@ > Vds@@ Properties.@@ Vir@@ ti@@ o@@ S@@ c@@ s@@ i.@@ equals(@@ devi@@ c@@ e.get@@ (@@ Vds@@ Properties.@@ Model@@ )@@ )@@ .@@ for@@ E@@ ach@@ (@@ ( devi@@ ce@@ ) -@@ > { devi@@ c@@ e.@@ put(@@ Vds@@ Properties.@@ Device@@ , Vds@@ Properties.@@ Vir@@ ti@@ o@@ S@@ csi@@ ); devi@@ c@@ e.@@ remov@@ e(@@ Vds@@ Properties.@@ Model@@ ); }
protected void init@@ Ap@@ p@@ s@@ T@@ abl@@ e() { app@@ s@@ T@@ able = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ able@@ (@@ false@@ , true@@ ); org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <java.lang.String@@ > app@@ Name@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <java.lang.String@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ java.lang.String app@@ Name@@ ) { return app@@ Name@@ ; } }; app@@ s@@ T@@ abl@@ e.@@ add@@ Column@@ (@@ app@@ Name@@ Column@@ , org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ storage.@@ Re@@ g@@ ist@@ er@@ Entity@@ Info@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ name@@ Snapshot@@ ()); app@@ s@@ T@@ abl@@ e.set@@ Row@@ Data@@ (@@ new java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ >@@ ()); app@@ s@@ T@@ abl@@ e.set@@ Sel@@ ection@@ Model@@ (@@ new com.google.gwt.@@ view@@ .client.@@ No@@ Sel@@ ection@@ Model@@ ()); }
private void res@@ ize@@ To@@ F@@ ull@@ H@@ e@@ ig@@ ht@@ () { s@@ c@@ ro@@ ll@@ Panel@@ .set@@ H@@ e@@ ig@@ ht@@ ((@@ (c@@ al@@ c@@ ul@@ ate@@ T@@ otal@@ Available@@ Sp@@ ac@@ e()) + (@@ Un@@ it.@@ P@@ X@@ .get@@ Typ@@ e()@@ ))); }
private void res@@ ize@@ G@@ rid@@ To@@ F@@ ull@@ H@@ e@@ ig@@ ht@@ () { int to@@ p = org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Ab@@ s@@ ol@@ ut@@ e@@ To@@ p@@ (); int w@@ in@@ do@@ w@@ H@@ e@@ ig@@ h@@ t = com.google.gwt.@@ user.@@ client.@@ W@@ in@@ do@@ w@@ .get@@ Client@@ H@@ e@@ ig@@ ht@@ (); int cont@@ ent@@ H@@ e@@ ig@@ h@@ t = this@@ .get@@ T@@ able@@ B@@ od@@ y@@ Element@@ ().get@@ Of@@ f@@ set@@ H@@ e@@ ig@@ ht@@ (); if (@@ cont@@ ent@@ H@@ e@@ ig@@ h@@ t == 0) { cont@@ ent@@ H@@ e@@ ig@@ h@@ t = org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ abl@@ e.@@ NO@@ _@@ I@@ T@@ EM@@ S_@@ H@@ E@@ I@@ G@@ H@@ T@@ ; } else { cont@@ ent@@ H@@ e@@ ig@@ h@@ t +@@ = get@@ G@@ rid@@ H@@ ead@@ er@@ H@@ e@@ ig@@ ht@@ (); } if (is@@ H@@ or@@ iz@@ on@@ t@@ al@@ S@@ c@@ ro@@ ll@@ b@@ ar@@ Visi@@ bl@@ e()) { cont@@ ent@@ H@@ e@@ ig@@ h@@ t +@@ = s@@ c@@ ro@@ ll@@ b@@ ar@@ Th@@ ick@@ n@@ ess@@ ; } cont@@ ent@@ H@@ e@@ ig@@ h@@ t +@@ = 3@@ ; int ma@@ x@@ G@@ rid@@ H@@ e@@ ig@@ h@@ t = w@@ in@@ do@@ w@@ H@@ e@@ ig@@ h@@ t - t@@ op@@ ; ma@@ x@@ G@@ rid@@ H@@ e@@ ig@@ h@@ t -@@ = org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ abl@@ e.@@ G@@ R@@ ID@@ _@@ S@@ U@@ B@@ T@@ R@@ AC@@ T@@ ; if ((@@ to@@ p > 0) && (@@ to@@ p < w@@ in@@ do@@ w@@ H@@ e@@ ig@@ ht@@ )) { super@@ .set@@ H@@ e@@ ig@@ ht@@ (((@@ java.lang.@@ M@@ ath@@ .@@ min@@ (@@ ma@@ x@@ G@@ rid@@ H@@ e@@ ig@@ ht@@ , cont@@ ent@@ H@@ e@@ ig@@ ht@@ )) + (@@ Un@@ it.@@ P@@ X@@ .get@@ Typ@@ e()@@ ))); } org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ abl@@ e.@@ red@@ r@@ a@@ w@@ (); }
public static int d@@ et@@ er@@ min@@ e@@ S@@ c@@ ro@@ ll@@ b@@ ar@@ Th@@ ick@@ n@@ ess@@ () { com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Pan@@ e@@ l p@@ an@@ e@@ l = new com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ (); p@@ an@@ el@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ W@@ id@@ th@@ (@@ 1@@ 00@@ , Un@@ it.@@ P@@ X@@ ); p@@ an@@ el@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ H@@ e@@ ig@@ ht@@ (@@ 1@@ 00@@ , Un@@ it.@@ P@@ X@@ ); p@@ an@@ el@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ O@@ ver@@ f@@ low@@ (@@ O@@ ver@@ f@@ low@@ .S@@ C@@ RO@@ L@@ L@@ ); com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ D@@ oc@@ um@@ ent.@@ get@@ ().get@@ B@@ od@@ y@@ ().@@ append@@ Ch@@ il@@ d@@ (p@@ an@@ el@@ .get@@ Element@@ ()); int s@@ c@@ ro@@ ll@@ b@@ ar@@ H@@ e@@ ig@@ h@@ t = (p@@ an@@ el@@ .get@@ Of@@ f@@ set@@ H@@ e@@ ig@@ ht@@ ()) - (p@@ an@@ el@@ .get@@ Element@@ ().get@@ Client@@ H@@ e@@ ig@@ ht@@ ()); com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ D@@ oc@@ um@@ ent.@@ get@@ ().get@@ B@@ od@@ y@@ ().@@ remove@@ Ch@@ il@@ d@@ (p@@ an@@ el@@ .get@@ Element@@ ()); return s@@ c@@ ro@@ ll@@ b@@ ar@@ H@@ e@@ ig@@ ht@@ ; }
private void init@@ Ap@@ p@@ s@@ T@@ abl@@ e() { app@@ s@@ T@@ able = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ able@@ (@@ false@@ , true@@ ); org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <java.lang.String@@ > app@@ Name@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <java.lang.String@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ java.lang.String app@@ Name@@ ) { return app@@ Name@@ ; } }; app@@ s@@ T@@ abl@@ e.@@ add@@ Column@@ (@@ app@@ Name@@ Column@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Snapshot@@ Info@@ Panel@@ .@@ const@@ an@@ t@@ s.@@ name@@ Snapshot@@ ()); app@@ s@@ T@@ abl@@ e.set@@ Row@@ Data@@ (@@ new java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ >@@ ()); app@@ s@@ T@@ abl@@ e.set@@ Sel@@ ection@@ Model@@ (@@ new com.google.gwt.@@ view@@ .client.@@ No@@ Sel@@ ection@@ Model@@ ()); }
protected static com.google.gwt.@@ user.@@ client.@@ ui.@@ W@@ id@@ g@@ e@@ t create@@ Default@@ Lo@@ ad@@ ing@@ In@@ d@@ ic@@ ator@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Resource@@ s resourc@@ es) { com.google.gwt.@@ resourc@@ es.@@ client.@@ Image@@ Resourc@@ e load@@ ing@@ Im@@ g = resourc@@ es.@@ data@@ G@@ rid@@ Lo@@ ad@@ ing@@ (); if (@@ load@@ ing@@ Im@@ g == null@@ ) { return null@@ ; } com.google.gwt.@@ user.@@ client.@@ ui.@@ Image im@@ age = new com.google.gwt.@@ user.@@ client.@@ ui.@@ Image@@ (@@ load@@ ing@@ Im@@ g@@ ); im@@ age.get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ M@@ ar@@ gin@@ To@@ p@@ (@@ 3@@ 0@@ .@@ 0@@ , Un@@ it.@@ P@@ X@@ ); return image@@ ; }
public void switch@@ Tab@@ (@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ List@@ I@@ t@@ e@@ m t@@ ab@@ Item@@ ) { boolean fo@@ un@@ d = false@@ ; for (@@ int i = 0@@ ; i < (@@ n@@ av@@ Tab@@ s.get@@ Widget@@ Count@@ ()); i@@ +@@ +@@ ) { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ List@@ I@@ t@@ e@@ m t@@ ab@@ List@@ I@@ t@@ e@@ m = ((@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ List@@ Item@@ ) (@@ n@@ av@@ Tab@@ s.get@@ Widget@@ (@@ i@@ ))); if (@@ t@@ ab@@ Item@@ .get@@ Text@@ ().@@ equals(@@ t@@ ab@@ List@@ I@@ t@@ ab@@ List@@ I@@ t@@ e@@ m@@ .get@@ Text@@ ())) { t@@ ab@@ List@@ I@@ t@@ ab@@ .@@ sh@@ ow@@ Tab@@ (); org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ Pan@@ e t@@ ab@@ Pan@@ e = ((@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ Pan@@ e) (@@ t@@ ab@@ Cont@@ ent.@@ get@@ Widget@@ Widget@@ (@@ i@@ )); t@@ ab@@ Cont@@ ent.@@ remov@@ e(@@ t@@ ab@@ Pan@@ e); t@@ ab@@ Cont@@ ent.@@ in@@ sert@@ (@@ t@@ ab@@ Pan@@ e@@ , i@@ ); ((@@ com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ ) (@@ t@@ ab@@ Pan@@ e.get@@ Widget@@ (0@@ )@@ )).@@ in@@ sert@@ (@@ t@@ ab@@ H@@ ead@@ er@@ Cont@@ ain@@ er@@ Cont@@ ain@@ er@@ , 0@@ ); t@@ ab@@ Pan@@ e.get@@ Widget@@ (0@@ )@@ .set@@ H@@ e@@ ig@@ ht@@ (@@ h@@ e@@ ig@@ ht@@ ); t@@ ab@@ Pan@@ e.set@@ Active@@ (@@ true@@ ); acti@@ ve@@ T@@ a@@ b = ((@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ List@@ Item@@ ) (@@ n@@ av@@ ))); fo@@ un@@ d = true@@ ; } else { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Tab@@ Pan@@ e t@@ ab@@ Pan@@ e = ((@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Cont@@ ent.@@ get@@ Widget@@ (@@ i@@ ))); ((@@ com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ ) (@@ t@@ ab@@ Panel@@ ) (@@ t@@ ab@@ Panel@@ )@@ )).@@ remov@@ e(@@ t@@ ab@@ H@@ ead@@ er@@ Cont@@ ain@@ er@@ Cont@@ ain@@ er@@ Cont@@ ain@@ er@@ ); t@@ ab@@ Pan@@ e.set@@ Active@@ (@@ false@@ ); } } if ((!@@ fo@@ un@@ d@@ ) && ((@@ n@@ av@@ Tab@@ s.get@@ Count@@ ()) > 0@@ )) { ((@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ap@@ 3@@ .client.@@ Tab@@ List@@ ) (@@ org.@@ gwt@@ b@@ oot@@ Tab@@ Panel@@ ); }
private void init@@ Networks@@ T@@ abl@@ e() { network@@ s@@ T@@ abl@@ e.@@ en@@ able@@ Column@@ Res@@ iz@@ ing@@ (); org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ > name@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ ) { return network@@ .get@@ Nam@@ e(); } }; network@@ s@@ T@@ abl@@ e.@@ add@@ Column@@ (@@ name@@ Column@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ p@@ oo@@ l.@@ Is@@ csi@@ Bond@@ Popup@@ Widget@@ .@@ const@@ an@@ t@@ s.@@ nam@@ e(), "@@ 4@@ 0@@ %@@ "); org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ > d@@ escription@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Text@@ Column@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ >() { @java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ ) { return network@@ .get@@ Description@@ (); } }; network@@ s@@ T@@ abl@@ e.@@ add@@ Column@@ (@@ d@@ escription@@ Column@@ , org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ p@@ oo@@ l.@@ Is@@ csi@@ Bond@@ Popup@@ Widget@@ .@@ const@@ an@@ t@@ s.@@ d@@ escription@@ (), "@@ 6@@ 0@@ %@@ "); }
public void en@@ able@@ Column@@ Res@@ iz@@ ing@@ () { if (is@@ T@@ able@@ H@@ ead@@ er@@ Visi@@ bl@@ e()) { tabl@@ e.@@ en@@ able@@ Column@@ Res@@ iz@@ ing@@ (); } }
void update@@ List@@ H@@ ead@@ er@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ quota@@ .@@ Change@@ Quota@@ Model model@@ ) { java.lang.String w@@ id@@ t@@ h = "@@ 1@@ 00@@ p@@ x@@ "@@ ; list@@ H@@ ead@@ er = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ able@@ (@@ false@@ , ((@@ com.google.gwt.@@ user.@@ c@@ el@@ l@@ view@@ .@@ client@@ .@@ Data@@ G@@ r@@ id@@ .@@ Resourc@@ es) (c@@ om@@ .google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ G@@ W@@ T@@ .@@ c@@ re@@ ate(@@ org.ovirt.engine.ui.common.@@ Popup@@ S@@ im@@ ple@@ T@@ able@@ Resourc@@ es@@ .@@ class@@ )@@ ), true@@ ); list@@ H@@ ead@@ er.@@ add@@ Column@@ (@@ new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Empty@@ Column@@ (), org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ quota@@ .@@ Change@@ Quota@@ View@@ .@@ const@@ an@@ t@@ s.@@ el@@ ement@@ Name(), w@@ id@@ th@@ ); list@@ H@@ ead@@ er.@@ add@@ Column@@ (@@ new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Empty@@ Column@@ (), org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ quota@@ .@@ Change@@ Quota@@ View@@ .@@ const@@ an@@ t@@ s.@@ storageDomain@@ Disk@@ (), w@@ id@@ th@@ ); list@@ H@@ ead@@ er.@@ add@@ Column@@ (@@ new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Empty@@ Column@@ (), org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ quota@@ .@@ Change@@ Quota@@ View@@ .@@ const@@ an@@ t@@ s.@@ current@@ Quota@@ (), w@@ id@@ th@@ ); list@@ H@@ ead@@ er.@@ add@@ Column@@ (@@ new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Empty@@ Column@@ (), org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ p@@ opup@@ .@@ quota@@ .@@ Change@@ Quota@@ View@@ .@@ const@@ an@@ t@@ s.@@ quota@@ Disk@@ (), w@@ id@@ th@@ ); list@@ H@@ ead@@ er.@@ set@@ Row@@ Data@@ (@@ new java.util.Array@@ List@@ ()); list@@ H@@ ead@@ er@@ Panel@@ .set@@ Widget@@ (@@ list@@ H@@ ead@@ er@@ ); }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") private static java.util.List<@@ org.ovirt.engine.api.model.@@ Base@@ Resource@@ > get@@ In@@ lin@@ e@@ Resourc@@ es@@ (java.lang.Object obj@@ ) { java.util.ArrayList<@@ org.ovirt.engine.api.model.@@ Base@@ Resource@@ > re@@ t = new java.util.ArrayList<@@ >(); for (@@ java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Met@@ h@@ o@@ d m@@ et@@ h@@ o@@ d : org.ovirt.engine.api.restapi.@@ util.@@ Link@@ Hel@@ per@@ .get@@ R@@ el@@ ev@@ an@@ t@@ Method@@ s(@@ obj@@ .get@@ Class@@ ())) { java.lang.Object in@@ lin@@ e = null@@ ; try { in@@ lin@@ e = m@@ et@@ hod@@ .@@ in@@ vo@@ k@@ e(@@ obj@@ ); } catch (@@ java.lang.Exception e) { } if (@@ in@@ lin@@ e != null@@ ) { if (@@ in@@ lin@@ e instanceof org.ovirt.engine.api.model.@@ Base@@ Resource@@ ) { ret@@ .@@ add@@ (((@@ org.ovirt.engine.api.model.@@ Base@@ Resource@@ ) (@@ in@@ lin@@ e@@ ))); } else if (@@ in@@ lin@@ e instanceof org.ovirt.engine.api.model.@@ Base@@ Resourc@@ es) { org.ovirt.engine.api.model.@@ Base@@ Resource@@ s enti@@ ti@@ es = ((@@ org.ovirt.engine.api.model.@@ Base@@ Resourc@@ es) (@@ in@@ lin@@ e@@ )); java.lang.@@ re@@ f@@ l@@ ec@@ t.@@ Met@@ h@@ o@@ d get@@ t@@ er = org.ovirt.engine.api.@@ utils.@@ Entity@@ Hel@@ per@@ .get@@ Collection@@ Get@@ ter@@ (@@ enti@@ ties@@ ); try { java.util.List<@@ org.ovirt.engine.api.model.@@ Base@@ Resource@@ > enti@@ ties@@ List = ((@@ java.util.List<@@ org.ovirt.engine.api.model.@@ Base@@ Resource@@ >) (get@@ t@@ er.@@ in@@ vo@@ k@@ e(@@ enti@@ ties@@ ))); for (@@ org.ovirt.engine.api.model.@@ Base@@ Resourc@@ e enti@@ ty : enti@@ ties@@ List@@ ) { ret@@ .@@ add(@@ entity@@ ); } } catch (@@ java.lang.Exception e) { } else { ret@@ .@@ add@@ All@@ (@@ org.ovirt.engine.api.restapi.@@ util.@@ Link@@ Hel@@ per@@ .get@@ In@@ lin@@ e@@ Resourc@@ es(@@ in@@ lin@@ e@@ )); } } return ret@@ ; }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") @java.lang.Override public <@@ T@@ > T get@@ Value(@@ org.ovirt.engine.core.common.@@ config.@@ Config@@ Value@@ s name@@ , java.lang.String version@@ ) { java.util.Map<java.lang.String, java.lang.Object> value@@ s = org.ovirt.engine.core.dal.dbbroker.@@ gener@@ ic@@ .@@ D@@ B@@ Config@@ Utils.@@ _@@ v@@ dc@@ Option@@ C@@ ach@@ e.get@@ (@@ nam@@ e.@@ toString@@ ()); if ((@@ value@@ s != null@@ ) && (@@ valu@@ es.@@ contain@@ s@@ Key@@ (@@ version@@ ))) { return ((@@ T@@ ) (@@ valu@@ es@@ .get(@@ version@@ ))); } return new org.ovirt.engine.core.common.utils.Pair@@ (@@ nam@@ e.@@ toString@@ (), new org.ovirt.engine.core.common.utils.Pair@@ (@@ nam@@ e.@@ toString@@ ())); }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ s = disk@@ Dao@@ .get@@ All@@ From@@ Disks@@ In@@ c@@ lu@@ d@@ ing@@ Snapshots@@ By@@ Disk@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ Parameters().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ()); if (((@@ disk@@ s.@@ size()) == 1@@ ) && ((@@ disk@@ s.get@@ (0@@ )) instanceof org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk@@ )) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query@@ .get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ Parameters().get@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ User@@ ID@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ()); if (((@@ disk@@ s.@@ size()) == 1@@ ) && ((@@ disk@@ s.get@@ (0@@ )) instanceof org.ovirt.engine.core.common.businessentities.storage.@@ Lun@@ Disk@@ )) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query@@ .@@ for@@ E@@ ach@@ (@@ ( disk@@ ) -@@ > Acti@@ v@@ e()) { disk@@ .get@@ Snapshot@@ s().@@ add@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Im@@ ag@@ e.c@@ opy@@ Of@@ (disk@@ )); acti@@ ve@@ Disk = disk@@ ; acti@@ ve@@ Disk@@ .get@@ Snapshot@@ s().@@ add@@ All@@ (s@@ napshot@@ s); } else { if ((@@ acti@@ ve@@ Disk@@ ) != null@@ ) { acti@@ ve@@ Disk@@ .get@@ Snapshot@@ s().add(@@ disk@@ ); } else { snapshot@@ s.add(@@ disk@@ ); } org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Get@@ Disk@@ By@@ Disk@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ acti@@ ve@@ Disk@@ ); }
@java.lang.Override protected void setUp@@ Query@@ Expectations(@@ java.lang.String query@@ , java.lang.Object fail@@ ur@@ e) throw@@ s java.lang.Exception { setUp@@ Entity@@ Query@@ Expectations(@@ 1, fail@@ ur@@ e); }
@java.lang.Override protected void setUp@@ Query@@ Expectations(@@ java.lang.String query@@ ) throw@@ s java.lang.Exception { setUp@@ Entity@@ Query@@ Expectations(@@ 1@@ ); }
protected void setUp@@ Entity@@ Query@@ Expectation@@ s@@ (@@ int tim@@ es@@ , java.lang.Object fail@@ ur@@ e) throw@@ s java.lang.Exception { while ((@@ tim@@ es@@ -@@ ) > 0) { setUp@@ Entity@@ Query@@ Expectations(@@ Query@@ Type.Get@@ All@@ Disk@@ s, org.ovirt.engine.core.common.queries.@@ Query@@ Parameters@@ Base@@ .@@ class@@ , new java.lang.String@@ []{ }, new java.lang.Object@@ []{ }, get@@ Entity@@ List@@ (), fail@@ ur@@ e); } }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > get@@ Entity@@ List@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > enti@@ ti@@ es = new java.util.ArrayList<@@ >(); for (@@ int i = 0@@ ; i < (@@ NAM@@ E@@ S@@ .@@ l@@ ength@@ ); i@@ +@@ +@@ ) { entities.@@ add@@ (get@@ Entity(@@ i@@ )); } return enti@@ ties@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.common.businessentities.@@ StorageDomain storage@@ Domain = storageDomain@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Get@@ All@@ Disks@@ By@@ StorageDomain@@ Id@@ Query.get@@ Parameters().get@@ Id()); if (@@ storageDomain@@ .get@@ Storage@@ Typ@@ e().@@ is@@ Cinder@@ Domain@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ Image@@ s = disk@@ Image@@ Dao@@ .get@@ AllFor@@ StorageDomain@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Get@@ All@@ Disks@@ By@@ StorageDomain@@ Id@@ Query.get@@ Parameters().get@@ Id()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Get@@ All@@ Disks@@ By@@ StorageDomain@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ disk@@ Images@@ ); } else { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ Image@@ s = disk@@ Image@@ Dao@@ .get@@ All@@ Snapshots@@ For@@ StorageDomain@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Get@@ All@@ Disks@@ By@@ StorageDomain@@ Id@@ Query.get@@ Parameters().get@@ Id()); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Get@@ All@@ Disks@@ By@@ StorageDomain@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ im@@ ages@@ Handler.@@ fil@@ l@@ Snapshots@@ To@@ Disk@@ Images@@ (disk@@ Images@@ ); } }
@java.lang.Override public org.ovirt.engine.api.model.@@ Disk@@ s list@@ () { return map@@ Collection@@ (get@@ Backend@@ Collection@@ (@@ VdcQuery@@ Type.Get@@ All@@ Disk@@ s, new org.ovirt.engine.core.common.queries.@@ Query@@ Parameters@@ Bas@@ e())); }
@java.lang.Override public void on@@ B@@ in@@ d@@ () { super@@ .@@ on@@ B@@ in@@ d@@ (); re@@ g@@ ist@@ er@@ Handler@@ (((@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ O@@ ver@@ l@@ ay@@ P@@ res@@ enter@@ Widget@@ .@@ View@@ De@@ f@@ ) (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ O@@ ver@@ l@@ ay@@ P@@ res@@ enter@@ Widget@@ .get@@ View@@ ())@@ ).get@@ C@@ lo@@ se@@ Button@@ ().add@@ Cl@@ ick@@ Handler@@ (@@ new org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Re@@ ve@@ al@@ O@@ ver@@ l@@ ay@@ Cont@@ ent@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , new org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Re@@ ve@@ al@@ O@@ ver@@ l@@ ay@@ Cont@@ ent@@ Event@@ (@@ null@@ )@@ ))); }
private void acti@@ vate@@ DataCenter@@ () { org.ovirt.engine.core.common.businessentities.@@ StorageDomain ma@@ ster@@ Domain = storageDomain@@ Dao@@ .get@@ StorageDomain@@ s(@@ org.ovirt.engine.core.bll.storage.@@ Fence@@ Vds@@ Man@@ u@@ al@@ y@@ Command.get@@ StoragePool@@ ().get@@ Id(), StorageDomain@@ Type.@@ Ma@@ ster@@ ).@@ st@@ re@@ am@@ ().@@ fin@@ d@@ F@@ ir@@ st@@ ().@@ or@@ El@@ se@@ (@@ null@@ ); org.ovirt.engine.core.bll.storage.@@ Fence@@ Vds@@ Man@@ u@@ al@@ y@@ Command.@@ c@@ al@@ c@@ StoragePool@@ Status@@ By@@ Domains@@ Status@@ (); log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed do@@ ma@@ in id@@ :@@ '{}@@ ' Ma@@ st@@ er do@@ ma@@ in status@@ :@@ '{}@@ ' (@@ ma@@ ster@@ Domain != null ? ma@@ ster@@ Domain@@ .getId@@ () : null@@ ), (@@ ma@@ ster@@ Domain != null ? ma@@ ster@@ Domain@@ .get@@ Status@@ () : null@@ )); if ((@@ ma@@ ster@@ Domain != null@@ ) && ((((@@ ma@@ ster@@ Domain@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Active@@ )) || ((@@ ma@@ ster@@ Domain@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ ))) || ((@@ ma@@ ster@@ Domain@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ In@@ acti@@ ve@@ )))) { res@@ et@@ SP@@ M@@ (); } }
public void re@@ fresh@@ () { org.ovirt.engine.core.dal.dbbroker.@@ gener@@ ic@@ .@@ D@@ B@@ Config@@ Utils.@@ _@@ v@@ dc@@ Option@@ C@@ ach@@ e.c@@ le@@ ar@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vdc@@ Option@@ > lis@@ t = org.ovirt.engine.core.dal.dbbroker.@@ gener@@ ic@@ .@@ D@@ B@@ Config@@ Util@@ s.get@@ Vdc@@ Option@@ Dao().get@@ All@@ (); lis@@ t = m@@ ove@@ De@@ p@@ end@@ ent@@ To@@ En@@ d@@ (@@ list@@ ); for (org.ovirt.engine.core.common.businessentities.@@ Vdc@@ O@@ ption op@@ tion : list@@ ) { try { if ((@@ (!(@@ org.ovirt.engine.core.dal.dbbroker.@@ gener@@ ic@@ .@@ D@@ B@@ Config@@ Utils.@@ _@@ v@@ dc@@ Option@@ C@@ ach@@ e.c@@ on@@ t@@ ain@@ s@@ Key@@ (@@ o@@ ption@@ .get@@ Option@@ Name()@@ ))) || (!(@@ org.ovirt.engine.core.dal.dbbroker.@@ gener@@ ic@@ .@@ D@@ B@@ Config@@ Utils.@@ _@@ v@@ dc@@ Option@@ C@@ ach@@ e.get@@ (@@ o@@ ption@@ .get@@ Option@@ Name()@@ ).@@ contain@@ s@@ Key@@ (@@ o@@ ption@@ .get@@ Version@@ ())@@ ))) || (@@ org.ovirt.engine.core.dal.dbbroker.@@ gener@@ ic@@ .@@ D@@ B@@ Config@@ Utils.@@ is@@ R@@ el@@ o@@ ption@@ .get@@ Option@@ Name()@@ ))) { update@@ Option@@ (@@ o@@ ption@@ ); } } catch (@@ java.lang.@@ No@@ Su@@ ch@@ Fi@@ eld@@ Exception e) { org.ovirt.engine.core.dal.dbbroker.@@ gener@@ ic@@ .@@ D@@ B@@ Config@@ Utils.@@ log.error@@ ("@@ E@@ r@@ ro@@ r re@@ fresh@@ ing fi@@ el@@ d '{}@@ '@@ : do@@ es not ex@@ is@@ t in {}@@ .@@ ", o@@ ption@@ .get@@ Option@@ Name(), org.ovirt.engine.core.common.@@ config.@@ Config@@ Valu@@ es@@ .@@ class@@ .get@@ S@@ im@@ ple@@ Name()); } }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vdc@@ Option@@ > m@@ ove@@ De@@ p@@ end@@ ent@@ To@@ En@@ d@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vdc@@ Option@@ > list@@ ) { java.util.@@ f@@ un@@ c@@ tion@@ .@@ P@@ red@@ ic@@ ate@@ <org.ovirt.engine.core.common.businessentities.@@ Vdc@@ Option@@ > is@@ De@@ p@@ end@@ ent = ("@@ -@@ > o@@ ption@@ s@@ List@@ "); if (@@ par@@ se@@ d != null@@ ) { org.ovirt.engine.core.common.@@ config.@@ Option@@ Be@@ ha@@ vi@@ or Att@@ rib@@ ut@@ e b@@ e@@ ha@@ vi@@ o@@ u@@ r = par@@ s@@ ed@@ .get@@ Option@@ Be@@ ha@@ vi@@ (@@ b@@ e@@ ha@@ vi@@ o@@ u@@ r == null@@ ) { return false@@ ; } return (@@ b@@ e@@ ha@@ vi@@ our@@ .@@ b@@ e@@ ha@@ vi@@ our@@ ()) == (@@ Value@@ De@@ p@@ end@@ ent@@ ); } return false@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value(@@ ) { add@@ Custom@@ Value("@@ Source@@ I@@ P@@ ", (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (s@@ ource@@ Ip@@ ) ? UN@@ K@@ NO@@ W@@ N : source@@ Ip@@ )); return org.ovirt.engine.core.bll.@@ aaa.@@ Log@@ out@@ Session@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ VD@@ C@@ _@@ LO@@ G@@ O@@ U@@ T : org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ VD@@ C@@ _@@ LO@@ G@@ O@@ U@@ T_@@ FAIL@@ ED@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.@@ aaa.@@ Auth@@ enti@@ c@@ ation@@ Profil@@ e profil@@ e = s@@ ession@@ Data@@ Cont@@ ain@@ er@@ .get@@ Profil@@ e(@@ org.ovirt.engine.core.bll.@@ aaa.@@ Log@@ out@@ Session@@ Command.getParameters().get@@ Session@@ Id()); if (@@ profil@@ e == null@@ ) { org.ovirt.engine.core.bll.@@ aaa.@@ Log@@ out@@ Session@@ Command@@ .set@@ Succeeded@@ (@@ false@@ ); } else { source@@ I@@ p = s@@ ession@@ Data@@ Cont@@ ain@@ er@@ .get@@ Source@@ Ip@@ (org.ovirt.engine.core.bll.@@ aaa.@@ Log@@ out@@ Session@@ Command.getParameters().get@@ Session@@ Id()); s@@ ession@@ Data@@ Cont@@ ain@@ er.@@ set@@ Session@@ Valid@@ (org.ovirt.engine.core.bll.@@ aaa.@@ Log@@ out@@ Session@@ Command.getParameters().get@@ Session@@ Id(), false@@ ); org.ovirt.engine.core.bll.@@ aaa.@@ Log@@ out@@ Session@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); } }
public int get@@ T@@ otal@@ Num@@ ber@@ Of@@ Mac@@ s() { return t@@ otal@@ Num@@ ber@@ Of@@ Mac@@ s@@ ; }
public int get@@ T@@ otal@@ Num@@ ber@@ Of@@ Mac@@ s() { int c@@ oun@@ t = 0@@ ; for (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ R@@ ang@@ e r@@ ang@@ e : r@@ ang@@ es) { c@@ oun@@ t +@@ = r@@ ang@@ e.get@@ T@@ otal@@ Num@@ ber@@ Of@@ Mac@@ s(); } return c@@ ount@@ ; }
private void update@@ Back@@ up@@ () { if ((@@ (get@@ C@@ urrent@@ Storage@@ Item@@ ().get@@ Rol@@ e()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ IS@@ O@@ )) || ((get@@ C@@ urrent@@ Storage@@ Item@@ ().get@@ Rol@@ e()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type.@@ Import@@ Export@@ ))) { is@@ Back@@ up@@ ().setIs@@ Available@@ (@@ false@@ ); is@@ Back@@ up@@ ().set@@ Entity@@ (@@ false@@ ); return@@ ; } boolean back@@ up@@ Support@@ ed = ((@@ java.lang.Boolean@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Config@@ Value@@ Pre@@ Convert@@ ed(@@ Configuration@@ Values.@@ Back@@ up@@ Supported@@ , get@@ DataCenter@@ ().get@@ SelectedItem@@ ().get@@ CompatibilityVersion@@ ().@@ toString@@ ()))); is@@ Back@@ up@@ ().setIs@@ Avail@@ able(@@ back@@ up@@ Supported@@ ); if (is@@ Back@@ up@@ ().get@@ Is@@ Avail@@ abl@@ e()) { if (is@@ New@@ Storage@@ ()) { is@@ Back@@ up@@ ().set@@ Entity@@ (@@ false@@ ); } else { is@@ Back@@ up@@ ().set@@ Entity@@ (get@@ Storage@@ ().is@@ Back@@ up@@ ()); } }
private void s@@ ave@@ Default@@ ed@@ Storage@@ Properties@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Storage@@ Model model, org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c storageDomain@@ Static@@ ) { storageDomain@@ Static@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ model.get@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e().get@@ Entity@@ ()); storageDomain@@ Static@@ .set@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ model.get@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e().get@@ Entity@@ ()); storageDomain@@ Static@@ .set@@ W@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ (model.get@@ W@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ ().getEntity@@ ()); storageDomain@@ Static@@ .set@@ C@@ ri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ (model.get@@ C@@ ri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ ().getEntity@@ ()); storageDomain@@ Static@@ .set@@ Back@@ up@@ (@@ model.@@ is@@ Back@@ up@@ ().getEntity@@ ()); }
public org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.Boolean@@ > get@@ Back@@ up@@ () { return back@@ up@@ ; }
private void w@@ rit@@ e@@ Memory@@ Back@@ ing@@ () { if (!(@@ org.ovirt.engine.core.common.utils.@@ H@@ ug@@ e@@ P@@ age@@ Utils.@@ is@@ Back@@ ed@@ By@@ H@@ ug@@ ep@@ ages@@ (vm@@ .get@@ StaticData@@ ()))) { return@@ ; } w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ mem@@ ory@@ Back@@ ing@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ h@@ ug@@ ep@@ ages@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ p@@ age@@ "); int h@@ ug@@ ep@@ age@@ Siz@@ e = java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (org.ovirt.engine.core.common.@@ utils.@@ H@@ ug@@ e@@ P@@ age@@ Siz@@ e(@@ vm.get@@ StaticData@@ ())); java.util.List<@@ java.lang.Integer@@ > h@@ ug@@ ep@@ age@@ Size@@ s = host@@ Statistic@@ s@@ Sup@@ pl@@ i@@ er@@ .get@@ ().get@@ H@@ ug@@ e@@ P@@ ages@@ ().@@ st@@ re@@ am@@ ().@@ map@@ (@@ H@@ ug@@ e@@ P@@ age@@ :@@ :@@ get@@ Size@@ K@@ B@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); if (!(@@ h@@ ug@@ ep@@ age@@ Siz@@ es.@@ contains(@@ h@@ ug@@ ep@@ age@@ Siz@@ es@@ ))) { switch (vm@@ .get@@ Cluster@@ Ar@@ ch@@ ().get@@ F@@ am@@ il@@ y@@ ()) { case x@@ 8@@ 6 : h@@ ug@@ ep@@ age@@ Siz@@ e = 2@@ 0@@ 4@@ 8@@ ; break@@ ; case p@@ c : h@@ ug@@ ep@@ age@@ Siz@@ e = 1@@ 6@@ 3@@ 8@@ 4@@ ; break@@ ; } } w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ s@@ ize@@ ", java.lang.String.@@ value@@ Of@@ (@@ h@@ ug@@ ep@@ age@@ Size@@ )); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
public java.util.@@ con@@ c@@ urr@@ ent.@@ F@@ ut@@ ure@@ <@@ org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Respon@@ se@@ > call@@ (@@ org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ q@@ , org.ovirt.vdsm.jsonrpc.client.@@ Broker@@ Command@@ Call@@ back callback@@ ) throw@@ s org.ovirt.vdsm.jsonrpc.client.@@ Client@@ Connection@@ Exception { final org.ovirt.vds@@ m.jsonrpc@@ .@@ client@@ .@@ int@@ er@@ nal@@ .@@ C@@ al@@ l c@@ al@@ l = new org.ovirt.vds@@ m.jsonrpc@@ .@@ client@@ .@@ int@@ er@@ nal@@ .@@ Call@@ (@@ re@@ q@@ , execut@@ or@@ Service@@ , callback@@ ); this@@ .@@ tr@@ ack@@ er.@@ re@@ g@@ ist@@ er@@ Call@@ (@@ re@@ q@@ , call@@ ); r@@ e@@ try@@ Call@@ (@@ re@@ q@@ , call@@ ); try { this@@ .get@@ Client@@ ().@@ s@@ end@@ Message@@ (@@ json@@ To@@ By@@ t@@ e@@ Array@@ (@@ re@@ q.@@ to@@ J@@ son@@ ())); } final@@ l@@ y { r@@ e@@ try@@ Call@@ (@@ re@@ q@@ , call@@ ); } return call@@ ; }
public void set@@ Execut@@ or@@ Servic@@ e(@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Execut@@ or@@ Servic@@ e execut@@ or@@ Service@@ ) { this@@ .@@ execut@@ or@@ Servic@@ e = execut@@ or@@ Service@@ ; }
public void pro@@ cess@@ Respon@@ se(@@ org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Respon@@ se respon@@ se@@ ) { org.@@ c@@ ode@@ ha@@ u@@ s.@@ j@@ ack@@ son@@ .@@ J@@ son@@ Nod@@ e id = respon@@ s@@ e.get@@ Id@@ (); if ((@@ org.@@ c@@ ode@@ ha@@ u@@ s.@@ j@@ ack@@ son@@ .@@ n@@ od@@ e.@@ Null@@ Node@@ .@@ class@@ .is@@ Instanc@@ e(@@ id@@ )) || (@@ id == null@@ )) { this@@ .@@ tr@@ ack@@ er.@@ pro@@ cess@@ Is@@ su@@ e(@@ respon@@ se@@ ); return@@ ; } org.ovirt.vds@@ m.jsonrpc@@ .@@ client@@ .@@ int@@ er@@ nal@@ .@@ J@@ son@@ R@@ pc@@ C@@ al@@ l c@@ al@@ l = this@@ .@@ tr@@ ack@@ er.@@ remove@@ Call@@ (@@ respon@@ s@@ e.get@@ Id()); if (c@@ al@@ l == null@@ ) { this@@ .@@ log.error@@ ("@@ Fail@@ ed to updat@@ e respon@@ se for {@@ } respon@@ s@@ e.get@@ Id()); return@@ ; } c@@ al@@ l.@@ add@@ Respon@@ se(@@ respon@@ se@@ ); if ((@@ (c@@ all@@ .get@@ Callback@@ ()) != null@@ ) && ((@@ call@@ .get@@ Execut@@ or@@ ()) != null@@ )) { call@@ .get@@ Execut@@ or@@ ().@@ sub@@ m@@ it@@ ((@@ ) -@@ > call@@ .get@@ Callback@@ ().@@ on@@ Respon@@ se(@@ java.util.Collections.@@ em@@ pty@@ Map@@ ())); } }
void on@@ Failur@@ e(@@ java.lang.@@ Th@@ row@@ able t@@ );
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void init@@ () { org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ Callback@@ s@@ P@@ oll@@ er.@@ log.@@ info@@ ("@@ St@@ ar@@ t initial@@ iz@@ ing {@@ } get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); p@@ oll@@ ing@@ R@@ at@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Async@@ Command@@ P@@ oll@@ ing@@ Lo@@ op@@ In@@ Sec@@ on@@ ds@@ ); re@@ p@@ eat@@ En@@ d@@ Method@@ s@@ On@@ Fail@@ Max@@ R@@ et@@ ri@@ es = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Rep@@ eat@@ En@@ d@@ Method@@ s@@ On@@ Fail@@ Max@@ R@@ et@@ ri@@ es@@ ); init@@ Command@@ Execut@@ or@@ (); schedul@@ er@@ Uti@@ l.@@ schedul@@ e@@ A@@ Fi@@ x@@ ed@@ D@@ el@@ ay@@ Job@@ (@@ this@@ , "@@ in@@ vo@@ ke@@ Callback@@ Method@@ s", new java.lang.@@ Class@@ []{ }, new java.lang.Object@@ []{ }, p@@ oll@@ ing@@ R@@ ate@@ , p@@ oll@@ ing@@ R@@ ate@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); org.ovirt.engine.core.bll.@@ task@@ s.@@ Command@@ Callback@@ s@@ P@@ oll@@ er.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h@@ ed initial@@ iz@@ ing {@@ } get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name()); }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (@@ org.ovirt.engine.core.dao.@@ p@@ rovider.@@ Provider@@ Dao@@ .@@ class@@ , p@@ rovider@@ Dao@@ ); in@@ j@@ ect@@ or@@ R@@ ul@@ e.@@ b@@ in@@ d@@ (@@ org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ Direct@@ or@@ .@@ class@@ , a@@ uditLog@@ Direct@@ or@@ ); p@@ rovi@@ der = new org.ovirt.engine.core.common.businessentities.@@ Provider@@ (); p@@ rovider.@@ set@@ Id@@ (org.ovirt.engine.core.bll.@@ network.@@ External@@ Network@@ Manager@@ Test.@@ P@@ RO@@ V@@ ID@@ ER_@@ ID@@ ); p@@ rovider.@@ set@@ U@@ r@@ l@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ http@@ s@@ :@@ /@@ %@@ s@@ /@@ ", org.ovirt.engine.core.bll.network.@@ External@@ Network@@ Manager@@ Test.@@ P@@ RO@@ V@@ ID@@ ER_@@ I@@ P@@ )); when(@@ p@@ rovider@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ network.@@ External@@ Network@@ Manager@@ Test.@@ P@@ RO@@ V@@ ID@@ ER_@@ ID@@ )).@@ thenReturn(@@ p@@ rovider@@ ); when@@ (p@@ rovider@@ Dao@@ .get@@ All@@ By@@ Typ@@ es(@@ Provider@@ Type.@@ EX@@ TER@@ N@@ AL@@ _@@ NETWOR@@ K@@ )).@@ thenReturn(@@ java.util.Arrays.as@@ List(@@ p@@ rovider@@ )); when@@ (p@@ rovider@@ Proxy@@ Fac@@ t@@ ory@@ .@@ c@@ re@@ ate(@@ p@@ rovider@@ )).@@ thenReturn(@@ network@@ Provider@@ Proxy@@ ); when(@@ network@@ Dao@@ .get@@ AllFor@@ Cluster@@ (org.ovirt.engine.core.bll.@@ network.@@ External@@ Network@@ Manager@@ Test.@@ C@@ LUSTER_@@ ID@@ )).@@ thenReturn(@@ java.util.Arrays.as@@ List@@ (c@@ reate@@ Network@@ ())); }
public boolean is@@ Graphics@@ And@@ Display@@ Supported@@ (@@ int os@@ Id, java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ Graphics@@ Type@@ > g@@ raphic@@ s, org.ovirt.engine.core.common.businessentities.@@ Display@@ Type dis@@ play@@ Type, java.util.List<java.lang.String> re@@ ason@@ s, org.ovirt.engine.core.compat.@@ Vers@@ ion cluster@@ Version@@ ) { boolean result = vm@@ Validation@@ Util@@ s.get@@ Graphics@@ And@@ Display@@ Support@@ ed(@@ os@@ Id, cluster@@ Version@@ , g@@ raphic@@ s, dis@@ play@@ Type@@ ); if (!@@ result) { re@@ ason@@ s.add(@@ EngineMessage.ACTION_TYPE_FAILED_@@ I@@ L@@ LE@@ G@@ AL@@ _@@ VM_@@ DIS@@ PL@@ A@@ Y_@@ TYPE_@@ IS@@ _NOT_@@ SUPPORT@@ ED_@@ B@@ Y_@@ O@@ S@@ .@@ nam@@ e()); } return result@@ ; }
public boolean is@@ Os@@ Type@@ Supported@@ For@@ Vir@@ ti@@ o@@ S@@ csi@@ (@@ int os@@ Id, org.ovirt.engine.core.compat.@@ Vers@@ ion cluster@@ Version@@ , java.util.List<java.lang.String> re@@ ason@@ s) { boolean result = vm@@ Validation@@ Util@@ s@@ .is@@ Disk@@ Interface@@ Supported@@ By@@ O@@ s(@@ os@@ Id, cluster@@ Version@@ , Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _@@ S@@ C@@ SI@@ ); if (!@@ result) { re@@ ason@@ s.add(@@ EngineMessage.ACTION_TYPE_FAILED_@@ I@@ L@@ LE@@ G@@ AL@@ _@@ O@@ S_@@ TYPE_@@ DO@@ E@@ S_@@ NOT_@@ SUP@@ POR@@ T_@@ V@@ I@@ R@@ TI@@ O@@ _@@ S@@ C@@ SI@@ .@@ nam@@ e()); } return result@@ ; }
public java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > f@@ et@@ ch@@ Vm@@ Disk@@ s(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent x@@ ml@@ D@@ oc@@ um@@ ent@@ ) { java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > disk@@ s@@ Id@@ s = new java.util.Hash@@ Set@@ <@@ >(); X@@ ml@@ Nod@@ e re@@ fer@@ ence@@ s = x@@ ml@@ D@@ oc@@ um@@ ent.@@ s@@ el@@ ect@@ Sing@@ le@@ Nod@@ e(@@ "@@ /@@ *@@ /@@ Re@@ fer@@ enc@@ es@@ "); for (@@ X@@ ml@@ Nod@@ e fil@@ e : re@@ fer@@ enc@@ es.@@ s@@ el@@ ect@@ Nod@@ es@@ ("@@ File@@ "@@ )) { disk@@ s@@ Id@@ s.add(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (@@ fil@@ e.@@ att@@ rib@@ ut@@ es@@ .get@@ ("@@ o@@ vf@@ :@@ h@@ re@@ f@@ "@@ ).get@@ Valu@@ e().@@ sub@@ st@@ ring@@ (0@@ , org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ G@@ UID@@ _@@ L@@ EN@@ G@@ TH@@ ))); } return disk@@ s@@ Id@@ s@@ ; }
public boolean is@@ Os@@ Type@@ Supported@@ (@@ int os@@ Id, org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type arch@@ it@@ ect@@ ure@@ Type, java.util.List<java.lang.String> re@@ ason@@ s) { boolean result = vm@@ Validation@@ Util@@ s@@ .is@@ Os@@ Type@@ Support@@ ed(@@ os@@ Id, arch@@ it@@ ect@@ ure@@ Type@@ ); if (!@@ result) { re@@ ason@@ s.add(@@ EngineMessage.ACTION_TYPE_FAILED_@@ I@@ L@@ LE@@ G@@ AL@@ _@@ O@@ S_@@ TYPE_@@ IS@@ _NOT_@@ SUPPORT@@ ED_@@ B@@ Y_@@ AR@@ C@@ H@@ I@@ T@@ EC@@ T@@ UR@@ E_@@ TYP@@ E@@ .toString@@ ()); } return result@@ ; }
@java.lang.Override public void on@@ Lo@@ ad@@ () { super@@ .@@ on@@ Lo@@ ad@@ (); int row@@ C@@ oun@@ t = org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Row@@ Count@@ (); int h@@ e@@ ig@@ h@@ t = ((@@ org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Lo@@ ad@@ ing@@ In@@ d@@ ic@@ ator@@ ()) != null@@ ) ? LO@@ AD@@ ING@@ _@@ H@@ E@@ I@@ G@@ H@@ T : NO@@ _@@ I@@ T@@ EM@@ S_@@ H@@ E@@ I@@ G@@ H@@ T@@ ; if (@@ row@@ C@@ oun@@ t > 0) { h@@ e@@ ig@@ h@@ t = row@@ C@@ oun@@ t * (@@ RO@@ W@@ _@@ H@@ E@@ I@@ G@@ H@@ T@@ ); } update@@ G@@ rid@@ Siz@@ e(@@ h@@ e@@ ig@@ ht@@ ); }
@java.lang.Override public void on@@ Lo@@ ad@@ () { super@@ .@@ on@@ Lo@@ ad@@ (); int row@@ C@@ oun@@ t = org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ ListModel@@ Object@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Row@@ Count@@ (); int h@@ e@@ ig@@ h@@ t = ((@@ org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ ListModel@@ Object@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Lo@@ ad@@ ing@@ In@@ d@@ ic@@ ator@@ ()) != null@@ ) ? LO@@ AD@@ ING@@ _@@ H@@ E@@ I@@ G@@ H@@ T : NO@@ _@@ I@@ T@@ EM@@ S_@@ H@@ E@@ I@@ G@@ H@@ T@@ ; if (@@ row@@ C@@ oun@@ t > 0) { h@@ e@@ ig@@ h@@ t = row@@ C@@ oun@@ t * (@@ RO@@ W@@ _@@ H@@ E@@ I@@ G@@ H@@ T@@ ); } update@@ G@@ rid@@ Siz@@ e(@@ h@@ e@@ ig@@ ht@@ ); }
private void res@@ ize@@ G@@ rid@@ To@@ Cont@@ ent@@ H@@ e@@ ig@@ ht@@ (@@ int h@@ e@@ ig@@ ht@@ ) { int to@@ p = org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Ab@@ s@@ ol@@ ut@@ e@@ To@@ p@@ (); int ma@@ x@@ G@@ rid@@ H@@ e@@ ig@@ h@@ t = ((@@ com.google.gwt.@@ user.@@ client.@@ W@@ in@@ do@@ w@@ .get@@ Client@@ H@@ e@@ ig@@ ht@@ ()) - t@@ op@@ ) - (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ abl@@ e.@@ G@@ R@@ ID@@ _@@ S@@ U@@ B@@ T@@ R@@ AC@@ T@@ ); int cont@@ ent@@ H@@ e@@ ig@@ h@@ t = org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ able@@ .@@ d@@ et@@ er@@ min@@ e@@ B@@ row@@ ser@@ H@@ e@@ ig@@ ht@@ Ad@@ j@@ ust@@ ment@@ (@@ h@@ e@@ ig@@ ht@@ ); if (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ abl@@ e.@@ is@@ H@@ or@@ iz@@ on@@ t@@ al@@ S@@ c@@ ro@@ ll@@ b@@ ar@@ Visi@@ bl@@ e()) { cont@@ ent@@ H@@ e@@ ig@@ h@@ t +@@ = s@@ c@@ ro@@ ll@@ b@@ ar@@ Th@@ ick@@ n@@ ess@@ ; } if (@@ cont@@ ent@@ H@@ e@@ ig@@ h@@ t > ma@@ x@@ G@@ rid@@ H@@ e@@ ig@@ ht@@ ) { cont@@ ent@@ H@@ e@@ ig@@ h@@ t = ma@@ x@@ G@@ rid@@ H@@ e@@ ig@@ ht@@ ; } if (@@ cont@@ ent@@ H@@ e@@ ig@@ h@@ t > 0) { super@@ .set@@ H@@ e@@ ig@@ h@@ t ((@@ cont@@ ent@@ H@@ e@@ ig@@ h@@ t + (@@ Un@@ it.@@ P@@ X@@ .get@@ Typ@@ e()@@ ))); } org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ abl@@ e.@@ red@@ r@@ a@@ w@@ (); }
public void update@@ G@@ rid@@ Siz@@ e() { int row@@ C@@ oun@@ t = org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Row@@ Count@@ (); int h@@ e@@ ig@@ h@@ t = ((@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Action@@ C@@ el@@ l@@ T@@ abl@@ e.get@@ Lo@@ ad@@ ing@@ In@@ d@@ ic@@ ator@@ ()) != null@@ ) ? LO@@ AD@@ ING@@ _@@ H@@ E@@ I@@ G@@ H@@ T : NO@@ _@@ I@@ T@@ EM@@ S_@@ H@@ E@@ I@@ G@@ H@@ T@@ ; if (@@ row@@ C@@ oun@@ t > 0) { h@@ e@@ ig@@ h@@ t = row@@ C@@ oun@@ t * (@@ RO@@ W@@ _@@ H@@ E@@ I@@ G@@ H@@ T@@ ); } update@@ G@@ rid@@ Siz@@ e(@@ h@@ e@@ ig@@ ht@@ ); }
public static boolean is@@ H@@ ig@@ h@@ P@@ er@@ for@@ m@@ ance@@ Type@@ Support@@ ed(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion version@@ ) { return java.lang.Boolean@@ .@@ par@@ se@@ Boolean@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ is@@ H@@ ig@@ h@@ P@@ er@@ for@@ m@@ ance@@ Type@@ Supported@@ , version@@ .get@@ Valu@@ e())); }
@org.junit.Test public void test@@ Get@@ All@@ C@@ lust@@ ers@@ By@@ Default@@ Network@@ Provider@@ Id@@ () { assert@@ That@@ (@@ d@@ ao@@ .get@@ All@@ C@@ lust@@ ers@@ By@@ Default@@ Network@@ Provider@@ Id(@@ Fi@@ xt@@ ur@@ es@@ To@@ o@@ l.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ NETWORK_@@ P@@ RO@@ V@@ ID@@ ER_@@ ID@@ ).@@ siz@@ e(), is@@ (@@ 3@@ )); }
public void set@@ Exp@@ i@@ res@@ (@@ long exp@@ i@@ res@@ ) { this@@ .@@ exp@@ i@@ re@@ s = exp@@ i@@ res@@ ; }
public long get@@ Exp@@ i@@ res@@ () { return exp@@ i@@ ; }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.@@ vds@@ T@@ ick@@ et@@ I@@ n@@ for@@ m@@ ation@@ Retur@@ n@@ ow@@ n@@ (java.lang.String tic@@ k@@ et@@ Id) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Hos@@ t.get@@ _@@ image@@ _@@ tic@@ k@@ et@@ "@@ ).@@ with@@ Parameter@@ (@@ "@@ u@@ uid@@ ", tic@@ k@@ et@@ Id@@ ).@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ).@@ with@@ Respon@@ se@@ Key@@ ("@@ tic@@ k@@ et@@ Info@@ "); return new org.ovirt.engine.core.vdsbroker.@@ vds@@ T@@ ick@@ et@@ I@@ n@@ for@@ m@@ ation@@ Retur@@ n (@@ respon@@ se@@ ); }
private boolean is@@ R@@ ed@@ u@@ ce@@ Volume@@ Supported@@ () { return org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .is@@ R@@ ed@@ u@@ ce@@ Volume@@ Supported@@ (org.ovirt.engine.core.bll.@@ R@@ ed@@ u@@ ce@@ Image@@ Command.get@@ StoragePool@@ ().get@@ CompatibilityVersion@@ ()); }
@java.lang.Override public void cl@@ e@@ an@@ ing@@ Comp@@ en@@ s@@ ation@@ Data@@ A@@ f@@ ter@@ Success@@ () { mac@@ Poo@@ l.@@ f@@ ree@@ Mac@@ s(@@ mac@@ sTo@@ R@@ el@@ e@@ ase@@ On@@ C@@ omm@@ it@@ ); log.@@ d@@ ebug@@ ((@@ "@@ s@@ uc@@ cess@@ f@@ ull@@ y execut@@ ed@@ , r@@ el@@ e@@ as@@ ing mac@@ s@@ : {}@@ " + (@@ mac@@ sTo@@ R@@ el@@ e@@ ase@@ On@@ C@@ omm@@ it@@ ))); }
@java.lang.Override public void r@@ el@@ e@@ ase@@ Mac@@ s@@ On@@ C@@ omm@@ it@@ (@@ java.util.List<java.lang.String> mac@@ s) { mac@@ Poo@@ l.@@ f@@ ree@@ Mac@@ s(@@ mac@@ s); log.@@ d@@ ebug@@ ("@@ M@@ is@@ s@@ ing n@@ on@@ -@@ comp@@ en@@ s@@ ation st@@ ate@@ , im@@ m@@ ed@@ i@@ at@@ el@@ y r@@ el@@ e@@ as@@ ing mac@@ s {@@ } (@@ {}@@ )@@ ", mac@@ s); }
@org.junit.Test public void test@@ Re@@ action@@ To@@ D@@ up@@ l@@ ic@@ at@@ es@@ W@@ h@@ en@@ D@@ up@@ l@@ ic@@ at@@ es@@ D@@ ur@@ ing@@ Start@@ up@@ () throw@@ s java.lang.Exception { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es = create@@ Mac@@ Pool@@ Dis@@ al@@ low@@ ing@@ D@@ up@@ l@@ ic@@ at@@ es@@ (); mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es.@@ initial@@ ize@@ (@@ true@@ , java.util.Arrays.as@@ List@@ (org.ovirt.engine.core.bll.@@ network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es@@ Test.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ SS@@ , org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es@@ Test.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ SS@@ )); ve@@ r@@ if@@ y@@ (@@ a@@ uditLog@@ Direct@@ or@@ ).@@ log@@ (@@ any@@ (@@ org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Impl@@ .@@ class@@ ), e@@ q@@ (@@ AuditLogType.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ V@@ I@@ OL@@ AT@@ E@@ S_@@ NO@@ _@@ D@@ UP@@ L@@ IC@@ AT@@ E@@ S_@@ S@@ ET@@ TI@@ N@@ G@@ ), any@@ String@@ ()); }
@java.lang.Override public int comp@@ ar@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ 1, org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ 2@@ ) { if (((@@ s@@ 1@@ .get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t.@@ Snapshot@@ Type.@@ AC@@ TI@@ V@@ E@@ )) || ((@@ s@@ 1@@ .get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t.@@ Snapshot@@ Type.@@ P@@ RE@@ V@@ I@@ E@@ W@@ ))) { return -@@ 1@@ ; } if (((@@ s@@ 2@@ .get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t.@@ Snapshot@@ Type.@@ AC@@ TI@@ V@@ E@@ )) || ((@@ s@@ 2@@ .get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t.@@ Snapshot@@ Type.@@ P@@ RE@@ V@@ I@@ E@@ W@@ ))) { return 1@@ ; } return s@@ 2@@ .get@@ Cre@@ ation@@ Dat@@ e().@@ comp@@ are@@ To@@ (s@@ 1@@ .get@@ Cre@@ ation@@ Dat@@ e()); }
@java.lang.Override public void set@@ Items(@@ java.util.@@ C@@ oll@@ ec@@ tion value) { java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > snapshot@@ s = (@@ valu@@ e != null@@ ) ? org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ <org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ >@@ c@@ ast@@ (@@ value) : new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ >(); java.util.Collections.@@ s@@ ort@@ (s@@ napshot@@ s, comp@@ ar@@ ator@@ ); java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > s@@ ort@@ ed@@ Snapshot@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t : snapshot@@ s) { org.ovirt.engine.ui.uicommonweb.models.vms.@@ Snapshot@@ Model snapshot@@ Model = snapshot@@ s@@ Map@@ .get@@ (s@@ napsho@@ t.get@@ Id()); if (s@@ napshot@@ Model == null@@ ) { snapshot@@ Model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Snapshot@@ Model@@ (); snapshot@@ s@@ Map@@ .@@ put@@ (s@@ napsho@@ t.get@@ Id(), snapshot@@ Model@@ ); } snapshot@@ Model@@ .set@@ Entity@@ (s@@ napshot@@ ); if (((@@ s@@ napsho@@ t.get@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t.@@ Snapshot@@ Type.@@ AC@@ TI@@ V@@ E@@ )) || ((get@@ In@@ Type(@@ Snapshot@@ Type.@@ P@@ RE@@ V@@ I@@ E@@ W@@ , snapshot@@ s@@ )) == null@@ )) { s@@ ort@@ ed@@ Snapshot@@ s.@@ add@@ ((@@ snapshot@@ ) (s@@ ort@@ ed@@ Snapshots@@ )); } else { update@@ Item@@ s@@ ort@@ ed@@ Snapshot@@ s(@@ s@@ ort@@ ed@@ Snapshot@@ s); } }
public static org.ovirt.engine.api.model.@@ Vm@@ Type map@@ Vm@@ Type(@@ org.ovirt.engine.api.model.@@ Vm@@ Type typ@@ e) { switch (@@ typ@@ e) { case DE@@ S@@ K@@ T@@ O@@ P@@ P@@ : return org.ovirt.engine.api.model.@@ Vm@@ Type@@ ; case Vm@@ Type : return org.ovirt.engine.api.model.@@ Vm@@ Type@@ ; case S@@ ER@@ V@@ E@@ R@@ : return org.ovirt.engine.api.model.@@ Vm@@ Type@@ ; default : return new java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ ("@@ M@@ is@@ s@@ ing vi@@ r@@ tu@@ al m@@ ach@@ in@@ e typ@@ e " + typ@@ e) + "@@ \@@ "@@ ))); } }
public static org.ovirt.engine.api.model.@@ Vm@@ Type map@@ Vm@@ Type(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Type typ@@ e) { if (@@ typ@@ e == null@@ ) { return null@@ ; } switch (@@ typ@@ e) { case D@@ es@@ k@@ to@@ p : return org.ovirt.engine.api.model.@@ Vm@@ Type.@@ DE@@ S@@ K@@ T@@ O@@ P@@ ; case Ser@@ ve@@ r : return org.ovirt.engine.api.model.@@ Vm@@ Type.@@ S@@ ER@@ V@@ ER@@ ; default : throw new java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ ("@@ Un@@ k@@ n@@ ow@@ n vi@@ r@@ tu@@ al m@@ ach@@ in@@ e typ@@ e \@@ "@@ " + typ@@ e) + "@@ \@@ "@@ ")); } }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Vm@@ Type@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Vm@@ Type@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Vm@@ Type map@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Type type@@ , org.ovirt.engine.api.model.@@ Vm@@ Type in@@ com@@ ing@@ ) { switch (@@ typ@@ e) { case D@@ es@@ k@@ to@@ p : return org.ovirt.engine.api.model.@@ Vm@@ Type.@@ DE@@ S@@ K@@ T@@ O@@ P@@ ; case Ser@@ ve@@ r : return org.ovirt.engine.api.model.@@ Vm@@ Type.@@ S@@ ER@@ V@@ ER@@ ; case H@@ ig@@ h@@ P@@ er@@ for@@ m@@ anc@@ e : return org.ovirt.engine.api.model.@@ Vm@@ Type.@@ H@@ I@@ G@@ H@@ _P@@ ER@@ F@@ OR@@ M@@ AN@@ C@@ E@@ ; default : return null@@ ; } }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Vm@@ Type@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Vm@@ Type@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Vm@@ Type map@@ (@@ org.ovirt.engine.api.model.@@ Vm@@ Type type@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Type in@@ com@@ ing@@ ) { switch (@@ typ@@ e) { case DE@@ S@@ K@@ T@@ O@@ P : return org.ovirt.engine.core.common.businessentities.Vm@@ Type@@ ; case S@@ ER@@ V@@ E@@ R : return org.ovirt.engine.api.model.@@ Type@@ ; case H@@ I@@ G@@ H@@ _P@@ ER@@ F@@ OR@@ M@@ AN@@ C@@ E : return org.ovirt.engine.api.model.@@ Type@@ ; default : return null@@ ; } }
@java.lang.Override protected boolean validate(@@ ) { if (!@@ (@@ super@@ .@@ valid@@ at@@ e())) { return false@@ ; } if (@@ VmTemplate@@ Handler.@@ B@@ L@@ AN@@ K_@@ VM_@@ T@@ EM@@ PL@@ AT@@ E_@@ ID@@ .equals(@@ org.ovirt.engine.core.bll.@@ AddVm@@ Pool@@ Command.getParameters().get@@ Vm@@ StaticData@@ ().get@@ Vm@@ t@@ Guid@@ ())) { return fail@@ Validation@@ (EngineMessage.@@ VM_@@ P@@ O@@ OL@@ _C@@ ANNOT_@@ C@@ RE@@ AT@@ E_@@ F@@ RO@@ M@@ _@@ B@@ L@@ AN@@ K_@@ T@@ EM@@ PL@@ AT@@ E); } if ((@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Pool@@ Command.getParameters().get@@ Vm@@ StaticData@@ ().get@@ Vm@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Type.@@ H@@ ig@@ h@@ P@@ er@@ for@@ m@@ ance@@ )) && (!(@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .is@@ H@@ ig@@ h@@ P@@ er@@ for@@ m@@ ance@@ Type@@ Supported@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Pool@@ Command.get@@ E@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ ())@@ ))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ H@@ I@@ G@@ H@@ _P@@ ER@@ F@@ OR@@ M@@ AN@@ C@@ E_@@ IS@@ _NOT_@@ SUPPORT@@ ED@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ Vm@@ StaticData@@ Name %@@ s", org.ovirt.engine.core.bll.@@ AddVm@@ Pool@@ Command.get@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ CompatibilityVersion@@ ())); } if ((@@ (org.ovirt.engine.core.bll.@@ AddVm@@ Pool@@ Command.getParameters().get@@ Vm@@ L@@ arg@@ e@@ I@@ con@@ ()) != null@@ ) && (!(@@ validate(@@ org.ovirt.engine.core.bll.validator.@@ I@@ con@@ Validator.@@ validate(@@ I@@ con@@ Validator.@@ D@@ im@@ ension@@ s@@ Type.@@ L@@ AR@@ G@@ E_@@ C@@ U@@ ST@@ O@@ M@@ _@@ IC@@ ON@@ , org.ovirt.engine.core.bll.@@ AddVm@@ Pool@@ Command.getParameters().get@@ Vm@@ L@@ arg@@ e@@ I@@ con@@ ())@@ )))) { return false@@ ; } if ((org.ovirt.engine.core.bll.@@ AddVm@@ Pool@@ Command.getParameters().get@@ Vm@@ StaticData@@ ().get@@ NumOf@@ I@@ o@@ Th@@ rea@@ ds@@ ()) > 1@@ ) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ N@@ U@@ M@@ _@@ O@@ F@@ _@@ I@@ O@@ _@@ TH@@ RE@@ AD@@ S_@@ C@@ ANNOT_@@ EX@@ C@@ E@@ ED_@@ ON@@ E_@@ VAL@@ U@@ E); } return true@@ ; }
@java.lang.Override protected boolean validate(@@ ) { if (org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Vds@@ ().is@@ P@@ m@@ Enabled@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Agent@@ > f@@ ence@@ Agent@@ s = f@@ ence@@ Agent@@ Dao@@ .get@@ Fence@@ Agent@@ s@@ For@@ Host@@ (org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Vds@@ Id()); if ((@@ f@@ ence@@ Agent@@ s.@@ size()) == 1@@ ) { return fail@@ Validation@@ (EngineMessage.@@ VDS@@ _@@ RE@@ M@@ OV@@ E_@@ L@@ A@@ ST@@ _@@ F@@ EN@@ C@@ E_@@ AG@@ EN@@ T_@@ P@@ M@@ _@@ EN@@ AB@@ L@@ ED); } if ((@@ (org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Parameters@@ ()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.getParameters().get@@ Agent@@ ()) == null@@ )) || ((org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.getParameters().get@@ Agent@@ ().get@@ Id()) == null@@ )) { return fail@@ Validation@@ (EngineMessage.@@ VDS@@ _@@ RE@@ M@@ OV@@ E_@@ F@@ EN@@ C@@ E_@@ AG@@ EN@@ T_@@ ID@@ _@@ RE@@ Q@@ U@@ I@@ R@@ ED); } return super@@ .@@ valid@@ at@@ e(); }
@java.lang.Override protected void execute@@ Command() { create@@ Snapshot@@ (); }
protected org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Loc@@ k lock@@ Vm@@ With@@ W@@ a@@ it@@ () { org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Loc@@ k l@@ ive@@ Storage@@ Migr@@ ation@@ Engine@@ Loc@@ k = new org.ovirt.engine.core.utils.@@ lock@@ .@@ Engine@@ Lock@@ (); l@@ ive@@ Storage@@ Migr@@ ation@@ Engine@@ Lock@@ .set@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s(@@ java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Command.getVm@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ L@@ I@@ V@@ E_@@ STOR@@ AG@@ E@@ _M@@ I@@ G@@ R@@ A@@ TI@@ ON@@ , EngineMessage.ACTION_TYPE_FAILED_@@ O@@ B@@ J@@ EC@@ T_@@ LO@@ C@@ K@@ ED@@ ))); lock@@ Manager.@@ ac@@ qui@@ re@@ Lock@@ W@@ a@@ it@@ (@@ l@@ ive@@ Storage@@ Migr@@ ation@@ Engine@@ Lock@@ ); return l@@ ive@@ Storage@@ Migr@@ ation@@ Engine@@ Lock@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se m@@ o@@ v@@ e(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ storageDomain@@ .@@ id@@ |@@ name@@ "); org.ovirt.engine.core.compat.Guid storageDomain@@ Id = get@@ StorageDomain@@ Id(@@ action@@ ); org.ovirt.engine.api.model.@@ Disk dis@@ k = get@@ (); org.ovirt.engine.core.compat.Guid image@@ Id = get@@ DiskImage@@ Id(@@ disk@@ .get@@ Image@@ Id()); org.ovirt.engine.core.compat.Guid source@@ StorageDomain@@ Id = get@@ Source@@ StorageDomain@@ Id(@@ disk@@ ); org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters(@@ image@@ Id, source@@ StorageDomain@@ Id, storageDomain@@ Id); param@@ s.set@@ Image@@ Group@@ ID@@ (@@ as@@ Guid@@ (disk@@ .getId@@ ())); return do@@ Action@@ (@@ ActionType.@@ Move@@ Disk@@ s, param@@ s, action@@ ); }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ Su@@ bject@@ > get@@ Permission@@ Check@@ Su@@ bject@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ Su@@ bject@@ > per@@ mission@@ List = new java.util.ArrayList<@@ >(); per@@ mission@@ Lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disks@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ (), org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ create@@ Action@@ Group@@ (@@ new org.ovirt.engine.core.bll.@@ utils.@@ Permission@@ Su@@ bject@@ (org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ create@@ Action@@ Group@@ (@@ per@@ mission@@ List@@ )); return per@@ mission@@ List@@ ; }
@org.junit.Test public void test@@ Move@@ By@@ Id@@ () throw@@ s java.lang.Exception { setUp@@ Entity@@ Query@@ Expectations(@@ Query@@ Type.Get@@ Disk@@ By@@ Disk@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ , new java.lang.String@@ []{ "@@ Id@@ " }, new java.lang.Object@@ []{ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Disk@@ Resource@@ Test.@@ DIS@@ K_@@ I@@ D }, get@@ Entity(@@ 1@@ )); set@@ U@@ ri@@ Info@@ (@@ setUp@@ Action@@ Expectations(@@ ActionType.@@ Move@@ Disk@@ s, org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters@@ .@@ class@@ , new java.lang.String@@ []{ }, new java.lang.Object@@ []{ }, true@@ , true@@ , null@@ , null@@ , true@@ )); ve@@ r@@ if@@ y@@ Action@@ Respon@@ se(@@ resource.@@ m@@ o@@ v@@ e(@@ setUp@@ Param@@ s@@ (@@ false@@ )@@ ), ("@@ disk@@ s@@ /@@ " + (@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Disk@@ Resource@@ Test.@@ DIS@@ K_@@ ID@@ )@@ ), false@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = disk@@ Image@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disks@@ Command.getParameters().get@@ Image@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ > disk@@ Vm@@ Element@@ s = disk@@ Vm@@ Element@@ Dao@@ .get@@ All@@ Disk@@ Vm@@ Element@@ sBy@@ Disk@@ Id(@@ disk@@ Image.get@@ Image@@ ().get@@ Disk@@ Id()); org.ovirt.engine.core.common.action.@@ Action@@ Type action@@ Type = get@@ Move@@ Action@@ Type(@@ disk@@ Vm@@ Element@@ s); if (@@ action@@ Type == (@@ org.ovirt.engine.core.common.action.@@ Move@@ Or@@ Copy@@ Disk@@ )) { org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters m@@ ove@@ Disk@@ Parameters = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disks@@ Command.get@@ Parameters@@ (); m@@ ove@@ Disk@@ Parameter@@ s.set@@ Command@@ Id@@ (@@ null@@ ); action@@ ReturnValu@@ es@@ .get@@ ad@@ d@@ Image@@ Id@@ (org.ovirt.engine.core.bll.@@ Backend@@ .getInstanc@@ e()); } else { org.ovirt.engine.core.compat.Guid vm@@ Id = disk@@ Vm@@ Element@@ s.get@@ (0@@ ).get@@ Vm@@ Id@@ (); engin@@ e@@ Loc@@ k = lock@@ Vm@@ With@@ W@@ a@@ it@@ (vm@@ Id); action@@ ReturnValu@@ es@@ .@@ run@@ Internal@@ Action@@ (@@ action@@ Type, create@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disks@@ Command.get@@ Parameters@@ (), vm@@ Id@@ ), org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ create@@ Internal@@ Job@@ Context@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disks@@ Command.get@@ Context@@ (), engin@@ e@@ Lock@@ )); } handl@@ e@@ Ch@@ il@@ d@@ ReturnValu@@ e(); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disks@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
protected org.ovirt.engine.core.common.action.@@ Action@@ Type get@@ Move@@ Or@@ Copy@@ Disk@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ Vm@@ El@@ em@@ ent.@@ get@@ (0@@ ) { if (disk@@ Vm@@ El@@ em@@ ent.@@ is@@ Em@@ p@@ ty == null@@ ) { return null@@ ; } org.ovirt.engine.core.common.action.@@ Move@@ Or@@ Copy@@ Disk@@ ; }
private org.ovirt.engine.core.common.action.@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Parameters create@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Parameters(@@ org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters m@@ ove@@ Disk@@ Parameters@@ , org.ovirt.engine.core.compat.Guid vm@@ Id) { return new org.ovirt.engine.core.common.action.@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Parameters(@@ m@@ ove@@ Disk@@ Parameters@@ .get@@ Image@@ Id(), m@@ ove@@ Disk@@ Parameters@@ .get@@ Source@@ Domain@@ Id(), m@@ ove@@ Disk@@ Parameters@@ .get@@ StorageDomain@@ Id(), vm@@ Id, m@@ ove@@ Disk@@ Parameters@@ .get@@ Quota@@ Id(), m@@ ove@@ Disk@@ Parameters@@ .get@@ Disk@@ Profile@@ Id(), m@@ ove@@ Disk@@ Parameters@@ .get@@ Image@@ Group@@ ID@@ ()); }
@java.lang.Override public java.lang.String toString@@ () { java.util.@@ String@@ J@@ o@@ in@@ f@@ o in@@ f@@ o = new java.util.@@ String@@ J@@ o@@ in@@ er@@ ("@@ , ", java.lang.String@@ .@@ for@@ mat@@ ("@@ Th@@ rea@@ d pool@@ : %@@ s ha@@ s ", pool@@ Name@@ ), "@@ "); th@@ read@@ St@@ ate@@ Map@@ .@@ e@@ n@@ try@@ Set@@ ().@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ " e@@ n@@ try@@ ) -@@ > info@@ .@@ add(@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s th@@ read@@ s in stat@@ e %@@ s", e@@ n@@ try@@ .get@@ Valu@@ e(), e@@ n@@ try@@ .get@@ Key@@ ().@@ nam@@ e()@@ ))); return info@@ .toString@@ (); }
private void pro@@ cess@@ Th@@ read@@ (@@ java.lang.@@ manage@@ m@@ ent.@@ Th@@ read@@ Info@@ [@@ ] th@@ read@@ Info@@ ) { java.util.Arrays.as@@ List(@@ th@@ read@@ Info@@ ).@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( t@@ Info@@ ) -@@ > pro@@ cess@@ Th@@ read@@ (@@ t@@ Info@@ )); }
private void pro@@ cess@@ Th@@ read@@ (@@ java.lang.@@ manage@@ m@@ ent.@@ Th@@ read@@ In@@ f@@ o th@@ read@@ Info@@ ) { if (@@ th@@ read@@ Info@@ .get@@ Th@@ read@@ Name()@@ .@@ st@@ art@@ sWith@@ ("@@ E@@ "@@ )) { java.lang.String@@ [@@ ] th@@ read@@ Name = th@@ read@@ Info@@ .get@@ Th@@ read@@ Name()@@ .@@ s@@ pl@@ it@@ ("@@ -@@ "); if ((@@ th@@ read@@ Nam@@ e.@@ l@@ ength@@ ) > 2@@ ) { th@@ read@@ Pool@@ Info@@ Map@@ .@@ put@@ If@@ Ab@@ s@@ ent@@ (@@ th@@ read@@ Name@@ [@@ 2@@ ]@@ , new org.ovirt.engine.core.bll.@@ utils.@@ Th@@ read@@ Pool@@ Info@@ (@@ th@@ read@@ Name@@ [@@ 2@@ ]@@ )); th@@ read@@ Pool@@ Info@@ Map@@ .get(@@ th@@ read@@ Name@@ [@@ 2@@ ]@@ ).@@ pro@@ cess@@ Th@@ read@@ Info@@ (@@ th@@ read@@ Info@@ ); } }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t public void init@@ () { try { th@@ read@@ M@@ X@@ Be@@ an = java.lang.@@ manage@@ m@@ ent.@@ Management@@ Fac@@ t@@ ory@@ .get@@ Th@@ read@@ M@@ X@@ Be@@ an@@ (); } catch (@@ java.lang.Exception e) { throw new java.lang.@@ I@@ ll@@ eg@@ al@@ St@@ ate@@ Exception@@ ((@@ "@@ Pro@@ bl@@ e@@ m get@@ t@@ ing Th@@ read@@ M@@ X@@ Be@@ an@@ :@@ " + e@@ )); } org.ovirt.engine.core.bll.@@ utils.@@ Th@@ read@@ Pool@@ M@@ onitor@@ ing@@ Servic@@ e.@@ log.@@ info@@ ("@@ In@@ itial@@ iz@@ ing Th@@ rea@@ d M@@ onitor@@ ing Service@@ "); execut@@ or.@@ schedul@@ e@@ With@@ Fi@@ x@@ ed@@ D@@ el@@ ay@@ (@@ this@@ :@@ m@@ onitor@@ Engine@@ Th@@ read@@ Pool@@ s, 0@@ , org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Th@@ read@@ Pool@@ M@@ onitor@@ ing@@ Inter@@ val@@ In@@ M@@ in@@ ut@@ es@@ ), java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ M@@ IN@@ U@@ T@@ E@@ S@@ ); org.ovirt.engine.core.bll.@@ utils.@@ Th@@ read@@ Pool@@ M@@ onitor@@ ing@@ Servic@@ e.@@ log.@@ info@@ ("@@ Th@@ rea@@ d M@@ onitor@@ ing Servic@@ e initial@@ iz@@ ed@@ "); }
private void m@@ onitor@@ Engine@@ Th@@ read@@ Pool@@ s() { try { th@@ read@@ Pool@@ Info@@ Map@@ .@@ cl@@ e@@ ar@@ (); java.util.Arrays.as@@ List(@@ th@@ read@@ M@@ X@@ Be@@ an@@ .get@@ All@@ Th@@ read@@ Id@@ s@@ ()).@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ " th@@ read@@ Id) -@@ > pro@@ cess@@ Th@@ read@@ (@@ th@@ read@@ M@@ X@@ Be@@ an@@ .get@@ Th@@ read@@ Info@@ (@@ th@@ read@@ Id@@ ))); java.util.@@ String@@ J@@ o@@ in@@ er in@@ f@@ o = new java.util.@@ String@@ J@@ o@@ in@@ er@@ ("@@ \@@ n@@ ", "@@ Th@@ read@@ Pool@@ s Info@@ \@@ n@@ ", "@@ "); th@@ read@@ Pool@@ Info@@ Map@@ .@@ e@@ n@@ try@@ Set@@ ().@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( e@@ n@@ try@@ ) -@@ > info@@ .@@ add(@@ e@@ n@@ try@@ .get@@ Valu@@ e().@@ toString@@ ())); org.ovirt.engine.core.bll.@@ utils.@@ Th@@ read@@ Pool@@ M@@ onitor@@ ing@@ Servic@@ e.@@ log.@@ info@@ (@@ info@@ .toString@@ ()); } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.bll.@@ utils.@@ Th@@ read@@ Pool@@ M@@ onitor@@ ing@@ Servic@@ e.@@ log.@@ info@@ ("@@ Exception@@ ", ex@@ ); } }
@java.lang.Override protected void w@@ rit@@ e@@ H@@ ead@@ er@@ () { super@@ .@@ w@@ rit@@ e@@ H@@ ead@@ er@@ (); _@@ w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ ("@@ ovir@@ t@@ ", "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ w@@ .@@ ovirt.@@ or@@ g@@ /@@ o@@ vf@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ "@@ ovir@@ t@@ ", "@@ http@@ :@@ /@@ w@@ w@@ w@@ w@@ w@@ .@@ ovirt.@@ or@@ g@@ /@@ o@@ vf@@ "); }
@java.lang.Override public org.ovirt.engine.api.model.@@ System@@ O@@ ption get@@ () { try { org.ovirt.engine.core.common.@@ config.@@ Config@@ Value@@ s confi@@ g = org.ovirt.engine.core.common.@@ config.@@ ConfigValues.@@ value@@ Of@@ (@@ id@@ ); org.ovirt.engine.core.common.queries.@@ Get@@ System@@ Option@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.queries.@@ Get@@ System@@ Option@@ Parameters(@@ config@@ ); java.lang.String ver@@ si@@ on = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , "@@ version@@ "); if ((@@ ver@@ si@@ on != null@@ ) && (!(@@ version@@ .@@ isEmpty@@ ()))) { parameters.set@@ Option@@ Version@@ (@@ version@@ ); } org.ovirt.engine.core.common.queries.@@ Query@@ ReturnValue result = run@@ Query@@ (@@ Query@@ Type.Get@@ System@@ Option@@ , parameters@@ ); if ((@@ result.get@@ ReturnValu@@ e()) == null@@ ) { return handl@@ e@@ Error@@ (@@ new org.ovirt.engine.api.restapi.resource.@@ Entity@@ Not@@ F@@ ound@@ Exception@@ (@@ id@@ ), true@@ ); } return org.ovirt.engine.api.restapi.@@ util.@@ Link@@ Helper.@@ add@@ Link@@ s(@@ org.ovirt.engine.api.restapi.@@ types.@@ System@@ Option@@ s@@ Mapper.@@ map@@ (@@ result.get@@ ReturnValu@@ e(), id@@ )); } catch (@@ java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception ex@@ ) { return handl@@ e@@ Error@@ (@@ new org.ovirt.engine.api.restapi.resource.@@ Entity@@ Not@@ F@@ ound@@ Exception@@ (@@ id@@ ), true@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ t@@ Start@@ On@@ Vds@@ Host@@ To@@ o@@ S@@ m@@ all@@ () { vd@@ s.set@@ Mem@@ F@@ re@@ e(@@ 8@@ 3@@ 5@@ L@@ ); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ , 0@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , false@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ Start@@ On@@ Vds@@ Host@@ To@@ o@@ S@@ m@@ all@@ B@@ ut@@ L@@ ow@@ O@@ ver@@ h@@ ead@@ () { vd@@ s.set@@ Mem@@ F@@ re@@ e(@@ 8@@ 3@@ 5@@ L@@ ); do@@ Return@@ (@@ true@@ ).when@@ (vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ ).get@@ En@@ s@@ ur@@ ed@@ O@@ ver@@ h@@ ead@@ (); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = org.ovirt.engine.core.bll.@@ Vds@@ Handler.@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ , 0@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , true@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ Start@@ On@@ Vds@@ H@@ ig@@ h@@ P@@ end@@ ing@@ B@@ ut@@ S@@ w@@ ap@@ Help@@ s() { vd@@ s.set@@ S@@ w@@ ap@@ F@@ re@@ e(@@ 8@@ 0@@ L@@ ); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ , 6@@ 5@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , true@@ ); }
@org.junit.@@ B@@ e@@ for@@ e public void pre@@ par@@ e@@ Test@@ () { vd@@ s = b@@ as@@ ic@@ Host@@ (); vm = b@@ as@@ ic@@ Vm@@ (); do@@ Return(@@ 6@@ 5@@ ).when@@ (vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ ).get@@ En@@ s@@ ur@@ ed@@ O@@ ver@@ h@@ ead@@ (@@ any@@ ()); do@@ Return(@@ 0@@ ).when@@ (vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ ).get@@ P@@ os@@ si@@ bl@@ e@@ O@@ ver@@ h@@ ead@@ (@@ any@@ ()); when@@ (vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ .get@@ T@@ otal@@ Re@@ qui@@ red@@ Memory@@ In@@ M@@ b@@ (vm@@ )).@@ then@@ Call@@ Re@@ al@@ Method@@ (); when@@ (vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ .get@@ O@@ ver@@ h@@ ead@@ M@@ b@@ (vm@@ )).@@ then@@ Call@@ Re@@ al@@ Method@@ (); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ t@@ Run@@ On@@ Vds@@ S@@ m@@ all@@ Host@@ () { vd@@ s.set@@ P@@ h@@ y@@ s@@ ical@@ Mem@@ M@@ b@@ (@@ 5@@ 00@@ 0@@ ); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = org.ovirt.engine.core.bll.@@ Images@@ Handler.@@ has@@ O@@ ver@@ c@@ omm@@ it@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , false@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ Start@@ On@@ Vds@@ () { boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .get@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ , 0@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , true@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ Run@@ On@@ Vds@@ H@@ ig@@ h@@ Mem@@ () { vm@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (@@ 1@@ 00@@ ); vm@@ .set@@ Vm@@ Mem@@ Size@@ M@@ b@@ (@@ 1@@ 00@@ ); vd@@ s.set@@ P@@ h@@ y@@ s@@ ical@@ Mem@@ M@@ b@@ (@@ 1@@ 5@@ 00@@ 0@@ ); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .@@ has@@ O@@ ver@@ c@@ omm@@ it@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , true@@ ); }
@org.junit.Test public void test@@ B@@ al@@ ance@@ Cpu@@ Lo@@ ad@@ () throw@@ s java.lang.Exception { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ <org.ovirt.engine.core.compat.Guid@@ >> c@@ ach@@ e = new@@ C@@ ach@@ e(); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = load@@ Host@@ s(@@ "@@ b@@ as@@ ic@@ _@@ b@@ al@@ anc@@ ing@@ _@@ host@@ s@@ _@@ cpu@@ _@@ load@@ .@@ c@@ s@@ v@@ ", c@@ ach@@ e); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = load@@ VM@@ s(@@ "@@ b@@ as@@ ic@@ _@@ b@@ al@@ anc@@ ing@@ _@@ vms.@@ c@@ s@@ v@@ ", c@@ ach@@ e); org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = new org.ovirt.engine.core.common.businessentities.@@ Cluster@@ (); java.util.Map<java.lang.String, java.lang.String> parameter@@ s = new java.util.HashMap@@ <@@ >(); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ H@@ I@@ G@@ H@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ UN@@ D@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 9@@ 00@@ "); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ OV@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 5@@ 1@@ 2@@ "); java.util.ArrayList<@@ java.lang.String> message@@ s = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Ev@@ en@@ D@@ ist@@ rib@@ ution@@ B@@ al@@ ance@@ Policy@@ Un@@ i@@ t un@@ i@@ t = mock@@ Unit@@ (@@ p@@ olicy@@ Unit@@ , cluster@@ , host@@ s, vm@@ s); org.ovirt.engine.core.common.utils.Pair@@ <@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ , org.ovirt.engine.core.compat.Guid@@ > result = unit.@@ b@@ al@@ anc@@ e(@@ cluster@@ , new java.util.Array@@ List(@@ hosts.@@ valu@@ es@@ ()), parameters@@ , mess@@ ages@@ ); assert@@ Not@@ Null@@ (@@ result@@ ); assert@@ Not@@ Null@@ (@@ result.get@@ Sec@@ ond@@ ()); assert@@ E@@ quals(@@ result.get@@ F@@ ir@@ st@@ ().@@ siz@@ e(), 1@@ ); assert@@ E@@ quals(@@ result.get@@ F@@ ir@@ st@@ ().get@@ (0@@ ), org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Ev@@ en@@ D@@ ist@@ rib@@ ution@@ B@@ al@@ ance@@ Policy@@ Unit@@ Test.@@ DE@@ ST@@ IN@@ A@@ TION_@@ HOST@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ Run@@ On@@ Vds@@ H@@ ig@@ h@@ Mem@@ L@@ ow@@ O@@ ver@@ h@@ ead@@ () { vm@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (@@ 1@@ 00@@ ); vm@@ .set@@ Vm@@ Mem@@ Size@@ M@@ b@@ (@@ 1@@ 00@@ ); do@@ Return@@ ((@@ -@@ 1@@ 2@@ 0@@ )).@@ when@@ (vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ ).get@@ En@@ s@@ ur@@ ed@@ O@@ ver@@ h@@ ead@@ (@@ any@@ (@@ boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .@@ has@@ O@@ ver@@ c@@ omm@@ it@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , true@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ Start@@ On@@ Vds@@ Vm@@ To@@ o@@ B@@ ig@@ ut@@ L@@ ow@@ O@@ ver@@ h@@ ead@@ () { vm@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (@@ 8@@ 6@@ 5@@ ); vm@@ .set@@ Vm@@ Mem@@ Size@@ M@@ b@@ (@@ 8@@ 6@@ 5@@ ); do@@ Retur@@ n = false@@ ; }
public boolean has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (org.ovirt.engine.core.common.businessentities.@@ VDS c@@ ur@@ Vds@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ , int p@@ end@@ ing@@ Memory@@ ) { if ((@@ c@@ ur@@ Vds@@ .get@@ Mem@@ F@@ re@@ e()) != null@@ ) { do@@ ubl@@ e vm@@ Mem@@ Re@@ qui@@ re@@ d = (vm@@ .get@@ Vm@@ Mem@@ Size@@ M@@ b@@ ()) + " ("@@ vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ .get@@ En@@ s@@ ur@@ ed@@ O@@ ver@@ h@@ ead@@ (@@ vm@@ )); do@@ ubl@@ e vds@@ Mem@@ L@@ im@@ i@@ t = (c@@ ur@@ Vds@@ .get@@ Mem@@ F@@ re@@ e()) - p@@ end@@ ing@@ Memory@@ ; org.ovirt.engine.core.bll.@@ scheduling.@@ S@@ l@@ a@@ Validator.@@ log.@@ d@@ ebug@@ ("@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ : hos@@ t '{}@@ '@@ ; f@@ re@@ e mem@@ or@@ y is : {@@ } M@@ B (@@ " + {@@ } M@@ B p@@ end@@ ing@@ ); f@@ re@@ e s@@ w@@ a@@ p is@@ : {@@ } M@@ B@@ , re@@ qui@@ re@@ d mem@@ or@@ y is {@@ } M@@ B@@ ; G@@ u@@ es@@ t o@@ ver@@ h@@ e@@ a@@ d {@@ } M@@ B c@@ ur@@ Vds@@ .get@@ Name(), vds@@ Mem@@ L@@ im@@ it@@ , p@@ end@@ ing@@ Memory@@ , c@@ ur@@ Vds@@ .get@@ S@@ w@@ ap@@ F@@ re@@ e(), vm@@ Mem@@ Re@@ qui@@ red@@ , vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ .get@@ En@@ s@@ ur@@ ed@@ O@@ ver@@ h@@ ead@@ ()); if ((@@ c@@ ur@@ Vds@@ .get@@ S@@ w@@ ap@@ F@@ re@@ e()) != null@@ ) { vds@@ Mem@@ L@@ im@@ i@@ t +@@ = c@@ ur@@ Vds@@ .get@@ S@@ w@@ ap@@ F@@ re@@ e(); } org.ovirt.engine.core.bll.@@ scheduling.@@ S@@ l@@ a@@ Validator.@@ log.@@ d@@ ebug@@ ("@@ {@@ } vm@@ Mem@@ Re@@ qui@@ red@@ , vds@@ Mem@@ L@@ im@@ it@@ ); return vm@@ Mem@@ Re@@ qui@@ re@@ d <@@ = vds@@ Mem@@ L@@ im@@ it@@ ; } else { return false@@ ; } }
public boolean has@@ O@@ ver@@ c@@ omm@@ it@@ Memory@@ To@@ Run@@ VM@@ (org.ovirt.engine.core.common.businessentities.@@ VDS c@@ ur@@ Vds@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ ) { do@@ ubl@@ e vm@@ Mem@@ Re@@ qui@@ re@@ d = vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ .get@@ T@@ otal@@ Re@@ qui@@ red@@ Memory@@ In@@ M@@ b@@ (vm@@ ); do@@ ubl@@ e vds@@ Mem@@ L@@ im@@ i@@ t = c@@ ur@@ Vds@@ .get@@ Max@@ Schedul@@ ing@@ Memory@@ (); org.ovirt.engine.core.bll.@@ scheduling.@@ S@@ l@@ a@@ Validator.@@ log.@@ d@@ ebug@@ ("@@ has@@ O@@ ver@@ c@@ omm@@ it@@ Memory@@ To@@ Run@@ VM@@ : hos@@ t '{}@@ '@@ ; ma@@ x schedul@@ ing mem@@ or@@ y : {@@ } M@@ B@@ ; re@@ d mem@@ or@@ y is {@@ } M@@ B@@ ; G@@ u@@ es@@ t o@@ ver@@ h@@ e@@ a@@ d {@@ } M@@ B c@@ ur@@ Vds@@ .get@@ Name(), vds@@ Mem@@ L@@ im@@ it@@ , vm@@ Mem@@ Re@@ qui@@ red@@ , vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ .get@@ O@@ ver@@ h@@ ead@@ M@@ b@@ (@@ vm@@ )); org.ovirt.engine.core.bll.@@ scheduling.@@ S@@ l@@ a@@ Validator.@@ log.@@ d@@ ebug@@ ("@@ {@@ } <@@ = ?@@ ?@@ ?@@ ?@@ ?@@ ?@@ ?@@ ?@@ ", vm@@ Mem@@ Re@@ qui@@ red@@ , vds@@ Mem@@ L@@ im@@ it@@ ); return vm@@ Mem@@ Re@@ qui@@ re@@ d <@@ = vds@@ Mem@@ L@@ im@@ it@@ ; }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ t@@ Start@@ On@@ Vds@@ B@@ ec@@ a@@ us@@ e@@ Of@@ P@@ end@@ ing@@ () { boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = org.ovirt.engine.core.bll.@@ Vds@@ Handler.@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ , 6@@ 5@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , false@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ t@@ Start@@ On@@ Vds@@ B@@ ec@@ a@@ us@@ e@@ Of@@ G@@ u@@ est@@ O@@ ver@@ h@@ ead@@ () { do@@ Return@@ (@@ 2@@ 5@@ 6@@ ).when@@ (vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ ).get@@ En@@ s@@ ur@@ ed@@ O@@ ver@@ h@@ ead@@ (@@ any@@ ()); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ , 0@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , false@@ ); }
@org.junit.Test public void test@@ B@@ al@@ ance@@ Cpu@@ And@@ Memory@@ Lo@@ ad@@ () throw@@ s java.lang.Exception { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ <org.ovirt.engine.core.compat.Guid@@ >> c@@ ach@@ e = new@@ C@@ ach@@ e(); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = load@@ Host@@ s(@@ "@@ b@@ as@@ ic@@ _@@ b@@ al@@ anc@@ ing@@ _@@ host@@ s@@ _@@ cpu@@ _@@ mem@@ _@@ load@@ .@@ c@@ s@@ v@@ ", c@@ ach@@ e); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = load@@ VM@@ s(@@ "@@ b@@ as@@ ic@@ _@@ b@@ al@@ anc@@ ing@@ _@@ vms.@@ c@@ s@@ v@@ ", c@@ ach@@ e); org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = new org.ovirt.engine.core.common.businessentities.@@ Cluster@@ (); java.util.Map<java.lang.String, java.lang.String> parameter@@ s = new java.util.HashMap@@ <@@ >(); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ H@@ I@@ G@@ H@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ UN@@ D@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 9@@ 00@@ "); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ OV@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 5@@ 1@@ 2@@ "); java.util.ArrayList<@@ java.lang.String> message@@ s = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Ev@@ en@@ D@@ ist@@ rib@@ ution@@ B@@ al@@ ance@@ Policy@@ Un@@ i@@ t un@@ i@@ t = mock@@ Unit@@ (@@ p@@ olicy@@ Un@@ i@@ t@@ , cluster@@ , host@@ s, vm@@ s); org.ovirt.engine.core.common.utils.Pair@@ <@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ , org.ovirt.engine.core.compat.Guid@@ > result = unit.@@ b@@ al@@ anc@@ e(@@ cluster@@ , new java.util.Array@@ List(@@ hosts.@@ valu@@ es@@ ()), parameters@@ , mess@@ ages@@ ); assert result == null@@ ; }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ t@@ Run@@ On@@ Vds@@ H@@ ig@@ h@@ O@@ ver@@ h@@ ead@@ () { do@@ Return@@ (@@ 1@@ 0@@ 2@@ 4@@ ).when@@ (vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ ).get@@ En@@ s@@ ur@@ ed@@ O@@ ver@@ h@@ ead@@ (@@ any@@ ()); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .@@ has@@ O@@ ver@@ c@@ omm@@ it@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , false@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ Start@@ On@@ Vds@@ B@@ ec@@ a@@ us@@ e@@ Of@@ L@@ ow@@ G@@ u@@ est@@ O@@ ver@@ h@@ ead@@ () { do@@ Return@@ (@@ true@@ ).when@@ (vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ ).get@@ En@@ s@@ ur@@ ed@@ O@@ ver@@ h@@ ead@@ (@@ any@@ ()); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ , 6@@ 5@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , true@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ t@@ Run@@ On@@ Vds@@ Not@@ En@@ o@@ ug@@ h@@ Mem@@ () { vm@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (@@ 1@@ 00@@ ); vm@@ .set@@ Vm@@ Mem@@ Size@@ M@@ b@@ (@@ 1@@ 00@@ ); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .@@ has@@ O@@ ver@@ c@@ omm@@ it@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , false@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ t@@ Start@@ On@@ Vds@@ Vm@@ To@@ o@@ B@@ ig@@ () { vm@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (@@ 8@@ 6@@ 5@@ ); vm@@ .set@@ Vm@@ Mem@@ Size@@ M@@ b@@ (@@ 8@@ 6@@ 5@@ ); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , 0@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , false@@ ); }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ t@@ Start@@ On@@ Vds@@ H@@ ig@@ h@@ P@@ end@@ ing@@ S@@ w@@ ap@@ S@@ m@@ all@@ () { vd@@ s.set@@ S@@ w@@ ap@@ F@@ re@@ e(@@ 6@@ 0@@ L@@ ); boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .@@ has@@ P@@ h@@ y@@ s@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ , 6@@ 5@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , true@@ ); }
public void set@@ Vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ (org.ovirt.engine.core.bll.@@ utils.@@ Vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ ) { this@@ .@@ vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator = vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ ; }
private org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Image@@ Buil@@ der create@@ Memory@@ Image@@ Builder@@ () { if (!(@@ is@@ Memory@@ Snapshot@@ Supported@@ ())) { return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Null@@ able@@ Memory@@ Image@@ Builder@@ (); } if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command.getParameters().get@@ Snapshot@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t.@@ Snapshot@@ Type.@@ ST@@ AT@@ E@@ LE@@ SS@@ )) { return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Stat@@ el@@ ess@@ Snapshot@@ Memory@@ Image@@ Builder@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ VmCommand.getVm@@ ()); } if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command.get@@ Parameters@@ ().is@@ S@@ ave@@ Memory@@ ()) && (is@@ L@@ ive@@ Snapshot@@ Ap@@ pl@@ ic@@ abl@@ e())) { return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ L@@ ive@@ Snapshot@@ Memory@@ Image@@ Builder@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ VmCommand.getVm@@ (), c@@ ach@@ ed@@ StorageDomain@@ Id, org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command.get@@ StoragePool@@ (), this@@ , vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ ); } return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Null@@ able@@ Memory@@ Image@@ Builder@@ (); }
protected boolean init@@ Vds@@ s() { set@@ Vds@@ Id@@ Re@@ f@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ VmCommand.getVm@@ ().get@@ Run@@ On@@ Vds@@ ()); org.ovirt.engine.core.compat.Guid vds@@ To@@ Run@@ O@@ n = schedul@@ ing@@ Manager.@@ schedul@@ e(@@ org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Cluster@@ (), org.ovirt.engine.core.bll.@@ Migr@@ ate@@ VmCommand.getVm@@ (), get@@ Vds@@ B@@ l@@ ack@@ List@@ (), get@@ Vds@@ W@@ h@@ it@@ e@@ List@@ (), get@@ Dest@@ ination@@ Host@@ List@@ (), new java.util.Array@@ List@@ (), new org.ovirt.engine.core.bll.@@ scheduling.@@ Vds@@ F@@ ree@@ Memory@@ Check@@ er@@ (@@ this@@ , s@@ l@@ a@@ Validator@@ ), org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ C@@ or@@ r@@ el@@ ation@@ Id()); set@@ Dest@@ ination@@ Vds@@ Id(@@ vds@@ To@@ Run@@ On@@ ); if ((@@ vds@@ To@@ Run@@ O@@ n != null@@ ) && (!(@@ Guid@@ .@@ Empty@@ .equals(@@ vds@@ To@@ Run@@ On@@ )))) { org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Run@@ Vds@@ s@@ List@@ ().@@ add(@@ vds@@ To@@ Run@@ On@@ ); } org.ovirt.engine.core.bll.@@ Vm@@ Handler.@@ update@@ Vm@@ G@@ u@@ est@@ Agent@@ Version@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ VmCommand.getVm@@ ()); if ((@@ vds@@ To@@ Run@@ O@@ n != null@@ ) && (@@ vds@@ To@@ Run@@ On@@ .equals(@@ Guid@@ .@@ Empty@@ ))) { return false@@ ; } if ((@@ (get@@ Dest@@ ination@@ Vds@@ ()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Vds@@ ()) == null@@ )) { return false@@ ; } return true@@ ; }
@org.junit.Test public void validate@@ Vm@@ Memory@@ Can@@ Run@@ On@@ Vds@@ () { boolean vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ em@@ ent = s@@ l@@ a@@ Validator@@ .@@ has@@ O@@ ver@@ c@@ omm@@ it@@ Memory@@ To@@ Run@@ VM@@ (@@ vds@@ , vm@@ ); assert@@ E@@ quals(@@ vm@@ P@@ ass@@ ed@@ Memory@@ Re@@ qui@@ r@@ ement@@ , true@@ ); }
protected boolean get@@ Vds@@ To@@ Run@@ On@@ () { org.ovirt.engine.core.compat.Guid vds@@ To@@ Run@@ O@@ n = schedul@@ ing@@ Manager.@@ schedul@@ e(@@ org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Cluster@@ (), org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ (), org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Run@@ Vds@@ s@@ List@@ (), get@@ Vds@@ W@@ h@@ it@@ e@@ List@@ (), get@@ P@@ red@@ e@@ fin@@ ed@@ Vds@@ Id@@ List@@ To@@ Run@@ On@@ (), new java.util.Array@@ List@@ (), new org.ovirt.engine.core.bll.@@ scheduling.@@ Vds@@ F@@ ree@@ Memory@@ Check@@ er@@ (@@ this@@ , s@@ l@@ a@@ Validator@@ ), org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ C@@ or@@ r@@ el@@ ation@@ Id()); set@@ Vds@@ Id(@@ vds@@ To@@ Run@@ On@@ ); if ((@@ vds@@ To@@ Run@@ O@@ n != null@@ ) && (!(@@ Guid@@ .@@ Empty@@ .equals(@@ vds@@ To@@ Run@@ On@@ )))) { org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Run@@ Vds@@ s@@ List@@ ().@@ add(@@ vds@@ To@@ Run@@ On@@ ); } org.ovirt.engine.core.bll.@@ RunVm@@ Command@@ .set@@ Vds@@ (@@ null@@ ); org.ovirt.engine.core.bll.@@ RunVm@@ Command@@ .set@@ Vds@@ Name@@ (@@ null@@ ); if (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Vds@@ Id().@@ equals(@@ Guid@@ .@@ Empty@@ )) { org.ovirt.engine.core.bll.@@ RunVm@@ Command.@@ log.error@@ ("@@ C@@ oul@@ d fin@@ d VDS r@@ u@@ n the VM '{}@@ ' on@@ , s@@ o this VM w@@ il@@ l not b@@ e run@@ . org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ Id()); return false@@ ; } if ((org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Vds@@ ()) == null@@ ) { org.ovirt.engine.core.common.errors.@@ Engine@@ Exception out@@ E@@ x = new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ RE@@ S@@ O@@ UR@@ C@@ E@@ _M@@ AN@@ AG@@ ER_@@ VDS@@ _NOT_@@ F@@ O@@ UN@@ D@@ ); org.ovirt.engine.core.bll.@@ RunVm@@ Command.@@ log.error@@ ("@@ C@@ oul@@ d {@@ } get@@ Class@@ ().get@@ Name(), out@@ Ex@@ .get@@ Message@@ ()); return false@@ ; } return true@@ ; }
@org.junit.Test public void test@@ B@@ al@@ ance@@ No@@ Lo@@ ad@@ () throw@@ s java.lang.Exception { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ <org.ovirt.engine.core.compat.Guid@@ >> c@@ ach@@ e = new@@ C@@ ach@@ e(); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = load@@ Host@@ s(@@ "@@ b@@ as@@ ic@@ _@@ p@@ ower@@ _@@ s@@ av@@ ing@@ _@@ host@@ s@@ _@@ no@@ _@@ load@@ .@@ c@@ s@@ v@@ ", c@@ ach@@ e); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = load@@ VM@@ s(@@ "@@ b@@ as@@ ic@@ _@@ p@@ ower@@ _@@ s@@ av@@ ing@@ _@@ vms.@@ c@@ s@@ v@@ ", c@@ ach@@ e); org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = new org.ovirt.engine.core.common.businessentities.@@ Cluster@@ (); java.util.Map<java.lang.String, java.lang.String> parameter@@ s = new java.util.HashMap@@ <@@ >(); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ H@@ I@@ G@@ H@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ UN@@ D@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 7@@ 6@@ 8@@ "); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ OV@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 1@@ 2@@ 8@@ "); java.util.ArrayList<@@ java.lang.String> message@@ s = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ P@@ ower@@ S@@ av@@ ing@@ B@@ al@@ ance@@ Policy@@ Un@@ i@@ t un@@ i@@ t = mock@@ Unit@@ (@@ p@@ olicy@@ Unit@@ , cluster@@ , host@@ s, vm@@ s); do@@ Return@@ (@@ null@@ ).@@ when(@@ un@@ it@@ ).@@ e@@ valu@@ ate@@ P@@ ower@@ Management@@ S@@ it@@ u@@ ation@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ C@@ or@@ .@@ class@@ ), any@@ List@@ (), any@@ List@@ ()); org.ovirt.engine.core.common.utils.Pair@@ <@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ , org.ovirt.engine.core.compat.Guid@@ > result = unit.@@ b@@ al@@ ance@@ (@@ new java.util.Array@@ List@@ (@@ host@@ s@@ ).@@ valu@@ es@@ ()), parameters@@ , mess@@ ages@@ ); assert result == null@@ ; }
@org.junit.Test public void test@@ B@@ al@@ ance@@ Cpu@@ And@@ Mem@@ Lo@@ ad@@ () throw@@ s java.lang.Exception { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ <org.ovirt.engine.core.compat.Guid@@ >> c@@ ach@@ e = new@@ C@@ ach@@ e(); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = load@@ Host@@ s(@@ "@@ b@@ as@@ ic@@ _@@ p@@ ower@@ _@@ s@@ av@@ ing@@ _@@ host@@ s@@ _@@ cpu@@ _@@ mem@@ _@@ load@@ .@@ c@@ s@@ v@@ ", c@@ ach@@ e); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = load@@ VM@@ s(@@ "@@ b@@ as@@ ic@@ _@@ p@@ ower@@ _@@ s@@ av@@ ing@@ _@@ vms.@@ c@@ s@@ v@@ ", c@@ ach@@ e); org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = new org.ovirt.engine.core.common.businessentities.@@ Cluster@@ (); java.util.Map<java.lang.String, java.lang.String> parameter@@ s = new java.util.HashMap@@ <@@ >(); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ H@@ I@@ G@@ H@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ UN@@ D@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 7@@ 6@@ 8@@ "); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ OV@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 1@@ 2@@ 8@@ "); java.util.ArrayList<@@ java.lang.String> message@@ s = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ P@@ ower@@ S@@ av@@ ing@@ B@@ al@@ ance@@ Policy@@ Un@@ i@@ t un@@ i@@ t = mock@@ Unit@@ (@@ p@@ olicy@@ Unit@@ , cluster@@ , host@@ s, vm@@ s); do@@ Return@@ (@@ null@@ ).@@ when(@@ un@@ it@@ ).@@ e@@ valu@@ ate@@ P@@ ower@@ Management@@ S@@ it@@ u@@ ation@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ C@@ or@@ .@@ class@@ ), any@@ List@@ (), any@@ List@@ (), any@@ List@@ ()); org.ovirt.engine.core.common.utils.Pair@@ <@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ , org.ovirt.engine.core.compat.Guid@@ > result = unit.@@ b@@ al@@ ance@@ (@@ new java.util.Array@@ List@@ ()); host@@ s@@ .@@ valu@@ es@@ ()), parameters@@ , mess@@ ages@@ ); assert result == null@@ ; }
@org.junit.Test public void test@@ B@@ al@@ ance@@ M@@ ed@@ i@@ um@@ Lo@@ ad@@ () throw@@ s java.lang.Exception { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ <org.ovirt.engine.core.compat.Guid@@ >> c@@ ach@@ e = new@@ C@@ ach@@ e(); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = load@@ Host@@ s(@@ "@@ b@@ as@@ ic@@ _@@ p@@ ower@@ _@@ s@@ av@@ ing@@ _@@ host@@ s@@ _@@ m@@ ed@@ i@@ um@@ _@@ load@@ .@@ c@@ s@@ v@@ ", c@@ ach@@ e); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = load@@ VM@@ s(@@ "@@ b@@ as@@ ic@@ _@@ p@@ ower@@ _@@ s@@ av@@ ing@@ _@@ vms.@@ c@@ s@@ v@@ ", c@@ ach@@ e); org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = new org.ovirt.engine.core.common.businessentities.@@ Cluster@@ (); java.util.Map<java.lang.String, java.lang.String> parameter@@ s = new java.util.HashMap@@ <@@ >(); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ H@@ I@@ G@@ H@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ UN@@ D@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 7@@ 6@@ 8@@ "); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ OV@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 1@@ 2@@ 8@@ "); java.util.ArrayList<@@ java.lang.String> message@@ s = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ P@@ ower@@ S@@ av@@ ing@@ B@@ al@@ ance@@ Policy@@ Un@@ i@@ t un@@ i@@ t = mock@@ Unit@@ (@@ p@@ olicy@@ Unit@@ , cluster@@ , host@@ s, vm@@ s); do@@ Return@@ (@@ null@@ ).@@ when(@@ un@@ it@@ ).@@ e@@ valu@@ ate@@ P@@ ower@@ Management@@ S@@ it@@ u@@ ation@@ (@@ any@@ (org.ovirt.engine.core.common.businessentities.@@ C@@ or@@ .@@ class@@ ), any@@ List@@ (), any@@ List@@ (), any@@ List@@ ()); org.ovirt.engine.core.common.utils.Pair@@ <@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ , org.ovirt.engine.core.compat.Guid@@ > result = unit.@@ b@@ al@@ ance@@ (@@ cluster@@ , new java.util.Array@@ List@@ ()); host@@ s@@ .@@ valu@@ es@@ ()), parameters@@ , mess@@ ages@@ ); assert result == null@@ ; }
protected int c@@ al@@ c@@ Ev@@ en@@ D@@ ist@@ rib@@ ution@@ S@@ cor@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ , boolean c@@ ount@@ Th@@ rea@@ ds@@ As@@ C@@ or@@ es) { int s@@ cor@@ e = (@@ Max@@ Schedul@@ er@@ W@@ e@@ ig@@ ht@@ ) - 1@@ ; java.lang.Integ@@ er e@@ f@@ f@@ ec@@ ti@@ ve@@ Cpu@@ C@@ or@@ es = s@@ l@@ a@@ Validator@@ .get@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ Cpu@@ C@@ or@@ es(@@ vds@@ , c@@ ount@@ Th@@ rea@@ ds@@ As@@ C@@ or@@ es@@ ); if ((@@ e@@ f@@ f@@ ec@@ ti@@ ve@@ Cpu@@ C@@ or@@ es != null@@ ) && ((@@ vds.get@@ Us@@ age@@ Cpu@@ Per@@ cent@@ ()) != null@@ )) { s@@ cor@@ e = java.lang.@@ M@@ ath@@ .@@ min@@ (((@@ (@@ int@@ ) (@@ java.lang.@@ M@@ ath@@ .@@ ro@@ un@@ d@@ (c@@ al@@ c@@ D@@ ist@@ rib@@ ut@@ e@@ Met@@ r@@ ic@@ (@@ vds@@ , vm@@ , e@@ f@@ f@@ ec@@ ti@@ ve@@ Cpu@@ C@@ or@@ es@@ )))) + 1@@ ), org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Max@@ Schedul@@ er@@ W@@ e@@ ig@@ ht@@ ); } s@@ cor@@ e -@@ = (@@ vds.get@@ Max@@ Schedul@@ ing@@ Memory@@ ()) / 1@@ 00@@ ; return s@@ cor@@ e@@ ; }
@org.junit.Test public void test@@ B@@ al@@ ance@@ Cpu@@ And@@ H@@ ig@@ h@@ Memory@@ Lo@@ ad@@ () throw@@ s java.lang.Exception { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ <org.ovirt.engine.core.compat.Guid@@ >> c@@ ach@@ e = new@@ C@@ ach@@ e(); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s = load@@ Host@@ s(@@ "@@ b@@ as@@ ic@@ _@@ b@@ al@@ anc@@ ing@@ _@@ host@@ s@@ _@@ cpu@@ _@@ mem@@ _@@ m@@ ed@@ i@@ um@@ _@@ load@@ .@@ c@@ s@@ v@@ ", c@@ ach@@ e); final java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = load@@ VM@@ s(@@ "@@ b@@ as@@ ic@@ _@@ b@@ al@@ anc@@ ing@@ _@@ vms.@@ c@@ s@@ v@@ ", c@@ ach@@ e); org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = new org.ovirt.engine.core.common.businessentities.@@ Cluster@@ (); java.util.Map<java.lang.String, java.lang.String> parameter@@ s = new java.util.HashMap@@ <@@ >(); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ H@@ I@@ G@@ H@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ UN@@ D@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 9@@ 00@@ "); parameter@@ s.@@ put(@@ Policy@@ Unit@@ Paramet@@ er.@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ OV@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name(), "@@ 5@@ 1@@ 2@@ "); java.util.ArrayList<@@ java.lang.String> message@@ s = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Ev@@ en@@ D@@ ist@@ rib@@ ution@@ B@@ al@@ ance@@ Policy@@ Un@@ i@@ t un@@ i@@ t = mock@@ Unit@@ (@@ p@@ olicy@@ Un@@ i@@ t == null@@ ) ? null : p@@ olicy@@ Un@@ i@@ t : p@@ olicy@@ Un@@ i@@ t un@@ i@@ t == null ? null : p@@ olicy@@ Un@@ i@@ t : p@@ olicy@@ Un@@ i@@ t un@@ it@@ s.@@ toString@@ (); }
public void update@@ P@@ end@@ ing@@ Data@@ (@@ int p@@ end@@ ing@@ Memory@@ , int p@@ end@@ ing@@ Cpu@@ Count@@ ) { synchronized@@ (@@ this@@ ) { c@@ ach@@ ed@@ V@@ d@@ s.set@@ P@@ end@@ ing@@ V@@ c@@ p@@ us@@ Count@@ (p@@ end@@ ing@@ Cpu@@ Count@@ ); c@@ ach@@ ed@@ V@@ d@@ s.set@@ P@@ end@@ ing@@ Vm@@ em@@ Siz@@ e(@@ p@@ end@@ ing@@ Memory@@ ); org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Host@@ M@@ onitor@@ ing.@@ re@@ fresh@@ C@@ omm@@ it@@ ed@@ Memory@@ (c@@ ach@@ ed@@ Vds@@ , vm@@ D@@ a@@ o .get@@ All@@ Run@@ ning@@ For@@ Vds@@ (get@@ Vds@@ Id@@ ()), res@@ ource@@ Manager@@ ); update@@ Dynamic@@ Data@@ (c@@ ach@@ ed@@ Vds@@ .get@@ Dynamic@@ Data@@ ()); } }
public void set@@ L@@ ast@@ Vms@@ List(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > l@@ ast@@ Vms@@ List@@ ) { this@@ .@@ l@@ ast@@ Vms@@ List = l@@ ast@@ Vms@@ List@@ ; }
@java.lang.Override protected void g@@ ath@@ er@@ Changed@@ Vm@@ s(@@ org.ovirt.engine.core.common.businessentities.@@ VM@@ , db@@ Vm@@ , org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vds@@ m@@ V@@ m vds@@ m@@ Vm@@ ) { ch@@ ang@@ ed@@ Vm@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.utils.Pair@@ (@@ db@@ Vm@@ , vds@@ m@@ Vm@@ )); if (@@ org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vms@@ Statistic@@ s@@ F@@ et@@ ch@@ er.@@ log.@@ is@@ D@@ ebug@@ Enabled@@ ()) { log@@ Buil@@ der.@@ append@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Id().@@ toString@@ ().@@ sub@@ st@@ ring@@ (0@@ , 8@@ ), vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Status@@ ())); } }
public static boolean re@@ fresh@@ C@@ omm@@ it@@ ed@@ Memory@@ (org.ovirt.engine.core.common.businessentities.@@ VDS host@@ , java.util.Set@@ <java.lang.String@@ > vm@@ s, org.ovirt.engine.core.vdsbroker.@@ Resource@@ Manage@@ r res@@ ource@@ Manager@@ ) { boolean mem@@ ory@@ Update@@ d = false@@ ; int mem@@ C@@ omm@@ it@@ ed = hos@@ t.get@@ G@@ u@@ est@@ O@@ ver@@ h@@ ead@@ (); int vm@@ s@@ C@@ or@@ es@@ C@@ oun@@ t = 0@@ ; for (org.ovirt.engine.core.common.businessentities.@@ VM@@ Group vm : vm@@ s) { if (((@@ vm != null@@ ) && ((@@ vm.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ W@@ a@@ it@@ For@@ L@@ a@@ un@@ ch@@ ))) && ((@@ vm.get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ Down@@ ))) { final org.ovirt.engine.core.vdsbroker.@@ Vm@@ Manage@@ r vm@@ Manage@@ r = res@@ ource@@ Manager@@ .get@@ Vm@@ Manager@@ (vm@@ .getId()); mem@@ C@@ omm@@ it@@ ed +@@ = res@@ ource@@ Manager@@ .get@@ C@@ omm@@ it@@ ed@@ Memory@@ In@@ M@@ b@@ (vm@@ ); vm@@ s@@ C@@ or@@ es@@ C@@ oun@@ t +@@ = vm@@ Manager@@ .get@@ NumOf@@ C@@ p@@ us@@ (); } } if (@@ mem@@ C@@ omm@@ it@@ ed != (@@ hos@@ t.get@@ Mem@@ C@@ omm@@ it@@ ed@@ ())) { host.@@ set@@ Mem@@ C@@ omm@@ it@@ ed(@@ mem@@ C@@ omm@@ it@@ ed@@ ); mem@@ ory@@ Update@@ d = true@@ ; } if (vm@@ s@@ C@@ or@@ es@@ C@@ oun@@ t != (@@ hos@@ t.get@@ Vms@@ C@@ or@@ es@@ Count@@ ())) { host.@@ set@@ Vms@@ C@@ or@@ es@@ Count@@ (vm@@ s@@ C@@ or@@ es@@ Count@@ ); mem@@ ory@@ Update@@ d = true@@ ; } } return mem@@ C@@ omm@@ it@@ ed != (@@ hos@@ t.get@@ Mem@@ C@@ omm@@ it@@ ed@@ ())) && (@@ mem@@ C@@ omm@@ it@@ ed@@ .@@ do@@ es@@ Count@@ ()); }
private void g@@ ath@@ er@@ Non@@ Run@@ ning@@ Vm@@ s(@@ java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > db@@ Vm@@ s) { for (org.ovirt.engine.core.common.businessentities.@@ VM@@ Group db@@ V@@ m : db@@ Vm@@ s.@@ valu@@ es@@ ()) { if (!(@@ vds@@ m@@ Vm@@ s.@@ contain@@ s@@ Key@@ (@@ db@@ Vm@@ .getId@@ ()))) { ch@@ ang@@ ed@@ Vm@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.utils.Pair@@ (@@ db@@ Vm@@ , null@@ )); } }
protected void g@@ ath@@ er@@ Changed@@ Vm@@ s(@@ org.ovirt.engine.core.common.businessentities.@@ VM@@ , db@@ Vm@@ , org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vds@@ m@@ V@@ m vds@@ m@@ Vm@@ ) { if (@@ status@@ Chang@@ ed(@@ db@@ Vm@@ , vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ())) { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vm@@ Stat@@ s = get@@ Resource@@ Manager@@ ().@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Vm@@ Stat@@ s, new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Vm@@ Stat@@ s@@ VDSCommand@@ Parameters(@@ vds@@ Manager@@ .get@@ Vds@@ Id(), vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Id@@ ())); if (vm@@ Stat@@ s.get@@ Succeeded@@ ()) { ch@@ ang@@ ed@@ Vm@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.utils.Pair@@ (@@ db@@ Vm@@ , ((@@ org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vds@@ m@@ Vm@@ ) (vm@@ Stat@@ s.get@@ ReturnValu@@ e()@@ )@@ ))); } else { if (@@ db@@ V@@ m != null@@ ) { org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vms@@ List@@ F@@ et@@ ch@@ er.@@ log.error@@ ("@@ Fail@@ ed to f@@ et@@ ch VM '{}@@ ' stat@@ s@@ . stat@@ u@@ s r@@ em@@ ain un@@ ch@@ ang@@ ed (@@ {}@@ ) db@@ Vm@@ .get@@ Id(), db@@ Vm@@ .get@@ Status@@ ()); } } }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ L@@ ast@@ Vms@@ List@@ () { return l@@ ast@@ Vms@@ List@@ ; }
@org.junit.@@ B@@ e@@ for@@ e public void set@@ up@@ () { org.@@ mock@@ it@@ o.@@ Mock@@ it@@ o@@ An@@ not@@ ation@@ s.@@ init@@ Mock@@ s@@ (@@ this@@ ); when(@@ db@@ Facad@@ e.get@@ Vds@@ Dao@@ ()).@@ thenReturn(@@ vds@@ Dao@@ ); when(@@ db@@ Facad@@ e.get@@ Vm@@ Dao@@ ()).@@ thenReturn(@@ vm@@ D@@ a@@ o = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ (); vd@@ s.set@@ Id(@@ Vm@@ Test@@ Pair@@ s.@@ S@@ R@@ C@@ _@@ HOST@@ _@@ ID@@ ); when(@@ vds@@ Manager@@ .get@@ Copy@@ Vds@@ ()).@@ thenReturn(@@ vds@@ ); when(@@ vds@@ Manager@@ .get@@ Vds@@ Id@@ ()).@@ thenReturn(@@ vds.get@@ Id()); vm@@ s@@ List@@ F@@ et@@ ch@@ er = new org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vms@@ List@@ F@@ et@@ ch@@ er@@ (@@ vds@@ Manager@@ , db@@ Facad@@ e@@ , res@@ ource@@ Manager@@ ); }
private boolean status@@ Chang@@ ed(@@ org.ovirt.engine.core.common.businessentities.@@ VM@@ > db@@ Vm@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vds@@ m@@ Vm@@ ) { return (@@ db@@ V@@ m == null@@ ) || ((@@ db@@ Vm@@ .get@@ Dynamic@@ Data@@ ()) == null@@ )) || ((@@ db@@ Vm@@ .get@@ Status()) != (@@ vds@@ m@@ Vm@@ .get@@ Status@@ ())); }
@org.junit.@@ ex@@ per@@ im@@ ent@@ al.@@ th@@ e@@ or@@ ies.@@ Th@@ e@@ or@@ y public void ch@@ ang@@ ed@@ Vm@@ s(@@ org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vm@@ Test@@ Pair@@ s data@@ ) { st@@ u@@ b@@ Call@@ s(@@ data@@ ); org.ovirt.engine.core.common.businessentities.VM old@@ V@@ m = ((@@ data@@ .@@ db@@ Vm@@ ()) == null@@ ) ? null : new org.ovirt.engine.core.common.businessentities.@@ VM@@ (@@ data@@ .@@ db@@ Vm@@ ().get@@ StaticData@@ (), data@@ .@@ db@@ Vm@@ ().get@@ Dynamic@@ Data@@ (), data@@ .@@ db@@ Vm@@ ().get@@ Statistic@@ s@@ Data@@ ()); assert@@ Tr@@ ue(@@ vm@@ s@@ List@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ ()); ass@@ um@@ e@@ Tr@@ ue@@ (((@@ data@@ .@@ db@@ Vm@@ ()) != null@@ )); ass@@ um@@ e@@ Tr@@ ue@@ (((@@ data@@ .@@ vds@@ m@@ Vm@@ ()) != null@@ )); ass@@ um@@ e@@ Tr@@ ue@@ ((@@ (@@ data@@ .@@ vds@@ m@@ Vm@@ ().get@@ Vm@@ Dynamic@@ ().get@@ Status@@ ()))); assert@@ E@@ quals(@@ 1, vm@@ s@@ List@@ F@@ et@@ ch@@ er@@ .get@@ Changed@@ Vms@@ ().@@ siz@@ e()); assert@@ S@@ am@@ e(@@ vm@@ s@@ List@@ F@@ et@@ ch@@ er@@ .get@@ Changed@@ Vms@@ ().get@@ (0@@ ).get@@ F@@ ir@@ st@@ (), data@@ .@@ db@@ Vm@@ ().get@@ Dynamic@@ Data@@ ()); }
protected void filter@@ Vms@@ () { for (@@ org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vds@@ m@@ V@@ m vds@@ m@@ V@@ m : vds@@ m@@ Vm@@ s.@@ valu@@ es@@ ()) { org.ovirt.engine.core.common.businessentities.@@ VM@@ Group db@@ V@@ m = db@@ Vm@@ s.get@@ (@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Id()); g@@ ath@@ er@@ Changed@@ Vm@@ s(@@ db@@ Vm@@ , vds@@ m@@ Vm@@ ); } }
@org.junit.@@ ex@@ per@@ im@@ ent@@ al.@@ th@@ e@@ or@@ ies.@@ Th@@ e@@ or@@ y public void l@@ ast@@ Vm@@ List@@ Not@@ In@@ c@@ lu@@ d@@ ing@@ External@@ Vm@@ (@@ org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vm@@ Test@@ Pair@@ s data@@ ) { st@@ u@@ b@@ Call@@ s(@@ data@@ ); assert@@ Tr@@ ue(@@ vm@@ s@@ List@@ F@@ et@@ ch@@ er.@@ f@@ et@@ ch@@ ()); ass@@ um@@ e@@ Tr@@ ue@@ (((@@ data@@ .@@ vds@@ m@@ Vm@@ ()) != null@@ )); ass@@ um@@ e@@ Tr@@ ue@@ (((@@ data@@ .@@ db@@ Vm@@ ()) != null@@ )); ve@@ r@@ if@@ y@@ (@@ vds@@ Manager@@ )@@ .set@@ L@@ ast@@ Vms@@ List(@@ vds@@ Manager@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or.@@ c@@ ap@@ t@@ ur@@ e()); assert@@ E@@ quals(@@ data@@ .@@ vds@@ m@@ Vm@@ ().get@@ Vm@@ Dynamic@@ (), vds@@ Manager@@ Arg@@ um@@ ent@@ C@@ ap@@ t@@ or@@ .get@@ Valu@@ e().get@@ (0@@ )); }
private void s@@ ave@@ L@@ ast@@ Vms@@ List(@@ java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vds@@ m@@ Vm@@ > vds@@ m@@ Vm@@ s) { vds@@ Manager.@@ set@@ L@@ ast@@ Vms@@ List(@@ vds@@ m@@ Vm@@ s.@@ valu@@ es@@ ()); }
public java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Dynamic@@ , org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vds@@ m@@ Vm@@ >> get@@ Changed@@ Vms@@ () { return ch@@ ang@@ ed@@ Vm@@ s@@ ; }
protected void on@@ F@@ et@@ ch@@ Vms@@ () { db@@ Vm@@ s = getVm@@ Dao().get@@ All@@ Run@@ ning@@ For@@ Vds@@ (@@ vds@@ Manager@@ .get@@ Vds@@ Id@@ ()).@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ VM@@ :@@ :@@ get@@ Id, java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ ())); ch@@ ang@@ ed@@ Vm@@ s = new java.util.Array@@ List@@ (); filter@@ Vm@@ s(); g@@ ath@@ er@@ Non@@ Run@@ ning@@ Vm@@ s(@@ db@@ Vm@@ s); s@@ ave@@ L@@ ast@@ Vms@@ List(@@ vds@@ m@@ Vm@@ s); }
public org.ovirt.engine.core.dao.@@ Vm@@ D@@ a@@ o getVm@@ D@@ a@@ () { return db@@ Facad@@ e.get@@ Vm@@ Dao@@ (); }
private void st@@ u@@ b@@ Call@@ s(@@ org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vm@@ Test@@ Pair@@ s data@@ ) { when(@@ res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ e@@ q@@ (@@ VDSCommand@@ Type.@@ List@@ ), any@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ Vds@@ Id@@ And@@ Vds@@ VDSCommand@@ Parameters@@ Base@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (get@@ Vds@@ Return@@ Value(@@ data@@ .@@ vds@@ m@@ Vm@@ ())); if ((@@ data@@ .@@ db@@ Vm@@ ()) != null@@ ) { when@@ (vm@@ Dao@@ .get@@ All@@ Run@@ ning@@ For@@ Vds@@ (@@ Vm@@ Test@@ Pair@@ s.@@ S@@ R@@ C@@ _@@ HOST@@ _@@ ID@@ )).@@ thenReturn(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ data@@ .@@ db@@ Vm@@ ())); } if ((@@ data@@ .@@ vds@@ m@@ Vm@@ ()) != null@@ ) { when(@@ res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ e@@ q@@ (@@ VDSCommand@@ Type.Get@@ Vm@@ Stat@@ s@@ ), any@@ (org.ovirt.engine.core.common.@@ vdscommands.@@ Vds@@ Id@@ VDSCommand@@ Parameters@@ Base@@ .@@ class@@ )@@ )).@@ then@@ Return@@ (get@@ Stat@@ s@@ Return@@ Value(@@ data@@ .@@ vds@@ m@@ Vm@@ ())); }
void update@@ Vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ (org.ovirt.engine.core.compat.Guid vds@@ Static@@ Id, boolean vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ );
private boolean ne@@ ed@@ To@@ Re@@ in@@ st@@ all@@ Vds@@ () { org.ovirt.engine.core.common.businessentities.@@ Vds@@ Stati@@ c vds@@ Stati@@ c = org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Update@@ Vds@@ Command.getParameters().get@@ Vds@@ StaticData@@ (); org.ovirt.engine.core.common.businessentities.@@ Vds@@ Stati@@ c old@@ Vds@@ Stati@@ c = old@@ Hos@@ t.get@@ StaticData@@ (); return ((@@ vds@@ Static@@ .is@@ Vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ ()) || ((@@ vds@@ Static@@ .is@@ P@@ m@@ K@@ d@@ um@@ p@@ Det@@ ection@@ ()) && (!(@@ old@@ Vds@@ Static@@ .is@@ P@@ m@@ K@@ d@@ um@@ p@@ Det@@ ection@@ ())@@ ))) || (!(@@ java.util.@@ Object@@ s.@@ equals(@@ vds@@ Static@@ .get@@ C@@ urrent@@ K@@ er@@ n@@ el@@ C@@ md@@ lin@@ e(), old@@ Vds@@ Static@@ .get@@ C@@ urrent@@ K@@ er@@ n@@ el@@ C@@ md@@ lin@@ e()@@ ))); }
private void update@@ Host@@ s() { for (org.ovirt.engine.core.common.businessentities.@@ Vds@@ Stati@@ c vds@@ Stati@@ c : vds@@ Static@@ Dao@@ .get@@ AllFor@@ Cluster@@ (org.ovirt.engine.core.bll.@@ Update@@ Cluster@@ Command.get@@ Cluster@@ ().get@@ Id@@ ())) { vds@@ Static@@ Dao@@ .@@ update@@ Vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ (@@ vds@@ Static@@ .get@@ Id(), true@@ ); } }
protected void mar@@ k@@ Vds@@ Re@@ in@@ st@@ all@@ ed@@ () { vds@@ Static@@ Dao@@ .@@ update@@ Vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ (org.ovirt.engine.core.bll.@@ Vds@@ Command.get@@ Vds@@ ().get@@ StaticData@@ ().get@@ Id(), false@@ ); }
public void set@@ Vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ (@@ boolean vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ ) { vds@@ Static@@ .set@@ Vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ (@@ vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ ); }
@java.lang.Override public void update@@ Vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ (org.ovirt.engine.core.compat.Guid vds@@ Static@@ Id, boolean vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ ) { getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ Update@@ Vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ ", getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ vds@@ _id", vds@@ Static@@ Id@@ ).addValue("@@ vds@@ _@@ ne@@ ed@@ s@@ _@@ re@@ in@@ st@@ all@@ ", vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ )); }
public boolean is@@ Vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ () { return vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ ; }
public void set@@ Vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ (@@ boolean vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ ) { this@@ .@@ vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ al@@ l = vds@@ N@@ e@@ ed@@ s@@ Re@@ in@@ st@@ all@@ ; }
private void read@@ Cpu@@ Item@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ ode@@ ) { org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e vi@@ r@@ tu@@ al@@ Qu@@ an@@ ti@@ ty = s@@ el@@ ect@@ Sing@@ le@@ Nod@@ e(@@ n@@ ode@@ , "@@ r@@ as@@ d@@ :@@ Vir@@ tu@@ al@@ Qu@@ an@@ ti@@ ty@@ ", _@@ x@@ ml@@ N@@ S@@ ); if (@@ vi@@ r@@ tu@@ al@@ Qu@@ an@@ ti@@ ty != null@@ ) { vm@@ Bas@@ e.set@@ NumOf@@ S@@ ock@@ et@@ s(@@ java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (@@ vi@@ r@@ tu@@ al@@ Qu@@ an@@ ti@@ ty@@ .@@ in@@ n@@ er@@ Text@@ )); vm@@ Bas@@ e.set@@ Cpu@@ Per@@ S@@ ock@@ et@@ (@@ 1@@ ); vm@@ Bas@@ e.set@@ Th@@ rea@@ ds@@ Per@@ Cpu@@ (@@ 1@@ ); } else { vm@@ Bas@@ e.set@@ NumOf@@ S@@ ock@@ et@@ s(@@ java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (s@@ el@@ ect@@ Sing@@ le@@ Nod@@ e(@@ n@@ ode@@ , "@@ r@@ as@@ d@@ :@@ num@@ _@@ o@@ f@@ _@@ s@@ ock@@ et@@ s", _@@ x@@ ml@@ N@@ S@@ ).@@ in@@ n@@ er@@ Text@@ )); vm@@ Bas@@ e.set@@ Cpu@@ Per@@ S@@ ock@@ et@@ (@@ java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (s@@ el@@ ect@@ Sing@@ le@@ Nod@@ e(@@ n@@ ode@@ , "@@ r@@ as@@ d@@ :@@ cpu@@ _@@ per@@ _@@ s@@ ock@@ et@@ ", _@@ x@@ ml@@ N@@ S@@ ).@@ in@@ n@@ er@@ Text@@ )); vm@@ Bas@@ e.set@@ Th@@ rea@@ ds@@ Per@@ Cpu@@ (@@ par@@ se@@ Node@@ Integ@@ er@@ (@@ n@@ ode@@ , "@@ r@@ as@@ d@@ :@@ th@@ rea@@ ds@@ _@@ cpu@@ ", 1@@ )); } }
@java.lang.Override protected void execute@@ Command() { add@@ Custom@@ Value(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ VAR@@ _@@ VM_@@ NAM@@ E@@ , org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ Name()); org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.@@ add@@ Custom@@ Value(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ VAR@@ _M@@ EM@@ OR@@ Y_@@ SI@@ Z@@ E@@ _M@@ B@@ , java.lang.String.@@ value@@ Of@@ (get@@ Un@@ p@@ lug@@ ged@@ Device@@ Siz@@ e())); add@@ Custom@@ Value(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ DE@@ V@@ IC@@ E_@@ ID@@ , org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getParameters().get@@ Device@@ Id().@@ toString@@ ()); final org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ , new org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ VDS@@ Command.@@ Param@@ s(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ ().get@@ Run@@ On@@ Vds@@ (), get@@ Device@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ Un@@ p@@ lug@@ Un@@ p@@ lug@@ Un@@ p@@ lug@@ Memory@@ (), org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ ().get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ())); if (!(@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ())) { add@@ Custom@@ Value(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ VAR@@ _@@ ER@@ R@@ OR@@ _M@@ E@@ SS@@ AG@@ E@@ , vds@@ ReturnValu@@ e.get@@ Vds@@ Error@@ ().get@@ Message@@ ()); set@@ ReturnValue@@ Failur@@ e(@@ vds@@ ReturnValue@@ ); return@@ ; } if ((@@ (org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ ().get@@ Mem@@ Size@@ M@@ b@@ ()) - (get@@ Un@@ p@@ lug@@ ged@@ Device@@ Siz@@ e())) >@@ = (org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ ().get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ())) { update@@ Vm@@ (); } org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { try { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ VDS@@ Command.get@@ Broker@@ ().@@ h@@ ot@@ Un@@ p@@ lug@@ Memory@@ (@@ org.ovirt.engine.core.vdsbroker.@@ arch@@ it@@ ect@@ ur@@ e.@@ Memory@@ Utils.@@ create@@ H@@ ot@@ p@@ lug@@ Memory@@ Param@@ s@@ Map@@ (@@ org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ VDS@@ Command.getParameters().get@@ Memory@@ Device@@ To@@ Un@@ p@@ lug@@ (), true@@ , org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ VDS@@ Command.getParameters().get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ())); org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ VDSCommand@@ .set@@ Vds@@ Run@@ time@@ Error@@ And@@ Re@@ port@@ (@@ e); org.ovirt.engine.core.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ VDS@@ Command.get@@ VDS@@ ReturnValu@@ e().set@@ Exception@@ String@@ (@@ null@@ ); } }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue vds@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ , new org.ovirt.engine.core.vdsbroker.@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ VDS@@ Command.@@ Param@@ s(@@ org.ovirt.engine.core.bll.@@ H@@ ot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.getVm@@ ().get@@ Run@@ On@@ Vds@@ (), org.ovirt.engine.core.bll.@@ H@@ ot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.getVm@@ ().get@@ Id(), create@@ Memory@@ Devic@@ e(), org.ovirt.engine.core.bll.@@ H@@ ot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.getVm@@ ().get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ())); if (@@ vds@@ ReturnValu@@ e.get@@ Succeeded@@ ()) { org.ovirt.engine.core.bll.@@ H@@ ot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); } else { org.ovirt.engine.core.common.errors.@@ Engine@@ F@@ a@@ ult fa@@ ult = new org.ovirt.engine.core.common.errors.@@ Engine@@ F@@ a@@ ult@@ (); fa@@ ult.@@ set@@ Error@@ (@@ vds@@ ReturnValu@@ e.get@@ Vds@@ Error@@ ().get@@ Cod@@ e()); fa@@ ult.@@ set@@ Message@@ (@@ vds@@ ReturnValu@@ e.get@@ Vds@@ Error@@ ().get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ H@@ ot@@ Set@@ A@@ m@@ ount@@ Of@@ Memory@@ Command.get@@ ReturnValu@@ e().set@@ F@@ a@@ ult@@ (@@ fault@@ ); } }
public static java.util.Map<java.lang.String, java.lang.Object> create@@ H@@ ot@@ p@@ lug@@ Memory@@ Param@@ s@@ Map@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e vm@@ Device@@ , boolean c@@ opy@@ Al@@ i@@ a@@ s) { java.util.Map<java.lang.String, java.lang.Object> dat@@ a = new java.util.HashMap@@ <@@ >(); data@@ .@@ put@@ ("@@ vm@@ Id@@ ", vm@@ Devic@@ e.get@@ Vm@@ Id().@@ toString@@ ()); data@@ .@@ put@@ ("@@ mem@@ G@@ u@@ ar@@ an@@ t@@ e@@ ed@@ Size@@ ", min@@ Al@@ loc@@ ated@@ Mem@@ ); data@@ .@@ put@@ ("@@ mem@@ ory@@ ", org.ovirt.engine.core.vdsbroker.@@ arch@@ it@@ ect@@ ur@@ e.@@ Memory@@ Utils.@@ create@@ Vm@@ Memory@@ Device@@ Map@@ (vm@@ Device@@ , c@@ opy@@ Alias@@ )); return data@@ ; }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ Lin@@ k types.@@ Host@@ External@@ Network@@ Provider@@ [@@ ] ex@@ ternal@@ Network@@ Provi@@ d@@ ers@@ ();
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ Lin@@ k types.@@ Op@@ en@@ St@@ ack@@ Network@@ Provi@@ der default@@ Network@@ Provider@@ ();
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { m@@ and@@ ator@@ y@@ (cluster@@ ().@@ nam@@ e()); or@@ (@@ m@@ and@@ ator@@ y@@ (cluster@@ ().@@ dataCenter@@ ().@@ id@@ ()), m@@ and@@ ator@@ y@@ (cluster@@ ().@@ dataCenter@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (cluster@@ ().@@ version@@ ().@@ ma@@ j@@ or@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ version@@ ().@@ min@@ or@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ cpu@@ ().@@ typ@@ e()); o@@ ption@@ al@@ (cluster@@ ().@@ b@@ alloon@@ ing@@ Enabled@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ c@@ omm@@ ent@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ cpu@@ ().@@ cpu@@ ().@@ arch@@ it@@ ect@@ ur@@ e()); o@@ ption@@ al@@ (cluster@@ ().@@ d@@ escription@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ dis@@ play@@ ().@@ pro@@ xy@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ error@@ Handl@@ ing@@ ().@@ on@@ Error@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ f@@ enc@@ ing@@ Policy@@ ().@@ en@@ abl@@ ed@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ f@@ enc@@ ing@@ Policy@@ ().@@ s@@ k@@ ip@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ ().@@ en@@ abl@@ ed@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ f@@ enc@@ ing@@ Policy@@ ().@@ s@@ k@@ ip@@ If@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Brok@@ en@@ ().@@ th@@ resh@@ old@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ f@@ enc@@ ing@@ Policy@@ ().@@ s@@ k@@ ip@@ If@@ S@@ d@@ Acti@@ v@@ e().@@ en@@ abl@@ ed@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ gluster@@ Servic@@ e()); o@@ ption@@ al@@ (cluster@@ ().@@ ha@@ Res@@ er@@ va@@ tion@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ en@@ abl@@ ed@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ m@@ er@@ g@@ e@@ Ac@@ ro@@ s@@ Nod@@ es@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ m@@ a@@ int@@ en@@ ance@@ Reason@@ Re@@ qui@@ red@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ mem@@ ory@@ Policy@@ ().@@ o@@ ver@@ C@@ omm@@ it@@ ().@@ per@@ cent@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ trans@@ parent@@ H@@ ug@@ e@@ P@@ ages@@ ().@@ en@@ abl@@ ed@@ ()); o@@ ption@@ al@@ (cluster@@ C@@ or@@ es@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ tr@@ ust@@ ed@@ Servic@@ e()); o@@ ption@@ al@@ (cluster@@ ().@@ t@@ un@@ n@@ el@@ Migr@@ ation@@ ()); o@@ ption@@ al@@ (cluster@@ ().@@ vi@@ r@@ t@@ Servic@@ e()); o@@ ption@@ al@@ (cluster@@ ().@@ vi@@ r@@ t@@ Servic@@ e()); o@@ ption@@ al@@ (cluster@@ ().@@ manage@@ ment@@ Network@@ (cluster@@ ().@@ manage@@ ment@@ Network@@ (cluster@@ ().@@ manage@@ ment@@ Network@@ (cluster@@ ().@@ manage@@ ment@@ Network@@ (cluster@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (cluster@@ ().@@ schedul@@ ing@@ Policy@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (cluster@@ Policy@@ ().@@ nam@@ e(); o@@ ption@@ al@@ (cluster@@ Policy@@ ().@@ nam@@ e(); o@@ ption@@ al@@ (cluster@@ Network@@ (cluster@@ Policy@@ ().@@ nam@@ e(); o@@ ption@@ al@@ (cluster@@ Network@@ (cluster@@ Network@@ (cluster@@ Policy@@ ().@@ nam@@ e(); o@@ ption@@ al@@ (cluster@@ Network@@ (cluster@@ Network@@ (cluster@@ Network@@ (cluster@@ Network@@ (cluster@@ Network@@ (cluster@@ Network@@ (cluster@@ Network@@ (network@@ Name@@ .@@ nam@@ e(); }
@java.lang.Override public org.ovirt.engine.api.@@ resource.@@ Host@@ External@@ Network@@ Provi@@ d@@ ers@@ Resourc@@ e get@@ External@@ Network@@ Provi@@ d@@ ers@@ Resourc@@ e() { return null@@ ; }
protected void s@@ ync@@ Ch@@ il@@ d@@ Command@@ List(@@ org.ovirt.engine.core.common.action.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ Parameters parameters@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > ch@@ il@@ d@@ Command@@ Id@@ s = command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Ch@@ il@@ d@@ Command@@ Id@@ s(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ CommandBase.get@@ Command@@ Id()); if ((@@ ch@@ il@@ d@@ Command@@ Id@@ s.@@ size()) != (@@ parameters@@ .get@@ Ch@@ il@@ d@@ Command@@ s().@@ siz@@ e())) { for (org.ovirt.engine.core.compat.Guid id : ch@@ il@@ d@@ Command@@ Id@@ s) { if (!(@@ parameters@@ .get@@ Ch@@ il@@ d@@ Command@@ s().@@ contain@@ s@@ Value(@@ id@@ ))) { parameters@@ .get@@ Ch@@ il@@ d@@ Command@@ s().@@ put(@@ parameters@@ .get@@ Command@@ St@@ ep@@ (), id@@ ); } } } }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.bll.@@ Dest@@ ro@@ y@@ Image@@ Check@@ Command.get@@ Parameters@@ ().set@@ Entity@@ Info@@ (@@ new org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ Entity@@ Info@@ (org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Disk@@ , org.ovirt.engine.core.bll.@@ Dest@@ ro@@ y@@ Image@@ Check@@ Command.getParameters().get@@ Image@@ Group@@ Id@@ ())); java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > fail@@ ed@@ Guid@@ s = get@@ Fail@@ ed@@ Volume@@ Id@@ s(); if (@@ fail@@ ed@@ Guid@@ s.@@ isEmpty@@ ()) { log.@@ info@@ ("@@ S@@ uc@@ cess@@ f@@ ull@@ y remove@@ d p@@ ers@@ ist@@ Command@@ (org.ovirt.engine.core.bll.@@ Dest@@ ro@@ y@@ Image@@ Check@@ Command.getParameters().get@@ Parent@@ Command@@ ()); } else { log.error@@ ("@@ S@@ napsho@@ t f@@ ol@@ low@@ ing image@@ s w@@ er@@ e not remov@@ ed@@ : {}@@ ", fail@@ ed@@ Gui@@ ds@@ ); ((@@ org.ovirt.engine.core.common.action.@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ Parameters@@ ) (org.ovirt.engine.core.bll.@@ Dest@@ ro@@ y@@ Image@@ Check@@ Command.getParameters().get@@ Parent@@ Parameters@@ ())@@ )@@ .set@@ N@@ ext@@ Command@@ St@@ ep@@ (@@ Remove@@ Snapshot@@ Sing@@ le@@ Disk@@ St@@ ep@@ .@@ DE@@ ST@@ RO@@ Y_@@ IM@@ AGE_@@ C@@ H@@ EC@@ K@@ ); } set@@ Command@@ Status(@@ Command@@ Status.@@ S@@ U@@ C@@ C@@ C@@ E@@ ED@@ ED); org.ovirt.engine.core.bll.@@ Dest@@ ro@@ y@@ Image@@ Check@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
protected void log@@ Exception@@ (@@ java.lang.@@ Run@@ time@@ Exception ex@@ ) { if (((@@ ex@@ .get@@ Message@@ ()) == null@@ ) || (!(@@ ex@@ .get@@ Message@@ ().@@ contain@@ s@@ ("@@ Exception@@ ", ex@@ ); log.error@@ ("@@ Message@@ : '{}@@ ' ex@@ ec@@ uti@@ on fail@@ ed@@ : {}@@ ", this@@ , ex@@ .get@@ Message@@ ()); log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } }
protected void log@@ Time@@ out@@ Exception@@ (@@ java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ out@@ Exception e@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Network@@ Exception ex@@ ) { log@@ Exception@@ (@@ ex@@ ); log.error@@ ("@@ Time@@ o@@ u@@ t w@@ a@@ it@@ ing for VDS@@ M respon@@ se@@ : {}@@ ", e.get@@ Message@@ ()); log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); }
@java.lang.Override protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ Host@@ Devic@@ e entity@@ ) { return create@@ Id@@ Parameter@@ Map@@ per@@ (@@ entity.get@@ Id@@ ()).addValue("@@ parent@@ _@@ devi@@ ce@@ _@@ name@@ ", entity.get@@ Parent@@ Device@@ Name()@@ ).addValue("@@ c@@ ap@@ ab@@ ility@@ ", entity.get@@ C@@ ap@@ ab@@ ility@@ ()).addValue("@@ i@@ omm@@ u@@ _@@ group@@ ", entity.get@@ I@@ omm@@ u@@ Group@@ ()).@@ add@@ Value(@@ "@@ m@@ de@@ v@@ _@@ typ@@ es@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ entity.get@@ M@@ de@@ v@@ Typ@@ es@@ (), "@@ ,@@ "@@ )).@@ add@@ Value@@ (@@ new java.lang.String@@ (@@ "@@ pro@@ d@@ uct@@ _@@ name@@ ", entity.get@@ Pro@@ d@@ uct@@ Name()@@ ).addValue("@@ pro@@ d@@ uct@@ _id", entity.get@@ Pro@@ d@@ uct@@ Id@@ ()).addValue("@@ ve@@ n@@ do@@ r@@ _@@ name@@ ", entity.get@@ V@@ e@@ n@@ do@@ r@@ Name()@@ ).addValue("@@ ve@@ n@@ do@@ r@@ _id", entity.get@@ V@@ e@@ n@@ do@@ r@@ Id@@ ()).addValue("@@ p@@ h@@ y@@ s@@ f@@ n@@ ", entity.get@@ Parent@@ P@@ h@@ y@@ s@@ ical@@ F@@ un@@ c@@ tion@@ ()).addValue("@@ t@@ otal@@ _@@ vf@@ s", entity.get@@ T@@ otal@@ Vir@@ tu@@ al@@ F@@ un@@ c@@ tion@@ s@@ ()).addValue("@@ net@@ _@@ if@@ ace@@ _@@ name@@ ", entity.get@@ Network@@ Interface@@ Name()@@ ).addValue("@@ d@@ ri@@ ver@@ ", entity.get@@ D@@ ri@@ ver@@ ()).addValue("@@ is@@ _@@ ass@@ ign@@ able@@ ", entity@@ .is@@ As@@ s@@ ign@@ abl@@ e()@@ ).addValue("@@ add@@ ress@@ ", org.ovirt.engine.core.utils.@@ Ser@@ ial@@ iz@@ ation@@ Fac@@ t@@ ory@@ .get@@ Ser@@ ial@@ iz@@ er@@ ().@@ ser@@ ial@@ iz@@ e(@@ entity.get@@ Address@@ ())); }
@@@ javax.@@ an@@ not@@ ation@@ .@@ P@@ ost@@ Con@@ str@@ uc@@ t private void init@@ () { org.ovirt.engine.core.utils.@@ th@@ read@@ p@@ oo@@ l.@@ Th@@ read@@ Pool@@ Uti@@ l.@@ set@@ Execut@@ or@@ Service@@ (@@ new org.ovirt.engine.core.common.utils.@@ Engine@@ Th@@ read@@ Pool@@ s.@@ Internal@@ Th@@ read@@ Execut@@ or@@ (@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Integ@@ er@@ ("@@ EN@@ G@@ IN@@ E_@@ TH@@ RE@@ AD@@ _P@@ O@@ OL@@ _M@@ IN@@ _@@ SI@@ Z@@ E@@ "@@ ), org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Integ@@ er@@ ("@@ EN@@ G@@ IN@@ E_@@ TH@@ RE@@ AD@@ _P@@ O@@ OL@@ _M@@ A@@ X@@ _@@ SI@@ Z@@ E@@ "@@ ), org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Integ@@ er@@ ("@@ EN@@ G@@ IN@@ E_@@ TH@@ RE@@ AD@@ _P@@ O@@ OL@@ _@@ Q@@ U@@ E@@ U@@ E@@ U@@ E@@ U@@ E_@@ SI@@ Z@@ E@@ "@@ ))); }
protected void mar@@ k@@ Images@@ I@@ ll@@ eg@@ al@@ If@@ Not@@ In@@ Db@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , org.ovirt.engine.core.compat.Guid snapshot@@ Id) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > im@@ ages@@ In@@ D@@ b = disk@@ Image@@ Dao@@ .get@@ All@@ Snapshots@@ For@@ Vm@@ Snapshot@@ (s@@ napshot@@ Id); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ > im@@ ages@@ In@@ Db@@ Map = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Images@@ Handler@@ .get@@ Disk@@ Images@@ By@@ Id@@ Map@@ (@@ im@@ ages@@ In@@ Db@@ ); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage f@@ rom@@ Config@@ Im@@ g : vm.get@@ Images@@ ()) { if ((@@ f@@ rom@@ Config@@ Im@@ g.@@ get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ IM@@ AG@@ E@@ )) || ((@@ f@@ rom@@ Config@@ Im@@ g.@@ get@@ Disk@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ StorageType.@@ C@@ IN@@ D@@ ER@@ ))) && (!(@@ im@@ ages@@ In@@ Db@@ Map@@ .@@ contain@@ s@@ Key@@ (@@ f@@ rom@@ Config@@ Im@@ g.@@ get@@ Image@@ Id@@ ())@@ ))) { org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Snapshot@@ Vm@@ Configuration@@ Helper.@@ log.@@ d@@ ebug@@ ("@@ Image '{}@@ ' of Disk '{}@@ ' can@@ not b@@ e fo@@ un@@ d in data@@ b@@ ase@@ . Th@@ is im@@ age w@@ il@@ l b@@ e return@@ ed a@@ s I@@ L@@ LE@@ G@@ A@@ L f@@ ro@@ m the quer@@ y f@@ rom@@ Config@@ Im@@ g.@@ get@@ Image@@ Id(), f@@ rom@@ Config@@ Im@@ g.@@ get@@ Id()); f@@ rom@@ Config@@ Im@@ g.@@ set@@ Image@@ Status(@@ Image@@ Status.@@ I@@ L@@ LE@@ G@@ AL@@ ); } else { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage image@@ In@@ D@@ b = im@@ ages@@ In@@ Db@@ Map@@ .get(@@ f@@ rom@@ Config@@ Im@@ g.@@ get@@ Image@@ Id()); f@@ rom@@ Config@@ Im@@ g.@@ set@@ Image@@ Status(@@ image@@ In@@ Db@@ .get@@ Image@@ Status@@ ()); } }
private org.ovirt.engine.core.common.@@ AuditLog@@ Type at@@ temp@@ t@@ To@@ Attach@@ Disks@@ To@@ Import@@ ed@@ Vm@@ (@@ java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ s) { java.util.List<java.lang.String> fail@@ ed@@ Disk@@ s = new java.util.@@ Link@@ ed@@ List<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk dis@@ k : disk@@ s) { org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent d@@ v@@ e = disk@@ .get@@ Disk@@ Vm@@ Element@@ s().@@ it@@ er@@ ator@@ ().@@ ne@@ xt@@ (); org.ovirt.engine.core.common.action.@@ Attach@@ Det@@ ach@@ Vm@@ Disk@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Attach@@ Det@@ ach@@ Vm@@ Disk@@ Parameters@@ (disk@@ , disk@@ .get@@ Plug@@ ged@@ ()); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue return@@ V@@ al = run@@ Internal@@ Action@@ (@@ ActionType.@@ Attach@@ Disk@@ To@@ Vm@@ , param@@ s, org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); if (!@@ (@@ return@@ V@@ al@@ .get@@ Succeeded@@ ())) { fail@@ ed@@ Disk@@ s.add(@@ disk@@ .get@@ Disk@@ Alias@@ ()); } if (!@@ (@@ fail@@ ed@@ Disk@@ s.@@ is@@ Em@@ p@@ ty@@ ())) { this@@ .@@ add@@ Custom@@ Value("@@ Disk@@ Alias@@ es@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ fail@@ ed@@ Disk@@ s, "@@ ,@@ ")); return org.ovirt.engine.core.common.@@ AuditLogType.@@ VM_@@ IM@@ POR@@ T_@@ F@@ RO@@ M@@ _C@@ ON@@ FI@@ G@@ UR@@ A@@ TION_@@ AT@@ T@@ AC@@ H@@ _@@ DIS@@ K@@ S_@@ FAIL@@ E@@ ; } return org.ovirt.engine.core.common.@@ AuditLogType.@@ VM_@@ IM@@ POR@@ T_@@ F@@ RO@@ M@@ _C@@ ON@@ FI@@ G@@ UR@@ A@@ TION_@@ EX@@ EC@@ U@@ T@@ ED_@@ S@@ U@@ C@@ C@@ C@@ C@@ C@@ C@@ C@@ C@@ C@@ E@@ SS@@ F@@ U@@ L@@ Y@@ ; }
private java.util.Collection@@ <@@ org.ovirt.engine.core.compat.Guid@@ > map@@ Disk@@ s(@@ org.ovirt.engine.api.model.@@ Disk@@ Attachment@@ s disk@@ Attachment@@ s) { java.util.Set@@ <java.lang.String@@ > disk@@ To@@ Image@@ Id@@ s = null@@ ; if (disk@@ Attachment@@ s.@@ isSet@@ Disk@@ Attachment@@ s()) { disk@@ To@@ Image@@ Id@@ s = disk@@ Attachment@@ s.get@@ Disk@@ Attachment@@ s().@@ st@@ re@@ am@@ ().@@ map@@ (@@ Disk@@ Attachment@@ :@@ :@@ :@@ get@@ Disk@@ ).@@ filter@@ (@@ java.util.@@ Object@@ s@@ :@@ n@@ on@@ Null@@ ).@@ map@@ (@@ ( d@@ ) -@@ > ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (@@ org.ovirt.engine.api.restapi.@@ types.@@ Disk@@ Mapper.@@ map@@ (@@ d@@ , null@@ )@@ )@@ .@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ Base@@ Disk@@ :@@ get@@ Image@@ Id@@ )); } return disk@@ To@@ Image@@ Id@@ s@@ ; }
private java.lang.String m@@ ask@@ Password@@ (java.lang.String query@@ String@@ ) { return query@@ Strin@@ g.@@ re@@ pl@@ ace@@ All@@ ("@@ p@@ assword@@ =@@ [@@ ^@@ ]@@ &@@ ]@@ +@@ ", "@@ p@@ assword@@ *@@ *@@ *@@ *@@ *@@ "); }
types.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ ();
private void on@@ Up@@ g@@ r@@ ad@@ e() { if ((get@@ Progress@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.core.common.action.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Parameters(@@ hos@@ t.get@@ Id()); in@@ vo@@ ke@@ Host@@ Up@@ g@@ r@@ ad@@ e(@@ param@@ s); }
@java.lang.Override public void update@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ VDS host@@ ) { try { org.ovirt.engine.core.common.utils.@@ To@@ String@@ Buil@@ der s@@ b = new org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ ().@@ host@@ nam@@ es(@@ hos@@ t.get@@ Host@@ Name()@@ ).@@ log@@ File@@ Direct@@ ory@@ (@@ Vds@@ De@@ pl@@ o@@ y@@ Bas@@ e.@@ HOST@@ _@@ DE@@ P@@ LO@@ Y_@@ LO@@ G@@ _@@ D@@ I@@ RE@@ C@@ T@@ OR@@ Y@@ ).@@ log@@ File@@ Pre@@ fi@@ x@@ ("@@ ovir@@ t@@ -@@ host@@ -@@ m@@ g@@ m@@ t@@ -@@ ans@@ -@@ ans@@ i@@ bl@@ e@@ ").@@ log@@ File@@ Name(@@ hos@@ t.get@@ Host@@ Name()@@ ).@@ log@@ File@@ Su@@ f@@ fi@@ x@@ (@@ org.ovirt.engine.core.utils.@@ C@@ or@@ r@@ el@@ ation@@ Id@@ Tr@@ ack@@ er@@ .get@@ C@@ or@@ r@@ el@@ ation@@ Id@@ ()).@@ play@@ b@@ ook@@ (@@ An@@ si@@ bl@@ e@@ Constant@@ s.@@ HOST@@ _@@ UP@@ G@@ R@@ AD@@ E_@@ PL@@ A@@ Y@@ B@@ O@@ K@@ ); if (@@ new org.ovirt.engine.core.common.utils.@@ ans@@ i@@ bl@@ e.@@ An@@ si@@ bl@@ e@@ Execut@@ or@@ ().@@ run@@ Command@@ (command@@ ).get@@ An@@ si@@ bl@@ e@@ Return@@ Cod@@ e()) != (org.ovirt.engine.core.common.@@ utils.@@ ans@@ i@@ bl@@ e.@@ An@@ si@@ bl@@ e@@ Return@@ Cod@@ e.@@ O@@ K@@ )) { org.ovirt.engine.core.bll.@@ host.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager@@ .@@ log.error@@ ("@@ Fail@@ ed to updat@@ e hos@@ t '{}@@ '@@ . hos@@ t '{}@@ '@@ . hos@@ t '{}@@ ' to updat@@ e hos@@ t '{}@@ '@@ .@@ ", hos@@ t.get@@ Name()); throw new java.lang.@@ Run@@ time@@ Exception@@ ("@@ Fail@@ ed to updat@@ e hos@@ t '{}@@ '@@ .@@ ", hos@@ t.get@@ Name()); } } catch (@@ java.lang.@@ Inter@@ r@@ up@@ t@@ ed@@ Exception | java.io.@@ I@@ O@@ Exception ex@@ ) { throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ e); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { or@@ (@@ m@@ and@@ ator@@ y@@ (cluster@@ ().@@ id@@ ()), m@@ and@@ ator@@ y@@ (cluster@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (@@ config@@ ur@@ ation@@ ()); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ I@@ n ser@@ vi@@ c@@ es.@@ Re@@ g@@ ist@@ r@@ ation@@ Configur@@ ation re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ();
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { or@@ (@@ m@@ and@@ ator@@ y@@ (cluster@@ ().@@ id@@ ()), m@@ and@@ ator@@ y@@ (cluster@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (@@ cl@@ on@@ e()); o@@ ption@@ al@@ (@@ ex@@ cl@@ us@@ i@@ v@@ e()); o@@ ption@@ al@@ (@@ templat@@ e().@@ nam@@ e()); o@@ ption@@ al@@ (@@ config@@ ur@@ ation@@ ()); }
protected boolean validate@@ Network@@ Provider@@ Configuration@@ (org.ovirt.engine.core.compat.Guid p@@ rovider@@ Id, java.lang.String network@@ Mapp@@ ing@@ s) { if (p@@ rovider@@ Id == null@@ ) { return true@@ ; } else { org.ovirt.engine.core.common.businessentities.@@ Provi@@ der p@@ rovi@@ der = p@@ rovider@@ Dao@@ .get(@@ p@@ rovider@@ Id); if (p@@ rovi@@ der == null@@ ) { return false@@ ; } if (!@@ (((@@ p@@ rovider@@ .get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Provider@@ Type.@@ O@@ P@@ EN@@ ST@@ AC@@ K_@@ NETWOR@@ K@@ )) || ((@@ p@@ rovider@@ .get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Provider@@ Type.@@ EX@@ TER@@ N@@ AL@@ _@@ NETWOR@@ K@@ )))) { return false@@ ; } if (((@@ p@@ rovider@@ .get@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ Provider@@ Type.@@ O@@ P@@ EN@@ ST@@ AC@@ K_@@ NETWOR@@ K@@ )) && (!(@@ validate@@ Op@@ en@@ st@@ ack@@ Network@@ Provider@@ Properties@@ (p@@ rovider@@ Id, network@@ Mapp@@ ing@@ s@@ )))) { return false@@ ; } return true@@ ; }
private boolean validate@@ Op@@ en@@ st@@ ack@@ Network@@ Provider@@ Properties@@ (org.ovirt.engine.core.compat.Guid p@@ rovider@@ Id, java.lang.String network@@ Mapp@@ ing@@ s) { org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Network@@ Provider@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Network@@ Provider@@ Validator@@ (p@@ rovider@@ Dao@@ .get(@@ p@@ rovider@@ Id@@ )); return (((@@ validate(@@ validator.@@ p@@ rovider@@ Is@@ Set@@ ())) && (@@ validate(@@ validator.@@ p@@ rovider@@ Type@@ Is@@ Op@@ en@@ st@@ ack@@ ()))) && (@@ validate(@@ validator.@@ network@@ Mapp@@ ing@@ s@@ Provi@@ d@@ ed(@@ network@@ Mapp@@ ing@@ s@@ )))) && (@@ validate(@@ validator.@@ mess@@ a@@ gin@@ g@@ Broker@@ Provi@@ d@@ ed@@ ())); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface host@@ Interface@@ ) { return (@@ host@@ Interfac@@ e.get@@ T@@ x@@ T@@ otal@@ ()) != null ? t@@ otal@@ R@@ ender@@ er@@ .get@@ Text@@ () : org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Host@@ Network@@ Interface@@ Bond@@ ed@@ List@@ View@@ Item@@ .@@ const@@ an@@ t@@ s.@@ not@@ Available@@ Label@@ (); }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Interface host@@ Interface@@ ) { return (@@ host@@ Interfac@@ e.get@@ R@@ x@@ T@@ otal@@ ()) != null ? t@@ otal@@ R@@ ender@@ er@@ .get@@ Text@@ () : org.ovirt.engine.ui.webadmin.@@ widget.@@ host.@@ Host@@ Network@@ Interface@@ Bond@@ ed@@ List@@ View@@ Item@@ .@@ const@@ an@@ t@@ s.@@ not@@ Available@@ Label@@ (); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se up@@ g@@ r@@ ad@@ e(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { org.ovirt.engine.core.common.action.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Parameters(@@ g@@ uid@@ ); if (@@ action.@@ isSet@@ Image@@ ()) { params.set@@ o@@ Vir@@ t@@ Iso@@ Fil@@ e(@@ action@@ .get@@ Image@@ ()); } if ((@@ action.@@ is@@ R@@ eb@@ oot@@ ()) != null@@ ) { params.set@@ R@@ eb@@ oot@@ (@@ action.@@ is@@ R@@ eb@@ oot@@ ()); } return do@@ Action@@ (@@ ActionType.@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ , param@@ s, action@@ ); }
private org.ovirt.engine.core.common.businessentities.VM read@@ Vm@@ From@@ Ovf@@ (java.lang.String o@@ vf@@ ) { try { return o@@ vf@@ Helper.@@ read@@ Vm@@ From@@ Ovf@@ (@@ o@@ v@@ f@@ ).get@@ F@@ ir@@ st@@ ()); } catch (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception e) { org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Convert@@ Vm@@ Command.@@ log.@@ d@@ ebug@@ ("@@ Fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation@@ : " + o@@ vf@@ ), e); a@@ uditLog@@ (@@ this@@ , AuditLogType.@@ IM@@ PORT@@ EX@@ POR@@ T_@@ IN@@ VALID@@ _@@ OV@@ F@@ ); throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (); } }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ > entity@@ List = get@@ Ovf@@ Entity@@ List(@@ Vm@@ Entity@@ Type.@@ VM@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ List = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data o@@ v@@ f : entity@@ List@@ ) { try { org.ovirt.engine.core.common.businessentities.VM vm = o@@ vf@@ Helper.@@ read@@ Vm@@ From@@ Ovf@@ (@@ o@@ vf@@ .get@@ Ovf@@ Data@@ ()); vm@@ .set@@ Cluster@@ CompatibilityVersion@@ (@@ o@@ vf@@ .get@@ L@@ ow@@ est@@ Comp@@ Version@@ ()); vm@@ .set@@ Cluster@@ Ar@@ ch@@ (@@ o@@ vf@@ .get@@ Ar@@ ch@@ it@@ ect@@ ur@@ e()); vm@@ Lis@@ t.add(@@ vm@@ ); } catch (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception e) { log.@@ d@@ ebug@@ ((@@ "@@ Fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation@@ : " + (@@ o@@ vf@@ .get@@ Ovf@@ Data@@ ())@@ ), e); org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Vms@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Exception@@ String@@ ((@@ "@@ Fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation " + (@@ e.get@@ Message@@ ()))); } org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Vms@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Succeeded@@ (@@ true@@ ); org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Vms@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ vm@@ List@@ ); }
@java.lang.Override protected void execute@@ Query@@ Command() { if (@@ Configuration@@ Type.@@ OV@@ F@@ .equals(@@ org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ Configuration@@ Query.get@@ Parameters().get@@ Configuration@@ Typ@@ e())) { try { org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ Configuration@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ o@@ vf@@ Helper.@@ read@@ Vm@@ From@@ Ovf@@ (org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ Configuration@@ Query.get@@ Parameters().get@@ Vm@@ Configuration@@ ())); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ Configuration@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Succeeded@@ (@@ true@@ ); } catch (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception e) { log.@@ d@@ ebug@@ ((@@ "@@ Fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation@@ : " + (org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ Configuration@@ Query.get@@ Parameters().get@@ Vm@@ Configuration@@ ())@@ ), e); org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ Configuration@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Exception@@ String@@ ((@@ "@@ Fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation " + (@@ e.get@@ Message@@ ()))); } }
public org.ovirt.engine.core.common.businessentities.@@ Vm@@ Templat@@ e get@@ Template@@ Map@@ () { return new org.ovirt.engine.core.common.businessentities.@@ VM@@ (); }
public java.util.@@ Option@@ al@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ > getVm@@ Configuration@@ In@@ Stat@@ el@@ ess@@ Snapshot@@ Of@@ Vm@@ (org.ovirt.engine.core.compat.Guid vm@@ Id) { org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t = snapshot@@ Dao@@ .get@@ (vm@@ Id, Snapshot@@ Type.@@ ST@@ AT@@ E@@ LE@@ SS@@ ); if (s@@ napsho@@ t == null@@ ) { return java.util.@@ Option@@ al.@@ em@@ pty@@ (); } try { return java.util.@@ Option@@ al.@@ o@@ f@@ (@@ o@@ vf@@ Helper.@@ read@@ Vm@@ From@@ Ovf@@ (s@@ napsho@@ t.get@@ Vm@@ Configuration@@ ()); } catch (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception e) { throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ e); } }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ > entity@@ List = get@@ Ovf@@ Entity@@ List(@@ Vm@@ Entity@@ Type.@@ T@@ EM@@ PL@@ AT@@ E); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > vm@@ Template@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data o@@ v@@ f : entity@@ List@@ ) { try { vm@@ Templat@@ es.@@ add(@@ o@@ vf@@ Helper.@@ read@@ VmTemplate@@ From@@ Ovf@@ (@@ o@@ vf@@ .get@@ Ovf@@ Data@@ ()); } catch (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception e) { log.@@ d@@ ebug@@ ((@@ "@@ fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation@@ : " + (@@ o@@ vf@@ .get@@ Ovf@@ Data@@ ())@@ ), e); org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Vm@@ Templat@@ es@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Exception@@ String@@ ((@@ "@@ Fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation " + (@@ e.get@@ Message@@ ()))); } org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Vm@@ Templat@@ es@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Succeeded@@ (@@ true@@ ); org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Vm@@ Templat@@ es@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ vm@@ Templat@@ es@@ ); }
@java.lang.Override protected java.util.Map@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ >> build@@ From@@ OV@@ F@@ s(@@ java.util.List<java.lang.String> o@@ vf@@ List@@ ) { java.util.Map@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ >> template@@ Disks@@ Map = new java.util.HashMap@@ <@@ >(); for (java.lang.String o@@ v@@ f : o@@ vf@@ List@@ ) { try { if (@@ o@@ vf@@ Helper.@@ is@@ Ovf@@ Templ@@ ate(@@ o@@ vf@@ )) { org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e vm@@ Templat@@ e = o@@ vf@@ Helper.@@ read@@ VmTemplate@@ From@@ Ovf@@ (@@ o@@ vf@@ )); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > template@@ Disk@@ s = new java.util.Array@@ List@@ (vm@@ Templat@@ e.get@@ Disk@@ Template@@ Map@@ ().@@ valu@@ es@@ ()); template@@ Disks@@ Map@@ .@@ put@@ (vm@@ Template@@ , template@@ Disks@@ ); } } catch (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception ex@@ ) { a@@ uditLog@@ Ovf@@ Lo@@ ad@@ Error@@ (@@ ex@@ .get@@ Name(), ex@@ .get@@ Message@@ ()); } return template@@ Disks@@ Map@@ ; }
private boolean validate@@ Memory@@ T@@ a@@ k@@ en@@ In@@ Supported@@ Version@@ () { org.ovirt.engine.core.common.businessentities.VM vm@@ From@@ S@@ napsho@@ t = null@@ ; try { vm@@ From@@ S@@ napsho@@ t = o@@ vf@@ Helper.@@ read@@ Vm@@ From@@ Ovf@@ (get@@ D@@ st@@ Snapshot@@ ().get@@ Vm@@ Configuration@@ ()); if (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception e) { log.error@@ ("@@ Fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation@@ : {}@@ ", e.get@@ Message@@ ()); return false@@ ; } org.ovirt.engine.core.compat.@@ Vers@@ ion or@@ i@@ gin@@ al@@ Cluster@@ Vers@@ ion = vm@@ From@@ S@@ napsho@@ t.get@@ Cluster@@ CompatibilityVersion@@ O@@ ri@@ gin@@ (); if (@@ org.ovirt.engine.core.compat.@@ Version@@ .get@@ L@@ ow@@ est@@ ().@@ g@@ re@@ at@@ er@@ (@@ or@@ i@@ gin@@ al@@ Cluster@@ Version@@ )) { return fail@@ Validation@@ (EngineMessage.@@ ACTION_TYPE_@@ FAIL@@ ED@@ _M@@ EM@@ OR@@ Y_@@ T@@ O@@ _@@ OL@@ D@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ c@@ Vers@@ ion %@@ s", (@@ or@@ i@@ gin@@ al@@ Cluster@@ Vers@@ ion != null ? or@@ i@@ gin@@ al@@ Cluster@@ Vers@@ ion : "@@ N@@ /@@ A@@ "@@ ))); } return true@@ ; }
@java.lang.Override protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > build@@ From@@ OV@@ F@@ s(@@ java.util.List<java.lang.String> o@@ vf@@ List@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s = new java.util.ArrayList<@@ >(); for (java.lang.String o@@ v@@ f : o@@ vf@@ List@@ ) { try { if (!(@@ o@@ vf@@ Helper.@@ is@@ Ovf@@ Templ@@ ate(@@ o@@ vf@@ ))) { vms.@@ add(@@ o@@ vf@@ Helper.@@ read@@ Vm@@ From@@ Ovf@@ (@@ o@@ vf@@ )) { vms.@@ add(@@ o@@ vf@@ Helper.@@ read@@ Vm@@ From@@ Ovf@@ (@@ o@@ vf@@ )); } } catch (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception ex@@ ) { a@@ uditLog@@ Ovf@@ Lo@@ ad@@ Error@@ (@@ ex@@ .get@@ Name(), ex@@ .get@@ Message@@ ()); } } return vm@@ s@@ ; }
private void remove@@ Disk@@ Images@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > image@@ s = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disk@@ s(@@ getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ ON@@ L@@ Y_@@ NOT_@@ S@@ H@@ AR@@ E@@ AB@@ LE@@ , org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ ON@@ L@@ Y_@@ AC@@ TI@@ V@@ E); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage im@@ age : im@@ ages@@ ) { im@@ age.@@ set@@ Storage@@ Id@@ s@@ (@@ new java.util.Array@@ List(@@ java.util.Arrays.as@@ List@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Remove@@ Vm@@ From@@ Import@@ Export@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ()))); im@@ age.@@ set@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Remove@@ Vm@@ From@@ Import@@ Export@@ Command.getParameters().get@@ StoragePool@@ Id()); } java.util.Set@@ <java.lang.String@@ > all@@ Memory@@ Volume@@ s = org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Util@@ s.get@@ Memory@@ Volum@@ es@@ From@@ Snapshot@@ s(@@ getVm@@ ().get@@ Snapshots@@ ()); for (java.lang.String mem@@ ory@@ Volume@@ s : all@@ Memory@@ Volum@@ es) { if (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ mem@@ ory@@ Volum@@ es@@ ))) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > g@@ uid@@ s = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ List@@ From@@ String@@ (@@ mem@@ ory@@ Volum@@ es@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage mem@@ ory@@ Disk = create@@ Memory@@ Disk@@ (@@ g@@ ui@@ ds@@ .get(@@ 2@@ ), g@@ ui@@ ds@@ .get(@@ 3@@ )); im@@ ages.@@ add(@@ mem@@ ory@@ Disk@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage m@@ et@@ ad@@ ata@@ Disk = create@@ Memory@@ Disk@@ (@@ g@@ ui@@ ds@@ .get(@@ 4@@ ), g@@ ui@@ ds@@ .get(@@ 5@@ )); im@@ ages.@@ add(@@ m@@ et@@ ad@@ ata@@ Disk@@ ); } remove@@ Vm@@ Images@@ (@@ im@@ ages@@ ); }
private org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage create@@ Memory@@ Disk@@ (org.ovirt.engine.core.compat.Guid disk@@ Id, org.ovirt.engine.core.compat.Guid image@@ Id) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ (); disk@@ .set@@ Id(@@ disk@@ Id); disk@@ .set@@ Image@@ Id(@@ image@@ Id); disk@@ .set@@ StoragePool@@ Id(@@ org.ovirt.engine.core.bll.@@ l@@ .@@ l@@ .@@ l@@ abel@@ .@@ exp@@ or@@ t@@ import@@ .@@ Remove@@ Vm@@ From@@ Import@@ Export@@ Command.getParameters().get@@ StoragePool@@ Id()); disk@@ .set@@ Storage@@ Id@@ s@@ (@@ new java.util.Array@@ List(@@ java.util.Arrays.as@@ List@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Remove@@ Vm@@ From@@ Import@@ Export@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ())); disk@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ (@@ false@@ ); disk@@ .set@@ Active@@ (@@ true@@ ); return dis@@ k@@ ; }
public void set@@ Role@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.Object> ro@@ le@@ Map@@ );
public java.util.Map<java.lang.String, java.lang.Object> get@@ A@@ f@@ fin@@ ity@@ Group@@ Map@@ ();
public java.util.Map<java.lang.String, java.lang.Object> get@@ Role@@ Map@@ ();
public java.util.Map<java.lang.String, java.lang.Object> get@@ A@@ f@@ fin@@ ity@@ Label@@ Map@@ ();
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se re@@ g@@ ist@@ er@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ c@@ luster.@@ id@@ |@@ name@@ "); org.ovirt.engine.core.common.action.@@ Import@@ VmTemplate@@ From@@ Con@@ f@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Import@@ VmTemplate@@ From@@ Con@@ f@@ Parameters@@ (); java.util.Map<java.lang.String, java.util.Map@@ > re@@ g@@ ist@@ r@@ ation@@ Map = get@@ Re@@ g@@ ist@@ r@@ ation@@ Mapp@@ ing@@ s(@@ action@@ ); params.set@@ Cluster@@ Map@@ (@@ re@@ g@@ ist@@ r@@ ation@@ Map@@ .get(@@ External@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ Mapper.@@ C@@ LUSTER_@@ K@@ E@@ Y@@ )); params.set@@ Domain@@ Map@@ (@@ re@@ g@@ ist@@ r@@ ation@@ Map@@ .get(@@ External@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ Mapper.@@ DOMAIN@@ _@@ K@@ E@@ Y@@ )); params.set@@ Role@@ Map@@ (@@ re@@ g@@ ist@@ r@@ ation@@ Map@@ .get(@@ External@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ Mapper.@@ RO@@ L@@ E_@@ K@@ E@@ Y@@ )); params.set@@ Cont@@ ain@@ er@@ Id(@@ g@@ uid@@ ); params.set@@ StorageDomain@@ Id(@@ par@@ ent.@@ get@@ StorageDomain@@ Id()); params.set@@ Cluster@@ Id@@ (get@@ Cluster@@ Id(@@ action@@ )); params.set@@ Images@@ Exist@@ On@@ T@@ arget@@ StorageDomain@@ (@@ true@@ ); if (@@ action.@@ isSet@@ Cl@@ on@@ e()) { params.set@@ Import@@ As@@ New@@ Entity(@@ action.@@ is@@ Cl@@ on@@ e()); if ((@@ action.@@ isSet@@ Vm@@ ()) && (@@ action@@ .get@@ Templat@@ e().@@ isSet@@ Name()@@ )) { param@@ s.get@@ Vm@@ Templat@@ e().set@@ Name(@@ action@@ .get@@ Templat@@ e().get@@ Name()); } } if (@@ action.@@ isSet@@ Par@@ ti@@ al@@ Import@@ ()) { params.set@@ Allow@@ ti@@ al@@ Import@@ (@@ action.@@ is@@ Allow@@ ti@@ al@@ Import@@ ()); } return do@@ Action@@ (@@ ActionType.@@ Import@@ VmTemplate@@ From@@ Configuration@@ , param@@ s, action@@ ); }
public void set@@ A@@ f@@ fin@@ ity@@ Label@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.Object> af@@ fin@@ ity@@ Label@@ Map@@ );
@java.lang.Override public java.util.Map<java.lang.String, java.lang.Object> get@@ Domain@@ Map@@ () { return do@@ m@@ ain@@ Map@@ ; }
@java.lang.Override public void set@@ A@@ f@@ fin@@ ity@@ Group@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.Object> af@@ fin@@ ity@@ Group@@ Map@@ ) { }
public void set@@ Domain@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.Object> do@@ m@@ ain@@ Map@@ );
public void set@@ Cluster@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.Object> cluster@@ Map@@ ) { this@@ .@@ cluster@@ Map = cluster@@ Map@@ ; }
@java.lang.Override public java.util.Map<java.lang.String, java.lang.Object> get@@ A@@ f@@ fin@@ ity@@ Label@@ Map@@ () { return s@@ ; }
@java.lang.Override public java.util.Map<java.lang.String, java.lang.Object> get@@ Cluster@@ Map@@ () { return cluster@@ Map@@ ; }
@java.lang.Override public java.util.Map<java.lang.String, java.lang.Object> get@@ A@@ f@@ fin@@ ity@@ Group@@ Map@@ () { return s@@ ; }
public void set@@ Domain@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.Object> do@@ m@@ ain@@ Map@@ ) { this@@ .@@ do@@ m@@ ain@@ Map = do@@ m@@ ain@@ Map@@ ; }
@java.lang.Override public void set@@ A@@ f@@ fin@@ ity@@ Label@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.Object> af@@ fin@@ ity@@ Label@@ ) { }
public java.util.Map<java.lang.String, java.lang.Object> get@@ Domain@@ Map@@ () { return lock@@ Map@@ ; }
public void set@@ A@@ f@@ fin@@ ity@@ Group@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.Object> af@@ fin@@ ity@@ Group@@ Map@@ );
public java.util.Map<java.lang.String, java.lang.Object> get@@ External@@ Lun@@ Map@@ () { java.util.Map<java.lang.String, java.lang.Object> result = new java.util.HashMap@@ <java.lang.String, java.lang.Object@@ >(); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.util.Map<java.lang.String, java.lang.Object@@ >> e@@ n@@ try : param@@ s.@@ e@@ n@@ try@@ Set@@ ()) { result@@ s.@@ put(@@ e@@ n@@ try@@ .get@@ Key@@ (), e@@ n@@ try@@ .get@@ Key@@ ()); } return result@@ ; }
public void set@@ Cluster@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.Object> cluster@@ Map@@ );
public void set@@ External@@ Lun@@ Map@@ (@@ java.util.Map<java.lang.String, java.lang.Object> ex@@ ternal@@ Lun@@ Map@@ );
public java.util.Map<java.lang.String, java.lang.Object> get@@ Cluster@@ Map@@ ();
private void map@@ Cluster@@ (java.lang.String cluster@@ Name@@ ) { if ((org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Cluster@@ Map@@ ()) != null@@ ) { java.lang.String cluster@@ D@@ es@@ t = org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Cluster@@ Map@@ ().get@@ (cluster@@ Name@@ ); org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ ; if (cluster@@ D@@ es@@ t != null@@ ) { c@@ luster = cluster@@ Dao@@ .get@@ By@@ Name(@@ cluster@@ Dest@@ ); } else { c@@ luster = cluster@@ Dao@@ .get@@ By@@ Name(@@ cluster@@ Name@@ ); } org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().set@@ Cluster@@ Id@@ (cluster@@ .getId()); }
private java.lang.String gener@@ ate@@ Met@@ a@@ Data@@ Fil@@ e(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > vm@@ And@@ Templat@@ es@@ Id@@ s) { java.util.Map<java.lang.String, java.lang.Object> dat@@ a = new java.util.HashMap@@ <@@ >(); add@@ StorageDomain@@ Status(@@ data@@ ); add@@ Vms@@ Status@@ (vm@@ And@@ Templat@@ es@@ Id@@ s, data@@ ); return build@@ J@@ son@@ (@@ data@@ , true@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se re@@ g@@ ist@@ er@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ c@@ luster.@@ id@@ |@@ name@@ "); validate@@ Vnic@@ Mapp@@ ing@@ s(@@ action@@ ); validate@@ Cluster@@ Mapp@@ ing@@ s(@@ action@@ ); validate@@ Role@@ Mapp@@ ing@@ s(@@ action@@ ); validate@@ Domain@@ Mapp@@ ing@@ s(@@ action@@ ); validate@@ A@@ f@@ fin@@ ity@@ Group@@ Mapp@@ ing@@ s(@@ action@@ ); validate@@ A@@ f@@ fin@@ ity@@ Label@@ Mapp@@ ing@@ s(@@ action@@ ); validate@@ Lun@@ Mapp@@ ing@@ s(@@ action@@ ); org.ovirt.engine.core.common.action.@@ Import@@ Vm@@ From@@ Con@@ f@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Import@@ Vm@@ From@@ Con@@ f@@ Parameters@@ (get@@ Vnic@@ Profile@@ Mapp@@ ing@@ s(@@ action@@ ), get@@ Re@@ ass@@ ign@@ B@@ ad@@ Mac@@ s(@@ action@@ )); org.ovirt.engine.api.restapi.@@ types.@@ External@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ Mapper.@@ map@@ From@@ Model@@ (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ (), param@@ s); params.set@@ Cont@@ ain@@ er@@ Id(@@ g@@ uid@@ ); params.set@@ StorageDomain@@ Id(@@ par@@ ent.@@ get@@ StorageDomain@@ Id()); params.set@@ Cluster@@ Id@@ (get@@ Cluster@@ Id(@@ action@@ )); params.set@@ Images@@ Exist@@ On@@ T@@ arget@@ StorageDomain@@ (@@ true@@ ); if (@@ action.@@ isSet@@ Cl@@ on@@ e()) { params.set@@ Import@@ As@@ New@@ Entity(@@ action.@@ is@@ Cl@@ on@@ e()); if ((@@ action.@@ isSet@@ Vm@@ ()) && (@@ action@@ .get@@ Vm@@ ().is@@ Set@@ Name()@@ )) { param@@ s.get@@ Vm@@ ().set@@ Name(@@ action@@ .get@@ Vm@@ ().get@@ Name()); } } if (@@ action.@@ isSet@@ Par@@ ti@@ al@@ Import@@ ()) { params.set@@ Allow@@ ti@@ al@@ Import@@ (@@ action.@@ is@@ Allow@@ ti@@ al@@ Import@@ ()); } return do@@ Action@@ (@@ ActionType.@@ Import@@ Vm@@ From@@ Configuration@@ , param@@ s, action@@ ); }
private void validate@@ Role@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if (((@@ action.@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ()) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().is@@ Set@@ Role@@ Mapp@@ ing@@ s@@ ())) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ Role@@ Mapp@@ ing@@ s().@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Role@@ Mapp@@ ing@@ s@@ ())) { action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ Role@@ Mapp@@ ing@@ s().get@@ Re@@ g@@ ist@@ r@@ ation@@ Role@@ Mapp@@ ing@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ :@@ validate@@ Role@@ Mapp@@ ing@@ ); } }
private void validate@@ Role@@ Mapp@@ ing@@ (@@ org.ovirt.engine.api.model.@@ Re@@ g@@ ist@@ r@@ ation@@ Role@@ Mapp@@ ing m@@ app@@ ing@@ ) { if (!(@@ m@@ app@@ ing.@@ isSet@@ From@@ ())) { b@@ ad@@ Request@@ ("@@ Rol@@ e nam@@ e is mis@@ s@@ ing f@@ ro@@ m s@@ ourc@@ e.@@ "); } if (!(@@ m@@ app@@ ing.@@ isSet@@ To@@ ())) { b@@ ad@@ Request@@ ("@@ Rol@@ e nam@@ e is mis@@ s@@ ing f@@ ro@@ m d@@ est@@ ination@@ .@@ "); } }
private void validate@@ Domain@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if (((@@ action.@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ()) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().is@@ Set@@ Domain@@ Mapp@@ ing@@ s@@ ())) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ Domain@@ Mapp@@ ing@@ s().@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Domain@@ Mapp@@ ing@@ s@@ ())) { action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ Domain@@ Mapp@@ ing@@ s().get@@ Re@@ g@@ ist@@ r@@ ation@@ Domain@@ Mapp@@ ing@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ :@@ validate@@ Domain@@ Mapp@@ ing@@ ); } }
private void validate@@ A@@ f@@ fin@@ ity@@ Group@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if (((@@ action.@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ()) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().is@@ Set@@ A@@ f@@ fin@@ ity@@ Group@@ Mapp@@ ing@@ s@@ ())) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ A@@ f@@ fin@@ ity@@ Group@@ Mapp@@ ing@@ s().@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ A@@ f@@ fin@@ ity@@ Group@@ Mapp@@ ing@@ s@@ ())) { action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ A@@ f@@ fin@@ ity@@ Group@@ Mapp@@ ing@@ s().get@@ Re@@ g@@ ist@@ r@@ ation@@ A@@ f@@ fin@@ ity@@ Group@@ Mapp@@ ing@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ validate@@ A@@ f@@ fin@@ ity@@ Group@@ Mapp@@ ing@@ ); } }
private void validate@@ Lun@@ Mapp@@ ing@@ (@@ org.ovirt.engine.api.model.@@ Re@@ g@@ ist@@ r@@ ation@@ Lun@@ Mapp@@ ing m@@ app@@ ing@@ ) { if (!(@@ m@@ app@@ ing.@@ isSet@@ From@@ ())) { b@@ ad@@ Request@@ ("@@ L@@ u@@ n nam@@ e is mis@@ s@@ ing f@@ ro@@ m s@@ ourc@@ e.@@ "); } if (!(@@ m@@ app@@ ing.@@ isSet@@ To@@ ())) { b@@ ad@@ Request@@ ("@@ L@@ u@@ n nam@@ e is mis@@ s@@ ing f@@ ro@@ m d@@ est@@ ination@@ .@@ "); } }
private void validate@@ A@@ f@@ fin@@ ity@@ Label@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if (((@@ action.@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ()) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().is@@ Set@@ A@@ f@@ fin@@ ity@@ Label@@ Mapp@@ ing@@ s@@ ())) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ A@@ f@@ fin@@ ity@@ Label@@ Mapp@@ ing@@ s().@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ A@@ f@@ fin@@ ity@@ Label@@ Mapp@@ ing@@ s@@ ())) { action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ A@@ f@@ fin@@ ity@@ Label@@ Mapp@@ ing@@ s().get@@ Re@@ g@@ ist@@ r@@ ation@@ A@@ f@@ fin@@ ity@@ Label@@ Mapp@@ ing@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ validate@@ A@@ f@@ fin@@ ity@@ Label@@ Mapp@@ ing@@ ); } }
private void validate@@ Cluster@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if (((@@ action.@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ()) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().is@@ Set@@ Cluster@@ Mapp@@ ing@@ s@@ ())) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ Mapp@@ ing@@ s().@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Cluster@@ Mapp@@ ing@@ s@@ ())) { action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ Cluster@@ Mapp@@ ing@@ s().get@@ Re@@ g@@ ist@@ r@@ ation@@ Cluster@@ Mapp@@ ing@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ :@@ validate@@ Cluster@@ Mapp@@ ing@@ ); }
private void validate@@ Lun@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if (((@@ action.@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ()) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().is@@ Set@@ Lun@@ Mapp@@ ing@@ s@@ ())) && (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ Lun@@ Mapp@@ ing@@ s().@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Lun@@ Mapp@@ ing@@ s@@ ())) { action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ Lun@@ Mapp@@ ing@@ s().get@@ Re@@ g@@ ist@@ r@@ ation@@ Lun@@ Mapp@@ ing@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ validate@@ Lun@@ Mapp@@ ing@@ ); } }
private void w@@ rit@@ e@@ Cpu@@ T@@ un@@ e() { w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ c@@ put@@ u@@ ne@@ "); @@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") java.util.Map<java.lang.String, java.lang.Object> cpu@@ P@@ in@@ n@@ ing = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (c@@ reate@@ Info@@ .get(@@ Vds@@ Properties.@@ cpu@@ P@@ in@@ ning@@ ))); if (c@@ pu@@ P@@ in@@ n@@ ing != null@@ ) { cpu@@ P@@ in@@ ning@@ .@@ for@@ E@@ ach@@ (@@ ("@@ v@@ cpu@@ , c@@ p@@ us@@ et@@ ) -@@ > { w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ v@@ c@@ pup@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ v@@ cpu@@ ", v@@ cpu@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ c@@ p@@ us@@ et@@ ", ((@@ java.lang.String@@ ) (c@@ p@@ us@@ et@@ ))); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }); } if ((@@ vm.get@@ Cpu@@ Sh@@ ar@@ es@@ ()) > 0) { w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ sh@@ ar@@ es@@ ", java.lang.String.@@ value@@ Of@@ (vm@@ .get@@ Cpu@@ Sh@@ ar@@ es@@ ())); } java.lang.String i@@ o@@ Cpu@@ s = ((@@ java.lang.String@@ ) (c@@ reate@@ Info@@ .get(@@ Vds@@ Properties.@@ i@@ o@@ Th@@ rea@@ ds@@ P@@ in@@ n@@ ning@@ ))); if (@@ i@@ o@@ Cpu@@ s != null@@ ) { for (@@ int i = 0@@ ; i < (vm@@ .get@@ NumOf@@ I@@ o@@ Th@@ rea@@ ds@@ ()); i@@ +@@ ) { w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ i@@ "); w@@ rit@@ e@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ i@@ oth@@ read@@ ", java.lang.String.@@ value@@ Of@@ ((@@ i + 1@@ ))); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ c@@ p@@ us@@ et@@ ", i@@ o@@ C@@ p@@ us@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); } java.lang.String em@@ ul@@ ator@@ s = ((@@ java.lang.String@@ ) (c@@ reate@@ Info@@ .get(@@ Vds@@ Properties.@@ em@@ ul@@ ator@@ Th@@ rea@@ ds@@ P@@ in@@ ning@@ ))); if (@@ em@@ ul@@ ator@@ s != null@@ ) { w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ em@@ ul@@ ator@@ p@@ in@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String("@@ c@@ p@@ us@@ et@@ ", em@@ ul@@ ator@@ C@@ p@@ us@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); } w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
@java.lang.Override public void search@@ () { if ((get@@ Entity@@ ()) != null@@ ) { boolean get@@ Run@@ ning@@ Vm@@ s = (@@ view@@ Filter@@ Type.@@ equals(@@ Host@@ Vm@@ Fil@@ t@@ er.@@ all@@ )) || (@@ view@@ Filter@@ Type.@@ equals(@@ Host@@ Vm@@ Fil@@ t@@ er.@@ run@@ ning@@ On@@ Host@@ )); boolean get@@ P@@ in@@ n@@ ed@@ Vm@@ s = (@@ view@@ Filter@@ Type.@@ equals(@@ Host@@ Vm@@ Fil@@ t@@ er.@@ all@@ )) || (@@ view@@ Filter@@ Type.@@ equals(@@ Host@@ Vm@@ Fil@@ t@@ er.@@ p@@ in@@ n@@ ed@@ To@@ Host@@ )); new org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Vm@@ ListModel@@ .@@ Search@@ Query@@ (@@ get@@ Run@@ ning@@ Vm@@ s, get@@ P@@ in@@ n@@ ed@@ Vm@@ s, new org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Set@@ Ra@@ w@@ Item@@ s@@ Async@@ Query@@ ()); } else { set@@ Item@@ s@@ (@@ new java.util.ArrayList<org.ovirt.engine.core.common.businessentities.@@ VM@@ >@@ ()); } st@@ art@@ G@@ rid@@ Tim@@ er@@ (); }
private void cancel@@ () { org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model w@@ in@@ do@@ w@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Fence@@ Proxy@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); }
public static org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Cont@@ ent@@ Type for@@ Storage@@ Value@@ (@@ int value) { return org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Cont@@ ent@@ Type.@@ storage@@ Mapp@@ ing@@ s.get@@ (@@ valu@@ e); }
@org.junit.Test public void test@@ Storage@@ Name@@ L@@ ength@@ () { for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Cont@@ ent@@ Type d : org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Cont@@ ent@@ Type.@@ valu@@ es@@ ()) { if (@@ d != (@@ Disk@@ Cont@@ ent@@ Type.@@ LE@@ G@@ AC@@ Y@@ )) { assert@@ E@@ quals(@@ 4@@ , d@@ .get@@ Storage@@ Valu@@ e().@@ l@@ ength@@ ()); } }
private com.google.gwt.@@ user.@@ client.@@ ui.@@ W@@ id@@ g@@ e@@ t get@@ R@@ ad@@ i@@ o@@ Group@@ Panel@@ () { b@@ utton@@ To@@ Type = new java.util.@@ Link@@ ed@@ Hash@@ Map@@ (); org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ R@@ ad@@ i@@ o@@ B@@ utt@@ on all@@ B@@ utt@@ on = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ disk@@ s.@@ Disks@@ Cont@@ ent@@ Type@@ R@@ ad@@ i@@ o@@ Group@@ .@@ B@@ U@@ T@@ T@@ ON_@@ G@@ RO@@ UP@@ _@@ NAM@@ E); b@@ utton@@ To@@ Type.@@ put(@@ all@@ Button@@ , null@@ ); all@@ Button@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ disk@@ s.@@ Disks@@ Cont@@ ent@@ Type@@ R@@ ad@@ i@@ o@@ Group@@ .@@ const@@ an@@ t@@ s.@@ all@@ Disks@@ Label@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Cont@@ ent@@ Type cont@@ ent@@ Type : org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Cont@@ ent@@ Type.@@ valu@@ es@@ ()) { if (@@ cont@@ ent@@ Type != (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Cont@@ ent@@ Type.@@ LE@@ G@@ AC@@ Y@@ )) { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ R@@ ad@@ i@@ o@@ B@@ utt@@ on b@@ utt@@ on = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ R@@ ad@@ i@@ o@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ disk@@ s.@@ Disks@@ Cont@@ ent@@ Type@@ R@@ ad@@ i@@ o@@ Group@@ .@@ B@@ U@@ T@@ T@@ ON_@@ G@@ RO@@ UP@@ _@@ NAM@@ E); b@@ utton@@ To@@ Type.@@ put(@@ b@@ utton@@ , cont@@ ent@@ Type@@ ); } org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Button@@ Group b@@ utton@@ Group = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Button@@ Group@@ (); b@@ utton@@ Group@@ .set@@ Data@@ T@@ og@@ g@@ l@@ e.@@ B@@ U@@ T@@ ON@@ S@@ ); b@@ utton@@ To@@ Type.@@ e@@ n@@ try@@ Set@@ ()@@ .@@ for@@ E@@ ach@@ (@@ "@@ -@@ > b@@ utton@@ Group@@ .@@ add(@@ e.get@@ Key@@ ()); e.get@@ Key@@ ().add@@ Cl@@ ick@@ Handler@@ (@@ " -@@ > fi@@ re@@ Change@@ Handl@@ ers@@ (@@ e.get@@ Valu@@ e())); }); set@@ Disk@@ Cont@@ ent@@ Type@@ (@@ null@@ ); loc@@ al@@ iz@@ e(); b@@ utton@@ Group@@ .@@ add@@ Sty@@ le@@ Name("@@ disk@@ -@@ type@@ -@@ -@@ -@@ group@@ s@@ -@@ group@@ "); return b@@ utton@@ Group@@ ; }
private void add@@ Vms@@ Status(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > vm@@ And@@ Templat@@ es@@ Id@@ s, java.util.Map<java.lang.String, java.lang.Object> data@@ ) { java.util.Map<java.lang.String, java.lang.Object> vm@@ s@@ Statu@@ s = new java.util.HashMap@@ <@@ >(); for (org.ovirt.engine.core.compat.Guid vm@@ Id : vm@@ And@@ Templat@@ es@@ Id@@ s) { org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ Dynam@@ ic = vm@@ Dynamic@@ Dao@@ .get@@ (vm@@ Id); if ((@@ vm@@ Dynam@@ ic != null@@ ) && ((@@ vm@@ Dynamic@@ .get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ Down@@ )) { vm@@ s@@ Status.@@ put@@ (vm@@ Id@@ .toString@@ (), vm@@ Dynamic@@ .get@@ Status@@ ().get@@ Valu@@ e()); log.@@ d@@ ebug@@ ("@@ VM - Ad@@ d vm id '{}@@ ' wit@@ h status@@ : '{}@@ '@@ ", vm@@ Id, vm@@ Dynamic@@ .get@@ Status@@ ()); } else { log.@@ d@@ ebug@@ ("@@ VM - S@@ k@@ i@@ p enti@@ ty id '{}@@ '@@ ", vm@@ Id, vm@@ Dynamic@@ .get@@ Status@@ ()); } data@@ .@@ put(@@ Ovf@@ Info@@ File@@ Constant@@ s.@@ Vm@@ Status@@ , vm@@ s@@ Status@@ ); }
@java.lang.Override protected void execute@@ Query@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ > entity@@ List = get@@ Ovf@@ Entity@@ List(@@ Vm@@ Entity@@ Type.@@ VM@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ List = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data o@@ v@@ f : entity@@ List@@ ) { try { org.ovirt.engine.core.common.businessentities.VM vm = o@@ vf@@ Helper.@@ read@@ Vm@@ From@@ Ovf@@ (@@ o@@ vf@@ .get@@ Ovf@@ Data@@ ()@@ ).get@@ Vm@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ > storage@@ Ovf@@ Ex@@ tr@@ a@@ Data = storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Vms@@ Query.get@@ Parameters().get@@ Id(), vm.get@@ Id()); if (!(@@ storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ .@@ isEmpty())) { vm@@ .set@@ Status@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ value@@ Of@@ (@@ storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ .get@@ (0@@ ).get@@ Entity@@ Valu@@ e())); } vm@@ .set@@ Cluster@@ CompatibilityVersion@@ (@@ o@@ vf@@ .get@@ L@@ ow@@ est@@ Comp@@ Version@@ ()); vm@@ .set@@ Cluster@@ Ar@@ ch@@ (@@ o@@ vf@@ .get@@ Ar@@ ch@@ it@@ ect@@ ur@@ e()); vm@@ Lis@@ t.add(@@ vm@@ ); } catch (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception e) { log.@@ d@@ ebug@@ ((@@ "@@ Fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation@@ : " + (@@ o@@ vf@@ .get@@ Ovf@@ Data@@ ())@@ ), e); org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Vms@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Exception@@ String@@ ((@@ ("@@ Fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation " + (@@ e.get@@ Message@@ ()))); } org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Vms@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Succeeded@@ (@@ true@@ ); org.ovirt.engine.core.bll.@@ Get@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Vms@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ vm@@ List@@ ); }
private static void init@@ Storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ (org.ovirt.engine.core.compat.Guid storageDomain@@ Id, java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ > storage@@ Ex@@ tr@@ a@@ Data@@ , java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.@@ n@@ io.@@ By@@ t@@ e@@ B@@ u@@ f@@ fer@@ > fil@@ e@@ E@@ n@@ try@@ ) { java.util.Map<java.lang.String, java.lang.Object> disk@@ Description@@ Map = new java.util.HashMap@@ <@@ >(); org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ log.@@ info@@ ("@@ St@@ ar@@ t to an@@ al@@ y@@ z@@ e m@@ et@@ ad@@ at@@ a Fil@@ e '{}@@ '@@ .@@ ", fil@@ e@@ E@@ n@@ try@@ .get@@ Key@@ ()); java.lang.String storage@@ Met@@ a@@ Data = new java.lang.String@@ (@@ fil@@ e@@ E@@ n@@ try@@ .get@@ Valu@@ e().@@ ar@@ r@@ ay@@ ()); try { disk@@ Description@@ Map = org.ovirt.engine.core.utils.@@ J@@ son@@ Helper.@@ json@@ To@@ Map@@ (@@ storage@@ Met@@ a@@ Data@@ ); } catch (@@ java.io.@@ I@@ O@@ Exception e) { org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ log.error@@ ("@@ Fail@@ ed to con@@ ver@@ t stor@@ age o@@ v@@ f ex@@ tr@@ a dat@@ a f@@ ro@@ m j@@ s@@ on to map@@ : '{}@@ '@@ .@@ ", storage@@ Met@@ a@@ Data@@ ); e.@@ p@@ r@@ int@@ St@@ ack@@ Tr@@ ac@@ e(); return@@ ; } org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ f@@ et@@ ch@@ Storage@@ Status(@@ storageDomain@@ Id, storage@@ Ex@@ tr@@ a@@ Data@@ , disk@@ Description@@ Map@@ ); org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ f@@ et@@ ch@@ Vms@@ Status(@@ storageDomain@@ Id, storage@@ Ex@@ tr@@ a@@ Data@@ , disk@@ Description@@ Map@@ ); org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ log.@@ info@@ ("@@ F@@ in@@ is@@ h to an@@ al@@ y@@ z@@ e m@@ et@@ ad@@ at@@ a Fil@@ e '{}@@ '@@ .@@ ", fil@@ e@@ E@@ n@@ try@@ .get@@ Key@@ ()); }
private void re@@ g@@ ist@@ er@@ Ovf@@ Stor@@ e@@ Disks@@ () { for (@@ final org.ovirt.engine.core.compat.Guid storageDomain@@ Id : org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Add@@ StoragePool@@ With@@ Stor@@ ages@@ Command.getParameters().get@@ Stor@@ ages@@ ()) { if (@@ storageDomain@@ Static@@ Dao@@ .get(@@ storageDomain@@ Id@@ ).get@@ StorageDomain@@ Typ@@ e().@@ is@@ Data@@ Domain@@ ()) { org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Add@@ StoragePool@@ With@@ Stor@@ ages@@ Command.@@ res@@ et@@ Ovf@@ Stor@@ e@@ And@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disks@@ (); org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { List<@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ > o@@ vf@@ Stor@@ e@@ DiskImage@@ s = get@@ All@@ OV@@ F@@ Disk@@ s(@@ storageDomain@@ Id, get@@ StoragePool@@ ().get@@ Id()); re@@ g@@ ist@@ er@@ All@@ Ovf@@ Disk@@ s(@@ o@@ vf@@ Stor@@ e@@ Disk@@ Images@@ , storageDomain@@ Id); List<@@ org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ > enti@@ ties@@ From@@ Storage@@ Disk = get@@ Enti@@ ties@@ From@@ Storage@@ Ovf@@ Disk@@ (@@ storageDomain@@ Id, get@@ StoragePool@@ ().get@@ Id()); for (java.lang.Object o@@ v@@ f : enti@@ ties@@ From@@ Storage@@ Ovf@@ Disk@@ ) { org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data o@@ vf@@ Entity@@ Data = ((org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ ) (@@ o@@ vf@@ )); un@@ re@@ g@@ ist@@ er@@ ed@@ OV@@ F@@ Data@@ Dao@@ .@@ remove@@ Entity(@@ o@@ vf@@ Entity@@ Data@@ .get@@ Entity@@ Id(), storageDomain@@ Id); un@@ re@@ g@@ ist@@ er@@ ed@@ OV@@ F@@ Data@@ Dao@@ .@@ s@@ ave@@ OV@@ F@@ Data@@ (@@ o@@ vf@@ Entity@@ Data@@ ); org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ log.@@ info@@ ("@@ Th@@ e OV@@ F dat@@ a of enti@@ ty id '{}@@ ' and enti@@ ty nam@@ e '{}@@ ' o@@ vf@@ Entity@@ Data@@ .get@@ Entity@@ Id(), o@@ vf@@ Entity@@ Data@@ .get@@ Entity@@ Name()); } init@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disks@@ To@@ D@@ B@@ (@@ storageDomain@@ Id); init@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ To@@ D@@ B@@ (@@ storageDomain@@ Id); return null@@ ; } }
private void remove@@ Enti@@ ties@@ From@@ StorageDomain@@ (@@ final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s@@ For@@ StorageDomain@@ , final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ > vm@@ Templat@@ es@@ For@@ StorageDomain@@ , final java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s@@ For@@ StorageDomain@@ , final org.ovirt.engine.core.compat.Guid storageDomain@@ Id) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ -@@ > vm@@ s@@ For@@ StorageDomain@@ .@@ isEmpty())) || (!(@@ vm@@ Templat@@ es@@ For@@ StorageDomain@@ .@@ isEmpty@@ ()))) || (!(@@ disk@@ s@@ For@@ StorageDomain@@ .@@ isEmpty@@ ()))) { for (org.ovirt.engine.core.common.businessentities.@@ VM vm : vm@@ s@@ For@@ StorageDomain@@ ) { remove@@ Entity@@ L@@ e@@ f@@ t@@ O@@ ver@@ (vm@@ .get@@ Id(), vm.get@@ Name(), storageDomain@@ Id); un@@ re@@ g@@ ist@@ er@@ ed@@ OV@@ F@@ Data@@ Dao@@ .@@ s@@ ave@@ OV@@ F@@ Data@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ (vm@@ .get@@ Id(), vm.get@@ Name(), Vm@@ Entity@@ Type.@@ VM@@ , vm.get@@ Cluster@@ Ar@@ ch@@ (), vm.get@@ CompatibilityVersion@@ (), storageDomain@@ Id, null@@ , null@@ )); } for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Templat@@ e vm@@ Templat@@ e : vm@@ Templat@@ es) { remove@@ Entity@@ L@@ e@@ f@@ t@@ O@@ ver@@ (vm@@ .get@@ Id(), vm@@ Templat@@ e.get@@ Name(), storageDomain@@ Id); un@@ re@@ g@@ ist@@ er@@ ed@@ OV@@ F@@ Data@@ Dao@@ .@@ s@@ ave@@ OV@@ F@@ Data@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ Ovf@@ Entity@@ Data@@ (vm@@ Templat@@ e.get@@ Id(), vm@@ Templat@@ e.get@@ Name(), Vm@@ Templat@@ e().get@@ Id()); un@@ re@@ g@@ ist@@ er@@ ed@@ OV@@ F@@ Data@@ .get@@ Cluster@@ ().get@@ Name(), Vm@@ Entity@@ Type.@@ T@@ EM@@ PL@@ AT@@ E@@ , vm@@ Templat@@ e.get@@ Cluster@@ Ar@@ ch@@ (), cluster@@ Dao@@ .get@@ CompatibilityVersion@@ (), storageDomain@@ Id, null@@ , null@@ )); } }
protected void res@@ et@@ Ovf@@ Stor@@ e@@ And@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Disks@@ () { o@@ vf@@ Disk@@ s = null@@ ; un@@ re@@ g@@ ist@@ er@@ ed@@ Disk@@ s = new java.util.Array@@ List@@ (); storage@@ Ovf@@ Ex@@ tr@@ a@@ Data = new java.util.Array@@ List@@ (); }
private static void f@@ et@@ ch@@ Storage@@ Status@@ (org.ovirt.engine.core.compat.Guid storageDomain@@ Id, java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ > storage@@ Ex@@ tr@@ a@@ Data@@ , java.util.Map<java.lang.String, java.lang.Object> disk@@ Description@@ Map@@ ) { org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Sh@@ ared@@ Statu@@ s storage@@ Statu@@ s = ((org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Sh@@ ared@@ Status@@ ) (disk@@ Description@@ Map@@ .get(@@ Ovf@@ Info@@ File@@ Constant@@ s.@@ Domain@@ Status@@ ))); org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ log.@@ d@@ ebug@@ ("@@ Stor@@ age do@@ ma@@ in stat@@ u@@ s '{}@@ ' f@@ et@@ ch@@ ed f@@ ro@@ m m@@ et@@ ad@@ at@@ a j@@ s@@ on fil@@ e for stor@@ age id '{}@@ '@@ .@@ ", storage@@ Status@@ , storageDomain@@ Id); if (@@ storage@@ Statu@@ s != null@@ ) { storage@@ Ex@@ tr@@ a@@ Data@@ .@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ (@@ storageDomain@@ Id, org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ Storage@@ , storageDomain@@ Id, storage@@ Status.@@ nam@@ e())); } }
private static void f@@ et@@ ch@@ Vms@@ Status@@ (org.ovirt.engine.core.compat.Guid storageDomain@@ Id, java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ > storage@@ Ex@@ tr@@ a@@ Data@@ , java.util.Map<java.lang.String, java.lang.Object> disk@@ Description@@ Map@@ ) { java.util.Map<java.lang.String, java.lang.String> vm@@ s@@ Statu@@ s = ((@@ java.util.Map<java.lang.String, java.lang.String@@ >) (disk@@ Description@@ Map@@ .get(@@ Ovf@@ Info@@ File@@ Constant@@ s.@@ Vm@@ Status@@ ))); if (vm@@ s@@ Statu@@ s == null@@ ) { org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ log.error@@ ("@@ VM@@ s stat@@ u@@ s c@@ oul@@ d not b@@ e f@@ et@@ ch@@ ed f@@ ro@@ m m@@ et@@ ad@@ at@@ a j@@ s@@ on fil@@ e for stor@@ age id '{}@@ '@@ .@@ ", storageDomain@@ Id); } else { for (java.lang.String vm@@ Id : vm@@ s@@ Status.@@ key@@ Set@@ ()) { org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ log.@@ d@@ ebug@@ ("@@ VM '{}@@ ' f@@ et@@ ch@@ ed f@@ ro@@ m m@@ et@@ ad@@ at@@ a j@@ s@@ on fil@@ e wit@@ h stat@@ u@@ s '{}@@ ' for stor@@ age do@@ ma@@ in id '{}@@ .@@ ", vm@@ Id, vm@@ s@@ Status@@ .get@@ (vm@@ Id@@ ), storageDomain@@ Id); storage@@ Ex@@ tr@@ a@@ Data@@ .@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Ovf@@ Ex@@ tr@@ a@@ Data@@ (@@ storageDomain@@ Id, org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ VM@@ , storageDomain@@ Id, vm@@ s@@ Status@@ .get@@ (vm@@ Id@@ ))); } } }
private void update@@ C@@ urrent@@ Configuration@@ () { final org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c updat@@ ed@@ Vm@@ Stati@@ c = new org.ovirt.engine.core.common.businessentities.Vm@@ Static@@ (org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ ().get@@ StaticData@@ ()); updat@@ ed@@ Vm@@ Static@@ .set@@ Mem@@ Size@@ M@@ b@@ (@@ updat@@ ed@@ Mem@@ or@@ y == null ? null : updat@@ ed@@ Vm@@ Static@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ M@@ in@@ Al@@ loc@@ ated@@ M@@ in@@ (@@ updat@@ ed@@ Memory@@ .get@@ M@@ in@@ Memory@@ ()); org.ovirt.engine.core.bll.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ Command.getVm@@ Manager@@ ().@@ updat@@ e(@@ updat@@ ed@@ Vm@@ Static@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Base parameter@@ s = new org.ovirt.engine.core.common.action.@@ StoragePool@@ Parameters@@ Bas@@ e(@@ org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ Ovf@@ Stor@@ e@@ For@@ StorageDomain@@ Command.get@@ StoragePool@@ Id()); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue action@@ ReturnValue = run@@ Internal@@ Action@@ (@@ ActionType.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StoragePool@@ , parameters@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ Ovf@@ Stor@@ e@@ For@@ StorageDomain@@ Command.get@@ Context@@ ()); if (!(@@ pro@@ c@@ cess@@ ed@@ Domain@@ s.@@ isEmpty())) { run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (@@ ActionType.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StorageDomain@@ , create@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ Domain@@ Param@@ s()); } org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ Ovf@@ Stor@@ e@@ For@@ StorageDomain@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private void on@@ Re@@ pl@@ ace@@ Confirmation@@ () { cancel@@ Confirmation@@ (); org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Re@@ pl@@ ace@@ Brick@@ Model re@@ pl@@ ace@@ Brick@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Re@@ pl@@ ace@@ Brick@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); if (@@ re@@ pl@@ ace@@ Brick@@ Model == null@@ ) { return@@ ; } if (!(@@ re@@ pl@@ ace@@ Brick@@ Model.@@ valid@@ at@@ e())) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ Entity = get@@ Entity@@ (); if (@@ volume@@ Entity == null@@ ) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity existing@@ B@@ r@@ ic@@ k = get@@ SelectedItem@@ (); if (@@ existing@@ B@@ r@@ ic@@ k == null@@ ) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ VDS ser@@ ve@@ r = re@@ pl@@ ace@@ Brick@@ Model.get@@ Server@@ s().get@@ SelectedItem@@ (); org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity new@@ B@@ r@@ ic@@ k = new org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity@@ (); new@@ Brick@@ .set@@ Volume@@ Id(@@ volume@@ Entity@@ .getId()); new@@ Brick@@ .set@@ Server@@ Id(@@ server@@ .getId()); new@@ Brick@@ .set@@ Server@@ Name(@@ server@@ .get@@ Host@@ Name()); new@@ Brick@@ .set@@ Brick@@ Direct@@ ory@@ (@@ re@@ pl@@ ace@@ Brick@@ Model.get@@ Brick@@ Direct@@ ory@@ ().getEntity@@ ()); re@@ pl@@ ace@@ Brick@@ Model.@@ st@@ art@@ Progress@@ (); org.ovirt.engine.core.common.action.@@ gluster.GlusterVolume@@ Re@@ pl@@ ace@@ Brick@@ Action@@ Parameters paramet@@ er = new org.ovirt.engine.core.common.action.@@ gluster.GlusterVolume@@ Re@@ pl@@ ace@@ Brick@@ Action@@ Parameters(@@ volume@@ Entity@@ .get@@ Id(), existing@@ Brick@@ , new@@ Brick@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ (@@ ActionType.@@ Re@@ pl@@ ace@@ GlusterVolume@@ Brick@@ , parameter@@ , "@@ N@@ U@@ pl@@ ace@@ GlusterVolume@@ Brick@@ Model loc@@ al@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ gluster.@@ Re@@ pl@@ ace@@ Brick@@ Model) (@@ result.get@@ Stat@@ e())); loc@@ al@@ Model.@@ st@@ op@@ Progress@@ (); set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); }
private void in@@ vo@@ ke@@ Host@@ Up@@ g@@ r@@ ad@@ e(@@ org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ , org.ovirt.engine.core.common.action.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Parameters parameters@@ ) { command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Uti@@ l.@@ execute@@ Async@@ Command(@@ ActionType.@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Internal@@ , create@@ Up@@ g@@ r@@ ad@@ e@@ Parameters(@@ parameters@@ ), command@@ .@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); }
private void s@@ yn@@ ch@@ ron@@ ize@@ Sel@@ ection@@ () { if (is@@ Sing@@ le@@ Sel@@ ection@@ Only@@ ()) { set@@ SelectedItem@@ (s@@ el@@ ection@@ Model.@@ as@@ Sing@@ le@@ Sel@@ ection@@ Model().get@@ Selected@@ Object@@ ()); } else { java.util.List<@@ T@@ > selected@@ Item@@ s = s@@ el@@ ection@@ Model.@@ as@@ Multi@@ Sel@@ ection@@ Model().get@@ Selected@@ List@@ (); set@@ SelectedItem@@ s(@@ selected@@ Item@@ s); if ((@@ selected@@ Item@@ s.@@ size()) == 1@@ ) { set@@ SelectedItem@@ (s@@ elected@@ Item@@ s.get@@ (0@@ )); } }
public void set@@ Sel@@ ection@@ Model@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ O@@ vi@@ r@@ t@@ Sel@@ ection@@ Model@@ <@@ T@@ > s@@ el@@ ection@@ Model) { this@@ .@@ s@@ el@@ ection@@ Model = s@@ el@@ ection@@ Model@@ ; if (!(@@ s@@ el@@ ection@@ Model@@ .is@@ Sing@@ le@@ Sel@@ ection@@ Only@@ ())) { s@@ el@@ ection@@ Model.@@ as@@ Multi@@ Sel@@ ection@@ Model@@ ().set@@ Data@@ Display@@ (@@ this@@ ); s@@ el@@ ection@@ Model.@@ as@@ Multi@@ Sel@@ ection@@ Model@@ ().set@@ Multi@@ Sel@@ ect@@ Enabled@@ (@@ true@@ ); }
@java.lang.Override public void on@@ Cl@@ ick@@ (c@@ om@@ .google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ ) { if ((@@ event.@@ get@@ Sourc@@ e()) instanceof org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ List@@ Group@@ Item@@ ) { org.ovirt.engine.ui.common.widget.@@ list@@ group@@ .@@ P@@ at@@ ter@@ n@@ f@@ ly@@ List@@ View@@ Item@@ <@@ T@@ > cl@@ ick@@ ed@@ I@@ t@@ e@@ m = null@@ ; for (@@ org.ovirt.engine.ui.common.widget.@@ list@@ group@@ .@@ P@@ at@@ ter@@ n@@ f@@ ly@@ List@@ View@@ Item@@ <@@ T@@ > it@@ e@@ m : current@@ St@@ ate@@ ) { if ((@@ item@@ .@@ as@@ List@@ Group@@ ()) == (@@ event.@@ get@@ Sourc@@ e())) { cl@@ ick@@ ed@@ I@@ t@@ e@@ m = item@@ ; break@@ ; } } if (@@ cl@@ ick@@ ed@@ I@@ t@@ e@@ m != null@@ ) { if (!(@@ event.@@ is@@ Cont@@ ro@@ l@@ Key@@ Down@@ ())) { s@@ el@@ ection@@ Model.@@ cl@@ e@@ ar@@ (); s@@ el@@ ection@@ Model@@ .set@@ Selected@@ (@@ cl@@ ick@@ ed@@ Item@@ .get@@ Entity@@ (), true@@ ); } else if (@@ event.@@ is@@ Cont@@ ro@@ l@@ Key@@ Down@@ ()) { s@@ el@@ ection@@ Model@@ .set@@ Sel@@ ected@@ (@@ cl@@ ick@@ ed@@ Item@@ .get@@ Entity@@ ()); } } }
private void pro@@ cess@@ Sel@@ ection@@ Changed@@ () { java.util.List<@@ T@@ > selected@@ Item@@ s = get@@ SelectedItem@@ s(); selected@@ In@@ dex@@ es.@@ cl@@ e@@ ar@@ (); model.get@@ Item@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ this@@ , item@@ ) -@@ > { if (s@@ elected@@ Item@@ s.@@ contains(@@ item@@ )) { selected@@ In@@ dex@@ es.@@ add(@@ model.get@@ Item@@ s@@ As@@ List@@ ().@@ in@@ dex@@ Of@@ (@@ item@@ )); } }); update@@ Info@@ Panel@@ (); }
public void set@@ Model@@ (@@ M model@@ ) { this@@ .@@ model = model@@ ; get@@ Model@@ ().@@ cl@@ e@@ ar@@ (); }
@java.lang.Override protected java.lang.String tr@@ an@@ s@@ for@@ m@@ (@@ java.util.ArrayList<@@ java.lang.String> fil@@ e@@ Name@@ List@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Rep@@ o@@ Image re@@ p@@ o@@ Image@@ ) { return ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Images@@ Data@@ Provider.@@ IS@@ O@@ _P@@ RE@@ FI@@ X@@ ) + (@@ super@@ .@@ tr@@ an@@ s@@ for@@ m@@ (@@ re@@ p@@ o@@ Image@@ )); }
public static void get@@ Un@@ k@@ n@@ ow@@ n@@ Image@@ List(@@ org.ovirt.engine.ui.frontend.Async@@ Query@@ <@@ java.util.List<@@ java.lang.String@@ >> aQuery@@ , org.ovirt.engine.core.compat.Guid storagePool@@ Id, boolean for@@ ce@@ Refresh@@ ) { org.ovirt.engine.core.common.queries.@@ Images@@ Data@@ Provider@@ .get@@ I@@ r@@ s@@ Image@@ List(@@ aQuery@@ , storagePool@@ Id, for@@ ce@@ Refresh@@ , Image@@ File@@ Type.@@ All@@ , new org.ovirt.engine.core.common.queries.@@ Images@@ Data@@ Provider.@@ Rep@@ o@@ Image@@ To@@ Image@@ File@@ Name@@ Async@@ Conver@@ ter@@ () { @java.lang.Override protected java.lang.String tr@@ an@@ s@@ for@@ m@@ (@@ java.util.ArrayList<@@ java.lang.String> fil@@ e@@ Name@@ List@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Rep@@ o@@ Image re@@ p@@ o@@ Image@@ ) { return (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider.@@ IS@@ O@@ _P@@ RE@@ FI@@ X@@ ) + (@@ super@@ .@@ tr@@ an@@ s@@ for@@ m@@ (@@ re@@ p@@ o@@ Image@@ )); } @java.lang.Override protected boolean d@@ es@@ ir@@ ed@@ Image@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Rep@@ o@@ Image re@@ p@@ o@@ Image@@ ) { return (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ File@@ Type.@@ Un@@ k@@ n@@ ow@@ n@@ ) == (@@ re@@ p@@ o@@ Image.get@@ File@@ Typ@@ e()); } }); }
public void add@@ Main@@ Cont@@ ent@@ View@@ (java.lang.String l@@ abel@@ , java.lang.String h@@ ist@@ ory@@ To@@ k@@ en@@ , java.lang.String cont@@ ent@@ U@@ r@@ l@@ , int pri@@ or@@ it@@ y@@ , boolean default@@ P@@ l@@ ac@@ e) { m@@ en@@ u@@ P@@ res@@ enter@@ Widget@@ .@@ add@@ M@@ en@@ u@@ Item@@ (@@ pri@@ or@@ ity@@ , l@@ abel@@ , h@@ ist@@ ory@@ To@@ k@@ en@@ ); d@@ ynam@@ ic@@ U@@ r@@ l@@ Cont@@ ent@@ Proxy@@ Fac@@ t@@ ory@@ .@@ c@@ re@@ ate(@@ h@@ ist@@ ory@@ To@@ k@@ en@@ , cont@@ ent@@ U@@ r@@ l@@ ); if (@@ default@@ P@@ l@@ ac@@ e && ((@@ pl@@ ace@@ Manager@@ ) instanceof org.ovirt.engine.ui.webadmin.@@ plac@@ e.@@ W@@ eb@@ Ad@@ min@@ P@@ l@@ ace@@ Manager@@ )) { ((@@ org.ovirt.engine.ui.webadmin.@@ plac@@ e.@@ W@@ eb@@ Ad@@ min@@ P@@ l@@ ace@@ Manager@@ ) (@@ pl@@ ace@@ Manager@@ )@@ .set@@ Default@@ P@@ l@@ ac@@ e(@@ h@@ ist@@ ory@@ To@@ k@@ en@@ ); } }
@@@ java.lang.@@ De@@ p@@ r@@ ec@@ ate@@ d public void add@@ Main@@ Tab@@ (java.lang.String l@@ abel@@ , java.lang.String h@@ ist@@ ory@@ To@@ k@@ en@@ , java.lang.String cont@@ ent@@ U@@ r@@ l@@ , org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ api.@@ Tab@@ Option@@ s o@@ ption@@ s) { add@@ Main@@ Cont@@ ent@@ View@@ (@@ l@@ abel@@ , h@@ ist@@ ory@@ To@@ k@@ en@@ , cont@@ ent@@ U@@ r@@ l@@ , o@@ ption@@ s.get@@ P@@ ri@@ or@@ ity@@ (), o@@ ption@@ s.get@@ Is@@ Default@@ P@@ l@@ ac@@ e()@@ .@@ boolean@@ Value(@@ ) ); }
@java.lang.Override public void on@@ User@@ Lo@@ gin@@ Chang@@ e(@@ org.ovirt.engine.ui.common.@@ auth@@ .@@ User@@ Lo@@ gin@@ Change@@ Event event@@ ) { final c@@ o@@ m@@ v@@ p@@ .@@ shared@@ .@@ pro@@ xy@@ .@@ P@@ l@@ ace@@ Re@@ quest fr@@ ag@@ ment@@ Re@@ quest = get@@ P@@ l@@ ace@@ From@@ F@@ r@@ ag@@ ent@@ (); if (@@ fr@@ ag@@ ment@@ Re@@ quest@@ Re@@ quest@@ Re@@ quest@@ ) { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ f@@ err@@ ed@@ ((@@ ) -@@ > re@@ ve@@ al@@ P@@ l@@ ace@@ (@@ fr@@ ag@@ ment@@ Re@@ quest@@ )); } else { re@@ ve@@ al@@ P@@ l@@ ac@@ e(@@ get@@ Default@@ Main@@ S@@ ection@@ P@@ l@@ ac@@ e()); } }
public java.lang.@@ B@@ oolean get@@ Is@@ Default@@ P@@ l@@ ac@@ e() { return get@@ Value@@ As@@ Boolean@@ ("@@ is@@ Default@@ P@@ l@@ ace@@ ", false@@ ); }
private boolean is@@ C@@ old@@ R@@ eb@@ oot@@ () { boolean c@@ old@@ R@@ eb@@ oo@@ t = ((org.ovirt.engine.core.bll.@@ R@@ eb@@ oot@@ VmCommand.getVm@@ ().is@@ Run@@ On@@ c@@ e()) && (!@@ (org.ovirt.engine.core.bll.@@ R@@ eb@@ oot@@ VmCommand.getVm@@ ().is@@ V@@ ol@@ ati@@ le@@ Run@@ ()))) || (org.ovirt.engine.core.bll.@@ R@@ eb@@ oot@@ VmCommand.getVm@@ ().is@@ N@@ ext@@ Run@@ Configuration@@ Exist@@ s()); log.@@ info@@ ("@@ R@@ eb@@ oot@@ VmCommand.getVm@@ ().is@@ V@@ ol@@ ati@@ l@@ y '{}@@ ' is p@@ er@@ for@@ min@@ g {@@ } re@@ b@@ oot@@ ; r@@ u@@ n on@@ ce@@ : '{}@@ '@@ , run@@ n@@ ing a@@ s '{}@@ '@@ , ha@@ s ne@@ x@@ t r@@ u@@ n config@@ ur@@ ation@@ : '{}@@ ' (c@@ old@@ R@@ eb@@ oo@@ t ? "@@ c@@ old@@ " : "@@ w@@ ar@@ m@@ "@@ ), org.ovirt.engine.core.bll.@@ R@@ eb@@ oot@@ VmCommand.getVm@@ ().is@@ Run@@ On@@ c@@ e(), org.ovirt.engine.core.bll.@@ R@@ eb@@ oot@@ VmCommand.getVm@@ ().is@@ V@@ ol@@ ati@@ le@@ Run@@ (), org.ovirt.engine.core.bll.@@ R@@ eb@@ oot@@ VmCommand.getVm@@ ().is@@ N@@ ext@@ Run@@ Configuration@@ Exist@@ s()); return c@@ old@@ R@@ eb@@ oo@@ t@@ ; }
private java.lang.Integ@@ er get@@ Qos@@ B@@ and@@ w@@ id@@ th@@ (org.ovirt.engine.core.compat.Guid cluster@@ Id) { final org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Network@@ Qo@@ s m@@ igr@@ ation@@ Host@@ Network@@ Qo@@ s = db@@ Facad@@ e.get@@ Host@@ Network@@ Qos@@ Dao().get@@ Host@@ Network@@ Qos@@ Of@@ Migr@@ ation@@ Network@@ By@@ Cluster@@ Id@@ (cluster@@ Id); if (@@ m@@ igr@@ ation@@ Host@@ Network@@ Qo@@ s == null@@ ) { return null@@ ; } if ((@@ m@@ igr@@ ation@@ Host@@ Network@@ Qos@@ .get@@ Out@@ A@@ ver@@ age@@ Re@@ al@@ tim@@ e()) != null@@ ) { return m@@ igr@@ ation@@ Host@@ Network@@ Qos@@ .get@@ Out@@ A@@ ver@@ age@@ Re@@ al@@ tim@@ e(); } return m@@ igr@@ ation@@ Host@@ Network@@ Qos@@ .get@@ Out@@ A@@ ver@@ age@@ Up@@ per@@ l@@ im@@ it@@ (); }
protected org.ovirt.engine.api.model.@@ Disk add@@ Link@@ s(@@ org.ovirt.engine.api.model.@@ Disk model, java.lang.@@ Class@@ <@@ ? extends org.ovirt.engine.api.model.@@ Base@@ Resource@@ > s@@ ug@@ g@@ est@@ ed@@ Parent@@ , java.lang.String.@@ .@@ . sub@@ Collection@@ Mem@@ b@@ ers@@ To@@ Ex@@ c@@ lu@@ de@@ ) { if ((@@ model.@@ isSet@@ Quota@@ ()) && (model.get@@ Quota@@ ().is@@ Set@@ Id@@ ())) { org.ovirt.engine.core.common.businessentities.@@ Qu@@ ot@@ a qu@@ ot@@ a = get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ Quota@@ .@@ class@@ , Query@@ Type.Get@@ Quota@@ By@@ Quota@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ as@@ Guid@@ (model.get@@ Quota@@ ().get@@ Id@@ ())@@ ), "@@ quota@@ "); model.get@@ Quota@@ ().set@@ DataCenter@@ (@@ new org.ovirt.engine.api.model.@@ DataCenter@@ ()); model.get@@ Quota@@ ().get@@ DataCenter@@ ().set@@ Id(@@ quota@@ .get@@ StoragePool@@ Id().@@ toString@@ ()); } org.ovirt.engine.api.model.@@ Disk dis@@ k = super@@ .@@ add@@ Link@@ s(@@ model, s@@ ug@@ g@@ est@@ ed@@ Parent@@ , sub@@ Collection@@ Mem@@ b@@ ers@@ To@@ Ex@@ c@@ lu@@ de@@ ); if (disk@@ .is@@ Set@@ StorageDomain@@ s()) { disk@@ .get@@ StorageDomain@@ s().get@@ StorageDomain@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( storageDomain@@ ) -@@ > org.ovirt.engine.api.restapi.@@ util.@@ Link@@ Helper.@@ add@@ Link@@ s(@@ storageDomain@@ , null@@ , false@@ )); } return disk@@ ; }
protected org.ovirt.engine.api.model.@@ Disk@@ s map@@ Collection@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > enti@@ ties@@ ) { org.ovirt.engine.api.model.@@ Disk@@ s c@@ oll@@ ec@@ tion = new org.ovirt.engine.api.model.@@ Disks@@ (); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk dis@@ k : enti@@ ties@@ ) { org.ovirt.engine.api.model.@@ Disk model = p@@ op@@ ul@@ ate(@@ map@@ (disk@@ ), disk@@ ); if ((@@ model.@@ isSet@@ Quota@@ ()) && (@@ dis@@ k instanceof org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ )) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage im@@ age = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ )); model.get@@ Quota@@ ().set@@ DataCenter@@ (@@ new org.ovirt.engine.api.model.@@ DataCenter@@ ()); model.get@@ Quota@@ ().get@@ DataCenter@@ ().set@@ Id(@@ im@@ age.get@@ StoragePool@@ Id().@@ toString@@ ()); } c@@ ollection@@ .get@@ Disks@@ ().@@ add(@@ add@@ Link@@ s(@@ model@@ )); } return c@@ ollection@@ ; }
private void s@@ el@@ ect@@ Row@@ (@@ int s@@ h@@ if@@ t@@ ) { if ((@@ selected@@ Set@@ .@@ isEmpty@@ ()) || ((@@ data@@ Display@@ ) == null@@ )) { return@@ ; } int s@@ h@@ if@@ t@@ Selected@@ R@@ o@@ w = (@@ l@@ ast@@ Selected@@ Row@@ ) + s@@ h@@ if@@ t@@ ; int ne@@ xt@@ R@@ o@@ w = (s@@ h@@ if@@ t@@ Selected@@ R@@ o@@ w > 0) ? s@@ h@@ if@@ t@@ Selected@@ R@@ o@@ w % (@@ data@@ Display@@ .get@@ Row@@ Count@@ ()) : s@@ h@@ if@@ t@@ Selected@@ R@@ o@@ w + (@@ data@@ Display@@ .get@@ Row@@ Count@@ ()); if (@@ dis@@ abl@@ ed@@ Row@@ s.@@ contains(@@ ne@@ xt@@ Row@@ )) { s@@ el@@ ect@@ Row@@ ((@@ s@@ h@@ if@@ t > 0 ? s@@ h@@ if@@ t + 1 : s@@ h@@ if@@ t - 1@@ )); return@@ ; } set@@ Selected@@ (@@ vi@@ si@@ bl@@ e@@ Item@@ s@@ As@@ List@@ ().get@@ (@@ ne@@ xt@@ Row@@ ), true@@ ); }
public org.ovirt.engine.core.bll.ValidationResult network@@ Name@@ Not@@ Us@@ ed@@ As@@ Vds@@ m@@ Name(@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > con@@ f@@ l@@ ic@@ t@@ ing@@ Network@@ s = get@@ DbFacad@@ e().get@@ Network@@ Dao().get@@ AllFor@@ DataCenter@@ (network@@ .get@@ DataCenter@@ Id@@ ()).@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( net@@ ) -@@ > !@@ (@@ net@@ .get@@ Id().@@ equals(@@ network@@ .getId@@ ())@@ )).@@ filter@@ (@@ ( net@@ ) -@@ > net@@ .get@@ Vds@@ m@@ Name()@@ .equals(@@ network@@ .getName()@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); if (@@ con@@ f@@ l@@ ic@@ t@@ ing@@ Network@@ s.@@ isEmpty@@ ()) { return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; } java.util.Collection@@ <java.lang.String@@ > name@@ Re@@ plac@@ ement@@ s = org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ re@@ pl@@ ace@@ With@@ ("@@ Con@@ f@@ l@@ ic@@ t@@ ing@@ Networks@@ ", con@@ f@@ l@@ ic@@ t@@ ing@@ Networks@@ ); name@@ Re@@ plac@@ ement@@ s.@@ add@@ (get@@ Network@@ Name@@ Re@@ plac@@ ement@@ ()); return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ NETWORK_@@ NAM@@ E_@@ US@@ ED_@@ A@@ S_@@ IN@@ TER@@ F@@ AC@@ E_@@ NAM@@ E@@ , name@@ Re@@ plac@@ ement@@ s); }
@org.junit.Test public void network@@ Name@@ T@@ a@@ k@@ en@@ By@@ Vds@@ m@@ Name(@@ ) { when(@@ network@@ .getName()@@ ).@@ then@@ Return@@ ("@@ vds@@ m@@ -@@ name@@ "); when(@@ network@@ .getId@@ ()).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ G@@ UID@@ ); org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ 2 = new org.ovirt.engine.core.common.businessentities.network.Network@@ (); network@@ 2@@ .set@@ Vds@@ m@@ Name("@@ vds@@ m@@ -@@ name@@ "); network@@ 2@@ .set@@ Id@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ O@@ TH@@ ER_@@ G@@ UID@@ ); when(@@ network@@ Dao@@ .get@@ AllFor@@ DataCenter@@ (@@ any@@ ())@@ ).@@ thenReturn(@@ java.util.Arrays.as@@ List(@@ network@@ , network@@ 2@@ )); assert@@ That@@ (@@ validator.@@ network@@ Name@@ Not@@ Us@@ ed@@ As@@ Vds@@ m@@ Name(), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ NETWORK_@@ NAM@@ E_@@ US@@ ED_@@ A@@ S_@@ IN@@ TER@@ F@@ AC@@ E_@@ NAM@@ E@@ )); }
@java.lang.Override protected java.lang.String get@@ C@@ ol@@ or@@ By@@ Progress@@ (@@ int pro@@ gress@@ ) { return org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Trans@@ fer@@ DiskImage@@ Progress@@ C@@ olum@@ n@@ .@@ c@@ ol@@ or.@@ as@@ Cod@@ e(); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.compat.Guid storageDomain@@ Id = org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ Ovf@@ Stor@@ e@@ For@@ StorageDomain@@ Command.get@@ StorageDomain@@ Id@@ (); org.ovirt.engine.core.common.action.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StorageDomain@@ Command.get@@ StorageDomain@@ Id()); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue action@@ ReturnValue = run@@ Internal@@ Action@@ (@@ ActionType.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StoragePool@@ , parameters@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ Ovf@@ Stor@@ e@@ For@@ StorageDomain@@ Command.get@@ Context@@ ()); java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > pro@@ c@@ cess@@ ed@@ Domain@@ s = action@@ ReturnValu@@ e.get@@ Action@@ ReturnValu@@ e(); if (((@@ action@@ ReturnValu@@ e.get@@ Succeeded@@ ()) && (@@ pro@@ c@@ cess@@ ed@@ Domain@@ s != null@@ )) && (@@ pro@@ c@@ cess@@ ed@@ Domain@@ s.@@ contains(@@ storageDomain@@ Id@@ ))) { run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (@@ ActionType.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StorageDomain@@ , create@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ Domain@@ Param@@ s()); } else { log.@@ info@@ ("@@ Th@@ e updat@@ e w@@ a@@ s ign@@ or@@ ed - n@@ oth@@ ing to updat@@ e for stor@@ age do@@ ma@@ in '{}@@ '@@ ", storageDomain@@ Id); } org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ Ovf@@ Stor@@ e@@ For@@ StorageDomain@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
protected void pro@@ c@@ cess@@ Domains@@ For@@ Ovf@@ Updat@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ Storage@@ Pool pool@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ > do@@ m@@ ain@@ s@@ In@@ Pool = storageDomain@@ Dao@@ .get@@ AllFor@@ StoragePool@@ (@@ pool@@ .getId()); for (org.ovirt.engine.core.common.businessentities.@@ StorageDomain do@@ ma@@ in : do@@ m@@ ain@@ s@@ In@@ Pool@@ ) { if ((!@@ (@@ do@@ m@@ ain@@ .get@@ StorageDomain@@ Typ@@ e().@@ is@@ Data@@ Domain@@ ())) || (@@ do@@ m@@ ain@@ .get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Acti@@ v@@ e())) && (!@@ (@@ do@@ m@@ ain@@ .get@@ Id().@@ equals(@@ org.ovirt.engine.core.bll.storage.@@ o@@ vf@@ stor@@ e.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StoragePool@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ()))) { continue@@ ; } acti@@ ve@@ Data@@ Domains@@ Id@@ s.@@ add@@ (@@ do@@ m@@ ain@@ .getId()); java.lang.Integ@@ er o@@ vf@@ Stor@@ es@@ Count@@ For@@ Domain = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ StorageDomain@@ Ovf@@ Stor@@ e@@ Count@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Ovf@@ Info@@ > storageDomain@@ Ovf@@ Info@@ s = storageDomain@@ Ovf@@ Info@@ Dao@@ .get@@ AllFor@@ Domain@@ (@@ do@@ m@@ ain@@ .getId()); if ((@@ storageDomain@@ Ovf@@ Info@@ s.@@ size()) < o@@ vf@@ Stor@@ es@@ Count@@ For@@ Domain@@ ) { pro@@ c@@ cess@@ ed@@ Domain@@ s.@@ add@@ (@@ do@@ m@@ ain@@ .getId()); continue@@ ; } for (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Ovf@@ In@@ f@@ o storageDomain@@ Ovf@@ In@@ f@@ o : storageDomain@@ Ovf@@ Info@@ s) { if ((@@ storageDomain@@ Ovf@@ Info@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Ovf@@ Info@@ Status.@@ O@@ U@@ T@@ D@@ AT@@ ED@@ )) { pro@@ c@@ cess@@ ed@@ Domain@@ s.add(@@ storageDomain@@ Ovf@@ Info@@ .get@@ StorageDomain@@ Id()); break@@ ; } } }
public static org.ovirt.engine.api.model.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or map@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ (@@ org.ovirt.engine.api.model.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ ) { if (@@ res@@ um@@ e@@ Be@@ ha@@ vi@@ or == null@@ ) { return null@@ ; } switch (@@ res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ ) { case A@@ U@@ T@@ O@@ _@@ RE@@ S@@ U@@ M@@ E : return org.ovirt.engine.api.model.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ ; case LE@@ A@@ V@@ E_@@ P@@ A@@ U@@ SE@@ D : return org.ovirt.engine.api.model.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ ; case K@@ I@@ L@@ L : return org.ovirt.engine.api.model.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ ; default : throw new java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ ("@@ Un@@ k@@ n@@ ow@@ n res@@ um@@ e b@@ e@@ ha@@ vi@@ or \@@ "@@ " + res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ ) + "@@ \@@ "@@ ")); }
public static org.ovirt.engine.api.model.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or map@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ (org.ovirt.engine.core.common.businessentities.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ ) { if (@@ res@@ um@@ e@@ Be@@ ha@@ vi@@ or == null@@ ) { return null@@ ; } switch (@@ res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ ) { case A@@ U@@ T@@ O@@ _@@ RE@@ S@@ U@@ M@@ E : return org.ovirt.engine.api.model.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or.@@ A@@ U@@ T@@ O@@ _@@ RE@@ S@@ U@@ M@@ E@@ ; case LE@@ A@@ V@@ E_@@ P@@ A@@ U@@ SE@@ D : return org.ovirt.engine.api.model.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or.@@ LE@@ A@@ V@@ E_@@ P@@ A@@ US@@ ED@@ ; case K@@ I@@ L@@ L : return org.ovirt.engine.api.model.@@ Res@@ um@@ e@@ Be@@ ha@@ vi@@ or.@@ K@@ I@@ L@@ ; default : throw new java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ ("@@ Un@@ k@@ n@@ ow@@ n res@@ um@@ e b@@ e@@ ha@@ vi@@ or \@@ "@@ " + res@@ um@@ e@@ Be@@ ha@@ vi@@ or@@ ) + "@@ \@@ "@@ ")); } }
private void log@@ No@@ Device@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Memory@@ Devic@@ es) { final org.ovirt.engine.core.common.@@ AuditLog@@ Type mess@@ age = (vm@@ Memory@@ Devic@@ es.@@ isEmpty@@ ()) ? org.ovirt.engine.core.common.@@ AuditLogType.@@ NO@@ _M@@ EM@@ OR@@ Y_@@ DE@@ V@@ IC@@ E_@@ T@@ O@@ _@@ HO@@ T_@@ UN@@ P@@ LU@@ G : org.ovirt.engine.core.common.@@ AuditLogType.@@ NO@@ _@@ S@@ U@@ I@@ T@@ AB@@ LE@@ _M@@ EM@@ OR@@ Y_@@ DE@@ V@@ IC@@ E_@@ T@@ O@@ _@@ HO@@ T_@@ UN@@ P@@ LU@@ G@@ ; if (!(@@ vm@@ Memory@@ Devic@@ es.@@ isEmpty())) { final int or@@ i@@ gin@@ al@@ Memory@@ M@@ b = org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ ().get@@ Mem@@ Size@@ M@@ b@@ (); org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ add@@ Custom@@ Value(@@ org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ OL@@ D@@ _M@@ EM@@ OR@@ Y@@ _M@@ B@@ , java.lang.String.@@ value@@ Of@@ (@@ or@@ i@@ gin@@ al@@ Memory@@ M@@ b@@ )); add@@ Custom@@ Value(@@ org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _@@ N@@ E@@ W@@ _M@@ EM@@ OR@@ Y@@ _M@@ B@@ , java.lang.String.@@ value@@ Of@@ (org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.getParameters().get@@ Vm@@ ().get@@ Mem@@ Size@@ M@@ b@@ ())); final java.lang.String un@@ p@@ lug@@ Option@@ s = vm@@ Memory@@ Devic@@ es.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ VmDevice@@ C@@ ommon@@ Util@@ s@@ :@@ is@@ Memory@@ Device@@ H@@ ot@@ Un@@ p@@ lug@@ g@@ able@@ ).@@ map@@ (@@ ( devi@@ ce@@ -@@ > org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ Size@@ Of@@ Memory@@ Device@@ M@@ b@@ (@@ devi@@ ce@@ ).get@@ ()).@@ map@@ (@@ ("@@ %@@ d@@ M@@ B@@ )@@ ", devi@@ ce@@ Size@@ , mem@@ ory@@ A@@ f@@ ter@@ H@@ ot@@ Un@@ p@@ lug@@ (@@ or@@ i@@ gin@@ al@@ Memory@@ M@@ b@@ , devi@@ ce@@ Size@@ )@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ , org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ add@@ Custom@@ Value(@@ org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ A@@ U@@ D@@ I@@ T_@@ LO@@ G@@ _M@@ EM@@ OR@@ Y_@@ HO@@ T_@@ UN@@ P@@ LU@@ G@@ _@@ O@@ P@@ TI@@ ON@@ S@@ , un@@ p@@ lug@@ Option@@ s); } a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , message@@ ); }
public static boolean is@@ Memory@@ Device@@ H@@ ot@@ Un@@ p@@ lug@@ g@@ able(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e mem@@ ory@@ Device@@ ) { if (!(@@ org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Utils.@@ is@@ Memory@@ (@@ mem@@ ory@@ Device@@ ))) { throw new java.lang.@@ Run@@ time@@ Exception@@ ((@@ ("@@ Mem@@ or@@ y devi@@ c@@ e exp@@ ected b@@ u@@ t devi@@ c@@ e " + mem@@ ory@@ Device@@ ) + " ob@@ t@@ ain@@ ed@@ .@@ ")); } return (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ Sp@@ ec@@ Param@@ s@@ Int@@ Value(@@ mem@@ ory@@ Device@@ , org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Utils.@@ SP@@ EC@@ _P@@ AR@@ A@@ M@@ _@@ SI@@ Z@@ E@@ ).@@ is@@ P@@ resent@@ ()) && (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ Sp@@ ec@@ Param@@ s@@ Int@@ Value(@@ mem@@ ory@@ Device@@ , org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Utils.@@ SP@@ EC@@ _P@@ AR@@ A@@ M@@ _@@ N@@ OD@@ E@@ ).@@ is@@ P@@ resent@@ ()); }
private void h@@ ot@@ Un@@ p@@ lug@@ Memory@@ (org.ovirt.engine.core.common.businessentities.@@ VM new@@ Vm@@ ) { final org.ovirt.engine.core.common.businessentities.VM vm@@ From@@ D@@ b = org.ovirt.engine.core.bll.@@ Update@@ VmCommand.getVm@@ (); final java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Memory@@ Device@@ s = vm@@ Device@@ Dao@@ .get@@ VmDevice@@ By@@ Vm@@ Id@@ Type@@ And@@ Devic@@ e(@@ getVm@@ Id(), VmDevice@@ Gener@@ al@@ Type.@@ M@@ EM@@ OR@@ Y@@ , VmDevice@@ Type.@@ M@@ EM@@ OR@@ Y@@ ); final org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e mem@@ ory@@ Device@@ To@@ Un@@ p@@ lu@@ g = com@@ put@@ e@@ Memory@@ Device@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ (vm@@ Memory@@ Devic@@ es@@ ); final int old@@ Memory@@ M@@ b = vm@@ From@@ Db@@ .get@@ Mem@@ Size@@ M@@ b@@ (); final int old@@ M@@ in@@ Memory@@ M@@ b = vm@@ From@@ Db@@ .get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (); if (@@ mem@@ ory@@ Device@@ To@@ Un@@ p@@ lu@@ g == null@@ ) { log@@ No@@ Device@@ To@@ H@@ ot@@ Un@@ p@@ lug@@ (vm@@ Memory@@ Devic@@ es@@ ); new@@ Vm@@ Static@@ .set@@ Mem@@ Size@@ M@@ b@@ (@@ old@@ Memory@@ M@@ b@@ ); new@@ Vm@@ Static@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (@@ old@@ M@@ in@@ Memory@@ M@@ b@@ ); return@@ ; } final org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue h@@ ot@@ Un@@ p@@ lug@@ ReturnValue = run@@ Internal@@ Action@@ (@@ ActionType.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ With@@ out@@ Vm@@ Update@@ , new org.ovirt.engine.core.common.action.@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ With@@ out@@ Vm@@ Update@@ Parameters(@@ mem@@ ory@@ Device@@ To@@ Un@@ p@@ lu@@ g.@@ get@@ Id(), new@@ Vm@@ .get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ()), org.ovirt.engine.core.bll.@@ Update@@ Vm@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); if (!(@@ vm@@ From@@ Db@@ .is@@ Host@@ ed@@ Engin@@ e())) { final int mem@@ ory@@ Device@@ Size@@ M@@ b = org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ Size@@ M@@ b@@ (@@ mem@@ ory@@ Device@@ To@@ Un@@ p@@ lug@@ ).get@@ (); final int mem@@ ory@@ A@@ f@@ ter@@ H@@ ot@@ Un@@ p@@ lug@@ M@@ b = old@@ Memory@@ ; new@@ Vm@@ Static@@ .set@@ Mem@@ Size@@ M@@ b@@ ((@@ h@@ ot@@ Un@@ p@@ lug@@ ReturnValu@@ e.get@@ Succeeded@@ () ? mem@@ ory@@ A@@ f@@ ter@@ H@@ ot@@ Un@@ p@@ lug@@ M@@ b : old@@ Memory@@ )); new@@ Vm@@ Static@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ((@@ h@@ ot@@ Un@@ p@@ lug@@ ReturnValu@@ e.get@@ Succeeded@@ () ? new@@ Vm@@ .get@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ () : old@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ ())); } }
@java.lang.Override public void run@@ For@@ S@@ 3@@ 9@@ 0@@ () { disk@@ In@@ de@@ x = 0@@ ; }
@java.lang.Override public void run@@ For@@ S@@ 3@@ 9@@ 0@@ () { has@@ Max@@ im@@ u@@ m = (org.ovirt.engine.core.bll.@@ Vm@@ Command.@@ M@@ A@@ X@@ _@@ V@@ I@@ R@@ TI@@ O@@ _C@@ C@@ W@@ _@@ DIS@@ K@@ S@@ ) == (c@@ ount@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ )); }
void run@@ For@@ S@@ 3@@ 9@@ 0@@ ();
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type get@@ Ar@@ ch@@ it@@ ect@@ ur@@ e() { return org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ p@@ pc@@ 6@@ 4@@ ; }
@java.lang.Override public <@@ T extends org.ovirt.engine.core.utils.@@ arch@@ it@@ ect@@ ure@@ .@@ Ar@@ ch@@ Command@@ > T run@@ And@@ Det@@ ach@@ From@@ Parent@@ () { return execute@@ Command@@ ; }
@java.lang.Override public java.lang.String get@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ Host@@ Device@@ Vi@@ e@@ w object@@ ) { return (@@ object.get@@ M@@ de@@ v@@ Typ@@ es@@ ()) == null ? "@@ " : java.lang.String.@@ j@@ o@@ in@@ ("@@ M@@ de@@ v@@ Typ@@ es@@ ", object.get@@ M@@ de@@ v@@ Typ@@ es@@ ()); }
public static java.lang.@@ Do@@ ubl@@ e get@@ per@@ cent@@ 2@@ b@@ it@@ s(@@ java.lang.Integ@@ er sp@@ e@@ ed@@ Value@@ In@@ M@@ eg@@ a@@ B@@ it@@ s, java.lang.@@ Do@@ ubl@@ e r@@ x@@ T@@ x@@ Value@@ In@@ P@@ r@@ ec@@ ent@@ ) { if ((@@ sp@@ e@@ ed@@ Value@@ In@@ M@@ eg@@ a@@ B@@ it@@ s == null@@ ) || (@@ r@@ x@@ T@@ x@@ Value@@ In@@ P@@ r@@ ec@@ ent == null@@ )) { return 0@@ .@@ 0@@ ; } return (s@@ p@@ e@@ ed@@ Value@@ In@@ M@@ eg@@ a@@ B@@ it@@ s * r@@ x@@ T@@ x@@ Value@@ In@@ P@@ r@@ ec@@ ent@@ ) / 1@@ 00@@ ; }
@org.junit.Test public void test@@ Default@@ R@@ out@@ e@@ W@@ h@@ en@@ Out@@ Of@@ Sync@@ On@@ O@@ l@@ der@@ Cluster@@ () { c@@ luster.@@ set@@ CompatibilityVersion@@ (@@ Version@@ .@@ v@@ 4@@ _@@ 1@@ ); network@@ .set@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (s@@ am@@ ple@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ); assert@@ That@@ (c@@ reate@@ Test@@ ed@@ In@@ stance@@ (@@ true@@ , s@@ am@@ ple@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ).@@ is@@ Network@@ In@@ Sync@@ (), is@@ (@@ false@@ )); }
public static boolean default@@ R@@ out@@ e@@ Support@@ ed(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion version@@ ) { return Version@@ .@@ v@@ 4@@ _@@ 2@@ .@@ l@@ ess@@ Or@@ E@@ quals(@@ version@@ ); }
@java.lang.Override protected boolean can@@ Edit@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Cluster@@ Network@@ Model cluster@@ Network@@ Model) { org.ovirt.engine.core.compat.@@ Vers@@ ion cluster@@ Vers@@ ion = cluster@@ Network@@ Model.get@@ Cluster@@ ().get@@ CompatibilityVersion@@ (); boolean default@@ R@@ out@@ e@@ Support@@ ed = Version@@ .@@ v@@ 4@@ _@@ 2@@ .@@ l@@ ess@@ Or@@ E@@ quals(@@ cluster@@ Version@@ ); return (@@ default@@ R@@ out@@ e@@ Support@@ ed && (cluster@@ Network@@ Model@@ .is@@ Attached@@ ())) && (!@@ (cluster@@ Network@@ Model@@ .is@@ External@@ ()))) && ((@@ (!(@@ is@@ Multiple@@ Sel@@ ection@@ Allow@@ ed@@ ())) || (!@@ (cluster@@ Network@@ Model@@ .is@@ Management@@ ()))) || (!@@ (cluster@@ Network@@ Model.get@@ O@@ ri@@ gin@@ al@@ Network@@ Cluster@@ ().is@@ Default@@ R@@ out@@ e()@@ ))); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (@@ ob@@ j == null@@ ) { return false@@ ; } if ((get@@ Class@@ ()) != (@@ obj@@ .get@@ Class@@ ())) { return false@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er oth@@ er = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ fer@@ ) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((@@ command@@ s.@@ equals(@@ command@@ Id, oth@@ er.@@ command@@ Id@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ p@@ has@@ e@@ , oth@@ er.@@ p@@ e@@ ))) && (@@ typ@@ e) == (@@ oth@@ er.@@ type@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ l@@ ast@@ Updat@@ ed@@ , oth@@ er.@@ l@@ ast@@ Updat@@ ed@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ message@@ , oth@@ er.@@ message@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vds@@ Id, oth@@ er.@@ vds@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Id, oth@@ er.@@ disk@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ image@@ d@@ T@@ ick@@ et@@ Id, oth@@ er.@@ image@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ pro@@ xy@@ U@@ ri@@ , oth@@ er.@@ pro@@ xy@@ U@@ ri@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ s@@ ign@@ ed@@ T@@ ick@@ et@@ , oth@@ er.@@ s@@ ign@@ ed@@ T@@ ick@@ et@@ ))) && (@@ java.util.@@ Object@@ s.@@ e@@ qual@@ s@@ (@@ byte@@ s@@ S@@ ent@@ , oth@@ er@@ .@@ byte@@ s@@ T@@ otal@@ )); }
private void p@@ oll@@ Down@@ load@@ Status@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ <@@ T@@ >@@ .@@ St@@ ate@@ Cont@@ ex@@ t cont@@ ext@@ ) { org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue return@@ Valu@@ e = run@@ Internal@@ Action@@ (@@ ActionType.@@ Trans@@ fer@@ Image@@ Status@@ , new org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ Image@@ Status@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id@@ ())); if (@@ return@@ Valu@@ e != null@@ ) && (@@ return@@ Valu@@ e.get@@ Succeeded@@ ())) { org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er image@@ Trans@@ f@@ er = return@@ Valu@@ e.get@@ Action@@ ReturnValu@@ e(); if ((((@@ image@@ Trans@@ fer@@ .get@@ By@@ t@@ es@@ T@@ otal@@ ()) != null@@ ) && (@@ image@@ Trans@@ fer@@ .get@@ By@@ t@@ es@@ T@@ otal@@ ().@@ equals(@@ image@@ Trans@@ fer@@ .get@@ By@@ t@@ es@@ S@@ ent@@ ()))) && (!(@@ image@@ Trans@@ fer@@ .get@@ Acti@@ v@@ e()@@ ))) { if (!(@@ cont@@ ext.@@ entity.get@@ Acti@@ v@@ e())) { org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er update@@ s = new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ (); updat@@ es.@@ set@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ F@@ IN@@ AL@@ I@@ Z@@ ING@@ _@@ S@@ U@@ C@@ C@@ C@@ C@@ E@@ SS@@ ); org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ Image@@ Status@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ Image@@ Status@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); parameters.set@@ Updat@@ es(@@ updat@@ es@@ ); run@@ Internal@@ Action@@ (@@ ActionType.@@ Trans@@ fer@@ Image@@ Status@@ , parameters@@ ); } } }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (@@ ob@@ j == null@@ ) { return false@@ ; } if ((get@@ Class@@ ()) != (@@ obj@@ .get@@ Class@@ ())) { return false@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er oth@@ er = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ fer@@ ) (@@ obj@@ )); return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((@@ command@@ s.@@ equals(@@ command@@ Id, oth@@ er.@@ command@@ Id@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ p@@ has@@ e@@ , oth@@ er.@@ p@@ e@@ ))) && ((@@ typ@@ e) == (@@ oth@@ er.@@ type@@ ))) && (@@ java.util.@@ Object@@ s.@@ e@@ qual@@ s@@ (@@ acti@@ ve@@ , oth@@ er.@@ acti@@ ve@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ l@@ ast@@ Updat@@ ed@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ message@@ , oth@@ er.@@ message@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vds@@ Id, oth@@ er.@@ vds@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Id, oth@@ er.@@ disk@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ image@@ d@@ T@@ ick@@ et@@ Id, oth@@ er.@@ image@@ T@@ ick@@ et@@ Id@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ pro@@ xy@@ U@@ ri@@ , oth@@ er.@@ pro@@ xy@@ U@@ ri@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ s@@ ign@@ ed@@ T@@ ick@@ et@@ , oth@@ er.@@ s@@ ign@@ ed@@ T@@ ick@@ et@@ ))) && (@@ java.util.@@ Object@@ s.@@ e@@ qual@@ s@@ (@@ byte@@ s@@ S@@ ent@@ , oth@@ er@@ .@@ byte@@ s@@ S@@ ent@@ ))) && (@@ java.util.@@ Object@@ s.@@ e@@ qual@@ s@@ T@@ otal@@ , oth@@ er@@ .@@ byte@@ s@@ T@@ otal@@ )); }
private void handl@@ e@@ Trans@@ fer@@ ring@@ (@@ final org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ <@@ T@@ >@@ .@@ St@@ ate@@ Cont@@ ex@@ t cont@@ ext@@ ) { if ((@@ cont@@ ext.@@ it@@ er@@ ation@@ Tim@@ est@@ am@@ p@@ ) >@@ = ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Session@@ Exp@@ ir@@ ation@@ ()) - (get@@ Host@@ T@@ ick@@ et@@ Refresh@@ Allow@@ anc@@ e()@@ ))) { log.@@ info@@ ("@@ Trans@@ fer@@ ing trans@@ f@@ er tic@@ ke@@ t for {@@ } get@@ Trans@@ fer@@ Description@@ ()); boolean ex@@ tend@@ ed = ex@@ tend@@ Image@@ Trans@@ fer@@ Session@@ (@@ cont@@ ext.@@ entity@@ ); if (!@@ ex@@ tend@@ Succeeded@@ ) { log.@@ info@@ ("@@ Fail@@ ed to r@@ e@@ new trans@@ f@@ er tic@@ ke@@ t for {@@ } get@@ Trans@@ fer@@ Description@@ ()); if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Parameters@@ ().is@@ Ex@@ tend@@ T@@ ick@@ et@@ Fail@@ ed@@ ()) { update@@ Entity@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ P@@ A@@ US@@ ED_@@ S@@ Y@@ ST@@ EM@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Parameters@@ ().set@@ Ex@@ tend@@ T@@ ick@@ et@@ Fail@@ ed@@ (@@ false@@ ); } org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Parameters@@ ().set@@ Ex@@ tend@@ T@@ ick@@ et@@ Fail@@ ed@@ (@@ true@@ ); } else { log.@@ d@@ ebug@@ ("@@ Fail@@ ed y@@ e@@ t r@@ e@@ new@@ ing trans@@ f@@ er tic@@ ke@@ t for {@@ } get@@ Trans@@ fer@@ Description@@ ()); } res@@ et@@ Per@@ i@@ od@@ ic@@ Pa@@ us@@ e@@ Log@@ Tim@@ e(@@ 0@@ ); }
public boolean is@@ Ex@@ tend@@ T@@ ick@@ et@@ Fail@@ ed@@ () { return ex@@ tend@@ T@@ ick@@ et@@ Fail@@ ed@@ ; }
public void set@@ Ex@@ tend@@ T@@ ick@@ et@@ Fail@@ ed@@ (@@ boolean ex@@ tend@@ T@@ ick@@ et@@ Fail@@ ed@@ ) { this@@ .@@ ex@@ tend@@ T@@ ick@@ et@@ Fail@@ ed = ex@@ tend@@ T@@ ick@@ et@@ Fail@@ ed@@ ; }
private static org.ovirt.engine.core.common.utils.@@ Pa@@ i@@ r n@@ one@@ And@@ Non@@ e() { org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); java.lang.String exp@@ ected@@ Out@@ pu@@ t = "@@ {}@@ "@@ ; return new org.ovirt.engine.core.common.utils.Pair@@ (vm@@ Init@@ , exp@@ ected@@ Out@@ put@@ ); }
private void stor@@ e@@ Network@@ () throw@@ s java.io.@@ Un@@ support@@ ed@@ En@@ c@@ od@@ ing@@ Exception { if ((@@ source@@ ) == null@@ ) { return@@ ; } org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ .@@ N@@ et@@ Config@@ Source@@ ); }
private static org.ovirt.engine.core.common.utils.@@ Pa@@ i@@ r d@@ h@@ c@@ p@@ I@@ P@@ v@@ 6@@ () { final org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network un@@ der@@ Test = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network@@ (); un@@ der@@ Test.@@ set@@ Name(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ F@@ AC@@ E_@@ NAM@@ E); un@@ der@@ Test.@@ set@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ (@@ Ip@@ v@@ 6@@ Boot@@ Protoc@@ o@@ l.@@ D@@ H@@ C@@ P@@ ); org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); vm@@ In@@ it.@@ set@@ Network@@ s(@@ java.util.Arrays.as@@ List(@@ un@@ der@@ Test@@ )); java.lang.String exp@@ ected@@ Out@@ pu@@ t = "@@ {@@ \@@ n@@ " + ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ " \@@ "@@ lin@@ k@@ s@@ \@@ "@@ : [@@ \@@ n@@ " + " {@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ "@@ id@@ \@@ "@@ : \@@ "@@ if@@ ac@@ e name@@ \@@ "@@ ,@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ "@@ ,@@ \@@ n@@ ") + " \@@ "@@ name@@ \@@ "@@ : \@@ n@@ ") + " st@@ y@@ y@@ ") + " }@@ \@@ n@@ ") + " ]@@ ,@@ \@@ n@@ ") + " \@@ "@@ network@@ s@@ \@@ "@@ : [@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " {@@ \@@ "@@ id@@ \@@ "@@ : \@@ "@@ if@@ ac@@ e name@@ \@@ "@@ ,@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ "@@ type@@ \@@ n@@ ") + " \@@ "@@ : \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " st@@ h@@ id@@ \@@ "@@ }@@ \@@ n@@ ") + " st@@ h@@ id@@ \@@ "@@ }@@ \@@ n@@ ") + "@@ }@@ \@@ n@@ ") + (vm@@ Init@@ , exp@@ ected@@ Out@@ put@@ ); }
private static org.ovirt.engine.core.common.utils.@@ Pa@@ i@@ r static@@ I@@ P@@ v@@ 6@@ () { final org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network un@@ der@@ Test = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network@@ (); un@@ der@@ Test.@@ set@@ Name(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ F@@ AC@@ E_@@ NAM@@ E); un@@ der@@ Test.@@ set@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ (@@ Ip@@ v@@ 6@@ Boot@@ Protoc@@ o@@ l.@@ ST@@ A@@ TI@@ C@@ _@@ I@@ P@@ ); un@@ der@@ Test.@@ set@@ Ip@@ v@@ 6@@ Address@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ P@@ V@@ 6@@ _@@ AD@@ D@@ RE@@ SS@@ ); un@@ der@@ Test.@@ set@@ Ip@@ v@@ 6@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ P@@ V@@ 6@@ _P@@ RE@@ FI@@ X@@ ); un@@ der@@ Test.@@ set@@ Ip@@ v@@ 6@@ G@@ ate@@ w@@ ay@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ P@@ V@@ 6@@ _@@ G@@ AT@@ E@@ W@@ A@@ Y@@ ); org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); vm@@ In@@ it.@@ set@@ Network@@ s(@@ java.util.Arrays.as@@ List(@@ un@@ der@@ Test@@ )); java.lang.String exp@@ ected@@ Out@@ pu@@ t = "@@ {@@ \@@ n@@ " + ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((@@ (((@@ " \@@ "@@ lin@@ k@@ s@@ \@@ "@@ : [@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ "@@ id@@ \@@ "@@ id@@ \@@ "@@ : \@@ "@@ ,@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ "@@ )) + " lin@@ k@@ s@@ \@@ "@@ : [@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " {@@ \@@ "@@ id@@ \@@ "@@ : \@@ "@@ \@@ "@@ if@@ ac@@ e name@@ \@@ "@@ ,@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ "@@ ,@@ \@@ n@@ ") + " \@@ "@@ : \@@ n@@ ") + " \@@ "@@ ,@@ \@@ n@@ ") + " st@@ v@@ 6@@ \@@ "@@ }@@ \@@ n@@ ") + " st@@ st@@ st@@ -@@ \@@ "@@ : \@@ "@@ -@@ \@@ "@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ -@@ \@@ n@@ ") + " + exp@@ ected@@ )@@ \@@ n@@ ") + exp@@ ected@@ Out@@ put@@ ) + " }@@ \@@ n@@ ") + exp@@ ected@@ Out@@ put@@ ) + " }@@ \@@ n@@ ") + " }@@ \@@ n@@ ") + exp@@ ected@@ Out@@ put@@ ) + " }@@ \@@ n@@ ") + exp@@ ected@@ Out@@ put@@ ) + exp@@ ected@@ Out@@ put@@ ) + " sh@@ oul@@ d st@@ ate@@ w@@ ay@@ .@@ nam@@ e.@@ ")); return new org.ovirt.engine.core.common.utils.Pair@@ (vm@@ Init@@ (@@ exp@@ ected@@ Out@@ put@@ (@@ exp@@ ected@@ Out@@ put@@ ); }
private static org.ovirt.engine.core.common.utils.@@ Pa@@ i@@ r static@@ I@@ P@@ v@@ 6@@ Address@@ Only@@ () { final org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network un@@ der@@ Test = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network@@ (); un@@ der@@ Test.@@ set@@ Name(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ F@@ AC@@ E_@@ NAM@@ E); un@@ der@@ Test.@@ set@@ Ip@@ v@@ 6@@ Boot@@ Protocol@@ (@@ Ip@@ v@@ 6@@ Boot@@ Protoc@@ o@@ l.@@ ST@@ A@@ TI@@ C@@ _@@ I@@ P@@ ); un@@ der@@ Test.@@ set@@ Ip@@ v@@ 6@@ Address@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ P@@ V@@ 6@@ _@@ AD@@ D@@ RE@@ SS@@ ); org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); vm@@ In@@ it.@@ set@@ Network@@ s(@@ java.util.Arrays.as@@ List(@@ un@@ der@@ Test@@ )); java.lang.String exp@@ ected@@ Out@@ pu@@ t = "@@ {@@ \@@ n@@ " + ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ " \@@ "@@ lin@@ k@@ s@@ \@@ "@@ : [@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ "@@ id@@ \@@ "@@ : \@@ "@@ ,@@ \@@ n@@ ") + " \@@ "@@ name@@ \@@ "@@ : \@@ "@@ \@@ "@@ name@@ \@@ "@@ }@@ \@@ "@@ }@@ \@@ n@@ ") + " ]@@ ,@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " {@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + "@@ id@@ \@@ "@@ ))); return new org.ovirt.engine.core.common.utils.Pair@@ (vm@@ Init@@ , exp@@ ected@@ Out@@ put@@ ); }
@org.junit.Test public void test@@ () throw@@ s java.io.@@ I@@ O@@ Exception { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handl@@ er un@@ der@@ Test = new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ (vm@@ Init@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler.@@ N@@ et@@ Config@@ Source@@ Protoc@@ o@@ l.@@ O@@ P@@ EN@@ ST@@ AC@@ K@@ _M@@ ET@@ AD@@ AT@@ A@@ ); final java.util.Map<java.lang.String, byte@@ []@@ > act@@ u@@ al = un@@ der@@ Tes@@ t.get@@ File@@ Data@@ (); java.util.Map<java.lang.String, java.lang.Object> act@@ u@@ al@@ Network@@ Data = par@@ se@@ Result@@ (@@ act@@ u@@ al@@ ); java.util.Map<java.lang.String, java.lang.Object> exp@@ ected@@ Network@@ Data = org.ovirt.engine.core.utils.@@ J@@ son@@ Helper.@@ json@@ To@@ Map@@ (@@ exp@@ ected@@ ); assert@@ E@@ quals(@@ exp@@ ected@@ Network@@ Data@@ , act@@ u@@ al@@ Network@@ Data@@ ); }
private static org.ovirt.engine.core.common.utils.@@ Pa@@ i@@ r d@@ h@@ c@@ p@@ I@@ P@@ v@@ 4@@ () { final org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network un@@ der@@ Test = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network@@ (); un@@ der@@ Test.@@ set@@ Name(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ F@@ AC@@ E_@@ NAM@@ E); un@@ der@@ Test.@@ set@@ Boot@@ Protocol@@ (@@ Ip@@ v@@ 4@@ Boot@@ Protoc@@ o@@ l.@@ D@@ H@@ C@@ P@@ ); org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); vm@@ In@@ it.@@ set@@ Network@@ s(@@ java.util.Arrays.as@@ List(@@ un@@ der@@ Test@@ )); java.lang.String exp@@ ected@@ Out@@ pu@@ t = "@@ {@@ \@@ n@@ " + ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ "@@ \@@ "@@ lin@@ k@@ s@@ \@@ "@@ : [@@ \@@ n@@ " + " {@@ \@@ n@@ ") + " \@@ "@@ id@@ \@@ "@@ : \@@ "@@ \@@ "@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ "@@ name@@ \@@ "@@ : \@@ "@@ if@@ ac@@ e name@@ \@@ "@@ \@@ n@@ ") + " }@@ \@@ n@@ ") + " ]@@ ,@@ \@@ n@@ ") + " \@@ "@@ network@@ s@@ \@@ "@@ : [@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " \@@ "@@ id@@ \@@ "@@ : \@@ "@@ if@@ ac@@ e name@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ "@@ }@@ \@@ n@@ "@@ ))); return new org.ovirt.engine.core.common.utils.Pair@@ (vm@@ Init@@ , exp@@ ected@@ Out@@ put@@ ); }
private static org.ovirt.engine.core.common.utils.@@ Pa@@ i@@ r static@@ I@@ P@@ v@@ 4@@ () { final org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network un@@ der@@ Test = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network@@ (); un@@ der@@ Test.@@ set@@ Name(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ F@@ AC@@ E_@@ NAM@@ E); un@@ der@@ Test.@@ set@@ Boot@@ Protocol@@ (@@ Ip@@ v@@ 4@@ Boot@@ Protoc@@ o@@ l.@@ ST@@ A@@ TI@@ C@@ _@@ I@@ P@@ ); un@@ der@@ Test.@@ set@@ Ip@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ P@@ V@@ 4@@ _@@ AD@@ D@@ RE@@ SS@@ ); un@@ der@@ Test.@@ set@@ N@@ et@@ m@@ ask@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ P@@ V@@ 4@@ _@@ NET@@ M@@ A@@ S@@ K@@ ); un@@ der@@ Test.@@ set@@ G@@ ate@@ w@@ ay@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ C@@ lo@@ u@@ d@@ Init@@ Handler@@ Met@@ ad@@ ata@@ Protocol@@ Test.@@ I@@ P@@ V@@ 4@@ _@@ G@@ AT@@ E@@ W@@ A@@ Y@@ ); org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); vm@@ In@@ it.@@ set@@ Network@@ s(@@ java.util.Arrays.as@@ List(@@ un@@ der@@ Test@@ )); java.lang.String exp@@ ected@@ Out@@ pu@@ t = "@@ {@@ \@@ n@@ " + ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ "@@ lin@@ k@@ s@@ \@@ "@@ lin@@ k@@ s@@ \@@ "@@ : [@@ \@@ n@@ " + " {@@ \@@ n@@ ") + " \@@ "@@ id@@ \@@ "@@ : \@@ "@@ >@@ "@@ >@@ "@@ )) + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ "@@ id@@ \@@ "@@ : \@@ n@@ ") + " i@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); vm@@ In@@ it.@@ set@@ Network@@ s(@@ java.util.Arrays.as@@ List(@@ un@@ der@@ Test@@ )); java.lang.String exp@@ ected@@ Out@@ pu@@ t = "@@ {@@ \@@ n@@ ") + " }@@ \@@ n@@ ") + " }@@ \@@ n@@ ") + " }@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ "@@ ,@@ \@@ n@@ ") + " \@@ n@@ ") + " st@@ ate@@ w@@ ay@@ =@@ ") + (vm@@ Init@@ \@@ n@@ ") + (vm@@ Init@@ , new org.ovirt.engine.core.common.utils.Pair@@ (vm@@ Init@@ , g@@ ate@@ w@@ ay@@ ); }
private static org.ovirt.engine.core.common.utils.@@ Pa@@ i@@ r d@@ n@@ s@@ Server@@ s@@ Only@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); vm@@ In@@ it.@@ set@@ D@@ n@@ s@@ Search@@ ("@@ search@@ 1 search@@ 2@@ "); vm@@ In@@ it.@@ set@@ D@@ n@@ s@@ Server@@ s(@@ "@@ nam@@ es@@ er@@ ver@@ 1 nam@@ es@@ er@@ ver@@ 2 nam@@ es@@ er@@ ver@@ 2 nam@@ es@@ er@@ ver@@ 3@@ "); java.lang.String exp@@ ected@@ Out@@ pu@@ t = "@@ {@@ \@@ n@@ " + ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ "@@ \@@ "@@ ser@@ vi@@ c@@ es@@ \@@ "@@ : [@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " \@@ "@@ add@@ ress@@ \@@ "@@ : \@@ "@@ nam@@ es@@ er@@ ver@@ 1@@ \@@ "@@ ,@@ \@@ n@@ ") + " \@@ "@@ type@@ \@@ "@@ : \@@ "@@ d@@ n@@ s@@ -@@ nam@@ es@@ er@@ ver@@ \@@ "@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " \@@ "@@ add@@ ress@@ \@@ "@@ : \@@ "@@ nam@@ es@@ er@@ ver@@ 2@@ \@@ "@@ ,@@ \@@ n@@ ") + " \@@ "@@ type@@ \@@ "@@ type@@ \@@ "@@ : \@@ "@@ d@@ n@@ s@@ -@@ nam@@ es@@ er@@ ver@@ \@@ "@@ \@@ n@@ ") + " }@@ ,@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " {@@ \@@ "@@ add@@ ress@@ \@@ "@@ : \@@ "@@ nam@@ es@@ er@@ ver@@ 3@@ \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " \@@ n@@ ") + " {@@ \@@ n@@ ") + " }@@ ,@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + " {@@ \@@ n@@ ") + "@@ ]@@ \@@ n@@ ") + " {@@ {@@ "@@ }@@ \@@ n@@ ") + " }@@ \@@ n@@ ") + " {@@ "@@ }@@ \@@ n@@ ") + " }@@ ,@@ \@@ n@@ ") + " {@@ n@@ ") + " {@@ \@@ n@@ ") + "@@ }@@ \@@ n@@ ") + " }@@ \@@ n@@ ") + "@@ ]@@ \@@ n@@ ") + "@@ }@@ \@@ n@@ ") + "@@ ]@@ \@@ n@@ ") + "@@ }@@ \@@ n@@ ") + "@@ ]@@ \@@ n@@ ") + "@@ }@@ "); return new org.ovirt.engine.core.common.utils.Pair@@ (vm@@ Init@@ , exp@@ ected@@ Out@@ put@@ ); }
protected void add@@ User@@ Domain@@ To@@ Vm@@ () { map@@ Db@@ Us@@ ers@@ (); }
protected void set@@ Domains@@ S@@ ection@@ (@@ @@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ us@@ ed@@ ") org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e s@@ ection@@ ) { }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ User@@ > map@@ Db@@ Us@@ ers@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ User@@ > db@@ User@@ s = new java.util.ArrayList<@@ >(); java.util.Map<java.lang.String, java.lang.String> user@@ Domains@@ Map = org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Domain@@ Map@@ (); org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Db@@ Us@@ ers@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( db@@ User@@ ) -@@ > { org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r or@@ i@@ gin@@ al@@ Db@@ Use@@ r = db@@ User@@ Dao@@ .get@@ By@@ User@@ name@@ And@@ Domain@@ (@@ db@@ User@@ .get@@ Lo@@ gin@@ Name(), db@@ User@@ .get@@ Domain@@ ()); if (@@ user@@ Domains@@ Map != null@@ ) { java.lang.String d@@ est@@ Domain = user@@ Domains@@ Map@@ .get(@@ db@@ User@@ .get@@ Domain@@ ()); if (@@ d@@ est@@ Domain != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r d@@ est@@ Db@@ Use@@ r = db@@ User@@ Dao@@ .get@@ By@@ User@@ name@@ And@@ Domain@@ (@@ db@@ User@@ .get@@ Lo@@ gin@@ Name(), d@@ est@@ Domain@@ ); } } }); }
@java.lang.Override public boolean equals(@@ java.lang.Object obj@@ ) { if (@@ (@@ this@@ ) == obj@@ ) { return true@@ ; } if (!(@@ ob@@ j instanceof org.ovirt.engine.core.common.businessentities.storage.@@ F@@ ull@@ Entity@@ Ovf@@ Data@@ )) { return false@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ F@@ ull@@ Entity@@ Ovf@@ Data oth@@ er = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ F@@ ull@@ Entity@@ Ovf@@ Data@@ ) (@@ obj@@ )); return ((@@ (((@@ (((@@ (((@@ (@@ super@@ .equals(@@ obj@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ disk@@ Images@@ , oth@@ er.@@ disk@@ Images@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ lun@@ Disk@@ s, oth@@ er.@@ lun@@ Disks@@ ))) && (@@ java.util.@@ Object@@ s.@@ e@@ qual@@ s@@ (@@ int@@ er@@ fac@@ es@@ , oth@@ er@@ .@@ int@@ er@@ fac@@ es@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Base@@ , oth@@ er.@@ vm@@ Base@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ cluster@@ Name, oth@@ er.@@ cluster@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ af@@ fin@@ ity@@ Group@@ s, oth@@ er.@@ af@@ fin@@ ity@@ Group@@ s@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ db@@ Us@@ ers@@ , oth@@ er.@@ db@@ Us@@ ers@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ db@@ Us@@ ers@@ ))) && Us@@ ers@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ vm@@ Base@@ , oth@@ er.@@ vm@@ Base@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ cluster@@ Name, oth@@ er.@@ cluster@@ Name@@ ))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ af@@ fin@@ ity@@ Group@@ s, oth@@ er.@@ af@@ fin@@ ity@@ Group@@ s@@ )); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ super@@ .@@ hashCod@@ e(), disk@@ Images@@ , lun@@ Disk@@ s, int@@ er@@ fac@@ es@@ , vm@@ Base@@ , cluster@@ Name, af@@ fin@@ ity@@ Group@@ s, db@@ User@@ s); }
@java.lang.Override protected void execute@@ Command() { af@@ fin@@ ity@@ Group@@ Dao@@ .@@ updat@@ e(@@ get@@ Parameters().get@@ A@@ f@@ fin@@ ity@@ Group@@ ()); set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override public void add@@ Vm@@ To@@ A@@ f@@ fin@@ ity@@ Label@@ s() { map@@ A@@ f@@ fin@@ ity@@ Label@@ .@@ for@@ E@@ ach@@ (@@ ( af@@ fin@@ ity@@ Label@@ ) -@@ > af@@ fin@@ ity@@ Label@@ .get@@ Vms@@ ().add@@ (get@@ Parameters().get@@ Vm@@ ().get@@ Id()); l@@ abel@@ Dao@@ .@@ updat@@ e(@@ af@@ fin@@ ity@@ Label@@ ); }
@java.lang.Override public void build@@ Vir@@ tu@@ al@@ System@@ () { org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e vi@@ r@@ tu@@ al@@ S@@ yst@@ e@@ m = s@@ el@@ ect@@ Sing@@ le@@ Nod@@ e(@@ _@@ do@@ c@@ um@@ ent@@ , "@@ /@@ *@@ /@@ Cont@@ ent@@ "); con@@ s@@ um@@ e@@ Read@@ Property@@ (@@ vi@@ r@@ tu@@ al@@ System@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ NAM@@ E@@ , "@@ val@@ ) -@@ > f@@ ull@@ Entity@@ Ovf@@ Data@@ .get@@ Vm@@ Bas@@ e().set@@ Name(@@ val@@ )); f@@ ull@@ Entity@@ Ovf@@ Data@@ .get@@ Vm@@ Bas@@ e().set@@ Ovf@@ Version@@ (get@@ Version@@ ()); org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Node@@ List lis@@ t = s@@ el@@ ect@@ Nod@@ es(@@ vi@@ r@@ tu@@ al@@ System@@ , "@@ S@@ ection@@ "); if (@@ lis@@ t != null@@ ) { org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ Nod@@ e n@@ od@@ e = get@@ Nod@@ e(@@ list@@ , "@@ x@@ si@@ :@@ type@@ ", "@@ o@@ vf@@ :@@ O@@ per@@ at@@ ing@@ System@@ S@@ ection@@ _@@ Type@@ "); if (@@ n@@ od@@ e != null@@ ) { read@@ Os@@ S@@ ection@@ (@@ n@@ ode@@ ); if ((!@@ (@@ os@@ Rep@@ os@@ it@@ ory@@ .is@@ Lin@@ u@@ x@@ (@@ f@@ ull@@ Entity@@ Ovf@@ Data@@ .get@@ Vm@@ Bas@@ e().get@@ Os@@ Id@@ ()))) || ((@@ f@@ ull@@ Entity@@ Ovf@@ Data@@ .get@@ Vm@@ Bas@@ e().get@@ Default@@ Display@@ Type()) != (org.ovirt.engine.core.common.businessentities.@@ Display@@ Type.@@ q@@ x@@ l@@ ))) { f@@ ull@@ Entity@@ Ovf@@ Data@@ .get@@ Vm@@ Bas@@ e().set@@ Sing@@ le@@ Q@@ x@@ l@@ P@@ c@@ i@@ (@@ false@@ ); } n@@ od@@ e = get@@ Nod@@ e(@@ list@@ , "@@ x@@ si@@ :@@ type@@ ", "@@ o@@ vf@@ :@@ Vir@@ tu@@ al@@ H@@ ard@@ w@@ are@@ S@@ ection@@ _@@ Type@@ "); if (@@ n@@ od@@ e != null@@ ) { read@@ H@@ ard@@ w@@ are@@ S@@ ection@@ (@@ n@@ ode@@ ); } n@@ od@@ e = get@@ Nod@@ e(@@ list@@ , "@@ x@@ si@@ :@@ :@@ :@@ :@@ S@@ ection@@ _@@ Type@@ "); if (@@ n@@ od@@ e != null@@ ) { read@@ Snapshots@@ S@@ ection@@ (@@ n@@ ode@@ ); } n@@ od@@ e = get@@ Nod@@ e(@@ list@@ , "@@ x@@ si@@ :@@ type@@ ", "@@ o@@ vf@@ :@@ A@@ f@@ fin@@ ity@@ Group@@ s@@ S@@ ection@@ _@@ Type@@ "); if (@@ n@@ ode@@ ); if (@@ n@@ od@@ e != null@@ ) { read@@ A@@ f@@ fin@@ ity@@ Group@@ s@@ S@@ ection@@ (@@ n@@ ode@@ ); } n@@ ode@@ S@@ ection@@ (@@ n@@ ode@@ ); }
@java.lang.Override protected void execute@@ Command() { l@@ abel@@ Dao@@ .@@ updat@@ e(@@ get@@ Parameters().get@@ Label@@ ()); set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > map@@ A@@ f@@ fin@@ ity@@ Label@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Label@@ > af@@ fin@@ ity@@ Label@@ s = new java.util.ArrayList<@@ >(); java.util.Map<java.lang.String, java.lang.String> af@@ fin@@ ity@@ Label@@ Map = org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ A@@ f@@ fin@@ ity@@ Label@@ Map@@ (); org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ A@@ f@@ fin@@ ity@@ Label@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( af@@ fin@@ ity@@ Label@@ ) -@@ > { org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l or@@ i@@ gin@@ al@@ A@@ f@@ fin@@ ity@@ L@@ ab@@ e@@ l = l@@ abel@@ Dao@@ .get@@ By@@ Name(@@ af@@ fin@@ ity@@ Label@@ ); if (@@ af@@ fin@@ ity@@ Label@@ Map != null@@ ) { java.lang.String d@@ est@@ Name = af@@ fin@@ ity@@ Label@@ Map@@ .get(@@ af@@ fin@@ ity@@ Label@@ ); if (@@ d@@ est@@ Name != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ L@@ ab@@ e@@ l d@@ est@@ A@@ f@@ fin@@ ity@@ L@@ ab@@ e@@ l = l@@ abel@@ Dao@@ .get@@ By@@ Name(@@ d@@ est@@ Name@@ ); add@@ B@@ usiness@@ Entity@@ To@@ List(@@ af@@ fin@@ ity@@ Label@@ s, d@@ est@@ A@@ f@@ fin@@ ity@@ Label@@ , or@@ i@@ gin@@ al@@ A@@ f@@ fin@@ ity@@ Label@@ ); } else { add@@ B@@ usiness@@ Entity@@ To@@ List(@@ af@@ fin@@ ity@@ Label@@ s, or@@ i@@ gin@@ al@@ A@@ f@@ fin@@ ity@@ Label@@ , null@@ ); } } else { add@@ B@@ usiness@@ Entity@@ To@@ List(@@ af@@ fin@@ ity@@ Label@@ s, or@@ i@@ gin@@ al@@ A@@ f@@ fin@@ ity@@ Label@@ , null@@ ); } }); return af@@ fin@@ ity@@ Label@@ s@@ ; }
@java.lang.Override protected void map@@ Db@@ Us@@ ers@@ () { java.util.Map<java.lang.String, java.lang.String> user@@ Domains@@ Map = org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.getParameters().get@@ Domain@@ Map@@ (); org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.getParameters().get@@ Db@@ Us@@ ers@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( db@@ User@@ ) -@@ > { org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r or@@ i@@ gin@@ al@@ Db@@ Use@@ r = db@@ User@@ Dao@@ .get@@ By@@ User@@ name@@ And@@ Domain@@ (@@ db@@ User@@ .get@@ Lo@@ gin@@ Name(), db@@ User@@ .get@@ Domain@@ ()); if (@@ user@@ Domains@@ Map != null@@ ) { java.lang.String d@@ est@@ Domain = user@@ Domains@@ Map@@ .get(@@ db@@ User@@ .get@@ Domain@@ ()); if (@@ d@@ est@@ Domain != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r d@@ est@@ Db@@ Use@@ r = db@@ User@@ Dao@@ .get@@ By@@ User@@ name@@ And@@ Domain@@ (@@ db@@ User@@ .get@@ Lo@@ gin@@ Name(), d@@ est@@ Domain@@ ); if (@@ d@@ est@@ Db@@ Use@@ r != null@@ ) { add@@ Permission@@ s@@ For@@ User@@ (@@ d@@ est@@ Db@@ User@@ , get@@ Parameters().get@@ User@@ To@@ Rol@@ es@@ ()); } } else if (@@ or@@ i@@ gin@@ al@@ Db@@ Use@@ r != null@@ ) { add@@ Permission@@ s@@ For@@ User@@ (@@ or@@ i@@ gin@@ al@@ Db@@ User@@ , get@@ Parameters().get@@ User@@ To@@ Rol@@ es@@ ()); } else if (@@ or@@ i@@ gin@@ al@@ Db@@ Use@@ r != null@@ ) { add@@ Permission@@ s@@ For@@ User@@ (@@ or@@ i@@ gin@@ al@@ Db@@ User@@ , get@@ Parameters().get@@ User@@ To@@ Rol@@ es@@ ()); } else { org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r new@@ Db@@ Use@@ r = new org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ User@@ (); new@@ Db@@ Us@@ er.@@ set@@ Lo@@ gin@@ Name(@@ db@@ User@@ .get@@ Lo@@ gin@@ Name()); new@@ Db@@ User@@ .get@@ Domain@@ ()); db@@ User@@ Dao@@ .@@ s@@ ave@@ (@@ new@@ Db@@ User@@ ); org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmTemplate@@ From@@ Configuration@@ Command.@@ log.@@ d@@ ebug@@ ("@@ Use@@ r @@@ {}@@ ", do@@ es not ex@@ ist@@ , c@@ re@@ at@@ ing it.@@ .@@ .@@ ", new@@ Db@@ User@@ .get@@ Lo@@ gin@@ Name(), new@@ Db@@ User@@ .get@@ Domain@@ ()); } }); }
private void w@@ rit@@ e@@ A@@ f@@ fin@@ ity@@ Label@@ s() { java.util.List<java.lang.String> af@@ fin@@ ity@@ Label@@ s@@ Name@@ s = f@@ ull@@ Entity@@ Ovf@@ Data@@ .get@@ A@@ f@@ fin@@ ity@@ Label@@ s(); if ((@@ af@@ fin@@ ity@@ Label@@ s@@ Name@@ s == null@@ ) || (@@ af@@ fin@@ ity@@ Label@@ s@@ Nam@@ es.@@ isEmpty())) { return@@ ; } _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ S@@ ection@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ _@@ UR@@ I@@ , "@@ type@@ ", "@@ o@@ vf@@ :@@ A@@ f@@ fin@@ ity@@ Label@@ s@@ S@@ ection@@ _@@ Type@@ "); af@@ fin@@ ity@@ Label@@ s@@ Names@@ .@@ for@@ E@@ ach@@ (@@ ( l@@ abel@@ Name@@ ) -@@ > { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ (@@ Ovf@@ Properties.@@ A@@ F@@ F@@ IN@@ I@@ TY@@ _@@ G@@ RO@@ UP@@ ); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ UR@@ I@@ , "@@ name@@ ", l@@ abel@@ Name@@ ); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
public void en@@ able@@ Sel@@ ection@@ Element@@ s@@ (@@ boolean en@@ able@@ Element@@ s) { s@@ el@@ ect@@ Host@@ A@@ ut@@ om@@ ati@@ call@@ y@@ Editor@@ .set@@ Enabl@@ ed(@@ en@@ able@@ Element@@ s); s@@ el@@ ect@@ Dest@@ ination@@ Host@@ Editor@@ .set@@ Enabl@@ ed(@@ en@@ able@@ Element@@ s); host@@ s@@ List@@ Editor@@ .set@@ Enabl@@ ed(@@ en@@ able@@ Element@@ s); }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > can@@ Schedul@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ , org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > vds@@ B@@ l@@ ack@@ List@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > vds@@ W@@ h@@ it@@ e@@ List@@ , java.util.List<java.lang.String> mess@@ ages@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > vds@@ List = vds@@ Dao@@ .get@@ AllFor@@ Cluster@@ With@@ Status@@ (cluster@@ .get@@ Id(), VDS@@ Status.@@ Up@@ ); vds@@ List = remove@@ B@@ l@@ ack@@ list@@ ed@@ Host@@ s(@@ vds@@ List@@ , vds@@ B@@ l@@ ack@@ List@@ ); vds@@ List = ke@@ ep@@ Only@@ W@@ h@@ it@@ el@@ ist@@ ed@@ Host@@ s(@@ vds@@ List@@ , vds@@ W@@ h@@ it@@ e@@ List@@ ); re@@ fresh@@ C@@ ach@@ ed@@ P@@ end@@ ing@@ Valu@@ es(@@ vds@@ List@@ ); org.ovirt.engine.core.common.@@ scheduling.@@ Cluster@@ P@@ olic@@ y p@@ olic@@ y = p@@ olicy@@ Map@@ .get@@ (cluster@@ .get@@ Cluster@@ Policy@@ Id()); java.util.Map<java.lang.String, java.lang.String> parameter@@ s = create@@ Cluster@@ Policy@@ Parameters@@ (cluster@@ ); vds@@ List = run@@ Fil@@ t@@ ers@@ (p@@ olicy@@ .get@@ Fil@@ t@@ ers@@ (), cluster@@ , vds@@ List@@ , parameters@@ , p@@ olicy@@ .get@@ Filter@@ P@@ os@@ ition@@ Map@@ (), mess@@ ages@@ , no@@ W@@ a@@ it@@ ing@@ Vm@@ D@@ el@@ ay@@ er@@ , false@@ ); return vds@@ List != null@@ ; }
void loc@@ al@@ iz@@ e() { s@@ el@@ ect@@ Host@@ A@@ ut@@ om@@ ati@@ call@@ y@@ Editor@@ .set@@ Label@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ Vm@@ Migr@@ ate@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ vm@@ Migr@@ ate@@ Popup@@ Sel@@ ect@@ Host@@ A@@ ut@@ om@@ ati@@ call@@ y@@ Label@@ ()); s@@ el@@ ect@@ Dest@@ ination@@ Host@@ Editor@@ .set@@ Label@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ Vm@@ Migr@@ ate@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ vm@@ Migr@@ ate@@ Popup@@ Sel@@ ect@@ Dest@@ ination@@ Host@@ Label@@ ()); host@@ s@@ List@@ Editor@@ .set@@ Label@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ Migr@@ ate@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ vm@@ Migr@@ ate@@ Popup@@ Host@@ s@@ List@@ Label@@ ()); c@@ lust@@ ers@@ Editor@@ .set@@ Label@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ Migr@@ ate@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ host@@ Cluster@@ Vm@@ Popup@@ ()); message@@ 1@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ Vm@@ Migr@@ ate@@ Popup@@ View@@ .@@ mess@@ ages.@@ m@@ igr@@ ate@@ Host@@ Dis@@ abl@@ ed@@ VM@@ s@@ In@@ Server@@ C@@ lust@@ ers@@ ()); message@@ 2@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ Vm@@ Migr@@ ate@@ Popup@@ View@@ .@@ mess@@ ages.@@ m@@ igr@@ ate@@ S@@ om@@ e@@ Vms@@ Al@@ read@@ y@@ Run@@ ning@@ On@@ Host@@ ()); message@@ 3@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ mess@@ ages.@@ m@@ igr@@ ate@@ No@@ Available@@ Host@@ ()); message@@ 4@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ vm@@ .@@ Vm@@ Migr@@ ate@@ Popup@@ View@@ .@@ mess@@ ages.@@ m@@ igr@@ ate@@ No@@ Available@@ H@@ e@@ Host@@ ()); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.vms.@@ Migr@@ ate@@ Model object@@ ) { d@@ ri@@ v@@ er.@@ edit@@ (@@ object@@ ); update@@ Messages@@ (@@ obj@@ ect@@ ); en@@ able@@ Sel@@ ection@@ Element@@ s(@@ object.get@@ En@@ able@@ Sel@@ ection@@ Element@@ s()); object.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ <@@ org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s@@ >() { @java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.@@ PropertyChangedEventArg@@ s args) { update@@ Messages@@ (@@ object@@ ); } }); }
private void update@@ Messages@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Migr@@ ate@@ Model object@@ ) { message@@ 1@@ .set@@ Visi@@ bl@@ e@@ ((!@@ (@@ object.get@@ Vms@@ On@@ S@@ ame@@ Cluster@@ ()))); message@@ 2@@ .set@@ Visi@@ bl@@ e(@@ object.get@@ Is@@ S@@ ame@@ Vds@@ Message@@ Visi@@ bl@@ e()); message@@ 3@@ .set@@ Visi@@ bl@@ e(@@ object.get@@ No@@ Sel@@ Avail@@ abl@@ e()); message@@ 4@@ .set@@ Visi@@ bl@@ e(@@ object.get@@ No@@ H@@ e@@ Sel@@ Avail@@ abl@@ e()); }
private void remove@@ Un@@ s@@ el@@ ect@@ able@@ Host@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.compat.Guid run@@ _@@ on@@ _@@ vds@@ , boolean all@@ Run@@ On@@ S@@ ame@@ V@@ d@@ s) { if ((get@@ Vms@@ On@@ S@@ ame@@ Cluster@@ ()) && all@@ Run@@ On@@ S@@ ame@@ Vds@@ ) { org.ovirt.engine.core.common.businessentities.@@ VDS run@@ On@@ S@@ ame@@ VDS = null@@ ; for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { if (@@ hos@@ t.get@@ Id().@@ equals(@@ run@@ _@@ on@@ _@@ vds@@ )) { run@@ On@@ S@@ ame@@ VDS = host@@ ; } } hosts.@@ remov@@ e(@@ run@@ On@@ S@@ ame@@ VDS@@ ); } if (@@ host@@ ed@@ Engine@@ Only@@ Migr@@ ation@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > n@@ on@@ H@@ e@@ Host@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { if (!(@@ host.@@ is@@ Host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ ed@@ ())) { n@@ on@@ H@@ e@@ Host@@ s.add(@@ host@@ ); } } hosts.@@ remove@@ All@@ (@@ n@@ on@@ H@@ e@@ Host@@ s); }
@java.lang.Override protected void on@@ Re@@ ve@@ al@@ () { super@@ .@@ on@@ Re@@ ve@@ al@@ (); set@@ In@@ S@@ l@@ ot@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ With@@ Detail@@ s@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ Search@@ Panel@@ , search@@ Panel@@ P@@ res@@ enter@@ Widget@@ ); set@@ In@@ S@@ l@@ ot@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ With@@ Detail@@ s@@ P@@ resent@@ er.@@ TYPE_@@ Set@@ B@@ read@@ C@@ r@@ um@@ b@@ s, b@@ read@@ C@@ r@@ um@@ b@@ s@@ P@@ res@@ enter@@ Widget@@ ); org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ With@@ Detail@@ s@@ P@@ res@@ enter@@ .get@@ View@@ ().@@ res@@ ize@@ To@@ F@@ ull@@ H@@ e@@ ig@@ ht@@ (); }
@java.lang.Override protected boolean validate(@@ ) { boolean return@@ Valu@@ e = ((@@ (@@ super@@ .@@ valid@@ at@@ e()) && (@@ valid@@ at@@ e())) && (org.ovirt.engine.core.bll.storage.@@ p@@ oo@@ l.@@ Add@@ StoragePool@@ With@@ Stor@@ ages@@ Command.@@ initial@@ ize@@ Vds@@ ())) && (@@ check@@ StorageDomain@@ s@@ In@@ Pool@@ ()); return return@@ Value@@ ; }
public static boolean is@@ Vm@@ L@@ e@@ ase@@ Be@@ H@@ ot@@ p@@ lug@@ ged@@ (org.ovirt.engine.core.common.businessentities.@@ VM source@@ , org.ovirt.engine.core.common.businessentities.VM d@@ est@@ ination@@ ) { return !@@ (@@ java.util.@@ Object@@ s.@@ equals(@@ s@@ ourc@@ e.get@@ L@@ e@@ ase@@ StorageDomain@@ Id(), d@@ est@@ ination@@ .get@@ L@@ e@@ ase@@ StorageDomain@@ Id@@ ())); }
private void set@@ Auth@@ enti@@ c@@ ated@@ User@@ (@@ org.ovirt.engine.api.model.@@ Ap@@ i ap@@ i@@ ) { org.ovirt.engine.core.common.queries.@@ Query@@ ReturnValue return@@ Valu@@ e = run@@ Query@@ (@@ Query@@ Type.Get@@ User@@ By@@ Session@@ Id, new org.ovirt.engine.core.common.queries.@@ Query@@ Parameters@@ Bas@@ e()); org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r auth@@ enti@@ c@@ ated@@ Use@@ r = ((org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ User@@ ) (@@ return@@ Valu@@ e.get@@ ReturnValu@@ e())); org.ovirt.engine.api.model.@@ Use@@ r us@@ er = new org.ovirt.engine.api.model.@@ User@@ (); user.@@ set@@ Id(@@ auth@@ enti@@ c@@ ated@@ User@@ .get@@ Id().@@ toString@@ ()); org.ovirt.engine.api.restapi.@@ util.@@ Link@@ Helper.@@ add@@ Link@@ s(@@ user@@ ); ap@@ i@@ .set@@ Auth@@ enti@@ c@@ ated@@ User@@ (@@ user@@ ); }
@java.lang.Override protected boolean validate(@@ ) { if ((((@@ org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Parameters@@ ()) == null@@ ) || ((org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.getParameters().get@@ Agent@@ ()) == null@@ )) || ((org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.getParameters().get@@ Agent@@ ().get@@ Id()) == null@@ )) { return fail@@ Validation@@ (EngineMessage.@@ VDS@@ _@@ RE@@ M@@ OV@@ E_@@ F@@ EN@@ C@@ E_@@ AG@@ EN@@ T_@@ ID@@ _@@ RE@@ Q@@ U@@ I@@ R@@ ED); } org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t = org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Vds@@ (); if (@@ hos@@ t == null@@ ) { return fail@@ Validation@@ (EngineMessage.@@ VDS@@ _@@ IN@@ VALID@@ _@@ S@@ ER@@ V@@ ER_@@ ID@@ ); } if@@ (@@ host.@@ is@@ P@@ m@@ Enabled@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Agent@@ > f@@ ence@@ Agent@@ s = f@@ ence@@ Agent@@ Dao@@ .get@@ Fence@@ Agent@@ s@@ For@@ Host@@ (org.ovirt.engine.core.bll.@@ Remove@@ Fence@@ Agent@@ Command.get@@ Vds@@ Id()); if ((@@ f@@ ence@@ Agent@@ s.@@ size()) == 1@@ ) { return fail@@ Validation@@ (EngineMessage.@@ VDS@@ _@@ RE@@ M@@ OV@@ E_@@ L@@ A@@ ST@@ _@@ F@@ EN@@ C@@ E_@@ AG@@ EN@@ T_@@ P@@ M@@ _@@ EN@@ AB@@ L@@ ED); } } return super@@ .@@ valid@@ at@@ e(); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { m@@ and@@ ator@@ y@@ (@@ dataCenter@@ ().@@ id@@ ()); }
void loc@@ al@@ iz@@ e() { ap@@ plication@@ Titl@@ e.set@@ Text@@ (@@ d@@ ynam@@ ic@@ Messages.@@ ap@@ plication@@ Titl@@ e()); c@@ opy@@ ri@@ g@@ ht@@ No@@ tic@@ e.set@@ Text@@ (@@ d@@ ynam@@ ic@@ Messages.@@ c@@ opy@@ R@@ ig@@ ht@@ No@@ tic@@ e()); version@@ Label@@ .set@@ Text@@ (@@ d@@ ynam@@ ic@@ Messages.@@ ovir@@ t@@ Version@@ Ab@@ out@@ ()); user@@ Name@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ view@@ .@@ Ab@@ out@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ user@@ Name@@ Ab@@ out@@ Label@@ ()); }
void loc@@ al@@ iz@@ e() { ap@@ plication@@ Titl@@ e.set@@ Text@@ (@@ d@@ ynam@@ ic@@ Messages.@@ ap@@ plication@@ Titl@@ e()); c@@ opy@@ ri@@ g@@ ht@@ No@@ tic@@ e.set@@ Text@@ (@@ d@@ ynam@@ ic@@ Messages.@@ c@@ opy@@ R@@ ig@@ ht@@ No@@ tic@@ e()); version@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ Host@@ Nic@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ version@@ Ab@@ out@@ L@@ ab@@ e@@ l ()); user@@ Name@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ user@@ Name@@ Ab@@ out@@ Label@@ ()); }
public boolean is@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ () { return h@@ ot@@ Un@@ p@@ lug@@ Memory@@ ; }
public void set@@ H@@ ot@@ Un@@ p@@ lug@@ Memory@@ (@@ boolean h@@ ot@@ Un@@ p@@ lug@@ Memory@@ ) { this@@ .@@ h@@ ot@@ Un@@ p@@ lug@@ Mem@@ or@@ y = h@@ ot@@ Un@@ p@@ lug@@ Memory@@ ; }
void loc@@ al@@ iz@@ e() { ap@@ plication@@ Titl@@ e.set@@ Text@@ (@@ d@@ ynam@@ ic@@ Messages.@@ ap@@ plication@@ Titl@@ e()); c@@ opy@@ ri@@ g@@ ht@@ No@@ tic@@ e.set@@ Text@@ (@@ d@@ ynam@@ ic@@ Messages.@@ c@@ opy@@ R@@ ig@@ ht@@ No@@ tic@@ e()); version@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ view@@ .@@ Ab@@ out@@ Popup@@ View@@ .@@ const@@ an@@ t@@ s.@@ version@@ With@@ out@@ Label@@ ()); user@@ Name@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ view@@ .@@ p@@ opup@@ .@@ profil@@ e.@@ View@@ .@@ const@@ an@@ t@@ s.@@ user@@ Name@@ Ab@@ out@@ Label@@ ()); ve@@ n@@ do@@ r@@ l.@@ set@@ Text@@ (@@ d@@ ynam@@ ic@@ Messages.@@ ve@@ n@@ do@@ r@@ l@@ ()); ve@@ n@@ do@@ r@@ U@@ r@@ l.@@ set@@ H@@ re@@ f@@ (@@ d@@ ynam@@ ic@@ Messages.@@ ve@@ n@@ do@@ r@@ l@@ ()); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { m@@ and@@ ator@@ y@@ (p@@ ath@@ ()); or@@ (@@ m@@ and@@ ator@@ y@@ (@@ host@@ ().@@ id@@ ()), m@@ and@@ ator@@ y@@ (@@ host@@ ().@@ nam@@ e())); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ I@@ n java.lang.String p@@ ath@@ ();
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { o@@ ption@@ al@@ (network@@ ().@@ c@@ omm@@ ent@@ ()); o@@ ption@@ al@@ (network@@ ().@@ d@@ escription@@ ()); o@@ ption@@ al@@ (network@@ ().@@ dis@@ play@@ ()); o@@ ption@@ al@@ (network@@ ().@@ ip@@ ().add@@ ress@@ ()); o@@ ption@@ al@@ (network@@ ().@@ ip@@ ().@@ ip@@ ().@@ g@@ ate@@ w@@ ay@@ ()); o@@ ption@@ al@@ (network@@ ().@@ ip@@ ().@@ net@@ m@@ ask@@ ()); o@@ ption@@ al@@ (network@@ ().@@ m@@ tu@@ ()); o@@ ption@@ al@@ (network@@ ().@@ nam@@ e()); o@@ ption@@ al@@ (network@@ ().@@ st@@ p@@ ()); o@@ ption@@ al@@ (network@@ ().@@ v@@ lan@@ ().@@ id@@ ()); o@@ ption@@ al@@ (network@@ ().@@ ex@@ ternal@@ Provider@@ ().@@ id@@ ()); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { or@@ (@@ m@@ and@@ ator@@ y@@ (network@@ ().@@ id@@ ()), m@@ and@@ ator@@ y@@ (network@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (network@@ ().@@ c@@ omm@@ ent@@ ()); o@@ ption@@ al@@ (network@@ ().@@ d@@ escription@@ ()); o@@ ption@@ al@@ (network@@ ().@@ ip@@ al@@ (network@@ ().@@ ip@@ ().@@ ip@@ ().@@ g@@ ate@@ w@@ ay@@ ()); o@@ ption@@ al@@ (network@@ ().@@ ip@@ ().@@ net@@ m@@ ask@@ ()); o@@ ption@@ al@@ (network@@ ().@@ m@@ tu@@ ()); o@@ ption@@ al@@ (network@@ ().@@ profil@@ e@@ Re@@ qui@@ red@@ ()); o@@ ption@@ al@@ (network@@ ().@@ st@@ p@@ ()); o@@ ption@@ al@@ (network@@ ().@@ v@@ lan@@ ().@@ id@@ ()); o@@ ption@@ al@@ (network@@ ().@@ us@@ ages@@ ()@@ [@@ C@@ OL@@ LE@@ C@@ TI@@ ON@@ ]@@ ); o@@ ption@@ al@@ (network@@ ().@@ ex@@ ternal@@ Provider@@ ().@@ id@@ ()); o@@ ption@@ al@@ (network@@ ().@@ p@@ h@@ y@@ s@@ ical@@ Network@@ Provider@@ ().@@ id@@ ()); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ Lin@@ k types.@@ Network p@@ h@@ y@@ s@@ ical@@ Network@@ Provider@@ ();
public void set@@ Client@@ Ip@@ (java.lang.String client@@ Ip@@ ) { this@@ .@@ client@@ I@@ p = client@@ Ip@@ ; }
@java.lang.Override protected void ser@@ vi@@ c@@ e(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ ) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception { org.ovirt.engine.core.@@ aaa.@@ ser@@ vlet@@ .S@@ s@@ o@@ Lo@@ gin@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ Lo@@ gin@@ Ser@@ v@@ le@@ t java.lang.String s@@ c@@ op@@ e = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ c@@ -@@ app@@ -@@ port@@ al ovir@@ t@@ -@@ auth@@ :@@ se@@ qu@@ ence@@ -@@ pri@@ or@@ ity@@ =@@ %@@ s org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Property@@ (@@ auth@@ Se@@ qu@@ ence@@ P@@ ri@@ or@@ ity@@ Property@@ Name@@ )); java.lang.String red@@ irect@@ U@@ r@@ i = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ :@@ %@@ s@@ :@@ %@@ s", re@@ ques@@ t.get@@ S@@ ch@@ em@@ e(), org.ovirt.engine.core.@@ aaa.@@ filter@@ s.@@ Fil@@ t@@ ers@@ Hel@@ per@@ .get@@ R@@ ed@@ irect@@ U@@ ri@@ Server@@ Name(@@ re@@ ques@@ t.get@@ Server@@ Name()@@ ), re@@ ques@@ t.get@@ Server@@ Port@@ (), p@@ ost@@ Action@@ U@@ r@@ l@@ ); org.ovirt.engine.core.@@ u@@ utils.@@ net@@ .@@ UR@@ L@@ Buil@@ der ur@@ l@@ Buil@@ der = new org.ovirt.engine.core.@@ u@@ utils.@@ net@@ .@@ UR@@ L@@ Builder@@ (@@ org.ovirt.engine.core.@@ aaa.@@ filter@@ s.@@ Fil@@ t@@ ers@@ Hel@@ per@@ .get@@ Engine@@ S@@ s@@ o@@ U@@ r@@ l@@ (@@ re@@ quest@@ ), "@@ /@@ o@@ auth@@ /@@ or@@ ize@@ ").@@ add@@ Parameter("@@ client@@ _id", org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Property@@ ("@@ EN@@ G@@ IN@@ E_@@ SS@@ O@@ _C@@ L@@ I@@ EN@@ T_@@ ID@@ "@@ )).@@ add@@ Parameter("@@ respon@@ se@@ _@@ type@@ ", "@@ c@@ ode@@ ").@@ add@@ Parameter("@@ app@@ _@@ ur@@ l@@ ", re@@ ques@@ t.get@@ Parameter("@@ app@@ _@@ ur@@ l@@ "@@ )).@@ add@@ Parameter("@@ engin@@ e@@ _@@ ur@@ l@@ ", org.ovirt.engine.core.@@ aaa.@@ filter@@ s.@@ Fil@@ t@@ ers@@ Hel@@ per@@ .get@@ Engine@@ U@@ r@@ l@@ (@@ re@@ quest@@ )).@@ add@@ Parameter("@@ red@@ irect@@ _@@ ur@@ i@@ ", red@@ irect@@ U@@ ri@@ ).@@ add@@ Parameter("@@ s@@ c@@ op@@ e@@ ", s@@ c@@ op@@ e.@@ add@@ Parameter("@@ client@@ _@@ ip@@ ", re@@ ques@@ t.get@@ R@@ em@@ ot@@ e@@ Add@@ r@@ em@@ ot@@ e@@ Add@@ r@@ l@@ ()); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ re@@ ques@@ t.get@@ Parameter("@@ s@@ o@@ _@@ to@@ k@@ en@@ "@@ ))) { ur@@ l@@ Buil@@ der.@@ add@@ Parameter("@@ s@@ o@@ _@@ to@@ k@@ en@@ ", re@@ ques@@ t.get@@ Parameter("@@ s@@ o@@ _@@ to@@ k@@ en@@ ")); } java.lang.String ur@@ l@@ Buil@@ der.@@ build@@ (); org.ovirt.engine.core.@@ aaa.@@ filter@@ ed@@ irect@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ Lo@@ gin@@ g '{}@@ ' to respon@@ s@@ end@@ ed@@ irect@@ "); }
private static java.lang.String map@@ P@@ lu@@ gin@@ Type(@@ java.lang.String entity@@ , org.ovirt.engine.api.model.@@ Op@@ en@@ St@@ ack@@ Network@@ Provider@@ Type typ@@ e) { if ((@@ typ@@ e == (@@ org.ovirt.engine.api.model.@@ Op@@ en@@ St@@ ack@@ Network@@ Provider@@ Type.@@ EX@@ TER@@ N@@ AL@@ )) )) )) { return enti@@ ty = (@@ Op@@ en@@ st@@ ack@@ Network@@ P@@ lu@@ gin@@ Type.@@ O@@ P@@ EN@@ _@@ V@@ S@@ W@@ I@@ T@@ C@@ H@@ .@@ nam@@ e().@@ to@@ L@@ (); } throw new java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ ("@@ Can@@ \@@ "@@ " + typ@@ e) + "@@ \@@ "@@ ")); }
@java.lang.Override protected org.ovirt.engine.api.model.@@ Op@@ en@@ St@@ ack@@ Network@@ Provi@@ der p@@ ost@@ P@@ op@@ ul@@ ate(@@ org.ovirt.engine.api.model.@@ Op@@ en@@ St@@ ack@@ Network@@ Provi@@ der model@@ ) { model.set@@ Type(@@ Op@@ en@@ St@@ ack@@ Network@@ Provider@@ Type.@@ N@@ E@@ U@@ T@@ R@@ ON@@ ); model.set@@ P@@ lu@@ gin@@ Type(@@ Op@@ en@@ st@@ ack@@ Network@@ P@@ lu@@ gin@@ Type@@ .@@ class@@ ); model.set@@ O@@ P@@ EN@@ _@@ V@@ S@@ W@@ I@@ T@@ C@@ H@@ .@@ to@@ String@@ ()); org.ovirt.engine.api.model.@@ Agent@@ Configur@@ ation ag@@ ent@@ Configur@@ ation = model.get@@ Agent@@ Configuration@@ (); ag@@ ent@@ Configuration@@ .set@@ Broker@@ Type(@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ Test@@ Helper.@@ sh@@ u@@ f@@ l@@ e(@@ org.ovirt.engine.api.model.@@ Message@@ Broker@@ Type@@ .@@ class@@ )); return model@@ ; }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Ar@@ ch@@ it@@ ect@@ ure@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Ar@@ ch@@ it@@ ect@@ ur@@ e map@@ (org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type model, java.lang.String template@@ ) { if (@@ model != null@@ ) { switch (model@@ ) { case un@@ de@@ fin@@ ed : return org.ovirt.engine.api.model.@@ Ar@@ ch@@ it@@ ect@@ ur@@ e.@@ UN@@ DE@@ F@@ IN@@ ED@@ ; case x@@ 8@@ 6@@ _@@ 6@@ 4 : return org.ovirt.engine.api.model.@@ Ar@@ ch@@ it@@ ect@@ ur@@ e.@@ X@@ 8@@ 6@@ _@@ 6@@ 4@@ ; case p@@ pc@@ 6@@ 4 : return org.ovirt.engine.api.model.@@ Ar@@ ch@@ it@@ ect@@ ur@@ e.@@ P@@ P@@ C@@ 6@@ 4@@ ; case s@@ 3@@ 9@@ 0 : return org.ovirt.engine.api.model.@@ Ar@@ ch@@ it@@ ect@@ ur@@ e.@@ S@@ 3@@ 9@@ 0@@ ; default : return null@@ ; } return null@@ ; }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Ar@@ ch@@ it@@ ect@@ ure@@ .@@ class@@ , to = org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type@@ .@@ class@@ ) public static org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type map@@ (@@ org.ovirt.engine.api.model.@@ Ar@@ ch@@ it@@ ect@@ ur@@ e model, org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type template@@ ) { if (@@ model != null@@ ) { switch (model@@ ) { case UN@@ DE@@ F@@ IN@@ E@@ D : return org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ un@@ de@@ fin@@ ed@@ ; case X@@ 8@@ 6@@ _@@ 6@@ 4 : return org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ x@@ 8@@ 6@@ _@@ 6@@ 4@@ ; case P@@ P@@ C@@ 6@@ 4 : return org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ p@@ pc@@ 6@@ 4@@ ; case S@@ 3@@ 9@@ 0 : return org.ovirt.engine.core.common.businessentities.@@ Ar@@ ch@@ it@@ ect@@ ure@@ Type.@@ s@@ 3@@ 9@@ 0@@ ; default : return null@@ ; } } return null@@ ; }
@java.lang.Override protected void on@@ H@@ id@@ e() { get@@ T@@ abl@@ e().@@ h@@ id@@ e@@ Context@@ M@@ en@@ u@@ (); b@@ read@@ C@@ r@@ um@@ b@@ s@@ P@@ res@@ enter@@ Widget@@ .@@ re@@ build@@ B@@ read@@ C@@ r@@ um@@ b@@ s(); }
protected void p@@ o@@ pu@@ pl@@ ate@@ S@@ w@@ app@@ ed@@ List@@ () { java.lang.String s@@ w@@ app@@ ed@@ Column@@ K@@ e@@ y = get@@ S@@ w@@ app@@ ed@@ Column@@ List@@ Key@@ (); if (s@@ w@@ app@@ ed@@ Column@@ K@@ e@@ y != null@@ ) { java.lang.String s@@ w@@ app@@ ed@@ Column@@ s = client@@ Stor@@ age.get@@ Local@@ Item@@ (s@@ w@@ app@@ ed@@ Column@@ Key@@ ); if (s@@ w@@ app@@ ed@@ Column@@ s != null@@ ) { java.lang.String@@ [@@ ] s@@ pl@@ i@@ t = s@@ w@@ app@@ ed@@ Column@@ s.@@ s@@ pl@@ it@@ ("@@ ,@@ "); for (@@ int i = 0@@ ; i < (s@@ pl@@ it.@@ l@@ ength@@ ); i@@ +@@ +@@ ) { java.lang.String@@ [@@ ] t@@ up@@ e@@ l = s@@ pl@@ it@@ [@@ i@@ ]@@ .@@ s@@ pl@@ it@@ ("@@ =@@ "); if ((@@ t@@ up@@ .@@ l@@ ength@@ ) == 2@@ ) { re@@ al@@ To@@ S@@ w@@ app@@ ed@@ In@@ dex@@ es.@@ put(@@ java.lang.Integ@@ er.@@ value@@ Of@@ (@@ t@@ up@@ el@@ [@@ 1@@ ]@@ ), java.lang.Integ@@ er.@@ value@@ Of@@ (@@ t@@ up@@ el@@ [@@ 0@@ ]@@ )); ma@@ x@@ S@@ w@@ app@@ ed@@ In@@ de@@ x = java.lang.@@ M@@ ath@@ .@@ ma@@ x@@ S@@ w@@ app@@ ed@@ In@@ dex@@ , java.lang.Integ@@ er.@@ value@@ Of@@ (@@ t@@ up@@ [@@ 0@@ ]@@ )); } } } }
java.lang.String par@@ se@@ Volume@@ Id@@ From@@ Path@@ (java.lang.String p@@ ath@@ ) { if (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (p@@ ath@@ )) { return "@@ "@@ ; } int s@@ l@@ ash@@ In@@ de@@ x = p@@ ath@@ .@@ l@@ ast@@ In@@ dex@@ Of@@ ("@@ /@@ "); if (s@@ l@@ ash@@ In@@ de@@ x == (@@ -@@ 1@@ )) { return "@@ "@@ "@@ ; } return p@@ ath@@ .@@ sub@@ st@@ ring@@ ((@@ s@@ l@@ ash@@ In@@ de@@ x + 1@@ )); }
private boolean is@@ Domain@@ X@@ ml@@ Enabled@@ For@@ Vds@@ () { return (@@ boolean@@ ) (org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Domain@@ X@@ M@@ L@@ , vm@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ M@@ er@@ g@@ e@@ Status@@ Command.getParameters().get@@ Vm@@ Id@@ ()@@ ).get@@ CompatibilityVersion@@ ().@@ toString@@ ()))); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Image@@ Trans@@ fer@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Image@@ Trans@@ fer@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Image@@ Trans@@ f@@ er map@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ f@@ er entity@@ , org.ovirt.engine.api.model.@@ Image@@ Trans@@ f@@ er template@@ ) { org.ovirt.engine.api.model.@@ Image@@ Trans@@ f@@ er model = (@@ templat@@ e != null@@ ) ? templat@@ e : new org.ovirt.engine.api.model.@@ Image@@ Trans@@ fer@@ (); if ((@@ entity.get@@ Id()) != null@@ ) { model.set@@ Id(@@ entity.get@@ Id().@@ toString@@ ()); } if ((@@ entity.get@@ Vds@@ Id()) != null@@ ) { model.set@@ Host@@ (@@ new org.ovirt.engine.api.model.@@ Host@@ ()); model.get@@ Host@@ ().set@@ Id(@@ entity.get@@ Vds@@ Id().@@ toString@@ ()); } if ((@@ entity.get@@ Disk@@ Id()) != null@@ ) { model.set@@ Image@@ (@@ new org.ovirt.engine.api.model.@@ Image@@ ()); model.get@@ Image@@ ().set@@ Id(@@ entity.get@@ Disk@@ Id().@@ toString@@ ()); } if (((@@ entity.get@@ Proxy@@ U@@ ri@@ ()) != null@@ ) && ((@@ entity.get@@ Image@@ d@@ T@@ ick@@ et@@ Id()) != null@@ )) { model.set@@ Proxy@@ U@@ r@@ l@@ (@@ entity.get@@ Client@@ UR@@ L@@ For@@ Trans@@ fer@@ ()); } if ((@@ entity.get@@ S@@ ign@@ ed@@ T@@ ick@@ et@@ ()) != null@@ ) { model.set@@ S@@ ign@@ ed@@ T@@ ick@@ et@@ (@@ entity.get@@ S@@ ign@@ ed@@ T@@ ick@@ et@@ ()); } if ((@@ entity.get@@ P@@ has@@ e()) != null@@ ) { model.set@@ P@@ has@@ e(@@ org.ovirt.engine.api.restapi.@@ types.@@ Image@@ Trans@@ fer@@ Mapper.@@ map@@ P@@ has@@ e(@@ entity.get@@ P@@ has@@ e())); } if ((@@ entity.get@@ Acti@@ v@@ e()) != null@@ ) { model.set@@ Acti@@ v@@ e(@@ entity.get@@ Acti@@ v@@ e()); } if ((@@ entity.get@@ Type()) != null@@ ) { model.set@@ D@@ ir@@ ection@@ (@@ org.ovirt.engine.api.restapi.@@ types.@@ Image@@ Trans@@ fer@@ Mapper.@@ map@@ Type(@@ entity.get@@ Typ@@ e())); } return model@@ ; }
private static org.ovirt.engine.api.model.@@ Image@@ Trans@@ fer@@ D@@ ir@@ ec@@ tion map@@ Type(@@ org.ovirt.engine.core.common.businessentities.storage.@@ Trans@@ fer@@ Type typ@@ e) { switch (@@ typ@@ e) { case Down@@ lo@@ a@@ d : return org.ovirt.engine.api.model.@@ Image@@ Trans@@ fer@@ D@@ ir@@ ection@@ .@@ DO@@ W@@ N@@ LO@@ AD@@ ; case U@@ pl@@ o@@ a@@ d : return org.ovirt.engine.api.model.@@ Image@@ Trans@@ fer@@ D@@ ir@@ ection@@ .@@ UP@@ LO@@ AD@@ ; default : return null@@ ; } }
private void stor@@ e@@ S@@ w@@ app@@ ed@@ In@@ dex@@ Map@@ () { java.lang.String valu@@ e = "@@ "@@ "@@ ; int i = 0@@ ; for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <@@ java.lang.Integer@@ , java.lang.Integer@@ > e@@ n@@ try : re@@ al@@ To@@ S@@ w@@ app@@ ed@@ In@@ dex@@ es.@@ e@@ n@@ try@@ Set@@ ()) { if (@@ i > 0) { valu@@ e +@@ = "@@ ,@@ "@@ ; } i@@ +@@ +@@ ; valu@@ e +@@ = ((@@ e@@ n@@ try@@ .get@@ Valu@@ e()) + "@@ =@@ ") + (@@ e@@ n@@ try@@ .get@@ Key@@ ()); } if (!@@ ("@@ "@@ .equals(@@ value@@ ))) { java.lang.String s@@ w@@ app@@ ed@@ Column@@ K@@ e@@ y = get@@ S@@ w@@ app@@ ed@@ Column@@ List@@ Key@@ (); if (s@@ w@@ app@@ ed@@ Column@@ K@@ e@@ y != null@@ ) { client@@ Stor@@ age.@@ set@@ Local@@ Item@@ (s@@ w@@ app@@ ed@@ Column@@ Key@@ , valu@@ e); } }
protected void cluster@@ _@@ SelectedItem@@ Changed@@ () { org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = get@@ Cluster@@ ().get@@ SelectedItem@@ (); if (c@@ luster == null@@ ) { return@@ ; } get@@ F@@ enc@@ ing@@ Enabled@@ ().set@@ Entity@@ (cluster@@ .get@@ F@@ enc@@ ing@@ Policy@@ ().is@@ F@@ enc@@ ing@@ Enabled@@ ()); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ P@@ m@@ Type@@ List@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Async@@ Query@@ (@@ ( p@@ m@@ Typ@@ es) -@@ > update@@ P@@ m@@ Type@@ List(@@ p@@ m@@ Typ@@ es@@ )@@ ), cluster@@ .get@@ CompatibilityVersion@@ ()); if ((@@ (get@@ DataCenter@@ ()) != null@@ ) && ((get@@ DataCenter@@ ().get@@ Item@@ s()) != null@@ )) { for (org.ovirt.engine.core.common.businessentities.@@ Storage@@ Pool dat@@ ac@@ ent@@ er : get@@ DataCenter@@ ().get@@ Item@@ s()) { if (@@ dat@@ ac@@ enter@@ .get@@ Id().@@ equals(@@ cluster@@ .get@@ StoragePool@@ Id@@ ())) { get@@ DataCenter@@ ().set@@ SelectedItem@@ (@@ dat@@ ac@@ enter@@ , false@@ ); break@@ ; } } final org.ovirt.engine.core.common.utils.@@ Cpu@@ V@@ e@@ n@@ do@@ r = get@@ C@@ urrent@@ Cpu@@ V@@ e@@ n@@ do@@ r@@ (); if (@@ new@@ Cpu@@ V@@ e@@ n@@ do@@ r != null@@ ) && (!@@ (@@ new@@ Cpu@@ V@@ e@@ n@@ do@@ r@@ .equals(@@ l@@ ast@@ Non@@ Null@@ Cpu@@ V@@ e@@ n@@ do@@ r@@ )))) { l@@ ast@@ Non@@ Null@@ Cpu@@ V@@ e@@ n@@ do@@ r = new@@ Cpu@@ V@@ e@@ n@@ do@@ r@@ ; cpu@@ V@@ e@@ n@@ do@@ r@@ Changed@@ (); } get@@ Host@@ ed@@ Engine@@ W@@ arning@@ ().setIs@@ Avail@@ able(@@ cluster@@ .get@@ CompatibilityVersion@@ ().@@ l@@ ess@@ (@@ Version@@ .@@ v@@ 4@@ _@@ 0@@ )); get@@ Network@@ Provider@@ Model@@ ().set@@ Default@@ Provider@@ By@@ Id@@ (cluster@@ .get@@ Default@@ Network@@ Provider@@ Id()); }
public void set@@ Default@@ Provider@@ By@@ Id(@@ org.ovirt.engine.core.compat.Guid default@@ Provider@@ Id) { org.ovirt.engine.core.common.businessentities.@@ Provi@@ der updat@@ ed@@ Default@@ Provi@@ der = get@@ Network@@ Provi@@ d@@ ers@@ ().get@@ Item@@ s().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( p@@ rovider@@ ) -@@ > p@@ rovi@@ der != null@@ ).@@ filter@@ (@@ ("@@ P@@ rovider@@ -@@ > p@@ rovider@@ .get@@ Id().@@ e@@ qual@@ s@@ (@@ default@@ Provider@@ Id@@ )).@@ fin@@ d@@ F@@ ir@@ st@@ ().@@ or@@ El@@ se@@ (@@ null@@ ); if ((@@ (@@ default@@ Provider@@ ) == null@@ ) || (@@ default@@ Provider@@ .get@@ Network@@ Provi@@ d@@ ers@@ ().get@@ SelectedItem@@ ()))) { get@@ Network@@ Provi@@ d@@ ers@@ ().set@@ SelectedItem@@ (@@ updat@@ ed@@ Default@@ Provider@@ ); default@@ Provi@@ der = updat@@ ed@@ Default@@ Provider@@ ; } }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { o@@ ption@@ al@@ (@@ re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ()); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { o@@ ption@@ al@@ (@@ ex@@ cl@@ us@@ i@@ v@@ e()); o@@ ption@@ al@@ (@@ templat@@ e().@@ nam@@ e()); or@@ (@@ o@@ ption@@ al@@ (@@ storageDomain@@ ().@@ id@@ ()), o@@ ption@@ al@@ (@@ storageDomain@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (vm@@ ().@@ disk@@ Attachment@@ s@@ ()@@ [@@ C@@ OL@@ LE@@ C@@ TI@@ ON@@ ]@@ .@@ id@@ ()); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { o@@ ption@@ al@@ (@@ cl@@ on@@ e()); o@@ ption@@ al@@ (@@ ex@@ cl@@ us@@ i@@ v@@ e()); o@@ ption@@ al@@ (vm@@ ().@@ nam@@ e()); or@@ (@@ o@@ ption@@ al@@ (@@ storageDomain@@ ().@@ id@@ ()), o@@ ption@@ al@@ (@@ storageDomain@@ ().@@ nam@@ e())); o@@ ption@@ al@@ (vm@@ ().@@ disk@@ Attachment@@ s@@ ()@@ [@@ C@@ OL@@ LE@@ C@@ TI@@ ON@@ ]@@ .@@ disk@@ ()@@ .@@ for@@ mat@@ ()); o@@ ption@@ al@@ (vm@@ ().@@ disk@@ Attachment@@ s@@ ()@@ [@@ C@@ OL@@ LE@@ C@@ TI@@ ON@@ ]@@ .@@ id@@ ()); o@@ ption@@ al@@ (vm@@ ().@@ disk@@ Attachment@@ s@@ ()@@ [@@ C@@ OL@@ LE@@ C@@ TI@@ ON@@ ]@@ .@@ disk@@ ().@@ sp@@ ar@@ s@@ e()); }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { o@@ ption@@ al@@ (@@ cl@@ on@@ e()); o@@ ption@@ al@@ (@@ ex@@ cl@@ us@@ i@@ v@@ e()); o@@ ption@@ al@@ (@@ templat@@ e().@@ nam@@ e()); o@@ ption@@ al@@ (@@ re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ()); }
private org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage create@@ Met@@ ad@@ ata@@ Disk@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t snapshot@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > g@@ uid@@ s = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ List@@ From@@ String@@ (s@@ napsho@@ t.get@@ Memory@@ Volum@@ e()); org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c s@@ d = validate@@ StorageDomain@@ Exist@@ s@@ In@@ Db@@ (s@@ napshot@@ , g@@ ui@@ ds@@ .get@@ (0@@ ), g@@ ui@@ ds@@ .get(@@ 4@@ ), g@@ ui@@ ds@@ .get(@@ 5@@ )); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = is@@ Memory@@ Disk@@ Al@@ read@@ y@@ Exist@@ s@@ In@@ Db@@ (s@@ napshot@@ , g@@ ui@@ ds@@ .get(@@ 4@@ ), g@@ ui@@ ds@@ .get(@@ 5@@ )); if ((@@ s@@ d == null@@ ) || (@@ dis@@ k != null@@ )) { return null@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage mem@@ ory@@ Disk = org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Utils.@@ create@@ Snapshot@@ Met@@ ad@@ ata@@ Disk@@ (org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Utils.@@ gener@@ ate@@ Memory@@ Disk@@ Description@@ (vm@@ , s@@ napsho@@ t.get@@ Description@@ ())); mem@@ ory@@ Disk@@ .set@@ Id(@@ g@@ ui@@ ds@@ .get(@@ 4@@ )); mem@@ ory@@ Disk@@ .set@@ Image@@ Id(@@ g@@ ui@@ ds@@ .get(@@ 5@@ )); mem@@ ory@@ Disk@@ .set@@ Storage@@ Id@@ s@@ (@@ new java.util.Array@@ List(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ g@@ ui@@ ds@@ .get@@ (0@@ )@@ ))); mem@@ ory@@ Disk@@ .set@@ StoragePool@@ Id(@@ g@@ ui@@ ds@@ .get(@@ 1@@ )); mem@@ ory@@ Disk@@ .set@@ Cre@@ ation@@ D@@ ate(@@ s@@ napsho@@ t.get@@ Cre@@ ation@@ Dat@@ e()); mem@@ ory@@ Disk@@ .set@@ Active@@ (@@ true@@ ); mem@@ ory@@ Disk@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ vm.get@@ Disk@@ List@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (@@ ("@@ $@@ d@@ ) -@@ > d@@ .is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e())); return mem@@ ory@@ Disk@@ ; }
private org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage create@@ Memory@@ Disk@@ (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t snapshot@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > g@@ uid@@ s = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ List@@ From@@ String@@ (s@@ napsho@@ t.get@@ Memory@@ Volum@@ e()); org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c s@@ d = validate@@ StorageDomain@@ Exist@@ s@@ In@@ Db@@ (s@@ napshot@@ , g@@ ui@@ ds@@ .get@@ (0@@ ), g@@ ui@@ ds@@ .get(@@ 2@@ ), g@@ ui@@ ds@@ .get(@@ 3@@ )); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = is@@ Memory@@ Disk@@ Al@@ read@@ y@@ Exist@@ s@@ In@@ Db@@ (s@@ napshot@@ , g@@ ui@@ ds@@ .get(@@ 2@@ ), g@@ ui@@ ds@@ .get(@@ 3@@ )); if ((@@ s@@ d == null@@ ) || (@@ dis@@ k != null@@ )) { return null@@ ; } org.ovirt.engine.core.common.businessentities.VM vm = snapshot@@ Vm@@ Configuration@@ Hel@@ per@@ .get@@ Vm@@ From@@ Configuration@@ (s@@ napsho@@ t.get@@ Vm@@ Configuration@@ (), s@@ napsho@@ t.get@@ Vm@@ Id(), s@@ napsho@@ t.get@@ Id()); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage mem@@ ory@@ Disk = org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Utils.@@ create@@ Snapshot@@ Memory@@ Disk@@ (vm@@ , sd@@ .get@@ Storage@@ Typ@@ e(), vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ , org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Utils.@@ gener@@ ate@@ Memory@@ Disk@@ Description@@ (vm@@ , s@@ napsho@@ t.get@@ Description@@ ())); mem@@ ory@@ Disk@@ .set@@ Id(@@ g@@ ui@@ ds@@ .get(@@ 2@@ )); mem@@ ory@@ Disk@@ .set@@ Image@@ Id(@@ g@@ ui@@ ds@@ .get(@@ 3@@ )); mem@@ ory@@ Disk@@ .set@@ Storage@@ Id@@ s@@ (@@ new java.util.Array@@ List(@@ g@@ ui@@ ds@@ .get@@ (0@@ )@@ ))); mem@@ ory@@ Disk@@ .set@@ StoragePool@@ Id(@@ g@@ ui@@ ds@@ .get(@@ 1@@ )); mem@@ ory@@ Disk@@ .set@@ Cre@@ ation@@ D@@ ate(@@ s@@ napsho@@ t.get@@ Cre@@ ation@@ Dat@@ e()); mem@@ ory@@ Disk@@ .set@@ Active@@ (@@ true@@ ); mem@@ ory@@ Disk@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ vm.get@@ Disk@@ List@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (@@ ("@@ d@@ elet@@ e d@@ )@@ "); return mem@@ ory@@ Disk@@ ; }
private org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Image@@ Buil@@ der create@@ Memory@@ Image@@ Builder@@ () { if (!(@@ is@@ Memory@@ Snapshot@@ Supported@@ ())) { return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Null@@ able@@ Memory@@ Image@@ Builder@@ (); } if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command.getParameters().get@@ Snapshot@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t.@@ Snapshot@@ Type.@@ ST@@ AT@@ E@@ LE@@ SS@@ )) { return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Stat@@ el@@ ess@@ Snapshot@@ Memory@@ Image@@ Builder@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ VmCommand.getVm@@ ()); } if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command.get@@ Parameters@@ ().is@@ S@@ ave@@ Memory@@ ()) && (is@@ L@@ ive@@ Snapshot@@ Ap@@ pl@@ ic@@ abl@@ e())) { boolean w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e = get@@ Disks@@ List@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (@@ ("@@ s@@ napsho@@ t d@@ ) -@@ > d@@ .is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e()); return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ L@@ ive@@ Snapshot@@ Memory@@ Image@@ Builder@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ VmCommand.getVm@@ (), c@@ ach@@ ed@@ StorageDomain@@ Id, org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command.get@@ StoragePool@@ (), this@@ , vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command.getParameters().get@@ Description@@ (), w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e); } return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Null@@ able@@ Memory@@ Image@@ Builder@@ (); }
private java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ > get@@ Lun@@ s@@ (@@ boolean selected@@ Lun@@ s, boolean in@@ c@@ lu@@ d@@ ed@@ Lun@@ s) { java.util.ArrayList<@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ > lun@@ s = new java.util.ArrayList<@@ >(); if (get@@ Item@@ s()) != null@@ ) { if ((get@@ Is@@ Group@@ p@@ ed@@ By@@ T@@ arget@@ ()) { java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ T@@ arget@@ Model@@ > item@@ s = ((@@ java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ T@@ arget@@ Model@@ >) (get@@ Item@@ s@@ ())); for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ T@@ arget@@ Model it@@ e@@ m : item@@ s) { ag@@ g@@ re@@ g@@ ate@@ Add@@ ed@@ Lun@@ s(@@ item@@ .get@@ Lun@@ s@@ (), selected@@ Lun@@ s, in@@ c@@ lu@@ d@@ ed@@ Lun@@ s, lun@@ s); } } else { java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ > item@@ s = ((@@ java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ >) (get@@ Item@@ s@@ ())); ag@@ g@@ re@@ g@@ ate@@ Add@@ ed@@ Lun@@ s(@@ item@@ s, in@@ c@@ lu@@ d@@ ed@@ Lun@@ s, item@@ s); } return lun@@ s@@ ; }
private org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage create@@ Met@@ ad@@ aa@@ Disk@@ (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t snapshot@@ ) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > g@@ uid@@ s = org.ovirt.engine.core.utils.@@ Guid@@ Util@@ s.get@@ Guid@@ List@@ From@@ String@@ (s@@ napsho@@ t.get@@ Memory@@ Volum@@ e()); org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c s@@ d = validate@@ StorageDomain@@ Exist@@ s@@ In@@ Db@@ (s@@ napshot@@ , g@@ ui@@ ds@@ .get@@ (0@@ ), g@@ ui@@ ds@@ .get(@@ 4@@ ), g@@ ui@@ ds@@ .get(@@ 5@@ )); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = is@@ Memory@@ Disk@@ Al@@ read@@ y@@ Exist@@ s@@ In@@ Db@@ (s@@ napshot@@ , g@@ ui@@ ds@@ .get(@@ 4@@ ), g@@ ui@@ ds@@ .get(@@ 5@@ )); if ((@@ s@@ d == null@@ ) || (@@ dis@@ k != null@@ )) { return null@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage mem@@ ory@@ Disk = org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Utils.@@ create@@ Met@@ ad@@ ata@@ Disk@@ (); mem@@ ory@@ Disk@@ .set@@ Id(@@ g@@ ui@@ ds@@ .get(@@ 4@@ )); mem@@ ory@@ Disk@@ .set@@ Image@@ Id(@@ g@@ ui@@ ds@@ .get(@@ 5@@ )); mem@@ ory@@ Disk@@ .set@@ Storage@@ Id@@ s@@ (@@ new java.util.Array@@ List(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ g@@ ui@@ ds@@ .get@@ (0@@ )@@ ))); mem@@ ory@@ Disk@@ .set@@ StoragePool@@ Id(@@ g@@ ui@@ ds@@ .get(@@ 1@@ )); mem@@ ory@@ Disk@@ .set@@ Cre@@ ation@@ D@@ ate(@@ s@@ napsho@@ t.get@@ Cre@@ ation@@ Dat@@ e()); mem@@ ory@@ Disk@@ .set@@ Active@@ (@@ true@@ ); mem@@ ory@@ Disk@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ vm.get@@ Disk@@ List@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (@@ DiskImage@@ :@@ is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ )); return mem@@ ory@@ Disk@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value(@@ ) { switch (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Action@@ Stat@@ e()) { case END@@ _@@ FAIL@@ UR@@ E : return org.ovirt.engine.core.common.@@ AuditLogType.@@ US@@ ER_@@ DE@@ AC@@ TI@@ V@@ AT@@ E_@@ STORAGE_DOMAIN@@ _@@ FAIL@@ ED@@ ; default : return org.ovirt.engine.core.common.@@ AuditLogType.@@ UN@@ A@@ S@@ SI@@ G@@ N@@ ED@@ ; } }
private void on@@ M@@ a@@ int@@ en@@ anc@@ e() { final org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model confi@@ rm@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); java.util.ArrayList<@@ org.ovirt.engine.core.common.action.@@ Action@@ Parameters@@ Base@@ > lis@@ t = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ StorageDomain it@@ e@@ m : get@@ SelectedItem@@ s()) { org.ovirt.engine.core.common.action.@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Parameters@@ (); parameters.set@@ StorageDomain@@ Id@@ (get@@ Entity@@ ().get@@ Id()); parameters.set@@ For@@ ce@@ M@@ a@@ int@@ en@@ ance@@ (@@ confi@@ rm@@ Model.get@@ For@@ c@@ e().get@@ Entity@@ ()); if ((@@ item@@ .get@@ StoragePool@@ Id()) != null@@ ) { parameters.set@@ StoragePool@@ Id(@@ item@@ .get@@ StoragePool@@ Id()); } lis@@ t.add(@@ parameters@@ ); } final org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model confi@@ rm@@ ation@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); confi@@ rm@@ ation@@ Model.@@ st@@ art@@ Progress@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action@@ (@@ ActionType.@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ , list@@ , ("@@ Resource@@ -@@ > { confi@@ rm@@ ation@@ Model.@@ st@@ op@@ Progress@@ (); set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); }, null@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se de@@ acti@@ vat@@ e(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { return do@@ Action@@ (@@ action@@ , action@@ , action@@ ); }
@java.lang.Override protected void end@@ With@@ Failur@@ e() { if ((@@ command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Command@@ Execution@@ Status@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Command@@ Id@@ ())) != (@@ org.ovirt.engine.core.compat.@@ back@@ end@@ c@@ ompat.@@ Command@@ Execution@@ Status.@@ EX@@ EC@@ U@@ T@@ ED@@ )) { ch@@ ang@@ e@@ StorageDomain@@ Status@@ In@@ Transaction@@ (@@ load@@ StoragePool@@ Iso@@ Map@@ (), StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ ); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , AuditLogType.@@ US@@ ER_@@ DE@@ AC@@ TI@@ V@@ AT@@ E_@@ STORAGE_DOMAIN@@ _@@ OV@@ F@@ _@@ UP@@ D@@ AT@@ E_@@ IN@@ C@@ O@@ M@@ PL@@ ET@@ E); } else { org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map ma@@ p = load@@ StoragePool@@ Iso@@ Map@@ (@@ map@@ ); ch@@ ang@@ e@@ Domain@@ Status@@ With@@ Comp@@ en@@ s@@ ation@@ (@@ map@@ , StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ , StorageDomain@@ Status.@@ Active@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Comp@@ en@@ s@@ ation@@ Context@@ ()); } org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override protected void end@@ With@@ Failur@@ e() { if ((@@ command@@ C@@ o@@ or@@ d@@ in@@ ator@@ Util@@ .get@@ Command@@ Execution@@ Status@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Command@@ Id@@ ())) != (@@ org.ovirt.engine.core.compat.@@ back@@ end@@ c@@ ompat.@@ Command@@ Execution@@ Status.@@ EX@@ EC@@ U@@ T@@ ED@@ )) { ch@@ ang@@ e@@ StorageDomain@@ Status@@ In@@ Transaction@@ (@@ load@@ StoragePool@@ Iso@@ Map@@ (), StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ ); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , AuditLogType.@@ US@@ ER_@@ DE@@ AC@@ TI@@ V@@ AT@@ E_@@ STORAGE_DOMAIN@@ _@@ OV@@ F@@ _@@ UP@@ D@@ AT@@ E_@@ IN@@ C@@ O@@ M@@ PL@@ ET@@ E); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ ReturnValu@@ e().set@@ En@@ d@@ Action@@ Tr@@ y@@ Ag@@ ain@@ (@@ false@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command@@ .set@@ Succeeded@@ (@@ false@@ ); } else if (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Parameters@@ ().is@@ For@@ ce@@ M@@ a@@ int@@ en@@ anc@@ e()) { execute@@ De@@ acti@@ vate@@ Command@@ (); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); } else { org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Iso@@ Map ma@@ p = load@@ StoragePool@@ Iso@@ Map@@ (); ch@@ ang@@ e@@ Domain@@ Status@@ With@@ Comp@@ en@@ s@@ ation@@ (@@ map@@ , StorageDomain@@ Status.@@ Un@@ k@@ n@@ ow@@ n@@ , StorageDomain@@ Status.@@ Active@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Comp@@ en@@ s@@ ation@@ Context@@ ()); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ ReturnValu@@ e().set@@ En@@ d@@ Action@@ Tr@@ y@@ Ag@@ ain@@ (@@ false@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command@@ .set@@ Succeeded@@ (@@ false@@ ); } }
private void on@@ M@@ a@@ int@@ en@@ anc@@ e() { java.util.ArrayList<@@ org.ovirt.engine.core.common.action.@@ Action@@ Parameters@@ Base@@ > lis@@ t = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ StorageDomain it@@ e@@ m : get@@ SelectedItem@@ s()) { org.ovirt.engine.core.common.action.@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Parameters@@ (); parameters.set@@ StorageDomain@@ Id@@ (get@@ Entity@@ ().get@@ Id()); parameters.set@@ For@@ ce@@ M@@ a@@ int@@ en@@ ance@@ (@@ false@@ ); if ((@@ item@@ .get@@ StoragePool@@ Id()) != null@@ ) { parameters.set@@ StoragePool@@ Id(@@ item@@ .get@@ StoragePool@@ Id()); } lis@@ t.add(@@ parameters@@ ); } final org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model confi@@ rm@@ ation@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ Confirmation@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); confi@@ rm@@ ation@@ Model.@@ st@@ art@@ Progress@@ (); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action@@ (@@ ActionType.@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ , list@@ , ("@@ Th@@ e result) -@@ > confi@@ rm@@ ation@@ Model.@@ st@@ op@@ Progress@@ (); set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); }, null@@ ); }
@java.lang.Override public org.ovirt.engine.core.common.@@ AuditLog@@ Type get@@ AuditLog@@ Type@@ Value(@@ ) { switch (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Action@@ Stat@@ e()) { case END@@ _@@ FAIL@@ UR@@ E : return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ UN@@ A@@ S@@ SI@@ G@@ N@@ E@@ D : org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ UN@@ A@@ S@@ SI@@ G@@ N@@ E@@ D : org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ UN@@ A@@ S@@ SI@@ G@@ N@@ E@@ D : org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ UN@@ A@@ S@@ SI@@ G@@ N@@ E@@ D : org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Action@@ Stat@@ e()) { case END@@ _@@ FAIL@@ UR@@ E : return org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ De@@ acti@@ vate@@ StorageDomain@@ With@@ Ovf@@ Update@@ Command.get@@ Succeeded@@ () ? org.ovirt.engine.core.common.@@ AuditLogType.@@ UN@@ A@@ S@@ SI@@ G@@
private void handl@@ e@@ Pa@@ us@@ ed@@ (@@ final org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ <@@ T@@ >@@ .@@ St@@ ate@@ Cont@@ ex@@ t cont@@ ext@@ ) { per@@ i@@ od@@ ic@@ Pa@@ us@@ e@@ Log@@ (@@ cont@@ ext.@@ entity@@ , cont@@ ext.@@ it@@ er@@ ation@@ Tim@@ est@@ am@@ p@@ ); if ((@@ cont@@ ext.@@ entity.get@@ Image@@ d@@ T@@ ick@@ et@@ Id()) != null@@ ) { ex@@ tend@@ T@@ ick@@ et@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (@@ cont@@ ext@@ ); } }
private void p@@ oll@@ Trans@@ fer@@ Status@@ (@@ final org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ <@@ T@@ >@@ .@@ St@@ ate@@ Cont@@ ex@@ t cont@@ ext@@ ) { if ((((@@ cont@@ ext.@@ entity.get@@ Vds@@ Id()) == null@@ ) || ((@@ cont@@ ext.@@ entity.get@@ Image@@ d@@ T@@ ick@@ et@@ Id()) == null@@ )) || (!@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Trans@@ fer@@ Type.@@ Down@@ lo@@ a@@ d@@ )) { return@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er up@@ To@@ D@@ ate@@ Image@@ Trans@@ f@@ er = update@@ Trans@@ fer@@ Status@@ With@@ Image@@ T@@ ick@@ et@@ (@@ cont@@ ext.@@ enti@@ ty@@ ); if (is@@ A@@ f@@ f@@ f@@ f@@ er@@ p@@ ()) { update@@ F@@ a@@ ult@@ (@@ true@@ ); } }
private org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er update@@ Trans@@ fer@@ Status@@ With@@ Image@@ T@@ ick@@ et@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ f@@ er old@@ Image@@ Trans@@ fer@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ T@@ ick@@ et@@ I@@ n@@ for@@ m@@ ation tic@@ k@@ et@@ In@@ f@@ o = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ T@@ ick@@ et@@ I@@ n@@ for@@ m@@ ation@@ ) (@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Image@@ T@@ ick@@ et@@ , new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Image@@ T@@ ick@@ et@@ VDSCommand@@ Parameters(@@ old@@ Image@@ Trans@@ fer@@ .get@@ Vds@@ Id(), old@@ Image@@ Trans@@ fer@@ .get@@ Image@@ d@@ T@@ ick@@ et@@ Id@@ ())@@ ).get@@ ReturnValu@@ e())); if ((!@@ (@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ Image@@ Trans@@ fer@@ .get@@ Acti@@ v@@ e(), tic@@ k@@ et@@ Info@@ .is@@ Acti@@ v@@ e()@@ ))) || (!(@@ java.util.@@ Object@@ s.@@ equals(@@ old@@ Image@@ Trans@@ fer@@ .get@@ By@@ t@@ es@@ S@@ ent@@ (), tic@@ k@@ et@@ Info@@ .get@@ Trans@@ f@@ err@@ ed@@ ())@@ ))) { org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er updat@@ es@@ From@@ T@@ ick@@ e@@ t = new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ (); updat@@ es@@ From@@ T@@ ick@@ et@@ .set@@ By@@ t@@ es@@ S@@ ent@@ (@@ tic@@ k@@ et@@ Info@@ .get@@ Trans@@ f@@ err@@ ed@@ ()); updat@@ es@@ From@@ T@@ ick@@ et@@ .set@@ Acti@@ v@@ e(@@ tic@@ k@@ et@@ Info@@ .is@@ Acti@@ v@@ e()); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue return@@ Valu@@ e = run@@ Internal@@ Action@@ (@@ ActionType.@@ Trans@@ fer@@ Image@@ Status@@ , new org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ Image@@ Status@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id(), updat@@ es@@ From@@ T@@ ick@@ et@@ )); if (@@ return@@ Valu@@ e == null@@ ) || (!@@ (@@ return@@ Valu@@ e.get@@ Succeeded@@ ()))) { log.@@ d@@ ebug@@ ("@@ Fail@@ ed to updat@@ e trans@@ f@@ er stat@@ u@@ s.@@ "); return old@@ Image@@ Trans@@ fer@@ ; } return old@@ Image@@ Trans@@ fer@@ ; }
java.lang.String P@@ RO@@ V@@ ID@@ ER_@@ US@@ ED_@@ IN@@ _C@@ LUST@@ ER@@ _M@@ U@@ L@@ TI@@ PL@@ E_@@ TI@@ M@@ E@@ S@@ ();
java.lang.String P@@ RO@@ V@@ ID@@ ER_@@ US@@ ED_@@ IN@@ _C@@ LUSTER_@@ ON@@ C@@ E@@ ();
public org.ovirt.engine.core.bll.ValidationResult p@@ rovider@@ Is@@ No@@ Default@@ Provider@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Cluster@@ > cluster@@ s = cluster@@ Dao@@ .get@@ All@@ C@@ lust@@ ers@@ By@@ Default@@ Network@@ Provider@@ Id(@@ p@@ rovider@@ .getId()); return cluster@@ s.@@ isEmpty@@ () ? org.ovirt.engine.core.bll.ValidationResult.@@ VAL@@ I@@ D : new org.ovirt.engine.core.bll.ValidationResult@@ (get@@ Provider@@ Us@@ ed@@ In@@ Cluster@@ Validation@@ Message@@ (cluster@@ s.@@ siz@@ e()@@ ), org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ re@@ pl@@ ace@@ With@@ Name@@ able(@@ "@@ C@@ LUSTER_@@ NAM@@ E@@ S@@ ", c@@ lust@@ ers@@ )); }
private org.ovirt.engine.api.model.@@ Is@@ csi@@ Detail@@ s map@@ Log@@ ical@@ Unit@@ To@@ Is@@ csi@@ Detail@@ s(@@ org.ovirt.engine.api.model.@@ Log@@ ical@@ Un@@ i@@ t log@@ ical@@ Unit@@ ) { org.ovirt.engine.api.model.@@ Is@@ csi@@ Detail@@ s is@@ csi@@ Detail@@ s = new org.ovirt.engine.api.model.@@ Is@@ csi@@ Detail@@ s(); is@@ csi@@ Detail@@ s.set@@ Address@@ (@@ log@@ ical@@ Un@@ it.@@ get@@ Address@@ ()); is@@ csi@@ Detail@@ s.set@@ Port@@ (@@ log@@ ical@@ Un@@ it.@@ get@@ Port@@ ()); is@@ csi@@ Detail@@ s.set@@ T@@ arget@@ (@@ log@@ ical@@ Un@@ it.@@ get@@ T@@ arget@@ ()); return is@@ csi@@ Detail@@ s@@ ; }
private javax.ws.rs.@@ core.@@ Respon@@ se p@@ er@@ for@@ m@@ Cre@@ ate(@@ org.ovirt.engine.api.model.@@ Image@@ Trans@@ f@@ er image@@ Trans@@ fer@@ , org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ DiskImage@@ Parameters param@@ s) { update@@ Trans@@ fer@@ Type(@@ image@@ Trans@@ fer@@ , param@@ s); if (@@ image@@ Trans@@ f@@ er.@@ isSet@@ Host@@ ()) { params.set@@ Vds@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (@@ image@@ Trans@@ fer@@ .get@@ Host@@ ().get@@ Id@@ ())); } return p@@ er@@ for@@ m@@ Cre@@ ate(@@ ActionType.@@ Trans@@ fer@@ DiskImage@@ , param@@ s, new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type.Get@@ Image@@ Trans@@ fer@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ )); }
private org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage get@@ Disk@@ For@@ Volume@@ (org.ovirt.engine.core.compat.Guid disk@@ ) { return disk@@ Image@@ Dao@@ .get@@ An@@ c@@ est@@ or@@ (disk@@ .get@@ Image@@ Id()); }
@java.lang.Override protected void execute@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s = get@@ Disks@@ (); if (disk@@ s == null@@ ) { disk@@ s = get@@ Disks@@ (); } else { disk@@ s = get@@ Disks@@ (); } }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Cont@@ ex@@ t cont@@ ext@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der sb@@ , java.lang.String id@@ ) { int add@@ ition@@ al@@ Available@@ Size@@ Siz@@ e = valu@@ e.get@@ Add@@ ition@@ al@@ Available@@ Siz@@ e(); java.lang.String add@@ ition@@ al@@ Available@@ Size@@ Strin@@ g = org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Add@@ Or@@ Ex@@ tend@@ Column@@ .@@ mess@@ ages.@@ add@@ ition@@ al@@ Available@@ Size@@ In@@ G@@ B@@ (@@ add@@ ition@@ al@@ Available@@ Size@@ ); boolean is@@ G@@ r@@ ay@@ ed@@ O@@ u@@ t = valu@@ e.get@@ Is@@ G@@ r@@ ay@@ ed@@ Out@@ (); java.lang.String in@@ put@@ Id = id + "@@ _@@ in@@ put@@ "@@ ; com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l in@@ pu@@ t = null@@ ; if ((!@@ is@@ G@@ r@@ ay@@ ed@@ Out@@ ) && (!(@@ valu@@ e.get@@ Is@@ Selected@@ ()))) { in@@ pu@@ t = templat@@ es.@@ t@@ og@@ g@@ l@@ ed@@ Up@@ (@@ in@@ put@@ Id, org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Add@@ Or@@ Ex@@ tend@@ Column@@ .@@ const@@ an@@ t@@ s.@@ add@@ S@@ an@@ Storage@@ ()); } else if (!@@ is@@ G@@ r@@ ay@@ ed@@ Out@@ ) { in@@ pu@@ t = templat@@ es.@@ t@@ og@@ g@@ l@@ ed@@ Down@@ (@@ in@@ put@@ Id, org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Add@@ Or@@ Ex@@ tend@@ Column@@ .@@ const@@ an@@ t@@ s.@@ add@@ S@@ an@@ Storage@@ ()); } else if (!(@@ valu@@ e.get@@ Is@@ In@@ c@@ lu@@ d@@ ed@@ ())) { in@@ pu@@ t = templat@@ es.@@ no@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Ex@@ tend@@ Column@@ .@@ ui@@ Constant@@ s.@@ not@@ Available@@ Label@@ (), "@@ c@@ ol@@ or@@ :@@ g@@ r@@ ay@@ ", in@@ put@@ Id); } else if (@@ add@@ ition@@ al@@ Available@@ Size@@ Siz@@ e == 0) { in@@ pu@@ t = templat@@ es.@@ no@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Add@@ Or@@ Ex@@ tend@@ Column@@ .@@ const@@ an@@ t@@ s.@@ can@@ not@@ Ex@@ tend@@ S@@ an@@ Storage@@ (), "@@ c@@ ol@@ or@@ :@@ g@@ r@@ ay@@ ", in@@ put@@ Id); } else if (@@ valu@@ e.@@ is@@ Add@@ ition@@ al@@ Available@@ Size@@ Selected@@ ()) { in@@ pu@@ t = templat@@ es.@@ t@@ og@@ g@@ l@@ ed@@ Down@@ (@@ in@@ put@@ Id, add@@ ition@@ al@@ Available@@ Size@@ String@@ ); } else { in@@ pu@@ t = templat@@ es.@@ t@@ og@@ g@@ l@@ ed@@ Up@@ (@@ in@@ pu@@ t = templat@@ es.@@ t@@ og@@ g@@ l@@ ed@@ Up@@ (@@ in@@ put@@ )); } sb@@ .@@ append@@ (@@ templat@@ es.@@ sp@@ an@@ Storage@@ ()); }
java.lang.String add@@ Or@@ Ex@@ tend@@ S@@ an@@ Storage@@ ();
@java.lang.Override protected void execute@@ Command() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Vm@@ Element@@ > disk@@ Vm@@ Element@@ s = disk@@ Vm@@ Element@@ Dao@@ .get@@ All@@ Disk@@ Vm@@ Element@@ sBy@@ Disk@@ Id@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disk@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ ()); org.ovirt.engine.core.common.action.@@ Action@@ Type action@@ Type = get@@ Move@@ Action@@ Type(@@ disk@@ Vm@@ Element@@ s); if (@@ action@@ Type == (@@ org.ovirt.engine.core.common.action.@@ Move@@ Or@@ Copy@@ Disk@@ )) { org.ovirt.engine.core.common.action.@@ Move@@ Disk@@ Parameters m@@ ove@@ Disk@@ Parameters = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disk@@ Command.get@@ Parameters@@ (); m@@ ove@@ Disk@@ Parameter@@ s.set@@ Command@@ Id@@ (@@ null@@ ); action@@ ReturnValue = run@@ Internal@@ Action@@ (@@ action@@ Type, m@@ ove@@ Disk@@ Parameters@@ , org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ create@@ Internal@@ Job@@ Context@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disk@@ Command.get@@ Context@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disk@@ Command.get@@ Lock@@ ())); } else { org.ovirt.engine.core.compat.Guid vm@@ Id = disk@@ Vm@@ Element@@ s.get@@ (0@@ ).get@@ Vm@@ Id@@ (); engin@@ e@@ Loc@@ k = lock@@ Vm@@ With@@ W@@ a@@ it@@ (vm@@ Id); action@@ ReturnValue = run@@ Internal@@ Action@@ (@@ action@@ Type, create@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disk@@ Command.get@@ Parameters@@ (), vm@@ Id@@ ), org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ create@@ Internal@@ Job@@ Context@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disk@@ Command.get@@ Context@@ (), engin@@ e@@ Lock@@ )); } handl@@ e@@ Ch@@ il@@ d@@ ReturnValu@@ e(); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Disk@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ C@@ luster cluster@@ ) { validate@@ Parameters@@ (cluster@@ , get@@ M@@ and@@ ator@@ y@@ Parameters@@ ()); org.ovirt.engine.core.common.businessentities.@@ Storage@@ Pool data@@ Cent@@ er = get@@ DataCenter@@ (cluster@@ ); validate@@ Parameters@@ (cluster@@ , dataCenter@@ ), new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type.Get@@ Cluster@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ )); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se add(@@ org.ovirt.engine.api.model.@@ Hos@@ t host@@ ) { validate@@ Parameters(@@ host@@ , "@@ name@@ ", "@@ add@@ ress@@ "); org.ovirt.engine.core.common.businessentities.@@ Vds@@ Stati@@ c static@@ Hos@@ t = get@@ Map@@ per@@ (@@ org.ovirt.engine.api.model.@@ Host@@ .@@ class@@ , org.ovirt.engine.core.common.businessentities.@@ Vds@@ Static@@ .@@ class@@ ).@@ map@@ (@@ host@@ , null@@ ); static@@ Hos@@ t.@@ set@@ Cluster@@ Id@@ (get@@ Cluster@@ Id(@@ host@@ )); org.ovirt.engine.core.common.businessentities.@@ Vds@@ Static@@ .@@ class@@ ).@@ map@@ (@@ host@@ , null@@ ); static@@ Hos@@ t.@@ set@@ Cluster@@ Id@@ (get@@ Cluster@@ Id(@@ host@@ )); org.ovirt.engine.core.compat.Guid host@@ Id = get@@ Provider@@ Id@@ Comp@@ let@@ er@@ (@@ this@@ ); ex@@ ternal@@ Network@@ Provider@@ Configuration@@ Id@@ Comp@@ let@@ er.@@ comp@@ let@@ e(@@ hos@@ t.get@@ External@@ Network@@ Provider@@ Configuration@@ s()); org.ovirt.engine.core.common.action.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Add@@ Vds@@ Action@@ Parameters add@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Add@@ Vds@@ Action@@ Parameters@@ (@@ static@@ Host@@ , hos@@ t.get@@ R@@ oot@@ Password@@ ()); if (@@ host.@@ isSet@@ O@@ verrid@@ e@@ Ip@@ tabl@@ es@@ ()) { add@@ Param@@ s.set@@ O@@ verrid@@ e@@ Fi@@ re@@ w@@ all@@ (@@ host.@@ is@@ O@@ verrid@@ e@@ Ip@@ tabl@@ es@@ ()); } add@@ Param@@ s.set@@ Host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ Configuration@@ (@@ org.ovirt.engine.api.restapi.resource.@@ Host@@ Resource@@ Parameters@@ Util@@ .get@@ Host@@ ed@@ Engine@@ De@@ pl@@ o@@ y@@ Configuration@@ (@@ this@@ )); add@@ Param@@ s = ((@@ org.ovirt.engine.core.common.action.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Add@@ Vds@@ Action@@ Parameters@@ ) (get@@ Map@@ per@@ (@@ org.ovirt.engine.api.model.@@ Host@@ .@@ class@@ , org.ovirt.engine.core.common.action.@@ Vds@@ Operation@@ Action@@ Parameters@@ .@@ class@@ ).@@ map@@ (@@ host@@ , add@@ Param@@ s@@ ))); return p@@ er@@ for@@ m@@ Cre@@ ate(@@ ActionType.@@ Add@@ Vds@@ , add@@ Param@@ s, new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type.Get@@ Vds@@ By@@ Vds@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ )); }
@java.lang.Override public org.ovirt.engine.api.model.@@ Hos@@ t updat@@ e(@@ org.ovirt.engine.api.model.@@ Hos@@ t in@@ com@@ ing@@ ) { org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <org.ovirt.engine.core.compat.Guid@@ > host@@ Res@@ ol@@ ve@@ r = new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type.Get@@ Vds@@ By@@ Vds@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ ); org.ovirt.engine.core.common.businessentities.@@ VDS enti@@ ty = get@@ Entity(@@ host@@ Res@@ ol@@ ver@@ , true@@ ); org.ovirt.engine.api.restapi.resource.@@ External@@ Network@@ Provider@@ Configuration@@ Id@@ Comp@@ let@@ er ex@@ ternal@@ Network@@ Provider@@ Configuration@@ Id@@ Comp@@ let@@ er = new org.ovirt.engine.api.restapi.resource.@@ External@@ Network@@ Provider@@ Configuration@@ Id@@ Comp@@ let@@ er@@ (@@ this@@ ); ex@@ ternal@@ Network@@ Provider@@ Configuration@@ Id@@ Comp@@ let@@ er.@@ comp@@ let@@ e(@@ in@@ com@@ ing.@@ get@@ External@@ Network@@ Provider@@ Configuration@@ s()); if ((@@ in@@ com@@ ing.@@ get@@ Agent@@ s()) == null@@ ) { entity.set@@ Fence@@ Agent@@ s@@ (@@ null@@ ); } if ((@@ in@@ com@@ ing.@@ isSet@@ Cluster@@ ()) && ((@@ in@@ com@@ ing.@@ get@@ Cluster@@ ().is@@ Set@@ Id()) || (@@ in@@ com@@ ing.@@ get@@ Cluster@@ ().is@@ Set@@ Name()@@ ))) { org.ovirt.engine.core.compat.Guid cluster@@ Id = lo@@ o@@ k@@ up@@ Cluster@@ Id(@@ in@@ com@@ ing@@ ); if (!@@ (cluster@@ Id@@ .equals(@@ entity.get@@ Cluster@@ Id@@ ()))) { p@@ er@@ for@@ m@@ Action@@ (@@ ActionType.@@ Change@@ VDS@@ Cluster@@ , new org.ovirt.engine.core.common.action.@@ Change@@ VDS@@ Cluster@@ Parameters@@ (cluster@@ Id, g@@ uid@@ )); enti@@ ty = get@@ Entity(@@ host@@ Res@@ ol@@ ver@@ , true@@ ); } org.ovirt.engine.api.model.@@ Hos@@ t hos@@ t = p@@ er@@ for@@ m@@ Updat@@ e(@@ in@@ com@@ ing@@ , entity@@ , map@@ (@@ entity@@ ), host@@ Res@@ ol@@ ver@@ , new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Host@@ Resourc@@ e.@@ Update@@ Parameters@@ Provider@@ ()); return host@@ ; }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ C@@ luster updat@@ e(@@ org.ovirt.engine.api.model.@@ C@@ luster in@@ com@@ ing@@ ) { validate@@ Enum@@ s(@@ org.ovirt.engine.api.model.@@ C@@ luster in@@ com@@ ing@@ , new org.ovirt.engine.api.restapi.resource.@@ External@@ Provider@@ Id@@ Comp@@ let@@ er@@ (@@ this@@ ); ex@@ ternal@@ Provider@@ Id@@ Comp@@ let@@ er.@@ comp@@ let@@ e(@@ in@@ com@@ ing.@@ get@@ External@@ Network@@ Provi@@ d@@ ers@@ ()); return p@@ er@@ for@@ m@@ Updat@@ e(@@ in@@ com@@ ing@@ , new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type.Get@@ Cluster@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ ), ActionType.@@ Update@@ Cluster@@ , new Update@@ Parameters@@ Provider@@ ()); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se ex@@ port@@ To@@ Path@@ On@@ Host@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ host.@@ id@@ |@@ name@@ ", "@@ p@@ ath@@ "); org.ovirt.engine.core.common.action.@@ Export@@ O@@ va@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Export@@ O@@ va@@ Parameters@@ (); params.set@@ Entity@@ Type(@@ Vm@@ Entity@@ Type.@@ VM@@ ); params.set@@ Entity@@ Id(@@ g@@ uid@@ ); params.set@@ Proxy@@ Host@@ Id@@ (get@@ Host@@ Id(@@ action@@ )); params.set@@ Path@@ (@@ action@@ .get@@ Path@@ ()); return do@@ Action@@ (@@ ActionType.@@ Export@@ O@@ va@@ , param@@ s, action@@ ); }
protected void ex@@ port@@ O@@ va@@ () { }
@java.lang.Override protected void ex@@ port@@ O@@ va@@ () { super@@ .@@ ex@@ port@@ O@@ va@@ (); org.ovirt.engine.core.common.businessentities.VM selected@@ Entity = org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ .get@@ SelectedItem@@ (); if (s@@ elected@@ Entity == null@@ ) { return@@ ; } if ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ ListModel@@ .get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.core.common.action.@@ Export@@ O@@ va@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Export@@ O@@ va@@ Parameters@@ (); parameters.set@@ Entity@@ Type(@@ Vm@@ Entity@@ Type.@@ VM@@ ); parameters.set@@ Entity@@ Id(@@ selected@@ Entity@@ .getId()); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ (@@ ActionType.@@ Export@@ O@@ va@@ , parameters@@ ); }
public boolean is@@ Us@@ ing@@ D@@ ist@@ in@@ c@@ t@@ (java.lang.String obj@@ ) { if ((@@ org.ovirt.engine.core.@@ search@@ back@@ end@@ .@@ Search@@ Object@@ A@@ uto@@ Comp@@ let@@ er@@ .get@@ Entity@@ Search@@ Info@@ (@@ obj@@ )) != null@@ ) { return org.ovirt.engine.core.@@ search@@ back@@ end@@ .@@ Search@@ Object@@ A@@ uto@@ Comp@@ let@@ er@@ .get@@ Entity@@ Search@@ Info@@ (@@ obj@@ ).@@ d@@ ist@@ in@@ c@@ t@@ ; } return false@@ ; }
@@@ org.ovirt.engine.ui.common.@@ Sourc@@ e(@@ "@@ im@@ ages@@ /@@ pre@@ par@@ e@@ _@@ to@@ _@@ m@@ a@@ int@@ en@@ anc@@ e.@@ p@@ ng@@ ") com.google.gwt.@@ resourc@@ es.@@ client.@@ Image@@ Resourc@@ e pre@@ par@@ e@@ To@@ M@@ a@@ int@@ en@@ anc@@ e();
public boolean is@@ Fi@@ eld@@ Updat@@ able(@@ java.lang.@@ Enum@@ <?@@ > status@@ , java.lang.String name@@ , java.lang.Object fi@@ eld@@ Cont@@ ain@@ er@@ , boolean h@@ ot@@ set@@ Enabled@@ ) { boolean return@@ Valu@@ e = true@@ ; if (!(@@ is@@ Fi@@ eld@@ Updat@@ able(@@ name@@ ))) { if (((@@ fi@@ eld@@ Cont@@ ain@@ er != null@@ ) && ((@@ contain@@ er@@ ) != null@@ )) && (!(@@ contain@@ er.@@ can@@ Update@@ Fi@@ eld@@ (@@ fi@@ eld@@ Cont@@ ain@@ er@@ , name@@ , status@@ )))) { return@@ Valu@@ e = false@@ ; } else { java.util.Set@@ <java.lang.String@@ > value@@ s = d@@ ic@@ tion@@ ar@@ y@@ .get(@@ status@@ ); return@@ Valu@@ e = (@@ value@@ s != null@@ ) ? valu@@ es.@@ contains(@@ nam@@ e) : false@@ ; if (!(@@ return@@ Value@@ ) && h@@ ot@@ set@@ Enabled@@ ) && (@@ stat@@ u@@ s == (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ Up@@ ))) { return@@ Valu@@ e = is@@ H@@ ot@@ Set@@ Fi@@ eld@@ (@@ nam@@ e); } } if (@@ !@@ return@@ Value@@ ) { org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er.@@ log.@@ w@@ ar@@ n@@ ("@@ Hos@@ t '{}@@ ' c@@ an not b@@ e update@@ d wh@@ e@@ n stat@@ u@@ s is '{}@@ '@@ ", name@@ , status@@ ); } } return return@@ Value@@ ; }
public boolean create@@ Ovf@@ Stor@@ e@@ Disks@@ (@@ int mis@@ sing@@ Disk@@ Count@@ ) { boolean All@@ Ovf@@ Stor@@ e@@ Disks@@ Create@@ d = true@@ ; for (@@ int i = 0@@ ; i < mis@@ sing@@ Disk@@ Count@@ ; i@@ +@@ +@@ ) { org.ovirt.engine.core.common.action.@@ Create@@ Ovf@@ Volume@@ For@@ StorageDomain@@ Command@@ Parameters parameter@@ s = create@@ Create@@ Ovf@@ Volume@@ For@@ StorageDomain@@ Param@@ s(); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue return@@ Valu@@ e = run@@ Internal@@ Action@@ (@@ ActionType.@@ Create@@ Ovf@@ Volume@@ For@@ StorageDomain@@ , parameters@@ , org.ovirt.engine.core.bll.storage.@@ o@@ vf@@ stor@@ e.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StorageDomain@@ Command.get@@ Context@@ ().@@ cl@@ on@@ e().@@ with@@ out@@ Lock@@ ()); if (!@@ (@@ return@@ Valu@@ e.get@@ Succeeded@@ ())) { All@@ Ovf@@ Stor@@ e@@ Disks@@ Create@@ d = false@@ ; } return All@@ Ovf@@ Stor@@ e@@ Disks@@ Cre@@ ated@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se do@@ Import@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { org.ovirt.engine.core.compat.Guid d@@ est@@ StorageDomain@@ Id = get@@ Dest@@ StorageDomain@@ Id(@@ action@@ ); org.ovirt.engine.core.compat.Guid cluster@@ Id = null@@ ; if (@@ action.@@ isSet@@ Cluster@@ ()) { cluster@@ Id = get@@ Cluster@@ Id(@@ action@@ ); } org.ovirt.engine.core.common.action.@@ Import@@ VmTemplate@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Import@@ VmTemplate@@ Parameters(@@ par@@ ent.@@ get@@ DataCenter@@ Id(@@ d@@ est@@ StorageDomain@@ Id@@ ), par@@ ent.@@ get@@ StorageDomain@@ Id(), d@@ est@@ StorageDomain@@ Id, cluster@@ Id, get@@ Entity@@ ()); params.set@@ Image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ (get@@ Disk@@ To@@ Dest@@ ination@@ Map@@ (@@ action@@ )); params.set@@ For@@ ce@@ O@@ verrid@@ e@@ ((@@ action.@@ isSet@@ Ex@@ cl@@ us@@ i@@ v@@ e() ? action.@@ is@@ Ex@@ cl@@ us@@ i@@ v@@ e() : false@@ )); if (@@ action.@@ isSet@@ Cl@@ on@@ e()) { params.set@@ Import@@ As@@ New@@ Entity(@@ action.@@ is@@ Cl@@ on@@ e()); if ((@@ action.@@ isSet@@ Templat@@ e()) && (@@ action@@ .get@@ Templat@@ e().@@ isSet@@ Name()@@ )) { param@@ s.get@@ Vm@@ Templat@@ e().set@@ Name(@@ action@@ .get@@ Templat@@ e().get@@ Name()); } } return do@@ Action@@ (@@ ActionType.@@ Import@@ VmTemplate@@ , param@@ s, action@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se do@@ Import@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { org.ovirt.engine.core.compat.Guid d@@ est@@ StorageDomain@@ Id = get@@ Dest@@ StorageDomain@@ Id(@@ action@@ ); org.ovirt.engine.core.compat.Guid cluster@@ Id = null@@ ; if (@@ action.@@ isSet@@ Cluster@@ ()) { cluster@@ Id = get@@ Cluster@@ Id(@@ action@@ ); } org.ovirt.engine.core.common.action.@@ Import@@ Vm@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Import@@ Vm@@ Parameters@@ (get@@ Entity@@ (), par@@ ent.@@ get@@ StorageDomain@@ Id(), d@@ est@@ StorageDomain@@ Id, par@@ ent.@@ get@@ DataCenter@@ Id(@@ d@@ est@@ StorageDomain@@ Id@@ ), cluster@@ Id); params.set@@ Image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ (get@@ Disk@@ To@@ Dest@@ ination@@ Map@@ (@@ action@@ )); params.set@@ For@@ ce@@ O@@ verrid@@ e@@ ((@@ action.@@ isSet@@ Ex@@ cl@@ us@@ i@@ v@@ e() ? action.@@ is@@ Ex@@ cl@@ us@@ i@@ v@@ e() : false@@ )); boolean c@@ oll@@ ap@@ se@@ Snapshot@@ s = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Boolean@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , org.ovirt.engine.api.restapi.resource.@@ Backend@@ StorageDomain@@ Vm@@ Resourc@@ e.@@ C@@ OL@@ L@@ A@@ P@@ S@@ NA@@ P@@ S@@ HO@@ T@@ S@@ , true@@ , false@@ ); if (c@@ oll@@ ap@@ se@@ Snapshot@@ s) { params.set@@ Copy@@ C@@ oll@@ ap@@ se(@@ c@@ oll@@ ap@@ se@@ Snapshot@@ s); } set@@ Volum@@ es@@ Type@@ Format@@ (@@ action@@ ); if (@@ action.@@ isSet@@ Cl@@ on@@ e()) { params.set@@ Import@@ As@@ New@@ Entity(@@ action.@@ is@@ Cl@@ on@@ e()); if ((@@ action.@@ isSet@@ Vm@@ ()) && (@@ action@@ .get@@ Vm@@ ().is@@ Set@@ Name()@@ )) { param@@ s.get@@ Vm@@ ().set@@ Name(@@ action@@ .get@@ Vm@@ ().get@@ Name()); } } return do@@ Action@@ (@@ ActionType.@@ Import@@ Vm@@ , param@@ s, action@@ ); }
public void update@@ VDS@@ Interface@@ List(@@ java.util.Collection@@ <@@ org.ovirt.engine.core.common.utils.Pair@@ Query@@ able@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interface@@ , org.ovirt.engine.core.common.businessentities.@@ VDS@@ >> p@@ a@@ ir@@ Collection@@ , java.lang.@@ Run@@ n@@ able callback@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > vds@@ List = p@@ a@@ ir@@ Collection@@ .@@ st@@ re@@ am@@ ().@@ map@@ (@@ ( p@@ a@@ ir@@ ) -@@ > p@@ a@@ ir@@ .get@@ Sec@@ ond@@ ()).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); update@@ VDS@@ Interface@@ List(@@ vds@@ List@@ , callback@@ ); }
public void update@@ VDS@@ Interface@@ List(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > vds@@ List@@ , java.lang.@@ Run@@ n@@ able callback@@ ) { java.util.List<@@ org.ovirt.engine.core.common.queries.@@ Query@@ Type@@ > type@@ s = new java.util.ArrayList<@@ >(); java.util.List<@@ org.ovirt.engine.core.common.queries.@@ Query@@ Parameters@@ Base@@ > id@@ s = new java.util.ArrayList<@@ >(); if (!(@@ vds@@ Lis@@ t.@@ isEmpty())) { vds@@ Lis@@ t.@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( vds@@ ) -@@ > types.@@ add(@@ Query@@ Type.Get@@ Vds@@ Interfaces@@ By@@ Vds@@ Id); id@@ s.@@ add@@ (@@ new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ vds.get@@ Id@@ ())); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Quer@@ i@@ es(@@ typ@@ es@@ , id@@ s, ("@@ I@@ fac@@ e result) -@@ > value@@ s = result.get@@ ReturnValu@@ es@@ (); for (@@ int i = 0@@ ; i < (@@ vds@@ Lis@@ t.@@ siz@@ e()); i@@ +@@ +@@ ) { org.ovirt.engine.core.common.queries.@@ Query@@ ReturnValue int@@ er@@ fac@@ e@@ Query@@ Valu@@ e = valu@@ es@@ .get(@@ i@@ ); if (@@ int@@ er@@ fac@@ e@@ Query@@ Valu@@ e.get@@ ReturnValu@@ e()) != null@@ ) { vds@@ Lis@@ t.get@@ (@@ i@@ ).get@@ Interfaces@@ ().add@@ All@@ (@@ int@@ er@@ fac@@ e@@ Query@@ Valu@@ e.get@@ ReturnValu@@ e()); callback@@ .@@ run@@ (); } } else { callback@@ .@@ run@@ (); } }
private java.util.@@ Option@@ al@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > tr@@ ace@@ Configuration@@ Disk@@ (org.ovirt.engine.core.compat.Guid sp@@ Id, org.ovirt.engine.core.compat.Guid sd@@ Id, java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > disk@@ Id@@ s) { if (disk@@ Id@@ s == null@@ ) { return java.util.@@ Option@@ al.@@ em@@ pty@@ (); } return disk@@ Id@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ ( disk@@ Id) -@@ > new org.ovirt.engine.core.bll.@@ host@@ ed@@ engin@@ e.@@ Pair@@ <@@ >@@ (disk@@ Id, ((@@ List<@@ org.ovirt.engine.core.compat.Guid@@ >) (@@ res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Volum@@ es@@ List@@ , new org.ovirt.engine.core.common.vdscommands.@@ StoragePool@@ Domain@@ And@@ Group@@ Id@@ Base@@ VDSCommand@@ Parameters@@ (s@@ p@@ Id, sd@@ Id, disk@@ Id@@ )@@ ).get@@ ReturnValu@@ e()@@ )@@ )).@@ f@@ l@@ at@@ Map@@ (@@ ( disk@@ To@@ Volum@@ es) -@@ > disk@@ To@@ Volum@@ es@@ .get@@ Sec@@ ond@@ ().@@ st@@ re@@ am@@ ().@@ map@@ (@@ ( volume@@ Id) -@@ > get@@ Image@@ Info@@ (s@@ p@@ Id, sd@@ Id, sd@@ Id, sd@@ To@@ Volum@@ es@@ .get@@ F@@ ir@@ st@@ (), volume@@ Id@@ )@@ )).@@ filter@@ (@@ java.util.@@ Object@@ s@@ :@@ n@@ on@@ Null@@ ).@@ map@@ (@@ ( disk@@ Image@@ Call@@ ) -@@ > ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ Image@@ Call@@ .get@@ ReturnValu@@ e()@@ )@@ )).@@ filter@@ (@@ java.util.@@ Object@@ s@@ :@@ n@@ on@@ Null@@ ).@@ filter@@ (@@ this@@ :@@ is@@ Host@@ ed@@ Engine@@ Config@@ Volum@@ es@@ ).@@ fin@@ d@@ An@@ y@@ (); }
private boolean is@@ Host@@ ed@@ Engine@@ Config@@ Volum@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image@@ ) { final java.lang.String str@@ Config@@ Image@@ Id = org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Host@@ ed@@ Engine@@ Configuration@@ Volume@@ Guid@@ ); final org.ovirt.engine.core.compat.Guid config@@ Image@@ Id = (@@ str@@ Config@@ Image@@ Id@@ .@@ isEmpty@@ ()) ? null : org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (@@ str@@ Config@@ Image@@ Id); if (@@ config@@ Image@@ Id != null@@ ) { return disk@@ Image.get@@ Image@@ Id().@@ equals(@@ config@@ Image@@ Id); } return org.ovirt.engine.core.bll.@@ host@@ ed@@ Engine@@ Config@@ F@@ et@@ ch@@ er.@@ HOST@@ ED_@@ EN@@ G@@ IN@@ E_@@ CON@@ FI@@ G@@ UR@@ A@@ TION_@@ IM@@ AG@@ E@@ .equals(@@ disk@@ Image.get@@ Description@@ ()); }
private void add@@ Import@@ ed@@ Devic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ ) { org.ovirt.engine.core.common.businessentities.Vm@@ Stati@@ c vm@@ Stati@@ c = vm.get@@ StaticData@@ (); vm@@ Static@@ .set@@ Images@@ (@@ new java.util.Array@@ List@@ ()); vm@@ Static@@ .set@@ Interfaces@@ (@@ new java.util.Array@@ List@@ ()); import@@ Utils.@@ update@@ Graphics@@ Devic@@ es@@ (vm@@ Static@@ , Convert@@ Vm@@ Command.get@@ StoragePool@@ ().get@@ CompatibilityVersion@@ ()); Convert@@ VmCommand.getVm@@ Device@@ Util@@ s().@@ add@@ Import@@ ed@@ Devic@@ es@@ (vm@@ Static@@ , false@@ , null@@ ); s@@ ave@@ Disk@@ Vm@@ Element@@ s(@@ vm@@ ); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > init@@ Import@@ Cl@@ on@@ ed@@ Template@@ Disks@@ (); add@@ VmTemplate@@ To@@ Db@@ (); map@@ Db@@ Us@@ ers@@ (); update@@ O@@ ri@@ gin@@ al@@ Template@@ Name@@ On@@ D@@ er@@ i@@ v@@ ed@@ Vm@@ s(); add@@ Vm@@ Interfaces@@ (); get@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ st@@ ate@@ Changed@@ (); org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ vm@@ Handler.@@ add@@ Vm@@ Init@@ To@@ D@@ B@@ (get@@ Vm@@ Templat@@ e().get@@ Vm@@ Init@@ ()); return null@@ ; }
public void at@@ temp@@ To@@ Res@@ t@@ ore@@ Vm@@ Configuration@@ From@@ Snapshot@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t snapshot@@ , org.ovirt.engine.core.compat.Guid acti@@ ve@@ Snapshot@@ Id, java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > im@@ ages@@ , org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Comp@@ en@@ s@@ ation@@ Cont@@ ex@@ t comp@@ en@@ s@@ ation@@ Context@@ , org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Db@@ Use@@ r user@@ , org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manage@@ r vm@@ Interface@@ Manager@@ , boolean with@@ Memory@@ ) { boolean vm@@ Updat@@ ed@@ From@@ Configur@@ ation = false@@ ; if ((@@ s@@ napsho@@ t.get@@ Vm@@ Configuration@@ ()) != null@@ ) { vm@@ Updat@@ ed@@ From@@ Configur@@ ation = update@@ Vm@@ From@@ Configuration@@ (vm@@ , s@@ napsho@@ t.get@@ Vm@@ Configuration@@ ()); if (@@ image@@ s != null@@ ) { vm@@ Updat@@ ed@@ From@@ Configur@@ ation &@@ = update@@ Images@@ By@@ Configuration@@ (vm@@ , im@@ ages@@ ); } } if (!@@ vm@@ Updat@@ ed@@ From@@ Configuration@@ ) { if (@@ image@@ s == null@@ ) { image@@ s = disk@@ Image@@ Dao@@ .get@@ All@@ Snapshots@@ For@@ Vm@@ Snapshot@@ (s@@ napsho@@ t.get@@ Id()); } vm@@ .set@@ Images@@ (@@ new java.util.Array@@ List(@@ im@@ ages@@ )); } vm@@ .set@@ Ap@@ p@@ List@@ (s@@ napsho@@ t.get@@ Ap@@ p@@ List@@ ()); vm@@ Dynamic@@ Dao@@ .@@ updat@@ e(@@ vm.get@@ Dynamic@@ Data@@ ()); s@@ yn@@ ch@@ ron@@ ize@@ Disks@@ From@@ Snapshot@@ (vm@@ .get@@ Id(), s@@ napsho@@ t.get@@ Id(), acti@@ ve@@ Snapshot@@ Id, vm.get@@ Name()); if (vm@@ Updat@@ ed@@ From@@ Configuration@@ ) { vm@@ Static@@ Dao@@ .@@ updat@@ e(@@ vm.get@@ StaticData@@ ()); boolean mac@@ s@@ In@@ Snapshot@@ A@@ re@@ Exp@@ ected@@ To@@ Be@@ Al@@ read@@ y@@ Al@@ loc@@ ate@@ d = Snapshot@@ Type.@@ ST@@ AT@@ E@@ LE@@ SS@@ .equals(@@ s@@ napsho@@ t.get@@ Typ@@ e()); s@@ yn@@ ch@@ ron@@ ize@@ Nic@@ s(@@ vm@@ , user@@ , vm@@ Interface@@ Manager@@ , mac@@ s@@ In@@ Snapshot@@ A@@ re@@ Exp@@ ected@@ To@@ Be@@ Al@@ read@@ y@@ Al@@ loc@@ ated@@ ); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e vm@@ Devic@@ e : vm@@ Device@@ Dao@@ .get@@ VmDevice@@ By@@ Vm@@ Id(@@ vm.get@@ Id@@ ())) { if (@@ devi@@ ce@@ Can@@ Be@@ Remov@@ ed(@@ vm@@ Device@@ )) { vm@@ Device@@ Dao@@ .@@ remov@@ e(@@ vm@@ Devic@@ e.get@@ Id()); } } vm@@ Device@@ Utils.@@ add@@ Import@@ ed@@ Devic@@ es@@ (vm@@ .get@@ StaticData@@ (), false@@ , with@@ Mem@@ or@@ y@@ , null@@ ); }
private void pro@@ cess@@ Images@@ (@@ final boolean us@@ e@@ Copy@@ Images@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > add@@ Vm@@ Images@@ And@@ Snapshot@@ s(); add@@ Vm@@ External@@ Lun@@ s(); add@@ Memory@@ Images@@ (); update@@ Snapshots@@ From@@ Export@@ (); if (@@ us@@ e@@ Copy@@ Images@@ ) { m@@ ove@@ Or@@ Copy@@ All@@ Image@@ Group@@ s(); } get@@ VmDevice@@ Util@@ s().@@ add@@ Import@@ ed@@ Devic@@ es@@ (get@@ Vm@@ ().get@@ StaticData@@ (), get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ (), false@@ ); if (get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ()) { get@@ Parameters@@ ().set@@ Vm@@ (get@@ Vm@@ ()); set@@ Vm@@ Id@@ (get@@ Vm@@ ().get@@ Id()); } return null@@ ; }
public void add@@ Import@@ ed@@ Devic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ Base@@ , boolean is@@ Import@@ As@@ New@@ Entity@@ , boolean with@@ Mem@@ or@@ y@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > disk@@ Id@@ sTo@@ Imp@@ or@@ t@@ ) { if (is@@ Import@@ As@@ New@@ Entity@@ ) { set@@ New@@ Id@@ In@@ Import@@ ed@@ Collection@@ s(@@ vm@@ Bas@@ e); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Devic@@ es@@ To@@ Ad@@ d = new java.util.ArrayList<@@ >(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Devic@@ es@@ To@@ Updat@@ e = new java.util.ArrayList<@@ >(); add@@ Import@@ ed@@ Disk@@ Devic@@ es@@ (vm@@ Base@@ , vm@@ Devic@@ es@@ To@@ Updat@@ e.get@@ Id@@ sTo@@ Imp@@ or@@ t@@ ); add@@ Import@@ ed@@ Interfaces@@ (vm@@ Base@@ , vm@@ Devic@@ es@@ To@@ Update@@ ); add@@ Import@@ ed@@ O@@ th@@ er@@ Devic@@ es@@ (vm@@ Base@@ , vm@@ Devic@@ es@@ To@@ Add@@ , with@@ Memory@@ ); vm@@ Device@@ Dao@@ .@@ s@@ ave@@ All@@ (vm@@ Devic@@ es@@ To@@ Add@@ ); vm@@ Device@@ Dao@@ .@@ update@@ All@@ (vm@@ Devic@@ es@@ To@@ Update@@ ); }
private void add@@ Import@@ ed@@ Disk@@ Devic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Base vm@@ Base@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VmDevice@@ > vm@@ Devic@@ es@@ To@@ Updat@@ e(@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > disk@@ Id@@ sTo@@ Imp@@ or@@ t@@ ) { final org.ovirt.engine.core.compat.Guid vm@@ Id = vm@@ Base.get@@ Id@@ (); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Base@@ Disk dis@@ k : get@@ Disk@@ s(@@ vm@@ Base.get@@ Images@@ ())) { org.ovirt.engine.core.compat.Guid devi@@ ce@@ Id = disk@@ .getId@@ (); if ((@@ disk@@ Id@@ sTo@@ Imp@@ or@@ t != null@@ ) && (!(@@ disk@@ Id@@ sTo@@ Imp@@ or@@ t.@@ contains(@@ devi@@ ce@@ Id@@ )))) { continue@@ ; } org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e vm@@ Devic@@ e = add@@ Disk@@ Devic@@ e(@@ vm@@ Id, devi@@ ce@@ Id, devi@@ ce@@ Id, get@@ VmDevice@@ Address@@ (vm@@ Base@@ , vm@@ Id@@ )); update@@ Import@@ ed@@ Vm@@ Devic@@ e(@@ vm@@ Base@@ , vm@@ Device@@ , devi@@ ce@@ Id, vm@@ Devic@@ es@@ To@@ Update@@ ); } }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se re@@ g@@ ist@@ er@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ c@@ luster.@@ id@@ |@@ name@@ "); validate@@ Vnic@@ Mapp@@ ing@@ s(@@ action@@ ); org.ovirt.engine.core.common.action.@@ Import@@ VmTemplate@@ From@@ Con@@ f@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Import@@ VmTemplate@@ From@@ Con@@ f@@ Parameters@@ (); org.ovirt.engine.api.restapi.@@ types.@@ External@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ Mapper.@@ map@@ From@@ Model@@ (@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ (), param@@ s); params.set@@ Cont@@ ain@@ er@@ Id(@@ g@@ uid@@ ); params.set@@ StorageDomain@@ Id(@@ par@@ ent.@@ get@@ StorageDomain@@ Id()); params.set@@ Cluster@@ Id@@ (get@@ Cluster@@ Id(@@ action@@ )); params.set@@ Images@@ Exist@@ On@@ T@@ arget@@ StorageDomain@@ (@@ true@@ ); params.set@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.api.restapi.@@ types.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ Mapper.@@ map@@ From@@ Model@@ (@@ action@@ .get@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ ())); if (@@ action.@@ isSet@@ Cl@@ on@@ e()) { params.set@@ Import@@ As@@ New@@ Entity(@@ action.@@ is@@ Cl@@ on@@ e()); if ((@@ action.@@ isSet@@ Vm@@ ()) && (@@ action@@ .get@@ Templat@@ e().@@ isSet@@ Name()@@ )) { param@@ s.get@@ Vm@@ Templat@@ e().set@@ Name(@@ action@@ .get@@ Templat@@ e().get@@ Name()); } } if (@@ action.@@ isSet@@ Allow@@ Par@@ ti@@ al@@ Import@@ ()) { params.set@@ Allow@@ Par@@ ti@@ al@@ Import@@ (@@ action.@@ is@@ Allow@@ Par@@ ti@@ al@@ Import@@ ()); } return do@@ Action@@ (@@ ActionType.@@ Import@@ VmTemplate@@ From@@ Configuration@@ , param@@ s, action@@ ); }
private void init@@ () { le@@ f@@ t@@ B@@ ound@@ .set@@ Entity@@ (((@@ mac@@ R@@ ang@@ e.get@@ Mac@@ From@@ ()) == null ? "@@ " : mac@@ R@@ ang@@ e.get@@ Mac@@ From@@ ())); ri@@ g@@ ht@@ B@@ ound@@ .set@@ Entity@@ (((@@ mac@@ R@@ ang@@ e.get@@ Mac@@ To@@ ()) == null ? "@@ " : mac@@ R@@ ang@@ e.get@@ Mac@@ To@@ ())); r@@ ec@@ al@@ c@@ ul@@ ate@@ Mac@@ s@@ Count@@ (); le@@ f@@ t@@ B@@ ound@@ .get@@ Entity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ ( sender, -@@ > on@@ Mac@@ R@@ ang@@ e@@ Chang@@ e()); ri@@ g@@ ht@@ B@@ ound@@ .get@@ Entity@@ Changed@@ Event@@ ().add@@ Listener@@ (@@ ( sender, -@@ > on@@ Mac@@ R@@ ang@@ e@@ Chang@@ e()); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ mac@@ p@@ oo@@ l.@@ Mac@@ R@@ ang@@ e@@ Model model@@ ) { d@@ ri@@ v@@ er.@@ edit@@ (model@@ ); }
private static org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able create@@ AuditLog@@ able@@ For@@ Host@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able log@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Impl@@ (); log@@ abl@@ e.set@@ Vds@@ Id(@@ vds.get@@ Id()); log@@ abl@@ e.set@@ Vds@@ Name(@@ vds.get@@ Name()); return log@@ able@@ ; }
private static void create@@ AuditLog@@ (@@ java.util.List<java.lang.String> g@@ ui@@ ds@@ , org.ovirt.engine.core.common.@@ AuditLog@@ Type type@@ , org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { if (@@ g@@ uid@@ s.@@ isEmpty@@ ()) { return@@ ; } org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able log@@ able = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Multi@@ p@@ ath@@ H@@ e@@ al@@ th@@ Handler.@@ create@@ AuditLog@@ able@@ For@@ Host@@ (@@ vds@@ ); log@@ abl@@ e.@@ add@@ Custom@@ Value("@@ M@@ p@@ ath@@ Gui@@ ds@@ ", g@@ uid@@ s.@@ st@@ re@@ am@@ ().@@ s@@ ort@@ ed@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ , "@@ ))); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Multi@@ p@@ ath@@ H@@ e@@ al@@ th@@ Handler.@@ a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ log@@ able@@ , typ@@ e); }
private void pro@@ cess@@ H@@ e@@ art@@ b@@ eat@@ () { int in@@ com@@ ing = (@@ this@@ .@@ p@@ olicy@@ .get@@ In@@ com@@ ing@@ H@@ e@@ art@@ b@@ eat@@ ()) / 2@@ ; if ((@@ (!@@ (@@ this@@ .is@@ In@@ Init@@ ())) && (get@@ H@@ e@@ art@@ b@@ eat@@ Tim@@ e()) > in@@ com@@ ing@@ )) && (@@ this@@ .@@ h@@ al@@ f@@ )) { org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ act@@ or@@ Cli@@ ent.@@ log.@@ info@@ ((((@@ ("@@ H@@ e@@ art@@ b@@ e@@ a@@ s n@@ o m@@ as@@ se@@ g@@ e f@@ ro@@ m " + (get@@ Host@@ nam@@ e())) + "@@ for in@@ com@@ ing@@ ) + m@@ il@@ lis@@ ec@@ ond@@ s this@@ .@@ h@@ al@@ f = false@@ ; } if ((@@ (!@@ (@@ this@@ .is@@ In@@ Init@@ ())) && (@@ this@@ .@@ p@@ olicy@@ .is@@ In@@ com@@ ing@@ H@@ e@@ art@@ b@@ eat@@ ())) && (@@ this@@ .is@@ In@@ com@@ ing@@ H@@ e@@ art@@ b@@ eat@@ Ex@@ e@@ ed@@ ())) { org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ act@@ or@@ Cli@@ ent.@@ log.@@ info@@ ((((@@ ("@@ H@@ e@@ art@@ b@@ e@@ a@@ s ex@@ ceed@@ ed for " + (get@@ Host@@ nam@@ e())) + " l@@ as@@ t mess@@ age w@@ a@@ s ") + (get@@ H@@ e@@ art@@ b@@ eat@@ Tim@@ e())) + " m@@ il@@ lis@@ ec@@ ond@@ s ag@@ o@@ . this@@ .@@ dis@@ conn@@ ect@@ ("@@ H@@ e@@ art@@ b@@ e@@ art@@ b@@ e@@ a@@ t ex@@ ceed@@ ed "); } }
private void pro@@ cess@@ H@@ e@@ art@@ b@@ eat@@ () { if ((@@ (!@@ (@@ this@@ .is@@ In@@ Init@@ ())) && (@@ this@@ .@@ p@@ olicy@@ .is@@ In@@ com@@ ing@@ H@@ e@@ art@@ b@@ eat@@ ())) && (@@ this@@ .is@@ In@@ com@@ ing@@ H@@ e@@ art@@ b@@ eat@@ Ex@@ e@@ ed@@ ())) { org.ovirt.vdsm.jsonrpc.client.@@ re@@ act@@ or@@ s.@@ Re@@ act@@ or@@ Cli@@ ent.@@ log@@ (@@ this@@ .@@ p@@ olicy@@ ); }
@java.lang.Override protected void execute@@ Command() { java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s = org.ovirt.engine.core.bll.@@ Create@@ O@@ va@@ Command.getParameters().get@@ Disks@@ (); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.String> disk@@ Id@@ To@@ P@@ at@@ h = pre@@ par@@ e@@ Images@@ (disk@@ s); fil@@ l@@ Disk@@ Ap@@ parent@@ Siz@@ e(@@ disk@@ s); org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.bll.@@ Create@@ O@@ va@@ Command.getParameters().get@@ Vm@@ (); vm@@ Handler.@@ update@@ Network@@ Interfaces@@ From@@ Db@@ (vm@@ ); vm@@ Handler.@@ update@@ Vm@@ Init@@ From@@ D@@ B@@ (vm@@ .get@@ StaticData@@ (), true@@ ); vm@@ Device@@ Utils.@@ set@@ Vm@@ Devic@@ es@@ (vm@@ .get@@ StaticData@@ ()); org.ovirt.engine.core.common.businessentities.storage.@@ F@@ ull@@ Entity@@ Ovf@@ Data f@@ ull@@ Entity@@ Ovf@@ Data = new org.ovirt.engine.core.common.businessentities.storage.@@ F@@ ull@@ Entity@@ Ovf@@ Data@@ (vm@@ ); f@@ ull@@ Entity@@ Ovf@@ Data@@ .set@@ Disk@@ Images@@ (@@ new java.util.Array@@ List@@ (disk@@ s@@ )); f@@ ull@@ Entity@@ Ovf@@ Data@@ .set@@ Interfaces@@ (vm@@ .get@@ Interfaces@@ ()); java.lang.String o@@ v@@ f = o@@ vf@@ Manager.@@ ex@@ port@@ O@@ va@@ (vm@@ , f@@ ull@@ Entity@@ Ovf@@ Data@@ , vm.get@@ CompatibilityVersion@@ ()); log.@@ d@@ ebug@@ ("@@ Create@@ O@@ va@@ F@@ : {}@@ ", o@@ vf@@ ); boolean s@@ uc@@ ceed@@ ed = run@@ An@@ si@@ bl@@ e@@ P@@ ack@@ O@@ va@@ P@@ l@@ ay@@ b@@ ook@@ (vm@@ .get@@ Name(), o@@ vf@@ , disk@@ s, disk@@ Id@@ To@@ Path@@ ); org.ovirt.engine.core.bll.@@ Create@@ O@@ va@@ Command@@ .set@@ Succeeded(@@ s@@ uc@@ ceed@@ ed@@ ); }
@java.lang.Override protected void w@@ rit@@ e@@ O@@ S@@ () { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ O@@ per@@ at@@ ing@@ System@@ S@@ ection@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ UR@@ I@@ , "@@ id@@ ", j@@ ect@@ or@@ .@@ to@@ L@@ ower@@ C@@ as@@ e()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ UR@@ I@@ , "@@ re@@ qui@@ red@@ ", "@@ false@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ Info@@ ", O@@ per@@ at@@ ing S@@ yst@@ e@@ m _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ Description@@ ", os@@ Rep@@ os@@ it@@ ory@@ .get@@ Un@@ i@@ qu@@ e@@ Os@@ Names@@ ().get@@ (vm@@ Base.get@@ Os@@ Id@@ ())); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
private java.lang.String run@@ An@@ si@@ bl@@ e@@ Query@@ O@@ va@@ Info@@ P@@ l@@ ay@@ b@@ ook@@ () { org.ovirt.engine.core.common.utils.@@ To@@ Convert@@ er.@@ con@@ ver@@ t@@ (@@ this@@ , new org.ovirt.engine.core.common.utils.@@ To@@ Convert@@ er.@@ Size@@ Convert@@ (@@ 1@@ ), org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ O@@ va@@ bl@@ e@@ , org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ O@@ va@@ Query.get@@ Parameters().get@@ Path@@ (), org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ O@@ va@@ bl@@ e@@ , true@@ ); return null@@ ; }
private org.ovirt.engine.core.common.businessentities.VM read@@ Vm@@ From@@ O@@ va@@ (java.lang.String o@@ vf@@ ) { if (@@ o@@ v@@ f == null@@ ) { return null@@ ; } try { return o@@ vf@@ Helper.@@ read@@ Vm@@ From@@ O@@ va@@ (@@ o@@ vf@@ ); } catch (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception e) { log.@@ d@@ ebug@@ ((@@ "@@ fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation@@ : \@@ n@@ " + o@@ vf@@ ), e); org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ O@@ va@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Exception@@ String@@ ((@@ "@@ fail@@ ed to par@@ se a g@@ ive@@ n o@@ v@@ f config@@ ur@@ ation " + (@@ e.get@@ Message@@ ()))); return null@@ ; } }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ O@@ va@@ l = get@@ O@@ va@@ Info@@ (); org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ O@@ va@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Succeeded@@ (@@ true@@ ); }
private java.lang.String par@@ se@@ Ovf@@ From@@ S@@ t@@ do@@ ut@@ (java.lang.String s@@ t@@ do@@ ut@@ ) { if (s@@ t@@ do@@ u@@ t == null@@ ) { return null@@ ; } java.util.@@ re@@ g@@ ex@@ .@@ Match@@ er m = org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ O@@ va@@ Query@@ .@@ OV@@ F@@ _P@@ AT@@ TER@@ N@@ .@@ mat@@ ch@@ er@@ (s@@ t@@ do@@ ut@@ ); if ((@@ m.@@ mat@@ ch@@ es@@ ()) && ((@@ m.@@ group@@ Count@@ ()) > 0@@ )) { java.lang.String o@@ v@@ f = m.@@ group@@ (@@ 1@@ ); o@@ v@@ f = o@@ vf@@ .@@ re@@ pl@@ ace@@ All@@ ("@@ \@@ \@@ \@@ "@@ ", "@@ \@@ \@@ \@@ "@@ "); log.@@ info@@ (@@ o@@ vf@@ ); return o@@ vf@@ ; } log.error@@ ("@@ Fail@@ ed to par@@ se OV@@ F f@@ rom@@ :@@ \@@ n@@ {}@@ ", s@@ t@@ do@@ ut@@ ); return null@@ ; }
private void set@@ C@@ ook@@ i@@ e@@ (@@ final javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest@@ , final javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se@@ , final java.util.@@ Local@@ e user@@ Local@@ e) { javax.@@ ser@@ vlet@@ .@@ http@@ .@@ C@@ ook@@ i@@ e c@@ ook@@ i@@ e = new javax.@@ ser@@ vlet@@ .@@ http@@ .@@ C@@ ook@@ i@@ e(@@ org.ovirt.engine.core.utils.@@ ser@@ vlet@@ .@@ Local@@ e@@ Fil@@ t@@ er.@@ LO@@ C@@ AL@@ E@@ , user@@ Local@@ e.@@ toString@@ ()); c@@ ook@@ i@@ e.set@@ Sec@@ ure@@ (@@ "@@ http@@ s@@ "@@ .equals(@@ re@@ ques@@ t.get@@ S@@ ch@@ em@@ e()); c@@ ook@@ i@@ e.set@@ Path@@ (@@ org.ovirt.engine.core.utils.@@ ser@@ vlet@@ .@@ Local@@ e@@ Fil@@ t@@ er.@@ RO@@ O@@ T_@@ P@@ AT@@ H@@ ); c@@ ook@@ i@@ e.set@@ Max@@ Ag@@ e(@@ java.lang.Integ@@ er.@@ M@@ A@@ X@@ _@@ VAL@@ U@@ E); c@@ ook@@ i@@ e.set@@ H@@ ttp@@ Only@@ (@@ true@@ ); respon@@ s@@ e.@@ add@@ C@@ ook@@ i@@ e(@@ c@@ ook@@ i@@ e); }
private java.lang.String auth@@ enti@@ c@@ ate@@ User@@ (@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ , org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ C@@ red@@ enti@@ al@@ s user@@ C@@ red@@ enti@@ al@@ s) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception@@ , org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception { if ((@@ user@@ C@@ red@@ enti@@ al@@ s == null@@ ) || (!(@@ org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ are@@ C@@ red@@ enti@@ al@@ s@@ Valid@@ (@@ re@@ quest@@ , user@@ C@@ red@@ enti@@ al@@ s, true@@ )))) { throw new org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception@@ (s@@ s@@ o@@ Cont@@ ex@@ t.get@@ Local@@ iz@@ ation@@ Util@@ s().@@ loc@@ al@@ iz@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ A@@ P@@ P@@ P@@ _@@ ER@@ R@@ OR@@ _@@ IN@@ VALID@@ _C@@ R@@ ED@@ EN@@ TI@@ AL@@ S@@ , ((@@ java.util.@@ Local@@ e) (@@ re@@ ques@@ t.get@@ Att@@ rib@@ ut@@ e(@@ S@@ s@@ o@@ Constant@@ s.@@ LO@@ C@@ AL@@ E@@ )@@ ))); } try { org.ovirt.engine.core.@@ s@@ s@@ s@@ o.@@ ser@@ vlet@@ s.@@ Inter@@ acti@@ ve@@ Auth@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ Lo@@ us@@ er usin@@ g c@@ red@@ enti@@ al@@ s javax.@@ ser@@ vlet@@ .@@ http@@ .@@ C@@ ook@@ i@@ e c@@ ook@@ i@@ e = new javax.@@ ser@@ vlet@@ .@@ http@@ .@@ C@@ ook@@ i@@ e(@@ "@@ profil@@ e@@ ", user@@ C@@ red@@ enti@@ al@@ s.get@@ Profil@@ e()); c@@ ook@@ i@@ e.set@@ Sec@@ ure@@ ("@@ http@@ s@@ "@@ .equals(@@ re@@ ques@@ t.get@@ S@@ ch@@ em@@ e())); respon@@ s@@ e.@@ add@@ C@@ ook@@ i@@ e(@@ c@@ ook@@ i@@ e); org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Utils.@@ handl@@ e@@ C@@ red@@ enti@@ al@@ s(@@ s@@ o@@ Context@@ , re@@ quest@@ , user@@ C@@ red@@ enti@@ al@@ s); return (@@ re@@ ques@@ t.get@@ Context@@ Path@@ ()) + (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Constant@@ s.@@ IN@@ TER@@ AC@@ TI@@ V@@ E_@@ R@@ ED@@ I@@ RE@@ C@@ T_@@ T@@ O@@ _MOD@@ U@@ L@@ E_@@ UR@@ I@@ ); } catch (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Auth@@ enti@@ c@@ ation@@ Exception ex@@ ) { throw ex@@ ; } catch (@@ java.lang.Exception ex@@ ) { org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ s@@ s@@ s@@ o.@@ ser@@ vlet@@ .@@ log.error@@ ("@@ E@@ r@@ ro@@ r ex@@ .get@@ Error@@ : {}@@ ", ex@@ .get@@ Message@@ ()); org.ovirt.engine.core.@@ s@@ o.@@ acti@@ ve@@ r s@@ o.@@ ser@@ vlet@@ .@@ Servlet@@ .@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ .get@@ Message@@ (), ex@@ .get@@ Message@@ ()); throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ ex@@ .get@@ Message@@ (), ex@@ .get@@ Message@@ ()); }
private void set@@ L@@ ang@@ P@@ age@@ Sh@@ ow@@ n@@ (@@ final javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ , boolean value) { javax.@@ ser@@ vlet@@ .@@ http@@ .@@ C@@ ook@@ i@@ e c@@ ook@@ i@@ e = new javax.@@ ser@@ vlet@@ .@@ http@@ .@@ C@@ ook@@ i@@ e(@@ org.ovirt.engine.core.utils.@@ ser@@ vlet@@ .@@ D@@ oc@@ s@@ Servlet@@ .@@ L@@ AN@@ G@@ _P@@ AGE_@@ S@@ HO@@ W@@ N@@ , java.lang.Boolean@@ .toString@@ (@@ value@@ )); c@@ ook@@ i@@ e.set@@ Sec@@ ure@@ (@@ "@@ http@@ s@@ "@@ .equals(@@ re@@ ques@@ t.get@@ S@@ ch@@ em@@ e())); c@@ ook@@ i@@ e.set@@ Path@@ (get@@ Servlet@@ Context@@ ().get@@ Context@@ Path@@ ()); c@@ ook@@ i@@ e.set@@ H@@ ttp@@ Only@@ (@@ true@@ ); respon@@ s@@ e.@@ add@@ C@@ ook@@ i@@ e(@@ c@@ ook@@ i@@ e); }
@org.junit.Test public void network@@ Name@@ Not@@ T@@ a@@ k@@ en@@ By@@ Vds@@ m@@ Name(@@ ) { when(@@ network@@ .getName()@@ ).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ NETWORK_@@ NAM@@ E); when(@@ network@@ .getId@@ ()).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ G@@ UID@@ ); org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ 2 = new org.ovirt.engine.core.common.businessentities.network.Network@@ (); network@@ 2@@ .set@@ Vds@@ m@@ Name("@@ vds@@ m@@ -@@ name@@ "); network@@ 2@@ .set@@ Id@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ O@@ TH@@ ER_@@ G@@ UID@@ ); when(@@ network@@ Dao@@ .get@@ AllFor@@ DataCenter@@ (@@ any@@ ())@@ ).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ validator.@@ Array@@ s.@@ as@@ List(@@ network@@ , network@@ 2@@ )); assert@@ That@@ (@@ validator.@@ network@@ Name@@ Not@@ Us@@ ed@@ As@@ Vds@@ m@@ Name(), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ is@@ Valid@@ ()); }
@org.junit.Test public void network@@ Name@@ T@@ a@@ k@@ en@@ By@@ Vds@@ m@@ Name(@@ ) { when(@@ network@@ .getName()@@ ).@@ then@@ Return@@ ("@@ vds@@ m@@ -@@ name@@ "); when(@@ network@@ .getId@@ ()).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ G@@ UID@@ ); org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ 2 = new org.ovirt.engine.core.common.businessentities.network.Network@@ (); network@@ 2@@ .set@@ Vds@@ m@@ Name("@@ vds@@ m@@ -@@ name@@ "); network@@ 2@@ .set@@ Name("@@ vds@@ m@@ -@@ name@@ "); network@@ 2@@ .set@@ Id@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator@@ Test.@@ O@@ TH@@ ER_@@ G@@ UID@@ ); when(@@ network@@ Dao@@ .get@@ AllFor@@ DataCenter@@ (@@ any@@ ())@@ ).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ validator.@@ Array@@ s.@@ as@@ List(@@ network@@ , network@@ 2@@ )); assert@@ That@@ (@@ validator.@@ network@@ Name@@ Not@@ Us@@ ed@@ As@@ Vds@@ m@@ Name(), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ NETWORK_@@ NAM@@ E_@@ US@@ ED_@@ A@@ S_@@ VDS@@ M@@ _@@ NETWORK_@@ NAM@@ E@@ )); }
public org.ovirt.engine.core.common.utils.@@ To@@ p@@ r@@ ans@@ i@@ bl@@ e.@@ An@@ si@@ bl@@ e@@ ReturnValue run@@ Command@@ (org.ovirt.engine.core.common.@@ utils.@@ ans@@ i@@ bl@@ e.@@ An@@ si@@ bl@@ e@@ Command@@ Buil@@ der command@@ , org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >@@ .@@ .@@ .@@ . en@@ v@@ Var@@ s) throw@@ s java.io.@@ I@@ O@@ Exception@@ , java.lang.@@ Inter@@ r@@ up@@ t@@ ed@@ Exception { return run@@ Command@@ (command@@ , org.ovirt.engine.core.common.utils.@@ ans@@ i@@ bl@@ e.@@ An@@ si@@ bl@@ e@@ Execut@@ or.@@ AN@@ SI@@ B@@ L@@ E_@@ PL@@ A@@ Y@@ B@@ O@@ K_@@ TI@@ M@@ E@@ O@@ U@@ T@@ , en@@ v@@ Var@@ s); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se is@@ csi@@ Lo@@ gin@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ is@@ c@@ s@@ i.@@ add@@ ress@@ ", "@@ is@@ c@@ s@@ i.@@ target@@ "); org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s c@@ n@@ x = new org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s(); org.ovirt.engine.api.model.@@ Is@@ csi@@ Detail@@ s is@@ csi@@ Detail@@ s = action@@ .get@@ Is@@ csi@@ (); c@@ n@@ x@@ .set@@ Connection@@ (is@@ csi@@ Detail@@ s.get@@ Address@@ ()); c@@ n@@ x@@ .set@@ I@@ q@@ n@@ (is@@ csi@@ Detail@@ s.get@@ T@@ arget@@ ()); c@@ n@@ x@@ .set@@ Storage@@ Type(@@ StorageType.@@ IS@@ C@@ SI@@ ); if (is@@ csi@@ Detail@@ s.@@ isSet@@ Port@@ ()) { c@@ n@@ x@@ .set@@ Port@@ (is@@ csi@@ Detail@@ s.get@@ Port@@ ().@@ toString@@ ()); } else { c@@ n@@ x@@ .set@@ Port@@ (@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Host@@ Resourc@@ e.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ IS@@ C@@ SI@@ _@@ PORT@@ ); } if (is@@ csi@@ Detail@@ s()) { c@@ n@@ x@@ .set@@ Port@@ al@@ (is@@ csi@@ Detail@@ s.get@@ Port@@ al@@ ().@@ toString@@ ()); } if (is@@ csi@@ Detail@@ s@@ Set@@ User@@ nam@@ e()) { c@@ n@@ x@@ .set@@ User@@ Name(@@ is@@ csi@@ Detail@@ s.get@@ User@@ nam@@ e()); } if (is@@ csi@@ Detail@@ s.@@ isSet@@ Password@@ ()) { c@@ n@@ x@@ .set@@ Password@@ (is@@ csi@@ Detail@@ s.get@@ Password@@ ()); } org.ovirt.engine.core.common.action.@@ StorageServerConnection@@ Parameters@@ Base connection@@ Par@@ m@@ s = new org.ovirt.engine.core.common.action.@@ StorageServerConnection@@ Parameters@@ Bas@@ e(@@ c@@ n@@ x@@ , g@@ uid@@ , false@@ ); return do@@ Action@@ (@@ ActionType.@@ Conn@@ ect@@ Storage@@ To@@ Vds@@ , connection@@ Par@@ m@@ s, action@@ ); }
private void handl@@ e@@ F@@ in@@ al@@ iz@@ ing@@ Fail@@ ure@@ (@@ final org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ <@@ T@@ >@@ .@@ St@@ ate@@ Cont@@ ex@@ t cont@@ ext@@ ) { log.error@@ ("@@ C@@ ommand fail@@ ed trans@@ fer@@ . {@@ } get@@ Trans@@ fer@@ Description@@ ()); st@@ op@@ Image@@ Trans@@ fer@@ Session@@ (@@ cont@@ ext.@@ entity@@ ); if (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Image@@ Group@@ ID@@ ()))) { set@@ Image@@ Status@@ ((@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Trans@@ fer@@ Type.@@ U@@ pl@@ o@@ ad@@ ) ? org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status.@@ I@@ L@@ LE@@ G@@ A@@ L : org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Status.@@ O@@ K@@ )); } if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Trans@@ fer@@ Type.@@ Down@@ load@@ )) { t@@ e@@ ar@@ Down@@ Image@@ (@@ cont@@ ext.@@ entity.get@@ Vds@@ Id()); } update@@ Entity@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ F@@ IN@@ IS@@ H@@ ED_@@ FAIL@@ U@@ RE@@ ); set@@ AuditLog@@ Type@@ From@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ F@@ IN@@ IS@@ H@@ ED_@@ FAIL@@ U@@ RE@@ ); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n gluster@@ W@@ eb@@ h@@ ook@@ Add@@ (java.lang.String ur@@ l@@ , java.lang.String b@@ e@@ ar@@ er@@ To@@ k@@ en@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Gluster@@ Ev@@ ent.@@ web@@ h@@ ook@@ Add@@ ").@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Return(@@ respon@@ se@@ ); }
java.lang.String Gluster@@ Update@@ W@@ eb@@ h@@ ook@@ Exception@@ ();
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Add@@ Gluster@@ W@@ eb@@ h@@ ook@@ VDS@@ Command.get@@ Broker@@ ().@@ gluster@@ W@@ eb@@ h@@ ook@@ Add@@ (@@ org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Add@@ Gluster@@ W@@ eb@@ h@@ ook@@ VDS@@ Command.getParameters().get@@ W@@ eb@@ h@@ ook@@ U@@ r@@ l@@ (), null@@ ); org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Add@@ Gluster@@ W@@ eb@@ h@@ ook@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); }
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n gluster@@ W@@ eb@@ h@@ ook@@ D@@ elet@@ e(@@ java.lang.String ur@@ l@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Gluster@@ Ev@@ ent.@@ web@@ h@@ ook@@ D@@ elet@@ e@@ ").@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Return(@@ respon@@ se@@ ); }
java.lang.String Gluster@@ Sync@@ W@@ eb@@ W@@ eb@@ h@@ ook@@ Exception@@ ();
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n gluster@@ W@@ eb@@ h@@ ook@@ Sync@@ () { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Gluster@@ Ev@@ ent.@@ web@@ h@@ ook@@ Sync@@ ").@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Return(@@ respon@@ se@@ ); }
java.lang.String Gluster@@ Add@@ W@@ eb@@ h@@ ook@@ Exception@@ ();
@java.lang.Override public org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Retur@@ n gluster@@ W@@ eb@@ h@@ ook@@ Updat@@ e(@@ java.lang.String ur@@ l@@ , java.lang.String b@@ e@@ ar@@ er@@ To@@ k@@ en@@ ) { org.ovirt.vdsm.jsonrpc.client.@@ J@@ son@@ R@@ pc@@ Re@@ quest re@@ quest = new org.ovirt.vdsm.jsonrpc.client.@@ Request@@ Builder@@ ("@@ Gluster@@ Ev@@ ent.@@ web@@ h@@ ook@@ Update@@ ").@@ build@@ (); java.util.Map<java.lang.String, java.lang.Object> respon@@ se = new org.ovirt.engine.core.vdsbroker.@@ jsonrpc@@ .@@ F@@ ut@@ ure@@ Map@@ (@@ this@@ .@@ client@@ , re@@ quest@@ ); return new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Status@@ Only@@ Return(@@ respon@@ se@@ ); }
java.lang.String Gluster@@ D@@ elet@@ e@@ W@@ eb@@ h@@ ook@@ Exception@@ ();
@java.lang.Override protected boolean validate(@@ ) { if (!(@@ validate@@ (@@ super@@ .@@ valid@@ at@@ e())) { return false@@ ; } if (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.@@ is@@ Images@@ Al@@ read@@ y@@ On@@ T@@ arget@@ ()) { if (!(@@ validate@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ ())) { return false@@ ; } org.ovirt.engine.core.bll.validator.@@ Import@@ Validator import@@ Validator = org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Import@@ Validator@@ (); if (!(@@ validate@@ (@@ import@@ Validator.@@ validate@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Entity@@ (vm@@ From@@ Configuration@@ , o@@ vf@@ Entity@@ Data@@ )))) { return false@@ ; } if (!(@@ validate@@ (@@ import@@ Validator.@@ validate@@ Storage@@ Exist@@ For@@ Un@@ re@@ g@@ ist@@ er@@ ed@@ Entity@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Images@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().is@@ Allow@@ Par@@ ti@@ al@@ Import@@ (), image@@ To@@ Dest@@ ination@@ Domain@@ Map@@ , fail@@ ed@@ Disks@@ To@@ Import@@ For@@ AuditLog@@ )))) { return false@@ ; } if (!(@@ validate@@ (@@ import@@ Validator.@@ validate@@ Storage@@ Exist@@ s@@ For@@ Memory@@ Disk@@ s(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getVm@@ ().get@@ Snapshots@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.get@@ Parameters@@ ().is@@ Par@@ ti@@ al@@ Import@@ (), fail@@ ed@@ Disks@@ To@@ AuditLog@@ )))) { return false@@ ; } set@@ Images@@ With@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ StoragePool@@ Id(), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getVm@@ ().get@@ Images@@ ()); } return true@@ ; }
types.@@ Vnic@@ Profile@@ Mapp@@ ing@@ [@@ ] v@@ nic@@ Profile@@ Mapp@@ ing@@ s();
@java.lang.Override protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e create@@ F@@ ull@@ Parameters@@ Map@@ per@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network network@@ ) { return getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ add@@ r@@ ", network@@ .get@@ Add@@ r@@ ()).addValue("@@ d@@ escription@@ ", network@@ .get@@ Description@@ ()).addValue("@@ f@@ ree@@ _@@ t@@ ext@@ _@@ c@@ omm@@ ent@@ ", network@@ .get@@ C@@ omm@@ ent@@ ()).addValue("@@ id@@ ", network@@ .getId@@ ()).addValue("@@ name@@ ", network@@ .getName()@@ ).addValue("@@ vds@@ m@@ _@@ name@@ ", network@@ .get@@ Vds@@ m@@ Name()@@ ).addValue("@@ sub@@ net@@ ", network@@ .get@@ Sub@@ net@@ ()).addValue("@@ g@@ ate@@ w@@ ay@@ ", network@@ .get@@ G@@ ate@@ w@@ ay@@ ()).addValue("@@ type@@ ", network@@ .get@@ Typ@@ e()@@ ).addValue("@@ v@@ lan@@ _id", network@@ .get@@ V@@ lan@@ Id@@ ()).addValue("@@ st@@ p@@ ", network@@ .get@@ St@@ p@@ ()).addValue("@@ storage_@@ pool@@ _id", network@@ .get@@ DataCenter@@ Id@@ ()).addValue("@@ m@@ tu@@ ", network@@ .get@@ M@@ tu@@ ()).addValue("@@ vm@@ _@@ network@@ ", network.@@ is@@ VmNetwork@@ ()).addValue("@@ p@@ rovider@@ _@@ network@@ _@@ p@@ rovider@@ _id", ((@@ network@@ .get@@ Provi@@ d@@ ed@@ By@@ ()) == null ? null : network@@ .get@@ Provi@@ d@@ ed@@ By@@ ().get@@ Provider@@ Id@@ ())@@ ).addValue("@@ p@@ rovider@@ _@@ network@@ _@@ ex@@ ternal@@ _id", ((@@ network@@ .get@@ Provi@@ d@@ ed@@ By@@ ()) == null ? null : network@@ .get@@ Provi@@ d@@ ed@@ By@@ ().get@@ External@@ Id@@ ())@@ ).@@ add@@ Value(@@ "@@ p@@ rovider@@ _@@ p@@ h@@ y@@ s@@ ical@@ _@@ network@@ _id", network@@ .get@@ Provider@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Id@@ ()).@@ add@@ Value(@@ "@@ qos@@ _id", network@@ .get@@ Qos@@ Id@@ ()).addValue("@@ l@@ abel@@ ", network@@ .get@@ Label@@ ()).addValue("@@ d@@ n@@ s@@ _@@ res@@ ol@@ ver@@ _@@ config@@ ur@@ ation@@ _id", get@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Id(@@ network@@ )); }
@java.lang.Override protected void execute@@ Command() { if (org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ Add@@ Network@@ On@@ Provider@@ Command.get@@ Network@@ ().is@@ Set@@ Provider@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Id()) { load@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Provider@@ Parameters@@ (org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ Add@@ Network@@ On@@ Provider@@ Command.get@@ Network@@ ()); } org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.Network@@ Provider@@ Pro@@ x@@ y pro@@ x@@ y = p@@ rovider@@ Proxy@@ Fac@@ t@@ ory@@ .@@ c@@ re@@ ate(@@ get@@ Provider@@ ()); org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ Add@@ Network@@ On@@ Provider@@ Command.get@@ Network@@ ().get@@ Provi@@ d@@ ed@@ By@@ ().set@@ External@@ Id(@@ pro@@ xy@@ .@@ add@@ (org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ Add@@ Network@@ On@@ Provider@@ Command.get@@ Network@@ ())); org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ Add@@ Network@@ On@@ Provider@@ Command.get@@ Network@@ ().set@@ V@@ lan@@ Id@@ (@@ null@@ ); org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ Add@@ Network@@ On@@ Provider@@ Command.get@@ Network@@ ().set@@ Label@@ (@@ null@@ ); org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { super@@ .@@ execute@@ Command@@ (); get@@ ReturnValu@@ e().set@@ Action@@ Return@@ Value(@@ get@@ Network@@ ().get@@ Id()); return null@@ ; } }); }
private void load@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Provider@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network network@@ ) { org.ovirt.engine.core.common.businessentities.network.@@ Network p@@ h@@ y@@ s@@ ical@@ Provider@@ Network = network@@ Dao@@ .get(@@ network@@ .get@@ Provider@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Id()); network@@ .set@@ V@@ lan@@ Id(@@ p@@ h@@ y@@ s@@ ical@@ Provider@@ Network@@ .get@@ V@@ lan@@ Id()); network@@ .set@@ Label@@ (p@@ h@@ y@@ s@@ ical@@ Provider@@ Network@@ .get@@ Vds@@ m@@ Name()); }
private java.lang.String get@@ Al@@ er@@ t@@ T@@ oolti@@ p@@ Text@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { return "@@ "@@ "@@ "@@ ; }
@java.lang.Override public com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ T@@ oolti@@ p@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent parent@@ , com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ N@@ ati@@ ve@@ Event event@@ ) { com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ El@@ em@@ ent t@@ arg@@ e@@ t = event.@@ get@@ Event@@ T@@ arget@@ ().@@ c@@ ast@@ (); if (@@ Image@@ El@@ em@@ ent.@@ T@@ AG@@ .equals(@@ target@@ .get@@ Tag@@ Name()@@ )) { switch (@@ org.ovirt.engine.ui.common.@@ utils.@@ J@@ query@@ Utils.@@ in@@ dex@@ (@@ target@@ )) { case 0 : return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (get@@ Status@@ T@@ oolti@@ p@@ Text@@ (@@ vds.get@@ Status@@ ())); case 1 : return com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (get@@ Al@@ er@@ t@@ T@@ oolti@@ p@@ Text@@ (@@ vds@@ )); } } return null@@ ; }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") public void init@@ Model@@ S@@ ort@@ Handler@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ S@@ ort@@ ed@@ ListModel@@ <@@ T@@ > s@@ ort@@ ed@@ Model) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.@@ Column@@ Res@@ ize@@ C@@ el@@ l@@ T@@ abl@@ e.@@ add@@ Column@@ S@@ ort@@ Handler@@ (@@ " -@@ > s@@ ort@@ ed@@ , s@@ ort@@ ed@@ Model@@ )); }
@org.junit.Test public void p@@ ass@@ Dis@@ c@@ ard@@ Not@@ Supported@@ () { test@@ Dis@@ c@@ ard@@ Fi@@ eld@@ Par@@ s@@ ing@@ (@@ Version@@ .@@ v@@ 4@@ _@@ 0@@ , null@@ ); }
@org.junit.Test public void dis@@ c@@ ard@@ Fi@@ eld@@ Is@@ Par@@ se@@ () { test@@ Dis@@ c@@ ard@@ Fi@@ eld@@ Par@@ s@@ ing@@ (@@ Version@@ .@@ v@@ 4@@ _@@ 1, 1@@ 0@@ 2@@ 4@@ L@@ ); }
@org.junit.Test public void sp@@ ar@@ s@@ if@@ y@@ Not@@ Supported@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ Is@@ O@@ n@@ () { create@@ StorageDomain@@ For@@ Disk@@ (@@ StorageType.@@ IS@@ C@@ SI@@ ); disk@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ (@@ true@@ ); assert@@ That@@ (@@ validator.@@ is@@ Sp@@ ar@@ s@@ if@@ y@@ Supported@@ (), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DIS@@ K_@@ SP@@ AR@@ SI@@ F@@ Y_@@ NOT_@@ SUPPORT@@ ED_@@ B@@ Y_@@ UN@@ D@@ ER@@ L@@ Y@@ ING@@ _@@ STORAGE_@@ W@@ H@@ EN@@ _@@ W@@ AD@@ _@@ IS@@ _@@ EN@@ AB@@ L@@ ED@@ )); }
public void ap@@ pl@@ y@@ Search@@ String@@ (java.lang.String search@@ String@@ ) { if ((@@ model@@ Provider@@ .get@@ Model@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ ListModel@@ ) { @@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ ListModel@@ <?@@ , ? extends org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <?@@ >> list@@ Model = model@@ Provider@@ .get@@ Model@@ (); if ((@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Not@@ Null@@ Or@@ Empty@@ (@@ search@@ String@@ )) && (@@ search@@ Strin@@ g.@@ st@@ art@@ sWith@@ (@@ list@@ Model.get@@ Default@@ Search@@ String@@ ()))) { list@@ Model@@ .set@@ Search@@ String@@ (@@ search@@ String@@ ); list@@ Model.get@@ Search@@ Command@@ ().@@ execut@@ e(); org.ovirt.engine.ui.uicommonweb.models.@@ Main@@ Model@@ Sel@@ ection@@ Change@@ Ev@@ ent.@@ fi@@ re@@ ((@@ (c@@ om@@ .google.gwt.@@ event.@@ shared@@ .@@ H@@ as@@ Handl@@ ers@@ ) (@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ With@@ Detail@@ s@@ P@@ res@@ enter@@ .get@@ Event@@ B@@ us@@ ())@@ ), list@@ Model@@ ); } }
private boolean is@@ B@@ ook@@ mar@@ k@@ For@@ C@@ urrent@@ P@@ l@@ ac@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ B@@ ook@@ mar@@ k b@@ ook@@ mar@@ k@@ , org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ With@@ Detail@@ s@@ P@@ res@@ enter@@ <?@@ , ?@@ , ?@@ , ?@@ > current@@ P@@ l@@ ace@@ P@@ res@@ enter@@ ) { java.lang.String search@@ Strin@@ g = b@@ ook@@ mar@@ k@@ .get@@ Valu@@ e(); if (@@ search@@ Strin@@ g != null@@ ) { java.lang.String@@ [@@ ] s@@ pl@@ i@@ t = search@@ Strin@@ g.@@ s@@ pl@@ it@@ ("@@ :@@ "); java.lang.String result = null@@ ; if ((@@ s@@ pl@@ it.@@ l@@ ength@@ ) > 0) { java.lang.String default@@ Search@@ Strin@@ g = s@@ pl@@ it@@ [@@ 0@@ ]@@ ; result = Search@@ String@@ Mapp@@ ing.@@ search@@ To@@ P@@ l@@ ace@@ Map@@ .get@@ (@@ default@@ Search@@ String@@ ); } if ((@@ current@@ P@@ l@@ ace@@ P@@ resent@@ er != null@@ ) && (c@@ urrent@@ P@@ l@@ ace@@ P@@ resent@@ er.@@ pl@@ ace@@ Match@@ es(@@ result@@ ))) { return true@@ ; } } return false@@ ; }
private java.lang.String get@@ F@@ r@@ ag@@ ment@@ From@@ Search@@ String@@ (java.lang.String search@@ String@@ ) { java.lang.String@@ [@@ ] s@@ pl@@ i@@ t = search@@ Strin@@ g.@@ s@@ pl@@ it@@ ("@@ :@@ "); java.lang.String result = null@@ ; if ((@@ s@@ pl@@ it.@@ l@@ ength@@ ) > 0) { java.lang.String default@@ Search@@ Strin@@ g = s@@ pl@@ it@@ [@@ 0@@ ]@@ ; result = Search@@ String@@ Mapp@@ ing.@@ search@@ To@@ P@@ l@@ ace@@ Map@@ .get@@ (@@ default@@ Search@@ String@@ ); if (((@@ s@@ pl@@ it.@@ l@@ ength@@ ) > 1@@ ) && (@@ result != null@@ )) { result = "@@ ;@@ search@@ =@@ "@@ ; java.lang.String search@@ Query = s@@ pl@@ it@@ [@@ 1@@ ]@@ .@@ t@@ ri@@ m@@ (); com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ common.@@ client.@@ Client@@ U@@ r@@ l@@ Util@@ s ur@@ l@@ Util@@ s = new com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ common.@@ Client@@ U@@ r@@ l@@ Util@@ s(); search@@ Query = ur@@ l@@ Utils.@@ enc@@ ode@@ Query@@ String@@ (@@ search@@ Query@@ ); search@@ Query = search@@ Query@@ .@@ re@@ pl@@ ace@@ All@@ ("@@ %@@ 3@@ D@@ ", "@@ \@@ \@@ \@@ \@@ \@@ \@@ 2@@ "); result = search@@ Query@@ ; } } return result@@ ; }
@java.lang.Override public void r@@ ender@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Cont@@ ex@@ t cont@@ ext@@ , org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model value@@ , com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Buil@@ der sb@@ , java.lang.String id@@ ) { int ava@@ il@@ able@@ Size@@ To@@ Ad@@ d = valu@@ e.get@@ Add@@ ition@@ al@@ Available@@ Siz@@ e(); java.lang.String ava@@ il@@ able@@ Size@@ To@@ Add@@ Strin@@ g = org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Action@@ s@@ C@@ olum@@ n@@ .@@ mess@@ ages.@@ add@@ ition@@ al@@ Available@@ Size@@ In@@ G@@ B@@ (@@ ava@@ il@@ able@@ Size@@ To@@ Add@@ ); boolean is@@ G@@ r@@ ay@@ ed@@ O@@ u@@ t = valu@@ e.get@@ Is@@ G@@ r@@ ay@@ ed@@ Out@@ (); java.lang.String in@@ put@@ Id = id + "@@ _@@ in@@ put@@ "@@ ; com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l in@@ put@@ ; if ((!@@ is@@ G@@ r@@ ay@@ ed@@ Out@@ ) && (!(@@ valu@@ e.get@@ Is@@ Selected@@ ()))) { in@@ pu@@ t = templat@@ es.@@ t@@ og@@ g@@ l@@ ed@@ Up@@ (@@ in@@ put@@ Id, org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Action@@ s@@ C@@ olum@@ n@@ .@@ const@@ an@@ t@@ s.@@ add@@ S@@ an@@ Storage@@ ()); } else if (!@@ is@@ G@@ r@@ ay@@ ed@@ Out@@ ) { in@@ pu@@ t = templat@@ es.@@ t@@ og@@ g@@ l@@ ed@@ Down@@ (@@ in@@ put@@ Id, org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Action@@ s@@ C@@ olum@@ n@@ .@@ const@@ an@@ t@@ s.@@ add@@ S@@ an@@ Storage@@ ()); } else if (!(@@ valu@@ e.get@@ Is@@ In@@ c@@ lu@@ d@@ ed@@ ())) { in@@ pu@@ t = templat@@ es.@@ no@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Action@@ s@@ C@@ olum@@ n@@ .@@ ui@@ Constant@@ s.@@ not@@ Available@@ Label@@ (), "@@ c@@ ol@@ or@@ :@@ g@@ r@@ ay@@ ", in@@ put@@ Id); } else if (@@ ava@@ il@@ able@@ Size@@ To@@ Ad@@ d == 0) { in@@ pu@@ t = templat@@ es.@@ no@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Action@@ s@@ C@@ olum@@ n@@ .@@ const@@ an@@ t@@ s.@@ can@@ not@@ Ex@@ tend@@ S@@ an@@ Storage@@ (), "@@ c@@ ol@@ or@@ :@@ g@@ r@@ ay@@ ", in@@ put@@ Id); } else if (@@ valu@@ e.@@ is@@ Add@@ ition@@ al@@ Available@@ Size@@ Selected@@ ()) { in@@ pu@@ t = templat@@ es.@@ t@@ og@@ g@@ l@@ ed@@ Down@@ (@@ in@@ put@@ Id, ava@@ il@@ able@@ Size@@ ); } else { in@@ pu@@ t = templat@@ es.@@ t@@ og@@ g@@ l@@ ed@@ Down@@ (@@ in@@ put@@ Id, ava@@ il@@ able@@ Size@@ To@@ Add@@ , templat@@ es.@@ t@@ og@@ g@@ l@@ ed@@ Up@@ ); }
private boolean validate@@ Storage@@ Properties@@ Updat@@ e() { org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator storageDomain@@ Validator = get@@ StorageDomain@@ Validator@@ (); if ((@@ (!(@@ check@@ StorageDomain@@ Status@@ Not@@ E@@ qual@@ (@@ StorageDomain@@ Status.@@ Lock@@ ed@@ ))) || (!(@@ validate@@ Storage@@ Name@@ Updat@@ e()@@ ))) || (!(@@ validate@@ Dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ L@@ eg@@ al@@ (@@ storageDomain@@ Validator@@ )))) || (!(@@ validate@@ Disk@@ On@@ Back@@ up@@ Domain@@ (@@ )))) { return false@@ ; } java.util.List<java.lang.String> pro@@ p@@ s = org.ovirt.engine.core.utils.@@ Object@@ Id@@ entity@@ Check@@ er@@ .get@@ Changed@@ Fi@@ el@@ ds@@ (@@ old@@ Domain@@ , org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ StaticData@@ ()); pro@@ p@@ s.@@ remov@@ e(@@ "@@ storage@@ Name@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ d@@ escription@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ c@@ omm@@ ent@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ dis@@ c@@ ard@@ A@@ f@@ ter@@ D@@ elet@@ e@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ w@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ cri@@ tic@@ al@@ Space@@ Action@@ B@@ lock@@ er@@ "); pro@@ p@@ s.@@ remov@@ e(@@ "@@ back@@ up@@ "); if (!(@@ pro@@ p@@ s.@@ isEmpty())) { log.@@ w@@ ar@@ n@@ ("@@ Th@@ e w@@ a@@ s an at@@ temp@@ t to updat@@ e the f@@ ol@@ low@@ ing fi@@ eld@@ s al@@ th@@ o@@ ug@@ h th@@ e@@ y ar@@ e not al@@ low@@ ed to b@@ e updat@@ ed@@ : {}@@ ", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (@@ pro@@ p@@ s, "@@ ,@@ ")); return fail@@ Validation@@ (EngineMessage.@@ ER@@ R@@ OR@@ _C@@ ANNOT_@@ C@@ H@@ AN@@ G@@ E_@@ STORAGE_DOMAIN@@ _@@ FI@@ E@@ L@@ D@@ S@@ ); } return true@@ ; }
private boolean validate@@ Disk@@ On@@ Back@@ up@@ Domain@@ () { return validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ Multiple@@ StorageDomain@@ s@@ Validator@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.getVm@@ ().get@@ StoragePool@@ Id(), java.util.@@ st@@ re@@ am@@ .@@ St@@ re@@ am@@ .@@ con@@ cat@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ Disks@@ Fil@@ t@@ er.@@ ON@@ L@@ Y_@@ IM@@ AG@@ E@@ S@@ ).@@ map@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ .@@ class@@ :@@ :@@ c@@ ast@@ ).@@ f@@ l@@ at@@ Map@@ (@@ ( vm@@ Disk@@ ) -@@ > vm@@ Disk@@ .get@@ Storage@@ Id@@ s().@@ st@@ re@@ am@@ ()), java.util.@@ st@@ re@@ am@@ .@@ St@@ re@@ am@@ .@@ o@@ f@@ (org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ Update@@ StorageDomain@@ Command.getVm@@ ().get@@ L@@ e@@ ase@@ StorageDomain@@ Id@@ ()).@@ filter@@ (@@ java.util.@@ Object@@ s@@ :@@ n@@ on@@ Null@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ())@@ ).@@ all@@ Domains@@ Not@@ Back@@ up@@ Domain@@ s()); }
java.lang.String storage@@ Is@@ csi@@ Y@@ o@@ u@@ Can@@ P@@ er@@ for@@ m@@ Action@@ s@@ Label@@ ();
java.lang.String storage@@ Is@@ csi@@ P@@ u@@ x@@ ();
@java.lang.Override public final com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model object@@ ) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ el@@ l.@@ S@@ c@@ ro@@ ll@@ able@@ Text@@ C@@ el@@ l.@@ C@@ el@@ l@@ Templat@@ e templat@@ e = com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ G@@ W@@ T@@ .@@ c@@ re@@ ate(@@ S@@ c@@ ro@@ ll@@ able@@ Text@@ C@@ el@@ l.@@ C@@ el@@ l@@ Template@@ .@@ class@@ ); java.lang.String c@@ ol@@ or = "@@ "@@ "@@ ; if (@@ obj@@ ect != null@@ ) { if (!(@@ object.get@@ Is@@ In@@ c@@ lu@@ d@@ ed@@ ())) && ((!@@ (@@ object.get@@ Is@@ Selected@@ ())) || (@@ object.get@@ Is@@ G@@ r@@ ay@@ ed@@ Out@@ ()))) { c@@ ol@@ or = "@@ g@@ r@@ ay@@ "@@ ; } else if (@@ object.get@@ Is@@ Selected@@ ()) { c@@ ol@@ or = "@@ m@@ id@@ n@@ ig@@ ht@@ "@@ ; } else if (!(@@ object.get@@ Is@@ Ac@@ cess@@ i@@ bl@@ e())) && (!(@@ object.get@@ Is@@ G@@ r@@ ay@@ ed@@ Out@@ ()))) { c@@ ol@@ or = "@@ or@@ ang@@ e@@ "@@ ; } else { c@@ ol@@ or = "@@ bl@@ ack@@ "@@ ; } return templat@@ e.@@ in@@ put@@ (get@@ Ra@@ w@@ Value(@@ object@@ ), ("@@ c@@ ol@@ or@@ :@@ " + c@@ ol@@ or@@ ), com.google.gwt.@@ user.@@ client.@@ DOM@@ .@@ create@@ Un@@ i@@ qu@@ e@@ Id()); }
private void add@@ Abstract@@ Lun@@ Add@@ Or@@ Ex@@ tend@@ Column@@ (@@ org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ able@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ >> t@@ able@@ , java.lang.String h@@ ead@@ er@@ String@@ ) { org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Action@@ s@@ C@@ olum@@ n@@ add@@ Or@@ Ex@@ tend@@ C@@ olum@@ n = new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Action@@ s@@ C@@ olum@@ n@@ () { @java.lang.Override public org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model object@@ ) { return object@@ ; } }; add@@ Or@@ Ex@@ tend@@ Column@@ .@@ ma@@ ke@@ S@@ ort@@ abl@@ e(); tabl@@ e.@@ add@@ Column@@ (@@ add@@ Or@@ Ex@@ tend@@ Column@@ , h@@ ead@@ er@@ String@@ , "@@ 9@@ 5@@ p@@ x@@ "); }
private void add@@ Abstract@@ Lun@@ Add@@ Or@@ Ex@@ tend@@ Column@@ (@@ org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ EntityModel@@ C@@ el@@ l@@ T@@ able@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ >> t@@ able@@ , java.lang.String h@@ ead@@ er@@ String@@ ) { tabl@@ e.@@ add@@ Column@@ (@@ new org.ovirt.engine.ui.common.widget.@@ tabl@@ e.c@@ olumn@@ .@@ Abstract@@ Lun@@ Action@@ s@@ C@@ olum@@ n@@ () { @java.lang.Override public org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model get@@ Value(@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model object@@ ) { return object@@ ; } }, h@@ ead@@ er@@ String@@ , "@@ 8@@ 5@@ p@@ x@@ "); }
@java.lang.Override public void edit@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Is@@ csi@@ Storage@@ Model object@@ ) { d@@ ri@@ v@@ er.@@ edit@@ (@@ object@@ ); init@@ List@@ s(@@ object@@ ); object.get@@ PropertyChanged@@ Event@@ ().add@@ Listener@@ (@@ "@@ new org.ovirt.engine.ui.uicompat.@@ I@@ Event@@ Listener@@ () { java.lang.String pro@@ p@@ Name = arg@@ s.@@ proper@@ ty@@ Name@@ ; if (@@ pro@@ p@@ Nam@@ e.@@ equals(@@ "@@ Is@@ Valid@@ "@@ )) { on@@ Is@@ Valid@@ Property@@ Chang@@ e(@@ object@@ ); } else if (@@ pro@@ p@@ Nam@@ e.@@ equals(@@ "@@ Is@@ Group@@ p@@ ed@@ By@@ T@@ arget@@ "@@ )) { update@@ List@@ By@@ G@@ ro@@ p@@ ing@@ (@@ object@@ ); } }); is@@ csi@@ T@@ arget@@ To@@ Lun@@ View@@ .@@ edit@@ (@@ object@@ ); is@@ csi@@ Lun@@ To@@ T@@ arget@@ View@@ .@@ edit@@ (@@ object@@ ); target@@ sTo@@ Lun@@ Tab@@ .@@ add@@ Cl@@ ick@@ Handler@@ (@@ ("@@ event@@ ) -@@ > c@@ anDo@@ Lun@@ To@@ T@@ arget@@ View@@ .@@ dis@@ able@@ Item@@ s@@ Updat@@ e(); objec@@ t.@@ set@@ Is@@ Group@@ p@@ ed@@ By@@ T@@ arget@@ (@@ true@@ ); lun@@ To@@ T@@ arget@@ s@@ Tab@@ .@@ add@@ Cl@@ ick@@ Handler@@ (@@ ( event@@ ) -@@ > { is@@ csi@@ T@@ arget@@ To@@ Lun@@ View@@ .@@ dis@@ able@@ Item@@ s@@ Updat@@ e(); objec@@ t.@@ set@@ Is@@ Group@@ p@@ ed@@ By@@ T@@ arget@@ (@@ false@@ ); d@@ ial@@ og@@ Tab@@ Panel@@ .@@ switch@@ Tab@@ ((@@ object.get@@ Is@@ Group@@ p@@ ed@@ By@@ T@@ arget@@ () ? target@@ sTo@@ Lun@@ T@@ a@@ b : lun@@ To@@ T@@ arget@@ s@@ Tab@@ )); update@@ List@@ By@@ G@@ ro@@ p@@ ing@@ (@@ object@@ ); if (!(@@ object.get@@ Cont@@ ain@@ er@@ ().is@@ New@@ Storage@@ ())) { if ((@@ object.get@@ Cont@@ ain@@ er@@ ().get@@ Storage@@ ().get@@ Storage@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ )) { m@@ ain@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ storage.@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Remove@@ LUN@@ s@@ Label@@ ()); sub@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ storage.@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Is@@ csi@@ Y@@ o@@ u@@ Can@@ P@@ er@@ for@@ m@@ Action@@ s@@ Label@@ ()); } else if ((@@ object.get@@ Cont@@ ain@@ er@@ ().get@@ Storage@@ ().get@@ Storage@@ ().get@@ Storage@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Status.@@ Active@@ )) { m@@ ain@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ storage.@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Is@@ csi@@ Action@@ s@@ Label@@ ()); sub@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ storage.@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Is@@ csi@@ Storage@@ ()); sub@@ Label@@ ()); sub@@ Label@@ .set@@ Text@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ storage.@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ Is@@ csi@@ Storage@@ View@@ .@@ const@@ an@@ t@@ s.@@ storage@@ (), true@@ ); } } }
private java.@@ net@@ .@@ H@@ ttp@@ UR@@ L@@ Conn@@ ec@@ tion get@@ Proxy@@ Connection@@ (java.lang.String ur@@ l@@ ) { org.ovirt.engine.core.@@ u@@ utils.@@ net@@ .@@ H@@ ttp@@ UR@@ L@@ Connection@@ Buil@@ der buil@@ der@@ ; java.@@ net@@ .@@ H@@ ttp@@ UR@@ L@@ Conn@@ ec@@ tion connection@@ ; try { build@@ er = new org.ovirt.engine.core.@@ u@@ utils.@@ net@@ .@@ H@@ ttp@@ UR@@ L@@ Connection@@ Builder@@ ().set@@ UR@@ L@@ (@@ ur@@ l@@ ); buil@@ der.@@ set@@ Tr@@ ust@@ Stor@@ e(@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ P@@ K@@ I@@ Tr@@ ust@@ Stor@@ e().get@@ Ab@@ s@@ ol@@ ut@@ e@@ Path@@ ())@@ .set@@ Tr@@ ust@@ Stor@@ e@@ Password@@ (@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ P@@ K@@ I@@ Tr@@ ust@@ Stor@@ e@@ Password@@ ())@@ .set@@ Tr@@ ust@@ Stor@@ e@@ Type(@@ org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ P@@ K@@ I@@ Tr@@ ust@@ Stor@@ e@@ Typ@@ e()@@ )@@ .set@@ H@@ ttp@@ s@@ Protocol@@ (org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ External@@ C@@ omm@@ un@@ ication@@ Protocol@@ )); conn@@ ec@@ tion = buil@@ der.@@ c@@ re@@ at@@ e(); connection@@ .set@@ Do@@ Out@@ put@@ (@@ true@@ ); return connection@@ ; } catch (@@ java.lang.Exception ex@@ ) { throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ Fail@@ ed to c@@ omm@@ un@@ ic@@ at@@ e wit@@ h ovir@@ t@@ -@@ image@@ i@@ o@@ -@@ pro@@ xy@@ : %@@ s", ex@@ .get@@ Message@@ ())); } }
private java.util.Map<java.lang.String, java.lang.Object> create@@ Disk@@ U@@ uid@@ Map@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage disk@@ Image@@ ) { java.util.Map<java.lang.String, java.lang.Object> disk@@ U@@ uid@@ s = new java.util.HashMap@@ <@@ >(); disk@@ U@@ uid@@ s.@@ put@@ ("@@ pool@@ ID@@ ", disk@@ Image.get@@ StoragePool@@ Id()); disk@@ U@@ uid@@ s.@@ put(@@ "@@ do@@ m@@ ain@@ ID@@ ", disk@@ Image.get@@ Storage@@ Id@@ s().get@@ (0@@ )); disk@@ U@@ uid@@ s.@@ put@@ ("@@ image@@ ID@@ ", disk@@ Image.get@@ Id()); disk@@ U@@ uid@@ s.@@ put@@ ("@@ volume@@ ID@@ ", disk@@ Image.get@@ Image@@ Id()); return disk@@ U@@ ui@@ ds@@ ; }
@java.lang.Override protected boolean validate(@@ ) { if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Change@@ Disk@@ Command.@@ sh@@ oul@@ d@@ S@@ k@@ ip@@ Command@@ Execution@@ C@@ ach@@ ed@@ ()) { return true@@ ; } if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Change@@ Disk@@ Command.getVm@@ ()) == null@@ ) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ NOT_@@ F@@ O@@ UN@@ D@@ ); } if (!@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Change@@ Disk@@ Command.@@ can@@ Run@@ Action@@ On@@ Non@@ Manage@@ d@@ Vm@@ ())) { return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Change@@ Disk@@ Command.getVm@@ ().is@@ Run@@ ning@@ Or@@ Pa@@ us@@ ed@@ ())) { return org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Change@@ Disk@@ Command.@@ fail@@ Vm@@ Status@@ I@@ ll@@ eg@@ al@@ (); } if (((@@ is@@ o@@ Domain@@ List@@ S@@ yn@@ ch@@ ron@@ iz@@ er.@@ fin@@ d@@ Active@@ IS@@ OD@@ omain@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Change@@ Disk@@ Command.getVm@@ ().get@@ StoragePool@@ Id@@ ())) == null@@ ) && (!(@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (c@@ d@@ Image@@ Path@@ )))) { return fail@@ Validation@@ (EngineMessage.@@ VM@@ _C@@ ANNOT_@@ W@@ I@@ T@@ HO@@ U@@ T_@@ AC@@ TI@@ V@@ E_@@ STORAGE_DOMAIN@@ _@@ IS@@ O@@ ); } if ((@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (c@@ d@@ Image@@ Path@@ )) && (!@@ org.apache.commons.lang.StringUtils.@@ en@@ ds@@ With@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ c@@ d@@ Image@@ Path@@ , Validation@@ Utils.@@ IS@@ O@@ _@@ S@@ U@@ F@@ FI@@ X@@ ))) || (@@ Validation@@ Utils.@@ G@@ UID@@ .@@ mat@@ ch@@ es@@ (c@@ d@@ Image@@ Path@@ ))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ IN@@ VALID@@ _C@@ D@@ RO@@ M@@ _@@ DIS@@ K_@@ F@@ OR@@ M@@ AT@@ ); } return true@@ ; }
private void set@@ up@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Get@@ Multiple@@ T@@ l@@ v@@ sBy@@ Host@@ Id@@ Test.@@ Exp@@ ected@@ E@@ r@@ ro@@ r exp@@ ected@@ Error@@ ) { org.ovirt.engine.core.compat.Guid valid@@ Gui@@ d = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); org.ovirt.engine.core.common.businessentities.@@ VDS valid@@ V@@ d@@ s = new org.ovirt.engine.core.common.businessentities.@@ VDS@@ (); valid@@ V@@ d@@ s.set@@ Id(@@ valid@@ Guid@@ ); if (@@ exp@@ ected@@ E@@ r@@ ro@@ r == (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Get@@ Multiple@@ T@@ l@@ v@@ sBy@@ Host@@ Id@@ Test.@@ Exp@@ ected@@ Error@@ .@@ NOT_@@ SUPPORT@@ ED@@ )) { valid@@ V@@ d@@ s.set@@ Cluster@@ CompatibilityVersion@@ (@@ Version@@ .@@ v@@ 4@@ _@@ 1@@ ); } else { valid@@ V@@ d@@ s.set@@ Cluster@@ CompatibilityVersion@@ (@@ Version@@ .@@ v@@ 4@@ _@@ 2@@ ); } org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface et@@ h@@ 0 = new org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interfac@@ e(); et@@ h@@ 0@@ .set@@ Name(@@ vds@@ Interfaces@@ Names@@ [@@ 0@@ ]@@ ); org.ovirt.engine.core.common.businessentities.network.@@ VdsNetworkInterface et@@ h@@ 1 = new org.ovirt.engine.core.common.businessentities.network.@@ VdsNetwork@@ Interfac@@ e(); et@@ h@@ 1@@ .set@@ Name(@@ vds@@ Interfaces@@ Names@@ [@@ 1@@ ]@@ ); when@@ (get@@ Query@@ Parameters().get@@ Id@@ ()).@@ thenReturn(@@ Guid@@ ); when(@@ vds@@ Dao@@ .get(@@ e@@ q@@ (@@ valid@@ Guid@@ )@@ )).@@ thenReturn(@@ valid@@ Vds@@ ); when@@ (@@ int@@ er@@ fac@@ e@@ Dao@@ .get@@ All@@ Interfaces@@ For@@ Vds@@ (@@ e@@ q@@ (@@ valid@@ Guid@@ )@@ )).@@ thenReturn(@@ java.util.Arrays.as@@ List(@@ h@@ 0@@ , et@@ h@@ 0@@ , et@@ h@@ 1@@ )); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Valu@@ e = new org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValu@@ e(); return@@ Valu@@ e.set@@ Succeeded@@ (@@ true@@ ); return@@ Valu@@ e.set@@ Return@@ Value(@@ c@@ re@@ at@@ L@@ d@@ p@@ Info@@ Map@@ ((@@ exp@@ ected@@ E@@ r@@ ro@@ r != (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Get@@ Multiple@@ T@@ l@@ v@@ sBy@@ Host@@ Id@@ Test.@@ Exp@@ ected@@ Error@@ .@@ L@@ D@@ P@@ _@@ EN@@ AB@@ LE@@ )@@ ))); when(@@ vds@@ Broker@@ Frontend@@ Mock@@ ed@@ .@@ run@@ Vds@@ Command(@@ e@@ q@@ (@@ VDSCommand@@ Type.Get@@ L@@ d@@ p@@ ), any@@ ())@@ ).@@ then@@ Return@@ (@@ return@@ Value@@ ); }
private java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.network.@@ L@@ d@@ p@@ Info@@ > create@@ Empty@@ Respon@@ s@@ e() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > if@@ ace@@ s = int@@ er@@ fac@@ e@@ Dao@@ .get@@ All@@ Interfaces@@ For@@ Vds@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Get@@ Multiple@@ T@@ l@@ v@@ sBy@@ Host@@ Id@@ Query.get@@ Parameters().get@@ Id()); java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.network.@@ L@@ d@@ p@@ Info@@ > result = new java.util.HashMap@@ <@@ >(); if (@@ if@@ ace@@ s != null@@ ) && (!@@ (@@ if@@ ac@@ es.@@ isEmpty@@ ()))) { if@@ ac@@ es@@ .@@ for@@ E@@ ach@@ (@@ if@@ ac@@ e) -@@ > res@@ ult.@@ put@@ (@@ if@@ ac@@ e.get@@ Name(), null@@ )); } return result@@ ; }
@org.junit.Test public void test@@ Execut@@ e@@ Query@@ Not@@ Supported@@ () { set@@ up@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ Get@@ Multiple@@ T@@ l@@ v@@ sBy@@ Host@@ Id@@ Test.@@ Exp@@ ected@@ Error@@ .@@ NOT_@@ SUPPORT@@ ED); get@@ Query@@ ().execute@@ Query@@ Command@@ (); java.util.Map<java.lang.String, org.ovirt.engine.core.common.businessentities.network.@@ L@@ d@@ p@@ Info@@ > return@@ Valu@@ e = get@@ Query@@ ().get@@ Query@@ ReturnValue().get@@ ReturnValu@@ e(); assert@@ Tr@@ ue(@@ check@@ Empty@@ Valu@@ es@@ For@@ I@@ fac@@ es@@ (@@ return@@ Value@@ )); }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.compat.Guid vds@@ Id = org.ovirt.engine.core.bll.network.@@ host.@@ Get@@ Multiple@@ T@@ l@@ v@@ sBy@@ Host@@ Id@@ Query.get@@ Parameters().get@@ Id@@ (); org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s = vds@@ Dao@@ .get(@@ vds@@ Id); if ((@@ vd@@ s != null@@ ) && (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .is@@ L@@ ll@@ d@@ p@@ I@@ n@@ for@@ m@@ ation@@ Support@@ ed(@@ vds.get@@ Cluster@@ CompatibilityVersion@@ ()))) { java.lang.String@@ [@@ ] name@@ s = new java.lang.String@@ [@@ 0@@ ]@@ ; org.ovirt.engine.core.common.vdscommands.@@ Get@@ L@@ d@@ p@@ VDSCommand@@ Parameters ll@@ d@@ p@@ VDSCommand@@ Parameters = new org.ovirt.engine.core.common.vdscommands.@@ Get@@ L@@ d@@ p@@ VDSCommand@@ Parameters@@ (@@ vds@@ Id, nam@@ es@@ ); org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue c@@ ommand = run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ L@@ d@@ p@@ , ll@@ d@@ p@@ VDSCommand@@ Parameters@@ ); org.ovirt.engine.core.bll.network.@@ host.@@ Get@@ Multiple@@ T@@ l@@ v@@ sBy@@ Host@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ command@@ .get@@ ReturnValu@@ e()); } else { org.ovirt.engine.core.bll.network.@@ host.@@ Get@@ Multiple@@ T@@ l@@ v@@ sBy@@ Host@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ create@@ Empty@@ Respon@@ s@@ e()); } }
private void add@@ Gluster@@ W@@ eb@@ h@@ ook@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { try { back@@ end@@ .@@ run@@ Internal@@ Action(VdcActionType.@@ Add@@ Gluster@@ W@@ eb@@ h@@ ook@@ Internal@@ , new org.ovirt.engine.core.common.action.@@ gluster.Gluster@@ Cluster@@ Parameters(@@ vds.get@@ Cluster@@ Id@@ ())); } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { log.error@@ ("@@ C@@ oul@@ d not re@@ f@@ res@@ h stor@@ age devi@@ ce@@ s f@@ ro@@ m g@@ luster hos@@ t '{}@@ '@@ ", vds.get@@ Name()); } }
public boolean init@@ Gluster@@ Host@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Valu@@ e = run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Gluster@@ Host@@ U@@ UID@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ Id@@ VDSCommand@@ Parameters@@ Bas@@ e(@@ vds.get@@ Id@@ ())); if (@@ return@@ Valu@@ e.get@@ Succeeded@@ ()) && (@@ return@@ Valu@@ e.get@@ ReturnValu@@ e()) != null@@ )) { org.ovirt.engine.core.compat.Guid add@@ ed@@ Server@@ U@@ ui@@ d = org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (((@@ java.lang.String@@ ) (@@ return@@ Valu@@ e.get@@ ReturnValu@@ e()@@ ))); if (@@ host@@ U@@ uid@@ Exist@@ s(@@ vds@@ , add@@ ed@@ Server@@ U@@ uid@@ )) { set@@ Non@@ Operation@@ al@@ (@@ vds@@ , Non@@ Operation@@ al@@ Reason@@ .@@ GLUSTER_@@ HOST@@ _@@ U@@ UID@@ _@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ S@@ , null@@ ); return false@@ ; } s@@ ave@@ Gluster@@ Host@@ U@@ uid@@ (@@ vds@@ , add@@ ed@@ Server@@ U@@ uid@@ ); } else { set@@ Non@@ Operation@@ al@@ (@@ vds@@ , Non@@ Operation@@ al@@ Reason@@ .@@ GLUSTER_@@ HOST@@ _@@ U@@ UID@@ _NOT_@@ F@@ O@@ UN@@ D@@ , null@@ ); return false@@ ; } re@@ fresh@@ Gluster@@ Storage@@ Devic@@ es(@@ vds@@ ); boolean re@@ t = init@@ Gluster@@ P@@ e@@ er@@ Pro@@ cess@@ (@@ vds@@ ); gluster@@ Server@@ Dao@@ .@@ update@@ P@@ e@@ er@@ Status(@@ vds.get@@ Id(), (@@ re@@ t == (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ P@@ e@@ er@@ Status.@@ CON@@ N@@ EC@@ T@@ E@@ D : org.ovirt.engine.core.common.businessentities.@@ gluster.@@ P@@ e@@ er@@ Status.@@ DIS@@ CON@@ N@@ EC@@ T@@ ED@@ )); add@@ Gluster@@ W@@ eb@@ h@@ ook@@ (@@ vds@@ ); return ret@@ ; }
private void log@@ Brick@@ Status@@ Chang@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ , final org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity brick@@ , final org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Statu@@ s f@@ et@@ ched@@ Status@@ ) { log.@@ d@@ ebug@@ ("@@ St@@ ar@@ t th@@ a@@ t stat@@ u@@ s of b@@ r@@ ic@@ k '{}@@ ' in volum@@ e '{}@@ ' ch@@ ang@@ ed f@@ ro@@ m '{}@@ ' to '{}@@ ' brick@@ .get@@ Qu@@ al@@ if@@ i@@ ed@@ Name(), volum@@ e.get@@ Name(), brick@@ .get@@ Status@@ (), f@@ et@@ ched@@ Status@@ ); log@@ Uti@@ l.@@ log@@ A@@ udit@@ Message@@ (@@ volum@@ e.get@@ Cluster@@ Id(), volume@@ , null@@ , AuditLogType.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ ST@@ AT@@ U@@ S_@@ C@@ H@@ AN@@ G@@ ED@@ , new java.util.HashMap@@ <java.lang.String, java.lang.String@@ >() { { { { { put(@@ Gluster@@ Constant@@ s.@@ B@@ R@@ IC@@ K_@@ P@@ AT@@ H@@ , brick@@ .get@@ Qu@@ al@@ if@@ i@@ ed@@ Name()); put(@@ Gluster@@ Constant@@ s.@@ O@@ P@@ TION_@@ OL@@ D@@ _@@ VAL@@ U@@ E@@ , brick@@ .get@@ Status@@ ().@@ toString@@ ()); put(@@ Gluster@@ Constant@@ s.@@ O@@ P@@ TION_@@ N@@ E@@ W@@ _@@ VAL@@ U@@ E@@ , f@@ et@@ ched@@ Status.@@ toString@@ ()); } }); if (@@ f@@ et@@ ched@@ Statu@@ s == (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Status.@@ DO@@ W@@ N@@ )) { log@@ Uti@@ l.@@ log@@ A@@ udit@@ Message@@ (@@ volum@@ e.get@@ Cluster@@ Id(), volume@@ , null@@ , AuditLogType.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ ST@@ AT@@ U@@ S_@@ DO@@ W@@ N@@ , brick@@ .get@@ Id(), brick@@ .get@@ Qu@@ al@@ if@@ i@@ ed@@ Name()); } else if (@@ f@@ et@@ ched@@ Statu@@ s == (org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Status.@@ UP@@ )) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.@@ Al@@ er@@ t@@ sBy@@ Brick@@ Id@@ Log@@ Type(@@ brick@@ .get@@ Id(), AuditLogType.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ ST@@ AT@@ U@@ S_@@ DO@@ W@@ N@@ ); } }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ GeoRep@@ S@@ ess@@ ion get@@ GeoRep@@ Session@@ (org.ovirt.engine.core.compat.Guid ma@@ ster@@ Volume@@ Id, java.lang.String s@@ lave@@ Host@@ Name, java.lang.String s@@ lave@@ Volume@@ Name@@ ) { return getCall@@ sHandler().execute@@ Read@@ ("@@ Get@@ Gluster@@ GeoRep@@ Session@@ By@@ S@@ lave@@ Host@@ And@@ Volume@@ ", org.ovirt.engine.core.dao.@@ gluster.Gluster@@ GeoRep@@ Dao@@ Impl.@@ g@@ e@@ or@@ ep@@ Session@@ Row@@ Map@@ per@@ , getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ ma@@ ster@@ _@@ volume@@ _id", ma@@ ster@@ Volume@@ Id@@ ).addValue("@@ s@@ lave@@ _@@ host@@ _@@ name@@ ", s@@ lave@@ Host@@ Name@@ ).addValue("@@ s@@ lave@@ _@@ volume@@ _@@ name@@ ", s@@ lave@@ Volume@@ Name@@ )); }
private void log@@ Brick@@ Status@@ Chang@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity v@@ ol@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Statu@@ s status@@ , org.ovirt.engine.core.common.businessentities.@@ gluster.Gluster@@ Brick@@ Entity brick@@ ) { log@@ Uti@@ l.@@ log@@ A@@ udit@@ Message@@ (@@ v@@ ol@@ .get@@ Cluster@@ Id(), v@@ ol@@ , null@@ , AuditLogType.@@ GLUSTER_@@ B@@ R@@ IC@@ K_@@ ST@@ AT@@ U@@ S_@@ C@@ H@@ AN@@ G@@ ED@@ , new java.util.HashMap@@ <java.lang.String, java.lang.String@@ >() { { put(@@ Gluster@@ Constant@@ s.@@ B@@ R@@ IC@@ K_@@ P@@ AT@@ H@@ , brick@@ .get@@ Qu@@ al@@ if@@ i@@ ed@@ Name()); put(@@ Gluster@@ Constant@@ s.@@ O@@ P@@ TION_@@ OL@@ D@@ _@@ VAL@@ U@@ E@@ , brick@@ .get@@ Status@@ ().@@ toString@@ ()); put(@@ Gluster@@ Constant@@ s.@@ O@@ P@@ TION_@@ N@@ E@@ W@@ _@@ VAL@@ U@@ E@@ , stat@@ u@@ s.@@ toString@@ ()); put@@ ("@@ source@@ ", "@@ g@@ luster event@@ "); } }); }
public boolean is@@ D@@ um@@ m@@ y@@ Provider@@ () { return ((@@ typ@@ e) == (@@ Provider@@ Type.@@ EX@@ TER@@ N@@ AL@@ _@@ NETWOR@@ K@@ )) && (((@@ ur@@ l@@ ) == null@@ ) || (@@ ur@@ l.@@ isEmpty@@ ())); }
public org.ovirt.engine.core.bll.ValidationResult cpu@@ Type@@ Support@@ s@@ Vir@@ t@@ Servic@@ e() { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ P@@ U@@ _NOT_@@ F@@ O@@ UN@@ D@@ ).when@@ ((@@ (c@@ luster.@@ support@@ s@@ Vir@@ t@@ Service@@ (@@ )) && ((@@ cluster@@ .get@@ Cpu@@ Name()@@ ) != null@@ )) && (!@@ (c@@ pu@@ Exist@@ s@@ ())@@ ))); }
@java.lang.Override protected void execute@@ Command() { int mis@@ sing@@ Disk@@ C@@ oun@@ t = get@@ M@@ is@@ sing@@ Disk@@ Count@@ (); if (@@ mis@@ sing@@ Disk@@ C@@ oun@@ t <@@ = 0) { set@@ Ovf@@ Update@@ St@@ ep@@ (@@ Ovf@@ Update@@ St@@ ep@@ .@@ OV@@ F@@ _@@ UP@@ LO@@ AD@@ ); update@@ Ovf@@ Stor@@ e@@ Cont@@ ent@@ (); set@@ Succeeded@@ (@@ fail@@ ed@@ Ovf@@ Disk@@ s.@@ isEmpty@@ ()); } else { set@@ Ovf@@ Update@@ St@@ ep@@ (@@ Ovf@@ Update@@ St@@ ep@@ .@@ OV@@ F@@ _@@ STOR@@ E@@ S_@@ C@@ RE@@ A@@ TI@@ ON@@ ); org.ovirt.engine.core.bll.storage.@@ o@@ vf@@ stor@@ e.@@ Pro@@ cess@@ Ovf@@ Update@@ For@@ StorageDomain@@ Command@@ .set@@ Succeeded@@ (c@@ reate@@ Ovf@@ Stor@@ e@@ Disk@@ s(@@ get@@ M@@ is@@ sing@@ Disk@@ Count@@ ())); } }
protected abstract void s@@ el@@ ect@@ P@@ h@@ y@@ s@@ ical@@ Dat@@ ac@@ ent@@ re@@ Network@@ ();
private void on@@ P@@ h@@ y@@ s@@ ical@@ R@@ ad@@ i@@ o@@ Button@@ Chang@@ e(@@ java.lang.Object value) { if (s@@ end@@ er == (get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B@@ ())) { get@@ N@@ e@@ u@@ tr@@ on@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ Dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able@@ (@@ true@@ ); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ r@@ e().set@@ Entity@@ (@@ true@@ ); } else if (s@@ end@@ er == (get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ ())) { get@@ N@@ e@@ u@@ tr@@ on@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able@@ (@@ true@@ ); get@@ Dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ r@@ e().set@@ Entity@@ (@@ false@@ ); } else if (s@@ end@@ er == (get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ r@@ e())) { boolean dat@@ ac@@ ent@@ r@@ e = get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ r@@ e().get@@ Entity@@ (); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ ().set@@ Entity@@ ((!@@ dat@@ ac@@ ent@@ re@@ ), false@@ ); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B@@ ().set@@ Entity(@@ dat@@ ac@@ ent@@ re@@ , false@@ ); } }
public void set@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ r@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.Boolean@@ > p@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ ) { this@@ .@@ p@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ r@@ e = p@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ ; }
private boolean is@@ Conn@@ ected@@ To@@ P@@ h@@ y@@ s@@ ical@@ Network@@ () { final org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = get@@ Network@@ (); return false@@ ; }
@java.lang.Override public void update@@ Visi@@ bility@@ () { message@@ Label@@ .set@@ Visi@@ bl@@ e@@ (@@ false@@ ); }
@java.lang.Override protected void s@@ el@@ ect@@ P@@ h@@ y@@ s@@ ical@@ Dat@@ ac@@ ent@@ re@@ Network@@ () { final org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = get@@ Network@@ (); final org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = get@@ Network@@ (); network@@ .set@@ Id(@@ network@@ ); final org.ovirt.engine.core.common.businessentities.network.@@ Network n@@ etwork = get@@ Network@@ (); network@@ .set@@ Network@@ (network@@ ); network@@ .set@@ Network@@ (network@@ ); network@@ .set@@ Network@@ (network@@ ); network@@ .set@@ Network@@ (network@@ ); network@@ .set@@ Network@@ (network@@ ); network@@ .set@@ Network@@ (network@@ ); network@@ .set@@ Network@@ (network@@ ); }
public void set@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.Boolean@@ > p@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ ) { this@@ .@@ p@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B = p@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ ; }
@java.lang.Override protected void s@@ el@@ ect@@ P@@ h@@ y@@ s@@ ical@@ Dat@@ ac@@ ent@@ re@@ Network@@ () { get@@ Dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().set@@ SelectedItem@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ Lin@@ q.@@ fi@@ r@@ st@@ Or@@ Null@@ (get@@ Dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().get@@ Item@@ s@@ ())); }
@java.lang.Override protected void execute@@ S@@ av@@ e() { final org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters@@ (get@@ Selected@@ D@@ c@@ ().get@@ Id(), get@@ Network@@ ()); parameters.set@@ Vnic@@ Profile@@ Re@@ qui@@ red@@ (@@ false@@ ); if ((get@@ Ex@@ ter@@ n@@ al@@ ().getEntity@@ ()) { org.ovirt.engine.core.common.businessentities.@@ Provider@@ <?@@ > ex@@ ternal@@ Provi@@ der = get@@ External@@ Provi@@ d@@ ers@@ ().get@@ SelectedItem@@ (); org.ovirt.engine.core.common.businessentities.network.@@ Provider@@ Network p@@ rovider@@ Network = new org.ovirt.engine.core.common.businessentities.network.@@ Provider@@ Network@@ (); p@@ rovider@@ Network@@ .set@@ Provider@@ Id(@@ ex@@ ternal@@ Provider@@ .getId()); get@@ Network@@ ().set@@ Provi@@ d@@ ed@@ By@@ (p@@ rovider@@ Network@@ ); if (get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ r@@ e().get@@ Entity@@ ()) { } org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ (@@ ActionType.@@ Add@@ Network@@ On@@ Provider@@ , parameters@@ , add@@ Network@@ Callback@@ (), null@@ ); } else { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ (@@ ActionType.@@ Add@@ Network@@ , parameters@@ , add@@ Network@@ Callback@@ (), null@@ ); }
public org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.Boolean@@ > get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ () { return p@@ h@@ y@@ s@@ ical@@ Network@@ ; }
@java.lang.Override protected void on@@ Export@@ Changed@@ () { super@@ .@@ on@@ Export@@ Changed@@ (); get@@ Ex@@ ter@@ n@@ al@@ ().getEntity@@ ()) { get@@ H@@ as@@ V@@ L@@ an@@ Tag@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ V@@ L@@ an@@ Tag@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ Is@@ VmNetwork@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ Network@@ Label@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ N@@ e@@ u@@ tr@@ on@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); }
public void set@@ P@@ h@@ y@@ s@@ ical@@ Network@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.Boolean@@ > p@@ h@@ y@@ s@@ ical@@ Network@@ ) { this@@ .@@ p@@ h@@ y@@ s@@ ical@@ Network = p@@ h@@ y@@ s@@ ical@@ Network@@ ; }
public org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.Boolean@@ > get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ () { return p@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ ; }
public org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.Boolean@@ > get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ () { return p@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B@@ ; }
public void f@@ l@@ us@@ h@@ () { network@@ .set@@ DataCenter@@ Id@@ (get@@ Selected@@ D@@ c@@ ().get@@ Id()); network@@ .set@@ Name(@@ get@@ Nam@@ e().get@@ Entity@@ ()); network@@ .set@@ St@@ p@@ (get@@ Is@@ St@@ p@@ Enabled@@ ().getEntity@@ ()); network@@ .set@@ Description@@ (get@@ Description@@ ().getEntity@@ ()); network@@ .set@@ C@@ omm@@ ent@@ (get@@ C@@ omm@@ ent@@ ().getEntity@@ ()); network@@ .set@@ VmNetwork@@ (get@@ Is@@ VmNetwork@@ ().getEntity@@ ()); java.lang.String l@@ ab@@ e@@ l = get@@ Network@@ Label@@ ().get@@ SelectedItem@@ (); if ((get@@ External@@ ().getEntity@@ ()) && (get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().getEntity@@ ())) { l@@ ab@@ e@@ l = (!@@ (get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ r@@ e().get@@ Entity@@ ())) ? get@@ N@@ e@@ u@@ tr@@ on@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().getEntity@@ () : null@@ ; } network@@ .set@@ Label@@ (((@@ l@@ ab@@ e@@ l == null@@ ) || (!(@@ l@@ abel@@ .@@ isEmpty())) ? l@@ ab@@ e@@ l : null@@ )); network@@ .set@@ M@@ tu@@ (0@@ ); if (get@@ M@@ tu@@ ().get@@ Is@@ Chang@@ abl@@ e()) { network@@ .set@@ M@@ tu@@ (@@ java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (get@@ M@@ tu@@ ().getEntity@@ ().@@ toString@@ ())); } network@@ .set@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (get@@ D@@ n@@ s@@ Configuration@@ Model@@ ().@@ f@@ l@@ us@@ h@@ ()); network@@ .set@@ V@@ lan@@ Id@@ (@@ null@@ ); if (get@@ H@@ as@@ V@@ L@@ an@@ Tag@@ ().getEntity@@ ()) { network@@ .set@@ V@@ lan@@ Id(@@ java.lang.Integ@@ er.@@ par@@ se@@ Int@@ (get@@ V@@ L@@ an@@ Tag@@ ().getEntity@@ ().@@ toString@@ ())); } for (@@ org.ovirt.engine.ui.uicommonweb.models.@@ profil@@ es.@@ Vnic@@ Profile@@ Model profil@@ e@@ Model : get@@ Profil@@ es@@ ().get@@ Item@@ s()) { profil@@ e@@ Model.@@ f@@ l@@ us@@ h@@ (); } if (get@@ Qos@@ ().get@@ Is@@ Chang@@ abl@@ e()) { org.ovirt.engine.core.common.businessentities.network.@@ Host@@ Network@@ Qo@@ s q@@ o@@ s = get@@ Qos@@ ().get@@ SelectedItem@@ (); network@@ .set@@ Qos@@ Id@@ ((@@ q@@ o@@ s.@@ Network@@ Model.@@ EM@@ P@@ TY@@ _@@ HOST@@ _@@ NETWORK_@@ Q@@ O@@ S@@ ) ? null : qos@@ .getId@@ ())); } }
protected void on@@ Export@@ Changed@@ () { boolean ex@@ ternal@@ Network = get@@ Ex@@ ter@@ n@@ al@@ ().getEntity@@ (); get@@ Network@@ Label@@ ().setIs@@ Change@@ able@@ ((!@@ ex@@ ternal@@ Network@@ )); get@@ N@@ e@@ u@@ tr@@ on@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able(@@ ex@@ ternal@@ Network@@ ); get@@ Qos@@ ().setIs@@ Change@@ able@@ ((!@@ ex@@ ternal@@ Network@@ )); get@@ Add@@ Qos@@ Command@@ ().setIs@@ Execution@@ Allow@@ ed@@ ((!@@ ex@@ ternal@@ Network@@ )); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able(@@ ex@@ ternal@@ Network@@ ); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B@@ ().setIs@@ Change@@ able(@@ ex@@ ternal@@ Network@@ ); update@@ M@@ tu@@ Sel@@ ect@@ or@@ s@@ Change@@ ab@@ ility@@ (); }
private void update@@ Avail@@ ab@@ ility@@ () { if (!(@@ org.ovirt.engine.ui.uicommonweb.models.@@ Application@@ M@@ ode@@ Helper.@@ is@@ M@@ ode@@ Support@@ ed(@@ Application@@ Mod@@ e.@@ Vir@@ t@@ Only@@ ))) { get@@ External@@ Provi@@ d@@ ers@@ ().setIs@@ Available@@ (@@ false@@ ); get@@ N@@ e@@ u@@ tr@@ on@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Available@@ (@@ false@@ ); get@@ Create@@ Sub@@ net@@ ().setIs@@ Available@@ (@@ false@@ ); get@@ V@@ L@@ an@@ Tag@@ ().setIs@@ Available@@ (@@ false@@ ); get@@ H@@ as@@ V@@ L@@ an@@ Tag@@ ().setIs@@ Available@@ (@@ false@@ ); get@@ Ex@@ ter@@ n@@ al@@ ().setIs@@ Available@@ (@@ false@@ ); } }
private void init@@ P@@ h@@ y@@ s@@ ical@@ Network@@ List@@ () { org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Query@@ (@@ Query@@ Type.Get@@ All@@ Network@@ s, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (get@@ Selected@@ D@@ c@@ ().get@@ Id@@ ()), new org.ovirt.engine.ui.uicommonweb.models.@@ dat@@ ac@@ enter@@ s.@@ Async@@ Query@@ <@@ org.ovirt.engine.core.common.queries.@@ Query@@ ReturnValue@@ >@@ (@@ ( result) -@@ > network@@ s = result.get@@ ReturnValu@@ e(); if (network@@ s != null@@ ) { get@@ Dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().set@@ Items(@@ network@@ s); s@@ el@@ ect@@ P@@ h@@ y@@ s@@ ical@@ Dat@@ ac@@ ent@@ re@@ Network@@ (); } }
public org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ > get@@ Dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ () { return dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ; }
public void set@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.Boolean@@ > p@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B@@ ) { this@@ .@@ p@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B = p@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B@@ ; }
public void set@@ Dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <@@ org.ovirt.engine.core.common.businessentities.network.Network@@ > dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ) { this@@ .@@ dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network = dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ; }
private void init@@ () { set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ edit@@ Log@@ ical@@ Network@@ Titl@@ e()); set@@ Help@@ Tag@@ (@@ Help@@ T@@ a@@ g.@@ edit@@ _@@ log@@ ical@@ _@@ network@@ ); set@@ Hash@@ Name("@@ edit@@ _@@ log@@ ical@@ _@@ network@@ "); get@@ Name()@@ .set@@ Entity@@ (get@@ Network@@ ().get@@ Name()); get@@ Description@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ Description@@ ()); get@@ C@@ omm@@ ent@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ C@@ omm@@ ent@@ ()); get@@ Is@@ St@@ p@@ Enabled@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ St@@ p@@ ()); get@@ H@@ as@@ V@@ L@@ an@@ Tag@@ ().set@@ Entity@@ ((@@ (get@@ Network@@ ().get@@ V@@ lan@@ Id()) != null@@ )); get@@ V@@ L@@ an@@ Tag@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ V@@ lan@@ Id()); init@@ M@@ tu@@ (); init@@ Is@@ Vm@@ (); init@@ Is@@ Vm@@ (); get@@ Ex@@ ter@@ n@@ al@@ ().set@@ Entity@@ (get@@ Network@@ ().is@@ External@@ ()); get@@ Ex@@ ter@@ n@@ al@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ External@@ Provi@@ d@@ ers@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().set@@ Entity(@@ is@@ Conn@@ ected@@ To@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ()); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); if (is@@ Conn@@ ected@@ To@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ()) { get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ r@@ e().set@@ Entity@@ (@@ false@@ ); } get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ R@@ B@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Custom@@ R@@ B@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); get@@ Dat@@ ac@@ ent@@ re@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().setIs@@ Change@@ able@@ (@@ false@@ ); if ((get@@ Network@@ ().is@@ External@@ ()) && (is@@ Conn@@ ected@@ To@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ())) { get@@ N@@ e@@ u@@ tr@@ on@@ P@@ h@@ y@@ s@@ ical@@ Network@@ ().set@@ Entity@@ (get@@ Network@@ ().get@@ Label@@ ()); } else { get@@ Network@@ Label@@ ().set@@ SelectedItem@@ (get@@ Network@@ ().get@@ Label@@ ()); } t@@ og@@ g@@ le@@ Profil@@ es@@ Avail@@ ab@@ ility@@ (); }
java.lang.String p@@ h@@ y@@ s@@ ical@@ Network@@ Dat@@ ac@@ ent@@ re@@ Label@@ ();
private void set@@ Quota@@ Storage@@ (org.ovirt.engine.core.common.businessentities.@@ Qu@@ ot@@ a quota@@ ) { if (@@ quota@@ .@@ isEmpty@@ Storage@@ Quota@@ ()) { quota@@ .set@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ (@@ new org.ovirt.engine.core.common.businessentities.@@ Quota@@ Storage@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), quota@@ .get@@ Id(), null@@ , (@@ -@@ 1@@ L@@ ), 0@@ .@@ 0@@ )); return@@ ; } if ((@@ quota@@ .get@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ ()) != null@@ ) { quota@@ .get@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ ().set@@ Quota@@ Id(@@ quota@@ .getId()); quota@@ .get@@ G@@ lo@@ b@@ al@@ Quota@@ Storage@@ ().set@@ Quota@@ Storage@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); } if ((@@ quota@@ .get@@ Quota@@ Stor@@ ages@@ ()) != null@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ Quota@@ Stor@@ age quota@@ Stor@@ age : quota@@ .get@@ Quota@@ Stor@@ ages@@ ()) { quota@@ Stor@@ age.@@ set@@ Quota@@ Id(@@ quota@@ .getId()); quota@@ Stor@@ age.@@ set@@ Quota@@ Storage@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); } }
private void update@@ Image@@ Status@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Statu@@ s im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ <@@ T@@ >@@ .@@ St@@ ate@@ Cont@@ ex@@ t cont@@ ext@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er up@@ To@@ D@@ ate@@ Image@@ Trans@@ fer@@ ) { if (((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Siz@@ e()) != 0) && ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Siz@@ e()) == (@@ up@@ To@@ D@@ ate@@ Image@@ Trans@@ fer@@ .get@@ By@@ t@@ es@@ S@@ ent@@ ()))) && (!(@@ up@@ To@@ D@@ ate@@ Image@@ Trans@@ fer@@ .get@@ Acti@@ v@@ e()@@ ))) { if (!(@@ cont@@ ext.@@ entity.get@@ Acti@@ v@@ e())) { org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er status@@ Updat@@ e = new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ (); status@@ Updat@@ e.set@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ F@@ IN@@ AL@@ I@@ Z@@ ING@@ _@@ S@@ U@@ C@@ E@@ SS@@ ); run@@ Internal@@ Action@@ (@@ ActionType.@@ Trans@@ fer@@ Image@@ Status@@ , new org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ Image@@ Status@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id(), status@@ Update@@ )); } }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type map@@ (@@ org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type cont@@ ent@@ Type@@ ) { if (@@ cont@@ ent@@ Type == null@@ ) { return null@@ ; } switch (@@ cont@@ ent@@ Type@@ ) { case D@@ AT@@ A : return org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type@@ ; case IS@@ O : return org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Cont@@ ent@@ Type@@ ; case M@@ EM@@ OR@@ Y_@@ D@@ U@@ M@@ P@@ _@@ V@@ O@@ LU@@ M@@ E : return org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type@@ ; case M@@ EM@@ OR@@ Y@@ _M@@ ET@@ AD@@ AT@@ A@@ _@@ V@@ O@@ LU@@ M@@ E : return org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type@@ ; case OV@@ F@@ _@@ STOR@@ E : return org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type@@ ; default : throw new java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ ((@@ ("@@ Un@@ k@@ n@@ ow@@ n dis@@ k cont@@ ent typ@@ e \@@ "@@ " + cont@@ ent@@ Type@@ ) + "@@ \@@ "@@ ")); } }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type map@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Cont@@ ent@@ Type cont@@ ent@@ Type@@ ) { switch (@@ cont@@ ent@@ Type@@ ) { case D@@ AT@@ A : return org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type.@@ D@@ AT@@ A@@ ; case IS@@ O : return org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type.@@ IS@@ O@@ ; case M@@ EM@@ OR@@ Y_@@ D@@ U@@ M@@ P@@ _@@ V@@ O@@ LU@@ M@@ E : return org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type.@@ M@@ EM@@ OR@@ Y_@@ D@@ U@@ M@@ P@@ _@@ V@@ O@@ LU@@ M@@ E@@ ; case M@@ EM@@ OR@@ Y@@ _M@@ ET@@ AD@@ AT@@ A@@ _@@ V@@ O@@ LU@@ M@@ E : return org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type.@@ M@@ EM@@ OR@@ Y@@ _M@@ ET@@ AD@@ AT@@ A@@ _@@ V@@ O@@ LU@@ M@@ E@@ ; case OV@@ F@@ _@@ STOR@@ E : return org.ovirt.engine.api.model.@@ Disk@@ Cont@@ ent@@ Type.@@ OV@@ F@@ _@@ STOR@@ E@@ ; default : return null@@ ; } }
protected void update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ () { final java.util.Map@@ <org.ovirt.engine.core.common.businessentities.@@ Cluster@@ , java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity@@ >> result = new java.util.HashMap@@ <@@ >(); get@@ Enti@@ ties@@ ().get@@ Item@@ s().@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( import@@ Template@@ Data@@ ) -@@ > update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ (@@ import@@ Template@@ Data@@ .get@@ Entity@@ (), result@@ ); set@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ C@@ d@@ Image@@ (@@ result@@ ); }
protected void update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ () { final java.util.Map@@ <org.ovirt.engine.core.common.businessentities.@@ Cluster@@ , java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity@@ >> result = new java.util.HashMap@@ <@@ >(); get@@ Enti@@ ties@@ ().get@@ Item@@ s().@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( re@@ g@@ ist@@ er@@ Vm@@ Data@@ ) -@@ > update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ (@@ re@@ g@@ ist@@ er@@ Vm@@ Data@@ .get@@ Entity@@ ().get@@ SelectedItem@@ ()); set@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ (@@ result@@ ); }
protected java.util.Map@@ <org.ovirt.engine.core.common.businessentities.@@ Cluster@@ , java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity@@ >> update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ (@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > int@@ er@@ fac@@ es@@ , org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ , java.util.Map@@ <org.ovirt.engine.core.common.businessentities.@@ Cluster@@ , java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity@@ >> result) { final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity@@ > cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ ; if (@@ res@@ ult.@@ contain@@ s@@ Key@@ (cluster@@ )) { cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s = result.get@@ (cluster@@ ); } else { cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s = new java.util.Hash@@ Set@@ (); res@@ ult.@@ put@@ (cluster@@ , cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s); } final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity@@ > pre@@ vi@@ o@@ us@@ Cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ ; if (@@ ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ C@@ luster.@@ contain@@ s@@ Key@@ (cluster@@ )) { pre@@ vi@@ o@@ us@@ Cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s = ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ .get@@ (cluster@@ ); } else { pre@@ vi@@ o@@ us@@ Cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s = new java.util.Hash@@ Set@@ (); } final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity@@ > vm@@ Vnic@@ Profile@@ s = get@@ New@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ (@@ int@@ er@@ fac@@ es@@ , pre@@ vi@@ o@@ us@@ Cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s); cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s.@@ add@@ All@@ (vm@@ Vnic@@ Profil@@ es@@ ); return result@@ ; }
public java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > cl@@ one@@ External@@ Vnic@@ Profil@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ ) { if ((@@ ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ .get@@ (cluster@@ )) == null@@ ) { return new java.util.ArrayList<@@ >(); } final java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > result = new java.util.Array@@ List(@@ ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ .get@@ (cluster@@ ).@@ siz@@ e()); ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ .get@@ (cluster@@ ).@@ st@@ re@@ am@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( v@@ nic@@ Profile@@ Mapp@@ ing@@ Entity@@ ) -@@ > res@@ ult.@@ add(@@ v@@ nic@@ Profile@@ Mapp@@ ing@@ Entity@@ .get@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ ())); return result@@ ; }
private java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity@@ > get@@ New@@ Vnic@@ Profile@@ Mapp@@ ing@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ > int@@ er@@ fac@@ es@@ , java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity@@ > pre@@ vi@@ o@@ us@@ Vnic@@ Profile@@ Mapp@@ ing@@ s) { final java.util.Set@@ <@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity@@ > result = new java.util.Hash@@ Set@@ <@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface v@@ n@@ ic : int@@ er@@ fac@@ es) { final org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity new@@ Mapp@@ ing = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity(@@ v@@ nic@@ .get@@ Network@@ Name(), v@@ nic@@ .get@@ Vnic@@ Profile@@ Name(), null@@ ); final org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Entity m@@ app@@ ing = pre@@ vi@@ o@@ us@@ Cluster@@ Vnic@@ Profile@@ Mapp@@ ing@@ s.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( x@@ ) -@@ > x.@@ e@@ qual@@ s@@ (@@ new@@ Mapp@@ ing@@ )).@@ fin@@ d@@ F@@ ir@@ st@@ ().@@ or@@ El@@ se@@ (@@ new@@ Mapp@@ ing@@ ); res@@ ult.@@ add(@@ m@@ app@@ ing@@ ); } return result@@ ; }
protected void add@@ Vnic@@ Profile@@ Mapp@@ ing@@ Command() { final org.ovirt.engine.ui.uicommonweb.UICommand v@@ nic@@ Profile@@ Mapp@@ ing@@ C@@ ommand = create@@ Vnic@@ Profile@@ Mapp@@ ing@@ Command@@ (); org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Re@@ g@@ ist@@ er@@ Entity@@ Model.get@@ Command@@ s().add(@@ v@@ nic@@ Profile@@ Mapp@@ ing@@ Command@@ ); }
@java.lang.Override public void execute@@ Command(@@ org.ovirt.engine.ui.uicommonweb.UICommand command@@ ) { super@@ .@@ execute@@ Command@@ (command@@ ); if ("@@ On@@ S@@ ave@@ "@@ .equals(@@ command@@ .getName()@@ )) { on@@ S@@ av@@ e(); } if ((@@ c@@ ommand == (get@@ Vnic@@ Profile@@ Mapp@@ ing@@ Command@@ ())) && ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Re@@ g@@ ist@@ er@@ Entity@@ Model.get@@ W@@ in@@ do@@ w@@ ()) == null@@ )) { update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ (); v@@ nic@@ Profile@@ Mapp@@ ing@@ Model = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ re@@ g@@ ist@@ er.@@ Vnic@@ Profile@@ Mapp@@ ing@@ Model@@ (@@ this@@ , ex@@ ternal@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ ); v@@ nic@@ Profile@@ Mapp@@ ing@@ Model.@@ initial@@ iz@@ e(); set@@ W@@ in@@ do@@ w@@ (@@ v@@ nic@@ Profile@@ Mapp@@ ing@@ Model@@ ); }
protected abstract void update@@ External@@ Vnic@@ Profil@@ es@@ Per@@ T@@ arget@@ Cluster@@ ();
public void set@@ Command@@ Typ@@ e() { this@@ .@@ command@@ Type@@ ; }
protected org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Default@@ Comp@@ en@@ s@@ ation@@ Cont@@ ex@@ t create@@ Default@@ Comp@@ en@@ s@@ ation@@ Context@@ () { org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Default@@ Comp@@ en@@ s@@ ation@@ Cont@@ ex@@ t default@@ Cont@@ ex@@ t = new org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Default@@ Comp@@ en@@ s@@ ation@@ Context@@ (); default@@ Cont@@ ext.@@ set@@ Command@@ Id@@ (command@@ Id); default@@ Cont@@ ext.@@ set@@ Command@@ Type(@@ get@@ Action@@ Typ@@ e()); default@@ Cont@@ ext.@@ set@@ B@@ usiness@@ Entity@@ Snapshot@@ Dao@@ (@@ business@@ Entity@@ Snapshot@@ Dao@@ ); default@@ Cont@@ ext.@@ set@@ Snapshot@@ Ser@@ ial@@ iz@@ er@@ (@@ org.ovirt.engine.core.utils.@@ Ser@@ ial@@ iz@@ ation@@ Fac@@ t@@ ory@@ .get@@ Ser@@ ial@@ iz@@ er@@ ()); return default@@ Context@@ ; }
@java.lang.Override public java.util.List<@@ org.apache.commons.@@ c@@ ollection@@ s.@@ Key@@ Value@@ > get@@ All@@ Command@@ s() { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e(); return getCall@@ sHandler().execute@@ Read@@ List@@ ("@@ get@@ _@@ all@@ _@@ command@@ s", "@@ row@@ Num@@ ) -@@ > { org.apache.commons.@@ c@@ ollection@@ s.@@ key@@ valu@@ e.@@ Default@@ Key@@ Valu@@ e result = new org.apache.commons.@@ c@@ ollection@@ s.@@ key@@ valu@@ e.@@ Default@@ Key@@ Valu@@ e(); res@@ ult.@@ set@@ Key@@ (get@@ Guid@@ Default@@ Empty@@ (@@ r@@ s, "@@ command@@ _id@@ ")); res@@ ult.@@ set@@ Value(@@ org.ovirt.engine.core.common.action.@@ ActionType.@@ value@@ Of@@ (@@ rs.get@@ String("@@ command@@ _@@ type@@ "@@ )); return result@@ ; }
@java.lang.Override public void s@@ av@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ S@@ napsho@@ t entity@@ Snapshot@@ ) { org.ovirt.engine.core.compat.Guid id = entity@@ S@@ napsho@@ t.get@@ Id@@ (); if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (@@ id@@ )) { id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); entity@@ S@@ napsho@@ t.@@ set@@ Id(@@ id@@ ); } org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ id@@ ", entity@@ S@@ napsho@@ t.get@@ Id@@ ()).addValue("@@ command@@ _id", entity@@ S@@ napsho@@ t.get@@ Command@@ Id@@ ()).addValue("@@ command@@ _@@ type@@ ", entity@@ S@@ napsho@@ t.get@@ Command@@ Typ@@ e()@@ ).addValue("@@ entity@@ _id", entity@@ S@@ napsho@@ t.get@@ Entity@@ Id@@ ()).addValue("@@ entity@@ _@@ type@@ ", entity@@ S@@ napsho@@ t.get@@ Entity@@ Typ@@ e()@@ ).addValue("@@ entity@@ _@@ snapshot@@ ", entity@@ S@@ napsho@@ t.get@@ Entity@@ Snapshot@@ ()).addValue("@@ snapshot@@ _@@ class@@ ", entity@@ S@@ napsho@@ t.get@@ Snapshot@@ Class@@ ()).addValue("@@ snapshot@@ _@@ type@@ ", entity@@ S@@ napsho@@ t.get@@ Snapshot@@ Typ@@ e()@@ ).addValue("@@ in@@ ser@@ tion@@ _@@ or@@ der@@ ", entity@@ S@@ napsho@@ t.get@@ In@@ ser@@ tion@@ Or@@ der@@ ()); getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ in@@ sert@@ _@@ entity@@ _@@ snapshot@@ ", parameter@@ Source@@ ); }
@org.junit.Test public void test@@ In@@ sert@@ Snapshot@@ () { org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ S@@ napsho@@ t s@@ napsho@@ t = new org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Snapshot@@ (); org.ovirt.engine.core.compat.Guid command@@ Id = org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (); s@@ napsho@@ t.@@ set@@ Command@@ Id@@ (command@@ Id); s@@ napsho@@ t.@@ set@@ Command@@ Type(@@ s@@ napsho@@ t.@@ toString@@ ()); s@@ napsho@@ t.@@ set@@ Entity@@ Type(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ().@@ toString@@ ()); s@@ napsho@@ t.@@ set@@ Entity@@ Type(@@ "@@ org.ovirt.engine.core.common.businessentities.@@ Vds@@ Static@@ "); s@@ napsho@@ t.@@ set@@ Entity@@ Snapshot@@ ("@@ s@@ om@@ et@@ h@@ ing@@ "); s@@ napsho@@ t.@@ set@@ Snapshot@@ Cl@@ as@@ s(@@ "@@ s@@ om@@ e@@ Class@@ "); d@@ ao.@@ s@@ av@@ e(@@ snapshot@@ ); java.util.List<org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Snapshot@@ > snapshot@@ s@@ From@@ D@@ b = d@@ ao@@ .get@@ AllFor@@ Command@@ Id@@ (command@@ Id); assert@@ Not@@ Null@@ (s@@ napshot@@ s@@ From@@ Db@@ ); assert@@ E@@ quals(@@ 1, snapshot@@ s@@ From@@ Db@@ .get@@ (0@@ )); }
boolean validate@@ Cluster@@ () { if ((org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Add@@ Vds@@ Command.get@@ Cluster@@ ()) == null@@ ) { return fail@@ Validation@@ (EngineMessage.@@ VDS@@ _C@@ LUSTER_@@ IS@@ _NOT_@@ VALID@@ ); } return true@@ ; }
public void comp@@ en@@ s@@ ate(@@ ) { java.util.List<@@ org.apache.commons.@@ c@@ ollection@@ s.@@ Key@@ Value@@ > command@@ Snapshot@@ s = org.ovirt.engine.core.common.businessentities.@@ Entity@@ Snapshot@@ Dao@@ .get@@ All@@ Command@@ s(); for (@@ org.apache.commons.@@ c@@ ollection@@ s.@@ Key@@ Valu@@ e command@@ S@@ napsho@@ t : command@@ Snapshot@@ s) { try { comp@@ en@@ s@@ ate@@ (((@@ org.ovirt.engine.core.compat.Guid@@ ) (command@@ S@@ napsho@@ t.get@@ Key@@ ()))); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.bll.@@ On@@ Start@@ up@@ Comp@@ en@@ s@@ ation@@ .@@ log.error@@ ("@@ Fail@@ ed to r@@ u@@ n comp@@ en@@ s@@ ation on st@@ art@@ u@@ p for C@@ ommand '{}@@ '@@ , C@@ ommand '{}@@ '@@ : {}@@ ", command@@ S@@ napsho@@ t.get@@ Valu@@ e(), command@@ S@@ napsho@@ t.get@@ Key@@ (), e.get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ On@@ Start@@ up@@ Comp@@ en@@ s@@ ation@@ .@@ log.error@@ ("@@ Exception@@ ", e); } org.ovirt.engine.core.bll.@@ On@@ Start@@ up@@ Comp@@ en@@ s@@ ation@@ .@@ log.@@ info@@ ("@@ Run@@ n@@ ing comp@@ en@@ s@@ ation on st@@ art@@ u@@ p for C@@ ommand '{}@@ '@@ , C@@ ommand Id '@@ ", command@@ S@@ napsho@@ t.get@@ Valu@@ e(), command@@ S@@ napsho@@ t.get@@ Key@@ ()); } }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Snapshot@@ > get@@ AllFor@@ Command@@ Id(@@ org.ovirt.engine.core.compat.Guid command@@ ID@@ ) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ command@@ _id", command@@ ID@@ ); return getCall@@ sHandler().execute@@ Read@@ List@@ ("@@ get@@ _@@ entity@@ _@@ snapshot@@ _@@ b@@ y@@ _@@ command@@ _id", ("@@ S@@ napsho@@ t r@@ s, row@@ Num@@ ) -@@ > { org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ S@@ napsho@@ t result = new org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ Snapshot@@ (); res@@ ult.@@ set@@ Id@@ (get@@ Guid@@ Default@@ Empty@@ (@@ r@@ s, "@@ id@@ ")); res@@ ult.@@ set@@ Command@@ Id@@ (get@@ Guid@@ Default@@ Empty@@ (@@ r@@ s, "@@ command@@ _id@@ ")); res@@ ult.@@ set@@ Command@@ Type(@@ rs.get@@ String("@@ command@@ _@@ type@@ "@@ )).@@ res@@ ult.@@ set@@ Entity@@ Id(@@ rs.get@@ String("@@ entity@@ _id@@ ")); res@@ ult.@@ set@@ Entity@@ Type(@@ rs.get@@ String("@@ entity@@ _@@ type@@ ")); res@@ ult.@@ set@@ Entity@@ Snapshot@@ (@@ rs.get@@ String("@@ entity@@ _@@ snapshot@@ ")); res@@ ult.@@ set@@ Snapshot@@ Cl@@ as@@ s(@@ rs.get@@ String("@@ snapshot@@ _@@ class@@ _@@ class@@ _@@ snapshot@@ _@@ class@@ ")); res@@ ult.@@ set@@ Snapshot@@ Type(@@ org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ S@@ napsho@@ t.@@ Snapshot@@ Type.@@ valu@@ es@@ ()@@ [@@ rs.get@@ Int@@ ("@@ snapshot@@ _@@ type@@ "@@ )@@ ]@@ ); res@@ ult.@@ set@@ In@@ ser@@ tion@@ Or@@ der@@ (@@ rs.get@@ Int@@ ("@@ in@@ ser@@ tion@@ _@@ or@@ der@@ ")); return result@@ ; }
private void init@@ Default@@ Network@@ Provider@@ () { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ All@@ Provi@@ d@@ ers@@ By@@ Type@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ cluster@@ s.@@ Async@@ Query@@ (@@ ("@@ c@@ luster result) -@@ > { List<@@ org.ovirt.engine.core.common.businessentities.@@ Provider@@ > p@@ rovider@@ s = ((@@ java.util.@@ List@@ ) (@@ result@@ )); p@@ rovider@@ s.add(@@ 0@@ , get@@ No@@ Default@@ Network@@ Provider@@ ()); get@@ Default@@ Network@@ Provider@@ ().set@@ Items(@@ p@@ rovi@@ d@@ ers@@ ); org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = get@@ Entity@@ (); if (c@@ luster != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ Provi@@ der default@@ Network@@ Provi@@ der = p@@ rovider@@ s.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ("@@ C@@ luster p@@ rovider@@ ) -@@ > java.util.@@ Object@@ s.@@ equals(@@ p@@ rovider@@ .get@@ Id(), cluster@@ .get@@ Default@@ Network@@ Provider@@ Id@@ ())@@ ).@@ fin@@ d@@ F@@ ir@@ st@@ ().@@ or@@ El@@ se@@ (@@ null@@ ); get@@ Default@@ Network@@ Provider@@ ().set@@ SelectedItem@@ (@@ default@@ Network@@ Provider@@ Type.@@ O@@ P@@ EN@@ ST@@ AC@@ K_@@ NETWOR@@ K@@ , Provider@@ Type.@@ EX@@ TER@@ N@@ AL@@ _@@ NETWOR@@ K@@ ); } }
public void s@@ el@@ ect@@ Provider@@ By@@ Id(@@ org.ovirt.engine.core.compat.Guid p@@ rovider@@ Id) { if ((get@@ Network@@ Provi@@ d@@ ers@@ ().get@@ Item@@ s()) != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ Provi@@ der p@@ rovi@@ der = get@@ Network@@ Provi@@ d@@ ers@@ ().get@@ Item@@ s().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( c@@ and@@ id@@ ate@@ ) -@@ > j@@ av@@ e.@@ j@@ ect@@ ().@@ filter@@ (@@ ( c@@ and@@ id@@ ate@@ ) -@@ > p@@ rovider@@ Id@@ )).@@ fin@@ d@@ F@@ ir@@ st@@ ().@@ or@@ El@@ se@@ (@@ null@@ ); get@@ Network@@ Provi@@ d@@ ers@@ ().set@@ SelectedItem@@ (p@@ rovider@@ ); } }
protected boolean can@@ Disk@@ Be@@ M@@ o@@ v@@ ed@@ () { return validate(@@ create@@ Disk@@ Validator@@ (get@@ Image@@ ()).@@ disk@@ Can@@ Be@@ C@@ op@@ i@@ ed@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ DiskImage@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ DiskImage@@ ().get@@ Q@@ c@@ ow@@ Comp@@ at@@ ())); }
@java.lang.Override protected boolean validate(@@ ) { return ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ ((((@@ validate@@ And@@ Set@@ Set@@ Set@@ Set@@ Set@@ Set@@ Set@@ ())) && (@@ check@@ Operation@@ Is@@ C@@ or@@ r@@ ect@@ ())) && (@@ check@@ Operation@@ Allow@@ ed@@ On@@ Disk@@ Cont@@ ent@@ Typ@@ e())) && (is@@ Image@@ Not@@ Lock@@ ed@@ ())) && (is@@ Source@@ And@@ Dest@@ Th@@ e@@ S@@ am@@ e())) && (@@ validate@@ Source@@ StorageDomain@@ ())) && (@@ validate@@ Dest@@ Storage@@ ())) && (@@ check@@ Template@@ In@@ Dest@@ StorageDomain@@ ())) && (@@ validate@@ Space@@ Re@@ qui@@ r@@ ement@@ s@@ ())) && (@@ validate@@ Vm@@ Snapshot@@ Status@@ ())) && (@@ check@@ Can@@ Be@@ Move@@ In@@ Vm@@ ())) && (@@ check@@ If@@ N@@ e@@ ed@@ To@@ Be@@ O@@ verrid@@ e())) && (@@ set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ ())) && (@@ set@@ And@@ Validate@@ Quota@@ ())) && (@@ validate@@ P@@ ass@@ Dis@@ c@@ ard@@ Supported@@ For@@ Dest@@ ination@@ StorageDomain@@ ()); }
public org.ovirt.engine.core.bll.ValidationResult disk@@ Can@@ Be@@ C@@ op@@ i@@ ed@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage disk@@ Image@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ c@@ ow@@ C@@ ompati@@ bl@@ e@@ With@@ Disk@@ s(@@ org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ c@@ ow@@ C@@ ompati@@ bl@@ e@@ , org.ovirt.engine.core.common.businessentities.storage.@@ Q@@ C@@ ompati@@ bl@@ e@@ With@@ Disk@@ .@@ new@@ Disk@@ Image.get@@ Parent@@ Id@@ ()))) { org.ovirt.engine.core.common.businessentities.storage.@@ Image par@@ ent = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Image@@ Dao().get@@ (disk@@ Image.get@@ Parent@@ Id()); if ((@@ par@@ ent.@@ get@@ Siz@@ e()) < (disk@@ Image.get@@ Siz@@ e())) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ C@@ AN@@ NO@@ T@@ _M@@ OV@@ E_@@ DIS@@ K@@ ); } } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@java.lang.Override public void update@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ VDS host@@ ) { try { org.ovirt.engine.core.common.utils.@@ An@@ An@@ si@@ bl@@ e@@ Command@@ Buil@@ der c@@ ommand = new org.ovirt.engine.core.common.utils.@@ ans@@ i@@ bl@@ e.@@ An@@ si@@ bl@@ e@@ Command@@ Builder@@ ().@@ host@@ nam@@ es(@@ hos@@ t.get@@ Host@@ Name()@@ ).@@ log@@ File@@ Direct@@ ory@@ (@@ Vds@@ De@@ pl@@ o@@ y@@ Bas@@ e.@@ HOST@@ _@@ DE@@ P@@ LO@@ G@@ _@@ D@@ I@@ RE@@ C@@ T@@ OR@@ Y@@ ).@@ log@@ File@@ Pre@@ fi@@ x@@ ("@@ ovir@@ t@@ -@@ host@@ -@@ m@@ g@@ m@@ t@@ -@@ ans@@ i@@ bl@@ e@@ ").@@ log@@ File@@ Name(@@ hos@@ t.get@@ Host@@ Name()@@ ).@@ log@@ File@@ Su@@ f@@ fi@@ x@@ (@@ org.ovirt.engine.core.utils.@@ C@@ or@@ r@@ el@@ ation@@ Id@@ Tr@@ ack@@ er@@ .get@@ C@@ or@@ r@@ el@@ ation@@ Id@@ ()).@@ play@@ b@@ ook@@ (@@ An@@ si@@ bl@@ e@@ Constant@@ s.@@ HOST@@ _@@ UP@@ G@@ R@@ AD@@ E_@@ PL@@ A@@ Y@@ B@@ O@@ K@@ ); if ((@@ ans@@ i@@ bl@@ e@@ Execut@@ or.@@ run@@ Command@@ (c@@ om@@ Command@@ , org.ovirt.engine.core.bll.@@ host.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager.@@ UP@@ D@@ AT@@ E_@@ P@@ AC@@ K@@ AG@@ E@@ S_@@ TI@@ M@@ E@@ S_@@ TI@@ M@@ E@@ O@@ U@@ T@@ ).get@@ An@@ si@@ bl@@ e@@ Return@@ Cod@@ e()) != (org.ovirt.engine.core.common.@@ utils.@@ Respon@@ si@@ bl@@ e@@ Return@@ Cod@@ e.@@ O@@ K@@ )) { java.lang.String er@@ ro@@ r = java.lang.String@@ .@@ for@@ mat@@ ("@@ Fail@@ ed to updat@@ e hos@@ t '@@ %@@ 1@@ $@@ s@@ '@@ . hos@@ t.get@@ Host@@ Name()); org.ovirt.engine.core.bll.@@ host.@@ Host@@ Up@@ g@@ r@@ ad@@ e@@ Manager.@@ log.error@@ (@@ error@@ ); throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ error@@ ); } } catch (@@ java.lang.@@ Inter@@ r@@ up@@ t@@ ed@@ Exception | java.io.@@ I@@ O@@ Exception ex@@ ) { throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ ex@@ ); }
@java.lang.Override protected void end@@ Success@@ f@@ ull@@ y@@ () { if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Ex@@ tend@@ Image@@ Size@@ Command.get@@ Image@@ ().get@@ Acti@@ v@@ e()) { update@@ R@@ el@@ ev@@ an@@ t@@ Vm@@ s(); } else if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Ex@@ tend@@ Image@@ Size@@ Command.get@@ Image@@ ().@@ has@@ Ra@@ w@@ B@@ lock@@ ()) { re@@ fresh@@ Volum@@ e(); } org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = get@@ Image@@ Info@@ (); if ((@@ disk@@ Image != null@@ ) && ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Ex@@ tend@@ Image@@ Size@@ Command.get@@ Image@@ ().get@@ Siz@@ e()) != (disk@@ Image.get@@ Siz@@ e()@@ ))) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Ex@@ tend@@ Image@@ Size@@ Command.get@@ ReturnValu@@ e().set@@ Action@@ Return@@ Value(@@ disk@@ Image.get@@ Siz@@ e()); image@@ Dao@@ .@@ update@@ Image@@ Siz@@ e(@@ disk@@ Image.get@@ Image@@ Id(), disk@@ Image.get@@ Siz@@ e()); comp@@ let@@ e@@ Image@@ Data@@ (disk@@ Image@@ ); update@@ AuditLog@@ (@@ AuditLogType.@@ US@@ ER_@@ EX@@ T@@ END@@ _@@ DIS@@ K_@@ SI@@ Z@@ E_@@ S@@ U@@ C@@ E@@ SS@@ , disk@@ Image.get@@ Size@@ In@@ G@@ ig@@ a@@ byte@@ s()); } org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Ex@@ tend@@ Image@@ Size@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
protected void add@@ Db@@ User@@ s(@@ org.ovirt.engine.core.common.businessentities.@@ Db@@ Use@@ r d@@ est@@ ination@@ ) { }
private void add@@ Permission@@ s(@@ org.ovirt.engine.core.bll.@@ storage.@@ o@@ vf@@ stor@@ e.@@ D@@ r@@ Mapp@@ ing@@ Helper.@@ Permission@@ s@@ Param@@ O@@ bj@@ ect per@@ mission@@ s@@ Param@@ s, java.util.List<java.lang.String> mis@@ sing@@ Rol@@ es@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ > per@@ mission@@ sTo@@ Add@@ ) { java.util.Map@@ <@@ java.lang.String@@ , java.util.Set@@ <java.lang.String@@ > user@@ To@@ Role@@ s = per@@ mission@@ s@@ Param@@ s.@@ user@@ To@@ Rol@@ es@@ ; user@@ To@@ Rol@@ es@@ .get@@ Or@@ Default@@ (@@ per@@ mission@@ s@@ Param@@ s.@@ db@@ User@@ .get@@ Lo@@ gin@@ Name(), java.util.Collections.@@ em@@ pty@@ Set@@ ())@@ .@@ for@@ E@@ ach@@ (@@ ( ro@@ le@@ Name@@ ) -@@ > { org.ovirt.engine.core.common.businessentities.@@ Per@@ mis@@ si@@ on per@@ mis@@ si@@ on = null@@ ; org.ovirt.engine.core.common.businessentities.@@ Rol@@ e or@@ i@@ gin@@ al@@ Rol@@ e = ro@@ le@@ Dao@@ .get@@ By@@ Name(@@ ro@@ le@@ Name@@ ); if (@@ per@@ mission@@ s@@ Param@@ s.@@ ro@@ le@@ Map != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ Rol@@ e d@@ est@@ Role@@ Name = ((org.ovirt.engine.core.common.businessentities.@@ Rol@@ e) (@@ per@@ mission@@ s@@ Param@@ s.@@ ro@@ le@@ Map@@ .get(@@ ro@@ le@@ Name@@ ))); if (@@ d@@ est@@ Role@@ Name != null@@ ) { org.ovirt.engine.core.common.businessentities.@@ Rol@@ e d@@ est@@ Rol@@ e = ro@@ le@@ Dao@@ .get@@ By@@ Name(@@ d@@ est@@ Role@@ Nam@@ e.get@@ Name()); per@@ mis@@ si@@ on = new org.ovirt.engine.core.common.businessentities.@@ Permission@@ (@@ per@@ mission@@ s@@ Param@@ s.@@ db@@ User@@ .get@@ Id(), d@@ est@@ Rol@@ e.get@@ Id(), per@@ mission@@ s@@ Param@@ s.@@ siz@@ e()); per@@ mission@@ s.@@ remov@@ e(@@ per@@ mission@@ s@@ Param@@ s); } else if (@@ or@@ i@@ gin@@ al@@ Rol@@ e != null@@ ) { per@@ mis@@ si@@ on = new org.ovirt.engine.core.common.businessentities.@@ Permission@@ (@@ per@@ mission@@ s@@ Param@@ s.@@ db@@ User@@ .get@@ Id(), or@@ i@@ gin@@ al@@ Rol@@ e.get@@ Id(), per@@ mission@@ s@@ Param@@ s.@@ object@@ Type@@ ); } else if (@@ or@@ i@@ gin@@ al@@ Rol@@ e != null@@ ) { per@@ mis@@ si@@ on = new org.ovirt.engine.core.common.businessentities.@@ Permission@@ (@@ per@@ mission@@ s@@ Param@@ s.@@ db@@ User@@ .get@@ Id(), or@@ i@@ gin@@ al@@ Rol@@ e.get@@ Id(), per@@ mission@@ s@@ Param@@ s.@@ entity@@ Id, per@@ mission@@ s@@ Param@@ s.@@ object@@ Type@@ ); } if (@@ per@@ mis@@ si@@ on != null@@ ) { per@@ mission@@ sTo@@ Add@@ .@@ add(@@ per@@ mission@@ ); } else { mis@@ sing@@ Rol@@ es.@@ add@@ (@@ ro@@ le@@ Name@@ ); } }); }
protected void add@@ Db@@ User@@ s(@@ org.ovirt.engine.core.common.businessentities.@@ Db@@ Us@@ ers@@ > d@@ r@@ Mapp@@ ing@@ Helper.@@ map@@ Db@@ Us@@ ers@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Domain@@ Map@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Db@@ Us@@ ers@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ User@@ To@@ Rol@@ es@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getVm@@ Id(), Vdc@@ Object@@ Type.@@ VM@@ , org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ Configuration@@ Command.getParameters().get@@ Role@@ Map@@ ()); }
@java.lang.Override protected void execute@@ Vm@@ Command() { try { add@@ Vm@@ To@@ Db@@ (); add@@ Vm@@ To@@ A@@ f@@ fin@@ ity@@ Group@@ s(); add@@ Vm@@ To@@ A@@ f@@ fin@@ ity@@ Label@@ s(); pro@@ cess@@ Images@@ (); vm@@ Handler.@@ add@@ Vm@@ Init@@ To@@ D@@ B@@ (get@@ Vm@@ ().get@@ StaticData@@ ().get@@ Vm@@ Init@@ ()); dis@@ c@@ ard@@ Helper.@@ log@@ If@@ Disks@@ With@@ I@@ ll@@ eg@@ al@@ P@@ ass@@ Dis@@ c@@ ard@@ Exist@@ (get@@ Vm@@ Id()); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { mac@@ Poo@@ l.@@ f@@ ree@@ Mac@@ s(@@ mac@@ s@@ Add@@ ed@@ ); throw e@@ ; } org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command@@ Bas@@ e.set@@ Succeeded@@ (@@ true@@ ); org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ CommandBase.get@@ ReturnValu@@ e().set@@ Action@@ Return@@ Value(@@ getVm@@ ()); }
@java.lang.Override protected void execute@@ Command() { if (@@ sh@@ oul@@ d@@ S@@ k@@ ip@@ Command@@ Execution@@ C@@ ach@@ ed@@ ()) { org.ovirt.engine.core.bll.@@ Vm@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); return@@ ; } execute@@ Vm@@ Command@@ (); }
private void re@@ g@@ ist@@ er@@ H@@ e@@ Ovf@@ Updat@@ e() { if (!(@@ sh@@ oul@@ d@@ Update@@ Host@@ ed@@ Engine@@ Ovf@@ ())) { return@@ ; } if (!@@ (org.ovirt.engine.core.bll.@@ VmCommand.getVm@@ ().is@@ Host@@ ed@@ Engin@@ e())) { return@@ ; } org.ovirt.engine.core.bll.@@ Vm@@ Command.@@ re@@ g@@ ist@@ er@@ R@@ oll@@ back@@ Handler@@ (@@ new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Comp@@ let@@ ion@@ Listener@@ () { @java.lang.Override public void onSuccess@@ () { o@@ vf@@ Data@@ Updat@@ er.@@ t@@ ri@@ g@@ er@@ N@@ ow@@ (); } @java.lang.Override public void on@@ R@@ oll@@ back@@ () { } }); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > get@@ Name@@ Server@@ s(@@ org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ) { if (@@ d@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation == null@@ ) { return java.util.Collections.@@ EM@@ P@@ TY@@ _@@ L@@ IS@@ T@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ Name@@ Server@@ > name@@ Server@@ s = d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .get@@ Name@@ Server@@ s(); if ((@@ name@@ Server@@ s == null@@ ) || (@@ name@@ Server@@ s.@@ isEmpty())) { return java.util.Collections.@@ EM@@ P@@ TY@@ _@@ L@@ IS@@ T@@ ; } return name@@ Server@@ s@@ ; }
private void dataCenter@@ _@@ SelectedItem@@ Changed@@ () { if ((get@@ C@@ urrent@@ Storage@@ Item@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Bas@@ e) { org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Base s@@ an@@ Storage@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ S@@ an@@ Storage@@ Model@@ Bas@@ e) (get@@ C@@ urrent@@ Storage@@ Item@@ ())); s@@ an@@ Storage@@ Model.@@ update@@ R@@ emo@@ va@@ bl@@ e@@ Lun@@ s(@@ get@@ DataCenter@@ ().get@@ SelectedItem@@ ().get@@ CompatibilityVersion@@ ()); s@@ an@@ Storage@@ Model.get@@ Re@@ qui@@ re@@ T@@ able@@ Refresh@@ ().set@@ Entity@@ (@@ null@@ ); s@@ an@@ Storage@@ Model.get@@ Re@@ qui@@ re@@ T@@ able@@ Refresh@@ ().set@@ Entity@@ (@@ true@@ ); } update@@ Item@@ s@@ Avail@@ ab@@ ility@@ (); b@@ e@@ ha@@ vi@@ or.@@ update@@ DataCenter@@ Al@@ er@@ t@@ (); }
public void update@@ R@@ emo@@ va@@ bl@@ e@@ Lun@@ s(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion dc@@ CompatibilityVersion@@ ) { set@@ R@@ ed@@ u@@ ce@@ Device@@ Supported@@ (((@@ java.lang.Boolean@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Config@@ Value@@ Pre@@ Convert@@ ed(@@ ConfigValues.@@ R@@ ed@@ u@@ ce@@ Device@@ From@@ StorageDomain@@ , dc@@ CompatibilityVersion@@ .toString@@ ())@@ ))); int num@@ Of@@ In@@ c@@ lu@@ d@@ ed@@ Lun@@ s = get@@ In@@ c@@ lu@@ d@@ ed@@ Lun@@ s().@@ siz@@ e(); java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.@@ storage.@@ Lun@@ Model@@ > lun@@ Model@@ s = get@@ Lun@@ s@@ (@@ false@@ , true@@ ); lun@@ Model@@ s@@ .@@ for@@ E@@ ach@@ (@@ ( lun@@ Model) -@@ > lun@@ Model@@ .setIs@@ Lun@@ R@@ emo@@ va@@ bl@@ e@@ (((@@ is@@ R@@ ed@@ u@@ ce@@ Device@@ Supported@@ ()) && ((@@ num@@ Of@@ In@@ c@@ lu@@ d@@ ed@@ Lun@@ s != 1@@ ) && (!@@ (get@@ Met@@ ad@@ ata@@ Devic@@ es@@ ().@@ contains(@@ lun@@ Model.get@@ Lun@@ Id@@ ())@@ )@@ )@@ ))); }
@org.junit.Test public void test@@ Read@@ Boolean@@ List@@ () { java.util.List<@@ java.lang.Boolean@@ > exp@@ ected = java.util.Arrays.as@@ List@@ (@@ true@@ , false@@ ); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ run@@ tim@@ e.@@ x@@ ml.@@ X@@ ml@@ Read@@ er read@@ er = op@@ en@@ Read@@ er@@ (@@ "@@ <@@ valu@@ es@@ >@@ <@@ value@@ >@@ true@@ <@@ /@@ value@@ >@@ <@@ /@@ value@@ >@@ <@@ /@@ valu@@ es@@ >@@ "); java.util.List<@@ java.lang.Boolean@@ > boolean@@ s = read@@ er.@@ read@@ B@@ alloon@@ (); assert@@ E@@ quals(@@ exp@@ ected@@ , boolean@@ s); }
@org.junit.Test public void test@@ Read@@ Boolean@@ List@@ En@@ d@@ Element@@ () { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ run@@ tim@@ e.@@ x@@ ml.@@ X@@ ml@@ Read@@ er read@@ er = op@@ en@@ Read@@ er@@ (@@ "@@ <@@ valu@@ es@@ >@@ <@@ value@@ >@@ true@@ <@@ /@@ value@@ >@@ <@@ /@@ value@@ >@@ "); read@@ er.@@ read@@ B@@ in@@ ans@@ (); assert@@ E@@ quals(@@ javax.@@ x@@ ml.@@ st@@ re@@ am@@ .@@ X@@ M@@ L@@ St@@ re@@ am@@ Constant@@ s.@@ END@@ _@@ E@@ LE@@ M@@ EN@@ T@@ , read@@ er@@ .get@@ Event@@ Typ@@ e()); assert@@ E@@ quals(@@ "@@ valu@@ es@@ ", read@@ er@@ .get@@ Local@@ Name()); }
@org.junit.Test public void test@@ Read@@ String@@ List@@ En@@ d@@ Element@@ () { org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ run@@ tim@@ e.@@ x@@ ml.@@ X@@ ml@@ Read@@ er read@@ er = op@@ en@@ Read@@ er@@ ("@@ <@@ valu@@ es@@ >@@ <@@ value@@ >@@ 1@@ <@@ /@@ value@@ >@@ <@@ /@@ value@@ >@@ "); read@@ er.@@ read@@ String@@ s(); assert@@ E@@ quals(@@ javax.@@ x@@ ml.@@ st@@ re@@ am@@ .@@ X@@ M@@ L@@ St@@ re@@ am@@ Constant@@ s.@@ END@@ _@@ E@@ LE@@ M@@ EN@@ T@@ , read@@ er@@ .get@@ Event@@ Typ@@ e()); assert@@ E@@ quals(@@ "@@ valu@@ es@@ ", read@@ er@@ .get@@ Local@@ Name()); }
public java.util.List<java.lang.String> read@@ String@@ s() { java.util.List<java.lang.String> value@@ s = new java.util.ArrayList<@@ >(); java.lang.String st@@ art@@ ing@@ Local@@ Name = read@@ er@@ .get@@ Local@@ Nam@@ e(); java.lang.String current@@ Local@@ Name = st@@ art@@ ing@@ Local@@ Name@@ ; while (@@ for@@ w@@ ard@@ ()) { current@@ Local@@ Name = read@@ er@@ .get@@ Local@@ Nam@@ e(); if (c@@ urrent@@ Local@@ Nam@@ e.@@ equals(@@ st@@ art@@ ing@@ Local@@ Name@@ )) { s@@ k@@ i@@ p = read@@ String@@ (); } else { valu@@ es.@@ add(@@ read@@ String@@ ); } } return valu@@ es@@ ; }
@org.junit.Test public void test@@ Read@@ String@@ List@@ () { java.util.List<java.lang.String> exp@@ ected = java.util.Arrays.as@@ List@@ ("@@ 1@@ ", "@@ 2@@ "); org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ run@@ tim@@ e.@@ x@@ ml.@@ X@@ ml@@ Read@@ er read@@ er = op@@ en@@ Read@@ er@@ ("@@ <@@ valu@@ es@@ >@@ <@@ value@@ >@@ 1@@ <@@ /@@ value@@ >@@ <@@ /@@ value@@ >@@ <@@ /@@ valu@@ es@@ >@@ "); java.util.List<java.lang.String> st@@ ring@@ s = read@@ er.@@ read@@ String@@ s(); assert@@ E@@ quals(@@ exp@@ ected@@ , st@@ ring@@ s); }
private static java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > map@@ Vnic@@ Profil@@ es@@ Mapp@@ ing@@ (@@ org.ovirt.engine.api.model.@@ Re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Profile@@ Mapp@@ ing@@ s model@@ ) { java.util.Collection@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > result = new java.util.Array@@ List(@@ model.get@@ Re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Profile@@ Mapp@@ ing@@ s().@@ siz@@ e()); model.get@@ Re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ ()@@ .@@ for@@ E@@ ach@@ (@@ ( re@@ g@@ Mapp@@ ing@@ ) -@@ > { res@@ ult.@@ add@@ (@@ new org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ (@@ re@@ g@@ Mapp@@ ing.@@ get@@ From@@ ().get@@ Network@@ Name(), re@@ g@@ Mapp@@ ing.@@ get@@ From@@ ().get@@ Name(), ((@@ re@@ g@@ Mapp@@ ing.@@ get@@ To@@ ()) != null ? new org.ovirt.engine.core.compat.Guid@@ (@@ re@@ g@@ Mapp@@ ing.@@ get@@ To@@ ().get@@ Id()) : null@@ ))); return result@@ ; }
public static void validate@@ Re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Resourc@@ e b@@ s, org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if (!(@@ action.@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ())) { return@@ ; } if (!(@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().is@@ Set@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ ())) { return@@ ; } org.ovirt.engine.api.model.@@ Re@@ g@@ ist@@ r@@ ation@@ Profile@@ Mapp@@ ing@@ s m@@ app@@ ing@@ s = action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ Vnic@@ Profile@@ Mapp@@ ing@@ s(); b@@ s.@@ validate@@ Parameters(@@ m@@ app@@ ing@@ s, "@@ re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ "); for (@@ org.ovirt.engine.api.model.@@ Re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Profile@@ Mapp@@ ing m@@ app@@ ing : m@@ app@@ ing@@ s.get@@ Re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Profile@@ Mapp@@ ing@@ s()) { b@@ s.@@ validate@@ Parameters(@@ m@@ app@@ ing@@ , "@@ f@@ rom@@ "); if ((@@ m@@ app@@ ing.@@ get@@ From@@ ().get@@ Name()@@ ) == null@@ ) { b@@ s.@@ validate@@ Parameters(@@ m@@ app@@ ing@@ , "@@ f@@ rom@@ .@@ name@@ "); } b@@ s.@@ validate@@ Parameters(@@ m@@ app@@ ing@@ , "@@ f@@ rom@@ .@@ network@@ "); if ((@@ m@@ app@@ ing.@@ get@@ From@@ ().get@@ Network@@ ().get@@ Name()@@ ) == null@@ ) { b@@ s.@@ validate@@ Parameters(@@ m@@ app@@ ing@@ , "@@ f@@ rom@@ .@@ name@@ "); } if ("@@ "@@ .@@ e@@ qual@@ s@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ m@@ app@@ ing.@@ get@@ From@@ ().get@@ Name()@@ )) { m@@ app@@ ing.@@ get@@ From@@ ().set@@ Name@@ (@@ null@@ ); } if ("@@ "@@ .@@ e@@ qual@@ s@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ m@@ app@@ ing.@@ get@@ From@@ ().get@@ Network@@ ().get@@ Name()@@ )) { m@@ app@@ ing.@@ get@@ From@@ ().get@@ Network@@ ().set@@ Name@@ (@@ null@@ ); } if ((@@ m@@ app@@ ing.@@ isSet@@ To@@ ()) && (@@ m@@ app@@ ing.@@ get@@ To@@ ().is@@ Set@@ Id@@ ())) { as@@ Guid@@ (@@ m@@ app@@ ing.@@ get@@ To@@ ().get@@ Id()); } }
@@@ java.lang.@@ De@@ p@@ r@@ ec@@ ate@@ d public static void validate@@ Vnic@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Resourc@@ e b@@ r@@ , org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if (@@ action.@@ isSet@@ Vnic@@ Profile@@ Mapp@@ ing@@ s()) { b@@ r@@ .@@ validate@@ Parameters(@@ action@@ .get@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ (), "@@ v@@ nic@@ Profile@@ Mapp@@ ing@@ s@@ "); for (@@ org.ovirt.engine.api.model.@@ Vnic@@ Profile@@ Mapp@@ ing m@@ app@@ ing : action@@ .get@@ Vnic@@ Profile@@ Mapp@@ ing@@ s().get@@ Vnic@@ Profile@@ Mapp@@ ing@@ s()) { if ((@@ m@@ app@@ ing.@@ get@@ Source@@ Network@@ Name()@@ ) == null@@ ) { b@@ r@@ .@@ validate@@ Parameters(@@ m@@ app@@ ing@@ , "@@ source@@ Network@@ Name@@ "); } if ((@@ m@@ app@@ ing.@@ get@@ Source@@ Network@@ Profile@@ Name()@@ ) == null@@ ) { b@@ r@@ .@@ validate@@ Parameters(@@ m@@ app@@ ing@@ , "@@ source@@ Network@@ Profile@@ Name@@ "); } if ("@@ "@@ .@@ e@@ qual@@ s@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ m@@ app@@ ing.@@ get@@ Source@@ Network@@ Name()@@ )) { m@@ app@@ ing.@@ set@@ Source@@ Network@@ Name@@ (@@ null@@ ); } if ("@@ "@@ .@@ e@@ qual@@ s@@ I@@ g@@ n@@ ore@@ C@@ as@@ e(@@ m@@ app@@ ing.@@ get@@ Source@@ Network@@ Profile@@ Name()@@ )) { m@@ app@@ ing.@@ set@@ Source@@ Network@@ Profile@@ Name@@ (@@ null@@ ); } if ((@@ m@@ app@@ ing.@@ isSet@@ T@@ arget@@ Vnic@@ Profil@@ e()) && (@@ m@@ app@@ ing.@@ get@@ T@@ arget@@ Vnic@@ Profil@@ e().@@ isSet@@ Id@@ ())) { as@@ Guid@@ (@@ m@@ app@@ ing.@@ get@@ T@@ arget@@ Vnic@@ Profil@@ e().get@@ Id()); } } }
private java.lang.String for@@ mat@@ K@@ er@@ n@@ el@@ Feat@@ ur@@ es(@@ java.util.Map<java.lang.String, java.lang.Object> k@@ er@@ n@@ el@@ Feat@@ ur@@ es) { if (@@ k@@ er@@ n@@ el@@ Feat@@ ure@@ s == null@@ ) { return null@@ ; } final int vds@@ m@@ Not@@ Avail@@ able = -@@ 1@@ ; final java.lang.String con@@ cat@@ en@@ ated@@ Pair@@ s = k@@ er@@ n@@ el@@ Feat@@ ur@@ es.@@ e@@ n@@ try@@ Set@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( p@@ a@@ ir@@ ) -@@ > ((@@ p@@ a@@ ir@@ .get@@ Valu@@ e()) instanceof java.lang.String@@ ) || (((@@ p@@ a@@ ir@@ .get@@ Valu@@ e()) instanceof java.lang.Integer@@ ) && (!(@@ java.util.@@ Object@@ s.@@ equals(@@ vds@@ m@@ Not@@ Available@@ , p@@ a@@ ir@@ .get@@ Valu@@ e()@@ )@@ )).@@ map@@ (@@ " p@@ a@@ ir@@ ) -@@ > java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ : %@@ s", p@@ a@@ ir@@ .get@@ Key@@ (), p@@ a@@ ir@@ .get@@ Valu@@ e()@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ , ")); if (@@ con@@ cat@@ en@@ ated@@ Pair@@ s.@@ isEmpty@@ ()) { return org.ovirt.engine.ui.uicommonweb.models.hosts.@@ Host@@ Gener@@ al@@ Model@@ .@@ const@@ an@@ t@@ s.@@ not@@ Available@@ Label@@ (); } return con@@ cat@@ en@@ ated@@ Pair@@ s@@ ; }
protected java.lang.String get@@ B@@ ook@@ Cont@@ ent@@ Path@@ (java.lang.String b@@ ook@@ Path@@ , java.lang.String cont@@ ent@@ Path@@ , java.util.@@ Local@@ e loc@@ al@@ e) { return ((((@@ "@@ /@@ " + (@@ loc@@ al@@ e.@@ toString@@ ())) + "@@ /@@ ") + (@@ b@@ ook@@ Path@@ ) + "@@ /@@ ht@@ ml@@ /@@ ") + cont@@ ent@@ Path@@ ; }
public java.lang.String get@@ D@@ oc@@ s@@ S@@ ection@@ Templ@@ ate(@@ java.util.@@ Local@@ e loc@@ al@@ e) { java.lang.String result = "@@ "@@ "@@ ; try { java.lang.String do@@ c@@ s@@ S@@ ection@@ Template@@ P@@ at@@ h = get@@ D@@ oc@@ s@@ S@@ ection@@ Template@@ Path@@ (@@ fil@@ e@@ Path@@ , loc@@ al@@ e); java.io.@@ Fil@@ e fil@@ e = new java.io.@@ File@@ (@@ do@@ c@@ s@@ S@@ ection@@ Template@@ Path@@ ); if (((@@ fil@@ e.@@ ex@@ ist@@ s()) && (@@ fil@@ e.@@ is@@ Fil@@ e())) && (@@ fil@@ e.c@@ an@@ Read@@ ())) { result = read@@ Template@@ File@@ (@@ do@@ c@@ s@@ S@@ ection@@ Template@@ Path@@ ); } if ((@@ res@@ ult.@@ isEmpty@@ ()) && (!(@@ DE@@ F@@ A@@ U@@ L@@ T_@@ U@@ S_@@ LO@@ C@@ AL@@ E@@ .equals(@@ loc@@ al@@ e@@ )))) { do@@ c@@ s@@ S@@ ection@@ Template@@ P@@ at@@ h = get@@ D@@ oc@@ s@@ S@@ ection@@ Template@@ Path@@ (@@ fil@@ e@@ Path@@ , DE@@ F@@ A@@ U@@ L@@ T_@@ U@@ S_@@ LO@@ C@@ AL@@ E); fil@@ e = new java.io.@@ File@@ (@@ do@@ c@@ s@@ S@@ ection@@ Template@@ Path@@ ); if (((@@ fil@@ e.@@ ex@@ ist@@ s()) && (@@ fil@@ e.@@ is@@ Fil@@ e())) && (@@ fil@@ e.c@@ an@@ Read@@ ())) { result = read@@ Template@@ File@@ (@@ do@@ c@@ s@@ S@@ ection@@ Template@@ Path@@ ); } } if (@@ res@@ ult.@@ isEmpty@@ ()) { do@@ c@@ s@@ S@@ ection@@ Template@@ P@@ at@@ h = get@@ D@@ oc@@ s@@ S@@ ection@@ F@@ all@@ back@@ Template@@ Path@@ (@@ fil@@ e@@ Path@@ ); fil@@ e = new java.io.@@ File@@ (@@ do@@ c@@ s@@ S@@ ection@@ Template@@ Path@@ ); if (((@@ fil@@ e.@@ ex@@ ist@@ s()) && (@@ fil@@ e.@@ is@@ Fil@@ e())) && (@@ fil@@ e.c@@ an@@ Read@@ ())) { result = read@@ Template@@ File@@ (@@ do@@ c@@ s@@ S@@ ection@@ Template@@ Path@@ ); } } catch (@@ java.io.@@ I@@ O@@ Exception i@@ o@@ e) { org.ovirt.engine.core.bll.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Th@@ em@@ e.@@ log.error@@ ("@@ Exception load@@ ing do@@ c@@ s template@@ ", i@@ o@@ e); } if (@@ res@@ ult.@@ isEmpty@@ ()) { org.ovirt.engine.core.@@ b@@ r@@ and@@ ing.@@ B@@ r@@ and@@ ing@@ Th@@ em@@ e.@@ log.@@ w@@ ar@@ n@@ ("@@ c@@ od@@ e or in@@ st@@ all@@ ation pro@@ bl@@ e@@ m -@@ - c@@ um@@ ent@@ ation s@@ ec@@ tion for an@@ y loc@@ al@@ e or fal@@ l@@ back@@ "); } return result@@ ; }
protected java.lang.String get@@ B@@ ook@@ P@@ d@@ f@@ Path@@ (java.lang.String b@@ ook@@ Path@@ , java.util.@@ Local@@ e loc@@ al@@ e) { return ((((@@ ("@@ /@@ " + (@@ loc@@ al@@ e.@@ toString@@ ())) + "@@ /@@ ") + b@@ ook@@ Path@@ ) + "@@ /@@ ") + b@@ ook@@ Path@@ ) + "@@ .@@ p@@ d@@ f@@ "@@ ; }
protected java.io.@@ Fil@@ e get@@ B@@ ook@@ Cont@@ ent@@ Fil@@ e(@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ , java.lang.String b@@ ook@@ Path@@ , java.lang.String cont@@ ent@@ Path@@ , java.util.@@ Local@@ e loc@@ al@@ e) { java.io.@@ Fil@@ e fil@@ e = null@@ ; fil@@ e = org.ovirt.engine.core.utils.@@ ser@@ vlet@@ .@@ Servlet@@ Utils.@@ ma@@ ke@@ File@@ From@@ S@@ an@@ e@@ Path@@ (get@@ B@@ ook@@ Cont@@ ent@@ Path@@ (@@ b@@ ook@@ Path@@ , cont@@ ent@@ Path@@ , loc@@ al@@ e@@ ), b@@ as@@ e); if (!(@@ org.ovirt.engine.core.utils.@@ ser@@ vlet@@ .@@ Servlet@@ Utils.@@ can@@ Read@@ Fil@@ e(@@ fil@@ e@@ ))) { if (!(@@ DE@@ F@@ A@@ U@@ L@@ T_@@ U@@ S_@@ LO@@ C@@ AL@@ E@@ .equals(@@ loc@@ al@@ e@@ ))) { fil@@ e = org.ovirt.engine.core.utils.@@ ser@@ vlet@@ .@@ Servlet@@ Utils.@@ ma@@ ke@@ File@@ From@@ S@@ an@@ e@@ Path@@ (get@@ B@@ ook@@ Cont@@ ent@@ Path@@ (@@ b@@ ook@@ Path@@ , cont@@ ent@@ Path@@ , DE@@ F@@ A@@ U@@ L@@ T_@@ U@@ S_@@ LO@@ C@@ AL@@ E@@ ), b@@ as@@ e); if (!(@@ org.ovirt.engine.core.utils.@@ ser@@ vlet@@ .@@ Servlet@@ Utils.@@ can@@ Read@@ Fil@@ e(@@ fil@@ e@@ ))) { fil@@ e = null@@ ; } } return fil@@ e@@ ; }
@java.lang.Override protected void do@@ Get@@ (@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ ) throw@@ s java.io.@@ I@@ O@@ Exception@@ , javax.@@ ser@@ vlet@@ .@@ Servlet@@ Exception { java.lang.String ur@@ l = re@@ ques@@ t.get@@ Path@@ Info@@ (); java.util.@@ Local@@ e loc@@ al@@ e = get@@ Local@@ e@@ From@@ Request@@ (@@ re@@ quest@@ ); java.io.@@ Fil@@ e fil@@ e = null@@ ; java.util.@@ re@@ g@@ ex@@ .@@ Match@@ er m = org.ovirt.engin@@ e@@ .@@ do@@ c@@ s.@@ utils.@@ ser@@ vlet@@ .@@ D@@ oc@@ s@@ Servlet@@ .@@ b@@ ook@@ In@@ dex@@ P@@ at@@ ter@@ n@@ .@@ mat@@ ch@@ er@@ (@@ ur@@ l@@ ); if (@@ m.@@ mat@@ ch@@ es@@ ()) { java.lang.String b@@ ook@@ P@@ at@@ h = m.@@ group@@ (@@ 1@@ ); fil@@ e = get@@ B@@ ook@@ In@@ dex@@ Fil@@ e(@@ re@@ quest@@ , respon@@ se@@ , b@@ ook@@ Path@@ , loc@@ al@@ e); } else { m = org.ovirt.engin@@ e@@ .@@ do@@ c@@ s.@@ utils.@@ ser@@ vlet@@ .@@ D@@ oc@@ s@@ Servlet@@ .@@ b@@ ook@@ Ht@@ ml@@ Cont@@ ent@@ P@@ at@@ ter@@ n@@ .@@ mat@@ ch@@ er@@ (@@ ur@@ l@@ ); if (@@ m.@@ mat@@ ch@@ es@@ ()) { java.lang.String b@@ ook@@ P@@ at@@ h = m.@@ group@@ (@@ 1@@ ); java.lang.String cont@@ ent@@ P@@ at@@ h = m.@@ group@@ (@@ 2@@ ); fil@@ e = get@@ B@@ ook@@ Cont@@ ent@@ Fil@@ e(@@ re@@ quest@@ , respon@@ se@@ , b@@ ook@@ Path@@ , cont@@ ent@@ Path@@ , loc@@ al@@ e); } else { m = org.ovirt.engin@@ e@@ .@@ do@@ c@@ s.@@ utils.@@ ser@@ vlet@@ .@@ D@@ oc@@ s@@ Servlet@@ .@@ b@@ ook@@ P@@ d@@ f@@ P@@ at@@ ter@@ n@@ .@@ mat@@ ch@@ er@@ (@@ ur@@ l@@ ); if (@@ m.@@ mat@@ ch@@ es@@ ()) { java.lang.String b@@ ook@@ P@@ at@@ h = m.@@ group@@ (@@ 1@@ ); fil@@ e = get@@ B@@ ook@@ P@@ d@@ f@@ Fil@@ e(@@ re@@ quest@@ , respon@@ se@@ , b@@ ook@@ Path@@ , loc@@ al@@ e); } } if (@@ fil@@ e == null@@ ) { respon@@ s@@ e.@@ s@@ end@@ Error@@ (@@ H@@ ttp@@ Servlet@@ Respon@@ s@@ e.@@ S@@ C@@ _NOT_@@ F@@ O@@ UN@@ D@@ ); } else { org.ovirt.engine.core.utils.@@ ser@@ vlet@@ .@@ Servlet@@ Utils.@@ s@@ end@@ Fil@@ e(@@ re@@ quest@@ , typ@@ e); } }
protected java.lang.String get@@ B@@ ook@@ In@@ dex@@ Path@@ (java.lang.String b@@ ook@@ Path@@ , java.util.@@ Local@@ e loc@@ al@@ e) { return ((@@ ("@@ /@@ " + (@@ loc@@ al@@ e.@@ toString@@ ())) + "@@ /@@ ") + b@@ ook@@ Path@@ ) + "@@ /@@ ht@@ ml@@ /@@ in@@ dex@@ .@@ ht@@ ml@@ "@@ ; }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { if (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ oll@@ VDS@@ Command.getParameters().get@@ P@@ oll@@ T@@ ec@@ h@@ n@@ i@@ qu@@ e().@@ equals(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ OL@@ L@@ )) { http@@ T@@ as@@ k = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ oll@@ VDS@@ Command.get@@ Broker@@ ().@@ p@@ oll@@ (); } else if (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ oll@@ VDS@@ Command.getParameters().get@@ P@@ oll@@ T@@ ec@@ h@@ n@@ i@@ qu@@ e().@@ equals(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ OL@@ L@@ 2@@ )) { http@@ T@@ as@@ k = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ oll@@ VDS@@ Command.get@@ Broker@@ ().@@ time@@ B@@ ound@@ P@@ oll@@ 2@@ (@@ 2@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); } else if (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ oll@@ VDS@@ Command.getParameters().get@@ P@@ oll@@ T@@ ec@@ h@@ n@@ i@@ qu@@ e().@@ equals(@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ CON@@ FI@@ R@@ M@@ _C@@ ON@@ N@@ EC@@ TI@@ V@@ I@@ TY@@ )) { http@@ T@@ as@@ k = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ P@@ oll@@ VDS@@ Command.get@@ Broker@@ ().@@ time@@ B@@ ound@@ P@@ oll@@ Confirm@@ Conn@@ ec@@ ti@@ vi@@ ty@@ (@@ 2@@ , java.util.@@ con@@ c@@ urr@@ ent.@@ Time@@ Un@@ it.@@ SE@@ CON@@ D@@ S@@ ); }
private org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ F@@ ut@@ ure@@ VDS@@ Call@@ <@@ org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue@@ > in@@ vo@@ ke@@ SetupNetworks@@ Command@@ (@@ int tim@@ eo@@ ut@@ ) { final org.ovirt.engine.core.common.vdscommands.@@ HostSetupNetworks@@ Vds@@ Command@@ Parameters parameter@@ s = create@@ SetupNetworks@@ Parameters(@@ tim@@ eo@@ ut@@ ); org.ovirt.engine.core.c@@ ommon@@ .@@ int@@ er@@ fac@@ es.@@ F@@ ut@@ ure@@ VDS@@ Call@@ <@@ org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue@@ > set@@ up@@ Networks@@ T@@ as@@ k = org.ovirt.engine.core.bll.network.@@ host.@@ HostSetupNetworks@@ Command.get@@ Vds@@ Broker@@ ().@@ run@@ F@@ ut@@ ure@@ Vds@@ Command(@@ F@@ ut@@ ure@@ VDSCommand@@ Type.@@ Host@@ Setup@@ Network@@ s, parameters@@ ); if (@@ parameter@@ s.@@ is@@ R@@ oll@@ back@@ On@@ Failur@@ e()) { org.ovirt.engine.core.common.vdscommands.@@ Time@@ B@@ ound@@ P@@ oll@@ VDSCommand@@ Parameter@@ s.@@ P@@ oll@@ T@@ ec@@ h@@ n@@ i@@ qu@@ e p@@ t = (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .is@@ Confirm@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Supported@@ By@@ Vds@@ m@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ HostSetupNetworks@@ Command.get@@ Vds@@ ().get@@ Cluster@@ CompatibilityVersion@@ ())) ? CON@@ FI@@ R@@ M@@ _C@@ ON@@ N@@ EC@@ TI@@ V@@ I@@ T@@ Y : P@@ OL@@ L@@ ; org.ovirt.engine.core.bll.network.@@ host.@@ Host@@ P@@ oll@@ er p@@ oll@@ er = new org.ovirt.engine.core.bll.network.@@ Host@@ P@@ oll@@ er@@ (@@ new org.ovirt.engine.core.common.vdscommands.@@ Time@@ B@@ ound@@ P@@ oll@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ network.@@ host.@@ HostSetupNetworks@@ Command.get@@ Vds@@ Id(), p@@ t@@ ); while (!(@@ set@@ up@@ Networks@@ Task@@ .is@@ D@@ on@@ e())) { p@@ oll@@ er.@@ p@@ oll@@ (); } } return set@@ up@@ Networks@@ Task@@ ; }
public boolean check@@ (@@ final org.ovirt.engine.core.common.businessentities.@@ VDS host@@ ) { org.ovirt.engine.core.common.vdscommands.@@ Time@@ B@@ ound@@ P@@ oll@@ VDSCommand@@ Parameter@@ s.@@ P@@ oll@@ T@@ ec@@ h@@ n@@ i@@ qu@@ e p@@ t = (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .is@@ P@@ ing@@ 2@@ Supported@@ By@@ Vds@@ m@@ (@@ hos@@ t.get@@ Cluster@@ CompatibilityVersion@@ ())) ? P@@ OL@@ L@@ 2 : P@@ OL@@ L@@ ; org.ovirt.engine.core.bll.@@ network.@@ Host@@ Conn@@ ec@@ ti@@ vi@@ ty@@ Check@@ er.@@ log.@@ info@@ ("@@ Hos@@ t manage@@ d to c@@ omm@@ un@@ ic@@ at@@ e wit@@ h VDS@@ M ag@@ ent on hos@@ t '{}@@ ' wit@@ h add@@ res@@ s '{}@@ '@@ (@@ '{}@@ '@@ )@@ ", hos@@ t.get@@ Name(), hos@@ t.get@@ Id()); return true@@ ; }
private static org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent build@@ Disk@@ Vm@@ Element@@ With@@ Disk@@ Interface@@ From@@ External@@ Provider@@ (@@ java.util.Map<java.lang.String, java.lang.Object> map@@ , org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage image@@ , org.ovirt.engine.core.compat.Guid vm@@ Id) { org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent d@@ v@@ e = new org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ Element@@ (@@ im@@ age.get@@ Id(), vm@@ Id); java.lang.String disk@@ De@@ v@@ Name = ((@@ java.lang.String@@ ) (@@ map@@ .get(@@ Vds@@ Properties.@@ DIS@@ K_@@ T@@ AR@@ G@@ E@@ T_@@ DE@@ V@@ _@@ NAM@@ E@@ ))); disk@@ De@@ v@@ Name = ((@@ disk@@ De@@ v@@ Name == null@@ ) || ((@@ disk@@ De@@ v@@ Nam@@ e.@@ l@@ ength@@ ()) < 3@@ )) ? "@@ " : disk@@ De@@ v@@ Nam@@ e.@@ sub@@ st@@ ring@@ (0@@ , 2@@ ); switch (disk@@ De@@ v@@ Name@@ ) { case "@@ sd@@ " : d@@ v@@ e.set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ _@@ S@@ C@@ SI@@ ); break@@ ; case "@@ h@@ d@@ " : d@@ v@@ e.set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ ID@@ E); break@@ ; case "@@ vd@@ " : default : d@@ v@@ e.set@@ Disk@@ Interfac@@ e(@@ Disk@@ Interfac@@ e.@@ Vir@@ t@@ I@@ O@@ ); break@@ ; } return d@@ ve@@ ; }
public java.lang.String gener@@ ate@@ Engine@@ X@@ ml@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , java.lang.String cpu@@ Id, java.lang.String em@@ ul@@ ated@@ M@@ ach@@ in@@ e) { vm@@ .set@@ Cpu@@ Name(@@ cpu@@ Id); vm@@ .set@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e(@@ em@@ ul@@ ated@@ M@@ ach@@ in@@ e); return new org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Builder@@ (vm@@ , vm@@ Info@@ Buil@@ d@@ Util@@ s@@ ).@@ build@@ Create@@ Vm@@ (); }
private long get@@ Trans@@ fer@@ Siz@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage image@@ , org.ovirt.engine.core.compat.Guid do@@ m@@ ain@@ Id) { if ((@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Trans@@ fer@@ Type.@@ Down@@ load@@ )) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage image@@ Info@@ From@@ Vds@@ m = im@@ ages@@ Handler@@ .get@@ Volume@@ Info@@ From@@ Vds@@ m@@ (@@ im@@ age.get@@ StoragePool@@ Id(), do@@ m@@ ain@@ Id, im@@ age.get@@ Id(), im@@ age.get@@ Image@@ Id()); return image@@ Info@@ From@@ Vds@@ m@@ .get@@ Ap@@ parent@@ Size@@ In@@ By@@ t@@ es@@ (); } else { if ((@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Siz@@ e()) != 0) { return Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Siz@@ e(); } else { boolean is@@ On@@ B@@ loc@@ k = Trans@@ fer@@ Image@@ Command.get@@ DiskImage@@ ().get@@ Storage@@ Typ@@ es@@ ().get@@ (0@@ ).@@ is@@ B@@ lock@@ Domain@@ (); return is@@ On@@ B@@ loc@@ k@@ ? Trans@@ fer@@ plac@@ e() : Trans@@ fer@@ Image@@ Command.get@@ DiskImage@@ ().get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ () : Trans@@ fer@@ Image@@ Command.get@@ DiskImage@@ ().get@@ Siz@@ e(); } }
@java.lang.Override protected void add@@ Vm@@ To@@ Db@@ () { super@@ .@@ add@@ Vm@@ To@@ Db@@ (); if ((org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ ().get@@ O@@ ri@@ gin@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ O@@ ri@@ gin@@ Type.@@ K@@ VM@@ )) { import@@ Utils.@@ update@@ Graphics@@ Devic@@ es@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ ().get@@ StaticData@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ StoragePool@@ ().get@@ CompatibilityVersion@@ ()); if (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ Parameters@@ ().is@@ Import@@ As@@ New@@ Entity@@ ()) { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e devi@@ c@@ e : org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ ().get@@ StaticData@@ ().get@@ Manage@@ d@@ Device@@ Map@@ ().@@ valu@@ es@@ ()) { devi@@ c@@ e.get@@ Id@@ ().set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ Id()); } } vm@@ Device@@ Dao@@ .@@ s@@ ave@@ All@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ ().get@@ StaticData@@ ().get@@ Manage@@ d@@ Device@@ Map@@ ().@@ valu@@ es@@ ()); if (!(@@ vm@@ Device@@ Utils.@@ has@@ C@@ d@@ Devic@@ e(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ Id@@ ()))) { vm@@ Device@@ Utils.@@ add@@ C@@ d@@ Devic@@ e(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ Id(), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getParameters().get@@ Vir@@ ti@@ o@@ Iso@@ Name()); } }
public org.ovirt.engine.core.bll.ValidationResult p@@ rovider@@ Type@@ Is@@ Network@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.ACTION_TYPE_FAILED_@@ P@@ RO@@ V@@ ID@@ ER_@@ TYPE_@@ NOT_@@ NETWOR@@ K@@ ).when@@ ((!@@ (is@@ Network@@ ing@@ (p@@ rovider@@ .get@@ Typ@@ e()@@ )@@ ))); }
@org.junit.Test public void op@@ en@@ st@@ ack@@ Is@@ Valid@@ Network@@ Provider@@ Typ@@ e() { when(@@ p@@ rovider@@ .get@@ Typ@@ e()@@ ).@@ thenReturn(@@ Provider@@ Type.@@ O@@ P@@ EN@@ ST@@ AC@@ K_@@ NETWOR@@ K@@ ); assert@@ That@@ (@@ validator.@@ p@@ rovider@@ Type@@ Is@@ Network@@ (), is@@ Valid@@ ()); }
@org.junit.Test public void in@@ valid@@ Network@@ Provider@@ Typ@@ e() { when(@@ p@@ rovider@@ .get@@ Typ@@ e()@@ ).@@ then@@ Return@@ (org.ovirt.engine.core.bll.@@ p@@ rovider.@@ Network@@ Provider@@ Validator@@ Test.@@ N@@ ON_@@ NETWORK_@@ P@@ RO@@ V@@ ID@@ ER_@@ TYP@@ E); assert@@ That@@ (@@ valid@@ ator@@ .get@@ Typ@@ e()@@ ).@@ p@@ rovider@@ Type@@ Is@@ Network@@ (), fail@@ sWith@@ (EngineMessage.ACTION_TYPE_FAILED_@@ P@@ RO@@ V@@ ID@@ ER_@@ TYPE_@@ NOT_@@ NETWOR@@ K@@ )); }
java.lang.String P@@ RO@@ V@@ ID@@ ER_@@ TYPE_@@ NOT_@@ NETWOR@@ K@@ ();
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> get@@ Ex@@ cl@@ us@@ ive@@ Lock@@ s() { if (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Remove@@ Network@@ Command.@@ is@@ Internal@@ Execution@@ ()) { return null@@ ; } return network@@ Lock@@ ing.@@ get@@ Network@@ Provider@@ Id()); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.action.@@ Internal@@ Import@@ External@@ Network@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Internal@@ Import@@ External@@ Network@@ Parameters@@ (get@@ Provider@@ ().get@@ Name(), get@@ Network@@ (), org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Import@@ External@@ Network@@ Command.getParameters().get@@ DataCenter@@ Id(), org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Import@@ External@@ Network@@ Command.get@@ Parameters@@ ().is@@ P@@ ubl@@ ic@@ Us@@ e(), org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Import@@ External@@ Network@@ Command.get@@ Parameters@@ ().is@@ Attach@@ To@@ All@@ C@@ lust@@ ers@@ ()); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue return@@ Valu@@ e = run@@ Internal@@ Action@@ (@@ ActionType.@@ Internal@@ Import@@ External@@ Network@@ , parameters@@ ); if (!@@ (@@ return@@ Valu@@ e.get@@ Succeeded@@ ())) { pro@@ p@@ ag@@ ate@@ Fail@@ ure@@ (@@ run@@ Internal@@ Action@@ (@@ ActionType.@@ Internal@@ Import@@ External@@ Network@@ , parameters@@ ); return@@ ; } org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Import@@ External@@ Network@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
public void set@@ F@@ r@@ ag@@ ment@@ Parameters(@@ java.util.Map<java.lang.String, java.lang.String> param@@ s, boolean new@@ Item@@ ) { current@@ Entity@@ Param@@ s.@@ cl@@ e@@ ar@@ (); current@@ Entity@@ Param@@ s.@@ put@@ All@@ (@@ param@@ s); java.util.Set@@ <@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ F@@ r@@ ag@@ ment@@ Param@@ s> param@@ Name@@ s = new java.util.Hash@@ Set@@ <@@ >(); param@@ Nam@@ es.@@ add@@ All@@ (@@ org.ovirt.engine.ui.common.@@ p@@ resent@@ er.@@ F@@ r@@ ag@@ ment@@ Param@@ s.get@@ Param@@ s(@@ current@@ Entity@@ Param@@ s.@@ key@@ Set@@ ())); com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .@@ shared@@ .@@ pro@@ xy@@ .@@ P@@ l@@ ace@@ Re@@ quest re@@ quest = new com@@ .@@ gwt@@ pl@@ a@@ t@@ for@@ m.@@ m@@ v@@ p@@ .@@ shared@@ .@@ pro@@ xy@@ .@@ P@@ l@@ ace@@ Re@@ ques@@ t.@@ Builder@@ ().@@ name@@ To@@ k@@ en@@ (get@@ C@@ urrent@@ P@@ l@@ ace@@ Request@@ ().get@@ Name@@ To@@ k@@ en@@ ()).@@ with@@ (c@@ urrent@@ Entity@@ Param@@ s@@ ).@@ build@@ (); if (@@ new@@ Item@@ ) { com.google.gwt.@@ user.@@ client.@@ H@@ ist@@ ory@@ .@@ new@@ Item@@ (@@ build@@ H@@ ist@@ ory@@ To@@ k@@ en@@ (@@ re@@ quest@@ ), false@@ ); } else { com.google.gwt.@@ user.@@ client.@@ H@@ ist@@ ory@@ .@@ re@@ pl@@ ace@@ Item@@ (@@ build@@ H@@ ist@@ ory@@ To@@ k@@ en@@ (@@ re@@ quest@@ ), false@@ ); } }
@java.lang.Override public void on@@ Value@@ Chang@@ e(@@ com.google.gwt.@@ event.@@ log@@ ic@@ al.@@ shared@@ .@@ Value@@ Change@@ Event@@ <java.lang.String@@ > event@@ ) { if (!(@@ event.@@ get@@ Valu@@ e().@@ contains(@@ W@@ eb@@ Ad@@ min@@ Application@@ P@@ l@@ ac@@ es.@@ S@@ U@@ B@@ _@@ T@@ AB@@ _P@@ RE@@ FI@@ X@@ ))) { current@@ Entity@@ Param@@ s.@@ cl@@ e@@ ar@@ (); } super@@ .@@ on@@ Value@@ Chang@@ e(@@ event@@ ); if (@@ client@@ Agent@@ Type.@@ is@@ Fi@@ re@@ fo@@ x@@ ()) { com.google.gwt.@@ cor@@ e.cl@@ i@@ ent.@@ Schedul@@ er@@ .get@@ ().@@ schedul@@ e@@ De@@ f@@ err@@ ed@@ ((@@ -@@ > com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ Nod@@ e fa@@ vi@@ c@@ on = com.google.gwt.@@ user.@@ client.@@ DOM@@ .get@@ Element@@ By@@ Id@@ ("@@ id@@ -@@ lin@@ k@@ -@@ fa@@ vi@@ con@@ "); if (@@ fa@@ vi@@ c@@ on != null@@ ) { com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ Nod@@ e par@@ ent = fa@@ vi@@ con@@ .get@@ Parent@@ Nod@@ e(); fa@@ vi@@ con@@ .@@ remove@@ From@@ Parent@@ (); ent.@@ append@@ Ch@@ il@@ d@@ (@@ fa@@ vi@@ con@@ ); } }); }
protected java.util.Map<java.lang.String, java.lang.String> get@@ F@@ r@@ ag@@ ment@@ Param@@ s@@ From@@ Entity(@@ T item@@ ) { java.util.Map<java.lang.String, java.lang.String> result = new java.util.HashMap@@ <@@ >(); res@@ ult.@@ put(@@ F@@ r@@ ag@@ ment@@ Param@@ s.@@ NAM@@ E@@ , ((org.ovirt.engine.core.common.businessentities.@@ Name@@ able@@ ) (@@ item@@ )@@ ).get@@ Name()); return result@@ ; }
public void ap@@ pl@@ y@@ Search@@ String@@ (java.lang.String search@@ String@@ ) { if ((@@ model@@ Provider@@ .get@@ Model@@ ()) instanceof org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ ListModel@@ ) { @@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ un@@ check@@ ed@@ ") org.ovirt.engine.ui.uicommonweb.models.@@ Search@@ able@@ ListModel@@ <?@@ , ? extends org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <?@@ >> list@@ Model = model@@ Provider@@ .get@@ Model@@ (); if ((@@ org.ovirt.engine.core.compat.@@ String@@ Helper.@@ is@@ Not@@ Null@@ Or@@ Empty@@ (@@ search@@ String@@ )) && (@@ search@@ Strin@@ g.@@ st@@ art@@ sWith@@ (@@ list@@ Model.get@@ Default@@ Search@@ String@@ ()))) { pl@@ ace@@ Manager.@@ set@@ F@@ r@@ ag@@ ment@@ Parameters@@ (get@@ F@@ r@@ ag@@ ment@@ Param@@ s(@@ search@@ String@@ ), false@@ ); list@@ Model@@ .set@@ Search@@ String@@ (@@ search@@ String@@ ); list@@ Model.get@@ Search@@ Command@@ ().@@ execut@@ e(); } }
private java.util.Map@@ <@@ org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> get@@ F@@ r@@ ag@@ ment@@ Param@@ s(@@ java.util.Map<java.lang.String, java.lang.String> result = new java.util.HashMap@@ <@@ >(); if (@@ search@@ Strin@@ g.@@ st@@ art@@ s@@ W@@ it@@ h@@ it@@ ()) { result = new java.util.HashMap@@ <@@ >(); } if (@@ search@@ Strin@@ g == null@@ ) { result = search@@ Strin@@ g = search@@ String@@ ; } return result@@ ; }
private static boolean can@@ Execut@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ B@@ usiness@@ Entity@@ With@@ Status@@ <?@@ , ?@@ > entity@@ , java.lang.@@ Cl@@ as@@ s type@@ , org.ovirt.engine.core.common.action.@@ Action@@ Type action@@ ) { java.util.Set@@ <@@ org.ovirt.engine.core.common.action.@@ Action@@ Type@@ > action@@ s = org.ovirt.engine.core.common.@@ Action@@ Utils.@@ _@@ mat@@ ri@@ x@@ .get(@@ type@@ ).get@@ (@@ entity.get@@ Status@@ ()); if ((@@ action@@ s != null@@ ) && (@@ action@@ s.@@ contains(@@ action@@ ))) { return false@@ ; } return true@@ ; }
void on@@ R@@ oll@@ back@@ () { }
void onSuccess@@ () { }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ I@@ n java.lang.@@ B@@ oolean rest@@ ore@@ L@@ e@@ as@@ e();
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { m@@ and@@ ator@@ y@@ (s@@ napshot@@ ().@@ id@@ ()); o@@ ption@@ al@@ (@@ rest@@ ore@@ Mem@@ or@@ y@@ ()); o@@ ption@@ al@@ (@@ rest@@ ore@@ L@@ e@@ ase@@ C@@ ommon@@ ()); o@@ ption@@ al@@ (disk@@ s@@ ()@@ [@@ C@@ OL@@ LE@@ C@@ TI@@ ON@@ ]@@ .@@ id@@ ()); o@@ ption@@ al@@ (disk@@ s@@ ()@@ [@@ C@@ OL@@ LE@@ C@@ TI@@ ON@@ ]@@ .@@ image@@ Id()); o@@ ption@@ al@@ (disk@@ s@@ ()@@ [@@ C@@ OL@@ LE@@ C@@ TI@@ ON@@ ]@@ .@@ snapshot@@ ().@@ id@@ ()); }
public void p@@ ers@@ ist@@ Command@@ (org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity@@ , org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t cmd@@ Context@@ ) { init@@ Ch@@ il@@ d@@ H@@ i@@ er@@ arch@@ y@@ (); if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (c@@ md@@ Entity@@ .getId@@ ())) { return@@ ; } p@@ ers@@ ist@@ Command@@ (c@@ md@@ Entity@@ ); if (c@@ md@@ Cont@@ ex@@ t != null@@ ) { cont@@ ext@@ s@@ C@@ ach@@ e.@@ put@@ (c@@ md@@ Entity@@ .get@@ Id(), cmd@@ Context@@ ); } }
public boolean has@@ Command@@ Enti@@ ties@@ With@@ R@@ oot@@ Command@@ Id(@@ org.ovirt.engine.core.compat.Guid ro@@ ot@@ Command@@ Id) { org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity@@ ; for (org.ovirt.engine.core.compat.Guid cmd@@ Id : command@@ s@@ C@@ ach@@ e.get@@ Entity@@ ()) { cmd@@ Entity = command@@ s@@ C@@ ach@@ e.get@@ (c@@ md@@ Id); if ((((@@ cmd@@ Entity != null@@ ) && (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (c@@ md@@ Entity@@ .get@@ R@@ oot@@ Command@@ Id@@ ())@@ ))) && (!@@ (c@@ md@@ Entity@@ .get@@ R@@ oot@@ Command@@ Id().@@ equals(@@ cmd@@ Id@@ )))) && (c@@ md@@ Entity@@ .get@@ R@@ oot@@ Command@@ Id().@@ equals(@@ ro@@ ot@@ Command@@ Id@@ ))) { return true@@ ; } } return false@@ ; }
public void remove@@ Command(@@ org.ovirt.engine.core.compat.Guid command@@ Id) { command@@ s@@ C@@ ach@@ e(@@ command@@ Id); cont@@ ext@@ s@@ C@@ ach@@ e.@@ remov@@ e(@@ command@@ Id); update@@ C@@ md@@ H@@ i@@ er@@ arch@@ y@@ (command@@ Id); }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Entity@@ > get@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Enti@@ ties@@ (org.ovirt.engine.core.compat.Guid cmd@@ Id) { return command@@ s@@ C@@ ach@@ e.get@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Enti@@ ties@@ (c@@ md@@ Id); }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity@@ > get@@ Command@@ s@@ (@@ boolean on@@ ly@@ With@@ Callback@@ Enabled@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity@@ > cmd@@ Enti@@ ti@@ es = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity@@ ; for (org.ovirt.engine.core.compat.Guid cmd@@ Id : command@@ s@@ C@@ ach@@ e.get@@ ().get@@ key@@ Set@@ ()) { cmd@@ Entity = command@@ s@@ C@@ ach@@ e.get@@ (); if ((!@@ on@@ ly@@ With@@ Callback@@ Enabled@@ ) || (command@@ s@@ C@@ ach@@ e.get@@ ().get@@ (c@@ md@@ Id@@ ).@@ is@@ Callback@@ Enabled@@ ())) { cmd@@ Enti@@ ties.@@ add@@ (c@@ md@@ Entity@@ ); } } return cmd@@ Enti@@ ties@@ ; }
public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity@@ > get@@ Ch@@ il@@ d@@ C@@ m@@ ds@@ By@@ Parent@@ Command@@ Id(@@ org.ovirt.engine.core.compat.Guid cmd@@ Id) { return command@@ s@@ C@@ ach@@ e.get@@ Ch@@ il@@ d@@ C@@ m@@ ds@@ By@@ Parent@@ C@@ md@@ Id@@ (c@@ md@@ Id); }
public void update@@ Command@@ Execut@@ ed(@@ org.ovirt.engine.core.compat.Guid command@@ Id) { command@@ s@@ C@@ ach@@ e.@@ update@@ Command@@ Execut@@ ed@@ (command@@ Id); }
public java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > get@@ Command@@ Id@@ sBy@@ Entity@@ Id(@@ org.ovirt.engine.core.compat.Guid entity@@ Id) { return command@@ s@@ C@@ ach@@ e.get@@ Command@@ Id@@ sBy@@ Entity@@ Id(@@ entity@@ Id); }
public void update@@ Callback@@ No@@ t@@ if@@ i@@ ed@@ (@@ final org.ovirt.engine.core.compat.Guid command@@ Id) { command@@ s@@ C@@ ach@@ e.@@ update@@ Callback@@ No@@ t@@ if@@ i@@ ed@@ (command@@ Id); }
public void p@@ ers@@ ist@@ Command@@ (org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity@@ ) { if (@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (c@@ md@@ Entity@@ .getId@@ ())) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity existing@@ C@@ md@@ Entity = command@@ s@@ C@@ ach@@ e.get@@ (@@ cmd@@ Entity@@ .getId()); if (@@ existing@@ C@@ md@@ Entity != null@@ ) { cmd@@ Entity@@ .set@@ Execut@@ ed(@@ existing@@ C@@ md@@ Entity@@ .is@@ Execut@@ ed@@ ()); cmd@@ Entity@@ .set@@ Callback@@ No@@ t@@ if@@ i@@ ed(@@ existing@@ C@@ md@@ Entity@@ .is@@ Callback@@ No@@ t@@ if@@ i@@ ed@@ ()); } command@@ s@@ C@@ ach@@ e.@@ put@@ (c@@ md@@ Entity@@ ); if ((@@ cmd@@ Entity@@ .is@@ Callback@@ Enabled@@ ()) || ((@@ (!(@@ org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (c@@ md@@ Entity@@ .get@@ Parent@@ Command@@ Id@@ ()))) && ((@@ command@@ s@@ C@@ ach@@ e.get@@ (@@ cmd@@ Entity@@ .get@@ Parent@@ Command@@ Id@@ ())) != null@@ )) && (command@@ s@@ C@@ ach@@ e.get@@ (@@ cmd@@ Entity@@ .get@@ Parent@@ Command@@ Id@@ ()).@@ is@@ Callback@@ Enabled@@ ()))) { build@@ C@@ md@@ H@@ i@@ er@@ arch@@ y@@ (c@@ md@@ Entity@@ ); if (!@@ (c@@ md@@ Entity@@ .is@@ Callback@@ No@@ t@@ if@@ i@@ ed@@ ())) { add@@ To@@ Callback@@ Map@@ (c@@ md@@ Entity@@ ); } }
public org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > ret@@ ri@@ e@@ ve@@ Command(@@ org.ovirt.engine.core.compat.Guid command@@ Id) { return ret@@ ri@@ e@@ ve@@ Command@@ (command@@ s@@ C@@ ach@@ e.get@@ (@@ command@@ Id@@ ), ret@@ ri@@ e@@ ve@@ Command@@ Context@@ (command@@ Id@@ )); }
public void p@@ ers@@ ist@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Enti@@ ties@@ (@@ java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Entity@@ > cmd@@ As@@ s@@ oc@@ i@@ ated@@ Enti@@ ties@@ ) { command@@ s@@ C@@ ach@@ e.get@@ ().get@@ p@@ ers@@ ist@@ Command@@ As@@ s@@ oc@@ i@@ ated@@ Enti@@ ties@@ (c@@ md@@ As@@ s@@ oc@@ i@@ ated@@ Enti@@ ties@@ ); }
public org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t ret@@ ri@@ e@@ ve@@ Command@@ Context@@ (org.ovirt.engine.core.compat.Guid cmd@@ Id) { return cont@@ ext@@ s@@ C@@ ach@@ e.get@@ (@@ cmd@@ Id); }
public void update@@ Command@@ Data@@ (org.ovirt.engine.core.compat.Guid command@@ Id, java.util.Map<java.lang.String, java.io.@@ Ser@@ ial@@ iz@@ able@@ > data@@ ) { command@@ s@@ C@@ ach@@ e.@@ update@@ Command@@ Data@@ (command@@ Id, data@@ ); }
public org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity get@@ Command@@ Entity(@@ org.ovirt.engine.core.compat.Guid command@@ Id) { return org.ovirt.engine.core.compat.Guid.@@ is@@ Null@@ Or@@ Empty@@ (command@@ Id) ? null : command@@ s@@ C@@ ach@@ e.get@@ (@@ command@@ Id); }
public java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > get@@ Command@@ Id@@ sBy@@ Session@@ Se@@ q@@ Id@@ (@@ long engin@@ e@@ Session@@ Se@@ q@@ Id) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > cmd@@ Id@@ s = new java.util.ArrayList<@@ >(); org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity@@ ; for (org.ovirt.engine.core.compat.Guid cmd@@ Id : command@@ s@@ C@@ ach@@ e.get@@ ().get@@ key@@ Set@@ ()) { cmd@@ Entity = command@@ s@@ C@@ ach@@ e.get@@ (@@ cmd@@ Id); if ((@@ (c@@ md@@ Entity != null@@ ) && ((@@ cmd@@ Entity@@ .get@@ Engine@@ Session@@ Se@@ q@@ Id()) != (org.ovirt.engine.core.bll.@@ aaa.@@ S@@ s@@ o@@ Session@@ Utils.@@ EM@@ P@@ TY@@ _@@ SE@@ S@@ SI@@ ON_@@ SE@@ Q@@ _@@ ID@@ ))) && ((@@ cmd@@ Entity@@ .get@@ Engine@@ Session@@ Se@@ q@@ Id()) == engin@@ e@@ Session@@ Se@@ q@@ Id@@ )) { cmd@@ Id@@ s.@@ add@@ (c@@ md@@ Id); } } return cmd@@ Id@@ s@@ ; }
public void handl@@ e@@ Un@@ manage@@ d@@ Command@@ s() { java.util.List<org.ovirt.engine.core.common.businessentities.@@ AsyncTask@@ > async@@ Task@@ s = async@@ Task@@ Dao@@ .get@@ All@@ (); java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > async@@ Task@@ Manager@@ Manage@@ d@@ Command@@ s = async@@ Task@@ s.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( x@@ ) -@@ > (@@ x@@ .get@@ Vds@@ m@@ Task@@ Id()) != null@@ ).@@ map@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); async@@ Task@@ Manager@@ s.@@ add@@ All@@ (@@ async@@ Task@@ s.@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( x@@ ) -@@ > (@@ x@@ .get@@ Vds@@ m@@ Task@@ Id()) != null@@ ).@@ map@@ (@@ ( x@@ ) -@@ > x@@ .get@@ Command@@ Id@@ ()).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ())); get@@ Command@@ s@@ (@@ false@@ ).@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( x@@ ) -@@ > !@@ (@@ x.@@ is@@ Callback@@ Enabled@@ ())@@ ).@@ filter@@ (@@ ( x@@ ) -@@ > (@@ x@@ .get@@ Command@@ Status()) == Command@@ Status.@@ AC@@ TI@@ V@@ E@@ ).@@ filter@@ (@@ ( x@@ ) -@@ > !@@ (@@ async@@ Task@@ Manager@@ s.@@ contains(@@ x@@ .getId@@ ())@@ )@@ )@@ )@@ )@@ .@@ for@@ E@@ ach@@ (@@ ( x@@ ) -@@ > command@@ s@@ C@@ ach@@ e.@@ is@@ Command@@ Execution@@ Allow@@ ed@@ ()); update@@ Command@@ Status(@@ x@@ .get@@ Id(), Command@@ Status.@@ END@@ ED_@@ W@@ I@@ TH@@ _@@ FAIL@@ U@@ RE@@ )); get@@ Command@@ s@@ (@@ false@@ ).@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( x@@ ) -@@ > x.@@ is@@ Callback@@ Enabled@@ ()).@@ filter@@ (@@ ( x@@ ) -@@ > !@@ (@@ x.@@ is@@ Callback@@ No@@ t@@ if@@ i@@ ed@@ ())@@ ).@@ filter@@ (@@ ( x@@ ) -@@ > x@@ .get@@ Command@@ Status@@ ().is@@ D@@ ur@@ ing@@ Execution@@ ()).@@ filter@@ (@@ " -@@ > !@@ (@@ async@@ Task@@ Manager@@ s.@@ contains(@@ x@@ .getId@@ ())@@ )).@@ map@@ (@@ " x@@ .getId@@ ())@@ ).@@ filter@@ (@@ java.util.@@ Object@@ s@@ :@@ n@@ on@@ Null@@ (@@ Command@@ Base@@ :@@ re@@ ac@@ qui@@ re@@ Lock@@ s); }
public void remove@@ All@@ Command@@ s@@ B@@ e@@ for@@ e@@ D@@ ate@@ (@@ final org.ovirt.engine.core.compat.@@ D@@ ate@@ Tim@@ e c@@ uto@@ f@@ ) { command@@ s@@ C@@ ach@@ e.@@ remove@@ All@@ Command@@ s@@ B@@ e@@ for@@ e@@ D@@ ate(@@ c@@ uto@@ f@@ ); synchronized@@ (@@ LO@@ C@@ K@@ ) { ch@@ il@@ d@@ H@@ i@@ er@@ arch@@ y@@ In@@ itial@@ iz@@ ed = false@@ ; } }
public org.ovirt.engine.core.compat.@@ Command@@ Statu@@ s get@@ Command@@ Status@@ (@@ final org.ovirt.engine.core.compat.Guid command@@ Id) { org.ovirt.engine.core.common.businessentities.@@ Command@@ Entity cmd@@ Entity = command@@ s@@ C@@ ach@@ e.get@@ (@@ command@@ Id); if (c@@ md@@ Entity != null@@ ) { return cmd@@ Entity@@ .get@@ Command@@ Status@@ (); } return org.ovirt.engine.core.compat.@@ Command@@ Status.@@ UN@@ K@@ NO@@ W@@ N@@ ; }
public void update@@ Command@@ Status@@ (@@ final org.ovirt.engine.core.compat.Guid command@@ Id, final org.ovirt.engine.core.compat.@@ Command@@ Statu@@ s status@@ ) { command@@ s@@ C@@ ach@@ e.@@ update@@ Command@@ Status@@ (command@@ Id, status@@ ); }
private java.lang.String r@@ ender@@ G@@ i@@ b@@ i@@ b@@ i@@ byte@@ Siz@@ e(@@ long siz@@ e) { long s@@ ize@@ In@@ G@@ B = ((@@ un@@ it@@ ) == (org.ovirt.engine.core.common.@@ utils.@@ Size@@ Convert@@ er.@@ Size@@ Un@@ it.@@ G@@ i@@ B@@ )) ? siz@@ e : org.ovirt.engine.core.common.utils.@@ Size@@ Convert@@ er.@@ con@@ ver@@ t@@ (s@@ ize@@ , un@@ it@@ , Size@@ Un@@ it.@@ G@@ i@@ B@@ )@@ .@@ long@@ Valu@@ e(); return org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Disk@@ Size@@ R@@ ender@@ er.@@ mess@@ ages@@ ((@@ s@@ ize@@ In@@ G@@ B >@@ = 1 ? java.lang.String.@@ value@@ Of@@ (s@@ ize@@ In@@ G@@ B@@ ) : 1 ? java.lang.String.@@ value@@ Of@@ (s@@ ize@@ In@@ G@@ B@@ ) : 1 }
protected boolean is@@ Lun@@ s@@ Al@@ read@@ y@@ In@@ Us@@ e(@@ java.util.Set@@ <java.lang.String@@ > lun@@ Id@@ s) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ D@@ b = lun@@ Dao@@ .get@@ All@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ D@@ b = lun@@ Dao@@ .get@@ All@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ D@@ b = lun@@ Dao@@ .get@@ All@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ LUN@@ s> lun@@ s@@ From@@ D@@ b = lun@@ s@@ Us@@ ed@@ By@@ S@@ D@@ s = new java.lang.String@@ Builder@@ (); lun@@ s@@ From@@ Db@@ .@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( lun@@ ) -@@ > lun@@ .get@@ LUN@@ Id@@ ())@@ )@@ .@@ for@@ E@@ ach@@ (@@ " -@@ > { if ((@@ lun@@ .get@@ StorageDomain@@ Id()) != null@@ ) { add@@ Format@@ t@@ ed@@ Lun@@ Id(@@ lun@@ s@@ Us@@ ed@@ By@@ S@@ D@@ s, lun@@ , org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s@@ :@@ get@@ StorageDomain@@ Name@@ ); } if ((@@ lun@@ .get@@ Disk@@ Id()) != null@@ ) { add@@ Format@@ t@@ ed@@ Lun@@ Id(@@ lun@@ s@@ Us@@ ed@@ By@@ Disk@@ s, lun@@ , org.ovirt.engine.core.common.businessentities.storage.@@ LUN@@ s@@ :@@ :@@ get@@ Disk@@ Alias@@ ); } if (@@ lun@@ s@@ Us@@ ed@@ By@@ S@@ D@@ s.@@ l@@ ength@@ ()) != 0) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ LUN@@ S_@@ AL@@ RE@@ AD@@ Y_@@ P@@ ART@@ _@@ O@@ F@@ _@@ STORAGE_DOMAIN@@ S@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ StorageDomain@@ Command@@ Bas@@ e.@@ add@@ Validation@@ Message@@ Var@@ i@@ able(@@ "@@ lun@@ Id@@ s", lun@@ s@@ Us@@ ed@@ By@@ S@@ D@@ s.@@ toString@@ ()); } if ((@@ lun@@ s@@ Us@@ ed@@ By@@ Disk@@ s.@@ l@@ ength@@ ()) != 0@@ ) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ LUN@@ S_@@ AL@@ RE@@ AD@@ Y_@@ US@@ ED_@@ B@@ Y_@@ DIS@@ K@@ S@@ ); org.ovirt.engine.core.bll.@@ storage@@ .@@ do@@ m@@ ain@@ .@@ StorageDomain@@ Command@@ Bas@@ e.@@ add@@ Validation@@ Message@@ Var@@ i@@ able(@@ "@@ lun@@ Id@@ s", lun@@ s@@ Us@@ ed@@ By@@ Disk@@ s.@@ toString@@ ()); } return (@@ lun@@ s@@ Us@@ ed@@ By@@ S@@ D@@ s.@@ l@@ ength@@ ()) != 0@@ ) || (@@ lun@@ s@@ Us@@ ed@@ By@@ Disk@@ s.@@ l@@ ength@@ ()) != 0@@ ); }
protected void add@@ Format@@ t@@ ed@@ Lun@@ Id(@@ java.util.Map<java.lang.String, java.lang.Object> lun@@ , java.lang.@@ B@@ oolean is@@ F@@ un@@ c@@ tion@@ ) { java.util.Map<java.lang.String, java.lang.Object@@ >> result = new java.util.HashMap@@ <@@ >(); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.String> e@@ n@@ try : e@@ n@@ try@@ Set@@ ()) { if (!(@@ e@@ n@@ try@@ .get@@ Valu@@ e().@@ equals(@@ e@@ n@@ try@@ .get@@ Valu@@ e()@@ ))) { res@@ ult.@@ put@@ All@@ (@@ e@@ n@@ try@@ .get@@ Valu@@ e()); } else { res@@ ult.@@ put@@ All@@ (@@ e@@ n@@ try@@ .get@@ Valu@@ e()); } sb@@ .@@ append@@ (@@ e@@ n@@ try@@ .get@@ Valu@@ e()); }
@org.junit.Test public void validate@@ Vm@@ Sh@@ are@@ able@@ Disk@@ () { org.ovirt.engine.core.common.businessentities.@@ StorageDomain s@@ r@@ c@@ StorageDomain = init@@ StorageDomain@@ (s@@ r@@ c@@ Storage@@ Id); s@@ r@@ c@@ StorageDomain@@ .set@@ Status(@@ StorageDomain@@ Status.@@ Active@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = init@@ DiskImage@@ (disk@@ Image@@ Group@@ Id, disk@@ Image@@ Id); disk@@ Im@@ age.@@ set@@ Sh@@ are@@ able@@ (@@ true@@ ); init@@ Vm@@ (@@ VM@@ Status.@@ Up@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), disk@@ Image@@ Group@@ Id); org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ S@@ H@@ AR@@ E@@ AB@@ L@@ E_@@ DIS@@ K_@@ NOT_@@ SUPPORT@@ ED); }
@org.junit.Test public void validate@@ In@@ valid@@ Dest@@ ination@@ Domain@@ () { org.ovirt.engine.core.common.businessentities.@@ StorageDomain s@@ r@@ c@@ StorageDomain = init@@ StorageDomain@@ (s@@ r@@ c@@ Storage@@ Id); s@@ r@@ c@@ StorageDomain@@ .set@@ Status(@@ StorageDomain@@ Status.@@ Active@@ ); org.ovirt.engine.core.common.businessentities.@@ StorageDomain d@@ st@@ StorageDomain = init@@ StorageDomain@@ (@@ d@@ st@@ Storage@@ Id); d@@ st@@ StorageDomain@@ .set@@ StorageDomain@@ Type(@@ StorageDomain@@ Type.@@ IS@@ O@@ ); init@@ DiskImage@@ (disk@@ Image@@ Group@@ Id, disk@@ Image@@ Id); init@@ Vm@@ (@@ VM@@ Status.@@ Up@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), disk@@ Image@@ Group@@ Id); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_DOMAIN@@ _@@ TYPE_@@ I@@ L@@ LE@@ G@@ AL@@ ); }
@org.junit.Test public void validate@@ Vm@@ H@@ av@@ ing@@ Device@@ Snapshots@@ Plug@@ ged@@ To@@ O@@ th@@ er@@ Vms@@ That@@ A@@ re@@ Not@@ Down@@ () { org.ovirt.engine.core.common.businessentities.@@ StorageDomain s@@ r@@ c@@ StorageDomain = init@@ StorageDomain@@ (s@@ r@@ c@@ Storage@@ Id); s@@ r@@ c@@ StorageDomain@@ .set@@ Status(@@ StorageDomain@@ Status.@@ Active@@ ); init@@ DiskImage@@ (disk@@ Image@@ Group@@ Id, disk@@ Image@@ Id); init@@ Vm@@ (@@ VM@@ Status.@@ Up@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), disk@@ Image@@ Group@@ Id); do@@ Return@@ (@@ new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ IS@@ _NOT_@@ DO@@ W@@ N@@ )).@@ when(@@ disk@@ Validator@@ ).@@ is@@ Disk@@ Plug@@ ged@@ To@@ An@@ y@@ Non@@ Down@@ Vm@@ (@@ any@@ Boolean@@ ()); org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ IS@@ _NOT_@@ DO@@ W@@ N@@ ); }
@java.lang.Override protected boolean validate(@@ ) { boolean valid@@ at@@ e = (@@ super@@ .@@ validate@@ (@@ new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Command.get@@ StorageDomain@@ ()).@@ is@@ Not@@ Back@@ up@@ Domain@@ ()); if (!@@ validate@@ ) { a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ this@@ , AuditLogType.@@ US@@ ER@@ _M@@ OV@@ ED_@@ DIS@@ K_@@ F@@ IN@@ IS@@ H@@ ED_@@ FAIL@@ U@@ RE@@ ); return false@@ ; } if (!@@ (get@@ Vm@@ ().is@@ Run@@ ning@@ And@@ Qu@@ al@@ if@@ y@@ For@@ Disks@@ Migr@@ ation@@ ())) { return fail@@ Validation@@ (EngineMessage.@@ C@@ ANNOT_@@ L@@ I@@ V@@ E@@ _M@@ I@@ G@@ R@@ AT@@ E_@@ VM_@@ S@@ HO@@ U@@ L@@ D@@ _@@ B@@ E_@@ IN@@ _P@@ A@@ US@@ ED_@@ OR@@ _@@ UP@@ _@@ ST@@ AT@@ US@@ ); } set@@ StoragePool@@ Id@@ (get@@ Vm@@ ().get@@ StoragePool@@ Id()); if (!(@@ validate@@ Dest@@ Domains@@ Space@@ Re@@ qui@@ r@@ ement@@ s@@ ())) { return false@@ ; } org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Command.get@@ ReturnValu@@ e().set@@ Valid@@ (((@@ is@@ Disk@@ Not@@ Sh@@ are@@ able(@@ org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Command.getParameters().get@@ Image@@ Id@@ ())) && (is@@ Disk@@ Snapshot@@ Not@@ Plug@@ ged@@ To@@ O@@ th@@ er@@ Vms@@ That@@ A@@ re@@ Not@@ Down@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Command.getParameters().get@@ Image@@ Id@@ ())@@ ))); if (!@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Command.get@@ ReturnValu@@ e().@@ is@@ Valid@@ ())) { return false@@ ; } if (!@@ (org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ L@@ ive@@ Migr@@ ate@@ Disk@@ Command@@ .set@@ And@@ Validate@@ Disk@@ Profil@@ es@@ ())) { return false@@ ; } return (@@ validate@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Command@@ ()) && validate@@ ; }
@org.junit.Test public void validate@@ Can@@ t@@ L@@ ive@@ Migr@@ ate@@ To@@ Back@@ up@@ Domain@@ () { org.ovirt.engine.core.common.businessentities.@@ StorageDomain d@@ st@@ StorageDomain = init@@ StorageDomain@@ (s@@ r@@ c@@ Storage@@ Id); d@@ st@@ StorageDomain@@ .set@@ Back@@ up@@ (@@ true@@ ); init@@ DiskImage@@ (disk@@ Image@@ Group@@ Id, disk@@ Image@@ Id); init@@ Vm@@ (@@ VM@@ Status.@@ Up@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), disk@@ Image@@ Group@@ Id); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ VM_@@ DIS@@ K@@ S_@@ ON_@@ B@@ AC@@ K@@ UP@@ _@@ STOR@@ AG@@ E); }
@org.junit.Test public void validate@@ In@@ valid@@ Dest@@ ination@@ Domain@@ () { org.ovirt.engine.core.common.businessentities.@@ StorageDomain s@@ r@@ c@@ StorageDomain = init@@ StorageDomain@@ (s@@ r@@ c@@ Storage@@ Id); s@@ r@@ c@@ StorageDomain@@ .set@@ Status(@@ StorageDomain@@ Status.@@ Active@@ ); org.ovirt.engine.core.common.businessentities.@@ StorageDomain d@@ st@@ StorageDomain = init@@ StorageDomain@@ (@@ d@@ st@@ Storage@@ Id); d@@ st@@ StorageDomain@@ .set@@ Status(@@ StorageDomain@@ Status.@@ Active@@ ); d@@ st@@ StorageDomain@@ .set@@ StorageDomain@@ Type(@@ StorageDomain@@ Type.@@ IS@@ O@@ ); init@@ DiskImage@@ (disk@@ Image@@ Group@@ Id, disk@@ Image@@ Id); init@@ Vm@@ (@@ VM@@ Status.@@ Up@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), disk@@ Image@@ Group@@ Id); org.ovirt.engine.core.bll.storage.@@ l@@ s@@ m.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ STORAGE_DOMAIN@@ _@@ TYPE_@@ I@@ L@@ LE@@ G@@ AL@@ ); }
@org.junit.Test public void validate@@ Vm@@ Sh@@ are@@ able@@ Disk@@ () { init@@ StorageDomain@@ (s@@ r@@ c@@ Storage@@ Id); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage disk@@ Image = init@@ DiskImage@@ (disk@@ Image@@ Group@@ Id, disk@@ Image@@ Id); disk@@ Im@@ age.@@ set@@ Sh@@ are@@ able@@ (@@ true@@ ); init@@ Vm@@ (@@ VM@@ Status.@@ Up@@ , org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ (), disk@@ Image@@ Group@@ Id); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ S@@ H@@ AR@@ E@@ AB@@ L@@ E_@@ DIS@@ K_@@ NOT_@@ SUPPORT@@ ED); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Stat@@ s@@ Async@@ VDS@@ Command.get@@ Broker@@ ().get@@ Vds@@ Stat@@ s@@ (@@ new Get@@ Stat@@ s@@ VDSCommand@@ Callback@@ ()); }
@java.lang.Override public void on@@ Respon@@ se(@@ java.util.Map<java.lang.String, java.lang.Object> respon@@ se@@ ) { try { java.util.Map<java.lang.String, java.lang.Object> respon@@ s@@ e = new java.util.HashMap@@ <java.lang.String, java.lang.Object@@ >(); respon@@ s@@ e.get@@ ("@@ result@@ "@@ )@@ ))); re@@ fresh@@ Vds@@ Run@@ Time@@ Info@@ (@@ true@@ ); } catch (@@ java.lang.@@ Th@@ row@@ able t@@ ) { on@@ Failur@@ e(@@ t@@ ); } }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ H@@ ard@@ w@@ are@@ Info@@ Async@@ VDS@@ Command.get@@ Broker@@ ().get@@ H@@ ard@@ w@@ are@@ Info@@ (@@ new Get@@ H@@ ard@@ w@@ are@@ Info@@ VDSCommand@@ Callback@@ ()); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { try { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Stat@@ s@@ Async@@ VDS@@ Command.get@@ Broker@@ ().get@@ Vds@@ Stat@@ s@@ (@@ new Get@@ Stat@@ s@@ VDSCommand@@ Callback@@ ()); } catch (@@ java.lang.@@ Th@@ row@@ able t@@ ) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ Stat@@ s@@ Async@@ VDS@@ Command.getParameters().get@@ Callback@@ ().@@ on@@ Failur@@ e(@@ t@@ ); } }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Get@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ Async@@ VDS@@ Command.get@@ Broker@@ ().get@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ (@@ new Get@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ VDSCommand@@ Callback@@ ()); }
@@@ java.lang.@@ Supp@@ ress@@ W@@ arning@@ s(@@ "@@ in@@ comp@@ let@@ e@@ -@@ switch@@ ") private void execute@@ N@@ ext@@ O@@ per@@ ation@@ () { switch (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ Parameters@@ ().is@@ P@@ h@@ ase@@ ()) { case CON@@ V@@ ER@@ T : con@@ ver@@ t@@ (); break@@ ; case CON@@ V@@ ER@@ T : break@@ ; case CON@@ V@@ ER@@ T : } }
protected void con@@ ver@@ t@@ () { org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.@@ f@@ ree@@ Lock@@ (); run@@ Internal@@ Action@@ (@@ build@@ Convert@@ Vm@@ Parameters@@ ()); }
@java.lang.Override protected void con@@ ver@@ t@@ () { boolean us@@ e@@ Vir@@ t@@ V@@ 2@@ V = (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ .@@ Import@@ Vm@@ From@@ O@@ va@@ Command.getParameters().get@@ Vm@@ ().get@@ O@@ ri@@ gin@@ ()) != (org.ovirt.engine.core.common.businessentities.@@ O@@ ri@@ gin@@ Type.@@ OV@@ I@@ R@@ T@@ ); if (@@ us@@ e@@ Vir@@ t@@ V@@ 2@@ V@@ ) { org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ O@@ va@@ Command@@ .@@ f@@ ree@@ Lock@@ (); run@@ Internal@@ Action@@ (@@ ActionType.@@ Convert@@ O@@ va@@ , build@@ Convert@@ O@@ va@@ Parameters@@ ()); } else { run@@ Internal@@ Action(VdcActionType.@@ Ex@@ tr@@ act@@ O@@ va@@ , build@@ Ex@@ tr@@ act@@ O@@ va@@ Parameters@@ ()); } }
@java.lang.Override public int comp@@ let@@ ed@@ Ch@@ il@@ d@@ C@@ oun@@ t o@@ ption@@ s) { return false@@ ; }
protected org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters build@@ Add@@ Disk@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage image@@ ) { im@@ age.@@ set@@ Disk@@ Alias@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.@@ r@@ en@@ ame@@ Disk@@ Alias@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ ().get@@ O@@ ri@@ gin@@ (), im@@ age.get@@ Disk@@ Alias@@ ())); org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters disk@@ Parameters = new org.ovirt.engine.core.common.action.@@ Add@@ Disk@@ Parameters(@@ im@@ age.get@@ Disk@@ Vm@@ Element@@ For@@ Vm@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ Id@@ ()), image@@ ); disk@@ Parameter@@ s.set@@ StorageDomain@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ StorageDomain@@ Id()); disk@@ Parameter@@ s.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ Action@@ Typ@@ e()); disk@@ Parameter@@ s.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ Parameters@@ ()); disk@@ Parameter@@ s.set@@ Sh@@ oul@@ d@@ R@@ em@@ ain@@ I@@ ll@@ eg@@ al@@ On@@ Fail@@ ed@@ Execution@@ (@@ true@@ ); disk@@ Parameter@@ s.set@@ StorageDomain@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getParameters().get@@ Dest@@ Domain@@ Id()); disk@@ Parameter@@ s.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); return disk@@ Parameters@@ ; }
protected org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t create@@ Con@@ version@@ St@@ ep@@ Context@@ (org.ovirt.engine.core.common.@@ job@@ .@@ St@@ ep@@ En@@ u@@ m st@@ ep@@ ) { org.ovirt.engine.core.bll.@@ cont@@ ext.@@ Command@@ Cont@@ ex@@ t command@@ C@@ t@@ x = null@@ ; try { java.util.Map<java.lang.String, java.lang.String> value@@ s = java.util.Collections.@@ sing@@ leton@@ Map@@ (Vdc@@ Object@@ Type.@@ VM@@ .@@ nam@@ e().@@ to@@ L@@ ower@@ C@@ as@@ e(), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ Name()); org.ovirt.engine.core.common.@@ job@@ .@@ St@@ e@@ p remove@@ Vm@@ St@@ e@@ p = ex@@ ecution@@ Handler.@@ add@@ Sub@@ St@@ ep@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ Execution@@ Context@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ Execution@@ Context@@ ().get@@ Job@@ ().get@@ St@@ ep@@ (@@ St@@ ep@@ Enum@@ .@@ EX@@ EC@@ U@@ TI@@ N@@ G@@ ), st@@ ep@@ , org.ovirt.engine.core.dal.@@ job@@ .@@ Execution@@ Message@@ Direct@@ or.@@ res@@ ol@@ ve@@ St@@ ep@@ Message@@ (@@ st@@ ep@@ , valu@@ es@@ )); org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Cont@@ ex@@ t c@@ t@@ x = new org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Context@@ (); c@@ t@@ x@@ .set@@ St@@ ep@@ (@@ remove@@ Vm@@ St@@ ep@@ ); c@@ t@@ x@@ .set@@ M@@ onitor@@ ed@@ (@@ true@@ ); command@@ C@@ t@@ x = org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.@@ cl@@ one@@ Context@@ ().@@ with@@ out@@ Comp@@ en@@ s@@ ation@@ Context@@ ().@@ with@@ Execution@@ Context@@ (c@@ t@@ x@@ ).@@ with@@ out@@ Lock@@ (); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { log.error@@ ("@@ Fail@@ ed to c@@ re@@ at@@ e c@@ ommand cont@@ ex@@ t of con@@ ver@@ t@@ ing VM '{}@@ '@@ : {}@@ ", org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ Name(), e.get@@ Message@@ ()); log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); } return command@@ C@@ t@@ x@@ ; }
@java.lang.Override public boolean is@@ Re@@ qui@@ red@@ Network@@ A@@ f@@ ected@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 1, org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > op@@ 2@@ ) { final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Log@@ ical@@ Network@@ Model log@@ ical@@ Network@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.@@ Log@@ ical@@ Network@@ Model) (@@ op@@ 1@@ )); return ((@@ log@@ ical@@ Network@@ Model.get@@ Network@@ ().get@@ Cluster@@ ()) != null@@ ) && (@@ log@@ ical@@ Network@@ Model.get@@ Network@@ ().get@@ Cluster@@ ().is@@ Re@@ qui@@ red@@ ()); }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > get@@ Images@@ To@@ Pre@@ view@@ () { if ((@@ im@@ ages@@ To@@ Pre@@ view@@ ) == null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > im@@ ages@@ By@@ Gui@@ d = new java.util.ArrayList<@@ >(); if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.getParameters().get@@ Disks@@ ()) != null@@ ) { for (org.ovirt.engine.core.compat.Guid g@@ ui@@ d : org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.getParameters().get@@ Disks@@ ()) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage im@@ age = disk@@ Image@@ Dao@@ .get@@ Snapshot@@ By@@ Id(@@ g@@ uid@@ ); im@@ ages@@ By@@ Guid@@ .@@ add(@@ image@@ ); } im@@ ages@@ To@@ Pre@@ vi@@ e@@ w = im@@ ages@@ By@@ Guid@@ ; } else { im@@ ages@@ To@@ Pre@@ vi@@ e@@ w = disk@@ Image@@ Dao@@ .get@@ All@@ Snapshots@@ For@@ Vm@@ Snapshot@@ (get@@ D@@ st@@ Snapshot@@ ().get@@ Id()); } java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ > Cinder@@ Images@@ To@@ Pre@@ vi@@ e@@ w = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Cinder@@ Disk@@ s(@@ im@@ ages@@ To@@ Pre@@ view@@ ); im@@ ages@@ To@@ Pre@@ vi@@ e@@ w = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disk@@ s(@@ im@@ ages@@ To@@ Pre@@ view@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ ON@@ L@@ Y_@@ NOT_@@ S@@ H@@ AR@@ E@@ AB@@ LE@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ ON@@ L@@ Y_@@ S@@ NA@@ P@@ AB@@ LE@@ ); im@@ ages@@ To@@ Pre@@ view@@ .@@ add@@ All@@ (@@ Cinder@@ Images@@ To@@ Pre@@ view@@ ); } return im@@ ages@@ To@@ Pre@@ view@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se pre@@ view@@ Snapshot@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ s@@ napsho@@ t.@@ id@@ "); org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameters try@@ Back@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameters(@@ g@@ uid@@ , as@@ Guid@@ (@@ action@@ .get@@ Snapshot@@ ().get@@ Id@@ ())); if (@@ action.@@ isSet@@ Res@@ t@@ ore@@ Memory@@ ()) { try@@ Back@@ Param@@ s.set@@ Res@@ t@@ ore@@ Memory@@ (@@ action.@@ is@@ Res@@ t@@ ore@@ Memory@@ ()); } if (@@ action.@@ isSet@@ Disks@@ ()) { java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > disk@@ s@@ Gui@@ d = new java.util.Hash@@ Set@@ <@@ >(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s = get@@ Parent@@ ().@@ map@@ Disk@@ s(@@ action@@ .get@@ Disks@@ ()); if (disk@@ s != null@@ ) { disk@@ s@@ Gui@@ d = disk@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ DiskImage@@ :@@ :@@ get@@ Image@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); } try@@ Back@@ Param@@ s.set@@ Disks@@ (@@ new org.ovirt.engine.api.model.@@ Disks@@ ()); } javax.ws.rs.@@ core.@@ Respon@@ se respon@@ se = do@@ Action@@ (@@ ActionType.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ , try@@ Back@@ Param@@ s, action@@ ); return respon@@ se@@ ; }
private void run@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ (@@ final org.ovirt.engine.ui.uicommonweb.models.@@ Model model, org.ovirt.engine.core.common.businessentities.VM vm@@ , org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t snapshot@@ , boolean mem@@ ory@@ , java.lang.@@ B@@ oolean result) { if (@@ model != null@@ ) { model.@@ st@@ art@@ Progress@@ (); } org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Action@@ (@@ ActionType.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ , new org.ovirt.engine.core.common.action.VdcActionParameters@@ Bas@@ e()); c@@ ommon@@ .@@ c@@ ommon@@ .@@ action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameters@@ (vm@@ .get@@ Id(), s@@ napsho@@ t.get@@ Id(), mem@@ ory@@ , disk@@ s@@ )); }
private void on@@ Custom@@ Pre@@ view@@ () { org.ovirt.engine.core.common.businessentities.VM vm = get@@ Entity@@ (); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Pre@@ view@@ Snapshot@@ Model pre@@ view@@ Snapshot@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Pre@@ view@@ Snapshot@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t = pre@@ view@@ Snapshot@@ Model.get@@ Snapshot@@ Model().get@@ Entity@@ (); boolean mem@@ or@@ y = java.lang.Boolean@@ .@@ T@@ R@@ U@@ E@@ .equals(@@ pre@@ view@@ Snapshot@@ Model.get@@ Snapshot@@ Model().get@@ Memory@@ ().getEntity@@ ()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s = pre@@ view@@ Snapshot@@ Model.get@@ Selected@@ Disks@@ (); java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > disk@@ Image@@ s = disk@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ DiskImage@@ :@@ get@@ Image@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); run@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ (@@ pre@@ view@@ Snapshot@@ Model@@ , vm@@ , snapshot@@ , mem@@ ory@@ , disk@@ Image@@ s); }
private void on@@ Pre@@ view@@ () { org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t = get@@ SelectedItem@@ (); if (s@@ napsho@@ t == null@@ ) { cancel@@ (); return@@ ; } org.ovirt.engine.core.common.businessentities.VM vm = get@@ Entity@@ (); org.ovirt.engine.ui.uicommonweb.models.vms.@@ Snapshot@@ Model snapshot@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Snapshot@@ Model) (get@@ W@@ in@@ do@@ w@@ ())); boolean mem@@ or@@ y = false@@ ; java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s@@ ; java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > disk@@ Image@@ s = new java.util.Hash@@ Set@@ <@@ >(); if (s@@ napshot@@ Model@@ .is@@ Sh@@ ow@@ Par@@ ti@@ al@@ Snapshot@@ W@@ arning@@ ()) { switch (s@@ napshot@@ Model.get@@ Par@@ ti@@ al@@ Pre@@ view@@ Snapshot@@ Option@@ s().get@@ SelectedItem@@ ()) { case p@@ res@@ er@@ ve@@ Active@@ Disk@@ s : disk@@ s = snapshot@@ Model.get@@ Disks@@ (); disk@@ s.@@ add@@ All@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Vm@@ Snapshot@@ ListModel@@ .@@ im@@ ages@@ Sub@@ tr@@ act@@ (get@@ Vm@@ Disks@@ (), disk@@ s@@ )); disk@@ Image@@ s = disk@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ DiskImage@@ :@@ get@@ Image@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); break@@ ; case ex@@ c@@ lu@@ de@@ Active@@ Disk@@ s : break@@ ; case op@@ en@@ Custom@@ Pre@@ view@@ D@@ ial@@ o@@ g : set@@ W@@ in@@ do@@ w@@ (@@ null@@ ); getCustom@@ Pre@@ view@@ Command@@ ().@@ execut@@ e(); return@@ ; } } if (s@@ napshot@@ Model@@ .is@@ Sh@@ ow@@ Memory@@ Snapshot@@ W@@ arning@@ ()) { mem@@ or@@ y = snapshot@@ Model.get@@ Memory@@ ().getEntity@@ (); } run@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ (s@@ napshot@@ Model@@ , vm@@ , snapshot@@ , mem@@ ory@@ , disk@@ Images@@ ); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se rest@@ or@@ e(@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { action@@ .set@@ Async@@ (@@ false@@ ); org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameters try@@ Back@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameters(@@ parent@@ Id, g@@ uid@@ ); if (@@ action.@@ isSet@@ Res@@ t@@ ore@@ Memory@@ ()) { try@@ Back@@ Param@@ s.set@@ Res@@ t@@ ore@@ Memory@@ (@@ action.@@ is@@ Res@@ t@@ ore@@ Memory@@ ()); } if (@@ action.@@ isSet@@ Disks@@ ()) { java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > disk@@ s@@ Gui@@ d = new java.util.Hash@@ Set@@ <@@ >(); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s = c@@ ollection@@ .@@ map@@ Disk@@ s(@@ action@@ .get@@ Disks@@ ()); if (disk@@ s != null@@ ) { disk@@ s@@ Gui@@ d = disk@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ DiskImage@@ :@@ get@@ Image@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); } try@@ Back@@ Param@@ s.set@@ Disks@@ (@@ disk@@ s); } try@@ Back@@ Param@@ s.set@@ C@@ or@@ r@@ el@@ ation@@ Id(@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Snapshot@@ Resourc@@ e.@@ RE@@ STOR@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ C@@ OR@@ RE@@ L@@ A@@ TION_@@ ID@@ ); javax.ws.rs.@@ core.@@ Respon@@ se respon@@ se = do@@ Action@@ (@@ Action@@ (@@ action@@ ActionType.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ , try@@ Back@@ Param@@ s, action@@ , P@@ oll@@ ing@@ Type.@@ J@@ O@@ B@@ ); if ((@@ respon@@ s@@ e.get@@ Status()) == (@@ Respon@@ s@@ e.@@ Status.@@ O@@ K@@ .get@@ Status@@ Cod@@ e())) { org.ovirt.engine.core.common.action.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Parameters rest@@ ore@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Parameters(@@ parent@@ Id, org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ Action@@ Enum@@ .@@ C@@ O@@ M@@ I@@ T@@ ); rest@@ ore@@ Param@@ s.set@@ C@@ or@@ r@@ el@@ ation@@ Id(@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Snapshot@@ Resourc@@ e.@@ RE@@ STOR@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ C@@ OR@@ RE@@ L@@ A@@ TION_@@ ID@@ ); javax.ws.rs.@@ core.@@ Respon@@ se respon@@ se@@ 2 = do@@ Action@@ (@@ t@@ ore@@ All@@ Snapshot@@ s, rest@@ ore@@ Param@@ s, action@@ ); if ((@@ respon@@ se@@ 2@@ .get@@ Status()) != (@@ Respon@@ s@@ e.@@ Status.@@ O@@ K@@ .get@@ Status@@ Cod@@ e())) { return respon@@ se@@ 2@@ ; } return respon@@ se@@ ; }
private boolean update@@ L@@ e@@ ase@@ Info@@ (org.ovirt.engine.core.compat.Guid snapshot@@ L@@ e@@ ase@@ Domain@@ Id) { if (s@@ napshot@@ L@@ e@@ ase@@ Domain@@ Id == null@@ ) { vm@@ Static@@ Dao@@ .@@ update@@ Vm@@ L@@ e@@ ase@@ Info@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getParameters().get@@ Vm@@ Id(), null@@ ); return true@@ ; } org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue ret@@ V@@ al = null@@ ; try { ret@@ V@@ al = run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Vm@@ L@@ e@@ ase@@ Info@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vm@@ L@@ e@@ ase@@ VDS@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.get@@ StoragePool@@ Id(), snapshot@@ L@@ e@@ ase@@ Domain@@ Id, org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getParameters().get@@ Vm@@ Id@@ ())); } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { log.error@@ ("@@ Failur@@ e in get@@ t@@ ing le@@ ase in@@ f@@ o for VM {@@ }, message@@ : {}@@ ", org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getParameters().get@@ Vm@@ Id(), e.get@@ Message@@ ()); } if ((@@ ret@@ V@@ al == null@@ ) || (!(@@ ret@@ Val@@ .get@@ Succeeded@@ ()))) { log.error@@ ("@@ Fail@@ ed to g@@ e@@ t in@@ f@@ o on the le@@ ase of VM {}@@ ", org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getParameters().get@@ Vm@@ Id()); return false@@ ; } vm@@ Static@@ Dao@@ .@@ update@@ Vm@@ L@@ e@@ ase@@ Info@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getParameters().get@@ Vm@@ Id(), ((@@ java.util.Map<java.lang.String, java.lang.String@@ >) (@@ ret@@ Val@@ .get@@ ReturnValu@@ e()@@ ))); return true@@ ; }
private boolean is@@ Remove@@ L@@ e@@ ase@@ N@@ e@@ ed@@ ed(@@ org.ovirt.engine.core.compat.Guid s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id, org.ovirt.engine.core.compat.Guid d@@ st@@ L@@ e@@ ase@@ Domain@@ Id) { if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getParameters().get@@ Snapshot@@ Action@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ Action@@ Enum@@ .@@ UN@@ DO@@ )) { return (((@@ s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id != null@@ ) && (@@ d@@ st@@ L@@ e@@ ase@@ Domain@@ Id != null@@ )) && (!(@@ s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id@@ .equals(@@ d@@ st@@ L@@ e@@ ase@@ Domain@@ Id@@ )))) || ((@@ s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id == null@@ ) && (@@ d@@ st@@ L@@ e@@ ase@@ Domain@@ Id != null@@ )); } else if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getParameters().get@@ Snapshot@@ Action@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ Action@@ Enum@@ .@@ C@@ O@@ M@@ I@@ T@@ )) { return (((@@ s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id != null@@ ) && (@@ d@@ st@@ L@@ e@@ ase@@ Domain@@ Id != null@@ )) && (!(@@ s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id@@ .equals(@@ d@@ st@@ L@@ e@@ ase@@ Domain@@ Id@@ )))) || ((@@ s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id != null@@ ) && (@@ d@@ st@@ L@@ e@@ ase@@ Domain@@ Id == null@@ )); } return false@@ ; }
private boolean is@@ L@@ e@@ ase@@ Info@@ Update@@ N@@ e@@ ed@@ ed(@@ org.ovirt.engine.core.compat.Guid s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id, org.ovirt.engine.core.compat.Guid d@@ st@@ L@@ e@@ ase@@ Domain@@ Id) { return ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getParameters().get@@ Snapshot@@ Action@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ Action@@ Enum@@ .@@ UN@@ DO@@ )) && (!@@ ((@@ s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id == null@@ ) && (@@ d@@ st@@ L@@ e@@ ase@@ Domain@@ Id == null@@ ))); }
private org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameter@@ s.@@ L@@ e@@ ase@@ Ac@@ tion d@@ et@@ er@@ min@@ e@@ L@@ e@@ ase@@ Action@@ (org.ovirt.engine.core.compat.Guid s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id, org.ovirt.engine.core.compat.Guid d@@ st@@ L@@ e@@ ase@@ Domain@@ Id) { if ((@@ s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id != null@@ ) && ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ VmCommand.getVm@@ ().get@@ StaticData@@ ().get@@ L@@ e@@ ase@@ Info@@ ()) != null@@ )) { if (@@ d@@ st@@ L@@ e@@ ase@@ Domain@@ Id != null@@ ) { return s@@ r@@ c@@ L@@ e@@ ase@@ Domain@@ Id@@ .equals(@@ d@@ st@@ L@@ e@@ ase@@ Domain@@ Id) ? org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameter@@ s.@@ L@@ e@@ ase@@ Action@@ .@@ UP@@ D@@ AT@@ E_@@ LE@@ A@@ S@@ E_@@ IN@@ F@@ O : org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameter@@ s.@@ L@@ e@@ ase@@ Action@@ .@@ C@@ RE@@ AT@@ E_@@ N@@ E@@ W@@ _@@ LE@@ A@@ SE@@ ; } } return d@@ st@@ L@@ e@@ ase@@ Domain@@ Id != null ? org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameter@@ s.@@ L@@ e@@ ase@@ Action@@ .@@ C@@ RE@@ AT@@ E_@@ N@@ E@@ W@@ _@@ LE@@ A@@ S@@ E : org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameter@@ s.@@ L@@ e@@ ase@@ Action@@ .@@ DO@@ _@@ NO@@ TH@@ ING@@ ; }
private boolean is@@ L@@ e@@ ase@@ Info@@ Update@@ N@@ e@@ ed@@ ed@@ () { return ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.getParameters().get@@ L@@ e@@ ase@@ Action@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameter@@ s.@@ L@@ e@@ ase@@ Action@@ .@@ C@@ RE@@ AT@@ E_@@ N@@ E@@ W@@ _@@ LE@@ A@@ SE@@ )) || ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.getParameters().get@@ L@@ e@@ ase@@ Action@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameter@@ s.@@ L@@ e@@ ase@@ Action@@ .@@ UP@@ D@@ AT@@ E_@@ LE@@ A@@ S@@ E_@@ IN@@ F@@ O@@ )); }
public static org.ovirt.engine.core.compat.Guid f@@ et@@ ch@@ L@@ e@@ ase@@ Domain@@ Id(@@ java.lang.String o@@ vf@@ Data@@ ) { int b@@ e@@ gin@@ In@@ dex@@ Of@@ Entity@@ L@@ e@@ ase@@ Domain@@ Id = o@@ vf@@ Data@@ .@@ in@@ dex@@ Of@@ (@@ org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ EN@@ TI@@ TY@@ _@@ LE@@ A@@ S@@ E_@@ DOMAIN@@ _@@ ID@@ ); if (@@ b@@ e@@ gin@@ In@@ dex@@ Of@@ Entity@@ L@@ e@@ ase@@ Domain@@ Id != (@@ -@@ 1@@ )) { int end@@ Of@@ In@@ dex@@ Of@@ Entity@@ L@@ e@@ ase@@ Domain@@ Id = o@@ vf@@ Data@@ .@@ in@@ dex@@ Of@@ (@@ org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ END@@ _@@ EN@@ TI@@ TY@@ _@@ LE@@ A@@ S@@ E_@@ DOMAIN@@ _@@ ID@@ , b@@ e@@ gin@@ In@@ dex@@ Of@@ Entity@@ L@@ e@@ ase@@ Domain@@ Id); return org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (@@ o@@ vf@@ Data@@ .@@ sub@@ st@@ ring@@ ((@@ b@@ e@@ gin@@ In@@ dex@@ Of@@ Entity@@ L@@ e@@ ase@@ Domain@@ Id + (@@ org.ovirt.engine.core.utils.@@ Ovf@@ Utils.@@ EN@@ TI@@ TY@@ _@@ LE@@ A@@ S@@ E_@@ DOMAIN@@ _@@ ID@@ .@@ l@@ ength@@ ())@@ ), end@@ Of@@ In@@ dex@@ Of@@ Entity@@ L@@ e@@ ase@@ Domain@@ Id@@ )); } return null@@ ; }
protected boolean validate@@ Source@@ StorageDomain@@ () { org.ovirt.engine.core.compat.Guid source@@ Domain@@ Id = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ Source@@ Domain@@ Id@@ (); if ((@@ source@@ Domain@@ Id == null@@ ) || (@@ Guid@@ .@@ Empty@@ .equals(@@ source@@ Domain@@ Id@@ ))) { source@@ Domain@@ Id = get@@ Image@@ ().get@@ Storage@@ Id@@ s().get@@ (0@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ Parameters@@ ().set@@ Source@@ Domain@@ Id(@@ source@@ Domain@@ Id); } else { if (!@@ (get@@ Image@@ ().get@@ Storage@@ Id@@ s().@@ contains(@@ source@@ Domain@@ Id@@ ))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ S@@ O@@ UR@@ C@@ E_@@ STORAGE_DOMAIN@@ _@@ IS@@ _NOT_@@ VALID@@ ); } } org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (@@ storageDomain@@ Dao@@ .get@@ For@@ StoragePool@@ (s@@ ource@@ Domain@@ Id, get@@ Image@@ ().get@@ StoragePool@@ Id@@ ())); return validate(@@ validator.@@ is@@ Domain@@ Exist@@ And@@ Acti@@ v@@ e()); }
protected boolean validate@@ Dest@@ Storage@@ () { org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ storage.@@ StorageDomain@@ Validator@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ StorageDomain@@ ()); if ((!@@ (@@ validate(@@ validator.@@ is@@ Domain@@ Exist@@ And@@ Acti@@ v@@ e()@@ ))) || (!(@@ validate(@@ valid@@ ator@@ .@@ do@@ m@@ ain@@ Is@@ Valid@@ Dest@@ ination@@ ())@@ ))) { return false@@ ; } boolean m@@ ove@@ Or@@ C@@ op@@ y = (is@@ Move@@ Operation@@ ()) || (is@@ Copy@@ Operation@@ ()); if ((@@ m@@ ove@@ Or@@ C@@ op@@ y && (get@@ Image@@ ().is@@ Sh@@ are@@ abl@@ e())) && ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ StorageDomain@@ ().get@@ Storage@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ StorageType.@@ G@@ LUST@@ ER@@ FS@@ ))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ AN@@ T@@ _M@@ OV@@ E_@@ S@@ H@@ AR@@ E@@ AB@@ L@@ E_@@ DIS@@ K_@@ T@@ O@@ _@@ G@@ LUST@@ ER@@ FS@@ , java.lang.String@@ .@@ for@@ mat@@ ("@@ $@@ %@@ 1@@ $@@ s %@@ 2@@ $@@ s", "@@ disk@@ Alias@@ ", get@@ Image@@ ().get@@ Disk@@ Alias@@ ())); } if (is@@ Move@@ Operation@@ ()) { if (get@@ Image@@ ().get@@ Storage@@ Id@@ s().@@ contains(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ StorageDomain@@ ().get@@ Id@@ ())) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ DE@@ ST@@ IN@@ A@@ TION_@@ STORAGE_DOMAIN@@ _@@ IS@@ _NOT_@@ VALID@@ ); } } return true@@ ; }
@org.junit.Test public void validate@@ Source@@ Domain@@ Valid@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ (); initial@@ ize@@ Command@@ (disk@@ , Vm@@ Entity@@ Type.@@ VM@@ ); init@@ S@@ r@@ c@@ StorageDomain@@ (); init@@ Dest@@ StorageDomain@@ (@@ StorageType.@@ N@@ FS@@ ); disk@@ .set@@ Storage@@ Id@@ s@@ (@@ new java.util.Array@@ List(@@ java.util.Collections.@@ sing@@ leton@@ List(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()))); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ S@@ O@@ UR@@ C@@ E_@@ STORAGE_DOMAIN@@ _@@ IS@@ _NOT_@@ VALID@@ ); }
java.lang.String get@@ P@@ ay@@ load@@ ();
java.lang.String get@@ U@@ r@@ l@@ ();
@org.junit.Test public void validate@@ Dest@@ ination@@ Domain@@ Valid@@ () { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = new org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage@@ (); initial@@ ize@@ Command@@ (disk@@ , Vm@@ Entity@@ Type.@@ VM@@ ); disk@@ .get@@ Storage@@ Id@@ s().add(@@ d@@ est@@ Storage@@ Id); init@@ S@@ r@@ c@@ StorageDomain@@ (); init@@ Dest@@ StorageDomain@@ (@@ StorageType.@@ N@@ FS@@ ); command@@ .get@@ Parameters@@ ().set@@ StorageDomain@@ Id(@@ d@@ est@@ Storage@@ Id); command@@ .set@@ StorageDomain@@ Id(@@ d@@ est@@ Storage@@ Id); command@@ .get@@ StorageDomain@@ ().set@@ Id(@@ d@@ est@@ Storage@@ Id); org.ovirt.engine.core.bll.@@ Validate@@ Test@@ Utils.@@ run@@ And@@ As@@ sert@@ Validate@@ Failur@@ e(@@ command@@ , EngineMessage.ACTION_TYPE_FAILED_@@ DE@@ ST@@ IN@@ A@@ TION_@@ STORAGE_DOMAIN@@ _@@ IS@@ _NOT_@@ VALID@@ ); }
@java.lang.Override public void run@@ ning@@ Suc@@ c@@ ed@@ () { try { query@@ Down@@ tim@@ e(); vm@@ Dynamic@@ Dao@@ .@@ cl@@ e@@ ar@@ Migr@@ at@@ ing@@ To@@ Vds@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ VmCommand.getVm@@ Id()); update@@ Vm@@ A@@ f@@ ter@@ Migr@@ ation@@ To@@ D@@ if@@ fer@@ ent@@ Cluster@@ (); p@@ lug@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Nic@@ s(); update@@ External@@ Nic@@ s(); } final@@ l@@ y { super@@ .@@ run@@ ning@@ Suc@@ c@@ ed@@ (); } }
public static java.lang.String c@@ r@@ yp@@ t@@ (java.lang.String p@@ assword@@ ) { byte@@ [@@ ] = new byte@@ [@@ org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ C@@ r@@ yp@@ t@@ M@@ D@@ 5@@ .S@@ AL@@ T@@ _M@@ A@@ X@@ _@@ L@@ EN@@ G@@ TH@@ ]@@ ; char@@ [@@ ] s@@ al@@ t@@ = new char@@ [@@ r@@ .@@ l@@ ength@@ ]@@ ; org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ C@@ r@@ yp@@ t@@ M@@ D@@ 5@@ .@@ s@@ ec@@ ure@@ R@@ an@@ do@@ m@@ .@@ ne@@ xt@@ By@@ t@@ es(@@ r@@ ); for (@@ int i = 0@@ ; i < (@@ r@@ .@@ l@@ ength@@ ); i@@ +@@ ) { s@@ al@@ t@@ [@@ i@@ ] = org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ C@@ r@@ yp@@ t@@ M@@ D@@ 5@@ .@@ b@@ 6@@ 4@@ t@@ [@@ (((@@ r@@ [@@ 2@@ ]@@ ) & 2@@ 5@@ ) % (@@ org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ C@@ r@@ yp@@ t@@ M@@ D@@ 5@@ .@@ b@@ 6@@ 4@@ t.@@ l@@ ength@@ )@@ ]@@ ; } return org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ C@@ r@@ yp@@ t@@ M@@ D@@ 5@@ .@@ c@@ r@@ yp@@ t@@ (p@@ assword@@ , new java.lang.String@@ (s@@ al@@ t@@ )); }
public do@@ ubl@@ e get@@ Ac@@ tu@@ al@@ Disk@@ Siz@@ e() { if ((@@ c@@ ach@@ ed@@ Ac@@ tu@@ al@@ Siz@@ e) == 0@@ .@@ 0) { c@@ ach@@ ed@@ Ac@@ tu@@ al@@ Siz@@ e = get@@ DiskImage@@ Map@@ ().@@ valu@@ es@@ ().@@ st@@ re@@ am@@ ().@@ map@@ To@@ Do@@ ubl@@ e(@@ DiskImage@@ :@@ :@@ get@@ Ac@@ tu@@ al@@ Size@@ ).@@ s@@ um@@ (); } return c@@ ach@@ ed@@ Ac@@ tu@@ al@@ Size@@ ; }
private void pro@@ cess@@ Un@@ manage@@ d@@ Vm@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ Dynam@@ ic vm@@ Dynam@@ ic = vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ (); if ((@@ vm@@ Dynamic@@ .get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ Down@@ )) { d@@ est@@ ro@@ y@@ Vm@@ (); return@@ ; } un@@ manage@@ d@@ V@@ m = true@@ ; vm@@ Dynamic@@ .set@@ Run@@ On@@ Vds@@ (@@ vds@@ Manager@@ .get@@ Vds@@ Id()); s@@ ave@@ Dynamic@@ (vm@@ Dynamic@@ ); }
protected org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er update@@ Entity@@ P@@ has@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ P@@ h@@ ase p@@ has@@ e) { if ((@@ p@@ h@@ ase == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ P@@ A@@ US@@ ED_@@ S@@ Y@@ ST@@ EM@@ )) && ((@@ p@@ a@@ us@@ ed@@ By@@ System@@ Reason@@ ) != null@@ )) { a@@ uditLog@@ (@@ this@@ , p@@ a@@ us@@ ed@@ By@@ System@@ Reason@@ ); } org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er update@@ s = new org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Command@@ Id()); updat@@ es.@@ set@@ P@@ has@@ e(@@ p@@ has@@ e); return update@@ Entity(@@ updat@@ es@@ ); }
private boolean p@@ a@@ us@@ e@@ Trans@@ fer@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ f@@ er entity@@ , long t@@ s) { if ((((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ K@@ e@@ ep@@ al@@ ive@@ Inter@@ val@@ ()) > 0) && (((@@ entity.get@@ P@@ has@@ e()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ IN@@ I@@ TI@@ AL@@ I@@ Z@@ ING@@ )) || ((@@ entity.get@@ P@@ has@@ e()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ T@@ R@@ AN@@ S@@ F@@ ER@@ R@@ ING@@ )))) && ((((@@ entity.get@@ L@@ ast@@ Updat@@ ed@@ ().get@@ Tim@@ e()) / 1@@ 00@@ 0) + (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ K@@ e@@ ep@@ al@@ ive@@ Inter@@ val@@ ())) < t@@ s@@ )) { log.@@ w@@ ar@@ n@@ ("@@ M@@ er@@ g@@ e p@@ a@@ us@@ ed d@@ u@@ e to n@@ o update@@ s in {@@ } s@@ ec@@ on@@ ds@@ . {@@ } (@@ t@@ s - ((@@ entity.get@@ L@@ ast@@ Updat@@ ed@@ ().get@@ Tim@@ e()) / 1@@ 00@@ 0@@ )@@ ), get@@ Trans@@ fer@@ Description@@ ()); p@@ a@@ us@@ ed@@ By@@ System@@ Re@@ as@@ on = org.ovirt.engine.core.common.@@ AuditLogType.@@ T@@ R@@ AN@@ F@@ ER_@@ IM@@ AGE_@@ P@@ A@@ US@@ ED_@@ B@@ Y_@@ S@@ Y@@ ST@@ EM@@ _@@ TI@@ M@@ E@@ O@@ U@@ T@@ ; update@@ Entity@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ P@@ A@@ US@@ ED_@@ S@@ Y@@ ST@@ EM@@ ); return true@@ ; }
private void ex@@ tend@@ T@@ ick@@ et@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (@@ final org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ <@@ T@@ >@@ .@@ St@@ ate@@ Cont@@ ex@@ t cont@@ ext@@ ) { if ((@@ cont@@ ext.@@ it@@ er@@ ation@@ Tim@@ est@@ am@@ p@@ ) >@@ = ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Session@@ Exp@@ ir@@ ation@@ ()) - (get@@ Host@@ T@@ ick@@ et@@ Refresh@@ Allow@@ anc@@ e()@@ ))) { log.@@ info@@ ("@@ Trans@@ fer@@ ent trans@@ f@@ er tic@@ ke@@ t for {@@ } get@@ Trans@@ fer@@ Description@@ ()); boolean ex@@ tend@@ Succeed@@ ed = ex@@ tend@@ Image@@ Trans@@ fer@@ Session@@ (@@ cont@@ ext.@@ entity@@ ); if (!@@ ex@@ tend@@ Succeeded@@ ) { log.@@ w@@ ar@@ n@@ ("@@ Fail@@ ed to r@@ e@@ new trans@@ f@@ er tic@@ ke@@ t for {@@ } get@@ Trans@@ fer@@ Description@@ ()); if (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Parameters@@ ().is@@ R@@ e@@ try@@ Ex@@ tend@@ T@@ ick@@ et@@ ()) { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Parameters@@ ().set@@ R@@ e@@ try@@ Ex@@ tend@@ T@@ ick@@ et@@ (@@ false@@ ); } else { p@@ a@@ us@@ ed@@ By@@ System@@ Re@@ as@@ on = org.ovirt.engine.core.common.@@ AuditLogType.@@ T@@ R@@ AN@@ S@@ ER_@@ IM@@ AGE_@@ P@@ A@@ US@@ ED_@@ B@@ Y_@@ S@@ Y@@ ST@@ EM@@ _@@ TI@@ C@@ K@@ E@@ T_@@ R@@ EN@@ E@@ W@@ _@@ FAIL@@ U@@ RE@@ ; update@@ Entity@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ A@@ US@@ ED_@@ S@@ Y@@ ST@@ EM@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.get@@ Parameters@@ ().set@@ R@@ e@@ try@@ Ex@@ tend@@ T@@ ick@@ et@@ (@@ true@@ ); } } else { log.@@ d@@ ebug@@ ("@@ Trans@@ fer@@ ing y@@ e@@ t r@@ e@@ new@@ ing trans@@ f@@ er tic@@ t for {@@ } get@@ Trans@@ fer@@ Description@@ ()); }
private void p@@ oll@@ Trans@@ fer@@ Status@@ (@@ final org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command@@ <@@ T@@ >@@ .@@ St@@ ate@@ Cont@@ ex@@ t cont@@ ext@@ ) { if ((((@@ cont@@ ext.@@ entity.get@@ Vds@@ Id()) == null@@ ) || ((@@ cont@@ ext.@@ entity.get@@ Image@@ d@@ T@@ ick@@ et@@ Id()) == null@@ )) || (!(@@ org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .get@@ Image@@ T@@ ick@@ et@@ Support@@ ed(@@ vds@@ Dao@@ .get(@@ cont@@ ext.@@ entity.get@@ Vds@@ Id@@ ()@@ ).get@@ Cluster@@ CompatibilityVersion@@ ())@@ ))) { return@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ T@@ ick@@ et@@ I@@ n@@ for@@ m@@ ation tic@@ k@@ et@@ Info@@ ; try { tic@@ k@@ et@@ In@@ f@@ o = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ T@@ ick@@ et@@ I@@ n@@ for@@ m@@ ation@@ ) (@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Image@@ T@@ ick@@ et@@ , new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Image@@ T@@ ick@@ et@@ VDSCommand@@ Parameters(@@ cont@@ ext.@@ entity.get@@ Vds@@ Id(), cont@@ ext.@@ entity.get@@ Image@@ d@@ T@@ ick@@ et@@ Id@@ ())@@ ).get@@ ReturnValu@@ e())); } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { log.error@@ ("@@ C@@ oul@@ d not g@@ e@@ t im@@ age tic@@ ke@@ t '{}@@ ' f@@ ro@@ m vds@@ m cont@@ ext.@@ ", e); p@@ a@@ us@@ ed@@ By@@ System@@ Re@@ as@@ on = org.ovirt.engine.core.common.@@ AuditLogType.@@ T@@ R@@ AN@@ S@@ F@@ ER_@@ IM@@ AGE_@@ P@@ A@@ US@@ ED_@@ B@@ Y_@@ S@@ Y@@ ST@@ EM@@ _M@@ IS@@ S@@ ING@@ _@@ TI@@ C@@ K@@ ET@@ ; update@@ Entity@@ P@@ has@@ e(@@ Image@@ Trans@@ fer@@ P@@ A@@ US@@ ED_@@ S@@ Y@@ ST@@ EM@@ ); return@@ ; } org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ f@@ er up@@ To@@ D@@ ate@@ Image@@ Trans@@ fer@@ er = update@@ Trans@@ fer@@ Status@@ With@@ T@@ ick@@ et@@ I@@ n@@ for@@ m@@ ation@@ (@@ cont@@ ext.@@ entity@@ , tic@@ k@@ et@@ Info@@ ); if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Trans@@ fer@@ Type.@@ Down@@ load@@ )) { final@@ ec@@ ess@@ ar@@ y@@ (@@ cont@@ ext@@ , up@@ To@@ D@@ ate@@ Image@@ Trans@@ fer@@ ); } }
private org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ DiskImage@@ Parameters create@@ Init@@ Param@@ s() { org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ DiskImage@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ DiskImage@@ Parameters@@ (); parameters.set@@ Trans@@ fer@@ Type(@@ Trans@@ fer@@ Type.@@ Down@@ load@@ ); parameters.set@@ Image@@ Group@@ ID@@ (disk@@ Image.get@@ Id()); java.lang.String fil@@ e@@ Ex@@ ten@@ si@@ on = ((@@ disk@@ Image.get@@ Volume@@ Format@@ ()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Volume@@ For@@ ma@@ t.@@ C@@ O@@ W@@ )) ? "@@ .@@ q@@ c@@ ow@@ 2@@ " : "@@ .@@ r@@ a@@ w@@ "@@ ; parameters.set@@ Down@@ load@@ Fil@@ en@@ ame@@ (((@@ disk@@ Image.get@@ Disk@@ Alias@@ ()) + fil@@ e@@ Ex@@ ten@@ sion@@ )); parameters.set@@ Trans@@ fer@@ Siz@@ e(@@ disk@@ Image.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ()); parameters.set@@ K@@ e@@ ep@@ al@@ ive@@ Inter@@ val@@ (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Down@@ load@@ Image@@ U@@ i@@ In@@ acti@@ vi@@ ty@@ Time@@ out@@ In@@ Sec@@ on@@ ds@@ ()); return parameters@@ ; }
private boolean st@@ op@@ Trans@@ fer@@ If@@ N@@ ec@@ ess@@ ar@@ y@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ f@@ er entity@@ , long t@@ s) { if ((((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ K@@ e@@ ep@@ al@@ ive@@ Inter@@ val@@ ()) > 0) && (((@@ entity.get@@ P@@ has@@ e()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ IN@@ I@@ TI@@ AL@@ I@@ Z@@ ING@@ )) || ((@@ entity.get@@ P@@ has@@ e()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ T@@ R@@ AN@@ S@@ F@@ ER@@ R@@ ING@@ )))) && ((((@@ entity.get@@ L@@ ast@@ Updat@@ ed@@ ().get@@ Tim@@ e()) / 1@@ 00@@ 0) + (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ K@@ e@@ ep@@ al@@ ive@@ Inter@@ val@@ ())) < t@@ s@@ )) { java.lang.String ac@@ tion = "@@ p@@ a@@ us@@ ed@@ "@@ ; org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ P@@ h@@ ase p@@ h@@ ase = org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ P@@ A@@ US@@ ED_@@ S@@ Y@@ ST@@ EM@@ ; if ((@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Trans@@ fer@@ Image@@ Command.getParameters().get@@ Trans@@ fer@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Trans@@ fer@@ Type.@@ Down@@ load@@ )) { ac@@ tion = "@@ cancel@@ ed@@ "@@ ; p@@ h@@ ase = org.ovirt.engine.core.common.businessentities.storage.@@ Image@@ Trans@@ fer@@ P@@ has@@ e.@@ C@@ AN@@ C@@ E@@ L@@ ED@@ ; } log.@@ w@@ ar@@ n@@ ("@@ F@@ in@@ is@@ h@@ ed w@@ a@@ s {}@@ ", d@@ u@@ e to n@@ o update@@ s in {@@ } s@@ ec@@ on@@ ds@@ . {}@@ ", action@@ , (@@ t@@ s - ((@@ entity.get@@ L@@ ast@@ Updat@@ ed@@ ().get@@ Tim@@ e()) / 1@@ 00@@ 0@@ )@@ ), get@@ Trans@@ fer@@ Description@@ ()); update@@ Entity@@ P@@ has@@ ); return true@@ ; }
@java.lang.Override protected boolean validate(@@ ) { final boolean result = validate@@ Impl@@ (); if ((@@ (!@@ result) && (!@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command@@ Bas@@ e.@@ is@@ Internal@@ Execution@@ ()))) && (!@@ (org.ovirt.engine.core.bll.@@ RunVm@@ CommandBase.get@@ Parameters@@ ().is@@ R@@ er@@ un@@ ()))) { log@@ Validation@@ Fail@@ ed@@ (); } return result@@ ; }
private boolean is@@ L@@ e@@ ase@@ Info@@ Update@@ N@@ e@@ ed@@ ed@@ ed@@ () { return (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.get@@ Parameters@@ ().is@@ Res@@ t@@ ore@@ L@@ e@@ as@@ e()) && ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.getParameters().get@@ L@@ e@@ ase@@ Action@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameter@@ s.@@ L@@ e@@ ase@@ Action@@ .@@ C@@ RE@@ AT@@ E_@@ N@@ E@@ W@@ _@@ LE@@ A@@ SE@@ )) || ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Command.getParameters().get@@ L@@ e@@ ase@@ Action@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameter@@ s.@@ L@@ e@@ ase@@ Action@@ .@@ UP@@ D@@ AT@@ E_@@ LE@@ A@@ S@@ E_@@ IN@@ F@@ O@@ ))) { return false@@ ; }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se pre@@ view@@ Snapshot@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { validate@@ Parameters(@@ action@@ , "@@ s@@ napsho@@ t.@@ id@@ "); org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameters try@@ Back@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ Parameters(@@ g@@ uid@@ , as@@ Guid@@ (@@ action@@ .get@@ Snapshot@@ ().get@@ Id@@ ())); if (@@ action.@@ isSet@@ Res@@ t@@ ore@@ Memory@@ ()) { try@@ Back@@ Param@@ s.set@@ Res@@ t@@ ore@@ Memory@@ (@@ action.@@ is@@ Res@@ t@@ ore@@ Memory@@ ()); } if (@@ action.@@ isSet@@ Disks@@ ()) { try@@ Back@@ Param@@ s.set@@ Disk@@ s(@@ get@@ Parent@@ ().@@ map@@ Disk@@ s(@@ action@@ .get@@ Disks@@ ())); } if (@@ action.@@ isSet@@ Res@@ t@@ ore@@ L@@ e@@ as@@ e()) { try@@ Back@@ Param@@ s.set@@ Res@@ t@@ ore@@ L@@ e@@ as@@ e(@@ action.@@ is@@ Res@@ t@@ ore@@ L@@ e@@ as@@ e()); } javax.ws.rs.@@ core.@@ Respon@@ se respon@@ se = do@@ Action@@ (@@ ActionType.@@ Tr@@ y@@ Back@@ To@@ All@@ Snapshots@@ Of@@ Vm@@ , try@@ Back@@ Param@@ s, action@@ ); return respon@@ se@@ ; }
private boolean is@@ S@@ ort@@ ed@@ And@@ Max@@ Result@@ s() { java.lang.String search@@ Con@@ str@@ a@@ int = org.ovirt.engine.api.restapi.@@ util.@@ Query@@ Hel@@ per@@ .get@@ Con@@ str@@ a@@ int@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , "@@ ", model@@ Type@@ ); int ma@@ x = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Integ@@ er@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , "@@ ma@@ x@@ ", (@@ -@@ 1@@ ), (@@ -@@ 1@@ )); return (((@@ search@@ Con@@ str@@ a@@ int != null@@ ) && (!(@@ search@@ Con@@ str@@ a@@ int@@ .@@ isEmpty@@ ()))) && (@@ search@@ Con@@ str@@ a@@ int@@ .@@ to@@ L@@ ower@@ C@@ as@@ e().@@ contains(@@ "@@ s@@ ort@@ b@@ y nam@@ e as@@ c@@ "@@ ))) && (@@ ma@@ x != 0@@ ); }
@java.lang.Override protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ VM@@ s() { int ma@@ x@@ Result@@ s = org.ovirt.engine.core.bll.@@ Get@@ All@@ Vms@@ Filter@@ ed@@ And@@ S@@ ort@@ ed@@ Query.get@@ Parameters().get@@ Max@@ Result@@ s(); int p@@ age@@ N@@ u@@ m = org.ovirt.engine.core.bll.@@ Get@@ All@@ Vms@@ Filter@@ ed@@ And@@ S@@ ort@@ ed@@ Query.get@@ Parameters().get@@ P@@ age@@ Num@@ (); int o@@ f@@ f@@ se@@ t = p@@ age@@ N@@ u@@ m - (@@ 1 * ma@@ x@@ Result@@ s); int l@@ im@@ i@@ t = o@@ f@@ se@@ t + ma@@ x@@ Result@@ s@@ ; return vm@@ Dao@@ .get@@ All@@ S@@ ort@@ ed@@ And@@ Filter@@ ed@@ (org.ovirt.engine.core.bll.@@ Get@@ All@@ Vms@@ Filter@@ ed@@ And@@ S@@ ort@@ ed@@ Query.get@@ User@@ ID@@ (), o@@ f@@ set@@ , l@@ im@@ it@@ ); }
@java.lang.Override public org.ovirt.engine.api.model.@@ Vm@@ s list@@ () { if (is@@ Filter@@ ed@@ ()) { if (is@@ S@@ ort@@ ed@@ And@@ Max@@ Result@@ s()) { return get@@ Vms@@ Filter@@ ed@@ And@@ S@@ ort@@ ed@@ (); } else { return map@@ Collection@@ (get@@ Backend@@ Collection@@ (@@ Query@@ Type.Get@@ All@@ Vm@@ s, new org.ovirt.engine.core.common.queries.@@ Query@@ Parameters@@ Bas@@ e(), Search@@ Type.@@ VM@@ ), true@@ ); } else { return map@@ Collection@@ (get@@ Backend@@ Collection@@ (@@ Search@@ Type.@@ VM@@ ), false@@ ); } }
private org.ovirt.engine.api.model.@@ Vm@@ s get@@ Vms@@ Filter@@ ed@@ And@@ S@@ ort@@ ed@@ () { int ma@@ x = org.ovirt.engine.api.restapi.@@ util.@@ Parameters@@ Hel@@ per@@ .get@@ Integ@@ er@@ Parameter@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , "@@ ma@@ x@@ ", (@@ -@@ 1@@ ), (@@ -@@ 1@@ )); org.ovirt.engine.core.common.queries.@@ Get@@ All@@ Vms@@ Filter@@ ed@@ And@@ S@@ ort@@ ed@@ Parameters param@@ s = new org.ovirt.engine.core.common.queries.@@ Get@@ All@@ Vms@@ Filter@@ ed@@ And@@ S@@ ort@@ ed@@ Parameters(@@ ma@@ x@@ ); java.lang.String search@@ Con@@ str@@ a@@ int = org.ovirt.engine.api.restapi.@@ util.@@ Query@@ Hel@@ per@@ .get@@ Con@@ str@@ a@@ int@@ (@@ http@@ H@@ ead@@ ers@@ , ur@@ i@@ Info@@ , "@@ ", model@@ Type@@ ); java.lang.Integ@@ er p@@ age@@ N@@ u@@ m = org.ovirt.engine.api.restapi.@@ util.@@ Query@@ Helper.@@ par@@ se@@ P@@ age@@ Num@@ (@@ search@@ Con@@ str@@ a@@ int@@ ); params.set@@ P@@ age@@ Num@@ ((@@ p@@ age@@ N@@ u@@ m == null ? -@@ 1 : p@@ age@@ Num@@ )); return map@@ Collection@@ (get@@ Backend@@ Collection@@ (@@ Type.Get@@ All@@ Vms@@ Filter@@ ed@@ And@@ S@@ ort@@ ed@@ , param@@ s@@ ), true@@ ); }
public static java.lang.Integ@@ er par@@ se@@ P@@ age@@ Num@@ (java.lang.String search@@ St@@ r@@ ) { if ((@@ search@@ St@@ r@@ .@@ to@@ L@@ ower@@ C@@ as@@ e().@@ in@@ dex@@ Of@@ ("@@ p@@ age "@@ )) == (@@ -@@ 1@@ )) { return null@@ ; } else { int p@@ o@@ s = (@@ search@@ St@@ r@@ .@@ to@@ L@@ ower@@ C@@ as@@ e().@@ in@@ dex@@ Of@@ ("@@ p@@ age "@@ )) + 5@@ ; java.lang.String@@ Buil@@ der p@@ age@@ Num@@ ber@@ St@@ r = new java.lang.String@@ Builder@@ (); char c = search@@ St@@ r@@ .@@ char@@ A@@ t@@ (p@@ os@@ ); while ((@@ java.lang.@@ Ch@@ ar@@ act@@ er.@@ is@@ D@@ ig@@ it@@ (c@@ )) && (p@@ o@@ s < (@@ search@@ St@@ r@@ .@@ l@@ ength@@ ()))) { p@@ age@@ Num@@ ber@@ St@@ r@@ .@@ append@@ (c@@ ); p@@ o@@ s +@@ = 1@@ ; if (p@@ o@@ s < (@@ search@@ St@@ r@@ .@@ l@@ ength@@ ())) { c = search@@ St@@ r@@ .@@ char@@ A@@ t@@ (p@@ os@@ ); } int p@@ age@@ N@@ u@@ m = ((@@ p@@ age@@ Num@@ ber@@ St@@ r@@ .@@ l@@ ength@@ ()) == 0) ? 1 : java.lang.Integ@@ er.@@ value@@ Of@@ (p@@ age@@ Num@@ ber@@ St@@ r@@ .toString@@ ()); return p@@ age@@ Num@@ ; } }
public static long g@@ re@@ at@@ est@@ C@@ ommon@@ D@@ i@@ vi@@ s@@ or@@ (@@ long a@@ , long b@@ ) { while (@@ b != 0) { long c@@ a@@ s = (@@ a@@ ; } return a@@ ; }
public org.ovirt.engine.core.bll.ValidationResult can@@ Vnic@@ With@@ External@@ Network@@ Be@@ Plug@@ ged@@ () { return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.@@ P@@ LU@@ G@@ ED_@@ UN@@ L@@ IN@@ K@@ ED_@@ VM_@@ IN@@ TER@@ F@@ AC@@ E_@@ W@@ I@@ TH@@ _@@ EX@@ TER@@ N@@ AL@@ _@@ NETWORK_@@ IS@@ _NOT_@@ SUPPORT@@ ED@@ ).when@@ ((((@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Update@@ Vm@@ Interface@@ Command.@@ Re@@ qui@@ red@@ Action@@ .@@ P@@ LU@@ G@@ ) == (get@@ Re@@ qui@@ red@@ Action@@ ())) && (!(@@ nic@@ .is@@ Link@@ ed@@ ()))) && (@@ nic@@ .is@@ Link@@ ed@@ ()))) && (@@ nic@@ .is@@ Vnic@@ Attached@@ To@@ External@@ Network@@ ()))); }
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () { pre@@ par@@ e@@ Network@@ (command@@ No@@ Cluster@@ .get@@ Parameters().get@@ External@@ Network@@ ()); pre@@ par@@ e@@ Network@@ (command@@ Cluster@@ .get@@ Parameters().get@@ External@@ Network@@ ()); when(@@ back@@ end@@ .@@ run@@ Internal@@ Action@@ (@@ e@@ q@@ (@@ ActionType.@@ Add@@ Network@@ ), any@@ (), any@@ ())@@ ).@@ then@@ Return@@ (get@@ Add@@ Network@@ ReturnValu@@ e()); when(@@ network@@ Helper.@@ create@@ Vnic@@ Profil@@ e(@@ any@@ ())@@ ).@@ then@@ Return@@ (@@ new org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e()); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue return@@ Valu@@ e = new org.ovirt.engine.core.common.action.@@ Action@@ ReturnValu@@ e(); return@@ Valu@@ e.set@@ Succeeded@@ (@@ true@@ ); when@@ (@@ network@@ Helper.@@ add@@ Vnic@@ Profil@@ e(@@ any@@ (), any@@ Boolean@@ ())@@ ).@@ then@@ Return@@ (@@ return@@ Value@@ ); when(@@ network@@ Helper.@@ attach@@ Network@@ To@@ C@@ lust@@ ers@@ (@@ e@@ q@@ (@@ NETWORK_@@ ID@@ ), any@@ ())@@ ).@@ then@@ Return@@ (@@ return@@ Value@@ ); org.ovirt.engine.core.common.queries.@@ Query@@ ReturnValue query@@ ReturnValue = new org.ovirt.engine.core.common.queries.@@ Query@@ ReturnValu@@ e(); query@@ ReturnValu@@ e.set@@ Return@@ Value(@@ get@@ C@@ lust@@ ers@@ ()); query@@ ReturnValu@@ e.set@@ Succeeded@@ (@@ true@@ ); when@@ (@@ back@@ end@@ .@@ run@@ Internal@@ Query@@ (@@ e@@ q@@ (@@ Query@@ Type.Get@@ C@@ lust@@ ers@@ By@@ StoragePool@@ Id@@ ), any@@ (), any@@ ())@@ ).@@ thenReturn(@@ query@@ ReturnValue@@ ); }
private void ve@@ r@@ if@@ y@@ Call@@ s@@ (@@ boolean attach@@ To@@ All@@ C@@ lust@@ ers@@ ) { ve@@ r@@ if@@ y@@ (@@ back@@ end@@ ).@@ run@@ Internal@@ Action@@ (@@ e@@ q@@ (@@ ActionType.@@ Add@@ Network@@ ), any@@ (), any@@ ()); ve@@ r@@ if@@ y@@ (network@@ Hel@@ per@@ ).@@ create@@ Vnic@@ Profil@@ e(@@ any@@ ()); ve@@ r@@ if@@ y@@ (@@ network@@ Help@@ er network@@ Name@@ s = new org.@@ mock@@ it@@ o.@@ ve@@ r@@ if@@ ication@@ .@@ V@@ er@@ if@@ ication@@ Mod@@ e exp@@ ected@@ Num@@ ber@@ Of@@ Call@@ s = (@@ attach@@ To@@ All@@ C@@ lust@@ ers@@ ) ? tim@@ es(@@ 1@@ ) : ne@@ ver@@ (); ve@@ r@@ if@@ y@@ (@@ back@@ end@@ , exp@@ ected@@ Num@@ ber@@ Of@@ Call@@ s@@ ).@@ run@@ Internal@@ Query@@ (@@ e@@ q@@ (@@ e@@ q@@ (@@ Query@@ Type.Get@@ C@@ lust@@ ers@@ By@@ StoragePool@@ Id@@ ), any@@ (), any@@ ()); ve@@ r@@ if@@ y@@ (network@@ Hel@@ per@@ , exp@@ ected@@ Num@@ ber@@ Of@@ Call@@ s@@ ).@@ attach@@ Network@@ To@@ C@@ lust@@ ers@@ (@@ e@@ q@@ (@@ NETWORK_@@ ID@@ ), any@@ ()); }
public org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue add@@ Vnic@@ Profil@@ e(@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e v@@ nic@@ Profile@@ , boolean public@@ Use@@ ) { org.ovirt.engine.core.common.action.@@ Add@@ Vnic@@ Profile@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Add@@ Vnic@@ Profile@@ Parameters(@@ v@@ nic@@ Profil@@ e); parameters.set@@ P@@ ubl@@ ic@@ Use@@ (@@ public@@ Use@@ ); return back@@ end@@ .@@ run@@ Internal@@ Action@@ (@@ ActionType.@@ Add@@ Vnic@@ Profile@@ , parameters@@ ); }
public static boolean is@@ Memory@@ Disks@@ On@@ D@@ if@@ fer@@ ent@@ Domains@@ Support@@ ed(@@ org.ovirt.engine.core.compat.@@ Vers@@ ion version@@ ) { return org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .@@ support@@ ed@@ In@@ Config@@ (@@ ConfigValues.@@ Is@@ Memory@@ Snapshot@@ Supported@@ , version@@ ); }
public java.util.Map<java.lang.String, java.lang.String> build@@ () { if ((@@ (((@@ pool@@ Id) == null@@ ) || (@@ (@@ do@@ m@@ ain@@ Id) == null@@ )) || ((@@ image@@ Group@@ Id) == null@@ )) || ((@@ volume@@ Id) == null@@ )) { throw new java.lang.@@ I@@ ll@@ eg@@ al@@ Arg@@ um@@ ent@@ Exception@@ ("@@ On@@ e or m@@ or@@ e of the P@@ D@@ I@@ V ID@@ s is null@@ "); } java.util.Map<java.lang.String, java.lang.String> p@@ d@@ i@@ v@@ Map = new java.util.HashMap@@ <@@ >(); p@@ d@@ i@@ v@@ Map@@ .@@ put@@ ("@@ pool@@ ID@@ ", pool@@ Id@@ .toString@@ ()); p@@ d@@ i@@ v@@ Map@@ .@@ put(@@ "@@ do@@ m@@ ain@@ ID@@ ", do@@ m@@ ain@@ Id@@ .toString@@ ()); p@@ d@@ i@@ v@@ Map@@ .@@ put@@ ("@@ image@@ ID@@ ", image@@ Group@@ Id@@ .toString@@ ()); p@@ d@@ i@@ v@@ Map@@ .@@ put@@ ("@@ volume@@ ID@@ ", volume@@ Id@@ .toString@@ ()); return p@@ d@@ i@@ v@@ Map@@ ; }
private boolean sh@@ oul@@ d@@ Res@@ t@@ ore@@ Mem@@ or@@ () { return ((!@@ (@@ mem@@ ory@@ From@@ Snapshot@@ Us@@ ed@@ )) && ((get@@ F@@ low@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s.@@ RunVm@@ F@@ low@@ .@@ RE@@ S@@ U@@ M@@ E_@@ H@@ I@@ B@@ ER@@ N@@ AT@@ E@@ )) || (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .is@@ Memory@@ Snapshot@@ Supported@@ By@@ Ar@@ ch@@ it@@ ect@@ ur@@ e(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Cluster@@ Ar@@ ch@@ (), org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ CompatibilityVersion@@ ())@@ ))) && (@@ org.apache.commons.lang.StringUtils.@@ isEmpty@@ (org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Active@@ Snapshot@@ ().get@@ Memory@@ Volum@@ e()@@ ))) { return false@@ ; } if (org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Cluster@@ Ar@@ ch@@ ()) != null@@ ) { return failCanDoAction@@ (VdcBllMessages.@@ VM@@ _C@@ ANNOT_@@ RE@@ S@@ U@@ M@@ E_@@ H@@ I@@ B@@ ER@@ N@@ AT@@ E_@@ H@@ I@@ B@@ ER@@ N@@ AT@@ E@@ ); } return true@@ ; }
private void handl@@ e@@ Refresh@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ Respon@@ se(@@ org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ , org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue c@@ ap@@ s) { try { in@@ vo@@ ke@@ Get@@ H@@ ard@@ w@@ are@@ Info@@ (@@ vds@@ , c@@ ap@@ s); pro@@ cess@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ Respon@@ se@@ (@@ new java.util.@@ con@@ c@@ urr@@ ent.@@ at@@ om@@ ic@@ .@@ A@@ t@@ om@@ ic@@ Boolean@@ (), vds@@ , vd@@ s.@@ cl@@ on@@ e(), c@@ ap@@ s); } final@@ l@@ y { if (@@ vd@@ s != null@@ ) { update@@ Dynamic@@ Data@@ (@@ vds.get@@ Dynamic@@ Data@@ ()); update@@ Numa@@ Data@@ (@@ vds@@ ); m@@ onitor@@ ing@@ St@@ r@@ ate@@ g@@ y@@ .@@ pro@@ cess@@ H@@ ard@@ w@@ are@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ (@@ vds@@ ); res@@ ource@@ Manager@@ .get@@ Event@@ Listener@@ ().@@ handl@@ e@@ Vds@@ Version@@ (@@ vds.get@@ Id()); } } }
public void re@@ fresh@@ Host@@ Sync@@ (org.ovirt.engine.core.common.businessentities.@@ VDS vds@@ ) { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue c@@ ap@@ s = res@@ ource@@ Manager.@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ , new org.ovirt.engine.core.common.vdscommands.@@ Vds@@ Id@@ And@@ Vds@@ VDSCommand@@ Parameters@@ Bas@@ e(@@ vds@@ )); handl@@ e@@ Refresh@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ Respon@@ se(@@ vds@@ , c@@ ap@@ s); }
@java.lang.Override public void on@@ Respon@@ se(@@ java.util.Map<java.lang.String, java.lang.Object> respon@@ se@@ ) { try { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue c@@ ap@@ s = ((@@ org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue@@ ) (@@ respon@@ s@@ e.get@@ ("@@ result@@ "@@ ))); handl@@ e@@ Refresh@@ C@@ ap@@ ab@@ il@@ i@@ ties@@ Respon@@ se(@@ vds@@ , c@@ ap@@ s); } catch (@@ java.lang.@@ Th@@ row@@ able t@@ ) { on@@ Failur@@ e(@@ t@@ ); } }
@java.lang.Override public void on@@ Respon@@ se(@@ java.util.Map<java.lang.String, java.lang.Object> respon@@ se@@ ) { try { pro@@ cess@@ Refresh@@ Vds@@ Stat@@ s@@ Respon@@ se@@ (((@@ org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue@@ ) (@@ respon@@ s@@ e.get@@ ("@@ result@@ "@@ )@@ ))); } catch (@@ java.lang.@@ Th@@ row@@ able t@@ ) { on@@ Failur@@ e(@@ t@@ ); } }
public void set@@ Entity@@ List(@@ java.lang.String nam@@ e) { s@@ ourc@@ e.set@@ Nam@@ e(); }
public boolean is@@ S@@ ame@@ Source@@ Profil@@ e(@@ org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface v@@ nic@@ ) { return (@@ java.util.@@ Object@@ s.@@ equals(@@ get@@ Source@@ Network@@ Name(), v@@ nic@@ .get@@ Network@@ Name()@@ )) && (@@ java.util.@@ Object@@ s.@@ equals(@@ get@@ Source@@ Profile@@ Name(), v@@ nic@@ .get@@ Vnic@@ Profile@@ Name()@@ )); }
public java.lang.String get@@ Source@@ Profile@@ Name(@@ ) { return s@@ ourc@@ e.get@@ Nam@@ e(); }
@org.junit.Test public void test@@ F@@ in@@ d@@ Mapp@@ ing@@ E@@ n@@ try@@ () { org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface v@@ n@@ ic = new org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interfac@@ e(); v@@ nic@@ .set@@ Network@@ Name(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ F@@ in@@ d@@ Test.@@ NETWORK_@@ NAM@@ E); v@@ nic@@ .set@@ Vnic@@ Profile@@ Name(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ F@@ in@@ d@@ Test.@@ V@@ N@@ IC@@ _P@@ RO@@ FI@@ LE@@ 1@@ _@@ NAM@@ E@@ ) { final java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > act@@ u@@ al = un@@ der@@ Test.@@ fin@@ d@@ Mapp@@ ing@@ With@@ Match@@ ing@@ Source@@ Profile@@ (@@ v@@ n@@ ic@@ , ex@@ ternal@@ Vnic@@ Profile@@ Mapp@@ ing@@ s); assert@@ That@@ (@@ act@@ u@@ al@@ .get@@ (), s@@ ame@@ Instanc@@ e(@@ ex@@ ternal@@ Vnic@@ Profile@@ Mapp@@ ing@@ 1@@ )); }
public void set@@ Custom@@ Properties@@ (@@ final org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ Rng@@ Devic@@ e i@@ ) { this@@ .@@ i@@ o@@ s = i@@ o@@ ; }
@org.junit.Test public void test@@ F@@ in@@ d@@ Mapp@@ ing@@ E@@ n@@ try@@ Not@@ F@@ ound@@ () { org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface v@@ n@@ ic = new org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interfac@@ e(); v@@ nic@@ .set@@ Network@@ Name@@ ((@@ "@@ not@@ " + (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ F@@ in@@ d@@ Test.@@ NETWORK_@@ NAM@@ E@@ ))); v@@ nic@@ .set@@ Vnic@@ Profile@@ Name(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ F@@ in@@ d@@ Test.@@ V@@ N@@ IC@@ _P@@ RO@@ FI@@ LE@@ 2@@ _@@ NAM@@ E@@ , final java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > act@@ u@@ al = un@@ der@@ Test.@@ fin@@ d@@ Mapp@@ ing@@ With@@ Match@@ ing@@ Source@@ Profile@@ (@@ v@@ n@@ ic@@ , ex@@ ternal@@ Vnic@@ Profile@@ Mapp@@ ing@@ s); assert@@ That@@ (@@ act@@ u@@ al@@ , is@@ (@@ java.util.@@ Option@@ al.@@ em@@ pty@@ ())); }
public static void validate@@ Re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Mapp@@ ing@@ s(@@ org.ovirt.engine.api.restapi.resource.@@ Backend@@ Resourc@@ e b@@ r@@ , org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { if (!(@@ action.@@ isSet@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ())) { return@@ ; } if (!(@@ action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().is@@ Set@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ ())) { return@@ ; } org.ovirt.engine.api.model.@@ Re@@ g@@ ist@@ r@@ ation@@ Profile@@ Mapp@@ ing@@ s m@@ app@@ ing@@ s = action@@ .get@@ Re@@ g@@ ist@@ r@@ ation@@ Configuration@@ ().get@@ Vnic@@ Profile@@ Mapp@@ ing@@ s(); b@@ r@@ .@@ validate@@ Parameters(@@ m@@ app@@ ing@@ s, "@@ re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Profile@@ Mapp@@ ing@@ s@@ "); for (@@ org.ovirt.engine.api.model.@@ Re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Profile@@ Mapp@@ ing m@@ app@@ ing : m@@ app@@ ing@@ s.get@@ Re@@ g@@ ist@@ r@@ ation@@ Vnic@@ Profile@@ Mapp@@ ing@@ s()) { org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vnic@@ Profile@@ Helper.@@ validate@@ Source@@ Vnic@@ Profile@@ (@@ b@@ r@@ , m@@ app@@ ing@@ ); org.ovirt.engine.api.restapi.resource.@@ Backend@@ Vnic@@ Profile@@ Helper.@@ validate@@ T@@ arget@@ Vnic@@ Profil@@ e(@@ m@@ app@@ ing@@ ); }
@org.junit.Test public void test@@ F@@ in@@ d@@ Mapp@@ ing@@ E@@ n@@ try@@ Empty@@ In@@ put@@ () { org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface v@@ n@@ ic = new org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interfac@@ e(); v@@ nic@@ .set@@ Network@@ Name(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ F@@ in@@ d@@ Test.@@ NETWORK_@@ NAM@@ E); v@@ nic@@ .set@@ Vnic@@ Profile@@ Name(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ F@@ in@@ d@@ Test.@@ V@@ N@@ IC@@ _P@@ RO@@ FI@@ LE@@ 1@@ _@@ NAM@@ E); final java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > act@@ u@@ al = un@@ der@@ Test.@@ fin@@ d@@ Mapp@@ ing@@ With@@ Match@@ ing@@ Source@@ Profile@@ (@@ v@@ n@@ ic@@ , java.util.Collections.@@ em@@ pty@@ List@@ ()); assert@@ That@@ (@@ act@@ u@@ al@@ , is@@ (@@ java.util.@@ Option@@ al.@@ em@@ pty@@ ())); }
public org.ovirt.engine.core.compat.Guid get@@ T@@ arget@@ Profile@@ Id@@ () { return target@@ .getId@@ ; }
@org.junit.Test public void test@@ F@@ in@@ d@@ Mapp@@ ing@@ E@@ n@@ try@@ Empty@@ Source@@ Vnic@@ Profil@@ e() { org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface v@@ n@@ ic = new org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interfac@@ e(); v@@ nic@@ .set@@ Network@@ Name@@ (@@ null@@ ); v@@ nic@@ .set@@ Vnic@@ Profile@@ Name@@ (@@ null@@ ); final java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profile@@ Mapp@@ ing@@ > act@@ u@@ al = un@@ der@@ Test.@@ fin@@ d@@ Mapp@@ ing@@ With@@ Match@@ ing@@ Source@@ Profile@@ (@@ v@@ n@@ ic@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ em@@ pty@@ Source@@ Mapp@@ ing@@ )); assert@@ That@@ (@@ act@@ u@@ al@@ .get@@ (), s@@ ame@@ Instanc@@ e(@@ em@@ pty@@ Source@@ Mapp@@ ing@@ )); }
@org.junit.Test public void test@@ F@@ in@@ d@@ Mapp@@ ing@@ E@@ n@@ try@@ Empty@@ External@@ () { org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interface v@@ n@@ ic = new org.ovirt.engine.core.common.businessentities.network.@@ VmNetwork@@ Interfac@@ e(); v@@ nic@@ .set@@ Network@@ Name(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ F@@ in@@ d@@ Test.@@ NETWORK_@@ NAM@@ E); v@@ nic@@ .set@@ Vnic@@ Profile@@ Name(@@ org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ F@@ in@@ d@@ Test.@@ V@@ N@@ IC@@ _P@@ RO@@ FI@@ LE@@ 1@@ _@@ NAM@@ E); final java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing@@ > act@@ u@@ al = un@@ der@@ Test.@@ fin@@ d@@ Mapp@@ ing@@ With@@ Match@@ ing@@ Source@@ Profile@@ (@@ v@@ n@@ ic@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ em@@ pty@@ Source@@ Mapp@@ ing@@ )); assert@@ Fal@@ se(@@ act@@ u@@ al.@@ is@@ P@@ resent@@ ()); }
private void update@@ Vnic@@ From@@ Mapp@@ ing@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface v@@ nic@@ , org.ovirt.engine.core.common.businessentities.network.@@ External@@ Vnic@@ Profile@@ Mapp@@ ing m@@ app@@ ing@@ ) { if ((@@ m@@ app@@ ing@@ .get@@ T@@ arget@@ Profile@@ Id@@ ()) != null@@ ) { update@@ Vnic@@ Us@@ ing@@ Profile@@ Id(@@ v@@ nic@@ , m@@ app@@ ing@@ .get@@ T@@ arget@@ Profile@@ Id()); } else { update@@ Vnic@@ Set@@ No@@ Profil@@ e(@@ v@@ nic@@ ); } }
public java.lang.String get@@ Source@@ Network@@ Name(@@ ) { return get@@ Source@@ Network@@ ().get@@ Nam@@ e(); }
public void set@@ T@@ arget@@ Profile@@ Id(@@ org.ovirt.engine.core.compat.Guid v@@ nic@@ Profile@@ Id) { t@@ arg@@ e@@ t = v@@ nic@@ Profile@@ Id@@ ; }
@java.lang.Override public void eventRaised(org.ovirt.engine.ui.uicompat.@@ Event@@ <@@ ? extends org.ovirt.engine.ui.uicompat.EventArg@@ s> ev, java.lang.Object sender, org.ovirt.engine.ui.uicompat.EventArg@@ s args) { super@@ .@@ eventRais@@ ed(@@ ev, sender, arg@@ s); if ((@@ ev@@ .@@ mat@@ ch@@ es@@ De@@ fin@@ ition@@ (@@ ListModel@@ .@@ selected@@ Item@@ Changed@@ Event@@ De@@ fin@@ ition@@ )) && (s@@ end@@ er == (get@@ DataCenter@@ ()))) { dataCenter@@ _@@ SelectedItem@@ Changed@@ (); } else if ((@@ ev@@ .@@ mat@@ ch@@ es@@ De@@ fin@@ ition@@ (@@ ListModel@@ .@@ selected@@ Item@@ Changed@@ Event@@ De@@ fin@@ ition@@ )) && (s@@ end@@ er == (get@@ Cluster@@ ()))) { cluster@@ _@@ SelectedItem@@ Changed@@ (); } else if (s@@ end@@ er == (get@@ Console@@ Address@@ Enabled@@ ())) { con@@ s@@ ole@@ Address@@ Changed@@ (); } else if ((@@ ev@@ .@@ mat@@ ch@@ es@@ De@@ fin@@ ition@@ (@@ H@@ as@@ Entity@@ .@@ entity@@ Changed@@ Event@@ De@@ fin@@ ition@@ )) && (((@@ s@@ end@@ er == (get@@ K@@ er@@ n@@ el@@ C@@ md@@ lin@@ e@@ B@@ l@@ ack@@ list@@ No@@ u@@ ve@@ a@@ u@@ )) || (s@@ end@@ er == (get@@ K@@ er@@ n@@ el@@ C@@ md@@ lin@@ e@@ I@@ omm@@ u@@ ()))) || (s@@ end@@ er == (get@@ K@@ er@@ n@@ el@@ C@@ md@@ lin@@ e@@ K@@ vm@@ N@@ est@@ ed@@ ()))) || (s@@ end@@ er == (get@@ K@@ er@@ n@@ el@@ C@@ md@@ lin@@ e@@ Un@@ s@@ afe@@ Inter@@ r@@ up@@ t@@ s@@ ()))) || (s@@ end@@ er == (get@@ K@@ er@@ n@@ el@@ C@@ md@@ lin@@ e@@ P@@ c@@ i@@ Re@@ al@@ loc@@ ())@@ ))) { if (is@@ K@@ er@@ n@@ el@@ C@@ md@@ lin@@ e@@ Par@@ s@@ abl@@ e()) { update@@ K@@ er@@ n@@ el@@ C@@ md@@ lin@@ e@@ Ac@@ cor@@ d@@ ing@@ To@@ Check@@ b@@ o@@ x@@ es@@ (); } }
public void set@@ C@@ ach@@ e@@ Siz@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <java.lang.String@@ > c@@ ach@@ e@@ Siz@@ e) { this@@ .@@ c@@ ach@@ e@@ Siz@@ e = c@@ ach@@ e@@ Size@@ ; }
public org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type@@ > get@@ C@@ ach@@ e@@ Device@@ Path@@ () { return c@@ ach@@ e@@ Device@@ Path@@ ; }
public void set@@ C@@ ach@@ e@@ Siz@@ e(@@ java.lang.String c@@ ach@@ e@@ Siz@@ e) { this@@ .@@ c@@ ach@@ e@@ Siz@@ e = c@@ ach@@ e@@ Size@@ ; }
@java.lang.Override protected void execute@@ Command() { try { run@@ An@@ si@@ bl@@ e@@ L@@ vm@@ C@@ ach@@ e@@ P@@ l@@ ay@@ b@@ ook@@ (); } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ log.error@@ ("@@ E@@ r@@ ro@@ r while p@@ r@@ ro@@ r is@@ : {}@@ ", e.get@@ Message@@ ()); org.ovirt.engine.core.bll.@@ Iso@@ Domain@@ List@@ Sync@@ ron@@ iz@@ er.@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); throw e@@ ; } }
@org.junit.Test public void validate@@ Fail@@ s@@ For@@ No@@ Storage@@ Devic@@ e() { do@@ Return@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.@@ Create@@ Brick@@ Parameters(@@ HOST@@ _@@ ID@@ , "@@ brick@@ 1@@ ", "@@ /@@ gluster@@ -@@ brick@@ s@@ /@@ brick@@ 1@@ ", org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type.@@ R@@ AI@@ D@@ 0@@ , null@@ , java.util.Collections.@@ em@@ pty@@ List@@ (), org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type.@@ sd@@ d@@ , org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ M@@ ode@@ Type.@@ w@@ rit@@ et@@ h@@ rou@@ g@@ h@@ , "@@ 1@@ 0@@ "@@ )).@@ when@@ (c@@ md@@ ).get@@ Parameters@@ (); pre@@ par@@ e@@ Mock@@ s(@@ VDS@@ Status.@@ Up@@ ); assert@@ Fal@@ se(@@ cmd@@ .@@ valid@@ at@@ e()); }
@org.junit.Test public void validate@@ Succeed@@ s() { do@@ Return@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.@@ Create@@ Brick@@ Parameters(@@ HOST@@ _@@ ID@@ , "@@ brick@@ 1@@ ", "@@ /@@ gluster@@ -@@ brick@@ s@@ /@@ brick@@ 1@@ ", org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type.@@ R@@ AI@@ D@@ 0@@ , null@@ , java.util.Collections.@@ sing@@ leton@@ List@@ (get@@ Storage@@ Devic@@ e(@@ "@@ sd@@ a@@ "@@ ))); org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type.@@ sd@@ a@@ , org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ M@@ ode@@ Type.@@ w@@ rit@@ et@@ h@@ rou@@ g@@ h@@ , "@@ 1@@ 0@@ "@@ )).@@ when@@ (c@@ md@@ ).get@@ Parameters@@ (); pre@@ par@@ e@@ Mock@@ s(@@ VDS@@ Status.@@ Up@@ ); assert@@ Tr@@ ue(@@ cmd@@ .@@ valid@@ at@@ e()); }
public org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e get@@ C@@ ach@@ e@@ Device@@ Path@@ () { return c@@ ach@@ e@@ Device@@ Path@@ ; }
public java.lang.String get@@ C@@ ach@@ e@@ Siz@@ e() { return c@@ ach@@ e@@ Size@@ ; }
public void set@@ C@@ ach@@ e@@ Device@@ Path@@ (@@ org.ovirt.engine.ui.uicommonweb.models.@@ ListModel@@ <org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type@@ > c@@ ach@@ e@@ Device@@ Path@@ ) { this@@ .@@ c@@ ach@@ e@@ Device@@ Path@@ Type = c@@ ach@@ e@@ Device@@ Path@@ Type@@ List@@ ; }
public org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <java.lang.String@@ > get@@ C@@ ach@@ e@@ Siz@@ e() { return c@@ ach@@ e@@ Size@@ ; }
private void init@@ List@@ B@@ o@@ x@@ Editor@@ s() { r@@ a@@ id@@ Type@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Enum@@ R@@ ender@@ er@@ <org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type@@ >@@ ()); c@@ ach@@ e@@ Device@@ Path@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Enum@@ R@@ ender@@ er@@ <org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type@@ >@@ ()); c@@ ach@@ e@@ M@@ ode@@ Edit@@ or = new org.ovirt.engine.ui.common.widget.@@ edit@@ or.@@ ListModel@@ List@@ B@@ o@@ x@@ Editor@@ (@@ new org.ovirt.engine.ui.common.widget.@@ r@@ ender@@ er.@@ Enum@@ R@@ ender@@ er@@ <org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ M@@ ode@@ Type@@ >@@ ()); }
@org.junit.Test public void validate@@ Fail@@ s@@ For@@ D@@ if@@ fer@@ ent@@ Storage@@ Devic@@ e() { org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Devic@@ e storage@@ Device@@ 1 = get@@ Storage@@ Devic@@ e(@@ "@@ sd@@ a@@ "); org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Devic@@ e storage@@ Device@@ 2 = get@@ Storage@@ Devic@@ e(@@ "@@ s@@ db@@ "); storage@@ Device@@ 2@@ .set@@ De@@ v@@ Type(@@ "@@ S@@ DA@@ "); do@@ Return@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.@@ Create@@ Brick@@ Parameters(@@ HOST@@ _@@ ID@@ , "@@ brick@@ 1@@ ", "@@ /@@ gluster@@ -@@ brick@@ s@@ /@@ brick@@ 1@@ ", org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type.@@ R@@ AI@@ D@@ 0@@ , null@@ , java.util.Arrays.as@@ List(@@ storage@@ Device@@ 1, storage@@ Device@@ 2@@ ), org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type.@@ s@@ db@@ , org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ M@@ ode@@ Type.@@ w@@ rit@@ et@@ h@@ rou@@ g@@ h@@ , "@@ 1@@ 0@@ "@@ )).@@ when@@ (c@@ md@@ ).get@@ Parameters@@ (); pre@@ par@@ e@@ Mock@@ s(@@ VDS@@ Status.@@ Up@@ ); assert@@ Fal@@ se(@@ cmd@@ .@@ valid@@ at@@ e()); }
@org.junit.Test public void validate@@ Fail@@ s@@ For@@ Device@@ Al@@ read@@ y@@ In@@ Us@@ e() { org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Storage@@ Devic@@ e storage@@ Devic@@ e = get@@ Storage@@ Devic@@ e(@@ "@@ sd@@ a@@ "); storage@@ Devic@@ e.set@@ Can@@ Create@@ Brick@@ (@@ false@@ ); do@@ Return@@ (@@ new org.ovirt.engine.core.common.action.@@ gluster.@@ Create@@ Brick@@ Parameters(@@ HOST@@ _@@ ID@@ , "@@ brick@@ 1@@ ", "@@ /@@ gluster@@ -@@ brick@@ s@@ /@@ brick@@ 1@@ ", org.ovirt.engine.core.common.businessentities.@@ Ra@@ id@@ Type.@@ R@@ AI@@ D@@ 0@@ , null@@ , java.util.Collections.@@ sing@@ leton@@ List(@@ storage@@ Device@@ ), org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type.@@ sd@@ a@@ , org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ M@@ ode@@ Type.@@ w@@ rit@@ et@@ h@@ rou@@ g@@ h@@ , "@@ 1@@ 0@@ "@@ )).@@ when@@ (c@@ md@@ ).get@@ Parameters@@ (); pre@@ par@@ e@@ Mock@@ s(@@ VDS@@ Status.@@ Up@@ ); assert@@ Fal@@ se(@@ cmd@@ .@@ valid@@ at@@ e()); }
public void set@@ C@@ ach@@ e@@ Device@@ Path@@ (org.ovirt.engine.core.common.businessentities.@@ C@@ ach@@ e@@ Device@@ Path@@ Type c@@ ach@@ e@@ Device@@ Path@@ ) { this@@ .@@ c@@ ach@@ e@@ Device@@ P@@ at@@ h = c@@ ach@@ e@@ Device@@ Path@@ ; }
@org.junit.Test public void test@@ Execut@@ e@@ Query@@ Command() { org.ovirt.engine.core.common.queries.@@ Get@@ DiskImage@@ By@@ Disk@@ And@@ Image@@ Id@@ s@@ Parameters param@@ s = get@@ Query@@ Parameters@@ (); when(@@ param@@ s.get@@ Disk@@ Id@@ ()).@@ thenReturn(@@ disk@@ Id); when(@@ param@@ s.get@@ Image@@ Id@@ ()).@@ thenReturn(@@ image@@ Id); when(@@ disk@@ Image@@ Dao@@ .get@@ DiskImage@@ By@@ Disk@@ And@@ Image@@ Id@@ s(@@ disk@@ Id, image@@ Id@@ )).@@ thenReturn(@@ disk@@ Image@@ ); org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Get@@ DiskImage@@ By@@ Disk@@ And@@ Image@@ Id@@ s@@ Query@@ <@@ org.ovirt.engine.core.common.queries.@@ Get@@ DiskImage@@ By@@ Disk@@ And@@ Image@@ Id@@ s@@ Parameters@@ > quer@@ y = get@@ Query@@ (); query@@ .@@ execute@@ Query@@ Command@@ (); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage return@@ DiskImage = query@@ .get@@ Query@@ ReturnValue().get@@ ReturnValu@@ e(); assert@@ Tr@@ ue@@ (@@ return@@ Disk@@ Im@@ age.@@ equals(@@ disk@@ Image@@ )); }
@java.lang.Override public org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage get@@ DiskImage@@ By@@ Disk@@ And@@ Image@@ Id@@ s(@@ org.ovirt.engine.core.compat.Guid disk@@ Id, org.ovirt.engine.core.compat.Guid image@@ Id) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ disk@@ _id", disk@@ Id@@ ).addValue("@@ image@@ _id", image@@ Id); return getCall@@ sHandler().execute@@ Read@@ ("@@ Get@@ DiskImage@@ By@@ Disk@@ And@@ Image@@ Id@@ s", org.ovirt.engine.core.dao.@@ DiskImage@@ Dao@@ Impl.@@ DiskImage@@ Row@@ Mapper.@@ instance@@ , parameter@@ Source@@ ); }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Get@@ DiskImage@@ By@@ Disk@@ And@@ Image@@ Id@@ s@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ disk@@ Image@@ Dao@@ .get@@ DiskImage@@ By@@ Disk@@ And@@ Image@@ Id@@ s(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Get@@ DiskImage@@ By@@ Disk@@ And@@ Image@@ Id@@ s@@ Query.get@@ Parameters().get@@ Disk@@ Id(), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Get@@ DiskImage@@ By@@ Disk@@ And@@ Image@@ Id@@ s@@ Query.get@@ Parameters().get@@ Image@@ Id@@ ())); }
@java.lang.Override protected boolean validate(@@ ) { if (!@@ (@@ super@@ .@@ valid@@ at@@ e())) { return false@@ ; } if (!@@ (get@@ Gluster@@ Volum@@ e().get@@ Volume@@ Typ@@ e().@@ is@@ Re@@ pl@@ ic@@ ated@@ Typ@@ e())) { add@@ Validation@@ Message@@ (EngineMessage.@@ ACTION_TYPE_@@ NOT_@@ SUPPORT@@ ED_@@ F@@ OR@@ _@@ V@@ O@@ LU@@ M@@ E_@@ TYP@@ E); return false@@ ; } if (!@@ (get@@ Gluster@@ Volum@@ e().@@ is@@ On@@ lin@@ e())) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ IS@@ _@@ DO@@ W@@ N@@ ); return false@@ ; } if ((@@ (get@@ Gluster@@ Volum@@ e().get@@ AsyncTask@@ ()) != null@@ ) && ((@@ (get@@ Gluster@@ Volum@@ e().get@@ AsyncTask@@ ().get@@ Status()) == (org.ovirt.engine.core.common.@@ job@@ .@@ Job@@ Execution@@ Status.@@ START@@ ED@@ )) || ((@@ (get@@ Gluster@@ Volum@@ e().get@@ AsyncTask@@ ().get@@ Type()) == (org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ gluster.Gluster@@ Task@@ Type.@@ RE@@ M@@ OV@@ E_@@ B@@ R@@ IC@@ K@@ )) && ((get@@ Gluster@@ Volum@@ e().get@@ AsyncTask@@ ().get@@ Status()) == (org.ovirt.engine.core.common.@@ job@@ .@@ Job@@ Execution@@ Status.@@ F@@ IN@@ IS@@ H@@ ED@@ )@@ )))) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ H@@ A@@ S_@@ R@@ UN@@ N@@ ING@@ _@@ T@@ A@@ S@@ K@@ S@@ ); return false@@ ; } if ((get@@ Parameters().get@@ Existing@@ Brick@@ ()) == null@@ ) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ B@@ R@@ IC@@ K@@ S_@@ RE@@ Q@@ U@@ I@@ R@@ ED); return false@@ ; } if (!(@@ is@@ Valid@@ Volume@@ Brick@@ (get@@ Parameters().get@@ Existing@@ Brick@@ ()))) { add@@ Validation@@ Message@@ (EngineMessage.ACTION_TYPE_FAILED_@@ NOT_@@ A@@ _@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ B@@ R@@ IC@@ K@@ ); return false@@ ; } return true@@ ; }
private org.ovirt.engine.core.common.businessentities.@@ C@@ luster get@@ Cluster@@ () { org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = new org.ovirt.engine.core.common.businessentities.@@ Cluster@@ (); c@@ luster.@@ set@@ Id@@ (cluster@@ Id); c@@ luster.@@ set@@ Vir@@ t@@ Service@@ (@@ false@@ ); c@@ luster.@@ set@@ Gluster@@ Service@@ (@@ true@@ ); return cluster@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue return@@ Valu@@ e = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Res@@ et@@ GlusterVolume@@ Brick@@ , new org.ovirt.engine.core.common.vdscommands.@@ gluster.@@ Res@@ et@@ GlusterVolume@@ Brick@@ Action@@ VDS@@ Parameters(@@ up@@ Server@@ .get@@ Id(), get@@ GlusterVolume@@ Name(), get@@ Parameters().get@@ Existing@@ Brick@@ ().get@@ Qu@@ al@@ if@@ i@@ ed@@ Name()@@ )); set@@ Succeeded@@ (@@ return@@ Valu@@ e.get@@ Succeeded@@ ()); if (get@@ Succeeded@@ ()) { gluster@@ Brick@@ Dao@@ .@@ res@@ et@@ Brick@@ (get@@ Parameters().get@@ Existing@@ Brick@@ ()); } else { handl@@ e@@ Vds@@ Error@@ (@@ AuditLogType.@@ GLUSTER_@@ V@@ O@@ LU@@ M@@ E_@@ RE@@ SE@@ T_@@ B@@ R@@ IC@@ K_@@ FAIL@@ ED@@ , return@@ Valu@@ e.get@@ Vds@@ Error@@ ().get@@ Message@@ ()); return@@ ; } }
@org.junit.@@ B@@ e@@ for@@ e public void pre@@ par@@ e@@ Mock@@ s() { do@@ Return@@ (get@@ Vds@@ (@@ VDS@@ Status.@@ Up@@ )).@@ when@@ (c@@ md@@ ).get@@ Up@@ Server@@ (); do@@ Return@@ (get@@ D@@ ist@@ rib@@ ut@@ ed@@ Volum@@ e(@@ volume@@ Id@@ 1@@ )).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ volume@@ Id@@ 1@@ ); do@@ Return@@ (get@@ D@@ ist@@ rib@@ ut@@ ed@@ Volum@@ e(@@ volume@@ Id@@ 2@@ )).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ volume@@ Id@@ 2@@ ); do@@ Return@@ (get@@ Re@@ pl@@ ic@@ ated@@ Volum@@ e(@@ volume@@ Id@@ 3@@ , 2@@ )).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ volume@@ Id@@ 3@@ ); do@@ Return@@ (get@@ Re@@ pl@@ ic@@ ated@@ Volum@@ e(@@ volume@@ Id@@ 4@@ , 4@@ )).@@ when(@@ volume@@ Dao@@ ).get@@ By@@ Id(@@ volume@@ Id@@ 4@@ ); do@@ Return@@ (get@@ Vds@@ Static@@ ()).@@ when(@@ vds@@ Static@@ Dao@@ ).get@@ (@@ server@@ Id); do@@ Return@@ (get@@ Cluster@@ ()).@@ when@@ (c@@ md@@ ).get@@ Cluster@@ (); }
@java.lang.Override protected void execute@@ Vds@@ Broker@@ Command() { stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Res@@ et@@ GlusterVolume@@ Brick@@ s@@ VDS@@ Command.get@@ Broker@@ ().@@ gluster@@ Volume@@ Res@@ et@@ Brick@@ Start@@ (@@ org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Res@@ et@@ GlusterVolume@@ Brick@@ s@@ VDS@@ Command.getParameters().get@@ Volume@@ Name(), org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Res@@ et@@ GlusterVolume@@ Brick@@ s@@ VDS@@ Command.getParameters().get@@ Existing@@ Brick@@ D@@ ir@@ ()); stat@@ u@@ s = org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Res@@ et@@ GlusterVolume@@ Brick@@ s@@ VDS@@ Command.get@@ Broker@@ ().@@ gluster@@ Volume@@ Res@@ et@@ Brick@@ s@@ C@@ omm@@ it@@ For@@ c@@ e(@@ org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Res@@ et@@ GlusterVolume@@ Brick@@ s@@ VDS@@ Command.getParameters().get@@ Volume@@ Name(), org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Res@@ et@@ GlusterVolume@@ Brick@@ s@@ VDS@@ Command.getParameters().get@@ Existing@@ Brick@@ D@@ ir@@ ()); org.ovirt.engine.core.vdsbroker.@@ gluster.@@ Res@@ et@@ GlusterVolume@@ Brick@@ s@@ VDS@@ Command.@@ pro@@ ceed@@ Proxy@@ ReturnValu@@ e(); }
@java.lang.Override public void test@@ Connection@@ () { try { get@@ Client@@ ().execute@@ (@@ new com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ b@@ as@@ e.cl@@ i@@ ent.@@ Op@@ en@@ St@@ ack@@ Request@@ (get@@ Client@@ (), com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ b@@ as@@ e.cl@@ i@@ ent.@@ H@@ ttp@@ Method@@ .@@ G@@ ET@@ , "@@ ", null@@ , org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ op@@ en@@ st@@ ack@@ .@@ Base@@ Network@@ Provider@@ Proxy@@ .@@ Ap@@ i@@ R@@ oot@@ Respon@@ se@@ .@@ class@@ )); } catch (c@@ om@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ b@@ as@@ e.cl@@ i@@ ent.@@ Op@@ en@@ St@@ ack@@ Respon@@ se@@ Exception e) { org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ op@@ en@@ st@@ ack@@ .@@ Base@@ Network@@ Provider@@ Proxy@@ .@@ log.error@@ ("@@ {@@ } (@@ Op@@ en@@ St@@ ack respon@@ se er@@ ro@@ r c@@ ode@@ : {}@@ )@@ ", e.get@@ Message@@ (), e.get@@ Status@@ ()); org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ op@@ en@@ st@@ ack@@ .@@ Base@@ Network@@ Provider@@ Proxy@@ .@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ op@@ en@@ st@@ ack@@ .@@ Base@@ Network@@ Provider@@ Proxy@@ .@@ log.error@@ ("@@ {@@ } ", e.get@@ Message@@ (), ((@@ e.get@@ C@@ a@@ us@@ e()) == null ? null : e.get@@ C@@ a@@ us@@ e().get@@ Message@@ ())); throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e); } }
@org.junit.Test public void can@@ Copy@@ Disk@@ Fail@@ s() { org.ovirt.engine.core.common.businessentities.@@ StorageDomain do@@ ma@@ in = create@@ StorageDomain@@ For@@ Disk@@ (@@ StorageType.@@ IS@@ C@@ SI@@ ); do@@ m@@ ain@@ .set@@ Storage@@ Format@@ (@@ Storage@@ Format@@ Type.@@ V@@ 3@@ ); disk@@ .set@@ Siz@@ e(@@ 1@@ 00@@ 0@@ ); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage ch@@ il@@ d = org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator@@ Test.@@ create@@ DiskImage@@ (); ch@@ il@@ d@@ .set@@ Siz@@ e(@@ 1@@ 00@@ 0@@ ); ch@@ il@@ d@@ .set@@ Storage@@ Id@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (@@ do@@ m@@ ain@@ .getId@@ ())); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage par@@ ent = org.ovirt.engine.core.bll.validator.@@ storage.@@ Disk@@ Validator@@ Test.@@ create@@ DiskImage@@ (); par@@ ent.@@ set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); par@@ ent.@@ set@@ Siz@@ e(@@ 5@@ 00@@ ); par@@ ent.@@ set@@ Storage@@ Id@@ s(@@ java.util.Collections.@@ sing@@ leton@@ List@@ (@@ do@@ m@@ ain@@ .getId@@ ())); ch@@ il@@ d@@ .set@@ Parent@@ Id(@@ par@@ ent.@@ get@@ Parent@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ Image@@ s = new java.util.ArrayList<@@ >@@ (@@ 2@@ ); disk@@ Im@@ ages.@@ add(@@ parent@@ ); disk@@ Im@@ ages.@@ add(@@ ch@@ il@@ d@@ ); when(@@ valid@@ ator@@ .get@@ DiskImage@@ Dao().get@@ All@@ Snapshots@@ For@@ Image@@ Group@@ (disk@@ .getId@@ ())@@ ).@@ thenReturn(@@ disk@@ Images@@ ); assert@@ That@@ (@@ valid@@ ator@@ .@@ ch@@ il@@ d@@ Disk@@ W@@ as@@ Ex@@ tend@@ ed@@ (@@ do@@ m@@ ain@@ ), org.ovirt.engine.core.bll.validator.@@ ValidationRes@@ ult@@ Match@@ er@@ s.@@ fail@@ sWith@@ (EngineMessage.@@ C@@ AN@@ NO@@ T@@ _M@@ OV@@ E_@@ DIS@@ K_@@ S@@ NA@@ P@@ S@@ HO@@ T@@ S@@ )); }
private boolean disk@@ Cont@@ ain@@ s@@ Pre@@ Ex@@ tend@@ Snapshot@@ s() { return validate(@@ create@@ Disk@@ Validator@@ (get@@ Image@@ (), get@@ Image@@ (), get@@ Image@@ (), get@@ Image@@ (), get@@ Image@@ Group@@ ID@@ (), get@@ Image@@ Template@@ Id@@ ())); }
@java.lang.Override public void add@@ M@@ en@@ u@@ Item@@ (@@ int in@@ dex@@ , java.lang.String l@@ abel@@ , java.lang.String h@@ re@@ f@@ , java.lang.String pri@@ mar@@ y@@ M@@ en@@ u@@ Id, java.lang.String ic@@ on@@ C@@ s@@ Name@@ ) { if (@@ pri@@ mar@@ y@@ M@@ en@@ u@@ Id != null@@ ) { add@@ Sec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ Item@@ (@@ in@@ dex@@ , l@@ abel@@ , h@@ re@@ f@@ , pri@@ mar@@ y@@ M@@ en@@ u@@ Id); } else { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ List@@ Group@@ I@@ t@@ e@@ m new@@ M@@ en@@ u@@ I@@ t@@ e@@ m = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ List@@ Group@@ Item@@ (); org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ An@@ ch@@ or m@@ en@@ u@@ An@@ ch@@ or = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ An@@ ch@@ or@@ (@@ has@@ h@@ if@@ y@@ String@@ (@@ h@@ re@@ f@@ )); if (@@ in@@ de@@ x < 0) { in@@ de@@ x = 0@@ ; } org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Sp@@ an ic@@ on@@ Sp@@ an = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ ht@@ ml.@@ Sp@@ an@@ (); if (@@ ic@@ on@@ C@@ s@@ Name != null@@ ) { ic@@ on@@ Sp@@ an@@ .@@ add@@ Sty@@ le@@ Name(@@ d@@ et@@ er@@ min@@ e@@ C@@ s@@ I@@ con@@ Bas@@ e(@@ ic@@ on@@ C@@ s@@ Name@@ )); ic@@ on@@ Sp@@ an@@ .@@ add@@ Sty@@ le@@ Name(@@ ic@@ on@@ C@@ s@@ Name@@ ); new@@ M@@ en@@ u@@ Item@@ .@@ add@@ Sty@@ le@@ Name(@@ ic@@ on@@ C@@ s@@ Name@@ ); new@@ M@@ en@@ u@@ Item@@ .@@ add@@ Sty@@ le@@ Name(@@ Sty@@ l@@ es.@@ AC@@ TI@@ V@@ E); } m@@ en@@ u@@ An@@ ch@@ or.@@ add@@ (@@ ic@@ on@@ Sp@@ an@@ ); org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Sp@@ an l@@ abel@@ Sp@@ an = new org.@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Sp@@ an@@ (); l@@ abel@@ Sp@@ an@@ .set@@ Text@@ (@@ l@@ abel@@ ); l@@ abel@@ ); l@@ abel@@ Sp@@ an@@ .@@ add@@ Sty@@ le@@ Name(@@ st@@ y@@ y@@ y@@ y@@ y@@ l@@ es.@@ L@@ IST@@ _@@ G@@ RO@@ UP@@ _@@ VAL@@ U@@ E@@ E@@ E@@ E@@ )); m@@ en@@ u@@ An@@ ch@@ or.@@ add(@@ l@@ abel@@ Sp@@ an@@ ); new@@ M@@ en@@ u@@ Item@@ .@@ add(@@ l@@ abel@@ Sp@@ an@@ ); }
public java.util.List<java.lang.String> get@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ Id@@ s() { return pri@@ mar@@ y@@ M@@ en@@ u@@ Id@@ s@@ ; }
private void add@@ Sec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ Item@@ (@@ int in@@ dex@@ , java.lang.String l@@ abel@@ , java.lang.String h@@ re@@ f@@ , java.lang.String pri@@ mar@@ y@@ M@@ en@@ u@@ Id) { int pri@@ mar@@ y@@ M@@ en@@ u@@ In@@ de@@ x = pri@@ mar@@ y@@ M@@ en@@ u@@ Id@@ s.@@ in@@ dex@@ Of@@ (@@ pri@@ mar@@ y@@ M@@ en@@ u@@ Id); if ((@@ pri@@ mar@@ y@@ M@@ en@@ u@@ In@@ de@@ x > (@@ -@@ 1@@ )) && (@@ pri@@ mar@@ y@@ M@@ en@@ u@@ In@@ de@@ x < (@@ m@@ en@@ u@@ List@@ Group@@ .get@@ Widget@@ Count@@ ()))) { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ List@@ Group@@ I@@ t@@ e@@ m pri@@ mar@@ y@@ M@@ en@@ u@@ I@@ t@@ e@@ m = ((@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ List@@ Group@@ Item@@ ) (@@ m@@ en@@ u@@ List@@ Group@@ .get@@ Widget@@ (@@ pri@@ mar@@ y@@ M@@ en@@ u@@ In@@ dex@@ ))); com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Pan@@ e@@ l s@@ ec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ F@@ low@@ Pan@@ e@@ l = null@@ ; if ((@@ pri@@ mar@@ y@@ M@@ en@@ u@@ Item@@ .get@@ Widget@@ Count@@ ()) > 2@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t w@@ id@@ g@@ e@@ t = pri@@ mar@@ y@@ M@@ en@@ u@@ Item@@ .get@@ Widget@@ (@@ 2@@ ); if (@@ w@@ id@@ g@@ e@@ t instanceof com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ ) { s@@ ec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ F@@ low@@ Pan@@ e@@ l = ((@@ com.google.gwt.@@ user.@@ client.@@ ui.@@ F@@ low@@ Panel@@ ) (@@ widget@@ )); } else { s@@ ec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ F@@ low@@ Pan@@ e@@ l = create@@ Sec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ H@@ ead@@ er@@ (@@ pri@@ mar@@ y@@ M@@ en@@ u@@ Item@@ ); pri@@ mar@@ y@@ M@@ en@@ u@@ Item@@ .@@ add@@ Sty@@ le@@ Name(@@ P@@ at@@ ter@@ n@@ f@@ ly@@ Sty@@ l@@ es.@@ SE@@ CON@@ D@@ AR@@ Y_@@ NA@@ V@@ _@@ I@@ T@@ EM@@ ); for (@@ int i = 0@@ ; i < (@@ mar@@ y@@ M@@ en@@ u@@ Item@@ .get@@ Widget@@ Count@@ ()); i@@ +@@ ) { com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t w@@ id@@ g@@ e@@ t = pri@@ mar@@ y@@ M@@ en@@ u@@ Item@@ .get@@ Widget@@ (@@ i@@ ); if ((@@ s@@ ec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ Item@@ .get@@ Widget@@ Count@@ ()) instanceof org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ An@@ ch@@ or@@ ) { ((@@ An@@ ch@@ or = ((@@ An@@ ch@@ or@@ ) (@@ null@@ ) (@@ ch@@ or@@ ))); } }
void add@@ M@@ en@@ u@@ Item@@ (@@ int in@@ dex@@ , java.lang.String l@@ abel@@ , java.lang.String h@@ re@@ f@@ , java.lang.String pri@@ mar@@ y@@ M@@ en@@ u@@ Id, java.lang.String ic@@ on@@ C@@ s@@ Name@@ );
public void add@@ Cont@@ ent@@ Vi@@ e@@ w get@@ M@@ en@@ u@@ (@@ int pri@@ or@@ ity@@ , java.lang.String cont@@ ent@@ U@@ r@@ l@@ , java.lang.String pri@@ mar@@ y@@ M@@ en@@ u@@ Id, java.lang.String ic@@ on@@ C@@ s@@ Name, int pri@@ or@@ ity@@ , boolean default@@ P@@ l@@ ac@@ e) { m@@ en@@ u@@ P@@ res@@ enter@@ Widget@@ .@@ add@@ M@@ en@@ u@@ Item@@ (@@ pri@@ or@@ ity@@ , l@@ abel@@ , h@@ ist@@ ory@@ To@@ ke@@ n@@ , pri@@ mar@@ y@@ M@@ en@@ u@@ Id, ic@@ on@@ C@@ s@@ Name@@ ); d@@ ynam@@ ic@@ U@@ r@@ l@@ Cont@@ ent@@ Proxy@@ Fac@@ t@@ ory@@ .@@ c@@ re@@ ate(@@ h@@ ist@@ ory@@ To@@ k@@ en@@ , cont@@ ent@@ U@@ r@@ l@@ ); pl@@ ace@@ Manager.@@ set@@ Default@@ P@@ l@@ ac@@ e(@@ h@@ ist@@ ory@@ To@@ k@@ en@@ ); }
java.util.List<java.lang.String> get@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ Id@@ s();
public void add@@ Sec@@ ond@@ ar@@ y@@ M@@ en@@ u@@ (java.lang.String l@@ abel@@ , java.lang.String h@@ ist@@ ory@@ To@@ k@@ en@@ , java.lang.String cont@@ ent@@ U@@ r@@ l@@ , java.lang.String pri@@ mar@@ y@@ M@@ en@@ u@@ Id, org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ api.@@ Tab@@ Option@@ s o@@ ption@@ s) { add@@ Cont@@ ent@@ View@@ (@@ l@@ abel@@ , h@@ ist@@ ory@@ To@@ k@@ en@@ , cont@@ ent@@ U@@ r@@ l@@ , pri@@ mar@@ y@@ M@@ en@@ u@@ Id, o@@ ption@@ s.get@@ I@@ con@@ (), o@@ ption@@ s.get@@ P@@ ri@@ or@@ ity@@ ()@@ .@@ int@@ Valu@@ e(), o@@ ption@@ s.get@@ Default@@ P@@ l@@ ac@@ e()@@ .@@ boolean@@ Valu@@ e()); }
public void add@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ (java.lang.String l@@ abel@@ , java.lang.String h@@ ist@@ ory@@ To@@ k@@ en@@ , java.lang.String cont@@ ent@@ U@@ r@@ l@@ , org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ api.@@ Tab@@ Option@@ s o@@ ption@@ s) { add@@ Cont@@ ent@@ Vi@@ e@@ w h@@ ist@@ ory@@ To@@ k@@ en@@ , cont@@ ent@@ U@@ r@@ l@@ , o@@ ption@@ s.get@@ I@@ con@@ (), o@@ ption@@ s.get@@ P@@ ri@@ or@@ ity@@ (), o@@ ption@@ s.get@@ Default@@ P@@ l@@ ac@@ e()@@ .@@ boolean@@ Valu@@ e()); }
public java.lang.String@@ [@@ ] list@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ Id@@ s() { java.util.List<java.lang.String> id@@ s = m@@ en@@ u@@ P@@ res@@ enter@@ Widget@@ .get@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ Id@@ s(); return id@@ s.@@ to@@ Array@@ (@@ new java.lang.String@@ [@@ id@@ s.@@ siz@@ e()@@ ]@@ ); }
public java.util.List<java.lang.String> get@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ Id@@ s() { return get@@ View@@ ().get@@ P@@ ri@@ mar@@ y@@ M@@ en@@ u@@ Id@@ s(); }
public void add@@ M@@ en@@ u@@ Item@@ (@@ int in@@ dex@@ , java.lang.String l@@ abel@@ , java.lang.String h@@ ist@@ ory@@ To@@ ke@@ n@@ , java.lang.String pri@@ mar@@ y@@ M@@ en@@ u@@ Id, java.lang.String ic@@ on@@ C@@ s@@ Name@@ ) { get@@ View@@ ().add@@ M@@ en@@ u@@ Item@@ (@@ in@@ dex@@ , l@@ abel@@ , h@@ ist@@ ory@@ To@@ ke@@ n@@ , pri@@ mar@@ y@@ M@@ en@@ u@@ Id, ic@@ on@@ C@@ s@@ Name@@ ); }
@java.lang.Override public void updat@@ e(@@ org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation entity@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Re@@ qui@@ red@@ , -@@ > { super@@ .@@ updat@@ e(@@ entity@@ ); remove@@ Name@@ Server@@ sBy@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Id(@@ entity.get@@ Id()); s@@ ave@@ Name@@ Server@@ sBy@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Id(@@ entity.get@@ Id(), entity.get@@ Name@@ Server@@ s()); }
@java.lang.Override public void remov@@ e(@@ org.ovirt.engine.core.compat.Guid id@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Re@@ qui@@ red@@ , new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Re@@ qui@@ red@@ , new org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Method@@ <@@ java.lang.@@ V@@ o@@ id@@ >() { @java.lang.Override public java.lang.@@ V@@ o@@ id run@@ In@@ Transaction@@ () { remove@@ Name@@ Server@@ sBy@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Id(@@ id@@ ); super@@ .@@ remov@@ e(@@ id@@ ); } }); }
@java.lang.Override public void s@@ av@@ e(@@ org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation entity@@ ) { org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ S@@ c@@ op@@ e(@@ Transaction@@ S@@ c@@ op@@ e@@ Option@@ .@@ Re@@ qui@@ red@@ , new -@@ >@@ (@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); super@@ .@@ s@@ av@@ e(@@ entity@@ ); s@@ ave@@ Name@@ Server@@ sBy@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Id(@@ entity.get@@ Id(), entity.get@@ Name@@ Server@@ s()); }
@java.lang.Override protected void w@@ rit@@ e@@ File@@ For@@ Lun@@ Disk@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Lun@@ Disk lun@@ ) { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ id@@ ", lun@@ .get@@ Id().@@ toString@@ ()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ h@@ re@@ f@@ ", org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Par@@ s@@ er.@@ create@@ Lun@@ Fil@@ e(@@ lun@@ )); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ disk@@ _@@ storage_@@ type@@ ", lun@@ .get@@ Disk@@ Storage@@ Typ@@ e().@@ nam@@ e()); }
@java.lang.Override protected void w@@ rit@@ e@@ H@@ ead@@ er@@ () { super@@ .@@ w@@ rit@@ e@@ H@@ ead@@ er@@ (); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ version@@ ", org.ovirt.engine.core.common.@@ config.@@ Config.@@ get@@ Value(ConfigValues.@@ Vdc@@ Version@@ )); }
protected void w@@ rit@@ e@@ H@@ ead@@ er@@ () { _@@ instance@@ Id = 0@@ ; _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ D@@ oc@@ um@@ ent@@ (@@ false@@ ); _@@ w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ R@@ A@@ S@@ D@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ R@@ A@@ S@@ D@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ V@@ SS@@ D@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ V@@ SS@@ D@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ e@@ H@@ ead@@ er@@ With@@ En@@ v@@ el@@ op@@ e(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.utils.@@ o@@
protected void w@@ rit@@ e@@ H@@ ead@@ er@@ With@@ En@@ v@@ el@@ op@@ e() { _@@ w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ UR@@ I@@ , "@@ En@@ v@@ el@@ op@@ e@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ R@@ A@@ S@@ D@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ R@@ A@@ S@@ D@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ V@@ SS@@ D@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ V@@ SS@@ D@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _@@ UR@@ I@@ ); }
@java.lang.Override protected void st@@ art@@ Vir@@ tu@@ al@@ System@@ () { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ Cont@@ ent@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ id@@ ", "@@ out@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _@@ UR@@ I@@ , "@@ type@@ ", ((@@ OV@@ F@@ _P@@ RE@@ FI@@ X@@ ) + "@@ :@@ Vir@@ tu@@ al@@ System@@ Type@@ ")); }
@java.lang.Override protected void w@@ rit@@ e@@ Fil@@ e(@@ org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage image@@ ) { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ h@@ re@@ f@@ ", org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Par@@ s@@ er.@@ create@@ Image@@ Fil@@ e(@@ image@@ )); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ id@@ ", im@@ age.get@@ Image@@ Id().@@ toString@@ ()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ s@@ ize@@ ", java.lang.String.@@ value@@ Of@@ (@@ im@@ age.get@@ Ac@@ tu@@ al@@ Size@@ In@@ By@@ t@@ es@@ ())); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ d@@ escription@@ ", org.apache.commons.lang.@@ String@@ Util@@ s@@ .@@ default@@ String@@ (@@ im@@ age.get@@ Description@@ ())); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ R@@ T_@@ UR@@ I@@ R@@ T_@@ O@@ F@@ _@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ _@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ R@@ T_@@ UR@@ C@@ E_@@ FAIL@@ ED); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ R@@ T_@@ UR@@ I@@ R@@ T_@@ UR@@ I@@ R@@ T_@@ UR@@ C@@ E@@ , "@@ c@@ inder@@ _@@ volume@@ _@@ type@@ ", org.apache.commons.lang.@@ String@@ Util@@ s@@ .@@ default@@ String@@ (@@ im@@ age.get@@ Cinder@@ Volume@@ Typ@@ e())); }
@java.lang.Override protected void w@@ rit@@ e@@ O@@ S@@ () { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ S@@ ection@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ id@@ ", vm@@ Base.get@@ Id().@@ toString@@ ()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ re@@ qui@@ red@@ ", "@@ false@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ _@@ UR@@ I@@ , "@@ type@@ ", ((@@ OV@@ F@@ _P@@ RE@@ FI@@ X@@ ) + "@@ :@@ O@@ per@@ at@@ ing@@ System@@ S@@ ection@@ _@@ Type@@ ")); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ Info@@ ", O@@ per@@ at@@ ing S@@ yst@@ e@@ m _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ Description@@ ", os@@ Rep@@ os@@ it@@ ory@@ .get@@ Un@@ i@@ qu@@ e@@ Os@@ Names@@ ().get@@ (vm@@ Base.get@@ Os@@ Id@@ ())); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); }
@java.lang.Override protected void w@@ rit@@ e@@ H@@ ead@@ er@@ With@@ En@@ v@@ el@@ op@@ e() { _@@ w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ En@@ v@@ el@@ op@@ e@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ R@@ A@@ S@@ D@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ R@@ A@@ S@@ D@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ V@@ SS@@ D@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ V@@ SS@@ D@@ _@@ UR@@ I@@ ); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ _@@ UR@@ I@@ ); }
private void w@@ rit@@ e@@ Disk@@ Parent@@ Re@@ f@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage image@@ ) { if (@@ im@@ age.get@@ Parent@@ Id().@@ equals(@@ Guid@@ .@@ Empty@@ )) { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ parent@@ Re@@ f@@ ", "@@ "); } else { int i = 0@@ ; while (@@ _@@ im@@ ages@@ .get(@@ i@@ ).get@@ Image@@ Id().@@ equals(@@ im@@ age.get@@ Parent@@ Id@@ ())) { i@@ +@@ +@@ ; } java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > re@@ s = _@@ im@@ ages.@@ sub@@ List(@@ i@@ , ((@@ _@@ im@@ ages.@@ size()) - 1@@ )); if ((@@ r@@ es.@@ size()) > 0) { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ parent@@ Re@@ f@@ ", org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Par@@ s@@ er.@@ create@@ Image@@ Fil@@ e(@@ res@@ .get@@ (0@@ ))); } else { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ OV@@ I@@ R@@ T_@@ UR@@ I@@ R@@ T_@@ UR@@ I@@ R@@ T_@@ UR@@ I@@ , "@@ parent@@ Re@@ f@@ ", "@@ "); } }
@java.lang.Override protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> get@@ Sh@@ ared@@ Lock@@ s() { if (is@@ Copy@@ Operation@@ ()) { if (!(@@ Guid@@ .@@ Empty@@ .equals(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getVm@@ Template@@ Id@@ ()))) { return java.util.Collections.@@ sing@@ leton@@ Map@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getVm@@ Template@@ Id().@@ toString@@ (), org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ T@@ EM@@ PL@@ AT@@ E@@ , get@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Message@@ ())); } else { if ((get@@ Image@@ ().get@@ Cont@@ ent@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ Cont@@ ent@@ Type.@@ IS@@ O@@ )) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > vm@@ Id@@ s = vm@@ Static@@ Dao@@ .get@@ All@@ Id@@ sWith@@ Sp@@ e@@ c@@ if@@ ic@@ Iso@@ Attached@@ (get@@ Image@@ ().get@@ Id()); if (!(@@ vm@@ Id@@ s.@@ isEmpty())) { return vm@@ Id@@ s.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ ( p@@ ) -@@ > p@@ .toString@@ (), ("@@ $@@ p@@ ) -@@ > org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VM@@ , get@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Message@@ ()))); } } else { java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ >> vm@@ s@@ For@@ Disk = get@@ Vms@@ With@@ VmDevice@@ Info@@ For@@ Disk@@ Id@@ (); if (!(@@ vm@@ s@@ For@@ Disk@@ .@@ isEmpty())) { return vm@@ s@@ For@@ Disk@@ .@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ ( p@@ ) -@@ > p@@ .get@@ F@@ ir@@ st@@ ().get@@ Id().@@ toString@@ (), ("@@ $@@ p@@ ) -@@ > org.ovirt.engine.core.bll.@@ Lock@@ Messages@@ Match@@ Uti@@ l.@@ ma@@ ke@@ Lock@@ ing@@ Pair@@ (@@ Lock@@ ing@@ Group@@ .@@ VM@@ , get@@ Disk@@ Is@@ Be@@ ing@@ Migr@@ ated@@ Message@@ ()))); } } return null@@ ; }
public org.ovirt.engine.core.bll.ValidationResult is@@ Iso@@ Disk@@ Attached@@ To@@ An@@ y@@ Non@@ Down@@ Vm@@ () { java.util.List<java.lang.String> vm@@ Name@@ s = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vm@@ Static@@ Dao().get@@ All@@ Run@@ ning@@ Names@@ With@@ Sp@@ e@@ c@@ if@@ ic@@ Iso@@ Attach@@ ed(@@ disk@@ .getId()); if (!(@@ vm@@ Nam@@ es.@@ isEmpty())) { return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ ER@@ R@@ OR@@ _@@ IS@@ O@@ _@@ DIS@@ K_@@ AT@@ T@@ AC@@ H@@ ED_@@ T@@ O@@ _@@ R@@ UN@@ N@@ ING@@ _@@ VM@@ S@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Disk@@ Validator.@@ DIS@@ K_@@ NAM@@ E_@@ VAR@@ I@@ AB@@ LE@@ , disk@@ .get@@ Disk@@ Alias@@ ()), org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ validator.@@ storage.@@ Disk@@ Validator.@@ VM_@@ L@@ IST@@ , vm@@ Names@@ )); } return org.ovirt.engine.core.bll.ValidationResult.@@ VALID@@ ; }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.bll.@@ aaa.@@ Get@@ An@@ y@@ Db@@ User@@ By@@ User@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ db@@ User@@ Dao@@ .get@@ An@@ y@@ User@@ By@@ Id@@ (org.ovirt.engine.core.bll.@@ aaa.@@ Get@@ An@@ y@@ User@@ By@@ User@@ Id@@ Query.get@@ Parameters().get@@ Id@@ ())); }
@java.lang.Override protected void execute@@ Query@@ Command() { org.ovirt.engine.core.common.queries.@@ Query@@ ReturnValue return@@ Valu@@ e = org.ovirt.engine.core.bll.@@ Backend@@ .getInstance().@@ run@@ Internal@@ Query@@ (@@ Query@@ Type.Get@@ Auth@@ z@@ Group@@ sBy@@ User@@ Id, org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Parameters@@ ()); java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ aaa.@@ Auth@@ z@@ Group@@ > auth@@ z@@ Group@@ s = return@@ Valu@@ e.get@@ ReturnValu@@ e(); java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > group@@ s@@ Id@@ s = auth@@ z@@ Group@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ ("@@ f@@ ro@@ m g@@ ) -@@ > db@@ Group@@ Dao@@ .get@@ By@@ External@@ Id(@@ g.@@ get@@ Auth@@ z@@ (), g.@@ get@@ Id@@ ())@@ ).@@ filter@@ (@@ java.util.@@ Object@@ s@@ :@@ n@@ on@@ Null@@ ).@@ map@@ (@@ ( g@@ ) -@@ > g.@@ get@@ Id@@ ()).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Return@@ Value(@@ per@@ mission@@ Dao@@ .get@@ AllFor@@ Ad@@ Element@@ And@@ Group@@ s(@@ org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Parameters().get@@ Id(), org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ User@@ ID@@ (), group@@ s@@ Id@@ s, org.ovirt.engine.core.bll.@@ Get@@ Permission@@ s@@ On@@ Be@@ h@@ al@@ f@@ By@@ Ad@@ Element@@ Id@@ Query.get@@ Parameters@@ ().is@@ Filter@@ ed@@ ())); }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ > get@@ AllFor@@ Ad@@ Element@@ And@@ Group@@ s(@@ org.ovirt.engine.core.compat.Guid id@@ , java.util.Collection@@ <org.ovirt.engine.core.compat.Guid@@ > group@@ Id@@ s, boolean is@@ Filter@@ ed@@ ) { int app@@ Mod@@ e = org.ovirt.engine.core.common.@@ config.@@ Config.@@ <@@ java.lang.Integer@@ >@@ get@@ Value(ConfigValues.@@ Application@@ M@@ ode@@ ); org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ ad@@ _@@ el@@ ement@@ _id", id@@ ).@@ add@@ Value(@@ "@@ user@@ _id", current@@ User@@ Id@@ ).@@ add@@ Value@@ ("@@ user@@ _@@ group@@ s", create@@ Array@@ Of@@ ("@@ u@@ uid@@ ", group@@ Id@@ s.@@ to@@ Array@@ ())@@ ).addValue("@@ is@@ _@@ filter@@ ed@@ ", is@@ Filter@@ ed@@ ).addValue("@@ app@@ _@@ m@@ ode@@ ", app@@ M@@ ode@@ ); return getCall@@ sHandler().execute@@ Read@@ List@@ ("@@ Get@@ Permission@@ sBy@@ Ad@@ Element@@ Id@@ And@@ Group@@ Id@@ s", org.ovirt.engine.core.dao.@@ Permission@@ Dao@@ Impl.@@ per@@ mission@@ Row@@ Map@@ per@@ , parameter@@ Source@@ ); }
java.util.List<org.ovirt.engine.core.common.businessentities.@@ Permission@@ > get@@ AllFor@@ Ad@@ Element@@ And@@ Group@@ s(@@ org.ovirt.engine.core.compat.Guid id@@ , java.util.Collection@@ <org.ovirt.engine.core.compat.Guid@@ > group@@ Id@@ s, boolean is@@ Filter@@ ed@@ );
@java.lang.Override public void de@@ al@@ loc@@ ate(@@ org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic nic@@ ) { try { com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .@@ model.@@ P@@ or@@ t p@@ or@@ t = loc@@ ate@@ Port@@ (@@ nic@@ ); if (p@@ or@@ t != null@@ ) { get@@ Client@@ ().@@ port@@ s().@@ d@@ elet@@ e(@@ p@@ or@@ t.get@@ Id@@ ()).@@ execut@@ e(); } } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e.get@@ Message@@ ()); } }
@java.lang.Override public java.util.Map<java.lang.String, java.lang.String> al@@ loc@@ ate(@@ org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ , org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e v@@ nic@@ Profile@@ , org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic nic@@ , org.ovirt.engine.core.common.businessentities.@@ VDS host@@ , boolean ign@@ ore@@ Sec@@ ur@@ ity@@ Group@@ s@@ On@@ Update@@ ) { try { com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .@@ model.@@ P@@ or@@ t p@@ or@@ t = loc@@ ate@@ Port@@ (@@ nic@@ ); java.util.List<java.lang.String> s@@ ec@@ ur@@ ity@@ Group@@ s = get@@ Sec@@ ur@@ ity@@ Group@@ s(@@ v@@ nic@@ Profil@@ e); java.lang.String host@@ Id = get@@ Host@@ Id(@@ host@@ ); if (p@@ or@@ t == null@@ ) { com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ model.@@ Network ex@@ ternal@@ Network = get@@ External@@ Network@@ (network@@ .get@@ Provi@@ d@@ ed@@ By@@ ()); com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ model.@@ P@@ or@@ t port@@ For@@ Cre@@ at@@ e = create@@ New@@ Port@@ For@@ Al@@ loc@@ ate(@@ nic@@ , s@@ ec@@ ur@@ ity@@ Group@@ s, host@@ Id, ex@@ ternal@@ Network@@ ); p@@ or@@ t = get@@ Client@@ ().@@ port@@ s().@@ c@@ re@@ ate(@@ port@@ For@@ Create@@ ).@@ execut@@ e(); } else { boolean s@@ ec@@ ur@@ ity@@ Group@@ s@@ Chang@@ ed = (!@@ ign@@ ore@@ Sec@@ ur@@ ity@@ Group@@ s@@ On@@ Update@@ ) && (s@@ ec@@ ur@@ ity@@ Group@@ s@@ Chang@@ ed(@@ p@@ or@@ t.get@@ Sec@@ ur@@ ity@@ Group@@ s@@ (), s@@ ec@@ ur@@ ity@@ Group@@ s@@ )); boolean host@@ Chang@@ ed = host@@ Chang@@ ed(@@ port@@ , host@@ Id); update@@ Port@@ (@@ port@@ , s@@ ec@@ ur@@ ity@@ Group@@ s@@ Changed@@ , host@@ Changed@@ , s@@ ec@@ ur@@ ity@@ Group@@ s, host@@ Id, nic@@ ); } java.util.Map<java.lang.String, java.lang.String> run@@ Proper@@ ti@@ es = create@@ Port@@ Al@@ loc@@ ation@@ Run@@ time@@ Properties@@ (@@ port@@ ); return run@@ time@@ Properties@@ ; } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , true@@ ); }
@java.lang.Override protected void execute@@ Command() { if ((get@@ Parameters().get@@ Refresh@@ ()) || (get@@ Session@@ Data@@ Cont@@ ain@@ er@@ ().is@@ S@@ s@@ o@@ O@@ vi@@ r@@ t@@ Ap@@ p@@ Ap@@ i@@ S@@ c@@ op@@ e(@@ get@@ Parameters().get@@ Session@@ Id@@ ()))) { get@@ Session@@ Data@@ Cont@@ ain@@ er@@ ().@@ update@@ Session@@ L@@ ast@@ Active@@ Tim@@ e(@@ get@@ Parameters().get@@ Session@@ Id()); } if (@@ validate@@ Permission@@ s()) { if (@@ validate@@ In@@ put@@ s()) { long st@@ ar@@ t = java.lang.@@ System@@ .@@ current@@ Time@@ M@@ il@@ lis@@ (); try { return@@ Valu@@ e.set@@ Succeeded@@ (@@ true@@ ); execute@@ Query@@ Command@@ (); } catch (@@ java.lang.@@ Run@@ time@@ Exception ex@@ ) { return@@ Valu@@ e.set@@ Succeeded@@ (@@ false@@ ); java.lang.@@ Th@@ row@@ able t@@ h = (@@ e@@ x instanceof org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ ) ? e@@ x : ex@@ .get@@ C@@ a@@ us@@ e(); if (@@ t@@ h instanceof org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ ) { org.ovirt.engine.core.common.errors.@@ Engine@@ Exception v@@ dc@@ Ex@@ c = ((@@ org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ ) (@@ th@@ )); if (@@ v@@ dc@@ Ex@@ c@@ .get@@ Error@@ Cod@@ e()) != null@@ ) && (!(@@ v@@ dc@@ Ex@@ c@@ .is@@ Use@@ R@@ oot@@ C@@ a@@ us@@ e()@@ ))) { return@@ Valu@@ e.set@@ Exception@@ String@@ (@@ v@@ dc@@ Ex@@ c@@ .get@@ Error@@ Cod@@ e().@@ toString@@ ()); } else { return@@ Valu@@ e.set@@ Exception@@ String@@ (@@ v@@ dc@@ Ex@@ c@@ .get@@ Error@@ Cod@@ e().@@ toString@@ ()); } else { return@@ Valu@@ e.set@@ Exception@@ String@@ (@@ v@@ dc@@ Ex@@ c@@ .is@@ Use@@ R@@ oot@@ C@@ a@@ us@@ e() ? org.apache.commons.lang.@@ ex@@ ce@@ ption@@ .@@ Exception@@ Util@@ s.get@@ R@@ oot@@ C@@ a@@ us@@ e@@ Message@@ (@@ v@@ dc@@ Ex@@ c@@ )) : v@@ dc@@ Ex@@ c@@ .get@@ Message@@ ())); } log.error@@ ("@@ C@@ ommand '{}@@ ' fail@@ ed@@ : {}@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name(), v@@ dc@@ Ex@@ c@@ .is@@ Use@@ R@@ oot@@ C@@ a@@ us@@ e() ? org.apache.commons.lang.@@ ex@@ ce@@ ption@@ .@@ Exception@@ Util@@ s.get@@ R@@ oot@@ C@@ a@@ us@@ e@@ Message@@ (@@ v@@ dc@@ Ex@@ c@@ ) : v@@ dc@@ Ex@@ c@@ .get@@ Message@@ ())); log.error@@ ("@@ Exception@@ ", v@@ dc@@ Ex@@ c@@ ); } else { return@@ Valu@@ e.set@@ Exception@@ String@@ (@@ ex@@ .get@@ Message@@ ()); log.error@@ ("@@ C@@ ommand '{}@@ ' fail@@ ed@@ : {}@@ ", get@@ Class@@ ().get@@ S@@ im@@ ple@@ Name(), ex@@ .get@@ Message@@ ()); log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } final@@ l@@ y { log.@@ d@@ ebug@@ ("@@ Exception@@ ", ex@@ ); } }
@java.lang.Override public void add@@ Sub@@ net@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ External@@ Sub@@ ne@@ t sub@@ net@@ ) { com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .@@ model.@@ Network ex@@ ternal@@ Network = get@@ External@@ Network@@ (s@@ u@@ b@@ net@@ .get@@ External@@ Network@@ ()); com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .@@ model.@@ Sub@@ ne@@ t sub@@ net@@ For@@ Cre@@ at@@ e = create@@ New@@ Sub@@ net@@ Entity@@ (s@@ u@@ b@@ net@@ , ex@@ ternal@@ Network@@ ); try { get@@ Client@@ ().@@ sub@@ net@@ s().@@ c@@ re@@ ate(@@ sub@@ net@@ For@@ Create@@ ).@@ execut@@ e(); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , true@@ ); }
@java.lang.Override public void remov@@ e(@@ java.lang.String id@@ ) { try { get@@ Client@@ ().@@ network@@ s().@@ d@@ elet@@ e(@@ id@@ ).@@ execut@@ e(); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e.get@@ Message@@ ()); } }
@java.lang.Override public void remove@@ Sub@@ net@@ (java.lang.String id@@ ) { try { get@@ Client@@ ().@@ sub@@ net@@ s().@@ d@@ elet@@ e(@@ id@@ ).@@ execut@@ e(); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e); } }
@java.lang.Override public java.lang.String add@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network network@@ ) { com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .@@ model.@@ Network network@@ For@@ Cre@@ at@@ e = create@@ New@@ Network@@ Entity(@@ network@@ ); try { com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .@@ model.@@ Network c@@ re@@ ated@@ Network = get@@ Client@@ ().@@ network@@ s().@@ c@@ re@@ ate(@@ network@@ For@@ Create@@ ).@@ execut@@ e(); return c@@ re@@ ated@@ Network@@ .getId@@ (); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e); } }
@java.lang.Override public void test@@ Connection@@ () { try { get@@ Client@@ ().execute@@ (@@ new com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ b@@ as@@ e.cl@@ i@@ ent.@@ Op@@ en@@ St@@ ack@@ Request@@ (get@@ Client@@ (), com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ b@@ as@@ e.cl@@ i@@ ent.@@ H@@ ttp@@ Method@@ .@@ G@@ ET@@ , "@@ ", null@@ , org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ op@@ en@@ st@@ ack@@ .@@ Base@@ Network@@ Provider@@ Proxy@@ .@@ Ap@@ i@@ R@@ oot@@ Respon@@ se@@ .@@ class@@ )); } catch (c@@ om@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ b@@ as@@ e.cl@@ i@@ ent.@@ Op@@ en@@ St@@ ack@@ Respon@@ se@@ Exception e) { org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ op@@ en@@ st@@ ack@@ .@@ Base@@ Network@@ Provider@@ Proxy@@ .@@ log.error@@ ("@@ {@@ } (@@ Op@@ en@@ St@@ ack respon@@ se er@@ ro@@ r c@@ ode@@ : {}@@ )@@ ", e.get@@ Message@@ (), e.get@@ Status@@ ()); org.ovirt.engine.core.bll.@@ p@@ rovider.@@ network.@@ op@@ en@@ st@@ ack@@ .@@ Base@@ Network@@ Provider@@ Proxy@@ .@@ log.@@ d@@ ebug@@ ("@@ Exception@@ ", e); throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e.get@@ Message@@ ()); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e.get@@ Message@@ ()); } }
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > get@@ All@@ () { try { com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .@@ model.@@ Network@@ s network@@ s = get@@ Client@@ ().@@ network@@ s().@@ list@@ ().@@ execut@@ e(); return map@@ (network@@ s.get@@ List@@ ()); } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , true@@ ); } }
private void remove@@ Memory@@ From@@ Active@@ Snapshot@@ () { org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Active@@ Snapshot@@ ().@@ contain@@ s@@ Mem@@ or@@ y@@ (); return@@ ; }
private java.util.Collection@@ <org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > get@@ Snapshots@@ To@@ Be@@ Export@@ ed@@ With@@ Memory@@ () { if (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Export@@ Vm@@ Command.getParameters().get@@ Copy@@ C@@ oll@@ ap@@ s@@ e()) { org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t acti@@ ve@@ S@@ napsho@@ t = snapshot@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Export@@ VmCommand.getVm@@ Id(), Snapshot@@ Type.@@ AC@@ TI@@ V@@ E); return acti@@ ve@@ Snapshot@@ ; }
private void c@@ opy@@ All@@ Memory@@ Images@@ (org.ovirt.engine.core.compat.Guid contain@@ er@@ ID@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t : snapshot@@ sWith@@ Memory@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage d@@ um@@ p@@ Image@@ Group = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ Dao@@ .@@ g@@ e@@ t@@ (s@@ napshot@@ )); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue v@@ dc@@ R@@ et@@ Valu@@ e = run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (@@ ActionType.@@ Copy@@ Image@@ Group@@ , build@@ Move@@ Or@@ Copy@@ Image@@ Group@@ Parameters@@ For@@ Memory@@ D@@ um@@ p@@ Image@@ (@@ contain@@ er@@ ID@@ , d@@ um@@ p@@ Image@@ )); if (!(@@ v@@ dc@@ R@@ et@@ Valu@@ e.get@@ Succeeded@@ ())) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (@@ v@@ dc@@ R@@ et@@ Valu@@ e.get@@ F@@ a@@ ult@@ ().get@@ Error@@ (), d@@ ur@@ ing Export@@ Vm@@ C@@ ommand } org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Export@@ Vm@@ Command.get@@ Task@@ Id@@ List@@ ().add@@ All@@ (@@ v@@ dc@@ R@@ et@@ Valu@@ e.get@@ Vds@@ m@@ Task@@ Id@@ List@@ ()); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage con@@ f@@ Image = ((org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ ) (disk@@ D@@ a@@ o@@ .get@@ (@@ s@@ napsho@@ t.get@@ Met@@ ad@@ ata@@ Disk@@ Id@@ ()))); v@@ dc@@ R@@ et@@ Valu@@ e = run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (@@ ActionType.@@ Copy@@ Image@@ Group@@ , build@@ Move@@ Or@@ Copy@@ Image@@ Group@@ Parameters(@@ contain@@ er@@ ID@@ , con@@ f@@ Image@@ )); if (!(@@ v@@ dc@@ R@@ et@@ Valu@@ e.get@@ Succeeded@@ ())) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (@@ v@@ dc@@ R@@ et@@ Valu@@ e.get@@ F@@ a@@ ult@@ ().get@@ Error@@ (), d@@ ur@@ ing Export@@ Vm@@ C@@ ommand } org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Export@@ Vm@@ Command.get@@ Task@@ Id@@ List@@ ().add@@ All@@ (@@ v@@ dc@@ R@@ et@@ Valu@@ e.get@@ Vds@@ m@@ Task@@ Id@@ List@@ ()); } }
private void rest@@ ore@@ Configuration@@ (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t target@@ Snapshot@@ ) { remov@@ ed@@ S@@ napsho@@ t = snapshot@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getVm@@ Id(), Snapshot@@ Type.@@ AC@@ TI@@ V@@ E); snapshot@@ sTo@@ Remov@@ e.@@ add(@@ remov@@ ed@@ S@@ napsho@@ t.get@@ Id()); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.get@@ Snapshots@@ Manager@@ ().@@ remove@@ All@@ I@@ ll@@ eg@@ al@@ Disk@@ s(@@ remov@@ ed@@ S@@ napsho@@ t.get@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getVm@@ Id()); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.get@@ Snapshots@@ Manager@@ ().@@ at@@ temp@@ To@@ Res@@ t@@ ore@@ Vm@@ Configuration@@ From@@ Snapshot@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getVm@@ (), target@@ Snapshot@@ , target@@ S@@ napsho@@ t.get@@ Id(), null@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.get@@ Comp@@ en@@ s@@ ation@@ Context@@ (), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.get@@ C@@ urrent@@ User@@ (), new org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manager@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.get@@ Mac@@ Pool@@ ()), target@@ S@@ napsho@@ t.@@ contain@@ s@@ Memory@@ (@@ )); snapshot@@ Dao@@ .@@ remov@@ e(@@ target@@ S@@ napsho@@ t.get@@ Id()); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.get@@ Snapshots@@ Manager@@ ().add@@ Active@@ Snapshot@@ (@@ target@@ S@@ napsho@@ t.get@@ Id(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.getVm@@ (), Snapshot@@ Status.@@ LO@@ C@@ K@@ ED@@ , null@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Res@@ t@@ ore@@ All@@ Snapshots@@ Command.get@@ Comp@@ en@@ s@@ ation@@ Context@@ ()); }
@java.lang.Override public int get@@ NumOf@@ Snapshots@@ By@@ Disk@@ s(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e disk@@ ) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ add@@ Value(@@ "@@ mem@@ ory@@ _@@ disk@@ _id@@ s@@ ", java.util.Arrays.as@@ List@@ (@@ new org.ovirt.engine.core.compat.Guid@@ (@@ s@@ napsho@@ t.get@@ Memory@@ Disk@@ Id(), s@@ napsho@@ t.get@@ Met@@ ad@@ ata@@ Disk@@ Id@@ ())); return getCall@@ sHandler().execute@@ Read@@ ("@@ Get@@ NumOf@@ Snapshots@@ By@@ Memory@@ Volume@@ ", org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ Sing@@ le@@ Column@@ Row@@ Map@@ per@@ .@@ new@@ Instanc@@ e(@@ java.lang.Integer@@ .@@ class@@ ), parameter@@ Source@@ ); }
@java.lang.Override protected void execute@@ Command() { if (is@@ Memory@@ R@@ emo@@ va@@ bl@@ e()) { org.ovirt.engine.core.common.action.@@ Remove@@ Disk@@ Parameters remove@@ Memory@@ D@@ um@@ p@@ Disk@@ Parameters = new org.ovirt.engine.core.common.action.@@ Remove@@ Disk@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Remove@@ Memory@@ Volum@@ es@@ Command.get@@ Parameters@@ ())); remove@@ Memory@@ D@@ um@@ p@@ Disk@@ Parameter@@ s.set@@ Sh@@ oul@@ d@@ Be@@ Log@@ ged@@ (@@ false@@ ); run@@ Internal@@ Action@@ (@@ ActionType.@@ Remove@@ Disk@@ , remove@@ Memory@@ D@@ um@@ p@@ Disk@@ Parameters@@ ); org.ovirt.engine.core.common.action.@@ Remove@@ Disk@@ Parameters remove@@ Memory@@ Met@@ ad@@ ata@@ Disk@@ Parameters = new org.ovirt.engine.core.common.action.@@ Remove@@ Disk@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Remove@@ Memory@@ Volum@@ es@@ Command.getParameters().get@@ Snapshot@@ ().get@@ Met@@ ad@@ ata@@ Disk@@ Id@@ ())); remove@@ Memory@@ Met@@ ad@@ ata@@ Disk@@ Parameter@@ s.set@@ Sh@@ oul@@ d@@ Be@@ Log@@ ged@@ (@@ false@@ ); run@@ Internal@@ Action@@ (@@ ActionType.@@ Remove@@ Disk@@ , remove@@ Memory@@ Met@@ ad@@ ata@@ Disk@@ Parameters@@ ); } org.ovirt.engine.core.bll.@@ Remove@@ Memory@@ Volum@@ es@@ Command@@ .set@@ Succeeded@@ (@@ true@@ ); }
private void remove@@ Disk@@ Images@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > image@@ s = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disk@@ s(@@ getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ (), org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ ON@@ L@@ Y_@@ NOT_@@ S@@ H@@ AR@@ E@@ AB@@ LE@@ , org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ ON@@ L@@ Y_@@ AC@@ TI@@ V@@ E); boolean sh@@ oul@@ d@@ W@@ ip@@ e = false@@ ; for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage im@@ age : im@@ ages@@ ) { im@@ age.@@ set@@ Storage@@ Id@@ s@@ (@@ new java.util.Array@@ List(@@ java.util.Arrays.as@@ List@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Remove@@ Vm@@ From@@ Import@@ Export@@ Command.getParameters().get@@ StorageDomain@@ Id@@ ()))); im@@ age.@@ set@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Remove@@ Vm@@ From@@ Import@@ Export@@ Command.getParameters().get@@ StoragePool@@ Id()); sh@@ oul@@ d@@ W@@ ip@@ e |@@ = im@@ age.@@ is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(); } java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > all@@ Memory@@ Disk@@ s = org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Util@@ s.get@@ Memory@@ Disk@@ Id@@ s@@ From@@ Snapshot@@ s(@@ getVm@@ ().get@@ Snapshots@@ ()); for (org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Disk@@ Id : all@@ Memory@@ Disk@@ s) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage m@@ et@@ ad@@ ata@@ Disk@@ Disk@@ Disk@@ Disk@@ (disk@@ Image@@ , disk@@ , sh@@ oul@@ d@@ W@@ ip@@ e); im@@ ages.@@ add(@@ m@@ et@@ ad@@ ata@@ Disk@@ ); } remove@@ Vm@@ Images@@ (@@ im@@ ages@@ ); im@@ ages@@ ); }
@@@ org.ovirt.engine.api.restapi.@@ types.@@ Mapp@@ ing@@ (@@ f@@ ro@@ m = org.ovirt.engine.api.model.@@ Snapshot@@ .@@ class@@ , to = org.ovirt.engine.api.model.@@ Snapshot@@ .@@ class@@ ) public static org.ovirt.engine.api.model.@@ S@@ napsho@@ t map@@ (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t entity@@ , org.ovirt.engine.api.model.@@ S@@ napsho@@ t template@@ ) { org.ovirt.engine.api.model.@@ S@@ napsho@@ t model = (@@ templat@@ e != null@@ ) ? templat@@ e : new org.ovirt.engine.api.model.@@ Snapshot@@ (); model.set@@ Id(@@ entity.get@@ Id().@@ toString@@ ()); if ((@@ entity.get@@ Description@@ ()) != null@@ ) { model.set@@ Description@@ (@@ entity.get@@ Description@@ ()); } if ((@@ entity.get@@ Cre@@ ation@@ Dat@@ e()) != null@@ ) { model.set@@ D@@ ate(@@ org.ovirt.engine.api.restapi.@@ types.@@ D@@ ate@@ Mapper.@@ map@@ (@@ entity.get@@ Cre@@ ation@@ Dat@@ e(), null@@ )); } if ((@@ entity.get@@ Status()) != null@@ ) { model.set@@ Snapshot@@ Status(@@ org.ovirt.engine.api.restapi.@@ types.@@ Snapshot@@ Mapper.@@ map@@ (@@ entity.get@@ Status@@ (), null@@ )); } if ((@@ entity.get@@ Type()) != null@@ ) { model.set@@ Snapshot@@ Type(@@ org.ovirt.engine.api.restapi.@@ types.@@ Snapshot@@ Mapper.@@ map@@ (@@ entity.get@@ Typ@@ e(), null@@ )); } if ((@@ entity.get@@ Cre@@ ation@@ Dat@@ e()) != null@@ ) { model.set@@ P@@ ers@@ ist@@ Memory@@ Volum@@ e(@@ entity.get@@ Cre@@ ation@@ Dat@@ e()); } return model@@ ; }
private void w@@ rit@@ e@@ Snapshots@@ S@@ ection@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > snapshot@@ s = vm.get@@ Snapshot@@ s(); if ((@@ snapshot@@ s == null@@ ) || (s@@ napshot@@ s.@@ isEmpty())) { return@@ ; } _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ S@@ ection@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ X@@ SI@@ _@@ UR@@ I@@ , "@@ type@@ ", "@@ o@@ vf@@ :@@ Snapshots@@ S@@ ection@@ _@@ Type@@ "); for (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t : snapshot@@ s) { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ Snapshot@@ "); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Att@@ rib@@ ut@@ e@@ String@@ (@@ org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ OV@@ F@@ _@@ UR@@ I@@ , "@@ id@@ ", s@@ napsho@@ t.get@@ Id().@@ toString@@ ()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ Type@@ ", s@@ napsho@@ t.get@@ Typ@@ e().@@ nam@@ e()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ Description@@ ", s@@ napsho@@ t.get@@ Description@@ ()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ Cre@@ ation@@ D@@ ate@@ ", org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Par@@ s@@ er.@@ loc@@ al@@ D@@ ate@@ To@@ U@@ t@@ c@@ D@@ ate@@ String@@ (s@@ napsho@@ t.get@@ Cre@@ ation@@ Dat@@ e())); if (s@@ napsho@@ t.@@ contain@@ s@@ Memory@@ (@@ )) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage mem@@ ory@@ D@@ um@@ p = mem@@ ory@@ Disk@@ s.get@@ (s@@ napsho@@ t.get@@ Memory@@ Disk@@ Id()); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage mem@@ ory@@ Con@@ f = mem@@ ory@@ Disk@@ s.get@@ (s@@ napsho@@ t.get@@ Met@@ ad@@ ata@@ Disk@@ Id()); java.lang.String mem@@ ory@@ Volum@@ e = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ 1@@ $@@ s@@ ,@@ %@@ 3@@ $@@ s@@ ,@@ %@@ 5@@ $@@ s@@ ,@@ %@@ 6@@ $@@ s", mem@@ ory@@ D@@ um@@ p@@ .get@@ Storage@@ Id@@ s().get@@ (0@@ ), mem@@ ory@@ D@@ um@@ p@@ .get@@ StoragePool@@ Id(), mem@@ ory@@ D@@ um@@ p@@ .get@@ Image@@ Id(), mem@@ ory@@ Con@@ f@@ .get@@ Image@@ Id(), mem@@ ory@@ Con@@ f@@ .get@@ Image@@ Id()); _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ Memory@@ ", mem@@ ory@@ Volum@@ e.get@@ Message@@ ()); } if ((@@ s@@ napsho@@ t.get@@ Ap@@ p@@ List@@ ()) != null@@ ) { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ Application@@ List@@ ", s@@ napsho@@ t.get@@ Ap@@ p@@ List@@ ()); } if ((@@ s@@ napsho@@ t.get@@ Vm@@ Configuration@@ ()) != null@@ ) { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ ("@@ Vm@@ Configuration@@ ()) != null@@ ) { _@@ w@@ rit@@ er.@@ w@@ rit@@ e@@ Element@@ (); } }
@java.lang.Override protected final void execute@@ Query@@ Command() { org.ovirt.engine.core.common.businessentities.@@ StorageDomain stor@@ age = get@@ Storage@@ (); T return@@ Valu@@ e = get@@ All@@ From@@ Storage@@ (@@ storage@@ ); java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > im@@ ages@@ List = ((@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >) (@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Images@@ List@@ , new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Images@@ List@@ VDSCommand@@ Parameters(@@ storage.@@ get@@ Id(), storage.@@ get@@ StoragePool@@ Id@@ ())@@ ).get@@ ReturnValu@@ e())); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >> l@@ eb@@ i@@ l = new java.util.HashMap@@ <@@ >(); for (org.ovirt.engine.core.compat.Guid im@@ age : im@@ ages@@ List@@ ) { org.ovirt.engine.core.common.vdscommands.@@ StoragePool@@ Domain@@ And@@ Group@@ Id@@ Base@@ VDSCommand@@ Parameters get@@ Volum@@ es@@ Parameters = new org.ovirt.engine.core.common.vdscommands.@@ StoragePool@@ Domain@@ And@@ Group@@ Id@@ Base@@ VDSCommand@@ Parameters(@@ storage.@@ get@@ StoragePool@@ Id(), storage.@@ get@@ Id(), image@@ ); java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > volum@@ es@@ List = ((@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ >) (@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.Get@@ Volum@@ es@@ List@@ , get@@ Volum@@ es@@ Parameters@@ ).get@@ ReturnValu@@ e())); l@@ eb@@ i@@ l.@@ put(@@ image@@ , volum@@ es@@ List@@ ); } org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Get@@ All@@ From@@ Export@@ Domain@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ ReturnValue@@ (@@ return@@ Value@@ ); }
private org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage create@@ Memory@@ Disk@@ (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t snapshot@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = is@@ Memory@@ Disk@@ Al@@ read@@ y@@ Exist@@ s@@ In@@ Db@@ (s@@ napshot@@ , mem@@ ory@@ Disk@@ Domain@@ Map@@ .get@@ (s@@ napsho@@ t.get@@ Memory@@ Disk@@ Id@@ ())); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage dis@@ k = is@@ Memory@@ Disk@@ Al@@ read@@ y@@ Exist@@ s@@ In@@ Db@@ (s@@ napshot@@ , s@@ napsho@@ t.get@@ Memory@@ Disk@@ Id()); if ((@@ s@@ d == null@@ ) || (@@ dis@@ k != null@@ )) { return null@@ ; } org.ovirt.engine.core.common.businessentities.VM vm = snapshot@@ Vm@@ Configuration@@ Hel@@ per@@ .get@@ Vm@@ From@@ Configuration@@ (s@@ napsho@@ t.get@@ Vm@@ Id(), s@@ napsho@@ t.get@@ Id()); org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage mem@@ ory@@ Disk = org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Utils.@@ create@@ Snapshot@@ Memory@@ Disk@@ (vm@@ , sd@@ .get@@ Storage@@ Typ@@ e(), vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ , org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Utils.@@ gener@@ ate@@ Memory@@ Disk@@ Description@@ (vm@@ , s@@ napsho@@ t.get@@ Description@@ ())); mem@@ ory@@ Disk@@ .set@@ Id(@@ s@@ napsho@@ t.get@@ Memory@@ Disk@@ Id()); mem@@ ory@@ Disk@@ .set@@ Image@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); mem@@ ory@@ Disk@@ .set@@ Storage@@ Id@@ s(@@ new java.util.@@ Link@@ ed@@ List<@@ org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.bll.@@ Images@@ Handler@@ .get@@ StorageDomain@@ Id@@ ())); mem@@ ory@@ Disk@@ .set@@ StoragePool@@ Id@@ (org.ovirt.engine.core.bll.@@ l@@ .@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ StoragePool@@ Id@@ ())); mem@@ ory@@ Disk@@ .set@@ Cre@@ ation@@ D@@ ate(@@ s@@ napsho@@ t.get@@ Cre@@ ation@@ Dat@@ e()); mem@@ ory@@ Disk@@ .set@@ Active@@ (@@ true@@ ); mem@@ ory@@ Disk@@ .set@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e(@@ vm.get@@ Disk@@ List@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (@@ DiskImage@@ :@@ is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ )); return mem@@ ory@@ Disk@@ ; }
private org.ovirt.engine.core.common.vdscommands.@@ Get@@ Vm@@ Info@@ VDSCommand@@ Parameters build@@ Get@@ Vm@@ Info@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Stati@@ c vm@@ ) { org.ovirt.engine.core.common.vdscommands.@@ Get@@ Vm@@ Info@@ VDSCommand@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ Get@@ Vm@@ Info@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ Command.get@@ Parameters@@ ()); return parameters@@ ; }
private void add@@ Memory@@ Images@@ () { org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ VmCommand.getVm@@ ().get@@ Snapshot@@ s().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( snapshot@@ ) -@@ > snapshot@@ ) -@@ > snapshot@@ s@@ Mem@@ or@@ y@@ ())); }
private org.ovirt.engine.core.common.businessentities.storage.@@ DiskImage create@@ Met@@ ad@@ ata@@ Disk@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t snapshot@@ ) { org.ovirt.engine.core.common.businessentities.storage.@@ StorageDomain@@ Stati@@ c s@@ d@@ elet@@ e(@@ vm.get@@ Disk@@ List@@ ().@@ st@@ re@@ am@@ ().@@ any@@ (@@ DiskImage@@ :@@ is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e@@ )); return mem@@ ory@@ Disk@@ ; }
public static void cl@@ e@@ ar@@ Memory@@ Disk@@ Id@@ s@@ From@@ Snapshot@@ s(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Snapshot@@ > snapshot@@ s) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > mem@@ ory@@ Disk@@ Id@@ s = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t s@@ napsho@@ t : snapshot@@ s) { if (s@@ napsho@@ t.@@ contain@@ s@@ Memory@@ ()) { mem@@ ory@@ Disk@@ Id@@ s.add(@@ snapshot@@ ); } } return mem@@ ory@@ Disk@@ Id@@ s@@ ; }
protected boolean sh@@ oul@@ d@@ Res@@ t@@ ore@@ Memory@@ () { return ((!@@ (@@ mem@@ ory@@ From@@ Snapshot@@ Us@@ ed@@ )) && ((@@ (get@@ F@@ low@@ ()) == (@@ org.ovirt.engine.core.common.action.@@ RunVm@@ Param@@ s.@@ RunVm@@ Param@@ s.@@ RunVm@@ F@@ low@@ .@@ RE@@ S@@ U@@ M@@ E_@@ H@@ I@@ B@@ ER@@ N@@ AT@@ E@@ )) || (org.ovirt.engine.core.common.@@ Feat@@ ure@@ Supported@@ .is@@ Memory@@ Snapshot@@ Supported@@ By@@ Ar@@ ch@@ it@@ ect@@ ur@@ e(@@ org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Cluster@@ Ar@@ ch@@ (), org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ CompatibilityVersion@@ ())@@ ))) && ((org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ Active@@ Snapshot@@ ().get@@ Memory@@ Disk@@ Id@@ ())@@ ))) != null@@ ); }
@java.lang.Override public int hashCod@@ e() { return java.util.@@ Object@@ s.@@ hash@@ (@@ id@@ , build@@ Name, cpu@@ C@@ or@@ es@@ , cpu@@ Th@@ rea@@ ds@@ , cpu@@ F@@ l@@ ag@@ s, cpu@@ Model@@ , cpu@@ S@@ ock@@ et@@ s, cpu@@ Sp@@ e@@ ed@@ M@@ h@@ , on@@ lin@@ e@@ C@@ p@@ us@@ , g@@ u@@ est@@ O@@ ver@@ h@@ ead@@ , h@@ ook@@ s@@ St@@ r@@ , host@@ O@@ s, i@@ S@@ csi@@ In@@ iti@@ ator@@ Name, if@@ T@@ otal@@ Sp@@ e@@ ed@@ , k@@ er@@ n@@ el@@ Version@@ , vm@@ Enabled@@ , k@@ vm@@ Version@@ , l@@ i@@ b@@ vi@@ r@@ t@@ Version@@ , r@@ p@@ m@@ Version@@ , mem@@ C@@ omm@@ it@@ ed@@ , net@@ Config@@ D@@ ir@@ ty@@ , n@@ on@@ Operation@@ al@@ Reason@@ , p@@ end@@ ing@@ V@@ c@@ p@@ us@@ Count@@ , p@@ end@@ ing@@ Vm@@ em@@ Size@@ , p@@ h@@ y@@ s@@ ical@@ Mem@@ M@@ b@@ , pre@@ vi@@ o@@ us@@ Status@@ , res@@ er@@ v@@ ed@@ Mem@@ , s@@ o@@ f@@ t@@ w@@ are@@ Version@@ , sp@@ ice@@ Version@@ , gluster@@ Version@@ , status@@ , support@@ ed@@ Cluster@@ L@@ ev@@ el@@ s, support@@ ed@@ Engin@@ es@@ , trans@@ parent@@ H@@ ug@@ e@@ P@@ ages@@ St@@ ate@@ , version@@ Name, vm@@ Active@@ , vm@@ Count@@ , support@@ ed@@ Rng@@ Sourc@@ es@@ , vm@@ Migr@@ at@@ ing@@ , in@@ com@@ ing@@ Migr@@ ation@@ s, out@@ go@@ ing@@ Migr@@ ation@@ s, vm@@ s@@ C@@ or@@ es@@ Count@@ , h@@ w@@ Man@@ u@@ fac@@ t@@ ur@@ er@@ , h@@ w@@ Pro@@ d@@ uct@@ Name, h@@ w@@ Ser@@ ial@@ Num@@ ber@@ , h@@ w@@ U@@ UID@@ , h@@ w@@ F@@ am@@ il@@ y@@ , H@@ B@@ As@@ , p@@ ower@@ Management@@ Cont@@ ro@@ ll@@ ed@@ By@@ Policy@@ , k@@ d@@ um@@ p@@ Status@@ , s@@ el@@ in@@ u@@ x@@ E@@ n@@ for@@ ce@@ M@@ ode@@ , a@@ uto@@ Numa@@ B@@ al@@ anc@@ ing@@ , num@@ a@@ Support@@ , num@@ a@@ Support@@ , add@@ ition@@ al@@ Feat@@ ur@@ es@@ , m@@ a@@ int@@ en@@ ance@@ Reason@@ , update@@ Available@@ , host@@ Device@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Enabled@@ , k@@ er@@ n@@ el@@ Arg@@ s, p@@ ret@@ ty@@ Name, host@@ ed@@ Engine@@ Configur@@ ed@@ Engine@@ Configur@@ ed@@ Engine@@ Configur@@ ed@@ Engine@@ Configur@@ ed@@ Engine@@ Configur@@ ed@@ , in@@ Fence@@ F@@ low@@ , k@@ er@@ n@@ el@@ Version@@ ); }
public int get@@ Available@@ Unit@@ For@@ S@@ csi@@ Disk@@ (@@ java.util.Map@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ , java.lang.Integer@@ > vm@@ Device@@ Unit@@ Map@@ , boolean res@@ er@@ ve@@ F@@ ir@@ st@@ T@@ w@@ o@@ Lun@@ s(@@ vm@@ Device@@ Unit@@ Map@@ , boolean res@@ er@@ ve@@ For@@ S@@ csi@@ C@@ d@@ ) { int c@@ d@@ P@@ ay@@ load@@ Unit@@ In@@ de@@ x = org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ C@@ d@@ P@@ ay@@ load@@ In@@ dex@@ ("@@ s@@ csi@@ "); int c@@ d@@ Unit@@ In@@ de@@ x = org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ C@@ d@@ Device@@ In@@ dex@@ ("@@ s@@ csi@@ "); int un@@ i@@ t = (@@ res@@ er@@ ve@@ F@@ ir@@ st@@ T@@ w@@ o@@ Lun@@ s) ? res@@ er@@ ve@@ For@@ S@@ csi@@ C@@ d ? (@@ java.lang.@@ M@@ ath@@ .@@ ma@@ x@@ (c@@ d@@ P@@ ay@@ load@@ Unit@@ In@@ dex@@ , c@@ d@@ Unit@@ In@@ dex@@ )) + 1 : 0@@ ; if (vm@@ Device@@ Unit@@ Map == null@@ ) { return un@@ it@@ ; } while ((@@ res@@ er@@ ve@@ For@@ S@@ csi@@ C@@ d && (@@ un@@ i@@ t == c@@ d@@ P@@ ay@@ load@@ Unit@@ In@@ dex@@ )) || (@@ res@@ er@@ ve@@ For@@ S@@ csi@@ C@@ d && (@@ un@@ i@@ t == c@@ d@@ Unit@@ In@@ dex@@ ))) || ((@@ vm@@ Device@@ Unit@@ Map@@ .@@ contain@@ s@@ Value(@@ un@@ it@@ ))) { un@@ it@@ +@@ +@@ ; } return un@@ it@@ ; }
public org.ovirt.engine.core.bll.ValidationResult ex@@ ternal@@ Network@@ Detail@@ s@@ Un@@ ch@@ ang@@ ed@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network new@@ Network@@ ) { return (((@@ (@@ java.util.@@ Object@@ s.@@ equals(@@ network@@ .get@@ V@@ lan@@ Id(), new@@ Network@@ .get@@ V@@ lan@@ Id@@ ())) && ((@@ network@@ .get@@ Name()@@ ) == (@@ new@@ Network@@ .getName()@@ ))) && ((@@ network@@ .get@@ M@@ tu@@ ()) == (@@ new@@ Network@@ .get@@ M@@ tu@@ ()))) && ((@@ network@@ .get@@ St@@ p@@ ()) == (@@ new@@ Network@@ .get@@ St@@ p@@ ()))) && ((@@ network.@@ is@@ VmNetwork@@ ()) == (@@ new@@ Network@@ .is@@ VmNetwork@@ ()))) && (@@ java.util.@@ Object@@ s.@@ equals(@@ network@@ .get@@ Provi@@ d@@ ed@@ By@@ (), new@@ Network@@ .get@@ Provi@@ d@@ ed@@ By@@ ())) ? org.ovirt.engine.core.bll.ValidationResult.@@ VAL@@ I@@ D : new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.ACTION_TYPE_FAILED_@@ EX@@ TER@@ N@@ AL@@ _@@ NETWORK_@@ D@@ ET@@ AIL@@ S_@@ C@@ ANNOT_@@ B@@ E_@@ ED@@ I@@ T@@ ED); }
protected void set@@ Default@@ S@@ wit@@ ch@@ Type@@ If@@ N@@ e@@ ed@@ ed@@ ed@@ () { org.ovirt.engine.core.common.businessentities.@@ C@@ luster c@@ luster = get@@ Cluster@@ (); if (cluster@@ .get@@ has@@ Re@@ qui@@ red@@ S@@ wit@@ ch@@ ()) { org.ovirt.engine.core.common.@@ network.@@ S@@ wit@@ ch@@ Type default@@ S@@ wit@@ ch@@ Type = org.ovirt.engine.core.common.@@ network.@@ Default@@ S@@ wit@@ ch@@ Typ@@ e.get@@ Default@@ S@@ wit@@ ch@@ Type(@@ cluster@@ .get@@ CompatibilityVersion@@ ()); c@@ luster.@@ set@@ Re@@ qui@@ red@@ S@@ wit@@ ch@@ Type@@ For@@ Cluster@@ (@@ default@@ S@@ wit@@ ch@@ Type@@ ); } }
private org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue add@@ Network@@ (org.ovirt.engine.core.compat.Guid dataCenter@@ Id, org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ , boolean attach@@ To@@ All@@ Cluster@@ ) { org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters@@ (@@ dataCenter@@ Id, network@@ ); params.set@@ Vnic@@ Profile@@ Re@@ qui@@ red@@ (@@ false@@ ); if (@@ attach@@ To@@ All@@ Cluster@@ s(@@ network@@ ); return run@@ Internal@@ Action@@ (@@ Query@@ Type.Get@@ C@@ lust@@ ers@@ By@@ StoragePool@@ Id, new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters(@@ dataCenter@@ Id@@ )); }
public void update@@ Host@@ Status@@ A@@ f@@ ter@@ Success@@ f@@ ul@@ Up@@ g@@ r@@ ad@@ e() { org.ovirt.engine.core.common.businessentities.@@ Vds@@ Dynam@@ ic d@@ ynam@@ ic@@ Host@@ Data = vds@@ Dynamic@@ Dao@@ .get@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Internal@@ Command.get@@ Vds@@ Id()); d@@ ynam@@ ic@@ Host@@ Data@@ .set@@ Update@@ Available@@ (@@ false@@ ); vds@@ Dynamic@@ Dao@@ .@@ updat@@ e(@@ d@@ ynam@@ ic@@ Host@@ Data@@ ); if ((@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Internal@@ Command.get@@ Vds@@ ().get@@ Vds@@ Type()) == (org.ovirt.engine.core.common.businessentities.@@ VD@@ ST@@ yp@@ e.@@ VDS@@ )) && (!@@ (org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Internal@@ Command.get@@ Parameters@@ ().is@@ R@@ eb@@ oot@@ ()))) { if ((org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Internal@@ Command.getParameters().get@@ In@@ itial@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ )) { set@@ Vds@@ Status(@@ VDS@@ Status.@@ M@@ a@@ int@@ en@@ ance@@ ); } else { if (org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Internal@@ Command.get@@ Vds@@ ().get@@ H@@ ig@@ h@@ ly@@ Available@@ Is@@ Configur@@ ed@@ ()) { ha@@ M@@ a@@ int@@ en@@ ance@@ Fail@@ ed = !@@ (@@ host@@ ed@@ Engine@@ Helper.@@ update@@ H@@ a@@ M@@ a@@ int@@ en@@ ance@@ Mod@@ e(@@ org.ovirt.engine.core.bll.@@ host@@ de@@ pl@@ o@@ y@@ .@@ Up@@ g@@ r@@ ad@@ e@@ Host@@ Internal@@ Command.get@@ Vds@@ (), false@@ )); } set@@ Vds@@ Status(@@ VDS@@ Status.@@ In@@ itial@@ iz@@ ing@@ ); } }
public static boolean is@@ Status@@ O@@ k@@ (@@ java.util.Map<java.lang.String, java.lang.Object> respon@@ se@@ ) { if ((@@ respon@@ s@@ e.get@@ ("@@ error@@ "@@ )) != null@@ ) { java.lang.String error@@ Cod@@ e = ((@@ respon@@ s@@ e.get@@ ("@@ error@@ _@@ c@@ ode@@ "@@ )) == null@@ ) ? ((@@ java.lang.String@@ ) (@@ respon@@ s@@ e.get@@ ("@@ error@@ "@@ ))) : ((@@ java.lang.String@@ ) (@@ respon@@ s@@ e.get@@ ("@@ error@@ _@@ c@@ ode@@ "@@ ))); java.lang.String error@@ D@@ es@@ cri@@ ption = ((@@ respon@@ s@@ e.get@@ ("@@ error@@ _@@ d@@ escription@@ "@@ )) == null@@ ) ? ((@@ java.lang.String@@ ) (@@ respon@@ s@@ e.get@@ ("@@ error@@ "@@ ))) : ((@@ java.lang.String@@ ) (@@ respon@@ s@@ e.get@@ ("@@ error@@ _@@ d@@ escription@@ "@@ ))); throw new java.lang.@@ Run@@ time@@ Exception@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ error@@ Cod@@ e %@@ s", error@@ Cod@@ e.get@@ ("@@ error@@ D@@ es@@ cri@@ ption@@ ", error@@ D@@ es@@ cri@@ ption@@ )); } return true@@ ; }
private void create@@ Vnic@@ Profil@@ e() { org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e v@@ nic@@ Profil@@ e = network@@ Helper.@@ create@@ Vnic@@ Profil@@ e(@@ org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Add@@ Network@@ Command.get@@ Network@@ ()); if (org.ovirt.engine.core.bll.@@ network.@@ dc@@ .@@ Add@@ Network@@ Command.get@@ Network@@ ().is@@ External@@ ()) { v@@ nic@@ Profil@@ e.set@@ Network@@ Filter@@ Id@@ (@@ null@@ ); } v@@ nic@@ Profile@@ Dao@@ .@@ s@@ av@@ e(@@ v@@ nic@@ Profil@@ e); }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Add@@ Network@@ Command.get@@ Network@@ ().set@@ Id(@@ org.ovirt.engine.core.compat.Guid@@ .@@ new@@ Guid@@ ()); org.ovirt.engine.core.utils.@@ Network@@ Utils.@@ set@@ Network@@ Vds@@ m@@ Name(@@ org.ovirt.engine.core.bll.network.@@ dc@@ .@@ Add@@ Network@@ Command.get@@ Network@@ ()); org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ ((@@ ) -@@ > { network@@ Dao@@ .@@ s@@ av@@ e(@@ get@@ Network@@ ()); if ((get@@ Network@@ ().is@@ VmNetwork@@ ()) && (get@@ Parameters@@ ().is@@ Vnic@@ Profile@@ Re@@ qui@@ red@@ ())) { create@@ Vnic@@ Profil@@ e(); } org.ovirt.engine.core.bll.network.@@ dc@@ .@@ network@@ Hel@@ per@@ .get@@ Permission@@ s@@ On@@ Network@@ (get@@ User@@ Id(), get@@ Network@@ ().get@@ Id()); return null@@ ; }
private org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue add@@ Network@@ (org.ovirt.engine.core.compat.Guid dataCenter@@ Id, org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ , boolean attach@@ To@@ All@@ C@@ lust@@ ers@@ ) { org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Add@@ Network@@ StoragePool@@ Parameters(@@ dataCenter@@ Id, network@@ ); if (@@ attach@@ To@@ All@@ C@@ lust@@ ers@@ ) { params.set@@ Network@@ Cluster@@ List(@@ network@@ Helper.@@ create@@ Network@@ C@@ lust@@ ers@@ (get@@ All@@ Cluster@@ Id@@ s@@ In@@ DataCenter@@ (@@ dataCenter@@ Id@@ ))); } return run@@ Internal@@ Action@@ (@@ ActionType.@@ Add@@ Network@@ , param@@ s); }
void initial@@ ize@@ (@@ boolean engin@@ e@@ Start@@ up@@ , java.util.List<java.lang.String> mac@@ s@@ For@@ Mac@@ Pool@@ ) { org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es.@@ log.@@ info@@ ("@@ Mac@@ Pool@@ Manager@@ :@@ :@@ :@@ :@@ :@@ Mac@@ s@@ Storage@@ (@@ this@@ .@@ r@@ ang@@ es@@ B@@ ound@@ ar@@ i@@ es@@ ); org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es.@@ log.@@ d@@ ebug@@ ("@@ M@@ AC@@ : {}@@ ", this@@ , mac@@ s@@ For@@ Mac@@ Pool@@ ); java.util.List<java.lang.String> not@@ Add@@ ed@@ Mac@@ s = add@@ Mac@@ s(@@ mac@@ s@@ For@@ Mac@@ Pool@@ ); if (!(@@ not@@ Add@@ ed@@ Mac@@ s.@@ isEmpty())) { if (@@ engin@@ e@@ Start@@ up@@ ) { java.lang.String a@@ uditLog@@ Mess@@ age = M@@ AC@@ s vi@@ ol@@ ate@@ s d@@ up@@ l@@ ic@@ it@@ y res@@ tr@@ ic@@ tion@@ , and w@@ a@@ s p@@ us@@ h@@ ed int@@ o M@@ A@@ C p@@ oo@@ l with@@ o@@ u@@ t res@@ p@@ ect to it@@ : " + not@@ Add@@ ed@@ Mac@@ s@@ ; a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Impl@@ (), AuditLogType.@@ M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ V@@ I@@ OL@@ AT@@ E@@ S_@@ NO@@ _@@ D@@ UP@@ L@@ IC@@ AT@@ E@@ S_@@ S@@ ET@@ TI@@ N@@ G@@ , a@@ uditLog@@ Message@@ ); for@@ ce@@ Add@@ Mac@@ s(@@ not@@ Add@@ ed@@ Mac@@ s); } else { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ M@@ AC@@ _P@@ O@@ OL@@ _@@ IN@@ I@@ TI@@ AL@@ I@@ Z@@ A@@ TION_@@ FAIL@@ ED@@ , org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es.@@ UN@@ AB@@ L@@ E_@@ T@@ O@@ _@@ IN@@ I@@ TI@@ AL@@ I@@ Z@@ E@@ _M@@ AC@@ _P@@ O@@ OL@@ _@@ D@@ U@@ E_@@ T@@ O@@ _@@ EXIST@@ ING@@ _@@ D@@ UP@@ L@@ IC@@ AT@@ E@@ S@@ ); } org.ovirt.engine.core.bll.network.@@ mac@@ p@@ oo@@ l.@@ Mac@@ Pool@@ Us@@ ing@@ R@@ ang@@ es.@@ log.@@ info@@ ("@@ M@@ AC@@ s initial@@ iz@@ ing {}@@ . Avail@@ able M@@ AC@@ s in pool@@ : {}@@ ", this@@ , mac@@ s@@ Count@@ ()); }
@java.lang.Override protected boolean validate(@@ ) { if (!@@ (@@ super@@ .@@ valid@@ at@@ e())) { return false@@ ; } old@@ Mac@@ Pool = mac@@ Pool@@ Dao@@ .get@@ (get@@ Mac@@ Pool@@ Id()); return ((((@@ validate@@ (@@ new org.ovirt.engine.core.bll.@@ Mac@@ Pool@@ Validator@@ (@@ old@@ Mac@@ Pool@@ ).@@ mac@@ Pool@@ Exist@@ s@@ ())) && (@@ validate@@ (@@ new org.ovirt.engine.core.bll.@@ Mac@@ Pool@@ Validator@@ (get@@ Mac@@ Pool@@ Entity@@ ()).@@ has@@ Un@@ i@@ qu@@ e@@ Name()@@ ))) && (@@ validate(@@ org.ovirt.engine.core.bll.@@ Update@@ Mac@@ Pool@@ Command.@@ validate@@ Default@@ F@@ l@@ ag@@ Is@@ Not@@ Chang@@ ed(@@ old@@ Mac@@ Pool@@ , get@@ Mac@@ Pool@@ Entity@@ ())@@ ))) && (@@ validate(@@ validate@@ D@@ up@@ l@@ ic@@ at@@ es@@ Configuration@@ ())); }
@java.lang.Override protected void execute@@ Command() { re@@ g@@ ist@@ er@@ R@@ oll@@ back@@ Handler@@ (((@@ org.ovirt.engine.core.utils.@@ trans@@ action.@@ Transaction@@ R@@ oll@@ back@@ Listener@@ ) ((@@ ) -@@ > (org.ovirt.engine.core.bll.@@ utils.@@ trans@@ action.@@ Transaction@@ Supp@@ or@@ t.@@ execute@@ In@@ New@@ Transaction@@ (((@@ Transaction@@ Method@@ <@@ java.lang.@@ V@@ o@@ id@@ >) ((@@ ) -@@ > ma@@ ster@@ )); org.ovirt.engine.core.bll.@@ mac@@ Pool@@ Per@@ C@@ luster.@@ execute@@ In@@ New@@ Transaction@@ (@@ new org.ovirt.engine.core.bll.@@ Mac@@ Pool@@ Per@@ Cluster@@ ()); mac@@ Pool@@ Per@@ C@@ luster.@@ m@@ o@@ d@@ if@@ y@@ Pool@@ (get@@ Mac@@ Pool@@ Entity@@ ()); set@@ Succeeded@@ (@@ true@@ ); get@@ ReturnValu@@ e().set@@ Action@@ Return@@ Value(@@ get@@ Mac@@ Pool@@ Id()); }
public void test@@ Create@@ Mac@@ Pool@@ (org.ovirt.engine.core.common.businessentities.@@ Mac@@ Pool mac@@ Pool@@ ) { mac@@ Pool@@ Fac@@ t@@ ory@@ .@@ create@@ Mac@@ Pool@@ (@@ mac@@ Pool@@ , false@@ ); }
private org.ovirt.engine.core.common.action.@@ Create@@ Cinder@@ Snapshot@@ Parameters build@@ Ch@@ il@@ d@@ Command@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage c@@ inder@@ Disk@@ ) { org.ovirt.engine.core.common.action.@@ Create@@ Cinder@@ Snapshot@@ Parameters create@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Create@@ Cinder@@ Snapshot@@ Parameters@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ ) (disk@@ Dao@@ .get@@ (c@@ inder@@ Disk@@ .getId@@ ())@@ )@@ ).get@@ Image@@ Id()); create@@ Param@@ s.set@@ Vm@@ Snapshot@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getParameters().get@@ New@@ Active@@ Snapshot@@ Id()); create@@ Param@@ s.set@@ StorageDomain@@ Id@@ (c@@ inder@@ Disk@@ .get@@ Storage@@ Id@@ s().get@@ (0@@ )); create@@ Param@@ s.set@@ Description@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getParameters().get@@ Description@@ ()); create@@ Param@@ s.set@@ Snapshot@@ Type(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getParameters().get@@ Snapshot@@ Typ@@ e()); create@@ Param@@ s.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Command.get@@ Action@@ Typ@@ e()); create@@ Param@@ s.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.get@@ Parameters@@ ()); return create@@ Param@@ s@@ ; }
public org.ovirt.engine.core.common.action.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Parameter@@ s.@@ Create@@ Snapshot@@ St@@ age get@@ Create@@ Snapshot@@ St@@ age@@ () { return create@@ Snapshot@@ St@@ age@@ ; }
public void set@@ Create@@ Snapshot@@ St@@ age@@ (@@ org.ovirt.engine.core.common.action.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Parameter@@ s.@@ Create@@ Snapshot@@ St@@ age create@@ Snapshot@@ St@@ age@@ ) { this@@ .@@ create@@ Snapshot@@ St@@ age = create@@ Snapshot@@ St@@ age@@ ; }
@java.lang.Override public void init@@ () { org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Parameters@@ ().set@@ Use@@ Cinder@@ Command@@ Callback@@ (is@@ Cinder@@ Disks@@ Exist@@ ()); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Parameters@@ ().set@@ Entity@@ Info@@ (@@ new org.ovirt.engine.core.common.@@ async@@ task@@ s.@@ Entity@@ Info@@ (org.ovirt.engine.core.common.@@ Vdc@@ Object@@ Type.@@ VM@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ VmCommand.getVm@@ Id@@ ())); set@@ Snapshot@@ Name(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Description@@ ()); set@@ StoragePool@@ Id@@ ((@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ VmCommand.getVm@@ ()) != null ? org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ VmCommand.getVm@@ ().get@@ StoragePool@@ Id@@ () : null@@ )); l@@ ive@@ Snapshot@@ Succeed@@ ed = false@@ ; }
public void on@@ S@@ av@@ e() { if ((@@ (get@@ Progress@@ ()) != null@@ ) || (!(@@ valid@@ at@@ e()@@ ))) { return@@ ; } st@@ art@@ Progress@@ (); org.ovirt.engine.core.common.businessentities.VM vm = getVm@@ (); java.util.ArrayList<@@ org.ovirt.engine.core.common.action.@@ Action@@ Parameters@@ Base@@ > param@@ s = new java.util.ArrayList<@@ >(); java.util.Set@@ <org.ovirt.engine.core.compat.Guid@@ > snapshot@@ Disks@@ Id@@ s = null@@ ; if ((get@@ Snapshot@@ Disks@@ ().get@@ SelectedItem@@ s()) != null@@ ) { snapshot@@ Disks@@ Id@@ s = get@@ Snapshot@@ Disks@@ ().get@@ SelectedItem@@ s().@@ st@@ re@@ am@@ ().@@ map@@ (@@ Base@@ Disk@@ :@@ :@@ get@@ Id@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Set@@ ()); } org.ovirt.engine.core.common.action.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Parameters par@@ a@@ m = new org.ovirt.engine.core.common.action.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Parameters@@ (vm@@ .get@@ Id(), get@@ Description@@ ().getEntity@@ (), get@@ Memory@@ ().getEntity@@ (), snapshot@@ Disks@@ Id@@ s); param@@ .set@@ Quota@@ Id(@@ vm.get@@ Quota@@ Id()); param@@ s.add(@@ param@@ ); org.ovirt.engine.ui.frontend.@@ Frontend@@ .getInstance().@@ run@@ Multiple@@ Action@@ (@@ Action@@ Type, param@@ s, ("@@ $@@ sd@@ Name -@@ > " -@@ > loc@@ al@@ Model = ((@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Snapshot@@ Model) (@@ result.get@@ Stat@@ e())); loc@@ al@@ Model.@@ st@@ op@@ Progress@@ (); get@@ Cancel@@ Command@@ ().@@ execut@@ e(); }
private void create@@ Snapshots@@ For@@ Disks@@ () { org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Parameters parameter@@ s = new org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Parameters@@ (); parameters.set@@ Disk@@ Id@@ sTo@@ I@@ g@@ n@@ ore@@ In@@ Check@@ s(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Disk@@ Id@@ sTo@@ I@@ g@@ n@@ ore@@ In@@ Check@@ s()); parameters.set@@ Disk@@ To@@ Image@@ Id@@ s(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Disk@@ To@@ Image@@ Id@@ s()); parameters.set@@ New@@ Active@@ Snapshot@@ Id@@ (@@ new@@ Active@@ Snapshot@@ Id); parameters.set@@ Snapshot@@ Type(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Snapshot@@ Typ@@ e()); parameters.set@@ Disk@@ Id@@ s(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Disk@@ Id@@ s()); parameters.set@@ Vm@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ VmCommand.getVm@@ Id()); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue action@@ ReturnValue = run@@ Internal@@ Action@@ (@@ ActionType.@@ Create@@ Snapshot@@ Volume@@ , parameters@@ , org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ create@@ Internal@@ Job@@ Context@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Context@@ (), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Lock@@ ())); }
protected javax.ws.rs.@@ core.@@ Respon@@ se do@@ Add@@ (@@ org.ovirt.engine.api.model.@@ S@@ napsho@@ t snapshot@@ , boolean bl@@ ock@@ ) { validate@@ Parameters@@ (s@@ napshot@@ , "@@ d@@ escription@@ "); org.ovirt.engine.core.common.action.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Parameters snapshot@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Parameters(@@ parent@@ Id, s@@ napsho@@ t.get@@ Description@@ ()); if (s@@ napsho@@ t.@@ isSet@@ P@@ ers@@ ist@@ Memory@@ stat@@ e()) { snapshot@@ Param@@ s.set@@ S@@ ave@@ Memory@@ (s@@ napsho@@ t.@@ is@@ P@@ ers@@ ist@@ Memory@@ stat@@ e()); } if (s@@ napsho@@ t.@@ isSet@@ Disk@@ Attachment@@ s()) { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.compat.Guid@@ > disk@@ To@@ Image@@ Id@@ s = map@@ Disk@@ s(@@ s@@ napsho@@ t.get@@ Disk@@ Attachment@@ s()); snapshot@@ Param@@ s.set@@ Disk@@ Id@@ s(@@ disk@@ To@@ Image@@ Id@@ s.@@ key@@ Set@@ ()); snapshot@@ Param@@ s.set@@ Disk@@ To@@ Image@@ Id@@ s(@@ disk@@ To@@ Image@@ Id@@ s); } return p@@ er@@ for@@ m@@ Cre@@ ate(@@ Action@@ Type, snapshot@@ Param@@ s, new org.ovirt.engine.api.restapi.resource.@@ Backend@@ Snapshots@@ Resourc@@ e.@@ Snapshot@@ Id@@ Res@@ ol@@ ver@@ (), bl@@ ock@@ ); }
private org.ovirt.engine.core.common.action.@@ Images@@ Action@@ s@@ Parameters@@ Base build@@ Create@@ Snapshot@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage image@@ ) { org.ovirt.engine.core.common.action.@@ Images@@ Action@@ s@@ Parameters@@ Base result = new org.ovirt.engine.core.common.action.@@ Images@@ Action@@ s@@ Parameters@@ Bas@@ e(@@ im@@ age.get@@ Image@@ Id()); res@@ ult.@@ set@@ Description@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getParameters().get@@ Description@@ ()); res@@ ult.@@ set@@ Session@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getParameters().get@@ Session@@ Id()); res@@ ult.@@ set@@ Quota@@ Id(@@ im@@ age.get@@ Quota@@ Id()); res@@ ult.@@ set@@ Disk@@ Profile@@ Id(@@ im@@ age.get@@ Disk@@ Profile@@ Id()); res@@ ult.@@ set@@ Vm@@ Snapshot@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getParameters().get@@ New@@ Active@@ Snapshot@@ Id()); res@@ ult.@@ set@@ Entity@@ Info@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getParameters().get@@ Entity@@ Info@@ ()); res@@ ult.@@ set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.get@@ Action@@ Typ@@ e()); res@@ ult.@@ set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.get@@ Parameters@@ ()); res@@ ult.@@ set@@ Dest@@ ination@@ Image@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getParameters().get@@ Disk@@ To@@ Image@@ Id@@ s().get@@ (@@ im@@ age.get@@ Id@@ ())); if (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getParameters().get@@ Disk@@ Id@@ sTo@@ I@@ g@@ n@@ ore@@ In@@ Check@@ s().@@ contains(@@ im@@ age.get@@ Id@@ ())) { res@@ ult.@@ set@@ L@@ e@@ ave@@ Lock@@ ed@@ (@@ true@@ ); } return result@@ ; }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > get@@ Disk@@ Images@@ For@@ Vm@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ Disk@@ > disk@@ s = disk@@ Dao@@ .get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getVm@@ Id()); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > all@@ Disk@@ s = new java.util.Array@@ List@@ (get@@ Disk@@ Images@@ (disk@@ s@@ )); all@@ Disk@@ s.@@ add@@ All@@ (@@ im@@ ages@@ Handler@@ .get@@ Cinder@@ L@@ e@@ af@@ Images@@ (disk@@ s@@ )); return all@@ Disks@@ ; }
private void create@@ Stat@@ el@@ ess@@ Snapshot@@ () { w@@ ar@@ n@@ If@@ Not@@ All@@ Disks@@ Per@@ m@@ it@@ Snapshot@@ s(); org.ovirt.engine.core.bll.@@ RunVm@@ Command.@@ log.@@ info@@ ("@@ A@@ t@@ temp@@ t@@ ing stat@@ el@@ es@@ s s@@ napsho@@ t for VM '{}@@ ' (@@ {}@@ )@@ ", org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Name(), org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Id()); org.ovirt.engine.core.common.action.@@ Create@@ All@@ Snapshots@@ From@@ Vm@@ Parameters create@@ All@@ Snapshots@@ From@@ Vm@@ Parameters = build@@ Create@@ Snapshot@@ Parameters@@ (); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue action@@ ReturnValue = run@@ Internal@@ Action@@ (@@ Action@@ Type, create@@ All@@ Snapshots@@ From@@ Vm@@ Parameters@@ , create@@ Context@@ For@@ Stat@@ el@@ ess@@ Snapshot@@ Cre@@ ation@@ ()); org.ovirt.engine.core.bll.@@ RunVm@@ Command@@ .set@@ Lock@@ (@@ null@@ ); set@@ Succeeded(@@ action@@ ReturnValu@@ e.get@@ Succeeded@@ ()); if (!(@@ action@@ ReturnValu@@ e.get@@ Succeeded@@ ())) { if (@@ are@@ Disks@@ Lock@@ ed(@@ action@@ ReturnValue@@ )) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ I@@ R@@ S_@@ IM@@ AGE_@@ ST@@ AT@@ U@@ S_@@ I@@ L@@ LE@@ G@@ AL@@ ); } org.ovirt.engine.core.bll.@@ RunVm@@ Command.get@@ ReturnValu@@ e().set@@ F@@ a@@ ult@@ (@@ action@@ ReturnValu@@ e.get@@ F@@ a@@ ult@@ ()); org.ovirt.engine.core.bll.@@ RunVm@@ Command.@@ log.error@@ ("@@ Fail@@ ed to c@@ re@@ at@@ e stat@@ el@@ es@@ s s@@ napsho@@ t for VM '{}@@ ' (@@ {}@@ ) ", org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Name(), org.ovirt.engine.core.bll.@@ Run@@ VmCommand.getVm@@ ().get@@ Id()); } }
private org.ovirt.engine.core.common.action.@@ Images@@ Action@@ s@@ Parameters@@ Base build@@ Create@@ Snapshot@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage image@@ ) { org.ovirt.engine.core.common.action.@@ Images@@ Action@@ s@@ Parameters@@ Base result = new org.ovirt.engine.core.common.action.@@ Images@@ Action@@ s@@ Parameters@@ Bas@@ e(@@ im@@ age.get@@ Image@@ Id()); res@@ ult.@@ set@@ Description@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Description@@ ()); res@@ ult.@@ set@@ Session@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Session@@ Id()); res@@ ult.@@ set@@ Quota@@ Id(@@ im@@ age.get@@ Quota@@ Id()); res@@ ult.@@ set@@ Disk@@ Profile@@ Id(@@ im@@ age.get@@ Disk@@ Profile@@ Id()); res@@ ult.@@ set@@ Vm@@ Snapshot@@ Id@@ (@@ new@@ Active@@ Snapshot@@ Id); res@@ ult.@@ set@@ Entity@@ Info@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Entity@@ Info@@ ()); res@@ ult.@@ set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Action@@ Typ@@ e()); res@@ ult.@@ set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Parameters@@ ()); res@@ ult.@@ set@@ Dest@@ ination@@ Image@@ Id@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Disk@@ To@@ Image@@ Id@@ s().get@@ (@@ im@@ age.get@@ Id@@ ())); if (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Disk@@ Id@@ sTo@@ I@@ g@@ n@@ ore@@ In@@ Check@@ s().@@ contains(@@ im@@ age.get@@ Id@@ ())) { res@@ ult.@@ set@@ L@@ e@@ ave@@ Lock@@ ed@@ (@@ true@@ ); } return result@@ ; }
private void handl@@ e@@ Vds@@ L@@ ive@@ Snapshot@@ Failur@@ e(@@ org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { handl@@ e@@ Vm@@ Failur@@ e(@@ e@@ , AuditLogType.@@ US@@ ER_@@ C@@ RE@@ AT@@ E_@@ L@@ I@@ V@@ E_@@ S@@ NA@@ P@@ S@@ HO@@ T_@@ F@@ IN@@ IS@@ H@@ ED_@@ FAIL@@ U@@ RE@@ , ("@@ C@@ oul@@ d not p@@ er@@ for@@ m l@@ i@@ v@@ e s@@ napsho@@ t d@@ u@@ e to error@@ , VM w@@ il@@ l s@@ ti@@ l@@ l b@@ e config@@ ur@@ ed to the new c@@ re@@ ated@@ " + " snapshot@@ : {}@@ ")); }
private void remove@@ Memory@@ Volum@@ es@@ Of@@ Snapshot@@ (org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t snapshot@@ ) { org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue ret@@ V@@ al = run@@ Internal@@ Action@@ (@@ ActionType.@@ Remove@@ Memory@@ Volum@@ es@@ , new org.ovirt.engine.core.common.action.@@ Remove@@ Memory@@ Volum@@ es@@ Parameters@@ (s@@ napsho@@ t.get@@ Memory@@ Volum@@ e(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ VmCommand.getVm@@ Id@@ ()), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.@@ cl@@ one@@ Context@@ And@@ Det@@ ach@@ From@@ Parent@@ ()); if (!(@@ ret@@ Val@@ .get@@ Succeeded@@ ())) { log.error@@ ("@@ Fail@@ ed to remov@@ e mem@@ or@@ y volume@@ s of s@@ napsho@@ t '{}@@ ' (@@ {}@@ )@@ ", s@@ napsho@@ t.get@@ Description@@ (), s@@ napsho@@ t.get@@ Id()); } }
private org.ovirt.engine.core.common.action.@@ Create@@ Cinder@@ Snapshot@@ Parameters build@@ Ch@@ il@@ d@@ Command@@ Parameters@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage c@@ inder@@ Disk@@ ) { org.ovirt.engine.core.common.action.@@ Create@@ Cinder@@ Snapshot@@ Parameters create@@ Param@@ s = new org.ovirt.engine.core.common.action.@@ Create@@ Cinder@@ Snapshot@@ Parameters@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Cinder@@ Disk@@ ) (disk@@ Dao@@ .get@@ (c@@ inder@@ Disk@@ .getId@@ ())@@ )@@ ).get@@ Image@@ Id()); create@@ Param@@ s.set@@ Vm@@ Snapshot@@ Id@@ (@@ new@@ Active@@ Snapshot@@ Id); create@@ Param@@ s.set@@ StorageDomain@@ Id@@ (c@@ inder@@ Disk@@ .get@@ Storage@@ Id@@ s().get@@ (0@@ )); create@@ Param@@ s.set@@ Description@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Description@@ ()); create@@ Param@@ s.set@@ Snapshot@@ Type(@@ org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Snapshot@@ Typ@@ e()); create@@ Param@@ s.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Action@@ Typ@@ e()); create@@ Param@@ s.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Parameters@@ ()); return create@@ Param@@ s@@ ; }
@java.lang.Override protected void end@@ Vm@@ Command() { in@@ c@@ r@@ ement@@ Vm@@ Gener@@ ation@@ (); th@@ a@@ w@@ Vm@@ (); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.@@ end@@ Action@@ On@@ Disks@@ (); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command@@ .set@@ Succeeded@@ (((@@ task@@ Group@@ Succeeded@@ ) && ((!@@ (@@ l@@ ive@@ Snapshot@@ Re@@ qui@@ red@@ )) || (@@ l@@ ive@@ Snapshot@@ Succeeded@@ )@@ ))); org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ ReturnValu@@ e().set@@ En@@ d@@ Action@@ Tr@@ y@@ Ag@@ ain@@ (@@ false@@ ); }
protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > get@@ Disks@@ List@@ () { if ((@@ c@@ ach@@ ed@@ Selected@@ Active@@ Disk@@ s) == null@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > im@@ ages@@ And@@ Cinder@@ For@@ V@@ m = get@@ Disk@@ Images@@ For@@ Vm@@ (); if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ Volume@@ Command.getParameters().get@@ Disk@@ Id@@ s()) == null@@ ) { c@@ ach@@ ed@@ Selected@@ Active@@ Disk@@ s = im@@ ages@@ And@@ Cinder@@ For@@ Vm@@ ; } else { c@@ ach@@ ed@@ Selected@@ Active@@ Disk@@ s = get@@ Disk@@ Images@@ For@@ Vm@@ ().@@ st@@ re@@ am@@ ().@@ filter@@ (@@ ( d@@ ) -@@ > get@@ Parameters().get@@ Disk@@ Id@@ s().@@ contains(@@ d@@ .getId@@ ())@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); } } return c@@ ach@@ ed@@ Selected@@ Active@@ Disks@@ ; }
private org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Image@@ Buil@@ der create@@ Memory@@ Image@@ Builder@@ () { if (!(@@ is@@ Memory@@ Snapshot@@ Supported@@ ())) { return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Null@@ able@@ Memory@@ Image@@ Builder@@ (); } if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Snapshot@@ Type()) == (@@ S@@ napsho@@ t.@@ Snapshot@@ Type.@@ ST@@ AT@@ E@@ LE@@ SS@@ )) { return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Stat@@ el@@ ess@@ Snapshot@@ Memory@@ Image@@ Builder@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ VmCommand.getVm@@ ()); } if ((org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Parameters@@ ().is@@ S@@ ave@@ Memory@@ ()) && (is@@ L@@ ive@@ Snapshot@@ Ap@@ pl@@ ic@@ abl@@ e())) { boolean w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e = get@@ Disks@@ List@@ ().@@ st@@ re@@ am@@ ().@@ any@@ Match@@ (@@ DiskImage@@ :@@ is@@ W@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e); return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ L@@ ive@@ Snapshot@@ Memory@@ Image@@ Builder@@ (org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ VmCommand.getVm@@ (), c@@ ach@@ ed@@ StorageDomain@@ Id, org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ StoragePool@@ (), this@@ , vm@@ O@@ ver@@ h@@ ead@@ C@@ al@@ c@@ ul@@ ator@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Description@@ (), w@@ ip@@ e@@ A@@ f@@ ter@@ D@@ elet@@ e); } return new org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Null@@ able@@ Memory@@ Image@@ Builder@@ (); }
private org.ovirt.engine.core.common.businessentities.@@ S@@ napsho@@ t add@@ Snapshot@@ To@@ D@@ B@@ (org.ovirt.engine.core.compat.Guid snapshot@@ Id, org.ovirt.engine.core.bll.@@ mem@@ ory@@ .@@ Memory@@ Image@@ Buil@@ der mem@@ ory@@ Image@@ Builder@@ ) { c@@ ach@@ ed@@ Selected@@ Active@@ Disk@@ s = null@@ ; return org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Snapshots@@ Manager@@ ().add@@ Snapshot@@ (s@@ napshot@@ Id, org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Description@@ (), S@@ napsho@@ t.@@ Snapshot@@ Status.@@ LO@@ C@@ K@@ ED@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.getParameters().get@@ Snapshot@@ Typ@@ e(), org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ VmCommand.getVm@@ (), true@@ , mem@@ ory@@ Image@@ Builder@@ .get@@ Volume@@ String@@ Rep@@ resent@@ ation@@ (), null@@ , get@@ Disks@@ List@@ (), null@@ , org.ovirt.engine.core.bll.@@ snapshot@@ s.@@ Create@@ Snapshot@@ For@@ Vm@@ Command.get@@ Comp@@ en@@ s@@ ation@@ Context@@ ()); }
java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > get@@ All@@ External@@ Networks@@ L@@ i@@ k@@ ed@@ To@@ P@@ h@@ y@@ s@@ ical@@ Network@@ (org.ovirt.engine.core.compat.Guid p@@ h@@ y@@ s@@ ical@@ Network@@ Id);
@java.lang.Override public java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > get@@ All@@ External@@ Networks@@ L@@ i@@ k@@ ed@@ To@@ P@@ h@@ y@@ s@@ ical@@ Network@@ (org.ovirt.engine.core.compat.Guid p@@ h@@ y@@ s@@ ical@@ Network@@ Id) { return getCall@@ sHandler().execute@@ Read@@ List@@ ("@@ Get@@ All@@ Networks@@ By@@ Provider@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Id@@ ", network@@ Row@@ Map@@ per@@ , getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ network@@ _id", p@@ h@@ y@@ s@@ ical@@ Network@@ Id@@ )); }
public org.ovirt.engine.core.bll.ValidationResult not@@ Link@@ ed@@ To@@ External@@ Network@@ () { java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > lin@@ k@@ ed@@ External@@ Network@@ s = get@@ Network@@ Dao().get@@ All@@ External@@ Networks@@ L@@ i@@ k@@ ed@@ To@@ P@@ h@@ y@@ s@@ ical@@ Network@@ (network@@ .getId()); java.lang.String lin@@ k@@ ed@@ External@@ Network@@ Name@@ s = lin@@ k@@ ed@@ External@@ Network@@ s.@@ st@@ re@@ am@@ ().@@ map@@ (@@ Network@@ :@@ :@@ get@@ Name@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ j@@ o@@ in@@ ing@@ ("@@ ,@@ ")); return org.ovirt.engine.core.bll.ValidationResult.@@ fail@@ With@@ (EngineMessage.ACTION_TYPE_FAILED_@@ C@@ ANNOT_@@ RE@@ M@@ OV@@ E_@@ P@@ H@@ Y@@ S@@ IC@@ AL@@ _@@ NETWORK_@@ L@@ IN@@ K@@ ED_@@ T@@ O@@ _@@ EX@@ TER@@ N@@ AL@@ _@@ NETWOR@@ K@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ validator.@@ Network@@ Validator.@@ NETWORK_@@ L@@ IST@@ _@@ RE@@ PL@@ AC@@ EM@@ EN@@ T@@ , lin@@ k@@ ed@@ External@@ Network@@ Names@@ )).@@ when@@ ((!@@ (@@ lin@@ k@@ ed@@ External@@ Network@@ s.@@ isEmpty@@ ()))); }
@org.junit.Test public void default@@ Properties@@ () { try { java.lang.String b@@ as@@ ed@@ i@@ r = java.lang.@@ System@@ .get@@ Property@@ ("@@ b@@ as@@ ed@@ ir@@ "); ass@@ um@@ e@@ Not@@ Null@@ (@@ b@@ as@@ ed@@ ir@@ , is@@ n r@@ u@@ n vi@@ a Ma@@ v@@ en@@ . P@@ le@@ ase se@@ t the b@@ as@@ ed@@ i@@ r s@@ yst@@ e@@ m proper@@ ty org.ovirt.engine.core.utils.@@ os@@ info@@ .@@ Os@@ Par@@ s@@ er.@@ par@@ se(@@ java.@@ n@@ io.@@ fil@@ e.@@ Path@@ s.get@@ (@@ b@@ as@@ ed@@ ir@@ , "@@ .@@ .@@ /@@ .@@ .@@ .@@ /@@ p@@ ack@@ a@@ gin@@ g@@ /@@ con@@ f@@ /@@ os@@ info@@ -@@ default@@ s.@@ proper@@ ties@@ ").@@ toString@@ ()); } catch (@@ java.lang.Exception e) { fail@@ ((@@ "@@ E@@ r@@ ro@@ r w@@ il@@ l fa@@ i@@ l to lo@@ a@@ d wit@@ h a os@@ in@@ f@@ o proper@@ ti@@ es fil@@ e@@ . fil@@ e or os@@ info@@ .@@ j@@ o@@ u@@ t un@@ der " + " in the proper@@ ti@@ es fil@@ e or os@@ info@@ .@@ j@@ o@@ u@@ t un@@ der ") + " is n@@ : ") + " to the proper@@ ti@@ es fil@@ e or os@@ info@@ .@@ j@@ j g@@ r@@ am@@ ma@@ r un@@ der "@@ )) + " throw@@ n@@ : "@@ )) + "@@ )) + " ("@@ F@@ in@@ is@@ h@@ ed fi@@ x the proper@@ ti@@ es fil@@ e or os@@ info@@ .@@ j@@ o@@ u@@ t un@@ der "@@ )) + " is n@@ : ") + " is n@@ : ") + e@@ n@@ : ") + " is@@ n@@ : ") + " is@@ n@@ el@@ e@@ )); }
private static org.ovirt.engine.core.common.utils.@@ Pa@@ i@@ r d@@ n@@ s@@ Server@@ s@@ Only@@ () { org.ovirt.engine.core.common.businessentities.Vm@@ In@@ i@@ t vm@@ In@@ i@@ t = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network un@@ der@@ Test = new org.ovirt.engine.core.common.businessentities.Vm@@ Init@@ Network@@ (); un@@ der@@ Test.@@ set@@ Start@@ On@@ Boot@@ (@@ true@@ ); vm@@ In@@ it.@@ set@@ Network@@ s(@@ java.util.Arrays.as@@ List(@@ un@@ der@@ Test@@ )); vm@@ In@@ it.@@ set@@ D@@ n@@ s@@ Search@@ ("@@ vds@@ : search@@ 2 vm@@ In@@ it.@@ set@@ D@@ n@@ s@@ Server@@ s@@ ("@@ {@@ } nam@@ es@@ er@@ ver@@ 2 nam@@ es@@ er@@ ver@@ 3 java.lang.String exp@@ ected@@ Out@@ pu@@ t = "@@ {@@ \@@ n@@ " + ((((@@ ((((@@ ((((@@ ((((@@ ("@@ {@@ [@@ " + " }, ") + " }, ") + " }, ") + " }, ") + " ") + " }, ") + " ") + " ("@@ }@@ "); return new org.ovirt.engine.core.common.utils.Pair@@ (vm@@ In@@ i@@ t@@ , exp@@ ected@@ Out@@ put@@ ); }
private java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> map@@ Servic@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ In@@ i@@ t vm@@ Init@@ ) { java.util.List<@@ java.util.Map<java.lang.String, java.lang.Object@@ >> ser@@ vi@@ ce@@ s = new java.util.@@ Link@@ ed@@ List<@@ >(); if (@@ has@@ D@@ n@@ s@@ Server@@ s(@@ vm@@ In@@ i@@ t@@ )) { for (java.lang.String d@@ n@@ s@@ Ser@@ ve@@ r : vm@@ In@@ i@@ t@@ .get@@ D@@ n@@ s@@ Server@@ s()) { java.util.Map<java.lang.String, java.lang.Object@@ >> s@@ pl@@ it@@ ("@@ type@@ ", "@@ d@@ n@@ s@@ "); ser@@ vi@@ c@@ e.@@ put@@ ("@@ add@@ ress@@ ", d@@ n@@ s@@ Server@@ ); ser@@ vi@@ c@@ es.@@ add(@@ ser@@ vi@@ ce@@ ); } } return ser@@ vi@@ c@@ es@@ ; }
private void add@@ D@@ n@@ s@@ Data@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ In@@ i@@ t vm@@ Init@@ , java.util.Map<java.lang.String, java.lang.Object> network@@ ) { if (@@ n@@ etwork == null@@ ) { return@@ ; } if (@@ has@@ D@@ n@@ s@@ Server@@ s(@@ vm@@ Init@@ )) { network.@@ put@@ ("@@ d@@ n@@ s@@ _@@ nam@@ es@@ er@@ ver@@ s", java.util.Arrays.as@@ List@@ (vm@@ In@@ it.@@ get@@ D@@ n@@ s@@ Server@@ s().@@ s@@ pl@@ it@@ (@@ " "@@ ))); } if (@@ has@@ D@@ n@@ s@@ Search@@ (vm@@ Init@@ )) { network.@@ put@@ ("@@ d@@ n@@ s@@ _@@ search@@ ", java.util.Arrays.as@@ List@@ (vm@@ In@@ it.@@ get@@ D@@ n@@ s@@ Search@@ ().@@ s@@ pl@@ it@@ (@@ " "@@ ))); } }
@java.lang.Override protected void ch@@ il@@ d@@ Command@@ s@@ Execution@@ En@@ d@@ ed@@ (org.ovirt.engine.core.bll.@@ Command@@ Base@@ <?@@ > command@@ , boolean any@@ Fail@@ ed@@ , java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > ch@@ il@@ d@@ C@@ md@@ Id@@ s, org.ovirt.engine.core.compat.@@ back@@ end@@ c@@ ompat.@@ Command@@ Execution@@ Statu@@ s status@@ , int comp@@ let@@ ed@@ Ch@@ il@@ d@@ r@@ en@@ ) { org.ovirt.engine.core.compat.Guid cmd@@ Id = command@@ .get@@ Command@@ Id@@ (); if (@@ stat@@ u@@ s == (@@ org.ovirt.engine.core.compat.@@ back@@ end@@ c@@ ompat.@@ Command@@ Execution@@ Status.@@ EX@@ EC@@ U@@ T@@ ED@@ )) { org.ovirt.engine.core.bll.@@ Ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ C@@ ommand ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ C@@ ommand = ((org.ovirt.engine.core.bll.@@ Ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ Command@@ ) (command@@ )); if ((!@@ any@@ Fail@@ ed@@ ) || (@@ ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ Command.@@ ign@@ ore@@ Ch@@ il@@ d@@ Command@@ Failur@@ e())) { try { boolean end@@ C@@ ommand = !@@ (@@ ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ Command.@@ p@@ er@@ for@@ m@@ N@@ ext@@ Operation@@ (c@@ omp@@ let@@ ed@@ Ch@@ il@@ d@@ r@@ en@@ )); if (!@@ end@@ Command@@ ) { return@@ ; } } catch (@@ java.lang.Exception e) { org.ovirt.engine.core.bll.@@ Ser@@ ial@@ Ch@@ il@@ d@@ Command@@ s@@ Execution@@ Callback@@ .@@ log.error@@ ("@@ C@@ ommand '{}@@ ' id@@ : '{}@@ ' fail@@ ed wh@@ e@@ n at@@ temp@@ t@@ ing to p@@ er@@ for@@ m the ne@@ x@@ t o@@ peration@@ , mar@@ k@@ ing a@@ s FAIL@@ E@@ D '{}@@ '@@ ", command@@ .get@@ Action@@ Typ@@ e(), cmd@@ Id, ch@@ il@@ d@@ C@@ md@@ Id@@ s, command@@ .get@@ Command@@ Status@@ ()); ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ Command.@@ handl@@ e@@ Failur@@ e(); any@@ Fail@@ ed = true@@ ; } else { ser@@ ial@@ Ch@@ il@@ d@@ Execut@@ ing@@ Command.@@ handl@@ e@@ Failur@@ e(); } } else { org.ovirt.engine.core.bll.@@ Ser@@ ial@@ Ch@@ il@@ d@@ Command@@ s@@ Execution@@ Callback@@ .@@ log.@@ info@@ ("@@ C@@ ommand '{}@@ ' id@@ : '{}@@ ' ex@@ ec@@ uti@@ on d@@ id@@ n comp@@ let@@ e@@ , not comp@@ let@@ e@@ , not comp@@ let@@ e@@ , pro@@ ceed@@ ing to p@@ er@@ for@@ m the ne@@ x@@ t o@@ per@@ ation command@@ .get@@ Action@@ Typ@@ e(), cmd@@ Id); } set@@ Command@@ En@@ d@@ (command@@ , any@@ Fail@@ ed@@ , status@@ , ch@@ il@@ d@@ C@@ md@@ Id@@ s); }
public java.lang.@@ L@@ on@@ g get@@ F@@ re@@ e() { return f@@ ree@@ ; }
@@@ org.ovirt.@@ api.@@ m@@ et@@ am@@ odel@@ .@@ an@@ not@@ ation@@ s.@@ In@@ put@@ Det@@ a@@ i@@ l default void in@@ put@@ Detail@@ () { m@@ and@@ ator@@ y@@ (@@ d@@ irect@@ ory@@ ()); o@@ ption@@ al@@ (@@ fil@@ en@@ am@@ e()); or@@ (@@ m@@ and@@ ator@@ y@@ (@@ host@@ ().@@ id@@ ()), m@@ and@@ ator@@ y@@ (@@ host@@ ().@@ nam@@ e())); }
public void set@@ Properties@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.@@ Brick@@ Proper@@ ti@@ es brick@@ Properties@@ ) { get@@ Status@@ ().set@@ Entity(@@ brick@@ Properties@@ .get@@ Status@@ ()); get@@ Port@@ ().set@@ Entity(@@ brick@@ Properties@@ .get@@ Port@@ ()); get@@ P@@ id@@ ().set@@ Entity(@@ brick@@ Properties@@ .get@@ P@@ id@@ ()); get@@ T@@ otal@@ Siz@@ e().set@@ Entity(@@ brick@@ Properties@@ .get@@ T@@ otal@@ Siz@@ e()); get@@ F@@ ree@@ Siz@@ e().set@@ Entity(@@ brick@@ Properties@@ .get@@ F@@ ree@@ Siz@@ e()); get@@ Confirm@@ ed@@ F@@ ree@@ Siz@@ e().set@@ Entity(@@ brick@@ Properties@@ .get@@ Confirm@@ ed@@ F@@ ree@@ Siz@@ e()); get@@ Devic@@ e().set@@ Entity(@@ brick@@ Properties@@ .get@@ Devic@@ e()); get@@ B@@ lock@@ Siz@@ e().set@@ Entity(@@ brick@@ Properties@@ .get@@ B@@ lock@@ Siz@@ e()); get@@ M@@ ount@@ Option@@ s@@ ().set@@ Entity(@@ brick@@ Properties@@ .get@@ M@@ n@@ t@@ Option@@ s()); get@@ File@@ System@@ ().set@@ Entity(@@ brick@@ Properties@@ .get@@ F@@ s@@ Name()); get@@ R@@ d@@ ma@@ Port@@ ().set@@ Entity(@@ brick@@ Properties@@ .get@@ R@@ d@@ ma@@ Port@@ ()); }
public void set@@ Confirm@@ ed@@ F@@ ree@@ Siz@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.@@ Do@@ ubl@@ e@@ > f@@ ree@@ Siz@@ e) { this@@ .@@ f@@ ree@@ Siz@@ e = f@@ ree@@ Size@@ ; }
public org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.@@ Do@@ ubl@@ e@@ > get@@ F@@ ree@@ Siz@@ e() { return confi@@ rm@@ ed@@ F@@ ree@@ Siz@@ ; }
public org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.@@ Do@@ ubl@@ e@@ > get@@ Confirm@@ ed@@ F@@ ree@@ Siz@@ e() { return f@@ ree@@ Size@@ ; }
public void set@@ F@@ ree@@ Siz@@ e(@@ org.ovirt.engine.ui.uicommonweb.models.@@ EntityModel@@ <@@ java.lang.@@ Do@@ ubl@@ e@@ > confi@@ rm@@ ed@@ F@@ ree@@ Siz@@ e) { this@@ .@@ confi@@ rm@@ ed@@ F@@ ree@@ Siz@@ e = confi@@ rm@@ ed@@ F@@ ree@@ Siz@@ ; }
@java.lang.Override public void set@@ Main@@ SelectedItem@@ (org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity selected@@ Item@@ ) { d@@ ri@@ v@@ er.@@ edit@@ (get@@ Detail@@ Model@@ ()); re@@ pl@@ ic@@ a@@ For@@ m@@ Item@@ .setIs@@ Avail@@ able(@@ selected@@ Item@@ .get@@ Volume@@ Typ@@ e().@@ is@@ Re@@ pl@@ ic@@ ated@@ Typ@@ e()); st@@ ri@@ p@@ e@@ For@@ m@@ Item@@ .setIs@@ Avail@@ able(@@ selected@@ Item@@ .get@@ Volume@@ Typ@@ e().@@ is@@ St@@ ri@@ p@@ ed@@ Typ@@ e()); dis@@ p@@ ers@@ e@@ Count@@ For@@ m@@ Item@@ .setIs@@ Avail@@ able(@@ selected@@ Item@@ .get@@ Volume@@ Typ@@ e().@@ is@@ Dis@@ p@@ ers@@ ed@@ Typ@@ e()); red@@ un@@ d@@ anc@@ y@@ Count@@ For@@ m@@ Item@@ .setIs@@ Avail@@ able(@@ selected@@ Item@@ .get@@ Volume@@ Typ@@ e().@@ is@@ Dis@@ p@@ ers@@ ed@@ Typ@@ e()); java.util.ArrayList<@@ com.google.gwt.@@ user.@@ client.@@ ui.@@ Value@@ Label@@ <@@ java.lang.@@ L@@ on@@ g@@ >> volume@@ C@@ ap@@ ac@@ ity@@ Detail@@ s = new java.util.Array@@ List(@@ java.util.Arrays.@@ <@@ com.google.gwt.@@ user.@@ client.@@ ui.@@ Value@@ Label@@ <@@ java.lang.@@ L@@ on@@ g@@ >@@ as@@ List(@@ volume@@ T@@ otal@@ C@@ ap@@ ac@@ ity@@ , volume@@ Us@@ ed@@ C@@ ap@@ ac@@ ity@@ , volume@@ F@@ ree@@ C@@ ap@@ ac@@ ity@@ , volume@@ Confirm@@ ed@@ F@@ ree@@ C@@ ap@@ ac@@ ity@@ )); volume@@ C@@ ap@@ ac@@ ity@@ Detail@@ s@@ Label@@ .set@@ Value(@@ volume@@ C@@ ap@@ ac@@ ity@@ Detail@@ s); for@@ m@@ Buil@@ der.@@ updat@@ e(@@ get@@ Detail@@ Model@@ ()); }
public void updat@@ e(@@ org.ovirt.engine.core.compat.Guid vds@@ Id, java.util.Map<java.lang.String, java.lang.Object> valu@@ es) { int e@@ n@@ try@@ C@@ oun@@ t = (@@ value@@ s != null@@ ) ? valu@@ es.@@ siz@@ e() : 0@@ ; java.lang.String@@ [@@ ] p@@ lu@@ gin@@ Type@@ s = new java.lang.String@@ [@@ e@@ n@@ try@@ Count@@ ]@@ ; java.lang.String@@ [@@ ] b@@ in@@ d@@ ing@@ Id@@ s = new java.lang.String@@ [@@ e@@ n@@ try@@ Count@@ ]@@ ; if (@@ value@@ s != null@@ ) { int i = 0@@ ; for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.lang.Object> p@@ a@@ i@@ r : valu@@ es.@@ e@@ n@@ try@@ Set@@ ()) { p@@ lu@@ gin@@ Typ@@ es@@ [@@ i@@ ] = p@@ a@@ ir@@ .get@@ Key@@ (); b@@ in@@ d@@ ing@@ Id@@ s@@ [@@ i@@ ] = ((@@ java.lang.String@@ ) (p@@ a@@ ir@@ .get@@ Valu@@ e())); } } org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ vds@@ _id", vds@@ Id@@ ).addValue("@@ p@@ lu@@ gin@@ _@@ typ@@ es@@ ", p@@ lu@@ gin@@ Typ@@ es@@ ).addValue("@@ p@@ rovider@@ _@@ b@@ in@@ d@@ ing@@ _@@ host@@ _id@@ s", b@@ in@@ d@@ ing@@ Id@@ s); getCall@@ sHandler().execute@@ M@@ o@@ d@@ if@@ ication@@ ("@@ Update@@ Host@@ Provider@@ B@@ in@@ d@@ ing@@ ", parameter@@ Source@@ ); }
public java.lang.String get@@ (org.ovirt.engine.core.compat.Guid vds@@ Id, java.lang.String p@@ lu@@ gin@@ Type@@ ) { org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ nam@@ ed@@ param@@ .@@ MapSqlParameterSourc@@ e parameter@@ Sourc@@ e = getCustom@@ MapSqlParameterSourc@@ e().@@ addValue("@@ vds@@ _id", vds@@ Id@@ ).addValue("@@ p@@ lu@@ gin@@ _@@ type@@ ", p@@ lu@@ gin@@ Type@@ ); return getCall@@ sHandler().execute@@ Read@@ ("@@ Get@@ Host@@ Provider@@ B@@ in@@ d@@ ing@@ ", org.ovirt.engine.core.dao.@@ p@@ rovider.@@ Host@@ Provider@@ B@@ in@@ d@@ ing@@ Dao@@ Impl.@@ row@@ Map@@ per@@ , parameter@@ Source@@ ); }
private void p@@ ers@@ ist@@ To@@ p@@ ol@@ og@@ y@@ (org.ovirt.engine.core.common.businessentities.@@ VDS host@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VdsNetwork@@ Interface@@ > db@@ Nic@@ s, java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.Network@@ > cluster@@ Network@@ s, org.ovirt.engine.core.common.vdscommands.@@ User@@ Configur@@ ed@@ Network@@ Data user@@ Configur@@ ed@@ Data@@ ) { vds@@ Dynamic@@ Dao@@ .@@ update@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (@@ hos@@ t.get@@ Id(), hos@@ t.get@@ Re@@ port@@ ed@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ()); host@@ Provider@@ B@@ in@@ d@@ ing@@ Dao@@ Impl.@@ updat@@ e(@@ hos@@ t.get@@ Id(), hos@@ t.get@@ Op@@ en@@ st@@ ack@@ B@@ in@@ d@@ ing@@ Host@@ Id@@ s()); final org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Host@@ Network@@ Interfaces@@ P@@ ers@@ ist@@ er network@@ Interfaces@@ P@@ ers@@ ist@@ er = new org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Host@@ Network@@ Interfaces@@ P@@ ers@@ ist@@ er@@ Impl@@ (@@ int@@ er@@ fac@@ e@@ Dao@@ , hos@@ t.get@@ Interfaces@@ (), db@@ Nic@@ s, user@@ Configur@@ ed@@ Data@@ .get@@ User@@ O@@ verrid@@ d@@ en@@ Nic@@ Valu@@ es@@ By@@ Nic@@ Name()); network@@ Interfaces@@ P@@ ers@@ ist@@ er.@@ p@@ ers@@ ist@@ To@@ p@@ ol@@ og@@ y@@ (); create@@ Host@@ NetworkAttachment@@ s@@ P@@ ers@@ ist@@ er@@ (@@ host@@ , cluster@@ Network@@ s, user@@ Configur@@ ed@@ Data@@ ).@@ p@@ ers@@ ist@@ NetworkAttachment@@ s(); }
@java.lang.Override public java.lang.@@ L@@ on@@ g get@@ Ra@@ w@@ Value(@@ org.ovirt.engine.core.common.businessentities.@@ StorageDomain object@@ ) { java.lang.Integ@@ er confi@@ rm@@ ed@@ Available@@ Siz@@ e = object.get@@ Confirm@@ ed@@ Available@@ Disk@@ Siz@@ e(); return confi@@ rm@@ ed@@ Available@@ Siz@@ e == null ? null : java.lang.@@ L@@ on@@ g.@@ value@@ Of@@ (@@ confi@@ rm@@ ed@@ Available@@ Size@@ ); }
protected java.util.@@ St@@ ack@@ <@@ org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ Inter@@ acti@@ ve@@ Auth@@ > get@@ Auth@@ Se@@ q@@ (@@ org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ S@@ ess@@ ion s@@ o@@ Session@@ ) { java.lang.String s@@ c@@ op@@ es = s@@ o@@ Session@@ .get@@ S@@ c@@ op@@ e(); java.lang.String app@@ Auth@@ Se@@ Se@@ Se@@ l = s@@ o@@ Cont@@ ex@@ t.get@@ S@@ s@@ o@@ Local@@ Config@@ ().get@@ Property@@ ("@@ SS@@ O@@ _@@ A@@ U@@ TH@@ _@@ LO@@ G@@ IN@@ _@@ SE@@ Q@@ U@@ EN@@ C@@ E@@ "); java.lang.String auth@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ qu@@ ence@@ -@@ pri@@ or@@ ity@@ =@@ "@@ ))) { auth@@ Se@@ Se@@ Se@@ Se@@ Se@@ q@@ (@@ org.ovirt.engine.core.@@ s@@ c@@ op@@ s.@@ S@@ s@@ c@@ op@@ e : org.ovirt.engine.core.@@ s@@ s@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ s@@ c@@ op@@ e@@ As@@ List@@ (s@@ c@@ op@@ es@@ )) { if (s@@ c@@ op@@ e.@@ st@@ art@@ sWith@@ ("@@ ovir@@ t@@ -@@ ext@@ =@@ auth@@ :@@ se@@ qu@@ ence@@ -@@ pri@@ or@@ ity@@ =@@ "@@ )) { java.lang.String@@ [@@ ] to@@ k@@ en@@ s = s@@ c@@ op@@ e.@@ t@@ ri@@ m@@ ().@@ s@@ pl@@ it@@ ("@@ =@@ ", 3@@ ); auth@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ Se@@ q@@ (@@ Auth@@ or@@ iz@@ s@@ [@@ 2@@ ]@@ ; } java.util.List<@@ org.ovirt.engine.core.@@ s@@ s@@ s@@ o.@@ utils.@@ Inter@@ acti@@ ve@@ Auth@@ > auth@@ Se@@ q@@ List = org.ovirt.engine.core.@@ s@@ o.@@ ser@@ vlet@@ s.@@ O@@ Auth@@ or@@ ize@@ Servlet@@ .get@@ Auth@@ List@@ For@@ Se@@ q@@ (@@ auth@@ Se@@ q@@ ); if ((@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ auth@@ Se@@ q@@ )) && (@@ auth@@ Se@@ q.@@ st@@ art@@ sWith@@ ("@@ *@@ "@@ ))) { for (@@ char c : app@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@ Auth@@
private void de@@ Schedul@@ e@@ Time@@ out@@ (@@ final org.ovirt.engine.core.compat.Guid pool@@ Id) { if (s@@ chedul@@ ed@@ T@@ as@@ k != null@@ ) { synchronized@@ (s@@ chedul@@ ed@@ T@@ as@@ k != null@@ ) { schedul@@ ed@@ Task@@ .@@ cancel@@ (@@ true@@ ); } }
public void pool@@ Status@@ Chang@@ ed(@@ org.ovirt.engine.core.compat.Guid pool@@ Id, org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Statu@@ s status@@ ) { if ((@@ n@@ on@@ Operation@@ al@@ Pool@@ s.@@ contain@@ s@@ Key@@ (@@ pool@@ Id@@ )) && (@@ stat@@ u@@ s != (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Status.@@ Not@@ Operation@@ al@@ ))) { de@@ Schedul@@ e@@ Time@@ o@@ u@@ t@@ (@@ pool@@ Id); n@@ on@@ Operation@@ al@@ Pool@@ s.@@ remov@@ e(@@ pool@@ Id); } else if (@@ stat@@ u@@ s == (org.ovirt.engine.core.common.businessentities.@@ StoragePool@@ Status.@@ Not@@ Operation@@ al@@ )) { n@@ on@@ Operation@@ al@@ Pool@@ s.@@ put(@@ pool@@ Id, schedul@@ e@@ Time@@ out@@ (@@ pool@@ Id@@ )); } }
protected boolean p@@ er@@ for@@ m@@ () { try { org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Parameters@@ ().set@@ T@@ otal@@ Migr@@ ation@@ (@@ new java.util.@@ Dat@@ e()); if (((@@ un@@ p@@ lug@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ Nic@@ s()) && (@@ conn@@ ect@@ Lun@@ Disk@@ s(@@ get@@ Dest@@ ination@@ Vds@@ Id@@ ()))) && (@@ m@@ igr@@ ate@@ Vm@@ ())) { org.ovirt.engine.core.bll.@@ job@@ .@@ Execution@@ Handler.@@ set@@ Async@@ Job@@ (org.ovirt.engine.core.bll.@@ Migr@@ ate@@ Vm@@ Command.get@@ Execution@@ Context@@ (), true@@ ); return true@@ ; } run@@ ning@@ Fail@@ ed@@ (); return false@@ ; } catch (@@ java.lang.Exception e) { run@@ ning@@ Fail@@ ed@@ (); throw e@@ ; } }
private void handl@@ e@@ AuditLog@@ (@@ javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Re@@ quest re@@ quest@@ , javax.@@ ser@@ vlet@@ .@@ http@@ .@@ H@@ ttp@@ Servlet@@ Respon@@ se respon@@ se@@ ) { try { java.lang.String client@@ Sec@@ re@@ t = re@@ ques@@ t.get@@ Parameter("@@ client@@ Sec@@ ret@@ "); java.lang.String engin@@ e@@ Client@@ Sec@@ re@@ t = org.ovirt.engine.core.utils.@@ Engine@@ Local@@ Config.@@ get@@ Instance().get@@ Property@@ ("@@ EN@@ G@@ IN@@ E_@@ SS@@ O@@ _C@@ L@@ I@@ EN@@ T_@@ SE@@ C@@ RE@@ T@@ "); if (@@ org.ovirt.engine.core.@@ u@@ utils.@@ c@@ r@@ yp@@ to@@ .@@ v@@ el@@ op@@ e@@ P@@ B@@ E@@ .@@ check@@ (@@ client@@ Sec@@ ret@@ , engin@@ e@@ Client@@ Sec@@ ret@@ )) { java.lang.String lo@@ gin@@ Err@@ M@@ s@@ g = re@@ ques@@ t.get@@ Parameter("@@ lo@@ gin@@ Err@@ M@@ s@@ g@@ "); java.lang.String user@@ Name = re@@ ques@@ t.get@@ Parameter("@@ user@@ Name@@ "); org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able ev@@ ent = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Impl@@ (); event.@@ add@@ Custom@@ Value("@@ Lo@@ gin@@ Err@@ M@@ s@@ g@@ ", lo@@ gin@@ Err@@ M@@ s@@ g@@ ); event.@@ set@@ User@@ Name(@@ user@@ Name@@ ); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ event@@ , AuditLogType.@@ US@@ ER_@@ LO@@ G@@ IN@@ _@@ FAILED_@@ W@@ I@@ TH@@ _M@@ S@@ G@@ ); } } catch (@@ java.lang.Exception ex@@ ) { respon@@ s@@ e.set@@ Status(@@ java.@@ net@@ .@@ H@@ ttp@@ UR@@ L@@ Connection@@ .@@ H@@ T@@ T@@ T@@ P@@ _@@ IN@@ TER@@ N@@ AL@@ _@@ ER@@ R@@ OR@@ ); } final@@ l@@ y { respon@@ s@@ e.set@@ Status(@@ java.@@ net@@ .@@ H@@ ttp@@ UR@@ L@@ Connection@@ .@@ H@@ T@@ T@@ P@@ _@@ O@@ K@@ ); } }
public java.lang.String get@@ User@@ name@@ With@@ Profil@@ e() { java.lang.String us@@ er = java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ s@@ @@@ %@@ s", org.apache.commons.lang.@@ String@@ Util@@ s@@ .@@ default@@ If@@ Empty@@ (@@ user@@ name@@ , "@@ ), org.apache.commons.lang.@@ String@@ Util@@ s@@ .@@ default@@ If@@ Empty@@ (@@ profil@@ e@@ , "@@ ")); return "@@ @@@ "@@ .equals(@@ user@@ ) ? "@@ N@@ /@@ A@@ " : user@@ ; }
public static void not@@ if@@ y@@ Client@@ Of@@ AuditLog@@ Event@@ (@@ org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Cont@@ ex@@ t s@@ o@@ Context@@ , java.lang.String client@@ Id, java.lang.String user@@ Name, java.lang.String lo@@ gin@@ M@@ s@@ g@@ ) throw@@ s java.lang.Exception { org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ Client@@ In@@ f@@ o client@@ In@@ f@@ o = s@@ o@@ Cont@@ ex@@ t.get@@ Cli@@ en@@ Info@@ (@@ client@@ Id); java.lang.String ur@@ l = client@@ Info@@ .get@@ Client@@ No@@ t@@ if@@ ication@@ Callback@@ (); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (@@ ur@@ l@@ )) { org.apach@@ e.@@ http@@ .client.@@ m@@ et@@ hod@@ s.@@ H@@ ttp@@ P@@ os@@ t re@@ quest = org.ovirt.engine.core.@@ s@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ create@@ P@@ ost@@ (@@ ur@@ l@@ ); java.util.List<@@ org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ > for@@ m = new java.util.ArrayList<@@ >@@ (@@ 3@@ ); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ event@@ ", "@@ a@@ uditLog@@ ")); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ user@@ Name@@ ", user@@ Name@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ lo@@ gin@@ Err@@ M@@ s@@ g@@ ", lo@@ gin@@ Err@@ M@@ s@@ g@@ )); for@@ m.@@ add@@ (@@ new org.apach@@ e.@@ http@@ .@@ mess@@ age.@@ Bas@@ ic@@ Name@@ Value@@ Pair@@ ("@@ client@@ Sec@@ ret@@ ", client@@ Info@@ .get@@ Client@@ Sec@@ ret@@ ())); re@@ ques@@ t.@@ set@@ Entity@@ (@@ new org.apach@@ e.@@ http@@ .client.@@ entity@@ .@@ U@@ r@@ l@@ En@@ c@@ od@@ ed@@ For@@ m@@ Entity@@ (@@ for@@ m@@ , java.@@ n@@ i@@ o@@ .@@ char@@ set@@ .@@ St@@ and@@ ard@@ Ch@@ ar@@ set@@ s.@@ U@@ T@@ F@@ _@@ 8@@ )); org.ovirt.engine.core.@@ s@@ o.@@ utils.@@ S@@ s@@ o@@ Utils.@@ execut@@ e(@@ re@@ quest@@ , client@@ Id); } }
private java.util.@@ Option@@ al@@ <java.lang.String@@ > check@@ External@@ Network@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ Network network@@ , java.util.List<java.lang.String> host@@ Network@@ s) { if (!(@@ network@@ .get@@ Provi@@ d@@ ed@@ By@@ ().is@@ Set@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Id@@ ())) { return java.util.@@ Option@@ al.@@ em@@ pty@@ (); } org.ovirt.engine.core.common.businessentities.network.@@ Network p@@ h@@ y@@ s@@ ical@@ Network = network@@ Dao@@ .get(@@ network@@ .get@@ Provi@@ d@@ ed@@ By@@ ().get@@ P@@ h@@ y@@ s@@ ical@@ Network@@ Id()); return java.util.@@ Option@@ al.@@ o@@ f@@ Null@@ able@@ ((@@ host@@ Network@@ s.@@ contains(@@ p@@ h@@ y@@ s@@ ical@@ Network@@ .getName()@@ ) ? null : p@@ h@@ y@@ s@@ ical@@ Network@@ .getName()@@ )); }
protected boolean validate(@@ ) { get@@ Name()@@ .@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ Not@@ Empty@@ Validation@@ (), new org.ovirt.engine.ui.uicommonweb.validation.@@ L@@ ength@@ Validation@@ (@@ 2@@ 5@@ 5@@ ), new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ 18@@ N@@ Name@@ Validation@@ () }); get@@ Description@@ ().@@ validate@@ Entity@@ (@@ new org.ovirt.engine.ui.uicommonweb.validation.@@ I@@ Validation@@ []{ new org.ovirt.engine.ui.uicommonweb.validation.@@ As@@ c@@ i@@ i@@ i@@ i@@ Or@@ N@@ one@@ Validation@@ () }); get@@ Host@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e().set@@ Is@@ Valid@@ ((@@ ((get@@ Host@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e().get@@ SelectedItem@@ ()) == (org.ovirt.engine.core.common.@@ scheduling.@@ Entity@@ A@@ f@@ fin@@ ity@@ R@@ ul@@ e.@@ DIS@@ AB@@ L@@ ED@@ )) || (!@@ (get@@ Host@@ s@@ Sel@@ ection@@ Model().get@@ Selected@@ Host@@ Id@@ s().@@ isEmpty@@ ())@@ ))); return (get@@ Nam@@ e().get@@ Is@@ Valid@@ ()) && (get@@ Description@@ ().get@@ Is@@ Valid@@ ()); }
private java.@@ n@@ io.@@ fil@@ e.@@ P@@ at@@ h create@@ In@@ vent@@ ory@@ Fil@@ e(@@ org.ovirt.engine.core.common.utils.@@ i@@ bl@@ e.@@ An@@ si@@ bl@@ e@@ Command@@ Buil@@ der command@@ ) throw@@ s java.io.@@ I@@ O@@ Exception { java.@@ n@@ io.@@ fil@@ e.@@ P@@ at@@ h in@@ vent@@ ory@@ Fil@@ e = null@@ ; if ((@@ command@@ .@@ in@@ vent@@ ory@@ Fil@@ e()) == null@@ ) { org.ovirt.engine.core.common.utils.@@ An@@ i@@ bl@@ e.@@ An@@ si@@ bl@@ e@@ Execut@@ or.@@ log.@@ d@@ ebug@@ ("@@ {@@ } host@@ s@@ : host@@ s@@ : {}@@ ", command@@ .@@ host@@ nam@@ es@@ ()); in@@ vent@@ ory@@ Fil@@ e = java.@@ n@@ io.@@ fil@@ e.@@ Fil@@ es.@@ create@@ Tem@@ p@@ Fil@@ e(@@ "@@ ans@@ i@@ bl@@ e@@ -@@ in@@ vent@@ ory@@ ", "@@ "); java.lang.String s@@ b = new java.lang.String@@ Builder@@ (); sb@@ .@@ append("@@ [@@ all@@ ]@@ "); sb@@ .@@ append@@ (@@ java.lang.@@ System@@ .@@ lin@@ e@@ Se@@ par@@ ator@@ ()); sb@@ .@@ append@@ (@@ org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (command@@ .@@ host@@ nam@@ es@@ (), java.lang.@@ System@@ .@@ lin@@ e@@ Se@@ par@@ ator@@ ())); sb@@ .@@ append@@ (@@ java.lang.@@ System@@ .@@ lin@@ e@@ Se@@ par@@ ator@@ ()); sb@@ .@@ append("@@ [@@ all@@ :@@ va@@ r@@ s@@ ]@@ "); sb@@ .@@ append@@ (@@ java.lang.@@ System@@ .@@ lin@@ e@@ Se@@ par@@ ator@@ ()); sb@@ .@@ append("@@ , /@@ de@@ v@@ /@@ null .@@ append@@ (@@ java.lang.@@ System@@ .@@ lin@@ e@@ Se@@ par@@ ator@@ ()); sb@@ .@@ append("@@ , n@@ io.@@ fil@@ e.@@ Fil@@ es.@@ w@@ rit@@ e(@@ in@@ vent@@ ory@@ File@@ , sb@@ .toString@@ ()); sb@@ .@@ in@@ vent@@ ory@@ Fil@@ e(@@ in@@ vent@@ ory@@ File@@ ; } return in@@ vent@@ ory@@ File@@ ; }
public org.ovirt.engine.core.common.businessentities.storage.@@ F@@ ull@@ Entity@@ Ovf@@ Data read@@ VmTemplate@@ From@@ O@@ va@@ (java.lang.String o@@ vf@@ ) throw@@ s org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception { org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e templat@@ e = new org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e(); org.ovirt.engine.core.common.businessentities.storage.@@ F@@ ull@@ Entity@@ Ovf@@ Data f@@ ull@@ Entity@@ Ovf@@ Data = new org.ovirt.engine.core.common.businessentities.storage.@@ F@@ ull@@ Entity@@ Ovf@@ Data@@ (@@ template@@ ); o@@ vf@@ Manager@@ .@@ import@@ Template@@ From@@ O@@ va@@ (@@ o@@ vf@@ , f@@ ull@@ Entity@@ Ovf@@ Data@@ ); templat@@ e.set@@ Interfac@@ es(@@ f@@ ull@@ Entity@@ Ovf@@ Data@@ .get@@ Interfaces@@ ()); for (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage dis@@ k : f@@ ull@@ Entity@@ Ovf@@ Data@@ .get@@ Disk@@ Images@@ ()) { templat@@ e.get@@ Disk@@ Template@@ Map@@ ().@@ put@@ (disk@@ .get@@ Id(), disk@@ ); } return f@@ ull@@ Entity@@ Ovf@@ Data@@ ; }
public void import@@ Template@@ From@@ O@@ va@@ (java.lang.String o@@ vf@@ st@@ ring@@ , org.ovirt.engine.core.common.businessentities.storage.@@ F@@ ull@@ Entity@@ Ovf@@ Data f@@ ull@@ Entity@@ Ovf@@ Data@@ ) throw@@ s org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception { org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er o@@ v@@ f = null@@ ; try { o@@ v@@ f = new org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Template@@ Read@@ er@@ (@@ new org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ x@@ ml.@@ X@@ ml@@ D@@ oc@@ um@@ ent@@ (@@ o@@ vf@@ st@@ ring@@ ), f@@ ull@@ Entity@@ Ovf@@ Data@@ , os@@ Rep@@ os@@ it@@ ory@@ ); o@@ vf@@ .@@ build@@ I@@ con@@ s(@@ f@@ ull@@ Entity@@ Ovf@@ Data@@ .get@@ Vm@@ Bas@@ e()); } catch (@@ java.lang.Exception ex@@ ) { java.lang.String mess@@ age = gener@@ ate@@ Ovf@@ Read@@ er@@ Error@@ Message@@ (@@ o@@ vf@@ , ex@@ ); log@@ Ovf@@ Lo@@ ad@@ Error@@ (@@ message@@ , o@@ vf@@ st@@ ring@@ ); throw new org.ovirt.engine.core.utils.@@ o@@ vf@@ .@@ Ovf@@ Read@@ er@@ Exception@@ (@@ message@@ ); }
@java.lang.Override protected com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ I@@ con@@ () { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ ht@@ ml.@@ Sp@@ an ic@@ on@@ Sp@@ an = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ ht@@ ml.@@ Sp@@ an@@ (); ic@@ on@@ Sp@@ an@@ .@@ add@@ Sty@@ le@@ Name(@@ Sty@@ l@@ es.@@ F@@ ON@@ T_@@ A@@ W@@ E@@ S@@ O@@ M@@ E_@@ B@@ A@@ SE@@ ); if (@@ Snapshot@@ Status.@@ IN@@ _P@@ RE@@ V@@ I@@ E@@ W@@ .equals(@@ get@@ Entity@@ ().get@@ Status@@ ())) { ic@@ on@@ Sp@@ an@@ .@@ add@@ Sty@@ le@@ Name(@@ I@@ con@@ Type.@@ E@@ Y@@ .get@@ C@@ s@@ Name()); } else if (@@ Snapshot@@ Status.@@ LO@@ C@@ K@@ ED@@ .equals(@@ get@@ Entity@@ ().get@@ Status@@ ())) { ic@@ on@@ Sp@@ an@@ .@@ add@@ Sty@@ le@@ Name(@@ I@@ con@@ Type.@@ LO@@ C@@ K@@ .get@@ C@@ s@@ Name()); } else { ic@@ on@@ Sp@@ an@@ .@@ add@@ Sty@@ le@@ Name(@@ (get@@ Entity@@ ().@@ contain@@ s@@ Memory@@ () ? I@@ con@@ Type.@@ M@@ IC@@ RO@@ C@@ H@@ I@@ P@@ .get@@ C@@ s@@ Name(@@ ) : I@@ con@@ Type.@@ C@@ A@@ M@@ ER@@ A@@ .get@@ C@@ s@@ Name()@@ )); } ic@@ on@@ Sp@@ an@@ .@@ add@@ Sty@@ le@@ Name(@@ P@@ at@@ ter@@ n@@ f@@ ly@@ Constant@@ s.@@ P@@ F@@ _@@ L@@ IST@@ _@@ V@@ I@@ E@@ W@@ _@@ IC@@ ON_@@ S@@ M@@ ); ic@@ on@@ Panel@@ .@@ add(@@ ic@@ on@@ Sp@@ an@@ ); return ic@@ on@@ Panel@@ ; }
protected void remove@@ Vm@@ Image@@ s() { build@@ Remove@@ All@@ Vm@@ Images@@ Parameters@@ (); }
private org.ovirt.engine.core.common.action.@@ Remove@@ All@@ Vm@@ Images@@ Parameters build@@ Remove@@ All@@ Vm@@ Images@@ Parameters@@ () { org.ovirt.engine.core.common.action.@@ Remove@@ All@@ Vm@@ Images@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Remove@@ All@@ Vm@@ Images@@ Parameters@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ Id(), disk@@ Dao@@ .get@@ AllFor@@ Vm@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getVm@@ Id@@ ()).@@ st@@ re@@ am@@ ().@@ map@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ .@@ class@@ :@@ c@@ ast@@ ).@@ c@@ oll@@ ect@@ (@@ java@@ .@@ util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ())); params.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ Action@@ Typ@@ e()); params.set@@ Entity@@ Info@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.getParameters().get@@ Entity@@ Info@@ ()); params.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.@@ exp@@ or@@ t@@ import@@ .@@ Import@@ Vm@@ From@@ External@@ Provider@@ Command.get@@ Parameters@@ ()); return param@@ s@@ ; }
@org.junit.Test public void test@@ Get@@ S@@ ound@@ Devic@@ e() throw@@ s java.lang.Exception { assert@@ E@@ quals(@@ org.ovirt.engine.core.utils.@@ Os@@ Rep@@ os@@ it@@ ory@@ Impl@@ Test.@@ S@@ O@@ UN@@ D@@ _@@ DE@@ V@@ IC@@ E@@ , Os@@ Rep@@ os@@ it@@ ory@@ Impl.@@ IN@@ ST@@ AN@@ C@@ E@@ .get@@ S@@ ound@@ Devic@@ e(@@ 7@@ , null@@ , Ch@@ ip@@ set@@ Type.@@ I@@ 4@@ 0@@ F@@ X@@ )); }
public org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e add@@ S@@ ound@@ Devic@@ e(@@ org.ovirt.engine.core.common.businessentities.Vm@@ Base vm@@ Base@@ , java.util.Map<java.lang.String, java.lang.Object> f@@ un@@ c@@ tion@@ .S@@ up@@ pl@@ i@@ er@@ <org.ovirt.engine.core.common.businessentities.@@ Cluster@@ > cluster@@ Sup@@ pl@@ i@@ er@@ ) { org.ovirt.engine.core.common.businessentities.@@ Ch@@ ip@@ set@@ Type ch@@ ip@@ se@@ t = org.ovirt.engine.core.bll.@@ utils.@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e@@ Util@@ s.get@@ E@@ f@@ ec@@ ti@@ ve@@ Ch@@ ip@@ set@@ (vm@@ Base@@ , cluster@@ Sup@@ pl@@ i@@ er@@ ); if (vm@@ Base instanceof org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ ) { return add@@ S@@ ound@@ Devic@@ e(@@ vm@@ Base.get@@ Os@@ Id(), vm@@ Base.get@@ Os@@ Id(), vm@@ Base.get@@ Os@@ Id(), vm@@ Base.get@@ Os@@ Id(), vm@@ Base.get@@ Os@@ Rep@@ os@@ it@@ ory@@ Impl.@@ IN@@ ST@@ AN@@ C@@ E@@ .get@@ L@@ ow@@ er@@ (), cluster@@ Sup@@ pl@@ i@@ er@@ ), ch@@ ip@@ set@@ ); } return add@@ S@@ ound@@ Devic@@ e(@@ vm@@ Base.get@@ Os@@ Id(), cluster@@ Util@@ s.get@@ CompatibilityVersion@@ (vm@@ Bas@@ e); }
@java.lang.Override public javax.ws.rs.@@ core.@@ Respon@@ se ex@@ port@@ To@@ Path@@ (@@ org.ovirt.engine.api.model.@@ Ac@@ tion action@@ ) { org.ovirt.engine.core.common.action.@@ Export@@ O@@ va@@ Parameters param@@ s = new org.ovirt.engine.core.common.action.@@ Export@@ O@@ va@@ Parameters@@ (); params.set@@ Entity@@ Type(@@ Vm@@ Entity@@ Type.@@ T@@ EM@@ PL@@ AT@@ E); params.set@@ Entity@@ Id(@@ g@@ ui@@ d@@ ); params.set@@ Proxy@@ Host@@ Id@@ (get@@ Host@@ Id()); params.set@@ Direct@@ or@@ y@@ (@@ action@@ .get@@ Direct@@ or@@ y@@ ()); return do@@ Action@@ (@@ action@@ ); }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ >> s@@ cor@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ ) { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ > host@@ Vi@@ ol@@ ation@@ s = get@@ Host@@ Vi@@ ol@@ ation@@ Count@@ (@@ false@@ , host@@ s, vm@@ , new org.ovirt.engine.core.common.@@ scheduling.@@ Per@@ Host@@ Messages@@ ()); org.ovirt.engine.core.compat.Guid current@@ Host@@ Id = vm.get@@ Run@@ On@@ Vds@@ (); int current@@ Host@@ S@@ cor@@ e = host@@ Vi@@ ol@@ ation@@ s.get@@ Or@@ Default@@ (c@@ urrent@@ Host@@ Id, org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Vm@@ To@@ Host@@ A@@ f@@ fin@@ ity@@ W@@ e@@ ig@@ ht@@ Policy@@ Un@@ it.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ S@@ C@@ OR@@ E); java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ >> ret@@ List = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS hos@@ t : host@@ s) { int s@@ cor@@ e = host@@ Vi@@ ol@@ ation@@ s.get@@ Or@@ Default@@ (@@ hos@@ t.get@@ Id(), org.ovirt.engine.core.bll.@@ scheduling.@@ p@@ olicy@@ un@@ it@@ s.@@ Vm@@ To@@ Host@@ A@@ f@@ fin@@ ity@@ W@@ e@@ ig@@ ht@@ Policy@@ Un@@ it.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ S@@ C@@ OR@@ E); if ((@@ s@@ cor@@ e >@@ = current@@ Host@@ S@@ cor@@ e) && (!(@@ hos@@ t.get@@ Id().@@ equals(@@ current@@ Host@@ Id@@ ))) { s@@ cor@@ e +@@ = 1@@ ; } ret@@ Lis@@ t.@@ add@@ (@@ new org.ovirt.engine.core.common.utils.@@ Pa@@ i@@ r@@ el@@ ation@@ (@@ hos@@ t.get@@ Id(), s@@ cor@@ e@@ )); } return ret@@ List@@ ; }
@java.lang.Override public java.util.Map<java.lang.String, java.lang.String> al@@ loc@@ ate(@@ org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ , org.ovirt.engine.core.common.businessentities.network.@@ Vnic@@ Profil@@ e v@@ nic@@ Profile@@ , org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic nic@@ , org.ovirt.engine.core.common.businessentities.@@ VDS host@@ , boolean ign@@ ore@@ Sec@@ ur@@ ity@@ Group@@ s@@ On@@ Update@@ ) { try { com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .@@ model.@@ P@@ or@@ t p@@ or@@ t = loc@@ ate@@ Port@@ (@@ nic@@ ); java.util.List<java.lang.String> s@@ ec@@ ur@@ ity@@ Group@@ s = get@@ Sec@@ ur@@ ity@@ Group@@ s(@@ v@@ nic@@ Profil@@ e); java.lang.String host@@ Id = get@@ Host@@ Id(@@ host@@ ); if (p@@ or@@ t == null@@ ) { com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ model.@@ Network ex@@ ternal@@ Network = get@@ External@@ Network@@ (network@@ .get@@ Provi@@ d@@ ed@@ By@@ ()); com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ model.@@ P@@ or@@ t port@@ For@@ Cre@@ at@@ e = create@@ New@@ Port@@ For@@ Al@@ loc@@ ate(@@ nic@@ , s@@ ec@@ ur@@ ity@@ Group@@ s, host@@ Id, ex@@ ternal@@ Network@@ ); p@@ or@@ t = get@@ Client@@ ().@@ port@@ s().@@ c@@ re@@ ate(@@ port@@ For@@ Create@@ ).@@ execut@@ e(); } else { boolean s@@ ec@@ ur@@ ity@@ Group@@ s@@ Chang@@ ed = (!@@ ign@@ ore@@ Sec@@ ur@@ ity@@ Group@@ s@@ On@@ Update@@ ) && (s@@ ec@@ ur@@ ity@@ Group@@ s@@ Chang@@ ed(@@ p@@ or@@ t.get@@ Sec@@ ur@@ ity@@ Group@@ s@@ (), s@@ ec@@ ur@@ ity@@ Group@@ s@@ )); boolean host@@ Chang@@ ed = host@@ Chang@@ ed(@@ port@@ , host@@ Id); update@@ Port@@ (@@ port@@ , s@@ ec@@ ur@@ ity@@ Group@@ s@@ Changed@@ , host@@ Changed@@ , s@@ ec@@ ur@@ ity@@ Group@@ s, host@@ Id, nic@@ ); } java.util.Map<java.lang.String, java.lang.String> run@@ Proper@@ ti@@ es = create@@ Port@@ Al@@ loc@@ ation@@ Run@@ time@@ Properties@@ (@@ hos@@ t.get@@ Id(), port@@ ); return run@@ time@@ Properties@@ ; } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { throw new org.ovirt.engine.core.common.errors.@@ Engine@@ Exception@@ (org.ovirt.engine.core.common.errors.@@ Engine@@ Error@@ .@@ P@@ RO@@ V@@ ID@@ ER_@@ FAIL@@ U@@ RE@@ , e); } }
protected java.util.Map<java.lang.String, java.lang.String> create@@ Port@@ Al@@ loc@@ ation@@ Run@@ time@@ Properties@@ (@@ org.ovirt.engine.core.compat.Guid vds@@ Id, com@@ .@@ w@@ o@@ ore@@ a.@@ op@@ en@@ st@@ ack@@ .@@ qu@@ an@@ t@@ um@@ .@@ model.@@ P@@ or@@ t port@@ ) { java.util.Map<java.lang.String, java.lang.String> run@@ time@@ Proper@@ ti@@ es = new java.util.HashMap@@ <@@ >(); run@@ time@@ Properties.@@ put@@ ("@@ v@@ nic@@ _id", p@@ or@@ t.get@@ Id()); java.lang.String p@@ rovider@@ Type = get@@ Provider@@ ().get@@ Typ@@ e().@@ nam@@ e(); run@@ time@@ Properties.@@ put@@ ("@@ p@@ rovider@@ _@@ type@@ ", p@@ rovider@@ Type@@ ); if (((@@ p@@ or@@ t.get@@ Sec@@ ur@@ ity@@ Group@@ s()) != null@@ ) && (!(@@ p@@ or@@ t.get@@ Sec@@ ur@@ ity@@ Group@@ s().@@ isEmpty@@ ()))) { run@@ time@@ Properties.@@ put@@ ("@@ s@@ ec@@ ur@@ ity@@ _@@ group@@ s", org.apache.commons.lang.StringUtils.@@ j@@ o@@ in@@ (p@@ or@@ t.get@@ Sec@@ ur@@ ity@@ Group@@ s@@ (), '@@ ,@@ '@@ )); } java.lang.String p@@ lu@@ gin@@ Type = org.apache.commons.lang.@@ String@@ Util@@ s@@ .@@ default@@ String@@ (get@@ Provider@@ ().get@@ Add@@ ition@@ al@@ Properties@@ ().get@@ P@@ lu@@ gin@@ Typ@@ e()); run@@ time@@ Properties.@@ put@@ ("@@ p@@ lu@@ gin@@ _@@ type@@ ", p@@ lu@@ gin@@ Type@@ ); java.lang.String b@@ in@@ d@@ ing@@ Id = host@@ Provider@@ B@@ in@@ d@@ ing@@ Dao@@ .get(@@ vds@@ Id, p@@ lu@@ gin@@ Type@@ ); if (@@ b@@ in@@ d@@ ing@@ Id != null@@ ) { run@@ time@@ Properties.@@ put@@ ("@@ b@@ in@@ d@@ ing@@ :@@ host@@ _id", b@@ in@@ d@@ ing@@ Id); } return run@@ time@@ Properties@@ ; }
@java.lang.Override public java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ >> s@@ cor@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ C@@ luster cluster@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ VDS@@ > host@@ s, org.ovirt.engine.core.common.businessentities.VM vm@@ , java.util.Map<java.lang.String, java.lang.String> parameters@@ ) { long low@@ Memory@@ L@@ im@@ i@@ t = (@@ parameter@@ s.@@ contain@@ s@@ Key@@ (@@ Policy@@ Unit@@ Paramet@@ er.@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ OV@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name()@@ )) ? java.lang.@@ L@@ on@@ g.@@ par@@ se@@ L@@ on@@ g@@ (@@ parameters@@ .get(@@ Policy@@ Unit@@ Paramet@@ er.@@ LO@@ W@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ OV@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name()@@ )) : 0@@ L@@ ; long h@@ ig@@ h@@ Memory@@ L@@ im@@ i@@ t = (@@ parameter@@ s.@@ contain@@ s@@ Key@@ (@@ Policy@@ Unit@@ Paramet@@ er.@@ H@@ I@@ G@@ H@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ UN@@ D@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name()@@ )) ? java.lang.@@ L@@ on@@ g.@@ par@@ se@@ L@@ on@@ g@@ (@@ parameters@@ .get(@@ Policy@@ Unit@@ Paramet@@ er.@@ H@@ I@@ G@@ H@@ _M@@ EM@@ OR@@ Y_@@ L@@ IM@@ I@@ T_@@ F@@ OR@@ _@@ UN@@ D@@ ER_@@ U@@ TI@@ L@@ I@@ Z@@ ED@@ .get@@ Db@@ Name()@@ )) : java.lang.@@ L@@ on@@ g.@@ M@@ A@@ X@@ _@@ VAL@@ U@@ E@@ ; ma@@ x@@ Mem@@ or@@ y = get@@ Max@@ Memory@@ Of@@ Vds@@ In@@ Cluster@@ (@@ host@@ s); java.util.List<@@ org.ovirt.engine.core.common.utils.Pair@@ <org.ovirt.engine.core.compat.Guid@@ , java.lang.Integer@@ >> s@@ cor@@ es = new java.util.ArrayList<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ VDS vd@@ s : host@@ s) { s@@ cor@@ es.@@ add@@ (@@ new org.ovirt.engine.core.common.utils.Pair@@ (@@ vds.get@@ Id(), c@@ al@@ c@@ Host@@ S@@ cor@@ e(@@ vds.get@@ Max@@ Schedul@@ ing@@ Memory@@ (), ma@@ x@@ Memory@@ L@@ im@@ it@@ , h@@ ig@@ h@@ Memory@@ L@@ im@@ it@@ ))); } return s@@ cor@@ es@@ ; }
private int c@@ al@@ c@@ Host@@ S@@ cor@@ e(@@ java.lang.Integ@@ er h@@ ig@@ h@@ Memory@@ ) { int c@@ al@@ c@@ Host@@ S@@ cor@@ e = (@@ int@@ ) ((@@ host@@ Schedul@@ ing@@ M@@ e@@ m / ma@@ x@@ Memory@@ ) * (@@ Max@@ Schedul@@ er@@ W@@ e@@ ig@@ ht@@ ) - 1@@ )); return (@@ int@@ ) ((@@ host@@ Schedul@@ ing@@ M@@ e@@ m / ma@@ x@@ Memory@@ ) * (@@ Max@@ Schedul@@ er@@ W@@ e@@ ig@@ ht@@ ) - 1@@ )); }
public javax.ws.rs.@@ core.@@ Respon@@ se import@@ VmTemplate@@ From@@ Configuration@@ (@@ org.ovirt.engine.api.model.@@ Templat@@ e template@@ ) { org.ovirt.engine.api.model.@@ In@@ itial@@ iz@@ ation initial@@ iz@@ ation = templat@@ e.get@@ In@@ itial@@ iz@@ ation@@ (); org.ovirt.engine.api.model.@@ Configur@@ ation confi@@ g = initial@@ iz@@ ation@@ .get@@ Configuration@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Templat@@ e template@@ Configur@@ ation = get@@ Entity@@ (org.ovirt.engine.core.common.businessentities.@@ VmTemplate@@ .@@ class@@ , Query@@ Type.Get@@ VmTemplate@@ From@@ Configuration@@ , new org.ovirt.engine.core.common.queries.@@ Get@@ Vm@@ From@@ Configuration@@ Query@@ Parameters(@@ org.ovirt.engine.api.restapi.@@ types.@@ Vm@@ Mapper.@@ map@@ (@@ config.@@ get@@ Typ@@ e(), null@@ ), config.@@ get@@ Data@@ ().@@ t@@ ri@@ m@@ ()), "@@ "); org.ovirt.engine.api.restapi.@@ types.@@ Template@@ Mapper.@@ map@@ (@@ template@@ , template@@ Configuration@@ ); org.ovirt.engine.core.compat.Guid cluster@@ Id = (@@ nam@@ ed@@ Cluster@@ (@@ template@@ )) ? get@@ Cluster@@ Id(@@ template@@ ) : as@@ Guid@@ (@@ templat@@ e.get@@ Cluster@@ ().get@@ Id()); org.ovirt.engine.core.common.action.@@ Import@@ VmTemplate@@ From@@ Con@@ f@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ Import@@ VmTemplate@@ From@@ Con@@ f@@ Parameters@@ (); parameters.set@@ Vm@@ Templ@@ ate(@@ template@@ Configuration@@ ); parameters.set@@ Cluster@@ Id@@ (cluster@@ Id); if (@@ initial@@ iz@@ ation@@ .is@@ Set@@ Re@@ gener@@ ate@@ Id@@ s()) { parameters.set@@ Import@@ As@@ New@@ Entity(@@ initial@@ iz@@ ation@@ .is@@ Re@@ gener@@ ate@@ Id@@ s()); } return p@@ er@@ for@@ m@@ Cre@@ ate(@@ ActionType.@@ Import@@ VmTemplate@@ From@@ Configuration@@ , parameters@@ , new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type.Get@@ VmTemplate@@ , org.ovirt.engine.core.common.queries.@@ Get@@ VmTemplate@@ Parameters@@ .@@ class@@ )); }
private static int set@@ Network@@ Boot@@ Or@@ der@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , java.util.Map<java.lang.String, java.lang.Object> devi@@ c@@ es@@ , int b@@ oot@@ Or@@ der@@ ) { for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e p@@ lug@@ ged@@ Interface : org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Utils.@@ s@@ ort@@ Interfaces@@ By@@ Name(@@ vm@@ , org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ Plug@@ ged@@ Manage@@ d@@ Interfac@@ es(@@ devi@@ c@@ es@@ ))) { p@@ lug@@ ged@@ Interfac@@ e.set@@ Boot@@ Or@@ der@@ ((@@ +@@ b@@ oot@@ Or@@ der@@ )); } return b@@ oot@@ Or@@ der@@ ; }
private static int set@@ Disk@@ Boot@@ Or@@ der@@ (org.ovirt.engine.core.common.businessentities.@@ VM vm@@ , java.util.Map<java.lang.String, java.lang.Object> devi@@ c@@ es@@ , int b@@ oot@@ Or@@ der@@ ) { java.util.@@ Link@@ ed@@ List<@@ org.ovirt.engine.core.common.businessentities.Vm@@ Device@@ > disk@@ Device@@ s = new java.util.@@ Link@@ ed@@ List<@@ >(); for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e devi@@ c@@ e : devi@@ c@@ es) { if (org.ovirt.engine.core.common.@@ utils.@@ VmDevice@@ C@@ ommon@@ Utils.@@ is@@ Disk@@ (@@ devi@@ ce@@ )) { org.ovirt.engine.core.compat.Guid id = devi@@ c@@ e.get@@ Device@@ Id@@ (); if ((@@ id != null@@ ) && (!(@@ id@@ .equals(@@ Guid@@ .@@ Empty@@ )))) { if ((@@ devi@@ c@@ e.get@@ Snapshot@@ Id()) == null@@ ) { disk@@ Devic@@ es.@@ add@@ F@@ ir@@ st@@ (@@ devi@@ ce@@ ); } else { disk@@ Devic@@ es.@@ add@@ L@@ ast@@ (@@ devi@@ ce@@ ); } } for (org.ovirt.engine.core.common.businessentities.@@ Vm@@ Devic@@ e devi@@ c@@ e : disk@@ Devic@@ es) { org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent d@@ v@@ e = org.ovirt.engine.core.common.utils.@@ VmDevice@@ C@@ ommon@@ Util@@ s.get@@ Disk@@ Vm@@ Element@@ (vm@@ , devi@@ c@@ e.get@@ Device@@ Id()); if ((@@ d@@ v@@ e != null@@ ) && (@@ d@@ v@@ e.@@ is@@ Boot@@ ())) { devi@@ c@@ e.set@@ Boot@@ Or@@ der@@ ((@@ +@@ b@@ oot@@ Or@@ der@@ )); } } return b@@ oot@@ Or@@ der@@ ; }
private boolean conn@@ ect@@ Storage@@ Server@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Storage@@ Type storage@@ Type, java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s> connection@@ s, boolean s@@ end@@ Network@@ Event@@ On@@ Failur@@ e) { if (@@ connection@@ s == null@@ ) { return true@@ ; } org.ovirt.engine.core.common.vdscommands.@@ StorageServerConnection@@ Management@@ VDS@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.vdscommands.@@ StorageServerConnection@@ Management@@ VDS@@ Parameters@@ (get@@ Vds@@ ().get@@ Id(), get@@ StoragePool@@ ().get@@ Id(), storage@@ Type, connection@@ s); parameters.set@@ S@@ end@@ Network@@ Event@@ On@@ Failur@@ e(@@ s@@ end@@ Network@@ Event@@ On@@ Failur@@ e); java.util.Map<java.lang.String, java.lang.String> ret@@ Value@@ s = ((@@ java.util.Map<java.lang.String, java.lang.String@@ >) (@@ run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Conn@@ ect@@ Storage@@ Server@@ , parameters@@ ).get@@ ReturnValu@@ e())); return storage@@ Hel@@ per@@ Direct@@ or@@ .get@@ Item@@ (@@ storage@@ Type@@ ).@@ is@@ Conn@@ ect@@ Succeeded(@@ ret@@ Valu@@ es@@ , connection@@ s); }
private boolean conn@@ ect@@ File@@ Storage@@ Server@@ s(@@ org.ovirt.engine.core.common.businessentities.storage.@@ Storage@@ Type storage@@ Type, java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s> connection@@ s) { java.util.Map@@ <org.ovirt.engine.core.common.businessentities.@@ StorageDomain@@ Type, java.util.List<org.ovirt.engine.core.common.businessentities.@@ StorageServerConnection@@ s@@ >> conn@@ By@@ Type = connection@@ s.@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ group@@ ing@@ By@@ (@@ ( c@@ ) -@@ > storageDomain@@ Dao@@ .get@@ All@@ By@@ Connection@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (c@@ .getId@@ ())@@ ).get@@ (0@@ ).get@@ StorageDomain@@ Typ@@ e())); boolean conn@@ ect@@ Succeed@@ ed = conn@@ ect@@ Storage@@ Server@@ (@@ storage@@ Type, conn@@ By@@ Typ@@ e.get@@ (@@ StorageDomain@@ Type.@@ Data@@ ), true@@ ); try { conn@@ ect@@ Storage@@ Server@@ (@@ storage@@ Type, conn@@ By@@ Typ@@ e.get@@ (@@ StorageDomain@@ Type.@@ IS@@ O@@ ), false@@ ); conn@@ ect@@ Storage@@ Server@@ (@@ storage@@ Type, conn@@ By@@ Typ@@ e.get@@ (@@ StorageDomain@@ Type.@@ Import@@ Export@@ ), false@@ ); } catch (org.ovirt.engine.core.common.errors.@@ Engine@@ Exception e) { log.@@ info@@ ("@@ I@@ g@@ n@@ or@@ ing fail@@ ed conn@@ ec@@ tion to do@@ ma@@ in of typ@@ e IS@@ O@@ /@@ Import@@ -@@ Exp@@ or@@ t.@@ '@@ "); } return conn@@ ect@@ Succeeded@@ ; }
protected void execute@@ Vds@@ Command@@ With@@ Network@@ Event@@ (@@ boolean s@@ end@@ Network@@ Event@@ ) { try { execute@@ Vds@@ Broker@@ Command@@ (); } catch (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Network@@ Exception ex@@ ) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Command.@@ p@@ r@@ int@@ ReturnValu@@ e(); update@@ Network@@ Exception@@ (@@ ex@@ , ex@@ .get@@ Message@@ ()); if (s@@ end@@ Network@@ Event@@ ) { network@@ Error@@ .@@ fi@@ r@@ e(@@ ex@@ ); } throw ex@@ ; } catch (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Exception@@ Base ex@@ ) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Command.@@ p@@ r@@ int@@ ReturnValu@@ e(); throw ex@@ ; } catch (@@ org.ovirt.engine.core.vdsbroker.@@ Trans@@ port@@ Run@@ Time@@ Exception ex@@ ) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ VDS@@ Network@@ Exception network@@ Exception = create@@ Network@@ Exception@@ (@@ ex@@ ); org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Command.@@ p@@ r@@ int@@ ReturnValu@@ e(); if (s@@ end@@ Network@@ Event@@ ) { network@@ Error@@ .@@ fi@@ r@@ e(@@ network@@ Exception@@ ); } throw network@@ Exception@@ ; } catch (@@ java.lang.@@ Run@@ time@@ Exception e) { org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Command.@@ p@@ r@@ int@@ ReturnValu@@ e(); if ((get@@ And@@ Set@@ Vds@@ Static@@ ()) == null@@ ) { log.error@@ ("@@ Fail@@ ed in '{}@@ ' m@@ et@@ hod@@ , for vd@@ s id@@ : '{}@@ '@@ : {}@@ ", org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Command.get@@ Command@@ Name(), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Command.getParameters().get@@ Vds@@ Id(), e.get@@ Message@@ ()); } else { log.error@@ ("@@ Fail@@ ed in '{}@@ ' m@@ et@@ hod@@ , for vds@@ : '{}@@ '@@ ; host@@ : '{}@@ '@@ : {}@@ ", org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Command.get@@ Command@@ Name(), get@@ And@@ Set@@ Vds@@ Static@@ ().get@@ Name(), get@@ And@@ Set@@ Vds@@ Static@@ ().get@@ Host@@ Name(), e.get@@ Message@@ ()); } throw e@@ ; }
@org.junit.Test public void test@@ Ex@@ tr@@ act@@ Ip@@ v@@ 4@@ Address@@ Empty@@ String@@ () { assert@@ That@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ex@@ tr@@ act@@ Address@@ (c@@ om@@ .@@ googl@@ S@@ o@@ f@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ AD@@ D@@ R@@ , "@@ )@@ ), null@@ Valu@@ e()); }
@org.junit.Test public void test@@ Ex@@ tr@@ act@@ Ip@@ v@@ 4@@ Sub@@ net@@ Empty@@ String@@ () { assert@@ That@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ex@@ tr@@ act@@ Sub@@ net@@ (c@@ om@@ .@@ googl@@ googl@@ S@@ o@@ f@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ NET@@ M@@ A@@ S@@ K@@ , "@@ )@@ ), null@@ Valu@@ e()); }
@org.junit.Test public void test@@ Ex@@ tr@@ act@@ Ip@@ v@@ 4@@ G@@ ate@@ w@@ ay@@ Empty@@ String@@ () { assert@@ That@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ex@@ tr@@ act@@ G@@ ate@@ w@@ ay@@ (c@@ om@@ .@@ googl@@ googl@@ googl@@ googl@@ googl@@ >@@ .@@ class@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ex@@ tr@@ act@@ G@@ ate@@ w@@ ay@@ (c@@ om@@ .@@ googl@@ googl@@ e.c@@ oll@@ ec@@ t.@@ Im@@ m@@ ut@@ able@@ Map@@ .@@ o@@ f@@ (@@ Vds@@ Properties.@@ G@@ LO@@ B@@ AL@@ _@@ G@@ AT@@ E@@ W@@ A@@ Y@@ , "@@ )@@ ), null@@ Valu@@ e()); }
private static java.lang.String ex@@ tr@@ act@@ I@@ P@@ V@@ 6@@ g@@ ate@@ w@@ ay@@ (@@ java.util.Map<java.lang.String, java.lang.Object> e@@ f@@ ec@@ ti@@ ve@@ Properties@@ ) { java.lang.String g@@ ate@@ w@@ a@@ y = ((@@ java.lang.String@@ ) (@@ e@@ f@@ ec@@ ti@@ ve@@ Properties@@ .get(@@ Vds@@ Properties.@@ I@@ P@@ V@@ 6@@ _@@ G@@ LO@@ B@@ AL@@ _@@ G@@ AT@@ E@@ W@@ A@@ Y@@ ))); return org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ g@@ ate@@ w@@ ay@@ ) ? null : g@@ ate@@ w@@ ay@@ ; }
static java.lang.String ex@@ tr@@ act@@ G@@ ate@@ w@@ ay@@ (@@ java.util.Map<java.lang.String, java.lang.Object> proper@@ ties@@ ) { java.lang.String g@@ ate@@ w@@ a@@ y = ((@@ java.lang.String@@ ) (@@ proper@@ ties@@ .get(@@ Vds@@ Properties.@@ G@@ LO@@ B@@ AL@@ _@@ G@@ AT@@ E@@ W@@ A@@ Y@@ ))); return org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ g@@ ate@@ w@@ ay@@ ) ? null : g@@ ate@@ w@@ ay@@ ; }
static java.lang.String ex@@ tr@@ act@@ Sub@@ net@@ (@@ java.util.Map<java.lang.String, java.lang.Object> proper@@ ties@@ ) { java.lang.String net@@ m@@ as@@ k = ((@@ java.lang.String@@ ) (@@ proper@@ ties@@ .get@@ ("@@ m@@ ask@@ "@@ ))); java.lang.String net@@ m@@ ask@@ = ((@@ java.lang.String@@ ) (@@ proper@@ ties@@ .get@@ ("@@ net@@ m@@ ask@@ "@@ ))); java.lang.String net@@ m@@ ask@@ ; if (@@ net@@ m@@ ask@@ ) == null@@ ) { return null@@ ; } java.lang.String net@@ m@@ ask@@ = ((@@ java.lang.String@@ ) (@@ proper@@ ties@@ .get@@ ("@@ net@@ m@@ ask@@ "@@ ))); java.lang.String net@@ m@@ ask@@ = org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ net@@ m@@ ask@@ ) ? null : net@@ m@@ ask@@ ; }
@org.junit.Test public void test@@ Ex@@ tr@@ act@@ Ip@@ v@@ 6@@ Address@@ Empty@@ String@@ () { assert@@ That@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ Vds@@ Broker@@ Object@@ s@@ Buil@@ der.@@ ex@@ tr@@ act@@ Ip@@ v@@ 6@@ Address@@ ("@@ "@@ ), null@@ Valu@@ e()); }
static java.lang.String ex@@ tr@@ act@@ Address@@ (@@ java.util.Map<java.lang.String, java.lang.Object> proper@@ ties@@ ) { java.lang.String add@@ ress@@ ; return org.apache.commons.lang.StringUtils.@@ isEmpty@@ (@@ add@@ ress@@ ) ? null : add@@ ress@@ ; }
@org.junit.Test public void test@@ Is@@ Network@@ In@@ Sync@@ W@@ h@@ en@@ Ip@@ v@@ 4@@ G@@ ate@@ w@@ ay@@ B@@ oth@@ B@@ lan@@ k@@ () { init@@ Ip@@ v@@ 4@@ Configuration@@ Static@@ Boot@@ Protocol@@ (@@ Ip@@ v@@ 4@@ Boot@@ Protoc@@ o@@ l.@@ ST@@ A@@ TI@@ C@@ _@@ I@@ P@@ ); ip@@ v@@ 4@@ Address@@ .set@@ G@@ ate@@ w@@ ay@@ (@@ null@@ ); if@@ ac@@ e.set@@ Ip@@ v@@ 4@@ G@@ ate@@ w@@ ay@@ (@@ null@@ ); assert@@ That@@ (c@@ reate@@ Test@@ ed@@ Instanc@@ e().@@ is@@ Network@@ In@@ Sync@@ (), is@@ (@@ true@@ )); }
private boolean sh@@ oul@@ d@@ Ab@@ ort@@ On@@ Client@@ In@@ acti@@ vi@@ ty@@ Time@@ out@@ (org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ f@@ er entity@@ , long t@@ s, java.lang.Integ@@ er id@@ le@@ Time@@ From@@ T@@ ick@@ et@@ ) { int in@@ acti@@ vi@@ ty@@ Time@@ o@@ u@@ t = get@@ Trans@@ fer@@ Image@@ Client@@ In@@ acti@@ vi@@ ty@@ Time@@ out@@ In@@ Sec@@ on@@ ds@@ (); boolean tim@@ eo@@ ut@@ ed@@ Exce@@ ed@@ ed = (@@ id@@ le@@ Time@@ From@@ T@@ ick@@ e@@ t != null@@ ) ? id@@ le@@ Time@@ From@@ T@@ ick@@ e@@ t > in@@ acti@@ vi@@ ty@@ Time@@ o@@ u@@ t : t@@ s > (((@@ entity.get@@ L@@ ast@@ Updat@@ ed@@ ().get@@ Tim@@ e()) / 1@@ 00@@ 0) + in@@ acti@@ vi@@ ty@@ Time@@ out@@ ); return (((@@ in@@ acti@@ vi@@ ty@@ Time@@ o@@ u@@ t > 0) && tim@@ eo@@ ut@@ Exce@@ ed@@ ) && (@@ entity.get@@ P@@ has@@ Be@@ Pa@@ us@@ ed@@ ())) && (!(@@ entity.get@@ Acti@@ v@@ e())); }
public static void toString@@ (@@ java.util.Map<java.lang.String, ?@@ > map@@ , java.lang.String@@ Buil@@ der buil@@ der@@ ) { if (@@ ma@@ p == null@@ ) { buil@@ der.@@ append("@@ {}@@ "); return@@ ; } buil@@ der.@@ append("@@ {@@ "); java.util.@@ I@@ ter@@ ator@@ <@@ ? extends java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, ?@@ > it@@ er@@ ator = map@@ .@@ e@@ n@@ try@@ Set@@ ().@@ it@@ er@@ ator@@ (); while (@@ it@@ er@@ ator.@@ has@@ N@@ ext@@ ()) { java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, ?@@ > e@@ n@@ try e@@ n@@ try = it@@ er@@ ator.@@ ne@@ xt@@ (); buil@@ der.@@ append@@ (@@ java.lang.String@@ .@@ for@@ mat@@ ("@@ %@@ 1@@ $@@ s@@ =@@ ", e@@ n@@ try@@ .get@@ Key@@ ())); org.ovirt.engine.core.vdsbroker.@@ Object@@ D@@ es@@ cri@@ p@@ t@@ or@@ .toString@@ Builder@@ (@@ e@@ n@@ try@@ .get@@ Valu@@ e(), buil@@ der@@ ); if (@@ it@@ er@@ ator.@@ has@@ N@@ ext@@ ()) { buil@@ der.@@ append@@ (@@ } buil@@ der.@@ append("@@ }@@ "); }
@java.lang.Override public java.lang.String toString@@ () { return org.ovirt.engine.core.common.utils.@@ To@@ String@@ Builder@@ .@@ for@@ In@@ stance@@ (@@ this@@ ).@@ append("@@ P@@ ri@@ vat@@ e SP@@ M Id@@ ", private@@ Sp@@ m@@ Id@@ ).@@ append("@@ P@@ ri@@ vat@@ e SP@@ M Version@@ ", private@@ Sp@@ m@@ L@@ V@@ ER@@ ).@@ append("@@ SP@@ M Status@@ ", private@@ Sp@@ m@@ Status@@ ).@@ build@@ (); }
public static void toString@@ (java.lang.Object object@@ , java.lang.String@@ Buil@@ der buil@@ der@@ ) { if (@@ obj@@ ect == null@@ ) { return@@ ; } if (@@ obj@@ ect instanceof java.lang.Object@@ []@@ ) { org.ovirt.engine.core.vdsbroker.@@ Object@@ D@@ es@@ cri@@ p@@ t@@ or@@ .toString@@ Builder@@ (((@@ java.lang.Object@@ []@@ ) (@@ object@@ )@@ ), buil@@ der@@ ); } else if (@@ obj@@ ect instanceof java.util.Map@@ ) { org.ovirt.engine.core.vdsbroker.@@ Object@@ D@@ es@@ cri@@ p@@ t@@ or@@ .toString@@ Builder@@ (((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ object@@ )@@ ), buil@@ der@@ ); } else if ((!@@ (@@ obj@@ ect instanceof java.lang.String@@ )) && (@@ obj@@ ect instanceof java.lang.@@ I@@ ter@@ able@@ )) { org.ovirt.engine.core.vdsbroker.@@ Object@@ D@@ es@@ cri@@ p@@ t@@ or@@ .toString@@ Builder@@ (((@@ java.lang.@@ I@@ ter@@ able@@ ) (@@ object@@ )@@ ), buil@@ der@@ ); } else { buil@@ der.@@ append@@ (@@ objec@@ t.@@ toString@@ ()); } }
@java.lang.Override protected org.@@ sp@@ ring@@ framework.@@ j@@ db@@ c.@@ core.@@ Row@@ Map@@ per@@ <org.ovirt.engine.core.common.businessentities.@@ storage.@@ Image@@ Trans@@ fer@@ > create@@ Entity@@ Row@@ Map@@ per@@ () { return "@@ ap@@ plication@@ /@@ x@@ ml@@ ")); }
private javax.ws.rs.@@ core.@@ Respon@@ se p@@ er@@ for@@ m@@ Cre@@ ate(@@ org.ovirt.engine.api.model.@@ Image@@ Trans@@ f@@ er image@@ Trans@@ fer@@ , org.ovirt.engine.core.common.action.@@ Trans@@ fer@@ DiskImage@@ Parameters param@@ s) { update@@ Trans@@ fer@@ Type(@@ image@@ Trans@@ fer@@ , param@@ s); if ((@@ image@@ Trans@@ f@@ er.@@ isSet@@ Host@@ ()) && (@@ image@@ Trans@@ fer@@ .get@@ Host@@ ().is@@ Set@@ Id@@ ())) { params.set@@ Vds@@ Id(@@ org.ovirt.engine.core.compat.Guid.@@ create@@ Guid@@ From@@ String@@ (@@ image@@ Trans@@ fer@@ .get@@ Host@@ ().get@@ Id@@ ())); } if (@@ image@@ Trans@@ f@@ er.@@ isSet@@ Client@@ In@@ acti@@ vi@@ ty@@ Time@@ out@@ ()) { params.set@@ Client@@ In@@ acti@@ vi@@ ty@@ Time@@ out@@ (@@ image@@ Trans@@ fer@@ .get@@ Client@@ In@@ acti@@ vi@@ ty@@ Time@@ out@@ ()); } return p@@ er@@ for@@ m@@ Cre@@ ate(@@ ActionType.@@ Trans@@ fer@@ DiskImage@@ , param@@ s, new org.ovirt.engine.api.restapi.resource.@@ Query@@ Id@@ Res@@ ol@@ ver@@ <org.ovirt.engine.core.compat.Guid@@ >@@ (org.ovirt.engine.core.common.@@ queries.@@ Query@@ Type.Get@@ Image@@ Trans@@ fer@@ By@@ Id, org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ .@@ class@@ )); }
@java.lang.Override protected void build@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ Unit@@ Vm@@ Model model, T vm@@ ) { vm@@ .set@@ Mem@@ Size@@ M@@ b@@ (model.get@@ Mem@@ Siz@@ e().get@@ Entity@@ ()); vm@@ .set@@ Max@@ Memory@@ Size@@ M@@ b@@ (model.get@@ Max@@ Memory@@ Siz@@ e().get@@ Entity@@ ()); if (model.get@@ I@@ o@@ Th@@ rea@@ ds@@ Enabled@@ ().getEntity@@ ()) { vm@@ .set@@ NumOf@@ I@@ o@@ Th@@ rea@@ ds@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ buil@@ der@@ s.@@ vm@@ .@@ H@@ w@@ Only@@ C@@ ore@@ Unit@@ To@@ Vm@@ Base@@ Buil@@ der.@@ DE@@ F@@ A@@ U@@ L@@ T_@@ N@@ U@@ M@@ _@@ O@@ F@@ _@@ I@@ O@@ TH@@ RE@@ AD@@ S@@ ); } else { vm@@ .set@@ NumOf@@ I@@ o@@ Th@@ rea@@ ds@@ (0@@ ); } vm@@ .set@@ NumOf@@ S@@ ock@@ et@@ s(@@ model.get@@ NumOf@@ S@@ ock@@ et@@ s().get@@ SelectedItem@@ ()); vm@@ .set@@ Cpu@@ Per@@ S@@ ock@@ et@@ (model.get@@ C@@ or@@ es@@ Per@@ S@@ ock@@ et@@ ().get@@ SelectedItem@@ ()); vm@@ .set@@ Th@@ rea@@ ds@@ Per@@ Cpu@@ (model.get@@ Th@@ rea@@ ds@@ Per@@ C@@ or@@ e().get@@ SelectedItem@@ ()); vm@@ .set@@ Default@@ Display@@ Type(@@ model.get@@ Display@@ Typ@@ e().get@@ SelectedItem@@ ()); vm@@ .set@@ NumOf@@ M@@ onitor@@ s(@@ model.get@@ NumOf@@ M@@ onitor@@ s().get@@ SelectedItem@@ ()); vm@@ .set@@ S@@ m@@ art@@ c@@ ard@@ Enabl@@ ed(@@ model.get@@ Is@@ S@@ m@@ art@@ c@@ ard@@ Enabled@@ ().getEntity@@ ()); vm@@ .set@@ S@@ s@@ o@@ Method@@ (@@ model.@@ ex@@ tr@@ act@@ Selected@@ S@@ s@@ o@@ Method@@ ()); vm@@ .set@@ M@@ in@@ Al@@ loc@@ ated@@ Mem@@ (model.get@@ M@@ in@@ Al@@ loc@@ ated@@ Memory@@ ().getEntity@@ ()); vm@@ .set@@ Default@@ Boot@@ Se@@ qu@@ enc@@ e(@@ model.get@@ Boot@@ Se@@ qu@@ enc@@ e()); vm@@ .set@@ Sing@@ le@@ Q@@ x@@ l@@ P@@ c@@ i@@ (model.get@@ Is@@ Sing@@ le@@ Q@@ x@@ l@@ Enabled@@ ().getEntity@@ ()); vm@@ .set@@ Custom@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e(@@ model.get@@ Em@@ ul@@ ated@@ M@@ ach@@ in@@ e().get@@ SelectedItem@@ ()); vm@@ .set@@ B@@ i@@ os@@ Type(@@ B@@ i@@ os@@ Type.@@ SE@@ A@@ _@@ B@@ I@@ O@@ S@@ ); vm@@ .set@@ Custom@@ Cpu@@ Name(@@ model.get@@ Custom@@ Cpu@@ ().get@@ SelectedItem@@ ()); }
public void update@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ (org.ovirt.engine.core.compat.Guid vds@@ Id, org.ovirt.engine.core.common.businessentities.network.@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation re@@ port@@ ed@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ) { if (@@ re@@ port@@ ed@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configur@@ ation == null@@ ) { d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Dao@@ .@@ remove@@ By@@ Vds@@ Dynamic@@ Id(@@ vds@@ Id); } else { if ((@@ re@@ port@@ ed@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .getId@@ ()) == null@@ ) { re@@ port@@ ed@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ .set@@ Id(@@ vds@@ Id); d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Dao@@ .@@ s@@ av@@ e(@@ re@@ port@@ ed@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ); } else { d@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ Dao@@ .@@ updat@@ e(@@ re@@ port@@ ed@@ D@@ n@@ s@@ Res@@ ol@@ ver@@ Configuration@@ ); } }
protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> setUp@@ Templat@@ es@@ (@@ boolean not@@ F@@ ound@@ ) { return java.util.@@ st@@ re@@ am@@ .@@ Int@@ St@@ re@@ am@@ .@@ r@@ ang@@ e(@@ 0@@ , NAM@@ E@@ S@@ .@@ l@@ ength@@ ).@@ filter@@ (@@ ( x@@ ) -@@ > !@@ not@@ F@@ ound@@ ).@@ b@@ o@@ x@@ ed@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ this@@ :@@ :@@ :@@ get@@ VmTemplate@@ Entity@@ , java.util.Array@@ List@@ :@@ new@@ )); }
protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> setUp@@ Templat@@ es@@ (@@ boolean not@@ F@@ ound@@ ) { java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> m@@ s = new java.util.HashMap@@ <@@ >(); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> e@@ n@@ try : m@@ s.@@ e@@ n@@ try@@ Set@@ ()) { e@@ n@@ try@@ .get@@ Valu@@ e().set@@ F@@ ound@@ (@@ e@@ n@@ try@@ .get@@ Valu@@ e()); } return new java.util.HashMap@@ <java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >@@ >(); }
protected java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> setUp@@ Templat@@ es@@ (@@ boolean not@@ F@@ ound@@ ) { java.util.Map<java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> m@@ s = new java.util.HashMap@@ <@@ >(); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, org.ovirt.engine.core.common.utils.Pair@@ <java.lang.String, java.lang.String@@ >> e@@ n@@ try : m@@ s.@@ e@@ n@@ try@@ Set@@ ()) { e@@ n@@ try@@ .get@@ Valu@@ e().set@@ F@@ ound@@ (@@ e@@ n@@ try@@ .get@@ Valu@@ e()); } return java.util.Collections.@@ em@@ pty@@ Map@@ (); }
public void create@@ Volume@@ Snapshot@@ () { if ((get@@ W@@ in@@ do@@ w@@ ()) != null@@ ) { return@@ ; } org.ovirt.engine.core.common.businessentities.@@ gluster.GlusterVolume@@ Entity volume@@ Entity = get@@ SelectedItem@@ (); org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ Snapshot@@ Model snapshot@@ Model = org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ Snapshot@@ Model.@@ create@@ Volume@@ Snapshot@@ Model@@ (@@ this@@ ); set@@ W@@ in@@ do@@ w@@ (s@@ napshot@@ Model@@ ); snapshot@@ Model.@@ st@@ art@@ Progress@@ (); snapshot@@ Model.get@@ Cluster@@ Name()@@ .set@@ Entity(@@ volume@@ Entity@@ .get@@ Cluster@@ Name()); snapshot@@ Model.get@@ Volume@@ Name()@@ .set@@ Entity(@@ volume@@ Entity@@ .get@@ Name()); org.ovirt.engine.ui.uicommonweb.UICommand o@@ k@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ on@@ Create@@ Snapshot@@ ", this@@ ); snapshot@@ Model.get@@ Command@@ s().add(@@ o@@ k@@ Command@@ ); org.ovirt.engine.ui.uicommonweb.UICommand cancel@@ C@@ ommand = new org.ovirt.engine.ui.uicommonweb.U@@ I@@ Command@@ ("@@ Cancel@@ ", this@@ ); snapshot@@ Model.get@@ Command@@ s().@@ add@@ (c@@ ancel@@ Command@@ ); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Is@@ GlusterVolume@@ Snapshot@@ Cli@@ Schedul@@ e@@ Enabled@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.@@ volum@@ es.@@ Async@@ Query@@ (@@ ( is@@ Schedul@@ e@@ Enabled@@ ) -@@ > { snapshot@@ Model.get@@ Dis@@ able@@ Cli@@ Schedul@@ e().set@@ Entity(@@ is@@ Cli@@ Schedul@@ e@@ Enabled@@ ); snapshot@@ Model.@@ st@@ op@@ Progress@@ (); } ), volume@@ Entity@@ .get@@ Cluster@@ Id()); }
public static org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ Snapshot@@ Model create@@ Volume@@ Snapshot@@ Model@@ (@@ org.ovirt.engine.ui.uicommonweb.@@ I@@ Command@@ T@@ arg@@ e@@ t command@@ T@@ arget@@ ) { final org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ Snapshot@@ Model snapshot@@ Model = new org.ovirt.engine.ui.uicommonweb.models.@@ gluster.GlusterVolume@@ Snapshot@@ Model@@ (@@ true@@ , true@@ ); snapshot@@ Model@@ .set@@ Help@@ Tag@@ (@@ Help@@ Tag@@ .@@ new@@ _@@ snapshot@@ ); snapshot@@ Model@@ .set@@ Hash@@ Name(@@ "@@ new@@ _@@ volume@@ _@@ snapshot@@ "); snapshot@@ Model@@ .set@@ Title(org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance().getConstants().@@ create@@ Schedul@@ e@@ Volume@@ Snapshot@@ Titl@@ e()); return snapshot@@ Model@@ ; }
public boolean is@@ Default@@ M@@ tu@@ () { return m@@ tu@@ ; }
protected int c@@ al@@ c@@ Ev@@ en@@ D@@ ist@@ rib@@ ution@@ S@@ cor@@ e(@@ e(@@ e(@@ org.ovirt.engine.core.common.businessentities.VM vm@@ , boolean c@@ ount@@ Th@@ rea@@ ds@@ As@@ C@@ or@@ es) { java.lang.Integ@@ er e@@ f@@ ec@@ ti@@ ve@@ Cpu@@ C@@ or@@ es = s@@ l@@ a@@ Validator@@ .get@@ E@@ f@@ f@@ ec@@ ti@@ ve@@ Cpu@@ C@@ or@@ es(@@ vds@@ , c@@ ount@@ Th@@ rea@@ ds@@ As@@ C@@ or@@ es@@ ); if ((@@ e@@ f@@ ec@@ ti@@ ve@@ Cpu@@ C@@ or@@ es == null@@ ) || (@@ vds.get@@ Us@@ age@@ Cpu@@ Per@@ cent@@ ()) == null@@ )) { return (@@ Max@@ Schedul@@ er@@ W@@ e@@ ig@@ ht@@ ) - 1@@ ; } int s@@ cor@@ e = (@@ int@@ ) (@@ java.lang.@@ M@@ ath@@ .@@ ro@@ un@@ d@@ ((@@ c@@ al@@ c@@ Host@@ Lo@@ ad@@ Per@@ C@@ or@@ es) - 1@@ )); return java.lang.@@ M@@ ath@@ .@@ min@@ (s@@ cor@@ e.get@@ Max@@ Schedul@@ er@@ W@@ e@@ ig@@ h@@ t@@ ) - 1@@ )); }
public static int get@@ M@@ tu@@ al@@ Value(@@ org.ovirt.engine.core.common.businessentities.network.@@ Network network@@ ) { return (network@@ .get@@ M@@ tu@@ ()) == 0 ? 0 : network@@ .get@@ M@@ tu@@ (); }
public void load@@ Vm@@ From@@ O@@ va@@ () { cl@@ e@@ ar@@ For@@ Lo@@ ad@@ (); if (!(@@ validate@@ O@@ va@@ Configuration@@ ())) { return@@ ; } st@@ art@@ Progress@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Vm@@ From@@ O@@ va@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Async@@ Query@@ (@@ ( return@@ Value@@ ) -@@ > { if (@@ return@@ Valu@@ e.get@@ Succeeded@@ ()) { java.lang.Object result = return@@ Valu@@ e.get@@ ReturnValu@@ e(); List<@@ org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ s@@ ; if (@@ result instanceof org.ovirt.engine.core.common.businessentities.@@ VM@@ ) { vm@@ s = java.util.Collections.@@ sing@@ leton@@ List@@ ((@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ ) (@@ result@@ ))); } else { Map@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , java.lang.String> vm@@ To@@ O@@ v@@ a = ((@@ Map@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , java.lang.String@@ >) (@@ result@@ )); vm@@ s = new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Array@@ List<@@ >@@ (vm@@ To@@ O@@ va@@ .@@ key@@ Set@@ ()); vm@@ Name@@ To@@ O@@ v@@ a = vm@@ To@@ O@@ va@@ .@@ key@@ Set@@ ().@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (org.ovirt.engine.core.common.businessentities.@@ VM@@ :@@ :@@ :@@ get@@ Name, (vm@@ ), vm@@ To@@ O@@ va@@ .get@@ (vm@@ ))); } update@@ Vms@@ (); } else { set@@ Error@@ (@@ mess@@ ages.@@ fail@@ ed@@ To@@ Lo@@ ad@@ O@@ va@@ (get@@ O@@ va@@ Path@@ ().getEntity@@ ())); } st@@ op@@ Progress@@ (); }
@java.lang.Override protected void execute@@ Query@@ Command() { java.lang.String s@@ t@@ do@@ u@@ t = run@@ An@@ si@@ bl@@ e@@ Query@@ O@@ va@@ Info@@ P@@ l@@ ay@@ b@@ ook@@ (); s@@ t@@ do@@ u@@ t = s@@ t@@ do@@ u@@ t@@ ri@@ m@@ (); java.lang.@@ B@@ oolean result = (s@@ t@@ do@@ u@@ t.@@ st@@ art@@ sWith@@ ("@@ {@@ "); if (@@ t@@ do@@ u@@ t != null@@ ) { result = (s@@ t@@ do@@ u@@ t.@@ st@@ art@@ sWith@@ ("@@ {@@ "); } else { s@@ t@@ do@@ u@@ t = par@@ se@@ Ovf@@ (s@@ t@@ do@@ u@@ t@@ ); org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ O@@ va@@ Query@@ .set@@ ReturnValue@@ (@@ result@@ ); org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ O@@ va@@ Query.get@@ Query@@ ReturnValu@@ e().set@@ Succeeded(@@ result@@ ); }
private java.util.Map@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ , java.lang.String> par@@ se@@ Ovf@@ s(@@ java.lang.String s@@ t@@ do@@ ut@@ ) { s@@ t@@ do@@ u@@ t = s@@ t@@ do@@ u@@ t.@@ sub@@ st@@ ring@@ (@@ 1, ((@@ s@@ t@@ do@@ u@@ t.@@ l@@ ength@@ ()) - 1@@ )); return java.util.Arrays.@@ st@@ re@@ am@@ (s@@ t@@ do@@ u@@ t.@@ s@@ pl@@ it@@ ("@@ :@@ :@@ "@@ )).@@ map@@ (org.ovirt.engine.core.bll.@@ Get@@ Vm@@ From@@ O@@ va@@ Query@@ .@@ OV@@ A@@ _@@ T@@ O@@ _@@ OV@@ F@@ _P@@ AT@@ TER@@ N@@ :@@ :@@ mat@@ ch@@ er@@ ).@@ filter@@ (@@ java.util.@@ re@@ g@@ ex@@ .@@ Match@@ er@@ :@@ mat@@ ch@@ es@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ ( m@@ ) -@@ > par@@ se@@ Ovf@@ (@@ m.@@ group@@ (@@ 2@@ )@@ ), ("@@ -@@ > m.@@ group@@ (@@ 1@@ ))); }
public java.util.@@ Option@@ al@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ > getVm@@ Us@@ ing@@ Mac@@ (org.ovirt.engine.core.compat.Guid mac@@ Pool@@ Id, java.lang.String mac@@ ) { java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ sBy@@ Id = get@@ All@@ Vms@@ In@@ System@@ (get@@ Id@@ s@@ Of@@ All@@ C@@ lust@@ ers@@ H@@ av@@ ing@@ Mac@@ Pool@@ (@@ mac@@ Pool@@ Id@@ )).@@ filter@@ (@@ ( vm@@ ) -@@ > !@@ (vm@@ .is@@ Stat@@ el@@ ess@@ ())@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ VM@@ :@@ get@@ Id, java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ ())); java.util.@@ Option@@ al@@ <org.ovirt.engine.core.compat.Guid@@ > vm@@ Us@@ ing@@ Mac@@ Id = getVm@@ Id@@ Us@@ ing@@ Mac@@ (vm@@ sBy@@ Id@@ .@@ key@@ Set@@ ().@@ st@@ re@@ am@@ ().@@ f@@ l@@ at@@ Map@@ (vm@@ Id) -@@ > getVm@@ Interfaces@@ (vm@@ Id@@ ).@@ st@@ re@@ am@@ ()), mac@@ ); return vm@@ Us@@ ing@@ Mac@@ Id@@ .@@ map@@ (vm@@ sBy@@ Id@@ :@@ :@@ get@@ ); }
public org.ovirt.engine.core.bll.ValidationResult is@@ Mac@@ As@@ s@@ ign@@ able@@ Validator@@ () { boolean al@@ low@@ D@@ up@@ Mac@@ s = mac@@ Poo@@ l.@@ is@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ Address@@ es@@ Allow@@ ed@@ (); boolean il@@ l@@ eg@@ al@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ Us@@ age = (!@@ al@@ low@@ D@@ up@@ Mac@@ s) && (@@ mac@@ Poo@@ l.@@ is@@ Mac@@ In@@ Us@@ e(@@ mac@@ Address@@ )); if (@@ il@@ l@@ eg@@ al@@ D@@ up@@ l@@ ic@@ ate@@ Mac@@ Us@@ age@@ ) { java.util.@@ Option@@ al@@ <@@ org.ovirt.engine.core.common.businessentities.Vm@@ Template@@ > o@@ ption@@ al@@ V@@ m = mac@@ s@@ Us@@ ed@@ Ac@@ ro@@ s@@ W@@ h@@ ole@@ System@@ .get@@ Vm@@ Us@@ ing@@ Mac@@ (@@ mac@@ Pool@@ .get@@ Id(), mac@@ Address@@ ); if (!(@@ o@@ ption@@ al@@ Vm@@ .is@@ P@@ resent@@ ())) { o@@ ption@@ al@@ V@@ m = mac@@ s@@ Us@@ ed@@ Ac@@ ro@@ s@@ W@@ h@@ ole@@ System@@ .get@@ Snapshot@@ Us@@ ing@@ Mac@@ (@@ mac@@ Pool@@ .get@@ Id(), mac@@ Address@@ ); } return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ NETWOR@@ K@@ _M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ IN@@ _@@ US@@ E@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ validator.@@ Mac@@ Address@@ Validator.@@ VAR@@ _@@ IN@@ _@@ U@@ SE@@ , mac@@ Address@@ ), org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ validator.@@ Mac@@ Address@@ Validator.@@ VAR@@ _@@ IN@@ _@@ US@@ E_@@ B@@ Y@@ , (@@ o@@ ption@@ al@@ Vm@@ .is@@ P@@ resent@@ () ? o@@ ption@@ al@@ Vm@@ .get@@ ().get@@ Name(@@ ) : "@@ "@@ "@@ "@@ "@@ "@@ "@@ ))); } return new org.ovirt.engine.core.bll.ValidationResult(org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ NETWOR@@ K@@ _M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ IN@@ _@@ US@@ ED); }
public java.util.List<java.lang.String> get@@ Mac@@ s@@ For@@ Mac@@ Pool@@ (org.ovirt.engine.core.compat.Guid mac@@ Pool@@ Id) { java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > id@@ s@@ Of@@ All@@ C@@ lust@@ ers@@ H@@ av@@ ing@@ Mac@@ Pool = get@@ Id@@ s@@ Of@@ All@@ C@@ lust@@ ers@@ H@@ av@@ ing@@ Mac@@ Pool@@ (@@ mac@@ Pool@@ Id); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > vm@@ sBy@@ Id = get@@ All@@ Vms@@ In@@ System@@ (@@ id@@ s@@ Of@@ All@@ C@@ lust@@ ers@@ H@@ av@@ ing@@ Mac@@ Pool@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ VM@@ :@@ :@@ :@@ get@@ Id, java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ ())); java.util.@@ st@@ re@@ am@@ .@@ St@@ re@@ am@@ <org.ovirt.engine.core.compat.Guid@@ > id@@ s@@ Of@@ Run@@ ning@@ Stat@@ el@@ ess@@ VM@@ s = get@@ All@@ Stat@@ el@@ ess@@ Vm@@ s(@@ vm@@ sBy@@ Id@@ .@@ valu@@ es@@ ()).@@ map@@ (@@ VM@@ :@@ :@@ get@@ Id); java.util.@@ st@@ re@@ am@@ .@@ St@@ re@@ am@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ > stat@@ el@@ ess@@ Snapshots@@ Of@@ Run@@ ning@@ VM@@ s = id@@ s@@ Of@@ Run@@ ning@@ Stat@@ el@@ ess@@ VM@@ s.@@ map@@ (s@@ napshot@@ s@@ Manager@@ :@@ :@@ getVm@@ Configuration@@ In@@ Stat@@ el@@ ess@@ Snapshot@@ Of@@ Vm@@ ).@@ filter@@ (@@ java.util.@@ Option@@ al@@ :@@ is@@ P@@ resent@@ ).@@ map@@ (@@ java.util.@@ Option@@ al@@ :@@ :@@ get@@ ); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface@@ >> snapshot@@ t@@ ed@@ Interfaces@@ By@@ Vm@@ Id = stat@@ el@@ ess@@ Snapshots@@ Of@@ Run@@ ning@@ VM@@ s.@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ VM@@ :@@ get@@ Interfaces@@ )); java.util.List<java.lang.String> mac@@ sTo@@ Be@@ Al@@ loc@@ ate@@ d = vm@@ sBy@@ Id@@ .@@ key@@ Set@@ ().@@ st@@ re@@ am@@ ().@@ f@@ l@@ at@@ Map@@ (@@ " -@@ > c@@ al@@ c@@ ul@@ ate@@ All@@ Mac@@ s@@ Us@@ ed@@ In@@ Vm@@ And@@ I@@ t@@ s@@ Snapshot@@ (get@@ Vm@@ Interfaces@@ (vm@@ Id@@ ), snapshot@@ t@@ ed@@ Interfaces@@ By@@ Vm@@ Id@@ .get@@ (vm@@ Id@@ Id@@ Id@@ Id@@ Id@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ to@@ List@@ ()); return mac@@ sTo@@ Be@@ Al@@ loc@@ ated@@ ; }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ Vms@@ In@@ System@@ (@@ java.util.List<@@ org.ovirt.engine.core.compat.Guid@@ > c@@ lust@@ ers@@ Id) { return c@@ lust@@ ers@@ Id@@ .@@ st@@ re@@ am@@ ().@@ f@@ l@@ at@@ Map@@ (@@ ( cluster@@ Id) -@@ > vm@@ Dao@@ .get@@ AllFor@@ Cluster@@ (cluster@@ Id@@ ).@@ st@@ re@@ am@@ ()); }
public java.util.@@ Option@@ al@@ <org.ovirt.engine.core.common.businessentities.@@ VM@@ > get@@ Snapshot@@ Us@@ ing@@ Mac@@ (org.ovirt.engine.core.compat.Guid mac@@ Pool@@ Id, java.lang.String mac@@ ) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ VM@@ > all@@ Vm@@ s = get@@ All@@ Vms@@ In@@ System@@ (get@@ Id@@ s@@ Of@@ All@@ C@@ lust@@ ers@@ H@@ av@@ ing@@ Mac@@ Pool@@ (@@ mac@@ Pool@@ Id@@ )).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ()); java.util.Map@@ <org.ovirt.engine.core.compat.Guid@@ , org.ovirt.engine.core.common.businessentities.@@ VM@@ > snapshot@@ sBy@@ Id = get@@ All@@ Stat@@ el@@ ess@@ Vm@@ s(@@ all@@ Vms@@ ).@@ map@@ (@@ VM@@ :@@ get@@ Id@@ ).@@ map@@ (s@@ napshot@@ s@@ Manager@@ :@@ getVm@@ Configuration@@ In@@ Stat@@ el@@ ess@@ Snapshot@@ Of@@ Vm@@ ).@@ filter@@ (@@ java.util.@@ Option@@ al@@ :@@ is@@ P@@ resent@@ ).@@ map@@ (@@ java.util.@@ Option@@ al@@ :@@ get@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ VM@@ :@@ :@@ get@@ Id, java.util.@@ f@@ un@@ c@@ tion@@ .@@ F@@ un@@ c@@ tion@@ .@@ id@@ entity@@ ())); java.util.@@ Option@@ al@@ <org.ovirt.engine.core.compat.Guid@@ > snapshot@@ Us@@ ing@@ Mac@@ Id = getVm@@ Id@@ Us@@ ing@@ Mac@@ (s@@ napshot@@ sBy@@ Id@@ .@@ valu@@ es@@ ().@@ st@@ re@@ am@@ ().@@ f@@ l@@ at@@ Map@@ (@@ ( vm@@ ) -@@ > vm.get@@ Interfaces@@ ().@@ st@@ re@@ am@@ ()), mac@@ ); return snapshot@@ Us@@ ing@@ Mac@@ Id@@ .@@ map@@ (s@@ napshot@@ sBy@@ Id@@ :@@ :@@ get@@ ); }
protected org.ovirt.engine.core.bll.ValidationResult mac@@ Avail@@ abl@@ e() { org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic n@@ ic = org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Command.getParameters().get@@ Nic@@ (); if (@@ new org.ovirt.engine.core.bll.network.@@ Vm@@ Interface@@ Manager@@ ().@@ to@@ o@@ Man@@ y@@ Plug@@ ged@@ Interface@@ With@@ S@@ ame@@ Mac@@ (@@ nic@@ , org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Command.get@@ Mac@@ Pool@@ ())) { return new org.ovirt.engine.core.common.errors.@@ EngineMessage.@@ NETWOR@@ K@@ _M@@ AC@@ _@@ AD@@ D@@ RE@@ S@@ S_@@ IN@@ _@@ US@@ E@@ , org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Command.@@ VAR@@ _M@@ AC@@ _@@ IN@@ _@@ U@@ SE@@ , nic@@ .get@@ Mac@@ Address@@ ()), org.ovirt.engine.core.utils.@@ Re@@ plac@@ ement@@ Utils.@@ create@@ Set@@ Var@@ i@@ able@@ String@@ (org.ovirt.engine.core.bll.@@ network.@@ vm@@ .@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Command.@@ VAR@@ _@@ IN@@ _@@ US@@ E_@@ B@@ Y@@ , org.ovirt.engine.core.bll.network.@@ vm@@ .@@ Acti@@ vate@@ De@@ acti@@ vate@@ Vm@@ Nic@@ Command.getVm@@ ().get@@ Name()@@ )); } return org.ovirt.engine.core.bll.ValidationResult.@@ VAL@@ I@@ TY@@ ; }
protected com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ Mac@@ C@@ olum@@ n = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ C@@ olum@@ n c@@ olum@@ n = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Column@@ (@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ Column@@ Siz@@ e.@@ S@@ M@@ _@@ 4@@ ); c@@ olumn@@ .@@ add@@ Sty@@ le@@ Name(@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ Item@@ .@@ VM_@@ N@@ IC@@ _@@ OV@@ ER@@ F@@ LO@@ W@@ ); com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ D@@ List@@ El@@ em@@ ent d@@ l = com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ D@@ oc@@ um@@ ent.@@ get@@ ().@@ create@@ D@@ LE@@ l@@ ement@@ (); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l ma@@ c = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (network@@ Interfac@@ e.get@@ Mac@@ Address@@ ()); add@@ B@@ old@@ Re@@ ver@@ se@@ Detail@@ Item@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ Item@@ .@@ const@@ an@@ t@@ s.@@ mac@@ Vm@@ G@@ u@@ est@@ Agent@@ (), mac@@ , d@@ l@@ ); c@@ olumn@@ .get@@ Element@@ ().@@ append@@ Ch@@ il@@ d@@ (@@ d@@ l@@ ); org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ Widget@@ T@@ oolti@@ p t@@ oolti@@ p@@ .@@ Widget@@ T@@ oolti@@ p@@ (c@@ olumn@@ ); t@@ oolti@@ p@@ .set@@ Ht@@ ml@@ (@@ mac@@ ); return t@@ oolti@@ p@@ ; }
protected com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ Ip@@ v@@ 6@@ Column@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ G@@ u@@ est@@ Agent@@ Interface g@@ u@@ est@@ Agent@@ Interface@@ ) { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ C@@ olum@@ n c@@ olum@@ n = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Column@@ (@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ Column@@ Siz@@ e.@@ S@@ M@@ _@@ 4@@ ); c@@ olum@@ .@@ add@@ Sty@@ le@@ Name(@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ Item@@ .@@ VM_@@ N@@ IC@@ _@@ OV@@ ER@@ F@@ LO@@ W@@ ); com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ D@@ List@@ El@@ em@@ ent d@@ l = com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ D@@ oc@@ um@@ ent.@@ get@@ ().@@ create@@ D@@ LE@@ l@@ ement@@ (); java.util.@@ String@@ J@@ o@@ in@@ er ip@@ v@@ 6@@ Address@@ J@@ o@@ in@@ er@@ (@@ new java.util.@@ String@@ J@@ o@@ in@@ er@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ .@@ C@@ O@@ M@@ A@@ _@@ DE@@ L@@ IM@@ I@@ TER@@ ); if ((@@ g@@ u@@ est@@ Agent@@ Interfac@@ e.get@@ Ip@@ v@@ 6@@ Address@@ es@@ ()) != null@@ ) { ip@@ v@@ 6@@ Address@@ J@@ o@@ in@@ er.@@ add(@@ java.lang.String.@@ j@@ o@@ in@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ Item@@ .@@ C@@ O@@ M@@ A@@ _@@ DE@@ L@@ IM@@ I@@ TER@@ , g@@ u@@ est@@ Agent@@ Interfac@@ e.get@@ Ip@@ v@@ 6@@ Address@@ es@@ ())); } java.lang.String ip@@ v@@ 6@@ Add@@ res@@ s = ip@@ v@@ 6@@ Address@@ J@@ o@@ in@@ er.@@ toString@@ (); if (@@ ip@@ v@@ 6@@ Address@@ .@@ isEmpty@@ ()) { ip@@ v@@ 6@@ Add@@ res@@ s = org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ .@@ const@@ an@@ t@@ s.@@ not@@ Available@@ Label@@ (); } com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l ip@@ v@@ 6@@ 6@@ 6@@ 6@@ 6@@ 6@@ 6@@ 6@@ 6@@ 6@@ 6@@ 6@@ 6@@ 6@@ 6@@ Address@@ ; add@@ B@@ old@@ Re@@ ver@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Item@@ .@@ const@@ an@@ t@@ s.@@ ip@@ v@@ 6@@ , d@@ l@@ ); }
protected com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ Ip@@ v@@ 4@@ Column@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ G@@ u@@ est@@ Agent@@ Interface g@@ u@@ est@@ Agent@@ Interface@@ ) { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ C@@ olum@@ n c@@ olum@@ n = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Column@@ (@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ Column@@ Siz@@ e.@@ S@@ M@@ _@@ 4@@ ); c@@ olum@@ .@@ add@@ Sty@@ le@@ Name(@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ Item@@ .@@ VM_@@ N@@ IC@@ _@@ OV@@ ER@@ F@@ LO@@ W@@ ); com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ D@@ List@@ El@@ em@@ ent d@@ l = com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ D@@ oc@@ um@@ ent.@@ get@@ ().@@ create@@ D@@ LE@@ l@@ ement@@ (); java.util.@@ String@@ J@@ o@@ in@@ er ip@@ v@@ 4@@ Address@@ J@@ o@@ in@@ er@@ (@@ new java.util.@@ String@@ J@@ o@@ in@@ er@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ .@@ C@@ O@@ M@@ A@@ _@@ DE@@ L@@ IM@@ I@@ TER@@ ); if ((@@ g@@ u@@ est@@ Agent@@ Interfac@@ e.get@@ Ip@@ v@@ 4@@ Address@@ es@@ ()) != null@@ ) { ip@@ v@@ 4@@ Address@@ J@@ o@@ in@@ er.@@ add(@@ java.lang.String.@@ j@@ o@@ in@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ Item@@ .@@ C@@ O@@ M@@ A@@ _@@ DE@@ L@@ IM@@ I@@ TER@@ , g@@ u@@ est@@ Agent@@ Interfac@@ e.get@@ Ip@@ v@@ 4@@ Address@@ es@@ ())); } java.lang.String ip@@ v@@ 4@@ Add@@ res@@ s = ip@@ v@@ 4@@ Address@@ J@@ o@@ in@@ er.@@ toString@@ (); if (@@ ip@@ v@@ 4@@ Address@@ .@@ isEmpty@@ ()) { ip@@ v@@ 4@@ Add@@ res@@ s = org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ .@@ const@@ an@@ t@@ s.@@ not@@ Available@@ Label@@ (); } com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l ip@@ v@@ 4@@ Address@@ W@@ ip@@ v@@ 4@@ Address@@ W@@ ip@@ v@@ 4@@ Address@@ ); add@@ B@@ old@@ Re@@ ver@@ se@@ Detail@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Item@@ .@@ const@@ an@@ t@@ s.@@ ip@@ v@@ 4@@ Address@@ ()), d@@ l@@ ); }
private void ap@@ pl@@ y@@ Vm@@ Interface@@ Sp@@ e@@ c@@ if@@ ic@@ Sty@@ l@@ es@@ () { m@@ ain@@ Info@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ P@@ add@@ ing@@ B@@ ot@@ t@@ om@@ (0@@ , Sty@@ l@@ e.@@ Un@@ it.@@ P@@ X@@ ); m@@ ain@@ Info@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ P@@ add@@ ing@@ To@@ p@@ (0@@ , Sty@@ l@@ e.@@ Un@@ it.@@ P@@ X@@ ); d@@ et@@ ail@@ ed@@ Info@@ Cont@@ ain@@ er@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ M@@ ar@@ gin@@ L@@ e@@ f@@ t@@ (0@@ , Sty@@ l@@ e.@@ Un@@ it.@@ P@@ X@@ ); d@@ et@@ ail@@ ed@@ Info@@ Cont@@ ain@@ er@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ W@@ id@@ th@@ (@@ 1@@ 00@@ , Sty@@ l@@ e.@@ Un@@ it.@@ P@@ C@@ T@@ ); d@@ escription@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ W@@ id@@ th@@ (@@ 1@@ 0@@ , Sty@@ l@@ e.@@ Un@@ it.@@ P@@ C@@ T@@ ); d@@ escription@@ H@@ ead@@ er@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ W@@ id@@ th@@ (@@ 1@@ 00@@ , Sty@@ l@@ e.@@ Un@@ it.@@ P@@ C@@ T@@ ); d@@ escription@@ H@@ ead@@ er@@ Panel@@ .get@@ Element@@ ().get@@ Sty@@ l@@ e().set@@ F@@ on@@ t@@ Siz@@ e(@@ 2@@ 0@@ , Sty@@ l@@ e.@@ Un@@ it.@@ P@@ X@@ ); d@@ escription@@ Panel@@ .@@ remove@@ Sty@@ le@@ Name(@@ P@@ at@@ ter@@ n@@ f@@ ly@@ Constant@@ s.@@ P@@ F@@ _@@ L@@ IST@@ _@@ V@@ I@@ E@@ W@@ _@@ DE@@ S@@ C@@ R@@ I@@ P@@ TI@@ ON@@ ); }
protected com.google.gwt.@@ user.@@ client.@@ ui.@@ Is@@ W@@ id@@ g@@ e@@ t create@@ Network@@ Name@@ Column@@ (org.ovirt.engine.core.common.businessentities.@@ network.@@ VmNetwork@@ Interface network@@ Interface@@ ) { org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ C@@ olum@@ n c@@ olum@@ n = new org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui.@@ Column@@ (@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ Column@@ Siz@@ e.@@ S@@ M@@ _@@ 3@@ ); c@@ olum@@ .@@ add@@ Sty@@ le@@ Name(@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ Item@@ .@@ VM_@@ N@@ IC@@ _@@ OV@@ ER@@ F@@ LO@@ W@@ ); com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ D@@ List@@ El@@ em@@ ent d@@ l@@ l@@ l@@ = com@@ .google.@@ gwt@@ .@@ do@@ m@@ .client.@@ D@@ oc@@ um@@ ent.@@ get@@ ().@@ create@@ D@@ LE@@ l@@ ement@@ (); com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ m@@ l nam@@ e = com.google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ String@@ (((@@ network@@ Interfac@@ e.get@@ Network@@ Name()@@ ) != null ? network@@ Interfac@@ e.get@@ Network@@ Name(@@ ) : org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ Item@@ .@@ const@@ an@@ t@@ s.@@ un@@ Available@@ Property@@ Label@@ ())); add@@ B@@ old@@ Re@@ ver@@ se@@ Detail@@ Item@@ (c@@ om@@ .google.gwt.@@ s@@ afe@@ ht@@ ml.@@ shared@@ .S@@ afe@@ Ht@@ ml@@ Utils.@@ f@@ rom@@ S@@ afe@@ Constant@@ (@@ org.ovirt.engine.ui.common.widget.@@ uic@@ ommon.@@ vm@@ .@@ Vm@@ Interface@@ List@@ Group@@ Item@@ .@@ const@@ an@@ t@@ s.@@ network@@ Name@@ Interfac@@ e()@@ ), name@@ , d@@ l@@ ); c@@ olumn@@ .get@@ Element@@ ().@@ append@@ Ch@@ il@@ d@@ (@@ d@@ l@@ ); org.ovirt.engine.ui.common.widget.@@ t@@ oolti@@ p@@ .@@ Widget@@ T@@ oolti@@ p t@@ oolti@@ p = new org.ovirt.engine.ui.common.@@ widget@@ .@@ t@@ oolti@@ p@@ .@@ t@@ oolti@@ p@@ .@@ Widget@@ T@@ oolti@@ p@@ (c@@ olumn@@ ); t@@ oolti@@ p@@ .set@@ Ht@@ ml@@ (@@ nam@@ e); return t@@ oolti@@ p@@ ; }
private void update@@ Nic@@ s(@@ java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Interface@@ Model@@ > nic@@ s) { nic@@ Lis@@ t.@@ cl@@ e@@ ar@@ (); java.util.Collections.@@ s@@ ort@@ (@@ nic@@ s); java.util.List<@@ org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ p@@ an@@ el@@ s.@@ Network@@ Group@@ > group@@ s = new java.util.ArrayList<@@ >(); for (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Interface@@ Model n@@ ic : nic@@ s) { group@@ s.@@ add@@ (@@ new org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ view@@ .@@ p@@ opup@@ .@@ host.@@ p@@ an@@ el@@ s.@@ Network@@ Group@@ (@@ nic@@ , event@@ B@@ us@@ , st@@ y@@ le@@ )); } nic@@ Lis@@ t.@@ add@@ All@@ (@@ group@@ s, (!(@@ r@@ ender@@ ed@@ ))); nic@@ Group@@ s = group@@ s@@ ; }
private org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ a@@ r m@@ en@@ u@@ For@@ (@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Item@@ Model@@ <?@@ > item@@ ) { org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ a@@ r m@@ en@@ u = ro@@ ot@@ M@@ en@@ u@@ (@@ item@@ ); java.util.Map@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Operation@@ , java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Command@@ >> o@@ peration@@ Map = item@@ .get@@ Setup@@ Model@@ ().@@ command@@ s@@ For@@ (@@ item@@ ); for (@@ final java.util.Map@@ .@@ E@@ n@@ try@@ <@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Operation@@ , java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Command@@ >> e@@ n@@ try : o@@ peration@@ Map@@ .@@ e@@ n@@ try@@ Set@@ ()) { final java.util.List<@@ org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ Command@@ > command@@ s = e@@ n@@ try@@ .get@@ Valu@@ e(); if (@@ e@@ n@@ try@@ .get@@ Key@@ ().is@@ Un@@ ar@@ y@@ ()) { assert (command@@ s.@@ size()) == 1 : a Network@@ C@@ ommand wit@@ h m@@ or@@ e th@@ an on@@ e Un@@ ar@@ y O@@ per@@ ation m@@ en@@ u@@ .@@ add@@ Item@@ (@@ e@@ n@@ try@@ .get@@ Key@@ ().get@@ V@@ er@@ b@@ (@@ item@@ ), -@@ > execute@@ Command(@@ e@@ n@@ try@@ .get@@ Key@@ (), command@@ s.get@@ (0@@ ))); } else { org.ovirt.engine.ui.common.widget.@@ M@@ en@@ u@@ B@@ a@@ r sub@@ M@@ en@@ u = sub@@ M@@ en@@ u@@ (); for (@@ final org.ovirt.engine.ui.uicommonweb.models.hosts.@@ network.Network@@ C@@ ommand c@@ ommand : command@@ s) { sub@@ M@@ en@@ u@@ .@@ add@@ Item@@ (@@ new com.google.gwt.@@ user.@@ client.@@ ui.@@ M@@ en@@ u@@ Item@@ (command@@ .get@@ Name(), command@@ ))); } m@@ en@@ u@@ .@@ add@@ Item@@ (@@ e@@ n@@ try@@ .get@@ Key@@ ().get@@ V@@ er@@ b@@ (@@ item@@ )); sub@@ M@@ en@@ u@@ ); } } return m@@ en@@ u@@ ; }
@@@ org.@@ j@@ un@@ i@@ t@@ l@@ .@@ j@@ up@@ it@@ er.@@ ap@@ i@@ t@@ l@@ .@@ Test public void test@@ Add@@ () { javax.ws.rs.@@ core.@@ U@@ ri@@ In@@ f@@ o ur@@ i@@ In@@ f@@ o = mock@@ U@@ ri@@ ("@@ host@@ s", "@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ ", "@@ nic@@ s@@ "); javax.ws.rs.@@ core.@@ Re@@ quest re@@ quest = mock@@ Request@@ ("@@ P@@ O@@ ST@@ "); org.ovirt.engine.api.model.@@ F@@ a@@ ult fa@@ ult = us@@ age@@ F@@ inder@@ .get@@ Us@@ age@@ Message@@ (@@ ur@@ i@@ Info@@ , re@@ quest@@ ); assert@@ E@@ quals(@@ "@@ Th@@ e cor@@ r@@ ect us@@ age@@ , se@@ e@@ : http@@ : fa@@ ult.get@@ Detail@@ ()); }
@@@ org.@@ j@@ un@@ i@@ t@@ if@@ y@@ .@@ j@@ up@@ it@@ er.@@ ap@@ i@@ od@@ .@@ Test public void test@@ Update@@ With@@ Non@@ Guid@@ () { javax.ws.rs.@@ core.@@ U@@ ri@@ In@@ f@@ o ur@@ i@@ In@@ f@@ o = mock@@ U@@ ri@@ ("@@ host@@ s", "@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ ", "@@ nic@@ s", "@@ 1@@ 6@@ "); javax.ws.rs.@@ core.@@ Re@@ quest re@@ quest = mock@@ Request@@ ("@@ P@@ U@@ T@@ "); org.ovirt.engine.api.model.@@ F@@ a@@ ult fa@@ ult = us@@ age@@ F@@ inder@@ .get@@ Us@@ age@@ Message@@ (@@ ur@@ i@@ Info@@ , re@@ quest@@ ); assert@@ E@@ quals(@@ "@@ W@@ ron@@ g cor@@ r@@ ect us@@ age@@ , se@@ e@@ : http@@ : fa@@ ult.get@@ Detail@@ ()); }
@@@ org.@@ j@@ un@@ i@@ t@@ l@@ .@@ j@@ up@@ it@@ er.@@ ap@@ i@@ t@@ l@@ .@@ Test public void test@@ Action@@ () { javax.ws.rs.@@ core.@@ U@@ ri@@ In@@ f@@ o ur@@ i@@ In@@ f@@ o = mock@@ U@@ ri@@ ("@@ vm@@ s", "@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ -@@ 00@@ 0@@ 1@@ ", "@@ f@@ ree@@ z@@ e@@ fil@@ es@@ ystem@@ s@@ "); javax.ws.rs.@@ core.@@ Re@@ quest re@@ quest = mock@@ Request@@ ("@@ P@@ O@@ ST@@ "); org.ovirt.engine.api.model.@@ F@@ a@@ ult fa@@ ult = us@@ age@@ F@@ inder@@ .get@@ Us@@ age@@ Message@@ (@@ ur@@ i@@ Info@@ , re@@ quest@@ ); assert@@ E@@ quals(@@ "@@ W@@ ron@@ g cor@@ r@@ ect us@@ age@@ , se@@ e@@ : http@@ : fa@@ ult.get@@ Detail@@ ()); }
protected org.ovirt.engine.core.common.businessentities.VM getVm@@ From@@ Configuration@@ () { org.ovirt.engine.core.common.queries.@@ Query@@ ReturnValue query@@ ReturnValue = run@@ Internal@@ Query@@ (@@ Query@@ Type.Get@@ Vm@@ Configuration@@ By@@ Snapshot@@ , new org.ovirt.engine.core.common.queries.@@ Id@@ Query@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Create@@ All@@ Template@@ Disks@@ From@@ Snapshot@@ Command.getParameters().get@@ Snapshot@@ Id@@ ())); return query@@ ReturnValu@@ e.get@@ Succeeded@@ () ? query@@ ReturnValu@@ e.get@@ Return@@ Value(@@ ) : null@@ ; }
@java.lang.Override protected java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > getVm@@ Disks@@ From@@ Db@@ () { org.ovirt.engine.core.common.businessentities.VM vm@@ From@@ Configur@@ ation = getVm@@ From@@ Configuration@@ (); java.util.List<org.ovirt.engine.core.common.businessentities.@@ storage.@@ DiskImage@@ > disk@@ s@@ From@@ D@@ b = org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Image@@ Disks@@ (vm@@ From@@ Configur@@ ation@@ .get@@ Disk@@ Map@@ ().@@ valu@@ es@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ ON@@ L@@ Y_@@ S@@ NA@@ P@@ AB@@ LE@@ , org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ ON@@ L@@ Y_@@ AC@@ TI@@ V@@ E); disk@@ s@@ From@@ Db@@ .@@ add@@ All@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ im@@ age.@@ Disks@@ Fil@@ t@@ er.@@ filter@@ Cinder@@ Disk@@ s(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Create@@ All@@ Template@@ Disks@@ From@@ Snapshot@@ Command.getVm@@ ().get@@ Disk@@ Map@@ ().@@ valu@@ es@@ (), org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ ON@@ L@@ Y_@@ P@@ LU@@ G@@ ED@@ )); return disk@@ s@@ From@@ Db@@ ; }
public void load@@ Vm@@ From@@ O@@ va@@ () { cl@@ e@@ ar@@ For@@ Lo@@ ad@@ (); if (!(@@ validate@@ O@@ va@@ Configuration@@ ())) { return@@ ; } st@@ art@@ Progress@@ (); org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Vm@@ From@@ O@@ va@@ (@@ new org.ovirt.engine.ui.uicommonweb.models.vms.@@ Async@@ Query@@ (@@ ( return@@ Value@@ ) -@@ > { if (@@ return@@ Valu@@ e.get@@ Succeeded@@ ()) { org.ovirt.engine.core.common.businessentities.VM vm@@ To@@ O@@ v@@ a@@ = return@@ Valu@@ e.get@@ ReturnValu@@ e(); vm@@ Name@@ To@@ O@@ v@@ a = vm@@ To@@ O@@ va@@ .@@ e@@ n@@ try@@ Set@@ ().@@ st@@ re@@ am@@ ().@@ c@@ oll@@ ect@@ (@@ org.ovirt.engine.ui.uicommonweb.models.vms.@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ Map@@ (@@ ( e) -@@ > e.get@@ Key@@ ().get@@ Name(), java.util.Map@@ .@@ E@@ n@@ try@@ :@@ :@@ :@@ get@@ Value@@ )); update@@ Vms@@ (vm@@ To@@ O@@ va@@ .@@ key@@ Set@@ ()); } else { set@@ Error@@ (@@ mess@@ ages.@@ fail@@ ed@@ To@@ Lo@@ ad@@ O@@ va@@ (get@@ O@@ va@@ Path@@ ().getEntity@@ ())); } st@@ op@@ Progress@@ (); }
private void update@@ Vm@@ Dynamic@@ Data@@ () { if ((@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ G@@ u@@ est@@ Agent@@ Nic@@ s@@ Hash@@ ()) != (@@ db@@ Vm@@ .get@@ G@@ u@@ est@@ Agent@@ Nic@@ s@@ Hash@@ ())) { vm@@ G@@ u@@ est@@ Agent@@ Nic@@ s = vds@@ m@@ Vm@@ .get@@ Vm@@ G@@ u@@ est@@ Agent@@ Interfaces@@ (); db@@ Vm@@ .set@@ Ip@@ (@@ ex@@ tr@@ act@@ Vm@@ Ip@@ s@@ From@@ G@@ u@@ est@@ Agent@@ Interfaces@@ (vm@@ G@@ u@@ est@@ Agent@@ Nic@@ s@@ )); java.util.List<java.lang.String> ch@@ ang@@ ed@@ Fi@@ eld@@ s = get@@ Changed@@ Fi@@ el@@ ds@@ (@@ db@@ Vm@@ , vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ()); ch@@ ang@@ ed@@ Fi@@ eld@@ s.@@ remove@@ All@@ (@@ org.ovirt.engine.core.vdsbroker.@@ m@@ onitor@@ ing.@@ Vm@@ An@@ al@@ y@@ z@@ er.@@ UN@@ C@@ H@@ AN@@ G@@ E@@ AB@@ L@@ E_@@ FI@@ E@@ L@@ D@@ S_@@ B@@ Y_@@ VDS@@ M@@ ); if ((@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().get@@ Status()) != (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ Up@@ )) { ch@@ ang@@ ed@@ Fi@@ eld@@ s.@@ remov@@ e(@@ Vm@@ Dynamic@@ .@@ A@@ P@@ PL@@ IC@@ A@@ TI@@ ON@@ S_@@ L@@ IST@@ _@@ FI@@ E@@ L@@ D@@ _@@ NAM@@ E); vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ ().set@@ Ap@@ p@@ List(@@ db@@ Vm@@ .get@@ Ap@@ p@@ List@@ ()); } if (!(@@ ch@@ ang@@ ed@@ Fi@@ eld@@ s.@@ isEmpty())) { db@@ Vm@@ .@@ update@@ Run@@ time@@ Data@@ (@@ vds@@ m@@ Vm@@ .get@@ Vm@@ Dynamic@@ (), vds@@ Manager@@ .get@@ Vds@@ Id()); s@@ ave@@ Dynamic@@ (@@ db@@ Vm@@ ); } }
private java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ G@@ u@@ est@@ Agent@@ Interface@@ > filter@@ G@@ u@@ est@@ Agent@@ Interfac@@ es(@@ java.util.List<org.ovirt.engine.core.common.businessentities.@@ Vm@@ G@@ u@@ est@@ Agent@@ Interface@@ > nic@@ s) { nic@@ s = remove@@ Lo@@ op@@ back@@ s(@@ nic@@ s); nic@@ s@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ :@@ filter@@ Ip@@ v@@ 4@@ Address@@ es@@ ); nic@@ s@@ .@@ for@@ E@@ ach@@ (@@ this@@ :@@ :@@ filter@@ Ip@@ v@@ 6@@ Address@@ es@@ ); return nic@@ s@@ ; }
private void filter@@ Ip@@ v@@ 6@@ Address@@ es@@ (org.ovirt.engine.core.common.businessentities.@@ Vm@@ G@@ u@@ est@@ Agent@@ Interface nic@@ ) { nic@@ .set@@ Ip@@ v@@ 6@@ Address@@ es(@@ nic@@ .get@@ Ip@@ v@@ 6@@ Address@@ es@@ ().@@ st@@ re@@ am@@ ().@@ map@@ (@@ this@@ :@@ :@@ st@@ ri@@ p@@ Ip@@ v@@ 6@@ Z@@ one@@ In@@ dex@@ ).@@ filter@@ (@@ Validation@@ Util@@ s@@ :@@ is@@ Valid@@ Ip@@ v@@ 6@@ ).@@ c@@ oll@@ ect@@ (@@ java.util.@@ st@@ re@@ am@@ .@@ C@@ oll@@ ect@@ or@@ s.@@ to@@ List@@ ())); }
protected void d@@ est@@ ro@@ y@@ Vm@@ () { org.ovirt.engine.core.common.vdscommands.@@ VDS@@ ReturnValue action@@ ReturnValue = run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Dest@@ ro@@ y@@ Vm@@ , build@@ Dest@@ ro@@ y@@ Vm@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Stop@@ Vm@@ CommandBase.get@@ Vds@@ Id@@ ())); if ((@@ (org.ovirt.engine.core.bll.@@ Stop@@ Vm@@ CommandBase.get@@ Vm@@ ().get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ VM@@ Status.@@ Migr@@ at@@ ing@@ From@@ )) && ((org.ovirt.engine.core.bll.@@ Stop@@ Vm@@ CommandBase.get@@ Vm@@ ().get@@ Migr@@ at@@ ing@@ To@@ Vds@@ ()) != null@@ )) { run@@ Vds@@ Command(@@ VDSCommand@@ Type.@@ Dest@@ ro@@ y@@ Vm@@ , build@@ Dest@@ ro@@ y@@ Vm@@ VDSCommand@@ Parameters@@ (org.ovirt.engine.core.bll.@@ Stop@@ Vm@@ CommandBase.get@@ Vm@@ ().get@@ Migr@@ at@@ ing@@ To@@ Vds@@ ())); } setAction@@ Return@@ Value(@@ action@@ ReturnValue@@ ); }
private void init@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > b@@ utton@@ De@@ f@@ , org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ B@@ utt@@ on b@@ utt@@ on b@@ utton@@ ) { b@@ utton@@ .set@@ Text@@ (@@ b@@ utton@@ De@@ f@@ .get@@ Text@@ ()); java.lang.String b@@ utton@@ Id = b@@ utton@@ De@@ f@@ .get@@ Un@@ i@@ qu@@ e@@ Id@@ (); if (@@ b@@ utton@@ Id != null@@ ) { b@@ utton@@ .@@ as@@ Widget@@ ().get@@ Element@@ ().set@@ Id(@@ org.ovirt.engine.ui.common.@@ utils.@@ Element@@ Id@@ Utils.@@ create@@ Element@@ Id@@ (get@@ Element@@ Id(), b@@ utton@@ Id@@ )); } action@@ For@@ m@@ Group@@ .@@ remov@@ e(@@ action@@ K@@ eb@@ ab@@ ); if (@@ or@@ der < (@@ action@@ For@@ m@@ Group@@ .get@@ Widget@@ Count@@ ())) { java.util.List<@@ com.google.gwt.@@ user.@@ client.@@ ui.@@ Widget@@ > current@@ Button@@ s = new java.util.ArrayList<@@ >(); for (@@ int i = 0@@ ; i < (@@ action@@ For@@ m@@ Group@@ .get@@ Widget@@ Count@@ ()); i@@ +@@ ) { current@@ Button@@ s.add(@@ action@@ For@@ m@@ Group@@ .get@@ Widget@@ (@@ i@@ )); } action@@ For@@ m@@ Group@@ .@@ cl@@ e@@ ar@@ (); current@@ Button@@ s.add(@@ or@@ der@@ , b@@ utton@@ .@@ as@@ Widget@@ ()); current@@ Button@@ s@@ .@@ for@@ E@@ ach@@ (@@ " -@@ > action@@ For@@ m@@ Group@@ .@@ add(@@ existing@@ Button@@ ); action@@ For@@ m@@ Group@@ .@@ add(@@ action@@ K@@ eb@@ ab@@ ); } else { action@@ For@@ m@@ Group@@ .@@ add(@@ b@@ utton@@ ); action@@ For@@ m@@ Group@@ .@@ add(@@ action@@ K@@ eb@@ ab@@ ); } action@@ Item@@ Map@@ .@@ put(@@ utton@@ De@@ f@@ , b@@ utton@@ ); }
public org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ B@@ utt@@ on add@@ D@@ ro@@ p@@ do@@ wn@@ C@@ om@@ b@@ o@@ Action@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > b@@ utton@@ De@@ f@@ , java.util.List<@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ >> sub@@ Action@@ s, org.ovirt.engine.ui.common.widget.@@ action.@@ D@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ .@@ SelectedItem@@ s@@ Provider@@ <@@ T@@ > selected@@ Item@@ s@@ Provider@@ ) { org.ovirt.engine.ui.common.widget.@@ action.@@ D@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ <@@ T@@ > d@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ ; if ((@@ b@@ utton@@ De@@ f@@ .get@@ I@@ con@@ ()) instanceof org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ I@@ con@@ Type@@ ) { d@@ ro@@ p@@ do@@ wn@@ Action@@ B@@ utt@@ on = new org.ovirt.engine.ui.common.widget.@@ action.@@ D@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ (s@@ u@@ b@@ Action@@ s, selected@@ Item@@ s@@ Provider@@ , true@@ , ((@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ an@@ t@@ s.@@ I@@ con@@ Type@@ ) (@@ b@@ utton@@ De@@ f@@ .get@@ I@@ con@@ ()))); } else { d@@ ro@@ p@@ do@@ wn@@ Action@@ B@@ utt@@ on = new org.ovirt.engine.ui.common.widget.@@ action.@@ D@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ (s@@ u@@ b@@ Action@@ s, selected@@ Item@@ s@@ Provider@@ , true@@ , null@@ ); } init@@ Button@@ (@@ b@@ utton@@ De@@ f@@ , d@@ ro@@ p@@ do@@ wn@@ Action@@ B@@ utt@@ on = new org.ovirt.engine.ui.common.widget.@@ action.@@ D@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ (); return d@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ ; }
@java.lang.Override public org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ B@@ utt@@ on add@@ M@@ en@@ u@@ List@@ Item@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > m@@ en@@ u@@ Item@@ De@@ f@@ , int or@@ der@@ ) { org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ An@@ ch@@ or@@ List@@ I@@ t@@ e@@ m m@@ en@@ u@@ I@@ t@@ e@@ m = new org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ An@@ ch@@ or@@ List@@ Item@@ (@@ m@@ en@@ u@@ Item@@ De@@ f@@ .get@@ Text@@ ()); java.lang.String m@@ en@@ u@@ Item@@ Id = m@@ en@@ u@@ Item@@ De@@ f@@ .get@@ Un@@ i@@ qu@@ e@@ Id@@ (); if (@@ m@@ en@@ u@@ Item@@ Id != null@@ ) { m@@ en@@ u@@ Item@@ .@@ as@@ Widget@@ ().get@@ Element@@ ().set@@ Id(@@ org.ovirt.engine.ui.common.@@ utils.@@ Element@@ Id@@ Utils.@@ create@@ Element@@ Id@@ (get@@ Element@@ Id(), m@@ en@@ u@@ Item@@ Id@@ )); } action@@ Item@@ Map@@ .@@ put(@@ m@@ en@@ u@@ Item@@ De@@ f@@ , m@@ en@@ u@@ Item@@ ); action@@ K@@ eb@@ ab@@ .@@ add@@ M@@ en@@ u@@ Item@@ (@@ m@@ en@@ u@@ I@@ t@@ e@@ m@@ en@@ u@@ Item@@ ); return m@@ en@@ u@@ Item@@ ; }
public org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ B@@ utt@@ on add@@ Action@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > b@@ utton@@ De@@ f@@ ) { org.ovirt.engine.ui.common.widget.@@ action.@@ S@@ im@@ ple@@ Action@@ B@@ utt@@ on new@@ Action@@ B@@ utt@@ on = create@@ New@@ Action@@ Button@@ (@@ b@@ utton@@ De@@ f@@ ); init@@ Button@@ (@@ b@@ utton@@ De@@ f@@ , new@@ Action@@ B@@ utt@@ on == null ? new org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ (@@ b@@ utton@@ Action@@ Button@@ ); return new@@ Action@@ Button@@ ; }
public void add@@ M@@ en@@ u@@ Item@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ B@@ utt@@ on action@@ B@@ utt@@ on on@@ , int or@@ der@@ ) { if (@@ or@@ der > (@@ k@@ eb@@ ab@@ M@@ en@@ u@@ .get@@ Widget@@ Count@@ ())) { k@@ eb@@ ab@@ M@@ en@@ u@@ .@@ add(@@ action@@ Button@@ ); } else { k@@ eb@@ ab@@ M@@ en@@ u@@ .@@ in@@ sert@@ (@@ action@@ Button@@ .@@ as@@ Widget@@ (), or@@ der@@ ); } }
org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ B@@ utt@@ on add@@ M@@ en@@ u@@ List@@ Item@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > m@@ en@@ u@@ Item@@ De@@ f@@ , int or@@ der@@ );
public void add@@ Detail@@ P@@ l@@ ace@@ Action@@ Button@@ (@@ org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ entity@@ .@@ Entity@@ Type m@@ ain@@ Tab@@ Entity@@ Type, org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ entity@@ .@@ Entity@@ Type sub@@ Tab@@ Entity@@ Type, java.lang.String l@@ abel@@ , org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ api.@@ Action@@ Button@@ Interface action@@ Button@@ Interface@@ ) { java.lang.String h@@ ist@@ ory@@ To@@ ke@@ n = m@@ ain@@ Tab@@ Entity@@ Typ@@ e.get@@ Sub@@ Tab@@ H@@ ist@@ ory@@ To@@ k@@ en@@ (s@@ u@@ b@@ Tab@@ Entity@@ Type@@ ); if (@@ h@@ ist@@ ory@@ To@@ ke@@ n != null@@ ) { org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <?@@ > action@@ B@@ utt@@ on = create@@ Button@@ De@@ fin@@ ition@@ (@@ l@@ abel@@ , action@@ Button@@ Interface@@ ); action@@ Button@@ .set@@ P@@ ri@@ or@@ ity@@ (@@ action@@ Button@@ Interfac@@ e.get@@ P@@ ri@@ or@@ ity@@ ()); org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ p@@ resent@@ er.@@ Add@@ Action@@ Button@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , h@@ ist@@ ory@@ To@@ k@@ en@@ , action@@ B@@ utt@@ on@@ ); } }
public org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ B@@ utt@@ on add@@ D@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > b@@ utton@@ De@@ f@@ , java.util.List<@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ >> sub@@ Action@@ s, org.ovirt.engine.ui.common.widget.@@ action.@@ D@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ .@@ SelectedItem@@ s@@ Provider@@ <@@ T@@ > selected@@ Item@@ s@@ Provider@@ ) { org.ovirt.engine.ui.common.widget.@@ action.@@ D@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ <@@ T@@ > d@@ ro@@ p@@ do@@ wn@@ Action@@ B@@ utt@@ on = new org.ovirt.engine.ui.common.widget.@@ action.@@ D@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ (s@@ u@@ b@@ Action@@ s, selected@@ Item@@ s@@ Provider@@ ); init@@ Button@@ (@@ b@@ utton@@ De@@ f@@ , d@@ ro@@ p@@ do@@ wn@@ Action@@ B@@ utt@@ on@@ ds@@ , java.lang.Integ@@ er.@@ M@@ A@@ X@@ _@@ VAL@@ U@@ E@@ ); return d@@ ro@@ p@@ do@@ wn@@ Action@@ Button@@ ; }
public void add@@ Action@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > b@@ utton@@ De@@ f@@ ) { add@@ Action@@ Button@@ (@@ b@@ utton@@ De@@ f@@ , get@@ Button@@ De@@ fin@@ ition@@ ()); }
private void add@@ P@@ lu@@ gin@@ Action@@ Button@@ s(@@ java.util.List<@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <?@@ >> p@@ lu@@ gin@@ Action@@ Button@@ List@@ ) { if ((get@@ Action@@ Panel@@ P@@ res@@ enter@@ Widget@@ ()) != null@@ ) { for (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <?@@ > b@@ utton@@ De@@ f : p@@ lu@@ gin@@ Action@@ Button@@ List@@ ) { int or@@ der = 0@@ ; if ((@@ b@@ utton@@ De@@ f@@ .get@@ P@@ ri@@ or@@ ity@@ ()) > 0) { or@@ der = (@@ (@@ int@@ ) (@@ b@@ utton@@ De@@ f@@ .get@@ P@@ ri@@ or@@ ity@@ ())); } get@@ Action@@ Panel@@ P@@ res@@ enter@@ Widget@@ ().add@@ Action@@ Button@@ (((@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ ) (@@ b@@ utton@@ De@@ f@@ )@@ ))); } }
public java.lang.@@ L@@ on@@ g get@@ P@@ ri@@ or@@ ity@@ () { return get@@ Value@@ As@@ Do@@ ubl@@ e(@@ "@@ pri@@ or@@ ity@@ ", java.lang.@@ Do@@ ubl@@ e.@@ M@@ A@@ X@@ _@@ VAL@@ U@@ E); }
private void add@@ P@@ lu@@ gin@@ Action@@ Button@@ s(@@ java.util.List<@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <?@@ >> p@@ lu@@ gin@@ Action@@ Button@@ List@@ ) { if (@@ has@@ Action@@ Panel@@ P@@ res@@ enter@@ Widget@@ ()) { for (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <?@@ > b@@ utton@@ De@@ f : p@@ lu@@ gin@@ Action@@ Button@@ List@@ ) { org.ovirt.engine.ui.webadmin.@@ s@@ ection@@ .@@ m@@ ain@@ .@@ p@@ resent@@ er.@@ Abstract@@ Main@@ With@@ Detail@@ s@@ P@@ res@@ enter@@ .get@@ Action@@ Panel@@ P@@ res@@ enter@@ Widget@@ ().add@@ Action@@ Button@@ (((@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ ) (@@ b@@ utton@@ De@@ f@@ )); } }
do@@ ubl@@ e get@@ P@@ ri@@ or@@ ity@@ ();
public void add@@ M@@ en@@ u@@ P@@ l@@ ace@@ Action@@ Button@@ (@@ org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ entity@@ .@@ Entity@@ Type entity@@ Type, java.lang.String l@@ abel@@ , org.ovirt.engine.ui.webadmin.@@ p@@ lu@@ gin@@ .@@ api.@@ Action@@ Button@@ Interface action@@ Button@@ Interface@@ ) { java.lang.String h@@ ist@@ ory@@ To@@ ke@@ n = entity@@ Typ@@ e.get@@ Main@@ H@@ ist@@ ory@@ To@@ k@@ en@@ (); if (@@ h@@ ist@@ ory@@ To@@ ke@@ n != null@@ ) { org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <?@@ > action@@ B@@ utt@@ on = create@@ Button@@ De@@ fin@@ ition@@ (@@ l@@ abel@@ , action@@ Button@@ Interface@@ ); action@@ Button@@ .set@@ P@@ ri@@ or@@ ity@@ (@@ action@@ Button@@ Interfac@@ e.get@@ P@@ ri@@ or@@ ity@@ ()); org.ovirt.engine.ui.@@ c@@ ommon@@ .@@ p@@ resent@@ er.@@ Add@@ Action@@ Button@@ Ev@@ ent.@@ fi@@ re@@ (@@ this@@ , h@@ ist@@ ory@@ To@@ k@@ en@@ , action@@ B@@ utt@@ on@@ ds@@ ); } }
public void add@@ Action@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ B@@ utt@@ on action@@ Button@@ ) { not@@ if@@ ication@@ K@@ eb@@ ab@@ .@@ add@@ M@@ en@@ u@@ Item@@ (@@ action@@ B@@ utt@@ on = get@@ Button@@ (); not@@ if@@ ication@@ K@@ eb@@ ab@@ .set@@ Visi@@ bl@@ e@@ (((@@ not@@ if@@ ication@@ K@@ eb@@ ab@@ .get@@ Widget@@ Count@@ ()) > 0@@ )); }
public void add@@ M@@ en@@ u@@ List@@ Item@@ (@@ final org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > m@@ en@@ u@@ Item@@ De@@ f@@ ) { add@@ M@@ en@@ u@@ List@@ Item@@ (@@ m@@ en@@ u@@ Item@@ De@@ f@@ , org.ovirt.engine.ui.webadmin.@@ widget.@@ action.@@ W@@ eb@@ Ad@@ min@@ Button@@ De@@ fin@@ ition@@ .@@ const@@ an@@ t@@ s.@@ m@@ en@@ u@@ Item@@ P@@ l@@ ace@@ With@@ (@@ m@@ en@@ u@@ Item@@ De@@ f@@ ), true@@ ); }
org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ B@@ utt@@ on add@@ Action@@ Button@@ (@@ org.ovirt.engine.ui.common.widget.@@ action.@@ Action@@ Button@@ De@@ fin@@ ition@@ <@@ T@@ > b@@ utton@@ De@@ f@@ , int or@@ der@@ );
@org.junit.@@ B@@ e@@ for@@ e public void setUp@@ () throw@@ s org.ovirt.engine.core.common.utils.@@ ex@@ ce@@ ption@@ s.@@ In@@ itial@@ iz@@ ation@@ Exception@@ () { vm = create@@ Vm@@ (); valid@@ ator = new org.ovirt.engine.core.bll.validator.@@ Vm@@ Validator@@ (@@ vm@@ ); mock@@ Vm@@ Properties@@ Util@@ s(); when(@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ VmNetwork@@ Interface@@ Dao@@ ()).@@ then@@ Return@@ (vm@@ Network@@ Interface@@ Dao@@ ); when(@@ org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance().get@@ Vnic@@ Profile@@ Dao@@ ()).@@ thenReturn(@@ v@@ nic@@ Profile@@ Dao@@ ); }
public void set@@ Label@@ (java.lang.String l@@ abel@@ ) { this@@ .@@ l@@ ab@@ e@@ l = l@@ abel@@ ; }
@java.lang.Override protected void execute@@ Command() { org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue return@@ Valu@@ e = new org.ovirt.engine.core.common.action.@@ Action@@ ReturnValu@@ e(); final org.ovirt.engine.core.compat.Guid vds@@ Id = org.ovirt.engine.core.bll.@@ p@@ m.@@ Res@@ t@@ art@@ Vds@@ Command.get@@ Vds@@ Id@@ (); final java.lang.String s@@ ession@@ Id = org.ovirt.engine.core.bll.@@ p@@ m.@@ Res@@ t@@ art@@ Vds@@ Command.getParameters().get@@ Session@@ Id@@ (); if (@@ return@@ Valu@@ e == null@@ ) { update@@ Host@@ In@@ Fence@@ F@@ low@@ (@@ vds@@ Id, true@@ ); } if (@@ w@@ as@@ S@@ k@@ ip@@ p@@ ed@@ D@@ ue@@ To@@ Policy@@ (@@ return@@ Value@@ )) { org.ovirt.engine.core.bll.@@ p@@ m.@@ Res@@ t@@ art@@ Vds@@ Result rest@@ art@@ Vds@@ Result = new org.ovirt.engine.core.bll.@@ p@@ m@@ Res@@ t@@ art@@ Vds@@ Result@@ (); rest@@ art@@ Vds@@ Res@@ ult.@@ set@@ S@@ k@@ ip@@ p@@ ed@@ D@@ ue@@ To@@ F@@ enc@@ ing@@ Policy@@ (@@ true@@ ); setAction@@ Return@@ Value(@@ rest@@ art@@ Vds@@ Result@@ ); org.ovirt.engine.core.bll.@@ p@@ m.@@ Res@@ t@@ art@@ Vds@@ Command@@ .set@@ Succeeded@@ (@@ false@@ ); set@@ Vds@@ Status(@@ VDS@@ Status.@@ Non@@ Respon@@ si@@ ve@@ ); return@@ ; } else if (@@ return@@ Valu@@ e.get@@ Succeeded@@ ()) { execute@@ Fence@@ Vds@@ Man@@ u@@ all@@ y@@ Action@@ (@@ vds@@ Id, s@@ ession@@ Id); return@@ Valu@@ e = execute@@ Vds@@ Fence@@ Action@@ (@@ vds@@ Id, s@@ ession@@ Id, Action@@ Type.@@ Start@@ Vds@@ ); set@@ Succeeded@@ (@@ return@@ Valu@@ e.get@@ Succeeded@@ ()); } else { handl@@ e@@ Error@@ (); org.ovirt.engine.core.bll.@@ p@@ m.@@ Res@@ t@@ art@@ Vds@@ Command@@ .set@@ Succeeded@@ (@@ false@@ ); } if (!(@@ p@@ m.@@ Res@@ t@@ art@@ Vds@@ Command.get@@ Succeeded@@ ())) { log.@@ w@@ ar@@ n@@ ("@@ C@@ oul@@ d hos@@ t '{}@@ ' to '{}@@ ' vds@@ Id, VDS@@ Status.@@ Non@@ Respon@@ si@@ v@@ e.@@ nam@@ e()); set@@ Vds@@ Status(@@ VDS@@ Status.@@ Non@@ Respon@@ si@@ ve@@ ); } update@@ Host@@ In@@ Fence@@ F@@ low@@ (@@ vds@@ Id, false@@ ); }
private void al@@ er@@ t@@ Action@@ S@@ k@@ ip@@ p@@ ed@@ Al@@ read@@ y@@ In@@ Status@@ (org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Action@@ Type f@@ ence@@ Action@@ Type, org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ P@@ ower@@ Statu@@ s p@@ ower@@ Status@@ ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able a@@ uditLog@@ able = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLog@@ able@@ Impl@@ (); a@@ uditLog@@ abl@@ e.@@ add@@ Custom@@ Value("@@ Host@@ Name@@ ", f@@ enc@@ ed@@ Hos@@ t.get@@ Name()); a@@ uditLog@@ abl@@ e.@@ add@@ Custom@@ Value("@@ Agent@@ Status@@ ", p@@ ower@@ Status.@@ nam@@ e()); a@@ uditLog@@ abl@@ e.@@ add@@ Custom@@ Value("@@ Operation@@ ", f@@ ence@@ Action@@ Typ@@ e.get@@ Valu@@ e()); a@@ uditLog@@ Direct@@ or.@@ log@@ (@@ a@@ uditLog@@ able@@ , AuditLogType.@@ VDS@@ _@@ AL@@ RE@@ AD@@ Y_@@ IN@@ _@@ RE@@ Q@@ U@@ E@@ ST@@ ED_@@ ST@@ AT@@ US@@ ); }
protected org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Operation@@ Result f@@ enc@@ e(@@ org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Action@@ Type f@@ ence@@ Action@@ , java.util.List<org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Agent@@ > f@@ ence@@ Agent@@ s) { org.ovirt.engine.core.bll.@@ p@@ m.@@ P@@ ower@@ Management@@ Helper.@@ Agent@@ s@@ I@@ ter@@ ator it@@ er@@ ator = create@@ Fence@@ Agent@@ s@@ I@@ ter@@ ator@@ (@@ f@@ ence@@ Agent@@ s); org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Operation@@ Result result = null@@ ; while (@@ it@@ er@@ ator.@@ has@@ N@@ ext@@ ()) { java.util.List<org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Agent@@ > ag@@ ent@@ s = it@@ er@@ ator.@@ ne@@ xt@@ (); if (@@ f@@ ence@@ Ac@@ tion != (org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ ActionType.@@ ST@@ AT@@ US@@ )) { result = create@@ Fence@@ Action@@ Execut@@ or@@ (@@ ag@@ ent@@ s@@ ).@@ f@@ enc@@ e(@@ Fence@@ ActionType.@@ ST@@ AT@@ US@@ ); if (((@@ result.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Operation@@ Res@@ ult.@@ Status.@@ ER@@ R@@ OR@@ )) && (@@ it@@ er@@ ator.@@ has@@ N@@ ext@@ ())) { continue@@ ; } if (((@@ result.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Operation@@ Res@@ ult.@@ Status.@@ S@@ U@@ C@@ C@@ C@@ C@@ C@@ E@@ SS@@ )) && ((@@ result.get@@ P@@ ower@@ Status()) == (get@@ Request@@ ed@@ P@@ ower@@ Status(@@ f@@ ence@@ Action@@ )))) { al@@ er@@ t@@ Action@@ S@@ k@@ ip@@ p@@ ed@@ Al@@ read@@ y@@ In@@ Status(@@ f@@ ence@@ Action@@ , get@@ Request@@ ed@@ P@@ ower@@ Status(@@ f@@ ence@@ Action@@ )); return result@@ ; } result = create@@ Fence@@ Action@@ Execut@@ or@@ (@@ ag@@ ent@@ s@@ ).@@ f@@ enc@@ e(@@ f@@ ence@@ Action@@ ); if ((@@ result.get@@ Status()) == (org.ovirt.engine.core.common.businessentities.@@ p@@ m.@@ Fence@@ Operation@@ Res@@ ult.@@ Status.@@ S@@ U@@ C@@ C@@ C@@ E@@ SS@@ )) { break@@ ; } } return result@@ ; }
public static java.util.Map<java.lang.String, java.lang.@@ L@@ on@@ g@@ > i@@ o@@ T@@ u@@ ne@@ Map@@ From@@ (org.ovirt.engine.core.common.businessentities.@@ q@@ o@@ s.@@ Storage@@ Qo@@ s storage@@ Qos@@ ) { java.util.Map<java.lang.String, java.lang.@@ L@@ on@@ g@@ > i@@ o@@ T@@ u@@ ne@@ Map = new java.util.HashMap@@ <@@ >(); i@@ o@@ T@@ u@@ ne@@ Map@@ .@@ put(@@ Vds@@ Properties.@@ Read@@ By@@ t@@ es@@ Sec@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ I@@ o@@ T@@ u@@ ne@@ Utils.@@ con@@ ver@@ t@@ Th@@ rou@@ g@@ h@@ put(@@ storage@@ Qos@@ .get@@ Max@@ Read@@ Th@@ rou@@ g@@ h@@ put@@ ())); i@@ o@@ T@@ u@@ ne@@ Map@@ .@@ put(@@ Vds@@ Properties.@@ Read@@ I@@ op@@ s@@ Sec@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ I@@ o@@ T@@ u@@ ne@@ Utils.@@ con@@ ver@@ t@@ I@@ op@@ s(@@ storage@@ Qos@@ .get@@ Max@@ Read@@ I@@ op@@ s@@ ())); i@@ o@@ T@@ u@@ ne@@ Map@@ .@@ put(@@ Vds@@ Properties@@ .@@ put(@@ Vds@@ Properties.@@ T@@ otal@@ By@@ t@@ es@@ Sec@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ I@@ o@@ T@@ u@@ ne@@ Utils.@@ con@@ ver@@ t@@ Th@@ rou@@ g@@ h@@ put(@@ storage@@ Qos@@ .get@@ Max@@ Th@@ rou@@ g@@ h@@ put@@ ())); i@@ o@@ T@@ u@@ ne@@ Map@@ .@@ put(@@ Vds@@ Properties.@@ T@@ otal@@ I@@ op@@ s@@ Sec@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ I@@ o@@ T@@ u@@ ne@@ Utils.@@ con@@ ver@@ t@@ I@@ op@@ s(@@ storage@@ Qos@@ .get@@ Max@@ I@@ op@@ s@@ ())); i@@ o@@ T@@ u@@ ne@@ Map@@ .@@ put(@@ Vds@@ Properties.@@ W@@ rit@@ e@@ By@@ t@@ es@@ Se@@ c@@ , org.ovirt.engine.core.vdsbroker.vdsbroker.@@ I@@ o@@ T@@ u@@ ne@@ Utils.@@ con@@ ver@@ t@@ Th@@ rou@@ g@@ h@@ put(@@ storage@@ Qos@@ .get@@ Max@@ W@@ rit@@ e@@ Th@@ rou@@ g@@ h@@ put@@ ())); i@@ o@@ T@@ u@@ ne@@ Map@@ .@@ put(@@ Vds@@ Properties.@@ W@@ rit@@ e@@ I@@ op@@ s@@ Se@@ c@@ if@@ if@@ Utils.@@ con@@ ver@@ t@@ I@@ op@@ s(@@ storage@@ Qos@@ .get@@ Max@@ W@@ rit@@ e@@ I@@ op@@ s@@ ())); return i@@ o@@ T@@ u@@ ne@@ Map@@ ; }
java.lang.String T@@ EM@@ PL@@ AT@@ E_@@ IM@@ AGE_@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ S@@ ();
protected boolean check@@ If@@ N@@ e@@ ed@@ To@@ Be@@ O@@ verrid@@ e() { if ((((@@ is@@ Templat@@ e()) && (is@@ Copy@@ Operation@@ ())) && (!@@ (org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.getParameters().get@@ For@@ ce@@ O@@ verrid@@ e()@@ ))) && (get@@ Image@@ ().get@@ Storage@@ Id@@ s().@@ contains(@@ org.ovirt.engine.core.bll.storage.@@ disk@@ .@@ Move@@ Or@@ Copy@@ Disk@@ Command.get@@ StorageDomain@@ ().get@@ Id@@ ()))) { return fail@@ Validation@@ (EngineMessage.ACTION_TYPE_FAILED_@@ T@@ EM@@ PL@@ AT@@ E_@@ IM@@ AGE_@@ AL@@ RE@@ AD@@ Y_@@ EXIST@@ S@@ ); } return true@@ ; }
public java.lang.@@ B@@ oolean call@@ () throw@@ s java.lang.Exception { _@@ de@@ pl@@ o@@ y@@ .get@@ Par@@ ser@@ ().@@ cli@@ En@@ vi@@ ron@@ ment@@ Set@@ (@@ Vds@@ m@@ En@@ v@@ .@@ EN@@ G@@ IN@@ E_@@ HOST@@ _C@@ LUSTER_@@ V@@ ER@@ SI@@ ON@@ , cluster@@ Version@@ .get@@ Valu@@ e()); return true@@ ; }
public boolean is@@ Search@@ Us@@ ing@@ Tag@@ s() { return ((@@ or@@ ig@@ T@@ ext.@@ contains(@@ "@@ t@@ ag@@ "@@ )) || (get@@ C@@ ro@@ s@@ Re@@ f@@ O@@ bj@@ List@@ ().@@ contains(@@ Search@@ Object@@ s.@@ VD@@ C@@ _@@ STORAGE_@@ P@@ O@@ OL@@ _@@ O@@ B@@ J@@ _@@ NAM@@ E@@ ))) || (get@@ C@@ ro@@ s@@ Re@@ f@@ O@@ bj@@ List@@ ().@@ contains(@@ Search@@ Object@@ s.@@ VD@@ C@@ _@@ STORAGE_DOMAIN@@ _@@ O@@ B@@ J@@ _@@ NAM@@ E@@ )); }
public java.lang.String get@@ Cpu@@ Name@@ By@@ Cpu@@ Id(@@ java.lang.String name@@ , org.ovirt.engine.core.compat.@@ Vers@@ ion ver@@ ) { final org.ovirt.engine.core.bll.@@ Cpu@@ F@@ l@@ ag@@ s@@ Manager@@ Handler.@@ Cpu@@ F@@ l@@ ag@@ s@@ Manage@@ r cpu@@ F@@ l@@ ag@@ s@@ Manage@@ r = org.ovirt.engine.core.bll.@@ Cpu@@ F@@ l@@ ag@@ s@@ Manager@@ Handler.@@ man@@ ag@@ ers@@ D@@ ic@@ tion@@ ar@@ y@@ .get(@@ ver@@ ); java.lang.String@@ Buil@@ der cpu@@ F@@ l@@ ag@@ s@@ Manage@@ r = new java.lang.String@@ Builder@@ (); if (@@ org.apache.commons.lang.StringUtils.@@ is@@ Not@@ Empty@@ (c@@ pu@@ Name@@ )) { return cpu@@ Name@@ ; } return cpu@@ F@@ l@@ ag@@ s@@ Manage@@ r != null ? cpu@@ F@@ l@@ ag@@ s@@ Manager@@ .get@@ Cpu@@ Name@@ By@@ Cpu@@ Id@@ ((@@ nam@@ e + "@@ ,@@ +@@ sp@@ ec@@ -@@ c@@ tr@@ l@@ "@@ )) : null@@ ; }
private java.lang.String gener@@ ate@@ Domain@@ X@@ ml@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic n@@ ic = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ ot@@ Plug@@ Or@@ Un@@ p@@ lug@@ Nic@@ VDS@@ Command.getParameters().get@@ Nic@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e vm@@ Devic@@ e = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ ot@@ Plug@@ Or@@ Un@@ p@@ lug@@ Nic@@ VDS@@ Command.getParameters().get@@ Vm@@ Devic@@ e(); org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der build@@ er = new org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Builder@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ ot@@ Plug@@ Or@@ Un@@ p@@ lug@@ Nic@@ VDS@@ Command.getParameters().get@@ Vm@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ ot@@ Plug@@ Or@@ Un@@ p@@ lug@@ Nic@@ VDS@@ Command.get@@ Vds@@ ().get@@ Id(), nic@@ , vm@@ Device@@ , vm@@ Info@@ Buil@@ d@@ Util@@ s, (@@ nic@@ .is@@ P@@ as@@ st@@ h@@ rou@@ g@@ h@@ () ? org.ovirt.engine.core.vdsbroker.@@ Vds@@ Update@@ Run@@ Time@@ Info@@ .@@ Collection@@ s.@@ sing@@ leton@@ Map@@ (@@ nic@@ .get@@ Id(), vm@@ Devic@@ e.get@@ Host@@ Devic@@ e()) : org.ovirt.engine.core.vdsbroker.@@ Vds@@ Update@@ Run@@ Time@@ Info@@ .@@ Collection@@ s.@@ em@@ pty@@ Map@@ ())); java.lang.String l@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l = buil@@ der.@@ build@@ H@@ ot@@ p@@ lug@@ Nic@@ (); java.lang.String p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l = org.ovirt.engine.core.utils.@@ X@@ ml@@ Utils.@@ p@@ ret@@ t@@ if@@ y@@ (@@ l@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ); if (p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l != null@@ ) { log.@@ info@@ ("@@ H@@ ot@@ -@@ set@@ : {}@@ ", p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ); } return l@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ; }
@org.junit.Test public void search@@ Us@@ ing@@ Tag@@ s() { java.lang.String@@ [@@ ] search@@ Text@@ s = new java.lang.String@@ []{ type@@ =@@ us@@ er and vm@@ .@@ id@@ =@@ 1@@ 2@@ 3@@ 4@@ 5@@ 6@@ 7@@ 8@@ -@@ 1@@ 2@@ 3@@ 4@@ -@@ 1@@ 2@@ 3@@ 4@@ -@@ 1@@ 2@@ 3@@ 4@@ -@@ 1@@ 2@@ 3@@ 4@@ -@@ 1@@ 2@@ 3@@ 4@@ 5@@ 6@@ 7@@ 8@@ 9@@ 0@@ 1@@ 2 type@@ =@@ us@@ er and t@@ a@@ g = fo@@ o t@@ ag@@ =@@ fo@@ o }; for (java.lang.String search@@ T@@ ex@@ t : search@@ Text@@ s) { assert@@ Tr@@ ue@@ (@@ new org.ovirt.engine.core.@@ search@@ back@@ end@@ .S@@ yn@@ t@@ a@@ x@@ Check@@ er@@ ().@@ an@@ al@@ y@@ z@@ e@@ S@@ yn@@ t@@ a@@ x@@ Stat@@ e(@@ search@@ Text@@ , false@@ ).@@ is@@ Search@@ Us@@ ing@@ Tag@@ s()); }
@org.junit.Test public void search@@ Not@@ Us@@ ing@@ Tag@@ s() { java.lang.String@@ [@@ ] search@@ Text@@ s = new java.lang.String@@ [@@ Us@@ ers@@ :@@ ", type@@ =@@ us@@ er type@@ =@@ g@@ uid@@ ", "@@ Host@@ s@@ :@@ ", "@@ Vms@@ :@@ ", "@@ Dat@@ ac@@ ent@@ ers@@ :@@ ", "@@ C@@ lust@@ ers@@ :@@ " }; for (java.lang.String search@@ T@@ ex@@ t : search@@ Text@@ s) { assert@@ Fal@@ se@@ (@@ new org.ovirt.engine.core.@@ search@@ back@@ end@@ .S@@ yn@@ t@@ a@@ x@@ Check@@ er@@ ().@@ an@@ al@@ y@@ z@@ e@@ S@@ yn@@ t@@ a@@ x@@ Stat@@ e(@@ search@@ Text@@ , false@@ ).@@ is@@ Search@@ Us@@ ing@@ Tag@@ s()); } }
private java.lang.Integ@@ er d@@ es@@ er@@ ial@@ ize@@ Value(@@ java.util.Map<java.lang.String, java.lang.Object> e@@ n@@ try@@ , java.lang.String c@@ ur@@ ve@@ Key@@ , java.util.Map<java.lang.String, java.lang.Object> con@@ version@@ R@@ ate@@ ) { java.util.Map<java.lang.String, java.lang.Object@@ >> parameter@@ s = ((@@ java.util.Map<java.lang.String, java.lang.Object@@ >) (@@ e@@ n@@ try@@ .get@@ (c@@ ur@@ ve@@ Key@@ ))); if (@@ parameter@@ s == null@@ ) { return null@@ ; } java.util.Map<java.lang.String, java.lang.Object> con@@ version@@ R@@ at@@ e = new java.util.HashMap@@ <java.lang.String, java.lang.Object@@ >(); for (@@ java.util.Map@@ .@@ E@@ n@@ try@@ <java.lang.String, java.util.Map<java.lang.String, java.lang.Object@@ >> e@@ n@@ try : e@@ n@@ try@@ Set@@ ()) { e@@ n@@ try@@ .get@@ Key@@ ()); if (@@ e@@ n@@ try@@ .get@@ Key@@ ()) { return e@@ n@@ try@@ .get@@ Key@@ (); } return a@@ ver@@ age == null ? null : (@@ int@@ ) (@@ a@@ ver@@ age / con@@ version@@ R@@ at@@ e.get@@ Valu@@ e()); }
public java.lang.String build@@ H@@ ot@@ p@@ lug@@ Disk@@ () { w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ D@@ oc@@ um@@ ent@@ (@@ false@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ h@@ ot@@ p@@ lug@@ "); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ devi@@ c@@ es@@ "); org.ovirt.engine.core.common.businessentities.storage.@@ Disk@@ Vm@@ El@@ em@@ ent d@@ v@@ e = disk@@ .get@@ Disk@@ Vm@@ Element@@ For@@ Vm@@ (vm@@ .getId()); java.lang.String de@@ v = vm@@ Info@@ Buil@@ d@@ Utils.@@ ma@@ ke@@ Disk@@ Name(@@ d@@ v@@ e.get@@ Disk@@ Interfac@@ e().get@@ Name(), 0@@ ); w@@ rit@@ e@@ Disk@@ (@@ devi@@ ce@@ , disk@@ , d@@ ve@@ , de@@ v@@ , 0@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ ("@@ m@@ et@@ ad@@ ata@@ "); w@@ rit@@ er.@@ set@@ Pre@@ fi@@ x@@ (@@ org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ OV@@ I@@ R@@ T_@@ VM_@@ P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ OV@@ I@@ R@@ T_@@ VM_@@ UR@@ I@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ Names@@ p@@ ac@@ e(@@ org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ OV@@ I@@ R@@ T_@@ VM_@@ P@@ RE@@ FI@@ X@@ , org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ OV@@ I@@ R@@ T_@@ VM_@@ UR@@ I@@ ); w@@ rit@@ er.@@ w@@ rit@@ e@@ Start@@ Element@@ (@@ org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der.@@ VM_@@ UR@@ I@@ R@@ T_@@ VM_@@ UR@@ I@@ , "@@ vm@@ "); w@@ rit@@ e@@ Disk@@ Met@@ ad@@ ata@@ (); w@@ rit@@ er.@@ w@@ rit@@ e@@ En@@ d@@ Element@@ (); return w@@ rit@@ er@@ .get@@ String@@ String@@ (); }
java.lang.String h@@ id@@ e@@ V@@ f@@ Label@@ ();
public void t@@ og@@ g@@ le@@ View@@ () { if (is@@ Default@@ ) { set@@ Text@@ (s@@ ec@@ ond@@ Text@@ ); set@@ I@@ con@@ (s@@ ec@@ ond@@ I@@ con@@ ); } else { set@@ Text@@ (@@ default@@ Text@@ ); set@@ I@@ con@@ (@@ default@@ I@@ con@@ ); } is@@ De@@ fa@@ ult = !@@ (is@@ Default@@ ); }
@java.lang.Override public void set@@ I@@ con@@ (@@ org.@@ gwt@@ b@@ oot@@ str@@ ap@@ 3@@ .client.@@ ui@@ .@@ const@@ an@@ t@@ s.@@ I@@ con@@ Type ic@@ on@@ ) { if (@@ ic@@ on != null@@ ) { super@@ .set@@ I@@ con@@ (@@ ic@@ on@@ ); } }
public abstract void handl@@ e@@ On@@ Cl@@ ick@@ (c@@ om@@ .google.gwt.@@ event@@ .@@ do@@ m@@ .client.@@ Cl@@ ick@@ Event event@@ , boolean is@@ Default@@ );
private int get@@ W@@ arning@@ L@@ ow@@ Confirm@@ ed@@ Space@@ In@@ d@@ ic@@ ator@@ Value(@@ ) { if (is@@ New@@ Storage@@ ()) { return ((@@ java.lang.Integer@@ ) (@@ org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncData@@ Provider@@ .getInstance().get@@ Config@@ Value@@ Pre@@ Convert@@ ed(@@ ConfigValues.@@ W@@ arning@@ L@@ ow@@ Space@@ In@@ d@@ ic@@ ator@@ ))); } return get@@ Storage@@ ().get@@ Storage@@ StaticData@@ ().get@@ W@@ arning@@ L@@ ow@@ Confirm@@ ed@@ Space@@ In@@ d@@ ic@@ ator@@ (); }
@java.lang.Override protected java.lang.String gener@@ ate@@ Domain@@ X@@ ml@@ () { org.ovirt.engine.core.common.businessentities.network.@@ Vm@@ N@@ ic n@@ ic = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Nic@@ VDS@@ Command.getParameters().get@@ Nic@@ (); org.ovirt.engine.core.common.businessentities.Vm@@ Devic@@ e vm@@ Devic@@ e = org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Nic@@ VDS@@ Command.getParameters().get@@ Vm@@ Devic@@ e(); org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Buil@@ der build@@ er = new org.ovirt.engine.core.vdsbroker.@@ buil@@ der.@@ vm@@ info@@ .@@ L@@ i@@ b@@ vi@@ r@@ t@@ Vm@@ X@@ ml@@ Builder@@ (@@ org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Nic@@ VDS@@ Command.getParameters().get@@ Vm@@ (), org.ovirt.engine.core.vdsbroker.vdsbroker.@@ H@@ ot@@ Un@@ p@@ lug@@ Nic@@ VDS@@ Command.get@@ Vds@@ ().get@@ Id(), nic@@ , vm@@ Device@@ , vm@@ Info@@ Buil@@ d@@ Util@@ s, java.util.Collections.@@ em@@ pty@@ Map@@ ()); java.lang.String l@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l = buil@@ der.@@ build@@ H@@ ot@@ un@@ p@@ lug@@ Nic@@ (); java.lang.String p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l = org.ovirt.engine.core.utils.@@ X@@ ml@@ Utils.@@ p@@ t@@ if@@ y@@ (@@ l@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ); if (p@@ ret@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ m@@ l != null@@ ) { log.@@ info@@ ("@@ N@@ I@@ C h@@ ot@@ -@@ un@@ p@@ lug@@ : {}@@ ", p@@ ty@@ L@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ); } return l@@ i@@ b@@ vi@@ r@@ t@@ X@@ ml@@ ; }
@java.lang.Override public boolean p@@ er@@ for@@ m@@ N@@ ext@@ Operation@@ (@@ int comp@@ let@@ ed@@ Ch@@ il@@ d@@ Count@@ ) { if ((@@ org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.getParameters().get@@ N@@ ext@@ St@@ ep@@ ()) == null@@ ) { return false@@ ; } switch (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.getParameters().get@@ N@@ ext@@ St@@ ep@@ ()) { case G@@ E@@ O@@ _@@ RE@@ P : org.ovirt.engine.core.common.action.@@ gluster.GlusterVolume@@ GeoRep@@ Session@@ Parameters parameter@@ s = new org.ovirt.engine.core.common.action.@@ gluster.GlusterVolume@@ GeoRep@@ Session@@ Parameters@@ (get@@ Session@@ ().get@@ Ma@@ ster@@ Volume@@ Id(), get@@ Session@@ ().get@@ Id()); parameters.set@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e(@@ En@@ d@@ Pro@@ c@@ ed@@ ur@@ e.@@ C@@ O@@ M@@ AN@@ D@@ _M@@ AN@@ AG@@ ED); parameters.set@@ Parent@@ Command@@ (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.get@@ Action@@ Typ@@ e()); parameters.set@@ Parent@@ Parameters@@ (org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.get@@ Parameters@@ ()); org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.get@@ Parameters@@ ().set@@ N@@ ext@@ St@@ ep@@ (@@ D@@ R@@ St@@ ep@@ .@@ RE@@ M@@ OV@@ E_@@ T@@ M@@ P@@ _@@ S@@ NA@@ P@@ S@@ HO@@ T@@ S@@ HO@@ T@@ S@@ ); org.ovirt.engine.core.common.action.@@ Action@@ ReturnValue v@@ dc@@ R@@ et@@ Valu@@ e = run@@ Internal@@ Action@@ With@@ Task@@ s@@ Context@@ (@@ ActionType.@@ Gluster@@ Storage@@ GeoRep@@ Sync@@ Internal@@ , parameters@@ ); if (!(@@ v@@ dc@@ R@@ et@@ Valu@@ e.get@@ Succeeded@@ ())) { end@@ With@@ Failur@@ e(); } org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.@@ p@@ ers@@ ist@@ Command@@ If@@ N@@ e@@ ed@@ (); break@@ ; case RE@@ M@@ OV@@ E_@@ T@@ M@@ P@@ _@@ S@@ NA@@ P@@ S@@ HO@@ T@@ S : remove@@ D@@ R@@ Snapshot@@ s(); org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.get@@ Parameters@@ ().set@@ N@@ ext@@ St@@ ep@@ (@@ null@@ ); org.ovirt.engine.core.bll.storage.@@ d@@ r@@ .@@ Gluster@@ Storage@@ Sync@@ Command.@@ p@@ ers@@ ist@@ Command@@ If@@ N@@ e@@ ed@@ (); break@@ ; } return true@@ ; }
